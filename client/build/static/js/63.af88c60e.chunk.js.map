{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/layers/support/SceneModification.js","../node_modules/@arcgis/core/layers/support/SceneModifications.js","../node_modules/@arcgis/core/layers/IntegratedMeshLayer.js"],"names":["s","arguments","nodesPerPage","rootIndex","lodSelectionMetricType","p","e","t","type","Number","prototype","String","r","i","factor","json","read","source","l","baseColorFactor","baseColorTexture","metallicRoughnessTexture","metallicFactor","roughnessFactor","a","alphaMode","alphaCutoff","doubleSided","cullFace","normalTexture","occlusionTexture","emissiveTexture","emissiveFactor","pbrMetallicRoughness","o","opaque","mask","blend","Boolean","none","back","front","n","reader","index","jpg","png","dds","u","atlas","y","Float32","UInt64","UInt32","UInt16","UInt8","c","draco","d","offset","m","triangle","g","origins","j","url","write","writer","resources","verifyItemRelativeUrls","writtenUrls","rootPath","I","this","origin","originIdOf","portalItem","resourceFromPath","U","f","path","w","toUpdate","v","toKeep","push","resource","h","pendingOperations","responseType","data","then","itemRelativeUrl","toAdd","content","finish","Blob","JSON","stringify","toJSON","geometry","layer","spatialReference","equals","messages","modification","context","nonNullable","toArray","map","filter","items","clone","add","fromJSON","_readModifications","signal","ofType","x","handles","geometryType","operationalLayerType","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","serviceUpdateTimeStamp","profile","modifications","_modificationsSource","elevationInfo","destroy","addResolvingPromise","_doLoad","loadFromPortal","supportedTypes","_fetchService","_","fromUrl","setAtOrigin","_verifyRootNodeAndUpdateExtent","load","_debouncedSaveOperations","getTypeKeywords","_getTypeKeywords","portalItemLayerType","layerType","isNaN","version","major","minor","serviceVersion","versionString","supportedVersions","L","readOnly","S","T","prefix","O"],"mappings":"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","file":"static/js/63.af88c60e.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{enumeration as o}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as p}from\"../../core/JSONSupport.js\";let s=class extends p{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};e([t({type:Number})],s.prototype,\"nodesPerPage\",void 0),e([t({type:Number})],s.prototype,\"rootIndex\",void 0),e([t({type:String})],s.prototype,\"lodSelectionMetricType\",void 0),s=e([r(\"esri.layer.support.I3SNodePageDefinition\")],s);let i=class extends p{constructor(){super(...arguments),this.factor=1}};e([t({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],i.prototype,\"id\",void 0),e([t({type:Number})],i.prototype,\"factor\",void 0),i=e([r(\"esri.layer.support.I3SMaterialTexture\")],i);let l=class extends p{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};e([t({type:[Number]})],l.prototype,\"baseColorFactor\",void 0),e([t({type:i})],l.prototype,\"baseColorTexture\",void 0),e([t({type:i})],l.prototype,\"metallicRoughnessTexture\",void 0),e([t({type:Number})],l.prototype,\"metallicFactor\",void 0),e([t({type:Number})],l.prototype,\"roughnessFactor\",void 0),l=e([r(\"esri.layer.support.I3SMaterialPBRMetallicRoughness\")],l);let a=class extends p{constructor(){super(...arguments),this.alphaMode=\"opaque\",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace=\"none\",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};e([o({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],a.prototype,\"alphaMode\",void 0),e([t({type:Number})],a.prototype,\"alphaCutoff\",void 0),e([t({type:Boolean})],a.prototype,\"doubleSided\",void 0),e([o({none:\"none\",back:\"back\",front:\"front\"})],a.prototype,\"cullFace\",void 0),e([t({type:i})],a.prototype,\"normalTexture\",void 0),e([t({type:i})],a.prototype,\"occlusionTexture\",void 0),e([t({type:i})],a.prototype,\"emissiveTexture\",void 0),e([t({type:[Number]})],a.prototype,\"emissiveFactor\",void 0),e([t({type:l})],a.prototype,\"pbrMetallicRoughness\",void 0),a=e([r(\"esri.layer.support.I3SMaterialDefinition\")],a);let n=class extends p{};e([t({type:String,json:{read:{source:[\"name\",\"index\"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],n.prototype,\"name\",void 0),e([o({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\"})],n.prototype,\"format\",void 0),n=e([r(\"esri.layer.support.I3STextureFormat\")],n);let u=class extends p{constructor(){super(...arguments),this.atlas=!1}};e([t({type:[n]})],u.prototype,\"formats\",void 0),e([t({type:Boolean})],u.prototype,\"atlas\",void 0),u=e([r(\"esri.layer.support.I3STextureSetDefinition\")],u);let y=class extends p{};e([o({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],y.prototype,\"type\",void 0),e([t({type:Number})],y.prototype,\"component\",void 0),y=e([r(\"esri.layer.support.I3SGeometryAttribute\")],y);let c=class extends p{};e([o({draco:\"draco\"})],c.prototype,\"encoding\",void 0),e([t({type:[String]})],c.prototype,\"attributes\",void 0),c=e([r(\"esri.layer.support.I3SGeometryCompressedAttributes\")],c);let d=class extends p{constructor(){super(...arguments),this.offset=0}};e([t({type:Number})],d.prototype,\"offset\",void 0),e([t({type:y})],d.prototype,\"position\",void 0),e([t({type:y})],d.prototype,\"normal\",void 0),e([t({type:y})],d.prototype,\"uv0\",void 0),e([t({type:y})],d.prototype,\"color\",void 0),e([t({type:y})],d.prototype,\"uvRegion\",void 0),e([t({type:y})],d.prototype,\"featureId\",void 0),e([t({type:y})],d.prototype,\"faceRange\",void 0),e([t({type:c})],d.prototype,\"compressedAttributes\",void 0),d=e([r(\"esri.layer.support.I3SGeometryBuffer\")],d);let m=class extends p{};e([o({triangle:\"triangle\"})],m.prototype,\"topology\",void 0),e([t()],m.prototype,\"geometryBuffers\",void 0),m=e([r(\"esri.layer.support.I3SGeometryDefinition\")],m);export{y as I3SGeometryAttribute,d as I3SGeometryBuffer,c as I3SGeometryCompressedAttributes,m as I3SGeometryDefinition,a as I3SMaterialDefinition,l as I3SMaterialPBRMetallicRoughness,i as I3SMaterialTexture,s as I3SNodePageDefinition,n as I3STextureFormat,u as I3STextureSetDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{getOwnPropertyMetadata as o}from\"../metadata.js\";import{propertyJSONMeta as i}from\"./property.js\";import{isMultiOriginJSONMixin as n}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as s,isBlobProtocol as u,join as p,getPathExtension as a}from\"../../urlUtils.js\";import{generateUUID as c}from\"../../uuid.js\";import{nameToId as l}from\"../PropertyOrigin.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(e){const p=t(e)&&e.origins?e.origins:[void 0];return(c,g)=>{const j=function(e,i,p){if(t(e)&&\"resource\"===e.type)return function(e,i,p){const c=o(i,p);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return c.type===String?o:\"function\"==typeof c.type?new c.type({url:o}):void 0},write:{writer(o,i,m,d){if(!d||!d.resources)return\"string\"==typeof o?void(i[m]=y(o,d)):void(i[m]=o.write({},d));const g=function(t){if(r(t))return null;if(\"string\"==typeof t)return t;return t.url}(o),j=g?y(g,{...d,verifyItemRelativeUrls:d&&d.verifyItemRelativeUrls?{writtenUrls:d.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null}):null,I=c.type!==String&&(!n(this)||d&&d.origin&&this.originIdOf(p)>l(d.origin));d&&d.portalItem&&t(j)&&!s(j)?I?function(t,r,e,o,i,n,s,u){const p=s.portalItem.resourceFromPath(o),c=U(e,o,s),l=f(c),m=a(p.path);if(l!==m)return void v(t,r,e,o,i,n,s,u);w(t,r,p,c,s.resources.toUpdate),i[n]=o}(this,p,o,j,i,m,d,e):function(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}(j,i,m,d):d&&d.portalItem&&(r(j)||t(h(j))||u(j)||I)?v(this,p,o,j,i,m,d,e):i[m]=j}}}}(e,i,p);switch(t(e)&&e.type?e.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}(e,c,g);for(const t of p){const r=i(c,t,g);for(const t in j)r[t]=j[t]}}}function v(t,r,o,i,n,s,a,l){const m=c(),y=U(o,i,a),h=p(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=a.portalItem.resourceFromPath(d);u(i)&&a.resources.pendingOperations.push(async function(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}(i).then((t=>{g.path=`${h}.${f(t)}`,n[s]=g.itemRelativeUrl})).catch((()=>{}))),w(t,r,g,y,a.resources.toAdd),n[s]=g.itemRelativeUrl}function w(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{!function(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}(t,r,e)}})}function U(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{clone as r}from\"../../core/lang.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import t from\"../../core/Warning.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import{persistable as i}from\"../../core/accessorSupport/decorators/persistable.js\";import{JSONSupport as a}from\"../../core/JSONSupport.js\";import c from\"../../geometry/Polygon.js\";import\"../../geometry.js\";import{canProjectWithoutEngine as m,projectPolygon as n}from\"../../geometry/projection.js\";var l;let y=l=class extends a{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,r,o,s){if(s.layer&&s.layer.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!m(e.spatialReference,s.layer.spatialReference))return void(s&&s.messages&&s.messages.push(new t(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new c;n(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s);delete r[o].spatialReference}clone(){return new l({geometry:r(this.geometry),type:this.type})}};e([o({type:c}),i()],y.prototype,\"geometry\",void 0),e([p([\"web-scene\",\"portal-item\"],\"geometry\")],y.prototype,\"writeGeometry\",null),e([o({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),i()],y.prototype,\"type\",void 0),y=l=e([s(\"esri.layers.support.SceneModification\")],y);var f=y;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as o}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import{urlToObject as s}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupportMixin as i}from\"../../core/JSONSupport.js\";import c from\"../../core/Collection.js\";import p from\"../../request.js\";import a from\"./SceneModification.js\";var m;let n=m=class extends(i(c.ofType(a))){constructor(r){super(r),this.url=null}toJSON(r){return this.toArray().map((o=>o.toJSON(r))).filter((r=>!!r.geometry))}clone(){return new m({url:this.url,items:this.items.map((r=>r.clone()))})}_readModifications(r,o){for(const t of r)this.add(a.fromJSON(t,o))}static fromJSON(r,o){const t=new m;return t._readModifications(r,o),t}static async fromUrl(r,t,e){const i={url:s(r),origin:\"service\"},c=await p(r,{responseType:\"json\",signal:o(e,\"signal\")}),n=t.toJSON(),u=[];for(const r of c.data)u.push(a.fromJSON({...r,geometry:{...r.geometry,spatialReference:n}},i));return new m({url:r,items:u})}};r([t({type:String})],n.prototype,\"url\",void 0),n=m=r([e(\"esri.layers.support.SceneModifications\")],n);var u=n;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{get as t,isSome as o,isNone as r}from\"../core/maybe.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import{reader as s}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"../core/Error.js\";import{f as p}from\"../chunks/persistableUrlUtils.js\";import{persistable as d}from\"../core/accessorSupport/decorators/persistable.js\";import y from\"../core/Handles.js\";import c from\"./Layer.js\";import{MultiOriginJSONMixin as m}from\"../core/MultiOriginJSONSupport.js\";import{on as l}from\"../core/watchUtils.js\";import{elevationInfo as h}from\"./support/commonProperties.js\";import{OperationalLayer as f}from\"./mixins/OperationalLayer.js\";import{ArcGISService as u}from\"./mixins/ArcGISService.js\";import{PortalLayer as v}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as g}from\"./mixins/ScaleRangeLayer.js\";import{I3SNodePageDefinition as S,I3SMaterialDefinition as j,I3STextureSetDefinition as w,I3SGeometryDefinition as T}from\"./support/I3SLayerDefinitions.js\";import{SceneService as L}from\"./mixins/SceneService.js\";import _ from\"./support/SceneModifications.js\";let x=class extends(L(u(f(v(g(m(c))))))){constructor(...e){super(...e),this.handles=new y,this.geometryType=\"mesh\",this.operationalLayerType=\"IntegratedMeshLayer\",this.type=\"integrated-mesh\",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile=\"mesh-pyramids\",this.modifications=null,this._modificationsSource=null,this.elevationInfo=null,this.path=null}destroy(){this.handles.destroy()}initialize(){this.handles.add(l(this,\"modifications\",\"after-changes\",(()=>this.modifications=this.modifications),null,null,!0))}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}readModifications(e,t,o){this._modificationsSource={url:p(e,o),context:o}}async load(e){return this.addResolvingPromise(this._doLoad(e)),this}async _doLoad(e){const r=t(e,\"signal\");try{await this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e)}catch(e){}if(await this._fetchService(r),o(this._modificationsSource)){const t=await _.fromUrl(this._modificationsSource.url,this.spatialReference,e);this.setAtOrigin(\"modifications\",t,this._modificationsSource.context.origin),this._modificationsSource=null}await this._verifyRootNodeAndUpdateExtent(this.nodePages,r)}beforeSave(){if(!r(this._modificationsSource))return this.load().then((()=>{}),(()=>{}))}async saveAs(e,t){return this._debouncedSaveOperations(1,{...t,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"integrated-mesh\"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"integrated-mesh\"};return this._debouncedSaveOperations(0,e)}validateLayer(e){if(e.layerType&&\"IntegratedMesh\"!==e.layerType)throw new n(\"integrated-mesh-layer:layer-type-not-supported\",\"IntegratedMeshLayer does not support this layer type\",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new n(\"layer:service-version-not-supported\",\"Service version is not supported.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x\"});if(this.version.major>1)throw new n(\"layer:service-version-too-new\",\"Service version is too new.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x\"})}_getTypeKeywords(){return[\"IntegratedMeshLayer\"]}};e([i({type:String,readOnly:!0})],x.prototype,\"geometryType\",void 0),e([i({type:[\"show\",\"hide\"]})],x.prototype,\"listMode\",void 0),e([i({type:[\"IntegratedMeshLayer\"]})],x.prototype,\"operationalLayerType\",void 0),e([i({json:{read:!1},readOnly:!0})],x.prototype,\"type\",void 0),e([i({type:S,readOnly:!0})],x.prototype,\"nodePages\",void 0),e([i({type:[j],readOnly:!0})],x.prototype,\"materialDefinitions\",void 0),e([i({type:[w],readOnly:!0})],x.prototype,\"textureSetDefinitions\",void 0),e([i({type:[T],readOnly:!0})],x.prototype,\"geometryDefinitions\",void 0),e([i({readOnly:!0})],x.prototype,\"serviceUpdateTimeStamp\",void 0),e([i({type:_}),d({origins:[\"web-scene\",\"portal-item\"],type:\"resource\",prefix:\"modifications\"})],x.prototype,\"modifications\",void 0),e([s([\"web-scene\",\"portal-item\"],\"modifications\")],x.prototype,\"readModifications\",null),e([i(h)],x.prototype,\"elevationInfo\",void 0),e([i({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0},\"portal-item\":{read:!0,write:!0}},read:!1}})],x.prototype,\"path\",void 0),x=e([a(\"esri.layers.IntegratedMeshLayer\")],x);var O=x;export default O;\n"],"sourceRoot":""}