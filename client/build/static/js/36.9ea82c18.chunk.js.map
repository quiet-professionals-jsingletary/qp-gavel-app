{"version":3,"sources":["../node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js","../node_modules/@arcgis/core/views/draw/support/GraphicMover.js","../node_modules/@arcgis/core/views/draw/support/settings.js","../node_modules/@arcgis/core/geometry/support/rotate.js","../node_modules/@arcgis/core/views/draw/support/Box.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js"],"names":["t","i","s","h","e","this","graphic","index","x","y","viewEvent","type","r","c","a","n","p","allGraphics","dx","dy","totalDx","totalDy","defaultPrevented","k","_activeGraphic","_dragEvent","_handles","o","_hoverGraphic","_initialDragGeometry","_viewHandles","_manipulators","callbacks","onGraphicClick","onGraphicDoubleClick","onGraphicMoveStart","onGraphicMove","onGraphicMoveStop","onGraphicPointerOver","onGraphicPointerOut","onGraphicPointerDown","onGraphicPointerUp","enableMoveAllGraphics","graphics","view","_setUpManipulators","add","on","_clickHandler","TOOL","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","reset","forEach","destroy","removeAll","set","_findTargetGraphic","d","indexOf","emit","g","_","G","m","w","action","geometry","stopPropagation","origin","l","u","f","key","state","Number","MAX_VALUE","intersectionDistance","length","map","v","get","EventedAccessor","prototype","readOnly","dependsOn","b","main","selected","outline","selectedOutline","hoverOutline","secondary","secondaryOutline","transparent","size","hoverSize","color","hoverColor","outlineColor","hoverOutlineColor","stagedColor","stagedOutlineColor","vertex","midpoint","center","fill","line","reshapeGraphics","transformGraphics","slice","push","spatialReference","Math","PI","cos","sin","rings","xmin","ymin","ymax","xmax","extent","paths","reverse","z","points","R","mover","M","I","C","angle","E","O","j","xScale","yScale","L","B","Y","centerIndicator","style","default","join","width","active","handles","hover","rotator","rotatorLine","N","_activeHandleGraphic","_graphicAttributes","esriSketchTool","_mover","_rotateGraphicOffset","_angleOfRotation","_rotateLineGraphic","_startInfo","_totalDx","_totalDy","_xScale","_yScale","onMoveStart","onMove","onMoveStop","onScaleStart","onScale","onScaleStop","onRotateStart","onRotate","onRotateStop","centerGraphic","backgroundGraphic","enableMovement","enableRotation","enableScaling","handleGraphics","layer","preserveAspectRatio","rotateGraphic","showCenterGraphic","_getBounds","POSITIVE_INFINITY","NEGATIVE_INFINITY","min","max","_setup","S","_scaleGraphic","_updateGraphics","_updateRotateGraphic","_updateRotateLineGraphic","refresh","_resetGraphics","_reset","concat","includes","_emitMoveStopEvent","_emitScaleStopEvent","_emitRotateStopEvent","_setupGraphics","_setupMover","_resetGraphicStateVars","cursor","removeMany","remove","_set","_onGraphicClickCallback","_onGraphicMoveStartCallback","_onGraphicMoveCallback","_onGraphicMoveStopCallback","_onGraphicPointerOverCallback","_onGraphicPointerOutCallback","_getBoxBounds","abs","height","centerX","centerY","startX","startY","graphicInfos","_getGraphicInfos","box","rotate","_getGraphicInfo","symbols","_hideGraphicsBeforeUpdate","symbol","_getStartInfo","_emitRotateStartEvent","_emitScaleStartEvent","_emitMoveStartEvent","_emitScaleEvent","_rotateGraphic","_emitRotateEvent","_moveGraphic","_emitMoveEvent","_showGraphicsAfterUpdate","rotation","resolution","transform","_updateX","_updateY","_updateBackgroundGraphic","_hasExtentGraphic","addMany","_updateHandleGraphics","_updateCenterGraphic","visible","_getCoordinates","_updateXY","some","value","A","getLogger","interactive","selectable","grabbable","dragging","events","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","detachSymbolChanged","_resetGraphicSymbol","_get","_intersectDistance2D","_intersectDistance3D","attachSymbolChanged","watch","focusedSymbol","_focused","originalPoint","equals","clone","mapPoint","radiusPx","toScreen","xoffset","yoffset","toMap","include","renderSpatialReference","camera","eye","error","elevationInfo","offset","mode","_updateGraphicSymbol","constructOnly","nonNullable"],"mappings":"uSAIMA,EAAE,WAAYA,EAAEC,EAAEC,EAAEC,EAAEC,GAAE,oBAACC,KAAKC,QAAQN,EAAEK,KAAKE,MAAMN,EAAEI,KAAKG,EAAEN,EAAEG,KAAKI,EAAEN,EAAEE,KAAKK,UAAUN,EAAEC,KAAKM,KAAK,iBAAuBV,EAAE,WAAYD,EAAEC,EAAEC,EAAEC,EAAEC,GAAE,oBAACC,KAAKC,QAAQN,EAAEK,KAAKE,MAAMN,EAAEI,KAAKG,EAAEN,EAAEG,KAAKI,EAAEN,EAAEE,KAAKK,UAAUN,EAAEC,KAAKM,KAAK,wBAA8BT,E,WAAE,WAAYF,EAAEC,EAAEC,EAAEC,EAAEC,EAAEQ,EAAEC,EAAEC,EAAEC,EAAEC,GAAE,oBAACX,KAAKC,QAAQN,EAAEK,KAAKY,YAAYhB,EAAEI,KAAKE,MAAML,EAAEG,KAAKG,EAAEL,EAAEE,KAAKI,EAAEL,EAAEC,KAAKa,GAAGN,EAAEP,KAAKc,GAAGN,EAAER,KAAKe,QAAQN,EAAET,KAAKgB,QAAQN,EAAEV,KAAKK,UAAUM,EAAEX,KAAKiB,kBAAiB,EAAGjB,KAAKM,KAAK,qB,6DAAsCN,KAAKiB,kBAAiB,M,KAAUnB,E,WAAE,WAAYH,EAAEC,EAAEC,EAAEC,EAAEC,EAAEQ,EAAEC,EAAEC,EAAEC,EAAEC,GAAE,oBAACX,KAAKC,QAAQN,EAAEK,KAAKY,YAAYhB,EAAEI,KAAKE,MAAML,EAAEG,KAAKG,EAAEL,EAAEE,KAAKI,EAAEL,EAAEC,KAAKa,GAAGN,EAAEP,KAAKc,GAAGN,EAAER,KAAKe,QAAQN,EAAET,KAAKgB,QAAQN,EAAEV,KAAKK,UAAUM,EAAEX,KAAKiB,kBAAiB,EAAGjB,KAAKM,KAAK,e,6DAAgCN,KAAKiB,kBAAiB,M,KAAUlB,E,WAAE,WAAYJ,EAAEC,EAAEC,EAAEC,EAAEC,EAAEQ,EAAEC,EAAEC,EAAEC,EAAEC,GAAE,oBAACX,KAAKC,QAAQN,EAAEK,KAAKY,YAAYhB,EAAEI,KAAKE,MAAML,EAAEG,KAAKG,EAAEL,EAAEE,KAAKI,EAAEL,EAAEC,KAAKa,GAAGN,EAAEP,KAAKc,GAAGN,EAAER,KAAKe,QAAQN,EAAET,KAAKgB,QAAQN,EAAEV,KAAKK,UAAUM,EAAEX,KAAKiB,kBAAiB,EAAGjB,KAAKM,KAAK,oB,6DAAqCN,KAAKiB,kBAAiB,M,KAAUV,EAAE,WAAYZ,EAAEC,EAAEC,EAAEC,EAAEC,GAAE,oBAACC,KAAKC,QAAQN,EAAEK,KAAKE,MAAMN,EAAEI,KAAKG,EAAEN,EAAEG,KAAKI,EAAEN,EAAEE,KAAKK,UAAUN,EAAEC,KAAKM,KAAK,wBAA8BE,EAAE,SAAAA,EAAYb,EAAEC,EAAEC,EAAEC,EAAEC,GAAE,oBAACC,KAAKC,QAAQN,EAAEK,KAAKE,MAAMN,EAAEI,KAAKG,EAAEN,EAAEG,KAAKI,EAAEN,EAAEE,KAAKK,UAAUN,EAAEC,KAAKM,KAAK,uBAA6BG,EAAE,WAAYd,EAAEC,EAAEC,EAAEC,EAAEC,GAAE,oBAACC,KAAKC,QAAQN,EAAEK,KAAKE,MAAMN,EAAEI,KAAKG,EAAEN,EAAEG,KAAKI,EAAEN,EAAEE,KAAKK,UAAUN,EAAEC,KAAKM,KAAK,wBAA8BI,EAAE,WAAYf,EAAEC,EAAEC,EAAEC,EAAEC,GAAE,oBAACC,KAAKC,QAAQN,EAAEK,KAAKE,MAAMN,EAAEI,KAAKG,EAAEN,EAAEG,KAAKI,EAAEN,EAAEE,KAAKK,UAAUN,EAAEC,KAAKM,KAAK,sBCA/TY,EAAC,kDAAiC,WAAYtB,GAAE,kCAAC,cAAMA,IAAQuB,eAAe,KAAK,EAAKC,WAAW,KAAK,EAAKC,SAAS,IAAIC,IAAE,EAAKC,cAAc,KAAK,EAAKC,qBAAqB,KAAK,EAAKC,aAAa,IAAIH,IAAE,EAAKI,cAAc,GAAG,EAAKpB,KAAK,gBAAgB,EAAKqB,UAAU,CAACC,eAAD,aAAoBC,qBAApB,aAA6CC,mBAA7C,aAAoEC,cAApE,aAAsFC,kBAAtF,aAA4GC,qBAA5G,aAAqIC,oBAArI,aAA6JC,qBAA7J,aAAsLC,mBAAtL,cAA8M,EAAKC,uBAAsB,EAAG,EAAKC,SAAS,GAAG,EAAKC,KAAK,KAAje,EAA/C,yDAAiiB,WAACvC,KAAKwC,qBAAqBxC,KAAKqB,SAASoB,IAAI,CAAC3C,YAAEE,KAAK,CAAC,WAAW,oBAAoB,WAAK,EAAKwC,wBAAwBhC,YAAER,KAAK,cAAc,WAAK,EAAKyB,aAAagB,IAAI,CAAC,EAAKF,KAAKG,GAAG,mBAAmB,SAAA9C,GAAC,OAAE,EAAK+C,cAAc/C,KAAIc,IAAEkC,MAAM,EAAKL,KAAKG,GAAG,gBAAgB,SAAA9C,GAAC,OAAE,EAAKiD,oBAAoBjD,KAAIc,IAAEkC,MAAM,EAAKL,KAAKG,GAAG,gBAAgB,SAAA9C,GAAC,OAAE,EAAKkD,oBAAoBlD,KAAIc,IAAEkC,MAAM,EAAKL,KAAKG,GAAG,gBAAgB,SAAA9C,GAAC,OAAE,EAAKmD,oBAAoBnD,KAAIc,IAAEkC,MAAM,EAAKL,KAAKG,GAAG,cAAc,SAAA9C,GAAC,OAAE,EAAKoD,kBAAkBpD,KAAIc,IAAEkC,MAAM,EAAKL,KAAKG,GAAG,QAAQ,SAAA9C,GAAC,OAAE,EAAKqD,aAAarD,KAAIc,IAAEkC,MAAM,EAAKL,KAAKG,GAAG,YAAY,SAAA9C,GAAC,OAAE,EAAKsD,gBAAgBtD,KAAIc,IAAEkC,eAAxoC,gCAA+pC5C,KAAKmD,QAAQnD,KAAK0B,cAAc0B,SAAS,SAAAxD,GAAC,OAAEA,EAAEyD,aAAYrD,KAAK0B,cAAc,KAAK1B,KAAKyB,aAAa6B,YAAYtD,KAAKqB,SAASiC,cAA7xC,8BAAy8CtD,KAAKmB,eAAe,KAAKnB,KAAKuB,cAAc,KAAKvB,KAAKoB,WAAW,OAA1gD,qCAA8hDxB,EAAED,GAAG,IAAMI,EAAEC,KAAKsC,SAAS1C,GAAGG,GAAGA,EAAEwD,IAAI,WAAW5D,KAAhlD,oCAAimDC,GAAG,IAAMD,EAAEK,KAAKwD,mBAAmB7C,YAAEf,IAAI,GAAGD,EAAE,CAAC,IAAMI,EAAE,IAAI0D,EAAE9D,EAAEK,KAAKsC,SAASoB,QAAQ/D,GAAGC,EAAEO,EAAEP,EAAEQ,EAAER,GAAGI,KAAK2D,KAAK,gBAAgB5D,GAAGC,KAAK2B,UAAUC,gBAAgB5B,KAAK2B,UAAUC,eAAe7B,MAA9xD,0CAAszDH,GAAG,IAAMD,EAAEK,KAAKwD,mBAAmB7C,YAAEf,IAAI,GAAGD,EAAE,CAAC,IAAMI,EAAE,IAAI6D,EAAEjE,EAAEK,KAAKsC,SAASoB,QAAQ/D,GAAGC,EAAEO,EAAEP,EAAEQ,EAAER,GAAGI,KAAK2D,KAAK,uBAAuB5D,GAAGC,KAAK2B,UAAUE,sBAAsB7B,KAAK2B,UAAUE,qBAAqB9B,MAAtgE,0CAA8hEH,GAAG,IAAMD,EAAEK,KAAKwD,mBAAmB7C,YAAEf,IAAI,GAAGD,EAAE,CAACK,KAAKmB,eAAexB,EAArB,IAA+BI,EAAOH,EAATO,EAAMI,EAAGX,EAALQ,EAAOP,EAAE,IAAIgE,EAAElE,EAAEK,KAAKsC,SAASoB,QAAQ/D,GAAGI,EAAEQ,EAAEX,GAAGI,KAAK2D,KAAK,uBAAuB9D,GAAGG,KAAK2B,UAAUQ,sBAAsBnC,KAAK2B,UAAUQ,qBAAqBtC,QAAQG,KAAKmB,eAAe,OAAvyE,wCAA8zEvB,GAAG,GAAGI,KAAKmB,eAAe,KAASxB,EAAOC,EAATO,EAAMJ,EAAGH,EAALQ,EAAOG,EAAEP,KAAKsC,SAASoB,QAAQ1D,KAAKmB,gBAAgBtB,EAAE,IAAIiE,EAAE9D,KAAKmB,eAAeZ,EAAEZ,EAAEI,EAAEH,GAAGI,KAAK2D,KAAK,qBAAqB9D,GAAGG,KAAK2B,UAAUS,oBAAoBpC,KAAK2B,UAAUS,mBAAmBvC,MAAniF,0CAA2jFD,GAAG,IAAGI,KAAKoB,WAAR,CAA0B,IAAMzB,EAAEK,KAAKwD,mBAAmB7C,YAAEf,IAAI,GAAGD,EAAE,KAASI,EAAOH,EAATO,EAAMI,EAAGX,EAALQ,EAAO,GAAGJ,KAAKuB,cAAc,CAAC,GAAGvB,KAAKuB,gBAAgB5B,EAAE,OAAO,IAAME,EAAEG,KAAKsC,SAASoB,QAAQ1D,KAAKuB,eAAed,EAAE,IAAIsD,EAAE/D,KAAKsC,SAASzC,GAAGA,EAAEE,EAAEQ,EAAEX,GAAGI,KAAKuB,cAAc,KAAKvB,KAAK2D,KAAK,sBAAsBlD,GAAGT,KAAK2B,UAAUO,qBAAqBlC,KAAK2B,UAAUO,oBAAoBzB,GAAG,IAAMZ,EAAEG,KAAKsC,SAASoB,QAAQ/D,GAAGc,EAAE,IAAIuD,EAAErE,EAAEE,EAAEE,EAAEQ,EAAEX,GAAG,OAAOI,KAAKuB,cAAc5B,EAAEK,KAAK2D,KAAK,uBAAuBlD,QAAQT,KAAK2B,UAAUM,sBAAsBjC,KAAK2B,UAAUM,qBAAqBxB,IAAI,GAAGT,KAAKuB,cAAc,KAAS5B,EAAOC,EAATO,EAAMJ,EAAGH,EAALQ,EAAOG,EAAEP,KAAKsC,SAASoB,QAAQ1D,KAAKuB,eAAe1B,EAAE,IAAIkE,EAAE/D,KAAKsC,SAAS/B,GAAGA,EAAEZ,EAAEI,EAAEH,GAAGI,KAAKuB,cAAc,KAAKvB,KAAK2D,KAAK,sBAAsB9D,GAAGG,KAAK2B,UAAUO,qBAAqBlC,KAAK2B,UAAUO,oBAAoBrC,OAAp2G,mCAAq3GD,GAAE,WAAC,IAAG,UAAUA,EAAEqE,QAASjE,KAAKoB,aAAapB,KAAKmB,gBAAiBnB,KAAKmB,eAAe+C,SAApF,CAAoGtE,EAAEuE,kBAAvG,IAAsIpE,EAAWH,EAAlBqE,OAAW1D,EAAOX,EAATO,EAAMN,EAAGD,EAALQ,EAAOK,EAAET,KAAKsC,SAASoB,QAAQ1D,KAAKmB,gBAAgBG,EAAEtB,KAAKmB,eAAe+C,SAASpE,EAAEE,KAAKoB,WAAWb,EAAEP,KAAKoB,WAAWjB,EAAE,EAAEK,EAAER,KAAKoB,WAAWvB,EAAEG,KAAKoB,WAAWhB,EAAE,EAAEM,EAAEH,EAAEX,EAAEwE,OAAOjE,EAAEQ,EAAEd,EAAED,EAAEwE,OAAOhE,EAAE,GAAGJ,KAAKmB,eAAe+C,SAASG,YAAE/C,EAAExB,EAAEU,EAAER,KAAKuC,MAAMvC,KAAKqC,uBAAuBrC,KAAKsC,SAASc,SAAS,SAAAxD,GAAIA,IAAI,EAAKuB,iBAAiBvB,EAAEsE,SAASG,YAAEzE,EAAEsE,SAASpE,EAAEU,EAAE,EAAK+B,UAAUvC,KAAKoB,WAAWxB,EAAE,UAAUG,EAAE,CAACC,KAAKwB,qBAAqB7B,YAAE2B,GAAG,IAAMvB,EAAE,IAAIuE,EAAEtE,KAAKmB,eAAenB,KAAKsC,SAAS7B,EAAEF,EAAEV,EAAEC,EAAEU,EAAEE,EAAEC,EAAEf,GAAGI,KAAK2D,KAAK,qBAAqB5D,GAAGC,KAAK2B,UAAUG,oBAAoB9B,KAAK2B,UAAUG,mBAAmB/B,GAAGA,EAAEkB,kBAAkBjB,KAAKmB,eAAeoC,IAAI,WAAWjC,QAAQ,GAAG,WAAWvB,EAAE,CAAC,IAAMJ,EAAE,IAAIS,EAAEJ,KAAKmB,eAAenB,KAAKsC,SAAS7B,EAAEF,EAAEV,EAAEC,EAAEU,EAAEE,EAAEC,EAAEf,GAAGI,KAAK2D,KAAK,eAAehE,GAAGK,KAAK2B,UAAUI,eAAe/B,KAAK2B,UAAUI,cAAcpC,GAAGA,EAAEsB,kBAAkBjB,KAAKmB,eAAeoC,IAAI,WAAWjC,OAAO,CAAC,IAAM3B,EAAE,IAAI4E,EAAEvE,KAAKmB,eAAenB,KAAKsC,SAAS7B,EAAEF,EAAEV,EAAEC,EAAEU,EAAEE,EAAEC,EAAEf,GAAGI,KAAKoB,WAAW,KAAKpB,KAAKmB,eAAe,KAAKnB,KAAK2D,KAAK,oBAAoBhE,GAAGK,KAAK2B,UAAUK,mBAAmBhC,KAAK2B,UAAUK,kBAAkBrC,GAAGA,EAAEsB,kBAAkBjB,KAAKsC,SAAS7B,GAAG8C,IAAI,WAAWvD,KAAKwB,sBAAsBxB,KAAKwB,qBAAqB,SAArsJ,sCAA2tJ5B,GAAG,MAAMA,EAAE4E,KAAK,MAAM5E,EAAE4E,KAAK,MAAM5E,EAAE4E,KAAK,WAAWxE,KAAKyE,OAAO7E,EAAEuE,oBAA9xJ,yCAAm0JvE,GAAG,IAAID,EAAE,KAAKY,EAAEmE,OAAOC,UAAU,OAAO3E,KAAK0B,cAAc0B,SAAS,SAAAvD,GAAI,IAAMY,EAAEZ,EAAE+E,qBAAqBhF,GAAGG,YAAEU,IAAIA,EAAEF,IAAIA,EAAEE,EAAEd,EAAEE,EAAEI,YAAYN,IAA78J,2CAAm+J,IAAgBC,EAAUI,KAAnBsC,SAAgB3C,EAAGK,KAARuC,KAAavC,KAAK0B,cAAc0B,SAAS,SAAAxD,GAAC,OAAEA,EAAEyD,aAAYrD,KAAK0B,cAAc,MAAM9B,GAAGA,EAAEiF,OAAOjF,EAAEkF,KAAK,SAAAlF,GAAC,OAAE,IAAImF,IAAE,CAAC9E,QAAQL,EAAE2C,KAAK5C,OAAM,KAA1nK,4BAAqzC,IAAMC,IAAII,KAAKgF,IAAI,cAAcrF,IAAIK,KAAKgF,IAAI,mBAAmBjF,EAAEC,KAAKmB,eAAe,OAAOvB,GAAGD,EAAEI,EAAE,SAAS,SAASH,EAAE,QAAQ,eAAt7C,GAAea,IAAEwE,iBAA8mKrF,YAAE,CAACW,eAAKW,EAAEgE,UAAU,sBAAiB,GAAQtF,YAAE,CAACW,YAAE,CAAC4E,UAAS,KAAMjE,EAAEgE,UAAU,YAAO,GAAQtF,YAAE,CAACW,eAAKW,EAAEgE,UAAU,iBAAY,GAAQtF,YAAE,CAACW,eAAKW,EAAEgE,UAAU,6BAAwB,GAAQtF,YAAE,CAACW,eAAKW,EAAEgE,UAAU,gBAAW,GAAQtF,YAAE,CAACW,YAAE,CAAC6E,UAAU,CAAC,aAAa,kBAAkB,kBAAkBD,UAAS,KAAMjE,EAAEgE,UAAU,QAAQ,MAAMtF,YAAE,CAACW,eAAKW,EAAEgE,UAAU,YAAO,GAA2D,IAAIG,EAAvDnE,EAAEtB,YAAE,CAACC,YAAE,yCAAyCqB,GAA0BmE,a,uFCA3tN/D,EAAE,CAACgE,KAAK,IAAIvF,IAAE,CAAC,IAAI,IAAI,IAAIwF,SAAS,IAAIxF,IAAE,CAAC,IAAI,IAAI,MAAMyF,QAAQ,IAAIzF,IAAE,CAAC,EAAE,EAAE,EAAE,KAAK0F,gBAAgB,IAAI1F,IAAE,CAAC,IAAI,IAAI,MAAM2F,aAAa,IAAI3F,IAAE,CAAC,IAAI,IAAI,MAAM4F,UAAU,IAAI5F,IAAE,CAAC,IAAI,IAAI,MAAM6F,iBAAiB,IAAI7F,IAAE,CAAC,IAAI,IAAI,MAAM8F,YAAY,IAAI9F,IAAE,CAAC,EAAE,EAAE,EAAE,KAAK,SAASJ,EAAEI,EAAEuB,GAAG,GAAGA,EAAE,IAAI,IAAM3B,KAAK2B,EAAEvB,EAAEJ,GAAG2B,EAAE3B,G,IAASE,EAAE,WAAYE,GAAE,oBAACC,KAAK8F,KAAK,EAAE9F,KAAK+F,UAAU,GAAG/F,KAAKgG,MAAM1E,EAAEgE,KAAKtF,KAAKiG,WAAW3E,EAAEgE,KAAKtF,KAAKkG,aAAa5E,EAAEkE,QAAQxF,KAAKmG,kBAAkB7E,EAAEoE,aAAa/F,EAAEK,KAAKD,IAAUW,EAAE,WAAYX,GAAE,oBAACC,KAAKgG,MAAM1E,EAAEqE,UAAU3F,KAAKiG,WAAW3E,EAAEgE,KAAK3F,EAAEK,KAAKD,IAAUQ,EAAE,WAAYR,GAAE,oBAACC,KAAKgG,MAAM1E,EAAEuE,YAAY7F,KAAKiG,WAAW3E,EAAEuE,YAAY7F,KAAKkG,aAAa5E,EAAEgE,KAAKtF,KAAKmG,kBAAkB7E,EAAEgE,KAAKtF,KAAKoG,YAAY9E,EAAEuE,YAAY7F,KAAKqG,mBAAmB/E,EAAEqE,UAAUhG,EAAEK,KAAKD,IAAUH,EAAE,WAAYG,GAAE,oBAACC,KAAKsG,OAAO,IAAIzG,EAAEG,KAAKuG,SAAS,IAAI1G,EAAE,CAACmG,MAAM1E,EAAEqE,UAAUO,aAAa5E,EAAEsE,iBAAiBE,KAAK,IAAI9F,KAAKuF,SAAS,IAAI1F,EAAE,CAACmG,MAAM1E,EAAEiE,SAASU,WAAW3E,EAAEiE,SAASY,kBAAkB7E,EAAEoE,eAAe/F,EAAEK,KAAKD,IAAUsE,EAAE,WAAYtE,GAAE,oBAACC,KAAKwG,OAAO,IAAI3G,EAAE,CAACmG,MAAM1E,EAAEsE,mBAAmB5F,KAAKyG,KAAK,IAAIlG,EAAEP,KAAK0G,KAAK,IAAIhG,EAAEV,KAAKsG,OAAO,IAAIzG,EAAE,CAACmG,MAAM1E,EAAEiE,SAASW,aAAa5E,EAAEgE,KAAKW,WAAW3E,EAAEiE,SAASY,kBAAkB7E,EAAEsE,mBAAmBjG,EAAEK,KAAKD,IAAUS,EAAE,sBAAU,WAAYT,GAAE,oBAACC,KAAK2G,gBAAgB,IAAI/G,EAAEI,KAAK4G,kBAAkB,IAAIvC,EAAE1E,EAAEK,KAAKD,IAApF,K,kTCAtmC,SAASH,EAAEc,GAAG,IAAiCd,EAA7BG,EAAE,EAAEJ,EAAE,EAAQY,EAAEG,EAAEmE,OAAavD,EAAEZ,EAAEf,GAAG,IAAIA,EAAE,EAAEA,EAAEY,EAAE,EAAEZ,IAAaI,KAATH,EAAEc,EAAEf,EAAE,IAAS,GAAG2B,EAAE,KAAK1B,EAAE,GAAG0B,EAAE,IAAIA,EAAE1B,EAAE,OAAOG,GAAG,EAAE,SAASuB,EAAEZ,EAAEX,EAAEJ,EAAEY,GAAG,IAAD,EAAOX,EAAE,GAAT,cAA2Bc,GAA3B,IAAY,2BAAiB,KAAPY,EAAO,QAAOZ,EAAEY,EAAEuF,MAAM,GAAGjH,EAAEkH,KAAKpG,GAAG,IAAMb,EAAEE,GAAGuB,EAAE,GAAGf,EAAEJ,GAAGR,GAAG2B,EAAE,GAAGf,EAAEH,GAAGG,EAAEJ,EAAEkE,EAAE1E,GAAG2B,EAAE,GAAGf,EAAEJ,GAAGJ,GAAGuB,EAAE,GAAGf,EAAEH,GAAGG,EAAEH,EAAEM,EAAE,GAAGb,EAAEa,EAAE,GAAG2D,GAA7I,8BAA+I,OAAOzE,EAA24BC,MAAz4B,SAAWA,EAAEwE,EAAE5D,GAAG,IAA2EE,EAAE2D,EAAvE9D,EAAEX,EAAEkH,iBAAiBxC,EAAEF,EAAE2C,KAAKC,GAAG,IAAIlD,EAAEiD,KAAKE,IAAI3C,GAAGpE,EAAE6G,KAAKG,IAAI5C,GAA0K,GAA/J,SAAS1E,IAAIY,EAAE,OAAOE,EAAEF,GAAGE,EAAEd,EAAE2G,OAAO3G,EAAE,IAAIF,IAAE,CAACoH,iBAAiBvG,EAAE4G,MAAM,CAAC,CAAC,CAACvH,EAAEwH,KAAKxH,EAAEyH,MAAM,CAACzH,EAAEwH,KAAKxH,EAAE0H,MAAM,CAAC1H,EAAE2H,KAAK3H,EAAE0H,MAAM,CAAC1H,EAAE2H,KAAK3H,EAAEyH,MAAM,CAACzH,EAAEwH,KAAKxH,EAAEyH,WAAc,UAAUzH,EAAE,CAAC,IAAIO,EAAEK,EAAE,OAAOL,EAAEK,GAAGL,EAAEP,EAAE4H,OAAOjB,OAAO,IAAvC,EAA6C9F,EAAE,GAA/C,cAAiEb,EAAE6H,OAAnE,IAAkD,gCAAU3H,EAAV,QAAuBW,EAAEoG,KAAKxF,EAAEvB,EAAEgE,EAAE5D,EAAEM,KAAxF,8BAA4F,OAAO,IAAIF,IAAE,CAACwG,iBAAiBvG,EAAEkH,MAAMhH,IAAI,GAAG,UAAUb,EAAE,CAAC,IAAIC,EAAEW,EAAE,OAAOX,EAAEW,GAAGX,EAAED,EAAE4H,OAAOjB,OAAO,IAAvC,EAA6C9F,EAAE,GAA/C,cAAiEb,EAAEuH,OAAnE,IAAkD,2BAAuB,KAAbrH,EAAa,QAAOJ,EAAEC,EAAEG,GAAGQ,EAAEe,EAAEvB,EAAEgE,EAAE5D,EAAEM,GAAGb,EAAEW,KAAKZ,GAAGY,EAAEoH,UAAUjH,EAAEoG,KAAKvG,IAAjI,8BAAoI,OAAO,IAAIZ,IAAE,CAACoH,iBAAiBvG,EAAE4G,MAAM1G,IAAI,GAAG,MAAMb,EAAE,CAAC,IAAI+D,EAAEnD,EAAE,OAAOmD,EAAEnD,GAAGmD,EAAE/D,EAAE,IAAME,EAAE,IAAIW,IAAE,CAACP,EAAE4D,GAAGlE,EAAEM,EAAEM,EAAEN,GAAGA,GAAGN,EAAEO,EAAEK,EAAEL,GAAGK,EAAEN,EAAEC,EAAED,GAAGN,EAAEM,EAAEM,EAAEN,GAAG4D,GAAGlE,EAAEO,EAAEK,EAAEL,GAAGK,EAAEL,EAAE2G,iBAAiBvG,IAAI,OAAO,MAAMX,EAAE+H,IAAI7H,EAAE6H,EAAE/H,EAAE+H,GAAG,MAAM/H,EAAEkE,IAAIhE,EAAEgE,EAAElE,EAAEkE,GAAGhE,EAAE,MAAM,WAAWF,GAAGY,EAAE,OAAO6D,EAAE7D,GAAG6D,EAAEzE,EAAE4H,OAAOjB,OAAO,IAAIzG,IAAE,CAAC8H,OAAOvG,EAAEzB,EAAEgI,OAAO9D,EAAE5D,EAAEM,GAAGsG,iBAAiBvG,KAAK,M,oBCAyKsH,EAAE,WAAYnI,EAAEI,EAAEH,EAAEC,GAAE,oBAACG,KAAKsC,SAAS3C,EAAEK,KAAK+H,MAAMhI,EAAEC,KAAKa,GAAGjB,EAAEI,KAAKc,GAAGjB,EAAEG,KAAKM,KAAK,cAAoB0H,EAAE,WAAYrI,EAAEI,EAAEH,EAAEC,GAAE,oBAACG,KAAKsC,SAAS3C,EAAEK,KAAK+H,MAAMhI,EAAEC,KAAKa,GAAGjB,EAAEI,KAAKc,GAAGjB,EAAEG,KAAKM,KAAK,QAAc2H,EAAE,WAAYtI,EAAEI,EAAEH,EAAEC,GAAE,oBAACG,KAAKsC,SAAS3C,EAAEK,KAAK+H,MAAMhI,EAAEC,KAAKa,GAAGjB,EAAEI,KAAKc,GAAGjB,EAAEG,KAAKM,KAAK,aAAmB4H,EAAE,WAAYvI,EAAEI,EAAEH,GAAE,oBAACI,KAAKsC,SAAS3C,EAAEK,KAAK+H,MAAMhI,EAAEC,KAAKmI,MAAMvI,EAAEI,KAAKM,KAAK,gBAAsB8H,EAAE,WAAYzI,EAAEI,EAAEH,GAAE,oBAACI,KAAKsC,SAAS3C,EAAEK,KAAK+H,MAAMhI,EAAEC,KAAKmI,MAAMvI,EAAEI,KAAKM,KAAK,UAAgB+H,EAAE,WAAY1I,EAAEI,EAAEH,GAAE,oBAACI,KAAKsC,SAAS3C,EAAEK,KAAK+H,MAAMhI,EAAEC,KAAKmI,MAAMvI,EAAEI,KAAKM,KAAK,eAAqBgI,EAAE,WAAY3I,EAAEI,EAAEH,EAAEC,GAAE,oBAACG,KAAKsC,SAAS3C,EAAEK,KAAK+H,MAAMhI,EAAEC,KAAKuI,OAAO3I,EAAEI,KAAKwI,OAAO3I,EAAEG,KAAKM,KAAK,eAAqBmI,EAAE,WAAY9I,EAAEI,EAAEH,EAAEC,GAAE,oBAACG,KAAKsC,SAAS3C,EAAEK,KAAK+H,MAAMhI,EAAEC,KAAKuI,OAAO3I,EAAEI,KAAKwI,OAAO3I,EAAEG,KAAKM,KAAK,SAAesH,EAAE,WAAYjI,EAAEI,EAAEH,EAAEC,GAAE,oBAACG,KAAKsC,SAAS3C,EAAEK,KAAK+H,MAAMhI,EAAEC,KAAKuI,OAAO3I,EAAEI,KAAKwI,OAAO3I,EAAEG,KAAKM,KAAK,cAAoBoI,EAAEvI,IAAEyG,kBAAkB+B,EAAE,CAACC,gBAAgB,IAAInF,UAAE,CAACoF,MAAM,QAAQ/C,KAAK4C,EAAElC,OAAOV,KAAKE,MAAM0C,EAAElC,OAAOR,QAAQS,KAAK,CAACqC,QAAQ,IAAInI,UAAE,CAACqF,MAAM0C,EAAEjC,KAAKT,MAAMR,QAAQ,CAACQ,MAAM0C,EAAEjC,KAAKP,aAAa6C,KAAK,QAAQC,MAAM,KAAKC,OAAO,IAAItI,UAAE,CAACqF,MAAM0C,EAAEjC,KAAKL,YAAYZ,QAAQ,CAACQ,MAAM0C,EAAEjC,KAAKP,aAAa6C,KAAK,QAAQF,MAAM,OAAOG,MAAM,MAAME,QAAQ,CAACJ,QAAQ,IAAIrF,UAAE,CAACoF,MAAM,SAAS/C,KAAK4C,EAAEpC,OAAOR,KAAKE,MAAM0C,EAAEpC,OAAON,MAAMR,QAAQ,CAACQ,MAAM0C,EAAEpC,OAAOJ,aAAa8C,MAAM,KAAKG,MAAM,IAAI1F,UAAE,CAACoF,MAAM,SAAS/C,KAAK4C,EAAEpC,OAAOP,UAAUC,MAAM0C,EAAEpC,OAAOL,WAAWT,QAAQ,CAACQ,MAAM0C,EAAEpC,OAAOH,kBAAkB6C,MAAM,MAAMI,QAAQ,CAACN,QAAQ,IAAIrF,UAAE,CAACoF,MAAM,SAAS/C,KAAK4C,EAAEpC,OAAOR,KAAKE,MAAM0C,EAAEpC,OAAON,MAAMR,QAAQ,CAACQ,MAAM0C,EAAEpC,OAAOJ,aAAa8C,MAAM,KAAKG,MAAM,IAAI1F,UAAE,CAACoF,MAAM,SAAS/C,KAAK4C,EAAEpC,OAAOP,UAAUC,MAAM0C,EAAEpC,OAAOL,WAAWT,QAAQ,CAACQ,MAAM0C,EAAEpC,OAAOH,kBAAkB6C,MAAM,MAAMK,YAAY,IAAIhF,UAAE,CAAC2B,MAAM0C,EAAEhC,KAAKV,MAAMgD,MAAM,KAASM,EAAC,kDAAiC,WAAY3J,GAAE,kCAAC,cAAMA,IAAQ4J,qBAAqB,KAAK,EAAKC,mBAAmB,CAACC,eAAe,OAAO,EAAKpI,SAAS,IAAIiD,IAAE,EAAKoF,OAAO,KAAK,EAAKC,qBAAqB,GAAG,EAAKC,iBAAiB,EAAE,EAAKC,mBAAmB,KAAK,EAAKC,WAAW,KAAK,EAAKC,SAAS,EAAE,EAAKC,SAAS,EAAE,EAAKC,QAAQ,EAAE,EAAKC,QAAQ,EAAE,EAAK5J,KAAK,MAAM,EAAKqB,UAAU,CAACwI,YAAD,aAAiBC,OAAjB,aAA4BC,WAA5B,aAA2CC,aAA3C,aAA4DC,QAA5D,aAAwEC,YAAxE,aAAwFC,cAAxF,aAA0GC,SAA1G,aAAuHC,aAAvH,aAAwI/I,eAAxI,cAA4J,EAAKgJ,cAAc,KAAK,EAAKC,kBAAkB,KAAK,EAAKC,gBAAe,EAAG,EAAKC,gBAAe,EAAG,EAAKC,eAAc,EAAG,EAAK1I,SAAS,GAAG,EAAK2I,eAAe,GAAG,EAAKC,MAAM,KAAK,EAAKC,qBAAoB,EAAG,EAAKC,cAAc,KAAK,EAAKC,mBAAkB,EAAG,EAAK9I,KAAK,KAAK,EAAK+I,WAAY,WAAK,IAAM3L,EAAEoF,cAAI,OAAM,SAAChF,EAAEH,GAAKG,EAAE,GAAG2E,OAAO6G,kBAAkBxL,EAAE,GAAG2E,OAAO6G,kBAAkBxL,EAAE,GAAG2E,OAAO8G,kBAAkBzL,EAAE,GAAG2E,OAAO8G,kBAAvG,oBAAwI5L,GAAxI,IAAyH,2BAAiB,KAAPC,EAAO,QAAC,GAAIA,EAAJ,CAAe,IAAID,OAAC,EAACW,OAAC,EAACT,OAAC,EAACU,OAAC,EAAC,GAAG,UAAUX,EAAES,KAAKV,EAAEE,EAAED,EAAEM,EAAEI,EAAEC,EAAEX,EAAEO,OAAO,GAAG,eAAeP,EAAES,KAAK,CAAC,IAAMP,EAAEU,YAAEZ,GAAX,EAAwByB,YAAE3B,EAAE,CAACI,IAA7B,mBAAeH,EAAf,KAAiBW,EAAjB,KAAmBT,EAAnB,KAAqBU,EAArB,UAAsC,GAAG,WAAWX,EAAES,KAAhB,OAA+B,CAACT,EAAEwH,KAAKxH,EAAEyH,KAAKzH,EAAE2H,KAAK3H,EAAE0H,MAAjC3H,EAAtB,KAAwBW,EAAxB,KAA0BT,EAA1B,KAA4BU,EAA5B,SAAiE,CAAC,IAAMT,EAAEU,YAAEZ,GAAX,EAAwByB,YAAE3B,EAAEI,GAA5B,mBAAeH,EAAf,KAAiBW,EAAjB,KAAmBT,EAAnB,KAAqBU,EAArB,KAA+BT,EAAE,GAAGiH,KAAKyE,IAAI7L,EAAEG,EAAE,IAAIA,EAAE,GAAGiH,KAAKyE,IAAIlL,EAAER,EAAE,IAAIA,EAAE,GAAGiH,KAAK0E,IAAI5L,EAAEC,EAAE,IAAIA,EAAE,GAAGiH,KAAK0E,IAAIlL,EAAET,EAAE,MAAlc,8BAAsc,OAAOA,GAA3e,GAA3vB,EAA/C,yDAAwyC,WAACC,KAAK2L,SAAS3L,KAAKqB,SAASoB,IAAI,CAACmB,YAAE5D,KAAK,cAAc,WAAI,IAAaL,EAAU,EAAhBuL,MAAanL,EAAG,EAARwC,KAAaqJ,YAAE7L,EAAEJ,MAAMkE,YAAE7D,KAAK,uBAAuB,WAAK,EAAKuJ,uBAAuB,EAAKsC,cAAc,EAAKtC,sBAAsB,EAAKuC,sBAAsBjI,YAAE7D,KAAK,cAAc,WAAK,EAAK+L,uBAAuB,EAAKC,8BAA8BnI,YAAE7D,KAAK,YAAY,kBAAI,EAAKiM,aAAYpI,YAAE7D,KAAK,SAAS,SAACL,EAAEI,GAAKA,GAAG,EAAKmM,eAAenM,GAAG,EAAKkM,iBAAzsD,gCAAkuDjM,KAAKmM,SAASnM,KAAKqB,WAAWrB,KAAKqB,SAASiC,YAAYtD,KAAKqB,SAAS,QAAxyD,kCAA2qE1B,GAAG,IAAII,EAAE,GAAG,OAAOC,KAAKiL,eAAepG,SAAS9E,EAAEA,EAAEqM,OAAOpM,KAAKiL,iBAAiBjL,KAAK6K,mBAAmB9K,EAAE+G,KAAK9G,KAAK6K,mBAAmB7K,KAAK4K,eAAe7K,EAAE+G,KAAK9G,KAAK4K,eAAe5K,KAAKoL,eAAerL,EAAE+G,KAAK9G,KAAKoL,eAAepL,KAAK6J,oBAAoB9J,EAAE+G,KAAK9G,KAAK6J,oBAAoB9J,EAAE8E,QAAQ9E,EAAEsM,SAAS1M,KAA/9E,2BAAu+EA,EAAEI,GAAG,GAAGC,KAAK0J,QAAQ1J,KAAKsC,SAASuC,OAAO,qBAAgB7E,KAAKsC,UAArB,IAAC,2BAA6B,KAAnB1C,EAAmB,QAAOC,EAAED,EAAEsE,SAAS3D,EAAEuD,YAAEjE,EAAEF,EAAEI,EAAEC,KAAKuC,MAAM3C,EAAEsE,SAAS3D,GAAlF,8BAAoFP,KAAKiM,UAAUjM,KAAKsM,mBAAmB3M,EAAEI,EAAE,SAAhpF,4BAA6pFJ,EAAEI,GAAG,GAAGC,KAAK0J,QAAQ1J,KAAKsC,SAASuC,OAAO,qBAAgB7E,KAAKsC,UAArB,IAAC,2BAA6B,KAAnB1C,EAAmB,QAAOC,EAAED,EAAEsE,SAAS3D,EAAEH,YAAEP,EAAEF,EAAEI,GAAGH,EAAEsE,SAAS3D,GAAxE,8BAA0EP,KAAKiM,UAAUjM,KAAKuM,oBAAoB5M,EAAEI,EAAE,SAA7zF,6BAA20FJ,EAAEI,GAAG,GAAGC,KAAK0J,QAAQ1J,KAAKsC,SAASuC,OAAO,CAAC,IAAI9E,EAAE,CAAC,IAAMJ,EAAEK,KAAKiL,eAAe,GAAG/G,SAAS/D,EAAEP,EAAEI,KAAKiL,eAAe,GAAG/G,SAAS9D,EAAEL,EAAE,IAAIQ,IAAEZ,EAAEC,EAAEI,KAAKuC,KAAKwE,kBAA5G,oBAA6I/G,KAAKsC,UAAlJ,IAA8H,2BAA6B,KAAnB1C,EAAmB,QAAOC,EAAED,EAAEsE,SAAS3D,EAAEyD,EAAEnE,EAAEF,EAAEI,GAAGH,EAAEsE,SAAS3D,GAArM,8BAAuMP,KAAKiM,UAAUjM,KAAKwM,qBAAqB7M,EAAE,SAAvmG,gCAAwnGK,KAAKmM,SAASnM,KAAK2L,WAA3oG,8BAA4pG3L,KAAKsC,SAAS,KAA1qG,+BAAsrG,WAAWtC,KAAKyE,QAAQzE,KAAKyM,iBAAiBzM,KAAK0M,cAAc1M,KAAK8L,qBAA5vG,+BAAwxG9L,KAAK2M,yBAAyB3M,KAAKkM,iBAAiBlM,KAAK0J,QAAQ1J,KAAK0J,OAAOrG,UAAUrD,KAAK0J,OAAO,KAAK1J,KAAKuC,KAAKqK,OAAO,YAAj5G,+CAAo7G5M,KAAK8J,WAAW,KAAK9J,KAAKuJ,qBAAqB,KAAKvJ,KAAK+J,SAAS,EAAE/J,KAAKgK,SAAS,EAAEhK,KAAKiK,QAAQ,EAAEjK,KAAKkK,QAAQ,EAAElK,KAAK4J,iBAAiB,IAA5jH,qCAA6kHjK,GAAG,IAAMI,EAAEJ,GAAGK,KAAKkL,MAAMnL,IAAIA,EAAE8M,WAAW7M,KAAKiL,gBAAgBlL,EAAE+M,OAAO9M,KAAK6K,mBAAmB9K,EAAE+M,OAAO9M,KAAK4K,eAAe7K,EAAE+M,OAAO9M,KAAKoL,eAAerL,EAAE+M,OAAO9M,KAAK6J,qBAAtK,oBAA0M7J,KAAKiL,gBAA/M,IAA2L,oCAAqC5H,WAAhO,8BAA0OrD,KAAK+M,KAAK,iBAAiB,IAAI/M,KAAK6K,oBAAoB7K,KAAK6K,kBAAkBxH,UAAUrD,KAAK+M,KAAK,oBAAoB,OAAO/M,KAAK4K,gBAAgB5K,KAAK4K,cAAcvH,UAAUrD,KAAK+M,KAAK,gBAAgB,OAAO/M,KAAKoL,gBAAgBpL,KAAKoL,cAAc/H,UAAUrD,KAAK+M,KAAK,gBAAgB,OAAO/M,KAAK6J,qBAAqB7J,KAAK6J,mBAAmBxG,UAAUrD,KAAK6J,mBAAmB,QAAjrI,oCAAosI,WAAKlK,EAAE,GAAGyM,OAAOpM,KAAKiL,gBAAgBjL,KAAK8K,iBAAiBnL,EAAEA,EAAEyM,OAAOpM,KAAKsC,SAAStC,KAAK6K,oBAAoB7K,KAAK+K,gBAAgBpL,EAAEmH,KAAK9G,KAAKoL,eAAepL,KAAKqL,mBAAmB1L,EAAEmH,KAAK9G,KAAK4K,eAAe5K,KAAK0J,OAAO,IAAIxI,UAAE,CAACmB,uBAAsB,EAAGE,KAAKvC,KAAKuC,KAAKD,SAAS3C,EAAEgC,UAAU,CAACC,eAAe,SAAAjC,GAAC,OAAE,EAAKqN,wBAAwBrN,IAAGmC,mBAAmB,SAAAnC,GAAC,OAAE,EAAKsN,4BAA4BtN,IAAGoC,cAAc,SAAApC,GAAC,OAAE,EAAKuN,uBAAuBvN,IAAGqC,kBAAkB,SAAArC,GAAC,OAAE,EAAKwN,2BAA2BxN,IAAGsC,qBAAqB,SAAAtC,GAAC,OAAE,EAAKyN,8BAA8BzN,IAAGuC,oBAAoB,SAAAvC,GAAC,OAAE,EAAK0N,6BAA6B1N,SAAjzJ,oCAAq0JA,GAAE,MAAgBK,KAAKsN,cAAcvI,eAAnC,mBAAOhF,EAAP,KAASH,EAAT,KAAWC,EAAX,KAAaU,EAAb,KAAwCE,EAAEuG,KAAKuG,IAAI1N,EAAEE,GAAGuB,EAAE0F,KAAKuG,IAAIhN,EAAEX,GAAGE,GAAGD,EAAEE,GAAG,EAAES,GAAGD,EAAEX,GAAG,EAA1F,EAAsGD,EAAEuE,SAAS,MAAM,CAAC8E,MAAMvI,EAAE+M,OAAOlM,EAAEmM,QAAQ3N,EAAE4N,QAAQlN,EAAEmN,OAA7J,EAA6FxN,EAAyEyN,OAAtK,EAAiGxN,EAA8EyN,aAAa7N,KAAK8N,mBAAmBC,IAAI/N,KAAK6K,kBAAkB3G,SAAS8J,OAAOhO,KAAKoL,cAAclH,YAAzlK,yCAAqnK,WAAC,OAAOlE,KAAKsC,SAASwC,KAAK,SAAAnF,GAAC,OAAE,EAAKsO,gBAAgBtO,QAAxqK,sCAA6rKA,GAAS,IAAAI,EAAEJ,EAAEuE,SAAJ,EAAuBlE,KAAKsL,WAAWvG,cAAI,CAAChF,IAA5C,mBAAcH,EAAd,KAAgBC,EAAhB,KAAkBU,EAAlB,KAAoBE,EAApB,KAAgD,MAAM,CAACuI,MAAMhC,KAAKuG,IAAIhN,EAAEX,GAAG4N,OAAOxG,KAAKuG,IAAI9M,EAAEZ,GAAG4N,SAASlN,EAAEX,GAAG,EAAE8N,SAASjN,EAAEZ,GAAG,EAAEqE,SAASnE,KAA/0K,8CAA02KJ,GAAGA,EAAEU,UAAU8D,kBAAkBnE,KAAK2D,KAAK,gBAAgBhE,GAAGK,KAAK2B,UAAUC,gBAAgB5B,KAAK2B,UAAUC,eAAejC,KAAr+K,kDAAogLA,GAAE,IAAwBI,EAAsFC,KAAvG4J,iBAA2BhK,EAA4EI,KAApFiK,QAAkBpK,EAAkEG,KAA1EkK,QAA4B3J,EAA8CP,KAAhE6K,kBAAmCpK,EAA6BT,KAA5CiL,eAA+B3J,EAAatB,KAA3BoL,cAAwBtL,EAAGE,KAAXkO,QAAgB1N,EAAEb,EAAEM,QAAQD,KAAK2M,yBAAyB3M,KAAKmO,4BAA4B5N,EAAE6N,OAAOtO,EAAE2G,KAAKwC,OAAOjJ,KAAK8J,WAAW9J,KAAKqO,cAAc7N,GAAGA,IAAIc,GAAGtB,KAAKuC,KAAKqK,OAAO,WAAW5M,KAAKsO,sBAAsBvO,EAAES,IAAIC,EAAE4L,SAAS7L,IAAIR,KAAKuJ,qBAAqB/I,EAAER,KAAKuO,qBAAqB3O,EAAEC,EAAEW,IAAIR,KAAKwO,oBAAoB7O,EAAEkB,GAAGlB,EAAEmB,GAAGN,KAAr7L,6CAA+8Lb,GAAG,IAAMI,EAAEJ,EAAEM,QAAQ,GAAGD,KAAK8J,WAAW,GAAG9J,KAAKiL,eAAeoB,SAAStM,GAAGC,KAAK6L,cAAc9L,GAAGC,KAAKyO,gBAAgBzO,KAAKiK,QAAQjK,KAAKkK,QAAQnK,QAAQ,GAAGA,IAAIC,KAAKoL,cAAcpL,KAAK0O,eAAe3O,GAAGC,KAAK2O,iBAAiB3O,KAAK4J,iBAAiB7J,OAAO,CAAC,IAAMH,EAAED,EAAEkB,GAAGhB,EAAEF,EAAEmB,GAAGd,KAAK+J,UAAUnK,EAAEI,KAAKgK,UAAUnK,EAAEG,KAAK4O,aAAa7O,EAAEH,EAAEC,GAAGG,KAAK6O,eAAejP,EAAEC,EAAEE,MAAnzM,iDAAk1MJ,GAAG,IAAMI,EAAEJ,EAAEM,QAAQ,GAAID,KAAK8J,WAAT,CAAnB,IAAyFlK,EAA4GI,KAA7H4J,iBAA4B/J,EAAiGG,KAA1G+J,SAAoBxJ,EAAsFP,KAA/FgK,SAAmBvJ,EAA4ET,KAApFiK,QAAkB3I,EAAkEtB,KAA1EkK,QAA4BpK,EAA8CE,KAAhE6K,kBAAmCrK,EAA6BR,KAA5CiL,eAA+BvK,EAAaV,KAA3BoL,cAAwB/G,EAAGrE,KAAXkO,QAAgBlO,KAAK8L,kBAAkB9L,KAAK8O,2BAA2BhP,EAAEsO,OAAO/J,EAAEoC,KAAKqC,QAAQ/I,IAAIW,GAAGV,KAAKuC,KAAKqK,OAAO,UAAU5M,KAAKwM,qBAAqB5M,EAAEG,IAAIS,EAAE6L,SAAStM,GAAGC,KAAKuM,oBAAoB9L,EAAEa,EAAEvB,GAAGC,KAAKsM,mBAAmBzM,EAAEU,EAAER,GAAGC,KAAK2M,8BAA1X3M,KAAKiM,YAA54M,oDAAwzNtM,GAAE,IAAyBI,EAAgEC,KAAlF6K,kBAAmCjL,EAA+CI,KAA9DiL,eAA0BpL,EAAoCG,KAA7CsC,SAAyB/B,EAAoBP,KAAlCoL,cAAwB3K,EAAUT,KAAlBkO,QAAe5M,EAAGtB,KAARuC,KAAazC,EAAEH,EAAEM,QAAQ,GAAGH,IAAIS,EAAE,OAAOA,EAAE6N,OAAO3N,EAAE2I,QAAQD,WAAW7H,EAAEsL,OAAO,WAAW,GAAG/M,EAAEwM,SAASvM,IAAIA,IAAIC,EAAcuB,EAAEsL,OAAO,YAAQ,GAAIhN,EAAEyM,SAASvM,GAAf,CAAkDH,EAAEM,QAAQmO,OAAO3N,EAAEyI,QAAQC,MAAM,IAAuBzI,EAAjBF,EAAEc,EAAEyN,SAAe1K,EAAE1E,EAAEO,MAAM,OAAOmE,EAAE,IAAI7D,GAAG,GAAGA,EAAE,GAAG6D,GAAG,EAAEA,EAAE7D,GAAG,IAAIA,EAAE,IAAI6D,EAAE,GAAG,EAAE7D,GAAG,IAAIA,EAAE,KAAK6D,EAAE,GAAG,EAAE7D,GAAG,KAAKA,EAAE,KAAK6D,EAAE,GAAG,EAAE7D,GAAG,KAAKA,EAAE,KAAK6D,EAAE,GAAG,EAAE7D,GAAG,KAAKA,EAAE,KAAK6D,EAAE,GAAG,EAAE7D,GAAG,KAAKA,EAAE,KAAK6D,EAAE,GAAG,GAAGA,EAAE,GAAG,GAAGA,GAAG,KAAK,EAAE3D,EAAE,cAAc,MAAM,KAAK,EAAEA,EAAE,YAAY,MAAM,KAAK,EAAEA,EAAE,cAAc,MAAM,KAAK,EAAEA,EAAE,YAAY,MAAM,KAAK,EAAEA,EAAE,cAAc,MAAM,KAAK,EAAEA,EAAE,YAAY,MAAM,KAAK,EAAEA,EAAE,cAAc,MAAM,KAAK,EAAEA,EAAE,YAAY,MAAM,QAAQA,EAAE,UAAUY,EAAEsL,OAAOlM,OAAjgBY,EAAEsL,OAAO,YAAlkO,mDAAylPjN,GAAE,IAAsBI,EAAoCC,KAAnDiL,eAA+BrL,EAAoBI,KAAlCoL,cAAwBvL,EAAUG,KAAlBkO,QAAe3N,EAAGP,KAARuC,KAAa5C,EAAEM,UAAUL,EAAEA,EAAEwO,OAAOvO,EAAEuJ,QAAQN,QAAQ/I,EAAEsM,SAAS1M,EAAEM,WAAWN,EAAEM,QAAQmO,OAAOvO,EAAEqJ,QAAQJ,SAASvI,EAAEqM,OAAO,YAAxwP,oCAAgyPjN,GAAE,IAAkBI,EAAiDC,KAA5D8J,WAA4BlK,EAAgCI,KAA/CiL,eAAqCpL,EAAUG,KAA9BmL,oBAA2B1K,EAAGT,KAARuC,KAAsBjB,EAA+BvB,EAAvC0N,QAAkB3N,EAAqBC,EAA7B2N,QAAiBlN,EAAYT,EAAnB4N,OAAgBjN,EAAGX,EAAV6N,OAAtG,EAA6InN,EAAEgE,MAAjBJ,EAA9H,EAAmH2K,WAAuBrO,EAA1I,EAAgIsO,UAAqBxL,EAAE7D,EAAE8D,QAAQ/D,GAAG,IAAI8D,GAAG,IAAIA,GAAGzD,KAAKkP,SAASvP,EAAE2B,GAAG,IAAImC,GAAG,IAAIA,GAAGzD,KAAKmP,SAASxP,EAAEG,GAAnO,MAAqPH,EAAEuE,SAATH,EAA9O,EAA4O5D,EAAMmE,EAAlP,EAAgPlE,EAAgBwD,EAAEjD,EAAE,GAAGoD,EAAEpD,EAAE,GAAG2D,EAAE3D,EAAE,GAAGkD,EAAElD,EAAE,GAAGoD,EAAEpD,EAAE,GAAG2D,EAAE3D,EAAE,GAAGoE,EAAEhF,EAAE8N,aAAa/I,KAAK,SAAAnF,GAAC,OAAEA,EAAEuE,YAAW,GAAGrE,EAAE,CAAC,IAAMF,EAAEgB,EAAE,GAAGW,EAAEX,EAAE,GAAGb,EAAEa,EAAE,GAAGZ,EAAEY,EAAE,GAAGW,EAAEX,EAAE,GAAGb,EAAEa,EAAE,GAAGf,EAAEe,EAAE,GAAGH,EAAEG,EAAE,GAAGD,EAAEC,EAAE,GAAGd,EAAEc,EAAE,GAAGH,EAAEG,EAAE,GAAGD,EAAEC,EAAE,GAAGX,KAAKiK,QAAQjK,KAAKkK,QAAQ3F,YAAE5E,EAAEI,EAAEH,EAAEC,EAAE+D,EAAEC,GAAjI,oBAAmJkB,GAAnJ,IAAoI,2BAAiB,KAAPpF,EAAO,QAAOI,EAAEgF,EAAErB,QAAQ/D,GAAGK,KAAKsC,SAASvC,GAAGmE,SAAS9D,YAAET,EAAEK,KAAKiK,QAAQjK,KAAKkK,QAAQ,CAAC5I,EAAExB,KAAtO,8BAA0OE,KAAKoP,+BAA+B,KAAazP,EAAYI,EAAlBiJ,MAAepJ,EAAGG,EAAVyN,OAAgB3N,EAAEkE,EAAEvD,EAAEG,EAAED,EAAE4D,EAAE,GAAG,IAAIb,GAAG,IAAIA,EAAE5D,EAAE,EAAE,IAAI4D,GAAG,IAAIA,IAAI9C,EAAE,GAAG,IAAId,GAAG,IAAIc,EAAE,OAAO,IAAMiD,EAAEjE,GAAGa,EAAEc,EAAEzB,GAAG,EAAEA,GAAGgE,EAAEjE,GAAGc,EAAEZ,EAAEa,GAAG,EAAEA,GAAG4D,EAAEjD,EAAEzB,EAAE,EAAEwF,EAAEvF,EAAEa,EAAE,EAAEX,KAAKiK,QAAQrG,EAAEjE,GAAG,EAAEK,KAAKkK,QAAQrG,EAAEjE,GAAG,EAAE,IAAI6D,GAAG,IAAIA,EAAEzD,KAAKiK,QAAQ,EAAE,IAAIxG,GAAG,IAAIA,IAAIzD,KAAKkK,QAAQ,GAAG,IAAM0B,GAAGrH,EAAEjD,GAAG+C,EAAEL,GAAGqB,EAAEvF,GAAGuE,EAAEnD,EAAEd,YAAEL,EAAEgO,IAAI/N,KAAKiK,QAAQjK,KAAKkK,SAASlK,KAAK6K,kBAAkB3G,SAASJ,YAAE5C,EAAE0K,EAAE5H,EAAEvD,GAAE,GAA3W,QAA0YT,KAAKiO,gBAAgBjO,KAAK6K,mBAAvC1K,EAA7X,EAAqXsN,QAAkB3F,EAAvY,EAA+X4F,QAAwD1F,GAAG7H,EAAEmB,GAAG+C,EAAE4D,GAAG,GAAGH,EAAEhI,GAAGuE,EAA5c,cAA6dU,GAA7d,IAA8c,2BAAiB,KAAPpF,EAAO,QAAOI,EAAEgF,EAAErB,QAAQ/D,GAAGC,EAAEQ,YAAET,EAAEK,KAAKiK,QAAQjK,KAAKkK,QAAQ,CAAC5I,EAAExB,IAAIE,KAAKsC,SAASvC,GAAGmE,SAASJ,YAAElE,EAAEoI,EAAEC,EAAExH,GAAE,IAAhkB,8BAAokBT,KAAK4K,cAAc1G,SAAS,IAAI3D,IAAEJ,EAAE2H,EAAErH,EAAEsG,qBAAj/R,qCAAmhSpH,GAAE,MAA6DK,KAAK8J,WAAnD/J,EAAf,EAAO0N,QAAkB7N,EAAzB,EAAiB8N,QAAiB7N,EAAlC,EAA2B8N,OAAgBlN,EAA3C,EAAoCmN,OAAatM,EAAjD,EAA6CyM,IAAajO,EAA1D,EAAmDkO,OAAnD,EAAuFrO,EAAEuE,SAAT1D,EAAhF,EAA8EL,EAAMO,EAApF,EAAkFN,EAAgBiE,EAAE,IAAI9D,IAAER,EAAEH,EAAEI,KAAKuC,KAAKwE,kBAAkB/G,KAAK4J,iBAAiBvE,YAAEtF,EAAEH,EAAEC,EAAEY,EAAED,EAAEE,GAAG,IAA/K,EAAqLC,EAAEX,KAAK8J,WAAW+D,aAAa/I,KAAK,SAAAnF,GAAC,OAAEA,EAAEuE,YAA9N,cAAwPvD,GAAxP,IAAyO,2BAAiB,KAAPhB,EAAO,QAAOI,EAAEY,EAAE+C,QAAQ/D,GAAGC,EAAEoE,EAAErE,EAAEK,KAAK4J,iBAAiBvF,GAAGrE,KAAKsC,SAASvC,GAAGmE,SAAStE,GAAzU,8BAA2UI,KAAK6K,kBAAkB3G,SAASF,EAAE1C,EAAEtB,KAAK4J,iBAAiBvF,GAAGrE,KAAKoL,cAAclH,SAASF,EAAElE,EAAEE,KAAK4J,iBAAiBvF,KAAn9S,mCAAm+S1E,EAAEI,EAAEH,GAAG,GAAGI,KAAKsC,SAAS+J,SAAS1M,GAAG,CAAC,IAAME,EAAEG,KAAK6K,kBAAkB3G,SAASlE,KAAK6K,kBAAkB3G,SAASJ,YAAEjE,EAAEE,EAAEH,EAAEI,KAAKuC,MAAtF,oBAA2GvC,KAAKsC,UAAhH,IAA4F,gCAAUzC,EAAV,QAA6BA,IAAIF,IAAIE,EAAEqE,SAASJ,YAAEjE,EAAEqE,SAASnE,EAAEH,EAAEI,KAAKuC,QAAlK,oCAA8K,GAAG5C,IAAIK,KAAK4K,cAAc,CAAC,IAAMjL,EAAEK,KAAK6K,kBAAkB3G,SAASlE,KAAK6K,kBAAkB3G,SAASJ,YAAEnE,EAAEI,EAAEH,EAAEI,KAAKuC,MAAM,GAAG5C,IAAIK,KAAK6K,mBAAmBlL,IAAIK,KAAK4K,cAAxC,qBAAqE5K,KAAKsC,UAA1E,IAAsD,gCAAU3C,EAAV,QAA6BA,EAAEuE,SAASJ,YAAEnE,EAAEuE,SAASnE,EAAEH,EAAEI,KAAKuC,OAApH,kCAA3yT,uCAAq7T,IAA0B5C,EAAaK,KAAhCwJ,mBAA6BzJ,EAAGC,KAAXkO,QAAgBlO,KAAK+M,KAAK,gBAAgB,IAAIhJ,IAAE,KAAKhE,EAAE6I,gBAAgBjJ,IAAIK,KAAKqL,mBAAmBrL,KAAKkL,MAAMzI,IAAIzC,KAAK4K,eAAe5K,KAAK+M,KAAK,oBAAoB,IAAIhJ,IAAE,KAAKhE,EAAE0G,KAAKqC,QAAQnJ,IAAIK,KAAKkL,MAAMzI,IAAIzC,KAAK6K,mBAAmB7K,KAAK6J,mBAAmB,IAAI9F,IAAE,KAAKhE,EAAEsJ,YAAY1J,GAAGK,KAAK+M,KAAK,gBAAgB,IAAIhJ,IAAE,KAAKhE,EAAEqJ,QAAQN,QAAQnJ,IAAIK,KAAK+K,iBAAiB/K,KAAKqP,sBAAsBrP,KAAKkL,MAAMzI,IAAIzC,KAAK6J,oBAAoB7J,KAAKkL,MAAMzI,IAAIzC,KAAKoL,gBAAgB,IAAI,IAAIxL,EAAE,EAAEA,EAAE,EAAEA,IAAII,KAAKiL,eAAenE,KAAK,IAAI/C,IAAE,KAAKhE,EAAEmJ,QAAQJ,QAAQnJ,IAAIK,KAAKgL,eAAehL,KAAKkL,MAAMoE,QAAQtP,KAAKiL,kBAAhiV,wCAAkkVjL,KAAKoP,2BAA2BpP,KAAKuP,wBAAwBvP,KAAKwP,uBAAuBxP,KAAK+L,uBAAuB/L,KAAKgM,6BAA5rV,kDAAmvVhM,KAAK4K,cAAc6E,SAAQ,EAAGzP,KAAKoL,cAAcqE,SAAQ,EAAGzP,KAAK6J,mBAAmB4F,SAAQ,EAAGzP,KAAKiL,eAAe7H,SAAS,SAAAzD,GAAC,OAAEA,EAAE8P,SAAQ,OAA53V,iDAA45VzP,KAAK+K,iBAAiB/K,KAAK6J,mBAAmB4F,SAAQ,EAAGzP,KAAKoL,cAAcqE,SAAQ,GAAIzP,KAAKqL,oBAAoBrL,KAAK4K,cAAc6E,SAAQ,GAAIzP,KAAKgL,eAAehL,KAAKiL,eAAe7H,SAAS,SAAAzD,GAAC,OAAEA,EAAE8P,SAAQ,OAA1mW,8CAAsoW,WAAO9P,EAAEK,KAAK0P,iBAAgB,GAAI1P,KAAKiL,eAAe7H,SAAS,SAACrD,EAAEH,GAAI,kBAAYD,EAAEC,GAAd,GAAOC,EAAP,KAASU,EAAT,KAAiB,EAAKoP,UAAU5P,EAAEF,EAAEU,QAAhvW,iDAAixW,IAAMZ,EAAEK,KAAK0P,kBAAkB1P,KAAK6K,kBAAkB3G,SAAS,IAAIpE,IAAE,CAACsH,MAAMzH,EAAEoH,iBAAiB/G,KAAKuC,KAAKwE,qBAA13W,6CAAm6W,MAAgB/G,KAAKsN,cAAcvI,eAAnC,mBAAOpF,EAAP,KAASI,EAAT,KAAwCU,GAAxC,KAA6Cd,GAAG,EAAE2B,GAAlD,KAAuDvB,GAAG,EAAEC,KAAK4K,cAAc1G,SAAS,IAAI3D,IAAEE,EAAEa,EAAEtB,KAAKuC,KAAKwE,oBAA/gX,6CAAwjX,GAAI/G,KAAKiL,eAAepG,OAAxB,CAAD,MAAsD7E,KAAKiL,eAAe,GAAG/G,SAA9BvE,EAA/C,EAA6CQ,EAAyCP,EAAtF,EAAiDQ,EAAyCJ,KAAKuC,KAAKkC,MAAMuK,WAAWhP,KAAK2J,qBAAqB3J,KAAKoL,cAAclH,SAAS,IAAI3D,IAAEZ,EAAEC,EAAEI,KAAKuC,KAAKwE,qBAAtvX,iDAAmyX,GAAI/G,KAAKiL,eAAepG,QAAS7E,KAAKoL,eAAgBpL,KAAKoL,cAAclH,SAAzE,CAAyF,IAAMvE,EAAEK,KAAKiL,eAAe,GAAG/G,SAASnE,EAAEC,KAAKoL,cAAclH,SAASlE,KAAK6J,mBAAmB3F,SAAS,IAAI1D,IAAE,CAACkH,MAAM,CAAC,CAAC/H,EAAEQ,EAAER,EAAES,GAAG,CAACL,EAAEI,EAAEJ,EAAEK,IAAI2G,iBAAiB/G,KAAKuC,KAAKwE,sBAAjiY,gCAA8jYpH,EAAEI,EAAEH,GAAGD,EAAEuE,SAAS,IAAI3D,IAAER,EAAEH,EAAEI,KAAKuC,KAAKwE,oBAApmY,+BAA+nYpH,EAAEI,GAAG,IAAMH,EAAED,EAAEuE,SAAS9D,EAAET,EAAEuE,SAAS,IAAI3D,IAAER,EAAEH,EAAEI,KAAKuC,KAAKwE,oBAAxrY,+BAAmtYpH,EAAEI,GAAG,IAAMH,EAAED,EAAEuE,SAAS/D,EAAER,EAAEuE,SAAS,IAAI3D,IAAEX,EAAEG,EAAEC,KAAKuC,KAAKwE,oBAA5wY,0CAAkzY,OAAO/G,KAAKsC,SAASsN,MAAM,SAAAjQ,GAAC,OAAEA,GAAGI,YAAEJ,EAAEuE,WAAW,WAAWvE,EAAEuE,SAAS5D,UAAx3Y,oCAA64YX,GAAG,IAAMI,EAAEC,KAAKsC,SAASwC,KAAK,SAAAnF,GAAC,OAAEA,EAAEuE,YAAW,OAAOlE,KAAKsL,WAAW3L,EAAEI,KAAp9Y,sCAAu+YJ,GAAE,MAAgBK,KAAKsN,cAAcvI,eAAnC,mBAAOhF,EAAP,KAASH,EAAT,KAAWC,EAAX,KAAaU,EAAb,KAAwC,GAAGZ,EAAE,CAAC,IAAMA,GAAGI,EAAEF,GAAG,EAAEY,GAAGF,EAAEX,GAAG,EAAE,MAAM,CAAC,CAACG,EAAEQ,GAAG,CAACZ,EAAEY,GAAG,CAACV,EAAEU,GAAG,CAACV,EAAEY,GAAG,CAACZ,EAAED,GAAG,CAACD,EAAEC,GAAG,CAACG,EAAEH,GAAG,CAACG,EAAEU,IAAI,MAAM,CAAC,CAACV,EAAEQ,GAAG,CAACV,EAAEU,GAAG,CAACV,EAAED,GAAG,CAACG,EAAEH,MAAroZ,0CAA6pZD,EAAEI,EAAEH,GAAG,IAAMC,EAAE,IAAIiI,EAAE9H,KAAKsC,SAAS1C,EAAED,EAAEI,GAAGC,KAAK2D,KAAK,aAAa9D,GAAGG,KAAK2B,UAAUwI,aAAanK,KAAK2B,UAAUwI,YAAYtK,KAAxxZ,qCAA0yZF,EAAEI,EAAEH,GAAG,IAAMC,EAAE,IAAImI,EAAEhI,KAAKsC,SAAS1C,EAAED,EAAEI,GAAGC,KAAK2D,KAAK,OAAO9D,GAAGG,KAAK2B,UAAUyI,QAAQpK,KAAK2B,UAAUyI,OAAOvK,KAAr5Z,yCAA26ZF,EAAEI,EAAEH,GAAG,IAAMC,EAAE,IAAIoI,EAAEjI,KAAKsC,SAAS1C,EAAED,EAAEI,GAAGC,KAAK2D,KAAK,YAAY9D,GAAGG,KAAK2B,UAAU0I,YAAYrK,KAAK2B,UAAU0I,WAAWxK,KAAnia,4CAA4jaF,EAAEI,GAAG,IAAMH,EAAE,IAAIsI,EAAElI,KAAKsC,SAASvC,EAAEJ,GAAGK,KAAK2D,KAAK,eAAe/D,GAAGI,KAAK2B,UAAU8I,eAAezK,KAAK2B,UAAU8I,cAAc7K,KAAzra,uCAA6saD,EAAEI,GAAG,IAAMH,EAAE,IAAIwI,EAAEpI,KAAKsC,SAASvC,EAAEJ,GAAGK,KAAK2D,KAAK,SAAS/D,GAAGI,KAAK2B,UAAU+I,UAAU1K,KAAK2B,UAAU+I,SAAS9K,KAA1za,2CAAk1aD,EAAEI,GAAG,IAAMH,EAAE,IAAIyI,EAAErI,KAAKsC,SAASvC,EAAEJ,GAAGK,KAAK2D,KAAK,cAAc/D,GAAGI,KAAK2B,UAAUgJ,cAAc3K,KAAK2B,UAAUgJ,aAAa/K,KAA58a,2CAAo+aD,EAAEI,EAAEH,GAAG,IAAMC,EAAE,IAAIyI,EAAEtI,KAAKsC,SAAS1C,EAAED,EAAEI,GAAGC,KAAK2D,KAAK,cAAc9D,GAAGG,KAAK2B,UAAU2I,cAActK,KAAK2B,UAAU2I,aAAazK,KAAlmb,sCAAqnbF,EAAEI,EAAEH,GAAG,IAAMC,EAAE,IAAI4I,EAAEzI,KAAKsC,SAAS1C,EAAED,EAAEI,GAAGC,KAAK2D,KAAK,QAAQ9D,GAAGG,KAAK2B,UAAU4I,SAASvK,KAAK2B,UAAU4I,QAAQ1K,KAAnub,0CAA0vbF,EAAEI,EAAEH,GAAG,IAAMC,EAAE,IAAI+H,EAAE5H,KAAKsC,SAAS1C,EAAED,EAAEI,GAAGC,KAAK2D,KAAK,aAAa9D,GAAGG,KAAK2B,UAAU6I,aAAaxK,KAAK2B,UAAU6I,YAAY3K,KAAr3b,4BAA0zD,IAAMF,IAAIK,KAAKgF,IAAI,cAAcjF,KAAKC,KAAKgF,IAAI,qBAAqBhF,KAAKgF,IAAI,UAAU,OAAOrF,GAAGI,EAAE,SAASJ,EAAE,QAAQ,aAAh7D,4BAAu8DA,GAAE,MAA8HA,GAAG,GAAjI,IAAOiJ,gBAAgB7I,OAAvB,MAAyB4I,EAAEC,gBAA3B,MAA2CnC,KAAK7G,OAAhD,MAAkD+I,EAAElC,KAApD,MAAyDyC,QAAQrJ,OAAjE,MAAmE8I,EAAEO,QAArE,MAA6EE,QAAQ7I,OAArF,MAAuFoI,EAAES,QAAzF,MAAiGC,YAAY5I,OAA7G,MAA+GkI,EAAEU,YAAjH,EAAoIrJ,KAAK+M,KAAK,UAAU,CAACnE,gBAAgB7I,EAAE0G,KAAK7G,EAAEsJ,QAAQrJ,EAAEuJ,QAAQ7I,EAAE8I,YAAY5I,QAA3pE,GAAeC,IAAEuE,iBAAy2btF,YAAE,CAACC,eAAK0J,EAAEpE,UAAU,0BAAqB,GAAQvF,YAAE,CAACC,YAAE,CAACuF,UAAS,KAAMmE,EAAEpE,UAAU,YAAO,GAAQvF,YAAE,CAACC,eAAK0J,EAAEpE,UAAU,iBAAY,GAAQvF,YAAE,CAACC,YAAE,CAACuF,UAAS,KAAMmE,EAAEpE,UAAU,qBAAgB,GAAQvF,YAAE,CAACC,YAAE,CAACuF,UAAS,KAAMmE,EAAEpE,UAAU,yBAAoB,GAAQvF,YAAE,CAACC,eAAK0J,EAAEpE,UAAU,sBAAiB,GAAQvF,YAAE,CAACC,eAAK0J,EAAEpE,UAAU,sBAAiB,GAAQvF,YAAE,CAACC,eAAK0J,EAAEpE,UAAU,qBAAgB,GAAQvF,YAAE,CAACC,eAAK0J,EAAEpE,UAAU,gBAAW,GAAQvF,YAAE,CAACC,YAAE,CAACuF,UAAS,KAAMmE,EAAEpE,UAAU,sBAAiB,GAAQvF,YAAE,CAACC,eAAK0J,EAAEpE,UAAU,aAAQ,GAAQvF,YAAE,CAACC,eAAK0J,EAAEpE,UAAU,2BAAsB,GAAQvF,YAAE,CAACC,YAAE,CAACuF,UAAS,KAAMmE,EAAEpE,UAAU,qBAAgB,GAAQvF,YAAE,CAACC,eAAK0J,EAAEpE,UAAU,yBAAoB,GAAQvF,YAAE,CAACC,YAAE,CAACwF,UAAU,CAAC,aAAa,kBAAkB,SAASD,UAAS,KAAMmE,EAAEpE,UAAU,QAAQ,MAAMvF,YAAE,CAACC,YAAE,CAACiQ,MAAMlH,KAAKW,EAAEpE,UAAU,UAAU,MAAMvF,YAAE,CAACC,eAAK0J,EAAEpE,UAAU,YAAO,GAAkD,IAAI4K,EAA9CxG,EAAE3J,YAAE,CAACE,YAAE,gCAAgCyJ,GAA0BwG,a,uQCAh0hBxH,EAAEzI,IAAEkQ,UAAU,6CAAiD7H,EAAC,kDAAiB,WAAYnI,GAAE,kCAAC,cAAMA,IAAQmL,MAAM,KAAK,EAAK8E,aAAY,EAAG,EAAKC,YAAW,EAAG,EAAKC,WAAU,EAAG,EAAKC,UAAS,EAAG,EAAKvD,OAAO,KAAK,EAAKwD,OAAO,IAAI1P,IAAE2P,aAAa,EAAKC,sBAAsB,KAAK,EAAKC,4BAA4B,KAAK,EAAKC,gBAAgB,KAA/O,EAA/B,gEAAuyB,OAAM,IAA7yB,gCAAkuCxQ,KAAKyQ,sBAAsBzQ,KAAK0Q,sBAAsB1Q,KAAK+M,KAAK,OAAO,QAAzyC,2CAAo0ChN,GAAG,IAAMJ,EAAEK,KAAK2Q,KAAK,WAAW,IAAG,IAAKhR,EAAE8P,QAAQ,OAAO,KAAK,IAAM5P,EAAEG,KAAK2Q,KAAK,iBAAiBpQ,EAAEX,YAAEC,GAAGA,EAAEF,EAAEyO,OAAO/J,EAAE1E,EAAEuE,SAAS,OAAO5C,YAAE+C,GAAG,KAAK,OAAOrE,KAAKuC,KAAKjC,KAAKN,KAAK4Q,qBAAqB5Q,KAAKuC,KAAKxC,EAAEsE,EAAE9D,GAAGP,KAAK6Q,qBAAqB7Q,KAAKuC,KAAKxC,EAAEJ,KAA5jD,+BAAwkDK,KAAK8Q,sBAAsBlR,YAAEI,KAAKkL,QAAQlL,KAAKkL,MAAMzI,IAAIzC,KAAKC,WAAtoD,+BAAwpDD,KAAKyQ,sBAAsBzQ,KAAK0Q,sBAAsB9Q,YAAEI,KAAKkL,QAAQlL,KAAKkL,MAAM4B,OAAO9M,KAAKC,WAApvD,4CAAkxD,WAACD,KAAKyQ,sBAAsBzQ,KAAKuQ,4BAA4BvQ,KAAKC,QAAQ8Q,MAAM,UAAU,SAAAhR,GAAIH,YAAEG,IAAIA,IAAI,EAAKiR,eAAejR,IAAI,EAAKyQ,kBAAkB,EAAKA,gBAAgBzQ,EAAE,EAAKkR,UAAUrR,YAAE,EAAKoR,iBAAiB,EAAK/Q,QAAQmO,OAAO,EAAK4C,mBAAkB,KAAlhE,4CAA4iEpR,YAAEI,KAAKuQ,+BAA+BvQ,KAAKuQ,4BAA4BzD,SAAS9M,KAAKuQ,4BAA4B,QAA7pE,6CAA0rEvQ,KAAKC,QAAQmO,OAAOpO,KAAKiR,UAAUrR,YAAEI,KAAKgR,eAAehR,KAAKgR,cAAchR,KAAKwQ,kBAA3wE,4CAAizExQ,KAAKC,QAAQmO,OAAOpO,KAAKwQ,kBAA10E,2CAA+2EzQ,EAAEJ,EAAEE,EAAEU,GAAG,GAAGA,EAAEA,GAAGgE,YAAE1E,GAAGyB,YAAEf,GAAG,OAAO,KAAK,IAAI8D,EAAErE,KAAKsQ,sBAAsB,GAAG,UAAUzQ,EAAES,MAAM,kBAAkBC,EAAED,KAAK,OAAOsL,YAAEjM,EAAEE,EAAEE,GAAG,EAAE,KAAK,GAAGuB,YAAE+C,KAAKA,EAAE6M,cAAcC,OAAOtR,GAAG,CAAC,IAAMF,EAAEE,EAAED,EAAEG,EAAEgH,iBAAiB,GAAGnD,YAAEjE,EAAEoH,iBAAiBnH,GAAG,CAAC,IAAMG,EAAEK,YAAET,EAAEC,GAAGyE,EAAE,CAAC6M,cAAcvR,EAAEyR,QAAQC,SAAStR,EAAEuR,SAAS9Q,YAAED,EAAEuF,OAAO9F,KAAKsQ,sBAAsBjM,GAAG,GAAGzE,YAAEyE,GAAG,CAAC,IAAMzE,EAAEE,YAAEH,EAAEmE,GAAGxC,EAAEvB,EAAEwR,SAASlN,EAAEgN,UAAUxR,EAAEwE,EAAEiN,SAAS7Q,EAAEa,EAAEnB,EAAEK,YAAED,EAAEiR,SAAS9Q,EAAEY,EAAElB,EAAEI,YAAED,EAAEkR,SAAS,OAAO5N,YAAEjE,EAAE,CAACa,EAAEC,IAAIb,EAAEA,EAAE,EAAE,KAAK,OAAO,OAA30F,2CAAq2FE,EAAEJ,EAAEC,GAAG,IAAM0B,EAAEvB,EAAE2R,MAAM/R,EAAE,CAACgS,QAAQ,CAAC/R,KAAK,OAAO0B,GAAGmC,YAAEnC,EAAE0C,EAAEjE,EAAE6R,wBAAwBtN,YAAEN,EAAEjE,EAAE0E,MAAMoN,OAAOC,KAAK,OAA/8F,4BAA+R/R,GAAG,SAASJ,YAAEI,EAAEmE,SAAS,SAASlE,KAAKsQ,sBAAsB,KAAKtQ,KAAKwQ,gBAAgBzQ,EAAEqO,OAAOpO,KAAK+M,KAAK,UAAUhN,GAAGC,KAAK8Q,uBAAuBxI,EAAEyJ,MAAM,uCAA1b,oCAAmf,IAAMhS,EAAE,kBAAkBC,KAAKC,QAAQiL,OAAOlL,KAAKC,QAAQiL,MAAM8G,cAAcrS,EAAEoF,YAAE/E,KAAKC,SAASL,EAAEG,EAAEA,EAAEkS,OAAO,EAAE,OAAO,IAAI5M,IAAE,CAAC6M,KAAKvS,EAAEsS,OAAOrS,MAA/nB,kCAAqpBG,GAAGA,IAAIC,KAAK2Q,KAAK,mBAAmB3Q,KAAK+M,KAAK,gBAAgBhN,GAAGC,KAAKmS,uBAAuBnS,KAAKsQ,sBAAsB,QAA7wB,6BAA6zBvQ,GAAGA,IAAIC,KAAK2Q,KAAK,cAAc3Q,KAAK+M,KAAK,WAAWhN,GAAGC,KAAKmS,0BAAz3B,6BAA85BpS,GAAGA,IAAIC,KAAK2Q,KAAK,cAAc3Q,KAAK+M,KAAK,WAAWhN,GAAGC,KAAKmS,0BAA19B,6BAA+/BpS,GAAGA,IAAIC,KAAK2Q,KAAK,cAAc3Q,KAAK+M,KAAK,WAAWhN,GAAGC,KAAKmS,uBAAuBnS,KAAKoQ,OAAOzM,KAAK,iBAAiB,CAACM,OAAOlE,EAAE,SAAS,gBAAvoC,+BAAoqC,OAAOC,KAAK2Q,KAAK,aAAa3Q,KAAK2Q,KAAK,gBAA5sC,GAAelQ,KAAu8FV,YAAE,CAACQ,YAAE,CAAC6R,eAAc,EAAGC,aAAY,KAAMnK,EAAEhD,UAAU,UAAU,MAAMnF,YAAE,CAACQ,YAAE,CAAC4E,UAAS,EAAGC,UAAU,CAAC,cAAc8C,EAAEhD,UAAU,gBAAgB,MAAMnF,YAAE,CAACQ,YAAE,CAAC6R,eAAc,EAAGC,aAAY,KAAMnK,EAAEhD,UAAU,YAAO,GAAQnF,YAAE,CAACQ,YAAE,CAACsP,MAAM,QAAQ3H,EAAEhD,UAAU,gBAAgB,MAAMnF,YAAE,CAACQ,YAAE,CAAC6R,eAAc,KAAMlK,EAAEhD,UAAU,aAAQ,GAAQnF,YAAE,CAACQ,eAAK2H,EAAEhD,UAAU,mBAAc,GAAQnF,YAAE,CAACQ,eAAK2H,EAAEhD,UAAU,kBAAa,GAAQnF,YAAE,CAACQ,eAAK2H,EAAEhD,UAAU,iBAAY,GAAQnF,YAAE,CAACQ,YAAE,CAACsP,OAAM,KAAM3H,EAAEhD,UAAU,WAAW,MAAMnF,YAAE,CAACQ,eAAK2H,EAAEhD,UAAU,gBAAW,GAAQnF,YAAE,CAACQ,eAAK2H,EAAEhD,UAAU,WAAW,MAAMnF,YAAE,CAACQ,YAAE,CAACsP,OAAM,KAAM3H,EAAEhD,UAAU,WAAW,MAAMnF,YAAE,CAACQ,eAAK2H,EAAEhD,UAAU,cAAS,GAAQgD,EAAEnI,YAAE,CAACsE,YAAE,8CAA8C6D,GAAG,IAAMlE,EAAED,cAAID,EAAEnD","file":"static/js/36.9ea82c18.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as t}from\"../../../core/lang.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import{watch as h,whenOnce as c}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as n}from\"../../input/InputManager.js\";import{createScreenPointFromEvent as p}from\"../../support/screenUtils.js\";import{cloneMove as l}from\"./drawUtils.js\";import{GraphicManipulator as v}from\"../../interactive/GraphicManipulator.js\";import{GraphicClickEvent as d,GraphicDoubleClickEvent as g,GraphicPointerDownEvent as _,GraphicPointerUpEvent as G,GraphicPointerOutEvent as m,GraphicMoveStartEvent as u,GraphicMoveEvent as y,GraphicMoveStopEvent as f,GraphicPointerOverEvent as w}from\"./input/GraphicMoverEvents.js\";let k=class extends a.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._handles=new o,this._hoverGraphic=null,this._initialDragGeometry=null,this._viewHandles=new o,this._manipulators=[],this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.view=null}initialize(){this._setUpManipulators(),this._handles.add([h(this,[\"graphics\",\"graphics.length\"],(()=>{this._setUpManipulators()})),c(this,\"view.ready\",(()=>{this._viewHandles.add([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),n.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),n.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),n.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),n.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),n.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),n.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),n.TOOL)])}))])}destroy(){this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null,this._viewHandles.removeAll(),this._handles.removeAll()}get state(){const i=!!this.get(\"view.ready\"),t=!!this.get(\"graphics.length\"),e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null}updateGeometry(i,t){const e=this.graphics[i];e&&e.set(\"geometry\",t)}_clickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new d(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new g(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(p(i));if(t){this._activeGraphic=t;const{x:e,y:r}=i,s=new _(t,this.graphics.indexOf(t),e,r,i);this.emit(\"graphic-pointer-down\",s),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(s)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._activeGraphic),s=new G(this._activeGraphic,r,t,e,i);this.emit(\"graphic-pointer-up\",s),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(s)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(p(i));if(t){const{x:e,y:r}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const s=this.graphics.indexOf(this._hoverGraphic),a=new m(this.graphics[s],s,e,r,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",a),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(a)}const s=this.graphics.indexOf(t),a=new w(t,s,e,r,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",a),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(a))}if(this._hoverGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._hoverGraphic),s=new m(this.graphics[r],r,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;i.stopPropagation();const{action:e,x:r,y:s}=i,a=this.graphics.indexOf(this._activeGraphic),o=this._activeGraphic.geometry,h=this._dragEvent?r-this._dragEvent.x:0,c=this._dragEvent?s-this._dragEvent.y:0,n=r-i.origin.x,p=s-i.origin.y;if(this._activeGraphic.geometry=l(o,h,c,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=l(i.geometry,h,c,this.view))})),this._dragEvent=i,\"start\"===e){this._initialDragGeometry=t(o);const e=new u(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move-start\",e),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(e),e.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else if(\"update\"===e){const t=new y(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else{const t=new f(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this._dragEvent=null,this._activeGraphic=null,this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&this.graphics[a].set(\"geometry\",this._initialDragGeometry),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){let t=null,r=Number.MAX_VALUE;return this._manipulators.forEach((s=>{const a=s.intersectionDistance(i);e(a)&&a<r&&(r=a,t=s.graphic)})),t}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=null!=i&&i.length?i.map((i=>new v({graphic:i,view:t}))):[]}};i([r()],k.prototype,\"_activeGraphic\",void 0),i([r({readOnly:!0})],k.prototype,\"type\",void 0),i([r()],k.prototype,\"callbacks\",void 0),i([r()],k.prototype,\"enableMoveAllGraphics\",void 0),i([r()],k.prototype,\"graphics\",void 0),i([r({dependsOn:[\"view.ready\",\"graphics.length\",\"_activeGraphic\"],readOnly:!0})],k.prototype,\"state\",null),i([r()],k.prototype,\"view\",void 0),k=i([s(\"esri.views.draw.support.GraphicMover\")],k);var b=k;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";const o={main:new e([255,127,0]),selected:new e([255,255,255]),outline:new e([0,0,0,.5]),selectedOutline:new e([255,255,255]),hoverOutline:new e([255,255,255]),secondary:new e([255,255,255]),secondaryOutline:new e([100,100,100]),transparent:new e([0,0,0,0])};function t(e,o){if(o)for(const t in o)e[t]=o[t]}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,t(this,e)}}class n{constructor(e){this.color=o.secondary,this.hoverColor=o.main,t(this,e)}}class r{constructor(e){this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,t(this,e)}}class i{constructor(e){this.vertex=new s,this.midpoint=new s({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new s({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),t(this,e)}}class l{constructor(e){this.center=new s({color:o.secondaryOutline}),this.fill=new r,this.line=new n,this.vertex=new s({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),t(this,e)}}const c=new class{constructor(e){this.reshapeGraphics=new i,this.transformGraphics=new l,t(this,e)}};export{o as colors,c as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport n from\"../Point.js\";import e from\"../Multipoint.js\";import t from\"../Polygon.js\";import r from\"../Polyline.js\";import\"../../geometry.js\";function i(n){let e=0,t=0;const r=n.length;let i,o=n[t];for(t=0;t<r-1;t++)i=n[t+1],e+=(i[0]-o[0])*(i[1]+o[1]),o=i;return e>=0}function o(n,e,t,r){const i=[];for(const o of n){const n=o.slice(0);i.push(n);const s=e*(o[0]-r.x)-t*(o[1]-r.y)+r.x,l=t*(o[0]-r.x)+e*(o[1]-r.y)+r.y;n[0]=s,n[1]=l}return i}function s(s,l,a){const c=s.spatialReference,f=l*Math.PI/180,m=Math.cos(f),x=Math.sin(f);var p,u;\"xmin\"in s&&(a=null!=(p=a)?p:s.center,s=new t({spatialReference:c,rings:[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]}));if(\"paths\"in s){var y;a=null!=(y=a)?y:s.extent.center;const n=[];for(const e of s.paths)n.push(o(e,m,x,a));return new r({spatialReference:c,paths:n})}if(\"rings\"in s){var h;a=null!=(h=a)?h:s.extent.center;const n=[];for(const e of s.rings){const t=i(e),r=o(e,m,x,a);i(r)!==t&&r.reverse(),n.push(r)}return new t({spatialReference:c,rings:n})}if(\"x\"in s){var g;a=null!=(g=a)?g:s;const e=new n({x:m*(s.x-a.x)-x*(s.y-a.y)+a.x,y:x*(s.x-a.x)+m*(s.y-a.y)+a.y,spatialReference:c});return null!=s.z&&(e.z=s.z),null!=s.m&&(e.m=s.m),e}return\"points\"in s?(a=null!=(u=a)?u:s.extent.center,new e({points:o(s.points,m,x,a),spatialReference:c})):null}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import r from\"../../../geometry/Point.js\";import{geometryToCoordinates as a}from\"../../../geometry/support/coordsUtils.js\";import{getRingsOrPathsBounds as o}from\"../../../geometry/support/boundsUtils.js\";import h from\"../../../geometry/Polygon.js\";import c from\"../../../geometry/Polyline.js\";import\"../../../geometry.js\";import n from\"../../../core/Evented.js\";import l from\"../../../symbols/SimpleLineSymbol.js\";import p from\"../../../symbols/SimpleFillSymbol.js\";import d from\"../../../symbols/SimpleMarkerSymbol.js\";import m from\"../../../Graphic.js\";import u from\"../../../core/Handles.js\";import{whenOnce as g,pausable as _}from\"../../../core/watchUtils.js\";import{create as v}from\"../../../geometry/support/aaBoundingRect.js\";import{cloneMove as G,scale as y,getScaleRatio as f,getRotationAngle as b}from\"./drawUtils.js\";import{addUniqueLayer as S}from\"./layerUtils.js\";import w from\"../../../geometry/support/rotate.js\";import k from\"./GraphicMover.js\";import{settings as x}from\"./settings.js\";class R{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-start\"}}class M{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move\"}}class I{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-stop\"}}class C{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-start\"}}class E{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate\"}}class O{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-stop\"}}class j{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-start\"}}class L{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale\"}}class z{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-stop\"}}const B=x.transformGraphics,Y={centerIndicator:new d({style:\"cross\",size:B.center.size,color:B.center.color}),fill:{default:new p({color:B.fill.color,outline:{color:B.fill.outlineColor,join:\"round\",width:1}}),active:new p({color:B.fill.stagedColor,outline:{color:B.fill.outlineColor,join:\"round\",style:\"dash\",width:1}})},handles:{default:new d({style:\"square\",size:B.vertex.size,color:B.vertex.color,outline:{color:B.vertex.outlineColor,width:1}}),hover:new d({style:\"square\",size:B.vertex.hoverSize,color:B.vertex.hoverColor,outline:{color:B.vertex.hoverOutlineColor,width:1}})},rotator:{default:new d({style:\"circle\",size:B.vertex.size,color:B.vertex.color,outline:{color:B.vertex.outlineColor,width:1}}),hover:new d({style:\"circle\",size:B.vertex.hoverSize,color:B.vertex.hoverColor,outline:{color:B.vertex.hoverOutlineColor,width:1}})},rotatorLine:new l({color:B.line.color,width:1})};let N=class extends n.EventedAccessor{constructor(t){super(t),this._activeHandleGraphic=null,this._graphicAttributes={esriSketchTool:\"box\"},this._handles=new u,this._mover=null,this._rotateGraphicOffset=20,this._angleOfRotation=0,this._rotateLineGraphic=null,this._startInfo=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this.type=\"box\",this.callbacks={onMoveStart(){},onMove(){},onMoveStop(){},onScaleStart(){},onScale(){},onScaleStop(){},onRotateStart(){},onRotate(){},onRotateStop(){},onGraphicClick(){}},this.centerGraphic=null,this.backgroundGraphic=null,this.enableMovement=!0,this.enableRotation=!0,this.enableScaling=!0,this.graphics=[],this.handleGraphics=[],this.layer=null,this.preserveAspectRatio=!1,this.rotateGraphic=null,this.showCenterGraphic=!0,this.view=null,this._getBounds=(()=>{const t=v();return(e,i)=>{e[0]=Number.POSITIVE_INFINITY,e[1]=Number.POSITIVE_INFINITY,e[2]=Number.NEGATIVE_INFINITY,e[3]=Number.NEGATIVE_INFINITY;for(const s of i){if(!s)continue;let i,r,h,c;if(\"point\"===s.type)i=h=s.x,r=c=s.y;else if(\"multipoint\"===s.type){const e=a(s);[i,r,h,c]=o(t,[e])}else if(\"extent\"===s.type)[i,r,h,c]=[s.xmin,s.ymin,s.xmax,s.ymax];else{const e=a(s);[i,r,h,c]=o(t,e)}e[0]=Math.min(i,e[0]),e[1]=Math.min(r,e[1]),e[2]=Math.max(h,e[2]),e[3]=Math.max(c,e[3])}return e}})()}initialize(){this._setup(),this._handles.add([g(this,\"view.ready\",(()=>{const{layer:t,view:e}=this;S(e,t)})),_(this,\"preserveAspectRatio\",(()=>{this._activeHandleGraphic&&(this._scaleGraphic(this._activeHandleGraphic),this._updateGraphics())})),_(this,\"view.scale\",(()=>{this._updateRotateGraphic(),this._updateRotateLineGraphic()})),_(this,\"graphics\",(()=>this.refresh())),_(this,\"layer\",((t,e)=>{e&&this._resetGraphics(e),this.refresh()}))])}destroy(){this._reset(),this._handles&&(this._handles.removeAll(),this._handles=null)}get state(){const t=!!this.get(\"view.ready\"),e=!(!this.get(\"graphics.length\")||!this.get(\"layer\"));return t&&e?\"active\":t?\"ready\":\"disabled\"}set symbols(t){const{centerIndicator:e=Y.centerIndicator,fill:i=Y.fill,handles:s=Y.handles,rotator:r=Y.rotator,rotatorLine:a=Y.rotatorLine}=t||{};this._set(\"symbols\",{centerIndicator:e,fill:i,handles:s,rotator:r,rotatorLine:a})}isUIGraphic(t){let e=[];return this.handleGraphics.length&&(e=e.concat(this.handleGraphics)),this.backgroundGraphic&&e.push(this.backgroundGraphic),this.centerGraphic&&e.push(this.centerGraphic),this.rotateGraphic&&e.push(this.rotateGraphic),this._rotateLineGraphic&&e.push(this._rotateLineGraphic),e.length&&e.includes(t)}move(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=G(s,t,e,this.view);i.geometry=r}this.refresh(),this._emitMoveStopEvent(t,e,null)}}scale(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=y(s,t,e);i.geometry=r}this.refresh(),this._emitScaleStopEvent(t,e,null)}}rotate(t,e){if(this._mover&&this.graphics.length){if(!e){const t=this.handleGraphics[1].geometry.x,i=this.handleGraphics[3].geometry.y;e=new r(t,i,this.view.spatialReference)}for(const i of this.graphics){const s=i.geometry,r=w(s,t,e);i.geometry=r}this.refresh(),this._emitRotateStopEvent(t,null)}}refresh(){this._reset(),this._setup()}reset(){this.graphics=[]}_setup(){\"active\"===this.state&&(this._setupGraphics(),this._setupMover(),this._updateGraphics())}_reset(){this._resetGraphicStateVars(),this._resetGraphics(),this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetGraphicStateVars(){this._startInfo=null,this._activeHandleGraphic=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this._angleOfRotation=0}_resetGraphics(t){const e=t||this.layer;e&&(e.removeMany(this.handleGraphics),e.remove(this.backgroundGraphic),e.remove(this.centerGraphic),e.remove(this.rotateGraphic),e.remove(this._rotateLineGraphic));for(const t of this.handleGraphics)t.destroy();this._set(\"handleGraphics\",[]),this.backgroundGraphic&&(this.backgroundGraphic.destroy(),this._set(\"backgroundGraphic\",null)),this.centerGraphic&&(this.centerGraphic.destroy(),this._set(\"centerGraphic\",null)),this.rotateGraphic&&(this.rotateGraphic.destroy(),this._set(\"rotateGraphic\",null)),this._rotateLineGraphic&&(this._rotateLineGraphic.destroy(),this._rotateLineGraphic=null)}_setupMover(){let t=[].concat(this.handleGraphics);this.enableMovement&&(t=t.concat(this.graphics,this.backgroundGraphic)),this.enableRotation&&t.push(this.rotateGraphic),this.showCenterGraphic&&t.push(this.centerGraphic),this._mover=new k({enableMoveAllGraphics:!1,view:this.view,graphics:t,callbacks:{onGraphicClick:t=>this._onGraphicClickCallback(t),onGraphicMoveStart:t=>this._onGraphicMoveStartCallback(t),onGraphicMove:t=>this._onGraphicMoveCallback(t),onGraphicMoveStop:t=>this._onGraphicMoveStopCallback(t),onGraphicPointerOver:t=>this._onGraphicPointerOverCallback(t),onGraphicPointerOut:t=>this._onGraphicPointerOutCallback(t)}})}_getStartInfo(t){const[e,i,s,r]=this._getBoxBounds(v()),a=Math.abs(s-e),o=Math.abs(r-i),h=(s+e)/2,c=(r+i)/2,{x:n,y:l}=t.geometry;return{width:a,height:o,centerX:h,centerY:c,startX:n,startY:l,graphicInfos:this._getGraphicInfos(),box:this.backgroundGraphic.geometry,rotate:this.rotateGraphic.geometry}}_getGraphicInfos(){return this.graphics.map((t=>this._getGraphicInfo(t)))}_getGraphicInfo(t){const e=t.geometry,[i,s,r,a]=this._getBounds(v(),[e]);return{width:Math.abs(r-i),height:Math.abs(a-s),centerX:(r+i)/2,centerY:(a+s)/2,geometry:e}}_onGraphicClickCallback(t){t.viewEvent.stopPropagation(),this.emit(\"graphic-click\",t),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(t)}_onGraphicMoveStartCallback(t){const{_angleOfRotation:e,_xScale:i,_yScale:s,backgroundGraphic:r,handleGraphics:a,rotateGraphic:o,symbols:h}=this,c=t.graphic;this._resetGraphicStateVars(),this._hideGraphicsBeforeUpdate(),r.symbol=h.fill.active,this._startInfo=this._getStartInfo(c),c===o?(this.view.cursor=\"grabbing\",this._emitRotateStartEvent(e,c)):a.includes(c)?(this._activeHandleGraphic=c,this._emitScaleStartEvent(i,s,c)):this._emitMoveStartEvent(t.dx,t.dy,c)}_onGraphicMoveCallback(t){const e=t.graphic;if(this._startInfo)if(this.handleGraphics.includes(e))this._scaleGraphic(e),this._emitScaleEvent(this._xScale,this._yScale,e);else if(e===this.rotateGraphic)this._rotateGraphic(e),this._emitRotateEvent(this._angleOfRotation,e);else{const i=t.dx,s=t.dy;this._totalDx+=i,this._totalDy+=s,this._moveGraphic(e,i,s),this._emitMoveEvent(i,s,e)}}_onGraphicMoveStopCallback(t){const e=t.graphic;if(!this._startInfo)return void this.refresh();const{_angleOfRotation:i,_totalDx:s,_totalDy:r,_xScale:a,_yScale:o,backgroundGraphic:h,handleGraphics:c,rotateGraphic:n,symbols:l}=this;this._updateGraphics(),this._showGraphicsAfterUpdate(),h.symbol=l.fill.default,e===n?(this.view.cursor=\"pointer\",this._emitRotateStopEvent(i,e)):c.includes(e)?this._emitScaleStopEvent(a,o,e):this._emitMoveStopEvent(s,r,e),this._resetGraphicStateVars()}_onGraphicPointerOverCallback(t){const{backgroundGraphic:e,handleGraphics:i,graphics:s,rotateGraphic:r,symbols:a,view:o}=this,h=t.graphic;if(h===r)return r.symbol=a.rotator.hover,void(o.cursor=\"pointer\");if(s.includes(h)||h===e)return void(o.cursor=\"move\");if(!i.includes(h))return void(o.cursor=\"pointer\");t.graphic.symbol=a.handles.hover;const c=o.rotation;let n,l=t.index;switch(l<8&&(c>=0&&c<45?l%=8:l=c>=45&&c<90?(l+1)%8:c>=90&&c<135?(l+2)%8:c>=135&&c<180?(l+3)%8:c>=180&&c<225?(l+4)%8:c>=225&&c<270?(l+5)%8:c>=270&&c<315?(l+6)%8:(l+7)%8),l){case 0:n=\"nwse-resize\";break;case 1:n=\"ns-resize\";break;case 2:n=\"nesw-resize\";break;case 3:n=\"ew-resize\";break;case 4:n=\"nwse-resize\";break;case 5:n=\"ns-resize\";break;case 6:n=\"nesw-resize\";break;case 7:n=\"ew-resize\";break;default:n=\"pointer\"}o.cursor=n}_onGraphicPointerOutCallback(t){const{handleGraphics:e,rotateGraphic:i,symbols:s,view:r}=this;t.graphic===i?i.symbol=s.rotator.default:e.includes(t.graphic)&&(t.graphic.symbol=s.handles.default),r.cursor=\"default\"}_scaleGraphic(t){const{_startInfo:e,handleGraphics:i,preserveAspectRatio:s,view:a}=this,{centerX:o,centerY:h,startX:c,startY:n}=e,{resolution:l,transform:p}=a.state,d=i.indexOf(t);1!==d&&5!==d||this._updateX(t,o),3!==d&&7!==d||this._updateY(t,h);const{x:m,y:u}=t.geometry,g=p[0]*m+p[2]*u+p[4],_=p[1]*m+p[3]*u+p[5],v=e.graphicInfos.map((t=>t.geometry));if(s){const t=p[0]*o+p[2]*h+p[4],e=p[1]*o+p[3]*h+p[5],i=p[0]*c+p[2]*n+p[4],s=p[1]*c+p[3]*n+p[5];this._xScale=this._yScale=f(t,e,i,s,g,_);for(const t of v){const e=v.indexOf(t);this.graphics[e].geometry=y(t,this._xScale,this._yScale,[o,h])}this._updateBackgroundGraphic()}else{const{width:t,height:i}=e;let s=m-c,p=n-u;if(1===d||5===d?s=0:3!==d&&7!==d||(p=0),0===s&&0===p)return;const g=t+(c>o?s:-1*s),_=i+(n<h?p:-1*p),f=o+s/2,b=h+p/2;this._xScale=g/t||1,this._yScale=_/i||1,1===d||5===d?this._xScale=1:3!==d&&7!==d||(this._yScale=1);const S=(f-o)/l,w=(b-h)/l,k=y(e.box,this._xScale,this._yScale);this.backgroundGraphic.geometry=G(k,S,w,a,!0);const{centerX:x,centerY:R}=this._getGraphicInfo(this.backgroundGraphic),M=(x-o)/l,I=-1*(R-h)/l;for(const t of v){const e=v.indexOf(t),i=y(t,this._xScale,this._yScale,[o,h]);this.graphics[e].geometry=G(i,M,I,a,!0)}this.centerGraphic.geometry=new r(x,R,a.spatialReference)}}_rotateGraphic(t){const{centerX:e,centerY:i,startX:s,startY:a,box:o,rotate:h}=this._startInfo,{x:c,y:n}=t.geometry,l=new r(e,i,this.view.spatialReference);this._angleOfRotation=b(e,i,s,a,c,n);const p=this._startInfo.graphicInfos.map((t=>t.geometry));for(const t of p){const e=p.indexOf(t),i=w(t,this._angleOfRotation,l);this.graphics[e].geometry=i}this.backgroundGraphic.geometry=w(o,this._angleOfRotation,l),this.rotateGraphic.geometry=w(h,this._angleOfRotation,l)}_moveGraphic(t,e,i){if(this.graphics.includes(t)){const s=this.backgroundGraphic.geometry;this.backgroundGraphic.geometry=G(s,e,i,this.view);for(const s of this.graphics)s!==t&&(s.geometry=G(s.geometry,e,i,this.view))}else if(t===this.centerGraphic){const t=this.backgroundGraphic.geometry;this.backgroundGraphic.geometry=G(t,e,i,this.view)}if(t===this.backgroundGraphic||t===this.centerGraphic)for(const t of this.graphics)t.geometry=G(t.geometry,e,i,this.view)}_setupGraphics(){const{_graphicAttributes:t,symbols:e}=this;this._set(\"centerGraphic\",new m(null,e.centerIndicator,t)),this.showCenterGraphic&&this.layer.add(this.centerGraphic),this._set(\"backgroundGraphic\",new m(null,e.fill.default,t)),this.layer.add(this.backgroundGraphic),this._rotateLineGraphic=new m(null,e.rotatorLine,t),this._set(\"rotateGraphic\",new m(null,e.rotator.default,t)),this.enableRotation&&!this._hasExtentGraphic()&&(this.layer.add(this._rotateLineGraphic),this.layer.add(this.rotateGraphic));for(let i=0;i<8;i++)this.handleGraphics.push(new m(null,e.handles.default,t));this.enableScaling&&this.layer.addMany(this.handleGraphics)}_updateGraphics(){this._updateBackgroundGraphic(),this._updateHandleGraphics(),this._updateCenterGraphic(),this._updateRotateGraphic(),this._updateRotateLineGraphic()}_hideGraphicsBeforeUpdate(){this.centerGraphic.visible=!1,this.rotateGraphic.visible=!1,this._rotateLineGraphic.visible=!1,this.handleGraphics.forEach((t=>t.visible=!1))}_showGraphicsAfterUpdate(){this.enableRotation&&(this._rotateLineGraphic.visible=!0,this.rotateGraphic.visible=!0),this.showCenterGraphic&&(this.centerGraphic.visible=!0),this.enableScaling&&this.handleGraphics.forEach((t=>t.visible=!0))}_updateHandleGraphics(){const t=this._getCoordinates(!0);this.handleGraphics.forEach(((e,i)=>{const[s,r]=t[i];this._updateXY(e,s,r)}))}_updateBackgroundGraphic(){const t=this._getCoordinates();this.backgroundGraphic.geometry=new h({rings:t,spatialReference:this.view.spatialReference})}_updateCenterGraphic(){const[t,e,i,s]=this._getBoxBounds(v()),a=(i+t)/2,o=(s+e)/2;this.centerGraphic.geometry=new r(a,o,this.view.spatialReference)}_updateRotateGraphic(){if(!this.handleGraphics.length)return;const{x:t,y:e}=this.handleGraphics[1].geometry,i=e+this.view.state.resolution*this._rotateGraphicOffset;this.rotateGraphic.geometry=new r(t,i,this.view.spatialReference)}_updateRotateLineGraphic(){if(!this.handleGraphics.length||!this.rotateGraphic||!this.rotateGraphic.geometry)return;const t=this.handleGraphics[1].geometry,e=this.rotateGraphic.geometry;this._rotateLineGraphic.geometry=new c({paths:[[t.x,t.y],[e.x,e.y]],spatialReference:this.view.spatialReference})}_updateXY(t,e,i){t.geometry=new r(e,i,this.view.spatialReference)}_updateX(t,e){const i=t.geometry.y;t.geometry=new r(e,i,this.view.spatialReference)}_updateY(t,e){const i=t.geometry.x;t.geometry=new r(i,e,this.view.spatialReference)}_hasExtentGraphic(){return this.graphics.some((t=>t&&e(t.geometry)&&\"extent\"===t.geometry.type))}_getBoxBounds(t){const e=this.graphics.map((t=>t.geometry));return this._getBounds(t,e)}_getCoordinates(t){const[e,i,s,r]=this._getBoxBounds(v());if(t){const t=(e+s)/2,a=(r+i)/2;return[[e,r],[t,r],[s,r],[s,a],[s,i],[t,i],[e,i],[e,a]]}return[[e,r],[s,r],[s,i],[e,i]]}_emitMoveStartEvent(t,e,i){const s=new R(this.graphics,i,t,e);this.emit(\"move-start\",s),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(s)}_emitMoveEvent(t,e,i){const s=new M(this.graphics,i,t,e);this.emit(\"move\",s),this.callbacks.onMove&&this.callbacks.onMove(s)}_emitMoveStopEvent(t,e,i){const s=new I(this.graphics,i,t,e);this.emit(\"move-stop\",s),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(s)}_emitRotateStartEvent(t,e){const i=new C(this.graphics,e,t);this.emit(\"rotate-start\",i),this.callbacks.onRotateStart&&this.callbacks.onRotateStart(i)}_emitRotateEvent(t,e){const i=new E(this.graphics,e,t);this.emit(\"rotate\",i),this.callbacks.onRotate&&this.callbacks.onRotate(i)}_emitRotateStopEvent(t,e){const i=new O(this.graphics,e,t);this.emit(\"rotate-stop\",i),this.callbacks.onRotateStop&&this.callbacks.onRotateStop(i)}_emitScaleStartEvent(t,e,i){const s=new j(this.graphics,i,t,e);this.emit(\"scale-start\",s),this.callbacks.onScaleStart&&this.callbacks.onScaleStart(s)}_emitScaleEvent(t,e,i){const s=new L(this.graphics,i,t,e);this.emit(\"scale\",s),this.callbacks.onScale&&this.callbacks.onScale(s)}_emitScaleStopEvent(t,e,i){const s=new z(this.graphics,i,t,e);this.emit(\"scale-stop\",s),this.callbacks.onScaleStop&&this.callbacks.onScaleStop(s)}};t([i()],N.prototype,\"_rotateLineGraphic\",void 0),t([i({readOnly:!0})],N.prototype,\"type\",void 0),t([i()],N.prototype,\"callbacks\",void 0),t([i({readOnly:!0})],N.prototype,\"centerGraphic\",void 0),t([i({readOnly:!0})],N.prototype,\"backgroundGraphic\",void 0),t([i()],N.prototype,\"enableMovement\",void 0),t([i()],N.prototype,\"enableRotation\",void 0),t([i()],N.prototype,\"enableScaling\",void 0),t([i()],N.prototype,\"graphics\",void 0),t([i({readOnly:!0})],N.prototype,\"handleGraphics\",void 0),t([i()],N.prototype,\"layer\",void 0),t([i()],N.prototype,\"preserveAspectRatio\",void 0),t([i({readOnly:!0})],N.prototype,\"rotateGraphic\",void 0),t([i()],N.prototype,\"showCenterGraphic\",void 0),t([i({dependsOn:[\"view.ready\",\"graphics.length\",\"layer\"],readOnly:!0})],N.prototype,\"state\",null),t([i({value:Y})],N.prototype,\"symbols\",null),t([i()],N.prototype,\"view\",void 0),N=t([s(\"esri.views.draw.support.Box\")],N);var A=N;export default A;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isSome as i,isNone as o}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as g,project as y,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),i=e?e.offset:0;return new b({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this._get(\"graphic\");if(!1===t.visible)return null;const s=this._get(\"focusedSymbol\"),r=i(s)?s:t.symbol,l=t.geometry;return o(l)?null:\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,l,r):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;let l=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?1:null;if(o(l)||!l.originalPoint.equals(s)){const t=s,i=e.spatialReference;if(g(t.spatialReference,i)){const e=y(t,i);l={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=l}}if(i(l)){const i=h(t,G),o=e.toScreen(l.mapPoint),s=l.radiusPx,a=o.x+c(r.xoffset),n=o.y-c(r.yoffset);return _(i,[a,n])<s*s?1:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&d(o,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0,dependsOn:[\"graphic\"]})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n"],"sourceRoot":""}