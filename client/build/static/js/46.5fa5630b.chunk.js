(this["webpackJsonpqp-ampd-app"]=this["webpackJsonpqp-ampd-app"]||[]).push([[46,22,127],{677:function(e,t,n){"use strict";n.r(t);var r=n(32),a=n(16),o=n(2),i=n(3),l=n(4),c=n(5),u=n(0),s=(n(13),n(10)),f=(n(12),n(14),n(1)),y=n(34),p=n(28),b=n(6),O=n(26),d=(n(9),n(19),n(20),n(23)),j=n(36),v=n(182),h=n(86),m=n(206),g=n(294),C=new y.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),x=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).displayFieldName=null,r.exceededTransferLimit=!1,r.features=[],r.fields=null,r.geometryType=null,r.hasM=!1,r.hasZ=!1,r.queryGeometry=null,r.spatialReference=null,r}return Object(i.a)(n,[{key:"readFeatures",value:function(e,t){for(var n=j.a.fromJSON(t.spatialReference),r=[],a=0;a<e.length;a++){var o=e[a],i=m.a.fromJSON(o),l=o.geometry&&o.geometry.spatialReference;Object(s.g)(i.geometry)&&!l&&(i.geometry.spatialReference=n),r.push(i)}return r}},{key:"writeGeometryType",value:function(e,t,n,r){if(e)C.write(e,t,n,r);else{var o=this.features;if(o){var i,l=Object(a.a)(o);try{for(l.s();!(i=l.n()).done;){var c=i.value;if(c&&Object(s.g)(c.geometry))return void C.write(c.geometry.type,t,n,r)}}catch(u){l.e(u)}finally{l.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var n=!!e.spatialReference,r=Object(v.a)(e);return!n&&t.spatialReference&&(r.spatialReference=j.a.fromJSON(t.spatialReference)),r}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var n=this.features;if(n){var r,o=Object(a.a)(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;i&&Object(s.g)(i.geometry)&&i.geometry.spatialReference&&(t.spatialReference=i.geometry.spatialReference.toJSON())}}catch(l){o.e(l)}finally{o.f()}}}}},{key:"toJSON",value:function(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var n=0;n<t.features.length;n++){var r=t.features[n];if(r.geometry){var a=e&&e[n];r.geometry=a&&a.toJSON()||r.geometry}}return t}},{key:"quantize",value:function(e){for(var t=Object(r.a)(e.scale,2),n=t[0],a=t[1],o=Object(r.a)(e.translate,2),i=o[0],l=o[1],c=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-i)/n)}),(function(e){return Math.round((l-e)/a)})),f=0,y=c.length;f<y;f++)u(Object(s.m)(c[f].geometry))||(c.splice(f,1),f--,y--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,n=this.transform;if(!n)return this;var o,i=Object(r.a)(n.translate,2),l=i[0],c=i[1],u=Object(r.a)(n.scale,2),f=u[0],y=u[1],p=this._getHydrationFunction(e,(function(e){return e*f+l}),(function(e){return c-e*y})),b=Object(a.a)(t);try{for(b.s();!(o=b.n()).done;){var O=o.value.geometry;Object(s.g)(O)&&p(O)}}catch(d){b.e(d)}finally{b.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,n){for(var r,a,o=[],i=0,l=e.length;i<l;i++){var c=e[i];if(i>0){var u=t(c[0]),s=n(c[1]);u===r&&s===a||(o.push([u-r,s-a]),r=u,a=s)}else r=t(c[0]),a=n(c[1]),o.push([r,a])}return o.length>0?o:null}},{key:"_getQuantizationFunction",value:function(e,t,n){var r=this;return"point"===e?function(e){return e.x=t(e.x),e.y=n(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var a=Object(v.g)(e)?e.rings:e.paths,o=[],i=0,l=a.length;i<l;i++){var c=a[i],u=r._quantizePoints(c,t,n);u&&o.push(u)}return o.length>0?(Object(v.g)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?function(e){var a;return(a=r._quantizePoints(e.points,t,n)).length>0?(e.points=a,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,n){return"point"===e?function(e){e.x=t(e.x),e.y=n(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var r,a,o=Object(v.g)(e)?e.rings:e.paths,i=0,l=o.length;i<l;i++)for(var c=o[i],u=0,s=c.length;u<s;u++){var f=c[u];u>0?(r+=f[0],a+=f[1]):(r=f[0],a=f[1]),f[0]=t(r),f[1]=n(a)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=n(e.ymin),e.xmax=t(e.xmax),e.ymax=n(e.ymax)}:"multipoint"===e?function(e){for(var r,a,o=e.points,i=0,l=o.length;i<l;i++){var c=o[i];i>0?(r+=c[0],a+=c[1]):(r=c[0],a=c[1]),c[0]=t(r),c[1]=n(a)}}:void 0}}]),n}(d.a);Object(u.a)([Object(f.b)({type:String,json:{write:!0}})],x.prototype,"displayFieldName",void 0),Object(u.a)([Object(f.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],x.prototype,"exceededTransferLimit",void 0),Object(u.a)([Object(f.b)({type:[m.a],json:{write:!0}})],x.prototype,"features",void 0),Object(u.a)([Object(p.a)("features")],x.prototype,"readFeatures",null),Object(u.a)([Object(f.b)({type:[g.a],json:{write:!0}})],x.prototype,"fields",void 0),Object(u.a)([Object(f.b)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:C.read}}})],x.prototype,"geometryType",void 0),Object(u.a)([Object(O.a)("geometryType")],x.prototype,"writeGeometryType",null),Object(u.a)([Object(f.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],x.prototype,"hasM",void 0),Object(u.a)([Object(f.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],x.prototype,"hasZ",void 0),Object(u.a)([Object(f.b)({types:h.b,json:{write:!0}})],x.prototype,"queryGeometry",void 0),Object(u.a)([Object(p.a)("queryGeometry")],x.prototype,"readQueryGeometry",null),Object(u.a)([Object(f.b)({type:j.a,json:{write:!0}})],x.prototype,"spatialReference",void 0),Object(u.a)([Object(O.a)("spatialReference")],x.prototype,"writeSpatialReference",null),Object(u.a)([Object(f.b)({json:{write:!0}})],x.prototype,"transform",void 0),(x=Object(u.a)([Object(b.a)("esri.tasks.support.FeatureSet")],x)).prototype.toJSON.isDefaultToJSON=!0,x||(x={});var k=x;t.default=k},759:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(16),a=n(10),o=n(40),i=n(78);function l(e,t,n){if(Object(a.f)(t)||Object(a.f)(n)||n.vcsWkid||Object(o.c)(t,n))return null;var l=Object(i.c)(t)/Object(i.c)(n);if(1===l)return null;switch(e){case"point":case"esriGeometryPoint":return function(e){return n=l,void((t=e)&&null!=t.z&&(t.z*=n));var t,n};case"polyline":case"esriGeometryPolyline":return function(e){return function(e,t){if(e){var n,a=Object(r.a)(e.paths);try{for(a.s();!(n=a.n()).done;){var o,i=n.value,l=Object(r.a)(i);try{for(l.s();!(o=l.n()).done;){var c=o.value;c.length>2&&(c[2]*=t)}}catch(u){l.e(u)}finally{l.f()}}}catch(u){a.e(u)}finally{a.f()}}}(e,l)};case"polygon":case"esriGeometryPolygon":return function(e){return function(e,t){if(e){var n,a=Object(r.a)(e.rings);try{for(a.s();!(n=a.n()).done;){var o,i=n.value,l=Object(r.a)(i);try{for(l.s();!(o=l.n()).done;){var c=o.value;c.length>2&&(c[2]*=t)}}catch(u){l.e(u)}finally{l.f()}}}catch(u){a.e(u)}finally{a.f()}}}(e,l)};case"multipoint":case"esriGeometryMultipoint":return function(e){return function(e,t){if(e){var n,a=Object(r.a)(e.points);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.length>2&&(o[2]*=t)}}catch(i){a.e(i)}finally{a.f()}}}(e,l)};default:return null}}function c(e,t,n){if(null==e.hasM||e.hasZ){var a,o=Object(r.a)(t);try{for(o.s();!(a=o.n()).done;){var i,l=a.value,c=Object(r.a)(l);try{for(c.s();!(i=c.n()).done;){var u=i.value;u.length>2&&(u[2]*=n)}}catch(s){c.e(s)}finally{c.f()}}}catch(s){o.e(s)}finally{o.f()}}}function u(e,t,n){if((e||t)&&n){var r=Object(i.c)(n);s(e,n,r),s(t,n,r)}}function s(e,t,n){if(e){var a,o=Object(r.a)(e);try{for(o.s();!(a=o.n()).done;){f(a.value.geometry,t,n)}}catch(i){o.e(i)}finally{o.f()}}}function f(e,t,n){if(e&&e.spatialReference&&!Object(o.c)(e.spatialReference,t)){var a=Object(i.c)(e.spatialReference)/n;if(1!==a)if("x"in e)null!=e.z&&(e.z*=a);else if("rings"in e)c(e,e.rings,a);else if("paths"in e)c(e,e.paths,a);else if("points"in e&&(null==e.hasM||e.hasZ)){var l,u=Object(r.a)(e.points);try{for(u.s();!(l=u.n()).done;){var s=l.value;s.length>2&&(s[2]*=a)}}catch(f){u.e(f)}finally{u.f()}}}}},773:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(16),a=n(759);function o(e,t,n){if(n&&n.features&&n.hasZ){var o=Object(a.a)(n.geometryType,t,e.outSpatialReference);if(o){var i,l=Object(r.a)(n.features);try{for(l.s();!(i=l.n()).done;){o(i.value.geometry)}}catch(c){l.e(c)}finally{l.f()}}}}},869:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(3),o=n(4),i=n(5),l=n(0),c=(n(13),n(12),n(14),n(1)),u=n(28),s=n(6),f=(n(9),n(19),n(20),n(15)),y=n(42),p=n(183),b=n(184),O=n(228),d=n(227),j=n(679),v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).type="route",e}return Object(a.a)(n,[{key:"readFeatureCollectionsFromItem",value:function(e,t,n){return this.revert("featureCollections","portal-item"),t.layers.map((function(e){var t=new j.default;return t.read(e,n),t}))}},{key:"readFeatureCollectionsFromWebMap",value:function(e,t,n){return t.featureCollection.layers.map((function(e){var t=new j.default;return t.read(e,n),t}))}},{key:"load",value:function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},e)),Object(f.s)(this)}},{key:"_getNamedFeatureLayer",value:function(e){if(this.featureCollections)return this.featureCollections.find((function(t){return t.title===e}))}},{key:"barrierLines",get:function(){return this._getNamedFeatureLayer("PolylineBarriers")}},{key:"barrierPoints",get:function(){return this._getNamedFeatureLayer("Barriers")}},{key:"barrierPolygons",get:function(){return this._getNamedFeatureLayer("PolygonBarriers")}},{key:"directionLines",get:function(){return this._getNamedFeatureLayer("DirectionLines")}},{key:"directionPoints",get:function(){return this._getNamedFeatureLayer("DirectionPoints")}},{key:"fullExtent",get:function(){return this.featureCollections?this.featureCollections.reduce((function(e,t){return e?e.union(t.fullExtent):t.fullExtent}),null):null}},{key:"maxScale",get:function(){return this.featureCollections?this.featureCollections.reduce((function(e,t){return null==e?t.maxScale:Math.min(e,t.maxScale)}),null):0},set:function(e){this.featureCollections.forEach((function(t){t.maxScale=e})),this._set("maxScale",e)}},{key:"minScale",get:function(){return this.featureCollections?this.featureCollections.reduce((function(e,t){return null==e?t.minScale:Math.min(e,t.minScale)}),null):0},set:function(e){this.featureCollections.forEach((function(t){t.minScale=e})),this._set("minScale",e)}},{key:"routeInfo",get:function(){return this._getNamedFeatureLayer("RouteInfo")}},{key:"stops",get:function(){return this._getNamedFeatureLayer("Stops")}}]),n}(Object(O.a)(Object(d.a)(Object(b.a)(p.a))));Object(l.a)([Object(c.b)({dependsOn:["featureCollections"]})],v.prototype,"barrierLines",null),Object(l.a)([Object(c.b)({dependsOn:["featureCollections"]})],v.prototype,"barrierPoints",null),Object(l.a)([Object(c.b)({dependsOn:["featureCollections"]})],v.prototype,"barrierPolygons",null),Object(l.a)([Object(c.b)({dependsOn:["featureCollections"]})],v.prototype,"directionLines",null),Object(l.a)([Object(c.b)({dependsOn:["featureCollections"]})],v.prototype,"directionPoints",null),Object(l.a)([Object(c.b)({type:y.a.ofType(j.default)})],v.prototype,"featureCollections",void 0),Object(l.a)([Object(u.a)("portal-item","featureCollections",["layers"])],v.prototype,"readFeatureCollectionsFromItem",null),Object(l.a)([Object(u.a)("web-map","featureCollections",["featureCollection.layers"])],v.prototype,"readFeatureCollectionsFromWebMap",null),Object(l.a)([Object(c.b)({dependsOn:["featureCollections"],readOnly:!0})],v.prototype,"fullExtent",null),Object(l.a)([Object(c.b)({type:["show","hide"]})],v.prototype,"listMode",void 0),Object(l.a)([Object(c.b)({dependsOn:["featureCollections"]})],v.prototype,"maxScale",null),Object(l.a)([Object(c.b)({dependsOn:["featureCollections"]})],v.prototype,"minScale",null),Object(l.a)([Object(c.b)({dependsOn:["featureCollections"]})],v.prototype,"routeInfo",null),Object(l.a)([Object(c.b)({dependsOn:["featureCollections"]})],v.prototype,"stops",null),Object(l.a)([Object(c.b)({readOnly:!0,json:{read:!1}})],v.prototype,"type",void 0);var h=v=Object(l.a)([Object(s.a)("esri.layers.RouteLayer")],v);t.default=h}}]);
//# sourceMappingURL=46.5fa5630b.chunk.js.map