(this["webpackJsonpqp-ampd-app"]=this["webpackJsonpqp-ampd-app"]||[]).push([[40,50,126],{1216:function(e,t,r){"use strict";r.r(t);var a=r(11),n=r(8),i=r.n(n),s=r(40),o=r(15),c=r(23),u=r(2),l=r(4),p=r(5),f=r(6),b=r(0),y=(r(12),r(18)),d=r(13),h=(r(14),r(1)),m=r(34),v=r(7),O=r(24),g=r(9),j=(r(20),r(21),r(16)),S=r(132),x=r(51),k=r(94),w=r(59),_=r(442),P=r(376),J=r(876),L=r(326),N=r(39),M=r(57),G=r(873),D=r(320),T=r(851),I=r(961),R=r(26),V=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(){var e;return Object(u.a)(this,r),(e=t.apply(this,arguments)).extent=null,e.height=null,e.href=null,e.opacity=1,e.rotation=0,e.scale=null,e.visible=!0,e.width=null,e}return r}(R.a);Object(b.a)([Object(h.b)({type:M.a})],V.prototype,"extent",void 0),Object(b.a)([Object(h.b)()],V.prototype,"height",void 0),Object(b.a)([Object(h.b)()],V.prototype,"href",void 0),Object(b.a)([Object(h.b)()],V.prototype,"opacity",void 0),Object(b.a)([Object(h.b)()],V.prototype,"rotation",void 0),Object(b.a)([Object(h.b)()],V.prototype,"scale",void 0),Object(b.a)([Object(h.b)()],V.prototype,"visible",void 0),Object(b.a)([Object(h.b)()],V.prototype,"width",void 0);var F=V=Object(b.a)([Object(v.a)("esri.layer.support.MapImage")],V),A=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(e){var a;return Object(u.a)(this,r),(a=t.call(this,e)).itemId=null,a.url=null,a}return r}(R.a);Object(b.a)([Object(h.b)({type:String,json:{read:{source:"itemID"},write:{target:"itemID"}}})],A.prototype,"itemId",void 0),Object(b.a)([Object(h.b)({type:String,json:{write:!0}})],A.prototype,"url",void 0);var E=A=Object(b.a)([Object(v.a)("esri.tasks.support.DataFile")],A),C=new m.a({esriJobCancelled:"job-cancelled",esriJobCancelling:"job-cancelling",esriJobDeleted:"job-deleted",esriJobDeleting:"job-deleting",esriJobTimedOut:"job-timed-out",esriJobExecuting:"job-executing",esriJobFailed:"job-failed",esriJobNew:"job-new",esriJobSubmitted:"job-submitted",esriJobSucceeded:"job-succeeded",esriJobWaiting:"job-waiting"}),U=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(e){var a;return Object(u.a)(this,r),(a=t.call(this,e)).jobId=null,a.jobStatus=null,a.messages=null,a}return r}(R.a);Object(b.a)([Object(h.b)()],U.prototype,"jobId",void 0),Object(b.a)([Object(h.b)({json:{read:C.read}})],U.prototype,"jobStatus",void 0),Object(b.a)([Object(h.b)({type:[I.a]})],U.prototype,"messages",void 0);var q=U=Object(b.a)([Object(v.a)("esri.tasks.support.JobInfo")],U),z=new m.a({esriMeters:"meters",esriFeet:"feet",esriKilometers:"kilometers",esriMiles:"miles",esriNauticalMiles:"nautical-miles",esriYards:"yards"},{ignoreUnknown:!1}),B=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(e){var a;return Object(u.a)(this,r),(a=t.call(this,e)).distance=0,a.units=null,a}return r}(R.a);Object(b.a)([Object(h.b)({json:{write:!0}})],B.prototype,"distance",void 0),Object(b.a)([Object(h.b)({json:{read:z.read,write:z.write}})],B.prototype,"units",void 0);var W=B=Object(b.a)([Object(v.a)("esri/tasks/support/LinearUnit")],B),Z=new m.a({GPBoolean:"boolean",GPDataFile:"data-file",GPDate:"date",GPDouble:"double",GPFeatureRecordSetLayer:"feature-record-set-layer",GPField:"field",GPLinearUnit:"linear-unit",GPLong:"long",GPRasterData:"raster-data",GPRasterDataLayer:"raster-data-layer",GPRecordSet:"record-set",GPString:"string","GPMultiValue:GPBoolean":"multi-value","GPMultiValue:GPDataFile":"multi-value","GPMultiValue:GPDate":"multi-value","GPMultiValue:GPDouble":"multi-value","GPMultiValue:GPFeatureRecordSetLayer":"multi-value","GPMultiValue:GPField":"multi-value","GPMultiValue:GPLinearUnit":"multi-value","GPMultiValue:GPLong":"multi-value","GPMultiValue:GPRasterData":"multi-value","GPMultiValue:GPRasterDataLayer":"multi-value","GPMultiValue:GPRecordSet":"multi-value","GPMultiValue:GPString":"multi-value"}),K=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(e){var a;return Object(u.a)(this,r),(a=t.call(this,e)).dataType=null,a.value=null,a}return r}(R.a);Object(b.a)([Object(h.b)({json:{read:Z.read,write:Z.write}})],K.prototype,"dataType",void 0),Object(b.a)([Object(h.b)()],K.prototype,"value",void 0);var Q=K=Object(b.a)([Object(v.a)("esri.tasks.support.ParameterValue")],K),X=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(e){var a;return Object(u.a)(this,r),(a=t.call(this,e)).format=null,a.itemId=null,a.url=null,a}return r}(R.a);Object(b.a)([Object(h.b)()],X.prototype,"format",void 0),Object(b.a)([Object(h.b)({json:{read:{source:"itemID"},write:{target:"itemID"}}})],X.prototype,"itemId",void 0),Object(b.a)([Object(h.b)()],X.prototype,"url",void 0);var H=X=Object(b.a)([Object(v.a)("esri/tasks/support/RasterData")],X),Y=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e))._timers=new Map,r.outSpatialReference=null,r.processExtent=null,r.processSpatialReference=null,r.returnFeatureCollection=!1,r.returnM=!1,r.returnZ=!1,r}return Object(l.a)(n,[{key:"destroy",value:function(){this._timers.forEach((function(e){clearInterval(e)}))}},{key:"cancelJob",value:function(e,t){var r=this.parsedUrl.path,n=Object(a.a)(Object(a.a)(Object(a.a)({},this.requestOptions),t),{},{query:{f:"json"}});return this._clearTimer(e),Object(w.default)("".concat(r,"/jobs/").concat(e,"/cancel"),n).then((function(e){return q.fromJSON(e.data)}))}},{key:"checkJobStatus",value:function(e,t){var r=this.parsedUrl.path,n=Object(a.a)(Object(a.a)(Object(a.a)({},this.requestOptions),t),{},{query:{f:"json"}});return Object(w.default)("".concat(r,"/jobs/").concat(e),n).then((function(e){return q.fromJSON(e.data)}))}},{key:"execute",value:function(e,t){var r=this;return this._constructRequest("execute",e,t).then((function(e){var t=e.data.results||[],a=e.data.messages||[];return{results:t.map(r._decode),messages:a.map((function(e){return I.a.fromJSON(e)}))}}))}},{key:"getResultData",value:function(e,t,r){var n=this,i=this.returnFeatureCollection,s=this.returnM,o=this.returnZ,c=this.outSpatialReference,u=this.parsedUrl.path,l={returnFeatureCollection:i||void 0,returnM:s||void 0,returnZ:o||void 0,outSR:c,returnType:"data",f:"json"},p=this._gpEncode(l,null),f=Object(a.a)(Object(a.a)(Object(a.a)({},this.requestOptions),r),{},{query:p});return Object(w.default)("".concat(u,"/jobs/").concat(e,"/results/").concat(t),f).then((function(e){return n._decode(e.data)}))}},{key:"getResultImage",value:function(e,t,r,n){var i=this,s=this.parsedUrl.path,o=Object(a.a)(Object(a.a)({},r.toJSON()),{},{f:"json"}),c=this._gpEncode(o),u=Object(a.a)(Object(a.a)(Object(a.a)({},this.requestOptions),n),{},{query:c});return Object(w.default)("".concat(s,"/jobs/").concat(e,"/results/").concat(t),u).then((function(e){return i._decode(e.data)}))}},{key:"getResultMapImageLayer",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.parsedUrl.path,n=a.indexOf("/GPServer/"),s="".concat(a.substring(0,n),"/MapServer/jobs/").concat(t),e.next=4,Promise.all([r.e(1),r.e(3),r.e(4),r.e(13)]).then(r.bind(null,989));case 4:return e.t0=e.sent.default,e.t1={url:s},e.abrupt("return",new e.t0(e.t1));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submitJob",value:function(e,t){return this._constructRequest("submitJob",e,t).then((function(e){return q.fromJSON(e.data)}))}},{key:"waitForJobCompletion",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.interval,n=void 0===a?1e3:a,i=r.signal,s=r.statusCallback;return Object(j.c)((function(r,a){Object(j.p)(i,(function(){t._clearTimer(e),a(Object(j.e)())})),t._clearTimer(e);var o=setInterval((function(){t._timers.has(e)||a(Object(j.e)()),t._getJobStatus(e,t.requestOptions).then((function(n){var i=n.jobStatus;switch(i){case"job-succeeded":t._clearTimer(e),r(n);break;case"job-submitted":case"job-executing":case"job-waiting":case"job-new":s&&s(n);break;case"job-cancelled":case"job-cancelling":case"job-deleted":case"job-deleting":case"job-timed-out":case"job-failed":t._clearTimer(e),a(n);break;default:Object(L.a)(i)}}))}),n);t._timers.set(e,o)}))}},{key:"_clearTimer",value:function(e){this._timers.has(e)&&(clearInterval(this._timers.get(e)),this._timers.delete(e))}},{key:"_constructRequest",value:function(e,t,r){var n=this,i={},s={},o=[];return this._collectGeometries(t,o,i),Object(G.a)(o).then((function(o){var c=n.outSpatialReference,u=n.parsedUrl,l=n.processExtent,p=n.processSpatialReference,f=n.returnFeatureCollection,b=n.returnM,y=n.returnZ,d=u.path;for(var h in i){var m=i[h];s[h]=o.slice(m[0],m[1])}var v=c?c.wkid||c:null,O=p?p.wkid||p:null,g="execute"===e?{returnFeatureCollection:f||void 0,returnM:b||void 0,returnZ:y||void 0}:null,j=Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},l?{context:{extent:l,outSR:v,processSR:O}}:{"env:outSR":v,"env:processSR":O}),t),g),{},{f:"json"}),S=n._gpEncode(j,null,s),x=Object(a.a)(Object(a.a)(Object(a.a)({},n.requestOptions),r),{},{query:S});return Object(w.default)("".concat(d,"/").concat(e),x)}))}},{key:"_collectGeometries",value:function(e,t,r){for(var a in e){var n=e[a];if(n&&"object"==typeof n&&n instanceof T.default){var i=n.features;r[a]=[t.length,t.length+i.length],i.forEach((function(e){t.push(e.geometry)}))}}}},{key:"_decode",value:function(e){var t=e.dataType,r=Q.fromJSON(e);switch(t){case"GPBoolean":case"GPDouble":case"GPLong":case"GPString":return r;case"GPDate":r.value=new Date(r.value);break;case"GPDataFile":r.value=E.fromJSON(r.value);break;case"GPLinearUnit":r.value=W.fromJSON(r.value);break;case"GPFeatureRecordSetLayer":case"GPRecordSet":var a=e.value.url;r.value=a?E.fromJSON(r.value):T.default.fromJSON(r.value);break;case"GPRasterData":case"GPRasterDataLayer":var n=e.value.mapImage;r.value=n?F.fromJSON(n):H.fromJSON(r.value);break;case"GPField":r.value=D.a.fromJSON(r.value);break;case"GPMultiValue:GPBoolean":case"GPMultiValue:GPDouble":case"GPMultiValue:GPLong":case"GPMultiValue:GPString":return r;case"GPMultiValue:GPDate":var i=r.value;r.value=i.map((function(e){return new Date(e)}));break;case"GPMultiValue:GPDataFile":r.value=r.value.map((function(e){return E.fromJSON(e)}));break;case"GPMultiValue:GPLinearUnit":r.value=r.value.map((function(e){return W.fromJSON(e)}));break;case"GPMultiValue:GPFeatureRecordSetLayer":case"GPMultiValue:GPRecordSet":r.value=r.value.map((function(e){return T.default.fromJSON(e)}));break;case"GPMultiValue:GPRasterData":case"GPMultiValue:GPRasterDataLayer":r.value=r.value.map((function(e){return e?F.fromJSON(e):H.fromJSON(r.value)}));break;case"GPMultiValue:GPField":r.value=r.value.map((function(e){return D.a.fromJSON(e)}))}return r}},{key:"_gpEncode",value:function(e,t,r){var a=this;for(var n in e){var i=e[n];Array.isArray(i)?e[n]=JSON.stringify(i.map((function(e){return a._gpEncode({item:e},!0).item}),this)):i instanceof Date&&(e[n]=i.getTime())}return this._encode(e,t,r)}},{key:"_getJobStatus",value:function(e,t){var r=this.parsedUrl.path,n="".concat(r,"/jobs/").concat(e),i=Object(a.a)(Object(a.a)(Object(a.a)({},this.requestOptions),t),{},{query:{f:"json"}});return Object(w.default)(n,i).then((function(e){return q.fromJSON(e.data)}))}}]),n}(J.a);Object(b.a)([Object(h.b)({type:N.a})],Y.prototype,"outSpatialReference",void 0),Object(b.a)([Object(h.b)({type:M.a})],Y.prototype,"processExtent",void 0),Object(b.a)([Object(h.b)({type:N.a})],Y.prototype,"processSpatialReference",void 0),Object(b.a)([Object(h.b)({nonNullable:!0})],Y.prototype,"returnFeatureCollection",void 0),Object(b.a)([Object(h.b)({nonNullable:!0})],Y.prototype,"returnM",void 0),Object(b.a)([Object(h.b)({nonNullable:!0})],Y.prototype,"returnZ",void 0);var $=Y=Object(b.a)([Object(v.a)("esri/tasks/Geoprocessor")],Y),ee=new m.a({PDF:"pdf",PNG32:"png32",PNG8:"png8",JPG:"jpg",GIF:"gif",EPS:"eps",SVG:"svg",SVGZ:"svgz"}),te=(ee.fromJSON.bind(ee),ee.toJSON.bind(ee)),re=new m.a({MAP_ONLY:"map-only","A3 Landscape":"a3-landscape","A3 Portrait":"a3-portrait","A4 Landscape":"a4-landscape","A4 Portrait":"a4-portrait","Letter ANSI A Landscape":"letter-ansi-a-landscape","Letter ANSI A Portrait":"letter-ansi-a-portrait","Tabloid ANSI B Landscape":"tabloid-ansi-b-landscape","Tabloid ANSI B Portrait":"tabloid-ansi-b-portrait"}),ae=(re.fromJSON.bind(re),re.toJSON.bind(re));function ne(e,t){var r=t.graphic,a=t.renderer,n=t.symbol,i=n.type;if("text"!==i&&"shield-label-symbol"!==i&&"visualVariables"in a&&a.visualVariables){var s=a.getVisualVariablesForType("size"),o=a.getVisualVariablesForType("color"),c=a.getVisualVariablesForType("opacity"),u=a.getVisualVariablesForType("rotation"),l=s&&s[0],p=o&&o[0],f=c&&c[0],b=u&&u[0];if(l){var y="simple-marker"===i?n.style:null,d=Object(_.e)(l,r,{shape:y});null!=d&&("simple-marker"===i?e.size=Object(x.d)(d):"picture-marker"===i?(e.width=Object(x.d)(d),e.height=Object(x.d)(d)):"simple-line"===i?e.width=Object(x.d)(d):e.outline&&(e.outline.width=Object(x.d)(d)))}if(p){var h=Object(_.b)(p,r);(h&&"simple-marker"===i||"simple-line"===i||"simple-fill"===i)&&(e.color=h?h.toJSON():void 0)}if(f){var m=Object(_.c)(f,r);null!=m&&e.color&&(e.color[3]=Math.round(255*m))}b&&(e.angle=-Object(_.d)(a,r))}}function ie(e){var t,r,a,n,i,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,c=e.canvas.width,u=e.canvas.height,l=e.getImageData(0,0,c,u).data;e:for(r=u;r--;)for(t=c;t--;)if(l[4*(c*r+t)+3]>o){s=r;break e}if(!s)return null;e:for(t=c;t--;)for(r=s+1;r--;)if(l[4*(c*r+t)+3]>o){i=t;break e}e:for(t=0;t<=i;++t)for(r=s+1;r--;)if(l[4*(c*r+t)+3]>o){a=t;break e}e:for(r=0;r<=s;++r)for(t=a;t<=i;++t)if(l[4*(c*r+t)+3]>o){n=r;break e}return{x:a,y:n,width:i-a,height:s-n}}function se(e,t){var r=e.allLayerViews.items;if(t===e.scale)return r.filter((function(e){return!e.suspended}));var a,n=new Array,i=Object(o.a)(r);try{for(i.s();!(a=i.n()).done;){var s=a.value;be(s.parent)&&!n.includes(s.parent)||!s.visible||t&&"isVisibleAtScale"in s&&!s.isVisibleAtScale(t)||n.push(s)}}catch(c){i.e(c)}finally{i.f()}return n}function oe(e){return e&&"bing-maps"===e.type}function ce(e){return e&&"csv"===e.type}function ue(e){return e&&"feature"===e.type}function le(e){return e&&"geojson"===e.type}function pe(e){return e&&"graphics"===e.type}function fe(e){return e&&"group"===e.type}function be(e){return e&&"esri.views.2d.layers.GroupLayerView2D"===e.declaredClass}function ye(e){return e&&"imagery"===e.type}function de(e){return e&&"kml"===e.type}function he(e){return e&&"map-image"===e.type}function me(e){return e&&"map-notes"===e.type}function ve(e){return e&&"open-street-map"===e.type}function Oe(e){return e&&"stream"===e.type}function ge(e){return e&&"tile"===e.type}function je(e){return e&&"vector-tile"===e.type}function Se(e){return e&&"web-tile"===e.type}function xe(e){return e&&"wms"===e.type}function ke(e){return e&&"wmts"===e.type}var we=r(452),_e=r(44),Pe=d.a.getLogger("esri.tasks.support.PrintTemplate");function Je(){Object(we.b)(Pe,"preserveScale",{replacement:"scalePreserved",version:"4.16"})}var Le=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(e){var a;return Object(u.a)(this,r),(a=t.call(this,e)).attributionVisible=!0,a.exportOptions={width:800,height:1100,dpi:96},a.forceFeatureAttributes=!1,a.format="png32",a.label=null,a.layout="map-only",a.layoutOptions=null,a.outScale=0,a.scalePreserved=!0,a.showLabels=!0,a}return Object(l.a)(r,[{key:"preserveScale",get:function(){return Je(),this.scalePreserved},set:function(e){Je(),this.scalePreserved=e}}]),r}(_e.a);Object(b.a)([Object(h.b)()],Le.prototype,"attributionVisible",void 0),Object(b.a)([Object(h.b)()],Le.prototype,"exportOptions",void 0),Object(b.a)([Object(h.b)()],Le.prototype,"forceFeatureAttributes",void 0),Object(b.a)([Object(h.b)()],Le.prototype,"format",void 0),Object(b.a)([Object(h.b)()],Le.prototype,"label",void 0),Object(b.a)([Object(h.b)()],Le.prototype,"layout",void 0),Object(b.a)([Object(h.b)()],Le.prototype,"layoutOptions",void 0),Object(b.a)([Object(h.b)()],Le.prototype,"outScale",void 0),Object(b.a)([Object(h.b)({dependsOn:["scalePreserved"]})],Le.prototype,"preserveScale",null),Object(b.a)([Object(h.b)()],Le.prototype,"scalePreserved",void 0),Object(b.a)([Object(h.b)()],Le.prototype,"showLabels",void 0);var Ne=Le=Object(b.a)([Object(v.a)("esri.tasks.support.PrintTemplate")],Le),Me={Feet:"ft",Kilometers:"km",Meters:"m",Miles:"mi"},Ge=new m.a({esriFeet:"Feet",esriKilometers:"Kilometers",esriMeters:"Meters",esriMiles:"Miles"}),De=new m.a({esriExecutionTypeSynchronous:"sync",esriExecutionTypeAsynchronous:"async"}),Te=new P.a({returnGeometry:!0});function Ie(e){return e&&(e.path||"image/svg+xml"===e.contentType||e.url&&e.url.endsWith(".svg"))}var Re=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n)))._ssExtent=null,e._legendLayers=[],e._legendLayerNameMap={},e._gpServerUrl=null,e._cimVersion=null,e._is11xService=!1,e._gpMetadata=null,e.updateDelay=1e3,e}return Object(l.a)(r,[{key:"execute",value:function(e,t){var r=this,a=this.url,n=a.lastIndexOf("/GPServer/");return n>0&&(a=a.slice(0,n+9)),Object(j.s)().then((function(){return r._gpServerUrl===a?{data:r._gpMetadata}:(r._gpServerUrl=a,Object(w.default)(a,{query:{f:"json"}}))})).then((function(t){return r._gpMetadata=t.data,r._cimVersion=r._gpMetadata.cimVersion,r._is11xService=!!r._cimVersion,r._getGpPrintParams(e)})).then((function(e){var a=function(e){return"sync"===r.mode?e.results&&e.results[0]&&e.results[0].value:r._geoprocessor.getResultData(e.jobId,"Output_File",t).then((function(e){return e.value}))};return"async"===r.mode?r._geoprocessor.submitJob(e,t).then((function(e){return r._geoprocessor.waitForJobCompletion(e.jobId,{interval:r.updateDelay}).then(a)})):r._geoprocessor.execute(e,t).then(a)}))}},{key:"_createOperationalLayers",value:function(){var e=Object(c.a)(i.a.mark((function e(t,r){var a,n,c,u,l,p,f,b,y,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n={layerView:null,printTemplate:r,view:t},c=0,r.scalePreserved&&(c=r.outScale||t.scale),u=se(t,c),l=Object(o.a)(u),e.prev=5,l.s();case 7:if((p=l.n()).done){e.next=116;break}if(f=p.value,(b=f.layer).loaded&&!fe(b)){e.next=12;break}return e.abrupt("continue",114);case 12:if(y=void 0,n.layerView=f,!oe(b)){e.next=18;break}e.t0=this._createBingMapsLayerJSON(b),e.next=112;break;case 18:if(!ce(b)){e.next=24;break}return e.next=21,this._createCSVLayerJSON(b,n);case 21:e.t1=e.sent,e.next=111;break;case 24:if(!ue(b)){e.next=30;break}return e.next=27,this._createFeatureLayerJSON(b,n);case 27:e.t2=e.sent,e.next=110;break;case 30:if(!le(b)){e.next=36;break}return e.next=33,this._createGeoJSONLayer(b,n);case 33:e.t3=e.sent,e.next=109;break;case 36:if(!pe(b)){e.next=42;break}return e.next=39,this._createGraphicsLayerJSON(b,n);case 39:e.t4=e.sent,e.next=108;break;case 42:if(!ye(b)){e.next=46;break}e.t5=this._createImageryLayerJSON(b),e.next=107;break;case 46:if(!de(b)){e.next=52;break}return e.next=49,this._createKMLLayerJSON(b,n);case 49:e.t6=e.sent,e.next=106;break;case 52:if(!he(b)){e.next=56;break}e.t7=this._createMapImageLayerJSON(b,n),e.next=105;break;case 56:if(!me(b)){e.next=62;break}return e.next=59,this._createMapNotesLayerJSON(n);case 59:e.t8=e.sent,e.next=104;break;case 62:if(!ve(b)){e.next=66;break}e.t9=this._createOpenStreetMapLayerJSON(),e.next=103;break;case 66:if(!Oe(b)){e.next=72;break}return e.next=69,this._createStreamLayerJSON(b,n);case 69:e.t10=e.sent,e.next=102;break;case 72:if(!ge(b)){e.next=76;break}e.t11=this._createTileLayerJSON(b),e.next=101;break;case 76:if(!je(b)){e.next=82;break}return e.next=79,this._createVectorTileLayerJSON(b,n);case 79:e.t12=e.sent,e.next=100;break;case 82:if(!Se(b)){e.next=86;break}e.t13=this._createWebTileLayerJSON(b),e.next=99;break;case 86:if(!xe(b)){e.next=90;break}e.t14=this._createWMSLayerJSON(b),e.next=98;break;case 90:if(!ke(b)){e.next=94;break}e.t15=this._createWMTSLayerJSON(b),e.next=97;break;case 94:return e.next=96,this._createScreenshotJSON(b,n);case 96:e.t15=e.sent;case 97:e.t14=e.t15;case 98:e.t13=e.t14;case 99:e.t12=e.t13;case 100:e.t11=e.t12;case 101:e.t10=e.t11;case 102:e.t9=e.t10;case 103:e.t8=e.t9;case 104:e.t7=e.t8;case 105:e.t6=e.t7;case 106:e.t5=e.t6;case 107:e.t4=e.t5;case 108:e.t3=e.t4;case 109:e.t2=e.t3;case 110:e.t1=e.t2;case 111:e.t0=e.t1;case 112:(y=e.t0)&&(Array.isArray(y)?a.push.apply(a,Object(s.a)(y)):(y.id=b.id,y.title=this._legendLayerNameMap[b.id]||b.title,y.opacity=b.opacity,y.minScale=b.minScale||0,y.maxScale=b.maxScale||0,a.push(y)));case 114:e.next=7;break;case 116:e.next=121;break;case 118:e.prev=118,e.t16=e.catch(5),l.e(e.t16);case 121:return e.prev=121,l.f(),e.finish(121);case 124:if(c&&a.forEach((function(e){e.minScale=0,e.maxScale=0})),!t.graphics||!t.graphics.length){e.next=129;break}return e.next=127,this._createFeatureCollectionJSON(null,t.graphics,r);case 127:(d=e.sent)&&a.push(d);case 129:return e.abrupt("return",a);case 130:case"end":return e.stop()}}),e,this,[[5,118,121,124]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_createBingMapsLayerJSON",value:function(e){return{culture:e.culture,key:e.key,type:"BingMaps"+("aerial"===e.style?"Aerial":"hybrid"===e.style?"Hybrid":"Road")}}},{key:"_createCSVLayerJSON",value:function(){var e=Object(c.a)(i.a.mark((function e(t,r){var a,n,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.layerView,n=r.printTemplate,this._legendLayers&&this._legendLayers.push({id:t.id}),this._is11xService){e.next=6;break}return e.next=4,this._getGraphics(a);case 4:return o=e.sent,e.abrupt("return",this._createFeatureCollectionJSON(t,o,n));case 6:return e.abrupt("return",(s={type:"CSV"},t.write(s,{origin:"web-map"}),delete s.popupInfo,delete s.layerType,s.showLabels=n.showLabels&&t.labelsVisible,s));case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_createFeatureCollectionJSON",value:function(){var e=Object(c.a)(i.a.mark((function e(t,r,a){var n,s,c,u,l,p,f,b,y,d,h,m,v,O,g,j,x,k,w,_,P,J,L,N,M,G,D;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s={layerDefinition:{name:"polygonLayer",geometryType:"esriGeometryPolygon",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPolygon",features:[]}},c={layerDefinition:{name:"polylineLayer",geometryType:"esriGeometryPolyline",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPolyline",features:[]}},u={layerDefinition:{name:"pointLayer",geometryType:"esriGeometryPoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPoint",features:[]}},l={layerDefinition:{name:"multipointLayer",geometryType:"esriGeometryMultipoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryMultipoint",features:[]}},(p={layerDefinition:{name:"pointLayer",geometryType:"esriGeometryPoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPoint",features:[]}}).layerDefinition.name="textLayer",delete p.layerDefinition.drawingInfo,t&&("esri.layers.FeatureLayer"===t.declaredClass||"esri.layers.StreamLayer"===t.declaredClass?s.layerDefinition.name=c.layerDefinition.name=u.layerDefinition.name=l.layerDefinition.name=this._legendLayerNameMap[t.id]||t.get("arcgisProps.title")||t.title:"esri.layers.GraphicsLayer"===t.declaredClass&&(r=t.graphics.items),t.renderer&&(f=t.renderer.toJSON(),s.layerDefinition.drawingInfo.renderer=f,c.layerDefinition.drawingInfo.renderer=f,u.layerDefinition.drawingInfo.renderer=f,l.layerDefinition.drawingInfo.renderer=f),a.showLabels&&t.labelsVisible&&"function"==typeof t.write&&(d=null==(b=t.write({},{origin:"web-map"}).layerDefinition)||null==(y=b.drawingInfo)?void 0:y.labelingInfo)&&(n=!0,s.layerDefinition.drawingInfo.labelingInfo=d,c.layerDefinition.drawingInfo.labelingInfo=d,u.layerDefinition.drawingInfo.labelingInfo=d,l.layerDefinition.drawingInfo.labelingInfo=d)),null!=t&&t.renderer||n||(delete s.layerDefinition.drawingInfo,delete c.layerDefinition.drawingInfo,delete u.layerDefinition.drawingInfo,delete l.layerDefinition.drawingInfo),m=t&&t.fields,v=t&&t.renderer,!m||!v||"function"!=typeof v.collectRequiredFields){e.next=9;break}return O=new Set,e.next=8,v.collectRequiredFields(O,m);case 8:h=Array.from(O);case 9:m&&(g=m.map((function(e){return e.toJSON()})),s.layerDefinition.fields=g,c.layerDefinition.fields=g,u.layerDefinition.fields=g,l.layerDefinition.fields=g),j=r&&r.length,k=0;case 12:if(!(k<j)){e.next=44;break}if(!1!==(w=r[k]||r.getItemAt(k)).visible&&w.geometry){e.next=16;break}return e.abrupt("continue",41);case 16:if((x=w.toJSON()).hasOwnProperty("popupTemplate")&&delete x.popupTemplate,x.geometry&&x.geometry.z&&delete x.geometry.z,!x.symbol||!x.symbol.outline||"esriCLS"!==x.symbol.outline.type||this._is11xService){e.next=18;break}return e.abrupt("continue",41);case 18:if(!this._is11xService&&x.symbol&&x.symbol.outline&&x.symbol.outline.color&&x.symbol.outline.color[3]&&(x.symbol.outline.color[3]=255),_=t&&t.renderer&&("valueExpression"in t.renderer&&t.renderer.valueExpression||"hasVisualVariables"in t.renderer&&t.renderer.hasVisualVariables()),x.symbol||!t||!t.renderer||!_||this._is11xService){e.next=28;break}return P=t.renderer,e.next=24,P.getSymbolAsync(w);case 24:if(J=e.sent){e.next=27;break}return e.abrupt("continue",41);case 27:x.symbol=J.toJSON(),"hasVisualVariables"in P&&P.hasVisualVariables()&&ne(x.symbol,{renderer:P,graphic:w,symbol:J});case 28:if(e.t0=x.symbol,!e.t0){e.next=38;break}if(x.symbol.angle||delete x.symbol.angle,!Ie(x.symbol)){e.next=37;break}return e.next=34,this._convertSvgToPictureMarkerSymbolJson(x.symbol);case 34:x.symbol=e.sent,e.next=38;break;case 37:x.symbol.text&&delete x.attributes;case 38:if(a&&a.forceFeatureAttributes||!h||!h.length){e.next=40;break}!function(){var e={};h.forEach((function(t){x.attributes&&x.attributes.hasOwnProperty(t)&&(e[t]=x.attributes[t])})),x.attributes=e}();case 40:"polygon"===w.geometry.type?s.featureSet.features.push(x):"polyline"===w.geometry.type?c.featureSet.features.push(x):"point"===w.geometry.type?x.symbol&&x.symbol.text?p.featureSet.features.push(x):u.featureSet.features.push(x):"multipoint"===w.geometry.type?l.featureSet.features.push(x):"extent"===w.geometry.type&&(x.geometry=S.a.fromExtent(w.geometry).toJSON(),s.featureSet.features.push(x));case 41:k++,e.next=12;break;case 44:L=[s,c,l,u,p].filter((function(e){return e.featureSet.features.length>0})),N=Object(o.a)(L),e.prev=46,N.s();case 48:if((M=N.n()).done){e.next=59;break}if(G=M.value,!(D=G.featureSet.features.every((function(e){return e.symbol})))||a&&a.forceFeatureAttributes||G.featureSet.features.forEach((function(e){delete e.attributes})),D&&delete G.layerDefinition.drawingInfo,e.t1=G.layerDefinition.drawingInfo&&G.layerDefinition.drawingInfo.renderer,!e.t1){e.next=57;break}return e.next=57,this._convertSvgRenderer(G.layerDefinition.drawingInfo.renderer);case 57:e.next=48;break;case 59:e.next=64;break;case 61:e.prev=61,e.t2=e.catch(46),N.e(e.t2);case 64:return e.prev=64,N.f(),e.finish(64);case 67:return e.abrupt("return",L.length?{featureCollection:{layers:L},showLabels:n}:null);case 68:case"end":return e.stop()}}),e,this,[[46,61,64,67]])})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"_createFeatureLayerJSON",value:function(){var e=Object(c.a)(i.a.mark((function e(t,r){var a,n,s,o,c,u,l,p,f,b,y,d,h,m,v;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._legendLayers&&this._legendLayers.push({id:t.id}),o=t.renderer,!(t.featureReduction||o&&"dot-density"===o.type&&(!this._is11xService||parseFloat(this._cimVersion)<2.6))){e.next=4;break}return e.abrupt("return",this._createScreenshotJSON(t,r));case 4:if(c=r.layerView,u=r.printTemplate,l=r.view,p=o&&("valueExpression"in o&&o.valueExpression||"hasVisualVariables"in o&&o.hasVisualVariables()),f="feature-layer"!==(null==(a=t.source)?void 0:a.type)&&"ogc-feature"!==(null==(n=t.source)?void 0:n.type),!(!this._is11xService&&p||t.featureReduction||f)&&o&&(!("field"in o)||null==o.field||"string"==typeof o.field&&t.getField(o.field))){e.next=14;break}return e.next=8,this._getGraphics(c);case 8:return b=e.sent,e.next=11,this._createFeatureCollectionJSON(t,b,u);case 11:s=e.sent,e.next=27;break;case 14:if((s={id:(v=t.write()).id,title:v.title,opacity:v.opacity,minScale:v.minScale,maxScale:v.maxScale,url:v.url,layerDefinition:v.layerDefinition}).showLabels=u.showLabels&&t.labelsVisible,this._setURLandToken(s,t),e.t0=null!=(y=s.layerDefinition)&&null!=(d=y.drawingInfo)&&d.renderer,!e.t0){e.next=24;break}return delete s.layerDefinition.minScale,delete s.layerDefinition.maxScale,e.next=23,this._convertSvgRenderer(s.layerDefinition.drawingInfo.renderer);case 23:e.t0="visualVariables"in o&&o.visualVariables&&o.visualVariables[0];case 24:if(!e.t0){e.next=27;break}"size"===(h=o.visualVariables[0]).type&&h.maxSize&&"number"!=typeof h.maxSize&&h.minSize&&"number"!=typeof h.minSize&&(m=Object(_.f)(h,l.scale),s.layerDefinition.drawingInfo.renderer.visualVariables[0].minSize=m.minSize,s.layerDefinition.drawingInfo.renderer.visualVariables[0].maxSize=m.maxSize);case 27:return e.abrupt("return",s);case 28:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_createGeoJSONLayer",value:function(){var e=Object(c.a)(i.a.mark((function e(t,r){var a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.layerView,n=r.printTemplate,this._legendLayers&&this._legendLayers.push({id:t.id}),e.next=4,this._getGraphics(a);case 4:return s=e.sent,e.abrupt("return",this._createFeatureCollectionJSON(t,s,n));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_createGraphicsLayerJSON",value:function(){var e=Object(c.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.printTemplate,e.abrupt("return",this._createFeatureCollectionJSON(t,null,a));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_createImageryLayerJSON",value:function(e){this._legendLayers&&this._legendLayers.push({id:e.id});var t={bandIds:e.bandIds,compressionQuality:e.compressionQuality,format:e.format,interpolation:e.interpolation};if((e.mosaicRule||e.definitionExpression)&&(t.mosaicRule=e.exportImageServiceParameters.mosaicRule.toJSON()),e.renderingRule||e.renderer)if(this._is11xService)e.renderingRule&&(t.renderingRule=e.renderingRule.toJSON()),e.renderer&&(t.layerDefinition=t.layerDefinition||{},t.layerDefinition.drawingInfo=t.layerDefinition.drawingInfo||{},t.layerDefinition.drawingInfo.renderer=e.renderer.toJSON());else{var r=e.exportImageServiceParameters.combineRendererWithRenderingRule();r&&(t.renderingRule=r.toJSON())}return this._setURLandToken(t,e),t}},{key:"_createKMLLayerJSON",value:function(){var e=Object(c.a)(i.a.mark((function e(t,r){var n,o,c,u,l,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.printTemplate,!this._is11xService){e.next=4;break}return o={type:"kml"},e.abrupt("return",(t.write(o,{origin:"web-map"}),delete o.layerType,o.url=Object(g.B)(t.url),o));case 4:return c=[],(u=r.layerView).allVisibleMapImages.forEach((function(e,r){var a={id:"".concat(t.id,"_image").concat(r),type:"image",title:t.id,minScale:t.minScale||0,maxScale:t.maxScale||0,opacity:t.opacity,extent:e.extent};"data:image/png;base64,"===e.href.substr(0,22)?a.imageData=e.href.substr(22):a.url=e.href,c.push(a)})),l=[].concat(Object(s.a)(u.allVisiblePoints.items),Object(s.a)(u.allVisiblePolylines.items),Object(s.a)(u.allVisiblePolygons.items)),e.t0=a.a,e.t1={id:t.id},e.next=11,this._createFeatureCollectionJSON(null,l,n);case 11:return e.t2=e.sent,p=(0,e.t0)(e.t1,e.t2),e.abrupt("return",(c.push(p),c));case 14:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_createMapImageLayerJSON",value:function(e,t){var r,a=t.view,n={id:e.id,subLayerIds:[]},i=[],s=a.scale;return e.sublayers&&e.sublayers.forEach((function e(t){var r=0===s,a=0===t.minScale||s<=t.minScale,o=0===t.maxScale||s>=t.maxScale;if(t.visible&&(r||a&&o))if(t.sublayers)t.sublayers.forEach(e);else{var c=t.toExportImageJSON(),u={id:t.id,name:t.title,layerDefinition:{drawingInfo:c.drawingInfo,definitionExpression:c.definitionExpression,source:c.source}};i.unshift(u),n.subLayerIds.push(t.id)}})),i.length&&(r={layers:i=i.map((function(e){return{id:e.id,name:e.name,layerDefinition:e.layerDefinition}})),visibleLayers:n.subLayerIds},this._setURLandToken(r,e),this._legendLayers.push(n)),r}},{key:"_createMapNotesLayerJSON",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var r,a,n,c,u,l,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.layerView,a=t.printTemplate,n=[],c=Object(o.a)(r.graphicsViews()),e.prev=3,c.s();case 5:if((u=c.n()).done){e.next=13;break}return l=u.value,e.next=9,this._createFeatureCollectionJSON(l,l.graphics,a);case 9:(p=e.sent)&&n.push.apply(n,Object(s.a)(p.featureCollection.layers));case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),c.e(e.t0);case 18:return e.prev=18,c.f(),e.finish(18);case 21:return e.abrupt("return",{featureCollection:{layers:n}});case 22:case"end":return e.stop()}}),e,this,[[3,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_createOpenStreetMapLayerJSON",value:function(){return{type:"OpenStreetMap"}}},{key:"_createScreenshotJSON",value:function(){var e=Object(c.a)(i.a.mark((function e(t,r){var a,n,s,o,c,u,l,p,f,b,y,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.printTemplate,n=r.view,s={type:"image"},o={format:"png",ignoreBackground:!0,layers:[t],rotation:0},c=this._ssExtent||n.extent.clone(),u=96,l=!0,p=!0,a.exportOptions&&((f=a.exportOptions).dpi>0&&(u=f.dpi),f.width>0&&(l=f.width%2==n.width%2),f.height>0&&(p=f.height%2==n.height%2)),"map-only"!==a.layout||!a.scalePreserved||a.outScale&&a.outScale!==n.scale||96!==u||l&&p||(o.area={x:0,y:0,width:n.width,height:n.height},l||(o.area.width-=1),p||(o.area.height-=1),this._ssExtent)||(b=n.toMap(Object(x.b)(o.area.width,o.area.height)),c.ymin=b.y,c.xmax=b.x,this._ssExtent=c),s.extent=c.clone()._normalize(!0).toJSON(),e.next=8,n.takeScreenshot(o);case 8:return y=e.sent,d=Object(g.i)(y.dataUrl),e.abrupt("return",(s.imageData=d.data,s));case 11:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_createStreamLayerJSON",value:function(){var e=Object(c.a)(i.a.mark((function e(t,r){var a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.layerView,n=r.printTemplate,this._legendLayers&&this._legendLayers.push({id:t.id}),e.next=4,this._getGraphics(a);case 4:return s=e.sent,e.abrupt("return",this._createFeatureCollectionJSON(t,s,n));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_createTileLayerJSON",value:function(e){var t={customParameters:e.customParameters};return this._setURLandToken(t,e),t}},{key:"_createVectorTileLayerJSON",value:function(){var e=Object(c.a)(i.a.mark((function e(t,r){var a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._is11xService&&t.serviceUrl&&t.styleUrl)){e.next=5;break}if(a=k.b&&k.b.findCredential(t.styleUrl),n=k.b&&k.b.findCredential(t.serviceUrl),(a||n)&&"2.1.0"===this._cimVersion){e.next=5;break}return s={type:"VectorTileLayer"},e.abrupt("return",(s.styleUrl=Object(g.B)(t.styleUrl),a&&(s.token=a.token),n&&n.token!==s.token&&(s.additionalTokens=[{url:t.serviceUrl,token:n.token}]),s));case 5:return e.abrupt("return",this._createScreenshotJSON(t,r));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_createWebTileLayerJSON",value:function(e){var t={type:"WebTiledLayer",urlTemplate:e.urlTemplate.replace(/\${/g,"{"),credits:e.copyright};return e.subDomains&&e.subDomains.length>0&&(t.subDomains=e.subDomains),t}},{key:"_createWMSLayerJSON",value:function(e){var t,r=[];return e.sublayers&&e.sublayers.forEach((function e(t){t.visible&&(t.sublayers?t.sublayers.forEach(e):t.name&&r.unshift(t.name))})),r.length&&(t={type:"wms",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,transparentBackground:e.imageTransparency,visibleLayers:r,url:Object(g.B)(e.url),version:e.version}),t}},{key:"_createWMTSLayerJSON",value:function(e){var t=e.activeLayer;return{type:"wmts",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,format:t.imageFormat,layer:t.id,style:t.styleId,tileMatrixSet:t.tileMatrixSetId,url:Object(g.B)(e.url)}}},{key:"_setURLandToken",value:function(e,t){var r;if(t.url){e.url=Object(g.B)(e.url||t.url);var a=null==(r=k.b)?void 0:r.findCredential(t.url);a&&(e.token=a.token)}}},{key:"_convertSvgToPictureMarkerSymbolJson",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var r,a,n,s,o,c,u,l,p,f,b,y,d,h,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._canvas||(this._canvas=document.createElement("canvas")),r=1024,this._canvas.width=r,this._canvas.height=r,a=this._canvas.getContext("2d"),!t.path){e.next=20;break}if((c=new Path2D(t.path)).closePath(),a.fillStyle=Array.isArray(t.color)?"rgba(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],",").concat(t.color[3]/255,")"):"rgb(0,0,0)",a.fill(c),u=ie(a)){e.next=10;break}return e.abrupt("return",null);case 10:a.clearRect(0,0,r,r),l=Object(x.c)(t.size)/Math.max(u.width,u.height),a.scale(l,l),f=(p=r/l)/2-u.width/2-u.x,b=p/2-u.height/2-u.y,a.translate(f,b),Array.isArray(t.color)&&a.fill(c),null!=(o=t.outline)&&o.width&&Array.isArray(t.outline.color)&&(y=t.outline,a.lineWidth=Object(x.c)(y.width)/l,a.lineJoin="round",a.strokeStyle="rgba(".concat(y.color[0],",").concat(y.color[1],",").concat(y.color[2],",").concat(y.color[3]/255,")"),a.stroke(c),u.width+=a.lineWidth,u.height+=a.lineWidth),u.width*=l,u.height*=l,d=a.getImageData(512-u.width/2,512-u.height/2,Math.ceil(u.width),Math.ceil(u.height)),n=d.width,s=d.height,a.canvas.width=n,a.canvas.height=s,a.putImageData(d,0,0),e.next=25;break;case 20:return h="image/svg+xml"===t.contentType?"data:image/svg+xml;base64,"+t.imageData:t.url,e.next=23,Object(w.default)(h,{responseType:"image"});case 23:m=e.sent.data,n=Object(x.c)(t.width),s=Object(x.c)(t.height),a.canvas.width=n,a.canvas.height=s,a.drawImage(m,0,0,a.canvas.width,a.canvas.height);case 25:return e.abrupt("return",{type:"esriPMS",imageData:a.canvas.toDataURL("image/png").substr(22),angle:t.angle,contentType:"image/png",height:Object(x.d)(s),width:Object(x.d)(n),xoffset:t.xoffset,yoffset:t.yoffset});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_convertSvgRenderer",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var r,a,n,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("simple"!==(r=t.type)||!Ie(t.symbol)){e.next=7;break}return e.next=4,this._convertSvgToPictureMarkerSymbolJson(t.symbol);case 4:t.symbol=e.sent,e.next=35;break;case 7:if("uniqueValue"!==r&&"classBreaks"!==r){e.next=35;break}if(e.t0=Ie(t.defaultSymbol),!e.t0){e.next=13;break}return e.next=12,this._convertSvgToPictureMarkerSymbolJson(t.defaultSymbol);case 12:t.defaultSymbol=e.sent;case 13:if(!(a=t["uniqueValue"===r?"uniqueValueInfos":"classBreakInfos"])){e.next=35;break}n=Object(o.a)(a),e.prev=16,n.s();case 18:if((s=n.n()).done){e.next=27;break}if(c=s.value,e.t1=Ie(c.symbol),!e.t1){e.next=25;break}return e.next=24,this._convertSvgToPictureMarkerSymbolJson(c.symbol);case 24:c.symbol=e.sent;case 25:e.next=18;break;case 27:e.next=32;break;case 29:e.prev=29,e.t2=e.catch(16),n.e(e.t2);case 32:return e.prev=32,n.f(),e.finish(32);case 35:case"end":return e.stop()}}),e,this,[[16,29,32,35]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_getGraphics",value:function(e){return e.queryFeatures(Te).then((function(e){return e.features}))}},{key:"_getPrintDefinition",value:function(){var e=Object(c.a)(i.a.mark((function e(t,r){var a,n,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.view,n=a.spatialReference,e.next=4,this._createOperationalLayers(a,r);case 4:return e.t0=e.sent,s={operationalLayers:e.t0},o=this._ssExtent||t.extent||a.extent,e.abrupt("return",(n&&n.isWrappable&&(o=o.clone()._normalize(!0),n=o.spatialReference),s.mapOptions={extent:o&&o.toJSON(),spatialReference:n&&n.toJSON(),showAttribution:r.attributionVisible},this._ssExtent=null,a.background&&(s.background=a.background.toJSON()),a.rotation&&(s.mapOptions.rotation=-a.rotation),r.scalePreserved&&(s.mapOptions.scale=r.outScale||a.scale),s));case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_getGpPrintParams",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var r,a,n,s,o,c,u,l,p,f,b,d,h,m,v,g,j,S=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(r=t.template||new Ne).showLabels&&(r.showLabels=!0),a=r.exportOptions,s=ae(r.layout),a&&(n={dpi:a.dpi},("map_only"===s.toLowerCase()||""===s)&&(o=a.width,c=a.height,n.outputSize=[o,c])),(u=r.layoutOptions)&&("Miles"===u.scalebarUnit||"Kilometers"===u.scalebarUnit?(p="Kilometers",f="Miles"):"Meters"!==u.scalebarUnit&&"Feet"!==u.scalebarUnit||(p="Meters",f="Feet"),l={titleText:u.titleText,authorText:u.authorText,copyrightText:u.copyrightText,customTextElements:u.customTextElements,scaleBarOptions:{metricUnit:Ge.toJSON(p),metricLabel:Me[p],nonMetricUnit:Ge.toJSON(f),nonMetricLabel:Me[f]}}),b=null,u&&u.legendLayers&&(b=u.legendLayers.map((function(e){S._legendLayerNameMap[e.layerId]=e.title;var t={id:e.layerId};return e.subLayerIds&&(t.subLayerIds=e.subLayerIds),t}))),e.next=11,this._getPrintDefinition(t,r);case 11:return(d=e.sent).operationalLayers&&(h=new RegExp("[\\u4E00-\\u9FFF\\u0E00-\\u0E7F\\u0900-\\u097F\\u3040-\\u309F\\u30A0-\\u30FF\\u31F0-\\u31FF]"),m=/[\u0600-\u06FF]/,v=function(e){var t=e.text,r=e.font,a=r&&r.family&&r.family.toLowerCase();t&&r&&("arial"===a||"arial unicode ms"===a)&&(r.family=h.test(t)?"Arial Unicode MS":"Arial","normal"!==r.style&&m.test(t)&&(r.family="Arial Unicode MS"))},g=function(){throw new O.a("print-task:cim-symbol-unsupported","CIMSymbol is not supported by a print service published from ArcMap")},d.operationalLayers.forEach((function(e){var t,r,a;null!=(t=e.featureCollection)&&t.layers?e.featureCollection.layers.forEach((function(e){var t,r,a,n;if(null!=(t=e.layerDefinition)&&null!=(r=t.drawingInfo)&&null!=(a=r.renderer)&&a.symbol){var i=e.layerDefinition.drawingInfo.renderer;"esriTS"===i.symbol.type?v(i.symbol):"CIMSymbolReference"!==i.symbol.type||S._is11xService||g()}null!=(n=e.featureSet)&&n.features&&e.featureSet.features.forEach((function(e){e.symbol&&("esriTS"===e.symbol.type?v(e.symbol):"CIMSymbolReference"!==e.symbol.type||S._is11xService||g())}))})):!S._is11xService&&null!=(r=e.layerDefinition)&&null!=(a=r.drawingInfo)&&a.renderer&&JSON.stringify(e.layerDefinition.drawingInfo.renderer).includes('"type":"CIMSymbolReference"')&&g()}))),t.outSpatialReference&&(d.mapOptions.spatialReference=t.outSpatialReference.toJSON()),Object(y.d)(d,{exportOptions:n,layoutOptions:l}),Object(y.d)(d.layoutOptions,{legendOptions:{operationalLayers:null!=b?b:this._legendLayers.slice()}}),this._legendLayers.length=0,j={Web_Map_as_JSON:JSON.stringify(d),Format:te(r.format),Layout_Template:s},e.abrupt("return",(t.extraParameters&&Object(y.d)(j,t.extraParameters),j));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_geoprocessor",get:function(){return new $({url:this.url})}},{key:"mode",get:function(){return this._gpMetadata&&this._gpMetadata.executionType?De.fromJSON(this._gpMetadata.executionType):"sync"}}]),r}(J.a);Object(b.a)([Object(h.b)({dependsOn:["url"]})],Re.prototype,"_geoprocessor",null),Object(b.a)([Object(h.b)()],Re.prototype,"_gpMetadata",void 0),Object(b.a)([Object(h.b)({dependsOn:["_gpMetadata"],readOnly:!0})],Re.prototype,"mode",null),Object(b.a)([Object(h.b)()],Re.prototype,"updateDelay",void 0);var Ve=Re=Object(b.a)([Object(v.a)("esri.tasks.PrintTask")],Re);t.default=Ve},851:function(e,t,r){"use strict";r.r(t);var a=r(32),n=r(15),i=r(2),s=r(4),o=r(5),c=r(6),u=r(0),l=(r(12),r(10)),p=(r(13),r(14),r(1)),f=r(34),b=r(31),y=r(7),d=r(28),h=(r(9),r(20),r(21),r(26)),m=r(39),v=r(240),O=r(103),g=r(242),j=r(320),S=new f.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),x=function(e){Object(o.a)(r,e);var t=Object(c.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).displayFieldName=null,a.exceededTransferLimit=!1,a.features=[],a.fields=null,a.geometryType=null,a.hasM=!1,a.hasZ=!1,a.queryGeometry=null,a.spatialReference=null,a}return Object(s.a)(r,[{key:"readFeatures",value:function(e,t){for(var r=m.a.fromJSON(t.spatialReference),a=[],n=0;n<e.length;n++){var i=e[n],s=g.a.fromJSON(i),o=i.geometry&&i.geometry.spatialReference;Object(l.g)(s.geometry)&&!o&&(s.geometry.spatialReference=r),a.push(s)}return a}},{key:"writeGeometryType",value:function(e,t,r,a){if(e)S.write(e,t,r,a);else{var i=this.features;if(i){var s,o=Object(n.a)(i);try{for(o.s();!(s=o.n()).done;){var c=s.value;if(c&&Object(l.g)(c.geometry))return void S.write(c.geometry.type,t,r,a)}}catch(u){o.e(u)}finally{o.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,a=Object(v.a)(e);return!r&&t.spatialReference&&(a.spatialReference=m.a.fromJSON(t.spatialReference)),a}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var a,i=Object(n.a)(r);try{for(i.s();!(a=i.n()).done;){var s=a.value;s&&Object(l.g)(s.geometry)&&s.geometry.spatialReference&&(t.spatialReference=s.geometry.spatialReference.toJSON())}}catch(o){i.e(o)}finally{i.f()}}}}},{key:"toJSON",value:function(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var a=t.features[r];if(a.geometry){var n=e&&e[r];a.geometry=n&&n.toJSON()||a.geometry}}return t}},{key:"quantize",value:function(e){for(var t=Object(a.a)(e.scale,2),r=t[0],n=t[1],i=Object(a.a)(e.translate,2),s=i[0],o=i[1],c=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-s)/r)}),(function(e){return Math.round((o-e)/n)})),p=0,f=c.length;p<f;p++)u(Object(l.m)(c[p].geometry))||(c.splice(p,1),p--,f--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;var i,s=Object(a.a)(r.translate,2),o=s[0],c=s[1],u=Object(a.a)(r.scale,2),p=u[0],f=u[1],b=this._getHydrationFunction(e,(function(e){return e*p+o}),(function(e){return c-e*f})),y=Object(n.a)(t);try{for(y.s();!(i=y.n()).done;){var d=i.value.geometry;Object(l.g)(d)&&b(d)}}catch(h){y.e(h)}finally{y.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var a,n,i=[],s=0,o=e.length;s<o;s++){var c=e[s];if(s>0){var u=t(c[0]),l=r(c[1]);u===a&&l===n||(i.push([u-a,l-n]),a=u,n=l)}else a=t(c[0]),n=r(c[1]),i.push([a,n])}return i.length>0?i:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var a=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var n=Object(v.g)(e)?e.rings:e.paths,i=[],s=0,o=n.length;s<o;s++){var c=n[s],u=a._quantizePoints(c,t,r);u&&i.push(u)}return i.length>0?(Object(v.g)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?function(e){var n;return(n=a._quantizePoints(e.points,t,r)).length>0?(e.points=n,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var a,n,i=Object(v.g)(e)?e.rings:e.paths,s=0,o=i.length;s<o;s++)for(var c=i[s],u=0,l=c.length;u<l;u++){var p=c[u];u>0?(a+=p[0],n+=p[1]):(a=p[0],n=p[1]),p[0]=t(a),p[1]=r(n)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var a,n,i=e.points,s=0,o=i.length;s<o;s++){var c=i[s];s>0?(a+=c[0],n+=c[1]):(a=c[0],n=c[1]),c[0]=t(a),c[1]=r(n)}}:void 0}}]),r}(h.a);Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],x.prototype,"displayFieldName",void 0),Object(u.a)([Object(p.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],x.prototype,"exceededTransferLimit",void 0),Object(u.a)([Object(p.b)({type:[g.a],json:{write:!0}})],x.prototype,"features",void 0),Object(u.a)([Object(b.a)("features")],x.prototype,"readFeatures",null),Object(u.a)([Object(p.b)({type:[j.a],json:{write:!0}})],x.prototype,"fields",void 0),Object(u.a)([Object(p.b)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:S.read}}})],x.prototype,"geometryType",void 0),Object(u.a)([Object(d.a)("geometryType")],x.prototype,"writeGeometryType",null),Object(u.a)([Object(p.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],x.prototype,"hasM",void 0),Object(u.a)([Object(p.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],x.prototype,"hasZ",void 0),Object(u.a)([Object(p.b)({types:O.b,json:{write:!0}})],x.prototype,"queryGeometry",void 0),Object(u.a)([Object(b.a)("queryGeometry")],x.prototype,"readQueryGeometry",null),Object(u.a)([Object(p.b)({type:m.a,json:{write:!0}})],x.prototype,"spatialReference",void 0),Object(u.a)([Object(d.a)("spatialReference")],x.prototype,"writeSpatialReference",null),Object(u.a)([Object(p.b)({json:{write:!0}})],x.prototype,"transform",void 0),(x=Object(u.a)([Object(y.a)("esri.tasks.support.FeatureSet")],x)).prototype.toJSON.isDefaultToJSON=!0,x||(x={});var k=x;t.default=k},873:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var a=r(8),n=r.n(a),i=(r(32),r(23)),s=r(15),o=r(78),c=r(10),u=r(13),l=r(24),p=r(16),f=r(41),b=r(39),y=r(83),d=r(132),h=r(131),m=r(11),v=r(9),O=r(240),g=(r(103),r(59));function j(e,t,r,a){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(n.a.mark((function e(t,r,a,i){var s,o,c,u,l,p,f,b;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="string"==typeof t?Object(v.I)(t):t,o=r[0].spatialReference,c=Object(m.a)(Object(m.a)({},i),{},{query:Object(m.a)(Object(m.a)({},s.query),{},{f:"json",sr:JSON.stringify(o),target:JSON.stringify({geometryType:Object(O.c)(r[0]),geometries:r}),cutter:JSON.stringify(a)})}),e.next=5,Object(g.default)(s.path+"/cut",c);case 5:return u=e.sent,l=u.data,p=l.cutIndexes,f=l.geometries,b=void 0===f?[]:f,e.abrupt("return",{cutIndexes:p,geometries:b.map((function(e){var t=Object(O.a)(e);return t.spatialReference=o,t}))});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,r){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(n.a.mark((function e(t,r,a){var i,s,o,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof t?Object(v.I)(t):t,s=r[0].spatialReference,o=Object(O.c)(r[0]),c=Object(m.a)(Object(m.a)({},a),{},{query:Object(m.a)(Object(m.a)({},i.query),{},{f:"json",sr:s.wkid?s.wkid:JSON.stringify(s),geometries:JSON.stringify(w(r))})}),e.t0=function(e,t,r){var a=Object(O.b)(t);return e.map((function(e){var t=a.fromJSON(e);return t.spatialReference=r,t}))},e.next=4,Object(g.default)(i.path+"/simplify",c);case 4:return e.t1=e.sent.data,e.t2=o,e.t3=s,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return{geometryType:Object(O.c)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}var _=u.a.getLogger("esri.geometry.support.normalizeUtils"),P={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new h.a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:b.a.WebMercator}),minus180Line:new h.a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:b.a.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new h.a({paths:[[[180,-180],[180,180]]],spatialReference:b.a.WGS84}),minus180Line:new h.a({paths:[[[-180,-180],[-180,180]]],spatialReference:b.a.WGS84})}};function J(e){return"polygon"===e.type}function L(e){return"polyline"===e[0].type}function N(e){return J(e)?e.rings:e.paths}function M(e,t){return Math.ceil((e-t)/(2*t))}function G(e,t){var r,a=N(e),n=Object(s.a)(a);try{for(n.s();!(r=n.n()).done;){var i,o=r.value,c=Object(s.a)(o);try{for(c.s();!(i=c.n()).done;){i.value[0]+=t}}catch(u){c.e(u)}finally{c.f()}}}catch(u){n.e(u)}finally{n.f()}return e}function D(e,t,r){if(t){var a=function(e,t){if(!(e instanceof h.a||e instanceof d.a)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw _.error(r),new l.a(r)}var a,n=N(e),i=[],o=Object(s.a)(n);try{for(o.s();!(a=o.n()).done;){var c=a.value,u=[];i.push(u),u.push([c[0][0],c[0][1]]);for(var p=0;p<c.length-1;p++){var f=c[p][0],b=c[p][1],y=c[p+1][0],m=c[p+1][1],v=Math.sqrt((y-f)*(y-f)+(m-b)*(m-b)),O=(m-b)/v,g=(y-f)/v,j=v/t;if(j>1){for(var S=1;S<=j-1;S++){var x=S*t,k=g*x+f,w=O*x+b;u.push([k,w])}var P=(v+Math.floor(j-1)*t)/2,L=g*P+f,M=O*P+b;u.push([L,M])}u.push([y,m])}}}catch(G){o.e(G)}finally{o.f()}return J(e)?new d.a({rings:i,spatialReference:e.spatialReference}):new h.a({paths:i,spatialReference:e.spatialReference})}(e,1e6);e=Object(y.e)(a,!0)}return r&&(e=G(e,r)),e}function T(e,t,r){if(Array.isArray(e)){var a=e[0];if(a>t){var n=M(a,t);e[0]=a+n*(-2*t)}else if(a<r){var i=M(a,r);e[0]=a+i*(-2*r)}}else{var s=e.x;if(s>t){var o=M(s,t);e=e.clone().offset(o*(-2*t),0)}else if(s<r){var c=M(s,r);e=e.clone().offset(c*(-2*r),0)}}return e}function I(e,t,r){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(n.a.mark((function e(t,r,a){var i,u,l,b,m,v,O,g,S,k,w,_,J,R,V,F,A,E,C,U,q,z,B,W,Z,K,Q,X,H,Y,$,ee,te,re,ae,ne,ie,se,oe,ce;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",I([t],r));case 2:i=r?r.url:o.a.geometryServiceUrl,k=0,w=[],_=[],J=Object(s.a)(t);try{for(J.s();!(R=J.n()).done;)V=R.value,Object(c.f)(V)?_.push(V):(u||(u=V.spatialReference,l=Object(f.d)(u),b=u.isWebMercator,m=P[O=b?102100:4326].maxX,v=P[O].minX,g=P[O].plus180Line,S=P[O].minus180Line),l?"mesh"===V.type?_.push(V):"point"===V.type?_.push(T(V.clone(),m,v)):"multipoint"===V.type?((F=V.clone()).points=F.points.map((function(e){return T(e,m,v)})),_.push(F)):"extent"===V.type?(A=V.clone()._normalize(!1,!1,l),_.push(A.rings?new d.a(A):A)):V.extent?(E=V.extent,C=M(E.xmin,v)*(2*m),U=0===C?V.clone():G(V.clone(),C),E.offset(C,0),E.intersects(g)&&E.xmax!==m?(k=E.xmax>k?E.xmax:k,U=D(U,b),w.push(U),_.push("cut")):E.intersects(S)&&E.xmin!==v?(k=E.xmax*(2*m)>k?E.xmax*(2*m):k,U=D(U,b,360),w.push(U),_.push("cut")):_.push(U)):_.push(V.clone()):_.push(V))}catch(n){J.e(n)}finally{J.f()}for(q=M(k,m),z=-90,B=q,W=new h.a;q>0;)Z=360*q-180,W.addPath([[Z,z],[Z,-1*z]]),z*=-1,q--;if(!(w.length>0&&B>0)){e.next=28;break}return e.t0=function(e,t){for(var r=-1,a=function(a){for(var i=t.cutIndexes[a],o=t.geometries[a],c=N(o),u=function(e){var t=c[e];t.some((function(r){if(r[0]<180)return!0;for(var a=0,n=0;n<t.length;n++){var i=t[n][0];a=i>a?i:a}for(var s=-360*M(a=Number(a.toFixed(9)),180),c=0;c<t.length;c++){var u=o.getPoint(e,c);o.setPoint(e,c,u.clone().offset(s,0))}return!0}))},l=0;l<c.length;l++)u(l);if(i===r){if("polygon"===e[0].type){var p,f=Object(s.a)(N(o));try{for(f.s();!(p=f.n()).done;){var b=p.value;e[i]=e[i].addRing(b)}}catch(n){f.e(n)}finally{f.f()}}else if(L(e)){var y,d=Object(s.a)(N(o));try{for(d.s();!(y=d.n()).done;){var h=y.value;e[i]=e[i].addPath(h)}}catch(n){d.e(n)}finally{d.f()}}}else r=i,e[i]=o},i=0;i<t.cutIndexes.length;i++)a(i);return e},e.t1=w,e.next=15,j(i,w,W,a);case 15:for(e.t2=e.sent,K=(0,e.t0)(e.t1,e.t2),Q=[],X=[],H=0;H<_.length;H++)"cut"!==(Y=_[H])?X.push(Y):($=K.shift(),ee=t[H],Object(c.g)(ee)&&"polygon"===ee.type&&ee.rings&&ee.rings.length>1&&$.rings.length>=ee.rings.length?(Q.push($),X.push("simplify")):X.push(b?Object(y.b)($):$));if(Q.length){e.next=22;break}return e.abrupt("return",X);case 22:return e.next=24,x(i,Q,a);case 24:for(te=e.sent,re=[],ae=0;ae<X.length;ae++)"simplify"!==(ne=X[ae])?re.push(ne):re.push(b?Object(y.b)(te.shift()):te.shift());return e.abrupt("return",re);case 28:for(ie=[],se=0;se<_.length;se++)"cut"!==(oe=_[se])?ie.push(oe):(ce=w.shift(),ie.push(!0===b?Object(y.b)(ce):ce));return e.abrupt("return",Object(p.s)(ie));case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},876:function(e,t,r){"use strict";var a=r(11),n=r(2),i=r(4),s=r(5),o=r(6),c=r(0),u=(r(12),r(13),r(14),r(1)),l=r(7),p=r(9),f=(r(20),r(21),function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).requestOptions=null,e.url=null,e}return Object(i.a)(r,[{key:"normalizeCtorArgs",value:function(e,t){return"string"!=typeof e?e:Object(a.a)({url:e},t)}},{key:"_parseUrl",value:function(e){return e?Object(p.I)(e):null}},{key:"_encode",value:function(e,t,r){var a={};for(var n in e)if("declaredClass"!==n){var i=e[n];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){a[n]=[];for(var s=0;s<i.length;s++)a[n][s]=this._encode(i[s])}else if("object"==typeof i)if(i.toJSON){var o=i.toJSON(r&&r[n]);a[n]=t?o:JSON.stringify(o)}else a[n]=t?i:JSON.stringify(i);else a[n]=i}return a}},{key:"parsedUrl",get:function(){return this._parseUrl(this.url)}}]),r}(r(44).a));Object(c.a)([Object(u.b)({readOnly:!0,dependsOn:["url"]})],f.prototype,"parsedUrl",null),Object(c.a)([Object(u.b)()],f.prototype,"requestOptions",void 0),Object(c.a)([Object(u.b)({type:String})],f.prototype,"url",void 0);var b=f=Object(c.a)([Object(l.a)("esri.tasks.Task")],f);t.a=b},961:function(e,t,r){"use strict";var a=r(2),n=r(5),i=r(6),s=r(0),o=(r(12),r(13),r(14),r(1)),c=r(34),u=r(7),l=(r(9),r(20),r(21),r(26)),p=new c.a({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"}),f=function(e){Object(n.a)(r,e);var t=Object(i.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).description=null,n.type=null,n}return r}(l.a);Object(s.a)([Object(o.b)({type:String,json:{write:!0}})],f.prototype,"description",void 0),Object(s.a)([Object(o.b)({type:String,json:{read:p.read,write:p.write}})],f.prototype,"type",void 0);var b=f=Object(s.a)([Object(u.a)("esri.tasks.support.GPMessage")],f);t.a=b}}]);
//# sourceMappingURL=40.2a700d59.chunk.js.map