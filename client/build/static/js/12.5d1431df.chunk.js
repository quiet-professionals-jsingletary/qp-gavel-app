(this["webpackJsonpqp-ampd-app"]=this["webpackJsonpqp-ampd-app"]||[]).push([[12],{764:function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var n=r(8),a=r.n(n),s=(r(31),r(22)),i=r(16),o=r(68),u=r(10),c=r(12),p=r(21),f=r(15),l=r(40),v=r(36),b=r(65),h=r(122),y=r(121),d=r(11),O=r(9),j=r(182),g=(r(86),r(58));function m(e,t,r,n){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(a.a.mark((function e(t,r,n,s){var i,o,u,c,p,f,l,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof t?Object(O.I)(t):t,o=r[0].spatialReference,u=Object(d.a)(Object(d.a)({},s),{},{query:Object(d.a)(Object(d.a)({},i.query),{},{f:"json",sr:JSON.stringify(o),target:JSON.stringify({geometryType:Object(j.c)(r[0]),geometries:r}),cutter:JSON.stringify(n)})}),e.next=5,Object(g.default)(i.path+"/cut",u);case 5:return c=e.sent,p=c.data,f=p.cutIndexes,l=p.geometries,v=void 0===l?[]:l,e.abrupt("return",{cutIndexes:f,geometries:v.map((function(e){var t=Object(j.a)(e);return t.spatialReference=o,t}))});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,r){return M.apply(this,arguments)}function M(){return(M=Object(s.a)(a.a.mark((function e(t,r,n){var s,i,o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="string"==typeof t?Object(O.I)(t):t,i=r[0].spatialReference,o=Object(j.c)(r[0]),u=Object(d.a)(Object(d.a)({},n),{},{query:Object(d.a)(Object(d.a)({},s.query),{},{f:"json",sr:i.wkid?i.wkid:JSON.stringify(i),geometries:JSON.stringify(T(r))})}),e.t0=function(e,t,r){var n=Object(j.b)(t);return e.map((function(e){var t=n.fromJSON(e);return t.spatialReference=r,t}))},e.next=4,Object(g.default)(s.path+"/simplify",u);case 4:return e.t1=e.sent.data,e.t2=o,e.t3=i,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return{geometryType:Object(j.c)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}var k=c.a.getLogger("esri.geometry.support.normalizeUtils"),S={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new y.a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:v.a.WebMercator}),minus180Line:new y.a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:v.a.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new y.a({paths:[[[180,-180],[180,180]]],spatialReference:v.a.WGS84}),minus180Line:new y.a({paths:[[[-180,-180],[-180,180]]],spatialReference:v.a.WGS84})}};function J(e){return"polygon"===e.type}function N(e){return"polyline"===e[0].type}function A(e){return J(e)?e.rings:e.paths}function R(e,t){return Math.ceil((e-t)/(2*t))}function q(e,t){var r,n=A(e),a=Object(i.a)(n);try{for(a.s();!(r=a.n()).done;){var s,o=r.value,u=Object(i.a)(o);try{for(u.s();!(s=u.n()).done;){s.value[0]+=t}}catch(c){u.e(c)}finally{u.f()}}}catch(c){a.e(c)}finally{a.f()}return e}function _(e,t,r){if(t){var n=function(e,t){if(!(e instanceof y.a||e instanceof h.a)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw k.error(r),new p.a(r)}var n,a=A(e),s=[],o=Object(i.a)(a);try{for(o.s();!(n=o.n()).done;){var u=n.value,c=[];s.push(c),c.push([u[0][0],u[0][1]]);for(var f=0;f<u.length-1;f++){var l=u[f][0],v=u[f][1],b=u[f+1][0],d=u[f+1][1],O=Math.sqrt((b-l)*(b-l)+(d-v)*(d-v)),j=(d-v)/O,g=(b-l)/O,m=O/t;if(m>1){for(var w=1;w<=m-1;w++){var x=w*t,M=g*x+l,T=j*x+v;c.push([M,T])}var S=(O+Math.floor(m-1)*t)/2,N=g*S+l,R=j*S+v;c.push([N,R])}c.push([b,d])}}}catch(q){o.e(q)}finally{o.f()}return J(e)?new h.a({rings:s,spatialReference:e.spatialReference}):new y.a({paths:s,spatialReference:e.spatialReference})}(e,1e6);e=Object(b.e)(n,!0)}return r&&(e=q(e,r)),e}function I(e,t,r){if(Array.isArray(e)){var n=e[0];if(n>t){var a=R(n,t);e[0]=n+a*(-2*t)}else if(n<r){var s=R(n,r);e[0]=n+s*(-2*r)}}else{var i=e.x;if(i>t){var o=R(i,t);e=e.clone().offset(o*(-2*t),0)}else if(i<r){var u=R(i,r);e=e.clone().offset(u*(-2*r),0)}}return e}function P(e,t,r){return U.apply(this,arguments)}function U(){return(U=Object(s.a)(a.a.mark((function e(t,r,n){var s,c,p,v,d,O,j,g,w,M,T,k,J,U,D,L,C,G,W,X,Z,z,F,E,V,$,Q,B,H,K,Y,ee,te,re,ne,ae,se,ie,oe,ue;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",P([t],r));case 2:s=r?r.url:o.a.geometryServiceUrl,M=0,T=[],k=[],J=Object(i.a)(t);try{for(J.s();!(U=J.n()).done;)D=U.value,Object(u.f)(D)?k.push(D):(c||(c=D.spatialReference,p=Object(l.d)(c),v=c.isWebMercator,d=S[j=v?102100:4326].maxX,O=S[j].minX,g=S[j].plus180Line,w=S[j].minus180Line),p?"mesh"===D.type?k.push(D):"point"===D.type?k.push(I(D.clone(),d,O)):"multipoint"===D.type?((L=D.clone()).points=L.points.map((function(e){return I(e,d,O)})),k.push(L)):"extent"===D.type?(C=D.clone()._normalize(!1,!1,p),k.push(C.rings?new h.a(C):C)):D.extent?(G=D.extent,W=R(G.xmin,O)*(2*d),X=0===W?D.clone():q(D.clone(),W),G.offset(W,0),G.intersects(g)&&G.xmax!==d?(M=G.xmax>M?G.xmax:M,X=_(X,v),T.push(X),k.push("cut")):G.intersects(w)&&G.xmin!==O?(M=G.xmax*(2*d)>M?G.xmax*(2*d):M,X=_(X,v,360),T.push(X),k.push("cut")):k.push(X)):k.push(D.clone()):k.push(D))}catch(a){J.e(a)}finally{J.f()}for(Z=R(M,d),z=-90,F=Z,E=new y.a;Z>0;)V=360*Z-180,E.addPath([[V,z],[V,-1*z]]),z*=-1,Z--;if(!(T.length>0&&F>0)){e.next=28;break}return e.t0=function(e,t){for(var r=-1,n=function(n){for(var s=t.cutIndexes[n],o=t.geometries[n],u=A(o),c=function(e){var t=u[e];t.some((function(r){if(r[0]<180)return!0;for(var n=0,a=0;a<t.length;a++){var s=t[a][0];n=s>n?s:n}for(var i=-360*R(n=Number(n.toFixed(9)),180),u=0;u<t.length;u++){var c=o.getPoint(e,u);o.setPoint(e,u,c.clone().offset(i,0))}return!0}))},p=0;p<u.length;p++)c(p);if(s===r){if("polygon"===e[0].type){var f,l=Object(i.a)(A(o));try{for(l.s();!(f=l.n()).done;){var v=f.value;e[s]=e[s].addRing(v)}}catch(a){l.e(a)}finally{l.f()}}else if(N(e)){var b,h=Object(i.a)(A(o));try{for(h.s();!(b=h.n()).done;){var y=b.value;e[s]=e[s].addPath(y)}}catch(a){h.e(a)}finally{h.f()}}}else r=s,e[s]=o},s=0;s<t.cutIndexes.length;s++)n(s);return e},e.t1=T,e.next=15,m(s,T,E,n);case 15:for(e.t2=e.sent,$=(0,e.t0)(e.t1,e.t2),Q=[],B=[],H=0;H<k.length;H++)"cut"!==(K=k[H])?B.push(K):(Y=$.shift(),ee=t[H],Object(u.g)(ee)&&"polygon"===ee.type&&ee.rings&&ee.rings.length>1&&Y.rings.length>=ee.rings.length?(Q.push(Y),B.push("simplify")):B.push(v?Object(b.b)(Y):Y));if(Q.length){e.next=22;break}return e.abrupt("return",B);case 22:return e.next=24,x(s,Q,n);case 24:for(te=e.sent,re=[],ne=0;ne<B.length;ne++)"simplify"!==(ae=B[ne])?re.push(ae):re.push(v?Object(b.b)(te.shift()):te.shift());return e.abrupt("return",re);case 28:for(se=[],ie=0;ie<k.length;ie++)"cut"!==(oe=k[ie])?se.push(oe):(ue=T.shift(),se.push(!0===v?Object(b.b)(ue):ue));return e.abrupt("return",Object(f.s)(se));case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},766:function(e,t,r){"use strict";var n=r(11),a=r(2),s=r(3),i=r(4),o=r(5),u=r(0),c=(r(13),r(12),r(14),r(1)),p=r(6),f=r(9),l=(r(19),r(20),function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).requestOptions=null,e.url=null,e}return Object(s.a)(r,[{key:"normalizeCtorArgs",value:function(e,t){return"string"!=typeof e?e:Object(n.a)({url:e},t)}},{key:"_parseUrl",value:function(e){return e?Object(f.I)(e):null}},{key:"_encode",value:function(e,t,r){var n={};for(var a in e)if("declaredClass"!==a){var s=e[a];if(null!=s&&"function"!=typeof s)if(Array.isArray(s)){n[a]=[];for(var i=0;i<s.length;i++)n[a][i]=this._encode(s[i])}else if("object"==typeof s)if(s.toJSON){var o=s.toJSON(r&&r[a]);n[a]=t?o:JSON.stringify(o)}else n[a]=t?s:JSON.stringify(s);else n[a]=s}return n}},{key:"parsedUrl",get:function(){return this._parseUrl(this.url)}}]),r}(r(43).a));Object(u.a)([Object(c.b)({readOnly:!0,dependsOn:["url"]})],l.prototype,"parsedUrl",null),Object(u.a)([Object(c.b)()],l.prototype,"requestOptions",void 0),Object(u.a)([Object(c.b)({type:String})],l.prototype,"url",void 0);var v=l=Object(u.a)([Object(p.a)("esri.tasks.Task")],l);t.a=v},853:function(e,t,r){"use strict";var n=r(2),a=r(4),s=r(5),i=r(0),o=(r(13),r(12),r(14),r(1)),u=r(34),c=r(6),p=(r(9),r(19),r(20),r(23)),f=new u.a({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"}),l=function(e){Object(a.a)(r,e);var t=Object(s.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).description=null,a.type=null,a}return r}(p.a);Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],l.prototype,"description",void 0),Object(i.a)([Object(o.b)({type:String,json:{read:f.read,write:f.write}})],l.prototype,"type",void 0);var v=l=Object(i.a)([Object(c.a)("esri.tasks.support.GPMessage")],l);t.a=v},902:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(31),a=r(2),s=r(3),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,e),this._options=t}return Object(s.a)(e,[{key:"toQueryParams",value:function(e){var t=this;if(!e)return null;var r=e.toJSON(),a={};return Object.keys(r).forEach((function(e){var s=t._options[e];if(s){var i="boolean"!=typeof s&&s.name?s.name:e,o="boolean"!=typeof s&&s.getter?s.getter(r):r[e];null!=o&&(a[i]=function(e){if(!Array.isArray(e))return!1;var t=Object(n.a)(e,1)[0];return"number"==typeof t||"string"==typeof t}(o)?o.join(","):"object"==typeof o?JSON.stringify(o):o)}else a[e]=r[e]}),this),a}}]),e}();function o(e){return new i(e)}},903:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r(16),a=r(8),s=r.n(a),i=r(22),o=r(2),u=r(3),c=r(4),p=r(5),f=r(0),l=(r(13),r(72)),v=r(10),b=(r(12),r(14),r(1),r(6)),h=r(21),y=r(9),d=(r(19),r(20),r(58)),O=r(766),j=function(e){var t=function(e){Object(c.a)(r,e);var t=Object(p.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"getServiceDescription",value:function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription()),this._serviceDescriptionPromise));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_fetchServiceDescription",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,r,a,o,u,c,p,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.url&&this.parsedUrl){e.next=2;break}throw new h.a("network-service:missing-url","Url to Network service is missing");case 2:return t=this.url,e.next=5,Object(d.default)(t,{query:{f:"json"}});case 5:for(r=e.sent,(a=r.data).supportedTravelModes||(a.supportedTravelModes=[]),o=0;o<a.supportedTravelModes.length;o++)a.supportedTravelModes[o].id||(a.supportedTravelModes[o].id=a.supportedTravelModes[o].itemId);return u=a.currentVersion>=10.4?function(){var e=Object(i.a)(s.a.mark((function e(t){var r,n,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.default)(t+("/"===t[t.length-1]?"":"/")+"retrieveTravelModes",{query:{f:"json"}});case 3:return r=e.sent,n=r.data,a=n.supportedTravelModes,i=n.defaultTravelMode,e.abrupt("return",{supportedTravelModes:a,defaultTravelMode:i});case 10:throw e.prev=10,e.t0=e.catch(0),new h.a("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()(t):function(){var e=Object(i.a)(s.a.mark((function e(t){var r,a,i,o,u,c,p,f,v,b,h,O,j,g,m,w,x,M;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.default)(t.substring(0,t.indexOf("/rest/")+6)+"info",{query:{f:"json"}});case 2:if(r=e.sent,(a=r.data)&&a.owningSystemUrl){e.next=6;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 6:return t=a.owningSystemUrl,e.next=9,Object(d.default)(t+("/"===t[t.length-1]?"":"/")+"sharing/rest/portals/self",{query:{f:"json"}});case 9:if(i=e.sent,o=i.data,u=Object(l.b)("helperServices.routingUtilities.url",o)){e.next=14;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 14:return c=Object(y.I)(t),p=/\/solveClosestFacility$/.test(c.path)?"Route":/\/solveClosestFacility$/.test(c.path)?"ClosestFacility":"ServiceAreas",e.next=18,Object(d.default)(u+("/"===u[u.length-1]?"":"/")+"GetTravelModes/execute",{query:{f:"json",serviceName:p}});case 18:if(f=e.sent,v=[],b=null,f&&f.data&&f.data.results&&f.data.results.length){h=f.data.results,O=Object(n.a)(h);try{for(O.s();!(j=O.n()).done;)if("supportedTravelModes"===(g=j.value).paramName){if(g.value&&g.value.features){m=Object(n.a)(g.value.features);try{for(m.s();!(w=m.n()).done;)(x=w.value.attributes)&&(M=JSON.parse(x.TravelMode),v.push(M))}catch(s){m.e(s)}finally{m.f()}}}else"defaultTravelMode"===g.paramName&&(b=g.value)}catch(s){O.e(s)}finally{O.f()}}return e.abrupt("return",{supportedTravelModes:v,defaultTravelMode:b});case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t),e.next=12,u;case 12:return c=e.sent,p=c.defaultTravelMode,f=c.supportedTravelModes,e.abrupt("return",(a.defaultTravelMode=p,a.supportedTravelModes=f,a));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_isInputGeometryZAware",value:function(e,t){for(var r=0;r<t.length;r++){var a=e[t[r]];if(a&&a.length){var s,i=Object(n.a)(a);try{for(i.s();!(s=i.n()).done;){var o=s.value;if(Object(v.g)(o)&&o.hasZ)return!0}}catch(u){i.e(u)}finally{i.f()}}}return!1}},{key:"_dropZValuesOffInputGeometry",value:function(e,t){for(var r=0;r<t.length;r++){var a=e[t[r]];if(a&&a.length){var s,i=Object(n.a)(a);try{for(i.s();!(s=i.n()).done;){s.value.z=void 0}}catch(o){i.e(o)}finally{i.f()}}}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}}]),r}(e);return t=Object(f.a)([Object(b.a)("esri.tasks.mixins.NAServiceDescription")],t),t},g=function(e){Object(c.a)(r,e);var t=Object(p.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return r}(j(O.a));g=Object(f.a)([Object(b.a)("esri.tasks.mixins.NAServiceDescription")],g)},905:function(e,t,r){"use strict";var n=r(2),a=r(4),s=r(5),i=r(0),o=(r(13),r(12),r(14),r(1)),u=r(34),c=r(6),p=(r(9),r(19),r(20),r(853)),f=new u.a({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"}),l=function(e){Object(a.a)(r,e);var t=Object(s.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).type=null,a}return r}(p.a);Object(i.a)([Object(o.b)({type:String,json:{read:f.read,write:f.write}})],l.prototype,"type",void 0);var v=l=Object(i.a)([Object(c.a)("esri.tasks.support.NAMessage")],l);t.a=v}}]);
//# sourceMappingURL=12.5d1431df.chunk.js.map