(this["webpackJsonpqp-ampd-app"]=this["webpackJsonpqp-ampd-app"]||[]).push([[4],{1073:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return l}));var n=r(11),a=r(15),o=r(9),i=r(94),s=r(59),u=r(1035),c=r(1086);function d(e){var t=e.toJSON();return t.attachmentTypes&&(t.attachmentTypes=t.attachmentTypes.join(",")),t.keywords&&(t.keywords=t.keywords.join(",")),t.globalIds&&(t.globalIds=t.globalIds.join(",")),t.objectIds&&(t.objectIds=t.objectIds.join(",")),t.size&&(t.size=t.size.join(",")),t}function l(e,t){var r,n={},s=Object(a.a)(e);try{for(s.s();!(r=s.n()).done;){var u,d=r.value,l=d.parentObjectId,f=d.parentGlobalId,h=d.attachmentInfos,y=Object(a.a)(h);try{for(y.s();!(u=y.n()).done;){var p=u.value,b=p.id,j=Object(o.b)(Object(i.a)("".concat(t,"/").concat(l,"/attachments/").concat(b))),O=c.a.fromJSON(p);O.set({url:j,parentObjectId:l,parentGlobalId:f}),n[l]?n[l].push(O):n[l]=[O]}}catch(m){y.e(m)}finally{y.f()}}}catch(m){s.e(m)}finally{s.f()}return n}function f(e,t,r){var a={query:Object(u.a)(Object(n.a)(Object(n.a)({},e.query),{},{f:"json"},d(t)))};return r&&(a=Object(n.a)(Object(n.a)(Object(n.a)({},r),a),{},{query:Object(n.a)(Object(n.a)({},r.query),a.query)})),Object(s.default)(e.path+"/queryAttachments",a)}},1086:function(e,t,r){"use strict";var n,a=r(2),o=r(4),i=r(5),s=r(6),u=r(0),c=(r(12),r(13),r(14)),d=r(1),l=r(7),f=(r(9),r(20),r(21),r(26));var h={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}},y=n=function(e){Object(i.a)(r,e);var t=Object(s.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).contentType=null,n.exifInfo=null,n.id=null,n.globalId=null,n.keywords=null,n.name=null,n.parentGlobalId=null,n.parentObjectId=null,n.size=null,n.url=null,n}return Object(o.a)(r,[{key:"clone",value:function(){return new n({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}},{key:"orientationInfo",get:function(){var e=function(e){var t=e.exifInfo,r=e.exifName,n=e.tagName;if(!t||!r||!n)return null;var a=t.find((function(e){return e.name===r}));return a?function(e){var t=e.tagName,r=e.tags;if(!r||!t)return null;var n=r.find((function(e){return e.name===t}));return n&&n.value||null}({tagName:n,tags:a.tags}):null}({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:this.exifInfo});return h[e]||null}}]),r}(f.a);Object(u.a)([Object(d.b)({type:String})],y.prototype,"contentType",void 0),Object(u.a)([Object(d.b)()],y.prototype,"exifInfo",void 0),Object(u.a)([Object(d.b)({readOnly:!0,dependsOn:["exifInfo"]})],y.prototype,"orientationInfo",null),Object(u.a)([Object(d.b)({type:c.a})],y.prototype,"id",void 0),Object(u.a)([Object(d.b)({type:String})],y.prototype,"globalId",void 0),Object(u.a)([Object(d.b)({type:String})],y.prototype,"keywords",void 0),Object(u.a)([Object(d.b)({type:String})],y.prototype,"name",void 0),Object(u.a)([Object(d.b)({json:{read:!1}})],y.prototype,"parentGlobalId",void 0),Object(u.a)([Object(d.b)({json:{read:!1}})],y.prototype,"parentObjectId",void 0),Object(u.a)([Object(d.b)({type:c.a})],y.prototype,"size",void 0),Object(u.a)([Object(d.b)({json:{read:!1}})],y.prototype,"url",void 0);var p=y=n=Object(u.a)([Object(l.a)("esri.layers.support.AttachmentInfo")],y);t.a=p},955:function(e,t,r){"use strict";var n=r(15),a=r(8),o=r.n(a),i=r(11),s=r(23),u=r(2),c=r(4),d=r(5),l=r(6),f=r(0),h=r(12),y=r(10),p=(r(13),r(14),r(1)),b=r(7),j=(r(9),r(20),r(21),r(57)),O=(r(103),r(851)),m=r(290),v=r(946),g=r(376),k=r(923),I=r(876),x=r(326),S=r(870),P=r(868);function C(e,t){return t}function G(e,t,r,n){switch(r){case 0:return q(e,t+n,0);case 1:return"lowerLeft"===e.originPosition?q(e,t+n,1):function(e,t,r){var n=e.translate,a=e.scale;return n[1]-t*a[1]}(e,t+n)}}function R(e,t,r,n){switch(r){case 2:return q(e,t,2);default:return G(e,t,r,n)}}function w(e,t,r,n){switch(r){case 2:return q(e,t,3);default:return G(e,t,r,n)}}function F(e,t,r,n){switch(r){case 3:return q(e,t,3);default:return R(e,t,r,n)}}function q(e,t,r){var n=e.translate,a=e.scale;return n[r]+t*a[r]}var T=function(){function e(t){Object(u.a)(this,e),this.options=t,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=C,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this.AttributesConstructor=function(){}}return Object(c.a)(e,[{key:"createFeatureResult",value:function(){return{fields:[],features:[]}}},{key:"finishFeatureResult",value:function(e){if(this.options.applyTransform&&(e.transform=null),this.AttributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0,e.hasZ){var t=Object(P.a)(e.geometryType,this.options.sourceSpatialReference,e.spatialReference);if(t){var r,a=Object(n.a)(e.features);try{for(a.s();!(r=a.n()).done;){t(r.value.geometry)}}catch(o){a.e(o)}finally{a.f()}}}}},{key:"createSpatialReference",value:function(){return{}}},{key:"addField",value:function(e,t){e.fields.push(t);var r=e.fields.map((function(e){return e.name}));this.AttributesConstructor=function(){var e,t=Object(n.a)(r);try{for(t.s();!(e=t.n()).done;){this[e.value]=null}}catch(a){t.e(a)}finally{t.f()}}}},{key:"addFeature",value:function(e,t){e.features.push(t)}},{key:"prepareFeatures",value:function(e){var t=this;switch(this.transform=e.transform,this.options.applyTransform&&e.transform&&(this.applyTransform=this.deriveApplyTransform(e)),this.vertexDimension=2,e.hasZ&&this.vertexDimension++,e.hasM&&this.vertexDimension++,e.geometryType){case"esriGeometryPoint":this.addCoordinate=function(e,r,n){return t.addCoordinatePoint(e,r,n)},this.createGeometry=function(e){return t.createPointGeometry(e)};break;case"esriGeometryPolygon":this.addCoordinate=function(e,r,n){return t.addCoordinatePolygon(e,r,n)},this.createGeometry=function(e){return t.createPolygonGeometry(e)};break;case"esriGeometryPolyline":this.addCoordinate=function(e,r,n){return t.addCoordinatePolyline(e,r,n)},this.createGeometry=function(e){return t.createPolylineGeometry(e)};break;case"esriGeometryMultipoint":this.addCoordinate=function(e,r,n){return t.addCoordinateMultipoint(e,r,n)},this.createGeometry=function(e){return t.createMultipointGeometry(e)};break;default:Object(x.a)(e.geometryType)}}},{key:"createFeature",value:function(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this.AttributesConstructor}}},{key:"addLength",value:function(e,t,r){0===this.lengths.length&&(this.toAddInCurrentPath=t),this.lengths.push(t)}},{key:"addQueryGeometry",value:function(e,t){var r=t.queryGeometry,n=t.queryGeometryType,a=Object(S.v)(r.clone(),r,!1,!1,this.transform),o=Object(S.h)(a,n,!1,!1);e.queryGeometryType=n,e.queryGeometry=Object(i.a)({},o)}},{key:"createPointGeometry",value:function(e){var t={x:0,y:0,spatialReference:e.spatialReference};return e.hasZ&&(t.z=0),e.hasM&&(t.m=0),t}},{key:"addCoordinatePoint",value:function(e,t,r){switch(t=this.applyTransform(this.transform,t,r,0),r){case 0:e.x=t;break;case 1:e.y=t;break;case 2:"z"in e?e.z=t:e.m=t;break;case 3:e.m=t}}},{key:"transformPathLikeValue",value:function(e,t){var r=0;return t<=1&&(r=this.previousCoordinate[t],this.previousCoordinate[t]+=e),this.applyTransform(this.transform,e,t,r)}},{key:"addCoordinatePolyline",value:function(e,t,r){this.dehydratedAddPointsCoordinate(e.paths,t,r)}},{key:"addCoordinatePolygon",value:function(e,t,r){this.dehydratedAddPointsCoordinate(e.rings,t,r)}},{key:"addCoordinateMultipoint",value:function(e,t,r){0===r&&e.points.push([]);var n=this.transformPathLikeValue(t,r);e.points[e.points.length-1].push(n)}},{key:"createPolygonGeometry",value:function(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}},{key:"createPolylineGeometry",value:function(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}},{key:"createMultipointGeometry",value:function(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}},{key:"dehydratedAddPointsCoordinate",value:function(e,t,r){0===r&&0==this.toAddInCurrentPath--&&(e.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);var n=this.transformPathLikeValue(t,r),a=e[e.length-1];0===r&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),a.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=n}},{key:"deriveApplyTransform",value:function(e){var t=e.hasZ,r=e.hasM;return t&&r?F:t?R:r?w:G}}]),e}(),D=r(854),N=r(1073),z=r(59),A=r(1035);function M(e,t){var r=e.toJSON();return r.objectIds&&(r.objectIds=r.objectIds.join(",")),r.orderByFields&&(r.orderByFields=r.orderByFields.join(",")),!r.outFields||null!=t&&t.returnCountOnly?delete r.outFields:-1!==r.outFields.indexOf("*")?r.outFields="*":r.outFields=r.outFields.join(","),r.outSpatialReference&&(r.outSR=r.outSR.wkid||JSON.stringify(r.outSR.toJSON()),delete r.outSpatialReference),r.dynamicDataSource&&(r.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r}function V(){return(V=Object(s.a)(o.a.mark((function e(t,r,a){var s,u,c,d,l,f,h,y,p,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,r,a);case 2:s=e.sent,u=s.data,c=u.geometryType,d=u.spatialReference,l={},f=Object(n.a)(u.relatedRecordGroups);try{for(f.s();!(h=f.n()).done;)if(y=h.value,p={fields:void 0,objectIdFieldName:void 0,geometryType:c,spatialReference:d,hasZ:!!u.hasZ,hasM:!!u.hasM,features:y.relatedRecords},null!=y.objectId)l[y.objectId]=p;else for(b in y)y.hasOwnProperty(b)&&"relatedRecords"!==b&&(l[y[b]]=p)}catch(o){f.e(o)}finally{f.f()}return e.abrupt("return",Object(i.a)(Object(i.a)({},s),{},{data:l}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(s.a)(o.a.mark((function e(t,r,a){var s,u,c,d,l,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,r,a,{returnCountOnly:!0});case 2:s=e.sent,u=s.data,c={},d=Object(n.a)(u.relatedRecordGroups);try{for(d.s();!(l=d.n()).done;)null!=(f=l.value).objectId&&(c[f.objectId]=f.count)}catch(o){d.e(o)}finally{d.f()}return e.abrupt("return",Object(i.a)(Object(i.a)({},s),{},{data:c}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return J.apply(this,arguments)}function J(){return(J=Object(s.a)(o.a.mark((function e(t,r){var n,a,s,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:{},a=u.length>3?u[3]:void 0,s=Object(A.a)(Object(i.a)(Object(i.a)(Object(i.a)({},t.query),{},{f:"json"},a),M(r,a))),e.abrupt("return",Object(z.default)(t.path+"/queryRelatedRecords",Object(i.a)(Object(i.a)({},n),{},{query:Object(i.a)(Object(i.a)({},n.query),s)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this,e)).dynamicDataSource=null,n.format="json",n.gdbVersion=null,n.sourceSpatialReference=null,n}return Object(c.a)(r,[{key:"execute",value:function(e,t){return this.executeJSON(e,t).then((function(e){return O.default.fromJSON(e)}))}},{key:"executeJSON",value:function(){var e=Object(s.a)(o.a.mark((function e(t,r){var n,a,s,u,c,d,l,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(i.a)(Object(i.a)({},this.requestOptions),r),s=this._normalizeQuery(t),u=null!=(null==(n=t.outStatistics)?void 0:n[0]),c=Object(h.a)("featurelayer-pbf-statistics"),d=!u||c,"pbf"!==this.format||!d){e.next=14;break}return f=!s.quantizationParameters,e.prev=3,e.next=6,Object(D.executeQueryPBF)(this.parsedUrl,s,new T({sourceSpatialReference:this.sourceSpatialReference,applyTransform:f}),a);case 6:l=e.sent.data,e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(3),"query:parsing-pbf"===e.t0.name){e.next=13;break}throw e.t0;case 13:this.format="json";case 14:if("json"!==this.format&&d){e.next=18;break}return e.next=17,Object(D.executeQuery)(this.parsedUrl,s,this.sourceSpatialReference,a);case 17:l=e.sent.data;case 18:return e.abrupt("return",(this._normalizeFields(l.fields),l));case 19:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"executeForCount",value:function(e,t){return Object(D.executeQueryForCount)(this.parsedUrl,this._normalizeQuery(e),Object(i.a)(Object(i.a)({},this.requestOptions),t)).then((function(e){return e.data.count}))}},{key:"executeForExtent",value:function(e,t){return Object(D.executeQueryForExtent)(this.parsedUrl,this._normalizeQuery(e),Object(i.a)(Object(i.a)({},this.requestOptions),t)).then((function(e){return{count:e.data.count,extent:j.a.fromJSON(e.data.extent)}}))}},{key:"executeForIds",value:function(e,t){return Object(D.executeQueryForIds)(this.parsedUrl,this._normalizeQuery(e),Object(i.a)(Object(i.a)({},this.requestOptions),t)).then((function(e){return e.data.objectIds}))}},{key:"executeRelationshipQuery",value:function(e,t){return e=k.a.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),function(e,t,r){return V.apply(this,arguments)}(this.parsedUrl,e,Object(i.a)(Object(i.a)({},this.requestOptions),t)).then((function(e){var t=e.data,r={};return Object.keys(t).forEach((function(e){return r[e]=O.default.fromJSON(t[e])})),r}))}},{key:"executeRelationshipQueryForCount",value:function(e,t){return e=k.a.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),function(e,t,r){return Q.apply(this,arguments)}(this.parsedUrl,e,Object(i.a)(Object(i.a)({},this.requestOptions),t)).then((function(e){return e.data}))}},{key:"executeAttachmentQuery",value:function(e,t){var r=this;return Object(N.a)(this.parsedUrl,v.a.from(e),Object(i.a)(Object(i.a)({},this.requestOptions),t)).then((function(e){return Object(N.b)(e.data.attachmentGroups,r.parsedUrl.path)}))}},{key:"_normalizeQuery",value:function(e){var t=g.a.from(e);if(!this.gdbVersion&&!this.dynamicDataSource)return t;var r=t===e?t.clone():t;return r.gdbVersion=e.gdbVersion||this.gdbVersion,r.dynamicDataSource=e.dynamicDataSource?m.a.from(e.dynamicDataSource):this.dynamicDataSource,r}},{key:"_normalizeFields",value:function(e){if(Object(y.g)(this.fieldsIndex)&&Object(y.g)(e)){var t,r=Object(n.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,o=this.fieldsIndex.get(a.name);o&&Object.assign(a,o.toJSON())}}catch(i){r.e(i)}finally{r.f()}}}}]),r}(I.a);Object(f.a)([Object(p.b)({type:m.a})],Z.prototype,"dynamicDataSource",void 0),Object(f.a)([Object(p.b)()],Z.prototype,"fieldsIndex",void 0),Object(f.a)([Object(p.b)()],Z.prototype,"format",void 0),Object(f.a)([Object(p.b)()],Z.prototype,"gdbVersion",void 0),Object(f.a)([Object(p.b)()],Z.prototype,"sourceSpatialReference",void 0);var U=Z=Object(f.a)([Object(b.a)("esri.tasks.QueryTask")],Z);t.a=U}}]);
//# sourceMappingURL=4.c092a512.chunk.js.map