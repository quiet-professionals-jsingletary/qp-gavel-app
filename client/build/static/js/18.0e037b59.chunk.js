(this["webpackJsonpqp-ampd-app"]=this["webpackJsonpqp-ampd-app"]||[]).push([[18],{1040:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var r=i(15),a=i(2),n=i(4),s=i(60),o=i(5),l=i(6),c=i(0),u=(i(12),i(13)),y=(i(14),i(1)),b=i(7),v=(i(9),i(20),i(21),i(16)),d=i(42),f=i(176),h=i(192);function p(e){return e&&"group"===e.type}function O(e,t,i){var r,a;if(e)for(var n=0,s=e.length;n<s;n++){if((r=e.getItemAt(n))[t]===i)return r;if(p(r)&&(a=O(r.layers,t,i)))return a}}var j=u.a.getLogger("esri.support.LayersMixin"),m=function(e){var t=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){var e;Object(a.a)(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(e=t.call.apply(t,[this].concat(n))).layers=new d.a;var l=function(t){t.parent=Object(s.a)(e),e.layerAdded(t),"elevation"!==t.type&&"base-elevation"!==t.type||j.error("Layer 'title:".concat(t.title,", id:").concat(t.id,"' of type '").concat(t.type,"' is not supported as an operational layer and will therefore be ignored."))},c=function(t){t.parent=null,e.layerRemoved(t)};return e.layers.on("before-add",(function(e){var t;(t=e.item).parent&&"remove"in t.parent&&t.parent.remove(t)})),e.layers.on("after-add",(function(e){return l(e.item)})),e.layers.on("after-remove",(function(e){return c(e.item)})),e}return Object(n.a)(i,[{key:"destroy",value:function(){var e,t=this.layers.removeAll(),i=Object(r.a)(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;this.layerRemoved(a),a.destroy()}}catch(n){i.e(n)}finally{i.f()}this.layers.destroy()}},{key:"add",value:function(e,t){var i=this,r=this.layers;t=r.getNextIndex(t),e instanceof h.a?e.parent===this?this.reorder(e,t):r.add(e,t):Object(v.n)(e)?e.then((function(e){i.destroyed||i.add(e,t)})):j.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}},{key:"addMany",value:function(e,t){var i=this,r=this.layers;t=r.getNextIndex(t),e.slice().forEach((function(e){e.parent!==i?(r.add(e,t),t+=1):i.reorder(e,t)}))}},{key:"findLayerById",value:function(e){return O(this.layers,"id",e)}},{key:"findLayerByUid",value:function(e){return O(this.layers,"uid",e)}},{key:"remove",value:function(e){return this.layers.remove(e)}},{key:"removeMany",value:function(e){return this.layers.removeMany(e)}},{key:"removeAll",value:function(){return this.layers.removeAll()}},{key:"reorder",value:function(e,t){return this.layers.reorder(e,t)}},{key:"layerAdded",value:function(e){}},{key:"layerRemoved",value:function(e){}},{key:"layers",set:function(e){this._set("layers",Object(f.b)(e,this._get("layers")))}}]),i}(e);return Object(c.a)([Object(y.b)()],t.prototype,"layers",null),t=Object(c.a)([Object(b.a)("esri.support.LayersMixin")],t)}},1041:function(e,t,i){"use strict";i.d(t,"a",(function(){return O}));var r=i(15),a=i(2),n=i(4),s=i(60),o=i(5),l=i(6),c=i(0),u=(i(12),i(13)),y=(i(14),i(1)),b=i(7),v=(i(9),i(20),i(21),i(42)),d=i(176),f=u.a.getLogger("esri.support.TablesMixin");function h(e){return e&&"group"===e.type}function p(e,t,i){if(e)for(var r=0,a=e.length;r<a;r++){var n=e.getItemAt(r);if(n[t]===i)return n;if(h(n)){var s=p(n.tables,t,i);if(s)return s}}}var O=function(e){var t=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){var e;Object(a.a)(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).tables=new v.a,e.tables.on("after-add",(function(t){var i=t.item;i.parent&&i.parent!==Object(s.a)(e)&&"tables"in i.parent&&i.parent.tables.remove(i),i.parent=Object(s.a)(e),"feature"!==i.type&&f.error("Layer 'title:".concat(i.title,", id:").concat(i.id,"' of type '").concat(i.type,"' is not supported as a table and will therefore be ignored."))})),e.tables.on("after-remove",(function(e){e.item.parent=null})),e}return Object(n.a)(i,[{key:"destroy",value:function(){var e,t=this.tables.removeAll(),i=Object(r.a)(t);try{for(i.s();!(e=i.n()).done;){e.value.destroy()}}catch(a){i.e(a)}finally{i.f()}this.tables.destroy()}},{key:"findTableById",value:function(e){return p(this.tables,"id",e)}},{key:"findTableByUid",value:function(e){return p(this.tables,"uid",e)}},{key:"tables",set:function(e){this._set("tables",Object(d.b)(e,this._get("tables")))}}]),i}(e);return Object(c.a)([Object(y.b)()],t.prototype,"tables",null),t=Object(c.a)([Object(b.a)("esri.support.TablesMixin")],t)}},947:function(e,t,i){"use strict";i.r(t);var r=i(2),a=i(4),n=i(60),s=i(5),o=i(6),l=i(0),c=(i(12),i(10)),u=(i(13),i(14),i(56)),y=i(1),b=i(7),v=i(28),d=(i(9),i(20),i(21),i(16)),f=i(437),h=i(413),p=i(192),O=i(1040),j=i(1041),m=i(193),g=i(245),k=i(247),_=i(244),L=function(e){Object(s.a)(i,e);var t=Object(o.a)(i);function i(e){var a;return Object(r.a)(this,i),(a=t.call(this,e))._visibilityHandles={},a.fullExtent=void 0,a.operationalLayerType="GroupLayer",a.spatialReference=void 0,a.type="group",a._visibilityWatcher=a._visibilityWatcher.bind(Object(n.a)(a)),a}return Object(a.a)(i,[{key:"initialize",value:function(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch("visible",this._visibleWatcher.bind(this),!0)}},{key:"_writeLayers",value:function(e,t,i,r){var a=[];if(!e)return a;e.forEach((function(e){var t=Object(h.a)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);Object(c.g)(t)&&t.layerType&&a.push(t)})),t.layers=a}},{key:"load",value:function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e)),Object(d.s)(this)}},{key:"loadAll",value:function(){var e=this;return Object(f.a)(this,(function(t){t(e.layers)}))}},{key:"layerAdded",value:function(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this._visibilityHandles[e.uid]=e.watch("visible",this._visibilityWatcher,!0)}},{key:"layerRemoved",value:function(e){var t=this._visibilityHandles[e.uid];t&&(t.remove(),delete this._visibilityHandles[e.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}},{key:"_turnOffOtherLayers",value:function(e){this.layers.forEach((function(t){t!==e&&(t.visible=!1)}))}},{key:"_enforceVisibility",value:function(e,t){if(Object(u.a)(this).initialized){var i=this.layers,r=i.find((function(e){return e.visible}));switch(e){case"exclusive":i.length&&!r&&((r=i.getItemAt(0)).visible=!0),this._turnOffOtherLayers(r);break;case"inherited":i.forEach((function(e){e.visible=t}))}}}},{key:"_visibleWatcher",value:function(e){"inherited"===this.visibilityMode&&this.layers.forEach((function(t){t.visible=e}))}},{key:"_visibilityWatcher",value:function(e,t,i,r){var a=r;switch(this.visibilityMode){case"exclusive":e?this._turnOffOtherLayers(a):this._isAnyLayerVisible()||(a.visible=!0);break;case"inherited":a.visible=this.visible}}},{key:"_isAnyLayerVisible",value:function(){return this.layers.some((function(e){return e.visible}))}},{key:"portalItem",set:function(e){this._set("portalItem",e)}},{key:"visibilityMode",set:function(e){var t=this._get("visibilityMode")!==e;this._set("visibilityMode",e),t&&this._enforceVisibility(e,this.visible)}}]),i}(Object(k.a)(Object(g.a)(Object(_.a)(Object(j.a)(Object(O.a)(Object(m.a)(p.a)))))));Object(l.a)([Object(y.b)()],L.prototype,"fullExtent",void 0),Object(l.a)([Object(y.b)({json:{read:!1,write:{ignoreOrigin:!0}}})],L.prototype,"layers",void 0),Object(l.a)([Object(v.a)("layers")],L.prototype,"_writeLayers",null),Object(l.a)([Object(y.b)({type:["GroupLayer"]})],L.prototype,"operationalLayerType",void 0),Object(l.a)([Object(y.b)({json:{origins:{"web-document":{read:!1,write:!1}}}})],L.prototype,"portalItem",null),Object(l.a)([Object(y.b)()],L.prototype,"spatialReference",void 0),Object(l.a)([Object(y.b)({json:{read:!1},readOnly:!0,value:"group"})],L.prototype,"type",void 0),Object(l.a)([Object(y.b)({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{read:!1,write:!1}}}})],L.prototype,"visibilityMode",null);var w=L=Object(l.a)([Object(b.a)("esri.layers.GroupLayer")],L);t.default=w}}]);
//# sourceMappingURL=18.0e037b59.chunk.js.map