{"version":3,"sources":["../node_modules/@arcgis/core/tasks/support/ServiceAreaSolveResult.js","../node_modules/@arcgis/core/tasks/ServiceAreaTask.js"],"names":["u","r","features","map","o","t","p","fromJSON","spatialReference","s","c","e","geometry","d","y","f","facilities","messages","pointBarriers","polylineBarriers","polygonBarriers","serviceAreaPolylines","serviceAreaPolygons","barriers","saPolylines","saPolygons","i","type","a","prototype","m","n","l","g","accumulateAttributes","name","attributeParameterValues","defaultBreaks","outSpatialReference","getter","wkid","restrictionAttributes","returnPointBarriers","travelMode","url","this","_collectGeometries","then","push","slice","_isInputGeometryZAware","getServiceDescription","dontCheck","hasZ","_dropZValuesOffInputGeometry","forEach","get","query","parsedUrl","toQueryParams","requestOptions","path","data","length"],"mappings":"qXAI64B,SAASA,EAAEC,GAAG,OAAOA,EAAEC,SAASC,KAAK,SAAAC,GAAI,IAAMC,EAAEC,IAAEC,SAASN,EAAEO,kBAAkBC,EAAEC,IAAEH,SAASH,GAAG,OAAOO,YAAEF,EAAEG,UAAUJ,iBAAiBH,EAAEI,KAAK,SAASI,EAAEZ,GAAG,OAAOA,EAAEC,SAASC,KAAK,SAAAQ,GAAC,OAAGA,EAAEC,SAASJ,iBAAiBP,EAAEO,iBAAiBM,YAAEH,EAAEC,aAAa,IAAIG,EAAC,kDAAiB,WAAYd,GAAE,kCAAC,cAAMA,IAAQe,WAAW,KAAK,EAAKC,SAAS,KAAK,EAAKC,cAAc,KAAK,EAAKC,iBAAiB,KAAK,EAAKC,gBAAgB,KAAK,EAAKC,qBAAqB,KAAK,EAAKC,oBAAoB,KAAvL,EAA/B,2DAA0OrB,GAAG,OAAOY,EAAEZ,KAAtP,wCAA2QA,EAAEU,GAAG,OAAOE,EAAEF,EAAEY,YAA3R,2CAA0TtB,GAAG,OAAOY,EAAEZ,KAAtU,0CAA6VA,GAAG,OAAOY,EAAEZ,KAAzW,oCAA0XA,EAAEU,GAAG,OAAOX,EAAEW,EAAEa,eAA1Y,8CAA+avB,EAAEU,GAAG,OAAOX,EAAEW,EAAEc,gBAA/b,GAAeC,KAA8bzB,YAAE,CAACG,YAAE,CAACuB,KAAK,CAACC,QAAMb,EAAEc,UAAU,kBAAa,GAAQ5B,YAAE,CAACI,YAAE,eAAeU,EAAEc,UAAU,iBAAiB,MAAM5B,YAAE,CAACG,YAAE,CAACuB,KAAK,CAACG,QAAMf,EAAEc,UAAU,gBAAW,GAAQ5B,YAAE,CAACG,YAAE,CAACuB,KAAK,CAACC,QAAMb,EAAEc,UAAU,qBAAgB,GAAQ5B,YAAE,CAACI,YAAE,gBAAgB,CAAC,cAAcU,EAAEc,UAAU,oBAAoB,MAAM5B,YAAE,CAACG,YAAE,CAACuB,KAAK,CAACI,QAAMhB,EAAEc,UAAU,wBAAmB,GAAQ5B,YAAE,CAACI,YAAE,qBAAqBU,EAAEc,UAAU,uBAAuB,MAAM5B,YAAE,CAACG,YAAE,CAACuB,KAAK,CAACK,QAAMjB,EAAEc,UAAU,uBAAkB,GAAQ5B,YAAE,CAACI,YAAE,oBAAoBU,EAAEc,UAAU,sBAAsB,MAAM5B,YAAE,CAACG,YAAE,CAACuB,KAAK,CAACjB,QAAMK,EAAEc,UAAU,4BAAuB,GAAQ5B,YAAE,CAACI,YAAE,uBAAuB,CAAC,iBAAiBU,EAAEc,UAAU,gBAAgB,MAAM5B,YAAE,CAACG,YAAE,CAACuB,KAAK,CAACjB,QAAMK,EAAEc,UAAU,2BAAsB,GAAQ5B,YAAE,CAACI,YAAE,sBAAsB,CAAC,gBAAgBU,EAAEc,UAAU,0BAA0B,MAA8D,IAAuBI,EAA/ElB,EAAEd,YAAE,CAACQ,YAAE,8CAA8CM,GCA3rDgB,EAAEzB,YAAE,CAAC4B,qBAAqB,CAACC,KAAK,4BAA4BC,0BAAyB,EAAGC,eAAc,EAAGrB,YAAW,EAAGsB,oBAAoB,CAACH,KAAK,QAAQI,OAAO,SAAA5B,GAAC,OAAEA,EAAE2B,oBAAoBE,OAAMtB,cAAc,CAACiB,KAAK,YAAYhB,kBAAiB,EAAGC,iBAAgB,EAAGqB,sBAAsB,CAACN,KAAK,6BAA6BO,oBAAoB,CAACP,KAAK,kBAAkBQ,YAAW,IAAS3C,EAAC,kDAAqB,WAAYW,GAAE,kCAAC,cAAMA,IAAQiC,IAAI,KAAnB,EAAnC,kDAAiEjC,EAAEV,GAAE,WAAOI,EAAE,GAAGuB,EAAE,GAAGtB,EAAE,GAAG0B,EAAE,GAAG,OAAOrB,EAAEK,YAAYL,EAAEK,WAAWd,UAAU2C,KAAKC,mBAAmBnC,EAAEK,WAAWd,SAAS0B,EAAE,sBAAsBtB,GAAGK,EAAEO,eAAeP,EAAEO,cAAchB,UAAU2C,KAAKC,mBAAmBnC,EAAEO,cAAchB,SAAS0B,EAAE,yBAAyBtB,GAAGK,EAAEQ,kBAAkBR,EAAEQ,iBAAiBjB,UAAU2C,KAAKC,mBAAmBnC,EAAEQ,iBAAiBjB,SAAS0B,EAAE,4BAA4BtB,GAAGK,EAAES,iBAAiBT,EAAES,gBAAgBlB,UAAU2C,KAAKC,mBAAmBnC,EAAES,gBAAgBlB,SAAS0B,EAAE,2BAA2BtB,GAAGoB,YAAEE,GAAGmB,MAAM,SAAApC,GAAI,IAAI,IAAMV,KAAKK,EAAE,CAAC,IAAMG,EAAEH,EAAEL,GAAGI,EAAE2C,KAAK/C,GAAG+B,EAAE/B,GAAGU,EAAEsC,MAAMxC,EAAE,GAAGA,EAAE,IAAI,OAAO,EAAKyC,uBAAuBlB,EAAE3B,GAAG,EAAK8C,wBAAwB1C,YAAE,CAAC2C,WAAU,OAAQL,MAAM,SAAAtC,IAAK,cAAcA,EAAEA,EAAE2C,UAAU3C,EAAE4C,OAAO,EAAKC,6BAA6BtB,EAAE3B,GAA3E,eAAwFJ,GAAO+B,EAAE/B,GAAGsD,SAAS,SAAClD,EAAEI,GAAKE,EAAE6C,IAAIvD,GAAGQ,GAAGG,SAASP,MAA5D,IAAI,IAAMJ,KAAK+B,EAAf,EAAU/B,GAAuD,IAAIyB,EAAE,CAAC+B,MAAK,2BAAK,EAAKC,UAAUD,OAApB,IAA0B1C,EAAE,QAAUgB,EAAE4B,cAAchD,KAAK,OAAO,EAAKiD,gBAAgB3D,KAAKyB,EAAC,uCAAK,EAAKkC,gBAAkB3D,GAAKyB,IAAItB,kBAAE,GAAD,OAAI,EAAKsD,UAAUG,KAAnB,qBAA2CnC,MAAMqB,MAAM,SAAApC,GAAC,OAAED,EAAEH,SAASI,EAAEmD,WAA/mC,yCAA0oCnD,EAAEV,EAAEI,EAAEI,GAAGA,EAAEJ,GAAG,CAACJ,EAAE8D,OAAO9D,EAAE8D,OAAOpD,EAAEoD,QAAQpD,EAAE4C,SAAS,SAAA5C,GAAIV,EAAE+C,KAAKrC,EAAEC,iBAA7sC,GAAeoB,YAAEJ,MAA2sCjB,YAAE,CAACV,eAAKD,EAAE6B,UAAU,WAAM,GAAiD,IAAIC,EAA7C9B,EAAEW,YAAE,CAACN,YAAE,+BAA+BL,GAA0B8B","file":"static/js/125.cbd66874.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as e}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as t}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import p from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Point.js\";import l from\"../../geometry/Polygon.js\";import n from\"../../geometry/Polyline.js\";import{fromJSON as y}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import c from\"../../Graphic.js\";import m from\"./NAMessage.js\";function u(r){return r.features.map((o=>{const t=p.fromJSON(r.spatialReference),s=c.fromJSON(o);return e(s.geometry).spatialReference=t,s}))}function d(r){return r.features.map((e=>(e.geometry.spatialReference=r.spatialReference,y(e.geometry))))}let f=class extends i{constructor(r){super(r),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(r){return d(r)}readPointBarriers(r,e){return d(e.barriers)}readPolylineBarriers(r){return d(r)}readPolygonBarriers(r){return d(r)}readIncidents(r,e){return u(e.saPolylines)}readServiceAreaPolygons(r,e){return u(e.saPolygons)}};r([o({type:[a]})],f.prototype,\"facilities\",void 0),r([t(\"facilities\")],f.prototype,\"readFacilities\",null),r([o({type:[m]})],f.prototype,\"messages\",void 0),r([o({type:[a]})],f.prototype,\"pointBarriers\",void 0),r([t(\"pointBarriers\",[\"barriers\"])],f.prototype,\"readPointBarriers\",null),r([o({type:[n]})],f.prototype,\"polylineBarriers\",void 0),r([t(\"polylineBarriers\")],f.prototype,\"readPolylineBarriers\",null),r([o({type:[l]})],f.prototype,\"polygonBarriers\",void 0),r([t(\"polygonBarriers\")],f.prototype,\"readPolygonBarriers\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolylines\",void 0),r([t(\"serviceAreaPolylines\",[\"saPolylines\"])],f.prototype,\"readIncidents\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolygons\",void 0),r([t(\"serviceAreaPolygons\",[\"saPolygons\"])],f.prototype,\"readServiceAreaPolygons\",null),f=r([s(\"esri.tasks.support.ServiceAreaSolveResult\")],f);var g=f;export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as s}from\"../core/promiseUtils.js\";import o from\"../request.js\";import{normalizeCentralMeridian as i}from\"../geometry/support/normalizeUtils.js\";import a from\"./Task.js\";import{createQueryParamsHelper as p}from\"../core/queryUtils.js\";import{NAServiceDescriptionMixin as l}from\"./mixins/NAServiceDescription.js\";import c from\"./support/ServiceAreaSolveResult.js\";const n=p({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},returnPointBarriers:{name:\"returnBarriers\"},travelMode:!0});let u=class extends(l(a)){constructor(e){super(e),this.url=null}solve(e,r){const t=[],a=[],p={},l={};return e.facilities&&e.facilities.features&&this._collectGeometries(e.facilities.features,a,\"facilities.features\",p),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,\"pointBarriers.features\",p),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,\"polylineBarriers.features\",p),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,\"polygonBarriers.features\",p),i(a).then((e=>{for(const r in p){const s=p[r];t.push(r),l[r]=e.slice(s[0],s[1])}return this._isInputGeometryZAware(l,t)?this.getServiceDescription():s({dontCheck:!0})})).then((s=>{(\"dontCheck\"in s?s.dontCheck:s.hasZ)||this._dropZValuesOffInputGeometry(l,t);for(const r in l)l[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let i={query:{...this.parsedUrl.query,f:\"json\",...n.toQueryParams(e)}};return(this.requestOptions||r)&&(i={...this.requestOptions,...r,...i}),o(`${this.parsedUrl.path}/solveServiceArea`,i)})).then((e=>c.fromJSON(e.data)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}};e([r()],u.prototype,\"url\",void 0),u=e([t(\"esri.tasks.ServiceAreaTask\")],u);var m=u;export default m;\n"],"sourceRoot":""}