{"version":3,"sources":["../node_modules/@arcgis/core/core/libs/earcut/earcut.js","../node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js","../node_modules/@arcgis/core/chunks/WaterSurface.glsl.js","../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Reprojection.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","../node_modules/@arcgis/core/geometry/support/triangulationUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js","../node_modules/@arcgis/core/views/3d/support/debugFlags.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTarget.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/localOrigin.js","../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/CommonUniformStore.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRep.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ResizableFloat32Array.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js","../node_modules/@arcgis/core/views/3d/webgl-engine/statistics/RendererPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LongVectorMath.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../node_modules/@arcgis/core/views/3d/layers/graphics/constants.js","../node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pointUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/pointGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js","../node_modules/@arcgis/core/chunks/mat2.js","../node_modules/@arcgis/core/chunks/mat2f64.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js"],"names":["e","r","i","c","v","s","h","d","u","length","o","y","n","p","Array","next","prev","x","t","steiner","push","l","sort","w","f","Math","min","max","a","index","g","M","Z","prevZ","nextZ","z","m","abs","b","this","byteLength","Uint32Array","minReduction","originalIndices","componentOffsets","U","floor","A","ceil","q","sqrt","buffer","indices","uniqueCount","fragment","uniforms","add","include","code","bindUniforms","setUniform1i","setUniform4f","waveStrength","waveTextureRepeat","flowStrength","flowOffset","setUniform2f","waveDirection","waveVelocity","linearDepth","attributes","vertex","output","varyings","float","receiveShadows","OITEnabled","Object","freeze","__proto__","build","builder","bindPassUniforms","setUniform1f","camera","perScreenPixelRatio","screenSize","screenSizeEnabled","shadingEnabled","viewingMode","highStepCount","lastFrameColorTextureID","bindTexture","lastFrameColorTexture","setUniformMatrix4fv","reprojectionMat","projectionMatrix","ssrEnabled","linearDepthTextureID","linearDepthTexture","setUniform2fv","nearFar","viewMatrix","height","cache","Map","forEach","texture","dispose","clear","patternId","get","refCount","bind","patternToTextureData","width","internalFormat","pixelFormat","dataType","wrapMode","set","delete","acquire","release","join","reduce","Uint8Array","slice","main","selected","staged","outline","selectedOutline","clone","color","coneHeight","coneWidth","renderOccluded","size","outlineSize","collisionPadding","outlineColor","hoverOutlineColor","setParameterValues","W","transparent","edge","stipplePattern","stippleOffColor","falloff","innerWidth","innerColor","shape","primitive","glowColor","glowWidth","glowFalloff","globalAlpha","globalAlphaContrastBoost","radius","heightFillColor","toUnitRGB","intersectsLineRadius","style","laserlineStyle","shadowStyle","C","extensionType","lineGraphics","pointGraphics","heightPlane","heightBox","zVerticalLine","laserlineAlphaMultiplier","heightPlaneAngleCutoff","toUnitRGBA","O","visualElements","reshapeManipulators","zManipulator","uniqueName","shaderTransformationDirty","data","toRenderData","boundingInfo","material","origin","center","bsRadius","transformation","calculateShaderTransformation","updateTransformation","castShadow","instanceParameters","highlights","occludees","visible","getBoundingSphere","getCenter","getBSRadius","shaderTransformation","computeAttachmentOrigin","getIndices","POSITION","getAttribute","vertexAttr","Float64Array","pathLengths","count","holeIndices","position","polygons","outlines","intensity","direction","castShadows","sh","L","_viewUp","_viewForward","_viewRight","_ray","createWrapper","_viewport","S","_padding","_fov","PI","_nearFar","V","_viewDirty","_viewMatrix","F","_projectionDirty","_projectionMatrix","_viewProjectionDirty","_viewProjectionMatrix","_viewInverseTransposeMatrixDirty","_viewInverseTransposeMatrix","_frustumDirty","_frustum","H","create","_fullViewport","T","_contextNavigation","pixelRatio","relativeElevation","_eye","_center","_up","near","far","_","k","I","copy","eye","up","copyFrom","B","J","computeRenderPixelSizeAtDist","viewDirectionDistance","perRenderPixelRatio","computeScreenPixelSizeAtDist","E","viewForward","tan","fovX","fovY","padding","viewport","setViewport","fullViewport","projectToRenderScreen","K","renderToScreen","viewProjectionMatrix","unprojectFromRenderScreen","screenToRender","D","N","fullHeight","fullWidth","computeUpGlobal","computeUpLocal","markViewDirty","fromMatrix","P","_compareAndSetView","_ensureViewClean","aspect","j","G","X","Y","_recomputeFrustum","R","arguments","SCENEVIEW_HITTEST_RETURN_INTERSECTOR","SCENEVIEW_LOCKING_LOG","HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED","HIGHLIGHTS_PROFILE_TO_CONSOLE","DECONFLICTOR_SHOW_VISIBLE","DECONFLICTOR_SHOW_INVISIBLE","DECONFLICTOR_SHOW_GRID","LABELS_SHOW_BORDER","OVERLAY_DRAW_DEBUG_TEXTURE","OVERLAY_SHOW_CENTER","SHOW_POI","TERRAIN_DEBUG_POPUP","TESTS_DISABLE_UPDATE_THRESHOLDS","DISABLE_DECONFLICTOR_VISIBILITY_OFFSET","DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES","DRAW_MESH_GEOMETRY_NORMALS","FEATURE_TILE_FETCH_SHOW_TILES","FEATURE_TILE_TREE_SHOW_TILES","I3S_TREE_SHOW_TILES","I3S_SHOW_MODIFICATIONS","ENABLE_PROFILE_DEPTH_RANGE","DISABLE_FAST_UPDATES","LOD_INSTANCE_RENDERER_DISABLE_UPDATES","LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL","EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES","prototype","_renderTarget","id","colorTarget","depthStencilTarget","target","samplingMode","hasMipmap","maxAnisotropy","colorTexture","resize","bindFramebuffer","descriptor","generateMipmap","vec3","extent","resolution","renderLocalOrigin","renderTargets","fbo","valid","lastUsed","colorWithoutRasterImage","highlight","water","occluded","drawPass","disposeRenderTargetMemory","validateUsage","getGpuMemoryUsage","_uniforms","proj","shadowMapDistance","viewportPixelSz","lightingMainDirection","hasUniform","technique","refZeroFrame","_context","_perConstructorInstances","_frameCounter","_keepAliveFrameCount","key","constructor","commonUniformStore","getPrograms","shader","reload","name","find","getLogger","refCnt","glMaterial","_textureRep","_techniqueRep","onMaterialChanged","_id2glMaterialRef","ownMaterial","getGLMaterial","techniqueRep","textureRep","incRefCnt","decRefCnt","getRefCnt","updateParameters","materialRepository","error","ROOT_ORIGIN_ID","_origins","_gridSize","testOrigin","getOrigin","random","round","window","view","_stage","_object","_material","isPickable","idHint","addObject","addToViewContent","Float32Array","WebMercator","spatialReference","addGeometry","console","log","lastFrameCamera","pass","slot","highlightDepthTexture","renderOccludedMask","hasOccludees","rctx","offscreenRenderingHelper","scenelightingData","shadowMap","ssaoHelper","sliceHelper","_array","_size","subarray","waterTextureRepository","configuration","transparencyPassType","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","pbrMode","useCustomDTRExponentForWater","useSSR","generateSource","ready","updating","loadTextures","bindProjectionMatrix","program","lighting","setUniforms","bindRepo","setUniform4fv","bindOutputHighlight","bindView","bindCamPosition","viewInverseTransposeMatrix","SHADOW_MAP","bindUniformsWithOrigin","blending","depthTest","func","depthWrite","writeDepth","colorWrite","polygonOffset","enableOffset","setPipelineState","isDraped","acquireAndReleaseExisting","getTechniqueConfig","params","animation","time","animationSpeed","shadowMappingEnabled","ensureResource","_updateShadowState","_updateSSRState","bindProgram","bindPass","setElapsedTimeUniform","from","to","isVisible","hasHighlights","transformationNormal","first","drawCalls","triangles","begin","end","type","_dataByOrigin","_hasHighlights","_hasOccludees","_rctx","_materialRep","_glMaterials","_bufferWriter","createBufferWriter","vao","updateGeometries","toUpdate","addAndRemoveGeometries","toAdd","toRemove","updateRenderCommands","vertexBufferLayout","stride","optimalCount","sparseCount","elementCount","createData","array","removeAndRebuild","removeByErasing","append","vertexBuffers","geometry","byteSize","setData","setSubData","drawCommandsDirty","updateType","renderGeometry","instances","write","invTranspTransformation","createView","hasHiddenInstances","drawCommandsDefault","drawCommandsHighlight","drawCommandsOccludees","stats","default","layout","values","update","ensureResources","beginSlot","ensureParameters","getTechnique","getPipelineState","bindDraw","ensureAttributeLocations","bindVAO","primitiveType","renderCommands","drawArrays","vertexAttributeLocations","createVertex","erase","isEmpty","glMaterials","_pendingAddsRemoves","_adds","_removes","_updates","allocator","deallocator","_materialRenderers","_sortedMaterialRenderers","_hasWater","prune","forAll","stopAtTime","updateAddsRemoves","numToAdd","numToRemove","numToUpdate","hasWater","modify","updateSortedMaterialRenderers","notifyChange","pushNew","materialRenderer","updateLogic","render","insertOrder","renderPriority","has","removeUnorderedIndex","rendersOccluded","sortedMaterialRenderers","hasAlpha","sphericalHarmonics","_renderLighting","_shOrder","_oldSunlight","ambient","diffuse","setUniform3fv","_info","groundLightingFactor","globalFactor","setLightDirectionUniform","setUniform3f","lights","_overlays","_rendersOccluded","_lighting","_localOrigins","_handles","_layerRenderers","_sortedLayerRenderersDirty","_sortedLayerRenderers","_geometries","_uniqueIdx","globalUnitScale","longitudeCyclical","renderView","renderingContext","_renderContext","_stippleTextureRepository","_shaderTechniqueRepository","stippleTextureRepository","emitContentChanged","_materialRepository","textureRepository","updateRendersOccluded","_compositingHelper","compositingHelper","_bindParameters","inverseViewport","screenToWorldRatio","screenToWorldRatioGlobalWM","slicePlane","ssaoEnabled","destroy","commitChanges","remove","updateSortedLayerRenderers","updateHasHighlights","updateHasWater","ensureLayerRenderer","notifyGraphicUpdate","notifyUpdateGeometries","warn","graphicUid","numViews","_screenToWorldRatio","views","hasNonZeroSizedView","isValid","setClearColor","clearSafe","setViewParameters","drawDebugTexture","layerView","renderer","drapeSourceType","fullOpacity","bindTemporaryFramebuffer","draw","_temporaryRenderTarget","composite","getTexture","generateMipMap","resetRenderOccludedMask","hotReload","intersectRenderGeometry","range","intersect","getShaderTransformation","addIntersectionResult","layerUid","metadata","results","ground","dist","normal","intersector","drapedLayerOrder","options","store","ray","all","stopAnimationsAtTime","watch","keys","allLayerViews","Set","setGLViewport","onContentChanged","onHasHighlightsChanged","onRendersOccludedChanged","ensureDebugPatternResources","_debugTextureTechnique","pipeline","_debugPatternTexture","_quadVAO","layerRenderers","constructOnly","Boolean","readOnly","dependsOn","attributeData","removeDuplicateStartEnd","offsetIdx","strideIdx","mapPosition","mapPos","colorFeature","COLOR","sizeFeature","SIZE","COLORFEATUREATTRIBUTE","SIZEFEATUREATTRIBUTE","opacityFeature","OPACITYFEATUREATTRIBUTE","uniformSize","SUBDIVISIONS","pow","resourceFactory","_resources","_visible","_attached","_destroyResources","attached","_createResources","recreateGeometry","ensureRenderGeometriesRemoved","external","_syncGeometriesToRenderer","recreate","createResources","geometriesAdded","basemapTerrain","overlayManager","registerDrapeSource","unregisterDrapeSource","ensureRenderGeometriesAdded","removeGeometries","geometries","addGeometries","_createOrDestroyResources","_attachmentOrigin","_attachmentOriginDirty","events","_isDraped","_geometry","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_falloff","_elevationInfo","_laserlineStyle","_laserlineEnabled","_renderOccluded","resources","drapedResources","createDrapedResources","createRenderGeometriesDraped","attachmentOriginChanged","_laserline","laserlineAttached","materialParameters","createRenderGeometries","emit","rings","paths","lines","projectionSuccess","isClosed","renderCoordsHelper","hasZ","sampledElevation","elevationProvider","fromElevationInfo","elevationInfo","pathVerticalPlane","updateAttached","laserlineEnabled","updateMaterial","fromRenderCoords","stippleIntegerRepeats","normalizedRenderOccluded","shadingTint","shadingDirection","blendColor","culling","cullFace","face","mode","offset","supportsEdges","techniqueConfig","_vertexAttributeLocations","applyToVertex","computeRenderPixelSizeAt","applyToAabb","getPassParameters","vec3f","createBuffer","Error","getField","_vertices","_spatialReference","colorToVec4","_outlineColor","_outlineSize","applyProps","vertexMaterial","vertexMaterialParameters","vertexOutlineMaterial","vertexOutlineMaterialParameters","vertices","numVertices","vertexGeometry","vertexOutlineGeometry","updateOutlineMaterial","createSphereGeometry","uv","indexCount","vertexAttributes","drawOperation","_createGraphic","_outlineVisualElement","_verticesVisualElement","_stagedVerticesVisualElement","defaultZ","snapToScene","snappingOptions","geometryType","_internalGraphicsLayer","map","layers","manipulators","drawingMode","snapToSceneEnabled","snappingDrawSurface","hasM","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","_destroyAllVisualisations","_set","onInputEvent","hasStagedVertex","splice","regularVertices","stagedVertices","full","coordinateHelper","createPointFromArray","makeMapPoint","forceUniformSize","centered","_destroyCreateGraphic","_destroyOutlineVisualElement","_destroyVerticesVisualElement","_destroyStagedVerticesVisualElement","_getCreateGeometry","apply","symbol","createGraphicSymbol","maskOccludee","redo","undo","complete","isCompleted","cancel","_updateCreateGraphic","vertexIndex","graphic","interactive","canRedo","canUndo","EventedMixin","nonNullable","value","_elevation","override","collisionType","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","_renderLocationDirty","_location","_elevationAlignedLocation","_elevationAlignedLocationDirty","selectable","grabbable","cursor","_grabbing","dragging","_hovering","_selected","_state","_focused","EventEmitter","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_engineLayerId","_materialIdReferences","state","_removeResourcesFromStage","_updateEngineObject","location","action","computeScreenPixelSizeAt","renderLocation","_calculateModelTransformOffset","re","available","_getCollisionRadius","screenLocation","_getWorldToScreenObjectScale","_calculateObjectTransform","$","fromScreen","Q","te","ie","closestRayDistance2","fromPoints","oe","ne","fromPositionAndNormal","ee","se","intersectRay","_calculateModelTransformPosition","distance2","manipulator3D","engineLayerId","engineLayerReferences","materialIdReferences","ae","_getFocusedSize","focused","_ensureEngineResources","objectsByState","stateMask","objects","setVisible","objectTransformation","getContent","renderObjects","transform","isArray","layer","materials","_addResourcesToStage","removeObject","toRenderCoords","elevationAlignedLocation","_evaluateElevationAlignment","_updateElevationAlignedLocation","_setFocused","ensureScreenLocation","areAnyResourcesVisible","atan2","getViewForGraphic","tracking","displaying","EventedAccessor","grabbingState","firstSelected","numSelected","firstGrabbedXY","forEachManipulator","grabbing","visualElement","writeDepthEnabled","angleCutoff","setStartEndFromWorldDownAtLocation","heightManifoldTarget","attachmentOrigin","onManipulatorsChanged","trackGraphicState","intersectsLineInfinite","intersectsWorldUpAtLocation","calculateMapBounds","sin","cos","identity","transpose","invert","adjoint","determinant","multiply","rotate","scale","fromRotation","fromScaling","str","frob","LDU","subtract","exactEquals","equals","multiplyScalar","multiplyScalarAndAdd","mul","sub","fromValues","dxScreen","screenDeltaX","dyScreen","screenDeltaY","translationX","translationY","translationZ","normalize","Number","POSITIVE_INFINITY","someManipulator","forEachManipulator3D","performanceInfo","queryDuration","numObjectsTested","tolerance","verticalOffset","_rayEndPoint","_rayStartPointTransformed","_rayEndPointTransformed","resetWithRay","_numObjectsTested","init","point","filterPredicate","intersectObject","getSpatialQueryAccelerator","forEachAlongRayWithVerticalOffset","forEachAlongRay","selectionMode","hud","forEachDegenerateObject","getObjects","sortResults","geometryRecords","setAndInvalidateLazyTransforms","inverse","objectTransform","MAX_VALUE","drapedLayerGraphicOrder","MIN_VALUE","screenStart","screenEnd","renderStart","renderEnd","plane","sceneIntersectionHelper","intersectElevationFromScreen","mapStart","mapEnd","worldUpAtPosition","projectPoint","execute","DEFAULT_TOLERANCE","_arrowManipulatorInfos","_opaqueMaterial","createMaterial","_transparentMaterial","_angle","_scale","_updateAfterDrag","_tool","tool","_view","_createManipulators","removeAll","manipulator","createDragPipeline","manipulatorType","angle","_updateArrowManipulator","_updateManipulatorTransform","createExtrudedTriangle","transformInPlace","_createArrowManipulator","displayScale","modelTransform","_updateManipulators","arrowManipulators","lastDragEvent","_enabled","toMap","exclude","snap","_snapToScene","_discMaterial","_createMaterial","_discMaterialTransparent","_createManipulator","_manipulator","createDragEventPipelineStep","worldSized","_updateManipulator","createCylinderGeometry","enabled","discManipulator","createManipulator","createTubeGeometry","createConeGeometry","applyObjectTransform","updateManipulator","_angleDeferred","_interactive","xyManipulation","xyAxisManipulation","zManipulation","xyAvailable","xyAxisAvailable","zAvailable","autoHideXYAxis","updateManipulatorInteractivity","createGraphicDragPipeline","xyAxisVisible","disableDisplay","inputManager","latestPointerType","symbolLayers","some","_graphicState","graphicState","allGraphics","dx","dy","graphics","enableZ","_toolHandles","_refreshManipulators","_moveManipulation","toArray","filter","createManipulators","createVisualElements","updateMoveManipulation","manipulationXY","stopPropagation","buildDragEventPipeline","createMoveManipulation","radiusForSymbol","hasManipulator","getItemAt","updateMoveManipulationAngle","geometryRepresentation","angleDeferred","destroyed","toScreen","_vertexManipulatorMaterial","_vertexManipulatorOutlineMaterial","_vertexManipulatorHoverOutlineMaterial","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","_selectedIndex","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","_manipulatorHandles","_manipulatorInfos","_reshapeHelper","_graphicMoveManipulation","_numGrabbing","_numDragging","_reshapeEventState","outputGeometry","_vertexLaserLineVisualElement","snappingEngine","_clear","handle","_removeVertices","inputGeometry","fromGeometry","components","_createPerVertexManipulator","edges","_createGraphicMoveManipulators","moveVertices","mapDeltaX","mapDeltaY","mapDeltaZ","pos","_updateManipulatorPosition","_updateEventState","mover","info","enableMoveGraphic","_trackNumDragging","_perGraphicManipulatorDragAction","_cancelDragOperation","_watchAndUpdateGrabState","_clearSelection","doneSnapping","_updateMoveManipulationPosition","Vertex","Edge","_setTypeSpecificManipulatorSettings","locationUpdateHandle","selectedIndex","_getManipulatorInfoFromHandle","left","right","_splitEdgeManipulator","_snapDrag","_perVertexManipulatorDragAction","_manipulatorClickCallback","isMultiVertexSelection","context","originalPos","createDehydratedPoint","_updateSelection","indexOf","toPoint","splitEdge","createdVertex","component","coordinates","componentIndex","added","orthogonalAvailable","canRemoveVertex","_removeManipulator","removeVertices","removedVertices","createdEdge","removed","shiftKey","button","_recreateManipulators","_dirty","toPolyline","toPolygon","_reshapeOperation","_internalGeometryUpdate","_updateGeometry","manipulatorSelectionChanged","_onReshapeGeometryChanged","_updateGraphic","removeSelectedVertices","rt","ScaleIn","ScaleOut","RotateLeft","RotateRight","Unlocked","DelayedFocused","TouchInput","nt","_scaleRotateDragData","_activeAnimation","getFocused","ringManipulator","getScale","updateDragState","updateManipulatorTransform","frameTask","cancelActiveAnimation","start","deltaTime","createRingManipulator","heading","getSymbolLayerSize","startAngle","symbolRotationAngle","angleDir","scaleDir","startSymbolData","shortestSignedDiff","onScaleChanged","lt","wrap","applySymbolData","startAnimation","ct","updateDelayedFocusedState","updateStateEnabled","createPathExtrusionGeometry","et","st","concat","enforceNonZeroSize","depth","ht","gt","enableRotation","enableScaling","handles","scaleRotate","moveManipulation","updateMoveAngle","onGeometryChanged","hideManipulatorsForGraphicState","test","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","detachSymbolChanged","_resetGraphicSymbol","_get","_intersectDistance2D","_intersectDistance3D","attachSymbolChanged","focusedSymbol","originalPoint","mapPoint","radiusPx","xoffset","yoffset","renderSpatialReference","_updateGraphicSymbol"],"mappings":"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","file":"static/js/4.d1a11245.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(e,r,i){const u=r&&r.length,o=u?r[0]*i:e.length;let y=n(e,0,o,i,!0);const p=new Array;if(!y||y.next===y.prev)return p;let c,v,s,h,d;if(u&&(y=function(e,x,r,i){const u=new Array;for(let t=0,r=x.length;t<r;t++){const o=n(e,x[t]*i,t<r-1?x[t+1]*i:e.length,i,!1);o===o.next&&(o.steiner=!0),u.push(l(o))}u.sort(w);for(const e of u)f(e,r),r=t(r,r.next);return r}(e,r,y,i)),e.length>80*i){c=s=e[0],v=h=e[1];for(let n=i;n<o;n+=i){const t=e[n],x=e[n+1];c=Math.min(c,t),v=Math.min(v,x),s=Math.max(s,t),h=Math.max(h,x)}d=Math.max(s-c,h-v),d=0!==d?1/d:0}return x(y,p,i,c,v,d),p}function n(e,n,t,x,r){let i;if(r===s(e,n,t,x)>0)for(let r=n;r<t;r+=x)i=u(r,e[r],e[r+1],i);else for(let r=t-x;r>=n;r-=x)i=u(r,e[r],e[r+1],i);return i&&a(i,i.next)&&(o(i),i=i.next),i}function t(e,n=e){if(!e)return e;let t,x=e;do{if(t=!1,x.steiner||!a(x,x.next)&&0!==c(x.prev,x,x.next))x=x.next;else{if(o(x),x=n=x.prev,x===x.next)break;t=!0}}while(t||x!==n);return n}function x(e,n,u,l,f,p,c=0){if(!e)return;!c&&p&&(e=y(e,l,f,p));let v=e;for(;e.prev!==e.next;){const y=e.prev,s=e.next;if(p?i(e,l,f,p):r(e))n.push(y.index/u),n.push(e.index/u),n.push(s.index/u),o(e),e=s.next,v=s.next;else if((e=s)===v){c?1===c?x(e=g(e,n,u),n,u,l,f,p,2):2===c&&M(e,n,u,l,f,p):x(t(e),n,u,l,f,p,1);break}}}function r(e){const n=e.prev,t=e,x=e.next;if(c(n,t,x)>=0)return!1;let r=e.next.next;const i=r;let u=0;for(;r!==e.prev&&(0===u||r!==i);){if(u++,h(n.x,n.y,t.x,t.y,x.x,x.y,r.x,r.y)&&c(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function i(e,n,t,x){const r=e.prev,i=e,u=e.next;if(c(r,i,u)>=0)return!1;const o=r.x<i.x?r.x<u.x?r.x:u.x:i.x<u.x?i.x:u.x,l=r.y<i.y?r.y<u.y?r.y:u.y:i.y<u.y?i.y:u.y,f=r.x>i.x?r.x>u.x?r.x:u.x:i.x>u.x?i.x:u.x,y=r.y>i.y?r.y>u.y?r.y:u.y:i.y>u.y?i.y:u.y,p=Z(o,l,n,t,x),v=Z(f,y,n,t,x);let s=e.prevZ,d=e.nextZ;for(;s&&s.z>=p&&d&&d.z<=v;){if(s!==e.prev&&s!==e.next&&h(r.x,r.y,i.x,i.y,u.x,u.y,s.x,s.y)&&c(s.prev,s,s.next)>=0)return!1;if(s=s.prevZ,d!==e.prev&&d!==e.next&&h(r.x,r.y,i.x,i.y,u.x,u.y,d.x,d.y)&&c(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;s&&s.z>=p;){if(s!==e.prev&&s!==e.next&&h(r.x,r.y,i.x,i.y,u.x,u.y,s.x,s.y)&&c(s.prev,s,s.next)>=0)return!1;s=s.prevZ}for(;d&&d.z<=v;){if(d!==e.prev&&d!==e.next&&h(r.x,r.y,i.x,i.y,u.x,u.y,d.x,d.y)&&c(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function u(e,n,t,x){const r=new m(e,n,t);return x?(r.next=x.next,r.prev=x,x.next.prev=r,x.next=r):(r.prev=r,r.next=r),r}function o(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function l(e){let n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function f(e,n){if(n=function(e,n){let t=n;const x=e.x,r=e.y;let i,u=-1/0;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const e=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(e<=x&&e>u){if(u=e,e===x){if(r===t.y)return t;if(r===t.next.y)return t.next}i=t.x<t.next.x?t:t.next}}t=t.next}while(t!==n);if(!i)return null;if(x===u)return i.prev;const o=i,l=i.x,f=i.y;let y,p=1/0;t=i.next;for(;t!==o;)x>=t.x&&t.x>=l&&x!==t.x&&h(r<f?x:u,r,l,f,r<f?u:x,r,t.x,t.y)&&(y=Math.abs(r-t.y)/(x-t.x),(y<p||y===p&&t.x>i.x)&&d(t,e)&&(i=t,p=y)),t=t.next;return i}(e,n)){const x=b(n,e);t(x,x.next)}}function y(e,n,t,x){for(let r;r!==e;r=r.next){if(r=r||e,null===r.z&&(r.z=Z(r.x,r.y,n,t,x)),r.prev.next!==r||r.next.prev!==r)return r.prev.next=r,r.next.prev=r,y(e,n,t,x);r.prevZ=r.prev,r.nextZ=r.next}return e.prevZ.nextZ=null,e.prevZ=null,function(e){let n,t=1;for(;;){let x,r=e;e=null,n=null;let i=0;for(;r;){i++,x=r;let u=0;for(;u<t&&x;u++)x=x.nextZ;let o=t;for(;u>0||o>0&&x;){let t;0===u?(t=x,x=x.nextZ,o--):0!==o&&x?r.z<=x.z?(t=r,r=r.nextZ,u--):(t=x,x=x.nextZ,o--):(t=r,r=r.nextZ,u--),n?n.nextZ=t:e=t,t.prevZ=n,n=t}r=x}if(n.nextZ=null,t*=2,i<2)return e}}(e)}function p(e,n,t,x){const r=n&&n.length,i=r?n[0]*t:e.length;let u=Math.abs(s(e,0,i,t));if(r)for(let x=0,r=n.length;x<r;x++){const i=n[x]*t,o=x<r-1?n[x+1]*t:e.length;u-=Math.abs(s(e,i,o,t))}let o=0;for(let n=0;n<x.length;n+=3){const r=x[n]*t,i=x[n+1]*t,u=x[n+2]*t;o+=Math.abs((e[r]-e[u])*(e[i+1]-e[r+1])-(e[r]-e[i])*(e[u+1]-e[r+1]))}return 0===u&&0===o?0:Math.abs((o-u)/u)}function c(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function v(e,n,t,x){return!!(a(e,n)&&a(t,x)||a(e,x)&&a(t,n))||c(e,n,t)>0!=c(e,n,x)>0&&c(t,x,e)>0!=c(t,x,n)>0}function s(e,n,t,x){let r=0;for(let i=n,u=t-x;i<t;i+=x)r+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return r}function h(e,n,t,x,r,i,u,o){return(r-u)*(n-o)-(e-u)*(i-o)>=0&&(e-u)*(x-o)-(t-u)*(n-o)>=0&&(t-u)*(i-o)-(r-u)*(x-o)>=0}function d(e,n){return c(e.prev,e,e.next)<0?c(e,n,e.next)>=0&&c(e,e.prev,n)>=0:c(e,n,e.prev)<0||c(e,e.next,n)<0}function Z(e,n,t,x,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-x)*r)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function a(e,n){return e.x===n.x&&e.y===n.y}function w(e,n){return e.x-n.x}function g(e,n,t){let x=e;do{const r=x.prev,i=x.next.next;!a(r,i)&&v(r,x,x.next,i)&&d(r,i)&&d(i,r)&&(n.push(r.index/t),n.push(x.index/t),n.push(i.index/t),o(x),o(x.next),x=e=i),x=x.next}while(x!==e);return x}function M(e,n,r,i,u,o){let l=e;do{let e=l.next.next;for(;e!==l.prev;){if(l.index!==e.index&&z(l,e)){let f=b(l,e);return l=t(l,l.next),f=t(f,f.next),x(l,n,r,i,u,o),void x(f,n,r,i,u,o)}e=e.next}l=l.next}while(l!==e)}function z(e,n){return e.next.index!==n.index&&e.prev.index!==n.index&&!function(e,n){let t=e;do{if(t.index!==e.index&&t.next.index!==e.index&&t.index!==n.index&&t.next.index!==n.index&&v(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}(e,n)&&d(e,n)&&d(n,e)&&function(e,n){let t=e,x=!1;const r=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&r<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(x=!x),t=t.next}while(t!==e);return x}(e,n)}function b(e,n){const t=new m(e.index,e.x,e.y),x=new m(n.index,n.x,n.y),r=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=r,r.prev=t,x.next=t,t.prev=x,i.next=x,x.prev=i,x}class m{constructor(e,n,t){this.index=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}}export{p as deviation,e as earcut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as t}from\"../../../core/mathUtils.js\";function n(n,f,i){const u=n.byteLength/(4*f),c=new Uint32Array(n,0,u*f);let s=new Uint32Array(u);const a=i&&i.minReduction||0,h=i&&i.originalIndices||null,g=i&&i.componentOffsets||null;let y=0;if(g)for(let t=0;t<g.length-1;t++){const n=g[t+1]-g[t];n>y&&(y=n)}else y=u;const U=Math.floor(1.1*y)+1;(null==o||o.length<2*U)&&(o=new Uint32Array(t(2*U)));for(let t=0;t<2*U;t++)o[t]=0;let w=0;const A=!!g&&!!h,m=A?h.length:u,b=A?new Uint32Array(h.length):null,d=1.96;let p=0!==a?Math.ceil(4*d*d/(a*a)*a*(1-a)):m,M=1,q=g?g[1]:m;for(let t=0;t<m;t++){if(t===p){const n=1-w/t;if(n+d*Math.sqrt(n*(1-n)/t)<a)return null;p*=2}if(t===q){for(let t=0;t<2*U;t++)o[t]=0;if(h)for(let t=g[M-1];t<g[M];t++)b[t]=s[h[t]];q=g[++M]}const n=A?h[t]:t,r=n*f,i=l(c,r,f);let u=i%U,y=w;for(;0!==o[2*u+1];){if(o[2*u]===i){const t=o[2*u+1]-1;if(e(c,r,t*f,f)){y=s[t];break}}u++,u>=U&&(u-=U)}y===w&&(o[2*u]=i,o[2*u+1]=n+1,w++),s[n]=y}if(0!==a&&1-w/u<a)return null;if(A){for(let t=g[M-1];t<b.length;t++)b[t]=s[h[t]];s=b}const x=new Uint32Array(f*w);w=0;for(let t=0;t<m;t++)if(s[t]===w){r(c,(A?h[t]:t)*f,x,w*f,f),w++}if(h&&!A){const t=new Uint32Array(h.length);for(let n=0;n<t.length;n++)t[n]=s[h[n]];s=t}return{buffer:x.buffer,indices:s,uniqueCount:w}}function e(t,n,e,r){for(let l=0;l<r;l++)if(t[n+l]!==t[e+l])return!1;return!0}function r(t,n,e,r,l){for(let o=0;o<l;o++)e[r+o]=t[n+o]}function l(t,n,e){let r=0;for(let l=0;l<e;l++)r=t[n+l]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let o=null;export default n;export{n as deduplicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{FoamIntensity as t}from\"./FoamRendering.glsl.js\";function r(r){r.fragment.uniforms.add(\"texWaveNormal\",\"sampler2D\"),r.fragment.uniforms.add(\"texWavePerturbation\",\"sampler2D\"),r.fragment.uniforms.add(\"waveParams\",\"vec4\"),r.fragment.uniforms.add(\"waveDirection\",\"vec2\"),r.include(t),r.fragment.code.add(e`\n      const vec2  FLOW_JUMP = vec2(6.0/25.0, 5.0/24.0);\n\n      vec2 textureDenormalized2D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rg - 1.0;\n      }\n\n      float sampleNoiseTexture(vec2 _uv) {\n        return texture2D(texWavePerturbation, _uv).b;\n      }\n\n      vec3 textureDenormalized3D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rgb - 1.0;\n      }\n\n      float computeProgress(vec2 uv, float time) {\n        return fract(time);\n      }\n\n      float computeWeight(vec2 uv, float time) {\n        float progress = computeProgress(uv, time);\n        return 1.0 - abs(1.0 - 2.0 * progress);\n      }\n\n      vec3 computeUVPerturbedWeigth(sampler2D texFlow, vec2 uv, float time, float phaseOffset) {\n        float flowStrength = waveParams[2];\n        float flowOffset = waveParams[3];\n\n        vec2 flowVector = textureDenormalized2D(texFlow, uv) * flowStrength;\n\n        float progress = computeProgress(uv, time + phaseOffset);\n        float weight = computeWeight(uv, time + phaseOffset);\n\n        vec2 result = uv;\n        result -= flowVector * (progress + flowOffset);\n        result += phaseOffset;\n        result += (time - progress) * FLOW_JUMP;\n\n        return vec3(result, weight);\n      }\n\n      const float TIME_NOISE_TEXTURE_REPEAT = 0.3737;\n      const float TIME_NOISE_STRENGTH = 7.77;\n\n      vec3 getWaveLayer(sampler2D _texNormal, sampler2D _dudv, vec2 _uv, vec2 _waveDir, float time) {\n        float waveStrength = waveParams[0];\n\n        // overall directional shift in uv's for directional wave movement for\n        // now we do a hard coded scale for wave speed such that a unit length\n        // direction is not too fast.\n        vec2 waveMovement = time * -_waveDir;\n\n        float timeNoise = sampleNoiseTexture(_uv * TIME_NOISE_TEXTURE_REPEAT) * TIME_NOISE_STRENGTH;\n\n        // compute two perturbed uvs and blend weights\n        // then sample the wave normals at the two positions and blend\n        vec3 uv_A = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.0);\n        vec3 uv_B = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.5);\n\n        vec3 normal_A = textureDenormalized3D(_texNormal, uv_A.xy) * uv_A.z;\n        vec3 normal_B = textureDenormalized3D(_texNormal, uv_B.xy) * uv_B.z;\n\n        // logic to flatten the wave pattern\n        // scale xy components of the normal, then adjust z (up) component\n        vec3 mixNormal = normalize(normal_A + normal_B);\n        mixNormal.xy *= waveStrength;\n        mixNormal.z = sqrt(1.0 - dot(mixNormal.xy, mixNormal.xy));\n\n        return mixNormal;\n      }\n\n      vec4 getSurfaceNormalAndFoam(vec2 _uv, float _time) {\n        float waveTextureRepeat = waveParams[1];\n        vec3 normal = getWaveLayer(texWaveNormal, texWavePerturbation, _uv * waveTextureRepeat, waveDirection, _time);\n        float foam  = normals2FoamIntensity(normal, waveParams[0]);\n        return vec4(normal, foam);\n      }\n    `)}!function(e){e.bindUniforms=function(e,t){e.setUniform1i(\"texWaveNormal\",0),e.setUniform1i(\"texWavePerturbation\",1),e.setUniform4f(\"waveParams\",t.waveStrength,t.waveTextureRepeat,t.flowStrength,t.flowOffset),e.setUniform2f(\"waveDirection\",t.waveDirection[0]*t.waveVelocity,t.waveDirection[1]*t.waveVelocity)}}(r||(r={}));export{r as WaterDistortion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as r}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as t}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{symbolAlphaCutoff as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ReadShadowMap as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{WaterDistortion as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{ForwardLinearDepth as s}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{NormalUtils as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js\";import{Water as g}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js\";function c(c){const m=new a;return m.include(o,{linearDepth:!1}),m.attributes.add(\"position\",\"vec3\"),m.attributes.add(\"uv0\",\"vec2\"),m.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"localOrigin\",\"vec3\"),m.vertex.uniforms.add(\"waterColor\",\"vec4\"),0!==c.output&&7!==c.output||(m.include(v,c),m.include(s,c),m.varyings.add(\"vuv\",\"vec2\"),m.varyings.add(\"vpos\",\"vec3\"),m.varyings.add(\"vnormal\",\"vec3\"),m.varyings.add(\"vtbnMatrix\",\"mat3\"),m.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(n)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vuv = uv0;\n        vpos = position;\n\n        vnormal = getLocalUp(vpos, localOrigin);\n        vtbnMatrix = getTBNMatrix(vnormal);\n\n        gl_Position = transformPosition(proj, view, vpos);\n        ${0===c.output?\"forwardLinearDepth();\":\"\"}\n      }\n    `)),7===c.output&&(m.include(i,c),m.fragment.uniforms.add(\"waterColor\",\"vec4\"),m.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n\n          gl_FragColor = vec4(waterColor.a);\n        }\n      `)),0===c.output&&(m.include(l,c),m.include(i,c),c.receiveShadows&&m.include(d,c),m.include(g,c),m.fragment.uniforms.add(\"waterColor\",\"vec4\").add(\"lightingMainDirection\",\"vec3\").add(\"lightingMainIntensity\",\"vec3\").add(\"camPos\",\"vec3\").add(\"timeElapsed\",\"float\").add(\"view\",\"mat4\"),m.fragment.include(r),m.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        vec3 localUp = vnormal;\n        // the created normal is in tangent space\n        vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n\n        // we rotate the normal according to the tangent-bitangent-normal-Matrix\n        vec3 n = normalize(vtbnMatrix * tangentNormalFoam.xyz);\n        vec3 v = -normalize(vpos - camPos);\n        vec3 l = normalize(-lightingMainDirection);\n        float shadow = ${c.receiveShadows?e`1.0 - readShadowMap(vpos, linearDepth)`:\"1.0\"};\n        vec4 vPosView = view*vec4(vpos, 1.0);\n        vec4 final = vec4(getSeaColor(n, v, l, waterColor.rgb, lightingMainIntensity, localUp, shadow, tangentNormalFoam.w, vPosView.xyz), waterColor.w);\n\n        // gamma correction\n        gl_FragColor = delinearizeGamma(final);\n        gl_FragColor = highlightSlice(gl_FragColor, vpos);\n        ${c.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),2===c.output&&(m.include(v,c),m.include(l,c),m.include(i,c),m.varyings.add(\"vpos\",\"vec3\"),m.varyings.add(\"vuv\",\"vec2\"),m.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(n)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vuv = uv0;\n          vpos = position;\n\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),m.fragment.uniforms.add(\"timeElapsed\",\"float\"),m.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n\n          // the created normal is in tangent space and foam\n          vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n          tangentNormalFoam.xyz = normalize(tangentNormalFoam.xyz);\n\n          gl_FragColor = vec4((tangentNormalFoam.xyz + vec3(1.0)) * 0.5, tangentNormalFoam.w);\n        }\n    `)),5===c.output&&(m.varyings.add(\"vpos\",\"vec3\"),m.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(n)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vpos = position;\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),m.fragment.uniforms.add(\"waterColor\",\"vec4\"),m.fragment.code.add(e`\n        void main() {\n          gl_FragColor = waterColor;\n        }\n    `)),4===c.output&&(m.include(t),m.varyings.add(\"vpos\",\"vec3\"),m.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(n)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vpos = position;\n        gl_Position = transformPosition(proj, view, vpos);\n      }\n    `),m.include(i,c),m.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        outputHighlight();\n      }\n    `)),m}var m=Object.freeze({__proto__:null,build:c});export{m as W,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ScreenSpacePass as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";function n(){const n=new r;return n.include(o),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"color\",\"vec4\"),n.fragment.code.add(e`\n    void main() {\n      vec4 texColor = texture2D(tex, uv);\n      gl_FragColor = texColor * color;\n    }\n  `),n}var a=Object.freeze({__proto__:null,build:n});export{a as T,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";var i;!function(i){i.builder=function(i,r){i.vertex.uniforms.add(\"camPos\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`\n    float computeRenderPixelSizeAt( vec3 pWorld ){\n      vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\n      float viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\n      return viewDirectionDistance*perScreenPixelRatio;\n    }\n\n    vec3 screenSizeScaling(vec3 position, vec3 anchor){\n      return position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n    }\n  `)},i.bindPassUniforms=function(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}}(i||(i={}));export{i as ScreenSizeScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as i}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ScreenSizeScaling as l}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";function n(n){const s=new r;return s.include(o,{linearDepth:!1}),s.include(l.builder,{}),s.include(a,n),s.fragment.include(i),s.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),s.fragment.uniforms.add(\"color\",\"vec4\"),s.attributes.add(\"position\",\"vec3\"),s.varyings.add(\"vWorldPosition\",\"vec3\"),n.screenSizeEnabled&&s.attributes.add(\"offset\",\"vec3\"),n.shadingEnabled&&(s.vertex.uniforms.add(\"viewNormal\",\"mat4\"),s.fragment.uniforms.add(\"shadedColor\",\"vec4\").add(\"shadingDirection\",\"vec3\"),s.attributes.add(\"normal\",\"vec3\"),s.varyings.add(\"vViewNormal\",\"vec3\")),s.vertex.code.add(e`\n    void main(void) {\n      vWorldPosition = ${n.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),n.shadingEnabled&&s.vertex.code.add(e`\n      vec3 worldNormal = normal;\n      vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;\n    `),s.vertex.code.add(e`\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),s.fragment.code.add(e`\n    void main() {\n      discardBySlice(vWorldPosition);\n    `),n.shadingEnabled?s.fragment.code.add(e`\n      vec3 viewNormalNorm = normalize(vViewNormal);\n      float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\n      vec4 finalColor = mix(color, shadedColor, shadingFactor);\n    `):s.fragment.code.add(e`\n      vec4 finalColor = color;\n    `),s.fragment.code.add(e`\n      if (finalColor.a < ${e.float(d)}) {\n        discard;\n      }\n      ${7===n.output?e`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${0===n.output?e`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${n.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),s}var s=Object.freeze({__proto__:null,build:n});export{s as S,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.code.add(t`\n    float normals2FoamIntensity(vec3 n, float waveStrength){\n      float normalizationFactor =  max(0.015, waveStrength);\n      return max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n    }\n  `)}function n(o){o.fragment.code.add(t`\n    vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\n      return foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n    }\n  `)}export{n as FoamColor,o as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function n(n,r){1===r.viewingMode?n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return normalize(pos + origin);\n      }\n    `):n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return vec3(0.0, 0.0, 1.0); // WARNING: up-axis dependent code\n      }\n    `),1===r.viewingMode?n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = normalize(cross(vec3(0.0, 0.0, 1.0), n));\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `):n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = vec3(1.0, 0.0, 0.0);\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `)}export{n as NormalUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as r}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.uniforms.add(\"lastFrameColorMap\",\"sampler2D\"),o.fragment.uniforms.add(\"reprojectionMat\",\"mat4\"),o.fragment.uniforms.add(\"rpProjectionMat\",\"mat4\"),o.fragment.code.add(r`\n  vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n  {\n    vec4 zw = rpProjectionMat * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\n    vec4 reprojectedCoord = reprojectionMat * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\n    reprojectedCoord.xy /= reprojectedCoord.w;\n    return reprojectedCoord.xy*0.5 + 0.5;\n  }\n  `)}!function(r){r.bindUniforms=function(r,o,e){r.setUniform1i(\"lastFrameColorMap\",e.lastFrameColorTextureID),o.bindTexture(e.lastFrameColorTexture,e.lastFrameColorTextureID),r.setUniformMatrix4fv(\"reprojectionMat\",e.reprojectionMat),r.setUniformMatrix4fv(\"rpProjectionMat\",e.camera.projectionMatrix)}}(o||(o={}));export{o as Reprojection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ReadLinearDepth as t}from\"../output/ReadLinearDepth.glsl.js\";import{Reprojection as o}from\"./Reprojection.glsl.js\";function r(r,a){r.fragment.uniforms.add(\"nearFar\",\"vec2\"),r.fragment.uniforms.add(\"depthMapView\",\"sampler2D\"),r.fragment.uniforms.add(\"ssrViewMat\",\"mat4\"),r.fragment.uniforms.add(\"invResolutionHeight\",\"float\"),r.include(t),r.include(o),r.fragment.code.add(e`\n  const int maxSteps = ${a.highStepCount?\"150;\":\"75;\"}\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(rpProjectionMat, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMapView, P, nearFar); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n          return vec3(P, depth);\n      }\n\n      // continue with ray marching\n      P += dP;\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}!function(e){e.bindUniforms=function(e,t,r){r.ssrEnabled&&(e.setUniform1i(\"depthMapView\",r.linearDepthTextureID),t.bindTexture(r.linearDepthTexture,r.linearDepthTextureID),e.setUniform2fv(\"nearFar\",r.camera.nearFar),e.setUniformMatrix4fv(\"ssrViewMat\",r.camera.viewMatrix),e.setUniform1f(\"invResolutionHeight\",1/r.camera.height),o.bindUniforms(e,t,r))}}(r||(r={}));export{r as ScreenSpaceReflections};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function e(e){e.fragment.code.add(o`\n    const float GAMMA = 2.2;\n    const float INV_GAMMA = 0.4545454545;\n\n    vec4 delinearizeGamma(vec4 color) {\n      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);\n    }\n\n    vec3 linearizeGamma(vec3 color) {\n      return pow(color, vec3(GAMMA));\n    }\n  `)}export{e as Gamma};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ScreenSpaceReflections as o}from\"./ScreenSpaceReflections.glsl.js\";import{FoamColor as t}from\"./FoamRendering.glsl.js\";import{Gamma as r}from\"./Gamma.glsl.js\";import{PhysicallyBasedRendering as i}from\"./PhysicallyBasedRendering.glsl.js\";function a(a,n){a.include(i,n),a.include(r),a.include(t),n.ssrEnabled&&a.include(o,n),a.fragment.code.add(e`\n    const vec3 fresnelSky =  vec3(0.02, 1.0, 15.0); // f0, f0max, exp\n    const vec2 fresnelMaterial =  vec2(0.02, 0.1); // f0, f0max for specular term\n    const float roughness = 0.015;\n    const float foamIntensityExternal = 1.7;\n    const float ssrIntensity = 0.65;\n    const float ssrHeightFadeStart = 300000.0;\n    const float ssrHeightFadeEnd = 500000.0;\n    const float waterDiffusion = 0.775;\n    const float waterSeeColorMod = 0.8;\n    const float correctionViewingPowerFactor = 0.4;\n\n    const vec3 skyZenitColor = vec3(0.52, 0.68, 0.90);\n    const vec3 skyColor = vec3(0.67, 0.79, 0.9);\n\n    PBRShadingWater shadingInfo;\n\n    /*\n    *   This function is an approximation for the sky gradient reflected\n    *   the water surface and describes a combination of two fresnel terms.\n    *   @parameter: cosTheta = is the result of max(dot(n,v), 0.0)\n    *   @parameter: horizon = the dominant color of the sky horizon\n    *   @parameter: cosTheta = the dominant color of the sky zenit\n    */\n    vec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\n      float exponent = pow((1.0 - cosTheta), fresnelSky[2]);\n      return mix(zenit, horizon, exponent);\n    }\n\n    /*\n    *   This function determines the water color per pixel.\n    *   @parameter: n = normal facing away from the surface\n    *   @parameter: v = view direction facing away from the surface.\n    *   @parameter: l = light direction facing away from the surface\n    *   @parameter: lightIntensity = light intensity, currently between 0...PI\n    *   @parameter: localUp = a normal for the general direction of the surface\n    *   @parameter: shadow = the amount of shadow at this pixel (0 = no shadow)\n    */\n    vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 positionView) {\n\n      float reflectionHit = 0.;\n      vec3 seaWaterColor = linearizeGamma(color);\n      // using half vector to determine the specular light\n      vec3 h = normalize(l + v);\n      shadingInfo.NdotL = clamp(dot(n, l), 0.0, 1.0);\n      shadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\n      shadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\n      shadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\n      shadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\n      shadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\n\n      // angle between vertex normal and view direction\n      float upDotV = max(dot(localUp,v), 0.0);\n      // reflected sky color: the reflected sky color consists of two main colors, the\n      // reflected color at the horizon and the reflected color of the zenit.\n      // the reflected sky color is then an approximation based on the fresnel term.\n      vec3 skyHorizon = linearizeGamma(skyColor);\n      vec3 skyZenit = linearizeGamma(skyZenitColor);\n      vec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\n\n      // we use the upDotL to smoothen out the\n      // reflected color of the water\n      float upDotL = max(dot(localUp,l),0.0);\n\n      // The approximated sky color is adjusted according to the sun position.\n      // This is done as approximation for e.g. night views.\n      float daytimeMod = 0.1 + upDotL * 0.9;\n      skyColor *= daytimeMod;\n\n      // If a water surface is in shadow we just use a slight darkening of the\n      // water surface expressed with this shadowModifier.\n      float shadowModifier = clamp(shadow, 0.8, 1.0);\n\n      // The reflected sky color consists of the fresnel reflection multiplied with the approximated sky color.\n      // The shadow is influencing the frensel term to keep the shadow impression for really near views. As long\n      // as reflection are absent there is a need to have a slight shadow for depth perception.\n      vec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\n      vec3 reflSky = fresnelModifier * skyColor * shadowModifier;\n\n      // The reflected sea color is the input water color combined with the reflected sky color.\n      // The reflected sky color is modified by the incoming light.\n      vec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\n\n      vec3 specular = vec3(0.0);\n      // This prevents the specular light to be rendered when:\n      // - sun is behind a polygon (e.g. sundown for elevated polygons where nDotL might be still ok)\n      // - viewer is under water (for this localUp is better than n)\n      if(upDotV > 0.0 && upDotL > 0.0) {\n        // calculate the cook torrance BRDF but with simplified occlusion\n        vec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\n\n        // Normalize light intensity to be between 0...1. Shadow cancels out specular light here\n        vec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\n\n        specular = shadingInfo.NdotL * incidentLight * specularSun;\n      }\n\n      vec3 foam = vec3(0.0);\n      if(upDotV > 0.0) {\n        foam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n      }\n      `),n.ssrEnabled?a.fragment.code.add(e`\n      // Convert the world position to view position\n      vec4 viewPosition = vec4(positionView.xyz, 1.0);\n      vec3 viewDir = normalize(viewPosition.xyz);\n      vec4 viewNormalVectorCoordinate = ssrViewMat *vec4(n, 0.0);\n      vec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\n      vec4 viewUp = ssrViewMat *vec4(localUp, 0.0);\n\n      // at steeper viewing angles we use more of a vertex normal (in this case up) then the wave normal\n      // this removes some artifacts of normal mapping\n      float correctionViewingFactor = pow(max(dot(-viewDir, viewUp.xyz), 0.0), correctionViewingPowerFactor);\n      vec3 viewNormalCorrected = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\n\n      vec3 reflected = normalize(reflect(viewDir, viewNormalCorrected));\n\n      // perform screen space reflection to detect hit\n      vec3 hitCoordinate = screenSpaceIntersection( normalize(reflected), viewPosition.xyz, viewDir, viewUp.xyz);\n      vec3 reflectedColor = vec3(0.0);\n\n      // if there is a hit with ssr find reflected color from the reprojeted frame\n      if (hitCoordinate.z > 0.0)\n      {\n        vec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\n\n        // fade out if there if the hit is near end of Y axis\n        vec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\n        float heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -positionView.z);\n        reflectionHit = waterDiffusion * clamp(1.0 - (1.3*dCoords.y), 0.0, 1.0) * heightMod;\n\n        reflectedColor = linearizeGamma(texture2D(lastFrameColorMap, reprojectedCoordinate).xyz)* reflectionHit * fresnelModifier.y * ssrIntensity;\n      }\n      float seeColorMod =  mix(waterSeeColorMod, waterSeeColorMod*0.5, reflectionHit);\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES((1. - reflectionHit) * reflSky + reflectedColor + reflSea * seeColorMod + specular + foam);\n    }\n  `):a.fragment.code.add(e`\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES(reflSky + reflSea * waterSeeColorMod + specular + foam);\n    }\n  `)}export{a as Water};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import\"../../../../chunks/builtins.js\";import r from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";class n{constructor(){this.cache=new Map}dispose(){this.cache.forEach((t=>{e(t.texture)&&(t.texture.dispose(),t.texture=null)})),this.cache.clear()}acquire(e){if(t(e))return null;const n=this.patternId(e),i=this.cache.get(n);if(i)return i.refCount++,i.bind;const s=this.patternToTextureData(e,2),o=s.length/2,u={refCount:1,texture:null,bind:(e,n)=>(t(u.texture)&&(u.texture=new r(e,{width:s.length,height:1,internalFormat:6406,pixelFormat:6406,dataType:5121,wrapMode:33071},s)),e.bindTexture(u.texture,n),o)};return this.cache.set(n,u),u.bind}release(r){if(t(r))return;const n=this.patternId(r),i=this.cache.get(n);i&&(i.refCount--,0===i.refCount&&(e(i.texture)&&i.texture.dispose(),this.cache.delete(n)))}swap(e,t){const r=this.acquire(t);return this.release(e),r}patternId(e){return e.join(\",\")}patternToTextureData(e,t){const r=e.reduce(((e,t)=>e+t))*t,n=new Uint8Array(r);let i=!0,s=0;for(const r of e){for(let e=0;e<r*t;e++)n[s++]=i?255:0;i=!i}return n}}function i(e){return t(e)?e:e.slice()}function s(e){return[e,e]}export{n as StippleTextureRepository,i as createStipplePattern,s as createStipplePatternSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as i,toRGB as e}from\"../../../../core/colorUtils.js\";import{f as o}from\"../../../../chunks/vec4f64.js\";import{createStipplePattern as l}from\"../../webgl-engine/materials/lineStippleUtils.js\";const s={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])};function n(t,i){const e=t.clone();return e.a*=i,e}function r(t,o){const l=t.clone(),s=i(l);s.s*=o;const n=e(s);return l.r=n.r,l.g=n.g,l.b=n.b,l}function h(t,i){if(i)for(const e in i)t[e]=i[e]}class c{constructor(t){this.color=s.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,h(this,t)}}class a{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=s.main,this.outlineColor=s.outline,this.renderOccluded=16,this.hoverOutlineColor=s.selectedOutline,h(this,t)}apply(t,i){const e=this[t];i.setParameterValues({color:W(e),transparent:\"color\"!==t||e.a<1,renderOccluded:this.renderOccluded})}}class d{constructor(t){this.vertex=new a({color:s.main,outlineColor:s.outline}),this.edge=new a({color:r(n(s.main,2/3),.5),outlineColor:n(s.outline,.5),size:8,collisionPadding:8}),this.selected=new a({color:s.selected,outlineColor:s.outline}),h(this,t)}}class u{constructor(t){this.color=s.selected,this.width=1.5,this.stipplePattern=l([5,5]),this.stippleOffColor=s.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=s.selected,this.renderOccluded=4,h(this,t)}apply(t){t.color=W(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=W(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=W(this.innerColor),t.renderOccluded=this.renderOccluded}}class p{constructor(t){this.color=s.selected,this.size=4,this.outlineSize=1,this.outlineColor=s.outline,this.shape=\"square\",h(this,t)}apply(t){t.color=W(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=W(this.outlineColor),t.primitive=this.shape}}class w{constructor(t){this.innerColor=s.selected,this.innerWidth=1,this.glowColor=s.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.3,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=s.main,h(this,t)}apply(i,e=1){const o={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*e,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in i?i.style=o:i.laserlineStyle=o}}class f{constructor(t){this.outline=new u({color:s.outline,renderOccluded:8,stippleOffColor:s.selected,stipplePattern:l([5,5]),width:1.5,innerWidth:0}),this.staged=new u({color:s.selected,renderOccluded:8,innerColor:s.staged,stippleOffColor:s.outline,stipplePattern:l([5,5]),width:1.5}),this.shadowStyle=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),h(this,t)}}class g{constructor(t){this.outline=new p({color:s.selected,outlineColor:s.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:1.5,glowWidth:6,innerColor:s.selected,innerWidth:1,radius:2}),h(this,t)}}class C extends u{constructor(t){super(),this.extensionType=2,h(this,t)}}class m{constructor(t){this.lineGraphics=new f,this.pointGraphics=new g,this.heightPlane=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),this.heightBox=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:0,heightFillColor:s.main}),this.zVerticalLine=new C({color:n(s.main,.5),falloff:2,innerColor:n(s.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,h(this,t)}}function W(i){return o(t.toUnitRGBA(i))}const O=new class{constructor(t){this.visualElements=new m,this.reshapeManipulators=new d,this.zManipulator=new c,h(this,t)}colorToVec4(t){return W(t)}};export{s as colors,O as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t,isSome as r}from\"../../../../core/maybe.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{i as s}from\"../../../../chunks/vec3.js\";import{maxScale as a}from\"../../support/mathUtils.js\";import{c as n}from\"../../../../chunks/mat4.js\";import{I as e,a as o}from\"../../../../chunks/mat4f64.js\";import{computeAttachmentOriginTriangles as h}from\"./geometryDataUtils.js\";import{VertexAttrConstants as m}from\"./Util.js\";import{generateObject3DStateId as u}from\"./Object3DStateSet.js\";import{addObject3DStateID as d,removeObject3DStateID as f}from\"../materials/renderers/utils.js\";export default class{constructor(t,r,s,a,n,e,o){this.uniqueName=null,this.shaderTransformationDirty=!0,this.data=t.toRenderData(),this.boundingInfo=r,this.material=s,this.origin=null,this.center=i(),this.bsRadius=0,this.transformation=null,this.calculateShaderTransformation=n,a&&this.updateTransformation(a,e),this.castShadow=o,this.instanceParameters={highlights:null,occludees:null,visible:!0}}updateTransformation(t,r){this.transformation=t,this.shaderTransformationDirty=!0,this.bsRadius=this.getBoundingSphere(t,r,this.center)}shaderTransformationChanged(){this.shaderTransformationDirty=!0}getBoundingSphere(t,r,i){return r=r||a(t),s(i,this.boundingInfo.getCenter(),t),this.boundingInfo.getBSRadius()*r}get hasShaderTransformation(){return!!this.calculateShaderTransformation}getShaderTransformation(){return this.calculateShaderTransformation?(this.shaderTransformationDirty&&(this.shaderTransformation||(this.shaderTransformation=o()),n(this.shaderTransformation,this.calculateShaderTransformation(t(this.transformation,e))),this.shaderTransformationDirty=!1),this.shaderTransformation):t(this.transformation,e)}computeAttachmentOrigin(t){if(this.material.computeAttachmentOrigin)return!!this.material.computeAttachmentOrigin(this,t)&&(r(this.transformation)&&s(t,t,this.transformation),!0);const i=this.getIndices(m.POSITION),a=this.getAttribute(m.POSITION);return!!h(a,i,t)&&(r(this.transformation)&&s(t,t,this.transformation),!0)}getIndices(t){return\"indices\"in this.data?this.data.indices[t]:null}getAttribute(t){return\"vertexAttr\"in this.data?this.data.vertexAttr[t]:null}addHighlight(){const t=u(0),r=this.instanceParameters;return r.highlights=d(r.highlights,t),t}removeHighlight(t){const r=this.instanceParameters;r.highlights=f(r.highlights,t)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isClockwise as n}from\"./coordsUtils.js\";import{earcut as t}from\"../../core/libs/earcut/earcut.js\";import{deduplicate as e}from\"./meshUtils/deduplicate.js\";function o(n){const o=r(n.rings,n.hasZ,1),l=[];let s=0,i=0;for(const n of o.polygons){const e=n.count,r=n.index,c=new Float64Array(o.position.buffer,3*r*o.position.BYTES_PER_ELEMENT,3*e),h=n.holeIndices.map((n=>n-r)),f=new Uint32Array(t(c,h,3));l.push({position:c,faces:f}),s+=c.length,i+=f.length}const c=function(n,t,e){if(1===n.length)return n[0];const o=new Float64Array(t),r=new Uint32Array(e);let l=0,s=0,i=0;for(const t of n){for(let n=0;n<t.position.length;n++)o[l++]=t.position[n];for(let n=0;n<t.faces.length;n++)r[s++]=t.faces[n]+i;i=l/3}return{position:o,faces:r}}(l,s,i),h=e(c.position.buffer,6,{originalIndices:c.faces});return c.position=new Float64Array(h.buffer),c.faces=h.indices,c}function r(t,e,o){const r=t.length,s=new Array(r),i=new Array(r),c=new Array(r);let h=0,f=0,g=0,a=0;for(let n=0;n<r;++n)a+=t[n].length;const u=new Float64Array(3*a);let p=0;for(let a=r-1;a>=0;a--){const d=t[a],y=1===o&&!n(d,!1,!1);if(y&&1!==r)s[h++]=d;else{let n=d.length;for(let t=0;t<h;++t)n+=s[t].length;const t={index:p,pathLengths:new Array(h+1),count:n,holeIndices:new Array(h)};t.pathLengths[0]=d.length,d.length>0&&(c[g++]={index:p,count:d.length}),p=y?l(d,d.length-1,-1,u,p,d.length,e):l(d,0,1,u,p,d.length,e);for(let n=0;n<h;++n){const o=s[n];t.holeIndices[n]=p,t.pathLengths[n+1]=o.length,o.length>0&&(c[g++]={index:p,count:o.length}),p=l(o,0,1,u,p,o.length,e)}h=0,t.count>0&&(i[f++]=t)}}for(let n=0;n<h;++n){const t=s[n];t.length>0&&(c[g++]={index:p,count:t.length}),p=l(t,0,1,u,p,t.length,e)}return f<r&&(i.length=f),g<r&&(c.length=g),{position:u,polygons:i,outlines:c}}function l(n,t,e,o,r,l,s){r*=3;for(let i=0;i<l;++i){const l=n[t];o[r++]=l[0],o[r++]=l[1],o[r++]=s?l[2]:0,t+=e}return r/3}export{r as pathsToTriangulationInfo,o as triangulate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as s,f as t}from\"../../../../chunks/vec3f64.js\";class i{constructor(i=s(),c=t(.57735,.57735,.57735),n=!0){this.intensity=i,this.direction=c,this.castShadows=n}}class c{constructor(i=s(),c=t(.57735,.57735,.57735)){this.intensity=s(),this.direction=s(),this.intensity=i,this.direction=c}}class n{constructor(t=s()){this.intensity=t}}class o{constructor(){this.sh={r:[0],g:[0],b:[0]}}}export{n as AmbientLight,c as FillLight,i as MainLight,o as SphericalHarmonicsLight};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{lerp as i}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as e,createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as s,b as h,f as n}from\"../../../../chunks/vec3f64.js\";import{f as o,k as a,g as _,m as p,r as u,d as v,u as c,v as w,a as d,l,s as y,c as g,n as f}from\"../../../../chunks/vec3.js\";import{directionFromTo as m}from\"../../support/mathUtils.js\";import{c as x,m as D,h as j,a as M,b as R,l as P}from\"../../../../chunks/mat4.js\";import{a as F}from\"../../../../chunks/mat4f64.js\";import{f as V}from\"../../../../chunks/vec2f64.js\";import{b as S,a as T}from\"../../../../chunks/vec4f64.js\";import{c as I,k as U}from\"../../../../chunks/vec2.js\";import{c as k,g as b,i as A,t as C}from\"../../../../chunks/vec4.js\";import{p as E}from\"../../../../chunks/vector.js\";import{ray as z,frustum as H}from\"../../support/geometryUtils.js\";import{fovd2fovx as W,fovx2fovd as G,fovd2fovy as X,fovy2fovd as Y}from\"./Util.js\";class L{constructor(i=null,e=null,r=null){this._viewUp=s(),this._viewForward=s(),this._viewRight=s(),this._ray=z.createWrapper(),this._viewport=S(0,0,1,1),this._padding=S(0,0,0,0),this._fov=55/180*Math.PI,this._nearFar=V(1,1e3),this._viewDirty=!0,this._viewMatrix=F(),this._projectionDirty=!0,this._projectionMatrix=F(),this._viewProjectionDirty=!0,this._viewProjectionMatrix=F(),this._viewInverseTransposeMatrixDirty=!0,this._viewInverseTransposeMatrix=F(),this._frustumDirty=!0,this._frustum=H.create(),this._fullViewport=T(),this._contextNavigation=!0,this.pixelRatio=1,this.relativeElevation=0,this._eye=t(i)?h(i):s(),this._center=t(e)?h(e):s(),this._up=t(r)?h(r):n(0,0,1)}get eye(){return this._eye}set eye(t){this._compareAndSetView(t,this._eye)}get center(){return this._center}set center(t){this._compareAndSetView(t,this._center)}get ray(){return this._ray.origin=this.eye,this._ray.direction||(this._ray.direction=s()),o(this._ray.direction,this.center,this.eye),this._ray}get up(){return this._up}set up(t){this._compareAndSetView(t,this._up)}get viewMatrix(){return this._ensureViewClean(),this._viewMatrix}set viewMatrix(t){x(this._viewMatrix,t),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get viewForward(){return this._ensureViewClean(),this._viewForward}get viewUp(){return this._ensureViewClean(),this._viewUp}get viewRight(){return this._ensureViewClean(),this._viewRight}get nearFar(){return this._nearFar}get near(){return this._nearFar[0]}set near(t){this._nearFar[0]!==t&&(this._nearFar[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get far(){return this._nearFar[1]}set far(t){this._nearFar[1]!==t&&(this._nearFar[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewport(){return this._viewport}set viewport(t){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]}get x(){return this._viewport[0]}set x(t){t+=this._padding[3],this._viewport[0]!==t&&(this._viewport[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get y(){return this._viewport[1]}set y(t){t+=this._padding[2],this._viewport[1]!==t&&(this._viewport[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get width(){return this._viewport[2]}set width(t){this._viewport[2]!==t&&(this._viewport[2]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get height(){return this._viewport[3]}set height(t){this._viewport[3]!==t&&(this._viewport[3]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get fullWidth(){return this._viewport[2]+this._padding[1]+this._padding[3]}set fullWidth(t){this.width=t-(this._padding[1]+this._padding[3])}get fullHeight(){return this._viewport[3]+this._padding[0]+this._padding[2]}set fullHeight(t){this.height=t-(this._padding[0]+this._padding[2])}get fullViewport(){return this._fullViewport[0]=this._viewport[0]-this._padding[3],this._fullViewport[1]=this._viewport[1]-this._padding[2],this._fullViewport[2]=this.fullWidth,this._fullViewport[3]=this.fullHeight,this._fullViewport}get aspect(){return this.width/this.height}get padding(){return this._padding}set padding(t){this._padding[0]===t[0]&&this._padding[1]===t[1]&&this._padding[2]===t[2]&&this._padding[3]===t[3]||(this._viewport[0]+=t[3]-this._padding[3],this._viewport[1]+=t[2]-this._padding[2],this._viewport[2]-=t[1]+t[3]-(this._padding[1]+this._padding[3]),this._viewport[3]-=t[0]+t[2]-(this._padding[0]+this._padding[2]),k(this._padding,t),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewProjectionMatrix(){return this._viewProjectionDirty&&(D(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1),this._viewProjectionMatrix}get projectionMatrix(){if(this._projectionDirty){const t=this.width,i=this.height,e=this.near*Math.tan(this.fovY/2),r=e*this.aspect;j(this._projectionMatrix,-r*(1+2*this._padding[3]/t),r*(1+2*this._padding[1]/t),-e*(1+2*this._padding[2]/i),e*(1+2*this._padding[0]/i),this.near,this.far),this._projectionDirty=!1}return this._projectionMatrix}set projectionMatrix(t){x(this._projectionMatrix,t),this._projectionDirty=!1,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fov(){return this._fov}set fov(t){this._fov=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovX(){return W(this._fov,this.width,this.height)}set fovX(t){this._fov=G(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovY(){return X(this._fov,this.width,this.height)}set fovY(t){this._fov=Y(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get distance(){return a(this._center,this._eye)}get frustum(){return this._recomputeFrustum(),this._frustum}get viewInverseTransposeMatrix(){return(this._viewInverseTransposeMatrixDirty||this._viewDirty)&&(M(this._viewInverseTransposeMatrix,this.viewMatrix),R(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),this._viewInverseTransposeMatrix}depthNDCToWorld(t){const i=2*t-1;return 2*this.near*this.far/(this.far+this.near-i*(this.far-this.near))}get perRenderPixelRatio(){return Math.tan(this.fovX/2)/(this.width/2)}get perScreenPixelRatio(){return this.perRenderPixelRatio*this.pixelRatio}get aboveGround(){return this.relativeElevation&&this.relativeElevation>=0}copyFrom(t){const i=t;return _(this._eye,i._eye),_(this._center,i._center),_(this._up,i._up),k(this._viewport,i._viewport),k(this._padding,i._padding),I(this._nearFar,i._nearFar),this._fov=i._fov,this.relativeElevation=t.relativeElevation,this._viewDirty=i._viewDirty,this._viewDirty||(x(this._viewMatrix,i._viewMatrix),_(this._viewRight,i._viewRight),_(this._viewUp,i._viewUp),_(this._viewForward,i._viewForward)),i._projectionDirty?this._projectionDirty=!0:(x(this._projectionMatrix,i._projectionMatrix),this._projectionDirty=!1),this._viewProjectionDirty=!0,this._frustumDirty=i._frustumDirty,this._frustumDirty||(H.copy(i._frustum,this._frustum),this._frustumDirty=!1),i._viewInverseTransposeMatrixDirty?this._viewInverseTransposeMatrixDirty=!0:(x(this._viewInverseTransposeMatrix,i._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),k(this._fullViewport,i._fullViewport),this.pixelRatio=t.pixelRatio,this}copyViewFrom(t){this.eye=t.eye,this.center=t.center,this.up=t.up}clone(){return(new L).copyFrom(this)}equals(t){return p(this._eye,t._eye)&&p(this._center,t._center)&&p(this._up,t._up)&&b(this._viewport,t._viewport)&&b(this._padding,t._padding)&&U(this._nearFar,t._nearFar)&&this._fov===t._fov&&this.pixelRatio===t.pixelRatio&&this.relativeElevation===t.relativeElevation}almostEquals(t){if(this.pixelRatio!==t.pixelRatio||Math.abs(t._fov-this._fov)>=.001)return!1;const i=5e-4;u(B,t._eye,t._center),u(J,this._eye,this._center);const e=v(B,J),r=c(B),s=c(J);return e*e>=(1-1e-10)*r*s&&w(t._eye,this._eye)<Math.max(r,s)*i*i&&A(t._padding,this._padding)<.5&&A(t._viewport,this._viewport)<.5}markViewDirty(){this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0}computeRenderPixelSizeAt(t){return this.computeRenderPixelSizeAtDist(this.viewDirectionDistance(t))}computeRenderPixelSizeAtDist(t){return t*this.perRenderPixelRatio}computeScreenPixelSizeAt(t){return this.computeScreenPixelSizeAtDist(this.viewDirectionDistance(t))}viewDirectionDistance(t){return Math.abs(E(this.viewForward,o(B,t,this._eye)))}computeScreenPixelSizeAtDist(t){return t*this.perScreenPixelRatio}computeDistanceFromRadius(t,i){return t/Math.tan(Math.min(this.fovX,this.fovY)/(2*(i||1)))}getScreenCenter(t=e()){return t[0]=(this.padding[3]+this.width/2)/this.pixelRatio,t[1]=(this.padding[0]+this.height/2)/this.pixelRatio,t}getRenderCenter(t,i=.5,e=.5){return t||(t=r()),t[0]=this.padding[3]+this.width*i,t[1]=this.padding[2]+this.height*e,t.length>2&&(t[2]=.5),t}setGLViewport(t){const i=this.viewport,e=this.padding;t.setViewport(i[0]-e[3],i[1]-e[2],i[2]+e[1]+e[3],i[3]+e[0]+e[2])}applyProjection(t,e,r=!1){t!==q&&_(q,t),q[3]=1,r&&(e[2]=-q[2]),C(q,q,this.projectionMatrix),d(q,q,1/Math.abs(q[3]));const s=this.fullViewport;return e[0]=i(0,s[0]+s[2],.5+.5*q[0]),e[1]=i(0,s[1]+s[3],.5+.5*q[1]),r||(e[2]=.5*(q[2]+1)),e}projectToScreen(t,i){return this.projectToRenderScreen(t,K),this.renderToScreen(K,i)}projectToRenderScreen(t,e){if(q[0]=t[0],q[1]=t[1],q[2]=t[2],q[3]=1,C(q,q,this.viewProjectionMatrix),0===q[3])return null;d(q,q,1/Math.abs(q[3]));const r=this.fullViewport;return\"x\"in e?(e.x=i(0,r[0]+r[2],.5+.5*q[0]),e.y=i(0,r[1]+r[3],.5+.5*q[1])):(e[0]=i(0,r[0]+r[2],.5+.5*q[0]),e[1]=i(0,r[1]+r[3],.5+.5*q[1]),e.length>2&&(e[2]=.5*(q[2]+1))),e}unprojectFromScreen(t,i){return this.unprojectFromRenderScreen(this.screenToRender(t,K),i)}unprojectFromRenderScreen(t,i){if(D(N,this.projectionMatrix,this.viewMatrix),!M(N,N))return null;const e=this.fullViewport;return q[0]=2*(t[0]-e[0])/e[2]-1,q[1]=2*(t[1]-e[1])/e[3]-1,q[2]=2*t[2]-1,q[3]=1,C(q,q,N),0===q[3]?null:(i[0]=q[0]/q[3],i[1]=q[1]/q[3],i[2]=q[2]/q[3],i)}constrainWindowSize(t,i,e,r=1){const s=t*this.pixelRatio,h=i*this.pixelRatio,n=Math.max(s-e*r/2,0),o=Math.max(this.fullHeight-h-e/2,0),a=-Math.min(s-e*r/2,0),_=-Math.min(this.fullHeight-h-e/2,0);return[n,o,e*r-a- -Math.min(this.fullWidth-s-e*r/2,0),e-_- -Math.min(h-e/2,0)]}computeUp(t){1===t?this.computeUpGlobal():this.computeUpLocal()}screenToRender(t,i){const e=t[0]*this.pixelRatio,r=this.fullHeight-t[1]*this.pixelRatio;return i[0]=e,i[1]=r,i}renderToScreen(t,i){const e=t[0]/this.pixelRatio,r=(this.fullHeight-t[1])/this.pixelRatio;return i[0]=e,i[1]=r,i}computeUpGlobal(){o(B,this.center,this.eye);const t=l(this.center);t<1?(y(this.up,0,0,1),this.markViewDirty()):Math.abs(v(B,this.center))>.9999*l(B)*t||(g(this.up,B,this.center),g(this.up,this.up,B),f(this.up,this.up),this.markViewDirty())}computeUpLocal(){m(B,this.eye,this.center),Math.abs(B[2])<=.9999&&(d(B,B,B[2]),y(this.up,-B[0],-B[1],1-B[2]),f(this.up,this.up),this.markViewDirty())}_compareAndSetView(t,i){p(t,i)||(_(i,t),this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0)}_recomputeFrustum(){this._frustumDirty&&(H.fromMatrix(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)}_ensureViewClean(){this._viewDirty&&(P(this._viewMatrix,this._eye,this._center,this._up),y(this._viewForward,-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10]),y(this._viewUp,this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9]),y(this._viewRight,this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8]),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)}}const q=T(),N=F(),B=s(),J=s(),K=r();export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as E}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import I from\"../../../core/Accessor.js\";let S=class extends I{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.SCENEVIEW_LOCKING_LOG=!1,this.HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED=!1,this.HIGHLIGHTS_PROFILE_TO_CONSOLE=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TERRAIN_DEBUG_POPUP=!1,this.TESTS_DISABLE_UPDATE_THRESHOLDS=!1,this.DISABLE_DECONFLICTOR_VISIBILITY_OFFSET=!1,this.DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.ENABLE_PROFILE_DEPTH_RANGE=!1,this.DISABLE_FAST_UPDATES=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1}};E([_()],S.prototype,\"SCENEVIEW_HITTEST_RETURN_INTERSECTOR\",void 0),E([_()],S.prototype,\"SCENEVIEW_LOCKING_LOG\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_PROFILE_TO_CONSOLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_VISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_INVISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_GRID\",void 0),E([_()],S.prototype,\"LABELS_SHOW_BORDER\",void 0),E([_()],S.prototype,\"OVERLAY_DRAW_DEBUG_TEXTURE\",void 0),E([_()],S.prototype,\"OVERLAY_SHOW_CENTER\",void 0),E([_()],S.prototype,\"SHOW_POI\",void 0),E([_()],S.prototype,\"TERRAIN_DEBUG_POPUP\",void 0),E([_()],S.prototype,\"TESTS_DISABLE_UPDATE_THRESHOLDS\",void 0),E([_()],S.prototype,\"DISABLE_DECONFLICTOR_VISIBILITY_OFFSET\",void 0),E([_()],S.prototype,\"DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES\",void 0),E([_()],S.prototype,\"DRAW_MESH_GEOMETRY_NORMALS\",void 0),E([_()],S.prototype,\"FEATURE_TILE_FETCH_SHOW_TILES\",void 0),E([_()],S.prototype,\"FEATURE_TILE_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_SHOW_MODIFICATIONS\",void 0),E([_()],S.prototype,\"ENABLE_PROFILE_DEPTH_RANGE\",void 0),E([_()],S.prototype,\"DISABLE_FAST_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_DISABLE_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL\",void 0),E([_()],S.prototype,\"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES\",void 0),S=E([o(\"esri.views.3d.support.DebugFlags\")],S);const t=new S;export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import\"../../../core/mathUtils.js\";import\"../../../chunks/builtins.js\";import{getGpuMemoryUsage as e}from\"../../webgl/Util.js\";import r from\"../../webgl/FramebufferObject.js\";import\"../../webgl/RenderingContext.js\";class t{constructor(e,t,i,s){this._renderTarget=null,this.id=`${t}_${++i}`,this._renderTarget=new r(e,{colorTarget:0,depthStencilTarget:0},{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9987,hasMipmap:s,maxAnisotropy:8,width:0,height:0})}dispose(){this._renderTarget.dispose(),this._renderTarget=null}getTexture(){return this._renderTarget?this._renderTarget.colorTexture:null}isValid(){return null!==this._renderTarget}resize(e,r){this._renderTarget.resize(e,r)}bind(e){e.bindFramebuffer(this._renderTarget)}generateMipMap(){this._renderTarget.colorTexture.descriptor.hasMipmap&&this._renderTarget.colorTexture.generateMipmap()}disposeRenderTargetMemory(){this._renderTarget&&this._renderTarget.resize(0,0)}getGpuMemoryUsage(){let r=0;return this._renderTarget&&(r+=e(this._renderTarget)),r}}export{t as OverlayRenderTarget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{b as n,f as t}from\"../../../../chunks/vec3f64.js\";class r{constructor(n,t){this.vec3=n,this.id=t}}function s(t,s){return new r(n(t),s)}function c(n,s,c,e){return new r(t(n,s,c),e)}export{r as LocalOrigin,c as fromValues,s as fromVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{OverlayRenderTarget as r}from\"./OverlayRenderTarget.js\";import{fromValues as t}from\"../webgl-engine/lib/localOrigin.js\";class s{constructor(s,a){this.extent=e(),this.resolution=0,this.renderLocalOrigin=t(0,0,0,\"O\"),this.pixelRatio=1,this.renderTargets={color:{fbo:new r(s,\"overlay\",a,!0),valid:!1,lastUsed:1/0},colorWithoutRasterImage:{fbo:new r(s,\"overlayWithoutRasterImage\",a,!0),valid:!1,lastUsed:1/0},highlight:{fbo:new r(s,\"overlayHighlight\",a,!1),valid:!1,lastUsed:1/0},water:{fbo:new r(s,\"overlayWaterMask\",a,!0),valid:!1,lastUsed:1/0},occluded:{fbo:new r(s,\"overlayOccluded\",a,!0),valid:!1,lastUsed:1/0}}}dispose(){this.renderTargets.color.fbo.dispose(),this.renderTargets.colorWithoutRasterImage.fbo.dispose(),this.renderTargets.highlight.fbo.dispose(),this.renderTargets.water.fbo.dispose(),this.renderTargets.occluded.fbo.dispose()}drawRenderTargets(e,r,t){const s=this.renderTargets;s.color.valid=e.drawPass(0,s.color.fbo,r),s.highlight.valid=e.drawPass(5,s.highlight.fbo,r),s.water.valid=e.drawPass(3,s.water.fbo,r),s.occluded.valid=e.drawPass(0,s.occluded.fbo,r,1),s.colorWithoutRasterImage.valid=t&&e.drawPass(0,s.colorWithoutRasterImage.fbo,r,2)}computeRenderTargetValidityBitfield(){const e=this.renderTargets;return+e.color.valid|+e.colorWithoutRasterImage.valid<<1|+e.highlight.valid<<2|+e.water.valid<<3|+e.occluded.valid<<4}validateUsage(e,r){if(e.valid)e.lastUsed=r;else if(r-e.lastUsed>a)e.fbo.disposeRenderTargetMemory(),e.lastUsed=1/0;else if(e.lastUsed<1/0)return!0;return!1}collectUnusedMemory(e){let r=!1;return r=this.validateUsage(this.renderTargets.color,e)||r,r=this.validateUsage(this.renderTargets.colorWithoutRasterImage,e)||r,r=this.validateUsage(this.renderTargets.highlight,e)||r,r=this.validateUsage(this.renderTargets.occluded,e)||r,r=this.validateUsage(this.renderTargets.water,e)||r,r}getGpuMemoryUsage(){return this.renderTargets.color.fbo.getGpuMemoryUsage()+this.renderTargets.colorWithoutRasterImage.fbo.getGpuMemoryUsage()+this.renderTargets.highlight.fbo.getGpuMemoryUsage()+this.renderTargets.water.fbo.getGpuMemoryUsage()+this.renderTargets.occluded.fbo.getGpuMemoryUsage()}}const a=1e3;export{s as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{removeUnordered as s}from\"../../../../../core/arrayUtils.js\";class r{constructor(){this._uniforms={proj:[],shadowMapDistance:[],viewportPixelSz:[],lightingMainDirection:[]}}dispose(){this._uniforms=null}getPrograms(s){return this._uniforms[s]||[]}subscribeProgram(s){for(const r in this._uniforms)s.hasUniform(r)&&this._uniforms[r].push(s)}unsubscribeProgram(r){for(const i in this._uniforms)s(this._uniforms[i],r)}}export{r as CommonUniformStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../core/maybe.js\";import{all as t}from\"../../../../../core/promiseUtils.js\";class r{constructor(e){this.technique=e,this.refCount=0,this.refZeroFrame=0}}class s{constructor(e){this._context=e,this._perConstructorInstances=new Map,this._frameCounter=0,this._keepAliveFrameCount=1200}get viewingMode(){return this._context.viewingMode}get constructionContext(){return this._context}dispose(){this._perConstructorInstances.forEach((e=>e.forEach((e=>e.technique.dispose())))),this._perConstructorInstances.clear()}acquire(e,t){const s=t.key;let o=this._perConstructorInstances.get(e);o||(o=new Map,this._perConstructorInstances.set(e,o));let n=o.get(s);return void 0===n&&(n=new r(new e(this._context,t)),o.set(s,n)),++n.refCount,n.technique}acquireAndReleaseExisting(t,r,s){return e(s)?this.acquire(t,r):r.key===s.key&&s instanceof t?s:(this.release(s),this.acquire(t,r))}release(e){const t=this._perConstructorInstances.get(e.constructor).get(e.key);t.refCount-=1,0===t.refCount&&(t.refZeroFrame=this._frameCounter)}frameUpdate(){this._frameCounter++,this._perConstructorInstances.forEach(((e,t)=>{e.forEach(((t,r)=>{0===t.refCount&&t.refZeroFrame+this._keepAliveFrameCount<this._frameCounter&&(t.technique.dispose(),e.delete(r))})),0===e.size&&this._perConstructorInstances.delete(t)}))}getProgramsUsingUniform(e){return this._context.commonUniformStore.getPrograms(e)}async hotReload(){const e=new Array;this._perConstructorInstances.forEach(((t,r)=>{e.push((async(e,t)=>{const r=t.shader;r&&(await r.reload(),e.forEach((e=>{e.technique.reload(this._context)})))})(t,r))})),await t(e)}}export{s as ShaderTechniqueRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=[{output:0,name:\"color\"},{output:1,name:\"depth\"},{output:2,name:\"normal\"},{output:3,name:\"depthShadowMap\"},{output:4,name:\"highlight\"},{output:5,name:\"draped\"},{output:6,name:\"occlusion\"},{output:7,name:\"alpha\"}];function u(u,o){return u+\"_\"+t.find((t=>t.output===o)).name}export{t as ShaderOutputTypes,u as getShaderOutputID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/Logger.js\";import{assert as i}from\"./Util.js\";import{getShaderOutputID as r,ShaderOutputTypes as a}from\"../core/shaderLibrary/ShaderOutputOptions.js\";const s=t.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRep\");class o{constructor(e){this.refCnt=0,this.glMaterial=e}incRefCnt(){++this.refCnt}decRefCnt(){--this.refCnt,i(this.refCnt>=0)}getRefCnt(){return this.refCnt}getGLMaterial(){return this.glMaterial}}export default class{constructor(e,t,i){this._textureRep=e,this._techniqueRep=t,this.onMaterialChanged=i,this._id2glMaterialRef=new Map}dispose(){this._textureRep.dispose()}acquire(e,t){this.ownMaterial(e);const i=r(e.id,t);let a=this._id2glMaterialRef.get(i);if(null==a){const r=e.getGLMaterial({material:e,techniqueRep:this._techniqueRep,textureRep:this._textureRep,output:t});return a=new o(r),a.incRefCnt(),this._id2glMaterialRef.set(i,a),r}return a.incRefCnt(),a.getGLMaterial()}release(e,t){const i=r(e.id,t),a=this._id2glMaterialRef.get(i);if(a.decRefCnt(),0===a.getRefCnt()){const e=a.getGLMaterial();e&&e.dispose(),this._id2glMaterialRef.delete(i)}}materialChanged(e){for(const t of a)if(5!==t.output&&6!==t.output){const i=this._id2glMaterialRef.get(r(e.id,t.output));if(i&&i.getGLMaterial()){const e=i.getGLMaterial();e.updateParameters&&e.updateParameters()}}this.onMaterialChanged&&this.onMaterialChanged(e)}ownMaterial(t){e(t.materialRepository)&&t.materialRepository!==this&&s.error(\"Material is already owned by a different material repository\"),t.materialRepository=this}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import i from\"../../../../geometry/SpatialReference.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{f as o}from\"../../../../chunks/vec3.js\";import{projectBuffer as s}from\"../../../../geometry/projection.js\";import{I as e}from\"../../../../chunks/mat4f64.js\";import{VertexAttrConstants as n}from\"./Util.js\";import{GeometryData as a}from\"./GeometryData.js\";import c from\"./Object3D.js\";import h from\"./Geometry.js\";import{fromValues as m}from\"./localOrigin.js\";import d from\"./Layer.js\";import{RibbonLineMaterial as O}from\"../materials/RibbonLineMaterial.js\";let _=0;class l{constructor(){this.ROOT_ORIGIN_ID=\"rg_root_\"+_++,this._origins=new Map,this._gridSize=42e5}getOrigin(i){const r=this._origins.get(this.ROOT_ORIGIN_ID);if(null==r){if(t(l.testOrigin)){const t=l.testOrigin;return this._origins.set(this.ROOT_ORIGIN_ID,m(t[0],t[1],t[2],this.ROOT_ORIGIN_ID)),this.getOrigin(i)}const r=m(i[0]+Math.random()-.5,i[1]+Math.random()-.5,i[2]+Math.random()-.5,this.ROOT_ORIGIN_ID);return this._origins.set(this.ROOT_ORIGIN_ID,r),r}o(g,i,r.vec3),g[0]=Math.abs(g[0]),g[1]=Math.abs(g[1]),g[2]=Math.abs(g[2]);const s=this._gridSize;if(g[0]<s&&g[1]<s&&g[2]<s)return r;const e=Math.round(i[0]/s),n=Math.round(i[1]/s),a=Math.round(i[2]/s),c=`rg_${e}/${n}/${a}`;let h=this._origins.get(c);return h||(h=m(e*s,n*s,a*s,c),this._origins.set(c,h)),h}_drawOriginBox(t){const r=window.view,o=r._stage;if(null==this._object){this._material=new O({width:2,color:[0,1,0,1]},\"GridLocalOriginMaterial\"),o.add(3,this._material);const t=new d(\"GridLocalOrigin\",{isPickable:!1});o.add(0,t),this._object=new c({idHint:\"GridLocalOrigin\",castShadow:!1}),o.add(1,this._object),t.addObject(this._object),o.addToViewContent([t.id])}const m=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],_=m.length,l=new Float32Array(3*_),g=new Uint32Array(2*(_-1)),f=.5*this._gridSize;for(let i=0;i<_;i++)l[3*i+0]=t[0]+(1&m[i]?f:-f),l[3*i+1]=t[1]+(2&m[i]?f:-f),l[3*i+2]=t[2]+(4&m[i]?f:-f),i>0&&(g[2*i+0]=i-1,g[2*i+1]=i);s(l,i.WebMercator,0,l,r.spatialReference,0,_);const I={};I[n.POSITION]={size:3,data:l};const j={};j[n.POSITION]=g;const p=new a(I,j,\"line\"),u=new h(p,\"GridLocalOriginBox\");o.add(2,u),this._object.addGeometry(u,this._material,e),console.log(this._origins.size,t)}}const g=r();!function(t){t.testOrigin=null}(l||(l={}));var f=l;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport s from\"./Camera.js\";const e=13;export default class{constructor(t,i,h,r,a,l){this.camera=null,this.lastFrameCamera=new s,this.pass=0,this.slot=0,this.highlightDepthTexture=null,this.renderOccludedMask=e,this.hasOccludees=!1,this.rctx=t,this.offscreenRenderingHelper=i,this.scenelightingData=h,this.shadowMap=r,this.ssaoHelper=a,this.sliceHelper=l}resetRenderOccludedMask(){this.renderOccludedMask=e}get isHighlightPass(){return 5===this.pass}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getFirstObjectValue as t}from\"./Util.js\";function e(t){const e=new Map;let n=null,r=null;const d=t=>{if(t===n)return r;let o=e.get(t);return o||(o={toAdd:[],numToAdd:-1,toRemove:[],numToRemove:-1,toUpdate:[],numToUpdate:-1},e.set(t,o)),n=t,r=o,o};for(let e=0;e<t.numToAdd;e++){const n=t.toAdd[e];if(o(n)){d(n.material).toAdd.push(n)}}for(let e=0;e<t.numToRemove;e++){const n=t.toRemove[e];if(o(n)){d(n.material).toRemove.push(n)}}for(let e=0;e<t.numToUpdate;e++){const n=t.toUpdate[e];if(o(n.renderGeometry)){d(n.renderGeometry.material).toUpdate.push(n)}}return e}function o(e){return o=e.data,t(o.indices).length>=1;var o}export{e as splitRenderGeometryChangeSetByMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as r}from\"../../../../core/mathUtils.js\";class t{constructor(t){null==t?t=16:t<65536&&(t=r(t)),this._array=new Float32Array(t),this._size=0}resize(r,t){if(this._size=r,this._size>this._array.length){let r=this._array.length||1;for(;r<this._size;)r*=2;const s=new Float32Array(r);return t&&s.set(this._array),this._array=s,!0}const s=2*this._size;if(s<=this._array.length){let r=this._array.length;for(;r>=s;)r=Math.floor(r/2);const a=new Float32Array(r);return t&&a.set(this._array.subarray(0,r)),this._array=a,!0}return!1}append(r){const t=this._size;this.resize(this._size+r.length,!0),this._array.set(r,t)}erase(r,t){for(let s=r;s<t;++s)this._array[s]=0}get array(){return this._array}get size(){return this._size}}export{t as ResizableFloat32Array};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as i,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,defaultDepthWriteParams as p,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";import{View as h}from\"../core/shaderLibrary/util/View.glsl.js\";import{DefaultTextureUnits as c}from\"../lib/DefaultTextureUnits.js\";import{Slice as d}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as l}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{blendingDefault as g,OITBlending as m,OITDepthTest as f,OITDepthWrite as b,getOITPolygonOffset as y}from\"../lib/OrderIndependentTransparency.js\";import{ReadShadowMap as w}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ScreenSpaceReflections as S}from\"../core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js\";import{WaterDistortion as T}from\"../core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{W as x}from\"../../../../chunks/WaterSurface.glsl.js\";class j extends r{constructor(t,e){super(t,e),this.waterTextureRepository=t.waterTextureRepository}initializeProgram(t){const e=j.shader.get(),r=this.configuration,i=e.build({OITEnabled:0===r.transparencyPassType,output:r.output,viewingMode:t.viewingMode,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,receiveShadows:r.receiveShadows,pbrMode:3,useCustomDTRExponentForWater:!0,ssrEnabled:r.useSSR,highStepCount:!0});return new a(t.rctx,i.generateSource(\"vertex\"),i.generateSource(\"fragment\"),s)}ensureResource(t){return this.waterTextureRepository.ready||this.waterTextureRepository.updating||this.waterTextureRepository.loadTextures(t),this.waterTextureRepository.ready?2:1}bindPass(t,e,r){h.bindProjectionMatrix(this.program,r.camera.projectionMatrix),0===this.configuration.output&&(r.lighting.setUniforms(this.program,!1),S.bindUniforms(this.program,t,r)),0!==this.configuration.output&&2!==this.configuration.output||(T.bindUniforms(this.program,e),this.waterTextureRepository.bindRepo(t)),this.program.setUniform4fv(\"waterColor\",e.color),4===this.configuration.output&&l.bindOutputHighlight(t,this.program,r)}bindDraw(t){h.bindView(this.program,t),0!==this.configuration.output&&7!==this.configuration.output||h.bindCamPosition(this.program,t.origin,t.camera.viewInverseTransposeMatrix),0===this.configuration.output&&w.bindUniforms(this.program,t,c.SHADOW_MAP),0!==this.configuration.output&&7!==this.configuration.output&&4!==this.configuration.output||d.bindUniformsWithOrigin(this.program,this.configuration,t)}setPipelineState(t){const e=this.configuration,r=3===t,i=2===t;return n({blending:2!==e.output&&4!==e.output&&e.transparent?r?g:m(t):null,depthTest:{func:f(t)},depthWrite:r?e.writeDepth&&p:b(t),colorWrite:u,polygonOffset:r||i?null:y(e.enableOffset)})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}j.shader=new e(x,(()=>import(\"../shaders/WaterSurface.glsl.js\")));class v extends i{constructor(){super(...arguments),this.output=0,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.useSSR=!1,this.isDraped=!1,this.transparencyPassType=3}}t([o({count:8})],v.prototype,\"output\",void 0),t([o()],v.prototype,\"receiveShadows\",void 0),t([o()],v.prototype,\"slicePlaneEnabled\",void 0),t([o()],v.prototype,\"transparent\",void 0),t([o()],v.prototype,\"enableOffset\",void 0),t([o()],v.prototype,\"writeDepth\",void 0),t([o()],v.prototype,\"useSSR\",void 0),t([o()],v.prototype,\"isDraped\",void 0),t([o({count:4})],v.prototype,\"transparencyPassType\",void 0);export{j as WaterTechnique,v as WaterTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../lib/GLMaterial.js\";import{WaterTechnique as e}from\"./WaterTechnique.js\";class a extends t{constructor(t){super(t),this.updateParameters()}updateParameters(t){this.technique=this.techniqueRep.acquireAndReleaseExisting(e,this.material.getTechniqueConfig(this.output,t),this.technique)}beginSlot(t){if(2===this.output)return 22===t;if(5===this.output)return null==t;if(4===this.output)return 3===t;let e=3;return this.material.params.transparent&&(e=this.material.params.writeDepth?5:8),t===e}setElapsedTimeUniform(t){const e=.001*this.material.animation.time;t.setUniform1f(\"timeElapsed\",e*this.material.params.animationSpeed)}_updateShadowState(t){t.shadowMappingEnabled!==this.material.params.receiveShadows&&this.material.setParameterValues({receiveShadows:t.shadowMappingEnabled})}_updateSSRState(t){t.ssrEnabled!==this.material.params.ssrEnabled&&this.material.setParameterValues({ssrEnabled:t.ssrEnabled})}ensureResources(t){return this.technique.ensureResource(t)}ensureParameters(t){0===this.output&&(this._updateShadowState(t),this._updateSSRState(t)),this.updateParameters(t)}bind(t,e){t.bindProgram(this.technique.program),this.technique.bindPass(t,this.material.params,e),2!==this.output&&0!==this.output||this.setElapsedTimeUniform(this.technique.program)}}export{a as WaterGLMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{a as t,b as o}from\"../../../../../chunks/mat4.js\";import{b as r}from\"../../../../../chunks/mat4f64.js\";class s{constructor(s,i,n,m,f,a){this.from=s,this.to=i,this.isVisible=n,this.hasHighlights=m,this.hasOccludees=f,this.transformation=a,null!=a&&(this.transformationNormal=r(a),t(this.transformationNormal,this.transformationNormal),o(this.transformationNormal,this.transformationNormal))}}function i(t){return t.sort(((t,o)=>t.from===o.from?t.to>o.to?1:t.to<o.to?-1:0:t.from>o.from?1:t.from<o.from?-1:0))}function n(t,o){const r=t=>({first:t.from,count:t.to-t.from});if(0===t.length)return void t.push(r(o));const s=t[t.length-1];if(n=o,(i=s).first+i.count>=n.from){const t=o.from-s.first+o.to-o.from;s.count=t}else t.push(r(o));var i,n}export{s as Instance,n as addOrMerge,i as sortInstancesAccordingToRange};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{once as t}from\"../../../../core/accessorSupport/utils.js\";import s from\"../../../../core/PerformanceSampler.js\";import{startMeasurement as r}from\"../../../webgl/Measurement.js\";const i=[\"prepare\",\"shadowmap\",\"lineardepth\",\"normals\",\"ssao\",\"opaque\",\"opaque edges\",\"transparent\",\"transparent edges\",\"hudvisibility\",\"transparent terrain\",\"atmosphere\",\"laserline\",\"occluded\",\"antialiasing\",\"highlights\",\"hudOccluded\",\"hudNotoccluded\"];class a{constructor(){this.triangles=0,this.drawCalls=0}reset(){this.triangles=0,this.drawCalls=0}}function o(t,s,r){e(r)&&(r.drawCalls+=t,r.triangles+=s)}class n extends s{constructor(){super(\"total\"),this.total=0,this.frameCount=0}}class l{constructor(){this._startTime=0,this._lastSample=0,this._enableGPUTimer=0,this.totalTime=new n,this.gpuTime=new s(\"gpu\",9),this.renderPassTimings=i.map((e=>new s(e))),this.stats=new a}enableGPUTimer(){return++this._enableGPUTimer,{remove:t((()=>--this._enableGPUTimer))}}prerender(e){this._startTime=this._lastSample=performance.now(),this._enableGPUTimer&&(this._gpuTimer=r(e))}advance(e){const t=performance.now();this.renderPassTimings[e].record(t-this._lastSample),this._lastSample=t}postrender(){e(this._gpuTimer)&&(this._gpuTimer.stop((t=>e(t)&&this.gpuTime.record(t)),16),this._gpuTimer=null);const t=performance.now()-this._startTime;this.totalTime.record(t),this.totalTime.total+=t,this.totalTime.frameCount++}}export{a as RenderStats,n as RenderTime,l as RendererPerformanceInfo,o as addToRenderStats,i as performanceStatsCategories};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../../core/maybe.js\";import{m as s,a,b as i}from\"../../../../../chunks/mat4.js\";import{someMap as r}from\"../../../../../core/MapUtils.js\";import{a as n}from\"../../../../../chunks/mat4f64.js\";import{glLayout as o}from\"../../../support/buffer/glUtil.js\";import{assert as l,setMatrixTranslation3 as d}from\"../../lib/Util.js\";import h from\"../../../../webgl/BufferObject.js\";import{getStride as m}from\"../../../../webgl/Util.js\";import u from\"../../../../webgl/VertexArrayObject.js\";import{acquireMaterials as c,releaseMaterials as f,calculateTransformRelToOrigin as g}from\"./utils.js\";import{ResizableFloat32Array as p}from\"../../lib/ResizableFloat32Array.js\";import{WaterGLMaterial as b}from\"../WaterGLMaterial.js\";import{Instance as y,sortInstancesAccordingToRange as C,addOrMerge as _}from\"./Instance.js\";import{addToRenderStats as w}from\"../../statistics/RendererPerformanceInfo.js\";const v={begin:0,end:0},O=n(),H=n(),B=n();export default class{constructor(e,t,s){this.type=\"MergedRenderer\",this._dataByOrigin=new Map,this._hasHighlights=!1,this._hasOccludees=!1,this._rctx=e,this._material=s,this._materialRep=t,this._glMaterials=c(this._material,this._materialRep),this._bufferWriter=s.createBufferWriter()}dispose(){f(this._material,this._materialRep),this._dataByOrigin&&(this._dataByOrigin.forEach((e=>{e.vao.dispose(!0),e.vao=null})),this._dataByOrigin.clear(),this._dataByOrigin=null),this._glMaterials&&(this._glMaterials.forEach((e=>{e&&e.dispose()})),this._glMaterials.clear(),this._glMaterials=null)}get isEmpty(){return 0===this._dataByOrigin.size}get hasHighlights(){return this._hasHighlights}get hasOccludees(){return this._hasOccludees}get hasWater(){return!this.isEmpty&&r(this._glMaterials,(e=>e instanceof b))}get rendersOccluded(){return!this.isEmpty&&1!==this._material.renderOccluded}modify(e){this.updateGeometries(e.toUpdate),this.addAndRemoveGeometries(e.toAdd,e.toRemove),this.updateRenderCommands()}addAndRemoveGeometries(e,t){const s=this._bufferWriter,a=s.vertexBufferLayout,i=a.stride/4,r=this._dataByOrigin,n=function(e,t,s,a){const i=new Map,r=t.vertexBufferLayout.stride/4,n=(s,a)=>{const n=s.origin,o=e.get(n.id);let l=i.get(n.id);null==l&&(l={optimalCount:null==o?0:o.optimalCount,sparseCount:null==o?0:o.buffer.size,toAdd:[],toRemove:[],origin:n.vec3},i.set(n.id,l));const d=t.elementCount(s.data)*r;a?(l.optimalCount+=d,l.sparseCount+=d,l.toAdd.push(s)):(l.optimalCount-=d,l.toRemove.push(s))};for(const e of s)n(e,!0);for(const e of a)n(e,!1);return i}(r,s,e,t);n.forEach(((e,t)=>{n.delete(t);const s=e.optimalCount,o=e.sparseCount;let h=r.get(t);if(null==h)l(s>0),h=this.createData(a,s,e.origin),r.set(t,h);else if(0===s)return h.vao.dispose(!0),h.vao=null,void r.delete(t);const m=s<e.sparseCount/2,u=m?s:o,c=v,f=h.buffer.size,g=h.buffer.array,p=h.buffer.resize(u,!1);m||p?this.removeAndRebuild(h,e.toRemove,i,g,c):e.toRemove.length>0?(this.removeByErasing(h,e.toRemove,i,c),e.toAdd.length>0&&(c.end=f)):(c.begin=f,c.end=f);const b=O;d(b,-e.origin[0],-e.origin[1],-e.origin[2]),this.append(h,e.toAdd,i,b,c);const y=h.vao.vertexBuffers.geometry;if(y.byteSize!==h.buffer.array.buffer.byteLength)y.setData(h.buffer.array);else{const{begin:e,end:t}=c;if(e<t){const s=h.buffer.array,a=4,i=e*a,r=t*a;y.setSubData(s,i,i,r)}}h.drawCommandsDirty=!0}))}updateGeometries(e){const t=this._bufferWriter,s=t.vertexBufferLayout.stride/4;for(const a of e){const e=a.updateType,i=a.renderGeometry,r=this._dataByOrigin.get(i.origin.id),n=r&&r.instances.get(i.uniqueName);if(!n)return;if(1&e&&(n.isVisible=i.instanceParameters.visible),9&e){const e=i.instanceParameters.visible;n.hasHighlights=!!i.instanceParameters.highlights&&e}if(16&e&&(n.hasOccludees=!!i.instanceParameters.occludees),6&e){const e=r.buffer.array,a=r.vao;g(i,H,B),t.write({transformation:H,invTranspTransformation:B},i.data,t.vertexBufferLayout.createView(e.buffer),n.from),l(n.from+t.elementCount(i.data)===n.to,\"material VBO layout has changed\"),a.vertexBuffers.geometry.setSubData(e,n.from*s*4,n.from*s*4,n.to*s*4)}r.drawCommandsDirty=!0}}updateRenderCommands(){this._hasHighlights=!1,this._hasOccludees=!1,this._dataByOrigin.forEach((e=>{e.hasHiddenInstances=!1,e.hasHighlights=!1,e.hasOccludees=!1,r(e.instances,(t=>(t.isVisible?(t.hasHighlights&&(this._hasHighlights=!0,e.hasHighlights=!0),t.hasOccludees&&(this._hasOccludees=!0,e.hasOccludees=!0)):e.hasHiddenInstances=!0,e.hasHiddenInstances&&e.hasHighlights&&e.hasOccludees)))}));this._dataByOrigin.forEach((e=>{e.drawCommandsDirty&&((e=>{if(e.drawCommandsDefault=null,e.drawCommandsHighlight=null,e.drawCommandsOccludees=null,e.stats={default:0,highlight:0,occludees:0},0===e.instances.size)return;if(!(e.hasOccludees||e.hasHighlights||e.hasHiddenInstances)){const t=4*e.buffer.size/m(e.vao.layout.geometry);return e.drawCommandsDefault=[{first:0,count:t}],void(e.stats={default:t,highlight:0,occludees:0})}const t=C([...e.instances.values()]);e.drawCommandsDefault=[],e.drawCommandsHighlight=[],e.drawCommandsOccludees=[];for(const s of t)s.isVisible&&(s.hasOccludees?_(e.drawCommandsOccludees,s):_(e.drawCommandsDefault,s),s.hasHighlights&&_(e.drawCommandsHighlight,s));const s=e=>{let t=0;for(const s of e)t+=s.count;return t/3};e.stats={default:s(e.drawCommandsDefault),highlight:s(e.drawCommandsHighlight),occludees:s(e.drawCommandsOccludees)}})(e),e.drawCommandsDirty=!1)}))}updateLogic(e){return this._material.update(e)}render(s,a,i,r){const n=this._rctx,o=this._glMaterials.get(a.pass),l=5===a.pass;let d=s;if(3===a.pass&&null===d&&(d=22),!o||2!==o.ensureResources(n)||null!=d&&!o.beginSlot(d)||l&&!this._hasHighlights)return!1;o.ensureParameters(i);const h=o.getTechnique(),m=o.getPipelineState(d,!1);n.setPipelineState(m),o.bind(n,i);let u=!1;return this._dataByOrigin.forEach((s=>{if(e(s.drawCommandsDefault)&&e(s.drawCommandsHighlight)&&e(s.drawCommandsOccludees))return;if(l&&!s.hasHighlights)return;i.origin=s.origin,h.bindDraw(i),h.ensureAttributeLocations(s.vao),n.bindVAO(s.vao);const a=h.primitiveType;let c=l?s.drawCommandsHighlight:s.drawCommandsDefault;const f=l?s.stats.highlight:s.stats.default;if(t(c)&&(this.renderCommands(n,a,c),w(c.length,f,r),u=!0),!l&&(c=s.drawCommandsOccludees,t(c))){const e=o.getPipelineState(d,!0);n.setPipelineState(e),this.renderCommands(n,a,c),n.setPipelineState(m),w(c.length,s.stats.occludees,r),u=!0}})),u}renderCommands(e,t,s){for(let a=0;a<s.length;a++)e.drawArrays(t,s[a].first,s[a].count)}createData(e,t,s){return{instances:new Map,vao:new u(this._rctx,this._material.vertexAttributeLocations,{geometry:o(e)},{geometry:h.createVertex(this._rctx,35044)}),buffer:new p(t),optimalCount:0,origin:s,hasHiddenInstances:!1,hasHighlights:!1,hasOccludees:!1,drawCommandsDirty:!1,drawCommandsDefault:null,drawCommandsOccludees:null,drawCommandsHighlight:null,stats:{default:0,highlight:0,occludees:0}}}removeAndRebuild(e,t,s,a,i){for(const a of t){const t=a.uniqueName,i=e.instances.get(t);e.optimalCount-=(i.to-i.from)*s,e.instances.delete(t)}let r=0;const n=e.buffer.array;i.begin=0,i.end=0;let o=-1,l=-1,d=0;e.instances.forEach((e=>{const t=e.from*s,i=e.to*s,h=i-t;o!==l&&l!==t?(n.set(a.subarray(o,l),d),d+=l-o,o=t):-1===o&&(o=t),l=i,e.from=r/s,r+=h,e.to=r/s})),o!==l&&n.set(a.subarray(o,l),d),i.end=r}removeByErasing(e,t,s,a){a.begin=1/0,a.end=-1/0;let i=-1,r=-1;for(const n of t){const t=n.uniqueName,o=e.instances.get(t),l=o.from*s,d=o.to*s;i!==r&&r!==l?(e.buffer.erase(i,r),i=l):-1===i&&(i=l),r=d,e.instances.delete(t),e.optimalCount-=d-l,l<a.begin&&(a.begin=l),d>a.end&&(a.end=d)}i!==r&&e.buffer.erase(i,r)}append(e,r,n,o,d){const h=this._bufferWriter;for(const m of r){const r=t(m.transformation)?s(H,o,m.transformation):o;a(B,r),i(B,B);const u=d.end;h.write({transformation:r,invTranspTransformation:B},m.data,h.vertexBufferLayout.createView(e.buffer.array.buffer),d.end/n);const c=h.elementCount(m.data)*n,f=u+c;l(null==e.instances.get(m.uniqueName));const g=m.instanceParameters.visible,p=!!m.instanceParameters.highlights&&g,b=!!m.instanceParameters.occludees,C=new y(u/n,f/n,g,p,b);e.instances.set(m.uniqueName,C),e.optimalCount+=c,d.end+=c}}get test(){return{material:this._material,glMaterials:this._glMaterials}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{applySome as t}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/PooledArray.js\";import a from\"../../../../core/Accessor.js\";import{someMap as d}from\"../../../../core/MapUtils.js\";import{materialPredicate as o}from\"./Material.js\";import{splitRenderGeometryChangeSetByMaterial as n}from\"./rendererUtils.js\";import h from\"../materials/renderers/MergedRenderer.js\";class l{}let p=class extends a{constructor(){super(...arguments),this._pendingAddsRemoves=new Map,this._adds=new i,this._removes=new i,this._updates=new i({allocator:e=>e||new l,deallocator:e=>(e.renderGeometry=null,e)}),this._materialRenderers=new Map,this._sortedMaterialRenderers=new i,this._hasHighlights=!1,this._hasWater=!1}dispose(){this._adds.prune(),this._removes.prune(),this._updates.prune(),this._materialRenderers&&(this._materialRenderers.forEach((e=>e.dispose())),this._materialRenderers.clear(),this._sortedMaterialRenderers.clear())}get updating(){return this._pendingAddsRemoves.size>0||this._updates.length>0}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return d(this._materialRenderers,(e=>e.rendersOccluded))}stopAnimationsAtTime(e){this._sortedMaterialRenderers.forAll((r=>t(r.material.animation,(t=>t.stopAtTime(e)))))}get isEmpty(){return!this.updating&&0===this._materialRenderers.size}commitChanges(){let e=!1;if(!this.updating)return!1;this.updateAddsRemoves();const t={numToAdd:this._adds.length,toAdd:this._adds.data,numToRemove:this._removes.length,toRemove:this._removes.data,numToUpdate:this._updates.length,toUpdate:this._updates.data},r=n(t);let s=!1,i=!1;return r.forEach(((t,r)=>{let a=this._materialRenderers.get(r);if(!a&&t.toAdd.length>0&&(a=new h(this.rctx,this.materialRepository,r),this._materialRenderers.set(r,a),e=!0,s=!0,i=!0),!a)return;const d=s||a.hasHighlights,o=i||a.hasWater;a.modify(t),s=s||d!==a.hasHighlights,i=i||o!==a.hasWater,a.isEmpty&&(this._materialRenderers.delete(r),a.dispose(),e=!0)})),this._adds.clear(),this._removes.clear(),this._updates.clear(),this._pendingAddsRemoves.clear(),e&&this.updateSortedMaterialRenderers(),s&&(this._hasHighlights=d(this._materialRenderers,(e=>e.hasHighlights))),i&&(this._hasWater=d(this._materialRenderers,(e=>e.hasWater))),this.notifyChange(\"updating\"),!0}add(e){if(0===e.length)return;const t=0===this._pendingAddsRemoves.size;for(const t of e)this._pendingAddsRemoves.set(t,0);t&&this.notifyChange(\"updating\")}remove(e){const t=0===this._pendingAddsRemoves.size;for(const t of e){const e=this._pendingAddsRemoves.get(t);0===e?this._pendingAddsRemoves.set(t,2):2!==e&&this._pendingAddsRemoves.set(t,1)}t&&this._pendingAddsRemoves.size>0&&this.notifyChange(\"updating\")}modify(e,t){const r=0===this._updates.length;for(const r of e){const e=this._updates.pushNew();e.renderGeometry=r,e.updateType=t}r&&this._updates.length>0&&this.notifyChange(\"updating\")}updateLogic(e){let t=!1;return this._sortedMaterialRenderers.forAll((({materialRenderer:r})=>{r.updateLogic&&r.updateLogic(e)&&(t=!0)})),t}draw(e,t){for(let r=0;r<this._sortedMaterialRenderers.length;r++){const s=this._sortedMaterialRenderers.data[r];o(s.material,e)&&s.materialRenderer.render(null,e,t,null)}}updateSortedMaterialRenderers(){this._sortedMaterialRenderers.clear();let e=0;this._materialRenderers.forEach(((t,r)=>{r.insertOrder=e++,this._sortedMaterialRenderers.push({material:r,materialRenderer:t})})),this._sortedMaterialRenderers.sort(((e,t)=>{const r=t.material.renderPriority-e.material.renderPriority;return 0!==r?r:e.material.insertOrder-t.material.insertOrder}))}updateAddsRemoves(){this._adds.clear(),this._removes.clear(),this._pendingAddsRemoves.forEach(((e,t)=>{switch(e){case 0:this._adds.push(t);break;case 1:this._removes.push(t)}}));let e=0;for(;e<this._updates.length;){const t=this._updates.data[e].renderGeometry;this._pendingAddsRemoves.has(t)?this._updates.removeUnorderedIndex(e):e++}}get test(){return{sortedMaterialRenderers:this._sortedMaterialRenderers}}};e([r()],p.prototype,\"rctx\",void 0),e([r()],p.prototype,\"materialRepository\",void 0),e([r()],p.prototype,\"updating\",null),p=e([s(\"esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer\")],p);export{p as SortedRenderGeometryRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"./DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,separateBlendingParams as l,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";import{T as c}from\"../../../../chunks/TextureOnly.glsl.js\";class u extends t{initializeProgram(e){const r=u.shader.get().build();return new a(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),s)}initializePipeline(){return this.configuration.hasAlpha?n({blending:l(770,1,771,771),colorWrite:h}):n({colorWrite:h})}}u.shader=new r(c,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\")));class m extends o{constructor(){super(...arguments),this.hasAlpha=!1}}e([i()],m.prototype,\"hasAlpha\",void 0);export{u as TextureTechnique,m as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,n){let e=0;for(let l=0;l<t.length;l++)e+=t[l]*n[l];return e}function n(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n[l];return e}function e(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n;return e}function l(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]+n[l];return e}export{l as add,t as dotProduct,n as elementwiseProduct,e as scalarProduct};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clamp as n}from\"../../../../core/mathUtils.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{p as i,s,g as o}from\"../../../../chunks/vec3.js\";import{MainLight as r,FillLight as e,AmbientLight as c,SphericalHarmonicsLight as a}from\"./Lightsources.js\";import{elementwiseProduct as h,scalarProduct as f,add as m}from\"../lib/LongVectorMath.js\";function u(n){return(n+1)*(n+1)}function l(n){return 2*n+1}function g(t){return n(Math.floor(Math.sqrt(t)-1),0,2)}function p(n,t,i){const s=n[0],o=n[1],r=n[2],e=i||[];return e.length=u(t),t>=0&&(e[0]=.28209479177),t>=1&&(e[1]=.4886025119*s,e[2]=.4886025119*r,e[3]=.4886025119*o),t>=2&&(e[4]=1.09254843059*s*o,e[5]=1.09254843059*o*r,e[6]=.31539156525*(3*r*r-1),e[7]=1.09254843059*s*r,e[8]=.54627421529*(s*s-o*o)),e}function y(n,t){const i=u(n),s=t||{r:[],g:[],b:[]};s.r.length=s.g.length=s.b.length=i;for(let n=0;n<i;n++)s.r[n]=s.g[n]=s.b[n]=0;return s}function b(n,t){const s=g(t.r.length);for(const o of n)i(v,o.direction),p(v,s,P),h(P,w),f(P,o.intensity[0],k),m(t.r,k),f(P,o.intensity[1],k),m(t.g,k),f(P,o.intensity[2],k),m(t.b,k);return t}function H(n,t){p(v,0,P);for(const i of n)t.r[0]+=P[0]*w[0]*i.intensity[0]*4*Math.PI,t.g[0]+=P[0]*w[0]*i.intensity[1]*4*Math.PI,t.b[0]+=P[0]*w[0]*i.intensity[2]*4*Math.PI;return t}function M(n,t,i){y(t,i.sphericalHarmonics.sh),s(i.main.intensity,0,0,0);let h=!1;const f=d,u=j,l=I;f.length=0,u.length=0,l.length=0;for(const t of n)t instanceof r&&!h?(o(i.main.direction,t.direction),i.main.intensity[0]=t.intensity[0],i.main.intensity[1]=t.intensity[1],i.main.intensity[2]=t.intensity[2],i.main.castShadows=t.castShadows,h=!0):t instanceof r||t instanceof e?f.push(t):t instanceof c?u.push(t):t instanceof a&&l.push(t);b(f,i.sphericalHarmonics.sh),H(u,i.sphericalHarmonics.sh);for(const n of l)m(i.sphericalHarmonics.sh.r,n.sh.r),m(i.sphericalHarmonics.sh.g,n.sh.g),m(i.sphericalHarmonics.sh.b,n.sh.b)}const d=[],j=[],I=[],P=[0],k=[0],v=t(),w=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,p as computeCoefficients,y as initSHCoefficients,u as numberOfCoefficients,l as numberOfCoefficientsInBand,g as orderFromNumberOfCoefficients,H as projectAmbientLights,b as projectFillLights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as i,f as t}from\"../../../../chunks/vec3f64.js\";import{p as n,g as r,a as s,b as o}from\"../../../../chunks/vec3.js\";import{combineLights as e}from\"./SphericalHarmonics.js\";const h=i();class g{constructor(){this._renderLighting={main:{intensity:i(),direction:t(1,0,0),castShadows:!1},sphericalHarmonics:{sh:{r:[0],g:[0],b:[0]}}},this._shOrder=2,this._oldSunlight={direction:i(),ambient:{color:i(),intensity:0},diffuse:{color:i(),intensity:0}}}setLightDirectionUniform(i){i.setUniform3fv(\"lightingMainDirection\",this._renderLighting.main.direction)}setUniforms(i,t=!1){if(t){const t=(1-this._info.groundLightingFactor)*(1-this._info.globalFactor);i.setUniform1f(\"lightingFixedFactor\",t)}else i.setUniform1f(\"lightingFixedFactor\",0);i.setUniform1f(\"lightingGlobalFactor\",this._info.globalFactor),this.setLightDirectionUniform(i),i.setUniform3fv(\"lightingMainIntensity\",this._renderLighting.main.intensity),i.setUniform1f(\"ambientBoostFactor\",.4);const n=this._renderLighting.sphericalHarmonics.sh;0===this._shOrder?i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]):1===this._shOrder?(i.setUniform4f(\"lightingAmbientSH_R\",n.r[0],n.r[1],n.r[2],n.r[3]),i.setUniform4f(\"lightingAmbientSH_G\",n.g[0],n.g[1],n.g[2],n.g[3]),i.setUniform4f(\"lightingAmbientSH_B\",n.b[0],n.b[1],n.b[2],n.b[3])):2===this._shOrder&&(i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]),i.setUniform4f(\"lightingAmbientSH_R1\",n.r[1],n.r[2],n.r[3],n.r[4]),i.setUniform4f(\"lightingAmbientSH_G1\",n.g[1],n.g[2],n.g[3],n.g[4]),i.setUniform4f(\"lightingAmbientSH_B1\",n.b[1],n.b[2],n.b[3],n.b[4]),i.setUniform4f(\"lightingAmbientSH_R2\",n.r[5],n.r[6],n.r[7],n.r[8]),i.setUniform4f(\"lightingAmbientSH_G2\",n.g[5],n.g[6],n.g[7],n.g[8]),i.setUniform4f(\"lightingAmbientSH_B2\",n.b[5],n.b[6],n.b[7],n.b[8]))}set(i){this._info=i,e(i.lights,this._shOrder,this._renderLighting),n(this._oldSunlight.direction,this._renderLighting.main.direction);const t=1/Math.PI;this._oldSunlight.ambient.color[0]=.282095*this._renderLighting.sphericalHarmonics.sh.r[0]*t,this._oldSunlight.ambient.color[1]=.282095*this._renderLighting.sphericalHarmonics.sh.g[0]*t,this._oldSunlight.ambient.color[2]=.282095*this._renderLighting.sphericalHarmonics.sh.b[0]*t,this._oldSunlight.ambient.intensity=1,this._oldSunlight.diffuse.color[0]=this._renderLighting.main.intensity[0]*t,this._oldSunlight.diffuse.color[1]=this._renderLighting.main.intensity[1]*t,this._oldSunlight.diffuse.color[2]=this._renderLighting.main.intensity[2]*t,this._oldSunlight.diffuse.intensity=1;const g=r(h,this._oldSunlight.diffuse.color);s(g,g,.4*this._info.globalFactor),o(this._oldSunlight.ambient.color,this._oldSunlight.ambient.color,g)}get globalFactor(){return this._info.globalFactor}get old(){return this._oldSunlight}}export{g as SceneLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as t,isNone as r,unwrap as s}from\"../../../core/maybe.js\";import i from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/PooledArray.js\";import l from\"../../../core/Accessor.js\";import{f as h,c as d}from\"../../../chunks/vec3f64.js\";import u from\"../../../core/Handles.js\";import{init as p}from\"../../../core/watchUtils.js\";import{o as c,i as g,t as m}from\"../../../chunks/mat4.js\";import{someMap as y}from\"../../../core/MapUtils.js\";import{a as _}from\"../../../chunks/vec2f64.js\";import f from\"../../webgl/Texture.js\";import{vertexCount as R}from\"../../webgl/Util.js\";import{createEmptyDepthTexture as w,createQuadVAO as x}from\"../webgl-engine/lib/glUtil3D.js\";import{AmbientLight as b}from\"../webgl-engine/lighting/Lightsources.js\";import{IntersectorResult as T}from\"../webgl-engine/lib/intersectorUtils.js\";import v from\"../webgl-engine/lib/Camera.js\";import O from\"../support/debugFlags.js\";import{AutoDisposableMixin as C,autoDispose as j}from\"../webgl-engine/lib/AutoDisposable.js\";import{OverlayRenderTarget as L}from\"./OverlayRenderTarget.js\";import{Overlay as U}from\"./Overlay.js\";import{CommonUniformStore as V}from\"../webgl-engine/core/shaderTechnique/CommonUniformStore.js\";import{ShaderTechniqueRepository as M}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js\";import q from\"../webgl-engine/lib/GLMaterialRep.js\";import D from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import E from\"../webgl-engine/lib/RenderContext.js\";import{SortedRenderGeometryRenderer as G}from\"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";import{TextureTechniqueConfiguration as S,TextureTechnique as P}from\"../webgl-engine/lib/TextureTechnique.js\";import{SceneLighting as A}from\"../webgl-engine/lighting/SceneLighting.js\";import{StippleTextureRepository as H}from\"../webgl-engine/materials/lineStippleUtils.js\";const W=i.getLogger(\"esri.views.3d.webgl-engine.lib.OverlayRenderer\");let F=class extends(C(l)){constructor(e){super(e),this._overlays=null,this._hasHighlights=!1,this._rendersOccluded=!1,this._hasWater=!1,this._lighting=new A,this._localOrigins=new D,this._handles=new u,this._layerRenderers=new Map,this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers=new a,this._geometries=new Map,this._uniqueIdx=0,this.globalUnitScale=1,this.longitudeCyclical=null}initialize(){this._rctx=this.renderView.renderingContext,this._renderContext=new E(this._rctx,null,null,null,null,null),this._stippleTextureRepository=new H,this.waterTextureRepository=this.renderView.waterTextureRepository,this._shaderTechniqueRepository=new M({rctx:this._rctx,viewingMode:2,commonUniformStore:new V,stippleTextureRepository:this._stippleTextureRepository,waterTextureRepository:this.waterTextureRepository}),p(this.waterTextureRepository,\"loadingState\",(()=>this.emitContentChanged())),this._materialRepository=new q(this.renderView.textureRepository,this._shaderTechniqueRepository),this._materialRepository.onMaterialChanged=e=>{(e.renderOccluded&Y)>0!==this._rendersOccluded&&this.updateRendersOccluded(),this.emitContentChanged(),this.notifyChange(\"updating\")},this._compositingHelper=this.renderView.compositingHelper,this._lighting.set({lights:[new b(h(1,1,1))],groundLightingFactor:1,globalFactor:0}),this._bindParameters={slot:null,highlightDepthTexture:w(this._rctx),camera:I,inverseViewport:_(),origin:null,screenToWorldRatio:null,screenToWorldRatioGlobalWM:null,shadowMappingEnabled:!1,slicePlane:null,ssaoEnabled:!1,hasOccludees:!1,linearDepthTexture:null,linearDepthTextureID:0,lastFrameColorTexture:null,lastFrameColorTextureID:0,reprojectionMat:null,ssrEnabled:!1,lighting:this._lighting,transparencyPassType:3}}dispose(){this._handles.destroy(),this._layerRenderers.forEach((e=>e.dispose())),this._layerRenderers.clear(),this._bindParameters.highlightDepthTexture.dispose(),this._bindParameters.highlightDepthTexture=null,this._shaderTechniqueRepository.dispose(),this._shaderTechniqueRepository=null}get updating(){return this._sortedLayerRenderersDirty||y(this._layerRenderers,(e=>e.updating))||this.waterTextureRepository.updating}get hasOverlays(){return t(this._overlays)}get gpuMemoryUsage(){return t(this._overlays)?this._overlays[0].getGpuMemoryUsage()+this._overlays[1].getGpuMemoryUsage():0}get overlays(){return this._overlays}forEachOverlay(e){t(this._overlays)&&(e(this._overlays[0],0),e(this._overlays[1],1))}ensureOverlays(){if(r(this._overlays)){const e=this.renderView.renderingContext;this._overlays=[new U(e,0),new U(e,1)]}}disposeOverlays(){t(this._overlays)&&(this._overlays.forEach((e=>e.dispose())),this._overlays=null)}commitChanges(){let e=!1;this._layerRenderers.forEach(((t,r)=>{t.commitChanges()&&(e=!0),t.isEmpty&&(this._layerRenderers.delete(r),this._sortedLayerRenderersDirty=!0,this._handles.remove(r))})),this._sortedLayerRenderersDirty&&(this.updateSortedLayerRenderers(),e=!0),e&&(this.notifyChange(\"updating\"),this.emitContentChanged(),this.updateHasHighlights(),this.updateRendersOccluded(),this.updateHasWater())}addGeometries(e,t,r){for(const t of e)null==t.origin&&(t.origin=this._localOrigins.getOrigin(t.center)),t.uniqueName||(t.uniqueName=\"ov:\"+this._uniqueIdx++),this._geometries.set(t.uniqueName,t);this.ensureLayerRenderer(t).add(e),2===r&&this.notifyGraphicUpdate(e,t,2)}removeGeometries(e,t,r){for(const t of e)this._geometries.delete(t.uniqueName);const s=this._layerRenderers.get(t);s&&(s.remove(e),2===r&&this.notifyGraphicUpdate(e,t,2))}updateGeometries(e,t,r){const s=this._layerRenderers.get(t);s?(s.modify(e,r),this.notifyUpdateGeometries(e,t,r)):W.warn(\"Attempted to update geometry for nonexistent layer\")}notifyUpdateGeometries(e,t,r){const s=4===r||2===r?2:1===r?1:0;this.notifyGraphicUpdate(e,t,s)}notifyGraphicUpdate(e,t,s){if(0===s||r(t.notifyGraphicUpdate))return;let i=-1;for(const r of e){const e=r.data.graphicUid;e!==i&&(t.notifyGraphicUpdate(e,s),i=e)}}updateHighlights(e,t){const r=this._layerRenderers.get(t);r?r.modify(e,8):W.warn(\"Attempted to update highlights for nonexistent layer\")}isEmpty(){return 0===this._geometries.size&&!O.OVERLAY_DRAW_DEBUG_TEXTURE}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return this._rendersOccluded}updateLogic(e){let t=!1;return this._layerRenderers.forEach((r=>{r.updateLogic(e)&&(t=!0)})),t}updateLayerOrder(){this._sortedLayerRenderersDirty=!0}drawPass(e,r,i,n=0){if(0===i.numViews)return!1;if(this._screenToWorldRatio=i.pixelRatio*Math.abs(i.views[0].extent[2]-i.views[0].extent[0])/Math.abs(i.views[0].viewport[2]-i.views[0].viewport[0]),this.isEmpty()||5===e&&!this.hasHighlights||3===e&&!this.hasWater)return!1;if(!this.hasNonZeroSizedView(i))return!1;const o=i.width,a=i.height;if(!r.isValid())return!1;r.resize(o,a);const l=this._rctx;if(I.pixelRatio=i.pixelRatio||1,this._renderContext.pass=e,this._bindParameters.screenToWorldRatio=this._screenToWorldRatio,this._bindParameters.screenToWorldRatioGlobalWM=this._screenToWorldRatio*this.globalUnitScale,r.bind(l),l.setClearColor(0,0,0,0),l.clearSafe(16384),1===n&&(this._renderContext.renderOccludedMask=Y),O.OVERLAY_DRAW_DEBUG_TEXTURE&&1!==n)for(let e=0;e<i.numViews;e++)this.setViewParameters(i.views[e],I),this.drawDebugTexture(o,a,k[i.index%k.length]);return this._layerRenderers.size>0&&this._sortedLayerRenderers.forAll((({layerView:h,renderer:d})=>{if(2===n&&t(h)&&0===h.drapeSourceType)return;const u=t(h)&&t(h.fullOpacity)&&h.fullOpacity<1&&0===e;u&&(this.bindTemporaryFramebuffer(this._rctx,o,a),l.clearSafe(16384));for(let e=0;e<i.numViews;e++)this.setViewParameters(i.views[e],I),d.draw(this._renderContext,this._bindParameters);u&&t(this._temporaryRenderTarget)&&(r.bind(l),this._compositingHelper.composite(this._temporaryRenderTarget.getTexture(),2,s(s(h).fullOpacity)))})),l.bindFramebuffer(null),r.generateMipMap(),this._renderContext.resetRenderOccludedMask(),!0}bindTemporaryFramebuffer(e,t,s){r(this._temporaryRenderTarget)&&(this._temporaryRenderTarget=new L(e,\"temp\",0,!1)),this._temporaryRenderTarget.resize(t,s),this._temporaryRenderTarget.bind(e)}async reloadShaders(){await this._shaderTechniqueRepository.hotReload()}intersect(e,t,r){let s=0;this._geometries.forEach((i=>{if(r&&!r(i))return;this.intersectRenderGeometry(i,t,0,e,s);const n=this.longitudeCyclical;n&&(i.center[0]-i.bsRadius<n.min&&this.intersectRenderGeometry(i,t,n.range,e,s),i.center[0]+i.bsRadius>n.max&&this.intersectRenderGeometry(i,t,-n.range,e,s)),s++}))}intersectRenderGeometry(e,r,s,i,n){let o=0;t(e.transformation)&&(s+=e.transformation[12],o=e.transformation[13]),N[0]=r[0]-s,N[1]=r[1]-o,N[2]=1,B[0]=r[0]-s,B[1]=r[1]-o,B[2]=0,e.screenToWorldRatio=this._screenToWorldRatio,e.material.intersect(e,null,e.getShaderTransformation(),i,N,B,((t,r,s)=>{this.addIntersectionResult(s,e.material.renderPriority,n,i,e.data.layerUid,e.data.graphicUid)}),e.calculateShaderTransformation,!0)}addIntersectionResult(e,t,r,s,i,n){const o={type:\"external\",metadata:{layerUid:i,graphicUid:n}},a=i=>{i.set(o,null,s.results.ground.dist,s.results.ground.normal,s.results.ground.transformation,t,null,null,e,r),i.intersector=\"OverlayRenderer\"};if((null==s.results.min.drapedLayerOrder||t>=s.results.min.drapedLayerOrder)&&(null==s.results.min.dist||s.results.ground.dist<=s.results.min.dist)&&a(s.results.min),0!==s.options.store&&(null==s.results.max.drapedLayerOrder||t<s.results.max.drapedLayerOrder)&&(null==s.results.max.dist||s.results.ground.dist>s.results.max.dist)&&a(s.results.max),2===s.options.store){const e=new T(s.ray);a(e),s.results.all.push(e)}}stopAnimationsAtTime(e){this._sortedLayerRenderers.forAll((t=>t.renderer.stopAnimationsAtTime(e)))}ensureLayerRenderer(e){let t=this._layerRenderers.get(e);return t||(t=new G({rctx:this._rctx,materialRepository:this._materialRepository}),this._layerRenderers.set(e,t),this._sortedLayerRenderersDirty=!0,\"fullOpacity\"in e&&this._handles.add(e.watch(\"fullOpacity\",(()=>this.emitContentChanged())),e),this._handles.add(p(t,\"updating\",(()=>this.notifyChange(\"updating\"))),e)),t}updateSortedLayerRenderers(){if(!this._sortedLayerRenderersDirty)return;if(this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers.clear(),0===this._layerRenderers.size)return;const[{view:{allLayerViews:e}}]=this._layerRenderers.keys(),t=new Set(this._layerRenderers.values());e.forEach((e=>{const r=e,s=this._layerRenderers.get(r);s&&(this._sortedLayerRenderers.push(new z(r,s)),t.delete(s))})),t.forEach((e=>{this._sortedLayerRenderers.push(new z(null,e))}))}setViewParameters(e,t){t.viewport=e.viewport;const r=e.extent;c(t.projectionMatrix,0,r[2]-r[0],0,r[3]-r[1],t.near,t.far),g(t.viewMatrix),m(t.viewMatrix,t.viewMatrix,[-e.extent[0],-e.extent[1],0]),t.setGLViewport(this._rctx),this._renderContext.camera=t,this._bindParameters.camera=t,this._bindParameters.inverseViewport[0]=1/t.fullViewport[2],this._bindParameters.inverseViewport[1]=1/t.fullViewport[3]}hasNonZeroSizedView(e){for(let t=0;t<e.numViews;t++){const r=e.views[t];if(r.extent[0]!==r.extent[2]&&r.extent[1]!==r.extent[3])return!0}return!1}emitContentChanged(){this.onContentChanged&&this.onContentChanged()}updateHasWater(){const e=y(this._layerRenderers,(e=>e.hasWater));e!==this._hasWater&&(this._hasWater=e)}updateHasHighlights(){const e=y(this._layerRenderers,(e=>e.hasHighlights));e!==this._hasHighlights&&(this._hasHighlights=e,this.onHasHighlightsChanged&&this.onHasHighlightsChanged(this._hasHighlights))}updateRendersOccluded(){const e=y(this._layerRenderers,(e=>e.rendersOccluded));e!==this._rendersOccluded&&(this._rendersOccluded=e,this.onRendersOccludedChanged&&this.onRendersOccludedChanged(this.rendersOccluded))}drawDebugTexture(e,t,r){const s=this._rctx;this.ensureDebugPatternResources(e,t);const i=this._debugTextureTechnique.program;s.bindProgram(i),s.setPipelineState(this._debugTextureTechnique.pipeline),i.setUniform4f(\"color\",r[0],r[1],r[2],1),i.setUniform1i(\"tex\",0),s.bindTexture(this._debugPatternTexture,0),s.bindVAO(this._quadVAO),s.drawArrays(5,0,R(this._quadVAO,\"geometry\"))}ensureDebugPatternResources(e,t){if(this._debugPatternTexture)return;const r=new Uint8Array(e*t*4);let s=0;for(let i=0;i<t;i++)for(let n=0;n<e;n++){const o=Math.floor(n/10),a=Math.floor(i/10);o<2||a<2||10*o>e-20||10*a>t-20?(r[s++]=255,r[s++]=255,r[s++]=255,r[s++]=255):(r[s++]=255,r[s++]=255,r[s++]=255,r[s++]=1&o&&1&a?1&n^1&i?0:255:1&o^1&a?0:128)}this._debugPatternTexture=new f(this._rctx,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,width:e,height:t},r);const i=new S;i.hasAlpha=!0,this._debugTextureTechnique=this._shaderTechniqueRepository.acquireAndReleaseExisting(P,i,this._debugTextureTechnique),this._quadVAO=x(this._rctx)}get test(){return{layerRenderers:this._layerRenderers}}};e([j()],F.prototype,\"_shaderTechniqueRepository\",void 0),e([j()],F.prototype,\"_stippleTextureRepository\",void 0),e([n(),j()],F.prototype,\"waterTextureRepository\",void 0),e([n({constructOnly:!0})],F.prototype,\"renderView\",void 0),e([n()],F.prototype,\"globalUnitScale\",void 0),e([n({type:Boolean,readOnly:!0,dependsOn:[\"waterTextureRepository.updating\"]})],F.prototype,\"updating\",null),F=e([o(\"esri.views.3d.terrain.OverlayRenderer\")],F);class z{constructor(e,t){this.layerView=e,this.renderer=t}}const k=[[1,.5,.5],[.5,.5,1],[.5,1,.5]],I=new v;I.near=1,I.far=1e4,I.relativeElevation=null;const N=d(),B=d(),X=-2,Y=4;export{X as DRAPED_Z,F as OverlayRenderer,Y as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{Z as s,O as o}from\"../../../../chunks/vec4f64.js\";const c=1,r=1.2,t=s,a=o;export{r as SUSPEND_RESUME_EXTENT_OPTIMISM,t as TRANSPARENT_UNIT,a as WHITE_UNIT,c as defaultIconElevationOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{slice as t}from\"../../../../core/typedArrayUtil.js\";import{isNone as e,isSome as o,unwrapOr as n}from\"../../../../core/maybe.js\";import{acosClamped as r}from\"../../../../core/mathUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,n as s,d as f,a as c}from\"../../../../chunks/vec3.js\";import{projectBuffer as u}from\"../../../../geometry/projection.js\";import{pathsToTriangulationInfo as l}from\"../../../../geometry/support/triangulationUtils.js\";import{GeometryData as I}from\"../../webgl-engine/lib/GeometryData.js\";import{applyPerVertexElevationAlignment as p}from\"./elevationAlignmentUtils.js\";import{RibbonVertexAttributeConstants as d}from\"../../webgl-engine/shaders/RibbonLineTechnique.js\";import{DRAPED_Z as m}from\"../../terrain/OverlayRenderer.js\";import{WHITE_UNIT as T}from\"./constants.js\";function y(i){const u={},l={};!function(e,o,n){const{attributeData:{position:r},removeDuplicateStartEnd:i}=e,a=function(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}(r)&&1===i,s=r.length/3-(a?1:0),f=new Uint32Array(2*(s-1)),c=a?t(r,0,r.length-3):r;let u=0;for(let t=0;t<s-1;t++)f[u++]=t,f[u++]=t+1;o[d.POSITION]={size:3,data:c,offsetIdx:0,strideIdx:3},n[d.POSITION]=f}(i,l,u);const p=new Uint32Array(u[d.POSITION].length);return function(t,o,n){const r=t.attributeData.mapPosition;if(e(r))return;n.mapPos=n[d.POSITION],o.mapPos={size:3,data:r,offsetIdx:0,strideIdx:3}}(i,l,u),function(t,e,r,i){if(o(t.attributeData.colorFeature))return;const a=t.attributeData.color;e[d.COLOR]={size:4,data:n(a,T),offsetIdx:0,strideIdx:4},r[d.COLOR]=i}(i,l,u,p),function(t,e,r,i){if(o(t.attributeData.sizeFeature))return;const a=t.attributeData.size;e[d.SIZE]={size:1,data:new Float32Array([n(a,1)]),offsetIdx:0,strideIdx:1},r[d.SIZE]=i}(i,l,u,p),function(t,o,n,r){const i=t.attributeData.colorFeature;if(e(i))return;o[d.COLORFEATUREATTRIBUTE]={size:1,data:new Float32Array([i]),offsetIdx:0,strideIdx:1},n[d.COLOR]=r}(i,l,u,p),function(t,o,n,r){const i=t.attributeData.sizeFeature;if(e(i))return;o[d.SIZEFEATUREATTRIBUTE]={size:1,data:new Float32Array([i]),offsetIdx:0,strideIdx:1},n[d.SIZEFEATUREATTRIBUTE]=r}(i,l,u,p),function(t,o,n,r){const i=t.attributeData.opacityFeature;if(e(i))return;o[d.OPACITYFEATUREATTRIBUTE]={size:1,data:new Float32Array([i]),offsetIdx:0,strideIdx:1},n[d.OPACITYFEATUREATTRIBUTE]=r}(i,l,u,p),function(t,e,o){if(\"round\"!==t.join)return;const i=e[d.POSITION].data,u=i.length/3,l=new Float32Array(u),I=E,p=S;a(I,0,0,0);const m=n(t.uniformSize,1);for(let t=-1;t<u;++t){const e=t<0?u+t:t,o=(t+1)%u;if(a(p,i[3*o+0]-i[3*e+0],i[3*o+1]-i[3*e+1],i[3*o+2]-i[3*e+2]),s(p,p),t>=0){const e=1*((Math.PI-r(f(I,p)))*x)*A(m);l[t]=Math.max(Math.floor(e),0)}c(I,p,-1)}e[d.SUBDIVISIONS]={size:1,data:l,offsetIdx:0,strideIdx:1},o[d.SUBDIVISIONS]=o[d.POSITION]}(i,l,u),new I(l,u,\"line\")}function O(t,e,o,n){const r=\"polygon\"===t.type?1:0,i=\"polygon\"===t.type?t.rings:t.paths,{position:a,outlines:s}=l(i,t.hasZ,r),f=new Float64Array(a.length),c=p(a,t.spatialReference,0,f,0,a,0,a.length/3,e,o,n),u=null!=c;return{lines:u?g(s,a,f):[],projectionSuccess:u,sampledElevation:c}}function g(t,e,o){const n=new Array;for(const{index:r,count:i}of t){if(i<=1)continue;const t=3*r,a=t+3*i;n.push({position:e.subarray(t,a),mapPosition:o?o.subarray(t,a):void 0})}return n}function h(t,e){const o=\"polygon\"===t.type?1:0,n=\"polygon\"===t.type?t.rings:t.paths,{position:r,outlines:i}=l(n,!1,o),a=u(r,t.spatialReference,0,r,e,0,r.length/3);for(let t=2;t<r.length;t+=3)r[t]=m;return{lines:a?g(i,r):[],projectionSuccess:a}}function A(t){return 1.863798+-2.0062872/Math.pow(1+t/18.2313,.8856294)}const E=i(),S=i(),x=4/Math.PI;export{y as createGeometryData,O as geometryToRenderInfo,h as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/Accessor.js\";import{IdentifiableMixin as c}from\"../../../../core/Identifiable.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return r(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?s(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?s(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new u({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(s(this._resources))return;this.ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()}ensureRenderGeometriesRemoved(){var e;if(s(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1}ensureRenderGeometriesAdded(){if(s(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0}}let u=class extends(c(i)){constructor(e){super(e),this.drapeSourceType=1}};e([t({constructOnly:!0})],u.prototype,\"view\",void 0),e([t({readOnly:!0})],u.prototype,\"drapeSourceType\",void 0),u=e([o(\"DrapedVisualElementLayerView\")],u);export{a as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrap as t,isNone as r}from\"../../../../core/maybe.js\";import s from\"../../../../core/Evented.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,b as n,a as o}from\"../../../../chunks/vec3.js\";import{projectBuffer as l}from\"../../../../geometry/projection.js\";import{g as h,c}from\"../../../../chunks/vec4.js\";import{empty as d,expandWithBuffer as u,create as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{computeAttachmentOriginLines as f}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{ElevationContext as g}from\"../../layers/graphics/ElevationContext.js\";import _ from\"../../webgl-engine/lib/Geometry.js\";import{RibbonVertexAttributeConstants as y}from\"../../webgl-engine/shaders/RibbonLineTechnique.js\";import{RibbonLineMaterial as v}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import O from\"../../webgl-engine/lib/RenderGeometry.js\";import{geometryToRenderInfoDraped as w,createGeometryData as R,geometryToRenderInfo as b}from\"../../layers/graphics/lineUtils.js\";import{f as C,a as D}from\"../../../../chunks/vec4f32.js\";import{LaserlineVisualElement as j}from\"./LaserlineVisualElement.js\";import{VisualElementResources as E}from\"./VisualElementResources.js\";import{DrapedVisualElementResources as P}from\"./DrapedVisualElementResources.js\";class G{constructor(e){this.view=null,this._attachmentOrigin=p(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new s,this._isDraped=!1,this._geometry=null,this._width=1,this._color=C(1,0,1,1),this._innerWidth=0,this._innerColor=C(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=8,this.resources=new E({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this.recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=e.view.spatialReference,this.drapedResources=new P({view:e.view,createResources:()=>this.createDrapedResources(),recreateGeometry:e=>{e.geometries=this.createRenderGeometriesDraped(e.material),this.attachmentOriginChanged()}});let t=!0;this._laserline=new j({view:e.view});for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&e(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this.updateAttached(e)}updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this.attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){h(e,this._color)||(c(this._color,e),this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){h(e,this._innerColor)||(c(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.resources.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&h(e,this._stippleOffColor)||(this._stippleOffColor=e?D(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(t){this._laserlineStyle=t,this._laserline.attached=this.laserlineAttached,e(t)&&(this._laserline.style=t)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const r=e(this.resources.resources)?this.resources.resources.geometries:null;if(!r||0===r.length)return null;a(I,0,0,0);const s=y.POSITION;let i=0;for(const e of r){const r=e.getAttribute(s),a=e.getIndices(s),o=t(this.resources.resources).material.isClosed(r.data,a);f(r,a,o,M)&&(n(I,I,M),i++)}return 0===i?null:(o(I,I,1/i),this.view.renderCoordsHelper.fromRenderCoords(I,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}updateMaterial(){e(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters),e(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)}get isClosed(){return e(this.geometry)&&\"polygon\"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",stippleIntegerRepeats:!0,polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}recreateGeometry(e,t,r){const s=this.createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this.attachmentOriginChanged()}attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}createResources(e){const t=new v(this.materialParameters,\"lineVisualElement\"),r=[];return this.recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}createDrapedResources(){const e=new v(this.materialParameters,\"lineVisualElement\");return{material:e,geometries:this.createRenderGeometriesDraped(e)}}createRenderGeometriesDraped(e){const t=this.geometry;if(r(t))return[];const s=w(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:t}of s.lines){const r={attributeData:{position:t},removeDuplicateStartEnd:this.isClosed?1:0},s=new O(R(r));s.material=e;const n=d(A);u(n,t),a(s.center,.5*(n[0]+n[3]),.5*(n[1]+n[4]),0),s.bsRadius=.5*Math.sqrt((n[3]-n[0])*(n[3]-n[0])+(n[4]-n[1])*(n[4]-n[1])),i.push(s)}return i}calculateMapBounds(e){if(r(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.data.getAttribute(\"position\"),i=s.data,a=new Float64Array(i.length);l(s.data,t.spatialReference,0,a,this.view.spatialReference,0,i.length/3),u(e,a)}return!0}createRenderGeometries(){const e=this.geometry;if(r(e))return[];const t=b(e,this.view.elevationProvider,this.view.renderCoordsHelper,g.fromElevationInfo(this.elevationInfo)),s=[],i=[];for(const{position:e,mapPosition:r}of t.lines){const t={attributeData:{position:e,mapPosition:r},removeDuplicateStartEnd:this.isClosed?1:0},a=R(t);s.push(new _(a,\"geometryOutlineVisualElement\")),i.push(e)}return this._laserline.pathVerticalPlane=i,s}}const A=m(),M=i(),I=i();export{G as OutlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{getPointOnPath as t,getPathLength as r}from\"../../../../geometry/support/coordsUtils.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as o}from\"../../../../geometry/projection.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{containsPoint as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";import c from\"../../webgl-engine/lib/Object3D.js\";import{computeCentroid as l}from\"./graphicUtils.js\";import{applyElevationAlignmentForHUD as p,applyPerVertexElevationAlignment as m}from\"./elevationAlignmentUtils.js\";const u=n();function f(t,r,n,a,l,m,f,g,d,h,j){const y=n?n.length:0,v=t.clippingExtent;if(o(r,u,t.elevationProvider.spatialReference),e(v)&&!s(v,u))return null;const w=t.renderCoordsHelper.spatialReference;o(r,u,w);const x=t.localOriginFactory.getOrigin(u),b=new c({castShadow:!1,metadata:{layerUid:d,graphicUid:h,usesVerticalDistanceToGround:!0},idHint:g});for(let e=0;e<y;e++){const t=l?l[e]:i;b.addGeometry(n[e],a[e],t,m,x,j)}return{object:b,sampledElevation:p(b,r,t.elevationProvider,t.renderCoordsHelper,f)}}function g(e,t,r){const n=e.elevationContext,i=r.spatialReference;o(t,u,i),n.centerPointInElevationSR=a(u[0],u[1],t.hasZ?u[2]:0,i)}function d(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return l(e);case\"polyline\":{const n=e.paths[0];if(!n||0===n.length)return null;const o=t(n,r(n)/2);return a(o[0],o[1],o[2],e.spatialReference)}case\"mesh\":return e.extent.center}return null}function h(e,t,r,n,o){const i=new Float64Array(3*e.length),s=new Float64Array(i.length);e.forEach(((e,t)=>{i[3*t+0]=e[0],i[3*t+1]=e[1],i[3*t+2]=e.length>2?e[2]:0}));const a=m(i,t,0,s,0,i,0,i.length/3,r,n,o),c=null!=a;return{numVertices:e.length,position:i,mapPosition:s,projectionSuccess:c,sampledElevation:a}}export{f as createStageObjectForHUD,g as extendPointGraphicElevationContext,h as geometryToRenderInfo,d as placePointOnGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{a as r}from\"../../../../chunks/vec4f64.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as a,defaultDepthWriteParams as l,defaultColorWriteParams as d}from\"../../../webgl/renderState.js\";import{View as c}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as p}from\"../core/shaderLibrary/Slice.glsl.js\";import{blendingDefault as h,OITBlending as g,OITDepthWrite as m,OITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{ScreenSizeScaling as b}from\"../core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{S as f}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";class y extends t{initializeProgram(e){const r=y.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:i.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType});return new n(e.rctx,t.generateSource(\"vertex\"),t.generateSource(\"fragment\"),P)}bindPass(e,r,i){const{screenSizeEnabled:t,shadingEnabled:o}=this.configuration,{color:s,shadingTint:n,shadingDirection:a}=r;c.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"color\",s),o&&(this.program.setUniform4fv(\"shadedColor\",this.blendColor(E,n,s)),this.program.setUniform3fv(\"shadingDirection\",a),this.program.setUniformMatrix4fv(\"viewNormal\",i.camera.viewInverseTransposeMatrix)),t&&b.bindPassUniforms(this.program,r,i)}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}bindDraw(e){c.bindView(this.program,e),c.bindCamPosition(this.program,e.origin,e.camera.viewInverseTransposeMatrix),p.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e;return a({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?h:g(e),culling:(o=r.cullFace,0!==o&&{face:1===o?1028:1029,mode:2305}),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&l:m(e),colorWrite:d,polygonOffset:i||t?null:u});var o}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}y.shader=new i(f,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class S extends o{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.sliceHighlightDisabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3}}e([s({count:8})],S.prototype,\"output\",void 0),e([s({count:3})],S.prototype,\"cullFace\",void 0),e([s()],S.prototype,\"slicePlaneEnabled\",void 0),e([s()],S.prototype,\"sliceHighlightDisabled\",void 0),e([s()],S.prototype,\"transparent\",void 0),e([s()],S.prototype,\"writeDepth\",void 0),e([s()],S.prototype,\"screenSizeEnabled\",void 0),e([s()],S.prototype,\"shadingEnabled\",void 0),e([s({count:4})],S.prototype,\"transparencyPassType\",void 0);const v={POSITION:\"position\",NORMAL:\"normal\",OFFSET:\"offset\"},P={position:0,normal:1,offset:2},E=r();export{y as ShadedColorMaterialTechnique,S as ShadedColorMaterialTechniqueConfiguration,v as ShadedColorMaterialVertexAttrConstants,P as ShadedColorMaterialVertexAttrLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/vec3f64.js\";import{n as t,s as r,a as i,b as s}from\"../../../../chunks/vec3.js\";import{BufferViewVec3f as a}from\"../../support/buffer/BufferView.js\";import{center as n,scale as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{newLayout as c}from\"../../support/buffer/InterleavedLayout.js\";import{assert as u}from\"../lib/Util.js\";import h from\"../lib/GLMaterial.js\";import{intersectTriangleGeometry as l}from\"./internal/MaterialUtil.js\";import{Material as p,materialParametersDefaults as f}from\"../lib/Material.js\";import{writeDefaultAttributes as d,writePosition as m}from\"./internal/bufferWriterUtils.js\";import{ShadedColorMaterialTechniqueConfiguration as g,ShadedColorMaterialVertexAttrLocations as b,ShadedColorMaterialVertexAttrConstants as S,ShadedColorMaterialTechnique as E}from\"../shaders/ShadedColorMaterialTechnique.js\";export{ShadedColorMaterialVertexAttrConstants}from\"../shaders/ShadedColorMaterialTechnique.js\";class q extends p{constructor(e,t){super(t,e,F),this.supportsEdges=!0,this.techniqueConfig=new g,this._vertexAttributeLocations=b}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.screenSizeEnabled=this.params.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.params.shadingEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,t,a,c,u,h,p){if(this.params.screenSizeEnabled){const a=e.getAttribute(S.OFFSET),f={applyToVertex:(e,t,n,o)=>{const u=r(v,a.data[3*o+0],a.data[3*o+1],a.data[3*o+2]),h=r(C,e,t,n);return i(u,u,this.params.screenSize*c.camera.computeRenderPixelSizeAt(u)),s(h,h,u),[h[0],h[1],h[2]]},applyToAabb:e=>{const t=n(e,v);return o(e,this.params.screenSize*c.camera.computeRenderPixelSizeAt(t))}};l(e,t,c,u,h,f,p)}else l(e,t,c,u,h,void 0,p)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new T(e):void 0}createBufferWriter(){return new P(this.params.screenSizeEnabled)}}class T extends h{constructor(e){super(e),this.updateParameters()}updateParameters(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(E,this.material.getTechniqueConfig(this.output,e),this.technique)}beginSlot(e){if(4===this.output)return 3===e;let t=3;return this.technique.configuration.transparent&&(t=this.technique.configuration.writeDepth?5:8),e===t}ensureParameters(e){this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}}const F={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:t(e(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...f};class P{constructor(e){this.screenSizeEnabled=e;const t=c().vec3f(S.POSITION).vec3f(S.NORMAL);this.screenSizeEnabled&&t.vec3f(S.OFFSET),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices[S.POSITION].length}write(e,t,r,i){if(d(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,i),this.screenSizeEnabled){if(!(S.OFFSET in t.vertexAttr))throw new Error(`${S.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const s=t.vertexAttr[S.OFFSET],n=t.indices[S.OFFSET];u(3===s.size);const o=r.getField(S.OFFSET,a);if(!o)throw new Error(\"unable to acquire view for \"+S.OFFSET);m(n,s.data,e.invTranspTransformation,o,i)}}}}const v=e(),C=e();export{q as ShadedColorMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{s as r}from\"../../../../chunks/vec3.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import a from\"../../webgl-engine/lib/GeometryUtil.js\";import{ElevationContext as o}from\"../../layers/graphics/ElevationContext.js\";import l from\"../../webgl-engine/lib/Geometry.js\";import{geometryToRenderInfo as n}from\"../../layers/graphics/pointUtils.js\";import{Object3DVisualElement as u}from\"./Object3DVisualElement.js\";import{ShadedColorMaterialVertexAttrConstants as c}from\"../../webgl-engine/shaders/ShadedColorMaterialTechnique.js\";import{ShadedColorMaterial as h}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";import{settings as d}from\"../editingTools/settings.js\";class m extends u{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=d.colorToVec4(d.reshapeManipulators.vertex.color),this._size=d.reshapeManipulators.vertex.size,this._outlineColor=d.colorToVec4(d.reshapeManipulators.vertex.outlineColor),this._outlineSize=d.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial(),this.updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this.updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this.updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}updateMaterial(){this.attached&&this.vertexMaterial.setParameterValues(this.vertexMaterialParameters)}updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameterValues(this.vertexOutlineMaterialParameters)}createRenderGeometries(){const t=this.vertices;if(e(t)||0===t.length)return[];const i=n(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,o.fromElevationInfo(this.elevationInfo)),s=[],a=i.numVertices,u=i.position;for(let e=0;e<a;++e){const t=r(p,u[3*e+0],u[3*e+1],u[3*e+2]),i=new l(v(.5,16,16,t),\"VerticesVisualElement-vertex\"),a=new l(v(.5,16,16,t),\"VerticesVisualElement-vertexOutline\");s.push({vertexGeometry:i,vertexOutlineGeometry:a})}return s}createGeometries(e){const t=this.createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new h({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0},\"manipulator\"),this.vertexOutlineMaterial=new h({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1},\"manipulator-outline\")}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalResource(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const p=t();function v(e,t,r,i){const s=a.createSphereGeometry(e,t,r,{attributes:{position:c.OFFSET,uv:null}});return s.indices[c.POSITION]=new Uint32Array(s.indexCount),s.vertexAttributes[c.POSITION]={size:3,data:Float64Array.from(i),offsetIdx:0,strideIdx:3},s}export{m as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrapOr as t,isSome as i,isNone as r,unwrap as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import o from\"../../../../../core/Evented.js\";import l from\"../../../../../Graphic.js\";import c from\"../../../../../layers/GraphicsLayer.js\";import{getEffectiveElevationMode as h}from\"../../../../../support/elevationInfoUtils.js\";import{SceneDrawSurface as p}from\"./drawSurfaces.js\";import{DrawOperation as u}from\"./DrawOperation.js\";import{InteractiveToolBase as d}from\"../../../../interactive/InteractiveToolBase.js\";import{SnappingOptions as m}from\"../../../../interactive/snapping/SnappingOptions.js\";import{createViewAlignedCoordinateSystem as y,createSquare as v,createRectangle as g,createCircle as V,createEllipse as _,createPolygon as f,createPolyline as w}from\"../../../../draw/support/createUtils.js\";import{settings as E}from\"../settings.js\";import{OutlineVisualElement as O}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as G}from\"../../visualElements/VerticesVisualElement.js\";let b=class extends(o.EventedMixin(d)){constructor(e){super(e),this.drawOperation=null,this._createGraphic=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._stagedVerticesVisualElement=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=!1,this.snappingOptions=new m,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const e=t(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this._internalGraphicsLayer=new c({elevationInfo:e}),this.view.map.layers.add(this._internalGraphicsLayer),this.drawOperation=new u({view:this.view,manipulators:this.manipulators,geometryType:C(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new p(this.view,e,[this._internalGraphicsLayer]),hasM:!1,elevationInfo:e,snappingOptions:this.snappingOptions}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._destroyAllVisualisations(),this.view.map.remove(this._internalGraphicsLayer),this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}_getCreateGeometry(e,t=!1){if(null==this.drawOperation)return null;const r=i(e)?e:this.drawOperation.hasStagedVertex?this.drawOperation.numVertices-1:null,s=this.drawOperation.vertices;if(0===s.length)return null;const a=this.drawOperation.spatialReference,n=s,o=n.slice(),l=[];i(r)&&(o.splice(r,1),l.push(n[r]));const c={regularVertices:null,stagedVertices:null,full:null,outline:null},h=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":c.regularVertices=o,c.stagedVertices=l,c.full=this.drawOperation.coordinateHelper.createPointFromArray(s[0]);break;case\"polyline\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=w([n],a,h));break;case\"polygon\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=f([n],a,h,!0));break;case\"circle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+S*this.view.resolution,t[1]);c.full=V([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?V(s,e,this.centered):_(s,e,this.centered))}break;case\"rectangle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+S*this.view.resolution,t[1]);c.full=v([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?v(s,e,this.centered):g(s,e,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":break;case\"polyline\":n.length>1&&(c.outline=w([n],a,h));break;case\"polygon\":n.length>1&&(c.outline=f([n],a,h));break;case\"circle\":case\"rectangle\":i(c.full)&&\"polygon\"===c.full.type&&(c.outline=f(c.full.rings,a,h))}return c}_destroyAllVisualisations(){this._destroyCreateGraphic(),this._destroyOutlineVisualElement(),this._destroyVerticesVisualElement(),this._destroyStagedVerticesVisualElement()}_destroyCreateGraphic(){i(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),this._createGraphic.destroy(),this._createGraphic=null)}_destroyOutlineVisualElement(){i(this._outlineVisualElement)&&(this._outlineVisualElement.destroy(),this._outlineVisualElement=null)}_destroyVerticesVisualElement(){i(this._verticesVisualElement)&&(this._verticesVisualElement.destroy(),this._verticesVisualElement=null)}_destroyStagedVerticesVisualElement(){i(this._stagedVerticesVisualElement)&&(this._stagedVerticesVisualElement.destroy(),this._stagedVerticesVisualElement=null)}_updateCreateGraphic(e=null){const t=this._getCreateGeometry(e);if(r(t))return void this._destroyAllVisualisations();const a=this._internalGraphicsLayer.elevationInfo,n=\"on-the-ground\"===h(this.hasZ,a);i(t.outline)?r(this._outlineVisualElement)?(this._outlineVisualElement=new O({view:this.view,geometry:t.outline,elevationInfo:s(a),isDraped:n,attached:!1}),E.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),E.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=t.outline:this._destroyOutlineVisualElement(),i(t.regularVertices)?r(this._verticesVisualElement)?(this._verticesVisualElement=new G({view:this.view,spatialReference:this.view.spatialReference,vertices:t.regularVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=t.regularVertices:this._destroyVerticesVisualElement(),i(t.stagedVertices)?r(this._stagedVerticesVisualElement)?(this._stagedVerticesVisualElement=new G({view:this.view,spatialReference:this.view.spatialReference,vertices:t.stagedVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._stagedVerticesVisualElement.color=E.colorToVec4(E.reshapeManipulators.selected.color),this._stagedVerticesVisualElement.attached=!0):this._stagedVerticesVisualElement.vertices=t.stagedVertices:this._destroyStagedVerticesVisualElement(),i(t.full)?r(this._createGraphic)?(this._createGraphic=new l({geometry:t.full,symbol:this.createGraphicSymbol}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic),this.notifyChange(\"createGraphic\")):this._createGraphic.geometry=t.full:this._destroyCreateGraphic()}get createGraphic(){return this._createGraphic}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set centered(e){this._set(\"centered\",e),this._updateCreateGraphic()}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateCreateGraphic()}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this._updateCreateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateCreateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateCreateGraphic(),this.emit(\"vertex-update\",e)}onCursorUpdate(e){this._updateCreateGraphic(1===e.vertices.length?e.vertices[0].vertexIndex:null),this.emit(\"cursor-update\",e)}onComplete(e){this._updateCreateGraphic();let t=null;if(this.drawOperation.isCompleted){const e=this._getCreateGeometry(null,!0);i(e)&&(t=new l({geometry:e.full,symbol:this.createGraphicSymbol}))}this.emit(\"complete\",{graphic:t,...e})}};function C(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}e([a({constructOnly:!0,nonNullable:!0})],b.prototype,\"view\",void 0),e([a()],b.prototype,\"createGraphicSymbol\",void 0),e([a()],b.prototype,\"createGraphic\",null),e([a({value:!0})],b.prototype,\"enabled\",null),e([a({value:!0})],b.prototype,\"centered\",null),e([a({value:!0})],b.prototype,\"forceUniformSize\",null),e([a({constructOnly:!0})],b.prototype,\"hasZ\",void 0),e([a({nonNullable:!0})],b.prototype,\"defaultZ\",void 0),e([a({constructOnly:!0})],b.prototype,\"elevationInfo\",void 0),e([a()],b.prototype,\"snapToScene\",void 0),e([a()],b.prototype,\"snappingOptions\",void 0),e([a({constructOnly:!0})],b.prototype,\"mode\",void 0),e([a({constructOnly:!0})],b.prototype,\"geometryType\",void 0),e([a({readOnly:!0})],b.prototype,\"type\",void 0),b=e([n(\"esri.views.3d.interactive.editingTools.draw3D.DrawTool\")],b);const S=48;export{b as DrawGraphicTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";import{isSome as t,isNone as i,unwrapOr as s,unwrap as o}from\"../../../core/maybe.js\";import{once as n}from\"../../../core/accessorSupport/utils.js\";import r from\"../../../geometry/Point.js\";import\"../../../geometry.js\";import a from\"../../../core/Evented.js\";import{deg2rad as c}from\"../../../core/mathUtils.js\";import{createScreenPointArray as l,createRenderScreenPointArray3 as h,screenPointObjectToArray as d,castRenderScreenPointArray as _}from\"../../../core/screenUtils.js\";import{c as u,Z as g}from\"../../../chunks/vec3f64.js\";import{b as m,t as f,i as p,a as b,g as v,h as y,s as j,f as L}from\"../../../chunks/vec3.js\";import{getReferenceEllipsoid as S}from\"../../../geometry/projectionEllipsoid.js\";import{c as R,d as w,m as O,i as T}from\"../../../chunks/mat4.js\";import{containsPointObject as E}from\"../../../geometry/support/aaBoundingRect.js\";import{canProjectWithoutEngine as A,projectPoint as D,sphericalECEFToSphericalPCPF as I,computeLatLonToENURotation as P}from\"../../../geometry/projection.js\";import{a as F}from\"../../../chunks/mat3f64.js\";import{a as z}from\"../../../chunks/mat4f64.js\";import{f as k}from\"../../../chunks/mat3.js\";import{j as C}from\"../../../chunks/vec2.js\";import{getElevationAtPoint as M}from\"../support/ElevationProvider.js\";import{sv3d as x}from\"../support/stack.js\";import{ray as B,plane as V,lineSegment as W}from\"../support/geometryUtils.js\";import H from\"../webgl-engine/lib/Object3D.js\";import U from\"../webgl-engine/lib/Camera.js\";import{clonePoint as G}from\"../../../layers/graphics/hydratedFeatures.js\";import N from\"../webgl-engine/lib/Layer.js\";class Z{constructor(e){this.camera=new U,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=z(),this._worldFrame=null,this._renderLocation=u(),this._renderLocationDirty=!0,this._location=new r({x:0,y:0,z:0}),this._elevationAlignedLocation=new r,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=0,this._focused=!1,this.events=new a.EventEmitter,this._screenLocation={screenPointArray:l(),renderScreenPointArray:h(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayerId=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:n((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){q(e)&&(this._screenLocationDirty=!0),R(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=z()),function(e,t,i){switch(e.viewingMode){case\"local\":return T(i),!0;case\"global\":{const s=S(e.renderCoordsHelper.spatialReference);I(t,0,te,0,s.radius),P(c(te[1]),c(te[0]),i)}}}(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){G(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){G(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=t(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this.ensureScreenLocation(),this._screenLocation}ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(q(this._modelTransform)){const t=this._calculateModelTransformOffset(re);e=m(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,s){if(!this.available)return null;const o=d(t,J),n=this._getCollisionRadius(s),r=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(C(this.screenLocation.screenPointArray,o)<n*n)return this.screenLocation.renderScreenPointArray[2]+r;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),s=this._calculateObjectTransform(t,$),a=n*this.screenLocation.pixelSize,c=B.fromScreen(this.camera,o,Q);if(i(c))return null;for(const t of e){if(0===t.length)continue;const e=p(te,t[0],s);for(let i=1;i<t.length;i++){const o=p(ie,t[i],s),n=W.closestRayDistance2(W.fromPoints(e,o,K),c);if(null!=n&&n<a*a){const t=m(x.get(),e,o);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,o)}}break}case\"disc\":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:g,s=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(s,$),l=n*this.screenLocation.pixelSize,h=B.fromScreen(this.camera,o,Q);if(i(h))return null;const d=k(X,c),_=f(oe,e,d),u=p(ne,t,c);V.fromPositionAndNormal(u,_,ee);const m=se;if(V.intersectRay(ee,h,m)&&y(m,u)<l*l)return this.screenLocation.renderScreenPointArray[2]+r;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,s=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(s,$),c=n*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=B.fromScreen(this.camera,o,Q);if(i(l))return null;const h=k(X,a),d=f(oe,t,h),u=this._calculateModelTransformPosition(ne);V.fromPositionAndNormal(u,d,ee);const g=se;if(!V.intersectRay(ee,l,g))break;for(const t of e){if(0===t.length)continue;const e=p(te,t[0],a);for(let i=1;i<t.length;i++){const s=p(ie,t[i],a),o=W.distance2(W.fromPoints(e,s,K),g);if(null!=o&&o<c*c){const t=m(x.get(),e,s);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,s)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){if(!this.view._stage)return;const t=e.manipulator3D;if(this._engineLayerId=t.engineLayerId,i(this._engineLayerId)){const e=new N(\"manipulator-3d\",{isPickable:!1});this.view._stage.add(0,e),this.view._stage.addToViewContent([e.id]),this._engineLayerId=e.id,t.engineLayerId=e.id}t.engineLayerReferences=(t.engineLayerReferences||0)+1,this._materialIdReferences=t.materialIdReferences,i(this._materialIdReferences)&&(this._materialIdReferences=new Map,t.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),A(this._location.spatialReference,this.view.spatialReference)||(this.location=new r({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayerId=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){D(this.location,ae,e.spatialReference),E(e.extent,ae)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(i(this.elevationInfo))return!1;let t=null,o=0;const n=s(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=M(this.view.elevationProvider,e,\"ground\")||0;break;case\"relative-to-ground\":o=(M(this.view.elevationProvider,e,\"ground\")||0)+n;break;case\"relative-to-scene\":o=(M(this.view.elevationProvider,e,\"scene\")||0)+n;break;case\"absolute-height\":o=n}return(o!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=o,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=$;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?2:1)|(this.selected?8:4),o=this._noDisplayCount>0;for(const{stateMask:e,objects:n}of i){if(o){for(const e of n)e.setVisible(!1);continue}const i=!(0!=(15&e))||(s&e)==(15&e),r=!(0!=(65520&e))||(this.state&e)==(65520&e);if(i&&r)for(const e of n)e.setVisible(!0),e.objectTransformation=t;else for(const e of n)e.setVisible(!1)}}_ensureEngineResources(){if(i(this._engineResources)){const e=this.view._stage.getContent(0,o(this._engineLayerId)),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},n=new Map;this.renderObjects.forEach((e=>{const t=new H({idHint:\"manipulator\",castShadow:!1});s(t,e);const i=e.stateMask||0,o=n.get(i)||[];o.push(t),n.set(i,o)}));const r=[];n.forEach(((e,t)=>{r.push({stateMask:t,objects:e})})),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:e,layer:t,materials:s}=this._engineResources;s.forEach((e=>{const t=o(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(3,e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{e.forEach((e=>{t.addObject(e),this.view._stage.add(1,e)}))})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:t,layer:s,materials:n}=this._engineResources;t.forEach((({objects:e})=>{e.forEach((e=>{s.removeObject(e),this.view._stage.remove(1,e.id)}))})),n.forEach((e=>{const t=o(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(3,e.id),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(0,s.id),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,Y);return j(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return L(e,t,this.renderLocation)}_calculateObjectTransform(e,i){return w(i,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&O(i,i,this._worldFrame),O(i,i,this._modelTransform),i[12]+=this.renderLocation[0],i[13]+=this.renderLocation[1],i[14]+=this.renderLocation[2],i[15]=1,t(this._applyObjectTransform)&&this._applyObjectTransform(i),i}get test(){let e=!1;if(t(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function q(e){return 0!==e[12]||0!==e[13]||0!==e[14]}const J=l(),K=W.create(),Q=B.create(),X=F(),Y=z(),$=z(),ee=V.create(),te=u(),ie=u(),se=u(),oe=u(),ne=u(),re=u(),ae=new r({x:0,y:0,z:0,spatialReference:null});export{Z as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{f as r,c as n,i as o,n as i}from\"../../../chunks/vec3.js\";import{a}from\"../../../chunks/mat4.js\";import{b as c}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as m}from\"../support/stack.js\";import l from\"../webgl-engine/lib/GeometryUtil.js\";import{hydrateGeometry as u}from\"../../../layers/graphics/hydratedFeatures.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import g from\"../webgl-engine/lib/Geometry.js\";import{ColorMaterial as f}from\"../webgl-engine/materials/ColorMaterial.js\";import{Manipulator3D as h}from\"./Manipulator3D.js\";import{ShadedColorMaterial as j}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function d(e,t=4){const r=c(e[0],e[1],e[2],e.length>3?e[3]:1),n=e[3]<1;return new j({color:r,transparent:n,writeDepth:!0,cullFace:2,renderOccluded:t},\"manipulator\")}function w(e,t=4){const r=c(e[0],e[1],e[2],4===e.length?e[3]:1);return new f({color:r,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:t},\"manipulator-outline\")}function b(e,t,r){return new h({view:e,renderObjects:[{geometry:new g(l.createSphereGeometry(1,32,32),\"manipulator\"),material:d(c(t[0],t[1],t[2],null!=r?r:1))}]})}function y(e,t,i,c){const l=r(s.get(),e,i),u=O(l,n(s.get(),c,l),i,m.get());a(u,u);const p=o(s.get(),t,u);return Math.atan2(p[1],p[0])}function O(e,t,r,o){const a=i(s.get(),e),c=i(s.get(),t),m=n(s.get(),a,c);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=0,o[4]=c[0],o[5]=c[1],o[6]=c[2],o[7]=0,o[8]=m[0],o[9]=m[1],o[10]=m[2],o[11]=0,o[12]=r[0],o[13]=r[1],o[14]=r[2],o[15]=1,o}function k(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function v(r,n,o){const i=k(r,o);e(i)?n.elevationAlignedLocation=i:function(e,r){if(t(r))return;const n=p(r);if(t(n))return;e.location=u(n)}(n,o.geometry)}export{y as calculateInputRotationTransform,O as calculateTranslateRotateFromBases,d as createManipulatorMaterial,w as createManipulatorOutlineMaterial,b as createSphereManipulator,k as getGraphicAttachmentOrigin,v as placeAtGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import t from\"../../../../core/Evented.js\";let e=class extends t.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([o({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([o()],e.prototype,\"tracking\",void 0),r([o()],e.prototype,\"displaying\",void 0),r([o()],e.prototype,\"isDraped\",void 0),e=r([s(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";class e{constructor(){this.grabbingState=0,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(e){this.grabbingState=0,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,e.forEachManipulator(((e,s)=>{if(0===s&&(this.zManipulator=e),e instanceof i&&(e.selected&&(0===this.numSelected&&(this.firstSelected=e),this.numSelected++),t(this.firstGrabbedXY)&&e.grabbing&&1===s&&(this.firstGrabbedXY=e)),e.grabbing)switch(this.grabbingState|=1,s){case 0:this.grabbingState|=2;break;case 1:this.grabbingState|=4}}))}}export{e as ManipulatorState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as a,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{s,b as o,a as r}from\"../../../../chunks/vec3.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{LaserlineVisualElement as p}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as m}from\"../visualElements/ExtendedLineVisualElement.js\";import{Manipulator3D as h}from\"../Manipulator3D.js\";import{settings as u}from\"./settings.js\";import{OutlineVisualElement as d}from\"../visualElements/OutlineVisualElement.js\";import{ManipulatorState as g}from\"./ManipulatorState.js\";import{GraphicState as f}from\"../../layers/graphics/GraphicState.js\";function v(l){const{view:d,graphic:v}=l,b=new f({graphic:v}),S=y(l,b),j=[S,function(l,d,f){const{graphic:v,view:y}=l,b=[],S=c(v),j=\"on-the-ground\"===S.mode||!S.offset&&\"absolute-height\"!==S.mode,M=new g,G=new m({view:y,extensionType:u.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});u.visualElements.pointGraphics.shadowStyle.apply(G);const L=i(u.visualElements.heightPlaneAngleCutoff),D=new p({view:y,attached:!1,angleCutoff:L});u.visualElements.heightPlane.apply(D);let C=1,V=1;const k=()=>{if(M.update(l),!f.displaying||j&&(f.isDraped||!E(v)||!v.geometry.hasZ))return d.laserlineEnabled=!1,G.attached=!1,void(D.attached=!1);d.laserlineEnabled=!0;{const e=4&M.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==C&&(C=e,u.visualElements.lineGraphics.shadowStyle.apply(d,e),u.visualElements.pointGraphics.shadowStyle.apply(G,e))}{const e=2&M.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==V&&(V=e,u.visualElements.heightPlane.apply(D,e))}!function(t,a){const n=1===a.numSelected?a.firstSelected:a.numSelected>1&&e(a.firstGrabbedXY)?a.firstGrabbedXY:null;e(n)?(t.setStartEndFromWorldDownAtLocation(n.renderLocation),t.attached=!0):t.attached=!1}(G,M),function(t,a,n,i){if(i.numSelected>0){s(w,0,0,0);let e=0;t.forEachManipulator(((t,a)=>{1===a&&t.selected&&t instanceof h&&(o(w,w,t.renderLocation),e++)})),e>0?(n.heightManifoldTarget=r(w,w,1/e),n.attached=!0):n.attached=!1}else{const i=a.attachmentOrigin;e(i)&&t.view.renderCoordsHelper.toRenderCoords(i,w)?(n.heightManifoldTarget=w,n.attached=!0):n.attached=!1}}(l,d,D,M)};u.visualElements.zVerticalLine.apply(G),b.push(f.on(\"changed\",k),f.watch(\"displaying\",k),d.events.on(\"attachment-origin-changed\",k),a(G),a(D));const x=[],A=()=>{t(x).remove(),x.length=0,l.forEachManipulator((e=>x.push(e.events.on(\"grab-changed\",k)))),l.forEachManipulator((e=>x.push(e.events.on(\"select-changed\",k)))),k()};return A(),b.push(l.onManipulatorsChanged(A),n((()=>t(x)))),t(b)}(l,S.visualElement,b),d.maskOccludee(v),d.trackGraphicState(b)];return{visualElement:S.visualElement,remove:()=>t(j).remove()}}function y(e,n){const{view:i,graphic:l}=e,s=new d({view:i,geometry:E(l)?l.geometry:null,elevationInfo:c(l),attached:!1});u.visualElements.lineGraphics.shadowStyle.apply(s);const o=()=>{s.attached=n.displaying};u.visualElements.lineGraphics.outline.apply(s);const r=[n.watch(\"displaying\",o),n.watch(\"isDraped\",(e=>s.isDraped=e)),n.on(\"changed\",(()=>s.geometry=E(l)?l.geometry:null)),a(s)];return o(),{visualElement:s,remove:()=>t(r).remove()}}function E(t){return e(t.geometry)&&(\"polygon\"===t.geometry.type||\"polyline\"===t.geometry.type)}const w=l();export{y as createGeometryRepresentationVisualElement,v as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as n,refHandle as o}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../chunks/vec3.js\";import{init as s}from\"../../../../core/watchUtils.js\";import{containsXY as l}from\"../../../../geometry/support/aaBoundingRect.js\";import{projectVectorToVector as p,projectPointToVector as c}from\"../../../../geometry/projection.js\";import{create as m,empty as h,getMin as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{getGraphicEffectiveElevationInfo as g}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationAlignmentAtPoint as d}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as f}from\"../../layers/graphics/ElevationContext.js\";import{LaserlineVisualElement as v}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as y}from\"../visualElements/ExtendedLineVisualElement.js\";import{PointVisualElement as E}from\"../visualElements/PointVisualElement.js\";import{settings as w}from\"./settings.js\";import{ManipulatorState as j}from\"./ManipulatorState.js\";import{GraphicState as b}from\"../../layers/graphics/GraphicState.js\";function x(r){const{view:m,graphic:x}=r,A=new b({graphic:x}),C=[],M=function(t,i,r){const{view:a,graphic:p}=t,m=new E({view:a,geometry:S(p)?p.geometry:null,elevationInfo:g(p),attached:!1});return function(t,n,i,r){const a=()=>n.attached=i.displaying;(function(t,n,i,r){const{view:a,graphic:s}=t;let p=null;const m=()=>{e(p)&&(p.remove(),p=null),i.isDraped&&S(s)&&(p=function(e,t,n){const o=e.elevationProvider.spatialReference;c(t,L,o);const i=L[0],r=L[1];return e.elevationProvider.on(\"elevation-change\",(e=>{l(e.extent,i,r)&&n()}))}(a,s.geometry,(()=>{n.geometry=s.geometry})))},h=()=>{m(),n.geometry=S(s)?s.geometry:null};r.push(i.on(\"changed\",h),o((()=>p))),h()})(t,n,i,r),w.visualElements.pointGraphics.outline.apply(n),r.push(s(i,\"displaying\",a))}(t,m,i,r),r.push(n(m)),m}(r,A,C);return function(e,t,o,r){const{view:s,graphic:l}=e,c=new y({view:s,extensionType:w.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});w.visualElements.zVerticalLine.apply(c);const m=new v({view:s,intersectsLineInfinite:!0,attached:!1});w.visualElements.pointGraphics.shadowStyle.apply(m);const E=i(w.visualElements.heightPlaneAngleCutoff),b=new v({view:s,attached:!1,angleCutoff:E});w.visualElements.heightPlane.apply(b);const x=g(e.graphic),A=f.fromElevationInfo(x),C=\"on-the-ground\"===x.mode||!x.offset&&\"absolute-height\"!==x.mode,M=new j;let R=1,U=1;const D=()=>{M.update(e);const n=C&&(t.isDraped||!S(l)||!l.geometry.hasZ);let o=!0;if(!n&&S(l)){const e=l.geometry,t=d(l.geometry,s.elevationProvider,A,s.renderCoordsHelper);a(L,e.x,e.y,t),p(L,e.spatialReference,L,s.renderCoordsHelper.spatialReference),c.setStartEndFromWorldDownAtLocation(L),m.intersectsWorldUpAtLocation=L}else o=!1;{const e=2&M.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;e!==R&&(R=e,w.visualElements.heightPlane.apply(b,e))}{const e=h(P);!n&&t.displaying&&r.calculateMapBounds(e)&&p(u(e,L),s.spatialReference,L,s.renderCoordsHelper.spatialReference)?(b.heightManifoldTarget=L,b.attached=!0):b.attached=!1}{const e=4&M.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;e!==U&&(U=e,w.visualElements.pointGraphics.shadowStyle.apply(m,e))}const i=o&&t.displaying&&!n;m.attached=i,c.attached=i};o.push(t.watch([\"displaying\",\"isDraped\"],D),t.on(\"changed\",D)),e.forEachManipulator((e=>{o.push(e.events.on(\"grab-changed\",D))})),o.push(n(m)),o.push(n(c)),o.push(n(b)),D()}(r,A,C,M),C.push(m.trackGraphicState(A)),{visualElement:M,remove(){t(C).remove()}}}function S(t){return e(t.geometry)&&\"point\"===t.geometry.type}const L=r(),P=m();export{x as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as t}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as r}from\"./pointGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":return r(i);case\"polygon\":case\"polyline\":return t(i);default:return null}}export{i as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(70/3*2),P=160,i=.5,l=24,n=9,p=190,r=213,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{E as t}from\"./common.js\";function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(t,n,a,s,r){return t[0]=n,t[1]=a,t[2]=s,t[3]=r,t}function r(t,n){if(t===n){const a=n[1];t[1]=n[2],t[2]=a}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function u(t,n){const a=n[0],s=n[1],r=n[2],u=n[3];let o=a*u-r*s;return o?(o=1/o,t[0]=u*o,t[1]=-s*o,t[2]=-r*o,t[3]=a*o,t):null}function o(t,n){const a=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=a,t}function c(t){return t[0]*t[3]-t[2]*t[1]}function e(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return t[0]=s*c+u*e,t[1]=r*c+o*e,t[2]=s*i+u*f,t[3]=r*i+o*f,t}function i(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=Math.sin(a),e=Math.cos(a);return t[0]=s*e+u*c,t[1]=r*e+o*c,t[2]=s*-c+u*e,t[3]=r*-c+o*e,t}function f(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1];return t[0]=s*c,t[1]=r*c,t[2]=u*e,t[3]=o*e,t}function h(t,n){const a=Math.sin(n),s=Math.cos(n);return t[0]=s,t[1]=a,t[2]=-a,t[3]=s,t}function M(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function l(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function b(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function m(t,n,a,s){return t[2]=s[2]/s[0],a[0]=s[0],a[1]=s[1],a[3]=s[3]-t[2]*a[1],[t,n,a]}function p(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function d(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function x(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function w(n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return Math.abs(s-c)<=t*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(u-i)<=t*Math.max(1,Math.abs(u),Math.abs(i))&&Math.abs(o-f)<=t*Math.max(1,Math.abs(o),Math.abs(f))}function y(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function j(t,n,a,s){return t[0]=n[0]+a[0]*s,t[1]=n[1]+a[1]*s,t[2]=n[2]+a[2]*s,t[3]=n[3]+a[3]*s,t}let q=e,_=d;var v=Object.freeze({__proto__:null,copy:n,identity:a,set:s,transpose:r,invert:u,adjoint:o,determinant:c,multiply:e,rotate:i,scale:f,fromRotation:h,fromScaling:M,str:l,frob:b,LDU:m,add:p,subtract:d,exactEquals:x,equals:w,multiplyScalar:y,multiplyScalarAndAdd:j,mul:q,sub:_});export{m as L,u as a,o as b,n as c,c as d,e,h as f,f as g,M as h,a as i,l as j,b as k,p as l,v as m,d as n,x as o,w as p,y as q,i as r,s,r as t,j as u,q as v,_ as w};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function n(e,r,n,t){return[e,r,n,t]}function t(e,r){return new Float64Array(e,r,4)}var a=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t});export{r as a,t as b,e as c,n as f,a as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{cyclical2PI as n}from\"../../../support/mathUtils.js\";import{empty as e,expandPointInPlace as r,area as o,create as s}from\"../../../../../geometry/support/aaBoundingRect.js\";import{a}from\"../../../../../chunks/vec2f64.js\";import{o as c}from\"../../../../../chunks/vec2.js\";import{convexHull as i}from\"../../../../../geometry/geometryEngine.js\";import{f as m}from\"../../../../../chunks/mat2.js\";import{c as f}from\"../../../../../chunks/mat2f64.js\";import{dragGraphic as p,resetGraphic as l}from\"../../../../interactive/dragEventPipeline.js\";function u(t,n,e){const r=t.graphic,o=(t,e)=>n({action:t,graphic:r,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return e(((t,n,e)=>{n.next((t=>(\"start\"===t.action&&o(\"start\",t),t))).next(p(r)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&o(\"update\",t);break;case\"end\":o(\"end\",t)}return t})),e.next(l(r)).next((()=>{o(\"end\",{screenDeltaX:0,screenDeltaY:0})}))}))}function h(s){if(t(s)||\"polyline\"!==s.type&&\"polygon\"!==s.type)return 0;const a=i(s),f=a&&a.rings&&a.rings[0];if(!f)return 0;!function(t){let n=0,e=0;for(const r of t)n+=r[0],e+=r[1];n/=t.length,e/=t.length;for(const r of t)r[0]-=n,r[1]-=e}(f);const p=[];for(let t=0;t<f.length-1;t++){const e=Math.atan2(f[t+1][1]-f[t][1],f[t+1][0]-f[t][0]),r=n.normalize(e)%(Math.PI/2);p.push(r)}const l=p.sort(((t,n)=>t-n));let u=null,h=0,y=Number.POSITIVE_INFINITY,x=0;for(const t of l){if(t===u)continue;u=t,m(g,t),e(d);for(const t of f)c(j,t,g),r(d,j);const n=o(d);((n>y?y/n:n/y)>=.99&&t<h||n<y)&&(h=t,y=n),x=Math.max(x,n)}return y/x>=.95?0:h}const g=f(),d=s(),j=a();export{u as createGraphicMoveDragPipeline,h as primaryShapeOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this.forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this.forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this.forEachManipulator3D((t=>t.elevationInfo=a))}get available(){return this._available}set available(a){this._available=a,this.forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{b as s,i as e}from\"../../../../chunks/vec3.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{ray as a}from\"../../support/geometryUtils.js\";import{isInstanceHidden as o}from\"../materials/renderers/utils.js\";import{IntersectorOptions as n,IntersectorResults as h,IntersectorTransform as d,getVerticalOffsetObject3D as c,IntersectorResult as l}from\"./intersectorUtils.js\";class f{constructor(t){this.options=new n,this.results=new h,this.transform=new d,this.performanceInfo={queryDuration:0,numObjectsTested:0},this.tolerance=1e-5,this.verticalOffset=null,this._ray={origin:r(),direction:r()},this._rayEndPoint=r(),this._rayStartPointTransformed=r(),this._rayEndPointTransformed=r(),this.viewingMode=null==t?1:t}get ray(){return this._ray}get rayBeginPoint(){return this._ray.origin}get rayEndPoint(){return this._rayEndPoint}reset(t,r){this.resetWithRay(a.fromPoints(t,r,this._ray))}resetWithRay(t){t!==this._ray&&a.copy(t,this._ray),0!==this.options.verticalOffset?2===this.viewingMode?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,s(this._rayEndPoint,this._ray.origin,this._ray.direction),this._numObjectsTested=0,this.results.init(this._ray)}intersect(r,s,e,i,a,o){this.point=s,this.camera=e,this.filterPredicate=a,this.tolerance=null==i?1e-5:i;const n=c(this.verticalOffset),h=o?t=>{o(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};if(r&&r.length>0)for(const s of r){const r=s.getSpatialQueryAccelerator&&s.getSpatialQueryAccelerator();if(r)t(n)?r.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,h,n):r.forEachAlongRay(this._ray.origin,this._ray.direction,h),this.options.selectionMode&&this.options.hud&&r.forEachDegenerateObject(h);else{const t=s.getObjects();for(const r of t)h(r)}}this.sortResults()}intersectObject(r){this._numObjectsTested++;const s=r.geometryRecords;if(!s)return;const a=r.id,n=r.objectTransformation;let h;const d=c(this.verticalOffset);for(const c of s){const{geometry:s,material:f,instanceParameters:m}=c;if(o(m))continue;h=s.id,this.transform.setAndInvalidateLazyTransforms(n,c.getShaderTransformation()),e(this._rayStartPointTransformed,this._ray.origin,this.transform.inverse),e(this._rayEndPointTransformed,this._rayEndPoint,this.transform.inverse);const u=this.transform.transform;t(d)&&(d.objectTransform=this.transform),f.intersect(s,m,this.transform.transform,this,this._rayStartPointTransformed,this._rayEndPointTransformed,((s,e,o,n,d,c)=>{if(s>=0){if(t(this.filterPredicate)&&!this.filterPredicate(this._ray.origin,this._rayEndPoint,s))return;if(d)return void((null==this.results.hud.dist||s<this.results.hud.dist)&&this.results.hud.set(r,a,s,e,i,n,c,h,o));const f=t=>t.set(r,a,s,e,u,n,null,h,o);if((null==this.results.min.drapedLayerOrder||n>=this.results.min.drapedLayerOrder)&&(null==this.results.min.dist||s<this.results.min.dist)&&f(this.results.min),0!==this.options.store&&(null==this.results.max.drapedLayerOrder||n<this.results.max.drapedLayerOrder)&&(null==this.results.max.dist||s>this.results.max.dist)&&f(this.results.max),2===this.options.store){const t=new l(this._ray);f(t),this.results.all.push(t)}}}),c.shaderTransformation)}}sortResults(){this.results.all.sort(((t,r)=>t.dist!==r.dist?t.dist-r.dist:t.drapedLayerOrder!==r.drapedLayerOrder?(void 0!==t.drapedLayerOrder?t.drapedLayerOrder:Number.MAX_VALUE)-(void 0!==r.drapedLayerOrder?r.drapedLayerOrder:Number.MAX_VALUE):(void 0!==r.drapedLayerGraphicOrder?r.drapedLayerGraphicOrder:Number.MIN_VALUE)-(void 0!==t.drapedLayerGraphicOrder?t.drapedLayerGraphicOrder:Number.MIN_VALUE)))}}f.DEFAULT_TOLERANCE=1e-5;export{f as Intersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as n}from\"../../../../core/maybe.js\";import t from\"../../../../geometry/Point.js\";import\"../../../../geometry.js\";import{sign as o}from\"../../../../core/mathUtils.js\";import{screenPointObjectToArray as s,castScreenPointArray as c,createScreenPointArray as l}from\"../../../../core/screenUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{g as a,l as u,f as m,d,a as p,b as f,c as S}from\"../../../../chunks/vec3.js\";import{projectPoint as g}from\"../../../../geometry/projection.js\";import{getZForElevationMode as y,getGraphicEffectiveElevationInfo as j}from\"../../../../support/elevationInfoUtils.js\";import{sv2d as E}from\"../../support/stack.js\";import{ray as x,plane as w,vector as b}from\"../../support/geometryUtils.js\";import{TERRAIN_ID as v}from\"../../webgl-engine/lib/intersectorUtils.js\";import{Intersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{EventPipeline as P}from\"../../../interactive/dragEventPipeline.js\";function R(n,t){const o=i(),l=i();let a=!1;return i=>{if(\"start\"===i.action){const r=s(i.screenStart,c(E.get())),l=x.fromScreen(n.state.camera,r,G);e(l)&&(a=w.intersectRay(t,l,o))}if(!a)return null;const u=s(i.screenEnd,c(E.get())),m=x.fromScreen(n.state.camera,u,G);return r(m)?null:w.intersectRay(t,m,l)?{...i,renderStart:o,renderEnd:l,plane:t,ray:m}:null}}function C(n,t,o,s=null){let c=null;return i=>{if(\"start\"===i.action&&(c=n.sceneIntersectionHelper.intersectElevationFromScreen(l(i.screenStart.x,i.screenStart.y),t,o),e(c)&&e(s)&&!g(c,c,s)))return null;if(r(c))return null;const a=n.sceneIntersectionHelper.intersectElevationFromScreen(l(i.screenEnd.x,i.screenEnd.y),t,o);return e(a)?e(s)&&!g(a,a,s)?null:{...i,mapStart:c,mapEnd:a}:null}}function H(e,r,n,t=null){return C(e,n,y(r,e,n),t)}function U(e,r,n,t=null){return H(e,n,j(r),t)}function k(r,n,t,o){const s=n.toMap(r.screenStart,{include:[t]});return e(s)?U(n,t,s,o):null}function h(e,r,n){let t=null;const o=new P;return o.next(R(e,function(e,r){const n=D,t=q,o=w.create();e.renderCoordsHelper.worldUpAtPosition(r,n);const s=S(o,n,m(t,r,e.state.camera.eye));return S(s,s,n),w.fromPositionAndNormal(r,s,o)}(e,r))).next(T(e,r)).next(A(e,n)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function T(e,r){const n=i(),t=u(r);e.renderCoordsHelper.worldUpAtPosition(r,n);const s=i(),c=i(),l=s=>{if(m(s,s,r),b.projectPoint(n,s,s),\"global\"===e.viewingMode){u(s)*o(d(n,s))<.001-t&&m(s,p(s,n,.001),r)}return f(s,s,r),s};return e=>(e.renderStart=l(a(s,e.renderStart)),e.renderEnd=l(a(c,e.renderEnd)),e)}function A(r,n){const o=r.renderCoordsHelper;return r=>{const s=o.fromRenderCoords(r.renderStart,new t,n),c=o.fromRenderCoords(r.renderEnd,new t,n);return e(s)&&e(c)?{...r,mapStart:s,mapEnd:c}:null}}function F(r){let n=null;return t=>{switch(t.action){case\"start\":n=r.disableDisplay();break;case\"end\":case\"cancel\":e(n)&&(n.remove(),n=null)}return t}}function M(o,c=null){let a=null;const u=new I(o.state.mode);u.options.selectionMode=!0,u.options.store=0;const m=l(),d={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},p=i(),f=n(c,o.spatialReference),S=e=>{o.map.ground&&o.map.ground.opacity<1?d.exclude.add(v):d.exclude.delete(v),o.sceneIntersectionHelper.intersectIntersectorScreen(s(e,m),u,d);const r=u.results.min;let n;if(r.getIntersectionPoint(p))n=\"TerrainRenderer\"===r.intersector?0:1;else{if(!u.results.ground.getIntersectionPoint(p))return null;n=0}const c=new t({spatialReference:f});return o.renderCoordsHelper.fromRenderCoords(p,c),{location:c,surfaceType:n}};return n=>{if(\"start\"===n.action){const r=S(n.screenStart);a=e(r)?r.location:null}if(r(a))return null;const t=S(n.screenEnd);return e(t)?{...n,mapStart:a,mapEnd:t.location,surfaceType:t.surfaceType}:null}}const D=i(),q=i(),G=x.create();export{A as convertToMapCoordinates,F as hideManipulatorWhileDragging,T as projectToWorldUp,M as screenToMap3D,C as screenToMapXY,H as screenToMapXYAtLocation,k as screenToMapXYForGraphic,U as screenToMapXYForGraphicAtLocation,R as screenToRenderPlane,h as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import r from\"../../../../../core/Evented.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as o}from\"../../../../../chunks/vec3.js\";import s from\"../../../../../core/Handles.js\";import{w as n,i as l,x as p,m as u,r as h,p as m}from\"../../../../../chunks/mat4.js\";import{a as c}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as d}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as f,sm4d as _}from\"../../../support/stack.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import M from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as w}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as v,dragAtLocation as j,constrainToMapAxis as y,addScreenDelta as A}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as I}from\"../dragEventPipeline3D.js\";import{Manipulator3D as b}from\"../../Manipulator3D.js\";import{colors as x}from\"../settings.js\";import{DISC_RADIUS as T,DISC_HEIGHT as D,DISC_TRANSLATE_ARROW_OFFSET as P,DISC_TRANSLATE_ARROW_SIZE as k}from\"./config.js\";import{Manipulation as E}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as S}from\"./moveUtils.js\";class U extends E{constructor(t){super(),this._handles=new s,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this.createMaterial(),this._transparentMaterial=this.createMaterial(.5),this._angle=0,this._scale=1,this._radius=T,this._updateAfterDrag=!1,this.events=new r,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles.removeAll(),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){this._arrowManipulatorInfos.map((({manipulator:a})=>t(a,1)))}createGraphicDragPipeline(a,r){const e=a.graphic,i=d(e),o=t(e.geometry).spatialReference;return S(a,r,(t=>this.createDragPipeline(t,i,o)))}createDragPipeline(t,r,e){return a(this._arrowManipulatorInfos.map((({manipulator:a},i)=>v(a,((a,o,s,n,l)=>{const p=o.next((t=>({...t,manipulatorType:1}))).next(j(this._view,a.elevationAlignedLocation)).next(I(this._view,a.elevationAlignedLocation,r,e)).next(y(a.location,this.angle+(i+1)*Math.PI*.5)).next(A());t(a,p,s,n,l)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/T,i=k*e,s=Math.sqrt(i*i*3/4),h=g.createExtrudedTriangle(s,i/2,i/2,D);g.transformInPlace(h,n(_.get(),o(f.get(),0,-s/3,0)));const m=new M(h,\"move-xy-axis-arrow\");t.renderObjects=[{geometry:m,material:this._opaqueMaterial,stateMask:2},{geometry:m,material:this._transparentMaterial,stateMask:1}],t.radius=s/3*2*1.2;const c=l(_.get());p(c,r*Math.PI/2);const d=l(_.get());n(d,o(f.get(),0,P*e,0)),u(a,c,d)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=l(_.get());h(a,a,t,i(0,0,1));const r=m(_.get(),o(f.get(),this.displayScale,this.displayScale,this.displayScale)),e=l(_.get());u(e,r,a);for(const t of this._arrowManipulatorInfos){const a=u(_.get(),e,t.transform);t.manipulator.modelTransform=a}}_createArrowManipulator(t){const a=new b({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)}}),r={manipulator:a,transform:c()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}createMaterial(t=1){const a=e.toUnitRGBA(x.main);return a[3]*=t,new w({color:a,transparent:1!==t,cullFace:2,renderOccluded:2},\"graphic-transform\")}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{U as MoveXYAxisManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this.snap(this.lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}snap(n){const a=t(this.view)?this.view.toMap(n,{exclude:[]}):null;return t(a)&&t(this.view)&&(a.z=e(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this.snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../../chunks/vec3.js\";import r from\"../../../../../core/Handles.js\";import{p as s}from\"../../../../../chunks/mat4.js\";import{a as o}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as n}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as l,sm4d as p}from\"../../../support/stack.js\";import c from\"../../../webgl-engine/lib/GeometryUtil.js\";import m from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as u}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as h,dragAtLocation as d,addScreenDelta as _}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as f}from\"../dragEventPipeline3D.js\";import{Manipulator3D as g}from\"../../Manipulator3D.js\";import{colors as M}from\"../settings.js\";import{DISC_RADIUS as j,DISC_HEIGHT as y,GEOMETRY_SEGMENTS as S,DISC_COLLISION_RADIUS as v}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as w}from\"./moveUtils.js\";import{SnapToScene as b}from\"../snapping/SnapToScene.js\";class x extends T{constructor(t){super(),this._handles=new r,this._snapToScene=new b,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=j,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,1)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(e,i){const a=e.graphic,r=n(a),s=t(a.geometry).spatialReference;return w(e,i,(t=>this.createDragPipeline(t,r,s)))}createDragPipeline(t,e,i){const a=this._view;return h(this._manipulator,((r,s,o,n,l)=>{const p=s.next(d(a,r.elevationAlignedLocation)).next(f(a,r.elevationAlignedLocation,e,i)).next(this._snapToScene.createDragEventPipelineStep(a,e),this._snapToScene.next).next((t=>({...t,manipulatorType:1}))).next(_());t(r,p,o,n,l)}))}_updateManipulatorTransform(){const t=s(p.get(),a(l.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new g({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=new m(c.createCylinderGeometry(y,1,S,i(0,0,1),i(0,0,0)),\"graphic-transform-disc\"),e=s(o(),i(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:2},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:1}],this._manipulator.radius=v*(this._radius/j)}_createMaterial(t=1){const i=e.toUnitRGBA(M.main);return i[3]*=t,new u({color:i,transparent:1!==t,cullFace:2,renderOccluded:2},\"move-xy-disc\")}get test(){return{discManipulator:this._manipulator}}}export{x as MoveXYDiscManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{c as a,f as i}from\"../../../../../chunks/vec3f64.js\";import{w as o,f as s,n,d as l,c as m,a as p}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{t as u,e as h,s as d}from\"../../../../../chunks/mat4.js\";import{darken as f}from\"../../../../../core/colorUtils.js\";import{a as M}from\"../../../../../chunks/mat4f64.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import _ from\"../../../webgl-engine/lib/Geometry.js\";import{createManipulatorDragEventPipeline as y,addScreenDelta as j}from\"../../../../interactive/dragEventPipeline.js\";import{screenToZConstrained as v}from\"../dragEventPipeline3D.js\";import{Manipulator3D as w}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as z}from\"../../manipulatorUtils.js\";import{settings as b}from\"../settings.js\";import{DISC_RADIUS as k}from\"./config.js\";import{Manipulation as P}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as x}from\"./moveUtils.js\";class D extends P{constructor(t){super(),this._handles=new c,this._radius=k,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this.createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,0)}createGraphicDragPipeline(e,r){const a=t(e.graphic.geometry).spatialReference;return x(e,r,(t=>this.createDragPipeline(t,a)))}createDragPipeline(t,e){const r=this._view;return y(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:0}))).next(v(r,a.renderLocation,e)).next(j());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this.updateManipulator())}updateManipulator(){const t=this._radius/k,e=b.zManipulator.height*t,r=b.zManipulator.coneHeight*t,a=b.zManipulator.coneWidth*t,o=b.zManipulator.width*t,s=[i(0,0,0),i(0,0,e)],n=new _(g.createTubeGeometry(s,o/2,16,!1),\"move-z\"),l=g.createConeGeometry(r,a/2,16,!1),m=new _(l),p=[i(0,0,0),i(0,0,e+r)],c=(t=>{const r=M();if(u(r,r,[0,0,e]),h(r,r,Math.PI/2),t){const e=1+2*t/a;d(r,r,[e,e,e])}return r})(0),y=(t,e)=>{const r=f(b.zManipulator.color,e);return[r.r/255,r.g/255,r.b/255,b.zManipulator.color.a*t]},j=z(y(1,.25),1),v=z(y(1,0),1),w=z(y(.7,0),b.zManipulator.renderOccluded),P=z(y(.85,0),b.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:m,transform:c,material:j,stateMask:1},{geometry:n,material:j,stateMask:1},{geometry:m,transform:c,material:v,stateMask:2},{geometry:n,material:v,stateMask:2},{geometry:m,transform:c,material:w,stateMask:1},{geometry:n,material:w,stateMask:1},{geometry:m,transform:c,material:P,stateMask:2},{geometry:n,material:P,stateMask:2}],this._manipulator.radius=o/2+2,this._manipulator.collisionType={type:\"line\",paths:[p]}}createManipulator(){const t=new w({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,a=E;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,a);const i=o(e.eye,a),c=e.computeRenderPixelSizeAtDist(i),u=s(O,a,e.eye);n(u,u);const h=U;this._view.renderCoordsHelper.worldUpAtPosition(E,h);const d=Math.abs(l(u,h)),f=m(O,u,h),M=m(O,f,h),g=r(d,.01,1),_=1-Math.sqrt(1-g*g)/g/e.fullWidth,y=this._radius/k,j=b.zManipulator.width*y;p(M,n(M,M),(1/_-1)*i+c*j),t[12]-=O[0],t[13]-=O[1],t[14]-=O[2]},this._manipulator=t,this.updateManipulator()}}const E=a(),O=a(),U=a();export{D as MoveZManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/has.js\";import{isSome as a}from\"../../../../../core/maybe.js\";import{handlesGroup as t}from\"../../../../../core/handleUtils.js\";import e from\"../../../../../core/Handles.js\";import{DISC_RADIUS_SMALL as n,DISC_RADIUS as s}from\"./config.js\";import{Manipulation as o}from\"./Manipulation.js\";import{MoveXYAxisManipulation as r}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as l}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as p}from\"./MoveZManipulation.js\";class h extends o{constructor(i){super(),this._handles=new e,this._angleDeferred=null,this._interactive=!0;const{tool:a,view:t,snapToScene:n,radius:s}=i;this._view=t,this.xyManipulation=new l({tool:a,view:t,snapToScene:n,radius:s}),this.xyAxisManipulation=new r({tool:a,view:t,radius:s}),this.zManipulation=new p({tool:a,view:t,radius:s}),this.xyManipulation.available=i.xyAvailable,this.xyAxisManipulation.available=i.xyAxisAvailable,this.zManipulation.available=i.zAvailable,this.autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this.updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,a){return t([this.xyManipulation.createGraphicDragPipeline(i,a),this.xyAxisManipulation.createGraphicDragPipeline(i,a),this.zManipulation.createGraphicDragPipeline(i,a)])}createDragPipeline(i,a,e){return t([this.xyManipulation.createDragPipeline(i,a,e),this.xyAxisManipulation.createDragPipeline(i,a,e),this.zManipulation.createDragPipeline(i,e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this.updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,1))),this.xyAxisManipulation.forEachManipulator((a=>i(a,1))),this.zManipulation.forEachManipulator((a=>i(a,0)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}autoHideXYAxis(){const t=this.xyAxisManipulation,e=this.xyManipulation;if(i(\"esri-mobile\"))return;const n=[];e.forEachManipulator((i=>n.push(i))),t.forEachManipulator((i=>n.push(i)));const s=()=>{const i=[];this.xyAxisVisible?a(this._angleDeferred)&&(this.angle=this._angleDeferred()):t.forEachManipulator((a=>i.push(a.disableDisplay()))),this._handles.remove(u),this._handles.add(i,u)};for(const i of n)this._handles.add(i.events.on(\"focus-changed\",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch(\"latestPointerType\",s)),s()}updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const t=a(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!t&&t.length>0&&t.some((i=>\"icon\"===i.type))?n:s}}const u=\"disable-xy-axis-display\";export{h as MoveManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import i from\"../../../../../core/Handles.js\";import{createManipulatorDragEventPipeline as e,addMapDelta as r,addScreenDelta as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{screenToMapXYForGraphic as s}from\"../dragEventPipeline3D.js\";import{Manipulation as n}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as l}from\"./moveUtils.js\";class h extends n{constructor(t){super(),this._handles=new i,this._view=t.view,this._tool=t.tool,this._graphicState=t.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,1)}createGraphicDragPipeline(t){return l(this._graphicState,t,(t=>this.createDragPipeline(t)))}createDragPipeline(i){const o=this._view,n=this._graphicState.graphic,l=t(n.geometry)?n.geometry.spatialReference:null;return e(this._manipulator,((t,e,h,p,c)=>{const m=e.next(s(c,o,n,l)).next(r()).next(a());i(t,m,h,p,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new o({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{h as MoveXYGraphicManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrap as e,isSome as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Collection.js\";import l from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as p}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as h}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{dragGraphicMany as c,resetGraphicMany as m}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as u}from\"../../../../interactive/InteractiveToolBase.js\";import{getGraphicAttachmentOrigin as d}from\"../../manipulatorUtils.js\";import{isSupportedGraphic as g}from\"./isSupportedGraphic.js\";import{canMoveZ as v}from\"../manipulatorUtils.js\";import{OutlineVisualElement as f}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as M}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as y}from\"../visualElementUtils.js\";import{DISC_RADIUS as _}from\"../manipulations/config.js\";import{primaryShapeOrientation as j}from\"../manipulations/moveUtils.js\";import{MoveManipulation as w}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as b}from\"../manipulations/MoveXYGraphicManipulation.js\";class x{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class E{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type=\"graphic-move\"}}class A{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let S=class extends(n.EventedMixin(u)){constructor(t){super(t),this.graphics=new r,this.enableZ=!0,this.type=\"move-3d\",this._toolHandles=new l,this._handles=new l}initialize(){this._toolHandles.add([this.graphics.on(\"change\",(()=>this._refreshManipulators()))]),this._refreshManipulators()}destroy(){this._handles.destroy(),this._handles=null,this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set(\"view\",null)}reset(){}_refreshManipulators(){this._handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>0===g(t))).map((t=>new D(t)));t.length&&(this.createManipulators(t),this.createVisualElements(t),this._handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this.updateMoveManipulation(t))}createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new b({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this._handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this._handles.add(e.manipulationXY.createDragPipeline(((e,i,a)=>this.buildDragEventPipeline(e,i,a,t))))}this.createMoveManipulation(t)}createMoveManipulation(t){const i=new w({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?w.radiusForSymbol(t[0].graphic.symbol):_});this._moveManipulation=i,i.elevationInfo={mode:\"absolute-height\",offset:0},i.forEachManipulator((t=>{this._handles.add(t.events.on(\"immediate-click\",(e=>{i.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...e,graphic:this.graphics.getItemAt(0)}),e.stopPropagation()})))}));const a=()=>this.updateMoveManipulation(t);for(const e of t)this._handles.add([e.state.on(\"changed\",a),e.state.watch(\"displaying\",a)]);const o=t[t.length-1];this._handles.add(o.state.on(\"changed\",(()=>this.updateMoveManipulationAngle(o)))),this._handles.add(i.createDragPipeline(((e,i,a)=>{this.buildDragEventPipeline(e,i,a,t)}),p(o.graphic),e(o.graphic.geometry).spatialReference)),this.updateMoveManipulationAngle(o)}createVisualElements(t){for(const e of t){const i=e.graphic,o=y({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>a()});e.geometryRepresentation=o.visualElement,e.geometryRepresentation instanceof f&&this._handles.add([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.state.isDraped||this.updateMoveManipulation(t)})),e.state.watch(\"isDraped\",(()=>this.updateMoveManipulation(t)))]),this._handles.add(o)}}updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>j(t.graphic.geometry)}updateMoveManipulation(t){const e=h(0,0,0,this.view.spatialReference);let a=0,o=!1;const s=this._moveManipulation;for(const s of t){if(!s.state.displaying)continue;const t=s.state.graphic;this.enableZ&&v(t)&&(o=!0);const n=s.geometryRepresentation instanceof f&&!s.state.isDraped?s.geometryRepresentation.attachmentOrigin:d(this.view,t);i(n)&&(e.x+=n.x,e.y+=n.y,e.z+=n.z,a++)}a>0?(e.x/=a,e.y/=a,e.z/=a,s.location=e,s.xyManipulation.available=!0,s.xyAxisManipulation.available=!0,s.zManipulation.available=o):s.available=!1}buildDragEventPipeline(t,e,i,a){const o=[],s=[];let n=null,r=null;const l=()=>{for(const t of o)t.dragging=!1;o.length=0,s.length=0,n=null,r=null,this._moveManipulation.interactive=!0};e.next((e=>{if(\"start\"===e.action){o.length=0,s.length=0;for(const e of a)e.dragging||!e.manipulationXY.hasManipulator(t)&&e.manipulationXY.grabbing||(o.push(e),s.push(e.graphic),e.dragging=!0);if(0!==s.length&&(this._moveManipulation.interactive=!1,n=c(s),r=m(s),this.emit(\"graphic-move-start\",new x(s)),this.destroyed))return null}return 0!==s.length?e:null})).next((t=>n(t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,o=i.y-e.y;if(this.emit(\"graphic-move\",new E(a,o,s)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}})),i.next((t=>r(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}))}};t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"view\",void 0),t([o({readOnly:!0})],S.prototype,\"graphics\",void 0),t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"enableZ\",void 0),t([o({readOnly:!0})],S.prototype,\"type\",void 0),S=t([s(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],S);class D{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new M({graphic:t})}get graphic(){return this.state.graphic}}export{E as GraphicMoveEvent,x as GraphicMoveStartEvent,A as GraphicMoveStopEvent,S as GraphicMoveTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,destroyMaybe as i,isNone as a,unwrap as o}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{handlesGroup as n}from\"../../../../../core/handleUtils.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import l from\"../../../../../core/Evented.js\";import{s as p,b as h,a as u}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{init as d}from\"../../../../../core/watchUtils.js\";import{getGraphicEffectiveElevationInfo as m}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as g}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{sv3d as _}from\"../../../support/stack.js\";import v from\"../../../webgl-engine/lib/GeometryUtil.js\";import M from\"../../../webgl-engine/lib/Geometry.js\";import{EditGeometry as y}from\"../editGeometry/EditGeometry.js\";import{EditGeometryHelper as f}from\"../editGeometry/EditGeometryHelper.js\";import{addMapDelta as x,createManipulatorDragEventPipeline as b,dragAtLocation as S}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingContext as E}from\"../../../../interactive/snapping/SnappingAlgorithm.js\";import{SnappingEngine as G}from\"../../../../interactive/snapping/SnappingEngine.js\";import{screenToMapXYForGraphicAtLocation as w}from\"../dragEventPipeline3D.js\";import{Manipulator3D as H}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as I,createManipulatorOutlineMaterial as O,placeAtGraphic as P}from\"../../manipulatorUtils.js\";import{canMoveZ as V}from\"../manipulatorUtils.js\";import{settings as D}from\"../settings.js\";import{OutlineVisualElement as j}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as k}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as A}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as U}from\"../manipulations/config.js\";import{primaryShapeOrientation as L}from\"../manipulations/moveUtils.js\";import{MoveManipulation as T}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as z}from\"../manipulations/MoveXYGraphicManipulation.js\";let C=class extends l.EventedAccessor{constructor(e){super(e),this._vertexManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.vertex.color),D.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.vertex.outlineColor),D.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.vertex.hoverOutlineColor),D.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.edge.color),D.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.edge.outlineColor),D.reshapeManipulators.edge.renderOccluded),this._selectedManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.selected.color),D.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.selected.outlineColor),D.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.selected.hoverOutlineColor),D.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._handles=new c,this._manipulatorHandles=new c,this._manipulatorInfos=[],this._reshapeHelper=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=0,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._vertexLaserLineVisualElement=null,this.snappingEngine=new G(e.tool.snappingOptions)}initialize(){const e=new k({graphic:this.graphic});this._graphicState=e,this._handles.add([e.watch(\"displaying\",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._clear(),this._handles.destroy(),this.snappingEngine.destroy()}get inputGeometry(){return t(this._reshapeHelper)?this._reshapeHelper.geometry:null}set inputGeometry(e){this._recreateManipulators(e)}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZ(){return this.tool.enableZ}get enableMoveGraphic(){return this.tool.enableMoveGraphic}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_clear(){this._moveManipulation=i(this._moveManipulation),this._graphicMoveManipulation=i(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[],this._reshapeHelper=null,this._numGrabbing=0,this._numDragging=0}_recreateManipulators(e=this.inputGeometry){if(this._clear(),a(e))return;this._reshapeHelper=new Y(y.fromGeometry(e,this.view.viewingMode),e.type);const t=m(this.graphic);for(const e of this._reshapeHelper.data.components){for(const i of e.vertices)this._createPerVertexManipulator(i,t);for(const i of e.edges)this._createPerVertexManipulator(i,t)}this._createGraphicMoveManipulators(t)}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return;const i=[],a=this._manipulatorInfos.some((e=>\"vertex\"===e.handle.type&&e.manipulator.selected)),n=1===e&&a,r=o(this._reshapeHelper);for(const e of this._manipulatorInfos)\"vertex\"===e.handle.type&&(e.manipulator.grabbing||n&&!e.manipulator.selected||(o(r).moveVertices([e.handle],t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ),i.push(e.handle.pos),this._updateManipulatorPosition(e)));if(0===i.length)return;let s=0;for(const e of this._manipulatorInfos)\"vertex\"===e.handle.type&&s++;this.outputGeometry=r.geometry;if(i.length===s){if(this._updateEventState(1),this.destroyed)return;if(this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic}),this.destroyed)return}else{if(this._updateEventState(2),this.destroyed)return;if(this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic}),this.destroyed)return}}isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)F(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(2),this.destroyed)return;const t=e.mapDeltaX,i=e.mapDeltaY,a=e.mapDeltaZ;if(!t&&!i&&!a)return;const n=[];for(const t of this._manipulatorInfos)F(t)&&(t.manipulator.selected&&!t.manipulator.grabbing||t===e.info)&&n.push(t);const r=o(this._reshapeHelper);for(const e of n)r.moveVertices([e.handle],t,i,a);this.outputGeometry=r.geometry;for(const e of n)this._updateManipulatorPosition(e);this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){this._graphicMoveManipulation=new z({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic?this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((e,t,i)=>{t.next((e=>this._trackNumDragging(e))).next((e=>{this._perGraphicManipulatorDragAction(0,e)})),i.next(this._cancelDragOperation())}))):this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null})),this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\"),e.stopPropagation()}))]))),this._moveManipulation=new T({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&V(this.graphic),snapToScene:!1,radius:T.radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this._handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\"),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const i=o(this.graphic.geometry).spatialReference;let a=null;this._handles.add([this._moveManipulation.createDragPipeline(((i,n,r,s)=>{n.next((e=>this._trackNumDragging(e))).next((i=>{if(\"start\"===i.action){const t=this._manipulatorInfos.filter((e=>F(e)&&e.manipulator.selected));if(1===i.manipulatorType&&1===t.length){const i=t[0].handle;a=new E(o(this._reshapeHelper),this.view,e,s,i)}}return t(a)&&(i.mapEnd=this.snappingEngine.snap(i.mapEnd,a)),\"end\"===i.action&&(this.snappingEngine.doneSnapping(),a=null),i})).next(x()).next((e=>{this._perGraphicManipulatorDragAction(1,e)})),r.next(this._cancelDragOperation())}),e,i),d(this._graphicState,\"displaying\",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on(\"changed\",(()=>this._updateMoveManipulationPosition())),d(this._graphicState,\"isDraped\",(()=>{const e=\"align-move-manipulation\";this._graphicState.isDraped?this._handles.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this._handles.remove(e)}))]),this._updateMoveManipulationPosition();const n=A({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){t(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,1);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});this._outlineVisualElement=n.visualElement instanceof j?n.visualElement:null,t(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch(\"isDraped\",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(n)}_createPerVertexManipulator(e,t=m(this.graphic)){if(a(this._vertexManipulatorGeometry)||a(this._vertexManipulatorOutlineGeometry)){const e=D.reshapeManipulators.vertex,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._vertexManipulatorGeometry=new M(v.createSphereGeometry(a,16,16),\"reshape-manipulator\");const o=(t+e.outlineSize)/i;this._vertexManipulatorOutlineGeometry=new M(v.createSphereGeometry(o,16,16),\"reshape-manipulator-outline\")}if(a(this._edgeManipulatorGeometry)||a(this._edgeManipulatorOutlineGeometry)){const e=D.reshapeManipulators.edge,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._edgeManipulatorGeometry=new M(v.createSphereGeometry(a,16,16),\"reshape-manipulator\");const o=(t+e.outlineSize)/i;this._edgeManipulatorOutlineGeometry=new M(v.createSphereGeometry(o,16,16),\"reshape-manipulator-outline\")}const i=new H({view:this.view,renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:4|X.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:5|X.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|X.Vertex},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:6|X.Edge},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|X.Edge},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:5|X.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:5|X.Edge},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(i,e,t);const o=\"edge\"===e.type?{manipulator:i,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:i,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(o),this.manipulators.add(i),this._updateManipulatorPosition(o),\"edge\"===o.type){const e=this._getManipulatorInfoFromHandle(o.handle.left).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(o))),t=this._getManipulatorInfoFromHandle(o.handle.right).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(o)));o.locationUpdateHandle=n([e,t]),this._manipulatorHandles.add(o.locationUpdateHandle,i)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(i,!0),i);const r=b(i,((e,i,a,n)=>{i.next((e=>this._trackNumDragging(e))).next((e=>R(o)?{...e,info:this._splitEdgeManipulator(o)}:{...e,info:o})).next(S(this.view,e.elevationAlignedLocation)).next(w(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference)).next(this._snapDrag(t,n)).next(x()).next((e=>{this._perVertexManipulatorDragAction(e)})),a.next(this._cancelDragOperation())}));return this._manipulatorHandles.add(r,i),this._manipulatorHandles.add([i.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,o))),i.events.on(\"select-changed\",(()=>{o.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))]),this.emit(\"manipulators-changed\"),i}_snapDrag(e,i){let a=null;const n=o(this._reshapeHelper);return o=>{if(\"start\"===o.action&&(this.isMultiVertexSelection()||(a={context:new E(n,this.view,e,i,o.info.handle),originalPos:n.data.coordinateHelper.createDehydratedPoint(o.info.handle.pos)})),t(a)){const e={...a.originalPos};e.x+=o.mapEnd.x-o.mapStart.x,e.y+=o.mapEnd.y-o.mapStart.y;const t=this.snappingEngine.snap(e,a.context);o.mapEnd.x=t.x+(o.mapStart.x-a.originalPos.x),o.mapEnd.y=t.y+(o.mapStart.y-a.originalPos.y)}return\"end\"===o.action&&(this.snappingEngine.doneSnapping(),a=null),o}}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_cancelDragOperation(){const e=t(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return()=>{switch(this._numDragging--,this.inputGeometry=e,this.outputGeometry=e,this.snappingEngine.doneSnapping(),this._reshapeEventState){case 0:break;case 1:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}this.destroyed||this._updateEventState(0)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=X.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=D.reshapeManipulators.vertex.size/2+D.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i;break;case\"edge\":e.state=X.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=D.reshapeManipulators.edge.size/2+D.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"===i.mode?i:{mode:\"absolute-height\",offset:0}}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{if(\"start\"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const i=o(this._reshapeHelper);if(\"vertex\"===e.handle.type)e.manipulator.location=i.data.coordinateHelper.toPoint(e.handle.pos,N),e.manipulator.grabbing&&t(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.handle.type){const a=this._getManipulatorInfoFromHandle(e.handle.left).manipulator,o=this._getManipulatorInfoFromHandle(e.handle.right).manipulator;if(t(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const t=a.location,n=o.location,r=.5,s=t.x+r*(n.x-t.x),l=t.y+r*(n.y-t.y),p=t.hasZ&&n.hasZ?0:void 0;e.manipulator.location=g(s,l,p,i.geometry.spatialReference)}else{const t=a.elevationAlignedLocation,n=o.elevationAlignedLocation,r=.5,s=t.x+r*(n.x-t.x),l=t.y+r*(n.y-t.y),p=t.hasZ&&n.hasZ?t.z+r*(n.z-t.z):void 0;e.manipulator.elevationAlignedLocation=g(s,l,p,i.geometry.spatialReference)}}}_splitEdgeManipulator(e){const t=o(this._reshapeHelper),i=o(t.splitEdge(e.handle,.5).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const a=e;a.handle=i,a.type=\"vertex\";const n=m(this.graphic);this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,n),i.left&&this._createPerVertexManipulator(i.left),i.right&&this._createPerVertexManipulator(i.right),this.outputGeometry=t.geometry,this._updateManipulatorPosition(a),this._updateSelection(e.manipulator);const r=this._updateEventState(2),s=t.data.coordinateHelper.toArray(a.handle.pos),l=t.data.components.indexOf(i.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:o(i.index)}],added:s}),r&&this._updateEventState(0),a}_updateMoveManipulationPosition(){const e=_.get();p(e,0,0,0);let i=0,n=!1,r=null,s=null;for(const t of this._manipulatorInfos)F(t)&&(t.manipulator.selected?(i++,h(e,e,t.manipulator.renderLocation),a(r)||t.selectedIndex>r.selectedIndex?(s=r,r=t):(a(s)||t.selectedIndex>s.selectedIndex)&&(s=t)):n=!0);if(0!==i){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==i}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic)}if(0!==i){let e=0;if(t(r)){const i=r.handle.pos,a=t(s)?s.handle.pos:r.handle.left&&r.handle.left.left?r.handle.left.left.pos:null,o=!t(s)&&r.handle.right&&r.handle.right.right?r.handle.right.right.pos:null;a&&o?this._moveManipulation.xyAxisManipulation.available=!1:a?e=Z(a,i):o&&(e=Z(i,o))}this._moveManipulation.angle=e,this._moveManipulation.radius=U}else this._moveManipulation.angleDeferred=()=>L(o(this.graphic.geometry)),this._moveManipulation.radius=T.radiusForSymbol(this.graphic.symbol);0!==i&&n?(u(e,e,1/i),N.spatialReference=o(this._reshapeHelper).geometry.spatialReference,N.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,N),this._moveManipulation.elevationAlignedLocation=N):t(this._outlineVisualElement)&&!this._graphicState.isDraped&&t(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:P(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=o(this._reshapeHelper);for(const a of e)if(\"vertex\"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.left)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.right));const e=o(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createPerVertexManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.data.components.indexOf(e.component);return{coordinates:i.data.coordinateHelper.toArray(e.pos),componentIndex:t,vertexIndex:o(e.index)}}));this.outputGeometry=i.geometry;const a=this._updateEventState(2);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),\"vertex\"===t.handle.type&&2===e.button&&this._removeVertices([t]),R(t)&&0===e.button&&this._splitEdgeManipulator(t),e.stopPropagation()}};function Z(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function F(e){return\"vertex\"===e.handle.type}function R(e){return\"edge\"===e.handle.type}e([r({constructOnly:!0})],C.prototype,\"tool\",void 0),e([r()],C.prototype,\"inputGeometry\",null),e([r()],C.prototype,\"outputGeometry\",void 0),C=e([s(\"esri.views.3d.interactive.editingTools.graphicReshape3D.ReshapeOperation\")],C);const N=g(0,0,null,null);var X;!function(e){e.Vertex=16,e.Edge=32}(X||(X={}));class Y extends f{constructor(e,t){super(e,t),this.type=t,this._geometry=null}get geometry(){if(this._dirty){switch(this.type){case\"polyline\":this._geometry=this.data.toPolyline();break;case\"polygon\":this._geometry=this.data.toPolygon()}this._dirty=!1}return this._geometry}}export{Y as ReshapeGeometryHelper,C as ReshapeOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,isNone as r}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import s from\"../../../../../core/Evented.js\";import p from\"../../../../../core/Handles.js\";import{init as a}from\"../../../../../core/watchUtils.js\";import{InteractiveToolBase as n}from\"../../../../interactive/InteractiveToolBase.js\";import{SnappingOptions as h}from\"../../../../interactive/snapping/SnappingOptions.js\";import{isSupportedGraphic as c}from\"./isSupportedGraphic.js\";import{ReshapeOperation as m}from\"./ReshapeOperation.js\";let l=class extends(s.EventedMixin(n)){constructor(e){super(e),this._handles=new p,this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZ=!0,this.enableMoveGraphic=!0,this.type=\"reshape-3d\",this.snappingOptions=new h}destroy(){this._handles.removeAll(),this._reshapeOperation&&(this._reshapeOperation.destroy(),this._reshapeOperation=null),this._set(\"view\",null),this._set(\"graphic\",null)}get selectionManagementDisabled(){return!0}_updateGeometry(){const e=this.graphic.geometry;0!==c(this.graphic)||!t(e)||\"polygon\"!==e.type&&\"polyline\"!==e.type?this._reshapeOperation.inputGeometry=null:this._reshapeOperation.inputGeometry=e.clone()}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),0!==c(this.graphic))return;const e=this.watch(\"graphic.geometry\",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,\"onGraphicGeometryChange\")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_onReshapeGeometryChanged(){r(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)}initialize(){this._reshapeOperation=new m({tool:this}),this._handles.add([this._reshapeOperation.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),this._reshapeOperation.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),this._reshapeOperation.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),this._reshapeOperation.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),this._reshapeOperation.on(\"immediate-click\",(()=>this.emit(\"immediate-click\"))),a(this,\"graphic\",(()=>{this._updateGraphic()}),!0)])}beforeUndo(){this._reshapeOperation.snappingEngine.doneSnapping()}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}};e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"view\",void 0),e([o({constructOnly:!0})],l.prototype,\"graphic\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableZ\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableMoveGraphic\",void 0),e([o({readOnly:!0})],l.prototype,\"type\",void 0),e([o()],l.prototype,\"snappingOptions\",void 0),l=e([i(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],l);export{l as GraphicReshapeTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../../core/maybe.js\";import{addFrameTask as a}from\"../../../../../core/scheduling.js\";import i from\"../../../../../core/Evented.js\";import{clamp as o}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray as s,createScreenPointArray as r}from\"../../../../../core/screenUtils.js\";import{b as n,f as l,c}from\"../../../../../chunks/vec3f64.js\";import{a as h}from\"../../../../../chunks/common.js\";import{s as g,f as d,l as m,h as u,c as p,b as f}from\"../../../../../chunks/vec3.js\";import{cyclicalPI as D}from\"../../../support/mathUtils.js\";import M from\"../../../../../core/Handles.js\";import{init as y}from\"../../../../../core/watchUtils.js\";import{i as S,r as b,p as R,m as v,s as w}from\"../../../../../chunks/mat4.js\";import{a as k}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as _}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as j,sm4d as A}from\"../../../support/stack.js\";import{plane as F,ray as I}from\"../../../support/geometryUtils.js\";import E from\"../../../webgl-engine/lib/GeometryUtil.js\";import P from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as L}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as T,resetSymbol as U}from\"../../../../interactive/dragEventPipeline.js\";import{screenToRenderPlane as O}from\"../dragEventPipeline3D.js\";import{Manipulator3D as x}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as z,placeAtGraphic as C}from\"../../manipulatorUtils.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as N,SCALE_INDICATOR_DIRECTION_BUFFER as Z,RING_HEIGHT as G,ROTATE_INDICATOR_ARROW_TIP_LENGTH as H,ROTATE_INDICATOR_ARROW_TIP_RADIUS as V,RING_THICKNESS as q,DRAG_THRESHOLD_PX as B,RING_RESET_ANIMATION_SPEED_FACTOR as J,RING_INDICATOR_DELAY_MS as K,INDICATOR_THICKNESS as Q,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as W,HANDLE_COLOR as X,RING_RADIUS as Y,ROTATE_INDICATOR_ARC_LENGTH as $,INNER_INDICATOR_RADIUS as tt,OUTER_INDICATOR_RADIUS as et,SCALE_INDICATOR_OFFSET1 as at,SCALE_INDICATOR_OFFSET2 as it,GEOMETRY_SEGMENTS as ot,SCALE_INDICATOR_ARC_LENGTH as st}from\"../manipulations/config.js\";var rt;!function(t){t.ScaleIn=32,t.ScaleOut=64,t.RotateLeft=128,t.RotateRight=256,t.Unlocked=1024,t.DelayedFocused=2048,t.TouchInput=32768}(rt||(rt={}));class nt{constructor(e){this.mode=null,this._handles=new M,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new i,this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>t(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this._scaleRotateDragData.scale:1,this.tool=e.tool,this.mode=e.mode,this.createManipulator(),this.updateDragState(),this.updateManipulatorTransform()}destroy(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles.removeAll(),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=a({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)}forEachManipulator(t){t(this.ringManipulator,2)}createManipulator(){this.ringManipulator=this.createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const a=this.ringManipulator,i=this.tool.graphicState.graphic,s=T(a,((a,s,r)=>{this._scaleRotateDragData=null;const l=function(t,a){const i=t.allLayerViews.find((t=>t.layer===a.layer));if(e(a.symbol))return null;const o=a.symbol;return{symbolLayers:o.symbolLayers.map((t=>{let e=null,a=null;return\"object\"===t.type&&(e=t.heading),a=i.getSymbolLayerSize(o,t),{heading:e,size:a}})).toArray()}}(this.tool.view,i);if(e(l))return this.updateDragState(),null;const c={mode:\"none\",origin:n(a.renderLocation),angle:0,startAngle:this.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,startSymbolData:l};this._scaleRotateDragData=c,this.updateDragState();const h=j.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(a.renderLocation,h),s.next(O(this.tool.view,F.fromPositionAndNormal(a.renderLocation,h))).next((e=>{const a=F.normal(e.plane),s=z(e.renderStart,e.renderEnd,c.origin,a),r=D.shortestSignedDiff(c.angle,s);c.angleDir=o(c.angleDir+r,-N,N),c.angle=s;const n=function(t,e){const a=d(j.get(),e.renderStart,t.origin),i=d(j.get(),e.renderEnd,t.origin),o=m(a),s=m(i);if(0===o)return 0;return s/o}(c,e),l=n-c.scale;if(c.scaleDir=o(c.scaleDir+l,-Z,Z),c.scale=n,this.onScaleChanged(),\"none\"===c.mode){const a=this.mode||function(t,e,a,i){const{renderStart:o,renderEnd:s}=t,r=lt(o,i,j.get()),n=lt(s,i,j.get());if(u(r,n)<B*B)return null;const l=d(j.get(),o,a),c=p(j.get(),l,e),h=o,g=f(j.get(),h,c),m=lt(a,i,j.get()),D=r,M=lt(g,i,j.get()),y=d(j.get(),M,D),S=d(j.get(),r,m),b=I.wrap(D,y),R=I.wrap(m,S);if(I.distance2(b,n)<I.distance2(R,n))return\"rotate\";return\"scale\"}(e,e.plane,c.origin,this.tool.view.state.camera);if(t(a)){switch(a){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:i,scale:c.scale})}c.mode=a}}if(this.updateDragState(),t(i.symbol)){const t=i.symbol.clone();let e=0,a=1;switch(c.mode){default:case\"none\":break;case\"scale\":a=c.scale;break;case\"rotate\":e=c.angle}this.applySymbolData(t,c.startSymbolData,e,a),i.symbol=t,this.updateManipulatorTransform()}switch(e.action){case\"start\":case\"update\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:i,scale:c.scale})}break;case\"end\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:c.scale});break;default:case\"none\":}}\"end\"===e.action&&(this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState())})),r.next(U(i)).next((()=>{if(t(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:this._scaleRotateDragData.startAngle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:1})}this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null}}))}));this._handles.add(s),this._handles.add([this.ringManipulator.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(function(t,e){let a=0,i=null;const o=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=o,a=0,e()},update:t=>(a+=t,!i()||a>K?1:0),destroy:()=>{t.getFocused=i,e()}}}(this,(()=>this.updateDelayedFocusedState()))):this.updateDelayedFocusedState()})),this.ringManipulator.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),y(this.tool.graphicState,\"displaying\",(t=>this.ringManipulator.available=t)),this.tool.graphicState.on(\"changed\",(()=>C(this.tool.view,this.ringManipulator,i)))]),C(this.tool.view,this.ringManipulator,i)}onScaleChanged(){this.events.emit(\"scale-changed\"),this.updateManipulatorTransform()}updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(rt.DelayedFocused,this.getFocused())}updateDragState(){if(this.ringManipulator.updateStateEnabled(rt.Unlocked,!(t(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),t(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut,!1),this.ringManipulator.updateStateEnabled(rt.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(rt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this.ringManipulator.updateStateEnabled(rt.RotateLeft|rt.RotateRight,!1),this.ringManipulator.updateStateEnabled(rt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(rt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut|rt.RotateLeft|rt.RotateRight,!1)}updateManipulatorTransform(){const t=S(A.get()),e=this.tool.symbolRotationAngle;b(t,t,e,l(0,0,1));const a=this.getScale(),i=R(A.get(),g(j.get(),a,a,a)),o=S(A.get());v(o,i,t),this.ringManipulator.modelTransform=o}createRingManipulator(){const t=(t,e,a)=>{const i=[],o=Math.ceil(ot*(e-t)/(2*Math.PI));for(let s=0;s<o+1;s++){const r=t+s*(e-t)/o;i.push(l(a*Math.cos(r),a*Math.sin(r),0))}return i},e=e=>t(0,2*Math.PI,e),a=(t,e)=>new P(E.createPathExtrusionGeometry((t=>[[-t/2,0],[t/2,0],[t/2,G/2],[-t/2,G/2]])(e),t,[],[],!1),\"graphic-transform-ring\"),i=e(Y),o=a(i,q),s={left:[],right:[]},r=[];for(let e=0;e<2;e++){const i=e*Math.PI-Math.PI/4,o=Math.PI/2-$,n=i+o,l=i+Math.PI/2-o,c=t(n,l,tt),h=a(c,Q);r.push(c),r.push(t(n,l,et-q/2)),s.left.push(h),s.right.push(h);for(let t=0;t<2;t++){const e=0===t,a=k();if(e){w(a,a,[1,-1,1]),b(a,a,-n,[0,0,1]);const t=Math.round(W*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}else{b(a,a,l,[0,0,1]);const t=Math.round((1-W)*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}const i=E.createExtrudedTriangle(H,0,V,G);E.transformInPlace(i,a);const o=new P(i,\"graphic-transform-ring-rotate\");(e?s.left:s.right).push(o)}}const n=[];for(let e=0;e<2;e++){const i=e*Math.PI-Math.PI/4,o=Math.PI/2-st,s=i+o,r=i+Math.PI/2-o,l=t(s,r,et);n.push(a(l,Q))}const c=e(Y+at),h=e(Y+it),g=a(c,Q),d=a(h,Q),m=e(Y-at),u=e(Y-it),p=a(m,Q),f=a(u,Q),D=this.createMaterial(),M=this.createMaterial(.66),y=this.createMaterial(.5),S=this.createMaterial(.33);let R=[{geometry:o,material:D,stateMask:rt.DelayedFocused},{geometry:o,material:y,stateMask:0}];this.mode&&\"scale\"!==this.mode||(R=R.concat([{geometry:n,material:D,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:g,material:M,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:d,material:S,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:p,material:M,stateMask:rt.DelayedFocused|rt.ScaleOut},{geometry:f,material:S,stateMask:rt.DelayedFocused|rt.ScaleOut}])),this.mode&&\"rotate\"!==this.mode||(R=R.concat([{geometry:s.right,material:D,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:s.left,material:D,stateMask:rt.DelayedFocused|rt.RotateLeft},{geometry:s.right,material:D,stateMask:rt.DelayedFocused|rt.RotateRight}]));const v=[i,...r];return new x({view:this.tool.view,renderObjects:R,autoScaleRenderObjects:!1,worldOriented:!0,radius:q,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:_(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:v,direction:l(0,0,1)}})}createMaterial(t=1){const e=[...X,t];return new L({color:e,transparent:1!==t,cullFace:2,renderOccluded:2},\"graphic-transform\")}applySymbolData(e,a,i,o){e.symbolLayers.forEach(((e,s)=>{const{heading:r,size:n}=a.symbolLayers[s];\"object\"===e.type&&(e.heading=(t(r)?r:0)-h(i),t(n)&&\"width\"in n&&(n.width=this.enforceNonZeroSize(n.width),n.height=this.enforceNonZeroSize(n.height),n.depth=this.enforceNonZeroSize(n.depth),e.width=n.width*o,e.depth=n.depth*o,e.height=n.height*o))}))}enforceNonZeroSize(t){return t||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)}get test(){return{ringManipulator:this.ringManipulator}}}function lt(t,e,a){const i=e.projectToRenderScreen(t,s(ht)),o=e.renderToScreen(i,gt);return g(a,o[0],o[1],0)}function ct(t,e){let a=null,i=1;const o=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=o,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*J,1),e(),Math.abs(i-1)<.01?1:0),destroy:()=>{t.getScale=a,e()}}}const ht=c(),gt=r();export{nt as GraphicScaleRotateTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as a,isNone as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as e}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import{t as r}from\"../../../../../chunks/common.js\";import l from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{InteractiveToolBase as c}from\"../../../../interactive/InteractiveToolBase.js\";import{placeAtGraphic as p}from\"../../manipulatorUtils.js\";import{canMoveZ as m}from\"../manipulatorUtils.js\";import{GraphicState as u}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as d}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as g}from\"../manipulations/config.js\";import{MoveManipulation as v}from\"../manipulations/MoveManipulation.js\";import{GraphicScaleRotateTransform as y}from\"./GraphicScaleRotateTransform.js\";let M=class extends(n.EventedMixin(c)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type=\"transform-3d\",this.handles=new l,this.scaleRotate=null}initialize(){if(this.graphicState=new u({graphic:this.graphic}),this.moveManipulation=new v({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&m(this.graphic),radius:v.radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>t.stopPropagation()))))),this.moveManipulation.elevationInfo=h(this.graphic),this.moveManipulation.createGraphicDragPipeline(this.graphicState,(t=>{const{action:a,graphic:i,dxScreen:e,dyScreen:o}=t,s={graphic:i,dxScreen:e,dyScreen:o};switch(a){case\"start\":this.emit(\"graphic-translate-start\",s);break;case\"update\":this.emit(\"graphic-translate\",s);break;case\"end\":this.emit(\"graphic-translate-stop\",s)}})),this.moveManipulation.angle=this.symbolRotationAngle,this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this.scaleRotate=new y({tool:this,mode:t}),this.handles.add(this.scaleRotate.events.on(\"scale-changed\",(()=>this.onScaleChanged())))}this.handles.add([d({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>e()}),this.graphic.watch(\"symbol\",(()=>this.updateMoveAngle())),this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this.updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this.onGeometryChanged()}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),a(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this.forEachManipulator((a=>a.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&m(this.graphic)}))}destroy(){this.handles.destroy(),this.moveManipulation.destroy(),a(this.scaleRotate)&&(this.scaleRotate.destroy(),this.scaleRotate=null),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get symbolRotationAngle(){const t=this.graphic.symbol;if(t){const a=t.symbolLayers.find((t=>\"object\"===t.type)),i=a&&a.heading||0;return r(-i)}return 0}reset(){}onDetach(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onHide(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onScaleChanged(){if(i(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}updateMoveAngle(){\"local\"===this.view.viewingMode||this.view.scale<g?this.moveManipulation.angle=this.symbolRotationAngle:this.moveManipulation.angle=0}onGeometryChanged(){p(this.view,this.moveManipulation,this.graphic)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,ringManipulator:a(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"view\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"graphic\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"enableZ\",void 0),t([o()],M.prototype,\"enableRotation\",void 0),t([o()],M.prototype,\"enableScaling\",void 0),t([o({value:!1})],M.prototype,\"snapToScene\",null),t([o({readOnly:!0})],M.prototype,\"type\",void 0),M=t([s(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],M);export{M as GraphicTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isSome as i,isNone as o}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as g,project as y,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),i=e?e.offset:0;return new b({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this._get(\"graphic\");if(!1===t.visible)return null;const s=this._get(\"focusedSymbol\"),r=i(s)?s:t.symbol,l=t.geometry;return o(l)?null:\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,l,r):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;let l=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?1:null;if(o(l)||!l.originalPoint.equals(s)){const t=s,i=e.spatialReference;if(g(t.spatialReference,i)){const e=y(t,i);l={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=l}}if(i(l)){const i=h(t,G),o=e.toScreen(l.mapPoint),s=l.radiusPx,a=o.x+c(r.xoffset),n=o.y-c(r.yoffset);return _(i,[a,n])<s*s?1:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&d(o,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0,dependsOn:[\"graphic\"]})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n"],"sourceRoot":""}