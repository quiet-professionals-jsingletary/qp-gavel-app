{"version":3,"sources":["../node_modules/@arcgis/core/tasks/support/DirectionsFeatureSet.js","../node_modules/@arcgis/core/tasks/support/RouteResult.js","../node_modules/@arcgis/core/tasks/support/RouteResultsContainer.js","../node_modules/@arcgis/core/tasks/RouteTask.js","../node_modules/@arcgis/core/tasks/support/FeatureSet.js"],"names":["u","e","extent","features","geometryType","routeId","routeName","totalDriveTime","totalLength","totalTime","r","forEach","_decompressFeatureGeometry","summary","envelope","spatialReference","o","a","fromJSON","map","m","s","geometry","t","strings","events","p","x","point","y","z","hasZ","attributes","ETA","arriveTimeUTC","this","_decompressGeometry","compressedGeometry","n","i","l","c","f","d","g","h","match","parseInt","indexOf","length","push","paths","hasM","concat","get","_mergePolylinesToSinglePath","type","json","read","source","prototype","readOnly","dependsOn","value","directions","route","stops","write","String","barriers","messages","pointBarriers","polylineBarriers","polygonBarriers","routeResults","aliasOf","accumulateAttributes","name","attributeParameterValues","directionsTimeAttribute","impedanceAttribute","outSpatialReference","getter","wkid","restrictionAttributes","travelMode","_collectGeometries","then","slice","_isInputGeometryZAware","getServiceDescription","dontCheck","_dropZValuesOffInputGeometry","query","parsedUrl","toQueryParams","requestOptions","path","endsWith","_handleSolveResponse","data","routes","Name","RouteName","splice","B","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","mesh","displayFieldName","exceededTransferLimit","fields","queryGeometry","toJSON","Array","isArray","scale","translate","_getQuantizationFunction","Math","round","transform","_getHydrationFunction","rings","_quantizePoints","points","xmin","ymin","xmax","ymax","Boolean","overridePolicy","enabled","reader","types","isDefaultToJSON"],"mappings":"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","file":"static/js/58.56e59aa8.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../geometry/SpatialReference.js\";import p from\"../../geometry/Point.js\";import n from\"../../geometry/Extent.js\";import i from\"../../geometry/Polyline.js\";import\"../../geometry.js\";import m from\"../../Graphic.js\";import l from\"./FeatureSet.js\";let u=class extends l{constructor(e){super(e),this.extent=null,this.features=null,this.geometryType=\"polyline\",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,r){(e||[]).forEach((e=>{this._decompressFeatureGeometry(e,r.summary.envelope.spatialReference)}));const o=a.fromJSON(r.spatialReference);return e.map((e=>{const r=m.fromJSON(e),s=e.geometry&&e.geometry.spatialReference;return r.geometry&&!s&&(t(r.geometry).spatialReference=o),r.strings=e.strings,r.events=(e.events||[]).map((t=>{const r=new m({geometry:new p({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r})),r}))}get mergedGeometry(){if(!this.features)return null;const e=this.features.map((({geometry:e})=>t(e))),r=this.get(\"extent.spatialReference\");return this._mergePolylinesToSinglePath(e,r)}get strings(){return this.features.map((({strings:e})=>e))}_decompressFeatureGeometry(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)}_decompressGeometry(e,t){let r=0,o=0,s=0,a=0;const p=[];let n,i,m,l,u,c,y,f,d=0,g=0,h=0;if(u=e.match(/((\\+|\\-)[^\\+\\-\\|]+|\\|)/g),u||(u=[]),0===parseInt(u[d],32)){d=2;const e=parseInt(u[d],32);d++,c=parseInt(u[d],32),d++,1&e&&(g=u.indexOf(\"|\")+1,y=parseInt(u[g],32),g++),2&e&&(h=u.indexOf(\"|\",g)+1,f=parseInt(u[h],32),h++)}else c=parseInt(u[d],32),d++;for(;d<u.length&&\"|\"!==u[d];){n=parseInt(u[d],32)+r,d++,r=n,i=parseInt(u[d],32)+o,d++,o=i;const e=[n/c,i/c];g&&(l=parseInt(u[g],32)+s,g++,s=l,e.push(l/y)),h&&(m=parseInt(u[h],32)+a,h++,a=m,e.push(m/f)),p.push(e)}return{paths:[p],hasZ:g>0,hasM:h>0,spatialReference:t}}_mergePolylinesToSinglePath(e,t){let r=[];(e||[]).forEach((e=>{e.paths.forEach((e=>{r=r.concat(e)}))}));const o=[];let s=[0,0];return r.forEach((e=>{e[0]===s[0]&&e[1]===s[1]||(o.push(e),s=e)})),new i({paths:[o]},t)}};e([r({type:n,json:{read:{source:\"summary.envelope\"}}})],u.prototype,\"extent\",void 0),e([r()],u.prototype,\"features\",void 0),e([o(\"features\")],u.prototype,\"readFeatures\",null),e([r()],u.prototype,\"geometryType\",void 0),e([r({readOnly:!0,dependsOn:[\"features\",\"extent.spatialReference\"]})],u.prototype,\"mergedGeometry\",null),e([r()],u.prototype,\"routeId\",void 0),e([r()],u.prototype,\"routeName\",void 0),e([r({value:null,readOnly:!0,dependsOn:[\"features\"]})],u.prototype,\"strings\",null),e([r({json:{read:{source:\"summary.totalDriveTime\"}}})],u.prototype,\"totalDriveTime\",void 0),e([r({json:{read:{source:\"summary.totalLength\"}}})],u.prototype,\"totalLength\",void 0),e([r({json:{read:{source:\"summary.totalTime\"}}})],u.prototype,\"totalTime\",void 0),u=e([s(\"esri.tasks.support.DirectionsFeatureSet\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import e from\"../../Graphic.js\";import p from\"./DirectionsFeatureSet.js\";let i=class extends s{constructor(o){super(o),this.directions=null,this.route=null,this.routeName=null,this.stops=null}};o([r({type:p,json:{write:!0}})],i.prototype,\"directions\",void 0),o([r({type:e,json:{write:!0}})],i.prototype,\"route\",void 0),o([r({type:String,json:{write:!0}})],i.prototype,\"routeName\",void 0),o([r({type:[e],json:{write:!0}})],i.prototype,\"stops\",void 0),i=o([t(\"esri.tasks.support.RouteResult\")],i);var u=i;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as e}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import p from\"../../Graphic.js\";import i from\"./FeatureSet.js\";import a from\"./NAMessage.js\";import l from\"./RouteResult.js\";function n(r){return r&&i.fromJSON(r).features.map((r=>r))}let u=class extends t{constructor(r){super(r),this.barriers=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(r,o){return n(o.barriers||o.pointBarriers)}readPolylineBarriers(r){return n(r)}readPolygonBarriers(r){return n(r)}};r([o({aliasOf:\"pointBarriers\"})],u.prototype,\"barriers\",void 0),r([o({type:[a]})],u.prototype,\"messages\",void 0),r([o({type:[p]})],u.prototype,\"pointBarriers\",void 0),r([e(\"pointBarriers\",[\"barriers\",\"pointBarriers\"])],u.prototype,\"readPointBarriers\",null),r([o({type:[p]})],u.prototype,\"polylineBarriers\",void 0),r([e(\"polylineBarriers\")],u.prototype,\"readPolylineBarriers\",null),r([o({type:[p]})],u.prototype,\"polygonBarriers\",void 0),r([e(\"polygonBarriers\")],u.prototype,\"readPolygonBarriers\",null),r([o({type:[l]})],u.prototype,\"routeResults\",void 0),u=r([s(\"esri.tasks.support.RouteResultsContainer\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as t}from\"../core/promiseUtils.js\";import s from\"../request.js\";import{normalizeCentralMeridian as o}from\"../geometry/support/normalizeUtils.js\";import i from\"./Task.js\";import{createQueryParamsHelper as a}from\"../core/queryUtils.js\";import{NAServiceDescriptionMixin as n}from\"./mixins/NAServiceDescription.js\";import p from\"./support/RouteResultsContainer.js\";const l=a({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},stops:!0,travelMode:!0});let u=class extends(n(i)){constructor(e){super(e)}solve(e,r){const i=[],a=[],n={},p={};return e.stops&&e.stops.features&&this._collectGeometries(e.stops.features,a,\"stops.features\",n),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,\"pointBarriers.features\",n),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,\"polylineBarriers.features\",n),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,\"polygonBarriers.features\",n),o(a).then((e=>{for(const r in n){const t=n[r];i.push(r),p[r]=e.slice(t[0],t[1])}return this._isInputGeometryZAware(p,i)?this.getServiceDescription():t({dontCheck:!0})})).then((t=>{(\"dontCheck\"in t?t.dontCheck:t.hasZ)||this._dropZValuesOffInputGeometry(p,i);for(const r in p)p[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let o={query:{...this.parsedUrl.query,f:\"json\",...l.toQueryParams(e)}};(this.requestOptions||r)&&(o={...this.requestOptions,...r,...o});const{path:a}=this.parsedUrl,n=\"/solve\",u=a.endsWith(n)?a:a+n;return s(u,o)})).then((e=>this._handleSolveResponse(e)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}_handleSolveResponse(e){const r=[],t=[],{directions:s=[],routes:{features:o=[],spatialReference:i=null}={},stops:{features:a=[],spatialReference:n=null}={},barriers:l,polygonBarriers:u,polylineBarriers:c,messages:m}=e.data,f=\"esri.tasks.RouteTask.NULL_ROUTE_NAME\";let h,y,d=!0;const g=o&&i||a&&n||l&&l.spatialReference||u&&u.spatialReference||c&&c.spatialReference;s.forEach((e=>{r.push(h=e.routeName),t[h]={directions:e}})),o.forEach((e=>{-1===r.indexOf(h=e.attributes.Name)&&(r.push(h),t[h]={}),e.geometry&&(e.geometry.spatialReference=g),t[h].route=e})),a.forEach((e=>{y=e.attributes,-1===r.indexOf(h=y.RouteName||f)&&(r.push(h),t[h]={}),h!==f&&(d=!1),e.geometry&&(e.geometry.spatialReference=g),null==t[h].stops&&(t[h].stops=[]),t[h].stops.push(e)})),a.length>0&&!0===d&&(t[r[0]].stops=t[f].stops,delete t[f],r.splice(r.indexOf(f),1));const B=r.map((e=>(t[e].routeName=e===f?null:e,t[e])));return p.fromJSON({routeResults:B,pointBarriers:l,polygonBarriers:u,polylineBarriers:c,messages:m})}};u=e([r(\"esri.tasks.RouteTask\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t,unwrap as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";import a from\"../../geometry/SpatialReference.js\";import{fromJSON as y,isPolygon as u}from\"../../geometry/support/jsonUtils.js\";import{geometryTypes as m}from\"../../geometry.js\";import c from\"../../Graphic.js\";import f from\"../../layers/support/Field.js\";const h=new s({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryEnvelope:\"extent\",mesh:\"mesh\",\"\":null});let d=class extends l{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,r){const o=a.fromJSON(r.spatialReference),s=[];for(let r=0;r<e.length;r++){const i=e[r],n=c.fromJSON(i),p=i.geometry&&i.geometry.spatialReference;t(n.geometry)&&!p&&(n.geometry.spatialReference=o),s.push(n)}return s}writeGeometryType(e,r,o,s){if(e)return void h.write(e,r,o,s);const{features:i}=this;if(i)for(const e of i)if(e&&t(e.geometry))return void h.write(e.geometry.type,r,o,s)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,o=y(e);return!r&&t.spatialReference&&(o.spatialReference=a.fromJSON(t.spatialReference)),o}writeSpatialReference(e,r){if(e)return void(r.spatialReference=e.toJSON());const{features:o}=this;if(o)for(const e of o)e&&t(e.geometry)&&e.geometry.spatialReference&&(r.spatialReference=e.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const o=t.features[r];if(o.geometry){const t=e&&e[r];o.geometry=t&&t.toJSON()||o.geometry}}return t}quantize(e){const{scale:[t,o],translate:[s,i]}=e,n=this.features,p=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-s)/t)),(e=>Math.round((i-e)/o)));for(let e=0,t=n.length;e<t;e++)p(r(n[e].geometry))||(n.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:r,transform:o}=this;if(!o)return this;const{translate:[s,i],scale:[n,p]}=o,l=this._getHydrationFunction(e,(e=>e*n+s),(e=>i-e*p));for(const{geometry:e}of r)t(e)&&l(e);return this.transform=null,this}_quantizePoints(e,t,r){let o,s;const i=[];for(let n=0,p=e.length;n<p;n++){const p=e[n];if(n>0){const e=t(p[0]),n=r(p[1]);e===o&&n===s||(i.push([e-o,n-s]),o=e,s=n)}else o=t(p[0]),s=r(p[1]),i.push([o,s])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return\"point\"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):\"polyline\"===e||\"polygon\"===e?e=>{const o=u(e)?e.rings:e.paths,s=[];for(let e=0,i=o.length;e<i;e++){const i=o[e],n=this._quantizePoints(i,t,r);n&&s.push(n)}return s.length>0?(u(e)?e.rings=s:e.paths=s,e):null}:\"multipoint\"===e?e=>{let o;return o=this._quantizePoints(e.points,t,r),o.length>0?(e.points=o,e):null}:\"extent\"===e?e=>e:null}_getHydrationFunction(e,t,r){return\"point\"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:\"polyline\"===e||\"polygon\"===e?e=>{const o=u(e)?e.rings:e.paths;let s,i;for(let e=0,n=o.length;e<n;e++){const n=o[e];for(let e=0,o=n.length;e<o;e++){const o=n[e];e>0?(s+=o[0],i+=o[1]):(s=o[0],i=o[1]),o[0]=t(s),o[1]=r(i)}}}:\"extent\"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:\"multipoint\"===e?e=>{const o=e.points;let s,i;for(let e=0,n=o.length;e<n;e++){const n=o[e];e>0?(s+=n[0],i+=n[1]):(s=n[0],i=n[1]),n[0]=t(s),n[1]=r(i)}}:void 0}};e([o({type:String,json:{write:!0}})],d.prototype,\"displayFieldName\",void 0),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"exceededTransferLimit\",void 0),e([o({type:[c],json:{write:!0}})],d.prototype,\"features\",void 0),e([i(\"features\")],d.prototype,\"readFeatures\",null),e([o({type:[f],json:{write:!0}})],d.prototype,\"fields\",void 0),e([o({type:[\"point\",\"multipoint\",\"polyline\",\"polygon\",\"extent\",\"mesh\"],json:{read:{reader:h.read}}})],d.prototype,\"geometryType\",void 0),e([p(\"geometryType\")],d.prototype,\"writeGeometryType\",null),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasM\",void 0),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasZ\",void 0),e([o({types:m,json:{write:!0}})],d.prototype,\"queryGeometry\",void 0),e([i(\"queryGeometry\")],d.prototype,\"readQueryGeometry\",null),e([o({type:a,json:{write:!0}})],d.prototype,\"spatialReference\",void 0),e([p(\"spatialReference\")],d.prototype,\"writeSpatialReference\",null),e([o({json:{write:!0}})],d.prototype,\"transform\",void 0),d=e([n(\"esri.tasks.support.FeatureSet\")],d),d.prototype.toJSON.isDefaultToJSON=!0,d||(d={});var g=d;export default g;\n"],"sourceRoot":""}