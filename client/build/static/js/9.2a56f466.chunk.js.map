{"version":3,"sources":["../node_modules/@arcgis/core/tasks/operations/pbfJSONFeatureSet.js","../node_modules/@arcgis/core/tasks/operations/queryRelatedRecords.js","../node_modules/@arcgis/core/tasks/QueryTask.js","../node_modules/@arcgis/core/tasks/operations/queryAttachments.js","../node_modules/@arcgis/core/layers/support/AttachmentInfo.js","../node_modules/@arcgis/core/layers/support/exifUtils.js"],"names":["i","e","t","o","r","s","u","originPosition","translate","scale","n","a","h","d","this","options","geometryTypes","previousCoordinate","transform","applyTransform","lengths","currentLengthIndex","toAddInCurrentPath","vertexDimension","coordinateBuffer","coordinateBufferPtr","AttributesConstructor","fields","features","length","hasZ","geometryType","sourceSpatialReference","spatialReference","geometry","push","map","name","deriveApplyTransform","hasM","addCoordinate","addCoordinatePoint","createGeometry","createPointGeometry","addCoordinatePolygon","createPolygonGeometry","addCoordinatePolyline","createPolylineGeometry","addCoordinateMultipoint","createMultipointGeometry","attributes","queryGeometry","queryGeometryType","clone","x","y","z","m","dehydratedAddPointsCoordinate","paths","rings","points","transformPathLikeValue","Array","toJSON","objectIds","join","orderByFields","outFields","returnCountOnly","indexOf","outSpatialReference","outSR","wkid","JSON","stringify","dynamicDataSource","layer","source","data","c","relatedRecordGroups","objectIdFieldName","relatedRecords","objectId","hasOwnProperty","count","query","f","path","D","format","gdbVersion","executeJSON","then","fromJSON","requestOptions","_normalizeQuery","outStatistics","quantizationParameters","parsedUrl","l","_normalizeFields","extent","S","p","from","g","Object","keys","forEach","j","b","attachmentGroups","fieldsIndex","get","assign","type","prototype","O","attachmentTypes","keywords","globalIds","size","parentObjectId","parentGlobalId","attachmentInfos","id","set","url","1","rotation","mirrored","2","3","4","5","6","7","8","contentType","exifInfo","globalId","exifName","tagName","find","tags","value","String","readOnly","dependsOn","json","read"],"mappings":"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","file":"static/js/9.2a56f466.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../core/compilerUtils.js\";import{unquantizeOptimizedGeometry as t,convertToGeometry as r}from\"../../layers/graphics/featureConversionUtils.js\";import{getGeometryZScaler as s}from\"./zscale.js\";function i(e,t){return t}function o(e,t,r,s){switch(r){case 0:return u(e,t+s,0);case 1:return\"lowerLeft\"===e.originPosition?u(e,t+s,1):function({translate:e,scale:t},r,s){return e[s]-r*t[s]}(e,t+s,1)}}function n(e,t,r,s){switch(r){case 2:return u(e,t,2);default:return o(e,t,r,s)}}function a(e,t,r,s){switch(r){case 2:return u(e,t,3);default:return o(e,t,r,s)}}function h(e,t,r,s){switch(r){case 3:return u(e,t,3);default:return n(e,t,r,s)}}function u({translate:e,scale:t},r,s){return e[s]+r*t[s]}class d{constructor(e){this.options=e,this.geometryTypes=[\"esriGeometryPoint\",\"esriGeometryMultipoint\",\"esriGeometryPolyline\",\"esriGeometryPolygon\"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=i,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this.AttributesConstructor=function(){}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(e){if(this.options.applyTransform&&(e.transform=null),this.AttributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0,!e.hasZ)return;const t=s(e.geometryType,this.options.sourceSpatialReference,e.spatialReference);if(t)for(const r of e.features)t(r.geometry)}createSpatialReference(){return{}}addField(e,t){e.fields.push(t);const r=e.fields.map((e=>e.name));this.AttributesConstructor=function(){for(const e of r)this[e]=null}}addFeature(e,t){e.features.push(t)}prepareFeatures(t){switch(this.transform=t.transform,this.options.applyTransform&&t.transform&&(this.applyTransform=this.deriveApplyTransform(t)),this.vertexDimension=2,t.hasZ&&this.vertexDimension++,t.hasM&&this.vertexDimension++,t.geometryType){case\"esriGeometryPoint\":this.addCoordinate=(e,t,r)=>this.addCoordinatePoint(e,t,r),this.createGeometry=e=>this.createPointGeometry(e);break;case\"esriGeometryPolygon\":this.addCoordinate=(e,t,r)=>this.addCoordinatePolygon(e,t,r),this.createGeometry=e=>this.createPolygonGeometry(e);break;case\"esriGeometryPolyline\":this.addCoordinate=(e,t,r)=>this.addCoordinatePolyline(e,t,r),this.createGeometry=e=>this.createPolylineGeometry(e);break;case\"esriGeometryMultipoint\":this.addCoordinate=(e,t,r)=>this.addCoordinateMultipoint(e,t,r),this.createGeometry=e=>this.createMultipointGeometry(e);break;default:e(t.geometryType)}}createFeature(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this.AttributesConstructor}}addLength(e,t,r){0===this.lengths.length&&(this.toAddInCurrentPath=t),this.lengths.push(t)}addQueryGeometry(e,s){const{queryGeometry:i,queryGeometryType:o}=s,n=t(i.clone(),i,!1,!1,this.transform),a=r(n,o,!1,!1);e.queryGeometryType=o,e.queryGeometry={...a}}createPointGeometry(e){const t={x:0,y:0,spatialReference:e.spatialReference};return e.hasZ&&(t.z=0),e.hasM&&(t.m=0),t}addCoordinatePoint(e,t,r){switch(t=this.applyTransform(this.transform,t,r,0),r){case 0:e.x=t;break;case 1:e.y=t;break;case 2:\"z\"in e?e.z=t:e.m=t;break;case 3:e.m=t}}transformPathLikeValue(e,t){let r=0;return t<=1&&(r=this.previousCoordinate[t],this.previousCoordinate[t]+=e),this.applyTransform(this.transform,e,t,r)}addCoordinatePolyline(e,t,r){this.dehydratedAddPointsCoordinate(e.paths,t,r)}addCoordinatePolygon(e,t,r){this.dehydratedAddPointsCoordinate(e.rings,t,r)}addCoordinateMultipoint(e,t,r){0===r&&e.points.push([]);const s=this.transformPathLikeValue(t,r);e.points[e.points.length-1].push(s)}createPolygonGeometry(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}createPolylineGeometry(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}createMultipointGeometry(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}dehydratedAddPointsCoordinate(e,t,r){0===r&&0==this.toAddInCurrentPath--&&(e.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);const s=this.transformPathLikeValue(t,r),i=e[e.length-1];0===r&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),i.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=s}deriveApplyTransform(e){const{hasZ:t,hasM:r}=e;return t&&r?h:t?n:r?a:o}}export{d as JSONFeatureSetParserContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import{mapParameters as t}from\"./urlUtils.js\";function o(e,t){const o=e.toJSON();return o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(o.orderByFields=o.orderByFields.join(\",\")),!o.outFields||null!=t&&t.returnCountOnly?delete o.outFields:-1!==o.outFields.indexOf(\"*\")?o.outFields=\"*\":o.outFields=o.outFields.join(\",\"),o.outSpatialReference&&(o.outSR=o.outSR.wkid||JSON.stringify(o.outSR.toJSON()),delete o.outSpatialReference),o.dynamicDataSource&&(o.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o}async function r(e,t,o){const r=await a(e,t,o),n=r.data,d=n.geometryType,s=n.spatialReference,c={};for(const e of n.relatedRecordGroups){const t={fields:void 0,objectIdFieldName:void 0,geometryType:d,spatialReference:s,hasZ:!!n.hasZ,hasM:!!n.hasM,features:e.relatedRecords};if(null!=e.objectId)c[e.objectId]=t;else for(const o in e)e.hasOwnProperty(o)&&\"relatedRecords\"!==o&&(c[e[o]]=t)}return{...r,data:c}}async function n(e,t,o){const r=await a(e,t,o,{returnCountOnly:!0}),n=r.data,d={};for(const e of n.relatedRecordGroups)null!=e.objectId&&(d[e.objectId]=e.count);return{...r,data:d}}async function a(r,n,a={},d){const s=t({...r.query,f:\"json\",...d,...o(n,d)});return e(r.path+\"/queryRelatedRecords\",{...a,query:{...a.query,...s}})}export{r as executeRelationshipQuery,n as executeRelationshipQueryForCount,o as toQueryStringParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"../core/has.js\";import{isSome as r}from\"../core/maybe.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import i from\"../geometry/Extent.js\";import\"../geometry.js\";import a from\"./support/FeatureSet.js\";import{D as n}from\"../chunks/DataLayerSource.js\";import c from\"./support/AttachmentQuery.js\";import u from\"./support/Query.js\";import p from\"./support/RelationshipQuery.js\";import m from\"./Task.js\";import{JSONFeatureSetParserContext as d}from\"./operations/pbfJSONFeatureSet.js\";import{executeQueryPBF as h,executeQuery as l,executeQueryForCount as f,executeQueryForExtent as y,executeQueryForIds as S}from\"./operations/query.js\";import{executeAttachmentQuery as j,processAttachmentQueryResult as b}from\"./operations/queryAttachments.js\";import{executeRelationshipQuery as g,executeRelationshipQueryForCount as x}from\"./operations/queryRelatedRecords.js\";let D=class extends m{constructor(t){super(t),this.dynamicDataSource=null,this.format=\"json\",this.gdbVersion=null,this.sourceSpatialReference=null}execute(t,e){return this.executeJSON(t,e).then((t=>a.fromJSON(t)))}async executeJSON(t,r){var o;const s={...this.requestOptions,...r},i=this._normalizeQuery(t),a=null!=(null==(o=t.outStatistics)?void 0:o[0]),n=e(\"featurelayer-pbf-statistics\"),c=!a||n;let u;if(\"pbf\"===this.format&&c){const t=!i.quantizationParameters;try{u=(await h(this.parsedUrl,i,new d({sourceSpatialReference:this.sourceSpatialReference,applyTransform:t}),s)).data}catch(t){if(\"query:parsing-pbf\"!==t.name)throw t;this.format=\"json\"}}if(\"json\"===this.format||!c){u=(await l(this.parsedUrl,i,this.sourceSpatialReference,s)).data}return this._normalizeFields(u.fields),u}executeForCount(t,e){return f(this.parsedUrl,this._normalizeQuery(t),{...this.requestOptions,...e}).then((t=>t.data.count))}executeForExtent(t,e){return y(this.parsedUrl,this._normalizeQuery(t),{...this.requestOptions,...e}).then((t=>({count:t.data.count,extent:i.fromJSON(t.data.extent)})))}executeForIds(t,e){return S(this.parsedUrl,this._normalizeQuery(t),{...this.requestOptions,...e}).then((t=>t.data.objectIds))}executeRelationshipQuery(t,e){return t=p.from(t),(this.gdbVersion||this.dynamicDataSource)&&((t=t.clone()).gdbVersion=t.gdbVersion||this.gdbVersion,t.dynamicDataSource=t.dynamicDataSource||this.dynamicDataSource),g(this.parsedUrl,t,{...this.requestOptions,...e}).then((t=>{const e=t.data,r={};return Object.keys(e).forEach((t=>r[t]=a.fromJSON(e[t]))),r}))}executeRelationshipQueryForCount(t,e){return t=p.from(t),(this.gdbVersion||this.dynamicDataSource)&&((t=t.clone()).gdbVersion=t.gdbVersion||this.gdbVersion,t.dynamicDataSource=t.dynamicDataSource||this.dynamicDataSource),x(this.parsedUrl,t,{...this.requestOptions,...e}).then((t=>t.data))}executeAttachmentQuery(t,e){return j(this.parsedUrl,c.from(t),{...this.requestOptions,...e}).then((t=>b(t.data.attachmentGroups,this.parsedUrl.path)))}_normalizeQuery(t){const e=u.from(t);if(!this.gdbVersion&&!this.dynamicDataSource)return e;const r=e===t?e.clone():e;return r.gdbVersion=t.gdbVersion||this.gdbVersion,r.dynamicDataSource=t.dynamicDataSource?n.from(t.dynamicDataSource):this.dynamicDataSource,r}_normalizeFields(t){if(r(this.fieldsIndex)&&r(t))for(const e of t){const t=this.fieldsIndex.get(e.name);t&&Object.assign(e,t.toJSON())}}};t([o({type:n})],D.prototype,\"dynamicDataSource\",void 0),t([o()],D.prototype,\"fieldsIndex\",void 0),t([o()],D.prototype,\"format\",void 0),t([o()],D.prototype,\"gdbVersion\",void 0),t([o()],D.prototype,\"sourceSpatialReference\",void 0),D=t([s(\"esri.tasks.QueryTask\")],D);var O=D;export default O;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{addProxy as t}from\"../../core/urlUtils.js\";import{addTokenParameter as o}from\"../../kernel.js\";import e from\"../../request.js\";import{mapParameters as r}from\"./urlUtils.js\";import s from\"../../layers/support/AttachmentInfo.js\";function n(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o}function a(e,r){const n={};for(const a of e){const{parentObjectId:e,parentGlobalId:c,attachmentInfos:i}=a;for(const a of i){const{id:i}=a,l=t(o(`${r}/${e}/attachments/${i}`)),m=s.fromJSON(a);m.set({url:l,parentObjectId:e,parentGlobalId:c}),n[e]?n[e].push(m):n[e]=[m]}}return n}function c(t,o,s){let a={query:r({...t.query,f:\"json\",...n(o)})};return s&&(a={...s,...a,query:{...s.query,...a.query}}),e(t.path+\"/queryAttachments\",a)}export{c as executeAttachmentQuery,a as processAttachmentQueryResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{Integer as t}from\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import{getExifValue as n}from\"./exifUtils.js\";var s;const p={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let d=s=class extends i{constructor(o){super(o),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:o}=this,t=n({exifName:\"Exif IFD0\",tagName:\"Orientation\",exifInfo:o});return p[t]||null}clone(){return new s({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};o([r({type:String})],d.prototype,\"contentType\",void 0),o([r()],d.prototype,\"exifInfo\",void 0),o([r({readOnly:!0,dependsOn:[\"exifInfo\"]})],d.prototype,\"orientationInfo\",null),o([r({type:t})],d.prototype,\"id\",void 0),o([r({type:String})],d.prototype,\"globalId\",void 0),o([r({type:String})],d.prototype,\"keywords\",void 0),o([r({type:String})],d.prototype,\"name\",void 0),o([r({json:{read:!1}})],d.prototype,\"parentGlobalId\",void 0),o([r({json:{read:!1}})],d.prototype,\"parentObjectId\",void 0),o([r({type:t})],d.prototype,\"size\",void 0),o([r({json:{read:!1}})],d.prototype,\"url\",void 0),d=s=o([e(\"esri.layers.support.AttachmentInfo\")],d);var l=d;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(n){const{exifInfo:t,exifName:e,tagName:a}=n;if(!t||!e||!a)return null;const u=t.find((n=>n.name===e));return u?function(n){const{tagName:t,tags:e}=n;if(!e||!t)return null;const a=e.find((n=>n.name===t));return a&&a.value||null}({tagName:a,tags:u.tags}):null}export{n as getExifValue};\n"],"sourceRoot":""}