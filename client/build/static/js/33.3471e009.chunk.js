(this["webpackJsonpqp-ampd-app"]=this["webpackJsonpqp-ampd-app"]||[]).push([[33,22,50,127],{677:function(e,t,r){"use strict";r.r(t);var a=r(32),n=r(16),i=r(2),o=r(3),s=r(4),c=r(5),u=r(0),l=(r(13),r(10)),p=(r(12),r(14),r(1)),d=r(34),b=r(28),f=r(6),y=r(26),m=(r(9),r(19),r(20),r(23)),h=r(36),g=r(182),j=r(86),v=r(206),O=r(294),I=new d.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),w=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).displayFieldName=null,a.exceededTransferLimit=!1,a.features=[],a.fields=null,a.geometryType=null,a.hasM=!1,a.hasZ=!1,a.queryGeometry=null,a.spatialReference=null,a}return Object(o.a)(r,[{key:"readFeatures",value:function(e,t){for(var r=h.a.fromJSON(t.spatialReference),a=[],n=0;n<e.length;n++){var i=e[n],o=v.a.fromJSON(i),s=i.geometry&&i.geometry.spatialReference;Object(l.g)(o.geometry)&&!s&&(o.geometry.spatialReference=r),a.push(o)}return a}},{key:"writeGeometryType",value:function(e,t,r,a){if(e)I.write(e,t,r,a);else{var i=this.features;if(i){var o,s=Object(n.a)(i);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c&&Object(l.g)(c.geometry))return void I.write(c.geometry.type,t,r,a)}}catch(u){s.e(u)}finally{s.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,a=Object(g.a)(e);return!r&&t.spatialReference&&(a.spatialReference=h.a.fromJSON(t.spatialReference)),a}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var a,i=Object(n.a)(r);try{for(i.s();!(a=i.n()).done;){var o=a.value;o&&Object(l.g)(o.geometry)&&o.geometry.spatialReference&&(t.spatialReference=o.geometry.spatialReference.toJSON())}}catch(s){i.e(s)}finally{i.f()}}}}},{key:"toJSON",value:function(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var a=t.features[r];if(a.geometry){var n=e&&e[r];a.geometry=n&&n.toJSON()||a.geometry}}return t}},{key:"quantize",value:function(e){for(var t=Object(a.a)(e.scale,2),r=t[0],n=t[1],i=Object(a.a)(e.translate,2),o=i[0],s=i[1],c=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-o)/r)}),(function(e){return Math.round((s-e)/n)})),p=0,d=c.length;p<d;p++)u(Object(l.m)(c[p].geometry))||(c.splice(p,1),p--,d--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;var i,o=Object(a.a)(r.translate,2),s=o[0],c=o[1],u=Object(a.a)(r.scale,2),p=u[0],d=u[1],b=this._getHydrationFunction(e,(function(e){return e*p+s}),(function(e){return c-e*d})),f=Object(n.a)(t);try{for(f.s();!(i=f.n()).done;){var y=i.value.geometry;Object(l.g)(y)&&b(y)}}catch(m){f.e(m)}finally{f.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var a,n,i=[],o=0,s=e.length;o<s;o++){var c=e[o];if(o>0){var u=t(c[0]),l=r(c[1]);u===a&&l===n||(i.push([u-a,l-n]),a=u,n=l)}else a=t(c[0]),n=r(c[1]),i.push([a,n])}return i.length>0?i:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var a=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var n=Object(g.g)(e)?e.rings:e.paths,i=[],o=0,s=n.length;o<s;o++){var c=n[o],u=a._quantizePoints(c,t,r);u&&i.push(u)}return i.length>0?(Object(g.g)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?function(e){var n;return(n=a._quantizePoints(e.points,t,r)).length>0?(e.points=n,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var a,n,i=Object(g.g)(e)?e.rings:e.paths,o=0,s=i.length;o<s;o++)for(var c=i[o],u=0,l=c.length;u<l;u++){var p=c[u];u>0?(a+=p[0],n+=p[1]):(a=p[0],n=p[1]),p[0]=t(a),p[1]=r(n)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var a,n,i=e.points,o=0,s=i.length;o<s;o++){var c=i[o];o>0?(a+=c[0],n+=c[1]):(a=c[0],n=c[1]),c[0]=t(a),c[1]=r(n)}}:void 0}}]),r}(m.a);Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],w.prototype,"displayFieldName",void 0),Object(u.a)([Object(p.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],w.prototype,"exceededTransferLimit",void 0),Object(u.a)([Object(p.b)({type:[v.a],json:{write:!0}})],w.prototype,"features",void 0),Object(u.a)([Object(b.a)("features")],w.prototype,"readFeatures",null),Object(u.a)([Object(p.b)({type:[O.a],json:{write:!0}})],w.prototype,"fields",void 0),Object(u.a)([Object(p.b)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:I.read}}})],w.prototype,"geometryType",void 0),Object(u.a)([Object(y.a)("geometryType")],w.prototype,"writeGeometryType",null),Object(u.a)([Object(p.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],w.prototype,"hasM",void 0),Object(u.a)([Object(p.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],w.prototype,"hasZ",void 0),Object(u.a)([Object(p.b)({types:j.b,json:{write:!0}})],w.prototype,"queryGeometry",void 0),Object(u.a)([Object(b.a)("queryGeometry")],w.prototype,"readQueryGeometry",null),Object(u.a)([Object(p.b)({type:h.a,json:{write:!0}})],w.prototype,"spatialReference",void 0),Object(u.a)([Object(y.a)("spatialReference")],w.prototype,"writeSpatialReference",null),Object(u.a)([Object(p.b)({json:{write:!0}})],w.prototype,"transform",void 0),(w=Object(u.a)([Object(f.a)("esri.tasks.support.FeatureSet")],w)).prototype.toJSON.isDefaultToJSON=!0,w||(w={});var M=w;t.default=M},759:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u}));var a=r(16),n=r(10),i=r(40),o=r(78);function s(e,t,r){if(Object(n.f)(t)||Object(n.f)(r)||r.vcsWkid||Object(i.c)(t,r))return null;var s=Object(o.c)(t)/Object(o.c)(r);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return function(e){return r=s,void((t=e)&&null!=t.z&&(t.z*=r));var t,r};case"polyline":case"esriGeometryPolyline":return function(e){return function(e,t){if(e){var r,n=Object(a.a)(e.paths);try{for(n.s();!(r=n.n()).done;){var i,o=r.value,s=Object(a.a)(o);try{for(s.s();!(i=s.n()).done;){var c=i.value;c.length>2&&(c[2]*=t)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){n.e(u)}finally{n.f()}}}(e,s)};case"polygon":case"esriGeometryPolygon":return function(e){return function(e,t){if(e){var r,n=Object(a.a)(e.rings);try{for(n.s();!(r=n.n()).done;){var i,o=r.value,s=Object(a.a)(o);try{for(s.s();!(i=s.n()).done;){var c=i.value;c.length>2&&(c[2]*=t)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){n.e(u)}finally{n.f()}}}(e,s)};case"multipoint":case"esriGeometryMultipoint":return function(e){return function(e,t){if(e){var r,n=Object(a.a)(e.points);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.length>2&&(i[2]*=t)}}catch(o){n.e(o)}finally{n.f()}}}(e,s)};default:return null}}function c(e,t,r){if(null==e.hasM||e.hasZ){var n,i=Object(a.a)(t);try{for(i.s();!(n=i.n()).done;){var o,s=n.value,c=Object(a.a)(s);try{for(c.s();!(o=c.n()).done;){var u=o.value;u.length>2&&(u[2]*=r)}}catch(l){c.e(l)}finally{c.f()}}}catch(l){i.e(l)}finally{i.f()}}}function u(e,t,r){if((e||t)&&r){var a=Object(o.c)(r);l(e,r,a),l(t,r,a)}}function l(e,t,r){if(e){var n,i=Object(a.a)(e);try{for(i.s();!(n=i.n()).done;){p(n.value.geometry,t,r)}}catch(o){i.e(o)}finally{i.f()}}}function p(e,t,r){if(e&&e.spatialReference&&!Object(i.c)(e.spatialReference,t)){var n=Object(o.c)(e.spatialReference)/r;if(1!==n)if("x"in e)null!=e.z&&(e.z*=n);else if("rings"in e)c(e,e.rings,n);else if("paths"in e)c(e,e.paths,n);else if("points"in e&&(null==e.hasM||e.hasZ)){var s,u=Object(a.a)(e.points);try{for(u.s();!(s=u.n()).done;){var l=s.value;l.length>2&&(l[2]*=n)}}catch(p){u.e(p)}finally{u.f()}}}}},763:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return o}));var a=r(11),n=r(9);function i(e,t){var r={query:e};return t&&(r=Object(a.a)(Object(a.a)({},t),r)),r}function o(e){return"string"==typeof e?Object(n.I)(e):e}function s(e,t,r){var a={};for(var n in e)if("declaredClass"!==n){var i=e[n];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){a[n]=[];for(var o=0;o<i.length;o++)a[n][o]=s(i[o])}else if("object"==typeof i)if(i.toJSON){var c=i.toJSON(r&&r[n]);a[n]=t?c:JSON.stringify(c)}else a[n]=t?i:JSON.stringify(i);else a[n]=i}return a}},764:function(e,t,r){"use strict";r.d(t,"a",(function(){return z}));var a=r(8),n=r.n(a),i=(r(32),r(22)),o=r(16),s=r(68),c=r(10),u=r(12),l=r(21),p=r(15),d=r(40),b=r(36),f=r(65),y=r(122),m=r(121),h=r(11),g=r(9),j=r(182),v=(r(86),r(58));function O(e,t,r,a){return I.apply(this,arguments)}function I(){return(I=Object(i.a)(n.a.mark((function e(t,r,a,i){var o,s,c,u,l,p,d,b;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="string"==typeof t?Object(g.I)(t):t,s=r[0].spatialReference,c=Object(h.a)(Object(h.a)({},i),{},{query:Object(h.a)(Object(h.a)({},o.query),{},{f:"json",sr:JSON.stringify(s),target:JSON.stringify({geometryType:Object(j.c)(r[0]),geometries:r}),cutter:JSON.stringify(a)})}),e.next=5,Object(v.default)(o.path+"/cut",c);case 5:return u=e.sent,l=u.data,p=l.cutIndexes,d=l.geometries,b=void 0===d?[]:d,e.abrupt("return",{cutIndexes:p,geometries:b.map((function(e){var t=Object(j.a)(e);return t.spatialReference=s,t}))});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,r){return M.apply(this,arguments)}function M(){return(M=Object(i.a)(n.a.mark((function e(t,r,a){var i,o,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof t?Object(g.I)(t):t,o=r[0].spatialReference,s=Object(j.c)(r[0]),c=Object(h.a)(Object(h.a)({},a),{},{query:Object(h.a)(Object(h.a)({},i.query),{},{f:"json",sr:o.wkid?o.wkid:JSON.stringify(o),geometries:JSON.stringify(x(r))})}),e.t0=function(e,t,r){var a=Object(j.b)(t);return e.map((function(e){var t=a.fromJSON(e);return t.spatialReference=r,t}))},e.next=4,Object(v.default)(i.path+"/simplify",c);case 4:return e.t1=e.sent.data,e.t2=s,e.t3=o,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return{geometryType:Object(j.c)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}var S=u.a.getLogger("esri.geometry.support.normalizeUtils"),A={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new m.a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:b.a.WebMercator}),minus180Line:new m.a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:b.a.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new m.a({paths:[[[180,-180],[180,180]]],spatialReference:b.a.WGS84}),minus180Line:new m.a({paths:[[[-180,-180],[-180,180]]],spatialReference:b.a.WGS84})}};function R(e){return"polygon"===e.type}function D(e){return"polyline"===e[0].type}function T(e){return R(e)?e.rings:e.paths}function k(e,t){return Math.ceil((e-t)/(2*t))}function N(e,t){var r,a=T(e),n=Object(o.a)(a);try{for(n.s();!(r=n.n()).done;){var i,s=r.value,c=Object(o.a)(s);try{for(c.s();!(i=c.n()).done;){i.value[0]+=t}}catch(u){c.e(u)}finally{c.f()}}}catch(u){n.e(u)}finally{n.f()}return e}function C(e,t,r){if(t){var a=function(e,t){if(!(e instanceof m.a||e instanceof y.a)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw S.error(r),new l.a(r)}var a,n=T(e),i=[],s=Object(o.a)(n);try{for(s.s();!(a=s.n()).done;){var c=a.value,u=[];i.push(u),u.push([c[0][0],c[0][1]]);for(var p=0;p<c.length-1;p++){var d=c[p][0],b=c[p][1],f=c[p+1][0],h=c[p+1][1],g=Math.sqrt((f-d)*(f-d)+(h-b)*(h-b)),j=(h-b)/g,v=(f-d)/g,O=g/t;if(O>1){for(var I=1;I<=O-1;I++){var w=I*t,M=v*w+d,x=j*w+b;u.push([M,x])}var A=(g+Math.floor(O-1)*t)/2,D=v*A+d,k=j*A+b;u.push([D,k])}u.push([f,h])}}}catch(N){s.e(N)}finally{s.f()}return R(e)?new y.a({rings:i,spatialReference:e.spatialReference}):new m.a({paths:i,spatialReference:e.spatialReference})}(e,1e6);e=Object(f.e)(a,!0)}return r&&(e=N(e,r)),e}function L(e,t,r){if(Array.isArray(e)){var a=e[0];if(a>t){var n=k(a,t);e[0]=a+n*(-2*t)}else if(a<r){var i=k(a,r);e[0]=a+i*(-2*r)}}else{var o=e.x;if(o>t){var s=k(o,t);e=e.clone().offset(s*(-2*t),0)}else if(o<r){var c=k(o,r);e=e.clone().offset(c*(-2*r),0)}}return e}function z(e,t,r){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(n.a.mark((function e(t,r,a){var i,u,l,b,h,g,j,v,I,M,x,S,R,P,B,U,H,E,_,Z,J,F,V,G,W,Q,q,K,X,Y,$,ee,te,re,ae,ne,ie,oe,se,ce;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",z([t],r));case 2:i=r?r.url:s.a.geometryServiceUrl,M=0,x=[],S=[],R=Object(o.a)(t);try{for(R.s();!(P=R.n()).done;)B=P.value,Object(c.f)(B)?S.push(B):(u||(u=B.spatialReference,l=Object(d.d)(u),b=u.isWebMercator,h=A[j=b?102100:4326].maxX,g=A[j].minX,v=A[j].plus180Line,I=A[j].minus180Line),l?"mesh"===B.type?S.push(B):"point"===B.type?S.push(L(B.clone(),h,g)):"multipoint"===B.type?((U=B.clone()).points=U.points.map((function(e){return L(e,h,g)})),S.push(U)):"extent"===B.type?(H=B.clone()._normalize(!1,!1,l),S.push(H.rings?new y.a(H):H)):B.extent?(E=B.extent,_=k(E.xmin,g)*(2*h),Z=0===_?B.clone():N(B.clone(),_),E.offset(_,0),E.intersects(v)&&E.xmax!==h?(M=E.xmax>M?E.xmax:M,Z=C(Z,b),x.push(Z),S.push("cut")):E.intersects(I)&&E.xmin!==g?(M=E.xmax*(2*h)>M?E.xmax*(2*h):M,Z=C(Z,b,360),x.push(Z),S.push("cut")):S.push(Z)):S.push(B.clone()):S.push(B))}catch(n){R.e(n)}finally{R.f()}for(J=k(M,h),F=-90,V=J,G=new m.a;J>0;)W=360*J-180,G.addPath([[W,F],[W,-1*F]]),F*=-1,J--;if(!(x.length>0&&V>0)){e.next=28;break}return e.t0=function(e,t){for(var r=-1,a=function(a){for(var i=t.cutIndexes[a],s=t.geometries[a],c=T(s),u=function(e){var t=c[e];t.some((function(r){if(r[0]<180)return!0;for(var a=0,n=0;n<t.length;n++){var i=t[n][0];a=i>a?i:a}for(var o=-360*k(a=Number(a.toFixed(9)),180),c=0;c<t.length;c++){var u=s.getPoint(e,c);s.setPoint(e,c,u.clone().offset(o,0))}return!0}))},l=0;l<c.length;l++)u(l);if(i===r){if("polygon"===e[0].type){var p,d=Object(o.a)(T(s));try{for(d.s();!(p=d.n()).done;){var b=p.value;e[i]=e[i].addRing(b)}}catch(n){d.e(n)}finally{d.f()}}else if(D(e)){var f,y=Object(o.a)(T(s));try{for(y.s();!(f=y.n()).done;){var m=f.value;e[i]=e[i].addPath(m)}}catch(n){y.e(n)}finally{y.f()}}}else r=i,e[i]=s},i=0;i<t.cutIndexes.length;i++)a(i);return e},e.t1=x,e.next=15,O(i,x,G,a);case 15:for(e.t2=e.sent,Q=(0,e.t0)(e.t1,e.t2),q=[],K=[],X=0;X<S.length;X++)"cut"!==(Y=S[X])?K.push(Y):($=Q.shift(),ee=t[X],Object(c.g)(ee)&&"polygon"===ee.type&&ee.rings&&ee.rings.length>1&&$.rings.length>=ee.rings.length?(q.push($),K.push("simplify")):K.push(b?Object(f.b)($):$));if(q.length){e.next=22;break}return e.abrupt("return",K);case 22:return e.next=24,w(i,q,a);case 24:for(te=e.sent,re=[],ae=0;ae<K.length;ae++)"simplify"!==(ne=K[ae])?re.push(ne):re.push(b?Object(f.b)(te.shift()):te.shift());return e.abrupt("return",re);case 28:for(ie=[],oe=0;oe<S.length;oe++)"cut"!==(se=S[oe])?ie.push(se):(ce=x.shift(),ie.push(!0===b?Object(f.b)(ce):ce));return e.abrupt("return",Object(p.s)(ie));case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},766:function(e,t,r){"use strict";var a=r(11),n=r(2),i=r(3),o=r(4),s=r(5),c=r(0),u=(r(13),r(12),r(14),r(1)),l=r(6),p=r(9),d=(r(19),r(20),function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).requestOptions=null,e.url=null,e}return Object(i.a)(r,[{key:"normalizeCtorArgs",value:function(e,t){return"string"!=typeof e?e:Object(a.a)({url:e},t)}},{key:"_parseUrl",value:function(e){return e?Object(p.I)(e):null}},{key:"_encode",value:function(e,t,r){var a={};for(var n in e)if("declaredClass"!==n){var i=e[n];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){a[n]=[];for(var o=0;o<i.length;o++)a[n][o]=this._encode(i[o])}else if("object"==typeof i)if(i.toJSON){var s=i.toJSON(r&&r[n]);a[n]=t?s:JSON.stringify(s)}else a[n]=t?i:JSON.stringify(i);else a[n]=i}return a}},{key:"parsedUrl",get:function(){return this._parseUrl(this.url)}}]),r}(r(43).a));Object(c.a)([Object(u.b)({readOnly:!0,dependsOn:["url"]})],d.prototype,"parsedUrl",null),Object(c.a)([Object(u.b)()],d.prototype,"requestOptions",void 0),Object(c.a)([Object(u.b)({type:String})],d.prototype,"url",void 0);var b=d=Object(c.a)([Object(l.a)("esri.tasks.Task")],d);t.a=b},773:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r(16),n=r(759);function i(e,t,r){if(r&&r.features&&r.hasZ){var i=Object(n.a)(r.geometryType,t,e.outSpatialReference);if(i){var o,s=Object(a.a)(r.features);try{for(s.s();!(o=s.n()).done;){i(o.value.geometry)}}catch(c){s.e(c)}finally{s.f()}}}}},775:function(e,t,r){"use strict";var a,n=r(2),i=r(3),o=r(4),s=r(5),c=r(0),u=(r(13),r(12),r(14),r(1)),l=r(6),p=(r(9),r(19),r(20),r(23)),d=r(231),b=a=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).value=0,a.unit="milliseconds",a}return Object(i.a)(r,[{key:"toMilliseconds",value:function(){return this.value*d.a[this.unit]}},{key:"clone",value:function(){return new a({value:this.value,unit:this.unit})}}]),r}(p.a);Object(c.a)([Object(u.b)({type:Number,json:{write:!0},nonNullable:!0})],b.prototype,"value",void 0),Object(c.a)([Object(u.b)({type:d.c.apiValues,json:{type:d.c.jsonValues,read:d.c.read,write:d.c.write},nonNullable:!0})],b.prototype,"unit",void 0);var f=b=a=Object(c.a)([Object(l.a)("esri.TimeInterval")],b);t.a=f},780:function(e,t,r){"use strict";var a,n=r(2),i=r(3),o=r(4),s=r(5),c=r(0),u=(r(13),r(18)),l=(r(12),r(14),r(1)),p=r(29),d=r(28),b=r(6),f=(r(9),r(19),r(20),r(23)),y=r(352),m=a=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).altitude=45,a.azimuth=315,a.colorRamp=null,a.hillshadeType="multi-directional",a.pixelSizePower=.664,a.pixelSizeFactor=.024,a.scalingType="none",a.type="raster-shaded-relief",a.zFactor=1,a}return Object(i.a)(r,[{key:"readColorRamp",value:function(e){return Object(y.a)(e)}},{key:"clone",value:function(){return new a({hillshadeType:this.hillshadeType,altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizeFactor:this.pixelSizeFactor,pixelSizePower:this.pixelSizePower,colorRamp:Object(u.a)(this.colorRamp)})}}]),r}(f.a);Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],m.prototype,"altitude",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],m.prototype,"azimuth",void 0),Object(c.a)([Object(l.b)({types:y.b,json:{write:!0}})],m.prototype,"colorRamp",void 0),Object(c.a)([Object(d.a)("colorRamp")],m.prototype,"readColorRamp",null),Object(c.a)([Object(l.b)({type:["traditional","multi-directional"],json:{write:!0}})],m.prototype,"hillshadeType",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],m.prototype,"pixelSizePower",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],m.prototype,"pixelSizeFactor",void 0),Object(c.a)([Object(l.b)({type:["none","adjusted"],json:{write:!0}})],m.prototype,"scalingType",void 0),Object(c.a)([Object(p.a)({rasterShadedRelief:"raster-shaded-relief"})],m.prototype,"type",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],m.prototype,"zFactor",void 0);var h=m=a=Object(c.a)([Object(b.a)("esri.renderers.RasterShadedReliefRenderer")],m);t.a=h},781:function(e,t,r){"use strict";var a,n=r(2),i=r(3),o=r(4),s=r(5),c=r(0),u=(r(13),r(18)),l=(r(12),r(14)),p=r(1),d=r(29),b=r(28),f=r(6),y=r(26),m=(r(9),r(19),r(20),r(23)),h=r(352),g=r(865),j=a=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).colorRamp=null,a.computeGamma=!1,a.dynamicRangeAdjustment=!1,a.gamma=[],a.maxPercent=null,a.minPercent=null,a.numberOfStandardDeviations=null,a.outputMax=null,a.outputMin=null,a.sigmoidStrengthLevel=null,a.statistics=[],a.histograms=null,a.useGamma=!1,a.stretchType="none",a.type="raster-stretch",a}return Object(i.a)(r,[{key:"readColorRamp",value:function(e){if(e)return Object(h.a)(e)}},{key:"writeStatistics",value:function(e,t,r){var a;null!=(a=e)&&a.length&&(Array.isArray(e[0])||(e=e.map((function(e){return[e.min,e.max,e.avg,e.stddev]}))),t[r]=e)}},{key:"readStretchType",value:function(e,t){var r=t.stretchType;return"number"==typeof r&&(r=g.a[r]),g.b.read(r)}},{key:"clone",value:function(){return new a({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,statistics:Object(u.a)(this.statistics),gamma:Object(u.a)(this.gamma),sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,colorRamp:Object(u.a)(this.colorRamp),histograms:Object(u.a)(this.histograms),dynamicRangeAdjustment:this.dynamicRangeAdjustment})}}]),r}(m.a);Object(c.a)([Object(p.b)({types:h.b,json:{write:!0}})],j.prototype,"colorRamp",void 0),Object(c.a)([Object(b.a)("colorRamp")],j.prototype,"readColorRamp",null),Object(c.a)([Object(p.b)({type:Boolean,json:{write:!0}})],j.prototype,"computeGamma",void 0),Object(c.a)([Object(p.b)({type:Boolean,json:{write:{target:"dra"},read:{source:"dra"}}})],j.prototype,"dynamicRangeAdjustment",void 0),Object(c.a)([Object(p.b)({type:[Number],json:{write:!0}})],j.prototype,"gamma",void 0),Object(c.a)([Object(p.b)({type:Number,json:{write:!0}})],j.prototype,"maxPercent",void 0),Object(c.a)([Object(p.b)({type:Number,json:{write:!0}})],j.prototype,"minPercent",void 0),Object(c.a)([Object(p.b)({type:l.a,json:{write:!0}})],j.prototype,"numberOfStandardDeviations",void 0),Object(c.a)([Object(p.b)({type:Number,json:{read:{source:"max"},write:{target:"max"}}})],j.prototype,"outputMax",void 0),Object(c.a)([Object(p.b)({type:Number,json:{read:{source:"min"},write:{target:"min"}}})],j.prototype,"outputMin",void 0),Object(c.a)([Object(p.b)({type:Number,json:{write:!0}})],j.prototype,"sigmoidStrengthLevel",void 0),Object(c.a)([Object(p.b)({json:{type:[[Number]],write:!0}})],j.prototype,"statistics",void 0),Object(c.a)([Object(p.b)()],j.prototype,"histograms",void 0),Object(c.a)([Object(y.a)("statistics")],j.prototype,"writeStatistics",null),Object(c.a)([Object(p.b)({type:Boolean,json:{write:!0}})],j.prototype,"useGamma",void 0),Object(c.a)([Object(p.b)({type:g.b.apiValues,json:{type:g.b.jsonValues,write:g.b.write}})],j.prototype,"stretchType",void 0),Object(c.a)([Object(b.a)("stretchType",["stretchType"])],j.prototype,"readStretchType",null),Object(c.a)([Object(d.a)({rasterStretch:"raster-stretch"})],j.prototype,"type",void 0);var v=j=a=Object(c.a)([Object(f.a)("esri.renderers.RasterStretchRenderer")],j);t.a=v},784:function(e,t,r){"use strict";var a=r(16),n=r(8),i=r.n(n),o=r(22),s=r(2),c=r(3),u=r(4),l=r(5),p=r(0),d=(r(13),r(18)),b=(r(12),r(14),r(1)),f=r(34),y=r(29),m=r(28),h=r(6),g=(r(9),r(19),r(20),r(23)),j=r(48),v=(r(86),r(37)),O=r(103),I=r(240),w=r(210),M=r(60),x=r(206),S=r(306),A=r(405),R=r(302),D=r(155),T=r(276),k=r(295),N=r(764),C=r(32),L=r(778),z=180/Math.PI,P=function(e){return e&&"esri.layers.support.PixelBlock"===e.declaredClass&&e.pixels&&e.pixels.length>0},B=new Map;function U(e,t){return B.get(t)/B.get(e)||1}function H(e){return(450-e)%360}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geographic",r=Object(C.a)(e,2),a=r[0],n=r[1],i=Math.sqrt(a*a+n*n),o=Math.atan2(n,a)*z;return o=(360+o)%360,"geographic"===t&&(o=H(o)),[i,o]}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geographic",r=e[1];"geographic"===t&&(r=H(r)),r%=360;var a=e[0];return[a*Math.cos(r/z),a*Math.sin(r/z)]}function Z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"geographic",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!P(e))return e;for(var n=e.pixels,i=e.width,o=e.height,s=i*o,c=n[0],u=n[1],l=L.a.createEmptyBand(e.pixelType,s),p=L.a.createEmptyBand(e.pixelType,s),d=0,b=0;b<o;b++)for(var f=0;f<i;f++){var y,m,h,g;"vector-uv"===t?(y=E([c[d],u[d]],r),m=Object(C.a)(y,2),l[d]=m[0],p[d]=m[1],l[d]*=a):(h=_([c[d],u[d]],r),g=Object(C.a)(h,2),l[d]=g[0],p[d]=g[1],l[d]*=a,p[d]*=a),d++}var j=new L.a({pixelType:e.pixelType,width:e.width,height:e.height,mask:e.mask,validPixelCount:e.validPixelCount,maskIsAlpha:e.maskIsAlpha,pixels:[l,p]});return j.updateStatistics(),j}function J(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(1===r||!P(e))return e;for(var a=e.clone(),n=a.pixels,i=a.width,o=a.height,s=n[0],c=n[1],u=0,l=0;l<o;l++)for(var p=0;p<i;p++)"vector-uv"===t?(s[u]*=r,c[u]*=r):s[u]*=r,u++;return a.updateStatistics(),a}B.set("meter-per-second",1),B.set("kilometer-per-hour",.277778),B.set("knots",.514444),B.set("feet-per-second",.3048),B.set("mile-per-hour",.44704);var F=r(10),V=(r(53),r(118),r(350)),G=r(92),W=(r(15),r(58),r(59)),Q=r(811);r(11),r(817);Object(W.a)("esri/symbols/patterns/"),new Q.a(1e3);var q;(function(){var e={}})(),new v.a([128,128,128]),new v.a("white");function K(e,t){return X.apply(this,arguments)}function X(){return(X=Object(o.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.symbolLayers,e.t0=n,!e.t0){e.next=5;break}return e.next=5,Object(V.a)(n,function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(){var e=Object(o.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="extrude"===e.t0?3:"icon"===e.t0||"line"===e.t0||"text"===e.t0?5:"path"===e.t0?7:"object"===e.t0?9:11;break;case 3:return function(e,t){e.size="number"==typeof t[2]?t[2]:0}(t,a),e.abrupt("break",11);case 5:return function(e,t){var r=Y(t);Object(F.g)(r)&&(e.size=r)}(t,a),e.abrupt("break",11);case 7:return function(e,t){var r=$(t,G.a,[e.width,void 0,e.height]);e.width=ee(t[0],e.width,1,r),e.height=ee(t[2],e.height,1,r)}(t,a),e.abrupt("break",11);case 9:return e.next=11,function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n,s,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,o,s,c,u,l,p,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(62).then(r.bind(null,1050));case 2:return a=e.sent,e.next=5,a.computeObjectLayerResourceSize(t,10);case 5:n=e.sent,o=t.width,s=t.height,c=t.depth,u=[o,c,s],l=1,p=0;case 12:if(!(p<3)){e.next=19;break}if(null==u[p]){e.next=16;break}return l=u[p]/n[p],e.abrupt("break",19);case 16:p++,e.next=12;break;case 19:for(d=0;d<3;d++)null==u[d]&&(u[d]=n[d]*l);return e.abrupt("return",{resourceSize:n,symbolSize:u});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t);case 2:n=e.sent,s=n.resourceSize,c=n.symbolSize,u=$(a,s,c),t.width=ee(a[0],c[0],s[0],u),t.depth=ee(a[1],c[1],s[1],u),t.height=ee(a[2],c[2],s[2],u);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()(t,a);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()(t,a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){var t,r=Object(a.a)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if("number"==typeof n)return n}}catch(i){r.e(i)}finally{r.f()}return null}function $(e,t,r){for(var a=0;a<3;a++){var n=e[a];switch(n){case"symbol-value":return null!=r[a]?r[a]/t[a]:1;case"proportional":break;default:if(n&&t[a])return n/t[a]}}return 1}function ee(e,t,r,a){switch(e){case"proportional":return r*a;case"symbol-value":return null!=t?t:r;default:return e}}function te(){return(te=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!r){e.next=2;break}return e.abrupt("return",Object(M.h)(t)?K(t,r):void(Object(M.c)(t)&&function(e,t){var r=Y(t);if(!Object(F.f)(r))switch(e.type){case"simple-marker":e.size=r;break;case"picture-marker":var a=e.width/e.height;a>1?(e.width=r,e.height=r*a):(e.width=r*a,e.height=r);break;case"simple-line":e.width=r;break;case"text":e.font.size=r}}(t,r)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=new Set(["esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour"]),ae=new f.a({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"}),ne=new f.a({beaufort_ft:"beaufort-ft",beaufort_km:"beaufort-km",beaufort_kn:"beaufort-kn",beaufort_m:"beaufort-m",beaufort_mi:"beaufort-mi",classified_arrow:"classified-arrow",ocean_current_kn:"ocean-current-kn",ocean_current_m:"ocean-current-m",simple_scalar:"simple-scalar",single_arrow:"single-arrow",wind_speed:"wind-barb"}),ie=new f.a({flow_from:"flow-from",flow_to:"flow-to"}),oe=q=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).attributeField="Magnitude",a.flowRepresentation="flow-from",a.rotationType="arithmetic",a.style="single-arrow",a.symbolTileSize=50,a.type="vector-field",a}return Object(c.a)(r,[{key:"readInputUnit",value:function(e,t){return re.has(e)?ae.fromJSON(e):null}},{key:"readOutputUnit",value:function(e,t){return re.has(e)?ae.fromJSON(e):null}},{key:"clone",value:function(){return new q({attributeField:this.attributeField,flowRepresentation:this.flowRepresentation,rotationType:this.rotationType,style:this.style,visualVariables:Object(d.a)(this.visualVariables),inputUnit:this.inputUnit,outputUnit:this.outputUnit})}},{key:"getGraphicsFromPixelData",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var r,a,n,o,s,c,u,l,p,d,b,f,y,m,h,g=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=g.length>1&&void 0!==g[1]&&g[1],a=[],n=U(this.inputUnit,this.outputUnit),o=r?Z(t.pixelBlock,"vector-uv",this.rotationType,n):J(t.pixelBlock,"vector-magdir",n),s=t.extent,c=o.mask&&o.mask.length>0,l=0,p=(s.xmax-s.xmin)/o.width,d=(s.ymax-s.ymin)/o.height,b=0;case 5:if(!(b<o.height)){e.next=22;break}f=0;case 7:if(!(f<o.width)){e.next=19;break}if(u=[s.xmin+f*p+p/2,s.ymax-b*d-d/2],c&&!o.mask[l]||!u||2!==u.length){e.next=16;break}return y={Magnitude:o.pixels[0][l],Direction:o.pixels[1][l]},m=new j.a({x:u[0],y:u[1],spatialReference:s.spatialReference}),e.next=13,Object(N.a)(m);case 13:m=e.sent[0],(h=new x.a({geometry:{type:"point",x:m.x,y:m.y,spatialReference:s.spatialReference},attributes:y})).symbol=this._getVisualVariablesAppliedSymbol(h),a.push(h);case 16:f++,l++,e.next=7;break;case 19:b++,e.next=5;break;case 22:return e.abrupt("return",a);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSymbol",value:function(e,t){}},{key:"getSymbolAsync",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return[]}},{key:"getClassBreakInfos",value:function(){var e;return null==(e=this.styleRenderer)?void 0:e.classBreakInfos}},{key:"getDefaultSymbol",value:function(){var e;return null==(e=this.styleRenderer)?void 0:e.defaultSymbol}},{key:"_getDefaultSymbol",value:function(e){return new w.a({path:"M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z",outline:new O.a({width:0}),size:20,color:e||new v.a([0,92,230])})}},{key:"_getVisualVariablesAppliedSymbol",value:function(e){if(e){var t=this.styleRenderer&&this.styleRenderer.getSymbol(e);t=t.clone();var r=this.sizeVariables,a=this.rotationVariables;if(r&&r.length&&this.sizeVariables.forEach((function(r){return function(e,t){return te.apply(this,arguments)}(t,Object(A.a)([r],e))})),a&&a.length){var n=e.attributes.Direction;e.attributes.Direction="flow-from"===this.flowRepresentation?n:n+180,this.rotationVariables.forEach((function(r){return function(e,t,r){if(e&&null!=t)if(Object(M.h)(e)){var a=e.symbolLayers;a&&a.forEach((function(e){if(e&&"object"===e.type)switch(r){case"tilt":e.tilt=t;break;case"roll":e.roll=t;break;default:e.heading=t}}))}else Object(M.c)(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle=t))}(t,Object(A.d)(r,e),r.axis)}))}return t}}},{key:"_createStyleRenderer",value:function(e){var t={defaultSymbol:this._getDefaultSymbol(),classBreakInfos:[]};switch(e){case"single-arrow":t=this._createSingleArrowRenderer();break;case"beaufort-kn":t=this._createBeaufortKnotsRenderer();break;case"beaufort-m":t=this._createBeaufortMeterRenderer();break;case"beaufort-ft":t=this._createBeaufortFeetRenderer();break;case"beaufort-mi":t=this._createBeaufortMilesRenderer();break;case"beaufort-km":t=this._createBeaufortKilometersRenderer();break;case"ocean-current-m":t=this._createCurrentMeterRenderer();break;case"ocean-current-kn":t=this._createCurrentKnotsRenderer();break;case"simple-scalar":t=this._createSimpleScalarRenderer();break;case"wind-barb":t=this._createWindBarbsRenderer();break;case"classified-arrow":t=this._createClassifiedArrowRenderer()}return new k.a(t)}},{key:"_createSingleArrowRenderer",value:function(){return{defaultSymbol:this._getDefaultSymbol()}}},{key:"_createBeaufortKnotsRenderer",value:function(){return{defaultSymbol:this._getDefaultSymbol(new v.a([214,47,39])),classBreakInfos:this._getClassBreaks([0,1,3,6,10,16,21,27,33,40,47,55,63],[[40,146,199],[89,162,186],[129,179,171],[160,194,155],[191,212,138],[218,230,119],[250,250,100],[252,213,83],[252,179,102],[250,141,52],[247,110,42],[240,71,29]])}}},{key:"_createBeaufortMeterRenderer",value:function(){return{defaultSymbol:this._getDefaultSymbol(new v.a([214,47,39])),classBreakInfos:this._getClassBreaks([0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}},{key:"_createBeaufortFeetRenderer",value:function(){var e=this._getDefaultSymbol(new v.a([214,47,39])),t=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return t=t.map((function(e){return 3.28084*e})),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}},{key:"_createBeaufortMilesRenderer",value:function(){var e=this._getDefaultSymbol(new v.a([214,47,39])),t=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return t=t.map((function(e){return 2.23694*e})),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}},{key:"_createBeaufortKilometersRenderer",value:function(){var e=this._getDefaultSymbol(new v.a([214,47,39])),t=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return t=t.map((function(e){return 3.6*e})),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}},{key:"_createCurrentMeterRenderer",value:function(){return{defaultSymbol:this._getDefaultSymbol(new v.a([177,177,177])),classBreakInfos:this._getClassBreaks([0,.5,1,1.5,2],[[78,26,153],[179,27,26],[202,128,26],[177,177,177]])}}},{key:"_createCurrentKnotsRenderer",value:function(){return{defaultSymbol:this._getDefaultSymbol(new v.a([177,177,177])),classBreakInfos:this._getClassBreaks([0,.25,.5,1,1.5,2,2.5,3,3.5,4],[[0,0,0],[0,37,100],[78,26,153],[151,0,100],[179,27,26],[177,78,26],[202,128,26],[177,179,52],[177,177,177]])}}},{key:"_createClassifiedArrowRenderer",value:function(){var e,t=this._getDefaultSymbol(new v.a([56,168,0])),r=[0,1e-6,3.5,7,10.5,14];if(null!=(e=this.sizeVariables)&&e.length){var a=this.sizeVariables[0].minDataValue,n=this.sizeVariables[0].maxDataValue;if(a&&n){var i=(n-a)/5;r=Array.from(Array(6).keys()).map((function(e){return a+i*e}))}}return{defaultSymbol:t,classBreakInfos:this._getClassBreaks(r,[[56,168,0],[139,309,0],[255,255,0],[255,128,0],[255,0,0]])}}},{key:"_createSimpleScalarRenderer",value:function(){return{defaultSymbol:I.a.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAQAAABLVLlLAAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAACqjSMyAAAACXBIWXMAAABIAAAASABGyWs+AAAC3ElEQVRIx9XXvW4cVRQH8N982btpsIREJECyiCXsxX4DKh6AliqGKCBBE2SlwlHgAbBD/AKmyEYUeQ1KahPZSZQvBCkQLTHZ7KGY8Xodz4w3a1NwbzVzz/znfJ//zbStVC5q3icKak9GAs2QIdDx3PtW/S011NW3p+M5Eomh11ipTIKe6+4LQzHaQ+G+63pIZNJJQXMpljwTwj1brpgx5w1zZlyx5Z4QnllEIm2xeeSUHBf0hV0bejo1Uh09G3aFvgXk7cCJFBc9EdaRVuHJJaOdKyTV2TVhYLMduNR0Q9gxL5GaaTDw8GzejrDRBpxWoGsySRW0dttKuattwNkIlFw2YXgzOdYq4Ox49PlM+JrKd5OusjTWhBuVxUfMX/KXXZ3WEmkuqa67wspR4BTbwtKr/5u4fFgStse/T7EifFPnnYl9zPq4vmUOPrRndgoHjDti1gOPqlyXoifcRNGQzUd31lDyfHmob1Gp35vSr+P6vilcQ5Egtyd8YF/ySg9NhPM+9M/IOaHwp5+PSZayXTvCogEUwlatC3J8LLwYtcWB8EuDXQVuCkV5/B4eNHb7wGBs87LBDS+xjdVSn09wq1G8dFM+9tSUhIGneLvUdniKxKpTYljCpu3j7rVWlHj/P23v4NPGUEyeCQnexe9lJjzEQqMjJs+EzNAX6B98dBZVRmroJx95x/A/6gln18EyfCUsl+qdXb/tjvfbw+mwforpUOBz4XLVoBwAn3aWnfeH246NyBXhrq7TTN5lNSP9RkU+puUJm3W2Tsdq0nZWM07srk7MwQrZSRysjjGWBLRJNsNbfj2JMR4AbxpU1XLAb9Mxfpsq5EjMuuiR8L0JiHOOBX3hiUvOmavN0nMueSzcceFk0BK4pMqLo7vDD1Z0qrtDx7Itt4Xwm9UqbMmk8S0Dtuzb2pvOU99Z1nLTOfleNmvfZfP2pYZmPfajwosKdDBNpacNpVGGsWX9CyDI8Xq/Sj6QAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE0LTExLTEwVDAzOjE3OjU4LTA1OjAwF+tHyQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNC0xMS0xMFQwMzoxNzo1OC0wNTowMGa2/3UAAAAASUVORK5CYII=",height:20,width:20,type:"esriPMS",angle:0})}}},{key:"_createWindBarbsRenderer",value:function(){var e=Array.from(Array(31).keys()).map((function(e){return 5*e})),t=[{range:"0-5",path:"M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTIwIDIwIE01IDIwIEExNSAxNSAwIDEgMCAzNSAyMCBBMTUgMTUgMCAxIDAgNSAyMCBNMjAgMjAgTTEwIDIwIEExMCAxMCAwIDEgMCAzMCAyMCBBMTAgMTAgMCAxIDAgMTAgMjAiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"5-10",path:"M25 0 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjE1IDIwIDIwIDIwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik0yNSAwIEwyNSA0MCBNMjUgMzUgTDE3LjUgMzcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"10-15",path:"M25 0 L25 40 L10 45 L25 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"15-20",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjEyIDAgMTUgNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"20-25",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"25-30",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIEwyNSAzNSBNMjUgMzAgTDE3LjUgMzIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"30-35",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"35-40",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"40-45",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"45-50",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"50-55",path:"M25 0 L25 40 L10 40 L25 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"55-60",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxNy41IDMyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"60-65",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"65-70",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"70-75",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"75-80",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"80-85",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"85-90",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxNy41IDE3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"90-95",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"95-100",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCBMMjUgMTUgTTI1IDEwIEwxNy41IDEyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"100-105",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"105-110",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDE3LjUgMjcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"110-115",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"115-120",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDE3LjUgMjIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"120-125",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"125-130",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDE3LjUgMTcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"130-135",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"135-140",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDE3LjUgMTIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"140-145",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"145-150",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IE0yNSAxMCBNMjUgNSBMMTcuNSA3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="}],r=I.a.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAQAAADtq6NDAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEY0lEQVRIx5XXWWxWRRQH8N+d+31tUdGAVjGglYJABFEBY91jfDAg7piYaFTccA++uMQEFRcSXlATtxiXqMQt4G4iisYl0ai4sIQYtVFZ1KIFKdTS0l4f7vRCS5fPebozc+bM/2z/Mzcx0AgSiUxXnKfIdMn875FIhX53U2n/B/s+kKM4UINTjTBZImixxnrv+9a2iL6zEoUBXcoudrWj/OtHm3wt02lfU9Qao9OnHvIhgmww84MEl1qnxfNmGrqHxAizLdPpC6chGcAxKGGcL+30gOERf1BSpUqVslQSV8d5ReZFe8VQ9avufJn31cWwlJV7iafKStGOE/1qvfH9qUxxu8ydUdmuSKbGO8YUdT2inKLG69pM70tliktl5qIkCAJGmusDG7Vqsc0WjZa4UBlBiA5YZIcjYzB7qDtH5kaUJFLs7RGZTZ42W4PRRmtwvbdt1+wGiaS4drEtDttdZYIDNVuAclR3vA3+dI3qHqmVSy7U6Tv1MScCPvPR7nIpFlsdCy3FdTLPGhK92e2CUITjMJ9ocwKxnsZqc3O3JwMma3d6UVLnyVxB4aXemZqvPqLdpJhW3KVVbY4yYImPo6M5Urv50fj+0z/FG9YaEiENs8UtMfXUaTeTePNHlhXfA1UU+2lyD1Il3Gtt9+adfpNG7dNlpg2U/T3KYLZ2dUWFdTgp3/rQ4sK973qnInV5TIf40x3dhvrJPBiqyWUo4wAtLqhQYS71qK+QKOFRywmGK/kpikzV6WMKhh58vGWs4TIJNjiEYLIuP8Tt4/zmLyqk+AyrJSbF+Qq1DgqRUPMxyl+9q3IQhX/rMCJ6tEunriDs1oSyQZKlr9AkhT2ZIARbJfaJS1vtVbHB+Rgi0RK/y1q1BWsEEyLoz40xtGKcARPVWB1BTPO7f4LNtpkUl1aoMbViLyZo0GRjPD3BxnxjqXeLYlvhqYrzMMG3HoyJXa3JjfnGlbYYFlP7Jh3qKsKY4hQ7TY0nG+xwRL61n63mxHtqNHosigyMLmClNwvuecFnOZB88nNBDzNkzhxEZaKMBVoKapggMzvHHXBEpNSSFAvtcFRsVn0bW8LlMmcXs+c0Kne3gRR32+zg4uXwjC6zit6Wt4a8LXVfcp/MtQXHn2ynGbuCmb8GvvFeJLEE82ReU9/n6+dkq2x3buG9Wn94smcgAw631RPR7BTH+kbmHReZoEpOdEe7zWqZl40s0JWs9Hmv7hjBHqPDwsjGKVJnWWqjbdZp1KhJi0aPmxYZsIRhlttgeF+Jlke41QcOQKoqilSb6HJzSvNG3G/UoWnxwsmt+sVaYwd63dRbqdnMyCPVeyRPvpYgdavM22oGKoMUVRbJfOWMwidJ8Zzb1UvmWK/VVUXzHaTjjrVYh1897HT7xxYEVUaa5SWb/WO+YUWa9SrwvigzM8YlzlYv2GSdVCYxxlBtVnnFq5olwp5/BEk/OLsf5LUmG2+inRJdVvjZ97ZH9/zP34ug1O91pf4p+D+JYBpvrKxfbwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNC0xMS0xMFQwMzoxMjowOS0wNTowMB9ViV0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTQtMTEtMTBUMDM6MTI6MDktMDU6MDBuCDHhAAAAAElFTkSuQmCC",height:20,width:20,type:"esriPMS",angle:0}),a=e.map((function(a,n){var i;if(n!==e.length-1)if(0===n)i={minValue:a,maxValue:e[n+1],symbol:r};else{var o=I.a.fromJSON({type:"esriPMS",imageData:t[n].imageData,contentType:"image/svg+xml",height:32,width:32,angle:0});i={minValue:a,maxValue:e[n+1],symbol:o}}return new T.a(i)}));return{defaultSymbol:r,classBreakInfos:a}}},{key:"_getClassBreaks",value:function(e,t){var r=this;return t.map((function(t,a){return new T.a({minValue:e[a],maxValue:e[a+1],symbol:r._getDefaultSymbol(new v.a(t))})}))}},{key:"styleRenderer",get:function(){var e=this.style,t=this.attributeField,r=this._createStyleRenderer(e);return r.field=t,r}},{key:"sizeVariables",get:function(){var e=[];if(this.visualVariables){var t,r=Object(a.a)(this.visualVariables);try{for(r.s();!(t=r.n()).done;){var n=t.value;"size"===n.type&&e.push(n)}}catch(o){r.e(o)}finally{r.f()}}if(0===e.length){var i=new R.a({minSize:.2*this.symbolTileSize,maxSize:.8*this.symbolTileSize});this.visualVariables?this.visualVariables.push(i):this._set("visualVariables",[i]),e.push(i)}return e}},{key:"rotationVariables",get:function(){var e=[];if(this.visualVariables){var t,r=Object(a.a)(this.visualVariables);try{for(r.s();!(t=r.n()).done;){var n=t.value;"rotation"===n.type&&e.push(n)}}catch(o){r.e(o)}finally{r.f()}}if(0===e.length){var i=new S.a({field:"Direction",rotationType:this.rotationType});this.visualVariables?this.visualVariables.push(i):this._set("visualVariables",[i]),e.push(i)}return e}}]),r}(Object(D.a)(g.a));Object(p.a)([Object(b.b)({type:String,json:{write:!0}})],oe.prototype,"attributeField",void 0),Object(p.a)([Object(b.b)({type:ie.apiValues,json:{type:ie.jsonValues,read:{reader:ie.read},write:{writer:ie.write}}})],oe.prototype,"flowRepresentation",void 0),Object(p.a)([Object(b.b)({type:["geographic","arithmetic"],json:{write:!0}})],oe.prototype,"rotationType",void 0),Object(p.a)([Object(b.b)({type:ne.apiValues,json:{type:ne.jsonValues,read:{reader:ne.read},write:{writer:ne.write}}})],oe.prototype,"style",void 0),Object(p.a)([Object(b.b)({json:{write:!0}})],oe.prototype,"symbolTileSize",void 0),Object(p.a)([Object(b.b)({type:ae.apiValues,json:{type:ae.jsonValues,write:{writer:ae.write}}})],oe.prototype,"inputUnit",void 0),Object(p.a)([Object(m.a)("inputUnit")],oe.prototype,"readInputUnit",null),Object(p.a)([Object(b.b)({type:ae.apiValues,json:{type:ae.jsonValues,read:{reader:ae.read},write:{writer:ae.write}}})],oe.prototype,"outputUnit",void 0),Object(p.a)([Object(m.a)("outputUnit")],oe.prototype,"readOutputUnit",null),Object(p.a)([Object(y.a)({vectorField:"vector-field"})],oe.prototype,"type",void 0),Object(p.a)([Object(b.b)({type:k.a,dependsOn:["style","attributeField"]})],oe.prototype,"styleRenderer",null),Object(p.a)([Object(b.b)({type:R.a,dependsOn:["visualVariables","symbolTileSize"]})],oe.prototype,"sizeVariables",null),Object(p.a)([Object(b.b)({type:S.a,dependsOn:["visualVariables","rotationType"]})],oe.prototype,"rotationVariables",null);var se=oe=q=Object(p.a)([Object(h.a)("esri.renderers.VectorFieldRenderer")],oe);t.a=se},785:function(e,t,r){"use strict";var a=r(2),n=r(3),i=r(4),o=r(5),s=r(0),c=(r(13),r(12),r(14)),u=r(1),l=r(29),p=r(6),d=(r(9),r(19),r(20),r(23)),b=r(37),f=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){var e;return Object(a.a)(this,r),(e=t.apply(this,arguments)).value=null,e.label=null,e.color=null,e}return r}(d.a);Object(s.a)([Object(u.b)({type:Number,json:{write:!0}})],f.prototype,"value",void 0),Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],f.prototype,"label",void 0),Object(s.a)([Object(u.b)({type:b.a,json:{type:[c.a],write:!0}})],f.prototype,"color",void 0);var y,m=f=Object(s.a)([Object(p.a)("esri.renderers.support.ColormapInfo")],f),h=r(815),g=y=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).colormapInfos=null,n.type="raster-colormap",n}return Object(n.a)(r,[{key:"clone",value:function(){return new y({colormapInfos:this.colormapInfos.map((function(e){return e.toJSON()}))})}},{key:"extractColormap",value:function(){return this.colormapInfos.map((function(e){return[e.value,e.color.r,e.color.g,e.color.b,e.color.a>1?e.color.a:255*e.color.a&255]})).sort((function(e,t){return e[0]-t[0]}))}}],[{key:"createFromColormap",value:function(e,t){if(!e)return null;function r(e){return t?t[e]||"":String(e[0])}var a=5===e[0].length,n=e.sort((function(e){return e[0][0]-e[1][0]})),i=a?n.map((function(e){return m.fromJSON({value:e[0],color:e.slice(1,5),label:r(e[0])})})):n.map((function(e){return m.fromJSON({value:e[0],color:e.slice(1,4).concat([255]),label:r(e[0])})}));return new y({colormapInfos:i})}},{key:"createFromColorramp",value:function(e){var t=Object(h.b)(e,256);return y.createFromColormap(t)}}]),r}(d.a);Object(s.a)([Object(u.b)({type:[m],json:{write:!0}})],g.prototype,"colormapInfos",void 0),Object(s.a)([Object(l.a)({rasterColormap:"raster-colormap"})],g.prototype,"type",void 0);var j=g=y=Object(s.a)([Object(p.a)("esri.renderers.RasterColormapRenderer")],g);t.a=j},791:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var a=r(2),n=r(3),i=r(4),o=r(5),s=r(0),c=(r(13),r(12),r(14),r(1)),u=r(28),l=r(6),p=(r(9),r(19),r(20),r(69)),d=r(231),b=r(296),f=r(775),y=r(794);var m=function(e){var t=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){var e;return Object(a.a)(this,r),(e=t.apply(this,arguments)).timeExtent=null,e.timeOffset=null,e.useViewTime=!0,e}return Object(n.a)(r,[{key:"readOffset",value:function(e,t){var r=t.timeInfo.exportOptions;if(!r)return null;var a=r.timeOffset,n=d.c.fromJSON(r.timeOffsetUnits);return a&&n?new f.a({value:a,unit:n}):null}},{key:"timeInfo",set:function(e){Object(p.g)(e,this.fields),this._set("timeInfo",e)}}]),r}(e);return Object(s.a)([Object(c.b)({type:b.a,json:{write:!1}})],t.prototype,"timeExtent",void 0),Object(s.a)([Object(c.b)({type:f.a})],t.prototype,"timeOffset",void 0),Object(s.a)([Object(u.a)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),Object(s.a)([Object(c.b)({value:null,type:y.a,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),Object(s.a)([Object(c.b)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=Object(s.a)([Object(l.a)("esri.layers.mixins.TemporalLayer")],t),t}},792:function(e,t,r){"use strict";var a,n=r(2),i=r(3),o=r(4),s=r(5),c=r(0),u=(r(13),r(18)),l=(r(12),r(14)),p=r(1),d=r(6),b=r(26),f=(r(9),r(19),r(20),r(23)),y=r(36),m=(r(86),r(267)),h=a=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).dynamicDataSource=void 0,a.gdbVersion=null,a.geometryPrecision=void 0,a.historicMoment=null,a.maxAllowableOffset=void 0,a.objectIds=null,a.orderByFields=null,a.outFields=null,a.outSpatialReference=null,a.relationshipId=void 0,a.start=void 0,a.num=void 0,a.returnGeometry=!1,a.returnM=void 0,a.returnZ=void 0,a.where=null,a}return Object(i.a)(r,[{key:"_writeHistoricMoment",value:function(e,t){t.historicMoment=e&&e.getTime()}},{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}},{key:"clone",value:function(){return new a(Object(u.a)({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}}]),r}(f.a);Object(c.a)([Object(p.b)({type:m.a,json:{write:!0}})],h.prototype,"dynamicDataSource",void 0),Object(c.a)([Object(p.b)({type:String,json:{write:!0}})],h.prototype,"gdbVersion",void 0),Object(c.a)([Object(p.b)({type:Number,json:{write:!0}})],h.prototype,"geometryPrecision",void 0),Object(c.a)([Object(p.b)({type:Date})],h.prototype,"historicMoment",void 0),Object(c.a)([Object(b.a)("historicMoment")],h.prototype,"_writeHistoricMoment",null),Object(c.a)([Object(p.b)({type:Number,json:{write:!0}})],h.prototype,"maxAllowableOffset",void 0),Object(c.a)([Object(p.b)({type:[Number],json:{write:!0}})],h.prototype,"objectIds",void 0),Object(c.a)([Object(p.b)({type:[String],json:{write:!0}})],h.prototype,"orderByFields",void 0),Object(c.a)([Object(p.b)({type:[String],json:{write:!0}})],h.prototype,"outFields",void 0),Object(c.a)([Object(p.b)({type:y.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],h.prototype,"outSpatialReference",void 0),Object(c.a)([Object(p.b)({json:{write:!0}})],h.prototype,"relationshipId",void 0),Object(c.a)([Object(p.b)({type:Number,json:{read:{source:"resultOffset"}}})],h.prototype,"start",void 0),Object(c.a)([Object(b.a)("start"),Object(b.a)("num")],h.prototype,"writeStart",null),Object(c.a)([Object(p.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],h.prototype,"num",void 0),Object(c.a)([Object(p.b)({json:{write:!0}})],h.prototype,"returnGeometry",void 0),Object(c.a)([Object(p.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],h.prototype,"returnM",void 0),Object(c.a)([Object(p.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],h.prototype,"returnZ",void 0),Object(c.a)([Object(p.b)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],h.prototype,"where",void 0),(h=a=Object(c.a)([Object(d.a)("esri.tasks.support.RelationshipQuery")],h)).from=Object(l.m)(h);var g=h;t.a=g},794:function(e,t,r){"use strict";var a,n=r(2),i=r(3),o=r(4),s=r(5),c=r(0),u=(r(13),r(18)),l=(r(12),r(14),r(1)),p=r(28),d=r(6),b=r(26),f=(r(9),r(19),r(20),r(23)),y=r(231),m=r(296),h=r(775),g=a=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).respectsDaylightSaving=!1,a.timezone=null,a}return Object(i.a)(r,[{key:"readRespectsDaylightSaving",value:function(e,t){return void 0!==t.respectsDaylightSaving?t.respectsDaylightSaving:void 0!==t.respectDaylightSaving&&t.respectDaylightSaving}},{key:"clone",value:function(){var e=this.respectsDaylightSaving,t=this.timezone;return new a({respectsDaylightSaving:e,timezone:t})}}]),r}(f.a);Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0}})],g.prototype,"respectsDaylightSaving",void 0),Object(c.a)([Object(p.a)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],g.prototype,"readRespectsDaylightSaving",null),Object(c.a)([Object(l.b)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],g.prototype,"timezone",void 0);var j,v=g=a=Object(c.a)([Object(d.a)("esri.layers.support.TimeReference")],g),O=j=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).cumulative=!1,a.endField=null,a.fullTimeExtent=null,a.hasLiveData=!1,a.interval=null,a.startField=null,a.timeReference=null,a.trackIdField=null,a.useTime=!0,a}return Object(i.a)(r,[{key:"readFullTimeExtent",value:function(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;var r=new Date(t.timeExtent[0]),a=new Date(t.timeExtent[1]);return new m.a({start:r,end:a})}},{key:"writeFullTimeExtent",value:function(e,t){e&&e.start&&e.end?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}},{key:"readInterval",value:function(e,t){return t.timeInterval&&t.timeIntervalUnits?new h.a({value:t.timeInterval,unit:y.c.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new h.a({value:t.defaultTimeInterval,unit:y.c.fromJSON(t.defaultTimeIntervalUnits)}):null}},{key:"writeInterval",value:function(e,t){if(e){var r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null}},{key:"clone",value:function(){var e=this.cumulative,t=this.endField,r=this.hasLiveData,a=this.interval,n=this.startField,i=this.timeReference,o=this.fullTimeExtent,s=this.trackIdField,c=this.useTime;return new j({cumulative:e,endField:t,hasLiveData:r,interval:a,startField:n,timeReference:Object(u.a)(i),fullTimeExtent:Object(u.a)(o),trackIdField:s,useTime:c})}}]),r}(f.a);Object(c.a)([Object(l.b)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],O.prototype,"cumulative",void 0),Object(c.a)([Object(l.b)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],O.prototype,"endField",void 0),Object(c.a)([Object(l.b)({type:m.a,json:{write:{enabled:!0,allowNull:!0}}})],O.prototype,"fullTimeExtent",void 0),Object(c.a)([Object(p.a)("fullTimeExtent",["timeExtent"])],O.prototype,"readFullTimeExtent",null),Object(c.a)([Object(b.a)("fullTimeExtent")],O.prototype,"writeFullTimeExtent",null),Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0}})],O.prototype,"hasLiveData",void 0),Object(c.a)([Object(l.b)({type:h.a,json:{write:{enabled:!0,allowNull:!0}}})],O.prototype,"interval",void 0),Object(c.a)([Object(p.a)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],O.prototype,"readInterval",null),Object(c.a)([Object(b.a)("interval")],O.prototype,"writeInterval",null),Object(c.a)([Object(l.b)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],O.prototype,"startField",void 0),Object(c.a)([Object(l.b)({type:v,json:{write:{enabled:!0,allowNull:!0}}})],O.prototype,"timeReference",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],O.prototype,"trackIdField",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],O.prototype,"useTime",void 0);var I=O=j=Object(c.a)([Object(d.a)("esri.layers.support.TimeInfo")],O);t.a=I},799:function(e,t,r){"use strict";var a,n=r(2),i=r(3),o=r(4),s=r(5),c=r(0),u=(r(13),r(18)),l=(r(12),r(14)),p=r(1),d=r(6),b=r(26),f=(r(9),r(19),r(20),r(23)),y=a=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).attachmentTypes=null,a.attachmentsWhere=null,a.keywords=null,a.globalIds=null,a.name=null,a.num=null,a.objectIds=null,a.returnMetadata=!1,a.size=null,a.start=null,a.where=null,a}return Object(i.a)(r,[{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}},{key:"clone",value:function(){return new a(Object(u.a)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}}]),r}(f.a);Object(c.a)([Object(p.b)({type:[String],json:{write:!0}})],y.prototype,"attachmentTypes",void 0),Object(c.a)([Object(p.b)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],y.prototype,"attachmentsWhere",void 0),Object(c.a)([Object(p.b)({type:[String],json:{write:!0}})],y.prototype,"keywords",void 0),Object(c.a)([Object(p.b)({type:[Number],json:{write:!0}})],y.prototype,"globalIds",void 0),Object(c.a)([Object(p.b)({json:{write:!0}})],y.prototype,"name",void 0),Object(c.a)([Object(p.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],y.prototype,"num",void 0),Object(c.a)([Object(p.b)({type:[Number],json:{write:!0}})],y.prototype,"objectIds",void 0),Object(c.a)([Object(p.b)({type:Boolean,json:{default:!1,write:!0}})],y.prototype,"returnMetadata",void 0),Object(c.a)([Object(p.b)({type:[Number],json:{write:!0}})],y.prototype,"size",void 0),Object(c.a)([Object(p.b)({type:Number,json:{read:{source:"resultOffset"}}})],y.prototype,"start",void 0),Object(c.a)([Object(b.a)("start"),Object(b.a)("num")],y.prototype,"writeStart",null),Object(c.a)([Object(p.b)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],y.prototype,"where",void 0),(y=a=Object(c.a)([Object(d.a)("esri.tasks.support.AttachmentQuery")],y)).from=Object(l.m)(y);var m=y;t.a=m},811:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r(2),n=r(3),i=r(403),o=function(){function e(t,r){Object(a.a)(this,e),this._storage=new i.b,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}return Object(n.a)(e,[{key:"put",value:function(e,t){this._storage.put(e,t,1,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.clearAll()}}]),e}()},816:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return d}));var a=r(11),n=r(116),i=r(295),o=r(785),s=r(780),c=r(781),u=r(297),l=r(784),p={key:"type",base:null,typeMap:{"unique-value":u.a,"class-breaks":i.a,"raster-colormap":o.a,"raster-stretch":c.a,"vector-field":l.a,"raster-shaded-relief":s.a}},d=Object(a.a)(Object(a.a)({},p),{},{typeMap:Object(a.a)({},p.typeMap)});delete d.typeMap["vector-field"];var b={uniqueValue:u.a,classBreaks:i.a,rasterStretch:c.a,rasterColormap:o.a,vectorField:l.a,rasterShadedRelief:s.a};function f(e,t){if(!e)return null;var r,a=(r=e)&&b[r.type]||null;if(a){var i=new a;return i.read(e,t),i}return t&&t.messages&&e&&t.messages.push(new n.a("renderer:unsupported","Renderers of type '"+(e.type||"unknown")+"' are not supported",{definition:e,context:t})),null}},817:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return l})),r.d(t,"h",(function(){return c}));var a=r(32),n=r(16);function i(e,t,r){var i=function(e){for(var t=e.length;t--;)if(-1===" /-,\n".indexOf(e.charAt(t)))return!1;return!0},s=[],c=0,u=-1;do{if((u=t.indexOf("[",c))>=c){if(u>c){var l=t.substr(c,u-c);s.push([l,null,i(l)])}if(c=u+1,(u=t.indexOf("]",c))>=c){if(u>c){var p=e[t.substr(c,u-c)];p&&s.push([null,p,!1])}c=u+1}}}while(-1!==u);if(c<t.length-1){var d=t.substr(c);s.push([d,null,i(d)])}return function(e){var t,i="",c=null,u=Object(n.a)(s);try{for(u.s();!(t=u.n()).done;){var l=t.value,p=Object(a.a)(l,3),d=p[0],b=p[1],f=p[2];if(d)f?c=d:(c&&(i+=c,c=null),i+=d);else{var y=e.attributes[b];y&&(c&&(i+=c,c=null),i+=y)}}}catch(m){u.e(m)}finally{u.f()}return o(i,r)}}function o(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function s(e){return e?{r:e[0],g:e[1],b:e[2],a:e[3]/255}:{r:0,g:0,b:0,a:0}}function c(e){var t;return null==(t=e.data)?void 0:t.symbol}function u(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function l(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function p(e){return"CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type}function d(e){return"CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type}},865:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var a=new(r(34).a)({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"}),n={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"}},866:function(e,t,r){"use strict";var a,n=r(2),i=r(3),o=r(4),s=r(5),c=r(0),u=(r(13),r(18)),l=(r(12),r(14)),p=r(1),d=r(6),b=(r(9),r(19),r(20),r(23)),f=a=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).variableName=null,a.dimensionName=null,a.values=[],a.isSlice=!1,a}return Object(i.a)(r,[{key:"clone",value:function(){return new a({variableName:this.variableName,dimensionName:this.dimensionName,values:Object(u.a)(this.values),isSlice:this.isSlice})}}]),r}(b.a);Object(c.a)([Object(p.b)({type:String,json:{write:!0}})],f.prototype,"variableName",void 0),Object(c.a)([Object(p.b)({type:String,json:{write:!0}})],f.prototype,"dimensionName",void 0),Object(c.a)([Object(p.b)({type:l.p.array(l.p.oneOf([l.p.native(Number),l.p.array(l.p.native(Number))])),json:{write:!0}})],f.prototype,"values",void 0),Object(c.a)([Object(p.b)({type:Boolean,json:{write:!0}})],f.prototype,"isSlice",void 0);var y=f=a=Object(c.a)([Object(d.a)("esri.layers.support.DimensionalDefinition")],f);t.a=y},883:function(e,t,r){"use strict";r.r(t);var a,n,i,o=r(16),s=r(11),c=r(2),u=r(3),l=r(4),p=r(5),d=r(0),b=(r(13),r(10)),f=r(12),y=r(14),m=r(1),h=r(6),g=r(26),j=r(9),v=(r(19),r(20),r(15)),O=r(232),I=r(183),w=r(184),M=r(185),x=r(228),S=r(233),A=r(230),R=r(227),D=r(394),T=r(229),k=r(791),N=r(397),C=r(8),L=r.n(C),z=r(22),P=r(18),B=r(84),U=r(34),H=r(28),E=r(21),_=r(36),Z=r(48),J=r(57),F=r(122),V=(r(86),r(58)),G=r(206),W=r(778),Q=r(816),q=r(294),K=r(392),X=r(677),Y=r(349),$=r(803),ee=r(866),te=r(29),re=r(23),ae=new Set(["Raster","Raster2","DEM","FillRaster"]),ne=new Set(["Rasters"]),ie=function(e){return e&&e.rasterFunction?se.fromJSON(e):e},oe=function(e){return e&&e instanceof se?e.toJSON():e};(i=n||(n={}))[i.MOSAIC=0]="MOSAIC",i[i.GROUP=1]="GROUP",i[i.ITEM=2]="ITEM";var se=a=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(e){var a;return Object(c.a)(this,r),(a=t.call(this,e)).functionArguments=null,a.functionName=null,a.outputPixelType="unknown",a.variableName=null,a.description=null,a.functionDefinition=null,a.thumbnail=null,a}return Object(u.a)(r,[{key:"readFunctionArguments",value:function(e,t){return function(e){if(null==e)return null;for(var t={},r=0,a=Object.keys(e);r<a.length;r++){var n=a[r];ae.has(n)?t[n]=ie(e[n]):ne.has(n)&&Array.isArray(e[n])?t[n]=e[n].map(ie):t[n]=e[n]}return t}(t.arguments||t.rasterFunctionArguments)}},{key:"writeFunctionArguments",value:function(e,t,r){for(var a={},n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];ae.has(o)?a[o]=oe(e[o]):ne.has(o)&&Array.isArray(e[o])?a[o]=e[o].map(oe):a[o]=oe(e[o])}this.functionDefinition?t.arguments=a:t[r]=a}},{key:"readFunctionName",value:function(e,t){var r=t.rasterFunctionInfos;return t.name||(r&&r.length&&"None"!==r[0].name?r[0].name:t.rasterFunction)}},{key:"writeFunctionName",value:function(e,t,r){this.functionDefinition?t.name=e:t[r]=e}},{key:"readFunctionType",value:function(e){return n[e]}},{key:"writeFunctionType",value:function(e,t,r){t[r]=n[e]}},{key:"clone",value:function(){return new a({functionName:this.functionName,functionArguments:Object(P.a)(this.functionArguments),outputPixelType:this.outputPixelType,variableName:this.variableName,description:this.description,functionType:this.functionType,functionDefinition:this.functionDefinition,thumbnail:this.thumbnail})}}]),r}(re.a);Object(d.a)([Object(m.b)({json:{type:Object,write:{target:"rasterFunctionArguments"}}})],se.prototype,"functionArguments",void 0),Object(d.a)([Object(H.a)("functionArguments",["rasterFunctionArguments","arguments"])],se.prototype,"readFunctionArguments",null),Object(d.a)([Object(g.a)("functionArguments")],se.prototype,"writeFunctionArguments",null),Object(d.a)([Object(m.b)({json:{type:String,write:{target:"rasterFunction"}}})],se.prototype,"functionName",void 0),Object(d.a)([Object(H.a)("functionName",["rasterFunction","rasterFunctionInfos","name"])],se.prototype,"readFunctionName",null),Object(d.a)([Object(g.a)("functionName")],se.prototype,"writeFunctionName",null),Object(d.a)([Object(te.a)({C128:"c128",C64:"c64",F32:"f32",F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"},{ignoreUnknown:!1}),Object(m.b)({json:{default:"unknown"}})],se.prototype,"outputPixelType",void 0),Object(d.a)([Object(m.b)({type:String,json:{read:!0,write:!0}})],se.prototype,"variableName",void 0),Object(d.a)([Object(m.b)({type:String,json:{read:!0,write:!0,origins:{"web-document":{read:!1,write:!1}}}})],se.prototype,"description",void 0),Object(d.a)([Object(m.b)({json:{origins:{"web-document":{read:!1,write:!1}}}})],se.prototype,"functionType",void 0),Object(d.a)([Object(H.a)("functionType")],se.prototype,"readFunctionType",null),Object(d.a)([Object(g.a)("functionType")],se.prototype,"writeFunctionType",null),Object(d.a)([Object(m.b)({type:Object,json:{read:{source:"function"},write:{target:"function"},origins:{"web-document":{read:!1,write:!1}}}})],se.prototype,"functionDefinition",void 0),Object(d.a)([Object(m.b)({type:String,json:{read:!0,write:!0,origins:{"web-document":{read:!1,write:!1}}}})],se.prototype,"thumbnail",void 0);var ce=se=a=Object(d.a)([Object(h.a)("esri.layers.support.RasterFunction")],se),ue=r(302),le=r(815),pe=r(865),de={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},be={simple_scalar:"Simple Scalar",wind_barb:"Wind Barb",single_arrow:"Single Arrow",beaufort_kn:"Beaufort Wind (Knots)",beaufort_m:"Beaufort Wind (MetersPerSecond)",ocean_current_m:"Ocean Current (MetersPerSecond)",ocean_current_kn:"Ocean Current (Knots)"},fe=new Set(["raster-stretch","unique-value","class-breaks","raster-shaded-relief","vector-field","raster-colormap"]);function ye(e){return fe.has(e.type)}function me(e,t){if(!e||!t)return Object(P.a)(e||t);var r=Object(P.a)(e);return"none"!==t.functionName.toLowerCase()&&((function e(t){var r=t.Raster;return r&&"esri.layers.support.RasterFunction"===r.declaredClass?e(r.functionArguments):t}(r.functionArguments)).Raster=t),r}var he={none:0,standardDeviation:3,histogramEqualization:4,minMax:5,percentClip:6,sigmoid:9};function ge(e,t){var r=de[String(t).toLowerCase()];return r&&e.push([Math.floor(r[0]-1),0,0,0],[Math.ceil(r[1]+1),0,0,0]),e}function je(e){if(e){var t=e.fields,r=t&&t.find((function(e){return e&&e.name&&"value"===e.name.toLowerCase()}));return r&&r.name}}var ve,Oe=r(54),Ie=Object(U.b)()({MT_FIRST:"first",MT_LAST:"last",MT_MIN:"min",MT_MAX:"max",MT_MEAN:"mean",MT_BLEND:"blend",MT_SUM:"sum"}),we=Object(U.b)()({esriMosaicNone:"none",esriMosaicCenter:"center",esriMosaicNadir:"nadir",esriMosaicViewpoint:"viewpoint",esriMosaicAttribute:"attribute",esriMosaicLockRaster:"lock-raster",esriMosaicNorthwest:"northwest",esriMosaicSeamline:"seamline"}),Me=ve=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(e){var a;return Object(c.a)(this,r),(a=t.call(this,e)).ascending=!0,a.itemRenderingRule=null,a.lockRasterIds=null,a.method=null,a.multidimensionalDefinition=null,a.objectIds=null,a.operation=null,a.sortField=null,a.sortValue=null,a.viewpoint=null,a.where=null,a}return Object(u.a)(r,[{key:"readAscending",value:function(e,t){return null!=t.ascending?t.ascending:null==t.sortAscending||t.sortAscending}},{key:"readMethod",value:function(e,t){return function(e){var t;switch(e?e.toLowerCase().replace("esrimosaic",""):""){case"byattribute":case"attribute":t="esriMosaicAttribute";break;case"lockraster":t="esriMosaicLockRaster";break;case"center":t="esriMosaicCenter";break;case"northwest":t="esriMosaicNorthwest";break;case"nadir":t="esriMosaicNadir";break;case"viewpoint":t="esriMosaicViewpoint";break;case"seamline":t="esriMosaicSeamline";break;case"none":default:t="esriMosaicNone"}return we.fromJSON(t)}(t.mosaicMethod||t.defaultMosaicMethod)}},{key:"readOperation",value:function(e,t){var r=t.mosaicOperation,a=t.mosaicOperator&&t.mosaicOperator.toLowerCase(),n=r||(a?Ie.toJSON(a):null);return Ie.fromJSON(n)||"first"}},{key:"castSortValue",value:function(e){return null==e||"string"==typeof e||"number"==typeof e?e:"".concat(e)}},{key:"clone",value:function(){return new ve({ascending:this.ascending,itemRenderingRule:Object(P.a)(this.itemRenderingRule),lockRasterIds:Object(P.a)(this.lockRasterIds),method:this.method,multidimensionalDefinition:Object(P.a)(this.multidimensionalDefinition),objectIds:Object(P.a)(this.objectIds),operation:this.operation,sortField:this.sortField,sortValue:this.sortValue,viewpoint:Object(P.a)(this.viewpoint),where:this.where})}}]),r}(re.a);Object(d.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Me.prototype,"ascending",void 0),Object(d.a)([Object(H.a)("ascending",["ascending","sortAscending"])],Me.prototype,"readAscending",null),Object(d.a)([Object(m.b)({type:ce,json:{write:!0}})],Me.prototype,"itemRenderingRule",void 0),Object(d.a)([Object(m.b)({type:[y.a],json:{write:{overridePolicy:function(){return{enabled:"lock-raster"===this.method}}}}})],Me.prototype,"lockRasterIds",void 0),Object(d.a)([Object(m.b)({type:String,json:{type:we.jsonValues,write:{target:"mosaicMethod",writer:we.write}}})],Me.prototype,"method",void 0),Object(d.a)([Object(H.a)("method",["mosaicMethod","defaultMosaicMethod"])],Me.prototype,"readMethod",null),Object(d.a)([Object(m.b)({type:[ee.a],json:{write:!0}})],Me.prototype,"multidimensionalDefinition",void 0),Object(d.a)([Object(m.b)({type:[y.a],json:{name:"fids",write:!0}})],Me.prototype,"objectIds",void 0),Object(d.a)([Object(m.b)({json:{type:Ie.jsonValues,read:{reader:Ie.read},write:{target:"mosaicOperation",writer:Ie.write}}})],Me.prototype,"operation",void 0),Object(d.a)([Object(H.a)("operation",["mosaicOperation","mosaicOperator"])],Me.prototype,"readOperation",null),Object(d.a)([Object(m.b)({type:String,json:{write:{overridePolicy:function(){return{enabled:"attribute"===this.method}}}}})],Me.prototype,"sortField",void 0),Object(d.a)([Object(m.b)({type:[String,Number],json:{write:{allowNull:!0,overridePolicy:function(){return{enabled:"attribute"===this.method,allowNull:!0}}}}})],Me.prototype,"sortValue",void 0),Object(d.a)([Object(Oe.a)("sortValue")],Me.prototype,"castSortValue",null),Object(d.a)([Object(m.b)({type:Z.a,json:{write:!0}})],Me.prototype,"viewpoint",void 0),Object(d.a)([Object(m.b)({type:String,json:{write:!0}})],Me.prototype,"where",void 0);var xe=Me=ve=Object(d.a)([Object(h.a)("esri.layers.support.MosaicRule")],Me),Se=new U.a({RSP_NearestNeighbor:"nearest",RSP_BilinearInterpolation:"bilinear",RSP_CubicConvolution:"cubic",RSP_Majority:"majority"}),Ae=new U.a({esriNoDataMatchAny:"any",esriNoDataMatchAll:"all"}),Re=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;return Object(c.a)(this,r),(e=t.apply(this,arguments)).layer=null,e.adjustAspectRatio=void 0,e.bandIds=void 0,e.compression=void 0,e.compressionQuality=void 0,e.compressionTolerance=.01,e.format=null,e.interpolation=null,e.noData=null,e.noDataInterpretation=void 0,e.pixelType=void 0,e.lercVersion=2,e}return Object(u.a)(r,[{key:"writeAdjustAspectRatio",value:function(e,t,r){this.layer.version<10.3||(t[r]=e)}},{key:"writeCompressionQuality",value:function(e,t,r){this.format&&this.format.toLowerCase().indexOf("jpg")>-1&&null!=e&&(t[r]=e)}},{key:"writeCompressionTolerance",value:function(e,t,r){"lerc"===this.format&&null!=e&&(t[r]=e)}},{key:"writeLercVersion",value:function(e,t,r){"lerc"===this.format&&this.layer.version>=10.5&&(t[r]=e)}},{key:"combineRendererWithRenderingRule",value:function(){var e,t=this.layer,r=t.rasterInfo,a=t.renderingRule,n=t.renderer;return n&&ye(n)?me(function(e,t){switch(t=t||{},e.type){case"raster-stretch":return function(e,t){var r=new ce;r.functionName="Stretch";var a=he[pe.b.toJSON(e.stretchType)],n="u8",i={StretchType:a,Statistics:function(e){var t=[];return e.forEach((function(e){var r=e;if(Array.isArray(r))t.push(r);else{if(null==r.min||null==r.max)return;var a=[r.min,r.max,r.avg||0,r.stddev||0];t.push(a)}})),t}(e.statistics),DRA:e.dynamicRangeAdjustment,UseGamma:e.useGamma,Gamma:e.gamma,ComputeGamma:e.computeGamma};if(null!=e.outputMin&&(i.Min=e.outputMin),null!=e.outputMax&&(i.Max=e.outputMax),a===he.standardDeviation?(i.NumberOfStandardDeviations=e.numberOfStandardDeviations,r.outputPixelType=n):a===he.percentClip?(i.MinPercent=e.minPercent,i.MaxPercent=e.maxPercent,r.outputPixelType=n):a===he.minMax?r.outputPixelType=n:a===he.sigmoid&&(i.SigmoidStrengthLevel=e.sigmoidStrengthLevel),r.functionArguments=i,r.variableName="Raster",e.colorRamp){var o=e.colorRamp,s=new ce,c=Object(le.c)(o);return c?s.functionArguments={colorRamp:c}:!t.convertColorRampToColormap||"algorithmic"!==o.type&&"multipart"!==o.type?s.functionArguments={colorRamp:e.colorRamp.toJSON()}:s.functionArguments={Colormap:Object(le.b)(o,256)},s.variableName="Raster",s.functionName="Colormap",s.functionArguments.Raster=r,s}return r}(e,t);case"class-breaks":return function(e,t){var r=[],a=[],n=[],i=[],o=1e-6,s=t.pixelType,c=t.rasterAttributeTable,u=c&&c.features,l=je(c);if(u&&Array.isArray(u)&&e.classBreakInfos){e.classBreakInfos.forEach((function(t,r){var a,n=t.symbol.color;n.a&&u.forEach((function(o){((a=o.attributes[e.field])>=t.minValue&&a<t.maxValue||r===e.classBreakInfos.length-1&&a>=t.minValue)&&i.push([o.attributes[l],n.r,n.g,n.b])}))}));var p=s?ge(i,s):i,d=new ce;return d.functionName="Colormap",d.functionArguments={},d.functionArguments.Colormap=p,d.variableName="Raster",d}e.classBreakInfos.forEach((function(e,t){var s=e.symbol&&e.symbol.color;s.a?(0===t?r.push(e.minValue,e.maxValue+o):r.push(e.minValue+o,e.maxValue+o),a.push(t),i.push([t,s.r,s.g,s.b])):n.push(e.minValue,e.maxValue)}));var b=s?ge(i,s):i,f=new ce;f.functionName="Remap",f.functionArguments={InputRanges:r,OutputValues:a,NoDataRanges:n},f.variableName="Raster";var y=new ce;return y.functionName="Colormap",y.functionArguments={Colormap:b,Raster:f},y}(e,t);case"unique-value":return function(e,t){var r=[],a=t.pixelType,n=t.rasterAttributeTable,i=n&&n.features,o=je(n),s=!1;if(e.uniqueValueInfos&&e.uniqueValueInfos.forEach((function(t){var a=t.symbol.color;a.a&&(e.field!==o&&i?i&&i.forEach((function(n){String(n.attributes[e.field])===String(t.value)&&r.push([n.attributes[o],a.r,a.g,a.b])})):isNaN(+t.value)?s=!0:r.push([+t.value,a.r,a.g,a.b]))})),s)return null;var c=a&&r.length>0?ge(r,a):r,u=new ce;return u.functionName="Colormap",u.functionArguments={},u.functionArguments.Colormap=c,u.variableName="Raster",u}(e,t);case"raster-colormap":return function(e,t){var r=e.extractColormap();if(r&&0!==r.length){var a=t.pixelType,n=a?ge(r,a):r,i=new ce;return i.functionName="Colormap",i.functionArguments={},i.functionArguments.Colormap=n,i}}(e,t);case"vector-field":return function(e,t){var r=new ce;r.functionName="VectorFieldRenderer";var a,n,i=t.dataType,o=t.bandProperties,s="vector-uv"===i;o&&2===o.length&&(a=o.map((function(e){return e.BandName.toLowerCase()})).indexOf("magnitude"),n=o.map((function(e){return e.BandName.toLowerCase()})).indexOf("direction")),-1!==a&&null!==a||(a=0,n=1);var c="arithmetic"===e.rotationType?1:2,u="flow-from"===e.flowRepresentation?0:1,l=e.visualVariables?e.visualVariables.filter((function(e){return"Magnitude"===e.field}))[0]:new ue.a,p={magnitudeBandID:a,directionBandID:n,isUVComponents:s,referenceSystem:c,massFlowAngleRepresentation:u,symbolTileSize:50,symbolTileSizeUnits:100,calculationMethod:"Vector Average",symbologyName:be[e.style.toLowerCase().replace("-","_")],minimumMagnitude:l.minDataValue,maximumMagnitude:l.maxDataValue,minimumSymbolSize:l.minSize,maximumSymbolSize:l.maxSize};return r.functionArguments=p,r}(e,t);case"raster-shaded-relief":return function(e,t){if("elevation"!==t.dataType)return new ce;var r=new ce;r.functionName="Hillshade";var a="traditional"===e.hillshadeType?0:1,n="none"===e.scalingType?1:3,i={HillshadeType:a,SlopeType:n,ZFactor:e.zFactor};return 0===a&&(i.Azimuth=e.azimuth,i.Altitude=e.altitude),3===n&&(i.PSPower=e.pixelSizePower,i.PSZFactor=e.pixelSizeFactor),r.functionArguments=i,r.variableName="Raster",e.colorRamp&&(r.functionName="ShadedRelief",i.Colormap=Object(le.b)(e.colorRamp,256)),r}(e,t)}}(n,{rasterAttributeTable:r.attributeTable,pixelType:r.pixelType,dataType:r.dataType,bandProperties:null==(e=r.keyProperties)?void 0:e.BandProperties,convertColorRampToColormap:t.version<10.6}),a):a}},{key:"_addResampleRasterFunction",value:function(e){var t,r=null;if("vector-field"===(null==(t=this.layer.renderer)?void 0:t.type)){var a={},n=this.layer.renderingRule;if(!n||"Resample"!==n.functionName){var i="esriImageServiceDataTypeVector-UV"===this.layer.serviceDataType?7:10;a.rasterFunction="Resample",a.rasterFunctionArguments={ResamplingType:i,InputCellSize:{x:this.layer.pixelSizeX,y:this.layer.pixelSizeY}}}r=ce.fromJSON(a)}return me(r,e)}},{key:"version",get:function(){var e=this.layer;return e.bandIds,e.format,e.compressionQuality,e.compressionTolerance,e.interpolation,e.noData,e.noDataInterpretation,e.mosaicRule,e.renderingRule,e.adjustAspectRatio,e.pixelFilter,e.renderer,e.definitionExpression,(this._get("version")||0)+1},set:function(e){this._set("version",e)}},{key:"mosaicRule",get:function(){var e=this.layer,t=e.mosaicRule,r=e.definitionExpression;return t?r&&r!==t.where&&((t=t.clone()).where=r):r&&(t=new xe({where:r})),t}},{key:"renderingRule",get:function(){var e=this.layer,t=e.renderingRule,r=e.pixelFilter,a=!e.format||e.format.indexOf("jpg")>-1||e.format.indexOf("png")>-1;return t=this._addResampleRasterFunction(t),a&&!r&&(t=this.combineRendererWithRenderingRule()),t}}]),r}(re.a);Object(d.a)([Object(m.b)()],Re.prototype,"layer",void 0),Object(d.a)([Object(m.b)({json:{write:!0}})],Re.prototype,"adjustAspectRatio",void 0),Object(d.a)([Object(g.a)("adjustAspectRatio")],Re.prototype,"writeAdjustAspectRatio",null),Object(d.a)([Object(m.b)({json:{write:!0}}),Object(B.a)("layer.bandIds")],Re.prototype,"bandIds",void 0),Object(d.a)([Object(m.b)({json:{write:!0}})],Re.prototype,"compression",void 0),Object(d.a)([Object(m.b)({json:{write:!0}}),Object(B.a)("layer.compressionQuality")],Re.prototype,"compressionQuality",void 0),Object(d.a)([Object(g.a)("compressionQuality")],Re.prototype,"writeCompressionQuality",null),Object(d.a)([Object(m.b)({json:{write:!0}}),Object(B.a)("layer.compressionTolerance")],Re.prototype,"compressionTolerance",void 0),Object(d.a)([Object(g.a)("compressionTolerance")],Re.prototype,"writeCompressionTolerance",null),Object(d.a)([Object(m.b)({json:{write:!0}}),Object(B.a)("layer.format")],Re.prototype,"format",void 0),Object(d.a)([Object(m.b)({type:String,json:{read:{reader:Se.read},write:{writer:Se.write}}}),Object(B.a)("layer.interpolation")],Re.prototype,"interpolation",void 0),Object(d.a)([Object(m.b)({json:{write:!0}}),Object(B.a)("layer.noData")],Re.prototype,"noData",void 0),Object(d.a)([Object(m.b)({type:String,json:{read:{reader:Ae.read},write:{writer:Ae.write}}}),Object(B.a)("layer.noDataInterpretation")],Re.prototype,"noDataInterpretation",void 0),Object(d.a)([Object(m.b)({json:{write:!0}})],Re.prototype,"pixelType",void 0),Object(d.a)([Object(m.b)({json:{write:!0}})],Re.prototype,"lercVersion",void 0),Object(d.a)([Object(g.a)("lercVersion")],Re.prototype,"writeLercVersion",null),Object(d.a)([Object(m.b)({type:Number,dependsOn:["layer.adjustAspectRatio","layer.bandIds","layer.format","layer.compressionQuality","layer.compressionTolerance","layer.definitionExpression","layer.interpolation","layer.noData","layer.noDataInterpretation","layer.mosaicRule","layer.renderingRule","layer.pixelFilter","layer.renderer","lercVersion","pixelType"]})],Re.prototype,"version",null),Object(d.a)([Object(m.b)({dependsOn:["layer.mosaicRule","layer.definitionExpression"],json:{write:!0}})],Re.prototype,"mosaicRule",null),Object(d.a)([Object(m.b)({dependsOn:["layer.renderingRule","layer.renderer","layer.rasterInfo","layer.format"],json:{write:!0}})],Re.prototype,"renderingRule",null),Re=Object(d.a)([Object(h.a)("esri.layers.mixins.ExportImageServiceParameters")],Re);var De=r(779),Te=r(931),ke=r(889),Ne=r(937),Ce=r(939),Le=r(764),ze=r(763),Pe=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;return Object(c.a)(this,r),(e=t.apply(this,arguments)).catalogItemVisibilities=null,e.catalogItems=null,e.location=null,e.name=null,e.objectId=null,e.processedValues=null,e.properties=null,e.value=null,e}return r}(re.a);Object(d.a)([Object(m.b)({json:{write:!0}})],Pe.prototype,"catalogItemVisibilities",void 0),Object(d.a)([Object(m.b)({type:X.default,json:{write:!0}})],Pe.prototype,"catalogItems",void 0),Object(d.a)([Object(m.b)({type:Z.a,json:{write:!0}})],Pe.prototype,"location",void 0),Object(d.a)([Object(m.b)({json:{write:!0}})],Pe.prototype,"name",void 0),Object(d.a)([Object(m.b)({json:{write:!0}})],Pe.prototype,"objectId",void 0),Object(d.a)([Object(m.b)({json:{write:!0}})],Pe.prototype,"processedValues",void 0),Object(d.a)([Object(m.b)({json:{write:!0}})],Pe.prototype,"properties",void 0),Object(d.a)([Object(m.b)({json:{write:!0}})],Pe.prototype,"value",void 0);var Be=Pe=Object(d.a)([Object(h.a)("esri.tasks.support.ImageIdentifyResult")],Pe);function Ue(e,t,r){return He.apply(this,arguments)}function He(){return(He=Object(z.a)(L.a.mark((function e(t,r,a){var n,i,o,c,u,l;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ze.c)(t),i=r.geometry?[r.geometry]:[],e.next=4,Object(Le.a)(i);case 4:return o=e.sent,function(e){var t=null==e?void 0:e.time;if(t&&(null!=t.start||null!=t.end)){var r=[];null!=t.start&&r.push(t.start),null!=t.end&&-1===r.indexOf(t.end)&&r.push(t.end),e.time=r.join(",")}}(c=r.toJSON()),u=o&&o[0],Object(b.g)(u)&&(c.geometry=u.toJSON()),l=Object(ze.b)(Object(s.a)(Object(s.a)({},n.query),{},{f:"json"},c)),e.abrupt("return",Object(ze.a)(l,a));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e,t,r){return _e.apply(this,arguments)}function _e(){return(_e=Object(z.a)(L.a.mark((function e(t,r,a){var n,i,o,s,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(t,r,a);case 2:return n=e.sent,i=Object(ze.c)(t),e.next=6,Object(V.default)("".concat(i.path,"/computeStatisticsHistograms"),n);case 6:return o=e.sent,s=o.data,c=s.statistics,e.abrupt("return",(null!=c&&c.length&&c.forEach((function(e){e.avg=e.mean,e.stddev=e.standardDeviation})),{statistics:c,histograms:s.histograms}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e,t,r){return Je.apply(this,arguments)}function Je(){return(Je=Object(z.a)(L.a.mark((function e(t,r,a){var n,i,o,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(t,r,a);case 2:return n=e.sent,i=Object(ze.c)(t),e.next=6,Object(V.default)("".concat(i.path,"/computeHistograms"),n);case 6:return o=e.sent,s=o.data,e.abrupt("return",{histograms:s.histograms});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(){return(Fe=Object(z.a)(L.a.mark((function e(t,r,a){var n,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ze.c)(t),i=r.geometry?[r.geometry]:[],e.abrupt("return",Object(Le.a)(i).then((function(e){var t=r.toJSON(),i=e&&e[0];Object(b.g)(i)&&(t.geometry=JSON.stringify(i.toJSON()));var o=Object(ze.b)(Object(s.a)(Object(s.a)({},n.query),{},{f:"json"},t)),c=Object(ze.a)(o,a);return Object(V.default)(n.path+"/identify",c)})).then((function(e){return Be.fromJSON(e.data)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ve,Ge=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"execute",value:function(e,t){return function(e,t,r){return Fe.apply(this,arguments)}(this.url,e,t)}}]),r}(r(766).a),We=Ge=Object(d.a)([Object(h.a)("esri.tasks.ImageIdentifyTask")],Ge),Qe=r(182),qe=r(296),Ke=Ve=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;return Object(c.a)(this,r),(e=t.apply(this,arguments)).geometry=null,e.renderingRules=null,e.pixelSize=null,e.returnGeometry=!0,e.returnCatalogItems=!0,e.returnPixelValues=!0,e.maxItemCount=null,e.timeExtent=null,e.raster=void 0,e.viewId=void 0,e}return Object(u.a)(r,[{key:"writeGeometry",value:function(e,t,r){null!=e&&(t.geometryType=Object(Qe.c)(e),t[r]=JSON.stringify(e.toJSON()))}},{key:"writeMosaicRule",value:function(e,t,r){null!=e&&(t[r]=JSON.stringify(e.toJSON()))}},{key:"writeRenderingRule",value:function(e,t,r){null!=e&&(t[r]=JSON.stringify(e.toJSON()))}},{key:"writeRenderingRules",value:function(e,t,r){null!=e&&(t[r]=JSON.stringify(e.map((function(e){return e.toJSON()}))))}},{key:"writePixelSize",value:function(e,t,r){null!=e&&(t[r]=JSON.stringify(e))}},{key:"writeTimeExtent",value:function(e,t,r){if(null!=e){var a=e.start?e.start.getTime():null,n=e.end?e.end.getTime():null;t[r]=null!=a?null!=n?"".concat(a,",").concat(n):"".concat(a):null}}},{key:"clone",value:function(){return new Ve(Object(P.a)({geometry:this.geometry,mosaicRule:this.mosaicRule,renderingRule:this.renderingRule,pixelSize:this.pixelSize,returnGeometry:this.returnGeometry,returnCatalogItems:this.returnCatalogItems,returnPixelValues:this.returnPixelValues,maxItemCount:this.maxItemCount,raster:this.raster,viewId:this.viewId,timeExtent:this.timeExtent}))}},{key:"mosaicRule",set:function(e){var t=e;t&&t.mosaicMethod&&(t=xe.fromJSON(Object(s.a)(Object(s.a)({},t.toJSON()),{},{mosaicMethod:t.mosaicMethod,mosaicOperation:t.mosaicOperation}))),this._set("mosaicRule",t)}},{key:"renderingRule",set:function(e){var t=e;t&&t.rasterFunction&&(t=ce.fromJSON(Object(s.a)(Object(s.a)({},t.toJSON()),{},{rasterFunction:t.rasterFunction,rasterFunctionArguments:t.rasterFunctionArguments}))),this._set("renderingRule",t)}}]),r}(re.a);Object(d.a)([Object(m.b)({json:{write:!0}})],Ke.prototype,"geometry",void 0),Object(d.a)([Object(g.a)("geometry")],Ke.prototype,"writeGeometry",null),Object(d.a)([Object(m.b)({type:xe,json:{write:!0}})],Ke.prototype,"mosaicRule",null),Object(d.a)([Object(g.a)("mosaicRule")],Ke.prototype,"writeMosaicRule",null),Object(d.a)([Object(m.b)({type:ce,json:{write:!0}})],Ke.prototype,"renderingRule",null),Object(d.a)([Object(g.a)("renderingRule")],Ke.prototype,"writeRenderingRule",null),Object(d.a)([Object(m.b)({type:[ce],json:{write:!0}})],Ke.prototype,"renderingRules",void 0),Object(d.a)([Object(g.a)("renderingRules")],Ke.prototype,"writeRenderingRules",null),Object(d.a)([Object(m.b)({type:Z.a,json:{write:!0}})],Ke.prototype,"pixelSize",void 0),Object(d.a)([Object(g.a)("pixelSize")],Ke.prototype,"writePixelSize",null),Object(d.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Ke.prototype,"returnGeometry",void 0),Object(d.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Ke.prototype,"returnCatalogItems",void 0),Object(d.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Ke.prototype,"returnPixelValues",void 0),Object(d.a)([Object(m.b)({type:Number,json:{write:!0}})],Ke.prototype,"maxItemCount",void 0),Object(d.a)([Object(m.b)({type:qe.a,json:{write:{target:"time"}}})],Ke.prototype,"timeExtent",void 0),Object(d.a)([Object(g.a)("timeExtent")],Ke.prototype,"writeTimeExtent",null),Object(d.a)([Object(m.b)({json:{write:!0}})],Ke.prototype,"raster",void 0),Object(d.a)([Object(m.b)({json:{write:!0}})],Ke.prototype,"viewId",void 0);var Xe=Ke=Ve=Object(d.a)([Object(h.a)("esri.tasks.support.ImageIdentifyParameters")],Ke),Ye=f.a.getLogger("esri.layers.mixins.ArcGISImageService"),$e=Object(U.b)()({RSP_NearestNeighbor:"nearest",RSP_BilinearInterpolation:"bilinear",RSP_CubicConvolution:"cubic",RSP_Majority:"majority"}),et=Object(U.b)()({esriNoDataMatchAny:"any",esriNoDataMatchAll:"all"}),tt=Object(U.b)()({U1:"u1",U2:"u2",U4:"u4",U8:"u8",S8:"s8",U16:"u16",S16:"s16",U32:"u32",S32:"s32",F32:"f32",F64:"f64",C64:"c64",C128:"c128",UNKNOWN:"unknown"}),rt=new Set(["png","png8","png24","png32","jpg","bmp","gif","jpgpng","lerc","tiff"]),at=Object(m.a)(y.i,{min:0,max:255}),nt=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).legendEnabled=!0,e.isReference=null,e.operationalLayerType="ArcGISImageServiceLayer",e.popupEnabled=!0,e.popupTemplate=null,e.type="imagery",e}return Object(u.a)(r,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?Object(s.a)({url:e},t):e}},{key:"load",value:function(e){var t=this,r=Object(b.g)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"]},e).then((function(){return t._fetchService(r)}),(function(){return t._fetchService(r)}))),Object(v.s)(this)}},{key:"writeOperationalLayerType",value:function(e,t,r){var a,n="vector-field"===(null==(a=this.renderer)?void 0:a.type);t[r]=n?"ArcGISImageServiceVectorLayer":"ArcGISImageServiceLayer"}},{key:"createPopupTemplate",value:function(e){var t=this.rasterFields,r=this.title,a=new Set,n=!1,i=!1;this.capabilities&&(i=(n=this.capabilities.operations.supportsQuery&&this.fields&&this.fields.length>0)&&("esriImageServiceDataTypeVector-UV"===this.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===this.serviceDataType));var c=new Set;n&&(c.add("raster.itempixelvalue"),i&&c.add("raster.magnitude").add("raster.direction"));var u,l=Object(o.a)(t);try{for(l.s();!(u=l.n()).done;){var p=u.value,d=p.name.toLowerCase();c.has(d)||d.indexOf("raster.servicepixelvalue.")>-1||a.add(p.name)}}catch(b){l.e(b)}finally{l.f()}return Object(N.a)({fields:t,title:r},Object(s.a)(Object(s.a)({},e),{},{visibleFieldNames:a}))}},{key:"redraw",value:function(){this.emit("redraw")}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}}]),r}(Object(A.a)(Object(k.a)(Object(D.a)(Object(T.a)(Object(x.a)(Object(R.a)(function(e){var t=function(e){Object(l.a)(r,e);var t=Object(p.a)(r);function r(){var e;return Object(c.a)(this,r),(e=t.apply(this,arguments))._functionRasterInfos={},e._rasterJobHandler={instance:null,refCount:0,connectionPromise:null},e._symbolizer=null,e._defaultServiceMosaicRule=null,e.rasterAttributeTableFieldPrefix="Raster.",e.adjustAspectRatio=null,e.bandCount=null,e.bandIds=void 0,e.capabilities=null,e.compressionQuality=void 0,e.compressionTolerance=.01,e.copyright=null,e.definitionExpression=null,e.exportImageServiceParameters=null,e.rasterInfo=null,e.fields=null,e.fullExtent=null,e.hasMultidimensions=!1,e.imageMaxHeight=4100,e.imageMaxWidth=4100,e.interpolation=void 0,e.minScale=0,e.maxScale=0,e.multidimensionalInfo=null,e.noData=null,e.noDataInterpretation=void 0,e.objectIdField=null,e.pixelSizeX=null,e.pixelSizeY=null,e.pixelFilter=null,e.raster=void 0,e.viewId=void 0,e.renderer=null,e.rasterAttributeTable=null,e.rasterFunctionInfos=null,e.serviceDataType=null,e.spatialReference=null,e.pixelType=null,e.serviceRasterInfo=null,e.sourceJSON=null,e.url=null,e.version=null,e}return Object(u.a)(r,[{key:"initialize",value:function(){this._set("exportImageServiceParameters",new Re({layer:this}))}},{key:"readDefaultServiceMosaicRule",value:function(e,t){return xe.fromJSON(t)}},{key:"readBandIds",value:function(e,t){if(Array.isArray(e)&&e.length>0&&e.every((function(e){return"number"==typeof e})))return e}},{key:"readCapabilities",value:function(e,t){return this._readCapabilities(t)}},{key:"writeCompressionQuality",value:function(e,t,r){null!=e&&"lerc"!==this.format&&(t[r]=e)}},{key:"writeCompressionTolerance",value:function(e,t,r){"lerc"===this.format&&null!=e&&(t[r]=e)}},{key:"readFormat",value:function(e,t){return"esriImageServiceDataTypeVector-UV"===t.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===t.serviceDataType||null!=this.pixelFilter?"lerc":"jpgpng"}},{key:"readMinScale",value:function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}},{key:"readMaxScale",value:function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}},{key:"readMosaicRule",value:function(e,t){return xe.fromJSON(e||t.mosaicRule||t)}},{key:"writeMosaicRule",value:function(e,t,r){var a=this.mosaicRule,n=this.definitionExpression;a?n&&n!==a.where&&((a=a.clone()).where=n):n&&(a=new xe({where:n})),this._isValidCustomizedMosaicRule(a)&&(t[r]=a.toJSON())}},{key:"writeNoData",value:function(e,t,r){null!=e&&"number"==typeof e&&(t[r]=at(e))}},{key:"readObjectIdField",value:function(e,t){if(!e){var r=t.fields.filter((function(e){return"esriFieldTypeOID"===e.type||"oid"===e.type}));e=r&&r[0]&&r[0].name}return e}},{key:"readRenderer",value:function(e,t,r){var a=t&&t.layerDefinition&&t.layerDefinition.drawingInfo&&t.layerDefinition.drawingInfo.renderer,n=Object(Q.b)(a,r)||void 0;if(null!=n)return ye(n)||Ye.warn("ArcGISImageService","Imagery layer doesn't support given renderer type."),n}},{key:"readRenderingRule",value:function(e,t){var r=t.rasterFunctionInfos;return t.renderingRule||r&&r.length&&"None"!==r[0].name?ce.fromJSON(t.renderingRule||{rasterFunctionInfos:t.rasterFunctionInfos}):null}},{key:"writeRenderingRule",value:function(e,t,r){this._isRFTJson(e)||(t[r]=e.toJSON())}},{key:"readSpatialReference",value:function(e,t){var r=e||t.extent.spatialReference;return r?_.a.fromJSON(r):null}},{key:"readPixelType",value:function(e){return tt.fromJSON(e)||e}},{key:"writePixelType",value:function(e,t,r){(Object(b.f)(this.serviceRasterInfo)||this.pixelType!==this.serviceRasterInfo.pixelType)&&(t[r]=tt.toJSON(e))}},{key:"readVersion",value:function(e,t){var r=t.currentVersion;return r||(r=t.hasOwnProperty("fields")||t.hasOwnProperty("timeInfo")?10:9.3),r}},{key:"applyFilter",value:function(e){var t=e;return this.pixelFilter&&(t=this._clonePixelData(e),this.pixelFilter(t)),t}},{key:"applyRenderer",value:function(){var e=Object(z.a)(L.a.mark((function e(t,r){var a,n,i,o,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,this._isPicture()||!this.renderer||!this._symbolizer||this.pixelFilter){e.next=17;break}if(n=JSON.stringify(this._cachedRendererJson)!==JSON.stringify(this.renderer.toJSON()),i=this._rasterJobHandler.instance,o=this.bandIds,!i){e.next=16;break}if(e.t0=n,!e.t0){e.next=10;break}return this._symbolizer.bind(),e.next=9,i.updateSymbolizer(this._symbolizer,r);case 9:this._cachedRendererJson=this.renderer.toJSON();case 10:return e.next=12,i.symbolize(Object(s.a)({bandIds:o},t),r);case 12:c=e.sent,a={extent:t.extent,pixelBlock:c},e.next=17;break;case 16:a={extent:t.extent,pixelBlock:this._symbolizer.symbolize(Object(s.a)({bandIds:o},t))};case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this._shutdownJobHandler()}},{key:"increaseRasterJobHandlerUsage",value:function(){this._rasterJobHandler.refCount++}},{key:"decreaseRasterJobHandlerUsage",value:function(){this._rasterJobHandler.refCount--,this._rasterJobHandler.refCount<=0&&this._shutdownJobHandler()}},{key:"computeHistograms",value:function(){var e=Object(z.a)(L.a.mark((function e(t,r){var a,n,i,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null==r?void 0:r.signal,e.next=3,this._fetchCapabilities(a);case 3:if(this.capabilities.operations.supportsComputeHistograms){e.next=5;break}throw new E.a("imagery-layer:compute-histograms","this operation is not supported on the input image service");case 5:return t=t.clone(),n=this.raster,i=this.mosaicRule,o=this.renderingRule,e.abrupt("return",(o&&null==t.renderingRule&&(t.renderingRule=o),i&&null==t.mosaicRule&&(t.mosaicRule=i),n&&null==t.raster&&(t.raster=n),Ze(this.url,t,{signal:a})));case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"computeStatisticsHistograms",value:function(){var e=Object(z.a)(L.a.mark((function e(t,r){var a,n,i,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null==r?void 0:r.signal,e.next=3,this._fetchCapabilities(a);case 3:if(this.capabilities.operations.supportsComputeStatisticsHistograms){e.next=5;break}throw new E.a("imagery-layer:compute-statistics-histograms","this operation is not supported on the input image service");case 5:return t=t.clone(),n=this.raster,i=this.mosaicRule,o=this.renderingRule,e.abrupt("return",(o&&null==t.renderingRule&&(t.renderingRule=o),i&&null==t.mosaicRule&&(t.mosaicRule=i),n&&null==t.raster&&(t.raster=n),Ee(this.url,t,{signal:a})));case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"fetchImage",value:function(e,t,r){var a=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null==e||null==t||null==r)return Object(v.r)(new E.a("imagery-layer:fetch-image","Insufficient parameters for requesting an image. A valid extent, width and height values are required."));var i=this.renderer||this._symbolizer?this.generateRasterInfo(this.renderingRule,{signal:n.signal}):null;return Object(v.w)(i).then((function(i){i&&(a.rasterInfo=i);var o={imageServiceParameters:a.getExportImageServiceParameters(e,t,r,n.timeExtent),imageProps:{extent:e,width:t,height:r,format:a.format},requestAsImageElement:n.requestAsImageElement&&!a.pixelFilter||!1,signal:n.signal};return a._requestArrayBuffer(o)}))}},{key:"fetchKeyProperties",value:function(e){var t=e&&e.renderingRule&&e.renderingRule.toJSON();return Object(V.default)(this.parsedUrl.path+"/keyProperties",{query:this._getQueryParams({renderingRule:this.version>=10.3&&t?JSON.stringify(t):null})}).then((function(e){return e.data}))}},{key:"fetchRasterAttributeTable",value:function(e){var t=e&&e.renderingRule&&e.renderingRule.toJSON();return this.version<10.1?Object(v.r)(new E.a("#fetchRasterAttributeTable()","Failed to get rasterAttributeTable")):Object(V.default)(this.parsedUrl.path+"/rasterAttributeTable",{query:this._getQueryParams({renderingRule:this.version>=10.3&&t?JSON.stringify(t):null})}).then((function(e){return X.default.fromJSON(e.data)}))}},{key:"getCatalogItemRasterInfo",value:function(){var e=Object(z.a)(L.a.mark((function e(t,r){var a,n,i,o,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(V.default)(this.parsedUrl.path+"/"+t+"/info",Object(s.a)({query:this._getQueryParams()},r)).then((function(e){return e.data})),n=Object(V.default)(this.parsedUrl.path+"/"+t+"/info/keyProperties",Object(s.a)({query:this._getQueryParams()},r)).then((function(e){return e.data})).catch((function(){})),e.next=4,Object(v.b)([a,n]);case 4:if((i=e.sent)[0]){e.next=7;break}return e.abrupt("return");case 7:return o=J.a.fromJSON(i[0].extent),c=i[0].statistics?i[0].statistics.map((function(e){return{min:e[0],max:e[1],avg:e[2],stddev:e[3]}})):null,e.abrupt("return",new De.a({bandCount:i[0].bandCount,extent:o,spatialReference:o.sr,pixelSize:new Z.a({x:i[0].pixelSizeX,y:i[0].pixelSizeY,spatialReference:o.sr}),pixelType:i[0].pixelType.toLowerCase(),statistics:c,histograms:i[0].histograms,keyProperties:i[1]||{}}));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getCatalogItemICSInfo",value:function(){var e=Object(z.a)(L.a.mark((function e(t,r){var a,n,i,o,c,u,l,p,d,b,f,y,m,h,g,j,O,I,w,M,x,S,A,R,D,T,k,N,C,z,P,B,U;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.default)(this.parsedUrl.path+"/"+t+"/info/ics",Object(s.a)({query:this._getQueryParams()},r));case 2:if(a=e.sent,n=a.data,i=n&&n.ics){e.next=7;break}return e.abrupt("return");case 7:return o=null,e.prev=8,e.next=11,Object(V.default)(this.parsedUrl.path+"/"+t+"/info",Object(s.a)({query:this._getQueryParams()},r));case 11:o=e.sent.data.extent,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:if(o&&o.spatialReference){e.next=18;break}return e.abrupt("return",{ics:i,icsToPixelTransform:null,icsExtent:null,northDirection:null});case 18:for(c=this.version>=10.7?Object(V.default)(this.parsedUrl.path+"/"+t+"/info/icstopixel",Object(s.a)({query:this._getQueryParams()},r)).then((function(e){return e.data})).catch((function(){return{}})):{},u=o.spatialReference,l={geometries:JSON.stringify({geometryType:"esriGeometryEnvelope",geometries:[o]}),inSR:u.wkid||JSON.stringify(u),outSR:"0:"+t},p=Object(V.default)(this.parsedUrl.path+"/project",Object(s.a)({query:this._getQueryParams(l)},r)).then((function(e){return e.data})).catch((function(){return{}})),d=(o.xmin+o.xmax)/2,b=(o.ymax-o.ymin)/6,f=o.ymin+b,y=[],m=0;m<5;m++)y.push({x:d,y:f+b*m});return h={geometries:JSON.stringify({geometryType:"esriGeometryPoint",geometries:y}),inSR:u.wkid||JSON.stringify(u),outSR:"0:"+t},g=Object(V.default)(this.parsedUrl.path+"/project",Object(s.a)({query:this._getQueryParams(h)},r)).then((function(e){return e.data})).catch((function(){return{}})),e.next=24,Object(v.b)([c,p,g]);case 24:if(j=e.sent,null==(O=j[0].ipxf)&&"topup"===(null==(x=null==(I=i.geodataXform)?void 0:I.xf_0)||null==(w=x.name)?void 0:w.toLowerCase())&&6===(null==x||null==(M=x.coefficients)?void 0:M.length)&&(O={affine:{name:"ics [sensor: Frame] to pixel (column, row) transformation",coefficients:x.coefficients,cellsizeRatio:0,type:"GeometricXform"}}),(S=J.a.fromJSON(j[1]&&j[1].geometries&&j[1].geometries[0]))&&(S.spatialReference=new _.a({wkid:0,imageCoordinateSystem:i})),A=j[2].geometries?j[2].geometries.filter((function(e){return null!=e&&null!=e.x&&null!=e.y&&"NaN"!==e.x&&"NaN"!==e.y})):[],!((R=A.length)<3)){e.next=32;break}return e.abrupt("return",{ics:i,icsToPixelTransform:O,icsExtent:S,northDirection:null});case 32:for(D=0,T=0,k=0,N=0,C=0;C<R;C++)D+=A[C].x,T+=A[C].y,k+=A[C].x*A[C].x,N+=A[C].x*A[C].y;return z=(R*N-D*T)/(R*k-D*D),P=0,B=A[4].x>A[0].x,U=A[4].y>A[0].y,e.abrupt("return",(z===1/0?P=U?90:270:0===z?P=B?0:180:z>0?P=B?180*Math.atan(z)/Math.PI:180*Math.atan(z)/Math.PI+180:z<0&&(P=U?180+180*Math.atan(z)/Math.PI:360+180*Math.atan(z)/Math.PI),{ics:i,icsToPixelTransform:O,icsExtent:S,northDirection:P}));case 38:case"end":return e.stop()}}),e,this,[[8,14]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"generateRasterInfo",value:function(){var e=Object(z.a)(L.a.mark((function e(t,r){var a,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"none"!==t.functionName.toLowerCase()||!Object(b.g)(this.serviceRasterInfo)){e.next=2;break}return e.abrupt("return",this.serviceRasterInfo);case 2:if(a=function(e){if(!e)return null;var t=JSON.stringify(e).match(/"rasterFunction":"(.*?")/gi),r=null==t?void 0:t.map((function(e){return e.replace('"rasterFunction":"',"").replace('"',"")}));return r?r.join("/"):null}(t),!this._functionRasterInfos[a]){e.next=5;break}return e.abrupt("return",this._functionRasterInfos[a]);case 5:return n=this._generateRasterInfo(t,r),this._functionRasterInfos[a]=n,e.prev=7,e.next=10,n;case 10:return e.abrupt("return",e.sent);case 13:return e.prev=13,e.t0=e.catch(7),e.abrupt("return",(this._functionRasterInfos[a]=null,null));case 16:case"end":return e.stop()}}),e,this,[[7,13]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getExportImageServiceParameters",value:function(e,t,r,a){var n,i=(e=e.clone().shiftCentralMeridian()).spatialReference;if(i.imageCoordinateSystem){var o=i.imageCoordinateSystem,c=o.id,u=o.referenceServiceName;n=null!=c?u?this.parsedUrl.path.toLowerCase().indexOf("/"+u.toLowerCase()+"/")>-1?"0:"+c:JSON.stringify({icsid:c,icsns:u}):"0:"+c:JSON.stringify({ics:i.imageCoordinateSystem})}else n=i.wkid||JSON.stringify(i.toJSON());Object(b.g)(this.serviceRasterInfo)&&this.pixelType!==this.serviceRasterInfo.pixelType&&(this.exportImageServiceParameters.pixelType=this.pixelType);var l=this.exportImageServiceParameters.toJSON(),p=l.bandIds,d=l.noData,f=l.mosaicRule,y=l.renderingRule;p instanceof Array&&p.length>0&&(l.bandIds=p.join(",")),d instanceof Array&&d.length>0&&(l.noData=d.join(","));var m=this.timeInfo;f&&f.multidimensionalDefinition&&a&&m&&m.startField&&(f.multidimensionalDefinition=f.multidimensionalDefinition.filter((function(e){return e.dimensionName!==m.startField}))),l.mosaicRule=f&&JSON.stringify(f),l.renderingRule=y&&JSON.stringify(y);var h={};if(a){var g=a.toJSON(),j=g.start,v=g.end;j&&v&&j===v?h.time=""+j:null==j&&null==v||(h.time="".concat(null==j?"null":j,",").concat(null==v?"null":v))}return Object(s.a)(Object(s.a)({bbox:e.xmin+","+e.ymin+","+e.xmax+","+e.ymax,bboxSR:n,imageSR:n,size:t+","+r},l),h)}},{key:"identify",value:function(){var e=Object(z.a)(L.a.mark((function e(t,r){var a,n,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchCapabilities(null==r?void 0:r.signal);case 2:if(this.capabilities.operations.supportsIdentify){e.next=4;break}throw new E.a("imagery-layer:query-rasters","query operation is not supported on the input image service");case 4:return t=t.clone(),a=this.raster,n=this.mosaicRule,(i=this.renderingRule)&&null==t.renderingRule&&(t.renderingRule=i),n&&null==t.mosaicRule&&(t.mosaicRule=n),a&&null==t.raster&&(t.raster=a),e.abrupt("return",new We({url:this.url}).execute(t,r));case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"queryRasters",value:function(){var e=Object(z.a)(L.a.mark((function e(t,r){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchCapabilities(null==r?void 0:r.signal);case 2:if(this.capabilities.operations.supportsQuery){e.next=4;break}throw new E.a("imagery-layer:query-rasters","query operation is not supported on the input image service");case 4:return e.abrupt("return",this.queryTask.execute(t,r));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"queryVisibleRasters",value:function(e,t){var r=this;if(!e)return Object(v.r)(new E.a("imagery-layer: query-visible-rasters","missing query parameter"));var a=t||{pixelSize:null,returnDomainValues:!1,returnTopmostRaster:!1,showNoDataRecords:!1},n=a.pixelSize,i=a.returnDomainValues,o=a.returnTopmostRaster,s=a.showNoDataRecords,c=!1,u=null,l=null,p="raster.servicepixelvalue",d=this.rasterFunctionNamesIndex;if(Object(b.g)(e.outFields)&&(c=e.outFields.some((function(e){return-1===e.toLowerCase().indexOf(p)})),this.version>=10.4)){var f=e.outFields.filter((function(e){return e.toLowerCase().indexOf(p)>-1&&e.length>p.length})).map((function(e){var t=e.slice(p.length+1);return[r._updateRenderingRulesFunctionName(t,d),t]}));u=f.map((function(e){return new ce({functionName:e[0]})})),l=f.map((function(e){return e[1]})),0===u.length?this.renderingRule?(u.push(this.renderingRule),l.push(this.renderingRule.functionName)):u=null:this.renderingRule&&!u.some((function(e){return e.functionName===r.renderingRule.functionName}))&&(u.push(this.renderingRule),l.push(this.renderingRule.functionName))}var y=Object(b.f)(e.outSpatialReference)||e.outSpatialReference.equals(this.spatialReference),m=this._getQueryParams({geometry:e.geometry,timeExtent:e.timeExtent,mosaicRule:this.exportImageServiceParameters.mosaicRule,renderingRule:this.version<10.4?this.renderingRule:null,renderingRules:u,pixelSize:n,returnCatalogItems:c,returnGeometry:y,maxItemCount:o?1:null});delete m.f;var h=new Xe(m),g=new We({url:this.url}),j=this.generateRasterInfo(this.renderingRule);return Object(v.c)((function(t){j.then((function(){g.execute(h).then((function(a){var n=e.outFields;if(c&&!y&&a.catalogItems&&a.catalogItems.features&&a.catalogItems.features.length>0){var o=r.objectIdField||"ObjectId",u=a.catalogItems.features,p=u.map((function(e){return e.attributes&&e.attributes[o]})),d=new Y.a({objectIds:p,returnGeometry:!0,outSpatialReference:e.outSpatialReference,outFields:[o]});return r.queryRasters(d).then((function(c){c&&c.features&&c.features.length>0&&c.features.forEach((function(t){u.forEach((function(r){r.attributes[o]===t.attributes[o]&&(r.geometry=new F.a(t.geometry),r.geometry.spatialReference=e.outSpatialReference)}))})),t(r._processVisibleRastersResponse(a,{returnDomainValues:i,templateRRFunctionNames:l,showNoDataRecords:s,templateFields:n}))})).catch((function(){throw new E.a("imagery-layer:query-visible-rasters","encountered error when querying visible rasters geometry")}))}t(r._processVisibleRastersResponse(a,{returnDomainValues:i,templateRRFunctionNames:l,showNoDataRecords:s,templateFields:n}))})).catch((function(){throw new E.a("imagery-layer:query-visible-rasters","encountered error when querying visible rasters")}))}))}))}},{key:"fetchVariableStatisticsHistograms",value:function(){var e=Object(z.a)(L.a.mark((function e(t,r){var a,n,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(V.default)(this.parsedUrl.path+"/statistics",{query:this._getQueryParams({variable:t}),signal:r}).then((function(e){var t;return null==(t=e.data)?void 0:t.statistics})),n=Object(V.default)(this.parsedUrl.path+"/histograms",{query:this._getQueryParams({variable:t}),signal:r}).then((function(e){var t;return null==(t=e.data)?void 0:t.histograms})),e.next=4,Object(v.b)([a,n]);case 4:return i=e.sent,e.abrupt("return",(i[0]&&i[0].forEach((function(e){e.avg=e.mean,e.stddev=e.standardDeviation})),{statistics:i[0]||null,histograms:i[1]||null}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_fetchService",value:function(){var e=Object(z.a)(L.a.mark((function e(t){var r,a,n,i=this;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchServiceInfo(t);case 2:return Object(b.g)(this.serviceRasterInfo)&&!this.rasterInfo&&(this.rasterInfo=this.serviceRasterInfo),r=this.sourceJSON,a=Object(b.g)(this.serviceRasterInfo)?Object(v.s)(this.serviceRasterInfo):this._fetchAuxiliaryRasterInfo({serviceInfo:r,signal:t}).then((function(e){return i._set("serviceRasterInfo",e),e})),n=this.renderingRule&&"none"!==this.renderingRule.functionName.toLowerCase()?this.generateRasterInfo(this.renderingRule,{signal:t}):null,e.abrupt("return",Object(v.b)([a,n]).then((function(e){e[1]?i._set("rasterInfo",e[1]):i._set("rasterInfo",e[0]),i.renderer&&Object(Ne.d)(i.rasterInfo).indexOf(i.renderer.type)<0&&(i.renderer=null,Ye.warn("ArcGISImageService","Switching to the default renderer. Renderer applied is not valid for this Imagery Layer")),i._configDefaultRenderer(),i.watch("renderer",(function(){return i._configDefaultRenderer()})),i.watch("renderingRule",(function(e){(i.renderer||i._symbolizer||i.popupEnabled&&i.popupTemplate)&&i.generateRasterInfo(e).then((function(e){e&&(i.rasterInfo=e)}))}));var t=Object(b.g)(i.serviceRasterInfo)&&i.serviceRasterInfo.multidimensionalInfo;t&&i._updateMultidimensionalDefinition(t)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_initJobHandler",value:function(){var e=Object(z.a)(L.a.mark((function e(){var t,r=this;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this._rasterJobHandler.connectionPromise){e.next=2;break}return e.abrupt("return",this._rasterJobHandler.connectionPromise);case 2:return t=new Te.a,this._rasterJobHandler.connectionPromise=t.initialize().then((function(){r._rasterJobHandler.instance=t}),(function(){return null})),e.next=6,this._rasterJobHandler.connectionPromise;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_shutdownJobHandler",value:function(){this._rasterJobHandler.instance&&this._rasterJobHandler.instance.destroy(),this._rasterJobHandler.instance=null,this._rasterJobHandler.connectionPromise=null,this._rasterJobHandler.refCount=0}},{key:"_fetchCapabilities",value:function(){var e=Object(z.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.capabilities,e.t0){e.next=4;break}return e.next=4,this._fetchServiceInfo(t);case 4:return e.abrupt("return",this.capabilities);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchServiceInfo",value:function(){var e=Object(z.a)(L.a.mark((function e(t){var r,a,n,i,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.sourceJSON){e.next=8;break}return e.next=4,Object(V.default)(this.parsedUrl.path,{query:this._getQueryParams(),signal:t});case 4:n=e.sent,i=n.data,o=n.ssl,a=i,this.sourceJSON=a,o&&(this.url=this.url.replace(/^http:/i,"https:"));case 8:if(!((null==(r=a.capabilities)?void 0:r.toLowerCase().split(",").map((function(e){return e.trim()})).indexOf("tilesonly"))>-1)){e.next=10;break}throw new E.a("imagery-layer:fetch-service-info","use ImageryTileLayer to open tiles-only image services");case 10:this.read(a,{origin:"service",url:this.parsedUrl});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isPicture",value:function(){return!this.format||this.format.indexOf("jpg")>-1||this.format.indexOf("png")>-1}},{key:"_configDefaultRenderer",value:function(){if(!this._isPicture()&&!this.pixelFilter){if(!this.bandIds&&this.rasterInfo.bandCount>=3){var e=Object(Ne.b)(this.rasterInfo);!e||3===this.rasterInfo.bandCount&&0===e[0]&&1===e[1]&&2===e[2]||(this.bandIds=e)}var t,r;this.renderer||(this.renderer=Object(Ne.a)(this.rasterInfo,{bandIds:this.bandIds,variableName:this.renderingRule?null:null==(t=this.mosaicRule)||null==(r=t.multidimensionalDefinition)?void 0:r[0].variableName})),this._symbolizer?(this._symbolizer.rendererJSON=this.renderer.toJSON(),this._symbolizer.rasterInfo=this.rasterInfo):this._symbolizer=new Ce.a({rendererJSON:this.renderer.toJSON(),rasterInfo:this.rasterInfo}),this._symbolizer.bind()||(this._symbolizer=null)}}},{key:"_clonePixelData",value:function(e){return null==e?e:{extent:e.extent&&e.extent.clone(),pixelBlock:e.pixelBlock&&e.pixelBlock.clone()}}},{key:"_getQueryParams",value:function(e){var t=this.raster,r=this.viewId;return Object(s.a)({raster:t,viewId:r,f:"json"},e)}},{key:"_decodePixelBlock",value:function(e,t,r){return this._rasterJobHandler.instance?this._rasterJobHandler.instance.decode({data:e,options:t}):Object(ke.a)(e,t,r)}},{key:"_fetchMultidimensionalInfo",value:function(){var e=Object(z.a)(L.a.mark((function e(t){var r,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.default)(this.parsedUrl.path+"/multidimensionalInfo",{query:this._getQueryParams(),signal:t}).then((function(e){var t;return null==(t=e.data)?void 0:t.multidimensionalInfo}));case 2:return a=e.sent,e.abrupt("return",(null!=(r=a.variables)&&r.length&&a.variables.forEach((function(e){var t;null!=(t=e.statistics)&&t.length&&e.statistics.forEach((function(e){e.avg=e.mean,e.stddev=e.standardDeviation}))})),a));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchAuxiliaryRasterInfo",value:function(e){var t=e&&e.serviceInfo;if(!t)return Object(v.r)(new E.a("imagery-layer:fetch-metadata","valid serviceInfo is required"));var r=e.renderingRule?JSON.stringify(e.renderingRule.toJSON()):null,a=e.signal,n=!!(t.hasRasterAttributeTable&&this.version>=10.1)&&Object(V.default)(this.parsedUrl.path+"/rasterAttributeTable",{query:this._getQueryParams({renderingRule:this.version>=10.1?r:null}),signal:a}).then((function(e){return X.default.fromJSON(e.data)})).catch((function(){return null})),i=!!(t.hasColormap&&this.version>=10.1)&&Object(V.default)(this.parsedUrl.path+"/colormap",{query:this._getQueryParams({renderingRule:this.version>=10.6?r:null}),signal:a}).then((function(e){var t;return null==(t=e.data)?void 0:t.colormap})),o=!!(t.hasHistograms&&this.version>=10.1)&&Object(V.default)(this.parsedUrl.path+"/histograms",{query:this._getQueryParams({renderingRule:this.version>=10.1?r:null}),signal:a}).then((function(e){var t;return null==(t=e.data)?void 0:t.histograms})),s=this.version>=10.3&&Object(V.default)(this.parsedUrl.path+"/keyProperties",{query:this._getQueryParams({renderingRule:r}),signal:a}).then((function(e){return e.data})).catch((function(){})),c=!!(t.hasMultidimensions&&this.version>=10.3)&&this._fetchMultidimensionalInfo();return Object(v.b)([n,i,o,s,c]).then((function(e){var r=null;if(t.minValues&&t.minValues.length===t.bandCount){r=[];for(var a=0;a<t.minValues.length;a++)r.push({min:t.minValues[a],max:t.maxValues[a],avg:t.meanValues[a],stddev:t.stdvValues[a]})}var n=Math.ceil((t.extent.xmax-t.extent.xmin)/t.pixelSizeX-.1),i=Math.ceil((t.extent.ymax-t.extent.ymin)/t.pixelSizeY-.1),o=_.a.fromJSON(t.spatialReference||t.extent.spatialReference);return new De.a({width:n,height:i,bandCount:t.bandCount,extent:J.a.fromJSON(t.extent),spatialReference:o,pixelSize:new Z.a({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:o}),pixelType:t.pixelType.toLowerCase(),statistics:r,attributeTable:e[0]||null,colormap:e[1]||null,histograms:e[2]||null,keyProperties:e[3]||{},multidimensionalInfo:e[4]||null})}))}},{key:"_requestArrayBuffer",value:function(e){var t=this,r=e.imageProps,a=e.requestAsImageElement,n=e.signal;if(a&&!this.pixelFilter&&r.format&&r.format.indexOf("png")>-1)return Object(V.default)(this.parsedUrl.path+"/exportImage",{responseType:"image",query:this._getQueryParams(Object(s.a)({f:"image"},e.imageServiceParameters)),signal:n}).then((function(e){return{imageElement:e.data,params:r}}));var i=this._initJobHandler(),o=Object(V.default)(this.parsedUrl.path+"/exportImage",{responseType:"array-buffer",query:this._getQueryParams(Object(s.a)({f:"image"},e.imageServiceParameters)),signal:n});return Object(v.b)([o,i]).then((function(e){var a=e[0].data,i=r.format||"jpgpng",o=i;if("bsq"!==o&&"bip"!==o&&(o=Object(ke.b)(a)),!o)throw new E.a("imagery-layer:fetch-image","unsupported format signature "+String.fromCharCode.apply(null,new Uint8Array(a)));var c="gif"===i||"bmp"===i||i.indexOf("png")>-1&&("png"===o||"jpg"===o),u={signal:n};return c?Object(ke.a)(a,Object(s.a)({useCanvas:!0},r),u).then((function(e){return{pixelData:{pixelBlock:e,extent:r.extent},params:r}})):t._decodePixelBlock(a,{width:r.width,height:r.height,planes:null,pixelType:null,noDataValue:null,format:i},u).then((function(e){return{pixelData:{pixelBlock:e,extent:r.extent},params:r}}))}))}},{key:"_generateRasterInfo",value:function(){var e=Object(z.a)(L.a.mark((function e(t,r){var a,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.default)(this.parsedUrl.path,Object(s.a)({query:this._getQueryParams({renderingRule:t})},r));case 2:return a=e.sent,n=a.data,e.next=6,this._fetchAuxiliaryRasterInfo(Object(s.a)({serviceInfo:n,renderingRule:t},r));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_isValidCustomizedMosaicRule",value:function(e){return e&&JSON.stringify(e.toJSON())!==JSON.stringify(this._defaultServiceMosaicRule&&this._defaultServiceMosaicRule.toJSON())}},{key:"_updateMultidimensionalDefinition",value:function(e){if(!this._isValidCustomizedMosaicRule(this.mosaicRule)){var t=e.variables[0].dimensions,r=[];for(var a in t)if(t.hasOwnProperty(a)){var n=t[a],i=n.extent,o=!0,s=[i[0]];n.hasRanges&&!0===n.hasRanges?(o=!1,s=[n.values[0]]):"stdz"===n.name.toLowerCase()&&Math.abs(i[1])<=Math.abs(i[0])&&(s=[i[1]]),r.push(new ee.a({variableName:"",dimensionName:t[a].name,isSlice:o,values:s}))}if(r.length>0){this.mosaicRule=this.mosaicRule||new xe;var c=this.mosaicRule.multidimensionalDefinition;(!c||c&&c.length<=0)&&(this.mosaicRule.multidimensionalDefinition=r)}}}},{key:"_formatAttributeValue",value:function(e,t){if("string"==typeof e){var r,a,n=this.popupTemplate&&this.popupTemplate.fieldInfos,i=this._getFieldInfo(n,t),o=i&&i.format;if(o)return e.trim().indexOf(",")>-1?(a=(r=",")+" ",this._formatDelimitedString(e,r,a,o)):e.trim().indexOf(" ")>-1?(r=a=" ",this._formatDelimitedString(e,r,a,o)):this._formatNumberFromString(e,o)}return e}},{key:"_getFieldInfo",value:function(e,t){if(e&&e.length&&t){var r,a=t.toLowerCase();return e.some((function(e){return!(!e.fieldName||e.fieldName.toLowerCase()!==a&&e.fieldName.toLowerCase()!==a.replace(/ /g,"_"))&&(r=e,!0)})),r}}},{key:"_formatDelimitedString",value:function(e,t,r,a){var n=this;return e&&t&&r&&a?e.trim().split(t).map((function(e){return n._formatNumberFromString(e,a)})).join(r):e}},{key:"_formatNumberFromString",value:function(e,t){if(!e||!t)return e;var r=Number(e);return isNaN(r)?e:t.format(r)}},{key:"_processVisibleRastersResponse",value:function(e,t){t=t||{};var r,a,n,i=e.value,o=t,s=o.templateRRFunctionNames,c=o.showNoDataRecords,u=o.returnDomainValues,l=o.templateFields,p=e.processedValues,d=e.catalogItems&&e.catalogItems.features,f=e.properties&&e.properties.Values&&e.properties.Values.map((function(e){return e.replace(/ /gi,", ")}))||[],y=this.objectIdField||"ObjectId",m="string"==typeof i&&i.toLowerCase().indexOf("nodata")>-1,h=[];if(i&&!d&&!m){var g={};g[y]=0,f=[i],d=[new G.a(this.fullExtent,null,g)]}if(!d)return[];this._updateResponseFieldNames(d,l);for(var j=0;j<d.length;j++){if(r=d[j],null!=i&&!m){if(a=f[j],n=this.renderingRule&&p&&p.length>0&&s&&s.length>0&&s.indexOf(this.renderingRule.functionName)>-1?p[s.indexOf(this.renderingRule.functionName)]:i,"nodata"===a.toLowerCase()&&!c)continue;var v="Raster.ItemPixelValue",O="Raster.ServicePixelValue";r.attributes[v]=this._formatAttributeValue(a,v),r.attributes[O]=this._formatAttributeValue(n,O),this._updateFeatureWithMagDirValues(r,a);var I=this.fields&&this.fields.length>0,w=this.renderingRule&&Object(b.g)(this.serviceRasterInfo)&&this.serviceRasterInfo.attributeTable?I?a:i:n;this.renderingRule||(w=I?a:i),this._updateFeatureWithRasterAttributeTableValues(r,w)}if(r.sourceLayer=this,u&&this._updateFeatureWithDomainValues(r),s&&p&&s.length===p.length)for(var M=0;M<s.length;M++){var x="Raster.ServicePixelValue."+s[M];r.attributes[x]=this._formatAttributeValue(p[M],x)}h.push(d[j])}return h}},{key:"_updateFeatureWithRasterAttributeTableValues",value:function(e,t){var r=this,a=this.rasterInfo&&this.rasterInfo.attributeTable||Object(b.g)(this.serviceRasterInfo)&&this.serviceRasterInfo.attributeTable,n=a&&a.features;if(n){var i=a.fields,o=i.map((function(e){return e.name})).filter((function(e){return"value"===e.toLowerCase()})),s=o&&o[0];if(s){var c=n.filter((function(e){return e.attributes[s]===(null!=t?parseInt(t,10):null)}));c&&c[0]&&i.forEach((function(t){var a=r.rasterAttributeTableFieldPrefix+t.name;e.attributes[a]=r._formatAttributeValue(c[0].attributes[t.name],a)}))}}}},{key:"_updateFeatureWithMagDirValues",value:function(e,t){if(this.pixelFilter&&("esriImageServiceDataTypeVector-UV"===this.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===this.serviceDataType)){var r=t.replace(" ",",").split(",").map((function(e){return parseFloat(e)})),a=r.map((function(e){return[e]})),n=r.map((function(e){return{minValue:e,maxValue:e,noDataValue:null}})),i=new W.a({height:1,width:1,pixelType:"f32",pixels:a,statistics:n});this.pixelFilter({pixelBlock:i,extent:new J.a(0,0,0,0,this.spatialReference)}),e.attributes["Raster.Magnitude"]=i.pixels[0][0],e.attributes["Raster.Direction"]=i.pixels[1][0]}}},{key:"_updateFeatureWithDomainValues",value:function(e){var t=this.fields&&this.fields.filter((function(e){return e.domain&&"coded-value"===e.domain.type}));null!=t&&t.forEach((function(t){var r=e.attributes[t.name];if(null!=r){var a=t.domain.codedValues.filter((function(e){return e.code===r}))[0];a&&(e.attributes[t.name]=a.name)}}))}},{key:"_updateResponseFieldNames",value:function(e,t){if(t&&!(t.length<1)){var r=this.fieldsIndex;r&&e.forEach((function(e){if(e&&e.attributes){var a,n=Object(o.a)(t);try{for(n.s();!(a=n.n()).done;){var i=a.value;if(r.has(i)){var s=r.get(i).name;s!==i&&(e.attributes[i]=e.attributes[s],delete e.attributes[s])}}}catch(c){n.e(c)}finally{n.f()}}}))}}},{key:"_updateRenderingRulesFunctionName",value:function(e,t){if(e&&!(e.length<1)){if("Raw"===e)return e.replace("Raw","None");var r=e.toLowerCase().replace(/ /gi,"_");return t.has(r)?t.get(r):e}}},{key:"_isRFTJson",value:function(e){return e.name&&e.arguments&&e.function&&e.hasOwnProperty("functionType")}},{key:"_readCapabilities",value:function(e){var t=e.capabilities?e.capabilities.toLowerCase().split(",").map((function(e){return e.trim()})):["image","catalog"],r=e.currentVersion,a=e.advancedQueryCapabilities,n=e.maxRecordCount,i=t.indexOf("image")>-1,o="esriImageServiceDataTypeElevation"===e.serviceDataType,s=!!(e.spatialReference||e.extent&&e.extent.spatialReference);return{operations:{supportsComputeHistograms:i,supportsExportImage:i,supportsIdentify:i,supportsMeasure:t.indexOf("mensuration")>-1&&s,supportsDownload:t.indexOf("download")>-1,supportsQuery:t.indexOf("catalog")>-1&&e.fields&&e.fields.length>0,supportsGetSamples:r>=10.2&&i,supportsProject:r>=10.3&&i,supportsComputeStatisticsHistograms:r>=10.4&&i,supportsQueryBoundary:r>=10.6&&i,supportsCalculateVolume:r>=10.7&&o,supportsComputePixelLocation:r>=10.7&&t.indexOf("catalog")>-1},query:{supportsStatistics:!(!a||!a.supportsStatistics),supportsOrderBy:!(!a||!a.supportsOrderBy),supportsDistinct:!(!a||!a.supportsDistinct),supportsPagination:!(!a||!a.supportsPagination),supportsStandardizedQueriesOnly:!(!a||!a.useStandardizedQueries),maxRecordCount:n}}}},{key:"rasterFunctionNamesIndex",get:function(){var e=new Map;return!this.rasterFunctionInfos||this.rasterFunctionInfos.length<1||this.rasterFunctionInfos.forEach((function(t){e.set(t.name.toLowerCase().replace(/ /gi,"_"),t.name)})),e}},{key:"queryTask",get:function(){return new $.a({url:this.url})}},{key:"fieldsIndex",get:function(){return this.fields?new K.a(this.fields):null}},{key:"format",set:function(e){e&&rt.has(e.toLowerCase())&&this._set("format",e.toLowerCase())}},{key:"mosaicRule",set:function(e){var t=e;t&&t.mosaicMethod&&(t=xe.fromJSON(Object(s.a)(Object(s.a)({},t.toJSON()),{},{mosaicMethod:t.mosaicMethod,mosaicOperation:t.mosaicOperation}))),this._set("mosaicRule",t)}},{key:"parsedUrl",get:function(){return this.url?Object(j.I)(this.url):null}},{key:"rasterFields",get:function(){var e=this.rasterAttributeTableFieldPrefix||"Raster.",t=new q.a({name:"Raster.ItemPixelValue",alias:"Item Pixel Value",domain:null,editable:!1,length:50,type:"string"}),r=new q.a({name:"Raster.ServicePixelValue",alias:"Service Pixel Value",domain:null,editable:!1,length:50,type:"string"}),a=new q.a({name:"Raster.ServicePixelValue.Raw",alias:"Raw Service Pixel Value",domain:null,editable:!1,length:50,type:"string"}),n=this.fields?Object(P.a)(this.fields):[];n.push(r),this.capabilities.operations.supportsQuery&&this.fields&&this.fields.length>0&&n.push(t),this.version>=10.4&&this.rasterFunctionInfos&&this.rasterFunctionInfos.some((function(e){return"none"===e.name.toLowerCase()}))&&n.push(a),this.rasterFunctionInfos&&this.rasterFunctionInfos.filter((function(e){return"none"!==e.name.toLowerCase()})).forEach((function(e){n.push(new q.a({name:"Raster.ServicePixelValue."+e.name,alias:e.name,domain:null,editable:!1,length:50,type:"string"}))})),null==this.pixelFilter||"esriImageServiceDataTypeVector-UV"!==this.serviceDataType&&"esriImageServiceDataTypeVector-MagDir"!==this.serviceDataType||(n.push(new q.a({name:"Raster.Magnitude",alias:"Magnitude",domain:null,editable:!1,type:"double"})),n.push(new q.a({name:"Raster.Direction",alias:"Direction",domain:null,editable:!1,type:"double"})));var i=this.rasterInfo.attributeTable&&this.rasterInfo.attributeTable.fields||null;if(i&&i.length>0){var o=i.filter((function(e){return"esriFieldTypeOID"!==e.type&&"value"!==e.name.toLowerCase()})).map((function(t){var r=Object(P.a)(t);return r.name=e+t.name,r}));n=n.concat(o)}return n}},{key:"renderingRule",set:function(e){var t=e;t&&t.rasterFunction&&(t=ce.fromJSON(Object(s.a)(Object(s.a)({},t.toJSON()),{},{rasterFunction:t.rasterFunction,rasterFunctionArguments:t.rasterFunctionArguments}))),this._set("renderingRule",t)}}]),r}(e);return Object(d.a)([Object(m.b)()],t.prototype,"_functionRasterInfos",void 0),Object(d.a)([Object(m.b)()],t.prototype,"_rasterJobHandler",void 0),Object(d.a)([Object(m.b)()],t.prototype,"_symbolizer",void 0),Object(d.a)([Object(m.b)()],t.prototype,"_defaultServiceMosaicRule",void 0),Object(d.a)([Object(H.a)("_defaultServiceMosaicRule",["defaultMosaicMethod"])],t.prototype,"readDefaultServiceMosaicRule",null),Object(d.a)([Object(m.b)()],t.prototype,"_cachedRendererJson",void 0),Object(d.a)([Object(m.b)()],t.prototype,"rasterAttributeTableFieldPrefix",void 0),Object(d.a)([Object(m.b)({readOnly:!0,dependsOn:["rasterFunctionInfos"]})],t.prototype,"rasterFunctionNamesIndex",null),Object(d.a)([Object(m.b)({readOnly:!0,dependsOn:["url"]})],t.prototype,"queryTask",null),Object(d.a)([Object(m.b)()],t.prototype,"adjustAspectRatio",void 0),Object(d.a)([Object(m.b)({readOnly:!0}),Object(B.a)("serviceRasterInfo.bandCount")],t.prototype,"bandCount",void 0),Object(d.a)([Object(m.b)({type:[y.a],json:{write:!0}})],t.prototype,"bandIds",void 0),Object(d.a)([Object(H.a)("bandIds")],t.prototype,"readBandIds",null),Object(d.a)([Object(m.b)({readOnly:!0,json:{read:!1}})],t.prototype,"capabilities",void 0),Object(d.a)([Object(H.a)("service","capabilities",["capabilities","currentVersion","serviceDataType"])],t.prototype,"readCapabilities",null),Object(d.a)([Object(m.b)({type:Number})],t.prototype,"compressionQuality",void 0),Object(d.a)([Object(g.a)("compressionQuality")],t.prototype,"writeCompressionQuality",null),Object(d.a)([Object(m.b)({type:Number})],t.prototype,"compressionTolerance",void 0),Object(d.a)([Object(g.a)("compressionTolerance")],t.prototype,"writeCompressionTolerance",null),Object(d.a)([Object(m.b)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),Object(d.a)([Object(m.b)({type:String,json:{read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression"}}})],t.prototype,"definitionExpression",void 0),Object(d.a)([Object(m.b)({readOnly:!0,constructOnly:!0})],t.prototype,"exportImageServiceParameters",void 0),Object(d.a)([Object(m.b)()],t.prototype,"rasterInfo",void 0),Object(d.a)([Object(m.b)({readOnly:!0,type:[q.a]})],t.prototype,"fields",void 0),Object(d.a)([Object(m.b)({readOnly:!0,dependsOn:["fields"]})],t.prototype,"fieldsIndex",null),Object(d.a)([Object(m.b)({type:["png","png8","png24","png32","jpg","bmp","gif","jpgpng","lerc","tiff"],json:{write:!0}})],t.prototype,"format",null),Object(d.a)([Object(H.a)("service","format",["serviceDataType"])],t.prototype,"readFormat",null),Object(d.a)([Object(m.b)({type:J.a})],t.prototype,"fullExtent",void 0),Object(d.a)([Object(m.b)({readOnly:!0})],t.prototype,"hasMultidimensions",void 0),Object(d.a)([Object(m.b)({json:{read:{source:"maxImageHeight"}}})],t.prototype,"imageMaxHeight",void 0),Object(d.a)([Object(m.b)({json:{read:{source:"maxImageWidth"}}})],t.prototype,"imageMaxWidth",void 0),Object(d.a)([Object(m.b)({type:String,json:{type:$e.jsonValues,read:$e.read,write:$e.write}})],t.prototype,"interpolation",void 0),Object(d.a)([Object(m.b)()],t.prototype,"minScale",void 0),Object(d.a)([Object(H.a)("service","minScale")],t.prototype,"readMinScale",null),Object(d.a)([Object(m.b)()],t.prototype,"maxScale",void 0),Object(d.a)([Object(H.a)("service","maxScale")],t.prototype,"readMaxScale",null),Object(d.a)([Object(m.b)({type:xe})],t.prototype,"mosaicRule",null),Object(d.a)([Object(H.a)("mosaicRule",["mosaicRule","defaultMosaicMethod"])],t.prototype,"readMosaicRule",null),Object(d.a)([Object(g.a)("mosaicRule")],t.prototype,"writeMosaicRule",null),Object(d.a)([Object(m.b)({readOnly:!0}),Object(B.a)("serviceRasterInfo.multidimensionalInfo")],t.prototype,"multidimensionalInfo",void 0),Object(d.a)([Object(m.b)({json:{type:y.a}})],t.prototype,"noData",void 0),Object(d.a)([Object(g.a)("noData")],t.prototype,"writeNoData",null),Object(d.a)([Object(m.b)({type:String,json:{type:et.jsonValues,read:et.read,write:et.write}})],t.prototype,"noDataInterpretation",void 0),Object(d.a)([Object(m.b)({type:String,readOnly:!0,json:{read:{source:["fields"]}}})],t.prototype,"objectIdField",void 0),Object(d.a)([Object(H.a)("objectIdField")],t.prototype,"readObjectIdField",null),Object(d.a)([Object(m.b)({readOnly:!0,dependsOn:["url"]})],t.prototype,"parsedUrl",null),Object(d.a)([Object(m.b)({readOnly:!0}),Object(B.a)("serviceRasterInfo.pixelSize.x")],t.prototype,"pixelSizeX",void 0),Object(d.a)([Object(m.b)({readOnly:!0}),Object(B.a)("serviceRasterInfo.pixelSize.y")],t.prototype,"pixelSizeY",void 0),Object(d.a)([Object(m.b)({type:Function})],t.prototype,"pixelFilter",void 0),Object(d.a)([Object(m.b)()],t.prototype,"raster",void 0),Object(d.a)([Object(m.b)()],t.prototype,"viewId",void 0),Object(d.a)([Object(m.b)({types:Q.a,json:{name:"layerDefinition.drawingInfo.renderer",origins:{"web-scene":{types:Q.c,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:function(e){return{enabled:e&&"vector-field"!==e.type}}}}}}})],t.prototype,"renderer",void 0),Object(d.a)([Object(H.a)("renderer")],t.prototype,"readRenderer",null),Object(d.a)([Object(m.b)(M.f)],t.prototype,"opacity",void 0),Object(d.a)([Object(m.b)({readOnly:!0}),Object(B.a)("serviceRasterInfo.attributeTable")],t.prototype,"rasterAttributeTable",void 0),Object(d.a)([Object(m.b)({readOnly:!0,dependsOn:["fields","rasterInfo","capabilities"]})],t.prototype,"rasterFields",null),Object(d.a)([Object(m.b)({readOnly:!0})],t.prototype,"rasterFunctionInfos",void 0),Object(d.a)([Object(m.b)({type:ce})],t.prototype,"renderingRule",null),Object(d.a)([Object(H.a)("renderingRule",["renderingRule","rasterFunctionInfos"])],t.prototype,"readRenderingRule",null),Object(d.a)([Object(g.a)("renderingRule")],t.prototype,"writeRenderingRule",null),Object(d.a)([Object(m.b)()],t.prototype,"serviceDataType",void 0),Object(d.a)([Object(m.b)({readOnly:!0,type:_.a})],t.prototype,"spatialReference",void 0),Object(d.a)([Object(H.a)("spatialReference",["spatialReference","extent"])],t.prototype,"readSpatialReference",null),Object(d.a)([Object(m.b)({json:{type:tt.jsonValues}})],t.prototype,"pixelType",void 0),Object(d.a)([Object(H.a)("pixelType")],t.prototype,"readPixelType",null),Object(d.a)([Object(g.a)("pixelType")],t.prototype,"writePixelType",null),Object(d.a)([Object(m.b)({constructOnly:!0,type:De.a})],t.prototype,"serviceRasterInfo",void 0),Object(d.a)([Object(m.b)()],t.prototype,"sourceJSON",void 0),Object(d.a)([Object(m.b)(M.j)],t.prototype,"url",void 0),Object(d.a)([Object(m.b)({readOnly:!0})],t.prototype,"version",void 0),Object(d.a)([Object(H.a)("version",["currentVersion","fields","timeInfo"])],t.prototype,"readVersion",null),t=Object(d.a)([Object(h.a)("esri.layers.mixins.ArcGISImageService")],t)}(Object(S.a)(Object(w.a)(I.a))))))))));Object(d.a)([Object(m.b)(M.d)],nt.prototype,"legendEnabled",void 0),Object(d.a)([Object(m.b)({type:["show","hide"]})],nt.prototype,"listMode",void 0),Object(d.a)([Object(m.b)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],nt.prototype,"isReference",void 0),Object(d.a)([Object(m.b)({type:["ArcGISImageServiceLayer"],json:{origins:{"web-map":{type:["ArcGISImageServiceLayer","ArcGISImageServiceVectorLayer"],read:!1,write:{target:"layerType",ignoreOrigin:!0}}}}})],nt.prototype,"operationalLayerType",void 0),Object(d.a)([Object(g.a)("web-map","operationalLayerType")],nt.prototype,"writeOperationalLayerType",null),Object(d.a)([Object(m.b)(M.g)],nt.prototype,"popupEnabled",void 0),Object(d.a)([Object(m.b)({type:O.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],nt.prototype,"popupTemplate",void 0),Object(d.a)([Object(m.b)({readOnly:!0,dependsOn:["fields","title"]})],nt.prototype,"defaultPopupTemplate",null),Object(d.a)([Object(m.b)({readOnly:!0,json:{read:!1}})],nt.prototype,"type",void 0);var it=nt=Object(d.a)([Object(h.a)("esri.layers.ImageryLayer")],nt);t.default=it},931:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var a=r(11),n=r(8),i=r.n(n),o=r(22),s=r(2),c=r(3),u=r(21),l=r(15),p=r(778),d=r(395),b=function(){function e(){Object(s.a)(this,e),this._workerThread=null,this._destroyed=!1}return Object(c.a)(e,[{key:"initialize",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("RasterWorker");case 2:t=e.sent,this._destroyed?t.close():this._workerThread=t;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this._destroyed=!0,this._workerThread&&(this._workerThread.close(),this._workerThread=null)}},{key:"decode",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._workerThread){e.next=2;break}throw new u.a("raster-jobhandler:no-connection","no available worker connection");case 2:return e.next=4,this._workerThread.invoke("decode",t,r);case 4:return a=e.sent,e.abrupt("return",a?new p.a(a):null);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"symbolize",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._workerThread){e.next=2;break}throw new u.a("raster-jobhandler:no-connection","no available worker connection");case 2:return a={extent:t.extent&&t.extent.toJSON(),pixelBlock:t.pixelBlock.toJSON(),simpleStretchParams:t.simpleStretchParams,bandIds:t.bandIds},e.next=5,this._workerThread.invoke("symbolize",a,r);case 5:return n=e.sent,e.abrupt("return",n?new p.a(n):null);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"updateSymbolizer",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._workerThread){e.next=2;break}throw new u.a("raster-jobhandler:no-connection","no available worker connection");case 2:return n=null==t||null==(a=t.rendererJSON)?void 0:a.histograms,e.next=5,Object(l.b)(this._workerThread.broadcast("updateSymbolizer",{symbolizerJSON:t.toJSON(),histograms:n},r));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"stretch",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._workerThread){e.next=2;break}throw new u.a("raster-jobhandler:no-connection","no available worker connection");case 2:if(null!=t&&t.pixelBlock){e.next=4;break}return e.abrupt("return",null);case 4:return a={srcPixelBlock:t.pixelBlock.toJSON(),stretchParams:t.stretchParams},e.next=7,this._workerThread.invoke("stretch",a,r);case 7:return n=e.sent,e.abrupt("return",n?new p.a(n):null);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"split",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._workerThread){e.next=2;break}throw new u.a("raster-jobhandler:no-connection","no available worker connection");case 2:if(null!=t&&t.pixelBlock){e.next=4;break}return e.abrupt("return",null);case 4:return a={srcPixelBlock:t.pixelBlock.toJSON(),tileSize:t.tileSize,maximumPyramidLevel:t.maximumPyramidLevel},e.next=7,this._workerThread.invoke("split",a,r);case 7:return n=e.sent,e.abrupt("return",(n&&n.forEach((function(e,t){n.set(t,e?p.a.fromJSON(e):null)})),Object(l.s)(n)));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"estimateStatisticsHistograms",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._workerThread){e.next=2;break}throw new u.a("raster-jobhandler:no-connection","no available worker connection");case 2:if(null!=t&&t.pixelBlock){e.next=4;break}return e.abrupt("return",null);case 4:return a={srcPixelBlock:t.pixelBlock.toJSON()},e.next=7,this._workerThread.invoke("estimateStatisticsHistograms",a,r);case 7:return n=e.sent,e.abrupt("return",Object(l.s)(n));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"mosaicAndTransform",value:function(){var e=Object(o.a)(i.a.mark((function e(t,r){var n,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._workerThread){e.next=2;break}throw new u.a("raster-jobhandler:no-connection","no available worker connection");case 2:if(null!=t&&null!=(n=t.srcPixelBlocks)&&n.length){e.next=4;break}return e.abrupt("return",null);case 4:return o=Object(a.a)(Object(a.a)({},t),{},{srcPixelBlocks:t.srcPixelBlocks.map((function(e){return e?e.toJSON():null}))}),e.next=7,this._workerThread.invoke("mosaicAndTransform",o,r);case 7:return s=e.sent,e.abrupt("return",s?new p.a(s):null);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}()},937:function(e,t,r){"use strict";r.d(t,"a",(function(){return C})),r.d(t,"b",(function(){return B})),r.d(t,"c",(function(){return z})),r.d(t,"d",(function(){return L}));var a=r(11),n=r(10),i=r(37),o=(r(78),r(363)),s=(r(276),r(295),r(815)),c=r(785),u=(r(780),r(781)),l=r(284),p=r(297),d=r(784),b=(r(816),r(779)),f=r(2),y=r(3),m=r(4),h=r(5),g=r(0),j=(r(13),r(12),r(14),r(1)),v=r(34),O=r(6),I=(r(9),r(19),r(20),r(23)),w=r(81),M=r(352),x=new v.a({classBreaksDef:"class-breaks-definition",uniqueValueDef:"unique-value-definition"}),S=function(e){Object(m.a)(r,e);var t=Object(h.a)(r);function r(){var e;return Object(f.a)(this,r),(e=t.apply(this,arguments)).baseSymbol=null,e.colorRamp=null,e.type=null,e}return r}(I.a);Object(g.a)([Object(j.b)({type:w.a,json:{write:!0}})],S.prototype,"baseSymbol",void 0),Object(g.a)([Object(j.b)({types:M.b,json:{read:{reader:M.a},write:!0}})],S.prototype,"colorRamp",void 0),Object(g.a)([Object(j.b)({json:{read:x.read,write:x.write}})],S.prototype,"type",void 0);var A=S=Object(g.a)([Object(O.a)("esri.tasks.support.ClassificationDefinition")],S),R=new v.a({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),D=new v.a({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"}),T=function(e){Object(m.a)(r,e);var t=Object(h.a)(r);function r(){var e;return Object(f.a)(this,r),(e=t.apply(this,arguments)).breakCount=null,e.classificationField=null,e.classificationMethod=null,e.normalizationField=null,e.normalizationType=null,e.type="class-breaks-definition",e}return Object(y.a)(r,[{key:"standardDeviationInterval",set:function(e){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",e)}}]),r}(A);Object(g.a)([Object(j.b)({json:{write:!0}})],T.prototype,"breakCount",void 0),Object(g.a)([Object(j.b)({json:{write:!0}})],T.prototype,"classificationField",void 0),Object(g.a)([Object(j.b)({type:String,json:{read:R.read,write:R.write}})],T.prototype,"classificationMethod",void 0),Object(g.a)([Object(j.b)({json:{write:!0}})],T.prototype,"normalizationField",void 0),Object(g.a)([Object(j.b)({json:{read:D.read,write:D.write}})],T.prototype,"normalizationType",void 0),Object(g.a)([Object(j.b)({value:null,json:{write:!0}})],T.prototype,"standardDeviationInterval",null),Object(g.a)([Object(j.b)()],T.prototype,"type",void 0);T=Object(g.a)([Object(O.a)("esri.tasks.support.ClassBreaksDefinition")],T);var k=o.a.fromJSON({type:"multipart",colorRamps:[{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]}),N=o.a.fromJSON(s.a[0]);function C(e,t){var r=e.attributeTable,a=e.colormap,o=e.dataType;if("vector-uv"===o||"vector-magdir"===o)return new d.a;if(Object(n.g)(a)){var b=function(e){if(!_(e))return null;var t,r=e.attributeTable,a=e.colormap;if(Object(n.g)(r)){var i=H(r,"value"),o=U(r);"string"===o.type&&(t={},r.features.forEach((function(e){var r=e.attributes;t[r[i.name]]=o?r[o.name]:r[i.name]})))}return c.a.createFromColormap(Object(n.m)(a),t)}(e);if(Object(n.g)(b))return b}if(Object(n.g)(r)){var f=function(e,t){if(!E(e,t))return null;var r=e.attributeTable,a=U(r,t),n=H(r,"red"),o=H(r,"green"),c=H(r,"blue"),u=[],d=new Set,b=!!(n&&o&&c);if(r.features.forEach((function(e){var t=e.attributes[a.name];d.has(e.attributes[a.name])||null==t||(d.add(t),u.push(new l.a({value:e.attributes[a.name],label:e.attributes[a.name],symbol:{type:"simple-fill",style:"solid",outline:null,color:new i.a(b?[e.attributes[n.name],e.attributes[o.name],e.attributes[c.name],1]:[0,0,0,0])}})))})),!b){var f=Object(s.b)(N,u.length);u.forEach((function(e,t){return e.symbol.color=new i.a(f[t].slice(1,4))}))}return new p.a({field:a.name,uniqueValueInfos:u})}(e);if(Object(n.g)(f))return f}return function(e,t){var r,a,i,o,s=(e=P(e,null==t?void 0:t.variableName)).bandCount,c=t||{},l=c.bandIds,p=c.stretchType;null!=(r=l)&&r.some((function(e){return e>=s}))&&(l=null);var d,b=Object(n.m)(e.statistics),f=Object(n.m)(e.histograms);s>1?(l=null!=(d=l)&&d.length?l:B(e),b=null==b?null:l.map((function(e){return b[e]})),f=null==f?null:l.map((function(e){return f[e]}))):l=[0],null==p&&(p=function(e){var t="percent-clip",r=e.pixelType,a=e.dataType,i=e.histograms,o=e.statistics;return"u8"!==r||"processed"!==a&&Object(n.g)(i)&&Object(n.g)(o)?"u8"===r||"elevation"===a||"scientific"===a?t="min-max":Object(n.g)(i)?t="percent-clip":Object(n.g)(o)&&(t="min-max",t="min-max"):t="none",t}(e));var y=!1;switch(p){case"none":y=!1;break;case"percent-clip":y=!(null!=(a=f)&&a.length);break;default:y=!(null!=(i=b)&&i.length)}var m=1===(null==(o=l)?void 0:o.length)&&"scientific"===e.dataType?k:null,h=new u.a({stretchType:p,dynamicRangeAdjustment:y,colorRamp:m,outputMin:0,outputMax:255,gamma:1===l.length?[1]:[1,1,1],useGamma:!1});return"percent-clip"===p?h.maxPercent=h.minPercent=.25:"standard-deviation"===p&&(h.numberOfStandardDeviations=2),y||("percent-clip"===p?h.histograms=f:"min-max"!==p&&"standard-deviation"!==p||(h.statistics=b)),h}(e,t)}function L(e){var t=["raster-stretch"];return _(e)&&t.push("raster-colormap"),E(e)&&t.push("unique-value"),J(e)&&t.push("class-breaks"),Z(e)&&t.push("raster-shaded-relief"),function(e){var t=e.dataType;return"vector-uv"===t||"vector-magdir"===t}(e)&&t.push("vector-field"),t}function z(e,t,r){var a=["nearest","bilinear","cubic","majority"].find((function(e){return e===(null==r?void 0:r.toLowerCase())}));return"Map"===t?null!=a?a:"bilinear":"thematic"===e.dataType||e.attributeTable||e.colormap?"nearest"===a||"majority"===a?a:"nearest":null!=a?a:"bilinear"}function P(e,t){if(null==t)return e;var r=Object(n.m)(e.statistics),i=Object(n.m)(e.histograms),o=e.multidimensionalInfo;if(t&&Object(n.g)(o)){var s=o.variables.find((function(e){return e.name===t})),c=s.statistics,u=s.histograms;null!=c&&c.length&&(r=c),null!=u&&u.length&&(i=u)}return b.a.fromJSON(Object(a.a)(Object(a.a)({},e.toJSON()),{},{statistics:r,histograms:i}))}function B(e){var t=e.bandCount;if(1===t)return null;if(2===t)return[0];var r,a=e.keyProperties&&e.keyProperties.BandProperties;if(a&&a.length===t){var n=function(e){for(var t={},r=0;r<e.length;r++){var a,n=e[r],i=null==(a=n.BandName)?void 0:a.toLowerCase();if("red"===i)t.red=r;else if("green"===i)t.green=r;else if("blue"===i)t.blue=r;else if("nearinfrared"===i||"nearinfrared_1"===i||"nir"===i)t.nir=r;else if(n.WavelengthMax&&n.WavelengthMin){var o=n.WavelengthMin,s=n.WavelengthMax;null==t.blue&&o>=410&&o<=480&&s>=480&&s<=540?t.blue=r:null==t.green&&o>=490&&o<=560&&s>=560&&s<=610?t.green=r:null==t.red&&o>=595&&o<=670&&s>=660&&s<=730?t.red=r:null==t.nir&&o>=700&&o<=860&&s>=800&&s<=950&&(t.nir=r)}}return t}(a),i=n.red,o=n.green,s=n.blue,c=n.nir;null!=i&&null!=o&&null!=s?r=[i,o,s]:null!=c&&null!=i&&null!=o&&(r=[c,i,o])}return!r&&t>=3&&(r=[0,1,2]),r}function U(e,t){var r=e.fields.find((function(e){return"string"===e.type&&(t===e.name.toLowerCase()||e.name.toLowerCase().indexOf("class")>-1)}));return r||((r=e.fields.find((function(e){return"string"===e.type})))||(r=H(e,"value"))),r}function H(e,t){return e.fields.find((function(e){return e.name.toLowerCase()===t}))}function E(e,t){var r=e.attributeTable,a=e.bandCount;return!(!Object(n.g)(r)||a>1)&&(!t||null!=r.fields.find((function(e){return e.name.toLowerCase()===t.toLowerCase()})))}function _(e){var t=e.bandCount,r=e.colormap;return Object(n.g)(r)&&r.length&&1===t}function Z(e){return"elevation"===e.dataType}function J(e){var t=e.attributeTable;return 1===e.bandCount&&(Object(n.g)(t)||Object(n.g)(e.histograms))}}}]);
//# sourceMappingURL=33.3471e009.chunk.js.map