{"version":3,"sources":["../node_modules/@arcgis/core/tasks/support/RouteResult.js","../node_modules/@arcgis/core/tasks/support/RouteResultsContainer.js","../node_modules/@arcgis/core/tasks/RouteTask.js","../node_modules/@arcgis/core/tasks/support/FeatureSet.js","../node_modules/@arcgis/core/tasks/support/DirectionsFeatureSet.js"],"names":["i","o","directions","route","routeName","stops","s","r","type","p","json","write","prototype","e","String","u","t","n","fromJSON","features","map","barriers","messages","pointBarriers","polylineBarriers","polygonBarriers","routeResults","aliasOf","a","l","c","accumulateAttributes","name","attributeParameterValues","directionsTimeAttribute","impedanceAttribute","outSpatialReference","getter","wkid","restrictionAttributes","travelMode","this","_collectGeometries","then","push","slice","_isInputGeometryZAware","getServiceDescription","dontCheck","hasZ","_dropZValuesOffInputGeometry","forEach","get","geometry","query","parsedUrl","f","toQueryParams","requestOptions","path","endsWith","_handleSolveResponse","length","h","y","data","routes","spatialReference","m","d","g","indexOf","attributes","Name","RouteName","splice","B","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","mesh","displayFieldName","exceededTransferLimit","fields","geometryType","hasM","queryGeometry","toJSON","Array","isArray","scale","translate","_getQuantizationFunction","Math","round","transform","_getHydrationFunction","x","rings","paths","_quantizePoints","points","xmin","ymin","xmax","ymax","Boolean","overridePolicy","enabled","read","reader","types","isDefaultToJSON","extent","routeId","totalDriveTime","totalLength","totalTime","_decompressFeatureGeometry","summary","envelope","strings","events","point","z","ETA","arriveTimeUTC","_decompressGeometry","compressedGeometry","match","parseInt","concat","_mergePolylinesToSinglePath","source","readOnly","dependsOn","value"],"mappings":"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","file":"static/js/58.89ad8a86.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import e from\"../../Graphic.js\";import p from\"./DirectionsFeatureSet.js\";let i=class extends s{constructor(o){super(o),this.directions=null,this.route=null,this.routeName=null,this.stops=null}};o([r({type:p,json:{write:!0}})],i.prototype,\"directions\",void 0),o([r({type:e,json:{write:!0}})],i.prototype,\"route\",void 0),o([r({type:String,json:{write:!0}})],i.prototype,\"routeName\",void 0),o([r({type:[e],json:{write:!0}})],i.prototype,\"stops\",void 0),i=o([t(\"esri.tasks.support.RouteResult\")],i);var u=i;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as e}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import p from\"../../Graphic.js\";import i from\"./FeatureSet.js\";import a from\"./NAMessage.js\";import l from\"./RouteResult.js\";function n(r){return r&&i.fromJSON(r).features.map((r=>r))}let u=class extends t{constructor(r){super(r),this.barriers=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(r,o){return n(o.barriers||o.pointBarriers)}readPolylineBarriers(r){return n(r)}readPolygonBarriers(r){return n(r)}};r([o({aliasOf:\"pointBarriers\"})],u.prototype,\"barriers\",void 0),r([o({type:[a]})],u.prototype,\"messages\",void 0),r([o({type:[p]})],u.prototype,\"pointBarriers\",void 0),r([e(\"pointBarriers\",[\"barriers\",\"pointBarriers\"])],u.prototype,\"readPointBarriers\",null),r([o({type:[p]})],u.prototype,\"polylineBarriers\",void 0),r([e(\"polylineBarriers\")],u.prototype,\"readPolylineBarriers\",null),r([o({type:[p]})],u.prototype,\"polygonBarriers\",void 0),r([e(\"polygonBarriers\")],u.prototype,\"readPolygonBarriers\",null),r([o({type:[l]})],u.prototype,\"routeResults\",void 0),u=r([s(\"esri.tasks.support.RouteResultsContainer\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as t}from\"../core/promiseUtils.js\";import s from\"../request.js\";import{normalizeCentralMeridian as o}from\"../geometry/support/normalizeUtils.js\";import i from\"./Task.js\";import{createQueryParamsHelper as a}from\"../core/queryUtils.js\";import{NAServiceDescriptionMixin as n}from\"./mixins/NAServiceDescription.js\";import p from\"./support/RouteResultsContainer.js\";const l=a({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},stops:!0,travelMode:!0});let u=class extends(n(i)){constructor(e){super(e)}solve(e,r){const i=[],a=[],n={},p={};return e.stops&&e.stops.features&&this._collectGeometries(e.stops.features,a,\"stops.features\",n),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,\"pointBarriers.features\",n),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,\"polylineBarriers.features\",n),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,\"polygonBarriers.features\",n),o(a).then((e=>{for(const r in n){const t=n[r];i.push(r),p[r]=e.slice(t[0],t[1])}return this._isInputGeometryZAware(p,i)?this.getServiceDescription():t({dontCheck:!0})})).then((t=>{(\"dontCheck\"in t?t.dontCheck:t.hasZ)||this._dropZValuesOffInputGeometry(p,i);for(const r in p)p[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let o={query:{...this.parsedUrl.query,f:\"json\",...l.toQueryParams(e)}};(this.requestOptions||r)&&(o={...this.requestOptions,...r,...o});const{path:a}=this.parsedUrl,n=\"/solve\",u=a.endsWith(n)?a:a+n;return s(u,o)})).then((e=>this._handleSolveResponse(e)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}_handleSolveResponse(e){const r=[],t=[],{directions:s=[],routes:{features:o=[],spatialReference:i=null}={},stops:{features:a=[],spatialReference:n=null}={},barriers:l,polygonBarriers:u,polylineBarriers:c,messages:m}=e.data,f=\"esri.tasks.RouteTask.NULL_ROUTE_NAME\";let h,y,d=!0;const g=o&&i||a&&n||l&&l.spatialReference||u&&u.spatialReference||c&&c.spatialReference;s.forEach((e=>{r.push(h=e.routeName),t[h]={directions:e}})),o.forEach((e=>{-1===r.indexOf(h=e.attributes.Name)&&(r.push(h),t[h]={}),e.geometry&&(e.geometry.spatialReference=g),t[h].route=e})),a.forEach((e=>{y=e.attributes,-1===r.indexOf(h=y.RouteName||f)&&(r.push(h),t[h]={}),h!==f&&(d=!1),e.geometry&&(e.geometry.spatialReference=g),null==t[h].stops&&(t[h].stops=[]),t[h].stops.push(e)})),a.length>0&&!0===d&&(t[r[0]].stops=t[f].stops,delete t[f],r.splice(r.indexOf(f),1));const B=r.map((e=>(t[e].routeName=e===f?null:e,t[e])));return p.fromJSON({routeResults:B,pointBarriers:l,polygonBarriers:u,polylineBarriers:c,messages:m})}};u=e([r(\"esri.tasks.RouteTask\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t,unwrap as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";import a from\"../../geometry/SpatialReference.js\";import{fromJSON as y,isPolygon as u}from\"../../geometry/support/jsonUtils.js\";import{geometryTypes as m}from\"../../geometry.js\";import c from\"../../Graphic.js\";import f from\"../../layers/support/Field.js\";const h=new s({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryEnvelope:\"extent\",mesh:\"mesh\",\"\":null});let d=class extends l{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,r){const o=a.fromJSON(r.spatialReference),s=[];for(let r=0;r<e.length;r++){const i=e[r],n=c.fromJSON(i),p=i.geometry&&i.geometry.spatialReference;t(n.geometry)&&!p&&(n.geometry.spatialReference=o),s.push(n)}return s}writeGeometryType(e,r,o,s){if(e)return void h.write(e,r,o,s);const{features:i}=this;if(i)for(const e of i)if(e&&t(e.geometry))return void h.write(e.geometry.type,r,o,s)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,o=y(e);return!r&&t.spatialReference&&(o.spatialReference=a.fromJSON(t.spatialReference)),o}writeSpatialReference(e,r){if(e)return void(r.spatialReference=e.toJSON());const{features:o}=this;if(o)for(const e of o)e&&t(e.geometry)&&e.geometry.spatialReference&&(r.spatialReference=e.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const o=t.features[r];if(o.geometry){const t=e&&e[r];o.geometry=t&&t.toJSON()||o.geometry}}return t}quantize(e){const{scale:[t,o],translate:[s,i]}=e,n=this.features,p=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-s)/t)),(e=>Math.round((i-e)/o)));for(let e=0,t=n.length;e<t;e++)p(r(n[e].geometry))||(n.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:r,transform:o}=this;if(!o)return this;const{translate:[s,i],scale:[n,p]}=o,l=this._getHydrationFunction(e,(e=>e*n+s),(e=>i-e*p));for(const{geometry:e}of r)t(e)&&l(e);return this.transform=null,this}_quantizePoints(e,t,r){let o,s;const i=[];for(let n=0,p=e.length;n<p;n++){const p=e[n];if(n>0){const e=t(p[0]),n=r(p[1]);e===o&&n===s||(i.push([e-o,n-s]),o=e,s=n)}else o=t(p[0]),s=r(p[1]),i.push([o,s])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return\"point\"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):\"polyline\"===e||\"polygon\"===e?e=>{const o=u(e)?e.rings:e.paths,s=[];for(let e=0,i=o.length;e<i;e++){const i=o[e],n=this._quantizePoints(i,t,r);n&&s.push(n)}return s.length>0?(u(e)?e.rings=s:e.paths=s,e):null}:\"multipoint\"===e?e=>{let o;return o=this._quantizePoints(e.points,t,r),o.length>0?(e.points=o,e):null}:\"extent\"===e?e=>e:null}_getHydrationFunction(e,t,r){return\"point\"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:\"polyline\"===e||\"polygon\"===e?e=>{const o=u(e)?e.rings:e.paths;let s,i;for(let e=0,n=o.length;e<n;e++){const n=o[e];for(let e=0,o=n.length;e<o;e++){const o=n[e];e>0?(s+=o[0],i+=o[1]):(s=o[0],i=o[1]),o[0]=t(s),o[1]=r(i)}}}:\"extent\"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:\"multipoint\"===e?e=>{const o=e.points;let s,i;for(let e=0,n=o.length;e<n;e++){const n=o[e];e>0?(s+=n[0],i+=n[1]):(s=n[0],i=n[1]),n[0]=t(s),n[1]=r(i)}}:void 0}};e([o({type:String,json:{write:!0}})],d.prototype,\"displayFieldName\",void 0),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"exceededTransferLimit\",void 0),e([o({type:[c],json:{write:!0}})],d.prototype,\"features\",void 0),e([i(\"features\")],d.prototype,\"readFeatures\",null),e([o({type:[f],json:{write:!0}})],d.prototype,\"fields\",void 0),e([o({type:[\"point\",\"multipoint\",\"polyline\",\"polygon\",\"extent\",\"mesh\"],json:{read:{reader:h.read}}})],d.prototype,\"geometryType\",void 0),e([p(\"geometryType\")],d.prototype,\"writeGeometryType\",null),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasM\",void 0),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasZ\",void 0),e([o({types:m,json:{write:!0}})],d.prototype,\"queryGeometry\",void 0),e([i(\"queryGeometry\")],d.prototype,\"readQueryGeometry\",null),e([o({type:a,json:{write:!0}})],d.prototype,\"spatialReference\",void 0),e([p(\"spatialReference\")],d.prototype,\"writeSpatialReference\",null),e([o({json:{write:!0}})],d.prototype,\"transform\",void 0),d=e([n(\"esri.tasks.support.FeatureSet\")],d),d.prototype.toJSON.isDefaultToJSON=!0,d||(d={});var g=d;export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../geometry/SpatialReference.js\";import p from\"../../geometry/Point.js\";import n from\"../../geometry/Extent.js\";import i from\"../../geometry/Polyline.js\";import\"../../geometry.js\";import m from\"../../Graphic.js\";import l from\"./FeatureSet.js\";let u=class extends l{constructor(e){super(e),this.extent=null,this.features=null,this.geometryType=\"polyline\",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,r){(e||[]).forEach((e=>{this._decompressFeatureGeometry(e,r.summary.envelope.spatialReference)}));const o=a.fromJSON(r.spatialReference);return e.map((e=>{const r=m.fromJSON(e),s=e.geometry&&e.geometry.spatialReference;return r.geometry&&!s&&(t(r.geometry).spatialReference=o),r.strings=e.strings,r.events=(e.events||[]).map((t=>{const r=new m({geometry:new p({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r})),r}))}get mergedGeometry(){if(!this.features)return null;const e=this.features.map((({geometry:e})=>t(e))),r=this.get(\"extent.spatialReference\");return this._mergePolylinesToSinglePath(e,r)}get strings(){return this.features.map((({strings:e})=>e))}_decompressFeatureGeometry(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)}_decompressGeometry(e,t){let r=0,o=0,s=0,a=0;const p=[];let n,i,m,l,u,c,y,f,d=0,g=0,h=0;if(u=e.match(/((\\+|\\-)[^\\+\\-\\|]+|\\|)/g),u||(u=[]),0===parseInt(u[d],32)){d=2;const e=parseInt(u[d],32);d++,c=parseInt(u[d],32),d++,1&e&&(g=u.indexOf(\"|\")+1,y=parseInt(u[g],32),g++),2&e&&(h=u.indexOf(\"|\",g)+1,f=parseInt(u[h],32),h++)}else c=parseInt(u[d],32),d++;for(;d<u.length&&\"|\"!==u[d];){n=parseInt(u[d],32)+r,d++,r=n,i=parseInt(u[d],32)+o,d++,o=i;const e=[n/c,i/c];g&&(l=parseInt(u[g],32)+s,g++,s=l,e.push(l/y)),h&&(m=parseInt(u[h],32)+a,h++,a=m,e.push(m/f)),p.push(e)}return{paths:[p],hasZ:g>0,hasM:h>0,spatialReference:t}}_mergePolylinesToSinglePath(e,t){let r=[];(e||[]).forEach((e=>{e.paths.forEach((e=>{r=r.concat(e)}))}));const o=[];let s=[0,0];return r.forEach((e=>{e[0]===s[0]&&e[1]===s[1]||(o.push(e),s=e)})),new i({paths:[o]},t)}};e([r({type:n,json:{read:{source:\"summary.envelope\"}}})],u.prototype,\"extent\",void 0),e([r()],u.prototype,\"features\",void 0),e([o(\"features\")],u.prototype,\"readFeatures\",null),e([r()],u.prototype,\"geometryType\",void 0),e([r({readOnly:!0,dependsOn:[\"features\",\"extent.spatialReference\"]})],u.prototype,\"mergedGeometry\",null),e([r()],u.prototype,\"routeId\",void 0),e([r()],u.prototype,\"routeName\",void 0),e([r({value:null,readOnly:!0,dependsOn:[\"features\"]})],u.prototype,\"strings\",null),e([r({json:{read:{source:\"summary.totalDriveTime\"}}})],u.prototype,\"totalDriveTime\",void 0),e([r({json:{read:{source:\"summary.totalLength\"}}})],u.prototype,\"totalLength\",void 0),e([r({json:{read:{source:\"summary.totalTime\"}}})],u.prototype,\"totalTime\",void 0),u=e([s(\"esri.tasks.support.DirectionsFeatureSet\")],u);var c=u;export default c;\n"],"sourceRoot":""}