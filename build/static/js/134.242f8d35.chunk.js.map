{"version":3,"sources":["../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js","../node_modules/@arcgis/core/views/draw/support/GraphicMover.js"],"names":["j","s","getLogger","C","e","layer","interactive","selectable","grabbable","dragging","cursor","events","n","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","t","geometry","this","symbol","_set","attachSymbolChanged","error","graphic","elevationInfo","v","o","offset","b","mode","_get","_updateGraphicSymbol","emit","action","detachSymbolChanged","_resetGraphicSymbol","visible","r","l","i","view","type","_intersectDistance2D","_intersectDistance3D","add","remove","watch","focusedSymbol","_focused","f","a","S","originalPoint","equals","spatialReference","y","g","clone","mapPoint","radiusPx","c","size","h","G","toScreen","x","xoffset","p","yoffset","_","toMap","include","d","w","renderSpatialReference","u","state","camera","eye","constructOnly","nonNullable","prototype","readOnly","value","m","index","viewEvent","allGraphics","dx","dy","totalDx","totalDy","defaultPrevented","k","_activeGraphic","_dragEvent","_handles","_hoverGraphic","_initialDragGeometry","_viewHandles","_manipulators","callbacks","onGraphicClick","onGraphicDoubleClick","onGraphicMoveStart","onGraphicMove","onGraphicMoveStop","onGraphicPointerOver","onGraphicPointerOut","onGraphicPointerDown","onGraphicPointerUp","enableMoveAllGraphics","graphics","_setUpManipulators","on","_clickHandler","TOOL","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","reset","forEach","destroy","removeAll","get","set","_findTargetGraphic","indexOf","stopPropagation","origin","key","Number","MAX_VALUE","intersectionDistance","length","map","EventedAccessor"],"mappings":"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","file":"static/js/134.242f8d35.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isNone as o,isSome as i}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as y,project as g,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),o=e?e.offset:0;return new b({mode:t,offset:o})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const s=t.geometry;if(o(s))return null;const r=this._get(\"focusedSymbol\"),l=i(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,s,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;const l=1;let a=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?l:null;if(o(a)||!a.originalPoint.equals(s)){const t=s,o=e.spatialReference;if(y(t.spatialReference,o)){const e=g(t,o);a={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=a}}if(i(a)){const o=h(t,G),i=e.toScreen(a.mapPoint),s=a.radiusPx,n=i.x+c(r.xoffset),p=i.y-c(r.yoffset);return _(o,[n,p])<s*s?l:null}return null}_intersectDistance3D(e,t,o){const i=e.toMap(t,{include:[o]});return i&&d(i,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as t}from\"../../../core/lang.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import{watch as h,whenOnce as c}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as n}from\"../../input/InputManager.js\";import{createScreenPointFromEvent as p}from\"../../support/screenUtils.js\";import{cloneMove as l}from\"./drawUtils.js\";import{GraphicManipulator as v}from\"../../interactive/GraphicManipulator.js\";import{GraphicClickEvent as d,GraphicDoubleClickEvent as g,GraphicPointerDownEvent as _,GraphicPointerUpEvent as m,GraphicPointerOutEvent as G,GraphicMoveStartEvent as u,GraphicMoveEvent as y,GraphicMoveStopEvent as f,GraphicPointerOverEvent as w}from\"./input/GraphicMoverEvents.js\";let k=class extends a.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._handles=new o,this._hoverGraphic=null,this._initialDragGeometry=null,this._viewHandles=new o,this._manipulators=[],this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.view=null}initialize(){this._setUpManipulators(),this._handles.add([h(this,[\"graphics\",\"graphics.length\"],(()=>{this._setUpManipulators()})),c(this,\"view.ready\",(()=>{this._viewHandles.add([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),n.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),n.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),n.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),n.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),n.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),n.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),n.TOOL)])}))])}destroy(){this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null,this._viewHandles.removeAll(),this._handles.removeAll()}get state(){const i=!!this.get(\"view.ready\"),t=!!this.get(\"graphics.length\"),e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null}updateGeometry(i,t){const e=this.graphics[i];e&&e.set(\"geometry\",t)}_clickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new d(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new g(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(p(i));if(t){this._activeGraphic=t;const{x:e,y:r}=i,s=new _(t,this.graphics.indexOf(t),e,r,i);this.emit(\"graphic-pointer-down\",s),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(s)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._activeGraphic),s=new m(this._activeGraphic,r,t,e,i);this.emit(\"graphic-pointer-up\",s),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(s)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(p(i));if(t){const{x:e,y:r}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const s=this.graphics.indexOf(this._hoverGraphic),a=new G(this.graphics[s],s,e,r,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",a),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(a)}const s=this.graphics.indexOf(t),a=new w(t,s,e,r,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",a),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(a))}if(this._hoverGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._hoverGraphic),s=new G(this.graphics[r],r,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;i.stopPropagation();const{action:e,x:r,y:s}=i,a=this.graphics.indexOf(this._activeGraphic),o=this._activeGraphic.geometry,h=this._dragEvent?r-this._dragEvent.x:0,c=this._dragEvent?s-this._dragEvent.y:0,n=r-i.origin.x,p=s-i.origin.y;if(this._activeGraphic.geometry=l(o,h,c,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=l(i.geometry,h,c,this.view))})),this._dragEvent=i,\"start\"===e){this._initialDragGeometry=t(o);const e=new u(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move-start\",e),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(e),e.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else if(\"update\"===e){const t=new y(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else{const t=new f(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this._dragEvent=null,this._activeGraphic=null,this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&this.graphics[a].set(\"geometry\",this._initialDragGeometry),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){let t=null,r=Number.MAX_VALUE;return this._manipulators.forEach((s=>{const a=s.intersectionDistance(i);e(a)&&a<r&&(r=a,t=s.graphic)})),t}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=null!=i&&i.length?i.map((i=>new v({graphic:i,view:t}))):[]}};i([r()],k.prototype,\"_activeGraphic\",void 0),i([r({readOnly:!0})],k.prototype,\"type\",void 0),i([r()],k.prototype,\"callbacks\",void 0),i([r()],k.prototype,\"enableMoveAllGraphics\",void 0),i([r()],k.prototype,\"graphics\",void 0),i([r({readOnly:!0})],k.prototype,\"state\",null),i([r()],k.prototype,\"view\",void 0),k=i([s(\"esri.views.draw.support.GraphicMover\")],k);var b=k;export default b;\n"],"sourceRoot":""}