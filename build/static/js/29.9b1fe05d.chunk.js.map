{"version":3,"sources":["../node_modules/@arcgis/core/core/queryUtils.js","../node_modules/@arcgis/core/tasks/mixins/NAServiceDescription.js","../node_modules/@arcgis/core/tasks/support/NAMessage.js","../node_modules/@arcgis/core/tasks/support/ServiceAreaSolveResult.js","../node_modules/@arcgis/core/tasks/ServiceAreaTask.js","../node_modules/@arcgis/core/tasks/support/GPMessage.js"],"names":["t","this","_options","e","toJSON","o","Object","keys","forEach","n","r","name","s","getter","Array","isArray","join","JSON","stringify","l","a","_serviceDescriptionPromise","_fetchServiceDescription","url","parsedUrl","query","f","data","supportedTravelModes","length","id","itemId","currentVersion","defaultTravelMode","error","substring","indexOf","owningSystemUrl","i","test","path","serviceName","c","u","p","results","paramName","value","features","attributes","parse","TravelMode","push","hasZ","z","console","log","0","1","2","3","50","100","101","200","type","String","json","read","write","prototype","map","fromJSON","spatialReference","geometry","d","y","facilities","messages","pointBarriers","polylineBarriers","polygonBarriers","serviceAreaPolylines","serviceAreaPolygons","barriers","saPolylines","saPolygons","m","g","accumulateAttributes","attributeParameterValues","defaultBreaks","outSpatialReference","wkid","restrictionAttributes","returnPointBarriers","travelMode","_collectGeometries","then","slice","_isInputGeometryZAware","getServiceDescription","dontCheck","_dropZValuesOffInputGeometry","get","toQueryParams","requestOptions","esriJobMessageTypeInformative","esriJobMessageTypeProcessDefinition","esriJobMessageTypeProcessStart","esriJobMessageTypeProcessStop","esriJobMessageTypeWarning","esriJobMessageTypeError","esriJobMessageTypeEmpty","esriJobMessageTypeAbort","description"],"mappings":"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","file":"static/js/29.9b1fe05d.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t={}){this._options=t}toQueryParams(t){if(!t)return null;const e=t.toJSON(),o={};return Object.keys(e).forEach((t=>{const n=this._options[t];if(n){const r=\"boolean\"!=typeof n&&n.name?n.name:t,s=\"boolean\"!=typeof n&&n.getter?n.getter(e):e[t];null!=s&&(o[r]=(t=>{if(!Array.isArray(t))return!1;const[e]=t;return\"number\"==typeof e||\"string\"==typeof e})(s)?s.join(\",\"):\"object\"==typeof s?JSON.stringify(s):s)}else o[t]=e[t]}),this),o}}function e(e){return new t(e)}export{e as createQueryParamsHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{getDeepValue as r}from\"../../core/object.js\";import{isSome as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import{urlToObject as i}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../request.js\";import l from\"../Task.js\";const n=l=>{let n=class extends l{async getServiceDescription(){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription()),this._serviceDescriptionPromise}async _fetchServiceDescription(){if(!this.url||!this.parsedUrl)throw new o(\"network-service:missing-url\",\"Url to Network service is missing\");const e=this.url,{data:t}=await a(e,{query:{f:\"json\"}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let e=0;e<t.supportedTravelModes.length;e++)t.supportedTravelModes[e].id||(t.supportedTravelModes[e].id=t.supportedTravelModes[e].itemId);const s=t.currentVersion>=10.4?async function(e){try{const{data:{supportedTravelModes:r,defaultTravelMode:t}}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"retrieveTravelModes\",{query:{f:\"json\"}});return{supportedTravelModes:r,defaultTravelMode:t}}catch(e){throw new o(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:e})}}(e):async function(e){const{data:t}=await a(e.substring(0,e.indexOf(\"/rest/\")+6)+\"info\",{query:{f:\"json\"}});if(!t||!t.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};e=t.owningSystemUrl;const{data:s}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"sharing/rest/portals/self\",{query:{f:\"json\"}}),o=r(\"helperServices.routingUtilities.url\",s);if(!o)return{supportedTravelModes:[],defaultTravelMode:null};const l=i(e),n=/\\/solveClosestFacility$/.test(l.path)?\"Route\":/\\/solveClosestFacility$/.test(l.path)?\"ClosestFacility\":\"ServiceAreas\",c=await a(o+(\"/\"===o[o.length-1]?\"\":\"/\")+\"GetTravelModes/execute\",{query:{f:\"json\",serviceName:n}}),u=[];let p=null;if(c&&c.data&&c.data.results&&c.data.results.length){const e=c.data.results;for(const r of e)if(\"supportedTravelModes\"===r.paramName){if(r.value&&r.value.features)for(const{attributes:e}of r.value.features)if(e){const r=JSON.parse(e.TravelMode);u.push(r)}}else\"defaultTravelMode\"===r.paramName&&(p=r.value)}return{supportedTravelModes:u,defaultTravelMode:p}}(e),{defaultTravelMode:l,supportedTravelModes:n}=await s;return t.defaultTravelMode=l,t.supportedTravelModes=n,t}_isInputGeometryZAware(e,r){for(let s=0;s<r.length;s++){const o=e[r[s]];if(o&&o.length)for(const e of o)if(t(e)&&e.hasZ)return!0}return!1}_dropZValuesOffInputGeometry(e,r){for(let t=0;t<r.length;t++){const s=e[r[t]];if(s&&s.length)for(const e of s)e.z=void 0}console.log(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}};return n=e([s(\"esri.tasks.mixins.NAServiceDescription\")],n),n};let c=class extends(n(l)){};c=e([s(\"esri.tasks.mixins.NAServiceDescription\")],c);export{c as NAServiceDescription,n as NAServiceDescriptionMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"./GPMessage.js\";const p=new s({0:\"informative\",1:\"process-definition\",2:\"process-start\",3:\"process-stop\",50:\"warning\",100:\"error\",101:\"empty\",200:\"abort\"});let i=class extends t{constructor(r){super(r),this.type=null}};r([o({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([e(\"esri.tasks.support.NAMessage\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as e}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as t}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import p from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Point.js\";import l from\"../../geometry/Polygon.js\";import n from\"../../geometry/Polyline.js\";import{fromJSON as y}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import c from\"../../Graphic.js\";import m from\"./NAMessage.js\";function u(r){return r.features.map((o=>{const t=p.fromJSON(r.spatialReference),s=c.fromJSON(o);return e(s.geometry).spatialReference=t,s}))}function d(r){return r.features.map((e=>(e.geometry.spatialReference=r.spatialReference,y(e.geometry))))}let f=class extends i{constructor(r){super(r),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(r){return d(r)}readPointBarriers(r,e){return d(e.barriers)}readPolylineBarriers(r){return d(r)}readPolygonBarriers(r){return d(r)}readIncidents(r,e){return u(e.saPolylines)}readServiceAreaPolygons(r,e){return u(e.saPolygons)}};r([o({type:[a]})],f.prototype,\"facilities\",void 0),r([t(\"facilities\")],f.prototype,\"readFacilities\",null),r([o({type:[m]})],f.prototype,\"messages\",void 0),r([o({type:[a]})],f.prototype,\"pointBarriers\",void 0),r([t(\"pointBarriers\",[\"barriers\"])],f.prototype,\"readPointBarriers\",null),r([o({type:[n]})],f.prototype,\"polylineBarriers\",void 0),r([t(\"polylineBarriers\")],f.prototype,\"readPolylineBarriers\",null),r([o({type:[l]})],f.prototype,\"polygonBarriers\",void 0),r([t(\"polygonBarriers\")],f.prototype,\"readPolygonBarriers\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolylines\",void 0),r([t(\"serviceAreaPolylines\",[\"saPolylines\"])],f.prototype,\"readIncidents\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolygons\",void 0),r([t(\"serviceAreaPolygons\",[\"saPolygons\"])],f.prototype,\"readServiceAreaPolygons\",null),f=r([s(\"esri.tasks.support.ServiceAreaSolveResult\")],f);var g=f;export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as s}from\"../core/promiseUtils.js\";import o from\"../request.js\";import{normalizeCentralMeridian as i}from\"../geometry/support/normalizeUtils.js\";import a from\"./Task.js\";import{createQueryParamsHelper as p}from\"../core/queryUtils.js\";import{NAServiceDescriptionMixin as l}from\"./mixins/NAServiceDescription.js\";import c from\"./support/ServiceAreaSolveResult.js\";const n=p({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},returnPointBarriers:{name:\"returnBarriers\"},travelMode:!0});let u=class extends(l(a)){constructor(e){super(e),this.url=null}solve(e,r){const t=[],a=[],p={},l={};return e.facilities&&e.facilities.features&&this._collectGeometries(e.facilities.features,a,\"facilities.features\",p),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,\"pointBarriers.features\",p),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,\"polylineBarriers.features\",p),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,\"polygonBarriers.features\",p),i(a).then((e=>{for(const r in p){const s=p[r];t.push(r),l[r]=e.slice(s[0],s[1])}return this._isInputGeometryZAware(l,t)?this.getServiceDescription():s({dontCheck:!0})})).then((s=>{(\"dontCheck\"in s?s.dontCheck:s.hasZ)||this._dropZValuesOffInputGeometry(l,t);for(const r in l)l[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let i={query:{...this.parsedUrl.query,f:\"json\",...n.toQueryParams(e)}};return(this.requestOptions||r)&&(i={...this.requestOptions,...r,...i}),o(`${this.parsedUrl.path}/solveServiceArea`,i)})).then((e=>c.fromJSON(e.data)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}};e([r()],u.prototype,\"url\",void 0),u=e([t(\"esri.tasks.ServiceAreaTask\")],u);var m=u;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";const p=new s({esriJobMessageTypeInformative:\"informative\",esriJobMessageTypeProcessDefinition:\"process-definition\",esriJobMessageTypeProcessStart:\"process-start\",esriJobMessageTypeProcessStop:\"process-stop\",esriJobMessageTypeWarning:\"warning\",esriJobMessageTypeError:\"error\",esriJobMessageTypeEmpty:\"empty\",esriJobMessageTypeAbort:\"abort\"});let i=class extends t{constructor(r){super(r),this.description=null,this.type=null}};r([e({type:String,json:{write:!0}})],i.prototype,\"description\",void 0),r([e({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([o(\"esri.tasks.support.GPMessage\")],i);var a=i;export default a;\n"],"sourceRoot":""}