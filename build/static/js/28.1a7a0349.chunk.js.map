{"version":3,"sources":["../node_modules/@arcgis/core/core/queryUtils.js","../node_modules/@arcgis/core/tasks/mixins/NAServiceDescription.js","../node_modules/@arcgis/core/tasks/support/NAMessage.js","../node_modules/@arcgis/core/tasks/support/DirectionsFeatureSet.js","../node_modules/@arcgis/core/tasks/support/RouteResult.js","../node_modules/@arcgis/core/tasks/support/RouteResultsContainer.js","../node_modules/@arcgis/core/tasks/RouteTask.js","../node_modules/@arcgis/core/tasks/support/GPMessage.js"],"names":["t","this","_options","e","toJSON","o","Object","keys","forEach","n","r","name","s","getter","Array","isArray","join","JSON","stringify","l","a","_serviceDescriptionPromise","_fetchServiceDescription","url","parsedUrl","query","f","data","supportedTravelModes","length","id","itemId","currentVersion","defaultTravelMode","error","substring","indexOf","owningSystemUrl","i","test","path","serviceName","c","u","p","results","paramName","value","features","attributes","parse","TravelMode","push","hasZ","z","console","log","0","1","2","3","50","100","101","200","type","String","json","read","write","prototype","extent","geometryType","routeId","routeName","totalDriveTime","totalLength","totalTime","_decompressFeatureGeometry","summary","envelope","spatialReference","fromJSON","map","m","geometry","strings","events","x","point","y","ETA","arriveTimeUTC","get","_mergePolylinesToSinglePath","_decompressGeometry","compressedGeometry","d","g","h","match","parseInt","paths","hasM","concat","source","readOnly","dependsOn","directions","route","stops","barriers","messages","pointBarriers","polylineBarriers","polygonBarriers","routeResults","aliasOf","accumulateAttributes","attributeParameterValues","directionsTimeAttribute","impedanceAttribute","outSpatialReference","wkid","restrictionAttributes","travelMode","_collectGeometries","then","slice","_isInputGeometryZAware","getServiceDescription","dontCheck","_dropZValuesOffInputGeometry","toQueryParams","requestOptions","endsWith","_handleSolveResponse","routes","Name","RouteName","splice","B","esriJobMessageTypeInformative","esriJobMessageTypeProcessDefinition","esriJobMessageTypeProcessStart","esriJobMessageTypeProcessStop","esriJobMessageTypeWarning","esriJobMessageTypeError","esriJobMessageTypeEmpty","esriJobMessageTypeAbort","description"],"mappings":"gLAIMA,E,WAAE,aAAiB,IAALA,EAAK,uDAAH,GAAG,oBAACC,KAAKC,SAASF,E,iDAAE,SAAcA,GAAE,WAAC,IAAIA,EAAE,OAAO,KAAK,IAAMG,EAAEH,EAAEI,SAASC,EAAE,GAAG,OAAOC,OAAOC,KAAKJ,GAAGK,SAAS,SAAAR,GAAI,IAAMS,EAAE,EAAKP,SAASF,GAAG,GAAGS,EAAE,CAAC,IAAMC,EAAE,kBAAkBD,GAAGA,EAAEE,KAAKF,EAAEE,KAAKX,EAAEY,EAAE,kBAAkBH,GAAGA,EAAEI,OAAOJ,EAAEI,OAAOV,GAAGA,EAAEH,GAAG,MAAMY,IAAIP,EAAEK,GAAI,SAAAV,GAAI,IAAIc,MAAMC,QAAQf,GAAG,OAAM,EAA5B,IAAqCG,EAArC,YAAwCH,EAAxC,MAA0C,MAAM,iBAAiBG,GAAG,iBAAiBA,EAAxF,CAA4FS,GAAGA,EAAEI,KAAK,KAAK,iBAAiBJ,EAAEK,KAAKC,UAAUN,GAAGA,QAAQP,EAAEL,GAAGG,EAAEH,KAAKC,MAAMI,M,KAAG,SAASF,EAAEA,GAAG,OAAO,IAAIH,EAAEG,K,4OCAsIM,EAAE,SAAAU,GAAI,IAAIV,EAAC,kNAAiB,sBAAAW,EAAA,gFAAqCnB,KAAKoB,6BAA6BpB,KAAKoB,2BAA2BpB,KAAKqB,4BAA4BrB,KAAKoB,6BAA7I,gDAAjB,mIAAyL,0CAAAD,EAAA,yDAAqCnB,KAAKsB,KAAMtB,KAAKuB,UAArD,sBAAqE,IAAInB,IAAE,8BAA8B,qCAAzG,cAAoJF,EAAEF,KAAKsB,IAA3J,SAA8KH,kBAAEjB,EAAE,CAACsB,MAAM,CAACC,EAAE,UAA5L,OAA0P,IAA1P,UAAqK1B,EAArK,EAAgK2B,MAAwCC,uBAAuB5B,EAAE4B,qBAAqB,IAAYzB,EAAE,EAAEA,EAAEH,EAAE4B,qBAAqBC,OAAO1B,IAAIH,EAAE4B,qBAAqBzB,GAAG2B,KAAK9B,EAAE4B,qBAAqBzB,GAAG2B,GAAG9B,EAAE4B,qBAAqBzB,GAAG4B,QAAhY,OAA8YnB,EAAEZ,EAAEgC,gBAAgB,KAAK,+BAAAZ,EAAA,iBAAejB,GAAf,qBAAAiB,EAAA,+EAAqFA,kBAAEjB,GAAG,MAAMA,EAAEA,EAAE0B,OAAO,GAAG,GAAG,KAAK,sBAAsB,CAACJ,MAAM,CAACC,EAAE,UAAtJ,2BAA4BC,KAA2BjB,EAAvD,EAAkCkB,qBAAyC5B,EAA3E,EAAyDiC,kBAAzD,kBAAsK,CAACL,qBAAqBlB,EAAEuB,kBAAkBjC,IAAhN,wCAAkO,IAAIK,IAAE,sCAAsC,uDAAuD,CAAC6B,MAAK,OAA3U,gHAAkV/B,GAAG,+BAAAiB,EAAA,iBAAejB,GAAf,iDAAAiB,EAAA,sEAAsCA,kBAAEjB,EAAEgC,UAAU,EAAEhC,EAAEiC,QAAQ,UAAU,GAAG,OAAO,CAACX,MAAM,CAACC,EAAE,UAA9F,oBAA6B1B,EAA7B,EAAwB2B,OAAwF3B,EAAEqC,gBAAlH,yCAAwI,CAACT,qBAAqB,GAAGK,kBAAkB,OAAnL,cAAyL9B,EAAEH,EAAEqC,gBAA7L,SAAiOjB,kBAAEjB,GAAG,MAAMA,EAAEA,EAAE0B,OAAO,GAAG,GAAG,KAAK,4BAA4B,CAACJ,MAAM,CAACC,EAAE,UAAxS,mBAAwNd,EAAxN,EAAmNe,KAA+FtB,EAAEK,YAAE,sCAAsCE,GAA5V,0CAA2W,CAACgB,qBAAqB,GAAGK,kBAAkB,OAAtZ,eAAkad,EAAEmB,YAAEnC,GAAGM,EAAE,0BAA0B8B,KAAKpB,EAAEqB,MAAM,QAAQ,0BAA0BD,KAAKpB,EAAEqB,MAAM,kBAAkB,eAAnhB,UAA0iBpB,kBAAEf,GAAG,MAAMA,EAAEA,EAAEwB,OAAO,GAAG,GAAG,KAAK,yBAAyB,CAACJ,MAAM,CAACC,EAAE,OAAOe,YAAYhC,KAAjoB,QAAspB,GAApHiC,EAAliB,OAAsoBC,EAAE,GAAOC,EAAE,KAAQF,GAAGA,EAAEf,MAAMe,EAAEf,KAAKkB,SAASH,EAAEf,KAAKkB,QAAQhB,OAAO,CAAO1B,EAAEuC,EAAEf,KAAKkB,QAAhB,cAAuC1C,GAAvC,IAAwB,2BAAiB,GAAG,0BAAVO,EAAV,SAA+CoC,WAAW,GAAGpC,EAAEqC,OAAOrC,EAAEqC,MAAMC,SAApB,eAAuDtC,EAAEqC,MAAMC,UAA/D,IAA6B,4BAAqB7C,EAArB,QAAU8C,cAA6CvC,EAAEO,KAAKiC,MAAM/C,EAAEgD,YAAYR,EAAES,KAAK1C,IAAtH,oCAA8H,sBAAsBA,EAAEoC,YAAYF,EAAElC,EAAEqC,OAAxP,+BAA1sB,yBAA+8B,CAACnB,qBAAqBe,EAAEV,kBAAkBW,IAAz/B,kGAA6/BzC,GAAzvD,UAA+yDS,EAA/yD,wBAA+wDO,EAA/wD,EAA6vDc,kBAAyCxB,EAAtyD,EAAixDmB,qBAAjxD,mBAAwzD5B,EAAEiC,kBAAkBd,EAAEnB,EAAE4B,qBAAqBnB,EAAET,IAAv2D,iDAAzL,0FAAkiE,SAAuBG,EAAEO,GAAG,IAAI,IAAIE,EAAE,EAAEA,EAAEF,EAAEmB,OAAOjB,IAAI,CAAC,IAAMP,EAAEF,EAAEO,EAAEE,IAAI,GAAGP,GAAGA,EAAEwB,OAAR,qBAA8BxB,GAA9B,IAAe,gCAAUF,EAAV,QAAiB,GAAGH,YAAEG,IAAIA,EAAEkD,KAAK,OAAM,GAAtD,gCAAyD,OAAM,IAAzqE,0CAA4qE,SAA6BlD,EAAEO,GAAG,IAAI,IAAIV,EAAE,EAAEA,EAAEU,EAAEmB,OAAO7B,IAAI,CAAC,IAAMY,EAAET,EAAEO,EAAEV,IAAI,GAAGY,GAAGA,EAAEiB,OAAR,qBAA8BjB,GAA9B,IAAe,oCAAmB0C,OAAE,GAApC,gCAA2CC,QAAQC,IAAI,mJAAjzE,GAAerC,GAAm7E,OAAOV,EAAEN,YAAE,CAACS,YAAE,2CAA2CH,GAAGA,GAAOiC,EAAC,4HAAejC,EAAEU,MAAMuB,EAAEvC,YAAE,CAACS,YAAE,2CAA2C8B,I,yICA7sFE,EAAE,IAAIhC,IAAE,CAAC6C,EAAE,cAAcC,EAAE,qBAAqBC,EAAE,gBAAgBC,EAAE,eAAeC,GAAG,UAAUC,IAAI,QAAQC,IAAI,QAAQC,IAAI,UAAc1B,EAAC,kDAAiB,WAAY5B,GAAE,kCAAC,cAAMA,IAAQuD,KAAK,KAApB,EAA/B,UAAejE,KAA2CU,YAAE,CAACL,YAAE,CAAC4D,KAAKC,OAAOC,KAAK,CAACC,KAAKxB,EAAEwB,KAAKC,MAAMzB,EAAEyB,UAAU/B,EAAEgC,UAAU,YAAO,GAAmD,IAAI5B,EAA/CJ,EAAE5B,YAAE,CAACP,YAAE,iCAAiCmC,GAA0BI,O,iMCA9CC,EAAC,kDAAiB,WAAYxC,GAAE,kCAAC,cAAMA,IAAQoE,OAAO,KAAK,EAAKvB,SAAS,KAAK,EAAKwB,aAAa,WAAW,EAAKC,QAAQ,KAAK,EAAKC,UAAU,KAAK,EAAKC,eAAe,KAAK,EAAKC,YAAY,KAAK,EAAKC,UAAU,KAA/K,EAA/B,gDAAmN,SAAa1E,EAAEO,GAAE,YAAEP,GAAG,IAAIK,SAAS,SAAAL,GAAI,EAAK2E,2BAA2B3E,EAAEO,EAAEqE,QAAQC,SAASC,qBAAqB,IAAM5E,EAAEe,IAAE8D,SAASxE,EAAEuE,kBAAkB,OAAO9E,EAAEgF,KAAK,SAAAhF,GAAI,IAAMO,EAAE0E,IAAEF,SAAS/E,GAAGS,EAAET,EAAEkF,UAAUlF,EAAEkF,SAASJ,iBAAiB,OAAOvE,EAAE2E,WAAWzE,IAAIZ,YAAEU,EAAE2E,UAAUJ,iBAAiB5E,GAAGK,EAAE4E,QAAQnF,EAAEmF,QAAQ5E,EAAE6E,QAAQpF,EAAEoF,QAAQ,IAAIJ,KAAK,SAAAnF,GAAI,IAAMU,EAAE,IAAI0E,IAAE,CAACC,SAAS,IAAIzC,IAAE,CAAC4C,EAAExF,EAAEyF,MAAMD,EAAEE,EAAE1F,EAAEyF,MAAMC,EAAEpC,EAAEtD,EAAEyF,MAAMnC,EAAED,UAAK,IAASrD,EAAEyF,MAAMnC,EAAE2B,iBAAiB9E,EAAEkF,UAAUlF,EAAEkF,SAASJ,mBAAmBhC,WAAW,CAAC0C,IAAI3F,EAAE2F,IAAIC,cAAc5F,EAAE4F,iBAAiB,OAAOlF,EAAE4E,QAAQtF,EAAEsF,QAAQ5E,KAAKA,OAAzxB,0BAA8xB,WAAqB,IAAIT,KAAK+C,SAAS,OAAO,KAAK,IAAM7C,EAAEF,KAAK+C,SAASmC,KAAK,gBAAWhF,EAAX,EAAEkF,SAAF,OAAgBrF,YAAEG,MAAKO,EAAET,KAAK4F,IAAI,2BAA2B,OAAO5F,KAAK6F,4BAA4B3F,EAAEO,KAAn9B,mBAAs9B,WAAc,OAAOT,KAAK+C,SAASmC,KAAK,qBAAEG,aAAhgC,wCAAihC,SAA2BnF,EAAEH,GAAGG,EAAEkF,SAASpF,KAAK8F,oBAAoB5F,EAAE6F,mBAAmBhG,KAA1mC,iCAA6mC,SAAoBG,EAAEH,GAAG,IAAmCS,EAAE6B,EAAE8C,EAAEjE,EAAEwB,EAAED,EAAEgD,EAAEhE,EAA7ChB,EAAE,EAAEL,EAAE,EAAEO,EAAE,EAAEQ,EAAE,EAAQwB,EAAE,GAAuBqD,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAE,IAAGxD,EAAExC,EAAEiG,MAAM,8BAA+BzD,EAAE,IAAI,IAAI0D,SAAS1D,EAAEsD,GAAG,IAAI,CAACA,EAAE,EAAE,IAAM9F,EAAEkG,SAAS1D,EAAEsD,GAAG,IAAIA,IAAIvD,EAAE2D,SAAS1D,EAAEsD,GAAG,IAAIA,IAAI,EAAE9F,IAAI+F,EAAEvD,EAAEP,QAAQ,KAAK,EAAEsD,EAAEW,SAAS1D,EAAEuD,GAAG,IAAIA,KAAK,EAAE/F,IAAIgG,EAAExD,EAAEP,QAAQ,IAAI8D,GAAG,EAAExE,EAAE2E,SAAS1D,EAAEwD,GAAG,IAAIA,UAAUzD,EAAE2D,SAAS1D,EAAEsD,GAAG,IAAIA,IAAI,KAAKA,EAAEtD,EAAEd,QAAQ,MAAMc,EAAEsD,IAAI,CAACxF,EAAE4F,SAAS1D,EAAEsD,GAAG,IAAIvF,EAAEuF,IAAIvF,EAAED,EAAE6B,EAAE+D,SAAS1D,EAAEsD,GAAG,IAAI5F,EAAE4F,IAAI5F,EAAEiC,EAAE,IAAMnC,EAAE,CAACM,EAAEiC,EAAEJ,EAAEI,GAAGwD,IAAI/E,EAAEkF,SAAS1D,EAAEuD,GAAG,IAAItF,EAAEsF,IAAItF,EAAEO,EAAEhB,EAAEiD,KAAKjC,EAAEuE,IAAIS,IAAIf,EAAEiB,SAAS1D,EAAEwD,GAAG,IAAI/E,EAAE+E,IAAI/E,EAAEgE,EAAEjF,EAAEiD,KAAKgC,EAAE1D,IAAIkB,EAAEQ,KAAKjD,GAAG,MAAM,CAACmG,MAAM,CAAC1D,GAAGS,KAAK6C,EAAE,EAAEK,KAAKJ,EAAE,EAAElB,iBAAiBjF,KAAntD,yCAAstD,SAA4BG,EAAEH,GAAG,IAAIU,EAAE,IAAIP,GAAG,IAAIK,SAAS,SAAAL,GAAIA,EAAEmG,MAAM9F,SAAS,SAAAL,GAAIO,EAAEA,EAAE8F,OAAOrG,SAAS,IAAME,EAAE,GAAOO,EAAE,CAAC,EAAE,GAAG,OAAOF,EAAEF,SAAS,SAAAL,GAAIA,EAAE,KAAKS,EAAE,IAAIT,EAAE,KAAKS,EAAE,KAAKP,EAAE+C,KAAKjD,GAAGS,EAAET,MAAM,IAAImC,IAAE,CAACgE,MAAM,CAACjG,IAAIL,OAA16D,G,OAAemB,SAAg6DhB,YAAE,CAACO,YAAE,CAACuD,KAAKxD,IAAE0D,KAAK,CAACC,KAAK,CAACqC,OAAO,wBAAwB9D,EAAE2B,UAAU,cAAS,GAAQnE,YAAE,CAACO,eAAKiC,EAAE2B,UAAU,gBAAW,GAAQnE,YAAE,CAACE,YAAE,aAAasC,EAAE2B,UAAU,eAAe,MAAMnE,YAAE,CAACO,eAAKiC,EAAE2B,UAAU,oBAAe,GAAQnE,YAAE,CAACO,YAAE,CAACgG,UAAS,EAAGC,UAAU,CAAC,WAAW,8BAA8BhE,EAAE2B,UAAU,iBAAiB,MAAMnE,YAAE,CAACO,eAAKiC,EAAE2B,UAAU,eAAU,GAAQnE,YAAE,CAACO,eAAKiC,EAAE2B,UAAU,iBAAY,GAAQnE,YAAE,CAACO,YAAE,CAACqC,MAAM,KAAK2D,UAAS,EAAGC,UAAU,CAAC,eAAehE,EAAE2B,UAAU,UAAU,MAAMnE,YAAE,CAACO,YAAE,CAACyD,KAAK,CAACC,KAAK,CAACqC,OAAO,8BAA8B9D,EAAE2B,UAAU,sBAAiB,GAAQnE,YAAE,CAACO,YAAE,CAACyD,KAAK,CAACC,KAAK,CAACqC,OAAO,2BAA2B9D,EAAE2B,UAAU,mBAAc,GAAQnE,YAAE,CAACO,YAAE,CAACyD,KAAK,CAACC,KAAK,CAACqC,OAAO,yBAAyB9D,EAAE2B,UAAU,iBAAY,GAA8D,IAAI5B,EAA1DC,EAAExC,YAAE,CAACS,YAAE,4CAA4C+B,GAA0BD,O,yPCA99FJ,EAAC,kDAAiB,WAAYjC,GAAE,kCAAC,cAAMA,IAAQuG,WAAW,KAAK,EAAKC,MAAM,KAAK,EAAKnC,UAAU,KAAK,EAAKoC,MAAM,KAA9E,EAA/B,UAAelG,KAAqGP,YAAE,CAACK,YAAE,CAACuD,KAAKrB,IAAEuB,KAAK,CAACE,OAAM,MAAO/B,EAAEgC,UAAU,kBAAa,GAAQjE,YAAE,CAACK,YAAE,CAACuD,KAAK9D,IAAEgE,KAAK,CAACE,OAAM,MAAO/B,EAAEgC,UAAU,aAAQ,GAAQjE,YAAE,CAACK,YAAE,CAACuD,KAAKC,OAAOC,KAAK,CAACE,OAAM,MAAO/B,EAAEgC,UAAU,iBAAY,GAAQjE,YAAE,CAACK,YAAE,CAACuD,KAAK,CAAC9D,KAAGgE,KAAK,CAACE,OAAM,MAAO/B,EAAEgC,UAAU,aAAQ,GAAqD,IAAuB3B,EAApEL,EAAEjC,YAAE,CAACL,YAAE,mCAAmCsC,GCAtS,SAAS7B,EAAEC,GAAG,OAAOA,GAAG4B,UAAE4C,SAASxE,GAAGsC,SAASmC,KAAK,SAAAzE,GAAC,OAAEA,KAAI,IAAIiC,EAAC,kDAAiB,WAAYjC,GAAE,kCAAC,cAAMA,IAAQqG,SAAS,KAAK,EAAKC,SAAS,KAAK,EAAKC,cAAc,KAAK,EAAKC,iBAAiB,KAAK,EAAKC,gBAAgB,KAAK,EAAKC,aAAa,KAA/I,EAA/B,qDAAmL,SAAkB1G,EAAEL,GAAG,OAAOI,EAAEJ,EAAE0G,UAAU1G,EAAE4G,iBAAjO,kCAAgP,SAAqBvG,GAAG,OAAOD,EAAEC,KAAjR,iCAAoR,SAAoBA,GAAG,OAAOD,EAAEC,OAApT,GAAeV,KAA0SU,YAAE,CAACL,YAAE,CAACgH,QAAQ,mBAAmB1E,EAAE2B,UAAU,gBAAW,GAAQ5D,YAAE,CAACL,YAAE,CAAC4D,KAAK,CAAC7C,QAAMuB,EAAE2B,UAAU,gBAAW,GAAQ5D,YAAE,CAACL,YAAE,CAAC4D,KAAK,CAACrB,QAAMD,EAAE2B,UAAU,qBAAgB,GAAQ5D,YAAE,CAACP,YAAE,gBAAgB,CAAC,WAAW,mBAAmBwC,EAAE2B,UAAU,oBAAoB,MAAM5D,YAAE,CAACL,YAAE,CAAC4D,KAAK,CAACrB,QAAMD,EAAE2B,UAAU,wBAAmB,GAAQ5D,YAAE,CAACP,YAAE,qBAAqBwC,EAAE2B,UAAU,uBAAuB,MAAM5D,YAAE,CAACL,YAAE,CAAC4D,KAAK,CAACrB,QAAMD,EAAE2B,UAAU,uBAAkB,GAAQ5D,YAAE,CAACP,YAAE,oBAAoBwC,EAAE2B,UAAU,sBAAsB,MAAM5D,YAAE,CAACL,YAAE,CAAC4D,KAAK,CAAC9C,MAAMwB,EAAE2B,UAAU,oBAAe,GAA+D,IAAuB5B,EAA9EC,EAAEjC,YAAE,CAACE,YAAE,6CAA6C+B,GCAt4BxB,EAAEC,YAAE,CAACkG,qBAAqB,CAAC3G,KAAK,4BAA4B4G,0BAAyB,EAAGC,wBAAwB,CAAC7G,KAAK,+BAA+B8G,mBAAmB,CAAC9G,KAAK,0BAA0B+G,oBAAoB,CAAC/G,KAAK,QAAQE,OAAO,SAAAV,GAAC,OAAEA,EAAEuH,oBAAoBC,OAAMV,cAAc,CAACtG,KAAK,YAAYuG,kBAAiB,EAAGC,iBAAgB,EAAGS,sBAAsB,CAACjH,KAAK,6BAA6BmG,OAAM,EAAGe,YAAW,IAASlF,EAAC,kDAAqB,WAAYxC,GAAE,uCAAOA,GAA1C,yCAA6C,SAAMA,EAAEO,GAAE,WAAO4B,EAAE,GAAGlB,EAAE,GAAGX,EAAE,GAAGmC,EAAE,GAAG,OAAOzC,EAAE2G,OAAO3G,EAAE2G,MAAM9D,UAAU/C,KAAK6H,mBAAmB3H,EAAE2G,MAAM9D,SAAS5B,EAAE,iBAAiBX,GAAGN,EAAE8G,eAAe9G,EAAE8G,cAAcjE,UAAU/C,KAAK6H,mBAAmB3H,EAAE8G,cAAcjE,SAAS5B,EAAE,yBAAyBX,GAAGN,EAAE+G,kBAAkB/G,EAAE+G,iBAAiBlE,UAAU/C,KAAK6H,mBAAmB3H,EAAE+G,iBAAiBlE,SAAS5B,EAAE,4BAA4BX,GAAGN,EAAEgH,iBAAiBhH,EAAEgH,gBAAgBnE,UAAU/C,KAAK6H,mBAAmB3H,EAAEgH,gBAAgBnE,SAAS5B,EAAE,2BAA2BX,GAAGJ,YAAEe,GAAG2G,MAAM,SAAA5H,GAAI,IAAI,IAAMO,KAAKD,EAAE,CAAC,IAAMT,EAAES,EAAEC,GAAG4B,EAAEc,KAAK1C,GAAGkC,EAAElC,GAAGP,EAAE6H,MAAMhI,EAAE,GAAGA,EAAE,IAAI,OAAO,EAAKiI,uBAAuBrF,EAAEN,GAAG,EAAK4F,wBAAwBlI,YAAE,CAACmI,WAAU,OAAQJ,MAAM,SAAA/H,IAAK,cAAcA,EAAEA,EAAEmI,UAAUnI,EAAEqD,OAAO,EAAK+E,6BAA6BxF,EAAEN,GAA3E,eAAwF5B,GAAOkC,EAAElC,GAAGF,SAAS,SAACR,EAAEY,GAAKT,EAAE0F,IAAInF,GAAGE,GAAGyE,SAASrF,MAA5D,IAAI,IAAMU,KAAKkC,EAAf,EAAUlC,GAAuD,IAAIL,EAAE,CAACoB,MAAK,2BAAK,EAAKD,UAAUC,OAApB,IAA0BC,EAAE,QAAUP,EAAEkH,cAAclI,MAAM,EAAKmI,gBAAgB5H,KAAKL,EAAC,uCAAK,EAAKiI,gBAAkB5H,GAAKL,IAAS,IAAMe,EAAG,EAAKI,UAAbgB,KAAuB/B,EAAE,SAASkC,EAAEvB,EAAEmH,SAAS9H,GAAGW,EAAEA,EAAEX,EAAE,OAAOG,kBAAE+B,EAAEtC,MAAM0H,MAAM,SAAA5H,GAAC,OAAE,EAAKqI,qBAAqBrI,QAAjnC,gCAAsnC,SAAmBA,EAAEO,EAAEV,EAAEY,GAAGA,EAAEZ,GAAG,CAACU,EAAEmB,OAAOnB,EAAEmB,OAAO1B,EAAE0B,QAAQ1B,EAAEK,SAAS,SAAAL,GAAIO,EAAE0C,KAAKjD,EAAEkF,eAA5sC,kCAAytC,SAAqBlF,GAAS,IAA8OgG,EAAET,EAAhPhF,EAAE,GAAGV,EAAE,GAAP,EAA0LG,EAAEwB,KAA5L,IAAWiF,WAAWhG,OAAtB,MAAwB,GAAxB,MAA2B6H,OAAlC,gBAAiF,GAAjF,GAA0CzF,SAAS3C,OAAnD,MAAqD,GAArD,MAAwD4E,iBAAiB3C,OAAzE,MAA2E,KAA3E,MAAoFwE,MAApF,gBAAkI,GAAlI,GAA2F9D,SAAS5B,OAApG,MAAsG,GAAtG,MAAyG6D,iBAAiBxE,OAA1H,MAA4H,KAA5H,EAA8IU,EAA9I,EAAqI4F,SAA2BpE,EAAhK,EAAgJwE,gBAAmCzE,EAAnL,EAAkKwE,iBAA4B9B,EAA9L,EAAqL4B,SAAmBtF,EAAE,uCAA+CuE,GAAE,EAASC,EAAE7F,GAAGiC,GAAGlB,GAAGX,GAAGU,GAAGA,EAAE8D,kBAAkBtC,GAAGA,EAAEsC,kBAAkBvC,GAAGA,EAAEuC,iBAAiBrE,EAAEJ,SAAS,SAAAL,GAAIO,EAAE0C,KAAK+C,EAAEhG,EAAEuE,WAAW1E,EAAEmG,GAAG,CAACS,WAAWzG,MAAME,EAAEG,SAAS,SAAAL,IAAK,IAAIO,EAAE0B,QAAQ+D,EAAEhG,EAAE8C,WAAWyF,QAAQhI,EAAE0C,KAAK+C,GAAGnG,EAAEmG,GAAG,IAAIhG,EAAEkF,WAAWlF,EAAEkF,SAASJ,iBAAiBiB,GAAGlG,EAAEmG,GAAGU,MAAM1G,KAAKiB,EAAEZ,SAAS,SAAAL,GAAIuF,EAAEvF,EAAE8C,YAAY,IAAIvC,EAAE0B,QAAQ+D,EAAET,EAAEiD,WAAWjH,KAAKhB,EAAE0C,KAAK+C,GAAGnG,EAAEmG,GAAG,IAAIA,IAAIzE,IAAIuE,GAAE,GAAI9F,EAAEkF,WAAWlF,EAAEkF,SAASJ,iBAAiBiB,GAAG,MAAMlG,EAAEmG,GAAGW,QAAQ9G,EAAEmG,GAAGW,MAAM,IAAI9G,EAAEmG,GAAGW,MAAM1D,KAAKjD,MAAMiB,EAAES,OAAO,IAAG,IAAKoE,IAAIjG,EAAEU,EAAE,IAAIoG,MAAM9G,EAAE0B,GAAGoF,aAAa9G,EAAE0B,GAAGhB,EAAEkI,OAAOlI,EAAE0B,QAAQV,GAAG,IAAI,IAAMmH,EAAEnI,EAAEyE,KAAK,SAAAhF,GAAC,OAAGH,EAAEG,GAAGuE,UAAUvE,IAAIuB,EAAE,KAAKvB,EAAEH,EAAEG,MAAM,OAAOyC,EAAEsC,SAAS,CAACkC,aAAayB,EAAE5B,cAAc9F,EAAEgG,gBAAgBxE,EAAEuE,iBAAiBxE,EAAEsE,SAAS5B,QAAvrE,GAAe3E,YAAE6B,MAAmtEI,EAAvCC,EAAExC,YAAE,CAACO,YAAE,yBAAyBiC,GAA0BD,a,uICAv4FE,EAAE,IAAIhC,IAAE,CAACkI,8BAA8B,cAAcC,oCAAoC,qBAAqBC,+BAA+B,gBAAgBC,8BAA8B,eAAeC,0BAA0B,UAAUC,wBAAwB,QAAQC,wBAAwB,QAAQC,wBAAwB,UAAc/G,EAAC,kDAAiB,WAAY5B,GAAE,kCAAC,cAAMA,IAAQ4I,YAAY,KAAK,EAAKrF,KAAK,KAA1C,EAA/B,UAAejE,KAAiEU,YAAE,CAACP,YAAE,CAAC8D,KAAKC,OAAOC,KAAK,CAACE,OAAM,MAAO/B,EAAEgC,UAAU,mBAAc,GAAQ5D,YAAE,CAACP,YAAE,CAAC8D,KAAKC,OAAOC,KAAK,CAACC,KAAKxB,EAAEwB,KAAKC,MAAMzB,EAAEyB,UAAU/B,EAAEgC,UAAU,YAAO,GAAmD,IAAIlD,EAA/CkB,EAAE5B,YAAE,CAACL,YAAE,iCAAiCiC,GAA0BlB","file":"static/js/28.1a7a0349.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t={}){this._options=t}toQueryParams(t){if(!t)return null;const e=t.toJSON(),o={};return Object.keys(e).forEach((t=>{const n=this._options[t];if(n){const r=\"boolean\"!=typeof n&&n.name?n.name:t,s=\"boolean\"!=typeof n&&n.getter?n.getter(e):e[t];null!=s&&(o[r]=(t=>{if(!Array.isArray(t))return!1;const[e]=t;return\"number\"==typeof e||\"string\"==typeof e})(s)?s.join(\",\"):\"object\"==typeof s?JSON.stringify(s):s)}else o[t]=e[t]}),this),o}}function e(e){return new t(e)}export{e as createQueryParamsHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{getDeepValue as r}from\"../../core/object.js\";import{isSome as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import{urlToObject as i}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../request.js\";import l from\"../Task.js\";const n=l=>{let n=class extends l{async getServiceDescription(){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription()),this._serviceDescriptionPromise}async _fetchServiceDescription(){if(!this.url||!this.parsedUrl)throw new o(\"network-service:missing-url\",\"Url to Network service is missing\");const e=this.url,{data:t}=await a(e,{query:{f:\"json\"}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let e=0;e<t.supportedTravelModes.length;e++)t.supportedTravelModes[e].id||(t.supportedTravelModes[e].id=t.supportedTravelModes[e].itemId);const s=t.currentVersion>=10.4?async function(e){try{const{data:{supportedTravelModes:r,defaultTravelMode:t}}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"retrieveTravelModes\",{query:{f:\"json\"}});return{supportedTravelModes:r,defaultTravelMode:t}}catch(e){throw new o(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:e})}}(e):async function(e){const{data:t}=await a(e.substring(0,e.indexOf(\"/rest/\")+6)+\"info\",{query:{f:\"json\"}});if(!t||!t.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};e=t.owningSystemUrl;const{data:s}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"sharing/rest/portals/self\",{query:{f:\"json\"}}),o=r(\"helperServices.routingUtilities.url\",s);if(!o)return{supportedTravelModes:[],defaultTravelMode:null};const l=i(e),n=/\\/solveClosestFacility$/.test(l.path)?\"Route\":/\\/solveClosestFacility$/.test(l.path)?\"ClosestFacility\":\"ServiceAreas\",c=await a(o+(\"/\"===o[o.length-1]?\"\":\"/\")+\"GetTravelModes/execute\",{query:{f:\"json\",serviceName:n}}),u=[];let p=null;if(c&&c.data&&c.data.results&&c.data.results.length){const e=c.data.results;for(const r of e)if(\"supportedTravelModes\"===r.paramName){if(r.value&&r.value.features)for(const{attributes:e}of r.value.features)if(e){const r=JSON.parse(e.TravelMode);u.push(r)}}else\"defaultTravelMode\"===r.paramName&&(p=r.value)}return{supportedTravelModes:u,defaultTravelMode:p}}(e),{defaultTravelMode:l,supportedTravelModes:n}=await s;return t.defaultTravelMode=l,t.supportedTravelModes=n,t}_isInputGeometryZAware(e,r){for(let s=0;s<r.length;s++){const o=e[r[s]];if(o&&o.length)for(const e of o)if(t(e)&&e.hasZ)return!0}return!1}_dropZValuesOffInputGeometry(e,r){for(let t=0;t<r.length;t++){const s=e[r[t]];if(s&&s.length)for(const e of s)e.z=void 0}console.log(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}};return n=e([s(\"esri.tasks.mixins.NAServiceDescription\")],n),n};let c=class extends(n(l)){};c=e([s(\"esri.tasks.mixins.NAServiceDescription\")],c);export{c as NAServiceDescription,n as NAServiceDescriptionMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"./GPMessage.js\";const p=new s({0:\"informative\",1:\"process-definition\",2:\"process-start\",3:\"process-stop\",50:\"warning\",100:\"error\",101:\"empty\",200:\"abort\"});let i=class extends t{constructor(r){super(r),this.type=null}};r([o({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([e(\"esri.tasks.support.NAMessage\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../geometry/SpatialReference.js\";import p from\"../../geometry/Point.js\";import n from\"../../geometry/Extent.js\";import i from\"../../geometry/Polyline.js\";import\"../../geometry.js\";import m from\"../../Graphic.js\";import l from\"./FeatureSet.js\";let u=class extends l{constructor(e){super(e),this.extent=null,this.features=null,this.geometryType=\"polyline\",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,r){(e||[]).forEach((e=>{this._decompressFeatureGeometry(e,r.summary.envelope.spatialReference)}));const o=a.fromJSON(r.spatialReference);return e.map((e=>{const r=m.fromJSON(e),s=e.geometry&&e.geometry.spatialReference;return r.geometry&&!s&&(t(r.geometry).spatialReference=o),r.strings=e.strings,r.events=(e.events||[]).map((t=>{const r=new m({geometry:new p({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r})),r}))}get mergedGeometry(){if(!this.features)return null;const e=this.features.map((({geometry:e})=>t(e))),r=this.get(\"extent.spatialReference\");return this._mergePolylinesToSinglePath(e,r)}get strings(){return this.features.map((({strings:e})=>e))}_decompressFeatureGeometry(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)}_decompressGeometry(e,t){let r=0,o=0,s=0,a=0;const p=[];let n,i,m,l,u,c,y,f,d=0,g=0,h=0;if(u=e.match(/((\\+|\\-)[^\\+\\-\\|]+|\\|)/g),u||(u=[]),0===parseInt(u[d],32)){d=2;const e=parseInt(u[d],32);d++,c=parseInt(u[d],32),d++,1&e&&(g=u.indexOf(\"|\")+1,y=parseInt(u[g],32),g++),2&e&&(h=u.indexOf(\"|\",g)+1,f=parseInt(u[h],32),h++)}else c=parseInt(u[d],32),d++;for(;d<u.length&&\"|\"!==u[d];){n=parseInt(u[d],32)+r,d++,r=n,i=parseInt(u[d],32)+o,d++,o=i;const e=[n/c,i/c];g&&(l=parseInt(u[g],32)+s,g++,s=l,e.push(l/y)),h&&(m=parseInt(u[h],32)+a,h++,a=m,e.push(m/f)),p.push(e)}return{paths:[p],hasZ:g>0,hasM:h>0,spatialReference:t}}_mergePolylinesToSinglePath(e,t){let r=[];(e||[]).forEach((e=>{e.paths.forEach((e=>{r=r.concat(e)}))}));const o=[];let s=[0,0];return r.forEach((e=>{e[0]===s[0]&&e[1]===s[1]||(o.push(e),s=e)})),new i({paths:[o]},t)}};e([r({type:n,json:{read:{source:\"summary.envelope\"}}})],u.prototype,\"extent\",void 0),e([r()],u.prototype,\"features\",void 0),e([o(\"features\")],u.prototype,\"readFeatures\",null),e([r()],u.prototype,\"geometryType\",void 0),e([r({readOnly:!0,dependsOn:[\"features\",\"extent.spatialReference\"]})],u.prototype,\"mergedGeometry\",null),e([r()],u.prototype,\"routeId\",void 0),e([r()],u.prototype,\"routeName\",void 0),e([r({value:null,readOnly:!0,dependsOn:[\"features\"]})],u.prototype,\"strings\",null),e([r({json:{read:{source:\"summary.totalDriveTime\"}}})],u.prototype,\"totalDriveTime\",void 0),e([r({json:{read:{source:\"summary.totalLength\"}}})],u.prototype,\"totalLength\",void 0),e([r({json:{read:{source:\"summary.totalTime\"}}})],u.prototype,\"totalTime\",void 0),u=e([s(\"esri.tasks.support.DirectionsFeatureSet\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import e from\"../../Graphic.js\";import p from\"./DirectionsFeatureSet.js\";let i=class extends s{constructor(o){super(o),this.directions=null,this.route=null,this.routeName=null,this.stops=null}};o([r({type:p,json:{write:!0}})],i.prototype,\"directions\",void 0),o([r({type:e,json:{write:!0}})],i.prototype,\"route\",void 0),o([r({type:String,json:{write:!0}})],i.prototype,\"routeName\",void 0),o([r({type:[e],json:{write:!0}})],i.prototype,\"stops\",void 0),i=o([t(\"esri.tasks.support.RouteResult\")],i);var u=i;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as e}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import p from\"../../Graphic.js\";import i from\"./FeatureSet.js\";import a from\"./NAMessage.js\";import l from\"./RouteResult.js\";function n(r){return r&&i.fromJSON(r).features.map((r=>r))}let u=class extends t{constructor(r){super(r),this.barriers=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(r,o){return n(o.barriers||o.pointBarriers)}readPolylineBarriers(r){return n(r)}readPolygonBarriers(r){return n(r)}};r([o({aliasOf:\"pointBarriers\"})],u.prototype,\"barriers\",void 0),r([o({type:[a]})],u.prototype,\"messages\",void 0),r([o({type:[p]})],u.prototype,\"pointBarriers\",void 0),r([e(\"pointBarriers\",[\"barriers\",\"pointBarriers\"])],u.prototype,\"readPointBarriers\",null),r([o({type:[p]})],u.prototype,\"polylineBarriers\",void 0),r([e(\"polylineBarriers\")],u.prototype,\"readPolylineBarriers\",null),r([o({type:[p]})],u.prototype,\"polygonBarriers\",void 0),r([e(\"polygonBarriers\")],u.prototype,\"readPolygonBarriers\",null),r([o({type:[l]})],u.prototype,\"routeResults\",void 0),u=r([s(\"esri.tasks.support.RouteResultsContainer\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as t}from\"../core/promiseUtils.js\";import s from\"../request.js\";import{normalizeCentralMeridian as o}from\"../geometry/support/normalizeUtils.js\";import i from\"./Task.js\";import{createQueryParamsHelper as a}from\"../core/queryUtils.js\";import{NAServiceDescriptionMixin as n}from\"./mixins/NAServiceDescription.js\";import p from\"./support/RouteResultsContainer.js\";const l=a({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},stops:!0,travelMode:!0});let u=class extends(n(i)){constructor(e){super(e)}solve(e,r){const i=[],a=[],n={},p={};return e.stops&&e.stops.features&&this._collectGeometries(e.stops.features,a,\"stops.features\",n),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,\"pointBarriers.features\",n),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,\"polylineBarriers.features\",n),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,\"polygonBarriers.features\",n),o(a).then((e=>{for(const r in n){const t=n[r];i.push(r),p[r]=e.slice(t[0],t[1])}return this._isInputGeometryZAware(p,i)?this.getServiceDescription():t({dontCheck:!0})})).then((t=>{(\"dontCheck\"in t?t.dontCheck:t.hasZ)||this._dropZValuesOffInputGeometry(p,i);for(const r in p)p[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let o={query:{...this.parsedUrl.query,f:\"json\",...l.toQueryParams(e)}};(this.requestOptions||r)&&(o={...this.requestOptions,...r,...o});const{path:a}=this.parsedUrl,n=\"/solve\",u=a.endsWith(n)?a:a+n;return s(u,o)})).then((e=>this._handleSolveResponse(e)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}_handleSolveResponse(e){const r=[],t=[],{directions:s=[],routes:{features:o=[],spatialReference:i=null}={},stops:{features:a=[],spatialReference:n=null}={},barriers:l,polygonBarriers:u,polylineBarriers:c,messages:m}=e.data,f=\"esri.tasks.RouteTask.NULL_ROUTE_NAME\";let h,y,d=!0;const g=o&&i||a&&n||l&&l.spatialReference||u&&u.spatialReference||c&&c.spatialReference;s.forEach((e=>{r.push(h=e.routeName),t[h]={directions:e}})),o.forEach((e=>{-1===r.indexOf(h=e.attributes.Name)&&(r.push(h),t[h]={}),e.geometry&&(e.geometry.spatialReference=g),t[h].route=e})),a.forEach((e=>{y=e.attributes,-1===r.indexOf(h=y.RouteName||f)&&(r.push(h),t[h]={}),h!==f&&(d=!1),e.geometry&&(e.geometry.spatialReference=g),null==t[h].stops&&(t[h].stops=[]),t[h].stops.push(e)})),a.length>0&&!0===d&&(t[r[0]].stops=t[f].stops,delete t[f],r.splice(r.indexOf(f),1));const B=r.map((e=>(t[e].routeName=e===f?null:e,t[e])));return p.fromJSON({routeResults:B,pointBarriers:l,polygonBarriers:u,polylineBarriers:c,messages:m})}};u=e([r(\"esri.tasks.RouteTask\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";const p=new s({esriJobMessageTypeInformative:\"informative\",esriJobMessageTypeProcessDefinition:\"process-definition\",esriJobMessageTypeProcessStart:\"process-start\",esriJobMessageTypeProcessStop:\"process-stop\",esriJobMessageTypeWarning:\"warning\",esriJobMessageTypeError:\"error\",esriJobMessageTypeEmpty:\"empty\",esriJobMessageTypeAbort:\"abort\"});let i=class extends t{constructor(r){super(r),this.description=null,this.type=null}};r([e({type:String,json:{write:!0}})],i.prototype,\"description\",void 0),r([e({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([o(\"esri.tasks.support.GPMessage\")],i);var a=i;export default a;\n"],"sourceRoot":""}