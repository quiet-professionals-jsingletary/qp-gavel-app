{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js","../node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js","../node_modules/@arcgis/core/layers/support/RasterStorageInfo.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js","../node_modules/@arcgis/core/layers/support/rasterTransforms/IdentityTransform.js","../node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js","../node_modules/@arcgis/core/layers/support/rasterTransforms/utils.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js","../node_modules/@arcgis/core/layers/ImageryTileLayer.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js"],"names":["u","m","e","n","t","isWGS84","isWebMercator","equals","p","cols","o","rows","Math","abs","h","a","s","l","y","spatialReference","c","M","r","center","i","xmin","x","xmax","ymin","ymax","w","d","isGeographic","f","origin","valid","g","R","j","push","map","filter","isNaN","max","apply","min","b","P","v","N","S","ceil","z","W","G","L","inverseTransform","NaN","q","A","Float32Array","E","F","length","offsets","error","coefficients","spacing","size","log","pixelSize","LN2","storageInfo","maximumPyramidLevel","floor","round","pyramidLevel","pyramidResolution","nativePixelSize","excessiveReading","extent","projectedPixelSize","scales","srcResolutions","isCustomTilingScheme","wkid","width","height","J","getLogger","arguments","blockWidth","blockHeight","compression","firstPyramidLevel","pyramidScalingFactor","pyramidBlockWidth","pyramidBlockHeight","isVirtualTileInfo","tileInfo","blockBoundary","type","Number","json","write","prototype","String","Boolean","rasterJobHandler","datasetName","datasetFormat","rasterInfo","ioConfig","sampling","k","this","addResolvingPromise","when","resolution","bandIds","create","_set","declaredClass","lodAt","getTileExtent","multidimensionalDefinition","multidimensionalInfo","sliceId","getSliceIndex","fetchPixels","datumTransformation","intersects","location","value","transform","nativeExtent","srcResolution","computeBestPyramidLevelForLocation","identifyPixelLocation","row","col","rowOffset","colOffset","B","url","fetchRawTile","pixels","mask","clone","normalize","I","fetchRawPixels","pixelBlocks","srcExtent","pixelBlock","T","C","requestRawData","D","H","mosaicSize","U","isPartiallyFilled","mosaicAndTransform","srcPixelBlocks","srcMosaicSize","destDimension","coefs","sampleSpacing","interpolation","transformGrid","getBlockWidthHeight","buffer","minRow","minCol","maxCol","maxRow","_fetchRawTile","allowPartialFill","Promise","then","all","useCanvas","decode","data","options","customFetchParameters","range","query","headers","retryCount","Range","from","to","request","variableName","variables","dimensions","name","_getDimensionValuesCount","reduce","dimensionName","Array","isArray","values","_getIndexFromDimensions","shift","level","scale","lods","_computeBlockBoundary","srcLocation","resolve","registryId","signal","interval","unit","findIndex","indexOf","intervalUnit","toLowerCase","Date","getUTCFullYear","fields","records","some","alias","concat","typeName","forEach","attributes","displayFieldName","features","DataView","getUint8","header","version","recordSet","getUint32","getUint16","recordCount","headerByteCount","recordByteCount","fromCharCode","trim","Uint8Array","parseInt","parseFloat","substring","byteLength","IdentityXform","polynomialOrder","coeffX","coeffY","_get","inverseCoeffX","inverseCoeffY","forwardCoefficients","inverseCoefficients","PolynomialXform","Object","keys","Map","set","init","_validateHeader","slice","lastIndexOf","_parseHeader","dataType","_fetchAuxiliaryInformation","attributeTable","_buildCacheFilePath","_getIndexRecordFromBundle","headerSize","responseType","_getTileEndAndContentType","recordSize","position","decodePixelBlock","planes","pixelType","bandCount","histograms","colormap","statistics","avg","mean","stddev","standardDeviation","median","mode","geodataXform","wkt","pixelSizeX","pixelSizeY","_parseTransform","forwardTransform","_","properties","format","replace","colors","LODInfos","levels","resolutions","dpi","O","packetSize","$","mdInfo","keyProperties","includes","read","get","parse","fromJSON","_toHexString4","toString","subarray","readOnly","isPseudoSpatialReference","createRemoteDatasetStorageInfo","updateTileInfo","_buildInMemoryRaster","_pixelBlockTiles","split","tileSize","estimateStatisticsHistograms","getElementsByTagNameNS","item","textContent","nodeValue","nodeName","startsWith","endsWith","documentElement","tagName","metadata","rasterBands","childNodes","nodeType","getAttribute","toUpperCase","noDataValue","histogram","counts","sourceBandIndex","_fetchData","_fetchAuxiliaryData","DateType","open","_inMemoryRaster","skipExtensions","aborted","_levelOffset","_slices","_tilemapCache","sourceJSON","ssl","_fixScaleInServiceInfo","tileType","cacheType","_fetchRasterInfo","maxScale","sort","minScale","capabilities","parsedUrl","tileServers","layer","isPoint","variable","fetchAvailability","DataType","hasRasterAttributeTable","hasColormap","hasHistograms","hasMultidimensions","_fetchMultidimensionalInfo","slices","minValues","maxValues","meanValues","stdvValues","_files","_storageIndex","files","index","_parseIndex","_getTileLocation","ranges","actualTileWidth","actualTileHeight","validPixelCount","ArrayBuffer","Uint32Array","mrf","_headerInfo","_bufferSize","littleEndian","firstIFD","isBigTiff","readIFDs","tileWidth","tileHeight","tileBoundary","affine","BandProperties","bandProperties","ifds","isSupported","message","isBlockOutside","getTileLocation","ifd","customOptions","headerInfo","offset","readIFD","TIFF_TAGS","nextIFD","success","offlineOffsetSize","has","valueOffset","GEO_KEYS","id","valueCount","requiredBufferSize","desc","constructor","Set","add","supportedFormats","RSP_NearestNeighbor","RSP_BilinearInterpolation","RSP_CubicConvolution","RSP_Majority","enabled","loaded","raster","legendEnabled","isReference","listMode","title","operationalLayerType","popupEnabled","popupTemplate","loadFromPortal","supportedTypes","_openRaster","createPopupTemplate","domain","editable","updateRenderer","layerDefinition","drawingInfo","renderer","test","messages","layerContainerType","currentVersion","copyrightText","_configDefaultSettings","_rasterJobHandler","instance","refCount","connectionPromise","copyright","fullExtent","symbolizer","_sliceId","JSON","stringify","_cachedRendererJson","rendererJSON","toJSON","bind","updateSymbolizer","symbolize","simpleStretchParams","_compatibleFullExtent","computeExtent","requestAsImageElement","getTileUrl","_ts","timestamp","_initJobHandler","fetchTile","identify","_shutdownJobHandler","_configDefaultInterpolation","_configDefaultSlice","_configDefaultRenderer","initialize","destroy","defaultResamplingMethod","hasRegularIntervals","isSlice","warn","types","overridePolicy","source","reader","disablePopup","target","writer","origins","_timer","_cachedBlocks","_size","_duration","_interval","controller","abort","ts","now","block","updateTimer","clear","clearTimer","setInterval","clearInterval","cache","decreaseRefCount","getBlock","isResolved","isRejected","putBlock","deleteBlock"],"mappings":"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","file":"static/js/97.b63c0834.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{getInfo as n}from\"../../../geometry/support/spatialReferenceUtils.js\";import{project as t}from\"../../../geometry/support/webMercatorUtils.js\";import o from\"../../../geometry/Point.js\";import i from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import{getMetersPerUnitForSR as r}from\"../../../core/unitUtils.js\";import{isLoaded as a,isSupported as s,load as l,getTransformation as c,project as x}from\"../../../geometry/projection.js\";const u=5e-4,m=function(e,n){const t=(e.isWGS84||e.isWebMercator)&&(n.isWGS84||n.isWebMercator);return!(e.equals(n)||t)},p=function(e,n){const t=(e[0]+e[4]+e[4*n.cols]+e[4*n.cols+4])/4,o=(e[1]+e[5]+e[4*n.rows+1]+e[4*n.rows+5])/4;return[Math.abs(t-e[2*n.rows+2]),Math.abs(o-e[2*n.rows+3])]},f=32;async function h(){if(a()||!s())return null;await l()}function y(n,t,o){if(!m(n.spatialReference,t))return null;if(!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");return o?c(t,n.spatialReference,n):c(n.spatialReference,t,n)}function M(n,o,r,s=null){if(n.spatialReference.equals(o))return n;const l=m(n.spatialReference,o);if(l&&!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const c=r.center,u=new i({xmin:c.x-n.x/2,xmax:c.x+n.x/2,ymin:c.y-n.y/2,ymax:c.y+n.y/2,spatialReference:n.spatialReference}),p=l?x(u,o,s):t(u,o);if(null==p)return null;return{x:p.xmax-p.xmin,y:p.ymax-p.ymin}}function w(e,n=.01){return r(e)?n/r(e):0}function d(o,i,r=null,s=!0){const l=o.spatialReference;if(l.equals(i))return o;const c=m(l,i);if(c&&!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const p=c?x(o,i,r):t(o,i);if(p&&s&&i.isGeographic){var f,h;const[e,t]=l.isWebMercator?n(l).origin:null!=(f=null==(h=n(l))?void 0:h.valid)?f:[],i=w(l);i&&null!=e&&null!=t&&(Math.abs(o.x-e)<i&&Math.abs(180-p.x)<u?p.x-=360:Math.abs(o.x-t)<i&&Math.abs(180+p.x)<u&&(p.x+=360))}return p}function g(i,r,s=null,l=!0){var c,p,f,h;const y=i.spatialReference;if(y.equals(r))return i;const M=m(y,r);if(M&&!a())throw new e(\"rasterprojectionhelper-projectExtent\",\"projection engine is not loaded\");const g=M?x(i,r,s):t(i,r);let[R,j]=null!=(c=null==(p=n(y))?void 0:p.origin)?c:[];if(g&&l&&y.isWebMercator&&r.isGeographic&&null!=R&&null!=j){const e=.001,n=1e3;if(Math.abs(i.xmin-R)<e&&Math.abs(j-i.xmax)>n&&Math.abs(180-g.xmax)<u){g.xmin=-180;const e=[];e.push(new o(i.xmax,i.ymin,y)),e.push(new o(i.xmax,(i.ymin+i.ymax)/2,y)),e.push(new o(i.xmax,i.ymax,y));const n=e.map((e=>d(e,r,s))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));g.xmax=Math.max.apply(null,n)}if(Math.abs(i.xmax-j)<e&&Math.abs(R-i.xmin)>n&&Math.abs(180+g.xmin)<u){g.xmax=180;const e=[];e.push(new o(i.xmin,i.ymin,y)),e.push(new o(i.xmin,(i.ymin+i.ymax)/2,y)),e.push(new o(i.xmin,i.ymax,y));const n=e.map((e=>d(e,r,s))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));g.xmin=Math.min.apply(null,n)}}[R,j]=r.isWebMercator?n(r).origin:null!=(f=null==(h=n(r))?void 0:h.valid)?f:[];const b=w(r);return b&&null!=R&&null!=j&&(Math.abs(g.xmin-R)<b&&(g.xmin=R),Math.abs(g.xmax-j)<b&&(g.xmax=j)),g}function R(t,i,r,s=null,l=null,c=!1,x=[f,f]){var u,h;if(m(t.spatialReference,i.spatialReference)&&!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");if(!(t&&i&&r))return null;const{xmin:y,ymin:M,xmax:w,ymax:g}=t,R=t.spatialReference,j=i.spatialReference,[b,v]=null!=(u=null==(h=n(R))?void 0:h.valid)?u:[],N={x:x[0]*r.x,y:x[1]*r.y},S={cols:Math.ceil((w-y)/N.x-.1)+1,rows:Math.ceil((g-M)/N.y-.1)+1},z=N.x,W=N.y,G=[];let P,L=!1;for(let e=0;e<S.cols;e++){const n=[];for(let t=0;t<S.rows;t++){let r=d(new o({x:y+z*e,y:g-W*t,spatialReference:R}),j,s);l&&(r=l.inverseTransform(r)),n.push(r),e>0&&c&&r&&P[t]&&null!=b&&r.x<P[t].x&&(r.x+=v-b),r?(G.push((r.x-i.xmin)/(i.xmax-i.xmin)),G.push((i.ymax-r.y)/(i.ymax-i.ymin))):(G.push(NaN),G.push(NaN),L=!0)}P=n}const q=p(G,S),A=new Float32Array((S.cols-1)*(S.rows-1)*2*6),E=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),F=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let e=0;e<S.cols-1;e++){for(let n=0;n<S.rows-1;n++){let t=e*S.rows*2+2*n;const o=G[t],i=G[t+1],r=G[t+2],a=G[t+3];t+=2*S.rows;const s=G[t],l=G[t+1],c=G[t+2],x=G[t+3];let u=0,m=12*(n*(S.cols-1)+e);for(let e=0;e<3;e++)A[m++]=E[u++]*o+E[u++]*r+E[u++]*c;u=0;for(let e=0;e<3;e++)A[m++]=E[u++]*i+E[u++]*a+E[u++]*x;u=0;for(let e=0;e<3;e++)A[m++]=F[u++]*o+F[u++]*s+F[u++]*c;u=0;for(let e=0;e<3;e++)A[m++]=F[u++]*i+F[u++]*l+F[u++]*x}if(L)for(let e=0;e<A.length;e++)isNaN(A[e])&&(A[e]=-1)}return{offsets:G,error:q,coefficients:A,spacing:x,size:[S.cols-1,S.rows-1]}}function j(e,n,t){const i=Math.log(e.x/n.pixelSize.x)/Math.LN2,r=Math.log(e.y/n.pixelSize.y)/Math.LN2,a=n.storageInfo.maximumPyramidLevel||0;let s=\"down\"===t?Math.floor(Math.min(i,r)):\"up\"===t?Math.ceil(Math.max(i,r)):Math.round((i+r)/2),l=!1;s<0?s=0:s>a&&(l=s>a+3,s=a);const c=2**s;return{pyramidLevel:s,pyramidResolution:new o({x:c*n.nativePixelSize.x,y:c*n.nativePixelSize.y,spatialReference:n.spatialReference}),excessiveReading:l}}function b(e,n,t=512,i=!0){const{extent:a,spatialReference:s,pixelSize:l}=e,c=M(new o({x:l.x,y:l.y,spatialReference:s}),n,a);if(null==c)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const x=(c.x+c.y)/2,u=r(n),m=x*u*96*39.37,p=n.isGeographic?512/t*295828763.7958547:512/t*591657527.591555;let f=!1;const h=g(a,n);i&&(n.isGeographic||n.isWebMercator)&&(f=h.xmin*h.xmax<0);let y,w=m;const d=1.001;if(f){w=p;const e=.29858214164761665,n=e*(96*u*39.37);y=M(new o({x:e,y:e,spatialReference:{wkid:3857}}),s,h),y.x*=w/n,y.y*=w/n}else{y={x:l.x,y:l.y};const n=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let t=0;for(;w<p*(d/2)&&t<n;)t++,w*=2,y.x*=2,y.y*=2;Math.max(w,p)/Math.min(w,p)<=d&&(w=p)}const R=[w],j=[{x:y.x,y:y.y}],b=70.5310735,v=Math.min(b,m)/d;for(;w>=v;)w/=2,y.x/=2,y.y/=2,R.push(w),j.push({x:y.x,y:y.y});return{projectedPixelSize:c,scales:R,srcResolutions:j,isCustomTilingScheme:!f}}export{b as computeProjectedScales,f as defaultGridSpacing,y as getDefaultDatumTransformationForDataset,R as getProjectionOffsetGrid,h as load,g as projectExtent,d as projectPoint,M as projectResolution,j as snapPyramid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t}from\"../../core/maybe.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{aliasOf as s}from\"../../core/accessorSupport/decorators/aliasOf.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{getInfo as o}from\"../../geometry/support/spatialReferenceUtils.js\";import l from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Extent.js\";import\"../../geometry.js\";import d from\"../../request.js\";import{sanitizeUrl as p}from\"../support/arcgisLayerUrl.js\";import{url as m}from\"../support/commonProperties.js\";import{rasterRendererTypes as h}from\"../../rasterRenderers.js\";import u from\"../support/TileInfo.js\";import c from\"../support/DimensionalDefinition.js\";import f from\"../support/RasterJobHandler.js\";import{normalizeRendererJSON as y,getDefaultInterpolation as b,getDefaultBandCombination as _,createDefaultRenderer as g}from\"../../renderers/support/rasterRendererHelper.js\";import I from\"../../renderers/support/RasterSymbolizer.js\";const J=r.getLogger(\"esri.layers.mixins.ImageryTileMixin\"),x=r=>{let x=class extends r{constructor(){super(...arguments),this._rasterJobHandler={instance:null,refCount:0,connectionPromise:null},this.bandIds=null,this.copyright=null,this.fullExtent=null,this.interpolation=\"nearest\",this.raster=null,this.rasterInfo=null,this.sourceJSON=null,this.spatialReference=null,this.tileInfo=null,this.symbolizer=null}set multidimensionalDefinition(e){this.raster&&(this._sliceId=this.raster.getSliceIndex(e)),this._set(\"multidimensionalDefinition\",e)}set url(e){this._set(\"url\",p(e,J))}set renderer(e){this._set(\"renderer\",e),this.updateRenderer()}async updateRenderer(){if(!this.loaded)return;if(JSON.stringify(this._cachedRendererJson)===JSON.stringify(this.renderer))return;const e=this._rasterJobHandler.instance;e&&(this.symbolizer.rendererJSON=y(this.renderer.toJSON()),this.symbolizer.bind(),await e.updateSymbolizer(this.symbolizer),this._cachedRendererJson=this.renderer.toJSON())}async applyRenderer(e,t){const r=e&&e.pixelBlock;if(!(r&&r.pixels&&r.pixels.length>0))return null;let i;this.updateRenderer();const s=this._rasterJobHandler.instance,{bandIds:n}=this;return i=s?await s.symbolize({...e,simpleStretchParams:t,bandIds:n}):this.symbolizer.symbolize({...e,simpleStretchParams:t,bandIds:n}),i}getTileUrl(e,t,r){return\"RasterTileServer\"===this.raster.datasetFormat?`${this.url}/tile/${e}/${t}/${r}`:\"\"}getCompatibleTileInfo(e,t){if(!this.loaded)return null;const r=o(e);return u.create({size:256,spatialReference:e,origin:r?{x:r.origin[0],y:r.origin[1]}:{x:t.xmin,y:t.ymax}})}getCompatibleFullExtent(e){return this.loaded?(this._compatibleFullExtent&&this._compatibleFullExtent.spatialReference.equals(e)||(this._compatibleFullExtent=this.raster.computeExtent(e)),this._compatibleFullExtent):null}async fetchTile(e,t,r,i={}){if(i.requestAsImageElement){const s=this.getTileUrl(e,t,r);return d(s,{responseType:\"image\",query:{sliceId:this._sliceId,_ts:i.timestamp},signal:i.signal}).then((e=>e.data))}await this._initJobHandler();const s=\"raster-shaded-relief\"===this.renderer.type?{cols:1,rows:1}:null;if(this.multidimensionalDefinition){const e=this._sliceId;i={multidimensionalDefinition:this.multidimensionalDefinition,sliceId:e,buffer:s,...i}}return this.raster.fetchTile(e,t,r,i)}async fetchPixels(e,t,r,i){if(await this._initJobHandler(),this.multidimensionalDefinition){const e=this._sliceId;i={multidimensionalDefinition:this.multidimensionalDefinition,sliceId:e,...i}}return this.raster.fetchPixels(e,t,r,i)}identify(e,t={}){return this.multidimensionalDefinition&&!t.multidimensionalDefinition&&(t={...t,multidimensionalDefinition:this.multidimensionalDefinition}),this.raster.identify(e,t)}increaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount++}decreaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount--,this._rasterJobHandler.refCount<=0&&this._shutdownJobHandler()}_configDefaultSettings(){this._configDefaultInterpolation(),this._configDefaultSlice(),this._configDefaultRenderer()}_initJobHandler(){if(null!=this._rasterJobHandler.connectionPromise)return this._rasterJobHandler.connectionPromise;const e=new f;return this._rasterJobHandler.connectionPromise=e.initialize().then((()=>{this._rasterJobHandler.instance=e,this.raster.rasterJobHandler=e,this.renderer&&this.updateRenderer()})).catch((()=>null)),this._rasterJobHandler.connectionPromise}_shutdownJobHandler(){this._rasterJobHandler.instance&&this._rasterJobHandler.instance.destroy(),this._rasterJobHandler.instance=null,this._rasterJobHandler.connectionPromise=null,this._rasterJobHandler.refCount=0,this.raster.rasterJobHandler=null}_configDefaultInterpolation(){if(null==this.interpolation){var e;const t=b(this.rasterInfo,this.raster.tileType,null==(e=this.sourceJSON)?void 0:e.defaultResamplingMethod);this._set(\"interpolation\",t)}}_configDefaultSlice(){const{multidimensionalInfo:e}=this.raster.rasterInfo;if(t(e)){if(!this.multidimensionalDefinition){const t=e.variables[0],r=[];t.dimensions.forEach((e=>{r.push(new c({variableName:t.name,dimensionName:e.name,values:e.hasRegularIntervals?e.extent[0]:e.values[0],isSlice:!0}))})),this.multidimensionalDefinition=r}this._sliceId=this.raster.getSliceIndex(this.multidimensionalDefinition)}}_configDefaultRenderer(){const e=this.raster.rasterInfo;var t,r;(this.bandIds||(this.bandIds=_(e)),this.renderer)||(this.renderer=g(e,{bandIds:this.bandIds,variableName:null==(t=this.multidimensionalDefinition)||null==(r=t[0])?void 0:r.variableName}));this.symbolizer?(this.symbolizer.rendererJSON=y(this.renderer.toJSON()),this.symbolizer.rasterInfo=e):this.symbolizer=new I({rendererJSON:this.renderer.toJSON(),rasterInfo:e}),this.symbolizer.bind()||J.warn(\"imagery-tile-mixin\",\"The given renderer is not supported by the layer.\")}};return e([i()],x.prototype,\"_cachedRendererJson\",void 0),e([i()],x.prototype,\"_sliceId\",void 0),e([i()],x.prototype,\"_compatibleFullExtent\",void 0),e([i()],x.prototype,\"_rasterJobHandler\",void 0),e([i()],x.prototype,\"bandIds\",void 0),e([i()],x.prototype,\"copyright\",void 0),e([i({type:a}),s(\"rasterInfo.extent\")],x.prototype,\"fullExtent\",void 0),e([i()],x.prototype,\"interpolation\",void 0),e([i()],x.prototype,\"ioConfig\",void 0),e([i({type:[c]})],x.prototype,\"multidimensionalDefinition\",null),e([i()],x.prototype,\"raster\",void 0),e([i({readOnly:!0}),s(\"raster.rasterInfo\")],x.prototype,\"rasterInfo\",void 0),e([i()],x.prototype,\"sourceJSON\",void 0),e([i({type:l}),s(\"rasterInfo.spatialReference\")],x.prototype,\"spatialReference\",void 0),e([i({type:u}),s(\"rasterInfo.storageInfo.tileInfo\")],x.prototype,\"tileInfo\",void 0),e([i(m)],x.prototype,\"url\",null),e([i({types:h})],x.prototype,\"renderer\",null),e([i()],x.prototype,\"symbolizer\",void 0),x=e([n(\"esri.layers.ImageryTileMixin\")],x),x};export{x as ImageryTileMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import e from\"../../geometry/Point.js\";let s=class extends i{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.blockBoundary=null}};o([r({type:Number,json:{write:!0}})],s.prototype,\"blockWidth\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"blockHeight\",void 0),o([r({type:String,json:{write:!0}})],s.prototype,\"compression\",void 0),o([r({type:e,json:{write:!0}})],s.prototype,\"origin\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"firstPyramidLevel\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"maximumPyramidLevel\",void 0),o([r()],s.prototype,\"pyramidScalingFactor\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"pyramidBlockWidth\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"pyramidBlockHeight\",void 0),o([r({type:Boolean,json:{write:!0}})],s.prototype,\"isVirtualTileInfo\",void 0),o([r({json:{write:!0}})],s.prototype,\"tileInfo\",void 0),o([r()],s.prototype,\"blockBoundary\",void 0),s=o([t(\"esri.layers.support.RasterStorageInfo\")],s);var p=s;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as t,unwrap as r}from\"../../../core/maybe.js\";import o from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{createAbortController as a,onAbort as l}from\"../../../core/promiseUtils.js\";import{JSONSupport as c}from\"../../../core/JSONSupport.js\";import u from\"../../../geometry/Point.js\";import m from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import f from\"../../../request.js\";import{EsriPromiseMixin as h}from\"../../../core/Promise.js\";import{sanitizeUrl as d}from\"../arcgisLayerUrl.js\";import{url as p}from\"../commonProperties.js\";import x from\"../TileInfo.js\";import{decode as y}from\"../rasterFormats/RasterCodec.js\";import{mosaic as g,approximateTransform as w}from\"../rasterFunctions/pixelUtils.js\";import I from\"../RasterStorageInfo.js\";import{load as k,projectPoint as v,snapPyramid as R,projectResolution as b,projectExtent as M,getProjectionOffsetGrid as C}from\"../rasterFunctions/rasterProjectionHelper.js\";import{getRasterId as B,getBlock as P,putBlock as j,deleteBlock as T,decreaseRefCount as F}from\"./RawBlockCache.js\";let S=class extends(h(c)){constructor(){super(...arguments),this.rasterJobHandler=null,this.datasetName=null,this.datasetFormat=null,this.rasterInfo=null,this.ioConfig={sampling:\"closest\"}}async init(){const e=k();this.addResolvingPromise(e),await this.when()}normalizeCtorArgs(e){return e&&e.ioConfig&&(e={...e,ioConfig:{resolution:null,bandIds:null,sampling:\"closest\",tileInfo:x.create(),...e.ioConfig}}),e}set url(e){this._set(\"url\",d(e,o.getLogger(this.declaredClass)))}async open(e){throw new s(\"BaseRaster:open-not-implemented\",\"open() is not implemented\")}async fetchTile(e,r,o,i={}){var n;const{tileInfo:s}=i,a=s.lodAt(e),l=this.getTileExtent({x:a.resolution,y:a.resolution},r,o,s.origin,s.spatialReference,s.size);return null!=(n=i.multidimensionalDefinition)&&n.length&&t(this.rasterInfo.multidimensionalInfo)&&null==i.sliceId&&(i={...i,sliceId:this.getSliceIndex(i.multidimensionalDefinition)||0}),this.fetchPixels(l,s.size[0],s.size[1],i)}async identify(e,r={}){const{spatialReference:o,extent:i}=this.rasterInfo,{datumTransformation:n}=r;let s=v(e,o,n);if(!i.intersects(s))return{location:s,value:null};if(t(this.rasterInfo.transform)){const e=this.rasterInfo.transform.inverseTransform(s);if(!this.rasterInfo.nativeExtent.intersects(e))return{location:e,value:null};s=e}let a=0;if(r.srcResolution){a=R(r.srcResolution,this.rasterInfo,this.ioConfig.sampling).pyramidLevel}else if(a=await this.computeBestPyramidLevelForLocation(e,r),null==a)return{location:s,value:null};const l=this.identifyPixelLocation(s,a,null);if(null===l)return{location:s,value:null};const{row:c,col:u,rowOffset:m,colOffset:f}=l,h=B(this.url,r.sliceId),d=`${a}/${c}/${u}`;let p=P(h,null,d);t(p)||(p=this.fetchRawTile(a,c,u,r),j(h,null,d,p));const x=await p;if(!(x&&x.pixels&&x.pixels.length>0))return{location:s,value:null};const y=m*this.rasterInfo.storageInfo.blockHeight+f;return{location:s,value:!x.mask||x.mask[y]?x.pixels.map((e=>e[y])):null,pyramidLevel:a}}async fetchPixels(e,t,o,i={}){const n=e.clone().normalize();e=n[0];const s=this.rasterInfo.spatialReference,a=!e.spatialReference.equals(s),{datumTransformation:l}=i,c=new u({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/o,spatialReference:e.spatialReference}),m=i.srcResolution||(a?b(c,s,e,l):c);if(!m)return null;const{pyramidLevel:f,pyramidResolution:h,excessiveReading:d}=R(m,this.rasterInfo,this.ioConfig.sampling);if(d)return null;const p=this.rasterInfo.storageInfo;let x=a?M(e,s,l):e;const y=r(this.rasterInfo.transform);if(y&&(x=y.inverseTransform(x)),null==x)return null;const I={x:Math.floor((x.xmin-p.origin.x)/h.x+.1),y:Math.floor((p.origin.y-x.ymax)/h.y+.1)},k=Math.ceil((x.xmax-x.xmin)/h.x-.1),v=Math.ceil((x.ymax-x.ymin)/h.y-.1);if(k/t>8||v/o>8)return null;const B=await this.fetchRawPixels(f,I,{width:k,height:v},i);if(!B)return null;const P=f>0?p.pyramidBlockWidth:p.blockWidth,j=f>0?p.pyramidBlockHeight:p.blockHeight;if(!a&&1===B.pixelBlocks.length&&P===t&&j===o&&m.x===c.x&&m.y===c.y)return{extent:e,srcExtent:x,pixelBlock:B.pixelBlocks[0]};const T=C(e,B.extent,c,l,y);let F;const S=!i.requestRawData,L={rows:T.spacing[0],cols:T.spacing[1]},{pixelBlocks:D,mosaicSize:H,isPartiallyFilled:U}=B;if(this.rasterJobHandler)F=await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:D,srcMosaicSize:H,destDimension:S?{width:t,height:o}:null,coefs:S?T.coefficients:null,sampleSpacing:S?L:null,interpolation:i.interpolation},i);else{const e=g(D,H);F=S?w(e,{width:t,height:o},T.coefficients,L,i.interpolation):e}return i.requestRawData?{srcExtent:x,pixelBlock:F,transformGrid:T,extent:e,isPartiallyFilled:U}:{srcExtent:x,extent:e,pixelBlock:F}}async fetchRawPixels(e,t,r,o){const{origin:i,blockBoundary:n}=this.rasterInfo.storageInfo,{blockWidth:s,blockHeight:a}=this.getBlockWidthHeight(e);let{x:l,y:c}=t,{width:u,height:f}=r;o.buffer&&(l-=o.buffer.cols,c-=o.buffer.rows,u+=2*o.buffer.cols,f+=2*o.buffer.rows);const h=Math.floor(l/s),d=Math.floor(c/a),p=Math.floor((l+u-1)/s),x=Math.floor((c+f-1)/a),y=n[e];if(!y)return null;const{minRow:g,minCol:w,maxCol:I,maxRow:k}=y;if(x<g||p<w||d>k||h>I)return null;const v=[];let R,b=!1;for(let m=d;m<=x;m++)for(let t=h;t<=p;t++)m>=g&&t>=w&&k>=m&&I>=t?(R=this._fetchRawTile(e,m,t,o),this.ioConfig.allowPartialFill&&(R=new Promise((e=>{R.then((t=>e(t))).catch((()=>{b=!0,e(null)}))}))),v.push(R)):v.push(null);if(0===v.length)return null;const M=await Promise.all(v),C={height:(x-d+1)*s,width:(p-h+1)*a},{nativePixelSize:B,spatialReference:P}=this.rasterInfo,j=B.x*2**e,T=B.y*2**e;return{extent:new m({xmin:i.x+h*s*j,xmax:i.x+(p+1)*s*j,ymin:i.y-(x+1)*a*T,ymax:i.y-d*a*T,spatialReference:P}),pixelBlocks:M,mosaicSize:C,isPartiallyFilled:b}}async fetchRawTile(e,t,r,o){throw new s(\"BaseRaster:read-not-implemented\",\"fetchRawTile() is not implemented\")}computeExtent(e){return M(this.rasterInfo.extent,e)}decodePixelBlock(e,t){return!this.rasterJobHandler||t.useCanvas?y(e,t):this.rasterJobHandler.decode({data:e,options:t})}async request(e,t,r){var o,i;const{customFetchParameters:n}=this.ioConfig,{range:s,query:a,headers:l}=t;r=null!=(o=null!=(i=r)?i:t.retryCount)?o:this.ioConfig.retryCount;const c=s?{Range:`bytes=${s.from}-${s.to}`}:null;try{return await f(e,{...t,query:{...a,...n},headers:{...l,...c}})}catch(u){if(r>0)return r--,this.request(e,t,r);throw u}}getSliceIndex(e){const{multidimensionalInfo:r}=this.rasterInfo;if(!t(r)||null==e||!e.length)return null;let o=0;const i=e[0].variableName;for(let t=0;t<r.variables.length;t++){const n=r.variables[t],s=n.dimensions;if(n.name!==i){o+=s.map((e=>this._getDimensionValuesCount(e))).reduce(((e,t)=>e+t));break}const a=s.map((e=>this._getDimensionValuesCount(e))),l=s.length;for(let t=0;t<l;t++){const r=e.filter((e=>e.dimensionName===s[t].name))[0];if(null==r)return null;const i=Array.isArray(r.values[0])?r.values[0][0]:r.values[0],n=this._getIndexFromDimensions(i,s[t]);if(-1===n)return null;a.shift(),o+=t===l-1?n:n*a.reduce(((e,t)=>e+t))}}return o}updateTileInfo(){const{storageInfo:e,spatialReference:t,extent:r,pixelSize:o}=this.rasterInfo;if(!e.tileInfo){const i=[],n=e.maximumPyramidLevel||0;let s=Math.max(o.x,o.y),a=1/.0254*96*s;for(let e=0;e<=n;e++)i.push({level:n-e,resolution:s,scale:a}),s*=2,a*=2;const l=new u({x:r.xmin,y:r.ymax,spatialReference:t});e.tileInfo=new x({origin:l,size:[e.blockWidth,e.blockHeight],spatialReference:t,lods:i}),e.isVirtualTileInfo=!0}}createRemoteDatasetStorageInfo(e,t=512,r=512,o){const{width:i,height:n,nativeExtent:s,pixelSize:a,spatialReference:l}=e,c=new u({x:s.xmin,y:s.ymax,spatialReference:l});null==o&&(o=Math.max(0,Math.round(Math.log(Math.max(i,n))/Math.LN2-8)));const m=this._computeBlockBoundary(s,a,o,512,512);e.storageInfo=new I({blockWidth:t,blockHeight:r,pyramidBlockWidth:t,pyramidBlockHeight:r,origin:c,firstPyramidLevel:1,maximumPyramidLevel:o,blockBoundary:m})}async computeBestPyramidLevelForLocation(e,t={}){return 0}identifyPixelLocation(e,t,r){const{spatialReference:o,nativePixelSize:i,nativeExtent:n}=this.rasterInfo,{blockWidth:s,blockHeight:a,maximumPyramidLevel:l,pyramidScalingFactor:c,origin:u}=this.rasterInfo.storageInfo,m=v(e,o,r);if(!n.intersects(m))return null;if(t<0||t>l)return null;const f=c**t,h=f*i.x,d=f*i.y,p=(u.y-m.y)/d/a,x=(m.x-u.x)/h/s,y=Math.min(a-1,Math.floor((p-Math.floor(p))*a)),g=Math.min(s-1,Math.floor((x-Math.floor(x))*s));return{pyramidLevel:t,row:Math.floor(p),col:Math.floor(x),rowOffset:y,colOffset:g,srcLocation:m}}getTileExtent(e,t,r,o,i,n){const[s,a]=n,l=o.x+r*s*e.x,c=l+s*e.x,u=o.y-t*a*e.y,f=u-a*e.y;return new m({xmin:l,xmax:c,ymin:f,ymax:u,spatialReference:i})}getBlockWidthHeight(e){return{blockWidth:e>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,blockHeight:e>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight}}isBlockOutside(e,t,r){const o=this.rasterInfo.storageInfo.blockBoundary[e];return!o||o.maxRow<t||o.maxCol<r||o.minRow>t||o.minCol>r}_computeBlockBoundary(e,t,r,o,i){let{x:n,y:s}=t;const a=e.xmin,l=e.ymax,c=[{minCol:Math.floor((e.xmin-a+.1*n)/o/n),maxCol:Math.floor((e.xmax-a-.1*n)/o/n),minRow:Math.floor((l-e.ymax+.1*s)/i/s),maxRow:Math.floor((l-e.ymin-.1*s)/i/s)}];if(r>0)for(let u=0;u<r;u++)n*=2,s*=2,c.push({minCol:Math.floor((e.xmin-a+.1*n)/o/n),maxCol:Math.floor((e.xmax-a-.1*n)/o/n),minRow:Math.floor((l-e.ymax+.1*s)/i/n),maxRow:Math.floor((l-e.ymin-.1*s)/i/n)});return c}_fetchRawTile(e,r,o,i){const n=this.rasterInfo.storageInfo.blockBoundary[e];if(!n)return Promise.resolve(null);const{minRow:s,minCol:c,maxCol:u,maxRow:m}=n;if(r<s||o<c||r>m||o>u)return Promise.resolve(null);const f=B(this.url,i.sliceId),h=`${e}/${r}/${o}`;let d=P(f,i.registryId,h);if(!t(d)){const t=a();d=this.fetchRawTile(e,r,o,{...i,signal:t.signal}),j(f,i.registryId,h,d,t),d.catch((()=>{T(f,i.registryId,h)}))}return i.signal&&l(i,(()=>{F(f,i.registryId,h)})),d}_getIndexFromDimensions(e,t){const{extent:r,interval:o,unit:i,values:n}=t;if(null!=n&&n.length)return Array.isArray(n[0])?n.findIndex((t=>t[0]<=e&&t[1]>=e)):n.indexOf(e);if(e>r[1])return-1;const s=r[0];let a=-1;if(\"ISO8601\"===i){var l;switch((null==(l=t.intervalUnit)?void 0:l.toLowerCase())||\"seconds\"){case\"seconds\":a=Math.round((e-s)/1e3/o);break;case\"minutes\":a=Math.round((e-s)/6e4/o);break;case\"hours\":a=Math.round((e-s)/36e5/o);break;case\"days\":a=Math.round((e-s)/864e5/o);break;case\"years\":a=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/o);break;case\"decades\":a=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/10/o)}return a}return Math.round((e-s)/o)}_getDimensionValuesCount(e){const{extent:t,interval:r,unit:o,values:i}=e;let n=(null==i?void 0:i.length)||0;if(n)return n;const s=t[0];if(0===n&&\"ISO8601\"===o){var a;switch((null==(a=e.intervalUnit)?void 0:a.toLowerCase())||\"seconds\"){case\"seconds\":n=Math.round((t[1]-t[0])/1e3/r);break;case\"minutes\":n=Math.round((t[1]-t[0])/6e4/r);break;case\"hours\":n=Math.round((t[1]-t[0])/36e5/r);break;case\"days\":n=Math.round((t[1]-t[0])/864e5/r);break;case\"years\":n=Math.round((new Date(t[1]).getUTCFullYear()-new Date(s).getUTCFullYear())/r);break;case\"decades\":n=Math.round((new Date(t[1]).getUTCFullYear()-new Date(s).getUTCFullYear())/10/r)}return n}return Math.round((t[1]-t[0])/r)}};e([i(p)],S.prototype,\"url\",null),e([i({type:String,json:{write:!0}})],S.prototype,\"datasetName\",void 0),e([i({type:String,json:{write:!0}})],S.prototype,\"datasetFormat\",void 0),e([i()],S.prototype,\"rasterInfo\",void 0),e([i()],S.prototype,\"ioConfig\",void 0),e([i()],S.prototype,\"sourceJSON\",void 0),S=e([n(\"esri.layers.support.rasterDatasets.BaseRaster\")],S);var L=S;export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{bytesToUTF8 as e}from\"./byteStreamUtils.js\";function t(e){const t=e.fields,r=e.records,n=t.some((e=>\"oid\"===e.name.toLowerCase()))?\"OBJECTID\":\"OID\",i=[{name:n,type:\"esriFieldTypeOID\",alias:\"OID\"}].concat(t.map((e=>({name:e.name,type:\"esriFieldType\"+e.typeName,alias:e.name})))),s=i.map((e=>e.name)),a=[];let o=0,l=0;return r.forEach((e=>{const t={};for(t[n]=o++,l=1;l<s.length;l++)t[s[l]]=e[l-1];a.push({attributes:t})})),{displayFieldName:\"\",fields:i,features:a}}class r{static get supportedVersions(){return[5]}static parse(r){const n=new DataView(r),i=3&n.getUint8(0);if(3!==i)return{header:{version:i},recordSet:null};const s=n.getUint32(4,!0),a=n.getUint16(8,!0),o=n.getUint16(10,!0),l={version:i,recordCount:s,headerByteCount:a,recordByteCount:o};let p=32;const g=[],u=[];let d;if(3===i){for(;13!==n.getUint8(p);)d=String.fromCharCode(n.getUint8(p+11)).trim(),g.push({name:e(new Uint8Array(r,p,11)),type:d,typeName:[\"String\",\"Date\",\"Double\",\"Boolean\",\"String\",\"Integer\"][[\"C\",\"D\",\"F\",\"L\",\"M\",\"N\"].indexOf(d)],length:n.getUint8(p+16)}),p+=32;if(p+=1,g.length>0)for(;u.length<s&&r.byteLength-p>o;){const t=[];32===n.getUint8(p)?(p+=1,g.forEach((n=>{if(\"C\"===n.type)t.push(e(new Uint8Array(r,p,n.length)).trim());else if(\"N\"===n.type)t.push(parseInt(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim(),10));else if(\"F\"===n.type)t.push(parseFloat(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim()));else if(\"D\"===n.type){const e=String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim();t.push(new Date(parseInt(e.substring(0,4),10),parseInt(e.substring(4,6),10)-1,parseInt(e.substring(6,8),10)))}p+=n.length})),u.push(t)):p+=o}}return{header:l,fields:g,records:u,recordSet:t({fields:g,records:u})}}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{enumeration as e}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../../core/JSONSupport.js\";let p=class extends t{constructor(){super(...arguments),this.type=\"identity\"}forwardTransform(r){return r}inverseTransform(r){return r}};r([o({json:{write:!0}})],p.prototype,\"spatialReference\",void 0),r([e({IdentityXform:\"identity\"})],p.prototype,\"type\",void 0),p=r([s(\"esri.layers.support.rasterTransforms.IdentityTransform\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{enumeration as o}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{reader as t}from\"../../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as n}from\"../../../core/accessorSupport/decorators/writer.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../../core/JSONSupport.js\";import f from\"../../../geometry/Point.js\";import p from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";function l(e,r,o){const{x:t,y:s}=r;if(o<2){return{x:e[0]+t*e[2]+s*e[4],y:e[1]+t*e[3]+s*e[5]}}if(2===o){const r=t*t,o=s*s,n=t*s;return{x:e[0]+t*e[2]+s*e[4]+r*e[6]+n*e[8]+o*e[10],y:e[1]+t*e[3]+s*e[5]+r*e[7]+n*e[9]+o*e[11]}}const n=t*t,i=s*s,f=t*s,p=n*t,l=n*s,c=t*i,a=s*i;return{x:e[0]+t*e[2]+s*e[4]+n*e[6]+f*e[8]+i*e[10]+p*e[12]+l*e[14]+c*e[16]+a*e[18],y:e[1]+t*e[3]+s*e[5]+n*e[7]+f*e[9]+i*e[11]+p*e[13]+l*e[15]+c*e[17]+a*e[19]}}function c(e,r,o){const{xmin:t,ymin:s,xmax:n,ymax:i,spatialReference:f}=r;let c=[];if(o<2)c.push({x:t,y:i}),c.push({x:n,y:i}),c.push({x:t,y:s}),c.push({x:n,y:s});else{let e=10;for(let r=0;r<e;r++)c.push({x:t,y:s+(i-s)*r/(e-1)}),c.push({x:n,y:s+(i-s)*r/(e-1)});e=8;for(let r=1;r<=e;r++)c.push({x:t+(n-t)*r/e,y:s}),c.push({x:t+(n-t)*r/e,y:i})}c=c.map((r=>l(e,r,o)));const a=c.map((e=>e.x)),u=c.map((e=>e.y));return new p({xmin:Math.min.apply(null,a),xmax:Math.max.apply(null,a),ymin:Math.min.apply(null,u),ymax:Math.max.apply(null,u),spatialReference:f})}function a(e){const[r,o,t,s,n,i]=e,f=t*i-n*s,p=n*s-t*i;return[(n*o-r*i)/f,(t*o-r*s)/p,i/f,s/p,-n/f,-t/p]}let u=class extends i{constructor(){super(...arguments),this.polynomialOrder=1,this.type=\"polynomial\"}readForwardCoefficients(e,r){const{coeffX:o,coeffY:t}=r;if(null==o||!o.length||null==t||!t.length||o.length!==t.length)return null;const s=[];for(let n=0;n<o.length;n++)s.push(o[n]),s.push(t[n]);return s}writeForwardCoefficients(e,r,o){const t=[],s=[];for(let n=0;n<(null==e?void 0:e.length);n++)n%2==0?t.push(e[n]):s.push(e[n]);r.coeffX=t,r.coeffY=s}get inverseCoefficients(){let e=this._get(\"inverseCoefficients\");const r=this._get(\"forwardCoefficients\");return!e&&r&&this.polynomialOrder<2&&(e=a(r)),e}set inverseCoefficients(e){this._set(\"inverseCoefficients\",e)}readInverseCoefficients(e,r){const{inverseCoeffX:o,inverseCoeffY:t}=r;if(null==o||!o.length||null==t||!t.length||o.length!==t.length)return null;const s=[];for(let n=0;n<o.length;n++)s.push(o[n]),s.push(t[n]);return s}writeInverseCoefficients(e,r,o){const t=[],s=[];for(let n=0;n<(null==e?void 0:e.length);n++)n%2==0?t.push(e[n]):s.push(e[n]);r.inverseCoeffX=t,r.inverseCoeffY=s}forwardTransform(e){if(\"point\"===e.type){const r=l(this.forwardCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return c(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if(\"point\"===e.type){const r=l(this.inverseCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return c(this.inverseCoefficients,e,this.polynomialOrder)}};e([r({json:{write:!0}})],u.prototype,\"polynomialOrder\",void 0),e([r()],u.prototype,\"forwardCoefficients\",void 0),e([t(\"forwardCoefficients\",[\"coeffX\",\"coeffY\"])],u.prototype,\"readForwardCoefficients\",null),e([n(\"forwardCoefficients\")],u.prototype,\"writeForwardCoefficients\",null),e([r({json:{write:!0}})],u.prototype,\"inverseCoefficients\",null),e([t(\"inverseCoefficients\",[\"inverseCoeffX\",\"inverseCoeffY\"])],u.prototype,\"readInverseCoefficients\",null),e([n(\"inverseCoefficients\")],u.prototype,\"writeInverseCoefficients\",null),e([r({json:{write:!0}})],u.prototype,\"spatialReference\",void 0),e([o({PolynomialXform:\"polynomial\"})],u.prototype,\"type\",void 0),u=e([s(\"esri.layers.support.rasterTransforms.PolynomialTransform\")],u);var m=u;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport n from\"./IdentityTransform.js\";import o from\"./PolynomialTransform.js\";const t={PolynomialXform:o,IdentityXform:n},r=Object.keys(t);function e(n){const o=null==n?void 0:n.type;return!n||r.includes(o)}function l(n){if(!(null==n?void 0:n.type))return null;const o=t[null==n?void 0:n.type];if(o){const t=new o;return t.read(n),t}return null}export{e as isTransformSupported,l as readTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as t}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../../geometry/SpatialReference.js\";import a from\"../../../geometry/Point.js\";import n from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import l from\"../../../tasks/support/FeatureSet.js\";import f from\"../TileInfo.js\";import m from\"../RasterInfo.js\";import p from\"../RasterStorageInfo.js\";import c from\"./BaseRaster.js\";import u from\"./DBFParser.js\";import{isTransformSupported as d,readTransform as h}from\"../rasterTransforms/utils.js\";const g=new Map;g.set(\"int16\",\"esriFieldTypeSmallInteger\"),g.set(\"int32\",\"esriFieldTypeInteger\"),g.set(\"int64\",\"esriFieldTypeInteger\"),g.set(\"float32\",\"esriFieldTypeSingle\"),g.set(\"float64\",\"esriFieldTypeDouble\"),g.set(\"text\",\"esriFieldTypeString\");const y=8;let x=class extends c{constructor(){super(...arguments),this.storageInfo=null,this.datasetFormat=\"CRF\"}async open(e){await this.init();const{data:t}=await this.request(this.url+\"/conf.json\",{signal:null==e?void 0:e.signal});if(!this._validateHeader(t))throw new i(\"cloudraster:open\",\"Invalid or unsupported conf.json.\");this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1);const{storageInfo:r,rasterInfo:o}=this._parseHeader(t);if(\"thematic\"===o.dataType){const e=await this._fetchAuxiliaryInformation();o.attributeTable=e}this._set(\"storageInfo\",r),this._set(\"rasterInfo\",o),this.ioConfig.retryCount=this.ioConfig.retryCount||0}async fetchRawTile(e,t,r,o={}){const i=this.rasterInfo.storageInfo.maximumPyramidLevel-e;if(i<0)return null;const s=this._buildCacheFilePath(i,t,r,o.multidimensionalDefinition),a=this._getIndexRecordFromBundle(t,r),n=await this.request(s,{range:{from:0,to:this.storageInfo.headerSize-1},responseType:\"array-buffer\",signal:o.signal});if(!n)return null;const l=new Uint8Array(n.data),f=this._getTileEndAndContentType(l,a);if(0===f.recordSize)return null;const m=await this.request(s,{range:{from:f.position,to:f.position+f.recordSize},responseType:\"array-buffer\",signal:o.signal});return m?this.decodePixelBlock(m.data,{width:this.rasterInfo.storageInfo.tileInfo.size[0],height:this.rasterInfo.storageInfo.tileInfo.size[1],planes:null,pixelType:null}):null}_validateHeader(e){const t=[\"origin\",\"extent\",\"geodataXform\",\"LODInfos\",\"blockWidth\",\"blockHeight\",\"bandCount\",\"pixelType\",\"pixelSizeX\",\"pixelSizeY\",\"format\",\"packetSize\"];return e&&\"RasterInfo\"===e.type&&!t.some((t=>!e[t]))}_parseHeader(e){var t,r;const o=[\"u1\",\"u2\",\"u4\",\"u8\",\"s8\",\"u16\",\"s16\",\"u32\",\"s32\",\"f32\",\"f64\"][e.pixelType],{bandCount:i,histograms:l,colormap:c,blockWidth:u,blockHeight:d,firstPyramidLevel:h,maximumPyramidLevel:g}=e,x=e.statistics&&e.statistics.map((e=>({min:e.min,max:e.max,avg:e.mean,stddev:e.standardDeviation,median:e.median,mode:e.mode}))),I=e.extent.spatialReference,S=null==(t=e.geodataXform)?void 0:t.spatialReference,v=new s(null!=I&&I.wkid||null!=I&&I.wkt?I:S);let w=new n({xmin:e.extent.xmin,ymin:e.extent.ymin,xmax:e.extent.xmax,ymax:e.extent.ymax,spatialReference:v});const b=new a({x:e.pixelSizeX,y:e.pixelSizeY,spatialReference:v}),T=Math.round((w.xmax-w.xmin)/b.x),j=Math.round((w.ymax-w.ymin)/b.y),k=this._parseTransform(e.geodataXform),z=k?w:null;k&&(w=k.forwardTransform(w),b.x=(w.xmax-w.xmin)/T,b.y=(w.ymax-w.ymin)/j);const _=null!=(r=e.properties)?r:{},C=e.format.toLowerCase().replace(\"cache/\",\"\"),R=new a(e.origin.x,e.origin.y,v);let F,P,H,L;if(c&&c.colors)for(F=[],P=0;P<c.colors.length;P++)H=c.colors[P],L=c.values?c.values[P]:P,F.push([L,255&H,H<<16>>>24,H<<8>>>24,H>>>24]);const D=e.LODInfos,M=[];for(P=0;P<D.levels.length;P++)M.push({level:D.levels[P],resolution:D.resolutions[P],scale:96/.0254*D.resolutions[P]});const B=new f({dpi:96,lods:M,format:C,origin:R,size:[u,d],spatialReference:v}),O={recordSize:y,packetSize:e.packetSize,headerSize:e.packetSize*e.packetSize*y+64},$=[{maxCol:Math.ceil(T/u)-1,maxRow:Math.ceil(j/d)-1,minCol:0,minRow:0}];let q=2;if(g>0)for(P=0;P<g;P++)$.push({maxCol:Math.ceil(T/q/u)-1,maxRow:Math.ceil(j/q/d)-1,minCol:0,minRow:0}),q*=2;const E=e.mdInfo;return{storageInfo:O,rasterInfo:new m({width:T,height:j,pixelType:o,bandCount:i,extent:w,nativeExtent:z,transform:k,spatialReference:v,pixelSize:b,keyProperties:_,statistics:x,histograms:l,multidimensionalInfo:E,colormap:F,storageInfo:new p({blockWidth:u,blockHeight:d,pyramidBlockWidth:u,pyramidBlockHeight:d,origin:R,tileInfo:B,firstPyramidLevel:h,maximumPyramidLevel:g,blockBoundary:$})})}}_parseTransform(e){var t,r;if(!d(e))throw new i(\"cloudraster:open\",\"the data contains unsupported geodata transform types\");const o=h(e);if(\"identity\"===o.type)return null;if(null==(t=o.forwardCoefficients)||!t.length||null==(r=o.inverseCoefficients)||!r.length)throw new i(\"cloudraster:open\",\"the data contains unsupported geodata transforms - both forward and inverse coefficients are required currently\");return o}async _fetchAuxiliaryInformation(e){const t=this.request(this.url+\"/conf.vat.json\",{signal:e}).then((e=>e.data)).catch((()=>null)),r=this.request(this.url+\"/conf.vat.dbf\",{responseType:\"array-buffer\",signal:e}).then((e=>e.data)).catch((()=>null)),o=await Promise.all([t,r]);let i;if(o[0]){let e=o[0].fields;const t=o[0].values;if(e&&t){e=e.map((e=>({type:\"OID\"===e.name?\"esriFieldTypeOID\":g.get(e.type),name:e.name,alias:e.alias||e.name})));const r=t.map((e=>({attributes:e})));e&&t&&(i={fields:e,features:r})}}if(!i&&o[1]){i=u.parse(o[1]).recordSet}return l.fromJSON(i)}_buildCacheFilePath(e,r,o,i){const s=this.storageInfo.packetSize,a=Math.floor(r/s)*s,n=Math.floor(o/s)*s,l=\"R\"+this._toHexString4(a)+\"C\"+this._toHexString4(n);let f=\"L\";f+=e>=10?e.toString():\"0\"+e.toString();const{multidimensionalInfo:m}=this.rasterInfo,p=null==i?void 0:i[0];if(!t(m)||!p)return`${this.url}/_alllayers/${f}/${l}.bundle`;let c=m.variables.filter((e=>e.name===p.variableName))[0].dimensions[0].values.indexOf(p.values[0]).toString(16);const u=4-c.length;for(let t=0;t<u;t++)c=\"0\"+c;return c=\"S\"+c,`${this.url}/_alllayers/${p.variableName}/${c}/${f}/${l}.bundle`}_getIndexRecordFromBundle(e,t){const r=this.storageInfo.packetSize,o=r*(e%r)+t%r;if(o<0)throw\"Invalid level / row / col\";return 20+o*this.storageInfo.recordSize+44}_getTileEndAndContentType(e,t){const r=e.subarray(t,t+8);let o,i=0;for(o=0;o<5;o++)i|=(255&r[o])<<8*o;const s=0xffffffffff&i;for(i=0,o=5;o<8;o++)i|=(255&r[o])<<8*(o-5);return{position:s,recordSize:0xffffffffff&i}}_toHexString4(e){let t=e.toString(16);if(4!==t.length){let e=4-t.length;for(;e-- >0;)t=\"0\"+t}return t}};e([r({readOnly:!0})],x.prototype,\"storageInfo\",void 0),e([r({type:String,json:{write:!0}})],x.prototype,\"datasetFormat\",void 0),x=e([o(\"esri.layers.support.rasterDatasets.CloudRaster\")],x);var I=x;export default I;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{eachAlways as o}from\"../../../core/promiseUtils.js\";import a from\"../../../geometry/SpatialReference.js\";import m from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import n from\"../RasterInfo.js\";import{split as l,estimateStatisticsHistograms as p}from\"../rasterFunctions/pixelUtils.js\";import c from\"./BaseRaster.js\";let h=class extends c{constructor(){super(...arguments),this.datasetFormat=\"MEMORY\"}async open(t){var e;await this.init();const{pixelBlock:s,statistics:r,histograms:i,name:o,keyProperties:l,nativeExtent:p,transform:c}=this.data,{width:h,height:u,pixelType:d}=s,f=this.data.extent||new m({xmin:-.5,ymin:.5,xmax:h-.5,ymax:u-.5,spatialReference:new a({wkid:3857})}),y=null!=(e=this.data.isPseudoSpatialReference)?e:!this.data.extent,x={x:f.width/h,y:f.height/u},g=new n({width:h,height:u,pixelType:d,extent:f,nativeExtent:p,transform:c,pixelSize:x,spatialReference:f.spatialReference,bandCount:3,keyProperties:l||{},statistics:r,isPseudoSpatialReference:y,histograms:i});this.createRemoteDatasetStorageInfo(g,512,512),this._set(\"rasterInfo\",g),this.updateTileInfo(),await this._buildInMemoryRaster(s,{width:512,height:512},t),this.datasetName=o,this.url=\"/InMemory/\"+o}fetchRawTile(t,e,s,r={}){const i=this._pixelBlockTiles.get(`${t}/${e}/${s}`);return Promise.resolve(i)}async _buildInMemoryRaster(t,s,r){const a=this.rasterInfo.storageInfo.maximumPyramidLevel,m=this.rasterJobHandler?this.rasterJobHandler.split({pixelBlock:t,tileSize:s,maximumPyramidLevel:a},r):Promise.resolve(l(t,s,a)),n=e(this.rasterInfo.statistics),c=e(this.rasterInfo.histograms),h=n&&c?Promise.resolve({statistics:null,histograms:null}):this.rasterJobHandler?this.rasterJobHandler.estimateStatisticsHistograms({pixelBlock:t},r):Promise.resolve(p(t)),u=await o([m,h]);if(!u[0].value&&u[1].value)throw new i(\"inmemory-raster:open\",\"failed to build in memory raster\");var d,f;(this._pixelBlockTiles=u[0].value,n)||(this.rasterInfo.statistics=null==(d=u[1].value)?void 0:d.statistics);c&&(this.rasterInfo.histograms=null==(f=u[1].value)?void 0:f.histograms)}};t([s({type:String,json:{write:!0}})],h.prototype,\"datasetFormat\",void 0),t([s()],h.prototype,\"data\",void 0),h=t([r(\"esri.layers.support.rasterDatasets.InMemoryRaster\")],h);var u=h;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(e,t){if(!e||!t)return[];let l=t;t.indexOf(\"/\")>-1?(l=t.slice(0,t.indexOf(\"/\")),t=t.slice(t.indexOf(\"/\")+1)):t=\"\";const r=[];if(t){const u=n(e,l);for(let e=0;e<u.length;e++){n(u[e],t).forEach((n=>r.push(n)))}return r}const u=e.getElementsByTagNameNS(\"*\",l);if(!u||0===u.length)return[];for(let n=0;n<u.length;n++)r.push(u[n]||u.item[n]);return r}function e(t,l){if(!t||!l)return null;let r=l;l.indexOf(\"/\")>-1?(r=l.slice(0,l.indexOf(\"/\")),l=l.slice(l.indexOf(\"/\")+1)):l=\"\";const u=n(t,r);return u.length>0?l?e(u[0],l):u[0]:null}function t(n,t=null){const l=t?e(n,t):n;let r;return l?(r=l.textContent||l.nodeValue,r?r.trim():null):null}function l(e,t){const l=n(e,t),r=[];let u;for(let n=0;n<l.length;n++)u=l[n].textContent||l[n].nodeValue,u&&(u=u.trim(),\"\"!==u&&r.push(u));return r}function r(n,e=null){const l=t(n,e);return null==l?void 0:l.split(\" \").map((n=>Number(n)))}function u(n,e){return l(n,e).map((n=>Number(n)))}function o(n,e){const l=t(n,e);return Number(l)}function i(n,e){var t;const l=null==n||null==(t=n.nodeName)?void 0:t.toLowerCase(),r=e.toLowerCase();return l.slice(l.lastIndexOf(\":\")+1)===r}function c(n){return n.nodeName.slice(n.nodeName.lastIndexOf(\":\")+1)}export{e as getElement,o as getElementNumericValue,u as getElementNumericValues,t as getElementValue,l as getElementValues,n as getElements,c as getNodeNameIgnoreNS,r as getSpaceDelimitedNumericValues,i as isSameTagIgnoreNS};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../geometry/SpatialReference.js\";import\"../../../geometry.js\";import t from\"../rasterTransforms/PolynomialTransform.js\";import{isSameTagIgnoreNS as n,getElementValue as a,getElements as r,getElement as s,getElementNumericValue as l,getElementNumericValues as i}from\"./xmlUtilities.js\";function o(e,t){if(!e||!t)return null;const n=[];for(let a=0;a<e.length;a++)n.push(e[a]),n.push(t[a]);return n}function u(e){var n;const r=s(e,\"GeodataXform\"),u=c(l(r,\"SpatialReference/WKID\")||a(r,\"SpatialReference/WKT\"));if(\"typens:PolynomialXform\"!==r.getAttribute(\"xsi:type\"))return{spatialReference:u,transform:null};const f=null!=(n=l(r,\"PolynomialOrder\"))?n:1,m=i(r,\"CoeffX/Double\"),d=i(r,\"CoeffY/Double\"),p=i(r,\"InverseCoeffX/Double\"),S=i(r,\"InverseCoeffY/Double\"),I=o(m,d),g=o(p,S);return{spatialReference:u,transform:new t({spatialReference:u,polynomialOrder:f,forwardCoefficients:I,inverseCoefficients:g})}}function f(e){var t;const n=l(e,\"NoDataValue\"),i=s(e,\"Histograms/HistItem\"),o=l(i,\"HistMin\"),u=l(i,\"HistMax\"),f=l(i,\"BucketCount\"),c=null==(t=a(i,\"HistCounts\"))?void 0:t.split(\"|\").map((e=>Number(e)));let m,d,p,S;r(e,\"Metadata/MDI\").forEach((e=>{var t;const n=Number(null!=(t=e.textContent)?t:e.nodeValue);switch(e.getAttribute(\"key\").toUpperCase()){case\"STATISTICS_MINIMUM\":m=n;break;case\"STATISTICS_MAXIMUM\":d=n;break;case\"STATISTICS_MEAN\":p=n;break;case\"STATISTICS_STDDEV\":S=n}}));const I=l(e,\"Metadata/SourceBandIndex\");return{noDataValue:n,histogram:null!=c&&c.length&&null!=m&&null!=d?{min:o,max:u,size:f||c.length,counts:c}:null,sourceBandIndex:I,statistics:null!=m&&null!=d?{min:m,max:d,avg:p,stddev:S}:null}}function c(t){if(!t)return null;let n=Number(t);if(!isNaN(n)&&0!==n)return new e({wkid:n});if(!(t=String(t)).startsWith(\"GEOGCS\")&&!t.startsWith(\"PROJCS\"))return null;const a=t.replace(/\\]/g,\"[\").replace(/\\\"/g,\"\").split(\"[\").map((e=>e.trim())).filter((e=>\"\"!==e)),r=a[a.length-1].split(\",\");return\"EPSG\"===r[0]&&t.endsWith('\"]]')&&(n=Number(r[1]),!isNaN(n)&&0!==n)?new e({wkid:n}):new e({wkt:t})}function m(e){var t;if(\"pamdataset\"!==(null==e||null==(t=e.documentElement.tagName)?void 0:t.toLowerCase()))return{};const s={spatialReference:null,transform:null,metadata:{},rasterBands:[],statistics:null,histograms:null};e.documentElement.childNodes.forEach((e=>{if(1===e.nodeType)if(n(e,\"SRS\")){if(!s.spatialReference){const t=a(e);s.spatialReference=c(t)}}else if(n(e,\"Metadata\"))if(\"xml:ESRI\"===e.getAttribute(\"domain\")){const{spatialReference:t,transform:n}=u(e);s.transform=n,s.spatialReference||(s.spatialReference=t)}else{r(e,\"MDI\").forEach((e=>s.metadata[e.getAttribute(\"key\")]=a(e)))}else if(n(e,\"PAMRasterBand\")){const t=f(e);null!=t.sourceBandIndex&&null==s.rasterBands[t.sourceBandIndex]?s.rasterBands[t.sourceBandIndex]=t:s.rasterBands.push(t)}}));const l=s.rasterBands;if(l){const e=!!l[0].statistics;s.statistics=e?l.map((e=>e.statistics)):null;const t=!!l[0].histogram;s.histograms=t?l.map((e=>e.histogram)):null}return s}export{m as parsePAMInfo,c as parseSpatialReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{unwrap as r}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{eachAlways as a,createAbortError as i}from\"../../../core/promiseUtils.js\";import n from\"../../../geometry/SpatialReference.js\";import l from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import{getFormat as m}from\"../rasterFormats/RasterCodec.js\";import{estimateStatisticsFromHistograms as p}from\"../rasterFunctions/pixelUtils.js\";import c from\"./BaseRaster.js\";import f from\"../rasterTransforms/PolynomialTransform.js\";import u from\"./InMemoryRaster.js\";import{parsePAMInfo as h}from\"./pamParser.js\";let d=class extends c{async open(t){await this.init();const r=await this._fetchData(t);let{spatialReference:e,statistics:s,histograms:o,transform:a}=await this._fetchAuxiliaryData(t);const i=!e;i&&(e=new n({wkid:3857})),null!=o&&o.length&&null==s&&(s=p(o));const{width:m,height:c}=r;let f=new l({xmin:-.5,ymin:.5-c,xmax:m-.5,ymax:.5,spatialReference:e});const h=a?a.forwardTransform(f):f;let d=!0;if(a){const t=a.forwardCoefficients;d=t&&0===t[1]&&0===t[2],d&&(a=null,f=h)}const x=new u({data:{extent:h,nativeExtent:f,transform:a,pixelBlock:r,statistics:s,histograms:o,keyProperties:{DateType:\"Processed\"},isPseudoSpatialReference:i}});await x.open(),this._set(\"rasterInfo\",x.rasterInfo),this._inMemoryRaster=x}fetchRawTile(t,r,e,s={}){return this._inMemoryRaster.fetchRawTile(t,r,e,s)}async _fetchData(t){const{data:r}=await this.request(this.url,{responseType:\"array-buffer\",signal:null==t?void 0:t.signal}),e=m(r).toUpperCase();if(\"JPG\"!==e&&\"PNG\"!==e&&\"GIF\"!==e&&\"BMP\"!==e)throw new o(\"image-aux-raster:open\",\"the data is not a supported format\");this._set(\"datasetFormat\",e);return await this.decodePixelBlock(r,{format:\"jpg\",width:1,height:1,useCanvas:!0})}async _fetchAuxiliaryData(t){var e,s;const o=r(null==t?void 0:t.signal),n=null!=(e=this.ioConfig.skipExtensions)?e:[],l=n.indexOf(\"aux.xml\")>-1?null:this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:o}),m=this.datasetFormat,p=\"JPG\"===m?\"jgw\":\"PNG\"===m?\"pgw\":\"BMP\"===m?\"bpw\":null,c=n.indexOf(p)>-1?null:this.request(this.url.slice(0,this.url.lastIndexOf(\".\"))+\".\"+p,{responseType:\"text\",signal:o}),u=await a([l,c]);if(null!=o&&o.aborted)throw i();const d=h(null==(s=u[0].value)?void 0:s.data);if(!d.transform){const t=u[1].value?u[1].value.data.split(\"\\n\").slice(0,6).map((t=>Number(t))):null;d.transform=6===(null==t?void 0:t.length)?new f({forwardCoefficients:[t[4],t[5],t[0],-t[1],t[2],-t[3]]}):null}return d}};t([e({type:String,json:{write:!0}})],d.prototype,\"datasetFormat\",void 0),d=t([s(\"esri.layers.support.rasterDatasets.ImageAuxRaster\")],d);var x=d;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as t,unwrap as i}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import l from\"../../../core/Error.js\";import{urlToObject as r}from\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import o from\"../../../geometry/SpatialReference.js\";import n from\"../../../geometry/Point.js\";import m from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import h from\"../../../tasks/support/FeatureSet.js\";import c from\"../TileInfo.js\";import{readServiceTileInfo as u}from\"../serviceTileInfoProperty.js\";import{TilemapCache as p}from\"../TilemapCache.js\";import f from\"../RasterInfo.js\";import{setValidBoundary as x}from\"../rasterFunctions/pixelUtils.js\";import d from\"../RasterStorageInfo.js\";import y from\"./BaseRaster.js\";let g=class extends y{constructor(){super(...arguments),this._levelOffset=0,this._slices=null,this._tilemapCache=null,this.datasetFormat=\"RasterTileServer\"}async open(e){await this.init();const i=e&&e.signal,s=this.sourceJSON?{data:this.sourceJSON}:await this.request(this.url,{query:{f:\"json\"},signal:i});s.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));const a=s.data;if(this.sourceJSON=a,!a)throw new l(\"imageserverraster:open\",\"cannot initialize tiled image service, missing service info\");if(!a.tileInfo)throw new l(\"imageserverraster:open\",\"use ImageryLayer to open non-tiled image services\");this._fixScaleInServiceInfo();const o=[\"jpg\",\"jpeg\",\"png\",\"png8\",\"png24\",\"png32\",\"mixed\"];this.tileType=a.cacheType,null==this.tileType&&(o.indexOf(a.tileInfo.format.toLowerCase())>-1?this.tileType=\"Map\":\"lerc\"===a.tileInfo.format.toLowerCase()?this.tileType=\"Elevation\":this.tileType=\"Raster\"),this.datasetName=a.name.slice(a.name.indexOf(\"/\")+1);const n=await this._fetchRasterInfo({signal:i});if(!t(n))throw new l(\"image-server-raster:open\",\"cannot initialize image service\");{const e=\"Map\"===this.tileType?u(a.tileInfo,a):c.fromJSON(a.tileInfo),{extent:t,pixelSize:i}=n,s=.5/n.width*i.x;let l,r;const o=e.lodAt(Math.max.apply(null,e.lods.map((e=>e.level))));\"Map\"!==this.tileType&&0!==a.maxScale&&(\"Raster\"===this.tileType?(l=e.lods.filter((e=>e.resolution===i.x))[0],l||(l=e.lods[e.lods.length-1])):(l=e.lods.filter((e=>Math.abs(e.scale-a.maxScale)<s))[0],l||(l=e.lods.filter((e=>e.scale>a.maxScale)).sort(((e,t)=>e.scale>t.scale?1:-1))[0])),i.x=i.y=l.resolution,n.width=Math.ceil((t.xmax-t.xmin)/i.x-.1),n.height=Math.ceil((t.ymax-t.ymin)/i.y-.1)),l||(l=o);const m=e.lodAt(Math.min.apply(null,e.lods.map((e=>e.level))));\"Map\"===this.tileType?this._levelOffset=e.lods[0].level:0!==a.minScale&&\"Elevation\"===this.tileType&&(r=e.lods.filter((e=>Math.abs(e.scale-a.minScale)<s))[0],this._levelOffset=r.level-m.level),r||(r=m);const h=Math.max(i.x,i.y);(Math.abs(i.x-i.y)>s||!e.lods.some((e=>Math.abs(e.resolution-h)<s)))&&(i.x=i.y=l.resolution,n.width=Math.ceil((t.xmax-t.xmin)/i.x-.1),n.height=Math.ceil((t.ymax-t.ymin)/i.y-.1));const p=l.level-r.level,[f,x]=e.size,y=e.origin;let{x:g,y:v}=i;const S=[{minCol:Math.floor((t.xmin-y.x+.1*g)/f/g),maxCol:Math.floor((t.xmax-y.x-.1*g)/f/g),minRow:Math.floor((y.y-t.ymax+.1*v)/x/v),maxRow:Math.floor((y.y-t.ymin-.1*v)/x/v)}];if(p>0)for(let a=0;a<p;a++)g*=2,v*=2,S.push({minCol:Math.floor((t.xmin-y.x+.1*g)/f/g),maxCol:Math.floor((t.xmax-y.x-.1*g)/f/g),minRow:Math.floor((y.y-t.ymax+.1*v)/x/g),maxRow:Math.floor((y.y-t.ymin-.1*v)/x/g)});n.storageInfo=new d({blockWidth:e.size[0],blockHeight:e.size[1],pyramidBlockWidth:e.size[0],pyramidBlockHeight:e.size[1],compression:e.format,origin:e.origin,firstPyramidLevel:1,maximumPyramidLevel:p,tileInfo:e,blockBoundary:S}),this._set(\"rasterInfo\",n)}if(a.capabilities.toLowerCase().indexOf(\"tilemap\")>-1){const e={tileInfo:n.storageInfo.tileInfo,parsedUrl:r(this.url),url:this.url,tileServers:[],type:\"tile\"};this._tilemapCache=new p({layer:e})}}async fetchRawTile(e,t,i,s={}){const{storageInfo:a,extent:l,pixelSize:r}=this.rasterInfo,o=a.maximumPyramidLevel-e+this._levelOffset,n=`${this.url}/tile/${o}/${t}/${i}`,m=this._slices?{sliceId:s.sliceId||0}:null,{data:h}=await this.request(n,{query:m,responseType:\"array-buffer\",signal:s.signal});if(!h)return null;const c=await this.decodePixelBlock(h,{width:a.tileInfo.size[0],height:a.tileInfo.size[1],planes:null,pixelType:null,isPoint:\"Elevation\"===this.tileType}),u=a.blockBoundary[e];if(\"jpg\"!==a.compression||i>u.minCol&&i<u.maxCol&&t>u.minRow&&t<u.maxRow)return c;const{origin:p,blockWidth:f,blockHeight:d}=a,y=2**e,g=Math.round((l.xmin-p.x)/(r.x*y))%f,v=Math.round((l.xmax-p.x)/(r.x*y))%f,S=Math.round((p.y-l.ymax)/(r.x*y))%d,w=Math.round((p.y-l.ymin)/(r.x*y))%d,I=i===u.minCol?g:0,j=t===u.minRow?S:0,b=i===u.maxCol?v:f,M=t===u.maxRow?w:d;return x(c,{x:I,y:j},{width:b-I,height:M-j}),c}getSliceIndex(e){if(null==e||!e.length||!this._slices)return null;const t=e;for(let i=0;i<this._slices.length;i++){const e=this._slices[i].multidimensionalDefinition;if(e.length===t.length&&!e.some((e=>{const i=t.filter((t=>e.variableName===t.variableName&&t.dimensionName===e.dimensionName))[0];if(!i)return!0;return(Array.isArray(e.values[0])?e.values[0][0]:e.values[0])!==(Array.isArray(i.values[0])?i.values[0][0]:i.values[0])})))return i}return null}async fetchVariableStatisticsHistograms(e,t){const i=this.request(this.url+\"/statistics\",{query:{variable:e,f:\"json\"},signal:t}).then((e=>{var t;return null==(t=e.data)?void 0:t.statistics})),s=this.request(this.url+\"/histograms\",{query:{variable:e,f:\"json\"},signal:t}).then((e=>{var t;return null==(t=e.data)?void 0:t.histograms})),a=await Promise.all([i,s]);return a[0]&&a[0].forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),{statistics:a[0]||null,histograms:a[1]||null}}async computeBestPyramidLevelForLocation(e,t={}){if(!this._tilemapCache)return 0;let s=this.identifyPixelLocation(e,0,i(t.datumTransformation));if(null===s)return null;let a=0;const{maximumPyramidLevel:l}=this.rasterInfo.storageInfo;let r=l-a+this._levelOffset;const o=s.srcLocation;for(;r>=0;){try{if(\"available\"===await this._tilemapCache.fetchAvailability(r,s.row,s.col,t))break}catch{}if(r--,a++,s=this.identifyPixelLocation(o,a,i(t.datumTransformation)),null===s)return null}return-1===r||null==s?null:a}async _fetchRasterInfo(e){const t=this.sourceJSON,i=Math.ceil((t.extent.xmax-t.extent.xmin)/t.pixelSizeX-.1),s=Math.ceil((t.extent.ymax-t.extent.ymin)/t.pixelSizeY-.1),a=o.fromJSON(t.spatialReference||t.extent.spatialReference);if(\"Map\"===this.tileType)return new f({width:i,height:s,bandCount:3,extent:m.fromJSON(t.extent),spatialReference:a,pixelSize:new n({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:a}),pixelType:\"u8\",statistics:null,keyProperties:{DataType:\"processed\"}});const{slice:l,signal:r}=e,c=!!t.hasRasterAttributeTable&&this.request(this.url+\"/rasterAttributeTable\",{query:{slice:l,f:\"json\"},signal:r}).then((e=>h.fromJSON(e.data))).catch((()=>null)),u=!!t.hasColormap&&this.request(this.url+\"/colormap\",{query:{slice:l,f:\"json\"},signal:r}).then((e=>{var t;return null==(t=e.data)?void 0:t.colormap})),p=!!t.hasHistograms&&this.request(this.url+\"/histograms\",{query:{slice:l,f:\"json\"},signal:r}).then((e=>{var t;return null==(t=e.data)?void 0:t.histograms})),x=this.request(this.url+\"/keyProperties\",{query:{f:\"json\"},signal:r}).then((e=>e.data)).catch((()=>{})),d=!!t.hasMultidimensions&&this._fetchMultidimensionalInfo(),y=!!t.hasMultidimensions&&this.request(this.url+\"/slices\",{query:{f:\"json\"},signal:r}).then((e=>e.data&&e.data.slices)).catch((()=>{}));return Promise.all([c,u,p,x,d,y]).then((e=>{let l=null;if(t.minValues&&t.minValues.length===t.bandCount){l=[];for(let e=0;e<t.minValues.length;e++)l.push({min:t.minValues[e],max:t.maxValues[e],avg:t.meanValues[e],stddev:t.stdvValues[e]})}return this._slices=e[5]||null,new f({width:i,height:s,bandCount:t.bandCount,extent:m.fromJSON(t.extent),spatialReference:a,pixelSize:new n({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:a}),pixelType:t.pixelType.toLowerCase(),statistics:l,attributeTable:e[0]||null,colormap:e[1]||null,histograms:e[2]||null,keyProperties:e[3]||{},multidimensionalInfo:e[4]||null})}))}async _fetchMultidimensionalInfo(e){var t;const i=await this.request(this.url+\"/multidimensionalInfo\",{query:{f:\"json\"},signal:e}).then((e=>{var t;return null==(t=e.data)?void 0:t.multidimensionalInfo}));return null!=(t=i.variables)&&t.length&&i.variables.forEach((e=>{var t;null!=(t=e.statistics)&&t.length&&e.statistics.forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation}))})),i}_fixScaleInServiceInfo(){const{sourceJSON:e}=this;e.minScale&&e.minScale<0&&(e.minScale=0),e.maxScale&&e.maxScale<0&&(e.maxScale=0)}};e([s({type:String,json:{write:!0}})],g.prototype,\"datasetFormat\",void 0),e([s()],g.prototype,\"tileType\",void 0),g=e([a(\"esri.layers.support.rasterDatasets.ImageServerRaster\")],g);var v=g;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{unwrap as e,isSome as r}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../geometry/SpatialReference.js\";import n from\"../../../geometry/Point.js\";import l from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import p from\"../PixelBlock.js\";import c from\"../RasterInfo.js\";import{isPlatformLittleEndian as f}from\"../rasterFormats/utils.js\";import{estimateStatisticsFromHistograms as m}from\"../rasterFunctions/pixelUtils.js\";import h from\"../RasterStorageInfo.js\";import u from\"./BaseRaster.js\";import{getElement as g,getElementValue as d}from\"./xmlUtilities.js\";import{parseSpatialReference as y,parsePAMInfo as x}from\"./pamParser.js\";const w=new Map;w.set(\"Int8\",\"s8\"),w.set(\"UInt8\",\"u8\"),w.set(\"Int16\",\"s16\"),w.set(\"UInt16\",\"u16\"),w.set(\"Int32\",\"s32\"),w.set(\"UInt32\",\"u32\"),w.set(\"Float32\",\"f32\"),w.set(\"Float64\",\"f32\"),w.set(\"Double64\",\"f32\");const I=new Map;I.set(\"lerc\",\".lrc\"),I.set(\"none\",\".til\"),I.set(\"deflate\",\".pzp\"),I.set(\"jpeg\",\".jzp\");let b=class extends u{constructor(){super(...arguments),this._files=null,this._storageIndex=null,this.datasetFormat=\"MRF\"}async open(t){var s;await this.init(),this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1);const o=t?e(t.signal):null,i=await this.request(this.url,{responseType:\"xml\",signal:o}),{rasterInfo:a,files:n}=this._parseHeader(i.data);if(-1===(null==(s=this.ioConfig.skipExtensions)?void 0:s.indexOf(\"aux.xml\"))){const e=await this._fetchAuxiliaryData(t);var l;if(null!=e)a.statistics=null!=(l=e.statistics)?l:a.statistics,a.histograms=e.histograms,e.histograms&&!r(a.statistics)&&(a.statistics=m(e.histograms))}this._set(\"rasterInfo\",a),this._files=n;const p=await this.request(n.index,{responseType:\"array-buffer\",signal:o});this._storageIndex=this._parseIndex(p.data);let c,f,h=0,u=-1;const{blockWidth:g,blockHeight:d,compression:y}=this.rasterInfo.storageInfo,x=this.rasterInfo.storageInfo.pyramidScalingFactor,{width:w,height:I,bandCount:b}=this.rasterInfo,A=[],j=\"none\"===y?1:b;for(;h<this._storageIndex.length;)u++,c=Math.ceil(w/g/x**u),f=Math.ceil(I/d/x**u),h+=c*f*j*4,A.push({maxRow:f,maxCol:c,minCol:0,minRow:0});this.rasterInfo.storageInfo.blockBoundary=A,u>0&&(this.rasterInfo.storageInfo.firstPyramidLevel=1,this.rasterInfo.storageInfo.maximumPyramidLevel=u),this.updateTileInfo()}async fetchRawTile(t,e,r,s={}){const{blockWidth:o,blockHeight:i,blockBoundary:a,compression:n}=this.rasterInfo.storageInfo,l=a[t];if(!l||l.maxRow<e||l.maxCol<r||l.minRow>e||l.minCol>r)return null;const{bandCount:c,pixelType:f}=this.rasterInfo,{ranges:m,actualTileWidth:h,actualTileHeight:u}=this._getTileLocation(t,e,r);if(!m||0===m.length)return null;if(0===m[0].from&&0===m[0].to){const t=new Uint8Array(o*i);return new p({width:o,height:i,pixels:null,mask:t,validPixelCount:0})}const{bandIds:g}=this.ioConfig,d=\"none\"===n?1:c,y=[];let x=0;for(x=0;x<d;x++)(!g||g.indexOf[x]>-1)&&y.push(this.request(this._files.data,{range:{from:m[x].from,to:m[x].to},responseType:\"array-buffer\",signal:s.signal}));const w=await Promise.all(y),I=w.map((t=>t.data.byteLength)).reduce(((t,e)=>t+e)),b=new Uint8Array(I);let A=0;for(x=0;x<d;x++)b.set(new Uint8Array(w[x].data),A),A+=w[x].data.byteLength;const j=\"lerc\"===this.rasterInfo.storageInfo.compression?\"lerc\":\"bip\",R=await this.decodePixelBlock(b.buffer,{width:o,height:i,format:j,pixelType:f});let _=0,F=0;if(h!==o||u!==i){let t=R.mask;if(t)for(x=0;x<i;x++)if(F=x*o,x<u)for(_=h;_<o;_++)t[F+_]=0;else for(_=0;_<o;_++)t[F+_]=0;else for(t=new Uint8Array(o*i),R.mask=t,x=0;x<u;x++)for(F=x*o,_=0;_<h;_++)t[F+_]=1}return R}_parseIndex(t){if(t.byteLength%16>0)throw\"invalid array buffer must be multiples of 16\";let e,r,s,o,i,a;if(f){for(r=new Uint8Array(t),o=new ArrayBuffer(t.byteLength),s=new Uint8Array(o),i=0;i<t.byteLength/4;i++)for(a=0;a<4;a++)s[4*i+a]=r[4*i+3-a];e=new Uint32Array(o)}else e=new Uint32Array(t);return e}_getTileLocation(t,e,r){const{blockWidth:s,blockHeight:o,pyramidScalingFactor:i,compression:a}=this.rasterInfo.storageInfo,{width:n,height:l,bandCount:p}=this.rasterInfo,c=\"none\"===a?1:p;let f,m,h,u=0,g=0;for(h=0;h<t;h++)g=i**h,f=Math.ceil(n/s/g),m=Math.ceil(l/o/g),u+=f*m;g=i**t,f=Math.ceil(n/s/g),m=Math.ceil(l/o/g),u+=e*f+r,u*=4*c;const d=this._storageIndex.subarray(u,u+4*c);let y=0,x=0;const w=[];for(let I=0;I<c;I++)y=d[4*I+0]*2**32+d[4*I+1],x=y+d[4*I+2]*2**32+d[4*I+3],w.push({from:y,to:x});return{ranges:w,actualTileWidth:r<f-1?s:Math.ceil(n/g)-s*(f-1),actualTileHeight:e<m-1?o:Math.ceil(l/g)-o*(m-1)}}_parseHeader(t){const e=g(t,\"MRF_META/Raster\");if(!e)throw new i(\"mrf:open\",\"not a valid MRF format\");const r=g(e,\"Size\"),s=parseInt(r.getAttribute(\"x\"),10),o=parseInt(r.getAttribute(\"y\"),10),p=parseInt(r.getAttribute(\"c\"),10),f=(d(e,\"Compression\")||\"none\").toLowerCase();if(!f||-1===[\"none\",\"lerc\"].indexOf(f))throw new i(\"mrf:open\",\"currently does not support compression \"+f);const m=d(e,\"DataType\")||\"UInt8\",u=w.get(m);if(null==u)throw new i(\"mrf:open\",\"currently does not support pixel type \"+m);const x=g(e,\"PageSize\"),b=parseInt(x.getAttribute(\"x\"),10),A=parseInt(x.getAttribute(\"y\"),10),j=g(e,\"DataValues\");let R,_;j&&(_=j.getAttribute(\"NoData\"),null!=_&&(R=_.trim().split(\" \").map((t=>parseFloat(t)))));if(g(t,\"MRF_META/CachedSource\"))throw new i(\"mrf:open\",\"currently does not support MRF referencing other data files\");const F=g(t,\"MRF_META/GeoTags\"),M=g(F,\"BoundingBox\");if(null==M)throw new i(\"mrf:open\",\"missing node MRF_META/GeoTags/BoundingBox\");const T=parseFloat(M.getAttribute(\"minx\")),k=parseFloat(M.getAttribute(\"miny\")),C=parseFloat(M.getAttribute(\"maxx\")),U=parseFloat(M.getAttribute(\"maxy\")),L=d(F,\"Projection\")||\"\",S=d(t,\"datafile\"),v=d(t,\"IndexFile\");let B;if(\"LOCAL_CS[]\"!==L)if(L.toLowerCase().startsWith(\"epsg:\")){const t=Number(L.slice(5));isNaN(t)||0===t||(B=new a({wkid:t}))}else B=y(L);const P=new l(T,k,C,U);P.spatialReference=B;const E=g(t,\"MRF_META/Rsets\"),H=parseInt(E&&E.getAttribute(\"scale\")||\"2\",10),W=new h({origin:new n({x:P.xmin,y:P.ymax,spatialReference:B}),blockWidth:b,blockHeight:A,pyramidBlockWidth:b,pyramidBlockHeight:A,compression:f,pyramidScalingFactor:H}),D=new n({x:(C-T)/s,y:(U-k)/o,spatialReference:B});return{rasterInfo:new c({width:s,height:o,extent:P,spatialReference:B,bandCount:p,pixelType:u,pixelSize:D,noDataValue:R,storageInfo:W}),files:{mrf:this.url,index:v||this.url.replace(\".mrf\",\".idx\"),data:S||this.url.replace(\".mrf\",I.get(f))}}}async _fetchAuxiliaryData(t){try{const{data:e}=await this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:null==t?void 0:t.signal});return x(e)}catch{return null}}};t([s()],b.prototype,\"_files\",void 0),t([s()],b.prototype,\"_storageIndex\",void 0),t([s({type:String,json:{write:!0}})],b.prototype,\"datasetFormat\",void 0),b=t([o(\"esri.layers.support.rasterIO.MRFRaster\")],b);var A=b;export default A;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{unwrap as t,isSome as r}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import o from\"../../../geometry/Point.js\";import n from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import f from\"../RasterInfo.js\";import l from\"../rasterFormats/TiffTags.js\";import{parseSignature as u,getImageInfo as m,parseIFD as p,parseFieldValues as c}from\"../rasterFormats/TiffDecoder.js\";import{estimateStatisticsFromHistograms as h}from\"../rasterFunctions/pixelUtils.js\";import d from\"../RasterStorageInfo.js\";import y from\"./BaseRaster.js\";import g from\"../rasterTransforms/PolynomialTransform.js\";import{parsePAMInfo as x}from\"./pamParser.js\";const T=function(e,t){const r=e.get(t);return r&&r.values},I=function(e,t){const r=e.get(t);return r&&r.values[0]};let w=class extends y{constructor(){super(...arguments),this._files=null,this._headerInfo=null,this._bufferSize=1048576,this.datasetFormat=\"TIFF\"}async open(e){var i;await this.init();const s=e?t(e.signal):null,{data:l}=await this.request(this.url,{range:{from:0,to:this._bufferSize},responseType:\"array-buffer\",signal:s});if(!l)throw new a(\"tiffraster:open\",\"failed to open url \"+this.url);this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1);const{littleEndian:p,firstIFD:c,isBigTiff:y}=u(l),x=[];await this.readIFDs(x,l,p,c,0,y?8:4,s);const T=m(x),{width:I,height:w,tileWidth:E,tileHeight:F,planes:S,pixelType:v,compression:b,firstPyramidLevel:_,maximumPyramidLevel:j,pyramidBlockWidth:R,pyramidBlockHeight:B,tileBoundary:D,affine:k,metadata:L}=T,O=n.fromJSON(T.extent),z=O.spatialReference,H=new o(O?{x:O.xmin,y:O.ymax,spatialReference:z}:{x:0,y:0}),P=new d({blockWidth:E,blockHeight:F,pyramidBlockWidth:R,pyramidBlockHeight:B,compression:b,origin:H,firstPyramidLevel:_,maximumPyramidLevel:j,blockBoundary:D}),G=new o({x:(O.xmax-O.xmin)/I,y:(O.ymax-O.ymin)/w,spatialReference:z}),q=L?{BandProperties:L.bandProperties,DataType:L.dataType}:{},W=new f({width:I,height:w,bandCount:S,pixelType:v,compression:b,pixelSize:G,storageInfo:P,spatialReference:z,keyProperties:q,extent:O,statistics:L?L.statistics:null});if(null!=k&&k.length&&(W.nativeExtent=new n({xmin:-.5,ymin:.5-w,xmax:I-.5,ymax:.5,spatialReference:z}),W.transform=new g({polynomialOrder:1,forwardCoefficients:[k[2]+k[0]/2,k[5]-k[3]/2,k[0],k[3],-k[1],-k[4]]}),W.extent=W.transform.forwardTransform(W.nativeExtent),W.pixelSize=new o({x:(O.xmax-O.xmin)/I,y:(O.ymax-O.ymin)/w,spatialReference:z}),P.origin.x=-.5,P.origin.y=.5),null==(i=this.ioConfig.skipExtensions)||!i.includes(\"aux.xml\")){const t=await this._fetchAuxiliaryData(e);if(null!=t){var C;if(W.statistics=null!=(C=t.statistics)?C:W.statistics,W.histograms=t.histograms,t.histograms&&!r(W.statistics)&&(W.statistics=h(t.histograms)),t.transform&&!k){W.transform=t.transform,W.nativeExtent=W.extent;const e=W.transform.forwardTransform(W.nativeExtent);W.pixelSize=new o({x:(e.xmax-e.xmin)/I,y:(e.ymax-e.ymin)/w,spatialReference:z}),W.extent=e}W.spatialReference||(W.spatialReference=t.spatialReference)}}if(this._set(\"rasterInfo\",W),this._headerInfo={littleEndian:p,isBigTiff:y,ifds:x,...T},!this._headerInfo.isSupported)throw new a(\"tiffraster:open\",\"this tiff is not supported: \"+this._headerInfo.message);this.updateTileInfo()}async fetchRawTile(e,t,r,i={}){var s;if(null==(s=this._headerInfo)||!s.isSupported||this.isBlockOutside(e,t,r))return null;const a=this.getTileLocation(e,t,r);if(!a)return null;const{range:o,actualTileWidth:n,actualTileHeight:f,ifd:l}=a,{data:u}=await this.request(this.url,{range:o,responseType:\"array-buffer\",signal:i.signal}),{blockWidth:m,blockHeight:p}=this.getBlockWidthHeight(e),c=await this.decodePixelBlock(u,{format:\"tiff\",customOptions:{headerInfo:this._headerInfo,ifd:l,offset:0,size:0},width:m,height:p,planes:null,pixelType:null});let h,d,y;if(n!==m||f!==p){let e=c.mask;if(e)for(h=0;h<p;h++)if(y=h*m,h<f)for(d=n;d<m;d++)e[y+d]=0;else for(d=0;d<m;d++)e[y+d]=0;else for(e=new Uint8Array(m*p),c.mask=e,h=0;h<f;h++)for(y=h*m,d=0;d<n;d++)e[y+d]=1}return c}async readIFDs(e,t,r,i,s,a=4,o){if(!i)return null;if(i>=t.byteLength||i<0){t=(await this.request(this.url,{range:{from:i+s,to:i+s+this._bufferSize},responseType:\"array-buffer\",signal:o})).data,s=i+s,i=0}const n=await this.readIFD(t,r,i,s,l.TIFF_TAGS,a,o);if(e.push(n.ifd),!n.nextIFD)return null;await this.readIFDs(e,t,r,n.nextIFD-s,s,a,o)}async readIFD(e,t,r,i,s=l.TIFF_TAGS,a=4,o){if(!e)return null;const n=p(e,t,r,i,s,a);if(n.success){const r=[];if(n.ifd.forEach((e=>{e.values||r.push(e)})),r.length>0){const s=r.map((e=>e.offlineOffsetSize)),a=Math.min.apply(null,s.map((e=>e[0])));if(Math.min.apply(null,s.map((e=>e[0]+e[1])))-a<=this._bufferSize){const{data:s}=await this.request(this.url,{range:{from:a,to:a+this._bufferSize},responseType:\"array-buffer\",signal:o});e=s,i=a,r.forEach((r=>c(e,t,r,i)))}}if(n.ifd.has(\"GEOKEYDIRECTORY\")){const r=n.ifd.get(\"GEOKEYDIRECTORY\"),s=r.values;if(s&&s.length>4){const a=s[0]+\".\"+s[1]+\".\"+s[2],n=await this.readIFD(e,t,r.valueOffset+6-i,i,l.GEO_KEYS,2,o);r.data=n.ifd,r.data&&r.data.set(\"GEOTIFFVersion\",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}return n}if(n.requiredBufferSize&&n.requiredBufferSize!==e.byteLength){const r=await this.request(this.url,{range:{from:i,to:i+n.requiredBufferSize+4},responseType:\"array-buffer\",signal:o});return(e=r.data).byteLength<n.requiredBufferSize?null:this.readIFD(e,t,0,i,l.TIFF_TAGS,4,o)}}getTileLocation(e,t,r){const{firstPyramidLevel:i,blockBoundary:s}=this.rasterInfo.storageInfo,a=0===e?0:e-(i-1),o=this._headerInfo.ifds[a];if(!o)return null;const n=T(o,\"TILEOFFSETS\");if(void 0===n)return null;const f=T(o,\"TILEBYTECOUNTS\"),{minRow:l,minCol:u,maxRow:m,maxCol:p}=s[a];if(t>m||r>p||t<l||r<u)return null;const c=I(o,\"IMAGEWIDTH\"),h=I(o,\"IMAGELENGTH\"),d=I(o,\"TILEWIDTH\"),y=I(o,\"TILELENGTH\"),g=t*(p+1)+r,x=n[g],w=f[g];if(null==x||null==w)return null;return{range:{from:x,to:x+w-1},ifd:o,actualTileWidth:r===p?c%d:d,actualTileHeight:t===m?h%y:y}}async _fetchAuxiliaryData(e){try{const{data:t}=await this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:null==e?void 0:e.signal});return x(t)}catch{return null}}};e([i()],w.prototype,\"_files\",void 0),e([i()],w.prototype,\"_headerInfo\",void 0),e([i()],w.prototype,\"_bufferSize\",void 0),e([i({type:String,json:{write:!0}})],w.prototype,\"datasetFormat\",void 0),w=e([s(\"esri.layers.support.rasterDatasets.TIFFRaster\")],w);var E=w;export default E;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Error.js\";import r from\"./CloudRaster.js\";import e from\"./ImageAuxRaster.js\";import s from\"./ImageServerRaster.js\";import o from\"./MRFRaster.js\";import a from\"./TIFFRaster.js\";const c=new Map;c.set(\"CRF\",{desc:\"Cloud Raster Format\",constructor:r}),c.set(\"MRF\",{desc:\"Meta Raster Format\",constructor:o}),c.set(\"TIFF\",{desc:\"GeoTIFF\",constructor:a}),c.set(\"RasterTileServer\",{desc:\"Raster Tile Server\",constructor:s}),c.set(\"JPG\",{desc:\"JPG Raster Format\",constructor:e}),c.set(\"PNG\",{desc:\"PNG Raster Format\",constructor:e}),c.set(\"GIF\",{desc:\"GIF Raster Format\",constructor:e}),c.set(\"BMP\",{desc:\"BMP Raster Format\",constructor:e});class n{static get supportedFormats(){const t=new Set;return c.forEach(((r,e)=>t.add(e))),t}static async open(r){const{url:e,ioConfig:s,sourceJSON:o}=r;let a=r.datasetFormat;null==a&&e.lastIndexOf(\".\")&&(a=e.slice(e.lastIndexOf(\".\")+1).toUpperCase()),\"OVR\"===a||\"TIF\"===a?a=\"TIFF\":\"JPG\"!==a&&\"JPEG\"!==a&&\"JFIF\"!==a||(a=\"JPG\"),e.toLowerCase().indexOf(\"/imageserver\")>-1&&-1===e.toLowerCase().indexOf(\"/wcsserver\")&&(a=\"RasterTileServer\");const n={url:e,sourceJSON:o,datasetFormat:a,ioConfig:s||{bandIds:null,sampling:null}};let i,u;if(this.supportedFormats.has(a))return i=c.get(a).constructor,u=new i(n),await u.open({signal:r.signal}),u;if(a)throw new t(\"rasterfactory:open\",\"not a supported format \"+a);const l=Array.from(c.keys());let m=0;const F=function(){return a=l[m++],a?(i=c.get(a).constructor,u=new i(n),u.open({signal:r.signal}).then((()=>u)).catch((()=>F()))):null};return F()}static register(t,r,e){c.has(t.toUpperCase())||c.set(t.toUpperCase(),{desc:r,constructor:e})}}export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as r}from\"../core/maybe.js\";import\"../core/Logger.js\";import{Integer as t}from\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{strict as i}from\"../core/jsonMap.js\";import{enumeration as s}from\"../core/accessorSupport/decorators/enumeration.js\";import{reader as a}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import p from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import l from\"../PopupTemplate.js\";import d from\"./Layer.js\";import{MultiOriginJSONMixin as u}from\"../core/MultiOriginJSONSupport.js\";import{legendEnabled as m}from\"./support/commonProperties.js\";import{OperationalLayer as c}from\"./mixins/OperationalLayer.js\";import{read as y,rasterRendererTypes as h,websceneRasterRendererTypes as f}from\"../rasterRenderers.js\";import g from\"./support/Field.js\";import{BlendLayer as v}from\"./mixins/BlendLayer.js\";import{PortalLayer as j}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as S}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as b}from\"./mixins/ScaleRangeLayer.js\";import{createPopupTemplate as P}from\"../support/popupUtils.js\";import{ImageryTileMixin as w}from\"./mixins/ImageryTileMixin.js\";import T from\"./support/rasterDatasets/RasterFactory.js\";const R=i()({RSP_NearestNeighbor:\"nearest\",RSP_BilinearInterpolation:\"bilinear\",RSP_CubicConvolution:\"cubic\",RSP_Majority:\"majority\"});function I(){return{enabled:!this.loaded||\"RasterTileServer\"===this.raster.datasetFormat&&\"Raster\"===this.raster.tileType}}let O=class extends(v(b(S(c(j(w(u(d)))))))){constructor(...e){super(...e),this.bandIds=null,this.interpolation=null,this.legendEnabled=!0,this.isReference=null,this.listMode=\"show\",this.sourceJSON=null,this.version=null,this.title=null,this.type=\"imagery-tile\",this.operationalLayerType=\"ArcGISTiledImageServiceLayer\",this.popupEnabled=!0,this.popupTemplate=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const t=r(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"]},e).then((()=>this._openRaster(t)),(()=>this._openRaster(t)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get fields(){var e,r;let t=[new g({name:\"Raster.ServicePixelValue\",alias:\"Pixel Value\",domain:null,editable:!1,length:50,type:\"string\"})];const o=null==(e=this.rasterInfo)||null==(r=e.attributeTable)?void 0:r.fields,i=\"Raster.\";if(o){const e=o.filter((e=>\"oid\"!==e.type&&\"value\"!==e.name.toLowerCase())).map((e=>{const r=e.clone();return r.name=i+e.name,r}));t=t.concat(e)}return t}set renderer(e){this._set(\"renderer\",e),this.updateRenderer()}readRenderer(e,r,t){const o=r&&r.layerDefinition&&r.layerDefinition.drawingInfo&&r.layerDefinition.drawingInfo.renderer,i=y(o,t)||void 0;if(null!=i)return i}createPopupTemplate(e){return P(this,e)}write(e,r){const{raster:t}=this;if(this.loaded?\"RasterTileServer\"===t.datasetFormat&&(\"Raster\"===t.tileType||\"Map\"===t.tileType):this.url&&/\\/ImageServer(\\/|\\/?$)/i.test(this.url))return super.write(e,r);if(r&&r.messages){const e=`${r.origin}/${r.layerContainerType||\"operational-layers\"}`;r.messages.push(new p(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}async _openRaster(e){this.raster?(this.raster.rasterInfo||await this.raster.open(),this.url=this.raster.url):this.raster=await T.open({url:this.url,sourceJSON:this.sourceJSON,ioConfig:this.ioConfig,signal:e});const{rasterInfo:r}=this.raster;if(!r)throw new p(\"imagery-tile-layer:load\",\"cannot load resources on \"+this.url);this.sourceJSON=this.sourceJSON||this.raster.sourceJSON,null!=this.sourceJSON&&(this._set(\"version\",this.sourceJSON.currentVersion),this._set(\"copyright\",this.sourceJSON.copyrightText)),null==this.title&&(this.title=this.raster.datasetName),\"Map\"===this.raster.tileType&&(this.popupEnabled=!1),this._configDefaultSettings()}};e([o({type:[t],json:{write:{overridePolicy:I}}})],O.prototype,\"bandIds\",void 0),e([o({json:{write:{overridePolicy:I}}}),s(R)],O.prototype,\"interpolation\",void 0),e([o({json:{write:!0}})],O.prototype,\"multidimensionalDefinition\",void 0),e([o(m)],O.prototype,\"legendEnabled\",void 0),e([o({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],O.prototype,\"isReference\",void 0),e([o({type:[\"show\",\"hide\"]})],O.prototype,\"listMode\",void 0),e([o()],O.prototype,\"sourceJSON\",void 0),e([o({readOnly:!0})],O.prototype,\"version\",void 0),e([o()],O.prototype,\"title\",void 0),e([o({readOnly:!0,json:{read:!1}})],O.prototype,\"type\",void 0),e([o({type:[\"ArcGISTiledImageServiceLayer\"]})],O.prototype,\"operationalLayerType\",void 0),e([o({type:Boolean,value:!0,json:{read:{source:\"disablePopup\",reader:(e,r)=>!r.disablePopup},write:{target:\"disablePopup\",overridePolicy:I,writer(e,r,t){r[t]=!e}}}})],O.prototype,\"popupEnabled\",void 0),e([o({type:l,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\",overridePolicy:I}}})],O.prototype,\"popupTemplate\",void 0),e([o({readOnly:!0})],O.prototype,\"defaultPopupTemplate\",null),e([o({readOnly:!0,type:[g]})],O.prototype,\"fields\",null),e([o({types:h,json:{name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:I},origins:{\"web-scene\":{types:f,name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:e=>({enabled:e&&\"vector-field\"!==e.type})}}}}})],O.prototype,\"renderer\",null),e([a(\"renderer\")],O.prototype,\"readRenderer\",null),O=e([n(\"esri.layers.ImageryTileLayer\")],O);var x=O;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer()}),this._interval)}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import t from\"../../../geometry/Point.js\";import\"../../../geometry.js\";import n from\"./EphemeralBlockCache.js\";import{projectExtent as o,projectResolution as r,snapPyramid as l}from\"../rasterFunctions/rasterProjectionHelper.js\";const c=new Map,a=new n;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){const n=c.get(e);n[t]=null,n.some((e=>null!=e))||c.delete(e)}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}function g(n,c,a,i,s,u,f=null){const h=y(n,c),m=h.extent,{cache:x,rasterInfo:d}=h;if(m&&m.xmin===a.xmin&&m.xmax===a.xmax&&m.ymin===a.ymin&&m.ymax===a.ymax)return;const g=a.clone().normalize(),{spatialReference:p,transform:k}=d,M=new Set;for(let y=0;y<g.length;y++){const n=g[y];if(n.xmax-n.xmin<=i||n.ymax-n.ymin<=i)continue;let c=o(n,p,f);e(k)&&(c=k.inverseTransform(c));const a=new t({x:i,y:i,spatialReference:n.spatialReference});if(null==s&&!(s=r(a,p,n,f)))return;const{pyramidLevel:h,pyramidResolution:m,excessiveReading:x}=l(s,d,u||\"closest\");if(x)return;const{storageInfo:R}=d,{origin:C}=R,j={x:Math.max(0,Math.floor((c.xmin-C.x)/m.x)),y:Math.max(0,Math.floor((C.y-c.ymax)/m.y))},v=Math.ceil((c.xmax-c.xmin)/m.x-.1),B=Math.ceil((c.ymax-c.ymin)/m.y-.1),b=h>0?R.pyramidBlockWidth:R.blockWidth,w=h>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${h}/${e}/${t}`)}x.forEach(((e,t)=>{if(!M.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),h.extent={xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,g as update};\n"],"sourceRoot":""}