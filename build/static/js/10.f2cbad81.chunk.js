(this["webpackJsonpqp-ampd-app"]=this["webpackJsonpqp-ampd-app"]||[]).push([[10],{971:function(e,r,t){"use strict";t.r(r),t.d(r,"clearBoundingBoxCache",(function(){return j})),t.d(r,"computeIconLayerResourceSize",(function(){return z})),t.d(r,"computeLayerResourceSize",(function(){return O})),t.d(r,"computeLayerSize",(function(){return x})),t.d(r,"computeObjectLayerResourceSize",(function(){return B}));var n=t(7),u=t.n(n),a=t(16),c=t(4),i=t(20),o=t(17),s=t(65),p=t(583),f=t(165),l=(t(15),t(24));function b(e,r){var t=r.isPrimitive,n=r.width,u=r.depth,a=r.height,c=t?10:1;if(null==n&&null==a&&null==u)return[c*e[0],c*e[1],c*e[2]];for(var i,o=Object(l.g)(n,u,a),s=0;s<3;s++){var p=o[s];if(null!=p){i=p/e[s];break}}for(var f=0;f<3;f++)null==o[f]&&(o[f]=e[f]*i);return o}var h=Object(f.l)(-.5,-.5,-.5,.5,.5,.5),d=Object(f.l)(-.5,-.5,0,.5,.5,1),y=Object(f.l)(-.5,-.5,0,.5,.5,.5);function m(e){switch(e){case"sphere":case"cube":case"diamond":return h;case"cylinder":case"cone":case"inverted-cone":return d;case"tetrahedron":return y;default:return}}var v=w();function w(){return new p.a(50)}function j(){v=w()}function O(e,r){if("icon"===e.type)return z(e,r);if("object"===e.type)return B(e,r);throw new i.a("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object")}function x(e,r){return k.apply(this,arguments)}function k(){return(k=Object(a.a)(u.a.mark((function e(r,t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("icon"!==r.type){e.next=2;break}return e.abrupt("return",function(e,r){return z(e,r).then((function(r){if(null==e.size)return r;var t=r[0]/r[1];return t>1?[e.size,e.size/t]:[e.size*t,e.size]}))}(r,t));case 2:if("object"!==r.type){e.next=4;break}return e.abrupt("return",function(){var e=Object(a.a)(u.a.mark((function e(r,t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(r,t);case 2:return n=e.sent,e.abrupt("return",b(n,r));case 4:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()(r,t));case 4:throw new i.a("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,r){return g.apply(this,arguments)}function g(){return(g=Object(a.a)(u.a.mark((function e(r,t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.resource.href){e.next=2;break}return e.abrupt("return",(n=r.resource.href,Object(s.default)(n,{responseType:"image"}).then((function(e){return e.data}))).then((function(e){return[e.width,e.height]})));case 2:if(!r.resource.primitive){e.next=4;break}return e.abrupt("return",Object(c.h)(t)?[t,t]:[256,256]);case 4:throw new i.a("symbol3d:invalid-symbol-layer","symbol layers of type Icon must have either an href or a primitive resource");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,r){return function(){var e=Object(a.a)(u.a.mark((function e(r,n){var a,s,p,l,b,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isPrimitive){e.next=11;break}if(a=r.resource.href,void 0===(s=v.get(a))){e.next=4;break}return e.abrupt("return",Object(o.s)(s));case 4:return e.next=6,t.e(25).then(t.bind(null,1231));case 6:return p=e.sent,e.next=9,p.fetch(a,{disableTextures:!0});case 9:return l=e.sent,e.abrupt("return",(v.put(a,l.referenceBoundingBox),l.referenceBoundingBox));case 11:if(b=null,r.resource&&r.resource.primitive&&(b=Object(f.d)(m(r.resource.primitive)),Object(c.h)(n)))for(h=0;h<b.length;h++)b[h]*=n;return e.abrupt("return",b?Object(o.s)(b):Object(o.r)(new i.a("symbol:invalid-resource","The symbol does not have a valid resource")));case 14:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()(e,r).then((function(e){return Object(f.t)(e)}))}}}]);
//# sourceMappingURL=10.f2cbad81.chunk.js.map