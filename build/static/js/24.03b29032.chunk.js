/*! For license information please see 24.03b29032.chunk.js.LICENSE.txt */
(this["webpackJsonpqp-ampd-app"]=this["webpackJsonpqp-ampd-app"]||[]).push([[24],[function(e,t,n){"use strict";function r(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(14),i=n(18),a=n(142),o=n(179),s=n(476),c=r.a.getLogger("esri.core.accessorSupport.decorators.property");function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){if(t===Function.prototype)throw new Error("Inappropriate use of @property() on a static field: ".concat(t.name,".").concat(n,". Accessor does not support static properties."));var u=Object(o.b)(t,n);r&&(r.get||r.set?(u.get=r.get||u.get,u.set=r.set||u.set):"value"in r&&("value"in e&&c.warn('@property() will redefine the value of "'.concat(n,'" on "').concat(t.constructor.name,'" already defined in the metadata'),e),u.value=e.value=r.value)),null!=e.readOnly&&(u.readOnly=e.readOnly);var l=e.aliasOf;if(l){var f,d="string"==typeof l?l:l.source,p="string"==typeof l?null:!0===l.overridable;u.dependsOn=[d],u.get=function(){var e=Object(a.b)(this,d);if("function"==typeof e){f||(f=d.split(".").slice(0,-1).join("."));var t=Object(a.b)(this,f);t&&(e=e.bind(t))}return e},u.readOnly||(u.set=p?function(e){void 0!==e?this._override(n,e):this._clearOverride(n)}:function(e){Object(s.a)(this,d,e)})}var b=e.type,v=e.types;u.cast||(b?u.cast=function(e){var t=0,n=e;if(Object(i.n)(e))return Object(i.f)(e);for(;Array.isArray(n)&&1===n.length&&"string"!=typeof n[0]&&"number"!=typeof n[0];)n=n[0],t++;var r=n;if(Object(i.o)(r))return 0===t?Object(i.j)(r):Object(i.h)(Object(i.j)(r),t);if(1===t)return Object(i.b)(r);if(t>1)return Object(i.g)(r,t);var a=e;return a.from?a.from:Object(i.m)(a)}(b):v&&(Array.isArray(v)?u.cast=Object(i.c)(Object(i.k)(v[0])):u.cast=Object(i.k)(v))),e.range&&(u.cast=h(u.cast,e.range)),Object(o.c)(u,e)}}function l(e,t,n){var r=Object(o.b)(e,n);r.json||(r.json={});var i=r.json;return void 0!==t&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function h(e,t){return function(n){var r=+e(n);return null!=t.step&&(r=Math.round(r/t.step)*t.step),null!=t.min&&(r=Math.max(t.min,r)),null!=t.max&&(r=Math.min(t.max,r)),r}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return c})),n.d(t,"o",(function(){return u}));var r=n(13);function i(e){return null!=e}function a(e){return null==e}function o(e){return void 0===e}function s(e,t){return i(e)?t(e):null}function c(e){return e}function u(e,t){return i(e)?e:"function"==typeof t?t():t}function l(e){return i(e)&&e.destroy(),null}function h(e){return i(e)&&e.remove(),null}function f(e){return null}function d(e,t){var n,i=new Array,a=Object(r.a)(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;i.push(b(o,null,t))}}catch(s){a.e(s)}finally{a.f()}return i}function p(e,t){var n,i=Object(r.a)(e);try{for(i.s();!(n=i.n()).done;){b(n.value,null,t)}}catch(a){i.e(a)}finally{i.f()}}function b(e,t,n){return i(e)?n(e):t}function v(e,t){return i(e)?t(e):null}function y(e){for(var t=e,n=0,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(;n<i.length&&t;)t=t[i[n++]];return t}function m(e){return e}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(57);var i=n(246);function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(r.a)(e);if(t){var o=Object(r.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}},function(e,t,n){e.exports=n(743)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(13),i=n(2),a=n(246),o=n(40),s=n(5),c=n(6),u=(n(15),n(179)),l=[n(258).a];var h=new Set,f=new Set;function d(e){return function(t){t.prototype.declaredClass=e,function(e,t){var n,i=Object(r.a)(l);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.processPrototypePropertyMetadata)for(var o in e){var s=e[o];a.processPrototypePropertyMetadata(o,s,e,t)}}}catch(c){i.e(c)}finally{i.f()}}(Object(u.a)(t.prototype).properties,e),function(e){var t=e.prototype,n=t.declaredClass,i=Object(u.a)(t).properties;!function(e,t){var n,i=Object(r.a)(l);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.processClassPropertyMetadata)for(var o in e){var s=e[o];a.processClassPropertyMetadata(o,s,e,t)}}}catch(c){i.e(c)}finally{i.f()}}(i,n);var a,o={},s=Object(r.a)(Object.getOwnPropertyNames(i));try{var c=function(){var e=a.value,t=i[e];o[e]={enumerable:!0,configurable:!0,get:p(e,t),set:function(n){var r=this.__accessor__;if(void 0!==r){if(!Object.isFrozen(this)){if(r.initialized&&t.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '".concat(e,"' of ").concat(this.declaredClass));if(2===r.lifecycle&&t.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '".concat(e,"' of ").concat(this.declaredClass));r.set(e,n)}}else Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}}};for(s.s();!(a=s.n()).done;)c()}catch(h){s.e(h)}finally{s.f()}Object.defineProperties(e.prototype,o)}(t);for(var n=[],d=[],b=t.prototype;b;)b.hasOwnProperty("initialize")&&!h.has(b.initialize)&&(h.add(b.initialize),n.push(b.initialize)),b.hasOwnProperty("destroy")&&!f.has(b.destroy)&&(f.add(b.destroy),d.push(b.destroy)),b=Object.getPrototypeOf(b);h.clear(),f.clear();var v=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(){var e;Object(i.a)(this,r);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];if((e=t.call.apply(t,[this].concat(c))).constructor===r&&"function"==typeof e.postscript){var l;if(n.length&&Object.defineProperty(Object(o.a)(e),"initialize",{enumerable:!1,configurable:!0,value:function(){for(var e=n.length-1;e>=0;e--)n[e].call(this)}}),d.length){var h=!1;Object.defineProperty(Object(o.a)(e),"destroy",{enumerable:!1,configurable:!0,value:function(){if(!h){h=!0;for(var e=0;e<d.length;e++)d[e].call(this)}}})}(l=e).postscript.apply(l,c)}return Object(a.a)(e)}return r}(t);return v.__accessorMetadata__=Object(u.a)(t.prototype),v.prototype.declaredClass=e,v}}function p(e,t){return null==t.get?function(){return this.__accessor__.getterStatic(e)}:function(){return this.__accessor__.getterComputed(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return P})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return a})),n.d(t,"n",(function(){return S})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return v})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return E})),n.d(t,"t",(function(){return s})),n.d(t,"u",(function(){return w})),n.d(t,"v",(function(){return I})),n.d(t,"w",(function(){return A})),n.d(t,"x",(function(){return C}));var r=n(24),i=n(67);function a(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function c(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function u(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function l(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function h(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function f(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function d(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}function p(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function b(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function v(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function y(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}function m(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function g(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],c=n[2];return e[0]=i*c-a*s,e[1]=a*o-r*c,e[2]=r*s-i*o,e}function O(e,t,n,r){var i=t[0],a=t[1],o=t[2];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e}function j(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12],e[1]=n[1]*r+n[5]*i+n[9]*a+n[13],e[2]=n[2]*r+n[6]*i+n[10]*a+n[14],e}function w(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e}function _(e,t,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=t[0],c=t[1],u=t[2],l=i*u-a*c,h=a*s-r*u,f=r*c-i*s,d=i*f-a*h,p=a*l-r*f,b=r*h-i*l,v=2*o;return l*=v,h*=v,f*=v,d*=2,p*=2,b*=2,e[0]=s+l+d,e[1]=c+h+p,e[2]=u+f+b,e}var x=Object(r.e)(),k=Object(r.e)();function S(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var E=u,T=l,M=h,C=d,A=p,P=a,I=b;Object.freeze({__proto__:null,length:a,copy:o,set:s,add:c,subtract:u,multiply:l,divide:h,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:f,scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},distance:d,squaredDistance:p,squaredLength:b,negate:v,inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},normalize:y,dot:m,cross:g,lerp:O,hermite:function(e,t,n,r,i,a){var o=a*a,s=o*(2*a-3)+1,c=o*(a-2)+a,u=o*(a-1),l=o*(3-2*a);return e[0]=t[0]*s+n[0]*c+r[0]*u+i[0]*l,e[1]=t[1]*s+n[1]*c+r[1]*u+i[1]*l,e[2]=t[2]*s+n[2]*c+r[2]*u+i[2]*l,e},bezier:function(e,t,n,r,i,a){var o=1-a,s=o*o,c=a*a,u=s*o,l=3*a*s,h=3*c*o,f=c*a;return e[0]=t[0]*u+n[0]*l+r[0]*h+i[0]*f,e[1]=t[1]*u+n[1]*l+r[1]*h+i[1]*f,e[2]=t[2]*u+n[2]*l+r[2]*h+i[2]*f,e},random:function(e,t){t=t||1;var n=2*Object(i.b)()*Math.PI,r=2*Object(i.b)()-1,a=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*a,e[1]=Math.sin(n)*a,e[2]=r*t,e},transformMat4:j,transformMat3:w,transformQuat:_,rotateX:function(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e},rotateY:function(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e},rotateZ:function(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e},angle:function(e,t){o(x,e),o(k,t),y(x,x),y(k,k);var n=m(x,k);return n>1?0:n<-1?Math.PI:Math.acos(n)},str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},exactEquals:S,equals:function(e,t){var n=e[0],r=e[1],a=e[2],o=t[0],s=t[1],c=t[2];return Math.abs(n-o)<=i.a*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=i.a*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-c)<=i.a*Math.max(1,Math.abs(a),Math.abs(c))},sub:E,mul:T,div:M,dist:C,sqrDist:A,len:P,sqrLen:I})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(28);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function e(t,n){for(var r=0,i=t.length;r<i;r++){var a=t[r];Array.isArray(a)?e(a,n):null!=a&&!1!==a&&(a.hasOwnProperty("vnodeSelector")||(a={vnodeSelector:"",properties:void 0,children:void 0,text:a.toString(),domNode:null}),n.push(a))}},i=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(1===n.length&&"string"==typeof n[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:n[0],domNode:null};var a=[];return r(n,a),{vnodeSelector:e,properties:t||void 0,children:a,text:void 0,domNode:null}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return P})),n.d(t,"c",(function(){return R})),n.d(t,"d",(function(){return de})),n.d(t,"e",(function(){return pe})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return le})),n.d(t,"i",(function(){return ee})),n.d(t,"j",(function(){return Z})),n.d(t,"k",(function(){return ce})),n.d(t,"l",(function(){return V})),n.d(t,"m",(function(){return J})),n.d(t,"n",(function(){return be})),n.d(t,"o",(function(){return N})),n.d(t,"p",(function(){return A})),n.d(t,"q",(function(){return U})),n.d(t,"r",(function(){return F})),n.d(t,"s",(function(){return K})),n.d(t,"t",(function(){return X})),n.d(t,"u",(function(){return Q})),n.d(t,"v",(function(){return ne})),n.d(t,"w",(function(){return B})),n.d(t,"x",(function(){return Y})),n.d(t,"y",(function(){return q})),n.d(t,"z",(function(){return te})),n.d(t,"A",(function(){return H})),n.d(t,"B",(function(){return W})),n.d(t,"C",(function(){return C})),n.d(t,"D",(function(){return T})),n.d(t,"E",(function(){return se})),n.d(t,"F",(function(){return fe})),n.d(t,"G",(function(){return ue})),n.d(t,"H",(function(){return ie})),n.d(t,"I",(function(){return E}));var r=n(32),i=n(10),a=n(13),o=n(2),s=n(3),c=(n(58),n(106)),u=n(4),l=n(14),h=n(20),f=l.a.getLogger("esri.core.urlUtils"),d=c.a.request,p="esri/config: esriConfig.request.proxyUrl is not set.",b=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,v=/^\s*http:/i,y=/^\s*https:/i,m=/^\s*file:/i,g=/:\d+$/,O=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,j=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),w=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(o.a)(this,e),this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;var n=Object(u.c)(this.uri.match(j));this.scheme=n[2]||(n[1]?"":null),this.authority=n[4]||(n[3]?"":null),this.path=n[5],this.query=n[7]||(n[6]?"":null),this.fragment=n[9]||(n[8]?"":null),null!=this.authority&&(n=Object(u.c)(this.authority.match(w)),this.user=n[3]||null,this.password=n[4]||null,this.host=n[6]||n[7],this.port=n[9]||null)}return Object(s.a)(e,[{key:"toString",value:function(){return this.uri}}]),e}(),x=new _(c.a.applicationUrl),k={},S=function(){var e=Object(u.c)(x.path),t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return"".concat("".concat(x.scheme,"://").concat(x.host).concat(null!=x.port?":".concat(x.port):""),t)}();function E(e){var t={path:null,query:null},n=new _(e),r=e.indexOf("?");return null===n.query?t.path=e:(t.path=e.substring(0,r),t.query=T(n.query)),n.fragment&&(t.hash=n.fragment,null===n.query&&(t.path=t.path.substring(0,t.path.length-(n.fragment.length+1)))),t}function T(e){var t,n=e.split("&"),r={},i=Object(a.a)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o){var s=o.indexOf("="),c=void 0,u=void 0;s<0?(c=decodeURIComponent(o),u=""):(c=decodeURIComponent(o.slice(0,s)),u=decodeURIComponent(o.slice(s+1)));var l=r[c];"string"==typeof l&&(l=r[c]=[l]),Array.isArray(l)?l.push(u):r[c]=u}}}catch(h){i.e(h)}finally{i.f()}return r}function M(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function C(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((function(n){return encodeURIComponent(n)+"="+encodeURIComponent(t(n,e[n]))})).join("&"):Object.keys(e).map((function(n){var r=e[n];if(null==r)return"";var i=encodeURIComponent(n)+"=",a=t&&t[n];return a?i+encodeURIComponent(a(r)):Array.isArray(r)?r.map((function(e){return M(e)?i+encodeURIComponent(JSON.stringify(e)):i+encodeURIComponent(e)})).join("&"):M(r)?i+encodeURIComponent(JSON.stringify(r)):i+encodeURIComponent(r)})).filter((function(e){return e})).join("&"):""}function A(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=d.proxyUrl;if("string"==typeof n){t=n,e=y.test(t)||"https"===x.scheme&&ne(t);var i=N(n);i&&(r=i.proxyUrl)}else e=!!n;if(!r)throw f.warn(p),new h.a("urlutils:proxy-not-set",p);return e&&ae()&&(r=ie(r)),E(r)}function P(e){var t,n,r=N(e);if(r){var a=D(r.proxyUrl);t=a.path,n=a.query?T(a.query):null}if(t){var o=E(e);e=t+"?"+o.path;var s=C(Object(i.a)(Object(i.a)({},n),o.query));s&&(e="".concat(e,"?").concat(s))}return e}var I={path:"",query:""};function D(e){var t=e.indexOf("?");return-1!==t?(I.path=e.slice(0,t),I.query=e.slice(t+1)):(I.path=e,I.query=null),I}function L(e){return(e=oe(e=function(e){return e&&"/"===e[e.length-1]?e:"".concat(e,"/")}(e=D(e).path),!0)).toLowerCase()}function R(e){for(var t={proxyUrl:e.proxyUrl,urlPrefix:L(e.urlPrefix)},n=d.proxyRules,r=t.urlPrefix,i=n.length,a=0;a<n.length;a++){var o=n[a].urlPrefix;if(0===r.indexOf(o)){if(r.length===o.length)return-1;i=a;break}0===o.indexOf(r)&&(i=a+1)}return n.splice(i,0,t),i}function N(e){for(var t=d.proxyRules,n=L(e),r=0;r<t.length;r++)if(0===n.indexOf(t[r].urlPrefix))return t[r]}function F(e,t){return e=z(e),t=z(t),oe(e)===oe(t)}function z(e){var t=(e=W(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function V(e){var t=function(t){return null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&e.startsWith(t)},n=d.interceptors;if(n){var r,i=Object(a.a)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(Array.isArray(o.urls)){if(o.urls.some(t))return o}else if(t(o.urls))return o}}catch(s){i.e(s)}finally{i.f()}}return null}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=he(e),i=he(t);return!(!n&&r.scheme!==i.scheme)&&null!=r.host&&null!=i.host&&r.host.toLowerCase()===i.host.toLowerCase()&&r.port===i.port}function B(e){if("string"==typeof e){if(!K(e))return!0;e=he(e)}if(U(e,x))return!0;for(var t=d.trustedServers||[],n=0;n<t.length;n++)for(var r=G(t[n]),i=0;i<r.length;i++)if(U(e,r[i]))return!0;return!1}function G(e){return k[e]||(re(e)||ne(e)?k[e]=[new _(q(e))]:k[e]=[new _("http://".concat(e)),new _("https://".concat(e))]),k[e]}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,n=arguments.length>2?arguments[2]:void 0;return ne(e)?n&&n.preserveProtocolRelative?e:"http"===x.scheme&&x.authority===J(e).slice(2)?"http:".concat(e):"https:".concat(e):re(e)?e:Object(u.c)(Y("/"===e[0]?function(e){var t=e.indexOf("//"),n=e.indexOf("/",t+2);return-1===n?e:e.slice(0,n)}(t):t,e))}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,n=arguments.length>2?arguments[2]:void 0;if(!K(e))return e;var r=W(e),i=r.toLowerCase(),a=W(t).toLowerCase().replace(/\/+$/,""),o=n?W(n).toLowerCase().replace(/\/+$/,""):null;if(o&&0!==a.indexOf(o))return e;for(var s=function(e,t,n){return-1===(n=e.indexOf(t,n))?e.length:n},c=s(i,"/",i.indexOf("//")+2),u=-1;i.slice(0,c+1)===a.slice(0,c)+"/"&&(u=c+1,c!==i.length);)c=s(i,"/",c+1);if(-1===u)return e;if(o&&u<o.length)return e;e=r.slice(u);var l=a.slice(u-1).replace(/[^/]+/g,"").length;if(l>0)for(var h=0;h<l;h++)e="../".concat(e);else e="./".concat(e);return e}function W(e){return function(e){var t=d.httpsDomains;if(!function(e){return v.test(e)||"http"===x.scheme&&ne(e)}(e))return e;var n,r=e.indexOf("/",7);if(n=(n=-1===r?e:e.slice(0,r)).toLowerCase().slice(7),g.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return"http"!==x.scheme||n!==x.authority||O.test(e)?((ae()&&n===x.authority||t&&t.some((function(e){return n===e||n.endsWith(".".concat(e))}))||ae()&&!N(e))&&(e=ie(e)),e):e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){var t=D(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+="?".concat(t.query))}return e}(e=q(e=e.trim()))))}function Y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(u.h);if(r&&r.length){var i,a=[];if(K(r[0])){var o=r[0],s=o.indexOf("//");-1!==s&&(a.push(o.slice(0,s+1)),i=r[0],m.test(i)&&(a[0]+="/"),r[0]=o.slice(s+2))}else"/"===r[0][0]&&a.push("");for(var c=r.reduce((function(e,t){return t?e.concat(t.split("/")):e}),[]),l=0;l<c.length;l++){var h=c[l];".."===h&&a.length>0&&".."!==a[a.length-1]?a.pop():(!h&&l===c.length-1||h&&("."!==h||0===a.length))&&a.push(h)}return a.join("/")}}function J(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(X(e)||Q(e))return null;var n=e.indexOf("://");if(-1===n&&ne(e))n=2;else{if(-1===n)return null;n+=3}var r=e.indexOf("/",n);return-1!==r&&(e=e.slice(0,r)),t&&(e=oe(e,!0)),e}function K(e){return ne(e)||re(e)}function X(e){return null!=e&&"blob:"===e.slice(0,5)}function Q(e){return"data:"===e.slice(0,5)}function Z(e){var t=ee(e);if(!t||!t.isBase64)return null;for(var n=atob(t.data),r=new Uint8Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r.buffer}var $=/^data:(.*?)(;base64)?,(.*)$/;function ee(e){var t=e.match($);if(!t)return null;var n=Object(r.a)(t,4);return{mediaType:n[1],isBase64:!!n[2],data:n[3]}}function te(e){return e.isBase64?"data:".concat(e.mediaType,";base64,").concat(e.data):"data:".concat(e.mediaType,",").concat(e.data)}function ne(e){return null!=e&&void 0!==e&&"/"===e[0]&&"/"===e[1]}function re(e){return b.test(e)}function ie(e){return ne(e)?"https:".concat(e):e.replace(v,"https:")}function ae(){return"https"===x.scheme}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ne(e)?e.slice(2):(e=e.replace(b,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function se(e){var t=0;if(K(e)){var n=e.indexOf("//");-1!==n&&(t=n+2)}var r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function ce(e,t){if(!e)return"";var n=E(e).path.replace(/\/+$/,""),r=n.substring(n.lastIndexOf("/")+1);if(null==t||!t.length)return r;var i=new RegExp(".(".concat(t.join("|"),")$"),"ig");return r.replace(i,"")}function ue(e){return e.replace(/\/+$/,"")}function le(e,t,n){if(!(t&&n&&e&&K(e)))return e;var r=e.indexOf("//"),i=e.indexOf("/",r+2),a=e.indexOf(":",r+2),o=Math.min(i<0?e.length:i,a<0?e.length:a);return e.slice(r+2,o).toLowerCase()!==t.toLowerCase()?e:"".concat(e.slice(0,r+2)).concat(n).concat(e.slice(o))}function he(e){return"string"==typeof e?new _(q(e)):(e.scheme||(e.scheme=x.scheme),e)}function fe(e,t){var n=E(e),r=Object.keys(n.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: ".concat(r.join(", "),".")),n.path}function de(e,t,n){var r=E(e),i=r.query||{};return i[t]=String(n),"".concat(r.path,"?").concat(C(i))}function pe(e,t){var n=E(e),r=n.query||{};for(var i in t)r[i]=t[i];var a=C(r);return a?"".concat(n.path,"?").concat(a):n.path}function be(e){if(Object(u.g)(e))return null;var t=e.match(ve);return t?t[1]:null}var ve=/.*?\.([^\/]*)$/},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(356);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}},function(e,t,n){"use strict";var r=n(13),i=n(2),a=n(3),o=(n(15),n(106)),s=n(4),c=n(125),u={info:0,warn:1,error:2,none:3},l=function(){function e(t){Object(i.a)(this,e),this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=t.level&&(this.level=t.level),null!=t.writer&&(this.writer=t.writer),this._module=t.module,e._loggers[this.module]=this;var n=this.module.lastIndexOf(".");-1!==n&&(this._parent=e.getLogger(this.module.slice(0,n)))}return Object(a.a)(e,[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log.apply(this,["error","always"].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log.apply(this,["warn","always"].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log.apply(this,["info","always"].concat(t))}},{key:"errorOnce",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log.apply(this,["error","once"].concat(t))}},{key:"warnOnce",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log.apply(this,["warn","once"].concat(t))}},{key:"infoOnce",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log.apply(this,["info","once"].concat(t))}},{key:"errorOncePerTick",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log.apply(this,["error","oncePerTick"].concat(t))}},{key:"warnOncePerTick",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log.apply(this,["warn","oncePerTick"].concat(t))}},{key:"infoOncePerTick",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log.apply(this,["info","oncePerTick"].concat(t))}},{key:"_log",value:function(t,n){if(this._matchLevel(t)){for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];if("always"!==n&&!e._throttlingDisabled){var c=this._argsToKey(a),u=this._loggedMessages[t].get(c);if("once"===n&&null!=u||"oncePerTick"===n&&u&&u>=e._tickCounter)return;this._loggedMessages[t].set(c,e._tickCounter),e._scheduleTickCounterIncrement()}var l,h=Object(r.a)(o.a.log.interceptors);try{for(h.s();!(l=h.n()).done;){var f=l.value;if(f.apply(void 0,[t,this.module].concat(a)))return}}catch(d){h.e(d)}finally{h.f()}this._inheritedWriter().apply(void 0,[t,this.module].concat(a))}}},{key:"_parentWithMember",value:function(e,t){for(var n=this;Object(s.h)(n);){var r=n[e];if(Object(s.h)(r))return r;n=n.parent}return t}},{key:"_inheritedWriter",value:function(){return this._parentWithMember("writer",this._consoleWriter)}},{key:"_consoleWriter",value:function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];(n=console)[e].apply(n,["[".concat(t,"]")].concat(i))}},{key:"_matchLevel",value:function(e){var t=o.a.log.level?o.a.log.level:"warn";return u[this._parentWithMember("level",t)]<=u[e]}},{key:"_argsToKey",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(c.b)(JSON.stringify(t,(function(e,t){return"object"!=typeof t||Array.isArray(t)?t:"[Object]"})))}}],[{key:"test",get:function(){return{resetLoggers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e._loggers;return e._loggers=t,n},set throttlingDisabled(t){e._throttlingDisabled=t}}}},{key:"getLogger",value:function(t){var n=e._loggers[t];return n||(n=new e({module:t})),n}},{key:"_scheduleTickCounterIncrement",value:function(){e._tickCounterScheduled||(e._tickCounterScheduled=!0,Promise.resolve().then((function(){e._tickCounter++,e._tickCounterScheduled=!1})))}}]),e}();l._loggers={},l._tickCounter=0,l._tickCounterScheduled=!1,l._throttlingDisabled=!1,t.a=l},function(e,t,n){"use strict";var r,i,a,o,s,c=n(10),u=n(58);function l(e){return"function"==typeof a[e]?a[e]=a[e](u.a):a[e]}a=null!=(r=u.a.dojoConfig)&&r.has||null!=(i=u.a.esriConfig)&&i.has?Object(c.a)(Object(c.a)({},null==(o=u.a.dojoConfig)?void 0:o.has),null==(s=u.a.esriConfig)?void 0:s.has):{},l.add=function(e,t,n,r){return(r||void 0===a[e])&&(a[e]=t),n&&l(e)},l.cache=a,l.add("esri-deprecation-warnings",!0),l.add("esri-featurelayer-webgl",!0),l.add("esri-featurelayer-webgl-labeling",!0),function(){l.add("host-webworker",void 0!==u.a.WorkerGlobalScope&&self instanceof u.a.WorkerGlobalScope);var e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(l.add("host-browser",e),l.add("host-node","object"==typeof u.a.process&&u.a.process.versions&&u.a.process.versions.node&&u.a.process.versions.v8),l.add("dom",e),l("host-browser")){var t=navigator,n=t.userAgent,r=t.appVersion,i=parseFloat(r);if(l.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),l.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),l.add("khtml",r.indexOf("Konqueror")>=0?i:void 0),l.add("edge",parseFloat(n.split("Edge/")[1])||void 0),l.add("opr",parseFloat(n.split("OPR/")[1])||void 0),l.add("webkit",!l("wp")&&!l("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),l.add("chrome",!l("edge")&&!l("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),l.add("android",!l("wp")&&parseFloat(n.split("Android ")[1])||void 0),l.add("safari",!(r.indexOf("Safari")>=0)||l("wp")||l("chrome")||l("android")||l("edge")||l("opr")?void 0:parseFloat(r.split("Version/")[1])),l.add("mac",r.indexOf("Macintosh")>=0),l.add("quirks","BackCompat"===document.compatMode),!l("wp")&&n.match(/(iPhone|iPod|iPad)/)){var a=RegExp.$1.replace(/P/,"p"),o=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(o.replace(/_/,".").replace(/_/g,""));l.add(a,s),l.add("ios",s)}l.add("trident",parseFloat(r.split("Trident/")[1])||void 0),l.add("svg","undefined"!=typeof SVGAngle),l("webkit")||(n.indexOf("Opera")>=0&&l.add("opera",i>=9.8&&parseFloat(n.split("Version/")[1])||i),!(n.indexOf("Gecko")>=0)||l("wp")||l("khtml")||l("trident")||l("edge")||l.add("mozilla",i),l("mozilla")&&l.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}}(),function(){if(u.a.navigator){var e=navigator.userAgent,t=e.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),n=e.match(/iPhone/i);t&&l.add("esri-mobile",t),n&&l.add("esri-iPhone",n),l.add("esri-geolocation",!!navigator.geolocation)}l.add("esri-canvas-svg-support",!l("trident")),l.add("esri-secure-context",(function(){return"isSecureContext"in u.a?u.a.isSecureContext:u.a.location&&u.a.location.origin?0===u.a.location.origin.indexOf("https:"):void 0})),l.add("esri-wasm","WebAssembly"in u.a),l.add("esri-shared-array-buffer",(function(){var e="SharedArrayBuffer"in u.a,t=!1===u.a.crossOriginIsolated;return e&&!t})),l.add("esri-atomics","Atomics"in u.a),l.add("esri-workers","Worker"in u.a),l.add("esri-text-decoder","TextDecoder"in u.a),l.add("esri-text-encoder","TextEncoder"in u.a),l.add("featurelayer-advanced-symbols",!1),l.add("featurelayer-pbf",!0),l.add("featurelayer-pbf-statistics",!1),l.add("feature-layers-workers",!0),l.add("mapview-transitions-duration",200),l("host-webworker")||l("host-browser")&&(l.add("csp-restrictions",(function(){try{new Function}catch(e){return!0}return!1})),l.add("esri-image-decode",(function(){if("decode"in new Image){var e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((function(){l.add("esri-image-decode",!0,!0,!0)})).catch((function(){l.add("esri-image-decode",!1,!0,!0)}))}return!1})),l.add("esri-url-encodes-apostrophe",(function(){var e=u.a.document.createElement("a");return e.href="?'",e.href.indexOf("?%27")>-1})),l.add("vectortilelayer-max-buffers",(function(){return l("ff")?160:Number.POSITIVE_INFINITY})))}(),t.a=l},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,c,"next",e)}function c(e){r(o,i,a,s,c,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return D})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return w})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return A})),n.d(t,"o",(function(){return S})),n.d(t,"p",(function(){return g})),n.d(t,"q",(function(){return O})),n.d(t,"r",(function(){return T})),n.d(t,"s",(function(){return M})),n.d(t,"t",(function(){return y})),n.d(t,"u",(function(){return p})),n.d(t,"v",(function(){return m})),n.d(t,"w",(function(){return P})),n.d(t,"x",(function(){return j}));var r=n(38),i=n(13),a=n(4),o=n(14),s=n(20),c=n(474),u=n(122);o.a.getLogger("esri");function l(e){return Promise.all(e)}function h(e){return new Promise((function(t,n){try{e(t,n)}catch(e){Promise.resolve().then((function(){return n(e)}))}}))}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Aborted";return new s.a("AbortError",e)}function d(){return new AbortController}function p(e){if(v(e))throw f()}function b(e){return Object(a.h)(e)?"aborted"in e?e:e.signal:e}function v(e){var t=b(e);return Object(a.h)(t)&&t.aborted}function y(e){if(w(e))throw e}function m(e){if(!w(e))throw e}function g(e,t){var n=b(e);if(!Object(a.g)(n)){if(!n.aborted)return Object(u.d)(n,"abort",(function(){return t()}));t()}}function O(e,t){var n=b(e);if(!Object(a.g)(n))return p(n),Object(u.d)(n,"abort",(function(){return t(f())}))}function j(e,t){var n=b(t);return Object(a.g)(n)?e:h((function(n,r){var i=g(t,(function(){return r(f())})),o=function(){return i=Object(a.m)(i)};e.then(o,o),e.then(n,r)}))}function w(e){return e&&"AbortError"===e.name}function _(e){return e.catch((function(e){if(!w(e))throw e}))}function x(){var e=null,t=h((function(t,n){e={promise:void 0,resolve:t,reject:n}}));return e.promise=t,e}function k(e,t){if(e){if("function"!=typeof e.forEach){var n=Object.keys(e);return k(n.map((function(t){return e[t]}))).then((function(e){var t={};return n.forEach((function(n,r){return t[n]=e[r]})),t}))}var r=e,i=M;return j(h((function(e){var t=[],n=r.length;0===n&&e(t),r.forEach((function(r){var a={promise:r||i(r)};t.push(a),a.promise.then((function(e){a.value=e})).catch((function(e){a.error=e})).then((function(){0===--n&&e(t)}))}))})),t)}}function S(e){return e&&"function"==typeof e.then}function E(e){return e&&e.length?h((function(t,n){var r,a=Object(i.a)(e);try{for(a.s();!(r=a.n()).done;){r.value.then(t,n)}}catch(o){a.e(o)}finally{a.f()}})):M()}function T(e){return Promise.reject(e)}function M(e){return Promise.resolve(e)}function C(e,t,n){var r=d();return g(n,(function(){return r.abort()})),h((function(n,i){var a=setTimeout((function(){a=0,n(t)}),e);g(r,(function(){a&&(clearTimeout(a),i(f()))}))}))}function A(e){return e&&"function"==typeof e.then}function P(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then?e:M(e)}function I(e){var t,n,i,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,c=null,u=function u(){for(var l=arguments.length,h=new Array(l),p=0;p<l;p++)h[p]=arguments[p];if(t){n=h,o&&o.reject(f()),o=x();var b=Object(a.c)(o.promise);if(c){var v=c;c=null,v.abort()}return b}if(i=o||x(),o=null,s>0){var y=d(),m=t=P(e.apply(void 0,h.concat([y.signal])));C(s).then((function(){t===m&&(o?y.abort():c=y)}))}else t=1,t=P(e.apply(void 0,h));var g=function(){var e=n;n=i=t=c=null,null!=e&&u.apply(void 0,Object(r.a)(e))},O=t,j=i;return O.then(g,g),O.then(j.resolve,j.reject),Object(a.c)(j.promise)};return u}function D(){var e,t,n=h((function(n,r){e=n,t=r})),r=function(t){e(t)};return r.resolve=function(t){return e(t)},r.reject=function(e){return t(e)},r.timeout=function(e,t){return c.a.setTimeout((function(){return r.reject(t)}),e)},r.promise=n,r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return C})),n.d(t,"o",(function(){return k})),n.d(t,"p",(function(){return M}));var r=n(2),i=n(13),a=(n(15),n(14).a.getLogger("esri.core.Accessor"));function o(e){return null==e?e:new Date(e)}function s(e){return null==e?e:!!e}function c(e){return null==e?e:e.toString()}function u(e){return null==e?e:(e=parseFloat(e),isNaN(e)?0:e)}function l(e){return null==e?e:Math.round(parseFloat(e))}function h(e){return e&&e.constructor&&void 0!==e.constructor.__accessorMetadata__}function f(e,t){return null!=t&&e&&!(t instanceof e)}function d(e){return e&&"isCollection"in e}function p(e){return e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function b(e,t){return!!h(t)&&(a.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+y(e)+"'"),!0)}function v(e,t){return null==t?t:d(e)?function(e,t){if(!t||!t.constructor||!d(t.constructor))return b(e,t)?t:new e(t);var n=p(e.prototype.itemType),r=p(t.constructor.prototype.itemType);return n?r?n===r?t:n.prototype.isPrototypeOf(r.prototype)?new e(t):(b(e,t),t):new e(t):t}(e,t):f(e,t)?b(e,t)?t:new e(t):t}function y(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}function m(e){switch(e){case Number:return u;case T:return l;case Boolean:return s;case String:return c;case Date:return o;default:return v.bind(null,e)}}function g(e,t){var n=m(e);return 1===arguments.length?n:n(t)}function O(e,t,n){return 1===arguments.length?O.bind(null,e):t?Array.isArray(t)?t.map((function(t){return e(t,n)})):[e(t,n)]:t}function j(e,t){return 1===arguments.length?O(g.bind(null,e)):O(g.bind(null,e),t)}function w(e,t,n){return 0!==t&&Array.isArray(n)?n.map((function(n){return w(e,t-1,n)})):e(n)}function _(e,t,n){if(2===arguments.length)return _.bind(null,e,t);if(!n)return n;for(var r=t,i=n=w(e,t,n);r>0&&Array.isArray(i);)r--,i=i[0];if(void 0!==i)for(var a=0;a<r;a++)n=[n];return n}function x(e,t,n){return 2===arguments.length?_(g.bind(null,e),t):_(g.bind(null,e),t,n)}function k(e){return!!Array.isArray(e)&&!e.some((function(t){var n=typeof t;return!("string"===n||"number"===n||"function"===n&&e.length>1)}))}function S(e,t){if(2===arguments.length)return S(e).call(null,t);var n,r=new Set,o=e.filter((function(e){return"function"!=typeof e})),s=e.filter((function(e){return"function"==typeof e})),c=Object(i.a)(e);try{for(c.s();!(n=c.n()).done;){var u=n.value;"string"!=typeof u&&"number"!=typeof u||r.add(u)}}catch(d){c.e(d)}finally{c.f()}var l=null,h=null;return function(e,t){if(null==e)return e;var n=typeof e,i="string"===n||"number"===n;return i&&(r.has(e)||s.some((function(e){return"string"===n&&e===String||"number"===n&&e===Number})))||"object"===n&&s.some((function(t){return!f(e,t)}))?e:(i&&o.length?(l||(l=o.map((function(e){return"string"==typeof e?"'".concat(e,"'"):"".concat(e)})).join(", ")),a.error("Accessor#set","'".concat(e,"' is not a valid value for this property, only the following values are valid: ").concat(l))):"object"==typeof e&&s.length?(h||(h=s.map((function(e){return y(e)})).join(", ")),a.error("Accessor#set","'".concat(e,"' is not a valid value for this property, value must be one of ").concat(h))):a.error("Accessor#set","'".concat(e,"' is not a valid value for this property")),t&&(t.valid=!1),null)}}function E(e,t){if(2===arguments.length)return E(e).call(null,t);var n={},r=[],i=[];for(var o in e.typeMap){var s=e.typeMap[o];n[o]=g(s),r.push(y(s)),i.push(o)}var c=function(){return"'".concat(r.join("', '"),"'")},u=function(){return"'".concat(i.join("', '"),"'")},l="string"==typeof e.key?function(t){return t[e.key]}:e.key;return function(t){if(e.base&&!f(e.base,t))return t;if(null==t)return t;var r=l(t)||e.defaultKeyValue,i=n[r];if(!i)return a.error("Accessor#set","Invalid property value, value needs to be one of ".concat(c(),", or a plain object that can autocast (having .type = ").concat(u(),")")),null;if(!f(e.typeMap[r],t))return t;if("string"==typeof e.key&&!h(t)){var o={};for(var s in t)s!==e.key&&(o[s]=t[s]);return i(o)}return i(t)}}var T=function e(){Object(r.a)(this,e)},M={native:function(e){return{type:"native",value:e}},array:function(e){return{type:"array",value:e}},oneOf:function(e){return{type:"one-of",values:e}}};function C(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function A(e){switch(e.type){case"native":return g(e.value);case"array":return O(A(e.value));case"one-of":return function(e){var t=null;return function(n,r){return I(n,e)?n:(null==t&&(t=P(e)),a.error("Accessor#set","Invalid property value, value needs to be of type ".concat(t)),r&&(r.valid=!1),null)}}(e);default:return null}}function P(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case T:return"integer";case Date:return"date";default:return y(e.value)}case"array":return"array of ".concat(P(e.value));case"one-of":var t=e.values.map((function(e){return P(e)}));return"one of ".concat(t.slice(0,t.length-1)," or ").concat(t[t.length-1])}return"unknown"}function I(e,t){if(null==e)return!0;switch(t.type){case"native":switch(t.value){case Number:case T:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case String:return"string"==typeof e}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((function(e){return!I(e,t.value)}));case"one-of":return t.values.some((function(t){return I(e,t)}))}}},function(e,t,n){"use strict";e.exports=n(735)},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(246),o=n(40),s=n(5),c=n(6),u=n(23),l=n(14),h=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,i,s){var c;return Object(r.a)(this,n),c=t.call(this,e,i,s),Object(o.a)(c)instanceof n?Object(a.a)(c):Object(a.a)(c,new n(e,i,s))}return Object(i.a)(n,[{key:"toJSON",value:function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(function(e,t){if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return Object(u.a)(t)}catch(n){return"[object]"}})))}}catch(e){throw l.a.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}}],[{key:"fromJSON",value:function(e){return new n(e.name,e.message,e.details)}}]),n}(n(473).a);h.prototype.type="error",t.a=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(58);function i(){var e=a.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var t=function(t){return e[t].toString(16)};return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}var a=r.a.crypto||r.a.msCrypto},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(12);function i(e){return a[function(e){return e instanceof Blob?e.type:function(e){var t=Object(r.n)(e);return c[t]||o}(e.url)}(e)]||s}var a={},o="text/plain",s=a[o],c={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(var u in c)a[c[u]]=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s}));var r=n(111);function i(e,t){var n;if(t)for(n in e)e.hasOwnProperty(n)&&(void 0===e[n]?delete e[n]:e[n]instanceof Object&&i(e[n],!0));else for(n in e)e.hasOwnProperty(n)&&void 0===e[n]&&delete e[n];return e}function a(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(Object(r.h)(e)||Object(r.k)(e)||Object(r.l)(e)||Object(r.f)(e)||Object(r.i)(e)||Object(r.g)(e)||Object(r.j)(e)||Object(r.d)(e)||Object(r.e)(e))return Object(r.m)(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){var t=new Map;return e.forEach((function(e,n){t.set(n,a(e))})),t}if(e instanceof Set){var n=new Set;return e.forEach((function(e){n.add(a(e))})),n}var i=e;return"function"==typeof i.clone?i.clone():"function"==typeof i.map&&"function"==typeof i.forEach?i.map(a):"function"==typeof i.notifyChange&&"function"==typeof i.watch?i.clone():c({},e,a)}function o(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}function s(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];c(e,o)}return e}function c(e,t,n){var r,i,a={};for(r in t){i=t[r];var o=!(r in a)||a[r]!==i;(!(r in e)||e[r]!==i&&o)&&(e[r]=n?n(i):i)}return e}},function(e,t,n){"use strict";function r(){return[0,0,0]}function i(e){return[e[0],e[1],e[2]]}function a(e,t,n){return[e,t,n]}function o(e){for(var t=[0,0,0],n=Math.min(3,e.length),r=0;r<n;++r)t[r]=e[r];return t}function s(e,t){return new Float64Array(e,t,3)}function c(){return a(1,1,1)}function u(){return a(1,0,0)}function l(){return a(0,1,0)}function h(){return a(0,0,1)}n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return a}));var f=[0,0,0],d=c(),p=u(),b=l(),v=h();Object.freeze({__proto__:null,create:r,clone:i,fromValues:a,fromArray:o,createView:s,zeros:function(){return[0,0,0]},ones:c,unitX:u,unitY:l,unitZ:h,ZEROS:f,ONES:d,UNIT_X:p,UNIT_Y:b,UNIT_Z:v})},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return O}));var r=n(2),i=n(3),a=n(44),o=(n(24),n(87),n(72),n(116)),s=n(53),c=(n(90),Object(o.c)(),function(){function e(t){Object(r.a)(this,e),this.message=t}return Object(i.a)(e,[{key:"toString",value:function(){return"AssertException: ".concat(this.message)}}]),e}()),u={POSITION:"position",NORMAL:"normal",UV0:"uv0",UVMAPSPACE:"uvMapSpace",MEANVERTEXPOSITION:"meanVertexPosition",AUXPOS1:"auxpos1",AUXPOS2:"auxpos2",BOUND1:"bound1",BOUND2:"bound2",BOUND3:"bound3",COLOR:"color",SYMBOLCOLOR:"symbolColor",SIZE:"size",TANGENT:"tangent"};function l(e,t){if(!e){t=t||"assert";var n=new Error(t);throw n.stack&&console.log(n.stack),new c(t)}}function h(e,t,n,r){var i,a=(n[0]-e[0])/t[0],o=(r[0]-e[0])/t[0];a>o&&(i=a,a=o,o=i);var s=(n[1]-e[1])/t[1],c=(r[1]-e[1])/t[1];if(s>c&&(i=s,s=c,c=i),a>c||s>o)return!1;s>a&&(a=s),c<o&&(o=c);var u=(n[2]-e[2])/t[2],l=(r[2]-e[2])/t[2];return u>l&&(i=u,u=l,l=i),!(a>l||u>o)&&(l<o&&(o=l),!(o<0))}function f(e){return e[function(e){for(var t in e)return t}(e)]}function d(e,t,n,r){e[12]=t,e[13]=n,e[14]=r}function p(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]&&0===e[8]&&0===e[9]&&1===e[10]&&0===e[11]&&1===e[15]}function b(e,t,n){return 2*Math.atan(Math.sqrt(t*t+n*n)*Math.tan(.5*e)/t)}function v(e,t,n){return 2*Math.atan(Math.sqrt(t*t+n*n)*Math.tan(.5*e)/n)}function y(e,t,n){return 2*Math.atan(t*Math.tan(.5*e)/Math.sqrt(t*t+n*n))}function m(e,t,n){return 2*Math.atan(n*Math.tan(.5*e)/Math.sqrt(t*t+n*n))}function g(e,t){for(var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Object(a.d)(e,0,_),o=0;o<4;o++)t[r+o]=Math.floor(256*((n=i*j[o])-Math.floor(n)))}function O(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0,r=0;r<4;r++)n+=e[t+r]*w[r];return n}var j=[1,256,65536,16777216],w=[1/256,1/65536,1/16777216,1/4294967296],_=O(new Uint8ClampedArray([255,255,255,255]));function x(e,t,n,r,i){var a=e;0===e[11]?(r[0]=2/(t*a[0]),r[1]=2/(n*a[5]),r[2]=(1+a[12])/a[0],r[3]=(1+a[13])/a[5],Object(s.r)(i,0,1)):(r[0]=-2/(t*a[0]),r[1]=-2/(n*a[5]),r[2]=(1-a[8])/a[0],r[3]=(1-a[9])/a[5],Object(s.r)(i,1,0))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=n(8),u=n(37),l=n(362),h=n(296),f=function(e){var t=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){Object(r.a)(this,n);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t.call.apply(t,[this].concat(i))}return Object(i.a)(n,[{key:"read",value:function(e,t){Object(l.a)(this,e,t)}},{key:"write",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(h.b)(this,e,t)}},{key:"toJSON",value:function(e){return this.write({},e)}}],[{key:"fromJSON",value:function(e,t){return d.call(this,e,t)}}]),n}(e);return t=Object(s.a)([Object(c.a)("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function d(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");var n=new this;return n.read(e,t),n}var p=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(f(u.a));p=Object(s.a)([Object(c.a)("esri.core.JSONSupport")],p)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return O})),n.d(t,"m",(function(){return s}));var r=n(13),i=(n(23),n(122)),a=n(17);function o(e,t,n,i,a){var o=e.watch(t,(function(t,r,a,o){n&&!n(t)||null==i||i.call(e,t,r,a,o)}),a);if(Array.isArray(t)){var s,c=Object(r.a)(t);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=e.get(u);n&&n(l)&&(null==i||i.call(e,l,l,t,e))}}catch(f){c.e(f)}finally{c.f()}}else{var h=e.get(t);n&&n(h)&&(null==i||i.call(e,h,h,t,e))}return o}function s(e,t,n,r,i){var s="function"==typeof r?r:null,c="object"==typeof r?r:null;"boolean"==typeof r&&(i=r);var u,l=!1;function h(){u&&(u.remove(),u=null)}var f=Object(a.f)();Object(a.p)(c,(function(){h(),f.reject(Object(a.e)())}));var d={then:f.promise.then.bind(f.promise),catch:f.promise.catch.bind(f.promise),remove:h};return Object.freeze(d),u=o(e,t,n,(function(t,n,r,i){l=!0,h(),s&&s.call(e,t,n,r,i),f.resolve({value:t,oldValue:n,propertyName:r,target:i})}),i),l&&h(),d}function c(e){return!!e}function u(e){return!e}function l(e){return!0===e}function h(e){return!1===e}var f=/\?(\.|$)/g;function d(e,t,n,i){var a,o=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],s=p(e,t,n,i),c=Object(r.a)(o);try{for(c.s();!(a=c.n()).done;){var u=a.value.trim().replace(f,"$1"),l=e.get(u);n.call(e,l,l,u,e)}}catch(h){c.e(h)}finally{c.f()}return s}function p(e,t,n,r){return e.watch(t,n,r)}function b(e,t,n,r){return o(e,t,c,n,r)}function v(e,t,n,r){return s(e,t,c,n,r)}function y(e,t,n,r){return o(e,t,u,n,r)}function m(e,t,n,r){return s(e,t,u,n,r)}function g(e,t,n,r){return o(e,t,l,n,r)}function O(e,t,n,r){return s(e,t,l,n,r)}function j(e,t,n,r){return o(e,t,h,n,r)}function w(e,t,n,r){return s(e,t,h,n,r)}function _(e,t,n,r){var i=!1,a=e.watch(t,(function(t,r,a,o){i||n.call(e,t,r,a,o)}),r);return{remove:function(){a.remove()},pause:function(){i=!0},resume:function(){i=!1}}}function x(e,t,n,r,a,o,s){var c={};function u(t){var r=c[t];r&&(o&&o(r.target,t,e,n),r.handle.remove(),delete c[t])}var l=d(e,t,(function(t,o,s){u(s),Object(i.b)(t)&&(c[s]={handle:Object(i.c)(t,n,r),target:t},a&&a(t,s,e,n))}),s);return{remove:function(){for(var e in l.remove(),c)u(e)}}}},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){for(var t="",n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t+=e[n]+(n+1<1||arguments.length<=n+1?void 0:arguments[n+1]);return t+=e[e.length-1]}n.d(t,"a",(function(){return r})),function(e){e.int=function(e){return Math.round(e).toString()},e.float=function(e){return e.toPrecision(8)}}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(605);var i=n(356),a=n(606);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(415);function i(e){var t="string"==typeof e?Object(r.b)(e):e;return function(e,n){e.hasOwnProperty("_renderableProps")||(e._renderableProps=e._renderableProps?e._renderableProps.slice():[]);var i=e._renderableProps;t?i.push.apply(i,Object(r.a)(t,n)):i.push(n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(101),i=n(1);function a(e,t,n){var a,o;return void 0===t||Array.isArray(t)?(o=e,n=t,a=[void 0]):(o=t,a=Array.isArray(e)?e:[e]),function(e,t){var s=e.constructor.prototype;a.forEach((function(a){var c=Object(i.c)(e,a,o);c.read&&"object"!=typeof c.read&&(c.read={}),Object(r.c)("read.reader",s[t],c),n&&(c.read.source=(c.read.source||[]).concat(n))}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(101),i=n(1);function a(e,t,n){var a,o;return void 0===t?(o=e,a=[void 0]):"string"!=typeof t?(o=e,a=[void 0],n=t):(o=t,a=Array.isArray(e)?e:[e]),function(e,t){var s=e.constructor.prototype;a.forEach((function(a){var c=Object(i.c)(e,a,o);c.write&&"object"!=typeof c.write&&(c.write={}),n&&Object(r.c)("write.target",n,c),Object(r.c)("write.writer",s[t],c)}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return o}));var r=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function i(e){return e?e/72*96:0}function a(e){return e?72*e/96:0}function o(e){if("string"==typeof e){if(r.test(e)){var t=e.match(r),n=Number(t[1]),i=t[3]&&t[3].toLowerCase(),o="-"===e.charAt(0),s="px"===i?a(n):n;return o?-s:s}return console.warn("screenUtils.toPt: input not recognized!"),null}return e}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{x:e,y:t}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[e,t]}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return[e,t,n]}function l(e){return e}function h(e){return e}function f(e){return e}function d(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}},function(e,t,n){"use strict";var r=n(40),i=n(5),a=n(6),o=n(2),s=n(3),c=n(14),u=n(142),l=n(179),h=n(476),f=n(1),d=n(295),p=n(8),b=n(38),v=n(32),y=n(13),m=(n(15),n(23)),g=n(92),O=n(124),j=n(145),w=!1;var _=function(){function e(t,n){Object(o.a)(this,e),this._observers=t,this._observer=n}return Object(s.a)(e,[{key:"remove",value:function(){this._observers.delete(this._observer)}}]),e}(),x=function(){function e(t,n){Object(o.a)(this,e),this.propertyName=t,this.metadata=n,this.flags=1,this._observers=null,this._accessedProperties=null,this._observationHandles=[],this.flags=1|(n.nonNullable?8:0)|(n.hasOwnProperty("value")?16:0)|(void 0===n.get?32:0)|(void 0===n.dependsOn?64:0)}return Object(s.a)(e,[{key:"destroy",value:function(){this._accessedProperties&&(this._accessedProperties.clear(),this._accessedProperties=null),this._observers&&(this._observers.clear(),this._observers=null),this._clearObservationHandles()}},{key:"onPropertyAccessed",value:function(e){e!==this&&(null===this._accessedProperties&&(this._accessedProperties=new Set),this._accessedProperties.add(e))}},{key:"onTrackingEnd",value:function(){this._clearObservationHandles(),this.flags|=32;var e=this._accessedProperties;if(null!==e){var t,n=this._observationHandles,r=Object(y.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i.observe(this))}}catch(a){r.e(a)}finally{r.f()}e.clear()}}},{key:"observe",value:function(e){return null===this._observers&&(this._observers=new Set),new _(this._observers.add(e),e)}},{key:"notify",value:function(){2&~this.flags&&(this.flags|=1),this._notifyObservers()}},{key:"invalidate",value:function(){this.notify()}},{key:"commit",value:function(){this.flags&=-2,this._notifyObservers()}},{key:"_notifyObservers",value:function(){if(null!==this._observers){var e,t=this._observers.size,n=new Array(t),r=t-1,i=Object(y.a)(this._observers);try{for(i.s();!(e=i.n()).done;){var a=e.value;n[r--]=a}}catch(h){i.e(h)}finally{i.f()}for(var o=!w;n.length;){var s=n.pop();if(void 0!==s.flags){if(2&~s.flags&&(s.flags|=1),null===s._observers)continue;var c,u=Object(y.a)(s._observers);try{for(u.s();!(c=u.n()).done;){var l=c.value;n.push(l)}}catch(h){u.e(h)}finally{u.f()}}else o&&s.notify()}}}},{key:"_clearObservationHandles",value:function(){var e,t=Object(y.a)(this._observationHandles);try{for(t.s();!(e=t.n()).done;){e.value.remove()}}catch(n){t.e(n)}finally{t.f()}this._observationHandles.length=0}}]),e}(),k=function(){function e(){Object(o.a)(this,e),this._values=new Map}return Object(s.a)(e,[{key:"clone",value:function(t){var n=new e;return this._values.forEach((function(e,r){t&&t.has(r)||n.set(r,Object(m.a)(e))})),n}},{key:"get",value:function(e){return this._values.get(e)}},{key:"originOf",value:function(){return 6}},{key:"keys",value:function(){return Object(b.a)(this._values.keys())}},{key:"set",value:function(e,t){this._values.set(e,t)}},{key:"delete",value:function(e){this._values.delete(e)}},{key:"has",value:function(e){return this._values.has(e)}},{key:"forEach",value:function(e){this._values.forEach(e)}}]),e}(),S=n(218);function E(e,t,n){return void 0!==e}function T(e,t,n,r){return void 0!==e&&(!(null==n&&8&e.flags)||(r.lifecycle,!1))}c.a.getLogger("esri.core.accessorSupport.Properties");var M=new j.a(function(){function e(){Object(o.a)(this,e),this.value=null,this.valid=!0}return Object(s.a)(e,[{key:"acquire",value:function(){this.valid=!0}},{key:"release",value:function(){this.value=null}}]),e}()),C=function(){function e(t){Object(o.a)(this,e),this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=0,this.store=new k,this._origin=6;var n=this.host.constructor.__accessorMetadata__,r=n.properties;for(var i in r){var a=new x(i,r[i]);this.properties.set(i,a)}this.metadatas=r,this._autoDestroy=n.autoDestroy}return Object(s.a)(e,[{key:"initialize",value:function(){this.lifecycle=1}},{key:"constructed",value:function(){this.lifecycle=2}},{key:"destroy",value:function(){if(this.destroyed=!0,this._autoDestroy){var e,t=Object(y.a)(this.properties);try{for(t.s();!(e=t.n()).done;){var n=Object(v.a)(e.value,2),r=n[0],i=n[1],a=this.internalGet(r);a&&(u=a)&&"function"==typeof u.destroy&&(a.destroy(),8&~i.flags&&this._internalSet(i,null)),i.destroy()}}catch(l){t.e(l)}finally{t.f()}}else{var o,s=Object(y.a)(this.properties);try{for(s.s();!(o=s.n()).done;){var c=Object(v.a)(o.value,2);c[0];c[1].destroy()}}catch(l){s.e(l)}finally{s.f()}}var u}},{key:"initialized",get:function(){return 0!==this.lifecycle}},{key:"get",value:function(e){return this.properties.get(e).metadata.get?this.getterComputed(e):this.getterStatic(e)}},{key:"getterStatic",value:function(e){var t=this.properties.get(e);if(void 0!==t)return Object(S.d)(t),this.store.has(e)?this.store.get(e):t.metadata.value}},{key:"getterComputed",value:function(e){var t=this.properties.get(e);Object(S.d)(t);var n,r=this.store,i=t.flags,a=this.store.get(e);if(4&i)return a;if(r.has(e)&&(1&~i||w))return a;t.flags|=4;var o=t.metadata.get;64&i?n=Object(S.b)(t,o,this.host):(Object(S.c)(this.host,t),n=o.call(this.host)),r.set(e,n,1);var s=this.store.get(e);return s===a?t.flags&=-2:t.commit(),t.flags&=-5,s}},{key:"originOf",value:function(e){var t=this.store.originOf(e);if(void 0===t){var n=this.properties.get(e);if(void 0!==n&&16&n.flags)return"defaults"}return Object(O.b)(t)}},{key:"has",value:function(e){return!!this.properties.has(e)&&this.store.has(e)}},{key:"keys",value:function(){return Object(b.a)(this.properties.keys())}},{key:"internalGet",value:function(e){var t=this.properties.get(e);if(E(t))return this.store.has(e)?this.store.get(e):t.metadata.value}},{key:"internalSet",value:function(e,t){var n=this.properties.get(e);E(n)&&this._internalSet(n,t)}},{key:"getDependsInfo",value:function(e,t,n,r){var i=this.properties.get(n);if(!E(i))return"";var a="".concat(r).concat(t,".").concat(n,": ").concat(Object(u.b)(e,n),"\n");if(!i.metadata.dependsOn||0===i.metadata.dependsOn.length)return a;r+="  ";var o,s=Object(y.a)(i.metadata.dependsOn);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=c.split(".");if(1===l.length)a+="".concat(r).concat(c,": ").concat(Object(u.b)(e,c),"\n");else{var h=l[l.length-1];--l.length;var f=l.join("."),d=Object(u.b)(e,f),p=Object(g.a)(d);a+=p?p.getDependsInfo(d,f,h,r):"".concat(r).concat(c,": undefined\n")}}}catch(b){s.e(b)}finally{s.f()}return a}},{key:"setAtOrigin",value:function(e,t,n){var r=this.properties.get(e);if(E(r))return this._setAtOrigin(r,t,n)}},{key:"isOverridden",value:function(e){var t=this.properties.get(e);return void 0!==t&&!!(2&t.flags)}},{key:"clearOverride",value:function(e){var t=this.properties.get(e);void 0!==t&&2&t.flags&&(t.flags&=-3,t.invalidate())}},{key:"override",value:function(e,t){var n=this.properties.get(e);if(T(n,0,t,this)){var r=n.metadata.cast;if(r){var i=this._cast(r,t),a=i.valid,o=i.value;if(M.release(i),!a)return;t=o}n.flags|=2,this._internalSet(n,t)}}},{key:"set",value:function(e,t){var n=this.properties.get(e);if(T(n,0,t,this)){var r=n.metadata.cast;if(r){var i=this._cast(r,t),a=i.valid,o=i.value;if(M.release(i),!a)return;t=o}var s=n.metadata.set;s?s.call(this.host,t):this._internalSet(n,t)}}},{key:"setDefaultOrigin",value:function(e){this._origin=Object(O.d)(e)}},{key:"getDefaultOrigin",value:function(){return Object(O.b)(this._origin)}},{key:"propertyInvalidated",value:function(e){var t=this.properties.get(e);void 0!==t&&t.invalidate()}},{key:"propertyCommitted",value:function(e){var t=this.properties.get(e);void 0!==t&&t.commit()}},{key:"_internalSet",value:function(e,t){var n=0!==this.lifecycle?this._origin:0;this._setAtOrigin(e,t,n)}},{key:"_setAtOrigin",value:function(e,t,n){var r=this.store,i=e.propertyName;r.has(i,n)&&Object(m.b)(t,r.get(i))&&2&~e.flags&&n===r.originOf(i)||(w=!0,e.invalidate(),w=!1,r.set(i,t,n),e.commit(),Object(S.a)(this.host,e))}},{key:"_cast",value:function(e,t){var n=M.acquire();return n.valid=!0,n.value=t,e&&(n.value=e.call(this.host,t,n)),n}}]),e}(),A=n(211),P=n(411),I=n(177),D=n(412),L=function(){function e(){Object(o.a)(this,e),this.uid=0,this.target=null,this.path=null,this.oldValue=null,this.callback=null,this.getValue=null,this.removed=!1,this.propertyPath=null}return Object(s.a)(e,[{key:"acquire",value:function(t,n,r,i,a){this.target=t,this.path=n,this.oldValue=r,this.callback=i,this.getValue=a,this.propertyPath=Object(g.g)(n),this.uid=++e.uid,this.removed=!1}},{key:"release",value:function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null,this.uid=++e.uid,this.removed=!0}}]),e}();L.pool=new P.a(L),L.uid=0;var R,N=new A.a,F=new Set,z=N.acquire();function V(e){F.has(e)?z.splice(z.indexOf(e),1):F.add(e),z.push(e),R||(R=Object(I.b)(G))}function U(e){if(!e.removed){var t=e.callback,n=e.path,r=e.oldValue,i=e.target,a=e.getValue();B(r,a)&&(e.oldValue=a,t.call(i,a,r,n,i))}}function B(e,t){return!Object(m.b)(e,t)}function G(){for(var e=10;R&&e--;){R=null;var t=z;z=N.acquire(),F.clear();var n,r=N.acquire(),i=Object(y.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.uid;U(a),o===a.uid&&a.removed&&r.push(a)}}catch(l){i.e(l)}finally{i.f()}for(var s=0;s<z.length;s++){var c=z[s];c.removed&&(r.push(c),F.delete(c),z.splice(s,1),s-=1)}for(var u=0;u<r.length;u++)L.pool.release(r[u]);N.release(t),N.release(r),q.forEach((function(e){return e()}))}}var q=new Set;function H(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!e.__accessor__||e.__accessor__.destroyed?{remove:function(){}}:r?function(e,t,n){var r=Object(g.e)(e,t,n,(function(e,t,n){var i=!1;return Object(D.a)((function(){return Object(u.c)(e,t)}),(function(a,o){e.__accessor__.destroyed?r.remove():i||(i=!0,B(a,o)&&n.call(e,o,a,t,e),i=!1)}))}));return r}(e,t,n):function(e,t,n){var r=Object(g.e)(e,t,n,(function(e,t,n){var i,a,o=Object(D.b)((function(){return Object(u.c)(e,t)}),(function(o,s){e.__accessor__.destroyed||i&&i.uid!==a?r.remove():(i||(i=L.pool.acquire(e,t,o,n,s),a=i.uid),V(i))}));return{remove:Object(g.d)((function(){o.remove(),i&&(i.uid!==a||i.removed||(i.removed=!0,V(i)),i=null),r=o=null}))}}));return r}(e,t,n)}function W(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}var Y=function(){function e(){if(Object(o.a)(this,e),this.constructor===e)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new C(this)}),n.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,n))}return Object(s.a)(e,[{key:"postscript",value:function(e){var t=this.__accessor__,n=t.ctorArgs||e;t.initialize(),n&&(this.set(n),t.ctorArgs=null),t.constructed(),this.initialize()}},{key:"initialize",value:function(){}},{key:"destroy",value:function(){this.destroyed||(function(e){for(var t=0;t<z.length;t++){var n=z[t];n.target===e&&(n.removed=!0)}}(this),this.__accessor__.destroy())}},{key:"initialized",get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},{key:"constructed",get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}},{key:"get",value:function(e){return Object(u.b)(this,e)}},{key:"hasOwnProperty",value:function(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}},{key:"isInstanceOf",value:function(e){return Object(d.a)(c.a.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof e}},{key:"keys",value:function(){return this.__accessor__?this.__accessor__.keys():[]}},{key:"set",value:function(e,t){return Object(h.a)(this,e,t),this}},{key:"watch",value:function(e,t,n){return H(this,e,t,n)}},{key:"_clearOverride",value:function(e){return this.__accessor__.clearOverride(e)}},{key:"_override",value:function(e,t){return this.__accessor__.override(e,t)}},{key:"_isOverridden",value:function(e){return this.__accessor__.isOverridden(e)}},{key:"notifyChange",value:function(e){this.__accessor__.propertyInvalidated(e)}},{key:"_get",value:function(e){return this.__accessor__.internalGet(e)}},{key:"_set",value:function(e,t){return this.__accessor__.internalSet(e,t),this}}],[{key:"createSubclass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");var t=e.properties,n=e.declaredClass,s=e.constructor;delete e.declaredClass,delete e.properties,delete e.constructor;var c=this,u=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).inherited=null,s&&s.apply(Object(r.a)(e),a),e}return n}(c);Object(l.a)(u.prototype);var h=function(t){var n=e[t];u.prototype[t]="function"==typeof n?function(){var e,r=this.inherited;this.inherited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(c.prototype[t])return c.prototype[t].apply(this,n)};try{for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];e=n.apply(this,a)}catch(a){throw this.inherited=r,a}return this.inherited=r,e}:e[t]};for(var d in e)h(d);for(var b in t){var v=W(t[b]);Object(f.b)(v)(u.prototype,b)}return Object(p.a)(n)(u)}}]),e}();t.a=Y},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(409);var i=n(595),a=n(356);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";var r,i=n(13),a=n(38),o=n(7),s=n.n(o),c=n(40),u=n(5),l=n(6),h=n(2),f=n(3),d=n(0),p=n(23),b=n(4),v=n(18),y=n(1),m=n(8),g=n(145),O=n(211),j=n(177),w=n(86),_=new g.a(function(){function e(){Object(h.a)(this,e),this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}return Object(f.a)(e,[{key:"preventDefault",value:function(){this.cancellable&&(this.defaultPrevented=!0)}},{key:"reset",value:function(e){this.defaultPrevented=!1,this.item=e}}]),e}(),void 0,(function(e){e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),x=function(){};function k(e){return e?e instanceof D?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function S(e){if(e&&e.length)return e[0]}function E(e,t,n,r){for(var i=Math.min(e.length-n,t.length-r),a=0;a<i&&e[n+a]===t[r+a];)a++;return a}function T(e,t,n,r){t&&t.forEach((function(t,i,a){e.push(t),T(e,n.call(r,t,i,a),n,r)}))}var M=new Set,C=new Set,A=new Set,P=new Map,I=0,D=r=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e))._chgListeners=[],r._notifications=null,r._timer=null,r.length=0,r._items=[],Object.defineProperty(Object(c.a)(r),"uid",{value:I++}),r}return Object(f.a)(n,[{key:"normalizeCtorArgs",value:function(e){return e?Array.isArray(e)||e instanceof r?{items:e}:e:{}}},{key:Symbol.iterator,value:s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.items,"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"items",get:function(){return this._items}},{key:"items",set:function(e){this._emitBeforeChanges(1)||(this._splice.apply(this,[0,this.length].concat(Object(a.a)(k(e)))),this._emitAfterChanges(1))}},{key:"hasEventListener",value:function(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}},{key:"on",value:function(e,t){if("change"===e){var n=this._chgListeners,r={removed:!1,callback:t};return n.push(r),this._notifications&&this._notifications.push({listeners:n.slice(),items:this._items.slice(),changes:[]}),{remove:function(){this.remove=x,r.removed=!0,n.splice(n.indexOf(r),1)}}}return this._emitter.on(e,t)}},{key:"once",value:function(e,t){var n=this.on(e,t);return{remove:function(){n.remove()}}}},{key:"add",value:function(e,t){if(this._emitBeforeChanges(1))return this;var n=this.getNextIndex(null!=t?t:null);return this._splice(n,0,e),this._emitAfterChanges(1),this}},{key:"addMany",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._items.length;if(!e||!e.length)return this;if(this._emitBeforeChanges(1))return this;var n=this.getNextIndex(t);return this._splice.apply(this,[n,0].concat(Object(a.a)(k(e)))),this._emitAfterChanges(1),this}},{key:"removeAll",value:function(){if(!this.length||this._emitBeforeChanges(2))return[];var e=this._splice(0,this.length)||[];return this._emitAfterChanges(2),e}},{key:"clone",value:function(){return this._createNewInstance({items:this._items.map(p.a)})}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.map(k);return this._createNewInstance({items:(e=this._items).concat.apply(e,Object(a.a)(i))})}},{key:"drain",value:function(e,t){if(this.length&&!this._emitBeforeChanges(2)){for(var n=Object(b.c)(this._splice(0,this.length)),r=n.length,i=0;i<r;i++)e.call(t,n[i],i,n);this._emitAfterChanges(2)}}},{key:"every",value:function(e,t){return this._items.every(e,t)}},{key:"filter",value:function(e,t){var n;return n=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:n})}},{key:"find",value:function(e,t){return this._items.find(e,t)}},{key:"findIndex",value:function(e,t){return this._items.findIndex(e,t)}},{key:"flatten",value:function(e,t){var n=[];return T(n,this,e,t),new r(n)}},{key:"forEach",value:function(e,t){return this._items.forEach(e,t)}},{key:"getItemAt",value:function(e){return this._items[e]}},{key:"getNextIndex",value:function(e){var t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}},{key:"includes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._items.includes(e,t)}},{key:"indexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._items.indexOf(e,t)}},{key:"join",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:",";return this._items.join(e)}},{key:"lastIndexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1;return this._items.lastIndexOf(e,t)}},{key:"map",value:function(e,t){var n=this._items.map(e,t);return new r({items:n})}},{key:"reorder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1,n=this.indexOf(e);if(-1!==n){if(t<0?t=0:t>=this.length&&(t=this.length-1),n!==t){if(this._emitBeforeChanges(4))return e;this._splice(n,1),this._splice(t,0,e),this._emitAfterChanges(4)}return e}}},{key:"pop",value:function(){if(this.length&&!this._emitBeforeChanges(2)){var e=S(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}}},{key:"push",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._emitBeforeChanges(1)||(this._splice.apply(this,[this.length,0].concat(t)),this._emitAfterChanges(1)),this.length}},{key:"reduce",value:function(e,t){var n=this._items;return 2===arguments.length?n.reduce(e,t):n.reduce(e)}},{key:"reduceRight",value:function(e,t){var n=this._items;return 2===arguments.length?n.reduceRight(e,t):n.reduceRight(e)}},{key:"remove",value:function(e){return this.removeAt(this.indexOf(e))}},{key:"removeAt",value:function(e){if(!(e<0||e>=this.length||this._emitBeforeChanges(2))){var t=S(this._splice(e,1));return this._emitAfterChanges(2),t}}},{key:"removeMany",value:function(e){if(!e||!e.length||this._emitBeforeChanges(2))return[];for(var t=e instanceof r?e.toArray():e,n=this._items,i=[],a=t.length,o=0;o<a;o++){var s=t[o],c=n.indexOf(s);if(c>-1){var u=1+E(t,n,o+1,c+1),l=this._splice(c,u);l&&l.length>0&&i.push.apply(i,l),o+=u-1}}return this._emitAfterChanges(2),i}},{key:"reverse",value:function(){if(this._emitBeforeChanges(4))return this;var e=this._splice(0,this.length);return e&&(e.reverse(),this._splice.apply(this,[0,0].concat(Object(a.a)(e)))),this._emitAfterChanges(4),this}},{key:"shift",value:function(){if(this.length&&!this._emitBeforeChanges(2)){var e=S(this._splice(0,1));return this._emitAfterChanges(2),e}}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return this._createNewInstance({items:this._items.slice(e,t)})}},{key:"some",value:function(e,t){return this._items.some(e,t)}},{key:"sort",value:function(e){if(!this.length||this._emitBeforeChanges(4))return this;var t=Object(b.c)(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice.apply(this,[0,0].concat(Object(a.a)(t))),this._emitAfterChanges(4),this}},{key:"splice",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=(t?2:0)|(r.length?1:0);if(this._emitBeforeChanges(a))return[];var o=this._splice.apply(this,[e,t].concat(r))||[];return this._emitAfterChanges(a),o}},{key:"toArray",value:function(){return this._items.slice()}},{key:"toJSON",value:function(){return this.toArray()}},{key:"toLocaleString",value:function(){return this._items.toLocaleString()}},{key:"toString",value:function(){return this._items.toString()}},{key:"unshift",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.length||this._emitBeforeChanges(1)||(this._splice.apply(this,[0,0].concat(t)),this._emitAfterChanges(1)),this.length}},{key:"_createNewInstance",value:function(e){return new this.constructor(e)}},{key:"_splice",value:function(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var c,u,l=this._items,h=this.constructor.prototype.itemType;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=Object(j.b)((function(){return n._dispatchChange()}))),t){if(u=l.splice(e,t),this.hasEventListener("before-remove")){var f=_.acquire();f.target=this,f.cancellable=!0;for(var d=0,p=u.length;d<p;d++)c=u[d],f.reset(c),this.emit("before-remove",f),f.defaultPrevented&&(u.splice(d,1),l.splice(e,0,c),e+=1,d-=1,p-=1);_.release(f)}if(this.length=this._items.length,this.hasEventListener("after-remove")){var b=_.acquire();b.target=this,b.cancellable=!1;for(var v=u.length,y=0;y<v;y++)b.reset(u[y]),this.emit("after-remove",b);_.release(b)}}if(o&&o.length){if(h){var m,g=[],O=Object(i.a)(o);try{for(O.s();!(m=O.n()).done;){var w=m.value,x=h.ensureType(w);null==x&&null!=w||g.push(x)}}catch(R){O.e(R)}finally{O.f()}o=g}var k=this.hasEventListener("before-add"),S=this.hasEventListener("after-add"),E=e===this.length;if(k||S){var T=_.acquire();T.target=this,T.cancellable=!0;var M=_.acquire();M.target=this,M.cancellable=!1;var C,A=Object(i.a)(o);try{for(A.s();!(C=A.n()).done;){var P=C.value;k?(T.reset(P),this.emit("before-add",T),T.defaultPrevented||(E?l.push(P):l.splice(e++,0,P),this._set("length",l.length),S&&(M.reset(P),this.emit("after-add",M)))):(E?l.push(P):l.splice(e++,0,P),this._set("length",l.length),M.reset(P),this.emit("after-add",M))}}catch(R){A.e(R)}finally{A.f()}_.release(M),_.release(T)}else{if(E){var I,D=Object(i.a)(o);try{for(D.s();!(I=D.n()).done;){var L=I.value;l.push(L)}}catch(R){D.e(R)}finally{D.f()}}else l.splice.apply(l,[e,0].concat(Object(a.a)(o)));this._set("length",l.length)}}return(o&&o.length||u&&u.length)&&this._notifyChangeEvent(o,u),u}},{key:"_emitBeforeChanges",value:function(e){var t=!1;if(this.hasEventListener("before-changes")){var n=_.acquire();n.target=this,n.cancellable=!0,n.type=e,this.emit("before-changes",n),t=n.defaultPrevented,_.release(n)}return t}},{key:"_emitAfterChanges",value:function(e){if(this.hasEventListener("after-changes")){var t=_.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),_.release(t)}}},{key:"_notifyChangeEvent",value:function(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}},{key:"_dispatchChange",value:function(){var e=this;if(this._timer&&(this._timer.remove(),this._timer=null),this._notifications){var t=this._notifications;this._notifications=null;var n,r=Object(i.a)(t);try{var a=function(){var t=n.value,r=t.changes;M.clear(),C.clear(),A.clear();var a,o=Object(i.a)(r);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=s.added,u=s.removed;if(c)if(0===A.size&&0===C.size){var l,h=Object(i.a)(c);try{for(h.s();!(l=h.n()).done;){var f=l.value;M.add(f)}}catch(L){h.e(L)}finally{h.f()}}else{var d,p=Object(i.a)(c);try{for(p.s();!(d=p.n()).done;){var b=d.value;C.has(b)?(A.add(b),C.delete(b)):A.has(b)||M.add(b)}}catch(L){p.e(L)}finally{p.f()}}if(u)if(0===A.size&&0===M.size){var v,y=Object(i.a)(u);try{for(y.s();!(v=y.n()).done;){var m=v.value;C.add(m)}}catch(L){y.e(L)}finally{y.f()}}else{var g,j=Object(i.a)(u);try{for(j.s();!(g=j.n()).done;){var w=g.value;M.has(w)?M.delete(w):(A.delete(w),C.add(w))}}catch(L){j.e(L)}finally{j.f()}}}}catch(L){o.e(L)}finally{o.f()}var _=O.a.acquire();M.forEach((function(e){_.push(e)}));var x=O.a.acquire();C.forEach((function(e){x.push(e)}));var k=e._items,S=t.items,E=O.a.acquire();if(A.forEach((function(e){S.indexOf(e)!==k.indexOf(e)&&E.push(e)})),t.listeners&&(_.length||x.length||E.length))for(var T={target:e,added:_,removed:x,moved:E},P=t.listeners.length,I=0;I<P;I++){var D=t.listeners[I];D.removed||D.callback.call(e,T)}O.a.release(_),O.a.release(x),O.a.release(E)};for(r.s();!(n=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}M.clear(),C.clear(),A.clear()}}}],[{key:"isCollection",value:function(e){return null!=e&&e instanceof r}}]),n}(w.a.EventedAccessor);D.ofType=function(e){if(!e)return r;if(P.has(e))return P.get(e);var t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(var n in e.typeMap){var i=e.typeMap[n].prototype.declaredClass;t?t+=" | ".concat(i):t=i}var a=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return n}(r);a=Object(d.a)([Object(m.a)("esri.core.Collection<".concat(t,">"))],a);var o={Type:e,ensureType:"function"==typeof e?Object(v.m)(e):Object(v.k)(e)};return Object.defineProperty(a.prototype,"itemType",{value:o}),P.set(e,a),a},Object(d.a)([Object(y.b)()],D.prototype,"length",void 0),Object(d.a)([Object(y.b)()],D.prototype,"items",null);var L=D=r=Object(d.a)([Object(m.a)("esri.core.Collection")],D);t.a=L},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(10),i=n(1);function a(e,t){var n=t?Object(r.a)(Object(r.a)({},t),{},{source:e}):e;return Object(i.b)({aliasOf:n})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return z})),n.d(t,"g",(function(){return W})),n.d(t,"h",(function(){return V})),n.d(t,"i",(function(){return K})),n.d(t,"j",(function(){return te})),n.d(t,"k",(function(){return ne})),n.d(t,"l",(function(){return ee})),n.d(t,"m",(function(){return re})),n.d(t,"n",(function(){return D})),n.d(t,"o",(function(){return A})),n.d(t,"p",(function(){return R})),n.d(t,"q",(function(){return B})),n.d(t,"r",(function(){return I})),n.d(t,"s",(function(){return ie})),n.d(t,"t",(function(){return Z})),n.d(t,"u",(function(){return X})),n.d(t,"v",(function(){return Q})),n.d(t,"w",(function(){return F})),n.d(t,"x",(function(){return U})),n.d(t,"y",(function(){return l})),n.d(t,"z",(function(){return G})),n.d(t,"A",(function(){return P})),n.d(t,"B",(function(){return q})),n.d(t,"C",(function(){return H})),n.d(t,"D",(function(){return Y})),n.d(t,"E",(function(){return g})),n.d(t,"F",(function(){return S})),n.d(t,"G",(function(){return s})),n.d(t,"H",(function(){return k})),n.d(t,"I",(function(){return O})),n.d(t,"J",(function(){return C})),n.d(t,"K",(function(){return p})),n.d(t,"L",(function(){return h})),n.d(t,"M",(function(){return y})),n.d(t,"N",(function(){return d})),n.d(t,"O",(function(){return x})),n.d(t,"P",(function(){return c})),n.d(t,"Q",(function(){return f})),n.d(t,"R",(function(){return E})),n.d(t,"S",(function(){return _})),n.d(t,"T",(function(){return w}));var r=n(104),i=n(69),a=n(78),o=n(446),s=function(e){return function(){return e}}(!0),c=function(){};var u=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;function l(e,t,n){if(!t(e))throw new Error(n)}var h=function(e,t){Object(i.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},f=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function d(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function p(e){var t=!1;return function(){t||(t=!0,e())}}var b=function(e){throw e},v=function(e){return{value:e,done:!0}};function y(e,t,n){void 0===t&&(t=b),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:v,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function m(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var g=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},O=function(e){return Array.apply(null,new Array(e))},j=function(e){return function(t){return e(Object.defineProperty(t,r.f,{value:!0}))}},w=function(e){return e===r.k},_=function(e){return e===r.j},x=function(e){return w(e)||_(e)};function k(e,t){var n=Object.keys(e),r=n.length;var i,o=0,s=Object(a.a)(e)?O(r):{},u={};return n.forEach((function(e){var n=function(n,a){i||(a||x(n)?(t.cancel(),t(n,a)):(s[e]=n,++o===r&&(i=!0,t(s))))};n.cancel=c,u[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return u[e].cancel()})))},u}function S(e){return{name:e.name||"anonymous",location:E(e)}}function E(e){return e[r.g]}var T={isEmpty:s,put:c,take:c};function M(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,a=0,o=function(t){n[i]=t,i=(i+1)%e,r++},s=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},c=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var u;if(r<e)o(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=s,a=i=(i+1)%e;break;case 4:u=2*e,n=c(),r=n.length,i=n.length,a=0,n.length=u,e=u,o(s)}},take:s,flush:c}}var C=function(){return T},A=function(e){return M(e,3)},P=function(e){return M(e,4)},I="TAKE",D="PUT",L="ALL",R="RACE",N="CALL",F="CPS",z="FORK",V="JOIN",U="CANCEL",B="SELECT",G="ACTION_CHANNEL",q="CANCELLED",H="FLUSH",W="GET_CONTEXT",Y="SET_CONTEXT",J=function(e,t){var n;return(n={})[r.c]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function K(e,t){return void 0===e&&(e="*"),Object(a.i)(e)?J(I,{pattern:e}):Object(a.f)(e)&&Object(a.g)(t)&&Object(a.i)(t)?J(I,{channel:e,pattern:t}):Object(a.b)(e)?J(I,{channel:e}):void 0}function X(e,t){return Object(a.n)(t)&&(t=e,e=void 0),J(D,{channel:e,action:t})}function Q(e){var t=J(L,e);return t.combinator=!0,t}function Z(e){var t=J(R,e);return t.combinator=!0,t}function $(e,t){var n,r=null;return Object(a.d)(e)?n=e:(Object(a.a)(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&Object(a.k)(n)&&Object(a.d)(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function ee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return J(N,$(e,n))}function te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return J(z,$(e,n))}function ne(e){return void 0===e&&(e=r.h),J(U,e)}function re(e,t){return J(G,{pattern:e,buffer:t})}var ie=ee.bind(null,o.a)},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(4),o=n(18),s=(n(38),{transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,5,10]});function c(e){var t;return null!=(t=s[e])?t:null}function u(e,t,n){n<0&&++n,n>1&&--n;var r=6*n;return r<1?e+(t-e)*r:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}var l=n(44);function h(e){return Object(l.d)(Object(o.e)(e),0,255)}function f(e,t,n){return e=Number(e),isNaN(e)?n:e<t?t:e>n?n:e}var d=function(){function e(t){Object(r.a)(this,e),this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}return Object(i.a)(e,[{key:"isBright",get:function(){return.299*this.r+.587*this.g+.114*this.b>=127}},{key:"setColor",value:function(t){if("string"==typeof t)e.fromString(t,this);else if(Array.isArray(t))e.fromArray(t,this);else{var n,r,i,a;this._set(null!=(n=t.r)?n:0,null!=(r=t.g)?r:0,null!=(i=t.b)?i:0,null!=(a=t.a)?a:1),t instanceof e||this._sanitize()}return this}},{key:"toRgb",value:function(){return[this.r,this.g,this.b]}},{key:"toRgba",value:function(){return[this.r,this.g,this.b,this.a]}},{key:"toHex",value:function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return"#".concat(e.length<2?"0"+e:e).concat(t.length<2?"0"+t:t).concat(n.length<2?"0"+n:n)}},{key:"toCss",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.r+", "+this.g+", "+this.b;return e?"rgba(".concat(t,", ").concat(this.a,")"):"rgb(".concat(t,")")}},{key:"toString",value:function(){return this.toCss(!0)}},{key:"toJSON",value:function(){return this.toArray()}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=h(this.r),n=h(this.g),r=h(this.b);return 0===e||1!==this.a?[t,n,r,h(255*this.a)]:[t,n,r]}},{key:"clone",value:function(){return new e(this.toRgba())}},{key:"hash",value:function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}},{key:"_sanitize",value:function(){return this.r=Math.round(f(this.r,0,255)),this.g=Math.round(f(this.g,0,255)),this.b=Math.round(f(this.b,0,255)),this.a=f(this.a,0,1),this}},{key:"_set",value:function(e,t,n,r){this.r=e,this.g=t,this.b=n,this.a=r}}],[{key:"blendColors",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new e;return i.r=Math.round(t.r+(n.r-t.r)*r),i.g=Math.round(t.g+(n.g-t.g)*r),i.b=Math.round(t.b+(n.b-t.b)*r),i.a=t.a+(n.a-t.a)*r,i._sanitize()}},{key:"fromRgb",value:function(t,n){var r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(r){var i=r[2].split(/\s*,\s*/),a=r[1];if("rgb"===a&&3===i.length||"rgba"===a&&4===i.length){var o=i[0];if("%"===o.charAt(o.length-1)){var s=i.map((function(e){return 2.56*parseFloat(e)}));return 4===i.length&&(s[3]=parseFloat(i[3])),e.fromArray(s,n)}return e.fromArray(i.map((function(e){return parseFloat(e)})),n)}if("hsl"===a&&3===i.length||"hsla"===a&&4===i.length)return e.fromArray(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=(e%360+360)%360/360,a=n<=.5?n*(t+1):n+t-n*t,o=2*n-a;return[Math.round(256*u(o,a,i+1/3)),Math.round(256*u(o,a,i)),Math.round(256*u(o,a,i-1/3)),r]}(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),n)}return null}},{key:"fromHex",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new e,r=4===t.length?4:8,i=(1<<r)-1,a=Number("0x"+t.substr(1));return isNaN(a)?null:(["b","g","r"].forEach((function(e){var t=a&i;a>>=r,n[e]=4===r?17*t:t})),n.a=1,n)}},{key:"fromArray",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new e;return n._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(n.a)&&(n.a=1),n._sanitize()}},{key:"fromString",value:function(t,n){var r=c(t);return r&&e.fromArray(r,n)||e.fromRgb(t,n)||e.fromHex(t,n)}},{key:"fromJSON",value:function(t){return t&&new e([t[0],t[1],t[2],t[3]/255])}},{key:"toUnitRGB",value:function(e){return Object(a.h)(e)?[e.r/255,e.g/255,e.b/255]:null}},{key:"toUnitRGBA",value:function(e){return Object(a.h)(e)?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}}]),e}();d.prototype.declaredClass="esri.Color";t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return o})),n.d(t,"o",(function(){return l})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return h}));var r=new Float32Array(1),i=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},a=Number.isNaN||function(e){return e!=e};function o(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1}function s(e,t,n){return e<t?t:e>n?n:e}function c(e,t,n){return Math.min(Math.max(e,t),n)}function u(e){return 0==(e&e-1)}function l(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}var h=Math.sign||function(e){return+(e>0)-+(e<0)||+e},f=Math.log2||function(e){return Math.log(e)/Math.LN2};function d(e,t,n){return e+(t-e)*n}function p(e){return e*Math.PI/180}function b(e){return 180*e/Math.PI}function v(e){return Math.acos(s(e,-1,1))}function y(e){return Math.asin(s(e,-1,1))}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;if(a(e)||a(t))return!1;if(e===t)return!0;var r=Math.abs(e-t),i=Math.abs(e),o=Math.abs(t);if(0===e||0===t||i<1e-12&&o<1e-12){if(r>.01*n)return!1}else if(r/(i+o)>n)return!1;return!0}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;return!a(e)&&!a(t)&&(e>t?e-t:t-e)<=n}function O(e){return j(Math.max(-w,Math.min(e,w)))}function j(e){return r[0]=e,r[0]}var w=j(34028234663852886e22)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(50);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreUnknown:!0},n=e instanceof i.a?e:new i.a(e,t),a={type:null!=t&&t.ignoreUnknown?n.apiValues:String,readOnly:null==t?void 0:t.readOnly,json:{type:n.jsonValues,read:(null==t||!t.readOnly)&&{reader:n.read},write:{writer:n.write}}};return void 0!==(null==t?void 0:t.default)&&(a.json.default=t.default),Object(r.b)(a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(541);function i(e){return void 0===e&&(e={}),e.portal?Object(r.a)(e.portal):e.authentication?e.authentication.portal:"https://www.arcgis.com/sharing/rest"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));for(var r=n(13),i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=n(15),l=n(14),h=(n(18),n(1)),f=n(8),d=(n(12),n(21),n(22),n(37)),p=n(534),b=(n(122),Object(u.a)("mac")?"Meta":"Ctrl"),v={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"},y=48;y<58;y++)v[y]=String.fromCharCode(y);for(var m=1;m<25;m++)v[111+m]="F".concat(m);for(var g=65;g<91;g++)v[g]=[String.fromCharCode(g+32),String.fromCharCode(g)];function O(e){switch(e){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}var j=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,!0))._onChange=e,r._value="mouse",r.registerIncoming("pointer-down",(function(e){var t="touch"===e.data.native.pointerType;r._setValue(t?"touch":"mouse")})),r._moveHandler=r.registerIncoming("pointer-move",(function(e){var t="touch"===e.data.native.pointerType;r._setValue(t?"touch":"mouse")})),r._moveHandler.pause(),r}return Object(a.a)(n,[{key:"_setValue",value:function(e){e!==this._value&&("touch"===e?this._moveHandler.resume():this._moveHandler.pause(),this._value=e,this._onChange(e))}}]),n}(n(378).a),w=l.a.getLogger("esri.views.input.InputManager"),_=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._pointerCaptures=new Map,r._nameToGroup={},r._handlers=[],r._currentPropagation=null,r._sourceEvents=new Set,r._keyModifiers=new Set,r._activeKeyModifiers=new Set,r._stoppedPropagationEventIds=new Set,r.primaryKey=b,r.latestPointerType="mouse",r.test={timestamp:void 0,hasCurrentPropagation:function(){return!!r._currentPropagation}},r}return Object(a.a)(n,[{key:"initialize",value:function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}},{key:"destroy",value:function(){for(var e=0,t=Object.keys(this._nameToGroup);e<t.length;e++){var n=t[e];this.uninstallHandlers(n)}this.eventSource=null,this._currentPropagation=null}},{key:"hasPendingInputs",get:function(){return this._handlers.some((function(e){return e.handler.hasPendingInputs}))}},{key:"installHandlers",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.INTERNAL;if(this._nameToGroup[e])w.error("There is already an InputHandler group registered under the name `"+e+"`");else if(0!==t.length){var i={name:e,handlers:t.map((function(e){return{handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}}))};this._nameToGroup[e]=i;for(var a=function(e){var t=i.handlers[e];n._handlers.push(t),t.handler.onInstall({updateDependencies:function(){n.updateDependencies()},emit:function(e,r,i,a,o){n._emitInputEvent(t.priorityIndex+1,e,r,i,o,a)},setPointerCapture:function(e,r){n._setPointerCapture(i,t,e,r)},setEventCallback:function(e){t.eventCallback=e},setUninstallCallback:function(e){t.uninstallCallback=e},refreshHasPendingInputs:function(){n.notifyChange("hasPendingInputs")}})},o=i.handlers.length-1;o>=0;o--)a(o);this.updateDependencies()}else w.error("Can't register a group of zero handlers")}},{key:"uninstallHandlers",value:function(e){var t=this._nameToGroup[e];t?(t.handlers.forEach((function(e){e.removed=!0,e.uninstallCallback()})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):w.error("There is no InputHandler group registered under the name `"+e+"`")}},{key:"hasHandlers",value:function(e){return void 0!==this._nameToGroup[e]}},{key:"updateDependencies",value:function(){var e=new Set,t=new Set;this._handlersPriority=[];for(var n=this._handlers.length-1;n>=0;n--){var i=this._handlers[n];i.priorityIndex=n,this._handlersPriority.push(i)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(var a=this._handlersPriority.length-1;a>=0;a--){var o=this._handlersPriority[a];o.priorityIndex=a;var s=o.handler.hasSideEffects;if(!s){var c,u=Object(r.a)(o.handler.outgoingEventTypes);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(e.has(l)){s=!0;break}}}catch(y){u.e(y)}finally{u.f()}}if(s){var h,f=Object(r.a)(o.handler.incomingEventMatches);try{for(f.s();!(h=f.n()).done;){var d=h.value;e.add(d.eventType);var p,b=Object(r.a)(d.keyModifiers);try{for(b.s();!(p=b.n()).done;){var v=p.value;O(v)||t.add(v)}}catch(y){b.e(y)}finally{b.f()}}}catch(y){f.e(y)}finally{f.f()}}o.active=s}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}},{key:"_setLatestPointerType",value:function(e){this._set("latestPointerType",e)}},{key:"_onEventReceived",value:function(e,t){if("pointer-capture-lost"===e){var n=t;this._pointerCaptures.delete(n.native.pointerId)}this._updateKeyModifiers(e,t);var r=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,i=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,r,i)}},{key:"_updateKeyModifiers",value:function(e,t){var n=this;if(t){var r=!1,i=function(){if(!r){var e=new Set;n._activeKeyModifiers.forEach((function(t){e.add(t)})),n._activeKeyModifiers=e,r=!0}},a=function(e,t){t&&!n._activeKeyModifiers.has(e)?(i(),n._activeKeyModifiers.add(e)):!t&&n._activeKeyModifiers.has(e)&&(i(),n._activeKeyModifiers.delete(e))};if("key-down"===e||"key-up"===e){var o=t.key;this._keyModifiers.has(o)&&a(o,"key-down"===e)}var s=t.native;a("Alt",!(!s||!s.altKey)),a("Ctrl",!(!s||!s.ctrlKey)),a("Shift",!(!s||!s.shiftKey)),a("Meta",!(!s||!s.metaKey)),a("Primary",this._activeKeyModifiers.has(this.primaryKey))}}},{key:"_installRecognizers",value:function(){var e=this;this._latestPointerTypeHandler=new j((function(t){return e._setLatestPointerType(t)})),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,k.INTERNAL),this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],k.INTERNAL)}},{key:"_setPointerCapture",value:function(e,t,n,r){var i=e.name+"-"+t.priorityIndex,a=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,a),r?(a.add(i),1===a.size&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):a.has(i)&&(a.delete(i),0===a.size&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}},{key:"_garbageCollectRemovedHandlers",value:function(){this._handlers=this._handlers.filter((function(e){return!e.removed})),this.updateDependencies()}},{key:"_emitInputEventFromSource",value:function(e,t,n,r){this._emitInputEvent(0,e,t,n,r)}},{key:"_emitInputEvent",value:function(e,t,n,r,i,a){var o=void 0!==r?r:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),s=void 0!==i&&i,c={event:new x(t,n,o,a||this._activeKeyModifiers,s),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(c):this._doNewPropagation(c)}},{key:"_doNewPropagation",value:function(e){this._currentPropagation={events:new p.a,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}},{key:"_continuePropagation",value:function(){var e=this,t=this._currentPropagation;if(t){for(;this._currentPropagation.events.length>0;){var n=this._currentPropagation.events.pop(),r=n.event,i=n.priorityIndex,a=r.data&&r.data.eventId;if(null==a||!this._stoppedPropagationEventIds.has(a))for(t.currentHandler=this._handlersPriority[i];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!r.shouldStopPropagation()&&t.currentHandler.eventCallback(r),r.shouldStopPropagation()){null!=a&&this._stoppedPropagationEventIds.add(a);break}if(r.shouldPausePropagation((function(){return e._continuePropagation()})))return void this._pausePropagation({event:r,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null}}},{key:"_pausePropagation",value:function(e){var t=new p.a;for(t.push(e);this._currentPropagation.events.length;)t.push(this._currentPropagation.events.pop());this._currentPropagation.events=t,this._currentPropagation.currentHandler=null}},{key:"_compareHandlerPriority",value:function(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;var n,i=Object(r.a)(e.handler.incomingEventMatches);try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Object(r.a)(t.handler.incomingEventMatches);try{var c=function(){var e=a.value;if(o.eventType!==e.eventType)return"continue";var t=o.keyModifiers.filter((function(t){return-1!==e.keyModifiers.indexOf(t)}));return t.length===o.keyModifiers.length!==(t.length===e.keyModifiers.length)?{v:o.keyModifiers.length>e.keyModifiers.length?-1:1}:void 0};for(s.s();!(a=s.n()).done;){var u=c();if("continue"!==u&&"object"===typeof u)return u.v}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}return e.priorityIndex>t.priorityIndex?-1:1}},{key:"_sortHandlersPriority",value:function(e){var t,n=[],i=Object(r.a)(e);try{for(i.s();!(t=i.n()).done;){for(var a=t.value,o=0;o<n.length&&this._compareHandlerPriority(a,n[o])>=0;)o++;n.splice(o,0,a)}}catch(s){i.e(s)}finally{i.f()}return n}},{key:"debug",get:function(){var e=this,t=function(t){var n=e._setPointerCapture;e._setPointerCapture=function(){},t(),e._setPointerCapture=n};return{injectEvent:function(n,r){t((function(){e._onEventReceived(n,r)}))},disablePointerCapture:t}}}]),n}(d.a);Object(c.a)([Object(h.b)({readOnly:!0})],_.prototype,"hasPendingInputs",null),Object(c.a)([Object(h.b)()],_.prototype,"eventSource",void 0),Object(c.a)([Object(h.b)()],_.prototype,"recognizers",void 0),Object(c.a)([Object(h.b)({readOnly:!0})],_.prototype,"latestPointerType",void 0),_=Object(c.a)([Object(f.a)("esri.views.input.InputManager")],_);var x=function(){function e(t,n,r,a,o){Object(i.a)(this,e),this.type=t,this.data=n,this.timestamp=r,this.modifiers=a,this.cancelable=o,this._propagationState=0,this._resumeCallback=null}return Object(a.a)(e,[{key:"stopPropagation",value:function(){this._propagationState|=1}},{key:"shouldStopPropagation",value:function(){return 0!=(1&this._propagationState)}},{key:"async",value:function(e){var t=this;this._propagationState|=2;var n=function(e,n){t._propagationState&=-3;var r=t._resumeCallback;if(t._resumeCallback=null,r&&r(),n)throw e;return e};return("function"==typeof e?e():e).then((function(e){return n(e,!1)}),(function(e){return n(e,!0)}))}},{key:"shouldPausePropagation",value:function(e){return!!(2&this._propagationState)&&(this._resumeCallback=e,!0)}},{key:"preventDefault",value:function(){this.data.native.preventDefault()}}]),e}(),k={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3}},function(e,t,n){"use strict";var r,i=n(28),a=n(2),o=n(3),s=n(5),c=n(6),u=n(0),l=n(23),h=n(18),f=n(1),d=n(8),p=n(35),b=n(27),v=n(54),y=r=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).latestWkid=null,r.wkid=null,r.wkt=null,r.vcsWkid=null,r.latestVcsWkid=null,r.imageCoordinateSystem=null,r}return Object(o.a)(n,[{key:"normalizeCtorArgs",value:function(e){return e&&"object"==typeof e?e:Object(i.a)({},"string"==typeof e?"wkt":"wkid",e)}},{key:"isWGS84",get:function(){return Object(v.j)(this)}},{key:"isWebMercator",get:function(){return Object(v.m)(this)}},{key:"isGeographic",get:function(){return Object(v.f)(this)}},{key:"isWrappable",get:function(){return Object(v.n)(this)}},{key:"writeWkt",value:function(e,t){this.wkid||(t.wkt=e)}},{key:"clone",value:function(){if(this===r.WGS84)return r.WGS84;if(this===r.WebMercator)return r.WebMercator;var e=new r;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=Object(l.a)(this.imageCoordinateSystem)),e}},{key:"equals",value:function(e){if(null==e)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1;var t=e.imageCoordinateSystem,n=t.id,r=t.referenceServiceName,i=e.imageCoordinateSystem.geodataXform,a=this.imageCoordinateSystem;return null==n||i?JSON.stringify(a)===JSON.stringify(e.imageCoordinateSystem):r?a.id===n&&a.referenceServiceName===r:a.id===n}return Object(v.c)(this,e)}},{key:"toJSON",value:function(e){return this.write(void 0,e)}}],[{key:"fromJSON",value:function(e){if(!e)return null;if(e.wkid){if(102100===e.wkid)return r.WebMercator;if(4326===e.wkid)return r.WGS84}var t=new r;return t.read(e),t}}]),n}(b.a);y.GCS_NAD_1927=null,y.WGS84=null,y.WebMercator=null,Object(u.a)([Object(f.b)({dependsOn:["wkid"],autoTracked:!1,readOnly:!0})],y.prototype,"isWGS84",null),Object(u.a)([Object(f.b)({dependsOn:["wkid"],autoTracked:!1,readOnly:!0})],y.prototype,"isWebMercator",null),Object(u.a)([Object(f.b)({dependsOn:["wkid","wkt"],autoTracked:!1,readOnly:!0})],y.prototype,"isGeographic",null),Object(u.a)([Object(f.b)({dependsOn:["wkid"],autoTracked:!1,readOnly:!0})],y.prototype,"isWrappable",null),Object(u.a)([Object(f.b)({type:h.a,json:{write:!0}})],y.prototype,"latestWkid",void 0),Object(u.a)([Object(f.b)({type:h.a,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt}}}}}}})],y.prototype,"wkid",void 0),Object(u.a)([Object(f.b)({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid}}}}}}})],y.prototype,"wkt",void 0),Object(u.a)([Object(p.a)("wkt"),Object(p.a)("web-scene","wkt")],y.prototype,"writeWkt",null),Object(u.a)([Object(f.b)({type:h.a,json:{write:!0}})],y.prototype,"vcsWkid",void 0),Object(u.a)([Object(f.b)({type:h.a,json:{write:!0}})],y.prototype,"latestVcsWkid",void 0),Object(u.a)([Object(f.b)()],y.prototype,"imageCoordinateSystem",void 0),(y=r=Object(u.a)([Object(d.a)("esri.geometry.SpatialReference")],y)).prototype.toJSON.isDefaultToJSON=!0,y.GCS_NAD_1927=new y({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),y.WGS84=new y(v.a),y.WebMercator=new y(v.b),Object.freeze&&(Object.freeze(y.GCS_NAD_1927),Object.freeze(y.WGS84),Object.freeze(y.WebMercator));var m=y;t.a=m},function(e,t,n){"use strict";n.d(t,"a",(function(){return J})),n.d(t,"b",(function(){return K})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return A})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return N})),n.d(t,"j",(function(){return ue})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return L})),n.d(t,"p",(function(){return R})),n.d(t,"q",(function(){return _})),n.d(t,"r",(function(){return z})),n.d(t,"s",(function(){return ne})),n.d(t,"t",(function(){return x})),n.d(t,"u",(function(){return $})),n.d(t,"v",(function(){return Q})),n.d(t,"w",(function(){return Z})),n.d(t,"x",(function(){return ee})),n.d(t,"y",(function(){return w})),n.d(t,"z",(function(){return te})),n.d(t,"A",(function(){return ce}));var r=n(7),i=n.n(r),a=n(16),o=n(13),s=n(101),c=n(4),u=n(20),l=n(17),h=n(146),f=n(144),d=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],p=["field","normalizationField"];function b(e,t){if(null!=e&&null!=t){var n,r=Object(o.a)(Array.isArray(e)?e:[e]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(v(d,i,t),"visualVariables"in i&&i.visualVariables){var a,s=Object(o.a)(i.visualVariables);try{for(s.s();!(a=s.n()).done;){var c=a.value;v(p,c,t)}}catch(u){s.e(u)}finally{s.f()}}}}catch(u){r.e(u)}finally{r.f()}}}function v(e,t,n){if(e){var r,i=Object(o.a)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,c=Object(s.b)(a,t),u=c&&"function"!=typeof c&&_(n,c);u&&Object(s.c)(a,u.name,t)}}catch(l){i.e(l)}finally{i.f()}}}function y(e,t){if(null!=e&&null!=t)if("startField"in e){var n=_(t,e.startField),r=_(t,e.endField);e.startField=n&&n.name||null,e.endField=r&&r.name||null}else{var i=_(t,e.startTimeField),a=_(t,e.endTimeField);e.startTimeField=i&&i.name||null,e.endTimeField=a&&a.name||null}}var m=new Set;function g(e,t){return e&&t?(m.clear(),O(m,e,t),Array.from(m).sort()):[]}function O(e,t,n){if(n)if(t&&t.length)if(n.includes("*")){var r,i=Object(o.a)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value.name;e.add(a)}}catch(f){i.e(f)}finally{i.f()}}else{var s,c=Object(o.a)(n);try{for(c.s();!(s=c.n()).done;){j(e,t,s.value)}}catch(f){c.e(f)}finally{c.f()}}else{if(n.includes("*"))return e.clear(),void e.add("*");var u,l=Object(o.a)(n);try{for(l.s();!(u=l.n()).done;){var h=u.value;e.add(h)}}catch(f){l.e(f)}finally{l.f()}}}function j(e,t,n){if(t&&t.length){var r=_(t,n);r&&e.add(r.name)}else"string"==typeof n&&e.add(n)}function w(e,t){return Object(c.g)(t)||Object(c.g)(e)?[]:t.includes("*")?e.map((function(e){return e.name})):t}function _(e,t){if("string"!=typeof t)return null;if(null!=e){t=t.toLowerCase();var n,r=Object(o.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i&&i.name.toLowerCase()===t)return i}}catch(a){r.e(a)}finally{r.f()}}return null}function x(e,t){if(!e||!t||"string"!=typeof t)return!1;t=t.toLowerCase();var n,r=Object(o.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i&&i.name.toLowerCase()===t)return!0}}catch(a){r.e(a)}finally{r.f()}return!1}function k(e,t,n){return S.apply(this,arguments)}function S(){return(S=Object(a.a)(i.a.mark((function e(t,n,r){var a,s,c,u,l,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(f.e)();case 4:a=e.sent,s=a.arcadeUtils,c=s.extractFieldNames(r),u=Object(o.a)(c);try{for(u.s();!(l=u.n()).done;)h=l.value,j(t,n,h)}catch(i){u.e(i)}finally{u.f()}case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){var t=e.displayField,n=e.fields;return t||(n&&n.length?T(n,"name-or-title")||T(n,"unique-identifier")||T(n,"type-or-category")||function(e){var t,n=Object(o.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r&&r.name){var i=r.name.toLowerCase();if(i.indexOf("name")>-1||i.indexOf("title")>-1)return r.name}}}catch(a){n.e(a)}finally{n.f()}return null}(n):null)}function T(e,t){var n,r=Object(o.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i&&i.valueType&&i.valueType===t)return i.name}}catch(a){r.e(a)}finally{r.f()}return null}function M(e,t){return C.apply(this,arguments)}function C(){return(C=Object(a.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return r=n.fields,a=Object(s.b)("elevationInfo.featureExpressionInfo",n),e.abrupt("return",a?a.collectRequiredFields(t,r):void 0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n){return P.apply(this,arguments)}function P(){return(P=Object(a.a)(i.a.mark((function e(t,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&r&&"cluster"===r.type&&r.fields,!e.t0){e.next=4;break}return e.next=4,Object(l.b)(r.fields.map((function(e){return function(){var e=Object(a.a)(i.a.mark((function e(t,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.outStatistic.onStatisticValueExpression?k(t,n,r.outStatistic.onStatisticValueExpression):t.add(r.outStatistic.onStatisticField);case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(t,n.fields,e)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t,n){return D.apply(this,arguments)}function D(){return(D=Object(a.a)(i.a.mark((function e(t,r,a){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r&&a&&(a.where&&"1=1"!==a.where||a.timeExtent)&&(r.timeInfo&&a.timeExtent&&O(t,r.fields,[r.timeInfo.startField,r.timeInfo.endField]),Object(c.h)(a.where)&&a.where))){e.next=7;break}return e.next=3,n.e(1).then(n.bind(null,895));case 3:if((o=e.sent.WhereClause.create(a.where,r.fieldsIndex)).isStandardized){e.next=6;break}throw new u.a("fieldUtils:collectFilterFields","Where clause is not standardized");case 6:O(t,r.fields,o.fieldNames);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){if(!e)return[];var t="editFieldsInfo"in e&&e.editFieldsInfo;return t?g(e.fields,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}function R(e){if(!e)return[];var t="geometryProperties"in e&&e.geometryProperties;return t?g(e.fields,[t&&t.shapeAreaFieldName,t&&t.shapeLengthFieldName]):[]}function N(e,t){return F.apply(this,arguments)}function F(){return(F=Object(a.a)(i.a.mark((function e(t,n){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.labelingInfo,o=n.fields,e.t0=r&&r.length,!e.t0){e.next=5;break}return e.next=5,Object(l.b)(r.map((function(e){return function(){var e=Object(a.a)(i.a.mark((function e(t,n,r){var a,o,s,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if(a=r.getLabelExpression(),o=r.where,"arcade"!==a.type){e.next=8;break}return e.next=6,k(t,n,a.expression);case 6:e.next=10;break;case 8:(s=a.expression.match(/{[^}]*}/g))&&s.forEach((function(e){j(t,n,e.slice(1,-1))}));case 10:c=/['"]+/g,o&&(3===(u=o.split(" ")).length&&j(t,n,u[0].replace(c,"")),7===u.length&&(j(t,n,u[0].replace(c,"")),j(t,n,u[4].replace(c,""))));case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(t,o,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){var t=e.defaultValue;return void 0!==t&&Y(e,t)?t:e.nullable?null:void 0}function V(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function U(e){return null===e||V(e)}var B="isInteger"in Number?Number.isInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function G(e){return null===e||B(e)}function q(e){return null!=e&&"string"==typeof e}function H(e){return null===e||q(e)}function W(){return!0}function Y(e,t){var n;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":n=e.nullable?G:B;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?U:V;break;case"string":case"esriFieldTypeString":n=e.nullable?H:q;break;default:n=W}return 1===arguments.length?n:n(t)}var J,K,X=new Set([].concat(["integer","small-integer","single","double"],["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));function Q(e){return null!=e&&X.has(e.type)}function Z(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function $(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function ee(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function te(e,t){return e.nullable&&null===t?null:Q(e)&&!function(e,t){var n="string"==typeof e?re(e):e;return!!n&&(n.isInteger?B(t)&&t>=n.min&&t<=n.max:t>=n.min&&t<=n.max)}(e.type,Number(t))?J.OUT_OF_RANGE:Y(e,t)?e.domain?Object(h.e)(e.domain,t):null:K.INVALID_TYPE}function ne(e){return Object(h.c)(e.domain)||(Q(e)?re(e.type):void 0)}function re(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return ie;case"esriFieldTypeInteger":case"integer":return ae;case"esriFieldTypeSingle":case"single":return oe;case"esriFieldTypeDouble":case"double":return se}}(J||(J={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(K||(K={}));var ie={min:-32768,max:32767,isInteger:!0},ae={min:-2147483648,max:2147483647,isInteger:!0},oe={min:-34e37,max:12e37,isInteger:!1},se={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function ce(e,t,n){switch(e){case h.a.INVALID_CODED_VALUE:return"Value ".concat(n," is not in the coded domain - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case h.a.VALUE_OUT_OF_RANGE:return"Value ".concat(n," is out of the range of valid values - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case K.INVALID_TYPE:return"Value ".concat(n," is not a valid value for the field type - field: ").concat(t.name,", type: ").concat(t.type,", nullable: ").concat(t.nullable);case J.OUT_OF_RANGE:var r=re(t.type),i=r.min,a=r.max;return"Value ".concat(n," is out of range for the number type - field: ").concat(t.name,", type: ").concat(t.type,", value range is ").concat(i," to ").concat(a)}}function ue(e,t){return!function(e,t,n){if(!t||!t.attributes||!e){if(Object(c.h)(n)){var r,i=Object(o.a)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.add(a)}}catch(d){i.e(d)}finally{i.f()}}return!0}var s,u=t.attributes,l=!1,h=Object(o.a)(e);try{for(h.s();!(s=h.n()).done;){var f=s.value;if(!(f in u)){if(l=!0,!Object(c.h)(n))break;n.add(f)}}}catch(d){h.e(d)}finally{h.f()}return l}(e,t,null)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(2),i=n(3),a=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreUnknown:!1};Object(r.a)(this,e),this.jsonToAPI=t,this.options=i,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this.invertMap(t),this.apiValues=this.getKeysSorted(this.apiToJSON),this.jsonValues=this.getKeysSorted(this.jsonToAPI),this.read=function(e){return n.fromJSON(e)},this.write=function(e,t,r){var i=n.toJSON(e);void 0!==i&&(t[r]=i)},this.write.isJSONMapWriter=!0}return Object(i.a)(e,[{key:"toJSON",value:function(e){return this.apiToJSON.hasOwnProperty(e)?this.apiToJSON[e]:this.options.ignoreUnknown?void 0:e}},{key:"fromJSON",value:function(e){return this.jsonToAPI.hasOwnProperty(e)?this.jsonToAPI[e]:this.options.ignoreUnknown?void 0:e}},{key:"invertMap",value:function(e){var t={};for(var n in e)t[e[n]]=n;return t}},{key:"getKeysSorted",value:function(e){var t=[];for(var n in e)t.push(n);return t.sort(),t}}]),e}();function o(){return function(e){return new a(e,{ignoreUnknown:!0})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return y}));var r=n(2),i=n(3),a=n(4),o=n(278),s=n(24),c=n(263),u=n(117),l=n(292),h=n(72),f=n(116),d=function(){function e(t,n,i){var a=this;Object(r.a)(this,e),this.itemByteSize=t,this.itemCreate=n,this.buffers=[],this.items=[],this.itemsPerBuffer=0,this.itemsPtr=0,this.itemsPerBuffer=Math.ceil(i/this.itemByteSize),this.tickHandle=o.a.before((function(){return a.reset()}))}return Object(i.a)(e,[{key:"destroy",value:function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=Object(a.l)(this.tickHandle)),this.itemsPtr=0,this.items=Object(a.l)(this.items),this.buffers=Object(a.l)(this.buffers)}},{key:"get",value:function(){0===this.itemsPtr&&Object(o.a)((function(){}));for(var e=Math.floor(this.itemsPtr/this.itemsPerBuffer);this.buffers.length<=e;){for(var t=new ArrayBuffer(this.itemsPerBuffer*this.itemByteSize),n=0;n<this.itemsPerBuffer;++n)this.items.push(this.itemCreate(t,n*this.itemByteSize));this.buffers.push(t)}return this.items[this.itemsPtr++]}},{key:"reset",value:function(){for(var e=2*(Math.floor(this.itemsPtr/this.itemsPerBuffer)+1);this.buffers.length>e;)this.buffers.pop(),this.items.length=this.buffers.length*this.itemsPerBuffer;this.itemsPtr=0}},{key:"test",get:function(){return{size:this.buffers.length*this.itemsPerBuffer*this.itemByteSize}}}],[{key:"createVec2f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return new e(16,h.b,t)}},{key:"createVec3f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return new e(24,s.c,t)}},{key:"createVec4f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return new e(32,f.e,t)}},{key:"createMat3f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return new e(72,c.b,t)}},{key:"createMat4f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return new e(128,u.d,t)}},{key:"createQuatf64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return new e(32,l.b,t)}}]),e}(),p=4096,b=d.createVec2f64(),v=d.createVec3f64(),y=d.createVec4f64(),m=(d.createMat3f64(),d.createMat4f64());d.createQuatf64()},function(e,t,n){"use strict";e.exports=n(769)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return O})),n.d(t,"n",(function(){return v})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return h})),n.d(t,"q",(function(){return b})),n.d(t,"r",(function(){return a})),n.d(t,"s",(function(){return w}));var r=n(67);function i(e,t){return e[0]=t[0],e[1]=t[1],e}function a(e,t,n){return e[0]=t,e[1]=n,e}function o(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function s(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function c(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function u(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function l(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function h(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function f(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function d(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function p(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function b(e){var t=e[0],n=e[1];return t*t+n*n}function v(e,t){return e[0]=-t[0],e[1]=-t[1],e}function y(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function m(e,t){return e[0]*t[0]+e[1]*t[1]}function g(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function O(e,t,n,r){var i=t[0],a=t[1];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e}function j(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function w(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function _(e,t){return e[0]===t[0]&&e[1]===t[1]}var x=p,k=s,S=c,E=u,T=f,M=d,C=b;Object.freeze({__proto__:null,copy:i,set:a,add:o,subtract:s,multiply:c,divide:u,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},scale:l,scaleAndAdd:h,distance:f,squaredDistance:d,length:p,squaredLength:b,negate:v,inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},normalize:y,dot:m,cross:g,lerp:O,random:function(e,t){t=t||1;var n=2*Object(r.b)()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},transformMat2:j,transformMat2d:w,transformMat3:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e},transformMat4:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e},rotate:function(e,t,n,r){var i=t[0]-n[0],a=t[1]-n[1],o=Math.sin(r),s=Math.cos(r);return e[0]=i*s-a*o+n[0],e[1]=i*o+a*s+n[1],e},angle:function(e,t){var n=e[0],r=e[1],i=t[0],a=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var s=i*i+a*a;s>0&&(s=1/Math.sqrt(s));var c=(n*i+r*a)*o*s;return c>1?0:c<-1?Math.PI:Math.acos(c)},str:function(e){return"vec2("+e[0]+", "+e[1]+")"},exactEquals:_,equals:function(e,t){var n=e[0],i=e[1],a=t[0],o=t[1];return Math.abs(n-a)<=r.a*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-o)<=r.a*Math.max(1,Math.abs(i),Math.abs(o))},len:x,sub:k,mul:S,div:E,dist:T,sqrDist:M,sqrLen:C})},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return O})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return w}));var r=n(4),i=n(125),a=n(270),o={102113:!0,102100:!0,3857:!0,3785:!0},s={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},c='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',u=[-20037508.342788905,20037508.342788905],l=[-20037508.342787,20037508.342787],h={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:u,origin:l,dx:1e-5},102100:{wkTemplate:c,valid:u,origin:l,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:u,origin:l,dx:1e-5},3857:{wkTemplate:c,valid:u,origin:l,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function f(e,t){return!Object(r.g)(e)&&!Object(r.g)(t)&&(e===t||(null!=e.wkid||null!=t.wkid?e.wkid===t.wkid||y(e)&&y(t)||null!=t.latestWkid&&e.wkid===t.latestWkid||null!=e.latestWkid&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))}function d(e){return _(e)&&e.wkid?h[e.wkid]:null}function p(e){return!!_(e)&&(e.wkid?null==a.a[e.wkid]:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function b(e){return!(g(e)||j(e))}function v(e){return _(e)&&4326===e.wkid}function y(e){return _(e)&&null!=e.wkid&&!0===o[e.wkid]}function m(e){return 104971===e||104905===e}function g(e){return _(e)&&null!=e.wkid&&m(e.wkid)}function O(e){return 104903===e}function j(e){return _(e)&&null!=e.wkid&&O(e.wkid)}function w(e){return _(e)&&null!=e.wkid&&!0===s[e.wkid]}function _(e){return Object(r.h)(e)&&(null!=e.wkid&&e.wkid>=2e3||null!=e.wkt)}var x={wkid:4326,wkt:Object(i.c)(h[4326].wkTemplate,{Central_Meridian:"0.0"})},k={wkid:102100,latestWkid:3857}},function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return C})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return D}));var r=n(229),i=n(9),a=n(51);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return[e[0],e[1],e[2],e[3]]}function s(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o();return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}var c=[0,0,1,0],u=(Object.freeze({__proto__:null,create:o,wrap:function(e,t,n,r){return s(e,t,n,r,a.d.get())},wrapAxisAngle:function(e,t){return s(e[0],e[1],e[2],t,a.d.get())},copy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o();return s(e[0],e[1],e[2],e[3],t)},fromValues:s,fromAxisAndAngle:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o();return Object(i.h)(n,e),n[3]=t,n},fromPoints:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o();return Object(i.d)(n,e,t),Object(i.o)(n,n),n[3]=Object(r.a)(e,t),n},axis:function(e){return e},UP:c}),n(183)),l=n(83),h=n(190),f=n(586),d=n(233),p=n(24),b=n(87),v=n(161),y=n(116),m=n(90);function g(e){if(e){var t=e.planes,n=e.points;return{planes:[Object(l.c)(t[0]),Object(l.c)(t[1]),Object(l.c)(t[2]),Object(l.c)(t[3]),Object(l.c)(t[4]),Object(l.c)(t[5])],points:[Object(p.d)(n[0]),Object(p.d)(n[1]),Object(p.d)(n[2]),Object(p.d)(n[3]),Object(p.d)(n[4]),Object(p.d)(n[5]),Object(p.d)(n[6]),Object(p.d)(n[7])]}}return{planes:[Object(l.c)(),Object(l.c)(),Object(l.c)(),Object(l.c)(),Object(l.c)(),Object(l.c)()],points:[Object(p.e)(),Object(p.e)(),Object(p.e)(),Object(p.e)(),Object(p.e)(),Object(p.e)(),Object(p.e)(),Object(p.e)()]}}function O(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g(),r=0;r<6;r++)Object(l.h)(e[r],n.planes[r]);for(var a=0;a<8;a++)Object(i.h)(n.points[a],t[a]);return n}function j(e){var t=e.planes,n=e.points;Object(l.j)(n[4],n[0],n[3],t[0]),Object(l.j)(n[1],n[5],n[6],t[1]),Object(l.j)(n[4],n[5],n[1],t[2]),Object(l.j)(n[3],n[2],n[6],t[3]),Object(l.j)(n[0],n[1],n[2],t[4]),Object(l.j)(n[5],n[4],n[7],t[5])}function w(e,t){for(var n=0;n<6;n++)if(!Object(l.q)(e[n],t))return!1;return!0}var _=[Object(y.d)(-1,-1,-1,1),Object(y.d)(1,-1,-1,1),Object(y.d)(1,1,-1,1),Object(y.d)(-1,1,-1,1),Object(y.d)(-1,-1,1,1),Object(y.d)(1,-1,1,1),Object(y.d)(1,1,1,1),Object(y.d)(-1,1,1,1)],x=new v.a(d.b),k=Object.freeze({__proto__:null,create:g,copy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g();return O(e.planes,e.points,t)},fromValues:O,fromMatrix:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g(),r=n.points,o=Object(b.l)(a.a.get(),t,e);Object(b.a)(o,o);for(var s=0;s<8;++s){var c=Object(m.m)(a.d.get(),_[s],o);Object(i.t)(r[s],c[0]/c[3],c[1]/c[3],c[2]/c[3])}return j(n),n},recomputePlanes:j,intersectsSphere:function(e,t){for(var n=0;n<6;n++)if(Object(l.k)(e[n],t))return!1;return!0},intersectsRay:function(e,t){return w(e,Object(d.e)(t,x.get()))},intersectClipRay:function(e,t){for(var n=0;n<6;n++){var r=e[n];if(!Object(l.l)(r,t))return!1}return!0},intersectsLineSegment:function(e,t,n){return w(e,Object(d.a)(t,n,x.get()))},intersectsPoint:function(e,t){for(var n=0;n<6;n++)if(Object(l.m)(e[n],t)>0)return!1;return!0},intersectsAABB:function(e,t){for(var n=0;n<6;n++)if(Object(l.o)(e[n],t))return!1;return!0},planePointIndices:{bottom:[5,1,0,4],near:[0,1,2,3],far:[5,4,7,6],right:[1,5,6,2],left:[4,0,3,7],top:[7,3,2,6]}}),S=n(587),E=n(497),T=l.g,M=(f.a,E.b,u.d),C=h.g,A=d.c,P=S.b,I=k,D=r.c},function(e,t,n){"use strict";var r=n(32),i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14)),l=n(18),h=n(1),f=n(62),d=n(34),p=n(8),b=n(35),v=(n(12),n(21),n(22),n(54)),y=n(48),m=n(157);var g,O=n(79),j=[0,0];function w(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}var _=u.a.getLogger("esri.geometry.Point"),x=g=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).x=0,e.y=0,e.z=void 0,e.m=void 0,e.type="point",e}return Object(a.a)(n,[{key:"normalizeCtorArgs",value:function(e,t,n,r,i){var a;if(Array.isArray(e))i=t,e=(a=e)[0],t=a[1],n=a[2],r=a[3];else if(e&&"object"==typeof e){if(e=null!=(a=e).x?a.x:a.longitude,t=null!=a.y?a.y:a.latitude,n=a.z,r=a.m,(i=a.spatialReference)&&"esri.geometry.SpatialReference"!==i.declaredClass&&(i=new y.a(i)),null!=a.longitude||null!=a.latitude)if(null==a.longitude)_.warn(".longitude=","Latitude was defined without longitude");else if(null==a.latitude)_.warn(".latitude=","Longitude was defined without latitude");else if(!a.declaredClass&&i&&i.isWebMercator){var o=Object(O.c)(a.longitude,a.latitude,j);e=o[0],t=o[1]}}else w(n)?(i=n,n=null):w(r)&&(i=r,r=null);var s={x:e,y:t};return null==s.x&&null!=s.y?_.warn(".y=","Y coordinate was defined without an X coordinate"):null==s.y&&null!=s.x&&_.warn(".x=","X coordinate was defined without a Y coordinate"),null!=i&&(s.spatialReference=i),null!=n&&(s.z=n),null!=r&&(s.m=r),s}},{key:"hasM",get:function(){return void 0!==this.m},set:function(e){e!==this.hasM&&(this._set("m",e?0:void 0),this._set("hasM",e))}},{key:"hasZ",get:function(){return void 0!==this.z},set:function(e){e!==this.hasZ&&(this._set("z",e?0:void 0),this._set("hasZ",e))}},{key:"latitude",get:function(){var e=this._get("spatialReference");if(e){if(e.isWebMercator)return Object(O.f)(this.x,this.y,j)[1];if(e.isGeographic)return this._get("y")}return null},set:function(e){var t=this._get("spatialReference");t&&(t.isWebMercator?this._set("y",Object(O.c)(this.x,e,j)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}},{key:"longitude",get:function(){var e=this._get("spatialReference");if(e){if(e.isWebMercator)return Object(O.f)(this._get("x"),this._get("y"),j)[0];if(e.isGeographic)return this._get("x")}return null},set:function(e){var t=this._get("spatialReference");t&&(t.isWebMercator?this._set("x",Object(O.c)(e,this._get("y"),j)[0]):t.isGeographic&&this._set("x",e),this._set("longitude",e))}},{key:"writeX",value:function(e,t,n){t[n]=isNaN(e)?"NaN":e}},{key:"readX",value:function(e){return"string"==typeof e?NaN:e}},{key:"clone",value:function(){var e=new g;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}},{key:"copy",value:function(e){return g.copy(e,this),this}},{key:"equals",value:function(e){var t,n;if(!e)return!1;var i=this.x,a=this.y,o=this.z,s=this.m,c=this.spatialReference,u=e.z,l=e.m,h=e.x,f=e.y,d=e.spatialReference;if(!c.equals(d))if(c.isWebMercator&&d.isWGS84)t=Object(O.c)(h,f),h=(n=Object(r.a)(t,2))[0],f=n[1],d=c;else{var p,b;if(!c.isWGS84||!d.isWebMercator)return!1;p=Object(O.f)(h,f),h=(b=Object(r.a)(p,2))[0],f=b[1],d=c}return i===h&&a===f&&o===u&&s===l&&c.wkid===d.wkid}},{key:"offset",value:function(e,t,n){return function(e,t,n,r){return e.x=e.x+t,e.y=e.y+n,null!=r&&null!=e.z&&(e.z=e.z+r),e}(this,e,t,n)}},{key:"normalize",value:function(){if(!this.spatialReference)return this;var e=Object(v.d)(this.spatialReference);if(!e)return this;var t=this.x,n=Object(r.a)(e.valid,2),i=n[0],a=n[1],o=2*a;return t>a?t-=Math.ceil(Math.abs(t-a)/o)*o:t<i&&(t+=Math.ceil(Math.abs(t-i)/o)*o),this._set("x",t),this}},{key:"distance",value:function(e){return function(e,t){var n=e.x-t.x,r=e.y-t.y,i=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(n*n+r*r+i*i)}(this,e)}},{key:"toArray",value:function(){var e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}},{key:"toJSON",value:function(e){return this.write(null,e)}}],[{key:"copy",value:function(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));var n=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(n)?n:n.clone())}}]),n}(m.a);Object(c.a)([Object(h.b)({dependsOn:["x","y","z","m","spatialReference"],autoTracked:!1})],x.prototype,"cache",void 0),Object(c.a)([Object(h.b)({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],x.prototype,"hasM",null),Object(c.a)([Object(h.b)({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],x.prototype,"hasZ",null),Object(c.a)([Object(h.b)({type:Number,dependsOn:["y"],autoTracked:!1})],x.prototype,"latitude",null),Object(c.a)([Object(h.b)({type:Number,dependsOn:["x"],autoTracked:!1})],x.prototype,"longitude",null),Object(c.a)([Object(h.b)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Object(f.a)((function(e){return isNaN(e)?e:Object(l.i)(e)}))],x.prototype,"x",void 0),Object(c.a)([Object(b.a)("x")],x.prototype,"writeX",null),Object(c.a)([Object(d.a)("x")],x.prototype,"readX",null),Object(c.a)([Object(h.b)({type:Number,json:{write:!0}})],x.prototype,"y",void 0),Object(c.a)([Object(h.b)({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],x.prototype,"z",void 0),Object(c.a)([Object(h.b)({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],x.prototype,"m",void 0),(x=g=Object(c.a)([Object(p.a)("esri.geometry.Point")],x)).prototype.toJSON.isDefaultToJSON=!0;var k=x;t.a=k},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:void 0;t.a=n}).call(this,n(317))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")},e.exports=t.default},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=n(4),u=n(1),l=n(8),h=n(37),f=n(39),d=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e))._groups=new Map,i}return Object(i.a)(n,[{key:"destroy",value:function(){this.removeAll()}},{key:"size",get:function(){var e=0;return this._groups.forEach((function(t){e+=t.length})),e}},{key:"add",value:function(e,t){var n=this;if(!this._isHandle(e)&&!Array.isArray(e)&&!f.a.isCollection(e))return this;var r=this._getOrCreateGroup(t);return Array.isArray(e)||f.a.isCollection(e)?e.forEach((function(e){return n._isHandle(e)&&r.push(e)})):r.push(e),this.notifyChange("size"),this}},{key:"forEach",value:function(e,t){if("function"==typeof e)this._groups.forEach((function(t){return t.forEach(e)}));else{var n=this._getGroup(e);n&&t&&n.forEach(t)}}},{key:"has",value:function(e){return this._groups.has(this._ensureGroupKey(e))}},{key:"remove",value:function(e){if(Array.isArray(e)||f.a.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;for(var t=this._getGroup(e),n=0;n<t.length;n++)t[n].remove();return this._deleteGroup(e),this.notifyChange("size"),this}},{key:"removeAll",value:function(){return this._groups.forEach((function(e){for(var t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}},{key:"_isHandle",value:function(e){return e&&!!e.remove}},{key:"_getOrCreateGroup",value:function(e){if(this.has(e))return this._getGroup(e);var t=[];return this._groups.set(this._ensureGroupKey(e),t),t}},{key:"_getGroup",value:function(e){return Object(c.c)(this._groups.get(this._ensureGroupKey(e)))}},{key:"_deleteGroup",value:function(e){return this._groups.delete(this._ensureGroupKey(e))}},{key:"_ensureGroupKey",value:function(e){return e||"_default_"}}]),n}(h.a);Object(s.a)([Object(u.b)({readOnly:!0})],d.prototype,"size",null);var p=d=Object(s.a)([Object(l.a)("esri.core.Handles")],d);t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(57);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(18),i=n(179),a=Object.prototype.toString;function o(e){var t="__accessorMetadata__"in e?Object(r.m)(e):e;return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.push(t),"number"==typeof n[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return s.apply(this,n)}}function s(e,t,n,r){Object(i.b)(e,t).cast=r}function c(){var e;if(3!==arguments.length||"string"!=typeof(arguments.length<=1?void 0:arguments[1]))return 1===arguments.length&&"[object Function]"===a.call(arguments.length<=0?void 0:arguments[0])?o(arguments.length<=0?void 0:arguments[0]):1===arguments.length&&"string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],function(t,n){Object(i.b)(t,e).cast=t[n]}):void 0}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p}));var r=n(25),i=n(461),a=n(324),o=n(268),s=n(312),c=n(217),u="@esri/arcgis-rest-js",l={httpMethod:"POST",params:{f:"json"}};function h(e,t){e.authentication&&!t&&Object(c.a)("You should not set `authentication` as a default in a shared environment such as a web server which will process multiple users requests. You can call `setDefaultRequestOptions` with `true` as a second argument to disable this warning."),l=e}var f=function(e){function t(t,n,r,i,a){void 0===t&&(t="AUTHENTICATION_ERROR"),void 0===n&&(n="AUTHENTICATION_ERROR_CODE");var o=e.call(this,t,n,r,i,a)||this;return o.name="ArcGISAuthError",o.message="AUTHENTICATION_ERROR_CODE"===n?t:n+": "+t,o}return Object(r.b)(t,e),t.prototype.retry=function(e,t){var n=this;void 0===t&&(t=3);var i=0,a=function a(o,s){e(n.url,n.options).then((function(e){var t=Object(r.a)(Object(r.a)({},n.options),{authentication:e});return i+=1,p(n.url,t)})).then((function(e){o(e)})).catch((function(e){"ArcGISAuthError"===e.name&&i<t?a(o,s):"ArcGISAuthError"===e.name&&i>=t?s(n):s(e)}))};return new Promise((function(e,t){a(e,t)}))},t}(s.a);function d(e,t,n,r,i){if(e.code>=400){var a=e.message,o=e.code;throw new s.a(a,o,e,t,r)}if(e.error){var c=e.error,u=(a=c.message,o=c.code,c.messageCode),l=u||o||"UNKNOWN_ERROR_CODE";if(498===o||499===o||"GWM_0003"===u||400===o&&"Unable to generate token."===a)throw i||new f(a,l,e,t,r);throw new s.a(a,l,e,t,r)}if("failed"===e.status||"failure"===e.status){a=void 0,o="UNKNOWN_ERROR_CODE";try{a=JSON.parse(e.statusMessage).message,o=JSON.parse(e.statusMessage).code}catch(h){a=e.statusMessage||e.message}throw new s.a(a,o,e,t,r)}return e}function p(e,t){void 0===t&&(t={params:{f:"json"}});var n=Object(r.a)(Object(r.a)(Object(r.a)({httpMethod:"POST"},l),t),{params:Object(r.a)(Object(r.a)({},l.params),t.params),headers:Object(r.a)(Object(r.a)({},l.headers),t.headers)}),c=[],h=[];if(n.fetch||"undefined"===typeof fetch?(c.push("`fetch`"),h.push("`node-fetch`")):n.fetch=fetch.bind(Function("return this")()),"undefined"===typeof Promise&&(c.push("`Promise`"),h.push("`es6-promise`")),"undefined"===typeof FormData&&(c.push("`FormData`"),h.push("`isomorphic-form-data`")),!n.fetch||"undefined"===typeof Promise||"undefined"===typeof FormData)throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+c.join(", ")+". We recommend installing the "+h.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var f=n.httpMethod,p=n.authentication,b=n.rawResponse,v=Object(r.a)({f:"json"},n.params),y=null,m={method:f,credentials:"same-origin"};return n.headers&&n.headers["X-Esri-Auth-Client-Id"]&&e.indexOf("/oauth2/platformSelf")>-1&&(m.credentials="include"),(p?p.getToken(e,{fetch:n.fetch}).catch((function(t){return t.url=e,t.options=n,y=t,Promise.resolve("")})):Promise.resolve("")).then((function(t){t.length&&(v.token=t);var s={};if("GET"===m.method){v.token&&n.hideToken&&"undefined"===typeof window&&(s["X-Esri-Authorization"]="Bearer "+v.token,delete v.token);var c=""===Object(a.b)(v)?e:e+"?"+Object(a.b)(v);n.maxUrlLength&&c.length>n.maxUrlLength||v.token&&n.hideToken?(m.method="POST",t.length&&n.hideToken&&(v.token=t,delete s["X-Esri-Authorization"])):e=c}var l=new RegExp("/items/.+/updateResources").test(e);return"POST"===m.method&&(m.body=Object(i.a)(v,l)),m.headers=Object(r.a)(Object(r.a)({},s),n.headers),"undefined"!==typeof window||m.headers.referer||(m.headers.referer=u),Object(o.b)(v)||l||(m.headers["Content-Type"]="application/x-www-form-urlencoded"),n.fetch(e,m)})).then((function(t){if(!t.ok){var r=t.status,i=t.statusText;throw new s.a(i,"HTTP "+r,t,e,n)}if(b)return t;switch(v.f){case"json":case"geojson":return t.json();case"html":case"text":return t.text();default:return t.blob()}})).then((function(t){if("json"!==v.f&&"geojson"!==v.f||b)return t;var r=d(t,e,0,n,y);if(y){var i=e.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];n.authentication.trustedServers[i]={token:[],expires:new Date(Date.now()+864e5)},y=null}return r}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Oe})),n.d(t,"b",(function(){return xe})),n.d(t,"c",(function(){return we})),n.d(t,"d",(function(){return Te})),n.d(t,"e",(function(){return je})),n.d(t,"f",(function(){return Ee})),n.d(t,"g",(function(){return _e}));n(15);var r=n(14),i=n(211);var a,o,s=Function.prototype,c=Object.prototype,u=s.toString,l=c.hasOwnProperty,h=u.call(Object),f=c.toString,d=(a=Object.getPrototypeOf,o=Object,function(e){return a(o(e))});var p=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=f.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e))return!1;var t=d(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==h};function b(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&n.path)}},n.exports),n.exports}function v(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var y=/javascript\s*\:/gim;var m={whiteList:v(),getDefaultWhiteList:v,onAttr:function(e,t,n){},onIgnoreAttr:function(e,t,n){},safeAttrValue:function(e,t){return y.test(t)?"":t}},g=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},O=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")};var j=function(e,t){";"!==(e=O(e))[e.length-1]&&(e+=";");var n=e.length,r=!1,i=0,a=0,o="";function s(){if(!r){var n=g(e.slice(i,a)),s=n.indexOf(":");if(-1!==s){var c=g(n.slice(0,s)),u=g(n.slice(s+1));if(c){var l=t(i,o.length,c,u,n);l&&(o+=l+"; ")}}}i=a+1}for(;a<n;a++){var c=e[a];if("/"===c&&"*"===e[a+1]){var u=e.indexOf("*/",a+2);if(-1===u)break;i=(a=u+1)+1,r=!1}else"("===c?r=!0:")"===c?r=!1:";"===c?r||s():"\n"===c&&s()}return g(o)};function w(e){return void 0===e||null===e}function _(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||m.whiteList,e.onAttr=e.onAttr||m.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||m.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||m.safeAttrValue,this.options=e}_.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,i=t.onIgnoreAttr,a=t.safeAttrValue;return j(e,(function(e,t,o,s,c){var u=n[o],l=!1;if(!0===u?l=u:"function"===typeof u?l=u(s):u instanceof RegExp&&(l=u.test(s)),!0!==l&&(l=!1),s=a(o,s)){var h,f={position:t,sourcePosition:e,source:c,isWhite:l};return l?w(h=r(o,s,f))?o+":"+s:h:w(h=i(o,s,f))?void 0:h}}))};var x=_,k=b((function(e,t){for(var n in(t=e.exports=function(e,t){return new x(t).process(e)}).FilterCSS=x,m)t[n]=m[n]})),S=function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},E=function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},T=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},M=function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},C=k.FilterCSS,A=k.getDefaultWhiteList;function P(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var I=new C;function D(e){return e.replace(L,"&lt;").replace(R,"&gt;")}var L=/</g,R=/>/g,N=/"/g,F=/&quot;/g,z=/&#([a-zA-Z0-9]*);?/gim,V=/&colon;?/gim,U=/&newline;?/gim,B=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,G=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,q=/u\s*r\s*l\s*\(.*/gi;function H(e){return e.replace(N,"&quot;")}function W(e){return e.replace(F,'"')}function Y(e){return e.replace(z,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function J(e){return e.replace(V,":").replace(U," ")}function K(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return T(t)}function X(e){return e=K(e=J(e=Y(e=W(e))))}function Q(e){return e=D(e=H(e))}var Z=/<!--[\s\S]*?-->/g;var $={whiteList:{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},getDefaultWhiteList:P,onTag:function(e,t,n){},onIgnoreTag:function(e,t,n){},onTagAttr:function(e,t,n){},onIgnoreTagAttr:function(e,t,n){},safeAttrValue:function(e,t,n,r){if(n=X(n),"href"===t||"src"===t){if("#"===(n=T(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(B.lastIndex=0,B.test(n))return""}else if("style"===t){if(G.lastIndex=0,G.test(n))return"";if(q.lastIndex=0,q.test(n)&&(B.lastIndex=0,B.test(n)))return"";!1!==r&&(n=(r=r||I).process(n))}return n=Q(n)},escapeHtml:D,escapeQuote:H,unescapeQuote:W,escapeHtmlEntities:Y,escapeDangerHtml5Entities:J,clearNonPrintableCharacter:K,friendlyAttrValue:X,escapeAttrValue:Q,onIgnoreTagStripAll:function(){return""},StripTagBody:function(e,t){"function"!==typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],i=!1;return{onIgnoreTag:function(a,o,s){if(function(t){return!!n||-1!==S(e,t)}(a)){if(s.isClosing){var c="[/removed]",u=s.position+c.length;return r.push([!1!==i?i:s.position,u]),i=!1,c}return i||(i=s.position),"[removed]"}return t(a,o,s)},remove:function(e){var t="",n=0;return E(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},stripCommentTag:function(e){return e.replace(Z,"")},stripBlankChar:function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},cssFilter:I,getDefaultCSSWhiteList:A};function ee(e){var t=M(e);if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=T(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function te(e){return"</"===e.slice(0,2)}var ne=/[^a-zA-Z0-9_:\.\-]/gim;function re(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function ie(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function ae(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}var oe={parseTag:function(e,t,n){var r="",i=0,a=!1,o=!1,s=0,c=e.length,u="",l="";e:for(s=0;s<c;s++){var h=e.charAt(s);if(!1===a){if("<"===h){a=s;continue}}else if(!1===o){if("<"===h){r+=n(e.slice(i,s)),a=s,i=s;continue}if(">"===h){r+=n(e.slice(i,a)),u=ee(l=e.slice(a,s+1)),r+=t(a,r.length,u,l,te(l)),i=s+1,a=!1;continue}if('"'===h||"'"===h)for(var f=1,d=e.charAt(s-f);" "===d||"="===d;){if("="===d){o=h;continue e}d=e.charAt(s-++f)}}else if(h===o){o=!1;continue}}return i<e.length&&(r+=n(e.substr(i))),r},parseAttr:function(e,t){var n=0,r=[],i=!1,a=e.length;function o(e,n){if(!((e=(e=T(e)).replace(ne,"").toLowerCase()).length<1)){var i=t(e,n||"");i&&r.push(i)}}for(var s=0;s<a;s++){var c,u=e.charAt(s);if(!1!==i||"="!==u)if(!1===i||s!==n||'"'!==u&&"'"!==u||"="!==e.charAt(s-1))if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(c=re(e,s))){o(T(e.slice(n,s))),i=!1,n=s+1;continue}s=c-1;continue}if(-1===(c=ie(e,s-1))){o(i,ae(T(e.slice(n,s)))),i=!1,n=s+1;continue}}else;else{if(-1===(c=e.indexOf(u,s+1)))break;o(i,T(e.slice(n+1,c))),i=!1,n=(s=c)+1}else i=e.slice(n,s),n=s+1}return n<e.length&&(!1===i?o(e.slice(n)):o(i,ae(T(e.slice(n))))),T(r.join(" "))}},se=k.FilterCSS,ce=oe.parseTag,ue=oe.parseAttr;function le(e){return void 0===e||null===e}function he(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=$.onIgnoreTagStripAll),e.whiteList=e.whiteList||$.whiteList,e.onTag=e.onTag||$.onTag,e.onTagAttr=e.onTagAttr||$.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||$.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||$.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||$.safeAttrValue,e.escapeHtml=e.escapeHtml||$.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new se(e.css))}he.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,i=t.onIgnoreTag,a=t.onTagAttr,o=t.onIgnoreTagAttr,s=t.safeAttrValue,c=t.escapeHtml,u=this.cssFilter;t.stripBlankChar&&(e=$.stripBlankChar(e)),t.allowCommentTag||(e=$.stripCommentTag(e));var l=!1;if(t.stripIgnoreTagBody){l=$.StripTagBody(t.stripIgnoreTagBody,i);i=l.onIgnoreTag}var h=ce(e,(function(e,t,l,h,f){var d,p={sourcePosition:e,position:t,isClosing:f,isWhite:n.hasOwnProperty(l)};if(!le(d=r(l,h,p)))return d;if(p.isWhite){if(p.isClosing)return"</"+l+">";var b=function(e){var t=M(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=T(e.slice(t+1,-1)))[e.length-1];return n&&(e=T(e.slice(0,-1))),{html:e,closing:n}}(h),v=n[l],y=ue(b.html,(function(e,t){var n,r=-1!==S(v,e);return le(n=a(l,e,t,r))?r?(t=s(l,e,t,u))?e+'="'+t+'"':e:le(n=o(l,e,t,r))?void 0:n:n}));h="<"+l;return y&&(h+=" "+y),b.closing&&(h+=" /"),h+=">"}return le(d=i(l,h,p))?c(h):d}),c);return l&&(h=l.remove(h)),h};var fe,de,pe=he,be=b((function(e,t){function n(e,t){return new pe(t).process(e)}for(var r in(t=e.exports=n).filterXSS=n,t.FilterXSS=pe,$)t[r]=$[r];for(var r in oe)t[r]=oe[r];"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)})),ve=function(){function e(e,t){var n,r=this;this.arcgisWhiteList={a:["href","target","style"],img:["src","width","height","border","alt","style"],video:["autoplay","controls","height","loop","muted","poster","preload","width"],audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:["width","height","cellpadding","cellspacing","border","style"],div:["style","align"],font:["size","color","style"],tr:["height","valign","align","style"],td:["height","width","valign","align","colspan","rowspan","nowrap","style"],th:["height","width","valign","align","colspan","rowspan","nowrap","style"],p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,n,i){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?r.sanitizeUrl(n):be.safeAttrValue(e,t,n,i)}},e&&!t?n=e:e&&t?(n=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach((function(t){"whiteList"===t?n.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,e.whiteList||{}]):n[t]=e[t]}))):(n=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=n,this._xssFilter=new be.FilterXSS(n)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&"undefined"===typeof e)return;return null}},e.prototype.sanitizeUrl=function(e){var t=this._trim(e.substring(0,e.indexOf(":")));return"/"===e||"#"===e||"#"===e[0]||this.allowedProtocols.indexOf(t.toLowerCase())>-1?be.escapeAttrValue(e):""},e.prototype.sanitizeHTMLAttribute=function(e,t,n,r){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,n,r):be.safeAttrValue(e,t,n,r)},e.prototype.validate=function(e,t){void 0===t&&(t={});var n=this.sanitize(e,t);return{isValid:e===n,sanitized:n}},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(n){Array.isArray(e[n])&&Array.isArray(t[n])?t[n]=t[n].concat(e[n]):t[n]=e[n]}))})),t},e.prototype._iterateOverObject=function(e,t){var n=this;void 0===t&&(t={});try{var r=!1,i=void 0;if(Array.isArray(e))i=e.reduce((function(e,i){var a=n.validate(i,t);return a.isValid?e.concat([i]):(r=!0,e.concat([a.sanitized]))}),[]);else{if(!p(e)){if(t.allowUndefined&&"undefined"===typeof e)return;return null}i=Object.keys(e).reduce((function(i,a){var o=e[a],s=n.validate(o,t);return s.isValid?i[a]=o:(r=!0,i[a]=s.sanitized),i}),{})}return r?i:e}catch(a){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}(),ye=function(e){fe||function(e){if("WebkitTransition"in e.style)fe="webkitTransitionEnd",de="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");fe="transitionend",de="animationend"}}(e)},me=function(e,t){return void 0===t&&(t=e+"-active"),function(n){ye(n);var r=!1,i=function i(a){r||(r=!0,n.removeEventListener(fe,i),n.removeEventListener(de,i),n.classList.remove(e),n.classList.remove(t))};n.classList.add(e),n.addEventListener(fe,i),n.addEventListener(de,i),requestAnimationFrame((function(){n.classList.add(t)}))}},ge=function(e,t){return void 0===t&&(t=e+"-active"),function(n,r){ye(n);var i=!1,a=function e(t){i||(i=!0,n.removeEventListener(fe,e),n.removeEventListener(de,e),r())};n.classList.add(e),n.addEventListener(fe,a),n.addEventListener(de,a),requestAnimationFrame((function(){n.classList.add(t)}))}};function Oe(e){for(var t=i.a.acquire(),n=0;n<arguments.length;n++){var r=arguments[n],a=typeof r;if("string"===a)t.push(r);else if(Array.isArray(r))t.push.apply(t,r);else if("object"===a)for(var o in r)r[o]&&t.push(o)}var s=t.join(" ");return i.a.release(t),s}function je(){return"rtl"===document.dir}function we(e){this[e.getAttribute("data-node-ref")]=null}function _e(e){this[e.getAttribute("data-node-ref")]=e}function xe(e,t){return("enter"===e?me:ge)(t)}r.a.getLogger("esri.widgets.support.widgetUtils");var ke=["h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((function(e,t){return e[t]=[],e}),{}),Se=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Ee=new ve({whiteList:ke,onTagAttr:function(e,t,n){var r="".concat(t,'="').concat(n,'"');if(Se.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Te(){var e;return-1!==(null==(e=getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name"))?void 0:e.indexOf("dark"))}},function(e,t,n){"use strict";n.r(t);var r,i=n(13),a=n(32),o=n(7),s=n.n(o),c=n(10),u=n(16),l=n(58),h=n(15),f=n(23),d=n(106),p=n(4),b=n(20),v=n(12),y=n(17),m=n(120),g=n(475);function O(e,t){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(s.a.mark((function e(t,i){var o,f,g,j,x,k,S,C;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Object(v.u)(t),(f=Object(v.t)(t))||o||(t=Object(v.B)(t)),g={url:t,requestOptions:Object(c.a)({},Object(p.n)(i))},!(j=Object(v.l)(t))){e.next=11;break}return e.next=7,function(){var e=Object(u.a)(s.a.mark((function e(t,n){var r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.responseData){e.next=2;break}return e.abrupt("return",t.responseData);case 2:if(t.headers&&(n.requestOptions.headers=Object(c.a)(Object(c.a)({},n.requestOptions.headers),t.headers)),t.query&&(n.requestOptions.query=Object(c.a)(Object(c.a)({},n.requestOptions.query),t.query)),!t.before){e.next=17;break}return e.prev=5,e.next=8,t.before(n);case 8:i=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),r=T("request:interceptor",e.t0,n);case 14:if((i instanceof Error||i instanceof b.a)&&(r=T("request:interceptor",i,n)),!r){e.next=16;break}throw t.error&&t.error(r),r;case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}()(j,g);case 7:if(null==(x=e.sent)){e.next=10;break}return e.abrupt("return",{data:x,getHeader:E,requestOptions:g.requestOptions,url:g.url});case 10:j.after||j.error||(j=null);case 11:if(t=g.url,"image"!==(i=g.requestOptions).responseType){e.next=16;break}if(!Object(h.a)("host-webworker")&&!Object(h.a)("host-node")){e.next=14;break}throw T("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),g);case 14:e.next=18;break;case 16:if(!o){e.next=18;break}throw T("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+i.responseType),g);case 18:if("head"!==i.method){e.next=23;break}if(!i.body){e.next=21;break}throw T("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),g);case 21:if(!o&&!f){e.next=23;break}throw T("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),g);case 23:return e.next=25,Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(h.a)("host-webworker")){e.next=8;break}if(e.t0=r,e.t0){e.next=6;break}return e.next=5,n.e(105).then(n.bind(null,897));case 5:r=e.sent;case 6:e.next=9;break;case 8:O._abortableFetch||(O._abortableFetch=l.a.fetch.bind(l.a));case 9:case"end":return e.stop()}}),e)})))();case 25:if(!r){e.next=27;break}return e.abrupt("return",r.execute(t,i));case 27:return k=Object(y.d)(),Object(y.p)(i,(function(){return k.abort()})),S={controller:k,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:j,params:g,redoRequest:!1,useIdentity:w.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},e.next=32,function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,i,o,c,h,f,p,b,g,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,i,a,o,c,u,h,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.params.url,r=t.params.requestOptions,i=t.controller.signal,a=r.body,o=null,c=null,u=null,_&&"HTMLFormElement"in l.a&&(a instanceof FormData?o=a:a instanceof HTMLFormElement&&(c=a,o=new FormData(c))),"string"==typeof a&&(u=a),t.fetchOptions={cache:r.cacheBust&&!O._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:"head"===r.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:i},(o||u)&&(t.fetchOptions.body=o||u),"anonymous"===r.authMode&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(n)||r.query&&r.query.token||o&&o.get&&o.get("token")||c&&c.elements.token),(h=Object(v.m)(n,!0))&&!t.hasToken&&d.a.apiKey&&h.endsWith(".arcgis.com")&&"elevation3d.arcgis.com"!==h&&"js.arcgis.com"!==h&&"jsdev.arcgis.com"!==h&&"jsqa.arcgis.com"!==h&&(r.query||(r.query={}),r.query.token=d.a.apiKey,t.hasToken=!0),!t.useIdentity||t.hasToken||t.credentialToken||A(n)||Object(y.m)(i)){e.next=30;break}if("immediate"!==r.authMode){e.next=19;break}return e.next=13,M();case 13:return e.next=15,m.b.getCredential(n,{signal:i});case 15:f=e.sent,t.credential=f,e.next=29;break;case 19:if("no-prompt"!==r.authMode){e.next=28;break}return e.next=22,M();case 22:return e.next=24,m.b.getCredential(n,{prompt:!1,signal:i}).catch((function(){}));case 24:f=e.sent,t.credential=f,e.next=29;break;case 28:m.b&&(f=m.b.findCredential(n));case 29:f&&(t.credentialToken=f.token,t.useSSL=!!f.ssl);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t);case 2:e.prev=2;case 3:return e.next=5,P(t);case 5:i=e.sent,o=Object(a.a)(i,2),n=o[0],r=o[1];case 9:return e.next=11,L(t,n,r);case 11:if(!e.sent){e.next=3;break}case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(2),(c=T("request:server",e.t0,t.params,n)).details.ssl=t.useSSL,t.interceptor&&t.interceptor.error&&t.interceptor.error(c),c;case 18:return h=t.params.url,/\/sharing\/rest\/(accounts|portals)\/self/i.test(h)&&!t.hasToken&&!t.credentialToken&&r&&r.user&&r.user.username&&!Object(v.w)(h)&&(f=Object(v.m)(h,!0))&&w.trustedServers.push(f),(p=t.credential)&&m.b&&(b=m.b.findServerInfo(p.server),(g=b&&b.owningSystemUrl)&&(g=g.replace(/\/?$/,"/sharing"),(j=m.b.findCredential(g,p.userId))&&-1===m.b._getIdenticalSvcIdx(g,j)&&j.resources.unshift(g))),e.abrupt("return",{data:r,getHeader:n?function(e){return n.headers.get(e)}:E,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url});case 23:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()(S);case 32:return C=e.sent,e.abrupt("return",(j&&j.after&&j.after(C),C));case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=d.a.request,_="FormData"in l.a,x=[499,498,403,401],k=["COM_0056","COM_0057","SB_0008"],S=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],E=function(){return null};function T(e,t,n,r){var i="Error",a={url:n.url,requestOptions:n.requestOptions,getHeader:E,ssl:!1};if(t instanceof b.a)return t.details?(t.details=Object(f.a)(t.details),t.details.url=n.url,t.details.requestOptions=n.requestOptions):t.details=a,t;if(t){var o=r&&function(e){return r.headers.get(e)},s=r&&r.status,c=t.message;c&&(i=c),o&&(a.getHeader=o),a.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||s||0,a.subCode=t.subcode,a.messageCode=t.messageCode,"string"==typeof t.details?a.messages=[t.details]:a.messages=t.details}return Object(y.l)(t)?Object(y.e)():new b.a(e,i,a)}function M(){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=m.b,e.t0){e.next=4;break}return e.next=4,n.e(106).then(n.bind(null,968));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return S.some((function(t){return t.test(e)}))}function P(e){return I.apply(this,arguments)}function I(){return(I=Object(u.a)(s.a.mark((function e(t){var n,r,a,o,u,l,f,d,p,b,g,j,x,k,S,E,M,C,A,P,I;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.params.url,r=t.params.requestOptions,a=t.fetchOptions,o=Object(v.t)(n)||Object(v.u)(n),u=r.responseType||"json",l=o?0:null!=r.timeout?r.timeout:w.timeout,f=!1,o){e.next=23;break}if(t.useSSL&&(n=Object(v.H)(n)),r.cacheBust&&"default"===a.cache&&(n=Object(v.d)(n,"request.preventCache",Date.now())),d=Object(c.a)({},r.query),t.credentialToken&&(d.token=t.credentialToken),p=Object(v.C)(d),Object(h.a)("esri-url-encodes-apostrophe")&&(p=p.replace(/'/g,"%27")),b=n.length+1+p.length,f="post"===r.method||!!r.body||b>w.maxUrlLength,(j=r.useProxy||!!Object(v.o)(n))&&(x=Object(v.p)(n),g=x.path,!f&&g.length+1+b>w.maxUrlLength&&(f=!0),x.query&&(d=Object(c.a)(Object(c.a)({},x.query),d))),"HEAD"!==a.method||!f&&!j){e.next=20;break}if(!f){e.next=18;break}if(!(b>w.maxUrlLength)){e.next=17;break}throw T("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params);case 17:throw T("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);case 18:if(!j){e.next=20;break}throw T("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params);case 20:f?(a.method="POST",r.body?n=Object(v.e)(n,d):(a.body=Object(v.C)(d),a.headers["Content-Type"]="application/x-www-form-urlencoded")):n=Object(v.e)(n,d),j&&(t.useProxy=!0,n="".concat(g,"?").concat(n)),d.token&&_&&a.body instanceof FormData&&((k=a.body).set?k.set("token",d.token):k.append("token",d.token)),r.hasOwnProperty("withCredentials")?t.withCredentials=r.withCredentials:(Object(v.w)(n)||m.b&&(S=m.b.findServerInfo(n))&&S.webTierAuth)&&(t.withCredentials=!0),t.withCredentials&&(a.credentials="include");case 23:if(C=0,A=!1,l>0&&(C=setTimeout((function(){A=!0,t.controller.abort()}),l)),e.prev=25,"image"===r.responseType&&"default"===a.cache&&"GET"===a.method&&!f&&!function(e){if(e){var t,n=Object(i.a)(Object.getOwnPropertyNames(e));try{for(n.s();!(t=n.n()).done;){if(e[t.value])return!0}}catch(r){n.e(r)}finally{n.f()}}return!1}(r.headers)&&(o||t.useProxy||!w.proxyUrl||function(e){var t=Object(v.m)(e);return!t||t.endsWith(".arcgis.com")||-1!==O._corsServers.indexOf(t)||Object(v.w)(t)}(n))){e.next=79;break}return e.next=29,O._abortableFetch(n,a);case 29:if(E=e.sent,t.useProxy||function(e){if(!Object(v.t)(e)&&!Object(v.u)(e)){var t=Object(v.m)(e);t&&-1===O._corsServers.indexOf(t)&&O._corsServers.push(t)}}(n),!E.ok||"HEAD"===a.method){e.next=77;break}e.t0=u,e.next="array-buffer"===e.t0?35:"blob"===e.t0||"image"===e.t0?39:43;break;case 35:return e.next=37,E.arrayBuffer();case 37:return M=e.sent,e.abrupt("break",46);case 39:return e.next=41,E.blob();case 41:return M=e.sent,e.abrupt("break",46);case 43:return e.next=45,E.text();case 45:M=e.sent;case 46:if(C&&(clearTimeout(C),C=0),"json"!==u&&"xml"!==u&&"document"!==u){e.next=59;break}if(!M){e.next=58;break}e.t1=u,e.next="json"===e.t1?51:"xml"===e.t1?53:"document"===e.t1?55:56;break;case 51:return M=JSON.parse(M),e.abrupt("break",56);case 53:return M=D(M,"application/xml"),e.abrupt("break",56);case 55:M=D(M,"text/html");case 56:e.next=59;break;case 58:M=null;case 59:if(!M){e.next=77;break}if("array-buffer"!==u&&"blob"!==u){e.next=72;break}if(P=E.headers.get("Content-Type"),!(/application\/json|text\/plain/i.test(P)&&M["blob"===u?"size":"byteLength"]<=750)){e.next=72;break}return e.prev=63,e.next=66,new Response(M).json();case 66:(I=e.sent).error&&(M=I),e.next=72;break;case 70:e.prev=70,e.t2=e.catch(63);case 72:if(e.t3="image"===u&&M instanceof Blob,!e.t3){e.next=77;break}return e.next=76,N(URL.createObjectURL(M),t,!0);case 76:M=e.sent;case 77:e.next=82;break;case 79:return e.next=81,N(n,t);case 81:M=e.sent;case 82:e.next=93;break;case 84:if(e.prev=84,e.t4=e.catch(25),"AbortError"!==e.t4.name){e.next=90;break}if(!A){e.next=89;break}throw new Error("Timeout exceeded");case 89:throw Object(y.e)("Request canceled");case 90:if(!E&&e.t4 instanceof TypeError&&w.proxyUrl&&!r.body&&"post"!==r.method&&"head"!==r.method&&!t.useProxy){e.next=92;break}throw e.t4;case 92:t.redoRequest=!0,Object(v.c)({proxyUrl:w.proxyUrl,urlPrefix:Object(v.E)(Object(v.I)(n).path)});case 93:return e.prev=93,C&&clearTimeout(C),e.finish(93);case 96:return e.abrupt("return",[E,M]);case 97:case"end":return e.stop()}}),e,null,[[25,84,93,96],[63,70]])})))).apply(this,arguments)}function D(e,t){var n;try{n=(new DOMParser).parseFromString(e,t)}catch(r){}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}function L(e,t,n){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(s.a.mark((function e(t,n,r){var i,a,o,c,u,l,h,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.redoRequest){e.next=2;break}return e.abrupt("return",(t.redoRequest=!1,!1));case 2:if(n){e.next=4;break}return e.abrupt("return",!0);case 4:if(n.ok){e.next=6;break}throw new Error("Unable to load ".concat(n.url," status: ").concat(n.status));case 6:if(r&&r.error&&(a=Object(f.d)(new Error,r.error)),a&&(o=Number(a.code),c=a.hasOwnProperty("subcode")?Number(a.subcode):null,u=(u=a.messageCode)&&u.toUpperCase()),l=t.params.requestOptions.authMode,h=String(null==(i=t.params.requestOptions.query)?void 0:i.token),403!==o||!(4===c||a.message&&a.message.toLowerCase().indexOf("ssl")>-1&&-1===a.message.toLowerCase().indexOf("permission"))){e.next=13;break}if(t.useSSL){e.next=11;break}return e.abrupt("return",(t.useSSL=!0,!1));case 11:e.next=28;break;case 13:if(!t.useIdentity||"no-prompt"===l&&498!==o||-1===x.indexOf(o)||A(t.params.url)||h.startsWith("AAPK")||!(403!==o||-1===k.indexOf(u)&&(null==c||2===c&&t.credentialToken))){e.next=28;break}return e.next=16,M();case 16:return e.prev=16,e.next=19,m.b.getCredential(t.params.url,{error:T("request:server",a,t.params),prompt:"no-prompt"!==l,signal:t.controller.signal,token:t.credentialToken});case 19:return d=e.sent,e.abrupt("return",(t.credential=d,t.credentialToken=d.token,t.useSSL=t.useSSL||d.ssl,!1));case 23:if(e.prev=23,e.t0=e.catch(16),"no-prompt"!==l){e.next=27;break}return e.abrupt("return",(t.credential=null,t.credentialToken=null,!1));case 27:a=e.t0;case 28:if(!a){e.next=30;break}throw a;case 30:return e.abrupt("return",!0);case 31:case"end":return e.stop()}}),e,null,[[16,23]])})))).apply(this,arguments)}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.src=e,Object(g.a)(i,e,n,r)}O._abortableFetch=null,O._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],t.default=O},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ae})),n.d(t,"b",(function(){return Ie})),n.d(t,"c",(function(){return Ee})),n.d(t,"d",(function(){return Pe})),n.d(t,"e",(function(){return Le})),n.d(t,"f",(function(){return Se})),n.d(t,"g",(function(){return De})),n.d(t,"h",(function(){return Te})),n.d(t,"i",(function(){return Me})),n.d(t,"j",(function(){return xe})),n.d(t,"k",(function(){return ke}));var r,i=n(18),a=n(223),o=n(20),s=n(130),c=n(413),u=(n(139),n(363),n(134)),l=n(397),h=n(274),f=(n(327),n(215)),d=n(254),p=n(275),b=n(364),v=n(232),y=(n(365),n(208)),m=n(2),g=n(3),O=n(5),j=n(6),w=n(0),_=(n(15),n(23)),x=(n(14),n(1)),k=n(8),S=(n(12),n(21),n(22),n(27)),E=n(43),T=n(123),M=r=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.apply(this,arguments)).color=new E.a("white"),e}return Object(g.a)(n,[{key:"clone",value:function(){return new r({color:Object(_.a)(this.color)})}}]),n}(S.a);Object(w.a)([Object(x.b)(T.a)],M.prototype,"color",void 0);var C=M=r=Object(w.a)([Object(k.a)("esri.symbols.callouts.LineCallout3DBorder")],M),A=(Object.freeze({__proto__:null,get LineCallout3DBorder(){return M},default:C}),n(4)),P=n(45),I=n(36),D=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).visible=!0,r}return Object(g.a)(n,[{key:"clone",value:function(){}}]),n}(S.a);Object(w.a)([Object(x.b)({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],D.prototype,"type",void 0),Object(w.a)([Object(x.b)({readOnly:!0})],D.prototype,"visible",void 0);var L,R=D=Object(w.a)([Object(k.a)("esri.symbols.callouts.Callout3D")],D),N=L=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).type="line",r.color=new E.a([0,0,0,1]),r.size=Object(I.h)(1),r.border=null,r}return Object(g.a)(n,[{key:"visible",get:function(){return this.size>0&&Object(A.h)(this.color)&&this.color.a>0}},{key:"clone",value:function(){return new L({color:Object(_.a)(this.color),size:this.size,border:Object(_.a)(this.border)})}}]),n}(R);Object(w.a)([Object(P.a)({line:"line"},{readOnly:!0})],N.prototype,"type",void 0),Object(w.a)([Object(x.b)(T.a)],N.prototype,"color",void 0),Object(w.a)([Object(x.b)(T.b)],N.prototype,"size",void 0),Object(w.a)([Object(x.b)({type:C,json:{write:!0}})],N.prototype,"border",void 0),Object(w.a)([Object(x.b)({dependsOn:["size","color"],readOnly:!0})],N.prototype,"visible",null);var F,z=N=L=Object(w.a)([Object(k.a)("esri.symbols.callouts.LineCallout3D")],N),V=F=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.apply(this,arguments)).screenLength=0,e.minWorldLength=0,e}return Object(g.a)(n,[{key:"clone",value:function(){return new F({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}}]),n}(S.a);Object(w.a)([Object(x.b)(T.b)],V.prototype,"screenLength",void 0),Object(w.a)([Object(x.b)({type:Number,json:{write:!0,default:0}})],V.prototype,"minWorldLength",void 0),Object(w.a)([Object(x.b)({type:Number,json:{write:!0}})],V.prototype,"maxWorldLength",void 0);var U=V=F=Object(w.a)([Object(k.a)("esri.symbols.support.Symbol3DVerticalOffset")],V),B=n(39);function G(e){if(!e)return!1;var t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength<=0)}function q(e){if(!e)return!1;if(!e.supportsCallout||!e.supportsCallout())return!1;var t=e.callout;return!!t&&!!t.visible&&!!G(e)}var H,W={types:{key:"type",base:R,typeMap:{line:z}},json:{write:!0}},Y=B.a.ofType({base:null,key:"type",typeMap:{text:v.a}}),J=H=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).verticalOffset=null,r.callout=null,r.styleOrigin=null,r.symbolLayers=new Y,r.type="label-3d",r}return Object(g.a)(n,[{key:"supportsCallout",value:function(){return!0}},{key:"hasVisibleCallout",value:function(){return q(this)}},{key:"hasVisibleVerticalOffset",value:function(){return G(this)}},{key:"clone",value:function(){return new H({styleOrigin:Object(_.a)(this.styleOrigin),symbolLayers:Object(_.a)(this.symbolLayers),thumbnail:Object(_.a)(this.thumbnail),callout:Object(_.a)(this.callout),verticalOffset:Object(_.a)(this.verticalOffset)})}}],[{key:"fromTextSymbol",value:function(e){return new H({symbolLayers:[v.a.fromTextSymbol(e)]})}}]),n}(y.a);Object(w.a)([Object(x.b)({type:U,json:{write:!0}})],J.prototype,"verticalOffset",void 0),Object(w.a)([Object(x.b)(W)],J.prototype,"callout",void 0),Object(w.a)([Object(x.b)({json:{read:!1,write:!1}})],J.prototype,"styleOrigin",void 0),Object(w.a)([Object(x.b)({type:Y})],J.prototype,"symbolLayers",void 0),Object(w.a)([Object(P.a)({LabelSymbol3D:"label-3d"},{readOnly:!0})],J.prototype,"type",void 0);var K,X=J=H=Object(w.a)([Object(k.a)("esri.symbols.LabelSymbol3D")],J),Q=B.a.ofType({base:null,key:"type",typeMap:{line:d.a,path:b.a}}),Z=B.a.ofType({base:null,key:"type",typeMap:{line:d.a,path:b.a}}),$=K=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).symbolLayers=new Q,r.type="line-3d",r}return Object(g.a)(n,[{key:"clone",value:function(){return new K({styleOrigin:Object(_.a)(this.styleOrigin),symbolLayers:Object(_.a)(this.symbolLayers),thumbnail:Object(_.a)(this.thumbnail)})}}],[{key:"fromSimpleLineSymbol",value:function(e){return new K({symbolLayers:[d.a.fromSimpleLineSymbol(e)]})}}]),n}(y.a);Object(w.a)([Object(x.b)({type:Q,json:{type:Z}})],$.prototype,"symbolLayers",void 0),Object(w.a)([Object(P.a)({LineSymbol3D:"line-3d"},{readOnly:!0})],$.prototype,"type",void 0);var ee,te=$=K=Object(w.a)([Object(k.a)("esri.symbols.LineSymbol3D")],$),ne=(n(398),B.a.ofType({base:null,key:"type",typeMap:{fill:h.a}})),re=ee=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).symbolLayers=new ne,r.type="mesh-3d",r}return Object(g.a)(n,[{key:"clone",value:function(){return new ee({styleOrigin:Object(_.a)(this.styleOrigin),symbolLayers:Object(_.a)(this.symbolLayers),thumbnail:Object(_.a)(this.thumbnail)})}}]),n}(y.a);Object(w.a)([Object(x.b)({type:ne})],re.prototype,"symbolLayers",void 0),Object(w.a)([Object(P.a)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],re.prototype,"type",void 0);var ie,ae=re=ee=Object(w.a)([Object(k.a)("esri.symbols.MeshSymbol3D")],re),oe=n(61),se=n(57),ce=n(379),ue=ie=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).type="picture-fill",e.url=null,e.xscale=1,e.yscale=1,e.width=12,e.height=12,e.xoffset=0,e.yoffset=0,e.source=null,e}return Object(g.a)(n,[{key:"normalizeCtorArgs",value:function(e,t,n,r){if(e&&"string"!=typeof e&&null==e.imageData)return e;var i={};return e&&(i.url=e),t&&(i.outline=t),null!=n&&(i.width=Object(I.j)(n)),null!=r&&(i.height=Object(I.j)(r)),i}},{key:"clone",value:function(){var e=new ie({color:Object(_.a)(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",Object(_.a)(this.source)),e}},{key:"hash",value:function(){var e;return"".concat(Object(oe.a)(Object(se.a)(n.prototype),"hash",this).call(this),".").concat(null==(e=this.color)?void 0:e.hash(),".").concat(this.height,".").concat(this.url,".").concat(this.width,".").concat(this.xoffset,".").concat(this.xscale,".").concat(this.yoffset,".").concat(this.yscale)}}]),n}(l.a);Object(w.a)([Object(P.a)({esriPFS:"picture-fill"},{readOnly:!0})],ue.prototype,"type",void 0),Object(w.a)([Object(x.b)(ce.b)],ue.prototype,"url",void 0),Object(w.a)([Object(x.b)({type:Number,json:{write:!0}})],ue.prototype,"xscale",void 0),Object(w.a)([Object(x.b)({type:Number,json:{write:!0}})],ue.prototype,"yscale",void 0),Object(w.a)([Object(x.b)({type:Number,cast:I.j,json:{write:!0}})],ue.prototype,"width",void 0),Object(w.a)([Object(x.b)({type:Number,cast:I.j,json:{write:!0}})],ue.prototype,"height",void 0),Object(w.a)([Object(x.b)({type:Number,cast:I.j,json:{write:!0}})],ue.prototype,"xoffset",void 0),Object(w.a)([Object(x.b)({type:Number,cast:I.j,json:{write:!0}})],ue.prototype,"yoffset",void 0),Object(w.a)([Object(x.b)(ce.a)],ue.prototype,"source",void 0);var le,he=ue=ie=Object(w.a)([Object(k.a)("esri.symbols.PictureFillSymbol")],ue),fe=n(357),de=n(13),pe=n(35),be=B.a.ofType({base:null,key:"type",typeMap:{icon:f.a,object:p.a,text:v.a}}),ve=B.a.ofType({base:null,key:"type",typeMap:{icon:f.a,object:p.a}}),ye=le=function(e){Object(O.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).verticalOffset=null,r.callout=null,r.symbolLayers=new be,r.type="point-3d",r}return Object(g.a)(n,[{key:"writeSymbolLayers",value:function(e,t,n,r){var i=e.filter((function(e){return"text"!==e.type}));if(r&&r.messages&&i.length<e.length){var a=e.find((function(e){return"text"===e.type}));r.messages.push(new o.a("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a}))}t[n]=i.map((function(e){return e.write({},r)})).toArray()}},{key:"supportsCallout",value:function(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;var e,t=Object(de.a)(this.symbolLayers.items);try{for(t.s();!(e=t.n()).done;){switch(e.value.type){case"icon":case"text":case"object":continue;default:return!1}}}catch(n){t.e(n)}finally{t.f()}return!0}},{key:"hasVisibleCallout",value:function(){return q(this)}},{key:"hasVisibleVerticalOffset",value:function(){return G(this)}},{key:"clone",value:function(){return new le({verticalOffset:Object(_.a)(this.verticalOffset),callout:Object(_.a)(this.callout),styleOrigin:Object(_.a)(this.styleOrigin),symbolLayers:Object(_.a)(this.symbolLayers),thumbnail:Object(_.a)(this.thumbnail)})}}],[{key:"fromSimpleMarkerSymbol",value:function(e){return new le({symbolLayers:[f.a.fromSimpleMarkerSymbol(e)]})}},{key:"fromPictureMarkerSymbol",value:function(e){return new le({symbolLayers:[f.a.fromPictureMarkerSymbol(e)]})}},{key:"fromCIMSymbol",value:function(e){return new le({symbolLayers:[f.a.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})}},{key:"fromTextSymbol",value:function(e){return new le({symbolLayers:[v.a.fromTextSymbol(e)]})}}]),n}(y.a);Object(w.a)([Object(x.b)({type:U,json:{write:!0}})],ye.prototype,"verticalOffset",void 0),Object(w.a)([Object(x.b)(W)],ye.prototype,"callout",void 0),Object(w.a)([Object(x.b)({type:be,json:{type:ve,origins:{"web-scene":{type:ve}}}})],ye.prototype,"symbolLayers",void 0),Object(w.a)([Object(pe.a)("web-scene","symbolLayers")],ye.prototype,"writeSymbolLayers",null),Object(w.a)([Object(P.a)({PointSymbol3D:"point-3d"},{readOnly:!0})],ye.prototype,"type",void 0);var me=ye=le=Object(w.a)([Object(k.a)("esri.symbols.PointSymbol3D")],ye),ge=n(313),Oe=n(170),je=n(141),we=n(333),_e=n(280);function xe(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!e)return{symbol:null};if(Te(e)||e instanceof _e.a)t=e.clone();else if("cim"===e.type)t=me.fromCIMSymbol(e);else if(e instanceof u.default)t=te.fromSimpleLineSymbol(e);else if(e instanceof je.default)t=me.fromSimpleMarkerSymbol(e);else if(e instanceof fe.a)t=me.fromPictureMarkerSymbol(e);else if(e instanceof Oe.default)t=ge.a.fromSimpleFillSymbol(e);else{if(!(e instanceof we.a))return{error:new o.a("symbol-conversion:unsupported-2d-symbol","2D symbol of type '".concat(e.type||e.declaredClass,"' is unsupported in 3D"),{symbol:e})};t=i?X.fromTextSymbol(e):me.fromTextSymbol(e)}if(n&&(t.id=e.id),r&&Te(t))for(var a=0;a<t.symbolLayers.length;++a)t.symbolLayers.getItemAt(a)._ignoreDrivers=!0;return{symbol:t}}function ke(e,t,n,r){var i=function(e,t,n){if(!e)return null;if(n&&"web-scene"===n.origin&&!(e instanceof y.a)&&!(e instanceof _e.a)){var r="cim"!==e.type?xe(e):{symbol:null,error:new o.a("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",{symbol:e})};return r.symbol?r.symbol.write(t,n):(n.messages&&n.messages.push(new o.a("symbol:unsupported","Symbols of type '".concat(e.declaredClass,"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView"),{symbol:e,context:n,error:r.error})),null)}return n&&"web-map"===n.origin&&"web-style"===e.type?(n.messages&&n.messages.push(new o.a("symbol:unsupported","Symbols of type '".concat(e.declaredClass,"' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView."),{symbol:e,context:n})),null):e.write(t,n)}(e,{},r);i&&(t[n]=i)}function Se(e,t){return Ce(e,null,t)}function Ee(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Te(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}var Me={base:s.a,key:"type",typeMap:{"simple-fill":Oe.default,"picture-fill":he,"picture-marker":fe.a,"simple-line":u.default,"simple-marker":je.default,text:we.a,"label-3d":X,"line-3d":te,"mesh-3d":ae,"point-3d":me,"polygon-3d":ge.a,"web-style":_e.a,cim:c.a},errorContext:"symbol"},Ce=Object(a.b)({types:Me}),Ae={base:s.a,key:"type",typeMap:{"simple-fill":Oe.default,"picture-fill":he,"picture-marker":fe.a,"simple-line":u.default,"simple-marker":je.default,text:we.a,"line-3d":te,"mesh-3d":ae,"point-3d":me,"polygon-3d":ge.a,"web-style":_e.a,cim:c.a},errorContext:"symbol"},Pe={base:s.a,key:"type",typeMap:{text:we.a,"label-3d":X},errorContext:"symbol"},Ie=(s.a,ge.a,_e.a,{base:s.a,key:"type",typeMap:{"line-3d":te,"mesh-3d":ae,"point-3d":me,"polygon-3d":ge.a,"web-style":_e.a},errorContext:"symbol"}),De={base:s.a,key:"type",typeMap:{"label-3d":X},errorContext:"symbol"},Le=Object(i.k)(Me)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s}));var r=1e-6,i=Math.random,a=Math.PI/180,o=180/Math.PI;function s(e){return e*a}function c(e){return e*o}Object.freeze({__proto__:null,EPSILON:1e-6,RANDOM:i,toRadian:s,toDegree:c,equals:function(e,t){return Math.abs(e-t)<=1e-6*Math.max(1,Math.abs(e),Math.abs(t))}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(13),i=n(2),a=n(3),o=n(44),s=function(){function e(){Object(i.a)(this,e),this._key="",this._keyDirty=!1,this._parameterBits=this._parameterBits.map((function(){return 0}))}return Object(a.a)(e,[{key:"key",get:function(){return this._keyDirty&&(this._keyDirty=!1,this._key=String.fromCharCode.apply(String,this._parameterBits)),this._key}},{key:"snapshot",value:function(){var e,t=this._parameterNames,n={key:this.key},i=Object(r.a)(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;n[a]=this[a]}}catch(o){i.e(o)}finally{i.f()}return n}}]),e}();function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r,i;t._parameterNames=null!=(r=t._parameterNames)?r:[],t._parameterNames.push(n);for(var a=t._parameterNames.length-1,s=e.count||2,c=Math.ceil(Object(o.m)(s)),u=null!=(i=t._parameterBits)?i:[0],l=0;u[l]+c>16;)++l>=u.length&&u.push(0);t._parameterBits=u;var h=u[l],f=(1<<c)-1<<h;u[l]+=c,Object.defineProperty(t,n,{get:function(){return this[a]},set:function(e){if(this[a]!==e&&(this[a]=e,this._keyDirty=!0,this._parameterBits[l]=this._parameterBits[l]&~f|+e<<h&f,"number"!=typeof e&&"boolean"!=typeof e))throw"Configuration values must be booleans or numbers!"}})}}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return M})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return x})),n.d(t,"n",(function(){return C}));n(15);var r=n(50),i=n(270),a=n(54),o=n(48),s=n(73),c=n(224),u=39.37,l=s.a.radius*Math.PI/200,h=/UNIT\[([^\]]+)\]\]$/i,f=i.a,d=/UNIT\[([^\]]+)\]/i,p=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),b=Object(r.b)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),v=function(e){return e*e},y=function(e){return e*e*e},m={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:v(.001)},"square-centimeters":{inBaseUnits:v(.01)},"square-decimeters":{inBaseUnits:v(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:v(1e3)},"square-inches":{inBaseUnits:v(.0254)},"square-feet":{inBaseUnits:v(.3048)},"square-yards":{inBaseUnits:v(.9144)},"square-miles":{inBaseUnits:v(1609.344)},"square-us-feet":{inBaseUnits:v(1200/3937)},acres:{inBaseUnits:.0015625*v(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*y(.001)},"cubic-centimeters":{inBaseUnits:1e3*y(.01)},"cubic-decimeters":{inBaseUnits:1e3*y(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*y(1e3)},"cubic-inches":{inBaseUnits:1e3*y(.0254)},"cubic-feet":{inBaseUnits:1e3*y(.3048)},"cubic-yards":{inBaseUnits:1e3*y(.9144)},"cubic-miles":{inBaseUnits:1e3*y(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},g=function(){var e={};for(var t in m)for(var n in m[t].units)e[n]=t;return e}();function O(e){var t=g[e];if(t)return t;throw new Error("unknown measure")}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t=t||O(e),m[t].baseUnit===e}function w(e,t,n){if(t===n)return e;var r=O(t);if(r!==O(n))throw new Error("incompatible units");var i=j(t,r)?e:function(e,t,n){return e*m[n].units[t].inBaseUnits}(e,t,r);return j(n,r)?i:function(e,t,n){return e/m[n].units[t].inBaseUnits}(i,n,r)}function _(e,t){return w(e,t,"meters")<3e3?"meters":"kilometers"}function x(e,t){return w(e,t,"meters")<1e5?"meters":"kilometers"}function k(e,t){return w(e,t,"feet")<1e3?"feet":"miles"}function S(e,t){return w(e,t,"feet")<1e5?"feet":"miles"}function E(e,t){return w(e,t,"square-meters")<3e6?"square-meters":"square-kilometers"}function T(e,t){return w(e,t,"square-feet")<1e6?"square-feet":"square-miles"}function M(e,t,n){return w(e,t,"meters")/(n*Math.PI/180)}function C(e){return b.fromJSON(e.toLowerCase())||null}function A(e){if(e&&"object"==typeof e&&!Object(a.e)(e))return 1;var t=I(e);return t>1e5?1:t}function P(e){return I(e)>=(e instanceof o.a?Object(c.e)(e).metersPerDegree:1e5)?"meters":L(e)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a.metersPerDegree;return D(e,!0)||t}function D(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null;if(null!=e&&("object"==typeof e?(t=e.wkid,n=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(n=e)),t){if(Object(a.k)(t))return s.b.metersPerDegree;if(Object(a.l)(t))return s.c.metersPerDegree;!(i=f.values[f[t]])&&r&&p.has(t)&&(i=l)}else if(n)if(-1!==n.search(/^PROJCS/i)){var o=h.exec(n);o&&o[1]&&(i=parseFloat(o[1].split(",")[1]))}else if(-1!==n.search(/^GEOCCS/i)){var c=d.exec(n);c&&c[1]&&(i=parseFloat(c[1].split(",")[1]))}return i}function L(e){var t,n,r=null;if(null!=e&&("object"==typeof e?(t=e.wkid,n=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(n=e)),t)r=f.units[f[t]];else if(n&&-1!==n.search(/^PROJCS/i)){var i=h.exec(n);i&&i[1]&&(r=(i=/[\\"\\']{1}([^\\"\\']+)/.exec(i[1]))&&i[1])}return r?C(r):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return q})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return R})),n.d(t,"d",(function(){return H})),n.d(t,"e",(function(){return V})),n.d(t,"f",(function(){return F})),n.d(t,"g",(function(){return B})),n.d(t,"h",(function(){return z})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return A})),n.d(t,"k",(function(){return P})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return E})),n.d(t,"n",(function(){return G})),n.d(t,"o",(function(){return J})),n.d(t,"p",(function(){return N})),n.d(t,"q",(function(){return W})),n.d(t,"r",(function(){return M})),n.d(t,"s",(function(){return L}));var r=n(7),i=n.n(r),a=n(38),o=n(10),s=n(16),c=n(4),u=n(125),l=n(14),h=n(20),f=n(49),d=n(108),p=n(133),b=n(308),v=(n(153),l.a.getLogger("esri.widgets.Feature.support.featureUtils")),y=/href=(""|'')/gi,m=/(\{([^\{\r\n]+)\})/g,g=/\'/g,O=/^\s*expression\//i,j=/(\n)/gi,w=/[\u00A0-\u9999<>\&]/gim,_=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,x=/^(?:mailto:|tel:)/,k=Object(d.a)("short-date-short-time");function S(e){if(!Object(c.g)(e))return e.get("sourceLayer")||e.get("layer")}function E(e,t){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","function"==typeof t?t.call(null,n):t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return!x.test(e.trim().toLowerCase())}function C(e,t){var n=function(e,t){if(!function(e){return O.test(e)}(t)||!e)return null;var n,r=t.replace(O,"").toLowerCase();return e.some((function(e){return e.name.toLowerCase()===r&&(n=e,!0)})),n}(t,null==e?void 0:e.fieldName);return n?n.title||null:e?e.label||e.fieldName:null}function A(e,t){var n=I(t,e);return n?n.name:e}function P(e,t){return e&&e.map((function(e){return A(e,t)}))}function I(e,t){return e&&"function"==typeof e.getField?e.getField(t):null}function D(e){return"".concat(e).trim()}function L(e){var t=e.formattedAttributes,n=e.template,r=e.fieldInfoMap;return D(Object(u.c)(Object(u.c)(n,(function(e){return function(e,t){var n=t.get(e.toLowerCase());return"{".concat(n&&n.fieldName||e,"}")}(e,r)})),t).replace(y,""))}function R(e,t){return e.replace(m,(function(e,n,r){var i=I(t,r);return i?"{".concat(i.name,"}"):n}))}function N(e,t,n){var r=R(e,n);return r?r.replace(_,(function(e,n,r){return function(e,t,n){var r=(t=D(t))&&"{"!==t[0];return Object(u.c)(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(o.a)({},e);return Object.keys(n).forEach((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t[e];if("string"==typeof r){var i="%27",a=(n?encodeURIComponent(r):r).replace(g,i);t[e]=a}}(e,n,t)})),n}(n,r))}(e,n||r,t)})):r}function F(e,t){var n=t.fieldInfos,r=t.fieldName,i=z(n,r),a=null==i?void 0:i.clone(),s=t.preventPlacesFormatting,c=I(t.layer,r);if(a&&c&&"date"===c.type){var u=a.format||new b.a;u.dateFormat=u.dateFormat||"short-date-short-time",a.format=u}var l=a&&a.format;return"string"==typeof(e=function(e,t){if("string"==typeof e&&t&&null==t.dateFormat&&(null!=t.places||null!=t.digitSeparator)){var n=Number(e);if(!isNaN(n))return n}return e}(e,l))||null==e||null==l?e:s?Object(p.b)(e,Object(o.a)(Object(o.a)({},Object(p.a)(l)),{},{minimumFractionDigits:0,maximumFractionDigits:20})):l.format(e)}function z(e,t){if(e&&e.length&&t){var n,r=t.toLowerCase();return e.some((function(e){return!(!e.fieldName||e.fieldName.toLowerCase()!==r)&&(n=e,!0)})),n}}function V(e,t){var n=e.creatorField,r=e.creationDateField,i=e.editorField,a=e.editDateField;if(t){var o=t[a];if("number"==typeof o){var s=t[i];return{type:"edit",date:Object(d.b)(o,k),user:s}}var c=t[r];if("number"==typeof c){var u=t[n];return{type:"create",date:Object(d.b)(c,k),user:u}}return null}}function U(e,t){var n=new Map;return e&&e.forEach((function(e){var r=A(e.fieldName,t);e.fieldName=r,n.set(r.toLowerCase(),e)})),n}function B(e){var t=[];if(!e)return t;var n=e.fieldInfos,r=e.content;return n&&t.push.apply(t,Object(a.a)(n)),r&&Array.isArray(r)?(r.forEach((function(e){if("fields"===e.type){var n=e&&e.fieldInfos;n&&t.push.apply(t,Object(a.a)(n))}})),t):t}function G(e){return e.replace(w,(function(e){return"&#".concat(e.charCodeAt(0),";")}))}function q(e){return"string"==typeof e?e.replace(j,'<br class="esri-text-new-line" />'):e}function H(e){var t=e.fieldInfos,n=e.attributes,r=e.layer,i=e.graphic,a=e.fieldInfoMap,s=e.relatedInfos,c=Object(o.a)({},n);return null==s||s.forEach((function(e){return function(e,t){e&&t&&(t.relatedFeatures&&t.relatedFeatures&&t.relatedFeatures.forEach((function(n){return K({attributes:e,graphic:n,relatedInfo:t})})),t.relatedStatsFeatures&&t.relatedStatsFeatures&&t.relatedStatsFeatures.forEach((function(n){return K({attributes:e,graphic:n,relatedInfo:t})})))}(c,e)})),Object.keys(c).forEach((function(e){var n=c[e];c[e]=function(e){var t=e.value,n=e.fieldName,r=e.fieldInfos,i=e.fieldInfoMap,a=e.layer,o=e.graphic;if(null==t)return"";var s=function(e){var t=e.fieldName,n=e.value,r=e.graphic,i=e.layer;if(J(t))return null;if(!i||"function"!=typeof i.getFieldDomain)return null;var a=i.getFieldDomain(t,{feature:r});return a&&"coded-value"===a.type?a.getName(n):null}({fieldName:n,value:t,graphic:o,layer:a});if(s)return s;var c=function(e){var t=e.fieldName,n=e.graphic,r=e.layer;if(J(t))return null;if(!r||"function"!=typeof r.getFeatureType)return null;var i=r.typeIdField;if(!i||t!==i)return null;var a=r.getFeatureType(n);return a?a.name:null}({fieldName:n,graphic:o,layer:a});if(c)return c;if(i.get(n.toLowerCase()))return F(t,{fieldInfos:r,fieldName:n,layer:a});var u=a&&a.fieldsIndex;return u&&u.isDateField(n)?Object(d.b)(t,k):q(t)}({fieldName:e,fieldInfos:t,fieldInfoMap:a,layer:r,value:n,graphic:i})})),c}function W(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(s.a)(i.a.mark((function e(t,n){var r,a,c,u,l,d,p,b,y,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.graphic,a=t.popupTemplate,(c=t.layer)&&a){e.next=3;break}return e.abrupt("return");case 3:if(u=a.returnGeometry,e.t0="function"==typeof c.load,!e.t0){e.next=8;break}return e.next=8,c.load(n);case 8:if(null!=(l=r.attributes[c.objectIdField])){e.next=11;break}return e.abrupt("return");case 11:return d=[l],e.next=14,a.getRequiredFields(c.fields);case 14:if(p=e.sent,b=Object(f.j)(p,r),y=b?[]:p,!b||u){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r,a,o,s,c,u,l,f,d,p,b,y,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.layer,a=t.graphic,o=t.outFields,s=t.objectIds,c=t.returnGeometry,"number"==typeof(u=s[0])){e.next=4;break}throw l="Could not query required fields for the specified feature. The feature's ID is invalid.",f={layer:r,graphic:a,objectId:u,requiredFields:o},d=new h.a("layer-query-features-invalid-objectid",l,f),v.warn(l,f),d;case 4:if("function"==typeof r.queryFeatures){e.next=7;break}throw p="The specified layer does not support the method 'queryFeatures'. The following fields will not be available.",b={layer:r,graphic:a,requiredFields:o},y=new h.a("layer-query-features-unsupported",p,b),v.warn(p,b),y;case 7:return(m=r.createQuery()).objectIds=s,m.outFields=o,m.returnGeometry=!!c,e.next=13,r.queryFeatures(m,n);case 13:return e.abrupt("return",e.sent.features[0]);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()({layer:c,graphic:r,outFields:y,objectIds:d,returnGeometry:u},n);case 21:(m=e.sent)&&(m.geometry&&(r.geometry=m.geometry),m.attributes&&(r.attributes=Object(o.a)(Object(o.a)({},r.attributes),m.attributes)));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!e&&-1!==e.indexOf("relationships/")}function K(e){var t=e.attributes,n=e.graphic,r=e.relatedInfo;t&&n&&r&&Object.keys(n.attributes).forEach((function(e){var i,a=(i={layerId:r.relation.id.toString(),fieldName:e})?"relationships/".concat(i.layerId,"/").concat(i.fieldName):"";t[a]=n.attributes[e]}))}},function(e,t,n){"use strict";function r(){return[0,0]}function i(e,t){return[e,t]}function a(e){for(var t=[0,0],n=Math.min(2,e.length),r=0;r<n;++r)t[r]=e[r];return t}function o(e,t){return new Float64Array(e,t,2)}function s(){return i(1,1)}function c(){return i(1,0)}function u(){return i(0,1)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i}));var l=s(),h=c(),f=u();Object.freeze({__proto__:null,create:r,clone:function(e){return[e[0],e[1]]},fromValues:i,fromArray:a,createView:o,zeros:function(){return[0,0]},ones:s,unitX:c,unitY:u,ZEROS:[0,0],ONES:l,UNIT_X:h,UNIT_Y:f})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n(2),i=n(3),a=function(){function e(t,n,i,a){Object(r.a)(this,e),this.semiMajorAxis=t,this.flattening=n,this.outerAtmosphereRimWidth=i;var o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=a||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}return Object(i.a)(e,[{key:"radius",get:function(){return this.semiMajorAxis}}]),e}(),o=new a(6378137,1/298.257223563,3e5,.006694379990137799),s=new a(3396190,1/169.8944472236118,23e4),c=new a(1737400,0,0)},function(e,t,n){"use strict";var r,i=n(32),a=n(2),o=n(3),s=n(5),c=n(6),u=n(0),l=(n(15),n(4)),h=n(125),f=(n(14),n(18),n(1)),d=n(8),p=(n(12),n(21),n(22),n(54)),b=n(48),v=n(157),y=n(79),m=n(56),g=n(189),O=n(438);function j(e,t,n){return null==t?n:null==n?t:e(t,n)}var w=r=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).type="extent",e.xmin=0,e.ymin=0,e.mmin=void 0,e.zmin=void 0,e.xmax=0,e.ymax=0,e.mmax=void 0,e.zmax=void 0,e}return Object(o.a)(n,[{key:"normalizeCtorArgs",value:function(e,t,n,r,i){return!(a=e)||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"==typeof e?(e.spatialReference=null==e.spatialReference?b.a.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:n,ymax:r,spatialReference:null==i?b.a.WGS84:i}:{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0};var a}},{key:"center",get:function(){var e=new m.a({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}},{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}},{key:"centerAt",value:function(e){var t=this.center;return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}},{key:"clone",value:function(){var e=new r;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e}},{key:"contains",value:function(e){if(!e)return!1;var t=this.spatialReference,n=e.spatialReference;return t&&n&&!t.equals(n)&&Object(y.a)(t,n)&&(e=t.isWebMercator?Object(y.b)(e):Object(y.e)(e,!0)),"point"===e.type?Object(g.e)(this,e):"extent"===e.type&&Object(g.c)(this,e)}},{key:"equals",value:function(e){if(!e)return!1;var t=this.spatialReference,n=e.spatialReference;return t&&n&&!t.equals(n)&&Object(y.a)(t,n)&&(e=t.isWebMercator?Object(y.b)(e):Object(y.e)(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}},{key:"expand",value:function(e){var t=.5*(1-e),n=this.width*t,r=this.height*t;if(this.xmin+=n,this.ymin+=r,this.xmax-=n,this.ymax-=r,this.hasZ){var i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){var a=(this.mmax-this.mmin)*t;this.mmin+=a,this.mmax-=a}return this}},{key:"intersects",value:function(e){if(Object(l.g)(e))return!1;"mesh"===e.type&&(e=e.extent);var t=this.spatialReference,n=e.spatialReference;return t&&n&&!t.equals(n)&&Object(y.a)(t,n)&&(e=t.isWebMercator?Object(y.b)(e):Object(y.e)(e,!0)),Object(O.a)(e.type)(this,e)}},{key:"normalize",value:function(){var e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}},{key:"offset",value:function(e,t,n){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=n&&(this.zmin+=n,this.zmax+=n),this}},{key:"shiftCentralMeridian",value:function(){return this._normalize(!0)}},{key:"union",value:function(e){return this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=j(Math.min,this.zmin,e.zmin),this.zmax=j(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=j(Math.min,this.mmin,e.mmin),this.mmax=j(Math.max,this.mmax,e.mmax)),this}},{key:"intersection",value:function(e){return this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=j(Math.max,this.zmin,e.zmin),this.zmax=j(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=j(Math.max,this.mmin,e.mmin),this.mmax=j(Math.min,this.mmax,e.mmax)),this):null}},{key:"toJSON",value:function(e){return this.write(null,e)}},{key:"_shiftCM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.d)(this.spatialReference);if(!e||!this.spatialReference)return this;var t=this.spatialReference,n=this._getCM(e);if(n){var r=t.isWebMercator?Object(y.e)(n):n;this.xmin-=n.x,this.xmax-=n.x,t.isWebMercator||(r.x=this._normalizeX(r.x,e).x),this.spatialReference=new b.a(Object(h.c)(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:r.x}))}return this}},{key:"_getCM",value:function(e){var t=null,n=Object(i.a)(e.valid,2),r=n[0],a=n[1],o=this.xmin,s=this.xmax;return o>=r&&o<=a&&s>=r&&s<=a||(t=this.center),t}},{key:"_normalize",value:function(e,t,n){var r=this.spatialReference;if(!r)return this;if(!(n=n||Object(p.d)(r)))return this;var i=this._getParts(n).map((function(e){return e.extent}));if(i.length<2)return i[0]||this;if(i.length>2)return e?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(e)return this._shiftCM(n);if(t)return i;var a=!0,o=!0;return i.forEach((function(e){e.hasZ||(a=!1),e.hasM||(o=!1)})),{rings:i.map((function(e){var t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(a)for(var n=(e.zmax-e.zmin)/2,r=0;r<t.length;r++)t[r].push(n);if(o)for(var i=(e.mmax-e.mmin)/2,s=0;s<t.length;s++)t[s].push(i);return t})),hasZ:a,hasM:o,spatialReference:r}}},{key:"_getParts",value:function(e){var t=this.cache._parts;if(!t){t=[];var n,a=this.ymin,o=this.ymax,s=this.spatialReference,c=this.width,u=this.xmin,l=this.xmax;e=e||Object(p.d)(s);var h=Object(i.a)(e.valid,2),f=h[0],d=h[1],b=(n=this._normalizeX(this.xmin,e)).x,v=n.frameId,y=(n=this._normalizeX(this.xmax,e)).x,m=n.frameId,g=b===y&&c>0;if(c>2*d){var O=new r(u<l?b:y,a,d,o,s),j=new r(f,a,u<l?y:b,o,s),w=new r(0,a,d,o,s),_=new r(f,a,0,o,s),x=[],k=[];O.contains(w)&&x.push(v),O.contains(_)&&k.push(v),j.contains(w)&&x.push(m),j.contains(_)&&k.push(m);for(var S=v+1;S<m;S++)x.push(S),k.push(S);t.push({extent:O,frameIds:[v]},{extent:j,frameIds:[m]},{extent:w,frameIds:x},{extent:_,frameIds:k})}else b>y||g?t.push({extent:new r(b,a,d,o,s),frameIds:[v]},{extent:new r(f,a,y,o,s),frameIds:[m]}):t.push({extent:new r(b,a,y,o,s),frameIds:[v]});this.cache._parts=t}var E=this.hasZ,T=this.hasM;if(E||T){var M={};E&&(M.zmin=this.zmin,M.zmax=this.zmax),T&&(M.mmin=this.mmin,M.mmax=this.mmax);for(var C=0;C<t.length;C++)t[C].extent.set(M)}return t}},{key:"_normalizeX",value:function(e,t){var n,r=Object(i.a)(t.valid,2),a=r[0],o=r[1],s=2*o,c=0;return e>o?(e-=(n=Math.ceil(Math.abs(e-o)/s))*s,c=n):e<a&&(e+=(n=Math.ceil(Math.abs(e-a)/s))*s,c=-n),{x:e,frameId:c}}}],[{key:"fromBounds",value:function(e,t){return new r({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}}]),n}(v.a);Object(u.a)([Object(f.b)({dependsOn:["xmin","ymin","zmin","mmin","xmax","ymax","zmax","mmax","spatialReference"],autoTracked:!1})],w.prototype,"cache",void 0),Object(u.a)([Object(f.b)({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],w.prototype,"center",null),Object(u.a)([Object(f.b)({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],w.prototype,"extent",null),Object(u.a)([Object(f.b)({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasM",null),Object(u.a)([Object(f.b)({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasZ",null),Object(u.a)([Object(f.b)({readOnly:!0,dependsOn:["ymin","ymax"]})],w.prototype,"height",null),Object(u.a)([Object(f.b)({readOnly:!0,dependsOn:["xmin","xmax"]})],w.prototype,"width",null),Object(u.a)([Object(f.b)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],w.prototype,"xmin",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],w.prototype,"ymin",void 0),Object(u.a)([Object(f.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],w.prototype,"mmin",void 0),Object(u.a)([Object(f.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],w.prototype,"zmin",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],w.prototype,"xmax",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],w.prototype,"ymax",void 0),Object(u.a)([Object(f.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],w.prototype,"mmax",void 0),Object(u.a)([Object(f.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],w.prototype,"zmax",void 0),(w=r=Object(u.a)([Object(d.a)("esri.geometry.Extent")],w)).prototype.toJSON.isDefaultToJSON=!0;var _=w;t.a=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))};var r,i=(r=n(59))&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";function r(){return new Float32Array(3)}function i(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}function o(){return r()}function s(){return a(1,1,1)}function c(){return a(1,0,0)}function u(){return a(0,1,0)}function l(){return a(0,0,1)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}));var h=o(),f=s(),d=c(),p=u(),b=l();Object.freeze({__proto__:null,create:r,clone:i,fromValues:a,createView:function(e,t){return new Float32Array(e,t,3)},zeros:o,ones:s,unitX:c,unitY:u,unitZ:l,ZEROS:h,ONES:f,UNIT_X:d,UNIT_Y:p,UNIT_Z:b})},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(2),i=n(5),a=n(6),o=n(0),s=n(1),c=n(8),u=n(27),l=n(43),h=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).enabled=!0,e}return n}(u.a);Object(o.a)([Object(s.b)({type:Boolean})],h.prototype,"enabled",void 0),h=Object(o.a)([Object(c.a)("esri.views.3d.interactive.editingTools.snapping.Settings.LineSnapperDefaults")],h);var f=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).enabled=!0,e}return n}(u.a);Object(o.a)([Object(s.b)({type:Boolean})],f.prototype,"enabled",void 0),f=Object(o.a)([Object(c.a)("esri.views.3d.interactive.editingTools.snapping.Settings.ParallelLineSnapperDefaults")],f);var d=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).enabled=!0,e}return n}(u.a);Object(o.a)([Object(s.b)({type:Boolean})],d.prototype,"enabled",void 0),d=Object(o.a)([Object(c.a)("esri.views.3d.interactive.editingTools.snapping.Settings.RightAngleSnapperDefaults")],d);var p=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).enabled=!0,e}return n}(u.a);Object(o.a)([Object(s.b)({type:Boolean})],p.prototype,"enabled",void 0),p=Object(o.a)([Object(c.a)("esri.views.3d.interactive.editingTools.snapping.Settings.RightAngleTriangleSnapperDefaults")],p);var b=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).lineSnapper=new h,i.parallelLineSnapper=new f,i.rightAngleSnapper=new d,i.rightAngleTriangleSnapper=new p,i.shortLineThreshold=15,i.lineProximityThreshold=5,i.circleProximityThreshold=5,i.pointProximityThreshold=5,i.intersectionParallelLineThreshold=1e-6,i.parallelLineThreshold=1e-6,i.touchSensitivityMultiplier=1.5,i.pointOnLineThreshold=1e-6,i.orange=new l.a([255,127,0]),i.lineHintWidthReference=3,i.lineHintWidthTarget=3,i.lineHintFadedExtensions=.3,i.parallelLineHintWidth=2,i.parallelLineHintLength=24,i.parallelLineHintOffset=1.5,i.rightAngleHintSize=24,i.rightAngleHintOutlineSize=1.5,i}return n}(u.a);Object(o.a)([Object(s.b)({type:h,constructOnly:!0,nonNullable:!0,json:{write:!0}})],b.prototype,"lineSnapper",void 0),Object(o.a)([Object(s.b)({type:f,constructOnly:!0,nonNullable:!0,json:{write:!0}})],b.prototype,"parallelLineSnapper",void 0),Object(o.a)([Object(s.b)({type:d,constructOnly:!0,nonNullable:!0,json:{write:!0}})],b.prototype,"rightAngleSnapper",void 0),Object(o.a)([Object(s.b)({type:p,constructOnly:!0,nonNullable:!0,json:{write:!0}})],b.prototype,"rightAngleTriangleSnapper",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],b.prototype,"shortLineThreshold",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],b.prototype,"lineProximityThreshold",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],b.prototype,"circleProximityThreshold",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:1,max:50,step:1},json:{write:!0}})],b.prototype,"pointProximityThreshold",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],b.prototype,"intersectionParallelLineThreshold",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],b.prototype,"parallelLineThreshold",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],b.prototype,"touchSensitivityMultiplier",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],b.prototype,"pointOnLineThreshold",void 0),Object(o.a)([Object(s.b)({type:l.a,nonNullable:!0})],b.prototype,"orange",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],b.prototype,"lineHintWidthReference",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],b.prototype,"lineHintWidthTarget",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],b.prototype,"lineHintFadedExtensions",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],b.prototype,"parallelLineHintWidth",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],b.prototype,"parallelLineHintLength",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],b.prototype,"parallelLineHintOffset",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],b.prototype,"rightAngleHintSize",void 0),Object(o.a)([Object(s.b)({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],b.prototype,"rightAngleHintOutlineSize",void 0);var v=new(b=Object(o.a)([Object(c.a)("esri.views.3d.interactive.editingTools.snapping.Settings.Defaults")],b))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return i}));var r=n(104),i=function(e){return null===e||void 0===e},a=function(e){return null!==e&&void 0!==e},o=function(e){return"function"===typeof e},s=function(e){return"string"===typeof e},c=Array.isArray,u=function(e){return e&&!c(e)&&"object"===typeof e},l=function(e){return e&&o(e.then)},h=function(e){return e&&o(e.next)&&o(e.throw)},f=function e(t){return t&&(s(t)||b(t)||o(t)||c(t)&&t.every(e))},d=function(e){return e&&o(e.take)&&o(e.close)},p=function(e){return o(e)&&e.hasOwnProperty("toString")},b=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},v=function(e){return d(e)&&e[r.e]},y=function(e){return e&&e[r.c]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return v}));var r=n(32),i=n(23),a=n(54),o=n(48),s=n(73);function c(e){return 57.29577951308232*e}function u(e){return.017453292519943*e}function l(e){return null!=e.wkid||null!=e.wkt}var h=[0,0];function f(e,t,n,i,a){var o,s,c,u,l=e,f=a;if("x"in l&&"x"in f){var d=t(l.x,l.y,h,i),p=Object(r.a)(d,2);f.x=p[0],f.y=p[1]}else if("xmin"in l&&"xmin"in f)o=t(l.xmin,l.ymin,h,i),s=Object(r.a)(o,2),f.xmin=s[0],f.ymin=s[1],c=t(l.xmax,l.ymax,h,i),u=Object(r.a)(c,2),f.xmax=u[0],f.ymax=u[1];else if("paths"in l&&"paths"in f||"rings"in l&&"rings"in f){for(var b,v=("paths"in l?l.paths:l.rings),y=[],m=0;m<v.length;m++){var g=v[m];b=[],y.push(b);for(var O=0;O<g.length;O++)b.push(t(g[O][0],g[O][1],[0,0],i)),g[O].length>2&&b[O].push(g[O][2]),g[O].length>3&&b[O].push(g[O][3])}"paths"in f?f.paths=y:f.rings=y}else if("points"in l&&"points"in f){for(var j=l.points,w=[],_=0;_<j.length;_++)w[_]=t(j[_][0],j[_][1],[0,0],i),j[_].length>2&&w[_].push(j[_][2]),j[_].length>3&&w[_].push(j[_][3]);f.points=w}return f.spatialReference=n,a}function d(e,t){var n=e&&(l(e)?e:e.spatialReference),r=t&&(l(t)?t:t.spatialReference);return(!e||!("type"in e)||"mesh"!==e.type)&&(!t||!("type"in t)||"mesh"!==t.type)&&!(!n||!r)&&(!!Object(a.c)(r,n)||Object(a.m)(r)&&Object(a.j)(n)||Object(a.m)(n)&&Object(a.j)(r))}function p(e,t){var n=e&&e.spatialReference,r=t&&(l(t)?t:t.spatialReference);return d(n,r)?Object(a.c)(n,r)?Object(i.a)(e):Object(a.m)(r)?f(e,b,o.a.WebMercator,!1,Object(i.a)(e)):Object(a.j)(r)?f(e,v,o.a.WGS84,!1,Object(i.a)(e)):null:null}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);var r=u(t);return n[0]=u(e)*s.a.radius,n[1]=s.a.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),n}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=c(e/s.a.radius);return n[0]=r?i:i-360*Math.floor((i+180)/360),n[1]=c(Math.PI/2-2*Math.atan(Math.exp(-1*t/s.a.radius))),n}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.a)(e);return f(e,b,o.a.WebMercator,t,n)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.a)(e);return f(e,v,o.a.WGS84,t,n)}},function(e,t,n){"use strict";var r,i=n(10),a=n(28),o=n(2),s=n(3),c=n(40),u=n(5),l=n(6),h=n(0),f=(n(15),n(23)),d=n(4),p=(n(14),n(18),n(1)),b=n(8),v=(n(12),n(21),n(22),n(27)),y=n(97),m=n(99),g=n(240),O=n(66),j=n(399),w=r=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).isAggregate=!1,e.layer=null,e.popupTemplate=null,e.sourceLayer=null,Object.defineProperty(Object(c.a)(e),"uid",{value:Object(j.a)(),configurable:!0}),e}return Object(s.a)(n,[{key:"normalizeCtorArgs",value:function(e,t,n,r){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:n,popupTemplate:r}}},{key:"attributes",set:function(e){var t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}},{key:"geometry",set:function(e){var t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}},{key:"symbol",set:function(e){var t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}},{key:"visible",set:function(e){var t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}},{key:"getEffectivePopupTemplate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.popupTemplate?this.popupTemplate:this.sourceLayer?"popupTemplate"in this.sourceLayer&&this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:e&&"defaultPopupTemplate"in this.sourceLayer&&Object(d.h)(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null}},{key:"getAttribute",value:function(e){return this.attributes&&this.attributes[e]}},{key:"setAttribute",value:function(e,t){if(this.attributes){var n=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",n,t,e)}else this.attributes=Object(a.a)({},e,t),this._notifyLayer("attributes",void 0,t,e)}},{key:"getObjectId",value:function(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}},{key:"toJSON",value:function(){return{geometry:Object(d.h)(this.geometry)?this.geometry.toJSON():null,symbol:Object(d.h)(this.symbol)?this.symbol.toJSON():null,attributes:Object(i.a)({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}},{key:"clone",value:function(){return new r(this.cloneProperties())}},{key:"cloneProperties",value:function(){return{attributes:Object(f.a)(this.attributes),geometry:Object(f.a)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:Object(f.a)(this.symbol),visible:this.visible}}},{key:"_notifyLayer",value:function(e,t,n,r){if(this.layer&&"graphicChanged"in this.layer){var i={graphic:this,property:e,oldValue:t,newValue:n};"attributes"===e&&(i.attributeName=r),this.layer.graphicChanged(i)}}}]),n}(v.a);Object(h.a)([Object(p.b)({value:null})],w.prototype,"attributes",null),Object(h.a)([Object(p.b)({value:null,types:m.b,json:{read:y.a}})],w.prototype,"geometry",null),Object(h.a)([Object(p.b)({type:Boolean})],w.prototype,"isAggregate",void 0),Object(h.a)([Object(p.b)()],w.prototype,"layer",void 0),Object(h.a)([Object(p.b)({type:g.a})],w.prototype,"popupTemplate",void 0),Object(h.a)([Object(p.b)()],w.prototype,"sourceLayer",void 0),Object(h.a)([Object(p.b)({value:null,types:O.i})],w.prototype,"symbol",null),Object(h.a)([Object(p.b)({type:Boolean,value:!0})],w.prototype,"visible",null),w=r=Object(h.a)([Object(b.a)("esri.Graphic")],w),(w||(w={})).generateUID=j.a;var _=w;t.a=_},function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return L})),n.d(t,"f",(function(){return M})),n.d(t,"g",(function(){return T}));n(15);var r=n(43),i=n(36),a=n(24),o=n(174),s=n(77),c=n(585),u=n(38),l=n(2),h=n(3),f=n(5),d=n(6),p=n(4),b=n(9),v=n(60),y=n(87),m=n(117),g=n(90),O=n(51),j=n(147),w=n(261),_=n(175),x=n(354),k=n(572),S=n(273),E=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e))._handles=new v.a,r._quadMaterial=null,r._outlineMaterial=null,r._maxSize=0,r._position=Object(a.e)(),r._up=Object(a.e)(),r._right=Object(a.e)(),r._transform=Object(m.b)(),r._renderOccluded=4,r._color=Object(S.b)(1,0,0,1),r._outlineColor=Object(S.b)(0,0,0,1),r._outlineSize=0,r._size=32,r._outlineRenderOccluded=16,r.applyProps(e),r}return Object(h.a)(n,[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}},{key:"color",get:function(){return this._color},set:function(e){Object(g.c)(this._color,e),this._updateQuadMaterial()}},{key:"outlineColor",get:function(){return this._outlineColor},set:function(e){Object(g.c)(this._outlineColor,e),this._updateOutlineMaterial()}},{key:"outlineSize",get:function(){return this._outlineSize},set:function(e){var t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}},{key:"size",get:function(){return this._size},set:function(e){e!==this._size&&(this._size=e,this._updateTransform())}},{key:"outlineRenderOccluded",get:function(){return this._outlineRenderOccluded},set:function(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}},{key:"geometry",set:function(e){var t=e.previous,n=e.center,r=e.next;this._maxSize=Math.min(Object(b.l)(n,t),Object(b.l)(n,r))/3,Object(b.o)(this._up,Object(b.g)(this._up,t,n)),Object(b.o)(this._right,Object(b.g)(this._right,r,n)),Object(b.h)(this._position,n),this.recreateGeometry()}},{key:"createExternalResources",value:function(){var e=this;this._quadMaterial=new k.a(this.quadMaterialParameters,"right-angle-quad"),this._outlineMaterial=new x.a(this.outlineMaterialParameters,"right-angle-quad-outline"),this._handles.add(this.view.state.watch("camera",(function(){e._updateTransform()})))}},{key:"destroyExternalResources",value:function(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}},{key:"forEachExternalResource",value:function(e){e(this._quadMaterial),e(this._outlineMaterial)}},{key:"createGeometries",value:function(e){this._createQuadGeometry(e),this._createOutlineGeometry(e),this._updateTransform(e)}},{key:"_createQuadGeometry",value:function(e){var t=new _.a(this._quadGeometryData(this._up,this._right),"right-angle-quad");e.addGeometry(t,this._quadMaterial)}},{key:"_createOutlineGeometry",value:function(e){if(0!==this._outlineSize){var t=Object(b.c)(O.c.get(),this._up,this._right),n=new _.a(w.a.createPolylineGeometry([this._up,t,this._right]),"right-angle-quad-outline");e.addGeometry(n,this._outlineMaterial)}}},{key:"_updateTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.object,t=this.view.state.camera,n=this._size*t.computeScreenPixelSizeAt(this._position),r=Math.min(this._maxSize,n);Object(y.i)(this._transform),Object(y.q)(this._transform,this._transform,this._position),Object(y.p)(this._transform,this._transform,[r,r,r]),Object(p.h)(e)&&(e.objectTransformation=this._transform)}},{key:"_quadGeometryData",value:function(e,t){var n=Object(b.c)(O.c.get(),e,t);return new j.a({position:{size:3,data:[0,0,0].concat(Object(u.a)(t),Object(u.a)(e),Object(u.a)(n))}},{position:new Uint32Array([0,1,2,1,2,3])})}},{key:"quadMaterialParameters",get:function(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}},{key:"_updateQuadMaterial",value:function(){this._quadMaterial&&this._quadMaterial.setParameterValues(this.quadMaterialParameters)}},{key:"outlineMaterialParameters",get:function(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}},{key:"_updateOutlineMaterial",value:function(){this._outlineMaterial&&this._outlineMaterial.setParameterValues(this.outlineMaterialParameters)}}]),n}(n(358).a);function T(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function M(e,t){var n=e.length===t.length&&e[0]===t[0]&&e[1]===t[1];switch(e.length){case 2:return n;case 3:return n&&e[2]===t[2];case 4:return n&&e[3]===t[3]}return!1}function C(e,t,n,r){return A(e,t,n,r,R),r.state.camera.projectToScreen(R,N),Object(i.e)(N[0],N[1])}function A(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Object(a.e)(),s=t.toXYZ(e);return s[2]=Object(o.b)(r,s,t.spatialReference,n),r.renderCoordsHelper.toRenderCoords(s,t.spatialReference,i),i}function P(e,t,n,r,i){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return D(e,i,A(t.left.pos,n,r,i),A(t.right.pos,n,r,i),a,o)}function I(e,t,n,r,i,a){return D(e,a,A(t,r,i,a),A(n,r,i,a))}function D(e,t,n,i){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=new c.a({view:t,extensionType:3,start:n,end:i,color:r.a.toUnitRGBA(s.a.orange),renderOccluded:16});switch(e){case 0:u.width=s.a.lineHintWidthTarget,u.fadedExtensions={start:0,end:s.a.lineHintFadedExtensions};break;case 3:u.width=s.a.lineHintWidthReference,u.fadedExtensions={start:0,end:0};break;case 1:case 2:u.width=s.a.lineHintWidthReference,u.fadedExtensions={start:a?s.a.lineHintFadedExtensions:0,end:o?s.a.lineHintFadedExtensions:0}}return u.attached=!0,u}function L(e,t,n,i,a,o){return new E({view:o,attached:!0,color:r.a.toUnitRGBA(s.a.orange),renderOccluded:2,outlineRenderOccluded:16,outlineColor:r.a.toUnitRGBA(s.a.orange),outlineSize:s.a.rightAngleHintOutlineSize,size:s.a.rightAngleHintSize,geometry:{previous:A(e,i,a,o),center:A(t,i,a,o),next:A(n,i,a,o)}})}var R=Object(a.e)(),N=Object(i.f)()},function(e,t,n){"use strict";function r(){return function(e,t){if(!e[t])throw new TypeError("Cannot auto bind undefined function '".concat(t,"'"));return{value:(n=e[t],function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];!function(e){var t=e.type;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}(e)?(t=n).call.apply(t,[this,e].concat(i)):"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),e.target.click())})};var n}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return C})),n.d(t,"m",(function(){return I})),n.d(t,"n",(function(){return L})),n.d(t,"o",(function(){return T})),n.d(t,"p",(function(){return A})),n.d(t,"q",(function(){return M})),n.d(t,"r",(function(){return j})),n.d(t,"s",(function(){return u}));var r=n(4),i=n(44),a=n(24),o=n(9),s=n(51);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return[e[0],e[1],e[2],e[3]]}function u(e,t,n,r){return h(e,t,n,r,s.d.get())}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c();return h(e[0],e[1],e[2],e[3],t)}function h(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c();return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();Object(o.h)(n,t);var r=Object(o.e)(t,t);return Math.abs(r-1)>1e-5&&r>1e-12&&Object(o.b)(n,n,1/Math.sqrt(r)),j(n,e,n),n}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c();return w(Object(o.g)(s.c.get(),e,t),Object(o.g)(s.c.get(),n,t),e,r)}function p(e,t,n,r,i){if(e.count<3)return!1;e.getVec(n,v);for(var a=r,s=!1;a<e.count-1&&!s;)e.getVec(a,y),a++,s=!Object(o.n)(v,y);if(!s)return!1;for(a=Math.max(a,i),s=!1;a<e.count&&!s;)e.getVec(a,m),a++,Object(o.g)(g,v,y),Object(o.o)(g,g),Object(o.g)(O,y,m),Object(o.o)(O,O),s=!Object(o.n)(v,m)&&!Object(o.n)(y,m)&&Math.abs(Object(o.e)(g,O))<b;return s?(d(v,y,m,t),!0):(0!==n||1!==r||2!==i)&&p(e,t,0,1,2)}var b=.99619469809,v=Object(a.e)(),y=Object(a.e)(),m=Object(a.e)(),g=Object(a.e)(),O=Object(a.e)();function j(e,t,n){return e!==n&&l(e,n),n[3]=-Object(o.e)(n,t),n}function w(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c();return f(n,Object(o.d)(s.c.get(),t,e),r)}function _(e,t,n){return!!Object(r.h)(t)&&D(e,t.origin,t.direction,!0,!1,n)}function x(e,t,n){return D(e,t.origin,t.vector,!1,!1,n)}function k(e,t,n){return D(e,t.origin,t.vector,!1,!0,n)}function S(e,t){var n=t.center,r=t.radius;return I(e,n)-r>=0}function E(e,t){return I(e,t)>=0}function T(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5];return e[0]*(e[0]>0?n:a)+e[1]*(e[1]>0?r:o)+e[2]*(e[2]>0?i:s)+e[3]>=0}function M(e,t){var n=Object(o.e)(e,t.ray.direction),r=-I(e,t.ray.origin);if(r<0&&n>=0)return!1;if(n>-1e-6&&n<1e-6)return r>0;if((r<0||n<0)&&!(r<0&&n<0))return!0;var i=r/n;return n>0?i<t.c1&&(t.c1=i):i>t.c0&&(t.c0=i),t.c0<=t.c1}function C(e,t){var n=Object(o.e)(e,t.ray.direction),r=-I(e,t.ray.origin);if(n>-1e-6&&n<1e-6)return r>0;var i=r/n;return n>0?i<t.c1&&(t.c1=i):i>t.c0&&(t.c0=i),t.c0<=t.c1}function A(e,t,n){var r=Object(o.b)(s.c.get(),e,-e[3]),i=P(e,Object(o.g)(s.c.get(),t,r),s.c.get());return Object(o.c)(n,i,r),n}function P(e,t,n){var r=Object(o.b)(s.c.get(),e,Object(o.e)(e,t));return Object(o.g)(n,t,r),n}function I(e,t){return Object(o.e)(e,t)+e[3]}function D(e,t,n,r,a,s){var c=Object(o.e)(e,n);if(0===c)return!1;var u=-(Object(o.e)(e,t)+e[3])/c;return a&&(u=r?Math.max(0,u):Object(i.d)(u,0,1)),!(u<0||!r&&u>1)&&(Object(o.c)(s,t,Object(o.b)(s,n,u)),!0)}function L(e){return e}var R=[0,0,1,0],N=Object.freeze({__proto__:null,create:c,wrap:u,copy:l,fromValues:h,fromNormalAndOffset:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return Object(o.h)(n,e),n[3]=t,n},fromPositionAndNormal:f,fromPoints:d,fromManyPoints:function(e,t){return p(e,t,0,1,2)},fromManyPointsSampleAt:p,setOffsetFromPoint:j,negate:function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},fromVectorsAndPoint:w,intersectRay:_,intersectLineSegment:x,intersectLineSegmentClamp:k,isSphereFullyInside:S,isSphereFullyOutside:function(e,t){var n=t.center,r=t.radius;return I(e,n)+r<0},isPointInside:E,isPointOutside:function(e,t){return I(e,t)<0},isAABBFullyInside:T,clip:M,clipInfinite:C,projectPoint:A,projectVector:P,distance:function(e,t){return Math.abs(I(e,t))},signedDistance:I,normal:L,UP:R})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(106),i=n(12);n(65);function a(e){return Object(i.x)(r.a.assetsPath,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i.v})),n.d(t,"b",(function(){return i.l})),n.d(t,"c",(function(){return i.j})),n.d(t,"d",(function(){return i.u})),n.d(t,"e",(function(){return l}));n(104),n(69);var r=n(78),i=n(42),a=(n(446),function(e){return{done:!0,value:e}}),o={};function s(e){return Object(r.b)(e)?"channel":Object(r.l)(e)?String(e):Object(r.d)(e)?e.name:String(e)}function c(e,t,n){var r,s,c,u=t;function l(t,n){if(u===o)return a(t);if(n&&!s)throw u=o,n;r&&r(t);var i=n?e[s](n):e[u]();return u=i.nextState,c=i.effect,r=i.stateUpdater,s=i.errorState,u===o?a(t):c}return Object(i.M)(l,(function(e){return l(null,e)}),n)}function u(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o,u,l={done:!1,value:Object(i.i)(e)},h=function(e){return{done:!1,value:i.j.apply(void 0,[t].concat(r,[e]))}},f=function(e){return{done:!1,value:Object(i.k)(e)}},d=function(e){return o=e},p=function(e){return u=e};return c({q1:function(){return{nextState:"q2",effect:l,stateUpdater:p}},q2:function(){return o?{nextState:"q3",effect:f(o)}:{nextState:"q1",effect:h(u),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:h(u),stateUpdater:d}}},"q1","takeLatest("+s(e)+", "+t.name+")")}function l(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return i.j.apply(void 0,[u,e,t].concat(r))}},function(e,t,n){"use strict";var r=n(40),i=n(5),a=n(6),o=n(38),s=n(2),c=n(3),u=n(0),l=n(95),h=n(8),f=n(37),d=function(){function e(){Object(s.a)(this,e),this._emitter=new e.EventEmitter(this)}return Object(c.a)(e,[{key:"emit",value:function(e,t){return this._emitter.emit(e,t)}},{key:"on",value:function(e,t){return this._emitter.on(e,t)}},{key:"once",value:function(e,t){return this._emitter.once(e,t)}},{key:"hasEventListener",value:function(e){return this._emitter.hasEventListener(e)}}]),e}();!function(e){var t=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(s.a)(this,e),this.target=t,this._listenersMap=null}return Object(c.a)(e,[{key:"clear",value:function(){this._listenersMap&&this._listenersMap.clear()}},{key:"emit",value:function(e,t){var n=this._listenersMap&&this._listenersMap.get(e);if(!n)return!1;var r=this.target||this;return Object(o.a)(n).forEach((function(e){e.call(r,t)})),n.length>0}},{key:"on",value:function(e,t){var n=this;if(Array.isArray(e)){var r=e.map((function(e){return n.on(e,t)}));return Object(l.b)(r)}if(e.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);var i=this._listenersMap.get(e)||[];return i.push(t),this._listenersMap.set(e,i),{remove:function(){var r=n._listenersMap&&n._listenersMap.get(e)||[],i=r.indexOf(t);i>=0&&r.splice(i,1)}}}},{key:"once",value:function(e,t){var n;return n=this.on(e,(function(e){n.remove(),t.call(null,e)}))}},{key:"hasEventListener",value:function(e){var t=this._listenersMap&&this._listenersMap.get(e);return null!=t&&t.length>0}}]),e}();e.EventEmitter=t,e.EventedMixin=function(e){var n=function(e){Object(i.a)(r,e);var n=Object(a.a)(r);function r(){var e;return Object(s.a)(this,r),(e=n.apply(this,arguments))._emitter=new t,e}return Object(c.a)(r,[{key:"emit",value:function(e,t){return this._emitter.emit(e,t)}},{key:"on",value:function(e,t){return this._emitter.on(e,t)}},{key:"once",value:function(e,t){return this._emitter.once(e,t)}},{key:"hasEventListener",value:function(e){return this._emitter.hasEventListener(e)}}]),r}(e);return n=Object(u.a)([Object(h.a)("esri.core.Evented")],n)};var n=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.apply(this,arguments))._emitter=new d.EventEmitter(Object(r.a)(e)),e}return Object(c.a)(n,[{key:"emit",value:function(e,t){return this._emitter.emit(e,t)}},{key:"on",value:function(e,t){return this._emitter.on(e,t)}},{key:"once",value:function(e,t){return this._emitter.once(e,t)}},{key:"hasEventListener",value:function(e){return this._emitter.hasEventListener(e)}}]),n}(f.a);n=Object(u.a)([Object(h.a)("esri.core.Evented")],n),e.EventedAccessor=n}(d||(d={}));var p=d;t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return k})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return x})),n.d(t,"n",(function(){return m})),n.d(t,"o",(function(){return d})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return h})),n.d(t,"r",(function(){return y})),n.d(t,"s",(function(){return O}));var r=n(24),i=n(67);function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o(e,t,n,r,i,a,o,s,c,u,l,h,f,d,p,b,v){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=c,e[8]=u,e[9]=l,e[10]=h,e[11]=f,e[12]=d,e[13]=p,e[14]=b,e[15]=v,e}function s(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function u(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],u=t[7],l=t[8],h=t[9],f=t[10],d=t[11],p=t[12],b=t[13],v=t[14],y=t[15],m=n*s-r*o,g=n*c-i*o,O=n*u-a*o,j=r*c-i*s,w=r*u-a*s,_=i*u-a*c,x=l*b-h*p,k=l*v-f*p,S=l*y-d*p,E=h*v-f*b,T=h*y-d*b,M=f*y-d*v,C=m*M-g*T+O*E+j*S-w*k+_*x;return C?(C=1/C,e[0]=(s*M-c*T+u*E)*C,e[1]=(i*T-r*M-a*E)*C,e[2]=(b*_-v*w+y*j)*C,e[3]=(f*w-h*_-d*j)*C,e[4]=(c*S-o*M-u*k)*C,e[5]=(n*M-i*S+a*k)*C,e[6]=(v*O-p*_-y*g)*C,e[7]=(l*_-f*O+d*g)*C,e[8]=(o*T-s*S+u*x)*C,e[9]=(r*S-n*T-a*x)*C,e[10]=(p*w-b*O+y*m)*C,e[11]=(h*O-l*w-d*m)*C,e[12]=(s*k-o*E-c*x)*C,e[13]=(n*E-r*k+i*x)*C,e[14]=(b*g-p*j-v*m)*C,e[15]=(l*j-h*g+f*m)*C,e):null}function l(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=t[6],l=t[7],h=t[8],f=t[9],d=t[10],p=t[11],b=t[12],v=t[13],y=t[14],m=t[15],g=n[0],O=n[1],j=n[2],w=n[3];return e[0]=g*r+O*s+j*h+w*b,e[1]=g*i+O*c+j*f+w*v,e[2]=g*a+O*u+j*d+w*y,e[3]=g*o+O*l+j*p+w*m,g=n[4],O=n[5],j=n[6],w=n[7],e[4]=g*r+O*s+j*h+w*b,e[5]=g*i+O*c+j*f+w*v,e[6]=g*a+O*u+j*d+w*y,e[7]=g*o+O*l+j*p+w*m,g=n[8],O=n[9],j=n[10],w=n[11],e[8]=g*r+O*s+j*h+w*b,e[9]=g*i+O*c+j*f+w*v,e[10]=g*a+O*u+j*d+w*y,e[11]=g*o+O*l+j*p+w*m,g=n[12],O=n[13],j=n[14],w=n[15],e[12]=g*r+O*s+j*h+w*b,e[13]=g*i+O*c+j*f+w*v,e[14]=g*a+O*u+j*d+w*y,e[15]=g*o+O*l+j*p+w*m,e}function h(e,t,n){var r,i,a,o,s,c,u,l,h,f,d,p,b=n[0],v=n[1],y=n[2];return t===e?(e[12]=t[0]*b+t[4]*v+t[8]*y+t[12],e[13]=t[1]*b+t[5]*v+t[9]*y+t[13],e[14]=t[2]*b+t[6]*v+t[10]*y+t[14],e[15]=t[3]*b+t[7]*v+t[11]*y+t[15]):(r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=t[6],l=t[7],h=t[8],f=t[9],d=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=c,e[6]=u,e[7]=l,e[8]=h,e[9]=f,e[10]=d,e[11]=p,e[12]=r*b+s*v+h*y+t[12],e[13]=i*b+c*v+f*y+t[13],e[14]=a*b+u*v+d*y+t[14],e[15]=o*b+l*v+p*y+t[15]),e}function f(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function d(e,t,n,r){var a,o,s,c,u,l,h,f,d,p,b,v,y,m,g,O,j,w,_,x,k,S,E,T,M=r[0],C=r[1],A=r[2],P=Math.sqrt(M*M+C*C+A*A);return P<i.a?null:(M*=P=1/P,C*=P,A*=P,a=Math.sin(n),s=1-(o=Math.cos(n)),c=t[0],u=t[1],l=t[2],h=t[3],f=t[4],d=t[5],p=t[6],b=t[7],v=t[8],y=t[9],m=t[10],g=t[11],O=M*M*s+o,j=C*M*s+A*a,w=A*M*s-C*a,_=M*C*s-A*a,x=C*C*s+o,k=A*C*s+M*a,S=M*A*s+C*a,E=C*A*s-M*a,T=A*A*s+o,e[0]=c*O+f*j+v*w,e[1]=u*O+d*j+y*w,e[2]=l*O+p*j+m*w,e[3]=h*O+b*j+g*w,e[4]=c*_+f*x+v*k,e[5]=u*_+d*x+y*k,e[6]=l*_+p*x+m*k,e[7]=h*_+b*x+g*k,e[8]=c*S+f*E+v*T,e[9]=u*S+d*E+y*T,e[10]=l*S+p*E+m*T,e[11]=h*S+b*E+g*T,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function p(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],c=t[7],u=t[8],l=t[9],h=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*r,e[5]=o*i+l*r,e[6]=s*i+h*r,e[7]=c*i+f*r,e[8]=u*i-a*r,e[9]=l*i-o*r,e[10]=h*i-s*r,e[11]=f*i-c*r,e}function b(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],u=t[8],l=t[9],h=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*r,e[1]=o*i-l*r,e[2]=s*i-h*r,e[3]=c*i-f*r,e[8]=a*r+u*i,e[9]=o*r+l*i,e[10]=s*r+h*i,e[11]=c*r+f*i,e}function v(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],u=t[4],l=t[5],h=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*r,e[1]=o*i+l*r,e[2]=s*i+h*r,e[3]=c*i+f*r,e[4]=u*i-a*r,e[5]=l*i-o*r,e[6]=h*i-s*r,e[7]=f*i-c*r,e}function y(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function m(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function g(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function O(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function j(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=r+r,c=i+i,u=a+a,l=r*s,h=r*c,f=r*u,d=i*c,p=i*u,b=a*u,v=o*s,y=o*c,m=o*u;return e[0]=1-(d+b),e[1]=h+m,e[2]=f-y,e[3]=0,e[4]=h-m,e[5]=1-(l+b),e[6]=p+v,e[7]=0,e[8]=f+y,e[9]=p-v,e[10]=1-(l+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}var w=Object(r.e)();function _(e,t,n,r,i,a,o){var s=1/(n-t),c=1/(i-r),u=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*c,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*c,e[10]=(o+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*u,e[15]=0,e}function x(e,t,n,r,i,a,o){var s=1/(t-n),c=1/(r-i),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*c,e[14]=(o+a)*u,e[15]=1,e}function k(e,t,n,r){var a,o,c,u,l,h,f,d,p,b,v=t[0],y=t[1],m=t[2],g=r[0],O=r[1],j=r[2],w=n[0],_=n[1],x=n[2];return Math.abs(v-w)<i.a&&Math.abs(y-_)<i.a&&Math.abs(m-x)<i.a?s(e):(f=v-w,d=y-_,p=m-x,a=O*(p*=b=1/Math.sqrt(f*f+d*d+p*p))-j*(d*=b),o=j*(f*=b)-g*p,c=g*d-O*f,(b=Math.sqrt(a*a+o*o+c*c))?(a*=b=1/b,o*=b,c*=b):(a=0,o=0,c=0),u=d*c-p*o,l=p*a-f*c,h=f*o-d*a,(b=Math.sqrt(u*u+l*l+h*h))?(u*=b=1/b,l*=b,h*=b):(u=0,l=0,h=0),e[0]=a,e[1]=u,e[2]=f,e[3]=0,e[4]=o,e[5]=l,e[6]=d,e[7]=0,e[8]=c,e[9]=h,e[10]=p,e[11]=0,e[12]=-(a*v+o*y+c*m),e[13]=-(u*v+l*y+h*m),e[14]=-(f*v+d*y+p*m),e[15]=1,e)}function S(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}var E=l,T=S;Object.freeze({__proto__:null,copy:a,set:o,identity:s,transpose:c,invert:u,adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],u=t[7],l=t[8],h=t[9],f=t[10],d=t[11],p=t[12],b=t[13],v=t[14],y=t[15];return e[0]=s*(f*y-d*v)-h*(c*y-u*v)+b*(c*d-u*f),e[1]=-(r*(f*y-d*v)-h*(i*y-a*v)+b*(i*d-a*f)),e[2]=r*(c*y-u*v)-s*(i*y-a*v)+b*(i*u-a*c),e[3]=-(r*(c*d-u*f)-s*(i*d-a*f)+h*(i*u-a*c)),e[4]=-(o*(f*y-d*v)-l*(c*y-u*v)+p*(c*d-u*f)),e[5]=n*(f*y-d*v)-l*(i*y-a*v)+p*(i*d-a*f),e[6]=-(n*(c*y-u*v)-o*(i*y-a*v)+p*(i*u-a*c)),e[7]=n*(c*d-u*f)-o*(i*d-a*f)+l*(i*u-a*c),e[8]=o*(h*y-d*b)-l*(s*y-u*b)+p*(s*d-u*h),e[9]=-(n*(h*y-d*b)-l*(r*y-a*b)+p*(r*d-a*h)),e[10]=n*(s*y-u*b)-o*(r*y-a*b)+p*(r*u-a*s),e[11]=-(n*(s*d-u*h)-o*(r*d-a*h)+l*(r*u-a*s)),e[12]=-(o*(h*v-f*b)-l*(s*v-c*b)+p*(s*f-c*h)),e[13]=n*(h*v-f*b)-l*(r*v-i*b)+p*(r*f-i*h),e[14]=-(n*(s*v-c*b)-o*(r*v-i*b)+p*(r*c-i*s)),e[15]=n*(s*f-c*h)-o*(r*f-i*h)+l*(r*c-i*s),e},determinant:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],u=e[8],l=e[9],h=e[10],f=e[11],d=e[12],p=e[13],b=e[14],v=e[15];return(t*o-n*a)*(h*v-f*b)-(t*s-r*a)*(l*v-f*p)+(t*c-i*a)*(l*b-h*p)+(n*s-r*o)*(u*v-f*d)-(n*c-i*o)*(u*b-h*d)+(r*c-i*s)*(u*p-l*d)},multiply:l,translate:h,scale:f,rotate:d,rotateX:p,rotateY:b,rotateZ:v,fromTranslation:y,fromScaling:m,fromRotation:function(e,t,n){var r,a,o,s=n[0],c=n[1],u=n[2],l=Math.sqrt(s*s+c*c+u*u);return l<i.a?null:(s*=l=1/l,c*=l,u*=l,r=Math.sin(t),o=1-(a=Math.cos(t)),e[0]=s*s*o+a,e[1]=c*s*o+u*r,e[2]=u*s*o-c*r,e[3]=0,e[4]=s*c*o-u*r,e[5]=c*c*o+a,e[6]=u*c*o+s*r,e[7]=0,e[8]=s*u*o+c*r,e[9]=c*u*o-s*r,e[10]=u*u*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},fromXRotation:g,fromYRotation:function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:O,fromRotationTranslation:j,fromQuat2:function(e,t){var n=w,r=-t[0],i=-t[1],a=-t[2],o=t[3],s=t[4],c=t[5],u=t[6],l=t[7],h=r*r+i*i+a*a+o*o;return h>0?(n[0]=2*(s*o+l*r+c*a-u*i)/h,n[1]=2*(c*o+l*i+u*r-s*a)/h,n[2]=2*(u*o+l*a+s*i-c*r)/h):(n[0]=2*(s*o+l*r+c*a-u*i),n[1]=2*(c*o+l*i+u*r-s*a),n[2]=2*(u*o+l*a+s*i-c*r)),j(e,t,n),e},getTranslation:function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},getScaling:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[4],o=t[5],s=t[6],c=t[8],u=t[9],l=t[10];return e[0]=Math.sqrt(n*n+r*r+i*i),e[1]=Math.sqrt(a*a+o*o+s*s),e[2]=Math.sqrt(c*c+u*u+l*l),e},getRotation:function(e,t){var n=t[0]+t[5]+t[10],r=0;return n>0?(r=2*Math.sqrt(n+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e},fromRotationTranslationScale:function(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3],c=i+i,u=a+a,l=o+o,h=i*c,f=i*u,d=i*l,p=a*u,b=a*l,v=o*l,y=s*c,m=s*u,g=s*l,O=r[0],j=r[1],w=r[2];return e[0]=(1-(p+v))*O,e[1]=(f+g)*O,e[2]=(d-m)*O,e[3]=0,e[4]=(f-g)*j,e[5]=(1-(h+v))*j,e[6]=(b+y)*j,e[7]=0,e[8]=(d+m)*w,e[9]=(b-y)*w,e[10]=(1-(h+p))*w,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},fromRotationTranslationScaleOrigin:function(e,t,n,r,i){var a=t[0],o=t[1],s=t[2],c=t[3],u=a+a,l=o+o,h=s+s,f=a*u,d=a*l,p=a*h,b=o*l,v=o*h,y=s*h,m=c*u,g=c*l,O=c*h,j=r[0],w=r[1],_=r[2],x=i[0],k=i[1],S=i[2],E=(1-(b+y))*j,T=(d+O)*j,M=(p-g)*j,C=(d-O)*w,A=(1-(f+y))*w,P=(v+m)*w,I=(p+g)*_,D=(v-m)*_,L=(1-(f+b))*_;return e[0]=E,e[1]=T,e[2]=M,e[3]=0,e[4]=C,e[5]=A,e[6]=P,e[7]=0,e[8]=I,e[9]=D,e[10]=L,e[11]=0,e[12]=n[0]+x-(E*x+C*k+I*S),e[13]=n[1]+k-(T*x+A*k+D*S),e[14]=n[2]+S-(M*x+P*k+L*S),e[15]=1,e},fromQuat:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,c=i+i,u=n*o,l=r*o,h=r*s,f=i*o,d=i*s,p=i*c,b=a*o,v=a*s,y=a*c;return e[0]=1-h-p,e[1]=l+y,e[2]=f-v,e[3]=0,e[4]=l-y,e[5]=1-u-p,e[6]=d+b,e[7]=0,e[8]=f+v,e[9]=d-b,e[10]=1-u-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},frustum:_,perspective:function(e,t,n,r,i){var a,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(r-i),e[10]=(i+r)*a,e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r),e},perspectiveFromFieldOfView:function(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),c=2/(o+s),u=2/(i+a);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(o-s)*c*.5,e[9]=(i-a)*u*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},ortho:x,lookAt:k,targetTo:function(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=r[0],c=r[1],u=r[2],l=i-n[0],h=a-n[1],f=o-n[2],d=l*l+h*h+f*f;d>0&&(l*=d=1/Math.sqrt(d),h*=d,f*=d);var p=c*f-u*h,b=u*l-s*f,v=s*h-c*l;return(d=p*p+b*b+v*v)>0&&(p*=d=1/Math.sqrt(d),b*=d,v*=d),e[0]=p,e[1]=b,e[2]=v,e[3]=0,e[4]=h*v-f*b,e[5]=f*p-l*v,e[6]=l*b-h*p,e[7]=0,e[8]=l,e[9]=h,e[10]=f,e[11]=0,e[12]=i,e[13]=a,e[14]=o,e[15]=1,e},str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},frob:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},subtract:S,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},equals:function(e,t){var n=e[0],r=e[1],a=e[2],o=e[3],s=e[4],c=e[5],u=e[6],l=e[7],h=e[8],f=e[9],d=e[10],p=e[11],b=e[12],v=e[13],y=e[14],m=e[15],g=t[0],O=t[1],j=t[2],w=t[3],_=t[4],x=t[5],k=t[6],S=t[7],E=t[8],T=t[9],M=t[10],C=t[11],A=t[12],P=t[13],I=t[14],D=t[15];return Math.abs(n-g)<=i.a*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(r-O)<=i.a*Math.max(1,Math.abs(r),Math.abs(O))&&Math.abs(a-j)<=i.a*Math.max(1,Math.abs(a),Math.abs(j))&&Math.abs(o-w)<=i.a*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-_)<=i.a*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(c-x)<=i.a*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(u-k)<=i.a*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(l-S)<=i.a*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(h-E)<=i.a*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(f-T)<=i.a*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(d-M)<=i.a*Math.max(1,Math.abs(d),Math.abs(M))&&Math.abs(p-C)<=i.a*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(b-A)<=i.a*Math.max(1,Math.abs(b),Math.abs(A))&&Math.abs(v-P)<=i.a*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(y-I)<=i.a*Math.max(1,Math.abs(y),Math.abs(I))&&Math.abs(m-D)<=i.a*Math.max(1,Math.abs(m),Math.abs(D))},mul:E,sub:T})},function(e,t,n){"use strict";function r(e){return function(t,n){t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:n})}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return x}));var r=n(2),i=n(3),a=n(61),o=n(57),s=n(5),c=n(6),u=n(0),l=n(4),h=n(243),f=n(244),d=n(68),p=n(242),b=n(107),v=n(227),y=n(202),m=n(241),g=n(341),O=n(160),j=n(173),w=n(588),_={POSITION:"position",SUBDIVISIONFACTOR:"subdivisionFactor",UV0:"uv0",AUXPOS1:"auxpos1",AUXPOS2:"auxpos2",SUBDIVISIONS:"subdivisions",COLOR:"color",COLORFEATUREATTRIBUTE:"colorFeatureAttribute",SIZE:"size",SIZEFEATUREATTRIBUTE:"sizeFeatureAttribute",OPACITYFEATUREATTRIBUTE:"opacityFeatureAttribute"},x={position:0,subdivisionFactor:1,uv0:2,auxpos1:3,auxpos2:4,size:6,sizeFeatureAttribute:6,color:5,colorFeatureAttribute:5,opacityFeatureAttribute:7},k=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,i){var a;return Object(r.a)(this,n),(a=t.call(this,e,i)).stipplePattern=null,a.stippleTextureBind=null,a.stippleTextureRepository=e.stippleTextureRepository,a}return Object(i.a)(n,[{key:"initializeProgram",value:function(e){var t=n.shader.get(),r=this.configuration,i=t.build({OITEnabled:0===r.transparencyPassType,output:r.output,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:r.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,stippleEnabled:r.stippleEnabled,stippleOffColorEnabled:r.stippleOffColorEnabled,stippleUVMaxEnabled:r.stippleIntegerRepeatsEnabled,stippleIntegerRepeatsEnabled:r.stippleIntegerRepeatsEnabled,roundCaps:r.roundCaps,roundJoins:r.roundJoins,vvColor:r.vvColor,vvSize:r.vvSize,vvInstancingEnabled:!0,vvOpacity:r.vvOpacity,falloffEnabled:r.falloffEnabled,innerColorEnabled:r.innerColorEnabled});return new p.a(e.rctx,i.generateSource("vertex"),i.generateSource("fragment"),x)}},{key:"dispose",value:function(){Object(a.a)(Object(o.a)(n.prototype),"dispose",this).call(this),this.stippleTextureRepository.release(this.stipplePattern),this.stipplePattern=null,this.stippleTextureBind=null}},{key:"bindPass",value:function(e,t,n){if(v.a.bindProjectionMatrix(this.program,n.camera.projectionMatrix),4===this.configuration.output&&m.a.bindOutputHighlight(e,this.program,n),this.program.setUniform1f("intrinsicWidth",t.width),this.program.setUniform4fv("intrinsicColor",t.color),this.program.setUniform1f("miterLimit","miter"!==t.join?0:t.miterLimit),this.program.setUniform2fv("nearFar",n.camera.nearFar),this.program.setUniform1f("pixelRatio",n.camera.pixelRatio),this.program.setUniform2f("screenSize",n.camera.fullViewport[2],n.camera.fullViewport[3]),g.a.bindUniformsWithOpacity(this.program,t),this.stipplePattern!==t.stipplePattern){var r=t.stipplePattern;this.stippleTextureBind=this.stippleTextureRepository.swap(this.stipplePattern,r),this.stipplePattern=r}if(this.configuration.stippleEnabled){var i=Object(l.h)(this.stippleTextureBind)?this.stippleTextureBind(e,0)*n.camera.pixelRatio:1;if(this.program.setUniform1i("stipplePatternTexture",0),this.program.setUniform1f("stipplePatternPixelSizeInv",1/i),this.configuration.stippleOffColorEnabled){var a=Object(l.n)(t.stippleOffColor);this.program.setUniform4f("stippleOffColor",a[0],a[1],a[2],a.length>3?a[3]:1)}}this.configuration.falloffEnabled&&this.program.setUniform1f("falloff",t.falloff),this.configuration.innerColorEnabled&&(this.program.setUniform4fv("innerColor",Object(l.o)(t.innerColor,t.color)),this.program.setUniform1f("innerWidth",t.innerWidth*n.camera.pixelRatio))}},{key:"bindDraw",value:function(e){v.a.bindView(this.program,e),y.a.bindUniformsWithOrigin(this.program,this.configuration,e)}},{key:"setPipelineState",value:function(e,t){var n=this.configuration,r=3===e,i=2===e;return Object(b.d)({blending:0===n.output||7===n.output?r?O.f:Object(O.a)(e):null,depthTest:{func:Object(O.b)(e)},depthWrite:r?!n.transparent&&n.writeDepth&&b.c:Object(O.c)(e),colorWrite:b.b,stencilWrite:n.sceneHasOcludees?j.h:null,stencilTest:n.sceneHasOcludees?t?j.d:j.c:null,polygonOffset:r||i?n.polygonOffset&&S:O.d})}},{key:"initializePipeline",value:function(){var e=this.configuration,t=e.polygonOffset&&S;return e.occluder&&(this._occluderPipelineTransparent=Object(b.d)({blending:O.f,polygonOffset:t,depthTest:j.a,depthWrite:null,colorWrite:b.b,stencilWrite:null,stencilTest:j.f}),this._occluderPipelineOpaque=Object(b.d)({blending:O.f,polygonOffset:t,depthTest:j.a,depthWrite:null,colorWrite:b.b,stencilWrite:j.g,stencilTest:j.e}),this._occluderPipelineMaskWrite=Object(b.d)({blending:null,polygonOffset:t,depthTest:j.b,depthWrite:null,colorWrite:null,stencilWrite:j.h,stencilTest:j.d})),this._occludeePipelineState=this.setPipelineState(this.configuration.transparencyPassType,!0),this.setPipelineState(this.configuration.transparencyPassType,!1)}},{key:"primitiveType",get:function(){return 5}},{key:"getPipelineState",value:function(e,t){return t?this._occludeePipelineState:this.configuration.occluder?11===e?this._occluderPipelineTransparent:10===e?this._occluderPipelineOpaque:this._occluderPipelineMaskWrite:this.pipeline}}]),n}(f.a);k.shader=new h.a(w.a,(function(){return n.e(133).then(n.bind(null,964))}));var S={factor:0,units:-4},E=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).output=0,e.occluder=!1,e.slicePlaneEnabled=!1,e.sliceHighlightDisabled=!1,e.vertexColors=!1,e.transparent=!1,e.polygonOffset=!1,e.writeDepth=!1,e.stippleEnabled=!1,e.stippleOffColorEnabled=!1,e.stippleIntegerRepeatsEnabled=!1,e.roundCaps=!1,e.roundJoins=!1,e.vvSize=!1,e.vvColor=!1,e.vvOpacity=!1,e.falloffEnabled=!1,e.innerColorEnabled=!1,e.sceneHasOcludees=!1,e.transparencyPassType=3,e}return n}(d.a);Object(u.a)([Object(d.b)({count:8})],E.prototype,"output",void 0),Object(u.a)([Object(d.b)()],E.prototype,"occluder",void 0),Object(u.a)([Object(d.b)()],E.prototype,"slicePlaneEnabled",void 0),Object(u.a)([Object(d.b)()],E.prototype,"sliceHighlightDisabled",void 0),Object(u.a)([Object(d.b)()],E.prototype,"vertexColors",void 0),Object(u.a)([Object(d.b)()],E.prototype,"transparent",void 0),Object(u.a)([Object(d.b)()],E.prototype,"polygonOffset",void 0),Object(u.a)([Object(d.b)()],E.prototype,"writeDepth",void 0),Object(u.a)([Object(d.b)()],E.prototype,"stippleEnabled",void 0),Object(u.a)([Object(d.b)()],E.prototype,"stippleOffColorEnabled",void 0),Object(u.a)([Object(d.b)()],E.prototype,"stippleIntegerRepeatsEnabled",void 0),Object(u.a)([Object(d.b)()],E.prototype,"roundCaps",void 0),Object(u.a)([Object(d.b)()],E.prototype,"roundJoins",void 0),Object(u.a)([Object(d.b)()],E.prototype,"vvSize",void 0),Object(u.a)([Object(d.b)()],E.prototype,"vvColor",void 0),Object(u.a)([Object(d.b)()],E.prototype,"vvOpacity",void 0),Object(u.a)([Object(d.b)()],E.prototype,"falloffEnabled",void 0),Object(u.a)([Object(d.b)()],E.prototype,"innerColorEnabled",void 0),Object(u.a)([Object(d.b)()],E.prototype,"sceneHasOcludees",void 0),Object(u.a)([Object(d.b)({count:4})],E.prototype,"transparencyPassType",void 0)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return m}));var r=n(67);function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function o(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function s(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function c(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function u(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function l(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function h(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+a*a)}function f(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return n*n+r*r+i*i+a*a}function d(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)}function p(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function b(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=a*o),e}function v(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function y(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e[3]=s+r*(n[3]-s),e}function m(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}function g(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function O(e,t){var n=e[0],i=e[1],a=e[2],o=e[3],s=t[0],c=t[1],u=t[2],l=t[3];return Math.abs(n-s)<=r.a*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-c)<=r.a*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-u)<=r.a*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-l)<=r.a*Math.max(1,Math.abs(o),Math.abs(l))}var j=s,w=c,_=u,x=h,k=f,S=d,E=p;Object.freeze({__proto__:null,copy:i,set:a,add:o,subtract:s,multiply:c,divide:u,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:l,scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},distance:h,squaredDistance:f,length:d,squaredLength:p,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},normalize:b,dot:v,lerp:y,random:function(e,t){var n,i,a,o,s,c;t=t||1;do{s=(n=2*Object(r.b)()-1)*n+(i=2*Object(r.b)()-1)*i}while(s>=1);do{c=(a=2*Object(r.b)()-1)*a+(o=2*Object(r.b)()-1)*o}while(c>=1);var u=Math.sqrt((1-s)/c);return e[0]=t*n,e[1]=t*i,e[2]=t*a*u,e[3]=t*o*u,e},transformMat4:m,transformQuat:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],c=n[2],u=n[3],l=u*r+s*a-c*i,h=u*i+c*r-o*a,f=u*a+o*i-s*r,d=-o*r-s*i-c*a;return e[0]=l*u+d*-o+h*-c-f*-s,e[1]=h*u+d*-s+f*-o-l*-c,e[2]=f*u+d*-c+l*-s-h*-o,e[3]=t[3],e},str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},exactEquals:g,equals:O,sub:j,mul:w,div:_,dist:x,sqrDist:k,len:S,sqrLen:E})},function(e,t,n){"use strict";n.r(t);var r=n(63);n.d(t,"NODEJS_DEFAULT_REFERER_HEADER",(function(){return r.b})),n.d(t,"setDefaultRequestOptions",(function(){return r.e})),n.d(t,"ArcGISAuthError",(function(){return r.a})),n.d(t,"checkForErrors",(function(){return r.c})),n.d(t,"request",(function(){return r.d}));var i=n(259);n.d(t,"appendCustomParams",(function(){return i.a}));var a=n(312);n.d(t,"ArcGISRequestError",(function(){return a.a}));var o=n(541);n.d(t,"cleanUrl",(function(){return o.a}));var s=n(461);n.d(t,"encodeFormData",(function(){return s.a}));var c=n(324);n.d(t,"encodeParam",(function(){return c.a})),n.d(t,"encodeQueryString",(function(){return c.b}));var u=n(627);n.d(t,"decodeParam",(function(){return u.a})),n.d(t,"decodeQueryString",(function(){return u.b}));var l=n(678);n.d(t,"ErrorTypes",(function(){return l.a}));var h=n(679);for(var f in h)["default","NODEJS_DEFAULT_REFERER_HEADER","setDefaultRequestOptions","ArcGISAuthError","checkForErrors","request","appendCustomParams","ArcGISRequestError","cleanUrl","encodeFormData","encodeParam","encodeQueryString","decodeParam","decodeQueryString","ErrorTypes"].indexOf(f)<0&&function(e){n.d(t,e,(function(){return h[e]}))}(f);var d=n(680);for(var f in d)["default","NODEJS_DEFAULT_REFERER_HEADER","setDefaultRequestOptions","ArcGISAuthError","checkForErrors","request","appendCustomParams","ArcGISRequestError","cleanUrl","encodeFormData","encodeParam","encodeQueryString","decodeParam","decodeQueryString","ErrorTypes"].indexOf(f)<0&&function(e){n.d(t,e,(function(){return d[e]}))}(f);var p=n(681);for(var f in p)["default","NODEJS_DEFAULT_REFERER_HEADER","setDefaultRequestOptions","ArcGISAuthError","checkForErrors","request","appendCustomParams","ArcGISRequestError","cleanUrl","encodeFormData","encodeParam","encodeQueryString","decodeParam","decodeQueryString","ErrorTypes"].indexOf(f)<0&&function(e){n.d(t,e,(function(){return p[e]}))}(f);var b=n(682);for(var f in b)["default","NODEJS_DEFAULT_REFERER_HEADER","setDefaultRequestOptions","ArcGISAuthError","checkForErrors","request","appendCustomParams","ArcGISRequestError","cleanUrl","encodeFormData","encodeParam","encodeQueryString","decodeParam","decodeQueryString","ErrorTypes"].indexOf(f)<0&&function(e){n.d(t,e,(function(){return b[e]}))}(f);var v=n(683);for(var f in v)["default","NODEJS_DEFAULT_REFERER_HEADER","setDefaultRequestOptions","ArcGISAuthError","checkForErrors","request","appendCustomParams","ArcGISRequestError","cleanUrl","encodeFormData","encodeParam","encodeQueryString","decodeParam","decodeQueryString","ErrorTypes"].indexOf(f)<0&&function(e){n.d(t,e,(function(){return v[e]}))}(f);var y=n(684);for(var f in y)["default","NODEJS_DEFAULT_REFERER_HEADER","setDefaultRequestOptions","ArcGISAuthError","checkForErrors","request","appendCustomParams","ArcGISRequestError","cleanUrl","encodeFormData","encodeParam","encodeQueryString","decodeParam","decodeQueryString","ErrorTypes"].indexOf(f)<0&&function(e){n.d(t,e,(function(){return y[e]}))}(f);var m=n(685);for(var f in m)["default","NODEJS_DEFAULT_REFERER_HEADER","setDefaultRequestOptions","ArcGISAuthError","checkForErrors","request","appendCustomParams","ArcGISRequestError","cleanUrl","encodeFormData","encodeParam","encodeQueryString","decodeParam","decodeQueryString","ErrorTypes"].indexOf(f)<0&&function(e){n.d(t,e,(function(){return m[e]}))}(f);var g=n(686);for(var f in g)["default","NODEJS_DEFAULT_REFERER_HEADER","setDefaultRequestOptions","ArcGISAuthError","checkForErrors","request","appendCustomParams","ArcGISRequestError","cleanUrl","encodeFormData","encodeParam","encodeQueryString","decodeParam","decodeQueryString","ErrorTypes"].indexOf(f)<0&&function(e){n.d(t,e,(function(){return g[e]}))}(f);var O=n(687);for(var f in O)["default","NODEJS_DEFAULT_REFERER_HEADER","setDefaultRequestOptions","ArcGISAuthError","checkForErrors","request","appendCustomParams","ArcGISRequestError","cleanUrl","encodeFormData","encodeParam","encodeQueryString","decodeParam","decodeQueryString","ErrorTypes"].indexOf(f)<0&&function(e){n.d(t,e,(function(){return O[e]}))}(f);var j=n(688);for(var f in j)["default","NODEJS_DEFAULT_REFERER_HEADER","setDefaultRequestOptions","ArcGISAuthError","checkForErrors","request","appendCustomParams","ArcGISRequestError","cleanUrl","encodeFormData","encodeParam","encodeQueryString","decodeParam","decodeQueryString","ErrorTypes"].indexOf(f)<0&&function(e){n.d(t,e,(function(){return j[e]}))}(f);var w=n(268);n.d(t,"requiresFormData",(function(){return w.b})),n.d(t,"processParams",(function(){return w.a}));var _=n(689);for(var f in _)["default","NODEJS_DEFAULT_REFERER_HEADER","setDefaultRequestOptions","ArcGISAuthError","checkForErrors","request","appendCustomParams","ArcGISRequestError","cleanUrl","encodeFormData","encodeParam","encodeQueryString","decodeParam","decodeQueryString","ErrorTypes","requiresFormData","processParams"].indexOf(f)<0&&function(e){n.d(t,e,(function(){return _[e]}))}(f);var x=n(690);for(var f in x)["default","NODEJS_DEFAULT_REFERER_HEADER","setDefaultRequestOptions","ArcGISAuthError","checkForErrors","request","appendCustomParams","ArcGISRequestError","cleanUrl","encodeFormData","encodeParam","encodeQueryString","decodeParam","decodeQueryString","ErrorTypes","requiresFormData","processParams"].indexOf(f)<0&&function(e){n.d(t,e,(function(){return x[e]}))}(f);var k=n(217);n.d(t,"warn",(function(){return k.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return f}));var r=n(38),i=n(13),a=n(23),o=n(4),s=n(95);function c(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function u(e,t){return null!=e&&e.metadatas&&null!=e.metadatas[t]}function l(e,t,n){return h(e,t,n?{policy:n,path:""}:null)}function h(e,t,n){return t?Object.keys(t).reduce((function(e,r){var i=null,s="merge";if(n&&(i=n.path?"".concat(n.path,".").concat(r):r,s=n.policy(i)),"replace"===s)return e[r]=t[r],e;if(void 0===e[r])return e[r]=Object(a.a)(t[r]),e;var c=e[r],u=t[r];if(c===u)return e;if(Array.isArray(u)||Array.isArray(e))c=c?Array.isArray(c)?e[r]=c.concat():e[r]=[c]:e[r]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach((function(e){-1===c.indexOf(e)&&c.push(e)})));else if(u&&"object"==typeof u)if(n){var l=n.path;n.path=Object(o.c)(i),e[r]=h(c,u,n),n.path=l}else e[r]=h(c,u,null);else e.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(e[r]=u);return e}),e||{}):e}function f(e){return e?"string"==typeof e&&-1===e.indexOf(".")?e:d(e):e}function d(e){return Array.isArray(e)?e:e.split(".")}function p(e){return e.indexOf(",")>-1?e.split(",").map((function(e){return e.trim()})):[e.trim()]}function b(e,t,n,a){var o=function(e){if(Array.isArray(e)){var t,n=[],a=Object(i.a)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;n.push.apply(n,Object(r.a)(p(o)))}}catch(s){a.e(s)}finally{a.f()}return n}return p(e)}(t);if(1!==o.length){var c=o.map((function(t){return a(e,t,n)}));return Object(s.b)(c)}return a(e,o[0],n)}function v(e){var t=!1;return function(){t||(t=!0,e())}}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(10),i=n(13),a=n(7),o=n.n(a),s=n(16),c=n(2),u=n(3),l=n(40),h=n(5),f=n(6),d=n(0),p=(n(15),n(14)),b=n(1),v=n(62),y=n(8),m=(n(12),n(21),n(22),n(17)),g=n(86),O=n(39),j=n(96),w=n(167),_=(n(153),n(247)),x=n(60),k=n(29),S=n(257),E=n(64),T=(n(171),n(276)),M=p.a.getLogger("esri.widgets.Widget"),C=0,A=Object(T.a)(),P=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e,r){var a;Object(c.a)(this,n),(a=t.call(this,e,r))._attached=!1,a._internalHandles=new x.a,a._projector=A,a.domNode=null,a.iconClass="esri-icon-checkbox-unchecked",a.label=a.declaredClass.split(".").pop(),a.visible=!0,a._loadLocale=Object(m.h)(Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a._messageBundleProps&&a._messageBundleProps.length,!e.t0){e.next=4;break}return e.next=4,Object(m.i)(a._messageBundleProps.map(function(){var e=Object(s.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bundlePath,r=t.propertyName,e.next=3,Object(w.a)(n);case 3:a[r]=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var t,n=Object(i.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.error&&M.error("widget-intl:locale-error",a.declaredClass,r.error)}}catch(o){n.e(o)}finally{n.f()}}));case 4:return e.next=6,a.loadLocale();case 6:case"end":return e.stop()}}),e)}))));var u="esri-widget-uid-"+Date.now().toString(16),h=a.render.bind(Object(l.a)(a)),f=!1;return a.render=function(){if(!f||a.destroyed)return null;var e=h();return e.properties?e.properties.key||(e.properties.key=u):e.properties={key:u},e},a.addResolvingPromise(a._resourcesFetch=a.beforeFirstRender().then((function(){f=!0,a._postInitialize()}))),a}return Object(u.a)(n,[{key:"normalizeCtorArgs",value:function(e,t){var n=Object(r.a)({},e);return t&&(n.container=t),n}},{key:"postInitialize",value:function(){}},{key:"beforeFirstRender",value:function(){return this._loadLocale().catch((function(e){if(!Object(m.l)(e))throw e}))}},{key:"loadLocale",value:function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this.destroyed||(this.viewModel&&(this.viewModel.destroy(),this.viewModel=null),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=function(){return null},this._projector=null)}},{key:"container",set:function(e){this._get("container")||this._set("container",e)}},{key:"castContainer",value:function(e){return Object(S.a)(e)}},{key:"id",get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+C++},set:function(e){e&&this._set("id",e)}},{key:"renderable",get:function(){return this._resourcesFetch}},{key:"render",value:function(){throw new Error("not implemented")}},{key:"scheduleRender",value:function(){this.destroyed||this._projector.scheduleRender()}},{key:"classes",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return E.a.apply(this,t)}},{key:"own",value:function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}},{key:"renderNow",value:function(){this._projector.renderNow()}},{key:"_postInitialize",value:function(){var e,t,n=this;this.destroyed||(null!=(e=this._renderableProps)&&e.length&&this._internalHandles.add(this._renderableProps.map((function(e){return Object(k.a)(n,e,(function(t,n){var r=this;if(O.a.isCollection(n)&&this._internalHandles.remove("".concat(this.declaredClass,":").concat(e,"-collection-change-event-listener")),O.a.isCollection(t)){var i=t.on("change",(function(){return r.scheduleRender()}));this._internalHandles.add(i,"".concat(this.declaredClass,":").concat(e,"-collection-change-event-listener"))}this.scheduleRender()}))}))),null!=(t=this._delegatedEventNames)&&t.length&&this._internalHandles.add(Object(k.a)(this,"viewModel",(function(e,t){t&&n._internalHandles.remove("delegated-events"),e&&n._internalHandles.add(n._delegatedEventNames.map((function(t){return e.on(t,(function(e){n.emit(t,e)}))})),"delegated-events")}))),this.postInitialize(),this._internalHandles.add(Object(j.c)(Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._loadLocale().catch((function(e){if(!Object(m.l)(e))throw e}));case 2:n.scheduleRender();case 3:case"end":return e.stop()}}),e)}))))),this._internalHandles.add(Object(k.j)(this,"container",function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.destroyed||n._attach(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))}},{key:"_attach",value:function(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}},{key:"_detach",value:function(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}}]),n}(Object(_.b)(g.a.EventedAccessor));Object(d.a)([Object(b.b)({value:null})],P.prototype,"container",null),Object(d.a)([Object(v.a)("container")],P.prototype,"castContainer",null),Object(d.a)([Object(b.b)({aliasOf:"container"})],P.prototype,"domNode",void 0),Object(d.a)([Object(b.b)()],P.prototype,"iconClass",void 0),Object(d.a)([Object(b.b)({dependsOn:["container"]})],P.prototype,"id",null),Object(d.a)([Object(b.b)()],P.prototype,"label",void 0),Object(d.a)([Object(b.b)()],P.prototype,"renderable",null),Object(d.a)([Object(b.b)()],P.prototype,"viewModel",void 0),Object(d.a)([Object(b.b)()],P.prototype,"visible",void 0);var I=P=Object(d.a)([Object(y.a)("esri.widgets.Widget")],P);t.a=I},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o}));var r=n(4);function i(e){return a((function(){return e.forEach((function(e){return Object(r.h)(e)&&e.remove()}))}))}function a(e){return{remove:function(){e&&(e(),e=void 0)}}}function o(e){return a((function(){var t=e();Object(r.h)(t)&&t.remove()}))}function s(e){return a(Object(r.h)(e)?function(){return e.destroy()}:void 0)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return d}));var r,i,a,o,s,c=n(58),u=null!=(r=null==(i=c.a.esriConfig)?void 0:i.locale)?r:null==(a=c.a.dojoConfig)?void 0:a.locale;function l(){var e,t;return null!=(e=null!=u?u:null==(t=c.a.navigator)?void 0:t.language)?e:"en"}function h(){return void 0===s&&(s=l()),s}var f=[];function d(e){return f.push(e),{remove:function(){f.splice(f.indexOf(e),1)}}}var p=[];function b(e){return p.push(e),{remove:function(){f.splice(p.indexOf(e),1)}}}function v(){var e,t=null!=(e=o)?e:l();s!==t&&(s=t,[].concat(p).forEach((function(e){e.call(null,t)})),[].concat(f).forEach((function(e){e.call(null,t)})))}null==c.a.addEventListener||c.a.addEventListener("languagechange",v)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return f}));var r=n(157),i=n(56),a=n(74),o=n(191),s=n(119),c=n(127);function u(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function l(e){return void 0!==e.points}function h(e){return void 0!==e.x&&void 0!==e.y}function f(e){return void 0!==e.paths}function d(e){return void 0!==e.rings}function p(e){return e?e instanceof r.a?e:h(e)?i.a.fromJSON(e):f(e)?c.a.fromJSON(e):d(e)?s.a.fromJSON(e):l(e)?o.a.fromJSON(e):u(e)?a.a.fromJSON(e):null:null}function b(e){return e?h(e)?"esriGeometryPoint":f(e)?"esriGeometryPolyline":d(e)?"esriGeometryPolygon":u(e)?"esriGeometryEnvelope":l(e)?"esriGeometryMultipoint":null:null}var v={esriGeometryPoint:i.a,esriGeometryPolyline:c.a,esriGeometryPolygon:s.a,esriGeometryEnvelope:a.a,esriGeometryMultipoint:o.a};function y(e){return e&&v[e]||null}},function(e,t,n){"use strict";n.r(t),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return a}));var r=n(339),i=Object(r.b)((function(e,t){var n=function(){function e(e){if("number"==typeof e)return Y.Uc.hh(e);if(null==e)return null;if(null!=ne[e])return Y.Uc.hh(ne[e]);throw Error("Unrecognised Unit Type")}function t(e){if("number"==typeof e)return Y.Uc.hh(e);if(null==e)return null;if(null!=re[e])return Y.Uc.hh(re[e]);throw Error("Unrecognised Unit Type")}function n(e){if(e)switch(e){case"loxodrome":return 1;case"great-elliptic":return 2;case"normal-section":return 3;case"shape-preserving":return 4}return 0}function r(e,t,n,r){if(null==n||n.u())return null;switch(n.F()){case Y.In.Point:return e.exportPoint(t,n,r);case Y.In.Polygon:return e.exportPolygon(t,n,r);case Y.In.Polyline:return e.exportPolyline(t,n,r);case Y.In.MultiPoint:return e.exportMultipoint(t,n,r);case Y.In.Envelope:return e.exportExtent(t,n,r)}return null}function i(e,t,n,r){if(n.F()!==Y.In.Point)throw Error("Geometry not Point");return e.exportPoint(t,n,r)}function a(e,t,n){return e.convertToGEGeometry(t,n)}function o(e){var t=e.wkid;e=e.wkt;var n=ie.get(t||e);return null==n&&(-1!==t&&null!=t?(n=Y.je.create(t),ie.set(t,n)):e&&(n=Y.je.AQ(e),ie.set(e,n))),n}function s(e){var t;if(null==e)return null;var n=o(e);return e=n.Ld(),n=n.co(),(t={}).tolerance=n,t.unitType=null==e?-1:e.nd,t.unitID=null==e?-1:e.xc(),t.unitBaseFactor=null==e?0:e.gi,t.unitSquareDerivative=null==e?0:Y.Uc.MG(e).xc(),t}function c(e,t,n,i){return null==n?null:(n=Y.bc.clip(a(e,ae,n),a(e,ae,i),o(t)),r(e,ae,n,t))}function u(e,t,n,i){n=Y.bc.jl(a(e,ae,n),a(e,ae,i),o(t)),i=[];for(var s=0;s<n.length;s++)i.push(r(e,ae,n[s],t));return i}function l(e,t,n,r){if(null==n||null==r)throw Error("Illegal Argument Exception");return Y.bc.contains(a(e,ae,n),a(e,ae,r),o(t))}function h(e,t,n,r){if(null==n||null==r)throw Error("Illegal Argument Exception");return Y.bc.MQ(a(e,ae,n),a(e,ae,r),o(t))}function f(t,n,r,i,s){if(null==r||null==i)throw Error("Illegal Argument Exception");return Y.bc.vb(a(t,ae,r),a(t,ae,i),o(n),e(s))}function d(e,t,n,r){return!(null==n&&null!=r||null==r&&null!=n)&&Y.bc.Ib(a(e,ae,n),a(e,ae,r),o(t))}function p(e,t,n,r){if(null==n||null==r)throw Error("Illegal Argument Exception");return Y.bc.mU(a(e,ae,n),a(e,ae,r),o(t))}function b(e,t,n,r){if(null==n||null==r)throw Error("Illegal Argument Exception");return Y.bc.touches(a(e,ae,n),a(e,ae,r),o(t))}function v(e,t,n,r){if(null==n||null==r)throw Error("Illegal Argument Exception");return Y.bc.XZ(a(e,ae,n),a(e,ae,r),o(t))}function y(e,t,n,r){if(null==n||null==r)throw Error("Illegal Argument Exception");return Y.bc.dR(a(e,ae,n),a(e,ae,r),o(t))}function m(e,t,n,r){if(null==n||null==r)throw Error("Illegal Argument Exception");return Y.bc.WV(a(e,ae,n),a(e,ae,r),o(t))}function g(e,t,n,r,i){if(null==n||null==r)throw Error("Illegal Argument Exception");return Y.bc.hC(a(e,ae,n),a(e,ae,r),o(t),i)}function O(e,t,n){if(null==n)throw Error("Illegal Argument Exception");return Y.bc.AU(a(e,ae,n),o(t))}function j(e,t,n){if(null==n)throw Error("Illegal Argument Exception");return n=Y.bc.MC(a(e,ae,n),o(t)),r(e,ae,n,t)}function w(e,t,n,i){if(void 0===i&&(i=!1),null==n)throw Error("Illegal Argument Exception");if(Array.isArray(n)){var s=i,c=[];for(i=0;i<n.length;i++)c.push(a(e,ae,n[i]));for(n=Y.bc.tQ(c,s),s=Array(n.length),i=0;i<n.length;i++)s[i]=r(e,ae,n[i],t);return s}return i=Y.bc.sQ(a(e,ae,n),o(t)),r(e,ae,i,t)}function _(e,t,n,i){if(null==n||null==i)throw Error("Illegal Argument Exception");if(Array.isArray(n)){for(var s=[],c=0;c<n.length;c++)s.push(a(e,ae,n[c]));for(n=Y.bc.aR(s,a(e,ae,i),o(t)),i=Array(n.length),c=0;c<n.length;c++)i[c]=r(e,ae,n[c],t);return i}return c=Y.bc.tm(a(e,ae,n),a(e,ae,i),o(t)),r(e,ae,c,t)}function x(e,t,n,i){if(null==n||null==i)throw Error("Illegal Argument Exception");if(Array.isArray(n)){for(var s=[],c=0;c<n.length;c++)s.push(a(e,ae,n[c]));for(n=Y.bc.AZ(s,a(e,ae,i),o(t)),i=Array(n.length),c=0;c<n.length;c++)i[c]=r(e,ae,n[c],t);return i}return c=Y.bc.tp(a(e,ae,n),a(e,ae,i),o(t)),r(e,ae,c,t)}function k(e,t,n,i){if(null==n||null==i)throw Error("Illegal Argument Exception");if(Array.isArray(n)){for(var s=[],c=0;c<n.length;c++)s.push(a(e,ae,n[c]));for(n=Y.bc.kU(s,a(e,ae,i),o(t)),i=Array(n.length),c=0;c<n.length;c++)i[c]=r(e,ae,n[c],t);return i}return c=Y.bc.Ia(a(e,ae,n),a(e,ae,i),o(t)),r(e,ae,c,t)}function S(e,t,n,i){if(null==n)return null;var s=[];if(Array.isArray(n)){if(0===n.length)return null;for(i=0;i<n.length;i++)s.push(a(e,ae,n[i]))}else s.push(a(e,ae,n)),null!=i&&s.push(a(e,ae,i));return r(e,ae,Y.bc.SZ(s,o(t)),t)}function E(t,n,i,s,c,u,l,h){var f=0;if(null!=u)switch(u){case"round":f=0;break;case"bevel":f=1;break;case"miter":f=2;break;case"square":f=3}if(Array.isArray(i)){if(null==i)t=null;else if(0===i.length)t=[];else{var d=[];for(u=0;u<i.length;u++)d.push(a(t,ae,i[u]));for(i=Y.bc.UV(d,o(n),s,f,l,h,e(c)),s=Array(i.length),u=0;u<i.length;u++)s[u]=r(t,ae,i[u],n);t=s}return t}return i=Y.bc.offset(a(t,ae,i),o(n),s,f,l,h,e(c)),r(t,ae,i,n)}function T(t,n,i,s,c,u){if(void 0===u&&(u=!1),Array.isArray(i)){if(!Array.isArray(s)){for(var l=[],h=0;h<i.length;h++)l.push(s);s=l}if(s.length!=i.length){if(0==s.length)throw Error("Illegal Argument Exception");l=[];var f=0;for(h=0;h<i.length;h++)void 0===s[h]?l.push(f):(l.push(s[h]),f=s[h]);s=l}return C(t,n,i,s,c,!1,u,"geodesic",NaN)}return i=Y.bc.buffer(a(t,ae,i),o(n),s,e(c),!1,0,NaN),r(t,ae,i,n)}function M(t,i,s,c,u,l,h,f){if(Array.isArray(s)){if(!Array.isArray(c)){for(var d=[],p=0;p<s.length;p++)d.push(c);c=d}if(c.length!==s.length){if(0===c.length)throw Error("Illegal Argument Exception");d=[];var b=0;for(p=0;p<s.length;p++)void 0===c[p]?d.push(b):(d.push(c[p]),b=c[p]);c=d}return C(t,i,s,c,u,!0,l,h,f)}return void 0===h&&(h=NaN),s=Y.bc.buffer(a(t,ae,s),o(i),c,e(u),!0,n(l),h),r(t,ae,s,i)}function C(t,i,s,c,u,l,h,f,d){if(void 0===d&&(d=NaN),null==s)return null;if(0===s.length)return[];for(var p=[],b=0;b<s.length;b++)p.push(a(t,ae,s[b]));for(s=Y.bc.XO(p,o(i),c,e(u),l,h,n(f),d),c=Array(s.length),b=0;b<s.length;b++)c[b]=r(t,ae,s[b],i);return c}function A(e,t,n,r,o){var s;return void 0===o&&(o=!0),n=Y.bc.Xz(a(e,ae,n),a(e,ae,r),o),(s={}).coordinate=i(e,ae,n.Lz(),t),s.distance=n.Oz(),s.isRightSide=n.AA(),s.vertexIndex=n.Ua(),s.isEmpty=n.u(),s}function P(e,t,n,r){var o;return n=Y.bc.Yz(a(e,ae,n),a(e,ae,r)),(o={}).coordinate=i(e,ae,n.Lz(),t),o.distance=n.Oz(),o.isRightSide=n.AA(),o.vertexIndex=n.Ua(),o.isEmpty=n.u(),o}function I(e,t,n,r,o,s){var c;for(n=Y.bc.Zz(a(e,ae,n),a(e,ae,r),o,s),r=[],o=0;o<n.length;o++)!1===n[o].u()&&r.push(((c={}).coordinate=i(e,ae,n[o].Lz(),t),c.distance=n[o].Oz(),c.isRightSide=n[o].AA(),c.vertexIndex=n[o].Ua(),c.isEmpty=n[o].u(),c));return r}function D(t,n,i,s,c,u){return i=Y.bc.bS(a(t,ae,i),o(n),s,c,e(u)),r(t,ae,i,n)}function L(t,n,i,s,c){return i=Y.bc.rs(a(t,ae,i),o(n),s,e(c)),r(t,ae,i,n)}function R(t,n,i,s,c,u){return void 0===u&&(u=0),i=Y.bc.Bz(a(t,ae,i),o(n),s,e(c),u),r(t,ae,i,n)}function N(e,n,r,i){if(null==r)throw Error("Illegal Argument Exception");return Y.bc.bW(a(e,ae,r),o(n),t(i))}function F(t,n,r,i){if(null==r)throw Error("Illegal Argument Exception");return Y.bc.cW(a(t,ae,r),o(n),e(i))}function z(e,r,i,s,c){if(null==i)throw Error("Illegal Argument Exception");return Y.bc.hS(a(e,ae,i),o(r),t(s),n(c))}function V(t,r,i,s,c){if(null==i)throw Error("Illegal Argument Exception");return Y.bc.lS(a(t,ae,i),o(r),e(s),n(c))}function U(e){Y.VM.bind(e)}function B(e,t,n,r,i){var s=null,c=null;if(r){if(!i)throw Y.f.I("AOI missing Spatial Reference");s=a(e,ae,r),c=o(i).mh()}return null!==(e=Y.Mu.nT(o(t).mh(),o(n).mh(),s,c))?e:null}function G(e,t,n,r,i){var s=null,c=null;if(r){if(!i)throw Y.f.I("AOI missing Spatial Reference");s=a(e,ae,r),c=o(i).mh()}return Y.Mu.oT(o(t).mh(),o(n).mh(),s,c)}function q(e,t,n,r,i){if(void 0===i&&(i=null),!1===this.z_)throw Error("Projection Engine must be enabled using enableProjection");if(0===t.length)return[];if(i){var a=i.getCachedGeTransformation(n,r);if(!a)e:{if(a=i,i=null,a){var s=a.getGTListEntry();if(null!==s){i=new Y.hy(null);for(var c=0,u=s.steps;c<u.length;c++){s=u[c];var l=new Y.Hn(s.geogtran);s.isInverse&&l.Xs(),i.add(l)}i=Y.Ur.os(o(n).mh(),o(r).mh(),i),a.assignCachedGe(n,r,i),a=i;break e}}if(null===i&&a&&a.steps&&0<a.steps.length){for(i=new Y.hy(null),c=0,u=a.steps;c<u.length;c++)-1!=(s=u[c]).wkid&&null!=s.wkid?i.add(Y.Hn.create(s.wkid,s.isInverse)):i.add(Y.Hn.LF(s.wkt,s.isInverse));i=Y.Ur.os(o(n).mh(),o(r).mh(),i),a.assignCachedGe(n,r,i),a=i}else a=Y.Ur.os(o(n).mh(),o(r).mh(),i)}for(n=[],s=0;s<t.length;s++)i=t[s],n.push(H(e,i,r,a))}else for(a=Y.Ur.os(o(n).mh(),o(r).mh(),null),n=[],s=0;s<t.length;s++)i=t[s],n.push(H(e,i,r,a));return n}function H(e,t,n,i){return t=Y.bc.$g(a(e,ae,t),i),r(e,ae,t,n)}var W,Y,J,K,X=this&&this.__extends||function(){function e(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)}return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){var t;(t=e.In||(e.In={}))[t.Unknown=0]="Unknown",t[t.Point=33]="Point",t[t.Line=322]="Line",t[t.Envelope=197]="Envelope",t[t.MultiPoint=550]="MultiPoint",t[t.Polyline=1607]="Polyline",t[t.Polygon=1736]="Polygon",function(e){e[e.enumMild=0]="enumMild",e[e.enumMedium=1]="enumMedium",e[e.enumHot=2]="enumHot"}(e.gM||(e.gM={}));var n=function(){function t(){this.description=null,this.FB=0}return t.prototype.F=function(){return 0},t.prototype.pb=function(){return-1},t.prototype.rg=function(e){this.vc(),e!=this.description&&this.Ln(e)},t.prototype.Ln=function(){},t.prototype.Tl=function(t){this.vc(),t!=this.description&&(t=e.ke.SS(this.description,t))!=this.description&&this.Ln(t)},t.prototype.hasAttribute=function(e){return this.description.hasAttribute(e)},t.prototype.le=function(t){this.vc(),this.description.hasAttribute(t)||(t=e.ke.RS(this.description,t),this.Ln(t))},t.prototype.Qf=function(){return null},t.prototype.qn=function(){},t.prototype.s=function(){},t.prototype.ip=function(){},t.prototype.Zb=function(e){this.s(e)},t.prototype.u=function(){return!0},t.prototype.Ka=function(){},t.prototype.Qc=function(){},t.prototype.Ga=function(){return null},t.prototype.copyTo=function(){},t.prototype.Pe=function(){return 0},t.prototype.Pb=function(){return 0},t.prototype.VG=function(){return this.hasAttribute(1)},t.Se=function(e){return 1+((192&e)>>6)>>1},t.lo=function(e){return 0!=(32&e)},t.m0=function(e){return 0!=(64&e)},t.nU=function(e){return 0!=(128&e)},t.Ic=function(e){return 0!=(256&e)},t.Rg=function(e){return 0!=(512&e)},t.Bc=function(e){return 0!=(1024&e)},t.prototype.Cf=function(){var e=this.Ga();return this.copyTo(e),e},t.prototype.sg=function(){return null},t.$d=function(e){var t=e.Ga();return e.copyTo(t),t},t.prototype.vc=function(){0<=this.FB&&(this.FB+=2147483649)},t.fy=function(n){var r=n.F();if(t.Rg(r))return n.D();if(n.u())return 0;if(197==r)return 4;if(33==r)return 1;if(t.Ic(r))return 2;throw e.f.Y("missing type")},t}();e.R=n}(Y||(Y={})),J=Y||(Y={}),K=function(){function e(){this.y=this.x=0}return e.construct=function(t,n){var r=new e;return r.x=t,r.y=n,r},e.gl=function(t){var n=new e;return n.x=t.x,n.y=t.y,n},e.prototype.ka=function(e,t){this.x=e,this.y=t},e.prototype.K=function(e){this.x=e.x,this.y=e.y},e.prototype.wq=function(e,t){return this.x===e&&this.y===t},e.prototype.xA=function(e){return 2220446049250313e-31>=Math.abs(this.x-e.x)&&2220446049250313e-31>=Math.abs(this.y-e.y)},e.prototype.qb=function(e){return this.x===e.x&&this.y===e.y},e.prototype.Ib=function(t){return t==this||t instanceof e&&this.x==t.x&&this.y==t.y},e.prototype.sub=function(e){this.x-=e.x,this.y-=e.y},e.prototype.tc=function(e,t){this.x=e.x-t.x,this.y=e.y-t.y},e.prototype.add=function(e,t){void 0!==t?(this.x=e.x+t.x,this.y=e.y+t.y):(this.x+=e.x,this.y+=e.y)},e.prototype.lr=function(){this.x=-this.x,this.y=-this.y},e.prototype.Ut=function(e){this.x=-e.x,this.y=-e.y},e.prototype.hU=function(e,t,n){this.x=e.x*(1-n)+t.x*n,this.y=e.y*(1-n)+t.y*n},e.prototype.mu=function(e,t){this.x=this.x*e+t.x,this.y=this.y*e+t.y},e.prototype.mY=function(e,t,n){this.x=t.x*e+n.x,this.y=t.y*e+n.y},e.prototype.scale=function(e){this.x*=e,this.y*=e},e.prototype.compare=function(e){return this.y<e.y?-1:this.y>e.y?1:this.x<e.x?-1:this.x>e.x?1:0},e.prototype.normalize=function(){var e=this.length();0==e&&(this.x=1,this.y=0),this.x/=e,this.y/=e},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.En=function(){return this.x*this.x+this.y*this.y},e.vb=function(e,t){return Math.sqrt(this.oc(e,t))},e.uz=function(e,t,n,r){return e-=n,t-=r,Math.sqrt(e*e+t*t)},e.prototype.Vh=function(e){return this.x*e.x+this.y*e.y},e.prototype.PD=function(e){return Math.abs(this.x*e.x)+Math.abs(this.y*e.y)},e.prototype.Di=function(e){return this.x*e.y-this.y*e.x},e.prototype.lu=function(e,t){var n=-this.x*t+this.y*e;this.x=this.x*e+this.y*t,this.y=n},e.prototype.ow=function(){var e=this.x;this.x=-this.y,this.y=e},e.prototype.yH=function(e){this.x=-e.y,this.y=e.x},e.prototype.ur=function(){var e=this.x;this.x=this.y,this.y=-e},e.prototype.iE=function(){this.y=this.x=NaN},e.prototype.Ey=function(){return isNaN(this.x)},e.prototype.Wu=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3},e.Wr=function(e,t){var n=e.Wu(),r=t.Wu();return r==n?0>(e=e.Di(t))?1:0<e?-1:0:n<r?-1:1},e.I_=function(t,n){return e.Wr(t,n)},e.oc=function(e,t){var n=e.x-t.x;return n*n+(e=e.y-t.y)*e},e.prototype.toString=function(){return"("+this.x+" , "+this.y+")"},e.prototype.Tc=function(){this.y=this.x=NaN},e.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)},e.prototype.ZN=function(){return this.Ey()?NaN:Math.abs(this.x)>=Math.abs(this.y)?Math.abs(this.x):Math.abs(this.y)},e.prototype.offset=function(t,n){var r=e.vb(t,n),i=e.construct(this.x,this.y);if(0==r)return e.vb(i,t);var a=new e;return a.K(n),a.sub(t),i.sub(t),i.Di(a)/r},e.fp=function(e,t,n){var r=new J.Wb;r.set(t.x),r.sub(e.x);var i=new J.Wb;i.set(n.y),i.sub(e.y);var a=new J.Wb;a.set(t.y),a.sub(e.y);var o=new J.Wb;return o.set(n.x),o.sub(e.x),r.Gg(i),a.Gg(o),r.sub(a),r.Ys()?(r=new J.xp(t.x),i=new J.xp(e.x),a=new J.xp(e.y),r=r.Rt(i),e=(e=new J.xp(n.y)).Rt(a),t=(t=new J.xp(t.y)).Rt(a),n=(n=new J.xp(n.x)).Rt(i),r=r.Hr(e),t=t.Hr(n),(r=r.Hr(t)).JU()?-1:r.AT()?1:0):0>(n=r.value())?-1:0<n?1:0},e.prototype.fc=function(){return J.L.Aj(J.L.Aj())},e}(),J.b=K,function(e){var t=function(){function e(e){this.jz=this.vu=0,this.tZ=e}return e.prototype.reset=function(){this.jz=this.vu=0},e.prototype.add=function(e){e-=this.jz;var t=this.vu+e;this.jz=t-this.vu-e,this.vu=t},e.prototype.sub=function(e){this.add(-e)},e.prototype.Dm=function(){return this.tZ+this.vu},e}();e.ky=t,e.Tb=function(){function e(){}return e.hl=function(e,t){return 0<=t?Math.abs(e):-Math.abs(e)},e.sign=function(e){return 0>e?-1:0<e?1:0},e.ZL=function(e){return e-360*Math.floor(e/360)},e.round=function(e){return Math.floor(e+.5)},e.Wx=function(e){return e*e},e.Aq=function(e,t,n){return.5>=n?e+(t-e)*n:t-(t-e)*(1-n)},e.AH=function(e,t,n,r){.5>=n?(r.x=e.x+(t.x-e.x)*n,r.y=e.y+(t.y-e.y)*n):(r.x=t.x-(t.x-e.x)*(1-n),r.y=t.y-(t.y-e.y)*(1-n))},e.HU=function(e,t,n,r,i,a){.5>=i?(a.x=e+(n-e)*i,a.y=t+(r-t)*i):(a.x=n-(n-e)*(1-i),a.y=r-(r-t)*(1-i))},e}()}(Y||(Y={})),function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.ra=0,e.na=0,e.pa=0,e.ma=0,e.ia=null,e}return X(n,t),n.prototype.ac=function(){return e.b.construct(this.ra,this.na)},n.prototype.qq=function(e){e.x=this.ra,e.y=this.na},n.prototype.Fc=function(e){this.pm(0,e)},n.prototype.GC=function(t,n){this.pm(0,e.b.construct(t,n))},n.prototype.jp=function(e){this.SD(0,e)},n.prototype.setStart=function(e){this.fE(0,e)},n.prototype.Ks=function(e,t){return this.Pd(0,e,t)},n.prototype.Qx=function(e,t,n){this.Nn(0,e,t,n)},n.prototype.wc=function(){return e.b.construct(this.pa,this.ma)},n.prototype.vs=function(e){e.x=this.pa,e.y=this.ma},n.prototype.Sc=function(e){this.pm(1,e)},n.prototype.am=function(t,n){this.pm(1,e.b.construct(t,n))},n.prototype.hp=function(e){this.SD(1,e)},n.prototype.setEnd=function(e){this.fE(1,e)},n.prototype.us=function(e,t){return this.Pd(1,e,t)},n.prototype.Hx=function(e,t,n){this.Nn(1,e,t,n)},n.prototype.pb=function(){return 1},n.prototype.u=function(){return this.Ac()},n.prototype.Ka=function(){},n.prototype.Pe=function(){return 0},n.prototype.Ia=function(e,t,n,r,i){return this.SN(e,t,n,r,i)},n.prototype.isIntersecting=function(e,t){return 0!=this.Zr(e,t,!1)},n.prototype.Zs=function(e,t){return this.Xu(e,t,!1)},n.prototype.Xu=function(){return null},n.prototype.Ac=function(){return!1},n.prototype.Hy=function(t){if(this.vc(),null==this.ia&&0<t)this.ia=e.L.Xf(2*t);else if(null!=this.ia&&this.ia.length<2*t){for(var n=this.ia.slice(0),r=this.ia.length;r<2*t;r++)n[r]=0;this.ia=n}},n.nN=function(e,t,n){if(0<n)var r=0;for(var i=0;i<n;i++)t[0+r]=e[0],r++},n.prototype.pm=function(e,t){0!=e?(this.pa=t.x,this.ma=t.y):(this.ra=t.x,this.na=t.y)},n.prototype.Ln=function(t){if(null!=this.ia){for(var r=e.ke.ox(t,this.description),i=[],a=n.Mg(this.description,0),o=n.Mg(this.description,1),s=n.Mg(t,0),c=n.Mg(t,1),u=0,l=1,h=t.Ca;l<h;l++){var f=t.jd(l),d=e.oa.Sa(f);if(-1==r[l]){var p=e.oa.me(f);for(f=0;f<d;f++)i[s+u]=p,i[c+u]=p,u++}else for(p=this.description.dk(r[l])-2,f=0;f<d;f++)i[s+u]=this.ia[a+p],i[c+u]=this.ia[o+p],u++,p++}this.ia=i}this.description=t},n.prototype.SD=function(t,n){if(this.Ac())throw e.f.Y("empty geometry");n.rg(this.description),n.Ac()&&n.Mp();for(var r=0;r<this.description.Ca;r++)for(var i=this.description.Jd(r),a=0,o=e.oa.Sa(i);a<o;a++){var s=this.Pd(t,i,a);n.setAttribute(i,a,s)}},n.prototype.fE=function(t,n){if(this.vc(),n.Ac())throw e.f.Y("empty geometry");for(var r=n.description,i=0,a=r.Ca;i<a;i++)for(var o=r.Jd(i),s=e.oa.Sa(o),c=0;c<s;c++){var u=n.Rc(o,c);this.Nn(t,o,c,u)}},n.prototype.Pd=function(t,r,i){if(this.Ac())throw e.f.Y("This operation was performed on an Empty Geometry.");if(0==r)return 0!=t?0!=i?this.ma:this.pa:0!=i?this.na:this.ra;if(i>=e.oa.Sa(r))throw e.f.Gd();var a=this.description.Yf(r);return 0<=a?(null!=this.ia&&this.Hy(this.description.Ge.length-2),this.ia[n.Mg(this.description,t)+this.description.dk(a)-2+i]):e.oa.me(r)},n.prototype.Nn=function(t,r,i,a){if(this.vc(),i>=e.oa.Sa(r))throw e.f.Gd();var o=this.description.Yf(r);0>o&&(this.le(r),o=this.description.Yf(r)),0==r?0!=t?0!=i?this.ma=a:this.pa=a:0!=i?this.na=a:this.ra=a:(null==this.ia&&this.Hy(this.description.Ge.length-2),this.ia[n.Mg(this.description,t)+this.description.dk(o)-2+i]=a)},n.prototype.copyTo=function(t){if(t.F()!=this.F())throw e.f.I();t.description=this.description,t.Hy(this.description.Ge.length-2),n.nN(this.ia,t.ia,2*(this.description.Ge.length-2)),t.ra=this.ra,t.na=this.na,t.pa=this.pa,t.ma=this.ma,t.vc(),this.Hp(t)},n.prototype.Qf=function(t,n){var r=new e.uc;return this.Ac()?(r.Ka(),r):(r.fa=this.Pd(0,t,n),r.ja=r.fa,r.Sk(this.Pd(1,t,n)),r)},n.prototype.QJ=function(e){this.Ac()?e.Ka():(e.fa=this.Pd(0,0,0),e.ja=e.fa,e.Sk(this.Pd(1,0,0)))},n.prototype.zx=function(t,n){n.rg(this.description),n.nb(this.cc(t));for(var r=1,i=this.description.Ca;r<i;r++)for(var a=this.description.Jd(r),o=e.oa.Sa(a),s=0;s<o;s++){var c=this.Rc(t,a,s);n.setAttribute(a,s,c)}},n.prototype.NN=function(e){if(this.description!=e.description||this.ra!=e.ra||this.pa!=e.pa||this.na!=e.na||this.ma!=e.ma)return!1;for(var t=0;t<2*(this.description.Ge.length-2);t++)if(this.ia[t]!=e.ia[t])return!1;return!0},n.prototype.nH=function(){return this.ra==this.pa&&this.na==this.ma},n.prototype.reverse=function(){var t=this.ra;this.ra=this.pa,this.pa=t,t=this.na,this.na=this.ma,this.ma=t,t=1;for(var n=this.description.Ca;t<n;t++)for(var r=this.description.jd(t),i=0,a=e.oa.Sa(r);i<a;i++){var o=this.Pd(0,r,i),s=this.Pd(1,r,i);this.Nn(0,r,i,s),this.Nn(1,r,i,o)}},n.prototype.Zr=function(t,n,r){var i=t.F();switch(this.F()){case 322:if(322==i)return e.zb.WN(this,t,n,r);throw e.f.za();default:throw e.f.za()}},n.prototype.SN=function(t,n,r,i,a){var o=t.F();switch(this.F()){case 322:if(322==o)return e.zb.Dy(this,t,n,r,i,a);throw e.f.za();default:throw e.f.za()}},n.prototype.yy=function(){return null},n.Mg=function(e,t){return t*(e.Ge.length-2)},n.prototype.cc=function(t,n){if(void 0===n)return n=new e.b,this.cc(t,n),n;e.Tb.HU(this.ra,this.na,this.pa,this.ma,t,n)},n.prototype.ae=function(){return null},n.prototype.QG=function(){return null},n.prototype.uq=function(){return null},n.prototype.Qg=function(){return null},n.prototype.jo=function(){return null},n.prototype.qg=function(){return null},n.prototype.zy=function(e,t){return void 0!==t?this.by(t)-this.by(e):this.by(e)},n.prototype.Hp=function(){},n.prototype.jl=function(){return null},n.prototype.jh=function(){},n.prototype.Rc=function(){return null},n.prototype.Te=function(){return null},n.prototype.by=function(){return null},n.prototype.zH=function(){return null},n.prototype.vb=function(e,t){if(!t&&0!=this.Zr(e,0,!1))return 0;t=17976931348623157e292;var n=this.ac(),r=e.ae(n,!1);return n.sub(e.cc(r)),(n=n.length())<t&&(t=n),n=this.wc(),r=e.ae(n,!1),n.sub(e.cc(r)),(n=n.length())<t&&(t=n),n=e.ac(),r=this.ae(n,!1),n.sub(this.cc(r)),(n=n.length())<t&&(t=n),n=e.wc(),r=this.ae(n,!1),n.sub(this.cc(r)),(n=n.length())<t&&(t=n),t},n.prototype.sg=function(){return e.yi.qm(this,null)},n}(e.R);e.zD=t}(Y||(Y={})),new Y.b,function(e){var t;(t=e.iM||(e.iM={}))[t.Unknown=-1]="Unknown",t[t.Not=0]="Not",t[t.Weak=1]="Weak",t[t.Strong=2]="Strong",function(e){e[e.DirtyIsKnownSimple=1]="DirtyIsKnownSimple",e[e.IsWeakSimple=2]="IsWeakSimple",e[e.IsStrongSimple=4]="IsStrongSimple",e[e.DirtyOGCFlags=8]="DirtyOGCFlags",e[e.DirtyVerifiedStreams=32]="DirtyVerifiedStreams",e[e.DirtyExactIntervals=64]="DirtyExactIntervals",e[e.DirtyLooseIntervals=128]="DirtyLooseIntervals",e[e.DirtyIntervals=192]="DirtyIntervals",e[e.DirtyIsEnvelope=256]="DirtyIsEnvelope",e[e.DirtyLength2D=512]="DirtyLength2D",e[e.DirtyRingAreas2D=1024]="DirtyRingAreas2D",e[e.DirtyCoordinates=1993]="DirtyCoordinates",e[e.DirtyAllInternal=65535]="DirtyAllInternal",e[e.DirtyAll=16777215]="DirtyAll"}(e.VL||(e.VL={}));var n=function(t){function n(){var e=t.call(this)||this;return e.Sm=65535,e.sa=0,e.Vg=-1,e.ib=null,e}return X(n,t),n.prototype.Hp=function(){},n.prototype.Gy=function(){},n.prototype.Oy=function(){},n.prototype.D=function(){return this.sa},n.prototype.u=function(){return this.Ac()},n.prototype.Ac=function(){return 0==this.sa},n.prototype.ek=function(e){return 0!=(this.Sm&e)},n.prototype.Vf=function(e,t){this.Sm=t?this.Sm|e:this.Sm&~e},n.prototype.rc=function(){this.ek(32)&&this.lO()},n.prototype.xu=function(){if(this.Ac())throw e.f.Y("This operation was performed on an Empty Geometry.")},n.prototype.ne=function(t,n){if(0>t||t>=this.sa)throw e.f.Y("index out of bounds");this.rc(),n.rg(this.description),n.u()&&n.Mp();for(var r=0;r<this.description.Ca;r++)for(var i=this.description.Jd(r),a=0,o=e.oa.Sa(i);a<o;a++){var s=this.va[r].Ig(o*t+a);n.setAttribute(i,a,s)}},n.prototype.qu=function(t,n){this.rc();for(var r=n.description,i=0;i<r.Ca;i++)for(var a=r.Jd(i),o=e.oa.Sa(a),s=0;s<o;s++){var c=n.Rc(a,s);this.setAttribute(a,t,s,c)}},n.prototype.w=function(t,n){if(0>t||t>=this.D())throw e.f.Gd();this.rc(),this.va[0].mc(2*t,n)},n.prototype.xa=function(t){var n=new e.b;return this.w(t,n),n},n.prototype.Hc=function(e,t){this.va[0].mc(2*e,t)},n.prototype.nb=function(t,n,r){if(0>t||t>=this.sa)throw e.f.Gd();this.rc();var i=this.va[0];void 0!==r?(i.write(2*t,n),i.write(2*t+1,r)):i.Au(2*t,n),this.Oc(1993)},n.prototype.kA=function(){if(void 0>=this.D())throw e.f.Gd();this.rc();var t=this.va[0],n=new e.Id;return n.x=t.read(NaN),n.y=t.read(NaN),n.z=this.hasAttribute(1)?this.va[1].Ig(void 0):e.oa.me(1),n},n.prototype.LC=function(t){if(0>t||t>=this.D())throw e.f.Gd();this.le(1),this.rc(),this.Oc(1993);var n=this.va[0];n.write(2*t,(void 0).x),n.write(2*t+1,(void 0).y),this.va[1].Mr(t,(void 0).z)},n.prototype.Rc=function(t,n,r){if(0>n||n>=this.sa)throw e.f.Gd();var i=e.oa.Sa(t);if(r>=i)throw e.f.Gd();this.rc();var a=this.description.Yf(t);return 0<=a?this.va[a].Ig(n*i+r):e.oa.me(t)},n.prototype.lG=function(e,t){return this.Rc(e,t,void 0)},n.prototype.setAttribute=function(t,n,r,i){if(0>n||n>=this.sa)throw e.f.Gd();var a=e.oa.Sa(t);if(r>=a)throw e.f.Gd();this.le(t),this.rc(),t=this.description.Yf(t),this.Oc(1993),this.va[t].Mr(n*a+r,i)},n.prototype.Va=function(e){return this.xu(),this.le(e),this.rc(),this.va[this.description.Yf(e)]},n.prototype.yn=function(t,n){if(null!=n&&e.oa.sl(t)!=n.sl())throw e.f.I();this.le(t),t=this.description.Yf(t),null==this.va&&(this.va=e.Xc.gJ(this.description.Ca)),this.va[t]=n,this.Oc(16777215)},n.prototype.Ln=function(t){var n=null;if(null!=this.va){var r=e.ke.ox(t,this.description);n=[];for(var i=0,a=t.Ca;i<a;i++)-1!=r[i]&&(n[i]=this.va[r[i]])}this.description=t,this.va=n,this.Vg=-1,this.Oc(16777215)},n.prototype.mE=function(t){this.bv(!0),t instanceof e.g?this.X.s(t):this.X.ip(t)},n.prototype.kO=function(t){this.bv(!1),t instanceof e.g?this.X.s(t):this.X.ip(t)},n.prototype.qn=function(e){this.bv(!0),this.X.copyTo(e)},n.prototype.s=function(e){this.mE(e)},n.prototype.ip=function(e){this.mE(e)},n.prototype.Zb=function(e){this.kO(e)},n.prototype.Qf=function(t,n){var r=new e.uc;return this.Ac()?(r.Ka(),r):(this.bv(!0),this.X.Qf(t,n))},n.prototype.fc=function(){var t=this.description.fc();if(!this.Ac())for(var n=this.D(),r=0,i=this.description.Ca;r<i;r++)t=this.va[r].Un(t,0,n*e.oa.Sa(this.description.Jd(r)));return t},n.prototype.Ib=function(t){if(t==this)return!0;if(!(t instanceof n&&this.description.Ib(t.description))||this.Ac()!=t.Ac())return!1;if(this.Ac())return!0;var r=this.D();if(r!=t.D())return!1;for(var i=0;i<this.description.Ca;i++){var a=this.description.jd(i),o=this.Va(a),s=t.Va(a);if(!o.Ib(s,0,r*e.oa.Sa(a)))return!1}return!0},n.prototype.copyTo=function(t){if(t.F()!=this.F())throw e.f.I();this.ND(t)},n.prototype.ND=function(t){this.rc(),t.description=this.description,t.va=null;var n=this.description.Ca,r=null;if(null!=this.va){r=[];for(var i=0;i<n;i++)null!=this.va[i]&&(r[i]=this.va[i].qC(this.D()*e.oa.Sa(this.description.Jd(i))))}null!=this.X?(t.X=this.X.Ga(),this.X.copyTo(t.X)):t.X=null,t.sa=this.sa,t.Sm=this.Sm,t.va=r;try{this.Hp(t)}catch(n){throw t.Ka(),e.f.Lu()}},n.prototype.hE=function(){this.sa=0,this.Vg=-1,this.va=null,this.Oc(16777215)},n.prototype.Oc=function(e){16777215==e&&(this.Vg=-1,this.Gy()),this.Sm|=e,this.tN(),this.vc()},n.prototype.bv=function(t){if(this.rc(),this.ek(192))if(null==this.X?this.X=new e.Ih(this.description):this.X.rg(this.description),this.u())this.X.Ka();else{this.Ny(t);for(var n=1;n<this.description.Ca;n++)for(var r=this.description.Jd(n),i=e.oa.Sa(r),a=this.va[n],o=0;o<i;o++){var s=new e.uc;s.Ka();for(var c=0;c<this.sa;c++){var u=a.Ig(c*i+o);s.Nb(u)}this.X.setInterval(r,o,s)}t&&this.Vf(192,!1)}},n.prototype.Ny=function(){this.X.Ka();for(var t=this.va[0],n=new e.b,r=0;r<this.sa;r++)t.mc(2*r,n),this.X.Nb(n)},n.prototype.Tn=function(t){t.Ka();for(var n=this.va[0],r=new e.b,i=0;i<this.sa;i++)n.mc(2*i,r),t.Nb(r)},n.prototype.lO=function(){if(this.Vg<this.sa){null==this.va&&(this.va=e.Xc.gJ(this.description.Ca)),this.Vg=2147483647;for(var t=0;t<this.description.Ca;t++){var n=this.description.Jd(t);if(null!=this.va[t]){var r=e.oa.Sa(n),i=e.L.truncate(this.va[t].size/r);i<this.sa&&(i=e.L.truncate(this.Vg>this.sa+5?(5*this.sa+3)/4:this.sa),this.va[t].resize(i*r,e.oa.me(n))),i<this.Vg&&(this.Vg=i)}else this.va[t]=e.Xc.JF(n,this.sa),this.Vg=this.sa}}this.Oy(),this.Vf(32,!1)},n.prototype.bl=function(t){if(0>t)throw e.f.I();t!=this.sa&&(this.sa=t,this.Oc(65535))},n.prototype.rk=function(e){if(!this.ek(1)){if(!this.ek(2))return 0;if(this.iV>=e)return this.ek(8)?1:2}return-1},n.prototype.Jg=function(t,n){if(this.iV=n,-1==t)this.Vf(1,!0),this.Vf(8,!0);else if(this.Vf(1,!1),this.Vf(8,!0),0==t)this.Vf(2,!1),this.Vf(4,!1);else if(1==t)this.Vf(2,!0),this.Vf(4,!1);else{if(2!=t)throw e.f.Y("internal error.");this.Vf(2,!0),this.Vf(4,!0)}},n.prototype.tN=function(){null!=this.ib&&(this.ib=null)},n.prototype.VD=function(t,n,r,i){if(0>t||t>=this.sa)throw e.f.Y("index out of bounds");if(0>n||n>=this.sa)throw e.f.Y("index out of bounds");this.rc(),i.rg(this.description),i.u()&&i.Mp();for(var a=0;a<this.description.Ca;a++)for(var o=this.description.Jd(a),s=0,c=e.oa.Sa(o);s<c;s++){var u=this.va[a].Ig(c*t+s),l=this.va[a].Ig(c*n+s);i.setAttribute(o,s,e.Tb.Aq(u,l,r))}},n.prototype.Yr=function(e,t){var n=this.va[0].i,r=n[2*e]-n[2*t];return e=n[2*e+1]-n[2*t+1],Math.sqrt(r*r+e*e)},n.prototype.Hh=function(t,n){if(0>t||t>=this.sa)throw e.f.Gd();if(n.u())throw e.f.I();this.rc();for(var r=n.description,i=0;i<r.Ca;i++)for(var a=r.jd(i),o=e.oa.Sa(a),s=0;s<o;s++){var c=n.Rc(a,s);this.setAttribute(a,t,s,c)}},n.prototype.Su=function(){return null},n.prototype.lj=function(){return null},n}(e.R);e.ly=n}(Y||(Y={})),function(e){var t=function(){function t(){this.lb=this.so=null,this.fn=124234251,this.xw=!0,this.Ve=-1,this.lb=new e.ad(7),this.so=null}return t.prototype.kp=function(e){this.so=e},t.prototype.bR=function(){this.xw=!1},t.prototype.Le=function(e){this.lb.Le(e)},t.prototype.qs=function(e){var t=this.lb.Ke();return this.VY(t),this.YY(e,t),t},t.prototype.XQ=function(e){this.lb.hd(e)},t.prototype.addElement=function(e,t){return-1==t&&(-1==this.Ve&&(this.Ve=this.qs(-1)),t=this.Ve),this.rE(e,0,t)},t.prototype.wE=function(e){return-1==this.Ve&&(this.Ve=this.qs(-1)),this.rE(e,1,this.Ve)},t.prototype.Qn=function(e){-1==this.Ve&&(this.Ve=this.qs(-1));var t=this.Ve,n=this.lb.i;if(-1==t||-1==n[7*t])return e=this.lb.Vl([-1,-1,-1,e,this.nl(),-1,-1]),(n=this.lb.i)[7*t]=e,this.Pp(-1,e,t,n),e;var r=-1==t?-1:n[7*t+2];return e=this.lb.Vl([-1,-1,r,e,this.nl(),-1,-1]),(n=this.lb.i)[7*r+1]=e,this.Uy(e,n),-1===n[7*e+2]&&(n[7*t]=e),this.Pp(-1,e,t,n),e},t.prototype.ev=function(t,n,r,i){var a=-1;-1==a&&(-1==this.Ve&&(this.Ve=this.qs(-1)),a=this.Ve);var o=this.lb.i;if(-1==a||-1==o[7*a])return r=this.lb.Vl([-1,-1,-1,r,this.nl(),-1,-1]),(o=this.lb.i)[7*a]=r,this.Pp(-1,r,a,o),r;if(i){i=-1!=n?this.so.compare(this,r,n):-1;var s=-1!=t?this.so.compare(this,r,t):1}else i=-1,s=1;if(0==i||0==s)return o[7*a+3]=0==i?n:t,-1;for((-1!=n&&-1!=t?this.fn>e.L.MB(this.fn)>>1:-1!=n)?t=n:i=s,n=!0;;){if(0>i){if(-1==(s=o[7*t])){i=t,r=this.lb.Vl([-1,-1,t,r,this.nl(),-1,-1]),(o=this.lb.i)[7*t]=r;break}t=s}else{if(-1==(s=o[7*t+1])){i=o[7*t+6],r=this.lb.Vl([-1,-1,t,r,this.nl(),-1,-1]),(o=this.lb.i)[7*t+1]=r;break}t=s}n&&(i*=-1,n=!1)}return this.Uy(r,o),-1===o[7*r+2]&&(o[7*a]=r),this.Pp(i,r,a,o),r},t.prototype.rG=function(){return this.wS(this.Ve)},t.prototype.zd=function(e,t){t=-1==t?this.Ve:t,this.xw?this.WQ(e,t):this.RZ(e,t)},t.prototype.search=function(e,t){for(t=this.$v(t);-1!=t;){var n=this.so.compare(this,e,t);if(0==n)return t;t=0>n?this.rl(t):this.pq(t)}return-1},t.prototype.nY=function(e){for(var t=this.$v(-1),n=-1;-1!=t;){var r=e.compare(this,t);if(0==r)return t;0>r?t=this.rl(t):(n=t,t=this.pq(t))}return n},t.prototype.yK=function(e){for(var t=this.$v(-1),n=-1;-1!=t;){var r=e.compare(this,t);if(0==r)return t;0>r?(n=t,t=this.rl(t)):t=this.pq(t)}return n},t.prototype.ga=function(e){return this.lb.S(e,3)},t.prototype.rl=function(e){return this.lb.S(e,0)},t.prototype.pq=function(e){return this.lb.S(e,1)},t.prototype.getParent=function(e){return this.lb.S(e,2)},t.prototype.hb=function(e){return this.lb.S(e,6)},t.prototype.Be=function(e){return this.lb.S(e,5)},t.prototype.sc=function(e){return-1==e?this.ql(this.Ve):this.ql(e)},t.prototype.Gc=function(e){return-1==e?this.Fs(this.Ve):this.Fs(e)},t.prototype.qT=function(e){return-1==e?this.NG(this.Ve):this.NG(e)},t.prototype.Tj=function(e,t){this.xC(e,t)},t.prototype.$v=function(e){return-1==e?this.JG(this.Ve):this.JG(e)},t.prototype.clear=function(){this.lb.rj(!1),this.Ve=-1},t.prototype.size=function(e){return-1==e?this.LG(this.Ve):this.LG(e)},t.prototype.VO=function(e,t){for(var n=t[7*e],r=t[7*e+1],i=t[7*e+4];-1!=n||-1!=r;){var a=-1!=n?t[7*n+4]:2147483647;if(r=-1!=r?t[7*r+4]:2147483647,i<=Math.min(a,r))break;a<=r?this.wK(n,t):this.vK(e,t),n=t[7*e],r=t[7*e+1]}},t.prototype.Uy=function(e,t){if(this.xw)for(var n=t[7*e+4],r=t[7*e+2];-1!=r&&t[7*r+4]>n;)t[7*r]==e?this.wK(e,t):this.vK(r,t),r=t[7*e+2]},t.prototype.vK=function(e,t){var n=t[7*e+1];t[7*n+2]=t[7*e+2],t[7*e+2]=n;var r=t[7*n];t[7*e+1]=r,-1!=r&&(t[7*r+2]=e),t[7*n]=e,-1!=(r=t[7*n+2])&&(t[7*r]==e?t[7*r]=n:t[7*r+1]=n)},t.prototype.wK=function(e,t){var n=t[7*e+2];t[7*e+2]=t[7*n+2],t[7*n+2]=e;var r=t[7*e+1];t[7*n]=r,-1!=r&&(t[7*r+2]=n),t[7*e+1]=n,-1!=(r=t[7*e+2])&&(t[7*r]===n?t[7*r]=e:t[7*r+1]=e)},t.prototype.Wk=function(e,t){this.lb.P(e,2,t)},t.prototype.BC=function(e,t){this.lb.P(e,0,t)},t.prototype.FC=function(e,t){this.lb.P(e,1,t)},t.prototype.EC=function(e,t){this.lb.P(e,5,t)},t.prototype.Mx=function(e,t){this.lb.P(e,6,t)},t.prototype.aL=function(e,t){this.lb.P(t,0,e)},t.prototype.VY=function(e){this.lb.P(e,4,0)},t.prototype.YY=function(e,t){this.lb.P(t,5,e)},t.prototype.JG=function(e){return-1==e?-1:this.lb.S(e,0)},t.prototype.ql=function(e){return-1==e?-1:this.lb.S(e,1)},t.prototype.Fs=function(e){return-1==e?-1:this.lb.S(e,2)},t.prototype.wS=function(e){return-1==e?-1:this.lb.S(e,3)},t.prototype.LG=function(e){return-1==e?0:this.lb.S(e,4)},t.prototype.NG=function(e){return this.lb.S(e,5)},t.prototype.vx=function(){return this.lb.Vl([-1,-1,-1,void 0,this.nl(),-1,-1])},t.prototype.ml=function(e){-1!=e&&this.lb.hd(e)},t.prototype.nl=function(){return this.fn=e.L.MB(this.fn),1073741823&this.fn},t.prototype.rE=function(e,t,n){var r=this.lb.i;if(-1==n||-1==r[7*n])return e=this.lb.Vl([-1,-1,-1,e,this.nl(),-1,-1]),(r=this.lb.i)[7*n]=e,this.Pp(-1,e,n,r),e;for(var i=-1==n?-1:r[7*n];;){var a=-1==t?1:this.so.compare(this,e,i);if(0>a){if(-1==(a=this.rl(i))){t=i,e=this.lb.Vl([-1,-1,i,e,this.nl(),-1,-1]),(r=this.lb.i)[7*i]=e;break}i=a}else{if(1==t&&0==a)return r[7*n+3]=i,-1;if(-1==(a=r[7*i+1])){t=r[7*i+6],e=this.lb.Vl([-1,-1,i,e,this.nl(),-1,-1]),(r=this.lb.i)[7*i+1]=e;break}i=a}}return this.Uy(e,r),-1===r[7*e+2]&&(r[7*n]=e),this.Pp(t,e,n,r),e},t.prototype.Pp=function(e,t,n,r){if(-1!=e){var i=r[7*e+5];r[7*e+5]=t}else i=-1==n?-1:r[7*n+2];r[7*t+5]=i,-1!=i&&(r[7*i+6]=t),r[7*t+6]=e,e==(-1==n?-1:r[7*n+1])&&(r[7*n+1]=t),-1==e&&(r[7*n+2]=t),r[7*n+4]=(-1==n?0:r[7*n+4])+1},t.prototype.jC=function(e,t){var n=this.lb.i,r=n[7*e+5];e=n[7*e+6],-1!=r?n[7*r+6]=e:n[7*t+1]=e,-1!=e?n[7*e+5]=r:n[7*t+2]=r,n[7*t+4]=-1===t?-1:n[7*t+4]-1},t.prototype.RZ=function(t,n){this.jC(t,n);var r=this.rl(t),i=this.pq(t),a=this.getParent(t),o=t;if(-1!=r&&-1!=i){this.fn=e.L.MB(this.fn);var s=1073741823<this.fn?this.hb(t):this.Be(t),c=this.getParent(s)==t;this.lb.PC(t,s,0),this.lb.PC(t,s,1),this.lb.PC(t,s,2),-1!=a?this.rl(a)==t?this.BC(a,s):this.FC(a,s):this.aL(s,n),c?(r==s?(this.BC(s,t),this.Wk(i,s)):i==s&&(this.FC(s,t),this.Wk(r,s)),this.Wk(t,s),a=s):(this.Wk(r,s),this.Wk(i,s),a=this.getParent(t),o=s),r=this.rl(t),i=this.pq(t),-1!=r&&this.Wk(r,t),-1!=i&&this.Wk(i,t)}r=-1!=r?r:i,-1==a?this.aL(r,n):this.rl(a)==o?this.BC(a,r):this.FC(a,r),-1!=r&&this.Wk(r,a),this.ml(t)},t.prototype.WQ=function(e,t){var n=this.lb.i;n[7*e+4]=2147483647;var r=-1,i=-1,a=-1===t?-1:n[7*t],o=a==e;if(o&&(r=n[7*a],i=n[7*a+1],-1==r&&-1==i))return this.jC(a,t),this.ml(a),void(n[7*t]=-1);this.VO(e,n),-1!=(a=n[7*e+2])&&(n[7*a]==e?n[7*a]=-1:n[7*a+1]=-1),this.jC(e,t),this.ml(e),o&&(n[7*t]=-1==r||-1!=n[7*r+2]?i:r)},t.prototype.xC=function(e,t){this.lb.P(e,3,t)},t}();e.bk=t}(Y||(Y={})),function(e){var t=function(){function t(e,t){void 0!==e&&this.H(e,t)}return t.prototype.H=function(e,t){this.fa=e,this.ja=t,this.normalize()},t.prototype.isIntersecting=function(e){return this.fa<=e.fa?this.ja>=e.fa:e.ja>=this.fa},t.prototype.move=function(e){this.u()||(this.fa+=e,this.ja+=e)},t.prototype.normalize=function(){if(!isNaN(this.fa)){if(this.fa>this.ja){var e=this.fa;this.fa=this.ja,this.ja=e}isNaN(this.ja)&&this.Ka()}},t.prototype.Ka=function(){this.ja=this.fa=NaN},t.prototype.u=function(){return isNaN(this.fa)},t.prototype.Nb=function(e){"number"==typeof e?this.u()?this.ja=this.fa=e:this.Sk(e):e.u()||(this.u()?(this.fa=e.fa,this.ja=e.ja):(this.fa>e.fa&&(this.fa=e.fa),this.ja<e.ja&&(this.ja=e.ja),this.fa>this.ja&&this.Ka()))},t.prototype.Sk=function(e){e<this.fa?this.fa=e:e>this.ja&&(this.ja=e)},t.prototype.contains=function(e){return"number"==typeof e?e>=this.fa&&e<=this.ja:e.fa>=this.fa&&e.ja<=this.ja},t.prototype.Ia=function(e){this.u()||e.u()?this.Ka():(this.fa<e.fa&&(this.fa=e.fa),this.ja>e.ja&&(this.ja=e.ja),this.fa>this.ja&&this.Ka())},t.prototype.O=function(e){this.u()||(this.fa-=e,this.ja+=e,this.ja<this.fa&&this.Ka())},t.prototype.Mn=function(){return this.u()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.fa)+Math.abs(this.ja)+1)},t.prototype.uC=function(e,t){e>t?(this.fa=t,this.ja=e):(this.fa=e,this.ja=t)},t.prototype.ru=function(t){return e.L.Yj(t,this.fa,this.ja)},t.prototype.N=function(){return this.ja-this.fa},t.prototype.hf=function(){return.5*(this.fa+this.ja)},t.prototype.Ib=function(e){return e==this||e instanceof t&&(!(!this.u()||!e.u())||this.fa==e.fa&&this.ja==e.ja)},t.prototype.fc=function(){return e.L.Aj(e.L.Aj())},t}();e.uc=t}(Y||(Y={})),function(e){var t=new e.uc,n=new e.uc,r=function(){this.ue=null,this.mb=-1,this.sb=new e.zb,this.aB=55555555,this.zw=this.Bw=!1,this.cg=new e.uc,this.cg.uC(0,0)};e.s_=r;var i=function(){function i(t,n,i){this.a=t,this.Ok=NaN,this.CI=this.cr=0,this.DI=NaN,this.qa=n,this.fr=10*n,this.EI=this.FI=NaN,this.yg=!1,this.Qm=this.Ot=this.bp=this.Ft=this.Et=-1,this.SA=i,this.DB=new r,this.MI=new r,e.L.truncate(3*t.pd/2)}return i.prototype.ZG=function(e,t,n,r){e.ue=null===r?null:r[n[5*t]],e.zw=null!=e.ue,e.zw||(-1!==(r=n[5*t+2])&&this.a.DX(n[5*t],n[5*r],e.sb),e.ue=e.sb,e.cg.uC(e.sb.ra,e.sb.pa),e.cg.ja+=this.qa,e.sb.hJ(),e.Bw=e.sb.ma==e.sb.na,e.Bw||(e.aB=(e.sb.pa-e.sb.ra)/(e.sb.ma-e.sb.na)))},i.prototype.YP=function(e,t){var n=e.Zr(t,this.qa,!0);return 0!=n?2==n?this.wz():this.Ei():(e.qq(Z),e.vs($),t.qq(ee),t.vs(te),Q.ka(this.cr,this.Ok),Z.qb(ee)&&this.Ok==Z.y?0>$.compare(te)?Q.K($):Q.K(te):Z.qb(te)&&this.Ok==Z.y?0>$.compare(ee)?Q.K($):Q.K(ee):ee.qb($)&&this.Ok==ee.y?0>Z.compare(te)?Q.K(Z):Q.K(te):$.qb(te)&&this.Ok==$.y&&(0>Z.compare(ee)?Q.K(Z):Q.K(ee)),e.Te(Q.y,Q.x)<t.Te(Q.y,Q.x)?-1:1)},i.prototype.WP=function(e,t){if(e.sb.na==t.sb.na&&e.sb.ra==t.sb.ra)return e.sb.ma==t.sb.ma&&e.sb.pa==t.sb.pa?this.SA?this.wz():0:this.AF(e,t);if(e.sb.ma==t.sb.ma&&e.sb.pa==t.sb.pa)return this.zF(e,t);var n=this.zF(e,t);return e=this.AF(e,t),0>n&&0>e?-1:0<n&&0<e?1:this.Ei()},i.prototype.SP=function(e,t){if(e.pa>t.pa){if(t.pa>t.ra&&t.ma-t.na<2*this.qa&&e.Ci(t.pa,t.ma,this.qa))return this.Ei()}else if((t.ma-t.na)/(t.pa-t.ra)*(e.pa-e.ra)<this.fr&&t.Ci(e.pa,e.ma,this.qa))return this.Ei();return 1},i.prototype.TP=function(e,t){if(e.ra<t.ra){if(t.pa>t.ra&&t.ma-t.na<2*this.qa&&e.Ci(t.pa,t.ma,this.qa))return this.Ei()}else if((t.ma-t.na)/(t.pa-t.ra)*(e.ra-e.pa)<this.fr&&t.Ci(e.ra,e.na,this.qa))return this.Ei();return-1},i.prototype.UP=function(t,n){var r=new e.b;r.tc(n.wc(),n.ac()),r.ur(),r.normalize();var i=new e.b;i.tc(t.ac(),n.ac());var a=new e.b;a.tc(t.wc(),n.ac()),i=i.Vh(r),r=a.Vh(r),a=Math.abs(i);var o=Math.abs(r);if(a<o){if(a<this.fr&&n.Ci(t.ra,t.na,this.qa))return this.Ei()}else if(o<this.fr&&n.Ci(t.pa,t.ma,this.qa))return this.Ei();return 0>i&&0>r?-1:0<i&&0<r?1:this.Ei()},i.prototype.yF=function(e,t){return e.na==t.na&&e.ra==t.ra?this.SP(e,t):e.ma==t.ma&&e.pa==t.pa?this.TP(e,t):this.UP(e,t)},i.prototype.VP=function(e,t){return e.ma==t.ma&&e.pa==t.pa&&e.na==t.na&&e.ra==t.ra?this.SA?this.wz():0:this.Ei()},i.prototype.zF=function(e,t){var n=1;if(e.sb.na<t.sb.na){n=-1;var r=e;e=t,t=r}e=e.sb,r=t.sb;var i=e.ra-r.ra;t=t.aB*(e.na-r.na);var a=this.fr;return i<t-a?-n:i>t+a?n:r.Ci(e.ra,e.na,this.qa)?this.Ei():i<t?-n:n},i.prototype.AF=function(e,t){var n=1;if(t.sb.ma<e.sb.ma){n=-1;var r=e;e=t,t=r}e=e.sb,r=t.sb;var i=e.pa-r.ra;t=t.aB*(e.ma-r.na);var a=this.fr;return i<t-a?-n:i>t+a?n:r.Ci(e.pa,e.ma,this.qa)?this.Ei():i<t?-n:n},i.prototype.wz=function(){return this.yg=!0,this.Ti=new e.Od(5,this.bp,this.Ot),-1},i.prototype.Ei=function(){return this.yg=!0,this.SA?this.Ti=new e.Od(4,this.bp,this.Ot):this.Ot=this.bp=this.Ft=this.Et=-1,-1},i.prototype.XP=function(e,r,i,a){if(this.yg)return-1;var o=this.DI==this.Ok&&this.CI==this.cr;if(o&&e==this.Et)var s=this.EI;else s=NaN,this.Et=-1;return o&&r==this.Ft?o=this.FI:(o=NaN,this.Ft=-1),i.ue.QJ(t),a.ue.QJ(n),t.ja<n.fa?-1:n.ja<t.fa?1:(this.DI=this.Ok,this.CI=this.cr,isNaN(s)&&(this.Et=e,this.EI=s=e=i.ue.Te(this.Ok,this.cr)),isNaN(o)&&(this.Ft=r,this.FI=o=e=a.ue.Te(this.Ok,this.cr)),Math.abs(s-o)<=this.qa?this.YP(i.ue,a.ue):s<o?-1:s>o?1:0)},i.prototype.ks=function(){this.yg=!1},i.prototype.Dm=function(){return this.Ti},i.prototype.dL=function(e,t){this.Ok=e,this.cr=t,this.Ot=this.bp=this.Ft=this.Et=-1},i.prototype.compare=function(e,t,n){return this.yg?-1:(e=e.ga(n),this.Qm=n,this.CF(t,t,e,e))},i.prototype.CF=function(e,t,n,r){if(this.bp==t)var i=this.DB;else this.bp=t,i=this.DB,this.DB.mb=e,this.ZG(i,t,this.a.ud.i,this.a.bf);if(null==a){this.Ot=r;var a=this.MI;this.MI.mb=n,this.ZG(a,r,this.a.ud.i,this.a.bf)}return i.zw||a.zw?this.XP(t,r,i,a):i.cg.ja<a.cg.fa?-1:a.cg.ja<i.cg.fa?1:(e=i.Bw?1:0,0==(e|=a.Bw?2:0)?this.WP(i,a):1==e?this.yF(i.sb,a.sb):2==e?-1*this.yF(a.sb,i.sb):this.VP(i.sb,a.sb))},i}();e.CD=i}(Y||(Y={})),function(e){var t=function(){function t(t,n){this.a=t,this.qa=n,this.yg=!1,this.bp=-1,this.cg=new e.uc,this.$q=new e.b,this.$q.Tc(),this.qe=new e.zb,this.Qm=-1,this.kB=17976931348623157e292}return t.prototype.ks=function(){this.yg=!1,this.kB=17976931348623157e292},t.prototype.Hh=function(e){this.$q.K(e)},t.prototype.compare=function(e,t){return this.DF(t,e.ga(t))},t.prototype.DF=function(t,n){var r=null!=this.a.ec(n);if(r||(this.a.gd(n,this.qe),this.cg.uC(this.qe.ra,this.qe.pa)),r)throw e.f.Y("not implemented");if(this.$q.x+this.qa<this.cg.fa)return-1;if(this.$q.x-this.qa>this.cg.ja)return 1;if(this.qe.na==this.qe.ma)return this.Qm=t,this.yg=!0,0;this.qe.hJ(),r=this.qe.ac(),(n=new e.b).tc(this.qe.wc(),r),n.ur();var i=new e.b;return i.tc(this.$q,r),r=n.Vh(i),(r/=n.length())<10*-this.qa?-1:r>10*this.qa?1:this.qe.Zs(this.$q,this.qa)&&((n=Math.abs(r))<this.kB&&(this.Qm=t,this.kB=n),this.yg=!0,n<.25*this.qa)?0:0>r?-1:1},t}();e.hN=t}(Y||(Y={})),function(e){function t(e,t,n,r){n=new Float64Array(e.subarray(n,r)),e.set(n,t)}var n=function(){function n(e){this.Mb=this.wk=!1,this.i=null;var t=e;2>t&&(t=2),this.i=new Float64Array(t),this.size=e}return n.prototype.rotate=function(t,n,r){if(this.Mb)throw e.f.Y("invalid_call");if(n<t||n>r||t>r)throw e.f.I();t!=n&&r!=n&&(this.wi(t,n-t,1),this.wi(n,r-n,1),this.wi(t,r-t,1))},n.Af=function(e,t){var r=new n(e),i=r.i;if(2>e&&(e=2),0!==t)for(var a=0;a<e;a++)i[a]=t;return r},n.Vn=function(e){var t=new n(0);return t.i=new Float64Array(e.i),t.size=e.size,t},n.ms=function(e,t){var r=new n(0);return r.size=e.size,r.size>t&&(r.size=t),2>(t=r.size)&&(t=2),r.i=new Float64Array(t),r.i.set(e.i.length<=t?e.i:e.i.subarray(0,t),0),r},n.prototype.Db=function(e){0>=e||(null==this.i?this.i=new Float64Array(e):e<=this.i.length||(0<this.i.length?((e=new Float64Array(e)).set(this.i),this.i=e):this.i=new Float64Array(e)))},n.prototype.read=function(e){return this.i[e]},n.prototype.mc=function(e,t){t.x=this.i[e],t.y=this.i[e+1]},n.prototype.get=function(e){return this.i[e]},n.prototype.write=function(t,n){if(this.Mb)throw e.f.Eb();this.i[t]=n},n.prototype.set=function(t,n){if(this.Mb)throw e.f.Eb();this.i[t]=n},n.prototype.Au=function(t,n){if(this.Mb)throw e.f.Eb();this.i[t]=n.x,this.i[t+1]=n.y},n.prototype.add=function(e){this.resize(this.size+1),this.i[this.size-1]=e},n.prototype.qC=function(e){return n.ms(this,e)},n.prototype.Ig=function(e){return this.read(e)},n.prototype.resize=function(t,n){if(void 0===n&&(n=0),this.wk)throw e.f.Y("invalid call. Attribute Stream is locked and cannot be resized.");if(t<=this.size){if(30<this.i.length&&5*t/4<this.i.length){var r=new Float64Array(this.i,0,t);this.i=r}}else{t>this.i.length&&(r=e.L.truncate(64>t?Math.max(2*t,4):5*t/4),(r=new Float64Array(r)).set(this.i),this.i=r),r=this.i;for(var i=this.size;i<t;i++)r[i]=n}this.size=t},n.prototype.Gh=function(t){if((null==this.i||t>this.i.length)&&this.resize(t),this.wk)throw e.f.Y("invalid call. Attribute Stream is locked and cannot be resized.");this.size=t},n.prototype.Mr=function(e,t){this.write(e,t)},n.prototype.Un=function(t,n,r){for(var i=this.size;n<i&&n<r;n++)t=e.L.Aj(this.read(n));return t},n.prototype.Ib=function(e,t,r){if(null==e||!(e instanceof n))return!1;var i=this.size,a=e.size;if(r>i||r>a&&i!=a)return!1;for(r>i&&(r=i);t<r;t++)if(this.read(t)!=e.read(t))return!1;return!0},n.prototype.addRange=function(t,n,r,i,a){if(this.Mb)throw e.f.Eb();if(!i&&(1>a||0!=r%a))throw e.f.I();var o=this.size;if(this.resize(o+r),i)this.i.set(t.i.subarray(n,n+r),o);else{i=r;for(var s=0;s<r;s+=a){i-=a;for(var c=0;c<a;c++)this.i[o+s+c]=t.i[n+i+c]}}},n.prototype.fo=function(n,r,i,a,o,s,c){if(this.Mb)throw e.f.Eb();if(!o&&(1>s||0!=a%s))throw e.f.I();var u=this.size-c;if(u<a&&this.resize(this.size+a-u),t(this.i,n+a,n,n+(c-n)),this.i==r.i&&n<i&&(i+=a),o)this.i.set(r.i.subarray(i,i+a),n);else for(o=a,c=0;c<a;c+=s)for(o-=s,u=0;u<s;u++)this.i[n+c+u]=r.i[i+o+u]},n.prototype.qA=function(n,r,i,a,o,s){if(this.Mb)throw e.f.Eb();if(0>s&&(s=this.size),this.size+2*a>this.i.length?this.resize(this.size+2*a):this.size+=2*a,t(this.i,n+2*a,n,n+(s-n)),o)for(o=0;o<a;o++)s=r[i++],this.i[n++]=s.x,this.i[n++]=s.y;else{o=0;for(var c=a-1;o<a;++o)s=r[i+c],this.i[n++]=s.x,this.i[n++]=s.y,c--}},n.prototype.Gm=function(n,r,i,a){if(this.Mb)throw e.f.Eb();for(a-=n,t(this.i,n+a,n,n+a),a=0;a<i;a++)this.i[n+a]=r},n.prototype.Gi=function(n,r,i){if(this.Mb)throw e.f.Eb();t(this.i,n+2,n,n+(i-n)),this.i[n]=r.x,this.i[n+1]=r.y},n.prototype.cD=function(t,n,r,i,a){if(0>t||0>n||0>i)throw e.f.I();if(r.length<i+n)throw e.f.I();if(0!=n)if(this.size<n+t&&this.resize(n+t),a)this.i.set(r.subarray(i,n),t);else for(a||(t+=n-1),n=i+n;i<n;i++)this.i[t]=r[i],t--},n.prototype.Bu=function(t,n,r,i,a,o){if(0>t||0>n||0>i)throw e.f.I();if(!a&&(0>=o||0!=n%o))throw e.f.I();if(r.size<i+n)throw e.f.I();if(0!=n)if(this.size<n+t&&this.resize(n+t),r==this)this.$r(t,n,i,a,o);else if(a)for(a=0;a<n;a++)this.i[t]=r.i[i],t++,i++;else if(i=i+n-o,1==o)for(a=0;a<n;a++)this.i[t]=r.i[i],t++,i--;else for(a=0,n=e.L.truncate(n/o);a<n;a++){for(var s=0;s<o;s++)this.i[t+s]=r.i[i+s];t+=o,i-=o}},n.prototype.Xn=function(n,r,i){if(this.Mb)throw e.f.Eb();if(n+r>this.size)throw e.f.Eb();0<i-(n+r)&&t(this.i,n,n+r,n+(i-(n+r))+r),this.size-=r},n.prototype.wi=function(t,n,r){if(this.Mb)throw e.f.Eb();if(1>r||0!=n%r)throw e.f.Eb();for(var i=n>>1,a=0;a<i;a+=r){n-=r;for(var o=0;o<r;o++){var s=this.i[t+a+o];this.i[t+a+o]=this.i[t+n+o],this.i[t+n+o]=s}}},n.prototype.Xj=function(t,n,r){if(0>n||0>r||0>n||r+n>this.size)throw e.f.I();for(var i=n;i<n+r;i++)this.i[i]=t},n.prototype.$r=function(t,n,r,i,a){if(!(i&&t==r||(this.i.set(this.i.subarray(r,r+n),t),i)))for(r=t,t=t+n-a,i=0,n=e.L.truncate(n/2);i<n;i++){for(var o=0;o<a;o++){var s=this.i[r+o];this.i[r+o]=this.i[t+o],this.i[t+o]=s}r+=a,t-=a}},n.prototype.eD=function(t,n,r,i,a){if(0>t||0>n||0>i)throw e.f.I();if(0!=n)for(this.size<(n<<1)+t&&this.resize((n<<1)+t),a||(t+=n-1<<1),a=a?2:-2,n+=i;i<n;i++)this.i[t]=r[i].x,this.i[t+1]=r[i].y,t+=a},n.prototype.dD=function(t,n,r){if(0>t||0>n)throw e.f.I();if(0!=n){this.size<(n<<1)+t&&this.resize((n<<1)+t),n+=0;for(var i=0;i<n;i++)this.i[t]=r[i][0],this.i[t+1]=r[i][1],t+=2}},n.prototype.hu=function(t,n,r,i,a){if(0>t||0>n||0>i||this.size<n+t)throw e.f.I();if(a)for(a=0;a<n;a++)r[i+a]=this.i[t+a];else for(i=i+n-1;t<n;t++)r[i]=this.i[t],i--},n.prototype.dC=function(t,n,r){if(0>t||0>n||this.size<(n>>1)+t)throw e.f.I();if(0!=n){n=0+n;for(var i=0;i<n;i++)r[i][0]=this.i[t],r[i][1]=this.i[t+1],t+=2}},n.prototype.clear=function(e){e?this.resize(0):this.Gh(0)},n.prototype.Px=function(){this.wk=this.Mb=!0},n.prototype.Zd=function(e,t,n){Array.prototype.sort.call(this.i.subarray(e,t),n)},n.prototype.sl=function(){return 1},n}();e.ie=n}(Y||(Y={})),function(e){function t(e,t,n,r){n=new Int32Array(e.subarray(n,r)),e.set(n,t)}e.YZ=function(){this.random=1973};var n=function(){function n(e){this.Mb=this.wk=!1,this.i=null;var t=e;2>t&&(t=2),this.i=new Int32Array(t),this.size=e}return n.prototype.rotate=function(t,n,r){if(this.Mb)throw e.f.Y("invalid_call");if(n<t||n>r||t>r)throw e.f.I();t!=n&&r!=n&&(this.wi(t,n-t,1),this.wi(n,r-n,1),this.wi(t,r-t,1))},n.Af=function(e,t){var r=new n(e),i=r.i;if(2>e&&(e=2),0!==t)for(var a=0;a<e;a++)i[a]=t;return r},n.Vn=function(e){var t=new n(0);return t.i=new Int32Array(e.i),t.size=e.size,t},n.ms=function(e,t){var r=new n(0);return r.size=e.size,r.size>t&&(r.size=t),2>(t=r.size)&&(t=2),r.i=new Int32Array(t),r.i.set(e.i.length<=t?e.i:e.i.subarray(0,t),0),r},n.prototype.Db=function(e){0>=e||(null==this.i?this.i=new Int32Array(e):e<=this.i.length||(0<this.i.length?((e=new Int32Array(e)).set(this.i),this.i=e):this.i=new Int32Array(e)))},n.prototype.read=function(e){return this.i[e]},n.prototype.mc=function(e,t){t.x=this.i[e],t.y=this.i[e+1]},n.prototype.get=function(e){return this.i[e]},n.prototype.write=function(t,n){if(this.Mb)throw e.f.Eb();this.i[t]=n},n.prototype.set=function(t,n){if(this.Mb)throw e.f.Eb();this.i[t]=n},n.prototype.Au=function(t,n){if(this.Mb)throw e.f.Eb();this.i[t]=n.x,this.i[t+1]=n.y},n.prototype.add=function(e){this.resize(this.size+1),this.i[this.size-1]=e},n.prototype.qC=function(e){return n.ms(this,e)},n.prototype.Ig=function(e){return this.read(e)},n.prototype.resize=function(t,n){if(void 0===n&&(n=0),this.wk)throw e.f.Y("invalid call. Attribute Stream is locked and cannot be resized.");if(t<=this.size){if(30<this.i.length&&5*t/4<this.i.length){var r=new Int32Array(this.i,0,t);this.i=r}}else{t>this.i.length&&(r=e.L.truncate(64>t?Math.max(2*t,4):5*t/4),(r=new Int32Array(r)).set(this.i),this.i=r),r=this.i;for(var i=this.size;i<t;i++)r[i]=n}this.size=t},n.prototype.Gh=function(t){if((null==this.i||t>this.i.length)&&this.resize(t),this.wk)throw e.f.Y("invalid call. Attribute Stream is locked and cannot be resized.");this.size=t},n.prototype.Mr=function(e,t){this.write(e,t)},n.prototype.Un=function(t,n,r){for(var i=this.size;n<i&&n<r;n++)t=e.L.Zh(this.read(n),t);return t},n.prototype.Ib=function(e,t,r){if(null==e||!(e instanceof n))return!1;var i=this.size,a=e.size;if(r>i||r>a&&i!=a)return!1;for(r>i&&(r=i);t<r;t++)if(this.read(t)!=e.read(t))return!1;return!0},n.prototype.addRange=function(t,n,r,i,a){if(this.Mb)throw e.f.Eb();if(!i&&(1>a||0!=r%a))throw e.f.I();var o=this.size;if(this.resize(o+r),i)this.i.set(t.i.subarray(n,n+r),o);else{i=r;for(var s=0;s<r;s+=a){i-=a;for(var c=0;c<a;c++)this.i[o+s+c]=t.i[n+i+c]}}},n.prototype.fo=function(n,r,i,a,o,s,c){if(this.Mb)throw e.f.Eb();if(!o&&(1>s||0!=a%s))throw e.f.I();if(t(this.i,n+a,n,n+(c-n)),this.i==r.i&&n<i&&(i+=a),o)this.i.set(r.i.subarray(i,i+a),n);else for(o=a,c=0;c<a;c+=s){o-=s;for(var u=0;u<s;u++)this.i[n+c+u]=r.i[i+o+u]}},n.prototype.qA=function(n,r,i,a,o,s){if(this.Mb)throw e.f.Eb();if(0>s&&(s=this.size),this.size+2*a>this.i.length?this.resize(this.size+2*a):this.size+=2*a,t(this.i,n+2*a,n,n+(s-n)),o)for(o=0;o<a;o++)s=r[i++],this.i[n++]=s.x,this.i[n++]=s.y;else{o=0;for(var c=a-1;o<a;++o)s=r[i+c],this.i[n++]=s.x,this.i[n++]=s.y,c--}},n.prototype.Gm=function(n,r,i,a){if(this.Mb)throw e.f.Eb();for(a-=n,t(this.i,n+a,n,n+a),a=0;a<i;a++)this.i[n+a]=r},n.prototype.Gi=function(n,r,i){if(this.Mb)throw e.f.Eb();t(this.i,n+2,n,n+(i-n)),this.i[n]=r.x,this.i[n+1]=r.y},n.prototype.cD=function(t,n,r,i,a){if(0>t||0>n||0>i)throw e.f.I();if(r.length<i+n)throw e.f.I();if(0!=n)if(this.size<n+t&&this.resize(n+t),a)this.i.set(r.subarray(i,n),t);else for(a||(t+=n-1),n=i+n;i<n;i++)this.i[t]=r[i],t--},n.prototype.Bu=function(t,n,r,i,a,o){if(0>t||0>n||0>i)throw e.f.I();if(!a&&(0>=o||0!=n%o))throw e.f.I();if(r.size<i+n)throw e.f.I();if(0!=n)if(this.size<n+t&&this.resize(n+t),r==this)this.$r(t,n,i,a,o);else if(a)for(a=0;a<n;a++)this.i[t]=r.i[i],t++,i++;else if(i=i+n-o,1==o)for(a=0;a<n;a++)this.i[t]=r.i[i],t++,i--;else for(a=0,n=e.L.truncate(n/o);a<n;a++){for(var s=0;s<o;s++)this.i[t+s]=r.i[i+s];t+=o,i-=o}},n.prototype.Xn=function(n,r,i){if(this.Mb)throw e.f.Eb();if(n+r>this.size)throw e.f.Eb();0<i-(n+r)&&t(this.i,n,n+r,n+(i-(n+r))+r),this.size-=r},n.prototype.wi=function(t,n,r){if(this.Mb)throw e.f.Eb();if(1>r||0!=n%r)throw e.f.Eb();for(var i=n>>1,a=0;a<i;a+=r){n-=r;for(var o=0;o<r;o++){var s=this.i[t+a+o];this.i[t+a+o]=this.i[t+n+o],this.i[t+n+o]=s}}},n.prototype.Xj=function(t,n,r){if(0>n||0>r||0>n||r+n>this.size)throw e.f.I();for(var i=n;i<n+r;i++)this.i[i]=t},n.prototype.$r=function(t,n,r,i,a){if(!(i&&t==r||(this.i.set(this.i.subarray(r,r+n),t),i)))for(r=t,t=t+n-a,i=0,n=e.L.truncate(n/2);i<n;i++){for(var o=0;o<a;o++){var s=this.i[r+o];this.i[r+o]=this.i[t+o],this.i[t+o]=s}r+=a,t-=a}},n.prototype.eD=function(t,n,r,i,a){if(0>t||0>n||0>i)throw e.f.I();if(0!=n)for(this.size<(n<<1)+t&&this.resize((n<<1)+t),a||(t+=n-1<<1),a=a?2:-2,n+=i;i<n;i++)this.i[t]=r[i].x,this.i[t+1]=r[i].y,t+=a},n.prototype.hu=function(t,n,r,i,a){if(0>t||0>n||0>i||this.size<n+t)throw e.f.I();if(a)for(a=0;a<n;a++)r[i+a]=this.i[t+a];else for(i=i+n-1;t<n;t++)r[i]=this.i[t],i--},n.prototype.clear=function(e){e?this.resize(0):this.Gh(0)},n.prototype.Px=function(){this.wk=this.Mb=!0},n.prototype.Zd=function(e,t,r){10>t-e?n.dH(this.i,e,t,r):n.$B(this.i,e,t-1,r)},n.prototype.sl=function(){return 2},n.prototype.Gc=function(){return this.i[this.size-1]},n.prototype.Rf=function(){this.resize(this.size-1)},n.prototype.EY=function(e){this.i[this.size-1]=e},n.prototype.kX=function(e){e<this.size-1&&(this.i[e]=this.i[this.size-1]),this.resize(this.size-1)},n.prototype.ZF=function(e){for(var t=0,n=this.size;t<n;t++)if(this.i[t]==e)return t;return-1},n.prototype.UG=function(e){return 0<=this.ZF(e)},n.dH=function(e,t,n,r){for(var i=t;i<n;i++){for(var a=e[i],o=i-1;o>=t&&0<r(e[o],a);)e[o+1]=e[o],o--;e[o+1]=a}},n.$x=function(e,t,n){var r=e[n];e[n]=e[t],e[t]=r},n.$B=function(e,t,r,i){if(!(t>=r))for(;;){if(9>r-t){n.dH(e,t,r+1,i);break}var a=e[t];n.$x(e,t,r);for(var o=t,s=t;s<r;s++)0>=i(e[s],a)&&(n.$x(e,o,s),o+=1);n.$x(e,o,r),o-t<r-o?(n.$B(e,t,o-1,i),t=o+1):(n.$B(e,o+1,r,i),r=o-1)}},n}();e.ha=n}(Y||(Y={})),function(e){function t(e,t,n,r){n=new Int8Array(e.subarray(n,r)),e.set(n,t)}var n=function(){function n(e){this.i=null;var t=e;2>t&&(t=2),this.i=new Int8Array(t),this.size=e}return n.prototype.rotate=function(t,n,r){if(this.Mb)throw e.f.Y("invalid_call");if(n<t||n>r||t>r)throw e.f.I();t!=n&&r!=n&&(this.wi(t,n-t,1),this.wi(n,r-n,1),this.wi(t,r-t,1))},n.Af=function(e,t){var r=new n(e),i=r.i;if(2>e&&(e=2),0!==t)for(var a=0;a<e;a++)i[a]=t;return r},n.Vn=function(e){var t=new n(0);return t.i=new Int8Array(e.i),t.size=e.size,t},n.ms=function(e,t){var r=new n(0);return r.size=e.size,r.size>t&&(r.size=t),2>(t=r.size)&&(t=2),r.i=new Int8Array(t),r.i.set(e.i.length<=t?e.i:e.i.subarray(0,t),0),r},n.prototype.Db=function(e){0>=e||(null==this.i?this.i=new Int8Array(e):e<=this.i.length||(0<this.i.length?((e=new Int8Array(e)).set(this.i),this.i=e):this.i=new Int8Array(e)))},n.prototype.read=function(e){return this.i[e]},n.prototype.mc=function(e,t){t.x=this.i[e],t.y=this.i[e+1]},n.prototype.get=function(e){return this.i[e]},n.prototype.write=function(t,n){if(this.Mb)throw e.f.Eb();this.i[t]=n},n.prototype.set=function(t,n){if(this.Mb)throw e.f.Eb();this.i[t]=n},n.prototype.Au=function(t,n){if(this.Mb)throw e.f.Eb();this.i[t]=n.x,this.i[t+1]=n.y},n.prototype.add=function(e){this.resize(this.size+1),this.i[this.size-1]=e},n.prototype.qC=function(e){return n.ms(this,e)},n.prototype.Ig=function(e){return this.read(e)},n.prototype.resize=function(t,n){if(void 0===n&&(n=0),this.wk)throw e.f.Y("invalid call. Attribute Stream is locked and cannot be resized.");if(t<=this.size){if(30<this.i.length&&5*t/4<this.i.length){var r=new Int8Array(this.i,0,t);this.i=r}}else{t>this.i.length&&(r=e.L.truncate(64>t?Math.max(2*t,4):5*t/4),(r=new Int8Array(r)).set(this.i),this.i=r),r=this.i;for(var i=this.size;i<t;i++)r[i]=n}this.size=t},n.prototype.Gh=function(t){if((null==this.i||t>this.i.length)&&this.resize(t),this.wk)throw e.f.Y("invalid call. Attribute Stream is locked and cannot be resized.");this.size=t},n.prototype.Mr=function(e,t){this.write(e,t)},n.prototype.Un=function(t,n,r){for(var i=this.size;n<i&&n<r;n++)t=e.L.Zh(this.read(n),t);return t},n.prototype.Ib=function(e,t,r){if(null==e||!(e instanceof n))return!1;var i=this.size,a=e.size;if(r>i||r>a&&i!=a)return!1;for(r>i&&(r=i);t<r;t++)if(this.read(t)!=e.read(t))return!1;return!0},n.prototype.addRange=function(t,n,r,i,a){if(this.Mb)throw e.f.Eb();if(!i&&(1>a||0!=r%a))throw e.f.I();var o=this.size;if(this.resize(o+r),i)this.i.set(t.i.subarray(n,n+r),o);else{i=r;for(var s=0;s<r;s+=a){i-=a;for(var c=0;c<a;c++)this.i[o+s+c]=t.i[n+i+c]}}},n.prototype.fo=function(n,r,i,a,o,s,c){if(this.Mb)throw e.f.Eb();if(!o&&(1>s||0!=a%s))throw e.f.I();if(t(this.i,n+a,n,n+(c-n)),this.i==r.i&&n<i&&(i+=a),o)this.i.set(r.i.subarray(i,i+a),n);else for(o=a,c=0;c<a;c+=s){o-=s;for(var u=0;u<s;u++)this.i[n+c+u]=r.i[i+o+u]}},n.prototype.Gm=function(n,r,i,a){if(this.Mb)throw e.f.Eb();for(a-=n,t(this.i,n+a,n,n+a),a=0;a<i;a++)this.i[n+a]=r},n.prototype.qA=function(n,r,i,a,o,s){if(this.Mb)throw e.f.Eb();if(0>s&&(s=this.size),this.size+2*a>this.i.length?this.resize(this.size+2*a):this.size+=2*a,t(this.i,n+2*a,n,n+(s-n)),o)for(o=0;o<a;o++)s=r[i++],this.i[n++]=s.x,this.i[n++]=s.y;else{o=0;for(var c=a-1;o<a;++o)s=r[i+c],this.i[n++]=s.x,this.i[n++]=s.y,c--}},n.prototype.Gi=function(n,r,i){if(this.Mb)throw e.f.Eb();t(this.i,n+2,n,n+(i-n)),this.i[n]=r.x,this.i[n+1]=r.y},n.prototype.cD=function(t,n,r,i,a){if(0>t||0>n||0>i)throw e.f.I();if(r.length<i+n)throw e.f.I();if(0!=n)if(this.size<n+t&&this.resize(n+t),a)this.i.set(r.subarray(i,n),t);else for(a||(t+=n-1),n=i+n;i<n;i++)this.i[t]=r[i],t--},n.prototype.Bu=function(t,n,r,i,a,o){if(0>t||0>n||0>i)throw e.f.I();if(!a&&(0>=o||0!=n%o))throw e.f.I();if(r.size<i+n)throw e.f.I();if(0!=n)if(this.size<n+t&&this.resize(n+t),r==this)this.$r(t,n,i,a,o);else if(a)for(a=0;a<n;a++)this.i[t]=r.i[i],t++,i++;else if(i=i+n-o,1==o)for(a=0;a<n;a++)this.i[t]=r.i[i],t++,i--;else for(a=0,n=e.L.truncate(n/o);a<n;a++){for(var s=0;s<o;s++)this.i[t+s]=r.i[i+s];t+=o,i-=o}},n.prototype.Xn=function(n,r,i){if(this.Mb)throw e.f.Eb();if(n+r>this.size)throw e.f.Eb();0<i-(n+r)&&t(this.i,n,n+r,n+(i-(n+r))+r),this.size-=r},n.prototype.wi=function(t,n,r){if(this.Mb)throw e.f.Eb();if(1>r||0!=n%r)throw e.f.Eb();for(var i=n>>1,a=0;a<i;a+=r){n-=r;for(var o=0;o<r;o++){var s=this.i[t+a+o];this.i[t+a+o]=this.i[t+n+o],this.i[t+n+o]=s}}},n.prototype.Xj=function(t,n,r){if(0>n||0>r||0>n||r+n>this.size)throw e.f.I();for(var i=n;i<n+r;i++)this.i[i]=t},n.prototype.$r=function(t,n,r,i,a){if(!(i&&t==r||(this.i.set(this.i.subarray(r,r+n),t),i)))for(r=t,t=t+n-a,i=0,n=e.L.truncate(n/2);i<n;i++){for(var o=0;o<a;o++){var s=this.i[r+o];this.i[r+o]=this.i[t+o],this.i[t+o]=s}r+=a,t-=a}},n.prototype.eD=function(t,n,r,i,a){if(0>t||0>n||0>i)throw e.f.I();if(0!=n)for(this.size<(n<<1)+t&&this.resize((n<<1)+t),a||(t+=n-1<<1),a=a?2:-2,n+=i;i<n;i++)this.i[t]=r[i].x,this.i[t+1]=r[i].y,t+=a},n.prototype.hu=function(t,n,r,i,a){if(0>t||0>n||0>i||this.size<n+t)throw e.f.I();if(a)for(a=0;a<n;a++)r[i+a]=this.i[t+a];else for(i=i+n-1;t<n;t++)r[i]=this.i[t],i--},n.prototype.clear=function(e){e?this.resize(0):this.Gh(0)},n.prototype.Px=function(){this.wk=this.Mb=!0},n.prototype.Zd=function(e,t,n){t=this.i.subarray(e,t),Array.prototype.sort.call(t,n),this.i.set(t,e)},n.prototype.DK=function(t,n){if(this.Mb)throw e.f.Y("invalid call. Attribute Stream is read only.");this.i[t]|=n},n.prototype.uF=function(t,n){if(this.Mb)throw e.f.Y("invalid call. Attribute Stream is read only.");this.i[t]&=~n},n.prototype.sl=function(){return 1},n}();e.Gn=n}(Y||(Y={})),function(e){e.Xc=function(){function t(){}return t.ns=function(t,n){return e.Gn.Af(t,n)},t.Wn=function(t,n){return e.ie.Af(t,n)},t.zQ=function(t,n,r){switch(t){case 1:t=e.ie.Af(n,r);break;case 2:t=e.ha.Af(n,r);break;case 4:t=e.Gn.Af(n,r);break;default:throw e.f.za()}return t},t.JF=function(n,r){return t.zQ(e.oa.sl(n),r*e.oa.Sa(n),e.oa.me(n))},t.Sh=function(t,n){return e.ha.Af(t,n)},t.gJ=function(e){var t,n=[];for(t=0;t<e;t++)n.push(null);return n},t}()}(Y||(Y={})),function(e){e.da=function(e){void 0===e&&(e=0),this.j=e}}(Y||(Y={})),function(e){e.VM=function(){function t(){}return t.bind=function(n){e.Pc=n.PeDefs,e.zf=n.PeFactory,e.uD=n.PeVertcs,e.Kh=n.PeCSTransformations,e.tD=n.PeGTTransformations,e.TM=n.PeGeogtran,e.SM=n.PeFactoryCodechange,e.sD=n.PeGCSExtent,e.ng=n.PePCSInfo,e.UM=n.PeHorizon,e.RM=n.PeCoordsys,e.Dp=n.PeGTlistExtended,e.Dp.PE_GTLIST_OPTS_USE_DEFAULT=128,e.zf.initialize(null),e.ry=n.PeGTlistExtendedEntry,t.rV=e.zf.fromString(e.Pc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')},t.K0=function(){},t.rV=null,t}(),e.zf=null,e.uD=null,e.RM=null,e.UM=null,e.ng=null,e.Dp=null,e.ry=null,e.sD=null,e.SM=null,e.TM=null,e.Pc=null,e.tD=null,e.Kh=null}(Y||(Y={})),function(e){var t=function(){function e(){}return e.ub=function(t,n){return 0<=n?e.J(t):-e.J(t)},e.J=function(e){return 0>e?-e:e},e.Ai=function(e){return 3552713678800501e-30>e},e.rD=function(t,n,r){return e.J(t-n)<=r*(1+(e.J(t)+e.J(n))/2)},e.V=function(t,n){return e.rD(t,n,3552713678800501e-30)},e.NM=function(t){return 3552713678800501e-30>=e.J(t)},e.qd=function(t){return e.NM(t)},e}();e.l=t,e.C=function(){function n(){}return n.wp=function(e,n){var r=0;return 0!=(e=t.J(e))+(n=t.J(n))&&(e>n?(r=n/e,r=e*Math.sqrt(1+r*r)):(r=e/n,r=n*Math.sqrt(1+r*r))),r},n.pr=function(e,r,i,a,o){for(var s=[0,0,0],c=[0,0,0],u=0;2>=u;u++)r[u]-=e[u],i[u]-=r[u];i=s[1]*c[2]-s[2]*c[1],r=s[2]*c[0]-s[0]*c[2],s=s[0]*c[1]-s[1]*c[0],e=-1*(i*e[0]+r*e[1]+s*e[2]),a[0]=i,a[1]=r,a[2]=s,a[3]=e,c=n.Fn(a),a[0]/=c,a[1]/=c,a[2]/=c,a[3]/=c,0!=o&&(c=t.qd(s)?t.qd(e)?t.ub(1,r):-t.ub(1,e):t.ub(1,s),c*=t.ub(1,o),a[0]*=c,a[1]*=c,a[2]*=c,a[3]*=c)},n.ey=function(e,t,n){n[0]=e[1]*t[2]-t[1]*e[2],n[1]=e[2]*t[0]-t[2]*e[0],n[2]=e[0]*t[1]-t[0]*e[1]},n.zu=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},n.Fn=function(e){return n.wp(n.wp(e[0],e[1]),e[2])},n.hk=function(e,t,r,i,a,o,s,c){e=n.n(e,t,r);var u=Math.cos(r);o.j=(e+a)*u*Math.cos(i),s.j=(e+a)*u*Math.sin(i),c.j=(e*(1-t)+a)*Math.sin(r)},n.sP=function(e,r,i,a,o,s,c){var u=n.wp(r,i),l=1*Math.sqrt(1-e),h=l/1;if(t.V(u,0))s.j=0,o.j=t.ub(1.570796326794897,a),c.j=t.J(a)-l;else{s.j=Math.atan2(i,r),i=Math.atan2(1*a,l*u),s=Math.cos(i);var f=Math.sin(i);r=l*e/(1-e),e*=1,i=Math.atan2(a+r*f*f*f,u-e*s*s*s),3.141592653589793<t.J(i)&&(i=t.ub(3.141592653589793,i)-i),i=Math.atan(h*Math.tan(i)),f=Math.sin(i),s=Math.cos(i),o.j=Math.atan2(a+r*f*f*f,u-e*s*s*s),1.570796326794897<t.J(o.j)&&(o.j=t.ub(3.141592653589793,o.j)-o.j),i=Math.atan(h*Math.tan(o.j)),f=Math.sin(i),s=Math.cos(i),c.j=(a-l*f)*Math.sin(o.j)+(u-1*s)*Math.cos(o.j)}},n.n=function(e,t,n){return n=Math.sin(n),e/Math.sqrt(1-t*n*n)},n.Wt=function(e,t){return Math.atan2(Math.sin(t)*(1-e),Math.cos(t))},n.Rj=function(e,t){return Math.atan2(Math.sin(t),Math.cos(t)*(1-e))},n.kr=function(e,r){if(t.Ai(e)||0==r||t.V(t.J(r),1.570796326794897))return r;if(.006884661117170036>e){var i=Math.sqrt(1-e),a=(1-i)/(1+i),o=a*a,s=a*o,c=a*s,u=a*c,l=a*u,h=a*l,f=1.572916666666667*s-3.2578125*u+4.295068359375*h;e=2.142578125*c-6.071484375*l,i=3.129296875*u-11.249837239583334*h;var d=4.775276692708333*l,p=7.958636765252976*h,b=Math.cos(2*r);return r+Math.sin(2*r)*(1.5*a-.84375*s+.525390625*u-.2688395182291667*h-f+i-p+b*(2*(1.3125*o-1.71875*c+1.650146484375*l)-4*e+6*d+b*(4*f-12*i+24*p+b*(8*e-32*d+b*(16*i-80*p+b*(32*d+64*b*p))))))}for(i=1-e,a=e/2,s=(o=t.J(r))*n.Fv(e)/(1.570796326794897*i),c=9999,l=o,o=0;1e-16<c&&50>o;o++)h=n.gm(e,l),u=l-(f=(u=(n.XG(l,e)-a*Math.sin(2*l)/h)/i-s)/(h=1/(h*h*h))),c=t.J(f),l=u;return 0<=r?l:-l},n.WX=function(e,r){return t.Ai(r)?e:e*n.Fv(r)/1.570796326794897},n.ba=function(e){return 0>(e=n.cG(e,6.283185307179586))?e+6.283185307179586:3.141592653589793>t.J(e)||t.V(t.J(e),3.141592653589793)?e:e-6.283185307179586},n.cG=function(e,t){return e-Math.floor(e/t)*t},n.Hg=function(e,t){if(.006884661117170036>t){var r=(t=(1-(t=Math.sqrt(1-t)))/(1+t))*t,i=r*r;return e/(1+t)*(1+.25*r+.015625*i+.00390625*r*i)*1.570796326794897}return e*n.Fv(t)},n.nr=function(e,r){var i=t.ub(1,Math.sin(r));return r=1.570796326794897>=(r=t.J(n.cG(r,3.141592653589793)))?r:3.141592653589793-r,(t.V(r,1.570796326794897)?r:Math.atan(Math.sqrt(1-e)*Math.tan(r)))*i},n.q=function(e,t,r){if(.006884661117170036>t){var i=(t=(1-(t=Math.sqrt(1-t)))/(1+t))*t,a=t*i,o=t*a,s=t*o,c=t*s,u=t*c,l=-.7291666666666666*a+.2278645833333333*s+.03987630208333334*u,h=.615234375*o-.21533203125*c,f=-.54140625*s+.20302734375*u,d=.48876953125*c,p=-.4488699776785715*u,b=Math.cos(2*r);return e/(1+t)*((1+.25*i+.015625*o+.00390625*c)*r+Math.sin(2*r)*(-1.5*t+.1875*a+.0234375*s+.00732421875*u-l+f-p+b*(2*(.9375*i-.234375*o-.03662109375*c)-4*h+6*d+b*(4*l-12*f+24*p+b*(8*h-32*d+b*(16*f-80*p+b*(32*d+64*b*p)))))))}return e*(n.XG(r,t)-.5*t*Math.sin(2*r)/n.gm(t,r))},n.gm=function(e,t){return t=Math.sin(t),Math.sqrt(1-e*t*t)},n.Fv=function(e){return t.rD(e,1,2220446049250313e-31)?1:1>e?n.Ex(0,1-e)-e/3*n.Cx(0,1-e):NaN},n.XG=function(r,i){var a=t.ub(1,r);r=t.J(r);var o=Math.floor(r/1.570796326794897);if(1<i)i=0==r?0:NaN;else if(t.qd(o))i=(r=n.sin(r))*n.Ex(1-r*r,1-i*r*r)-i/3*r*r*r*n.Cx(1-r*r,1-i*r*r);else{var s=e.L.truncate(o%2),c=n.Fv(i);i=0<s?c*(o+1)-(i=(r=Math.sin(1.570796326794897*(o+1)-r))*n.Ex(1-r*r,1-i*r*r)-i/3*r*r*r*n.Cx(1-r*r,1-i*r*r)):c*o+(i=(r=Math.sin(r-1.570796326794897*o))*n.Ex(1-r*r,1-i*r*r)-i/3*r*r*r*n.Cx(1-r*r,1-i*r*r))}return i*a},n.sin=function(e){e=n.ba(e);var r=t.ub(1,e);return e=t.J(e),t.V(e,3.141592653589793)?0:t.V(e,1.570796326794897)?1*r:Math.sin(e)*r},n.Cx=function(e,n){var r,i,a,o,s=e,c=n,u=1;for(n=0,e=1;i=((r=.2*(s+c+3*u))-s)/r,a=(r-c)/r,o=(r-u)/r,!(1e-4>t.J(i)&&1e-4>t.J(a)&&1e-4>t.J(o));)o=Math.sqrt(c),n+=e/((r=Math.sqrt(u))*(u+(o=Math.sqrt(s)*(o+r)+o*r))),e*=.25,s=.25*(s+o),c=.25*(c+o),u=.25*(u+o);return c=(s=i*a)-(u=o*o),3*n+e*(1+(u=s-6*u)*(.10227272727272728*u-.2142857142857143-.1730769230769231*o*(i=u+c+c))+o*(.1666666666666667*i+o*(-.4090909090909091*c+.1153846153846154*o*s)))/(r*Math.sqrt(r))},n.Ex=function(e,n){for(var r,i,a,o,s=1;i=2-((r=(e+n+s)/3)+e)/r,a=2-(r+n)/r,o=2-(r+s)/r,!(1e-4>t.J(i)&&1e-4>t.J(a)&&1e-4>t.J(o));s=.25*(s+r))r=Math.sqrt(n),i=Math.sqrt(s),e=.25*(e+(r=Math.sqrt(e)*(r+i)+r*i)),n=.25*(n+r);return(1+(.04166666666666666*(e=i*a-o*o)-.1-.06818181818181818*(n=i*a*o))*e+.07142857142857142*n)/Math.sqrt(r)},n.wx=function(e,n){if(t.Ai(e)||0==n||t.V(t.J(n),1.570796326794897))return n;if(.006884661117170036>e){var r=e*e,i=e*r,a=e*i,o=e*a,s=e*o,c=e*s,u=-(.02708333333333333*i+.03430059523809524*a+.03149181547619048*o+.02634359154541446*s+.02156896735835538*c),l=.007669890873015873*a+.01299603174603175*o+.0148051353064374*s+.01454454953803912*c,h=-(.002275545634920635*o+.004830845032667949*s+.006558395368616723*c),f=.0006957236677288761*s+.001775193002406544*c,d=-.000217324089394402*c,p=Math.cos(2*n);return n+Math.sin(2*n)*(-(.5*e+.2083333333333333*r+.09375*i+.04878472222222222*a+.02916666666666667*o+.01938905423280423*s+.01388255931712963*c)-u+h-d+p*(2*(.1041666666666667*r+.0875*i+.06050347222222222*a+.04151785714285714*o+.02958958540013228*s+.02203667534722222*c)-4*l+6*f+p*(4*u-12*h+24*d+p*(8*l-32*f+p*(16*h-80*d+p*(32*f+64*p*d))))))}return 0==n||t.V(t.J(n),1.570796326794897)?r=n:(a=(i=Math.sqrt(e))*Math.sin(n),r=Math.tan(.7853981633974483+n/2)*Math.pow((1-a)/(1+a),i/2),r=2*Math.atan(r)-1.570796326794897),r},n.IP=function(e,n){if(t.Ai(e)||0==n||t.V(t.J(n),1.570796326794897))return n;if(.006884661117170036>e){var r=e*(f=e*(h=e*(p=e*e))),i=e*(d=e*r),a=.05833333333333333*h+.07232142857142858*f+.05634300595238095*r+.0355325796406526*d+.020235546186067*i,o=.02653149801587302*f+.04379960317460317*r+.0429211791776896*d+.03255384637546096*i,s=.01294022817460318*r+.02668104344536636*d+.03155651254609588*i,c=.00659454790965208*d+.0163075268674227*i,u=.003463473736911237*i,l=Math.cos(2*n);return n+Math.sin(2*n)*(.5*e+.2083333333333333*p+.08333333333333333*h+.03611111111111111*f+.01875*r+.01195601851851852*d+.008863673941798942*i-a+s-u+l*(2*(.1458333333333333*p+.1208333333333333*h+.07039930555555556*f+.03616071428571429*r+.01839451058201058*d+.01017113095238095*i)-4*o+6*c+l*(4*a-12*s+24*u+l*(8*o-32*c+l*(16*s-80*u+l*(32*c+64*l*u))))))}var h=Math.sqrt(e),f=h/2,d=Math.tan(.7853981633974483+n/2);e=0,a=1;for(var p=n;0!=a;p=i)r=h*Math.sin(p),i=d*Math.pow((1+r)/(1-r),f),i=2*Math.atan(i)-1.570796326794897,e++,(t.V(i,p)||3e4<e)&&(a=0);return p},n}()}(Y||(Y={})),function(e){var t=function(){function t(t){this.Dl=this.Ct=null,this.pw=!1,this.qB=this.rB=0,this.oB=new e.b,this.BB=new e.b,this.ax=!1,this.Oq=new e.g,this.jI=this.Yw=0,this.Zw=null,this.Gk=!1,this.Yo=null,this.MA=0,this.Ze=t,this.it=e.Ab.dw(this.Ze,0,!0),this.oB.Tc(),this.BB.Tc(),this.GI=NaN;var n=t.getCode();0<n?(this.Rk=n,e.zf.getCode(t)):this.Rk=e.zf.getCode(t),0>this.Rk&&(this.Rk=0);var r=this.Ze.getType();if(this.XH=r==e.Pc.PE_TYPE_PROJCS?2:1,r==e.Pc.PE_TYPE_PROJCS&&!t.loadConstants())throw e.f.I("PeProjcs.loadConstants failed");n=r==e.Pc.PE_TYPE_GEOGCS?this.Ze:this.Ze.getGeogcs(),r!=e.Pc.PE_TYPE_GEOGCS&&e.zf.getCode(n),this.Yo=t.getUnit(),this.GI=n.getPrimem().getLongitude(),this.jI=t=n.getUnit().getUnitFactor(),t=Math.PI/(180*t),1e-10>Math.abs(t-1)&&(t=1),this.qB=t,0!=(r&e.Pc.PE_TYPE_PROJCS)?(n=this.Ze,this.rB=1/n.getUnit().getUnitFactor(),this.Yw=.001/this.Ze.getUnit().getUnitFactor(),this.Zw=e.ng.generate(n,e.ng.PE_PCSINFO_OPTION_NONE),this.Gk=this.Zw.isPannableRectangle(),this.MA=e.Ab.BO(this.Zw.getCentralMeridian(),this.qB)):(this.ax=this.Gk=!0,this.rB=0,r=1/n.getUnit().getUnitFactor(),this.Yw=.001/n.getDatum().getSpheroid().getAxis()*r,this.MA=0),this.Gk&&(this.cy(),this.KL(),this.LL(),this.JL(),this.UZ(),this.VZ())}return t.prototype.Gs=function(){return this.Rk},t.prototype.xj=function(){return this.Zw},t.vz=function(e,t){return e==t||null!=e&&null!=t&&0==e.Rk&&0==t.Rk&&e.it===t.it},t.prototype.Cc=function(){return this.Gk},t.prototype.nh=function(e){e.H(this.Lo)},t.prototype.Wv=function(){return this.Lo.o},t.prototype.Vv=function(){return this.Lo.v},t.prototype.WS=function(e){e.H(this.$w)},t.prototype.UZ=function(){var t=this.Ze.getType();if(t==e.Pc.PE_TYPE_PROJCS){t=this.Ze;var n=this.xj().getCentralMeridian(),r=t.getGeogcs();if(null==r)throw e.f.Y("internal error");n=[[n+(r=1/r.getUnit().getUnitFactor()*Math.PI),0]],e.Kh.geogToProj(t,1,n),n=n[0][0],r=t.getParameters()[e.Pc.PE_PARM_X0].getValue();var i=this.sk();t=new e.g,i.s(t),n=(i=Math.abs(n-r))+r,r=-1*i+r,i=t.B,t=t.A;var a=new e.g;a.H(r,t,n,i),null==this.Lo&&(this.Lo=a)}else{if(t!=e.Pc.PE_TYPE_GEOGCS)throw e.f.Y("internal error");r=1/this.Ze.getUnit().getUnitFactor()*Math.PI,(t=new e.g).H(-r,-r/2,r,r/2),null==this.Lo&&(this.Lo=t)}},t.prototype.VZ=function(){var t=this.Ze.getType();if(t==e.Pc.PE_TYPE_PROJCS){var n=this.Ze;if(t=this.xj().getCentralMeridian(),null==(n=n.getGeogcs()))throw e.f.Y("internal error");n=1/n.getUnit().getUnitFactor()*Math.PI;var r=this.Bs(),i=new e.g;r.s(i),(r=new e.g).H(t-n,i.A,t+n,i.B),null==this.$w&&(this.$w=r)}else{if(t!=e.Pc.PE_TYPE_GEOGCS)throw e.f.Y("internal error");n=1/this.Ze.getUnit().getUnitFactor()*Math.PI,(t=new e.g).H(-n,-n/2,n,n/2),null==this.$w&&(this.$w=t)}},t.prototype.Sd=function(){return this.qB},t.prototype.Am=function(){return this.rB},t.prototype.Bs=function(){if(this.Gk)return this.Dl;var e=this.Dl;return null!=e?e:(this.cy(),this.Dl)},t.prototype.Cs=function(){return this.Gk?null:(null!=this.Dl||this.cy(),this.JH)},t.prototype.cy=function(){if(this.Ze.getType()==e.Pc.PE_TYPE_PROJCS){var t=this.Ze,n=t.getGeogcs(),r=t.horizonGcsGenerate();if(null!=r){var i=r[0].getNump(),a=r[0].getKind();t=0<r[0].getInclusive();var o=this.Sd(),s=90*o,c=360*o,u=370*o,l=180*o*e.Pc.PE_HORIZON_DELTA/Math.PI,h=new e.g,f=null;if(1<i)for(var d=1;d<i;d++)if(r[d].getKind()==e.Pc.PE_HORIZON_LINE){null==f&&(f=new e.Oa);var p=r[d].getCoord();f.Zx(p[0][0],p[0][1]),f.Cj(p[1][0],p[1][1])}if(a==e.Pc.PE_HORIZON_RECT)r=r[0].getCoord(),h.H(r[0][0],r[0][1]),h.Nb(r[1][0],r[1][1]),Math.abs(h.B-s)<1e-7*l&&(h.B=s),Math.abs(h.A+s)<1e-7*l&&(h.A=-s),h.N()>u&&(r=-400*o,h.H(r,h.A,r+5*c,h.B)),r=new e.Ih(h),null==this.Dl&&(this.Dl=r,this.pw=t);else{if(u=new e.Fa,c=this.xj().isGcsHorizonMultiOverlap(),h=e.Mu.OF(n,e.Nu.Integer64),c){for(u=new e.qM,l=e.Jh.local().U(u,h,null),d=0;d<i;d++)if(r[d].getKind()==e.Pc.PE_HORIZON_POLY){for(n=r[d].getSize(),o=r[d].getCoord(),a=[],s=0;s<n;s++)a[s]=e.b.construct(o[s][0],o[s][1]);r[d].getInclusive(),c&&((o=new e.Fa).dl(a,n-1),u.FZ(o),l.xe())}u=l.next()}else for(d=0;d<i;d++)if(r[d].getKind()==e.Pc.PE_HORIZON_POLY){for(n=r[d].getSize(),o=r[d].getCoord(),c=[],s=0;s<n;s++)c[s]=e.b.construct(o[s][0],o[s][1]);r[d].getInclusive(),u.dl(c,n-1)}t?e.ak.local().Pn(u,h,1):e.Cp.local().Pn(u,h,1),e.kj.local().Pn(u,h,1),null==this.Dl&&(this.Dl=u,this.pw=t,this.JH=f)}}}},t.prototype.Ov=function(){return this.Gk||null==this.Dl&&this.cy(),this.pw},t.prototype.KL=function(){if(2==this.XH){var t=this.Ze.horizonPcsGenerate();if(null!=t){var n=t[0].getKind();t[0].getInclusive();var r=t[0].getNump(),i=!1;if(n==e.Pc.PE_HORIZON_RECT)t=t[0].getCoord(),(r=new e.g).H(t[0][0],t[0][1]),r.Nb(t[1][0],t[1][1]),t=new e.Ih(r);else{for(n=-1,i=0;i<r;i++)t[i].getKind()==e.Pc.PE_HORIZON_POLY&&(n=i);for(i=t[n].getSize()-1,t=t[n].getCoord(),r=[],n=0;n<i;n++)r[n]=e.b.construct(t[n][0],t[n][1]);t=n=new e.Fa,n.dl(r,i),i=!0}this.xj().isDensificationNeeded()&&(r=1e5*this.Am(),t=e.im.local().U(t,r,null)),i&&(i=new e.Ih,t.qn(i),t.Pe(),t.Pb(),t.DS(),e.ak.local().Pn(t,null,1)),null==this.Ct&&(this.Ct=t)}}},t.prototype.sk=function(){if(this.Gk)return this.Ct;var e=this.Ct;return null!=e?e:(this.KL(),this.Ct)},t.prototype.LL=function(){if(this.Ze.getType()==e.Pc.PE_TYPE_PROJCS){var t=90*this.Sd();t=[[0,t],[0,-t]],e.Kh.geogToProj(this.Ze,2,t);var n=this.xj(),r=n.getNorthPoleLocation()!=e.ng.PE_POLE_OUTSIDE_BOUNDARY;n=n.getSouthPoleLocation()!=e.ng.PE_POLE_OUTSIDE_BOUNDARY,this.ax||(r&&this.oB.ka(t[0][0],t[0][1]),n&&this.BB.ka(t[1][0],t[1][1]))}this.ax=!0},t.prototype.bA=function(e,t){this.Gk||this.ax||this.LL(),e?t.K(this.BB):t.K(this.oB)},t.prototype.JL=function(){if(1==this.XH){var t=400*this.Sd();this.Oq.H(-t,-t,t,t)}else t=e.ng.generate(this.Ze,e.ng.PE_PCSINFO_OPTION_DOMAIN),t=e.g.construct(t.getDomainMinx(),t.getDomainMiny(),t.getDomainMaxx(),t.getDomainMaxy()),this.Oq.u()&&this.Oq.H(t)},t.prototype.vS=function(e){this.Gk&&e.H(this.Oq),this.Oq.u()&&this.JL(),e.H(this.Oq)},t.prototype.Cm=function(){return this.GI},t.prototype.Wh=function(){return this.MA},t.prototype.Ld=function(){return this.Yo},t.prototype.Ds=function(){return this.jI},t}();e.vD=t}(Y||(Y={})),function(e){var t=function(){function t(t){this.cV=t,this.it=e.Ab.dw(t,0,!0);var n=t.getCode();this.$s=0<n?n:e.zf.getCode(t),0>this.$s&&(this.$s=0),this.Yo=n=this.cV.getUnit(),this.xI=1/n.getUnitFactor(),e.zf.getCode(t)}return t.vz=function(e,t){return e==t||null!=e&&null!=t&&0==e.$s&&0==t.$s&&e.it===t.it},t.prototype.Gs=function(){return this.$s},t}();e.XM=t}(Y||(Y={})),function(e){e.gh=function(){function t(){}return t.vb=function(t,n,r,i,a,o,s,c){if(null!=o||null!=s||null!=c){i=e.C.ba(i),n=e.C.ba(n),r=e.C.ba(r),a=e.C.ba(a),1.570796326794897<e.l.J(r)&&(r=e.l.ub(3.141592653589793,r)-r,n=e.C.ba(n+3.141592653589793)),1.570796326794897<e.l.J(a)&&(a=e.l.ub(3.141592653589793,a)-a,i=e.C.ba(i+3.141592653589793));var u=e.C.ba(i-n);if(e.l.V(r,a)&&(e.l.V(n,i)||e.l.V(e.l.J(r),1.570796326794897)))null!=o&&(o.j=0),null!=s&&(s.j=0),null!=c&&(c.j=0);else{if(e.l.V(r,-a)){if(e.l.V(e.l.J(r),1.570796326794897))return null!=o&&(o.j=3.141592653589793*t),null!=s&&(s.j=0<r?e.C.ba(3.141592653589793-e.C.ba(i)):e.C.ba(i)),void(null!=c&&(c.j=0<r?e.C.ba(i):e.C.ba(3.141592653589793-e.C.ba(i))));if(e.l.V(e.l.J(u),3.141592653589793))return null!=o&&(o.j=3.141592653589793*t),null!=s&&(s.j=0),void(null!=c&&(c.j=0))}var l=1.570796326794897==e.l.J(r)?0:Math.cos(r),h=Math.sin(r),f=1.570796326794897==e.l.J(a)?0:Math.cos(a),d=Math.sin(a),p=1.570796326794897==e.l.J(u)?0:Math.cos(u),b=3.141592653589793==e.l.J(u)?0:Math.sin(u);if(null!=o){var v=Math.sin((a-r)/2);u=Math.sin(u/2),o.j=2*Math.asin(Math.sqrt(v*v+l*f*u*u))*t}null!=s&&(s.j=e.l.V(e.l.J(r),1.570796326794897)?0>r?i:e.C.ba(3.141592653589793-i):Math.atan2(f*b,l*d-h*f*p)),null!=c&&(e.l.V(e.l.J(a),1.570796326794897)?c.j=0>a?n:e.C.ba(3.141592653589793-n):(c.j=Math.atan2(l*b,d*l*p-f*h),c.j=e.C.ba(c.j+3.141592653589793)))}}},t.Bf=function(t,n,r,i,a,o,s){if(null!=o||null!=s){n=e.C.ba(n),r=e.C.ba(r),1.570796326794897<e.l.J(r)&&(r=e.l.ub(3.141592653589793,r)-r,n=e.C.ba(n+3.141592653589793)),e.l.V(e.l.J(r),1.570796326794897)&&(n=0),a=e.C.ba(a);var c=e.l.V(e.l.J(a),1.570796326794897)?0:Math.cos(a),u=e.l.V(e.l.J(a),3.141592653589793)?0:Math.sin(a),l=e.l.V(e.l.J(r),1.570796326794897)?0:Math.cos(r),h=Math.sin(r);t=i/t,i=e.l.V(e.l.J(t),1.570796326794897)?0:Math.cos(t);var f=e.l.V(e.l.J(t),3.141592653589793)?0:Math.sin(t),d=Math.asin(h*i+l*f*c);null!=s&&(s.j=d),null!=o&&(o.j=e.l.V(e.l.J(d),1.570796326794897)?e.l.V(r,-d)?0>d?a:e.C.ba(3.141592653589793-a):n:e.l.V(e.l.J(r),1.570796326794897)&&e.l.V(t,3.141592653589793)?0>r?a:e.C.ba(3.141592653589793-a):e.C.ba(n+Math.atan2(f*u,l*i-h*f*c)))}},t}()}(Y||(Y={})),function(e){e.$k=function(){function t(){}return t.vb=function(t,n,r,i,a,o,s,c,u){var l=new e.da(0),h=new e.da(0),f=[0,0,0],d=[0,0,0],p=[0,0,0],b=new e.da(0),v=new e.da(0),y=new e.da(0),m=new e.da(0),g=new e.da(0);if(null!=s||null!=c||null!=u)if(e.l.Ai(n))e.gh.vb(t,r,i,a,o,s,c,u);else{a=e.C.ba(a),r=e.C.ba(r);var O=e.C.ba(a-r);if(e.l.V(i,o)&&(e.l.V(r,a)||e.l.V(e.l.J(i),1.570796326794897)))null!=s&&(s.j=0),null!=c&&(c.j=0),null!=u&&(u.j=0);else{if(e.l.V(i,-o)){if(e.l.V(e.l.J(i),1.570796326794897))return null!=s&&(s.j=2*e.C.Hg(t,n)),null!=c&&(c.j=0<i?e.C.ba(3.141592653589793-e.C.ba(a)):e.C.ba(a)),void(null!=u&&(u.j=0<i?e.C.ba(a):e.C.ba(3.141592653589793-e.C.ba(a))));e.l.V(e.l.J(O),3.141592653589793)&&(null!=s&&(s.j=2*e.C.Hg(t,n)),null!=c&&(c.j=0),null!=u&&(u.j=0))}else(e.l.V(e.l.J(i),1.570796326794897)||e.l.V(e.l.J(o),1.570796326794897))&&(e.l.V(e.l.J(i),1.570796326794897)?r=a:a=r);var j=0;if(0>O){j=1;var w=r;r=a,a=w,w=i,i=o,o=w}O=e.C.Wt(n,i);var _=e.C.Wt(n,o);null==c&&null==u||(e.gh.vb(t,r,O,a,_,null,l,h),l=Math.atan2(Math.sin(l.j)*Math.cos(i-O),Math.cos(l.j)),h=Math.atan2(Math.sin(h.j)*Math.cos(o-_),Math.cos(h.j)),0!=j&&(w=l,l=h,h=w),null!=c&&(c.j=l),null!=u&&(u.j=h)),null!=s&&(e.C.hk(1,n,i,r,0,y,m,g),f[0]=y.j,f[1]=m.j,f[2]=g.j,e.C.hk(1,n,o,a,0,y,m,g),d[0]=y.j,d[1]=m.j,d[2]=g.j,p[0]=f[1]*d[2]-d[1]*f[2],p[1]=-(f[0]*d[2]-d[0]*f[2]),p[2]=f[0]*d[1]-d[0]*f[1],n=1-e.C.gm(n,e.C.nr(n,e.C.Rj(n,Math.acos(p[2]/Math.sqrt(p[0]*p[0]+p[1]*p[1]+p[2]*p[2]))))),n*=2-n,c=Math.atan2(-p[1],-p[0]),p=e.C.ba(c-1.570796326794897),c=e.C.ba(c+1.570796326794897),p=e.l.J(e.C.ba(r-p))<=e.l.J(e.C.ba(r-c))?p:c,e.gh.vb(1,p,0,r,O,b,null,null),e.gh.vb(1,p,0,a,_,v,null,null),3.141592653589793<b.j+v.j&&(p=e.C.ba(p+3.141592653589793),e.gh.vb(1,p,0,r,O,b,null,null),e.gh.vb(1,p,0,a,_,v,null,null)),b.j*=e.l.ub(1,i),v.j*=e.l.ub(1,o),b.j=e.C.Rj(n,b.j),v.j=e.C.Rj(n,v.j),r=e.C.q(t,n,b.j),t=e.C.q(t,n,v.j),s.j=e.l.J(t-r))}}},t.Bf=function(t,n,r,i,a,o,s,c){var u=0,l=new e.da(0),h=new e.da(0),f=[0,0,0],d=[0,0,0],p=new e.da(0),b=new e.da(0),v=new e.da(0);if(null!=s||null!=c)if(e.l.Ai(n))e.gh.Bf(t,r,i,a,o,s,c);else if(e.l.qd(a))null!=s&&(s.j=r),null!=c&&(c.j=i);else if(o=e.C.ba(o),0>a&&(a=e.l.J(a),o=e.C.ba(o+3.141592653589793)),r=e.C.ba(r),i=e.C.ba(i),1.570796326794897<e.l.J(i)&&(r=e.C.ba(r+3.141592653589793),i=e.l.ub(3.141592653589793,i)-i),e.l.V(e.l.J(i),1.570796326794897)&&(r=0),e.l.qd(i)){var y=e.l.J(1.570796326794897-e.l.J(o));y=e.C.Rj(n,y),y=1-e.C.gm(n,e.C.nr(n,y)),y*=2-y,t=a/e.C.Hg(t,y)*1.570796326794897,t=e.C.kr(y,t),t=e.C.Wt(y,t),e.gh.Bf(1,r,i,t,o,s,l),null!=c&&(u=l.j),null!=c&&(c.j=e.C.Rj(n,u))}else if(e.l.V(e.l.J(i),1.570796326794897))l=2*(u=e.C.Hg(t,n)),o=0<(t=e.l.ub(1.570796326794897,i))?e.C.ba(3.141592653589793-o):o,i=u-a,e.l.J(i)<=u?null!=s&&(s.j=o):(i=Math.floor(a/l),0==e.L.truncate(i%2)?(null!=s&&(s.j=o),a-=i*l):(null!=s&&(s.j=e.C.ba(o+3.141592653589793)),a=(i+1)*l-a),i=u-a),null!=c&&(c.j=e.C.kr(n,i/u*t));else{y=e.C.Wt(n,i),o=Math.atan2(Math.sin(o),Math.cos(o)*Math.cos(i-y));var m=e.L.truncate(e.l.ub(1,y))*(1.570796326794897>=e.l.J(o)?1:-1);o=e.C.ba(r+Math.atan(Math.tan(o)*-Math.sin(y))),e.gh.vb(t,o,0,r,y,null,h,null),y=e.l.J(1.570796326794897-e.l.J(h.j)),y=e.C.Rj(n,y),y=1-e.C.gm(n,e.C.nr(n,y)),y*=2-y,e.C.hk(1,n,0,o,0,p,b,v),f[0]=p.j,f[1]=b.j,f[2]=v.j,e.C.hk(1,n,i,r,0,p,b,v),d[0]=p.j,d[1]=b.j,d[2]=v.j,i=Math.acos((f[0]*d[0]+f[1]*d[1]+f[2]*d[2])/Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2])),i=e.C.Rj(y,i),a=0<(i=e.C.q(t,y,i)+a*m)?h.j:e.C.ba(h.j+3.141592653589793),t=e.l.J(i)/e.C.Hg(t,y)*1.570796326794897,t=e.C.kr(y,t),t=e.C.Wt(y,t),e.gh.Bf(1,o,0,t,a,s,l),null!=c&&(u=l.j),null!=c&&(c.j=e.C.Rj(n,u))}},t}()}(Y||(Y={})),function(e){e.Ju=function(){function t(){}return t.vb=function(t,n,r,i,a,o,s,c,u){var l=0,h=0,f=0;if(null!=s||null!=c||null!=u)if(e.l.Ai(n))e.gh.vb(t,r,i,a,o,s,c,u);else{var d=e.C.ba(a-r);if(e.l.V(i,o)&&(e.l.qd(d)||e.l.V(e.l.J(i),1.570796326794897)))null!=s&&(s.j=0),null!=c&&(c.j=0),null!=u&&(u.j=0);else{if(e.l.V(i,-o)){if(e.l.V(e.l.J(i),1.570796326794897))return null!=s&&(s.j=2*e.C.Hg(t,n)),null!=c&&(c.j=0<i?e.C.ba(3.141592653589793-e.C.ba(a)):e.C.ba(a)),void(null!=u&&(u.j=0<i?e.C.ba(a):e.C.ba(3.141592653589793-e.C.ba(a))));e.l.V(e.l.J(d),3.141592653589793)&&(null!=s&&(s.j=2*e.C.Hg(t,n)),null!=c&&(c.j=0),null!=u&&(u.j=0))}else{if(e.l.V(e.l.J(i),1.570796326794897)||e.l.V(e.l.J(o),1.570796326794897))return void e.$k.vb(t,n,r,i,a,o,s,c,u);if(e.l.qd(d)||e.l.V(e.l.J(d),3.141592653589793))return void e.$k.vb(t,n,r,i,a,o,s,c,u)}var p=1-Math.sqrt(1-n),b=n/(1-n),v=t*(1-p);t=e.C.nr(n,i);var y=e.C.nr(n,o);n=1.570796326794897==e.l.J(t)?0:Math.cos(t);var m=Math.sin(t),g=1.570796326794897==e.l.J(y)?0:Math.cos(y),O=Math.sin(y),j=d,w=Math.cos(j),_=Math.sin(j),x=1,k=0;do{var S=j,E=Math.sqrt(Math.pow(g*_,2)+Math.pow(n*O-m*g*w,2)),T=m*O+n*g*w,M=Math.atan2(E,T);if(0==E){x=0;break}var C=n*g*_/E;if(l=Math.cos(Math.asin(C)),h=T-2*m*O/(l*=l),1<e.l.J(h)&&(h=e.l.ub(1,h)),j=d+(1-(j=p/16*l*(4+p*(4-3*l))))*p*C*(M+j*E*(h+j*T*(2*(f=h*h)-1))),w=Math.cos(j),_=Math.sin(j),k++,3.141592653589793<e.l.J(j)&&30<k){x=0;break}}while(5e3>=k&&!e.l.V(S,j));if(0!=x)p=(b*=l)*(256+b*(b*(74-47*b)-128))/1024,null!=s&&(s.j=v*(1+b*(4096+b*(b*(320-175*b)-768))/16384)*(M-p*E*(h+p/4*(T*(2*f-1)-p/6*h*(4*E*E-3)*(4*f-3))))),null!=c&&(c.j=e.l.V(e.l.J(i),1.570796326794897)?0>i?a:e.C.ba(3.141592653589793-a):Math.atan2(g*_,n*O-m*g*w)),null!=u&&(e.l.V(e.l.J(o),1.570796326794897)?u.j=0>o?r:e.C.ba(3.141592653589793-r):(u.j=Math.atan2(n*_,n*O*w-m*g),u.j=e.C.ba(u.j+3.141592653589793)));else{j=e.l.ub(3.141592653589793,d),T=m*O-n*g,M=Math.acos(T),E=Math.sin(M),l=1,k=C=0;do{f=C,w=1-.25*(C=p*(l*=l)*(1+p+p*p))+.1875*(h=p*p*(w=l*l)*(1+2.25*p))-.1953125*(x=p*p*p*w*l),C=.25*C-.25*h+.29296875*x,_=.03125*h-.05859375*x,x*=.00651041666666667,h=T-2*m*O/l,1<e.l.J(h)&&(h=e.l.ub(1,h)),l=Math.acos(h),T=Math.cos(2*l),S=Math.cos(3*l),_=(C=e.l.V(i,-o)?e.C.ba(3.141592653589793-d)/(3.141592653589793*p*w):e.C.ba(j-d)/(p*(w*M+C*E*h+_*Math.sin(2*M)*T+x*Math.sin(3*M)*S)))*E/(n*g),j=1.570796326794897<e.l.J(d)?e.l.ub(3.141592653589793,_)-Math.asin(_):Math.asin(_),w=Math.cos(j),E=Math.sqrt(Math.pow(g*_,2)+Math.pow(n*O-m*g*w,2)),M=3.141592653589793-Math.asin(e.l.J(E)),T=Math.cos(M),l=Math.cos(Math.asin(C)),k++}while(70>=k&&!e.l.V(f,C));null!=s&&(w=1+(b*=l*=l)*(4096+b*(b*(320-175*b)-768))/16384,e.l.V(i,-o)?s.j=3.141592653589793*v*w:(h=T-2*m*O/l,l=Math.acos(h),T=Math.cos(2*l),S=Math.cos(3*l),s.j=v*(w*M+b*(b*(128+b*(35*b-60))-512)/2048*E*h+b*(5*b-4)/6144*b*b*Math.sin(2*M)*T+x*Math.sin(3*M)*S+-762939453125e-16*b*b*b*b*Math.sin(4*M)*Math.cos(4*l)))),null!=c&&(e.l.qd(i)&&e.l.qd(o)?(l=Math.sqrt(1-C*C),c.j=Math.acos(l),0>d&&(c.j*=-1)):e.l.V(e.l.J(i),1.570796326794897)?c.j=0>i?a:e.C.ba(3.141592653589793-a):(s=C/n,v=Math.sqrt(1-s*s),0>n*O-m*g*Math.cos(j)&&(v*=-1),c.j=Math.atan2(s,v),e.l.V(i,-o)&&e.l.J(e.C.ba(r-a))>3.141592653589793*(1-p*Math.cos(i))&&(0<i&&1.570796326794897>e.l.J(c.j)||0>i&&1.570796326794897<e.l.J(c.j))&&(c.j=e.l.ub(3.141592653589793,c.j)-c.j))),null!=u&&(e.l.qd(i)&&e.l.qd(o)?(l=Math.sqrt(1-C*C),u.j=Math.acos(l),0<=d&&(u.j*=-1)):e.l.V(e.l.J(o),1.570796326794897)?u.j=0>o?r:e.C.ba(3.141592653589793-r):(d=C/g,s=Math.sqrt(1-d*d),v=Math.sin(j/2),0>Math.sin(y-t)-2*n*O*v*v&&(s*=-1),u.j=Math.atan2(d,s),u.j=e.C.ba(u.j+3.141592653589793),e.l.V(i,-o)&&!e.l.qd(i)&&!e.l.V(e.l.J(i),1.570796326794897)&&e.l.J(e.C.ba(r-a))>3.141592653589793*(1-p*Math.cos(i))&&(null!=c?v=c.j:(s=C/n,v=Math.sqrt(1-s*s),0>n*O-m*g*Math.cos(j)&&(v*=-1),v=Math.atan2(s,v),e.l.V(i,-o)&&e.l.J(e.C.ba(r-a))>3.141592653589793*(1-p*Math.cos(i))&&(0<i&&1.570796326794897>e.l.J(v)||0>i&&1.570796326794897<e.l.J(v))&&(v=e.l.ub(3.141592653589793,v)-v)),1.570796326794897>=e.l.J(v)&&1.570796326794897<e.l.J(u.j)||1.570796326794897<=e.l.J(v)&&1.570796326794897>e.l.J(u.j))&&(u.j=-1*e.C.ba(u.j+3.141592653589793))))}}}},t.Bf=function(t,n,r,i,a,o,s,c){if(null!=s||null!=c)if(e.l.Ai(n))e.gh.Bf(t,r,i,a,o,s,c);else if(o=e.C.ba(o),e.l.V(e.l.J(i),1.570796326794897)||e.l.qd(o)||e.l.V(e.l.J(o),3.141592653589793))e.$k.Bf(t,n,r,i,a,o,s,c);else{var u=1.570796326794897==e.l.J(o)?0:Math.cos(o),l=3.141592653589793==e.l.J(o)?0:Math.sin(o);e.l.V(e.l.J(i),1.570796326794897)&&(r=0),o=1-Math.sqrt(1-n);var h=e.C.nr(n,i);i=1.570796326794897==e.l.J(h)?0:Math.cos(h);var f=Math.sin(h);h=Math.atan2(Math.tan(h),u);var d=i*l,p=d*d,b=1-p,v=n/(1-n)*b,y=(n=v*(256+v*(v*(74-47*v)-128))/1024)/4,m=n/6,g=a/(t*(1-o)*(1+v*(4096+v*(v*(320-175*v)-768))/16384)),O=g;do{var j=O;a=1.570796326794897==e.l.J(O)?0:Math.cos(O);var w=(v=3.141592653589793==e.l.J(O)?0:Math.sin(O))*v;O=n*v*((t=Math.cos(2*h+O))+y*(a*(2*(O=t*t)-1)-m*t*(4*w-3)*(4*O-3)))+g}while(!e.l.V(j,O));a=1.570796326794897==e.l.J(O)?0:Math.cos(O),v=3.141592653589793==e.l.J(O)?0:Math.sin(O),null!=s&&(l=Math.atan2(v*l,i*a-f*v*u),b=o/16*b*(4+o*(4-3*b)),t=Math.cos(2*h+O),s.j=e.C.ba(r+(l-(1-b)*o*d*(O+b*v*(t+b*a*(2*t*t-1)))))),null!=c&&(b=f*v-i*a*u,b=(1-o)*Math.sqrt(p+b*b),c.j=Math.atan2(f*a+i*v*u,b))}},t}()}(Y||(Y={})),function(e){e.wD=function(){function t(){}return t.vb=function(t,n,r,i,a,o,s,c,u){var l=e.C.ba(a-r),h=e.l.V(e.l.J(i),1.570796326794897),f=e.l.V(e.l.J(o),1.570796326794897);if(e.l.V(i,o)&&(e.l.qd(l)||h))null!=s&&(s.j=0),null!=c&&(c.j=0),null!=u&&(u.j=0);else{if(e.l.Ai(n)){var d=Math.sin(i),p=Math.sin(o);d=Math.sqrt((1+d)/(1-d)),p=Math.sqrt((1+p)/(1-p)),d=Math.log(p)-Math.log(d),d=Math.atan2(l,d),null!=s&&(s.j=e.l.V(i,o)?e.l.J(t*Math.cos(i)*l):e.l.J((t*o-t*i)/Math.cos(d)))}else p=e.C.wx(n,o),d=Math.sin(e.C.wx(n,i)),p=Math.sin(p),d=Math.sqrt((1+d)/(1-d)),p=Math.sqrt((1+p)/(1-p)),d=Math.log(p)-Math.log(d),d=Math.atan2(l,d),null!=s&&(e.l.V(i,o)?s.j=e.l.J(t*l*Math.cos(i)/e.C.gm(n,i)):(l=e.C.q(t,n,i),t=e.C.q(t,n,o),s.j=e.l.J((t-l)/Math.cos(d))));null==c&&null==u||(s=e.C.ba(d+3.141592653589793),h&&f||!h&&!f||(h?d=0>i?a:e.C.ba(3.141592653589793-a):f&&(s=0>o?r:e.C.ba(3.141592653589793-r))),null!=c&&(c.j=d),null!=u&&(u.j=s))}},t.Bf=function(t,n,r,i,a,o,s,c){o=e.C.ba(o),0>a&&(a=e.l.J(a),o=e.C.ba(o+3.141592653589793)),e.l.Ai(n)?e.l.V(e.l.J(i),1.570796326794897)?(r=0>i?o:e.C.ba(3.141592653589793-o),3.141592653589793>=(o=a/t%6.283185307179586)?t=i-e.l.ub(o,i):(r=e.C.ba(r+3.141592653589793),t=-i+e.l.ub(o-3.141592653589793,i))):e.l.V(e.l.J(o),1.570796326794897)?(r=e.C.ba(r+e.l.ub(a,o)/(t*Math.cos(i))),t=i):(t=i+a*Math.cos(o)/t,1.570796326794897<e.l.J(t)&&(t=1.570796326794897),e.l.V(e.l.J(t),1.570796326794897)&&(e.l.qd(o)||e.l.V(e.l.J(o),3.141592653589793))||(1.570796316258184<e.l.J(t)&&(t=e.l.ub(1.570796316258184,t)),n=Math.sin(i),i=Math.sin(t),n=Math.sqrt((1+n)/(1-n)),i=Math.sqrt((1+i)/(1-i)),n=Math.log(i)-Math.log(n),r=e.C.ba(r+Math.tan(o)*n))):e.l.V(e.l.J(i),1.570796326794897)?(r=0>i?o:e.C.ba(3.141592653589793-o),o=a/e.C.WX(t,n),3.141592653589793>=(o%=6.283185307179586)?t=i-e.l.ub(o,i):(r=e.C.ba(r+3.141592653589793),t=-i+e.l.ub(o-3.141592653589793,i)),t=e.C.kr(n,t)):e.l.V(e.l.J(o),1.570796326794897)?(r=e.C.ba(r+e.l.ub(a,o)*e.C.gm(n,i)/(t*Math.cos(i))),t=i):(t=1.570796326794897*(a*Math.cos(o)+e.C.q(t,n,i))/e.C.Hg(t,n),1.570796326794897<e.l.J(t)&&(t=e.l.ub(1.570796326794897,t)),t=e.C.kr(n,t),e.l.V(e.l.J(t),1.570796326794897)&&(e.l.qd(o)||e.l.V(e.l.J(o),3.141592653589793))||(a=e.C.wx(n,i),i=e.C.wx(n,t),1.570796316258184<e.l.J(i)&&(i=e.l.ub(1.570796316258184,t),t=e.C.IP(n,i)),n=Math.sin(a),i=Math.sin(i),n=Math.sqrt((1+n)/(1-n)),i=Math.sqrt((1+i)/(1-i)),n=Math.log(i)-Math.log(n),r=e.C.ba(r+Math.tan(o)*n))),null!=s&&(s.j=r),null!=c&&(c.j=t)},t}()}(Y||(Y={})),function(e){e.gb=function(){function t(){}return t.Cz=function(t,n,r,i,a,o,s){e.Ju.vb(t,n,r,i,a,o,null,s,null)},t.Fi=function(t,n,r,i,a,o,s,c){e.Ju.Bf(t,n,r,i,a,o,s,c)},t.Ad=function(t,n,r,i,a,o,s,c,u,l){switch(l){case 2:e.$k.vb(t,n,r,i,a,o,s,c,u);break;case 3:e.xD.vb(t,n,r,i,a,o,s,c,u);break;case 1:e.wD.vb(t,n,r,i,a,o,s,c,u);break;default:e.Ju.vb(t,n,r,i,a,o,s,c,u)}},t.tj=function(t,n,r,i,a,o,s,c,u){switch(u){case 2:e.$k.Bf(t,n,r,i,a,o,s,c);break;case 3:e.xD.Bf(t,n,r,i,a,o,s,c);break;case 1:e.wD.Bf(t,n,r,i,a,o,s,c);break;default:e.Ju.Bf(t,n,r,i,a,o,s,c)}},t}()}(Y||(Y={})),function(e){var t=function(){function t(){this.y=this.x=null}return t.construct=function(n){var r=new t;return r.x=new e.Wb,r.x.set(n.x),r.y=new e.Wb,r.y.set(n.y),r},t.GF=function(n,r){var i=new t;return i.x=new e.Wb,i.x.set(n),i.y=new e.Wb,i.y.set(r),i},t.prototype.xg=function(){return this.x.xg()&&this.y.xg()},t.prototype.value=function(){return e.b.construct(this.x.value(),this.y.value())},t}();e.b_=t;var n=function(){function t(){this.z=this.y=this.x=null}return t.construct=function(n){var r=new t;return r.x=new e.Wb,r.x.set(n.x),r.y=new e.Wb,r.y.set(n.y),r.z=new e.Wb,r.z.set(n.z),r},t.GF=function(n,r,i){var a=new t;return a.x=new e.Wb,a.x.set(n),a.y=new e.Wb,a.y.set(r),a.z=new e.Wb,a.z.set(i),a},t.prototype.xg=function(){return this.x.xg()&&this.y.xg()&&this.z.xg()},t.prototype.value=function(){return new e.Id(this.x.value(),this.y.value(),this.z.value())},t.prototype.Vh=function(t){var n=new e.Wb,r=new e.Wb,i=new e.Wb;return n.Ul(this.x,t.x),r.Ul(this.y,t.y),i.Ul(this.z,t.z),(t=new e.Wb).nO(n,r),t.add(i),t},t.prototype.PF=function(n){var r=new t;r.x.Ul(this.y,n.z),r.y.Ul(this.z,n.x),r.z.Ul(this.x,n.y);var i=new e.Wb,a=new e.Wb,o=new e.Wb;return i.Ul(this.z,n.y),a.Ul(this.x,n.z),o.Ul(this.y,n.x),r.x.sub(i),r.y.sub(a),r.z.sub(o),r},t}();e.c_=n,e.ty=function(){function r(){}return r.PQ=function(e,t,n){var i=t.x;t=t.y,r.hk(1,e,Math.cos(i),Math.sin(i),Math.cos(t),Math.sin(t),n)},r.OQ=function(t,n){var i=new e.Id;return r.PQ(t,n,i),i},r.Q_=function(t,n,i,a,o,s){var c=new e.Id;return r.hk(t,n,i,a,o,s,c),c},r.hk=function(e,t,n,r,i,a,o){e/=Math.sqrt(1-t*a*a),o.H(e*i*n,e*i*r,e*(1-t)*a)},r.Ev=function(t,r){var i=new e.Wb,a=new e.Wb,o=new e.Wb,s=new e.Wb;i.cos(r.x),a.sin(r.x),o.cos(r.y),s.sin(r.y);var c=new e.Wb;return c.set(s),c.Gg(s),c.ep(t),c.ep(-1),c.uO(),c.sqrt(),(r=new e.Wb).set(1),r.um(c),(c=new e.Wb).set(r),c.Gg(o),c.Gg(i),(i=new e.Wb).set(r),i.Gg(o),i.Gg(a),(a=new e.Wb).set(r),a.ep(1-t),a.Gg(s),n.GF(c,i,a)},r.tP=function(e,t,n){var r=t.x,i=t.y;n.ka(Math.atan2(i,r),Math.atan2(t.z,(1-e)*Math.sqrt(r*r+i*i)))},r.F_=function(t,n,i){return t=new e.b,r.tP(n,i,t),t},r.lU=function(n,i,a,o){if(Math.abs(i.x-a.x)>Math.PI||Math.abs(i.y)>.5*Math.PI||Math.abs(a.y)>.5*Math.PI||(Math.abs(i.y)==.5*Math.PI||Math.abs(a.y)==.5*Math.PI)&&i.x!=a.x)return NaN;if(o=r.NB(o,Math.min(i.x,a.x),Math.max(i.x,a.x)),!new e.uc(i.x,a.x).contains(o))return NaN;var s=t.construct(i);if(a=t.construct(a),s=r.Ev(n,s),a=r.Ev(n,a),(a=s.PF(a)).z.xg())return i.y;var c=new e.Wb;c.set(a.x),c.um(a.z),c.ep(-1);var u=new e.Wb;u.set(a.y),u.um(a.z),u.ep(-1);var l=new e.Wb;return l.set(u),l.Gg(u),(s=new e.Wb).set(c),s.Gg(c),s.add(l),s.sqrt(),s.xg()||c.xg()&&u.xg()?i.y:(i=Math.atan2(u.value(),c.value()),i=Math.atan2(s.value()*Math.cos(i-o),1-n),o=r.OQ(n,e.b.construct(o,i)),n=new e.Id(o.x,o.y,-o.z),o=a.value().Vh(o),n=a.value().Vh(n),Math.abs(n)<Math.abs(o)&&(i=-i),i)},r.vA=function(n,i,a,o,s){if(s[0]=NaN,s[1]=NaN,Math.abs(i.x-a.x)>Math.PI||Math.abs(i.y)>.5*Math.PI||Math.abs(a.y)>.5*Math.PI||(Math.abs(i.y)==.5*Math.PI||Math.abs(a.y)==.5*Math.PI)&&i.x!=a.x||Math.abs(o)>=.5*Math.PI||0<i.y&&0<a.y&&i.y>o&&a.y>o||0>i.y&&0>a.y&&i.y<o&&a.y<o)return 0;var c=t.construct(i),u=t.construct(a);c=r.Ev(n,c),u=r.Ev(n,u);var l=c.PF(u);if(l.z.xg())return new e.uc(i.y,a.y).contains(o)?(s[0]=i.x,1):0;(u=new e.Wb).set(l.x),u.um(l.z),u.ep(-1),(c=new e.Wb).set(l.y),c.um(l.z),c.ep(-1),(l=new e.Wb).set(c),l.Gg(c);var h=new e.Wb;return h.set(u),h.Gg(u),h.add(l),h.sqrt(),h.xg()||u.xg()&&c.xg()?0==o?(s[0]=i.x,s[1]=a.x,2):0:(n=(1-n)*Math.tan(o)/h.value(),1<Math.abs(n)?0:(n=Math.acos(n),l=Math.atan2(c.value(),u.value()),u=Math.min(i.x,a.x),c=Math.max(i.x,a.x),a=r.NB(l-n,u,c),n=0!=o?r.NB(l+n,u,c):a,o=0,u<=a&&a<=c&&(s[o]=a,o++),n!=a&&u<=n&&n<=c&&(s[o]=n,2==++o&&Math.abs(s[0]-i.x)>Math.abs(s[1]-i.x)&&(i=s[0],s[0]=s[1],s[1]=i)),o))},r.NB=function(e,t,n){return e>n?e-=2*(t=Math.ceil((e-n)/(2*Math.PI)))*Math.PI:e<t&&(e+=2*(t=Math.ceil((t-e)/(2*Math.PI)))*Math.PI),e},r.EA=function(e,t){t[0]>.5*Math.PI?(e[0]+=Math.PI,t[0]=Math.PI-t[0]):t[0]<-.5*Math.PI&&(e[0]-=Math.PI,t[0]=-Math.PI-t[0])},r}()}(Y||(Y={})),function(e){e.fM=function(){function t(){}return t.GZ=function(n,r){var i=[0,0,0,0],a=new e.b;a.K(r),a.scale(9102==e.ab.hc(n).Ld().xc()?1:e.ab.hc(n).Ld().gi/3.141592653589793*180),-180>a.x?(a.x-=a.x%360,-180>a.x&&(a.x+=360)):180<a.x&&(a.x-=a.x%360,180<a.x&&(a.x-=360)),90<a.y&&(a.y=90),-90>a.y&&(a.y=-90);for(var o=-180,s=180,c=(n=40)-1,u=(r=(n+31)/32)-1;0<=u;u--)for(var l=c-32*u,h=Math.min(32,n-32*u),f=1;f<h;f+=2){var d=.5*(s+o);a.x>=d?(i[u]|=1<<l,o=d):s=d,l-=2,c-=2}for(o=-90,s=90,c=n-2,u=r-1;0<=u;u--)for(l=c-32*u,h=Math.min(32,n-32*u),f=0;f<h;f+=2)d=.5*(s+o),a.y>=d?(i[u]|=1<<l,o=d):s=d,l-=2,c-=2;return t.kR(i,8,8)},t.kR=function(e,t,n){for(var r=[],i=0;i<t;i++)r[i]="";for(var a=i=0,o=0;o<t;o++){var s=e[i]>>a&31;if(31<(a+=5)){var c=37-a;s&=(1<<c)-1,a-=32,s|=(e[++i]&(1<<a)-1)<<c}r[t-1-o]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[s]}if(n>t)for(o=0;o<n-t;o++)r.push("0");else n<t&&(r.length=n);return r.join("")},t}()}(Y||(Y={})),function(e){var t={gcstol:[0,2e-9,1,2.241706620489156e-9,2,2.313672246530541e-9,3,8.98240164660333e-9,4,8.982433838020134e-9,5,8.982439417325895e-9,6,8.982466029667677e-9,7,8.982476760268133e-9,8,8.982492642167149e-9,9,8.98251968292634e-9,10,8.98253685210448e-9,11,8.982546725256576e-9,12,8.982557456049832e-9,13,8.98257333682596e-9,14,8.982575482995276e-9,15,8.982578488197342e-9,16,8.982579775336987e-9,17,8.9825840676828e-9,18,8.982599090925448e-9,19,8.982605529473397e-9,20,8.982609220517402e-9,21,8.982611968030573e-9,22,8.982616260407152e-9,23,8.982620552787834e-9,24,8.982633429954492e-9,25,8.982637722351582e-9,26,8.98264416095491e-9,27,8.982646307158072e-9,28,8.982654891980968e-9,29,8.982667769246082e-9,30,8.982674207892485e-9,31,8.982680646548117e-9,32,8.982682792768713e-9,33,8.982685798042582e-9,34,8.982689231436652e-9,35,8.98269137766135e-9,36,8.98269266624163e-9,37,8.982705114087017e-9,38,8.982706830791106e-9,39,8.982711958374661e-9,40,8.982712839964735e-9,41,8.982717991496125e-9,42,8.982721424914803e-9,43,8.982723571154887e-9,44,8.982727863638127e-9,45,8.982730868942154e-9,46,8.982734302370678e-9,47,8.982745033612112e-9,48,8.982751472369276e-9,49,8.982755764879183e-9,50,8.982762203651733e-9,51,8.982764776628385e-9,52,8.982766496171896e-9,53,8.98277722749025e-9,54,8.98278152002477e-9,55,8.98279933943848e-9,56,8.9829143024805e-9,57,8.982922161948598e-9,58,8.98292327314211e-9,59,8.982925667349601e-9,60,8.982932222965576e-9,61,8.982961298941316e-9,62,8.982965524049989e-9,63,8.982994818246099e-9,64,8.982994895706967e-9,65,8.98299489597736e-9,66,8.983000733443498e-9,67,8.983055097289157e-9,68,8.983064111047368e-9,69,8.983111996941178e-9,70,8.983120447446023e-9,71,8.98312748954554e-9,72,8.983134531656096e-9,73,8.983141573777694e-9,74,8.983148615910332e-9,75,8.983152841195215e-9,76,8.983153545409748e-9,77,8.983153827095593e-9,78,8.98315396793852e-9,79,8.983154249624393e-9,80,8.983155658054012e-9,81,8.983960794340072e-9,82,8.984061344391998e-9,83,8.984072829255685e-9,84,8.984194981201908e-9,85,8.984275233099427e-9,86,8.984326127007554e-9,87,8.984330099816539e-9,88,8.98433275258421e-9,89,8.984333047023206e-9,90,8.984333885258723e-9,91,8.984337959508212e-9,92,8.984365176209457e-9,93,8.984727360418079e-9,94,8.984901041679577e-9,95,8.98542662091587e-9,96,8.98610024130669e-9,97,8.992894229037531e-9,98,8.993203677616635e-9,99,8.993206178094346e-9,100,8.993216059187305e-9,101,8.99322029394808e-9,102,8.994627867045891e-9,103,9.467559984315793e-9,104,9.46881168618118e-9,105,9.980888154931644e-9,106,9.981105353606775e-9,107,9.983807356573187e-9,108,1.687060485811522e-8,109,1.688447560354875e-8,110,2.176606011487185e-8,111,2.225078816042032e-8,112,2.348476432064694e-8,113,2.348765250187846e-8,114,2.378108974103778e-8,115,3.14559636297708e-8,116,3.297788621680806e-8,117,3.667892343788279e-8,118,4.235973644320739e-8,119,4.794625900676345e-8,120,7.262742998235812e-8,121,7.499447580246377e-8,122,7.525056410964318e-8,123,7.979913581209237e-8,124,9.662020153976783e-8,125,9.799175562353741e-8,126,9.897353517547472e-8,127,1.02313891987647e-7,128,1.081460541960784e-7,129,1.21905913857622e-7,130,2.246893314238523e-7,131,2.297344808062643e-7,132,2.42984645941825e-7,133,2.754604784282804e-7,134,2.884548130346993e-7,135,3.370339971357784e-7,136,4.307953346848296e-7,137,5.208707228462029e-7,138,5.509209568565608e-7,139,6.452227422644406e-7,140,6.740679942715567e-7,141,6.861770001566745e-7,142,7.252630318111686e-7,143,7.441010326374328e-7,144,7.742672907173287e-7,145,9.629542775307953e-7,146,1061032953945969e-21,147,1143628333594458e-21,148,1162186197019925e-21,149,136418522650196e-20,150,1367441038498385e-21,151,1432394487827058e-21,152,1736235742820677e-21,153,1848250952034914e-21,154,1909859317102744e-21,155,1975716534933873e-21,156,2122065907891938e-21,157,272837045300392e-20,158,3183098861837907e-21,159,3580986219567645e-21,160,3819718634205488e-21,161,409255567950588e-20,162,4407367654852486e-21,163,4774648292756861e-21,164,5161781938115525e-21,165,520870722846203e-20,166,5729577951308232e-21,167,6031134685587613e-21,168,6987290184522236e-21,169,9241254760174569e-21,170,1145915590261646e-20],pcstol:[0,6.666666666666667e-9,1,2e-8,2,4970973863636364e-20,3,4970978156565657e-20,4,4970980410559237e-20,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103e3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9e3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25e3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2e3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32e3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},n={c:[[2e3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9e3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32e3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25e3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};e.Vr=function(){function e(){}return e.yz=function(t){!1===e.Rp&&e.iu();var n=e.RR(t);if(-1==n){var r=e.gy(t);r!=t&&(n=e.yz(r))}return-1==n&&(r=e.OL(t))!=t&&(n=e.yz(r)),n},e.RR=function(t){return void 0!==e.lx[t]?e.lx[t]:-1},e.OR=function(t){!1===e.Rp&&e.iu();var n=e.aG(t);if(1e38==n){var r=e.gy(t);if(r!=t&&(n=e.aG(r)),1e38==n)return 1e-10}return n},e.sU=function(t){if(void 0!==e.qt[t])return!0;var n=e.gy(t);return n!=t&&void 0!==e.qt[n]},e.vU=function(t){if(void 0!==e.Qo[t])return!0;var n=e.gy(t);return n!=t&&void 0!==e.Qo[n]},e.aG=function(t){return!1===e.Rp&&e.iu(),void 0!==e.qt[t]?e.qt[t]:void 0!==e.Qo[t]?e.Qo[t]:1e38},e.OL=function(t){return!1===e.Rp&&e.iu(),void 0!==e.GB[t]?e.GB[t]:t},e.gy=function(t){return!1===e.Rp&&e.iu(),void 0!==e.HB[t]?e.HB[t]:t},e.iu=function(){for(var r,i=t,a=0;a<i.pcsid.length;a+=2)e.Qo[i.pcsid[a]]=i.pcstol[2*i.pcsid[a+1]+1];for(a=0;a<i.pcsidc.length;a+=1)for(var o=(r=i.pcsidc[a])[0];o<=r[1];o++)e.Qo[o]=i.pcstol[2*r[2]+1];for(a=0;a<i.gcsid.length;a+=2)e.qt[i.gcsid[a]]=i.gcstol[2*i.gcsid[a+1]+1];for(a=0;a<i.gcsidc.length;a+=1)for(o=(r=i.gcsidc[a])[0];o<=r[1];o++)e.Qo[o]=i.gcstol[2*r[2]+1];for(a=0;a<n.c.length;a+=1)for(o=(r=n.c[a])[0];o<=r[1];o++)e.lx[o]=r[2];for(a=0;a<n.nc.length;a+=2)e.lx[n.nc[a]]=n.nc[a+1];for(n=null,a=0;a<i.newtoold.length;a+=2)e.GB[i.newtoold[a+1]]=i.newtoold[a],e.HB[i.newtoold[a]]=i.newtoold[a+1];t=null,e.Rp=!0},e.Rp=!1,e.qt=[],e.Qo=[],e.GB=[],e.HB=[],e.lx=[],e}()}(Y||(Y={})),function(e){function t(e){return 0===e.length?'""':'"'==e[0]||"."==e[0]||"0"<=e[0]&&"9">=e[0]?e:'"'+e.trim()+'"'}var n=[];e.FD=function(){function r(){}return r.QR=function(i){try{for(var a=0;a<n.length;a++)if(n[a].wkttext===i)return n[a].unit;for(var o,s=a="",c=!1,u=0;u<i.length;u++){var l=i[u];!0===c?'"'==l?'"'==i[u+1]?a+=l:c=c=!1:a+=l:/[\s]/.test(l)||(","==l?(s=""!==a?s+(t(a)+","):s+",",a=""):")"==l||"]"==l?(s=""!==a?s+(t(a)+"]}"):s+"]}",a=""):"("==l||"["==l?(s+='{ "entity": "'+a.toUpperCase().trim()+'", "values":[',a=""):'"'==l?(c=!0,a=""):a+=l)}o=JSON.parse(s);var h=r.$F(o);if(null===h)return null;for(o=null,l=0;l<h.values.length;l++)if("object"==typeof h.values[l]&&"UNIT"===h.values[l].entity){o=h.values[l];break}if(null===o)return null;var f=e.Uc.iQ("GEOGCS"===h.entity?1:0,o.values[1],o.values[2]);return n.push({wkttext:i,unit:f}),10<n.length&&n.shift(),f}catch(e){return null}},r.$F=function(e){if(null===e)return null;if("GEOGCS"===e.entity||"PROJCS"===e.entity)return e;for(var t=[],n=0;n<e.values.length;n++)if("object"==typeof e.values[n]&&void 0!==e.values[n].entity){if("GEOGCS"===e.values[n].entity||"PROJCS"==e.values[n].entity)return e.values[n];t.push(e.values[n])}for(e=0;e<t.length;e++)if(null!==(n=r.$F(t[e])))return n;return null},r.PR=function(e){var t=-1;if(null!=e&&0<e.length){var n=e.indexOf("PROJCS");if(0<=n){var r=0;if(0<=(n=e.lastIndexOf("UNIT"))&&0<(n=e.indexOf(",",n+4))){n++;var i=e.indexOf("]",n+1);if(0<i)try{r=parseFloat(e.substring(n,i))}catch(e){r=0}}0<r&&(t=.001/r)}else if(0<=(n=e.indexOf("GEOGCS"))){var a=0;if(r=0,0<(n=e.indexOf("SPHEROID",n+6))&&0<(n=e.indexOf(",",n+8))){if(n++,0<(i=e.indexOf(",",n+1)))try{a=parseFloat(e.substring(n,i))}catch(e){a=0}if(0<a&&0<=(n=e.indexOf("UNIT",i+1))&&0<(n=e.indexOf(",",n+4))&&(n++,0<(i=e.indexOf("]",n+1))))try{r=parseFloat(e.substring(n,i))}catch(e){r=0}}0<a&&0<r&&(t=.001/(a*r))}}return t},r}()}(Y||(Y={})),function(e){var t;(t=e.oM||(e.oM={}))[t.NONE=0]="NONE",t[t.LINEAR=1]="LINEAR",t[t.ANGULAR=2]="ANGULAR",function(e){e[e.enumFloat=0]="enumFloat",e[e.enumDouble=1]="enumDouble",e[e.enumInt32=2]="enumInt32",e[e.enumInt64=3]="enumInt64",e[e.enumInt8=4]="enumInt8",e[e.enumInt16=5]="enumInt16"}(e.YM||(e.YM={})),function(e){e[e.POSITION=0]="POSITION",e[e.Z=1]="Z",e[e.M=2]="M",e[e.ID=3]="ID",e[e.NORMAL=4]="NORMAL",e[e.TEXTURE1D=5]="TEXTURE1D",e[e.TEXTURE2D=6]="TEXTURE2D",e[e.TEXTURE3D=7]="TEXTURE3D",e[e.ID2=8]="ID2",e[e.MAXSEMANTICS=10]="MAXSEMANTICS"}(e.Mh||(e.Mh={}));var n=function(){function t(e,n){if(this.Dt=this.Ge=null,this.gr=this.Ca=0,this.Bh=this.hg=null,this.Fl=0,void 0!==n){for(this.Ca=n.Ca,this.gr=n.gr,this.hg=n.hg.slice(0),this.Bh=n.Bh.slice(0),this.Fl=n.Fl,this.Dt=[],e=n=0;e<this.Ca;e++)this.Dt[e]=n,n+=t.Sa(this.hg[e]);for(this.gr=n,this.Ge=[],e=0;e<this.Ca;e++){n=t.Sa(this.jd(e));for(var r=t.me(this.jd(e)),i=0;i<n;i++)this.Ge[this.Dt[e]+i]=r}}else this.gr=this.Ca=0}return t.prototype.jd=function(t){if(0>t||t>this.Ca)throw e.f.I();return this.hg[t]},t.prototype.Yf=function(e){return this.Bh[e]},t.Uz=function(e){return t.RN[e]},t.sl=function(e){return t.$N[e]},t.aT=function(e){return t.aO[e]},t.a0=function(e){return t.aT(t.sl(e))*t.Sa(e)},t.Sa=function(e){return t.zN[e]},t.tU=function(e){return 2>e},t.k0=function(e){return t.tU(t.sl(e))},t.prototype.hasAttribute=function(e){return 0<=this.Bh[e]},t.prototype.VG=function(){return this.hasAttribute(1)},t.me=function(e){return t.OD[e]},t.prototype.bT=function(e){return this.Dt[e]},t.pH=function(e,n){return t.OD[e]===n},t.$_=function(t){if(4==t)return 2;if(8==t)return 3;throw e.f.I()},t.prototype.Ib=function(e){return this===e},t.prototype.Un=function(){for(var t=e.L.Zh(this.hg[0]),n=1;n<this.Ca;n++)t=e.L.Zh(this.hg[n],t);return t},t.prototype.dk=function(e){return this.Dt[e]},t.prototype.fc=function(){return this.Fl},t.prototype.Jd=function(e){return this.hg[e]},t.OD=[0,0,NaN,0,0,0,0,0,0],t.RN=[1,1,1,0,2,1,1,1,0],t.$N=[1,1,1,2,0,0,0,0,2],t.aO=[4,8,4,8,1,2],t.zN=[2,1,1,1,3,1,2,3,2],t}();e.oa=n}(Y||(Y={})),function(e){function t(e,t,r){var a=t-(e=new s(e)).e,o=e.Vc;for(o.length>++t&&n(e,a,s.Ku),o[0]?r?a=t:(o=e.Vc,a=e.e+a+1):++a;o.length<a;o.push(0));return a=e.e,1===r||r&&(t<=a||a<=i)?(0>e.Fd&&o[0]?"-":"")+(1<o.length?o[0]+"."+o.join("").slice(1):o[0])+(0>a?"e":"e+")+a:e.toString()}function n(e,t,n,i){var a=e.Vc,o=e.e+t+1;if(1===n?i=5<=a[o]:2===n?i=5<a[o]||5==a[o]&&(i||0>o||void 0!==a[o+1]||1&a[o-1]):3===n?i=i||void 0!==a[o]||0>o:(i=!1,0!==n&&r("!Big.RM!")),1>o||!a[0])i?(e.e=-t,e.Vc=[1]):e.Vc=[e.e=0];else{if(a.length=o--,i)for(;9<++a[o];)a[o]=0,o--||(++e.e,a.unshift(1));for(o=a.length;!a[--o];a.pop());}return e}function r(e){throw(e=Error(e)).name="BigError",e}var i=-7,a=21,o=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,s=function(){function e(t){if(t instanceof e)this.Fd=t.Fd,this.e=t.e,this.Vc=t.Vc.slice();else{var n,i,a;for(0===t&&0>1/t?t="-0":o.test(t+="")||r(NaN),this.Fd="-"==t.charAt(0)?(t=t.slice(1),-1):1,-1<(n=t.indexOf("."))&&(t=t.replace(".","")),0<(i=t.search(/e/i))?(0>n&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):0>n&&(n=t.length),i=0;"0"==t.charAt(i);i++);if(i==(a=t.length))this.Vc=[this.e=0];else{for(;"0"==t.charAt(--a););for(this.e=n-i-1,this.Vc=[],n=0;i<=a;this.Vc[n++]=+t.charAt(i++));}}}return e.prototype.abs=function(){var t=new e(this);return t.Fd=1,t},e.prototype.cmp=function(t){var n=this.Vc,r=(t=new e(t)).Vc,i=this.Fd,a=t.Fd,o=this.e,s=t.e;if(!n[0]||!r[0])return n[0]?i:r[0]?-a:0;if(i!=a)return i;if(t=0>i,o!=s)return o>(s^t)?1:-1;for(i=-1,a=(o=n.length)<(s=r.length)?o:s;++i<a;)if(n[i]!=r[i])return n[i]>(r[i]^t)?1:-1;return o==s?0:o>(s^t)?1:-1},e.prototype.um=function(t){var i=this.Vc,a=(t=new e(t)).Vc,o=this.Fd==t.Fd?1:-1,s=e.Pr;if((s!==~~s||0>s||1e6<s)&&r("!Big.DP!"),!i[0]||!a[0])return i[0]==a[0]&&r(NaN),a[0]||r(o/0),new e(0*o);var c,u,l=a.slice(),h=c=a.length,f=i.length,d=i.slice(0,c),p=d.length,b=t,v=b.Vc=[],y=0,m=s+(b.e=this.e-t.e)+1;for(b.Fd=o,o=0>m?0:m,l.unshift(0);p++<c;d.push(0));do{for(u=0;10>u;u++){if(c!=(p=d.length))var g=c>p?1:-1;else{var O=-1;for(g=0;++O<c;)if(a[O]!=d[O]){g=a[O]>d[O]?1:-1;break}}if(!(0>g))break;for(t=p==c?a:l;p;){if(d[--p]<t[p]){for(O=p;O&&!d[--O];d[O]=9);--d[O],d[p]+=10}d[p]-=t[p]}for(;!d[0];d.shift());}v[y++]=g?u:++u,d[0]&&g?d[p]=i[h]||0:d=[i[h]]}while((h++<f||void 0!==d[0])&&o--);return v[0]||1==y||(v.shift(),b.e--),y>m&&n(b,s,e.Ku,void 0!==d[0]),b},e.prototype.AT=function(){return 0<this.cmp(0)},e.prototype.JU=function(){return 0>this.cmp(0)},e.prototype.Rt=function(t){var n,r=this.Fd,i=(t=new e(t)).Fd;if(r!=i)return t.Fd=-i,this.kJ(t);var a=this.Vc.slice(),o=this.e,s=t.Vc,c=t.e;if(!a[0]||!s[0])return s[0]?(t.Fd=-i,t):new e(a[0]?this:0);if(r=o-c){for((n=0>r)?(r=-r,o=a):(c=o,o=s),o.reverse(),i=r;i--;o.push(0));o.reverse()}else for(o=((n=a.length<s.length)?a:s).length,r=i=0;i<o;i++)if(a[i]!=s[i]){n=a[i]<s[i];break}if(n&&(o=a,a=s,s=o,t.Fd=-t.Fd),0<(i=(o=s.length)-(n=a.length)))for(;i--;a[n++]=0);for(i=n;o>r;){if(a[--o]<s[o]){for(n=o;n&&!a[--n];a[n]=9);--a[n],a[o]+=10}a[o]-=s[o]}for(;0==a[--i];a.pop());for(;0==a[0];)a.shift(),--c;return a[0]||(t.Fd=1,a=[c=0]),t.Vc=a,t.e=c,t},e.prototype.kJ=function(t){var n=this.Fd,r=(t=new e(t)).Fd;if(n!=r)return t.Fd=-r,this.Rt(t);r=this.e;var i=this.Vc,a=t.e,o=t.Vc;if(!i[0]||!o[0])return o[0]?t:new e(i[0]?this:0*n);if(i=i.slice(),n=r-a){for(0<n?(a=r,r=o):(n=-n,r=i),r.reverse();n--;r.push(0));r.reverse()}for(0>i.length-o.length&&(r=o,o=i,i=r),n=o.length,r=0;n;)r=(i[--n]=i[n]+o[n]+r)/10|0,i[n]%=10;for(r&&(i.unshift(r),++a),n=i.length;0==i[--n];i.pop());return t.Vc=i,t.e=a,t},e.prototype.pow=function(t){var n=this,i=new e(1),a=i,o=0>t;for((t!==~~t||-1e6>t||1e6<t)&&r("!pow!"),t=o?-t:t;1&t&&(a=a.Hr(n)),t>>=1;)n=n.Hr(n);return o?i.um(a):a},e.prototype.round=function(t,i){var a=this;return null==t?t=0:(t!==~~t||0>t||1e6<t)&&r("!round!"),n(a=new e(a),t,null==i?e.Ku:i),a},e.prototype.sqrt=function(){var t=this.Vc,i=this.Fd,a=this.e,o=new e("0.5");if(!t[0])return new e(this);0>i&&r(NaN),0==(i=Math.sqrt(this.toString()))||i==1/0?((i=t.join("")).length+a&1||(i+="0"),(t=new e(Math.sqrt(i).toString())).e=((a+1)/2|0)-(0>a||1&a)):t=new e(i.toString()),i=t.e+(e.Pr+=4);do{a=t,t=o.Hr(a.kJ(this.um(a)))}while(a.Vc.slice(0,i).join("")!==t.Vc.slice(0,i).join(""));return n(t,e.Pr-=4,e.Ku),t},e.prototype.Hr=function(t){var n=this.Vc,r=(t=new e(t)).Vc,i=n.length,a=r.length,o=this.e,s=t.e;if(t.Fd=this.Fd==t.Fd?1:-1,!n[0]||!r[0])return new e(0*t.Fd);if(t.e=o+s,i<a){var c=n;n=r,r=c,s=i,i=a,a=s}for(c=Array(s=i+a);s--;c[s]=0);for(o=a;o--;){for(a=0,s=i+o;s>o;)a=c[s]+r[o]*n[s-o-1]+a,c[s--]=a%10,a=a/10|0;c[s]=(c[s]+a)%10}for(a&&++t.e,c[0]||c.shift(),o=c.length;!c[--o];c.pop());return t.Vc=c,t},e.prototype.toString=function(){var e=this.e,t=this.Vc.join(""),n=t.length;if(e<=i||e>=a)t=t.charAt(0)+(1<n?"."+t.slice(1):"")+(0>e?"e":"e+")+e;else if(0>e){for(;++e;t="0"+t);t="0."+t}else if(0<e)if(++e>n)for(e-=n;e--;t+="0");else e<n&&(t=t.slice(0,e)+"."+t.slice(e));else 1<n&&(t=t.charAt(0)+"."+t.slice(1));return 0>this.Fd&&this.Vc[0]?"-"+t:t},e.prototype.toExponential=function(e){return null==e?e=this.Vc.length-1:(e!==~~e||0>e||1e6<e)&&r("!toExp!"),t(this,e,1)},e.prototype.toFixed=function(e){var n=i,o=a;if(i=-(a=1/0),null==e)var s=this.toString();else e===~~e&&0<=e&&1e6>=e&&(s=t(this,this.e+e),0>this.Fd&&this.Vc[0]&&0>s.indexOf("-")&&(s="-"+s));return i=n,a=o,s||r("!toFix!"),s},e.prototype.toPrecision=function(e){return null==e?this.toString():((e!==~~e||1>e||1e6<e)&&r("!toPre!"),t(this,e-1,2))},e.Pr=20,e.Ku=1,e}();e.xp=s}(Y||(Y={})),function(e){var t=function(){function t(e){this.vf=e}return t.prototype.Lr=function(t,n,r){var i=new e.b,a=new e.b,o=this.vf;r.Zd(t,n,(function(e,t){return o.mc(2*e,i),o.mc(2*t,a),i.compare(a)}))},t.prototype.sq=function(e){return this.vf.read(2*e+1)},t}();e.yi=function(){function n(){}return n.tq=function(t){if(t.u())return!1;var r=t.F();return 1736==r?0!=t.Pe():1607==r?(r=[!1],n.eF(t,!0,r),r[0]):!(197!=r&&(!e.R.Ic(r)||t.nH()))},n.qm=function(t){var r=t.F();if(1736==r)return r=new e.Oa(t.description),t.u()||t.ND(r),r;if(1607==r)return n.eF(t,!1,null);if(197==r)return r=new e.Oa(t.description),t.u()||r.bd(t,!1),r;if(e.R.Ic(r)){if(r=new e.Hd(t.description),!t.u()&&!t.nH()){var i=new e.Ra;t.jp(i),r.add(i),t.hp(i),r.add(i)}return r}if(e.R.lo(r))return null;throw e.f.I()},n.eF=function(n,r,i){null!=i&&(i[0]=!1);var a=null;if(r||(a=new e.Hd(n.description)),!n.u()){var o=new e.ha(0);o.Db(2*n.$());for(var s=0,c=n.$();s<c;s++)if(0<n.Ha(s)&&!n.ho(s)){var u=n.ua(s);o.add(u),u=n.zc(s)-1,o.add(u)}if(0<o.size){c=new e.Du,s=n.Va(0),c.sort(o,0,o.size,new t(s)),c=new e.b,s.mc(2*o.get(0),c),u=0;for(var l=1,h=new e.Ra,f=new e.b,d=1,p=o.size;d<p;d++)if(s.mc(2*o.get(d),f),f.qb(c))o.get(u)>o.get(d)?(o.set(u,2147483647),u=d):o.set(d,2147483647),l++;else{if(0==(1&l))o.set(u,2147483647);else if(r)return null!=i&&(i[0]=!0),null;c.K(f),u=d,l=1}if(0==(1&l))o.set(u,2147483647);else if(r)return null!=i&&(i[0]=!0),null;if(!r)for(o.Zd(0,o.size,(function(e,t){return e-t})),d=0,p=o.size;d<p&&2147483647!=o.get(d);d++)n.ne(o.get(d),h),a.add(h)}}return r?null:a},n}()}(Y||(Y={})),function(e){var t=function(){function t(){this.Hf=new e.ha(0),this.gt=new e.ha(0),this.uI=1,this.mt=NaN}return t.prototype.sort=function(e,t,n,r){if(32>n-t)r.Lr(t,n,e);else{var i=!0;try{for(var a=1/0,o=-1/0,s=t;s<n;s++){var c=r.sq(e.get(s));c<a&&(a=c),c>o&&(o=c)}if(this.reset(n-t,a,o,n-t)){for(s=t;s<n;s++){var u=e.get(s);c=r.sq(u);var l=this.mG(c);this.Hf.set(l,this.Hf.get(l)+1),this.gt.write(s-t,u)}var h=this.Hf.get(0);this.Hf.set(0,0),s=1;for(var f=this.Hf.size;s<f;s++){var d=this.Hf.get(s);this.Hf.set(s,h),h+=d}for(s=t;s<n;s++){u=this.gt.read(s-t),c=r.sq(u),l=this.mG(c);var p=this.Hf.get(l);e.set(p+t,u),this.Hf.set(l,p+1)}i=!1}}catch(e){this.Hf.resize(0),this.gt.resize(0)}if(i)r.Lr(t,n,e);else{for(s=n=0,f=this.Hf.size;s<f;s++)i=n,(n=this.Hf.get(s))>i&&r.Lr(t+i,t+n,e);100<this.Hf.size&&(this.Hf.resize(0),this.gt.resize(0))}}},t.prototype.reset=function(e,n,r,i){return!(2>e||r==n||(e=Math.min(t.rM,e),this.Hf.Db(e),this.Hf.resize(e),this.Hf.Xj(0,0,this.Hf.size),this.uI=n,this.gt.resize(i),this.mt=(r-n)/(e-1),0))},t.prototype.mG=function(t){return e.L.truncate((t-this.uI)/this.mt)},t.rM=65536,t}();e.Du=t}(Y||(Y={})),function(e){var t,n;(n=t||(t={}))[n.enum_line=1]="enum_line",n[n.enum_arc=2]="enum_arc",n[n.enum_dummy=4]="enum_dummy",n[n.enum_concave_dip=8]="enum_concave_dip",n[n.enum_connection=3]="enum_connection";var r=function(){function t(){}return t.xv=function(n,r,i,a,o,s){var c=new t;return c.Tm=new e.b,c.hn=new e.b,c.Hw=new e.b,c.Tm.K(n),c.hn.K(r),c.Hw.K(i),c.Wo=a,c.xh=o,c.zh=s,c},t.construct=function(n,r,i,a){var o=new t;return o.Tm=new e.b,o.hn=new e.b,o.Hw=new e.b,o.Tm.K(n),o.hn.K(r),o.Hw.Tc(),o.Wo=4,o.xh=i,o.zh=a,o},t}(),i=function(){function t(e,t,n,r,i,a){this.Ew=null,this.ya=0,this.nB=e,this.RI=this.OI=0,this.La=t,this.Oj=n,this.Ck=r,this.Xq=i,this.Vb=a}return t.prototype.next=function(){for(var t=new e.Ra;;){if(this.ya==this.nB.D())return null;if(this.nB.ne(this.ya,t),this.ya++,!t.u())break}var n=!1;if(null==this.Ew&&(this.OI=t.Ce(),this.RI=t.lf(),this.Ew=s.buffer(t,this.La,this.Oj,this.Ck,this.Xq,this.Vb),n=!0),this.ya<this.nB.D()){var r=new e.Fa;this.Ew.copyTo(r)}else r=this.Ew;if(!n){n=new e.xd;var i=t.Ce()-this.OI;t=t.lf()-this.RI,n.mg(i,t),r.Qc(n)}return r},t.prototype.Ea=function(){return 0},t.prototype.xe=function(){},t}(),a=function(){function t(e,t){this.Wa=e,this.ya=0,this.Hq=t}return t.prototype.next=function(){var t=this.Wa.W;if(this.ya<t.$()){var n=this.ya;if(this.ya++,!t.ho(n))for(var r=t.xa(t.zc(n)-1);this.ya<t.$();){var i=t.xa(t.ua(this.ya));if(t.ho(this.ya))break;if(i!=r)break;r=t.xa(t.zc(this.ya)-1),this.ya++}if(1==this.ya-n)return this.Wa.XE(this.Wa.W,n,this.Hq);for((r=new e.Oa(this.Wa.W.description)).addPath(this.Wa.W,n,!0),n+=1;n<this.ya;n++)r.ds(this.Wa.W,n,0,t.Zv(n),!1);return this.Wa.XE(r,0,this.Hq)}return null},t.prototype.Ea=function(){return 0},t.prototype.xe=function(){},t}(),o=function(){function e(e){this.Wa=e,this.ya=0}return e.prototype.next=function(){var e=this.Wa.W;if(this.ya<e.$()){var t=this.ya;for(e.rm(this.ya),this.ya++;this.ya<e.$()&&!(0<e.rm(this.ya));)this.ya++;return 0==t&&this.ya==e.$()?this.Wa.Vy(e,0,e.$()):this.Wa.Vy(e,t,this.ya)}return null},e.prototype.Ea=function(){return 0},e.prototype.xe=function(){},e}(),s=function(){function t(e){this.st=this.Sw=this.tt=this.Md=null,this.de=[],this.Vb=e,this.rb=this.rw=this.bV=this.La=this.bB=this.Jt=this.qa=0,this.ZA=this.Ck=-1,this.Hq=!0}return t.buffer=function(n,r,i,a,o,s){if(null==n)throw e.f.I();if(0>a)throw e.f.I();if(n.u())return new e.Fa(n.description);var c=new e.g;return n.Zb(c),0<r&&c.O(r,r),(s=new t(s)).Oj=i,s.W=n,s.qa=e.la.Qd(i,c,!0),s.Jt=e.la.Qd(null,c,!0),s.La=r,s.bV=n.F(),0>=o&&(o=96),s.rb=Math.abs(s.La),s.rw=0!=s.rb?1/s.rb:0,isNaN(a)||0==a?a=1e-5*s.rb:a>.5*s.rb&&(a=.5*s.rb),12>o&&(o=12),(n=Math.abs(r)*(1-Math.cos(Math.PI/o)))>a?a=n:(n=Math.PI/Math.acos(1-a/Math.abs(r)))<o-1&&12>(o=e.L.truncate(n))&&(o=12,a=Math.abs(r)*(1-Math.cos(Math.PI/o))),s.Ck=a,s.Xq=o,s.bB=Math.min(s.Jt,.25*a),s.YE()},t.prototype.Kv=function(){if(null==this.Md)this.Md=[];else if(0!==this.Md.length)return;var t=this.cF();t=e.L.truncate((t+3)/4);var n=.5*Math.PI/t;this.ZA=n;for(var r=0;r<4*t;r++)this.Md.push(null);var i=Math.cos(n);n=Math.sin(n);var a=e.b.construct(0,1);for(r=0;r<t;r++)this.Md[r+0*t]=e.b.construct(a.y,-a.x),this.Md[r+1*t]=e.b.construct(-a.x,-a.y),this.Md[r+2*t]=e.b.construct(-a.y,a.x),this.Md[r+3*t]=a,(a=e.b.construct(a.x,a.y)).lu(i,n)},t.prototype.YE=function(){var t=this.W.F();if(e.R.Ic(t))return(t=new e.Oa(this.W.description)).$b(this.W,!0),this.W=t,this.YE();if(this.La<=this.qa){if(!e.R.nU(t))return new e.Fa(this.W.description);if(0>=this.La&&(t=new e.g,this.W.s(t),t.N()<=2*-this.La||t.ca()<=2*this.La))return new e.Fa(this.W.description)}switch(this.W.F()){case 33:return this.$O();case 550:return this.ZO();case 1607:return this.bP();case 1736:return this.aP();case 197:return this.WO();default:throw e.f.za()}},t.prototype.bP=function(){if(this.qH(this.W)){var t=new e.Ra;this.W.ne(0,t);var n=new e.g;return this.W.s(n),t.nb(n.hf()),this.lv(t)}return this.W=this.oX(this.W),t=new a(this,this.Hq),e.Jh.local().U(t,this.Oj,this.Vb).next()},t.prototype.aP=function(){if(0==this.La)return this.W;var t=e.jm.local();if(this.Kv(),this.W=t.U(this.W,null,!1,this.Vb),0>this.La){var n=this.W;return n=this.Vy(n,0,n.$()),t.U(n,this.Oj,!1,this.Vb)}return this.qH(this.W)?(t=new e.Ra,this.W.ne(0,t),n=new e.g,this.W.s(n),t.nb(n.hf()),this.lv(t)):(t=new o(this),e.Jh.local().U(t,this.Oj,this.Vb).next())},t.prototype.Vy=function(n,r,i){for(var a=new e.Fa(n.description);r<i;r++)if(!(1>n.Ha(r))){var o=n.rm(r),s=new e.g;if(n.Sj(r,s),0<this.La){if(0<o)if(this.rH(n,r))o=new e.Ra,n.ne(n.ua(r),o),o.nb(s.hf()),this.dv(a,o);else{var c=o=new e.Oa(n.description);c=e.Fu.vH(this.W,r)||2==this.Sn(this.W,r,c,!0,1)?this.WE(n,r):this.Rn(o),a.add(c,!1)}else if(!(s.N()+this.qa<=2*this.rb||s.ca()+this.qa<=2*this.rb||(c=o=new e.Oa(n.description),this.Sn(this.W,r,c,!0,1),o.u()))){var u=new e.g;for(u.H(s),u.O(this.rb,this.rb),c.Np(u),s=1,o=(c=this.Rn(o)).$();s<o;s++)a.addPath(c,s,!0)}}else if(0<o){if(!(s.N()+this.qa<=2*this.rb||s.ca()+this.qa<=2*this.rb||(c=o=new e.Oa(n.description),this.Sn(this.W,r,c,!0,-1),o.u())))for(u=new e.g,c.Zb(u),u.O(this.rb,this.rb),c.Np(u),s=1,o=(c=this.Rn(o)).$();s<o;s++)a.addPath(c,s,!0)}else for(c=o=new e.Oa(n.description),this.Sn(this.W,r,c,!0,-1),s=0,o=(c=this.Rn(o)).$();s<o;s++)a.addPath(c,s,!0)}if(0<this.La)return 1<a.$()?a=this.Rn(a):t.Sx(a);if(n=new e.g,a.Zb(n),a.u())return t.Sx(a);for(n.O(this.rb,this.rb),a.Np(n),a=this.Rn(a),n=new e.Fa(a.description),s=1,o=a.$();s<o;s++)n.addPath(a,s,!1);return t.Sx(n)},t.prototype.$O=function(){return this.lv(this.W)},t.prototype.lv=function(t){var n=new e.Fa(this.W.description);return this.dv(n,t),this.WY(n)},t.prototype.ZO=function(){var t=new i(this.W,this.La,this.Oj,this.Ck,this.Xq,this.Vb);return e.Jh.local().U(t,this.Oj,this.Vb).next()},t.prototype.WO=function(){var t=new e.Fa(this.W.description);if(0>=this.La){if(0==this.La)t.bd(this.W,!1);else{var n=new e.Ih;this.W.qn(n),n.O(this.La,this.La),t.bd(n,!1)}return t}return t.bd(this.W,!1),this.W=t,this.WE(t,0)},t.prototype.WE=function(n,r){this.Kv();var i=new e.Fa(n.description),a=new e.b,o=new e.b,s=new e.b,c=new e.b,u=new e.b,l=new e.b,h=new e.b,f=new e.b,d=n.Ha(r),p=n.ua(r),b=0;for(r=n.Ha(r);b<r;b++){if(n.w(p+b,o),n.w(p+(b+1)%d,c),n.w(p+(b+2)%d,l),h.tc(c,o),0==h.length())throw e.f.za();if(h.ow(),h.normalize(),h.scale(this.rb),a.add(h,o),s.add(h,c),0==b?i.uu(a):i.Ii(a),i.Ii(s),f.tc(l,c),0==f.length())throw e.f.za();f.ow(),f.normalize(),f.scale(this.rb),u.add(f,c),this.sE(i,c,s,u,!1)}return t.Sx(i)},t.prototype.XE=function(t,n,r){if(this.Kv(),1>t.Ha(n))return null;if(this.rH(t,n)&&0<this.La){r=new e.Ra,t.ne(t.ua(n),r);var i=new e.g;return t.Sj(n,i),r.nb(i.hf()),this.lv(r)}if(i=new e.Oa(t.description),t.ho(n))this.Sn(t,n,i,r,1),this.Sn(t,n,i,r,-1);else{var a=new e.Oa(t.description);a.addPath(t,n,!1),a.ds(t,n,0,t.Zv(n),!1),this.Sn(a,0,i,r,1)}return this.Rn(i)},t.prototype.qr=function(){if(this.Gt++,0==this.Gt%1024&&null!=this.Vb&&!this.Vb.progress(-1,-1))throw e.f.Lu("user_canceled")},t.prototype.Rn=function(t){return e.pg.Tk(t,this.Jt,!0,!0,this.Vb)},t.prototype.cF=function(){if(0==this.Ck)return this.Xq;var t=1-this.Ck*Math.abs(this.rw);return 4>(t=-1>t?4:2*Math.PI/Math.acos(t)+.5)?t=4:t>this.Xq&&(t=this.Xq),e.L.truncate(t)},t.prototype.sE=function(t,n,r,i,a){this.Kv();var o=new e.b;o.tc(r,n),o.scale(this.rw);var s=new e.b;s.tc(i,n),s.scale(this.rw),0>(o=Math.atan2(o.y,o.x)/this.ZA)&&(o=this.Md.length+o),o=this.Md.length-o,0>(s=Math.atan2(s.y,s.x)/this.ZA)&&(s=this.Md.length+s),(s=this.Md.length-s)<o&&(s+=this.Md.length);var c=e.L.truncate(s);s=e.L.truncate(Math.ceil(o)),(o=new e.b).K(this.Md[s%this.Md.length]),o.mu(this.rb,n);var u=10*this.qa;for(o.sub(r),o.length()<u&&(s+=1),o.K(this.Md[c%this.Md.length]),o.mu(this.rb,n),o.sub(i),o.length()<u&&--c,r=c-s,r++,c=0,s%=this.Md.length;c<r;c++,s=(s+1)%this.Md.length)o.K(this.Md[s]),o.mu(this.rb,n),t.Ii(o),this.qr();a&&t.Ii(i)},t.prototype.Sn=function(t,n,i,a,o){var s=new e.Yc,c=s.wO(t,n);if(s.$p(this.bB,!1,!1),2>s.D(c))return 0>o||(o=t,s=new e.Ra,o.ne(o.ua(n),s),this.dv(i,s)),1;var u=s.xa(s.Za(s.Kb(c))),l=new e.xd;if(l.mg(-u.x,-u.y),s.Qc(l),a&&(this.FR(s,c,o),2>s.D(c)))return 0>o||(o=t,s=new e.Ra,o.ne(o.ua(n),s),this.dv(i,s)),1;this.de.length=0;var h=s.Kb(c);n=s.Za(h);var f=1==o?s.Ma(n):s.T(n);t=1==o?s.T(n):s.Ma(n);var d=!0;a=new e.b,c=new e.b;var p=new e.b,b=new e.b,v=new e.b,y=new e.b,m=new e.b,g=new e.b,O=new e.b,j=new e.b,w=this.rb;h=s.Ha(h);for(var _=0;_<h;_++)s.w(t,c),d&&(s.w(n,a),s.w(f,p),g.tc(a,p),g.normalize(),j.yH(g),j.scale(w),b.add(j,a)),m.tc(c,a),m.normalize(),O.yH(m),O.scale(w),v.add(a,O),f=g.Di(m),d=g.Vh(m),0>f||0>d&&0==f?this.de.push(r.xv(b,v,a,2,this.de.length+1,this.de.length-1)):b.qb(v)||(this.de.push(r.construct(b,a,this.de.length+1,this.de.length-1,"dummy")),this.de.push(r.construct(a,v,this.de.length+1,this.de.length-1,"dummy"))),y.add(c,O),this.de.push(r.xv(v,y,a,1,this.de.length+1,this.de.length-1)),b.K(y),j.K(O),p.K(a),a.K(c),g.K(m),f=n,n=t,d=!1,t=1==o?s.T(n):s.Ma(n);return this.de[this.de.length-1].xh=0,this.de[0].zh=this.de.length-1,this.qX(i),l.mg(u.x,u.y),i.KE(l,i.$()-1),1},t.prototype.qX=function(e){for(var t=this.JP(),n=!0,r=t+1,i=t;r!=t;i=r){var a=this.de[i];r=-1!=a.xh?a.xh:(i+1)%this.de.length,0!=a.Wo&&(n&&e.uu(a.Tm),2==a.Wo?this.sE(e,a.Hw,a.Tm,a.hn,!0):e.Ii(a.hn),n=!1)}},t.prototype.JP=function(){null==this.st&&(this.st=[null,null,null,null,null,null,null,null,null]);for(var t=0,n=0,r=this.de.length;n<r;){var i=this.de[n];if(0!=(3&i.Wo)){t=n;break}n=i.xh}for(r=t+1,n=t;r!=t;n=r){r=(i=this.de[n]).xh;for(var a=1,o=null;r!=n&&0==(3&(o=this.de[r]).Wo);)r=o.xh,a++;1!=a&&1==(i.Wo&o.Wo)&&(null==this.tt&&(this.tt=new e.zb,this.Sw=new e.zb),this.tt.Fc(i.Tm),this.tt.Sc(i.hn),this.Sw.Fc(o.Tm),this.Sw.Sc(o.hn),1==this.tt.Ia(this.Sw,this.st,null,null,this.Jt)&&(i.hn.K(this.st[0]),o.Tm.K(this.st[0]),i.xh=r,o.zh=n))}return t},t.prototype.lw=function(t,n,r){var i=new e.b;if(i.tc(r,t),r=i.length(),0<(r=this.rb*this.rb-r*r*.25)){r=Math.sqrt(r),i.normalize(),i.ur();var a=new e.b;if(a.tc(n,t),a.Vh(i)+r>=this.rb)return!0}return!1},t.prototype.FR=function(t,n,r){for(var i=0;1>i;i++){var a=!1,o=t.Kb(n),s=t.Ha(o);if(0==s)break;var c=s;if(3>s)break;!t.Lb(o)&&(c=s-1),o=t.Za(o),s=0<r?t.Ma(o):t.T(o);for(var u=0<r?t.T(o):t.Ma(o),l=s,h=!0,f=new e.b,d=new e.b,p=new e.b,b=new e.b,v=new e.b,y=e.b.construct(0,0),m=new e.b,g=new e.b,O=new e.b,j=new e.b,w=this.rb,_=0,x=0;x<c&&(t.w(u,d),h&&(t.w(o,f),t.w(s,p),l=s),g.tc(f,p),g.normalize(),m.tc(d,f),m.normalize(),l!=u);){var k=g.Di(m),S=g.Vh(m),E=!0;if(0>k||0>S&&0==k||!this.lw(p,f,d)||(y.K(d),E=!1,++_,a=!0),E){if(0<_)for(;(k=0<r?t.Ma(l):t.T(l))!=o;){if(t.w(k,b),!this.lw(b,p,y)){k!=u&&this.lw(b,p,d)&&this.lw(b,f,d)&&(p.K(b),l=k,E=!1,++_);break}p.K(b),l=k,E=!1,++_}if(!E)continue;if(0<_){for(l=0<r?t.Ma(s):t.T(s),h=1;h<_;h++)E=0<r?t.Ma(l):t.T(l),t.od(l,!0),l=E;O.tc(f,p),_=w*w-(_=O.length())*_*.25,w-(_=Math.sqrt(_))>.5*this.Ck?(v.add(p,f),v.scale(.5),O.normalize(),O.ur(),j.K(O),j.scale(w-_),v.add(j),t.wf(s,v)):t.od(s,!0),_=0}p.K(f),l=o}f.K(d),s=o,o=u,u=0<r?t.T(o):t.Ma(o),x++,h=!1}if(0<_){for(l=0<r?t.Ma(s):t.T(s),h=1;h<_;h++)E=0<r?t.Ma(l):t.T(l),t.od(l,!0),l=E;v.add(p,f),v.scale(.5),O.tc(f,p),_=w*w-(_=O.length())*_*.25,_=Math.sqrt(_),O.normalize(),O.ur(),j.K(O),j.scale(w-_),v.add(j),t.wf(s,v)}if(t.$p(this.bB,!1,!1),!a)break}},t.prototype.rH=function(t,n){if(1==t.Ha(n))return!0;var r=new e.g;return t.Sj(n,r),Math.max(r.N(),r.ca())<.5*this.Ck},t.prototype.qH=function(t){var n=new e.g;return t.s(n),Math.max(n.N(),n.ca())<.5*this.Ck},t.prototype.oX=function(t){for(var n=0,r=0,i=(t=e.lD.local().U(t,.25*this.Ck,!1,this.Vb)).$();r<i;r++)n=Math.max(t.Ha(r),n);return 32>n?(this.Hq=!1,t):(this.Hq=!0,e.pg.Tk(t,this.Jt,!1,!0,this.Vb))},t.prototype.dv=function(t,n){if(n=n.w(),null!=this.Md&&0!==this.Md.length){var r=new e.b;r.K(this.Md[0]),r.mu(this.rb,n),t.uu(r);for(var i=1,a=this.Md.length;i<a;i++)r.K(this.Md[i]),r.mu(this.rb,n),t.Ii(r)}else{i=this.cF(),r=e.L.truncate((i+3)/4),i=.5*Math.PI/r,a=Math.cos(i);for(var o=Math.sin(i),s=new e.b,c=3;0<=c;c--){switch(s.ka(0,this.rb),c){case 0:for(i=0;i<r;i++)t.Cj(s.x+n.x,s.y+n.y),s.lu(a,o);break;case 1:for(i=0;i<r;i++)t.Cj(-s.y+n.x,s.x+n.y),s.lu(a,o);break;case 2:for(i=0;i<r;i++)t.Cj(-s.x+n.x,-s.y+n.y),s.lu(a,o);break;default:for(t.Zx(s.y+n.x,-s.x+n.y),i=1;i<r;i++)s.lu(a,o),t.Cj(s.y+n.x,-s.x+n.y)}this.qr()}}},t.Sx=function(e){return e.Jg(1,0),e},t.prototype.WY=function(e){return e.Jg(2,this.qa),e.cl(),e},t}();e.QL=s}(Y||(Y={})),function(e){var t=function(){function t(t){this.Da=t,this.a=new e.Yc,this.fd=new e.ha(0)}return t.prototype.Ph=function(e,t,n){switch(t){case 0:if(e.o<n&&e.v<=n)break;return e.o>=n?1:-1;case 1:if(e.A<n&&e.B<=n)break;return e.A>=n?1:-1;case 2:if(e.o>=n&&e.v>n)break;return e.v<=n?1:-1;case 3:if(!(e.A>=n&&e.B>n))return e.B<=n?1:-1}return 0},t.prototype.fz=function(e,t){return 1736==e.F()?this.hz(e,t):this.iz(e)},t.prototype.hz=function(t,n){if(0==this.Da.N()||0==this.Da.ca())return t.Ga();var r=new e.g;t.Zb(r),this.W=this.a.Bb(t);var i=new e.g,a=new e.g,o=new e.b,s=new e.b,c=[0,0,0,0,0,0,0,0,0],u=[0,0,0,0,0,0,0,0,0];new e.og;var l=new e.zb,h=new e.ha(0);h.Db(Math.min(100,t.D()));for(var f=!1,d=0;!f&&4>d;d++){var p=!1,b=0!=(1&d),v=0;switch(d){case 0:v=this.Da.o,p=r.o<=v&&r.v>=v;break;case 1:v=this.Da.A,p=r.A<=v&&r.B>=v;break;case 2:v=this.Da.v,p=r.o<=v&&r.v>=v;break;case 3:v=this.Da.B,p=r.A<=v&&r.B>=v}if(p)for(f=!0,p=this.a.Kb(this.W);-1!=p;){var y=-1,m=-1,g=this.a.Za(p),O=g;do{var j=this.a.ec(O);null==j&&(j=l,this.a.w(O,o),j.Fc(o),this.a.w(this.a.T(O),s),j.Sc(s)),j.s(i);var w=this.Ph(i,d,v),_=0,x=-1;if(-1==w){_=0<(j=j.uq(b,v,c,u))?this.a.em(O,u,j):0,_+=1;var k=O,S=this.a.T(k);for(j=0;j<_;j++){if(this.a.w(k,o),this.a.w(S,s),null==(x=this.a.ec(k))&&((x=l).Fc(o),x.Sc(s)),x.s(a),-1==(x=this.Ph(a,d,v))){if(b)(x=Math.abs(o.y-v))<(E=Math.abs(s.y-v))?(o.y=v,this.a.wf(k,o)):(s.y=v,this.a.wf(S,s));else{x=Math.abs(o.x-v);var E=Math.abs(s.x-v);x<E?(o.x=v,this.a.wf(k,o)):(s.x=v,this.a.wf(S,s))}null==(x=this.a.ec(k))&&((x=l).Fc(o),x.Sc(s)),x.s(a),x=this.Ph(a,d,v)}E=y,y=x,-1==m&&(m=y),0==E&&1==y||1==E&&0==y||0!=E||0!=y||h.add(k),1==y&&(f=!1),x=k=S,S=this.a.T(S)}}0==_&&(E=y,y=w,-1==m&&(m=y),0==E&&1==y||1==E&&0==y||0!=E||0!=y||h.add(O),1==y&&(f=!1),x=this.a.T(O)),O=x}while(O!=g);for(0==m&&0==y&&h.add(g),j=0,y=h.size;j<y;j++)m=h.get(j),this.a.od(m,!1);h.clear(!1),p=3>this.a.Ha(p)?this.a.sr(p):this.a.Qb(p)}}return f?t.Ga():(this.pC(),0<n&&this.rz(n),this.a.ye(this.W))},t.prototype.iz=function(t){var n=new e.g,r=new e.g,i=[0,0,0,0,0,0,0,0,0],a=[0,0,0,0,0,0,0,0,0],o=new e.og,s=t,c=new e.g;t.Zb(c);for(var u=0;4>u;u++){var l=!1,h=0!=(1&u),f=0;switch(u){case 0:f=this.Da.o,l=c.o<=f&&c.v>=f;break;case 1:f=this.Da.A,l=c.A<=f&&c.B>=f;break;case 2:f=this.Da.v,l=c.o<=f&&c.v>=f;break;case 3:f=this.Da.B,l=c.A<=f&&c.B>=f}if(l){l=s,s=t.Ga(),(l=l.Ba()).ej();for(var d,p=new e.b;l.Ta();)for(var b,v=!0;l.Aa();){var y=l.aa();y.s(n);var m=this.Ph(n,u,f);if(-1==m){if(0<(m=y.uq(h,f,i,a))){var g=0;d=y.ac();for(var O=0;O<=m;O++)if(g!=(b=O<m?a[O]:1)){y.jh(g,b,o);var j=o.get();j.Fc(d),O<m&&(h?(p.x=i[O],p.y=f):(p.x=f,p.y=i[O]),j.Sc(p)),j.s(r);var w=this.Ph(r,u,f);if(-1==w){if(d=j.ac(),g=j.wc(),h)(w=Math.abs(d.y-f))<(_=Math.abs(g.y-f))?(d.y=f,j.Fc(d)):(g.y=f,j.Sc(g));else{w=Math.abs(d.x-f);var _=Math.abs(g.x-f);w<_?(d.x=f,j.Fc(d)):(g.x=f,j.Sc(g))}j.s(r),w=this.Ph(r,u,f)}d=j.wc(),g=b,1==(b=w)?(s.$b(j,v),v=!1):v=!0}}}else 1==(b=m)?(s.$b(y,v),v=!1):v=!0}}}return s},t.prototype.pC=function(){this.si=-1,this.fm(!1,this.Da.o),this.fm(!1,this.Da.v),this.fm(!0,this.Da.A),this.fm(!0,this.Da.B),this.fd.resize(0),this.fd.Db(100),this.si=this.a.Kd();for(var t=new e.b,n=this.a.Kb(this.W);-1!=n;n=this.a.Qb(n))for(var r=this.a.Za(n),i=0,a=this.a.Ha(n);i<a;i++,r=this.a.T(r))this.a.w(r,t),(this.Da.o==t.x||this.Da.v==t.x||this.Da.A==t.y||this.Da.B==t.y)&&(this.a.Qa(r,this.si,this.fd.size),this.fd.add(r));this.Yl(!1,this.Da.o),this.Yl(!1,this.Da.v),this.Yl(!0,this.Da.A),this.Yl(!0,this.Da.B),this.zz()},t.prototype.rz=function(t){for(var n=new e.b,r=new e.b,i=e.L.Xf(2048,0),a=this.a.Kb(this.W);-1!=a;a=this.a.Qb(a)){var o=this.a.Za(a),s=o;do{var c=this.a.T(s);this.a.w(s,n);var u=-1;if(n.x==this.Da.o?(this.a.w(c,r),r.x==this.Da.o&&(u=1)):n.x==this.Da.v&&(this.a.w(c,r),r.x==this.Da.v&&(u=1)),n.y==this.Da.A?(this.a.w(c,r),r.y==this.Da.A&&(u=0)):n.y==this.Da.B&&(this.a.w(c,r),r.y==this.Da.B&&(u=0)),-1!=u&&(u=e.b.vb(n,r),!(1>=(u=e.L.truncate(Math.min(Math.ceil(u/t),2048)))))){for(var l=1;l<u;l++)i[l-1]=1*l/u;this.a.em(s,i,u-1)}s=c}while(s!=o)}},t.prototype.fm=function(t,n){var r=this.a.Kd(),i=new e.b,a=new e.ha(0);a.Db(100);for(var o=this.a.Kb(this.W);-1!=o;o=this.a.Qb(o))for(var s=this.a.Za(o),c=0,u=this.a.Ha(o);c<u;c++){var l=this.a.T(s);this.a.w(s,i),(t?i.y==n:i.x==n)&&(this.a.w(l,i),(t?i.y==n:i.x==n)&&(1!=this.a.Na(s,r)&&(a.add(s),this.a.Qa(s,r,1)),1!=this.a.Na(l,r)&&(a.add(l),this.a.Qa(l,r,1)))),s=l}if(this.a.Xd(r),!(3>a.size)){var h=this;a.Zd(0,a.size,(function(e,t){return h.Qh(e,t)})),r=new e.b,o=new e.b,s=new e.b,o.Tc();var f=-1;c=new e.ha(0),u=new e.ha(0),l=this.a.Kd();for(var d=this.a.Kd(),p=0,b=a.size;p<b;p++){var v=a.get(p);if(this.a.w(v,i),!i.qb(o)){if(-1!=f){for(var y=f;y<p;y++){f=a.get(y);var m=this.a.T(f);v=this.a.Ma(f);var g=!1;0>this.Qh(f,m)&&(this.a.w(m,r),t?r.y==n:r.x==n)&&(c.add(f),g=!0,this.a.Qa(f,d,1)),0>this.Qh(f,v)&&(this.a.w(v,r),t?r.y==n:r.x==n)&&(g||c.add(f),this.a.Qa(f,l,1))}for(y=0,g=c.size;y<g;y++){if(f=c.get(y),v=this.a.Na(f,l),m=this.a.Na(f,d),1==v){v=this.a.Ma(f),this.a.w(v,s);var O=[0];if(O[0]=0,!s.qb(i)){var j=e.b.vb(o,s);O[0]=e.b.vb(s,i)/j,0==O[0]?O[0]=2220446049250313e-31:1==O[0]&&(O[0]=.9999999999999998),this.a.em(v,O,1),v=this.a.Ma(f),this.a.wf(v,i),u.add(v),this.a.Qa(v,l,1),this.a.Qa(v,d,-1)}}1==m&&(m=this.a.T(f),this.a.w(m,s),(O=[0])[0]=0,s.qb(i)||(j=e.b.vb(o,s),O[0]=e.b.vb(o,i)/j,0==O[0]?O[0]=2220446049250313e-31:1==O[0]&&(O[0]=.9999999999999998),this.a.em(f,O,1),v=this.a.T(f),this.a.wf(v,i),u.add(v),this.a.Qa(v,l,-1),this.a.Qa(v,d,1)))}f=c,c=u,(u=f).clear(!1)}f=p,o.K(i)}}this.a.Xd(l),this.a.Xd(d)}},t.prototype.Yl=function(t,n){var r=new e.b,i=new e.ha(0);i.Db(100);for(var a=this.a.Kd(),o=0,s=this.fd.size;o<s;o++){var c=this.fd.get(o);if(-1!=c){var u=this.a.T(c);this.a.w(c,r),(t?r.y==n:r.x==n)&&(this.a.w(u,r),(t?r.y==n:r.x==n)&&(-2!=this.a.Na(c,a)&&(i.add(c),this.a.Qa(c,a,-2)),-2!=this.a.Na(u,a)&&(i.add(u),this.a.Qa(u,a,-2))))}}if(0!=i.size){var l=this;for(i.Zd(0,i.size,(function(e,t){return l.Qh(e,t)})),o=0,s=i.size;o<s;o++){var h=i.get(o);this.a.Qa(h,a,o)}c=new e.b,(u=new e.b).Tc();var f=-1;for(o=0,s=i.size;o<s;o++)if(-1!=(h=i.get(o))&&(this.a.w(h,r),!r.qb(u))){if(-1!=f)for(;;){h=!1;for(var d=1<o-f?o-1:o,p=f;p<d;p++){var b=i.get(p);if(-1!=b){var v=-1,y=this.a.T(b);0>this.Qh(b,y)&&(this.a.w(y,c),t?c.y==n:c.x==n)&&(v=y),y=-1;var m=this.a.Ma(b);if(0>this.Qh(b,m)&&(this.a.w(m,c),t?c.y==n:c.x==n)&&(y=m),-1!=v&&-1!=y)this.Oh(b,i,a),this.a.od(b,!1),this.Oh(v,i,a),this.a.od(v,!1),h=!0;else if(-1!=v||-1!=y){for(m=p+1;m<o;m++){var g=i.get(m);if(-1!=g){var O=this.a.T(g),j=-1;0>this.Qh(g,O)&&(this.a.w(O,c),t?c.y==n:c.x==n)&&(j=O),O=this.a.Ma(g);var w=-1;if(0>this.Qh(g,O)&&(this.a.w(O,c),t?c.y==n:c.x==n)&&(w=O),-1!=j&&-1!=w){this.Oh(g,i,a),this.a.od(g,!1),this.Oh(j,i,a),this.a.od(j,!1),h=!0;break}if(-1!=v&&-1!=w){this.ju(i,b,v,g,w,a),h=!0;break}if(-1!=y&&-1!=j){this.ju(i,g,j,b,y,a),h=!0;break}}}if(h)break}}}if(!h)break}f=o,u.K(r)}}this.a.Xd(a)},t.prototype.Oh=function(e,t,n){n=this.a.Na(e,n),t.set(n,-1),n=this.a.Na(e,this.si),this.fd.set(n,-1),-1!=(t=this.a.cd(e))&&this.a.Za(t)==e&&(this.a.Sf(t,-1),this.a.dh(t,-1))},t.prototype.ju=function(e,t,n,r,i,a){this.a.Dc(t,r),this.a.Ec(r,t),this.a.Ec(n,i),this.a.Dc(i,n),this.Oh(r,e,a),this.a.ui(r,!1),this.Oh(i,e,a),this.a.ui(i,!0)},t.prototype.zz=function(){for(var e=0,t=this.fd.size;e<t;e++){var n=this.fd.get(e);-1!=n&&this.a.hj(n,-1)}for(var r=0,i=0,a=this.a.Kb(this.W);-1!=a;){var o=this.a.Za(a);if(-1==o||a!=this.a.cd(o)){var s=a;a=this.a.Qb(a),this.a.Sf(s,-1),this.a.tr(s)}else{n=o,s=0;do{this.a.hj(n,a),s++,n=this.a.T(n)}while(n!=o);2>=s?(n=this.a.Na(o,this.si),this.fd.set(n,-1),o=this.a.od(o,!1),2==s&&(n=this.a.Na(o,this.si),this.fd.set(n,-1),this.a.od(o,!1)),s=a,a=this.a.Qb(a),this.a.Sf(s,-1),this.a.tr(s)):(this.a.sp(a,!1),this.a.dh(a,this.a.Ma(o)),this.a.Wj(a,s),i+=s,r++,a=this.a.Qb(a))}}for(e=0,t=this.fd.size;e<t;e++)if(-1!=(n=this.fd.get(e))&&-1==(a=this.a.cd(n))){a=this.a.Ef(this.W,-1),s=0,o=n;do{this.a.hj(n,a),s++,n=this.a.T(n)}while(n!=o);2>=s?(n=this.a.Na(o,this.si),this.fd.set(n,-1),o=this.a.od(o,!1),2==s&&(0<=(n=this.a.Na(o,this.si))&&this.fd.set(n,-1),this.a.od(o,!1)),s=a,this.a.Sf(s,-1),this.a.tr(s)):(this.a.An(a,!0),this.a.Wj(a,s),this.a.Sf(a,o),this.a.dh(a,this.a.Ma(o)),this.a.sp(a,!1),i+=s,r++)}for(this.a.bm(this.W,r),this.a.Uj(this.W,i),e=0,t=this.a.kd;-1!=t;t=this.a.Ae(t))e+=this.a.D(t);this.a.JC(e)},t.gz=function(e,n,r){return new t(n).fz(e,r)},t.clip=function(n,r,i,a){if(n.u())return n;if(r.u())return n.Ga();if(33==(i=n.F()))return a=n.w(),r.contains(a)?n:n.Ga();if(197==i)return a=new e.g,n.s(a),a.Ia(r)?(r=new e.Ih,n.copyTo(r),r.mp(a),r):n.Ga();var o=new e.g;if(n.Zb(o),r.contains(o))return n;if(!r.isIntersecting(o))return n.Ga();if(null!=(o=n.ib)&&null!=(o=o.oi)){if(1==(o=o.rn(r))){if(1736!=i)throw e.f.za();return(n=new e.Fa(n.description)).Np(r),n}if(0==o)return n.Ga()}switch(i){case 550:i=null,o=n.D();for(var s=n.Va(0),c=0,u=0;u<o;u++)a=new e.b,s.mc(2*u,a),r.contains(a)||(0==c&&(i=n.Ga()),c<u&&i.yd(n,c,u),c=u+1);return 0<c&&i.yd(n,c,o),0==c?n:i;case 1736:case 1607:return t.gz(n,r,a);default:throw e.f.za()}},t.prototype.Qh=function(t,n){var r=new e.b;return this.a.w(t,r),t=new e.b,this.a.w(n,t),r.compare(t)},t}();e.Yd=t}(Y||(Y={})),function(e){var t=function(){function t(t,n){this.Da=t,this.a=new e.Yc,this.fd=new e.ha(0),this.md=n}return t.prototype.Ph=function(e,t,n){switch(t){case 0:if(e.o<n&&e.v<=n)break;return e.o>=n?1:-1;case 1:if(e.A<n&&e.B<=n)break;return e.A>=n?1:-1;case 2:if(e.o>=n&&e.v>n)break;return e.v<=n?1:-1;case 3:if(!(e.A>=n&&e.B>n))return e.B<=n?1:-1}return 0},t.prototype.fz=function(e,t){return 1736==e.F()?this.hz(e,t):this.iz(e)},t.prototype.hz=function(t,n){if(0==this.Da.N()||0==this.Da.ca())return t.Ga();var r=new e.g;t.Zb(r),this.W=this.a.Bb(t);var i=new e.g,a=new e.g,o=new e.b,s=new e.b,c=[0,0,0,0,0,0,0,0,0],u=[0,0,0,0,0,0,0,0,0],l=new e.zb,h=new e.ha(0);h.Db(256);for(var f=!1,d=0;!f&&4>d;d++){var p=!1,b=0!=(1&d),v=0;switch(d){case 0:v=this.Da.o,p=r.o<=v&&r.v>=v;break;case 1:v=this.Da.A,p=r.A<=v&&r.B>=v;break;case 2:v=this.Da.v,p=r.o<=v&&r.v>=v;break;case 3:v=this.Da.B,p=r.A<=v&&r.B>=v}if(p)for(f=!0,p=this.a.Kb(this.W);-1!=p;){var y=!0,m=-1,g=-1,O=this.a.Za(p),j=O;do{var w=this.a.ec(j);null==w&&(w=l,this.a.w(j,o),w.Fc(o),this.a.w(this.a.T(j),s),w.Sc(s)),w.s(i);var _=this.Ph(i,d,v),x=0,k=-1;if(-1==_){x=0<(w=w.uq(b,v,c,u))?this.a.qZ(j,u,w):0,x+=1;var S=j,E=this.a.T(S);for(w=0;w<x;w++){if(this.a.w(S,o),this.a.w(E,s),null==(k=this.a.ec(S))&&((k=l).Fc(o),k.Sc(s)),k.s(a),-1==(k=this.Ph(a,d,v))){if(b)(k=Math.abs(o.y-v))<(T=Math.abs(s.y-v))?(o.y=v,this.a.wf(S,o)):(s.y=v,this.a.wf(E,s));else{k=Math.abs(o.x-v);var T=Math.abs(s.x-v);k<T?(o.x=v,this.a.wf(S,o)):(s.x=v,this.a.wf(E,s))}null==(k=this.a.ec(S))&&((k=l).Fc(o),k.Sc(s)),k.s(a),k=this.Ph(a,d,v)}T=m,m=k,-1==g&&(g=m),0==T&&1==m||1==T&&0==m||0!=T||0!=m||h.add(S),1==m&&(y=f=!1),k=S=E,E=this.a.T(E)}}if(0==x&&(T=m,m=_,-1==g&&(g=m),0==T&&1==m||1==T&&0==m||0!=T||0!=m||h.add(j),1==m&&(y=f=!1),k=this.a.T(j)),j=k,256<=h.size){for(w=1,_=h.size-1;w<_;w++)x=h.get(w),this.a.od(x,!1);h.set(1,h.Gc()),h.Gh(2)}}while(j!=O);if(!y)for(0==g&&0==m&&h.add(O),w=0,_=h.size;w<_;w++)x=h.get(w),this.a.od(x,!1);h.clear(!1),p=y||0==this.a.Ha(p)?this.a.sr(p):this.a.Qb(p)}}return f?t.Ga():(this.pC(),0<n&&this.rz(n),this.a.ye(this.W))},t.prototype.iz=function(t){var n=new e.g,r=new e.g,i=[0,0,0,0,0,0,0,0,0],a=[0,0,0,0,0,0,0,0,0],o=new e.og,s=t,c=new e.g;t.Zb(c);for(var u=new e.b,l=new e.b,h=null,f=null,d=0;4>d;d++){var p=!1,b=0!=(1&d),v=0;switch(d){case 0:v=this.Da.o,p=c.o<=v&&c.v>=v;break;case 1:v=this.Da.A,p=c.A<=v&&c.B>=v;break;case 2:v=this.Da.v,p=c.o<=v&&c.v>=v;break;case 3:v=this.Da.B,p=c.A<=v&&c.B>=v}if(p)for(p=s,s=t.Ga(),(p=p.Ba()).ej();p.Ta();)for(var y,m=!0;p.Aa();){var g=p.aa();g.s(n);var O=this.Ph(n,d,v);if(-1==O){if(0<(O=g.uq(b,v,i,a))){var j=0;g.qq(u);for(var w=0;w<=O;w++)if(j!=(y=w<O?a[w]:1)){g.jh(j,y,o);var _=o.get();_.Fc(u),w<O&&(b?(l.x=i[w],l.y=v):(l.x=v,l.y=i[w]),_.Sc(l)),_.s(r);var x=this.Ph(r,d,v);-1==x&&(null==h&&(h=new e.b),null==f&&(f=new e.b),_.qq(h),_.vs(f),b?(j=Math.abs(h.y-v))<(x=Math.abs(f.y-v))?(h.y=v,_.Fc(h)):(f.y=v,_.Sc(f)):(j=Math.abs(h.x-v))<(x=Math.abs(f.x-v))?(h.x=v,_.Fc(h)):(f.x=v,_.Sc(f)),_.s(r),x=this.Ph(r,d,v)),_.vs(u),j=y,1==(y=x)?(s.$b(_,m),m=!1):m=!0}}}else 1==(y=O)?(s.$b(g,m),m=!1):m=!0}}return s},t.prototype.pC=function(){this.si=-1,this.fm(!1,this.Da.o),this.fm(!1,this.Da.v),this.fm(!0,this.Da.A),this.fm(!0,this.Da.B),this.fd.resize(0),this.fd.Db(100),this.si=this.a.Kd();for(var t=new e.b,n=this.a.Kb(this.W);-1!=n;n=this.a.Qb(n))for(var r=this.a.Za(n),i=0,a=this.a.Ha(n);i<a;i++,r=this.a.T(r))this.a.w(r,t),(this.Da.o==t.x||this.Da.v==t.x||this.Da.A==t.y||this.Da.B==t.y)&&(this.a.Qa(r,this.si,this.fd.size),this.fd.add(r));this.Yl(!1,this.Da.o),this.Yl(!1,this.Da.v),this.Yl(!0,this.Da.A),this.Yl(!0,this.Da.B),this.zz()},t.prototype.rz=function(t){for(var n=new e.b,r=new e.b,i=null,a=null,o=e.L.Xf(2048,0),s=this.a.Kb(this.W);-1!=s;s=this.a.Qb(s)){var c=this.a.Za(s),u=c;do{var l=this.a.T(u);this.a.w(u,n);var h=-1;if(n.x==this.Da.o?(this.a.w(l,r),r.x==this.Da.o&&(h=1)):n.x==this.Da.v&&(this.a.w(l,r),r.x==this.Da.v&&(h=1)),n.y==this.Da.A?(this.a.w(l,r),r.y==this.Da.A&&(h=0)):n.y==this.Da.B&&(this.a.w(l,r),r.y==this.Da.B&&(h=0)),-1!=h){if(null==i&&(i=new e.b),null==a&&(a=new e.b),i.K(n),a.ka(0,0),0==h){var f=n.x-this.Da.o;a.x=e.Tb.sign(r.x-n.x),i.x=t*e.Tb.hl(Math.floor(Math.abs(f/t)),f)+this.Da.o,0>i.x&&(i.x+=t)}else f=n.y-this.Da.A,a.y=e.Tb.sign(r.y-n.y),i.y=t*e.Tb.hl(Math.floor(Math.abs(f/t)),f)+this.Da.A,0>i.y&&(i.y+=t);f=0!=h?r.y-n.y:r.x-n.x;var d=Math.abs(f);if(65536<d/t)throw e.f.Y("internal error");if(0<d){d=e.L.truncate(d/t)+2,o.length<d&&(o=e.L.Xf(d));for(var p=d=0;;p++){var b=new e.b;if(b.x=i.x+a.x*p*t,b.y=i.y+a.y*p*t,1<=(b=(0!=h?b.y-n.y:b.x-n.x)/f))break;0>=b||(o[d]=b,d++)}0!=d&&this.a.em(u,o,d)}}u=l}while(u!=c)}},t.prototype.fm=function(t,n){for(var r=-1,i=new e.b,a=null,o=this.a.Kb(this.W);-1!=o;o=this.a.Qb(o))for(var s=this.a.Za(o),c=0,u=this.a.Ha(o);c<u;c++){var l=this.a.T(s);this.a.w(s,i),(t?i.y==n:i.x==n)&&(this.a.w(l,i),(t?i.y==n:i.x==n)&&(-1==r&&(r=this.a.Kd()),null==a&&(a=new e.ha(0)).Db(100),1!=this.a.Na(s,r)&&(a.add(s),this.a.Qa(s,r,1)),1!=this.a.Na(l,r)&&(a.add(l),this.a.Qa(l,r,1)))),s=l}if(-1!=r&&this.a.Xd(r),!(null==a||3>a.size)){var h=this;a.Zd(0,a.size,(function(e,t){return h.Qh(e,t)})),r=new e.b,o=new e.b,s=new e.b,o.Tc();var f=-1;c=new e.ha(0),u=new e.ha(0),l=null;for(var d=this.a.Kd(),p=this.a.Kd(),b=0,v=a.size;b<v;b++){var y=a.get(b);if(this.a.w(y,i),!i.qb(o)){if(-1!=f){for(var m=f;m<b;m++){f=a.get(m);var g=this.a.T(f);y=this.a.Ma(f);var O=!1;this.a.w(g,r),0>o.compare(r)&&(t?r.y==n:r.x==n)&&(c.add(f),O=!0,this.a.Qa(f,p,1)),this.a.w(y,r),0>o.compare(r)&&(t?r.y==n:r.x==n)&&(O||c.add(f),this.a.Qa(f,d,1))}for(m=0,O=c.size;m<O;m++){if(f=c.get(m),y=this.a.Na(f,d),g=this.a.Na(f,p),1==y&&(y=this.a.Ma(f),this.a.w(y,s),!s.qb(i))){null==l&&(l=[]);var j=e.b.vb(o,s);l[0]=e.b.vb(s,i)/j,0==l[0]?l[0]=2220446049250313e-31:1==l[0]&&(l[0]=.9999999999999998),this.a.em(y,l,1),y=this.a.Ma(f),this.a.wf(y,i),u.add(y),this.a.Qa(y,d,1),this.a.Qa(y,p,-1)}1==g&&(g=this.a.T(f),this.a.w(g,s),s.qb(i)||(null==l&&(l=[]),j=e.b.vb(o,s),l[0]=e.b.vb(o,i)/j,0==l[0]?l[0]=2220446049250313e-31:1==l[0]&&(l[0]=.9999999999999998),this.a.em(f,l,1),y=this.a.T(f),this.a.wf(y,i),u.add(y),this.a.Qa(y,d,-1),this.a.Qa(y,p,1)))}f=c,c=u,(u=f).clear(!1)}f=b,o.K(i)}}this.a.Xd(d),this.a.Xd(p)}},t.prototype.Yl=function(t,n){for(var r=new e.b,i=null,a=-1,o=0,s=this.fd.size;o<s;o++){var c=this.fd.get(o);if(-1!=c){var u=this.a.T(c);this.a.w(c,r),(t?r.y==n:r.x==n)&&(this.a.w(u,r),(t?r.y==n:r.x==n)&&(-1==a&&(a=this.a.Kd()),null==i&&(i=new e.ha(0)).Db(100),-2!=this.a.Na(c,a)&&(i.add(c),this.a.Qa(c,a,-2)),-2!=this.a.Na(u,a)&&(i.add(u),this.a.Qa(u,a,-2))))}}if(null==i)-1!=a&&this.a.Xd(a);else{var l=this;for(i.Zd(0,i.size,(function(e,t){return l.Qh(e,t)})),o=0,s=i.size;o<s;o++){var h=i.get(o);this.a.Qa(h,a,o)}c=new e.b,(u=new e.b).Tc();var f=-1;for(o=0,s=i.size;o<s;o++)if(-1!=(h=i.get(o))&&(this.a.w(h,r),!r.qb(u))){if(-1!=f)for(;;){h=!1;for(var d=1<o-f?o-1:o,p=f;p<d;p++){var b=i.get(p);if(-1!=b){var v=-1,y=this.a.T(b);this.a.w(y,c),0>u.compare(c)&&(t?c.y==n:c.x==n)&&(v=y),y=-1;var m=this.a.Ma(b);if(this.a.w(m,c),0>u.compare(c)&&(t?c.y==n:c.x==n)&&(y=m),-1!=v&&-1!=y)this.Oh(b,i,a),this.a.od(b,!1),this.Oh(v,i,a),this.a.od(v,!1),h=!0;else if(-1!=v||-1!=y){for(m=p+1;m<o;m++){var g=i.get(m);if(-1!=g){var O=this.a.T(g),j=-1;this.a.w(O,c),0>u.compare(c)&&(t?c.y==n:c.x==n)&&(j=O),O=this.a.Ma(g);var w=-1;if(this.a.w(O,c),0>u.compare(c)&&(t?c.y==n:c.x==n)&&(w=O),-1!=j&&-1!=w){this.Oh(g,i,a),this.a.od(g,!1),this.Oh(j,i,a),this.a.od(j,!1),h=!0;break}if(-1!=v&&-1!=w){this.ju(i,b,v,g,w,a),h=!0;break}if(-1!=y&&-1!=j){this.ju(i,g,j,b,y,a),h=!0;break}}}if(h)break}}}if(!h)break}f=o,u.K(r)}this.a.Xd(a)}},t.prototype.Oh=function(e,t,n){n=this.a.Na(e,n),t.set(n,-1),n=this.a.Na(e,this.si),this.fd.set(n,-1),-1!=(t=this.a.cd(e))&&this.a.Za(t)==e&&(this.a.Sf(t,-1),this.a.dh(t,-1))},t.prototype.ju=function(e,t,n,r,i,a){this.a.Dc(t,r),this.a.Ec(r,t),this.a.Ec(n,i),this.a.Dc(i,n),this.Oh(r,e,a),this.a.ui(r,!1),this.Oh(i,e,a),this.a.ui(i,!0)},t.prototype.zz=function(){for(var e=0,t=this.fd.size;e<t;e++){var n=this.fd.get(e);-1!=n&&this.a.hj(n,-1)}for(var r=0,i=0,a=this.a.Kb(this.W);-1!=a;){var o=this.a.Za(a);if(-1==o||a!=this.a.cd(o)){var s=a;a=this.a.Qb(a),this.a.Sf(s,-1),this.a.tr(s)}else{n=o,s=0;do{this.a.hj(n,a),s++,n=this.a.T(n)}while(n!=o);this.a.sp(a,!1),this.a.dh(a,this.a.Ma(o)),this.a.Wj(a,s),i+=s,r++,a=this.a.Qb(a)}}for(e=0,t=this.fd.size;e<t;e++)if(-1!=(n=this.fd.get(e))&&-1==(a=this.a.cd(n))){a=this.a.Ef(this.W,-1),s=0,o=n;do{this.a.hj(n,a),s++,n=this.a.T(n)}while(n!=o);2>=s?(n=this.a.Na(o,this.si),this.fd.set(n,-1),o=this.a.od(o,!1),2==s&&(0<=(n=this.a.Na(o,this.si))&&this.fd.set(n,-1),this.a.od(o,!1)),s=a,this.a.Sf(s,-1),this.a.tr(s)):(this.a.An(a,!0),this.a.Wj(a,s),this.a.Sf(a,o),this.a.dh(a,this.a.Ma(o)),this.a.sp(a,!1),i+=s,r++)}for(this.a.bm(this.W,r),this.a.Uj(this.W,i),e=0,t=this.a.kd;-1!=t;t=this.a.Ae(t))e+=this.a.D(t);this.a.JC(e)},t.gz=function(e,n,r,i){return new t(n,i).fz(e,r)},t.clip=function(e,n,r,i,a){return t.Tp(e,n,null,r,i,a)},t.Tp=function(n,r,i,a,o,s){var c=n.F();if(33==c)return o=n.w(),r.contains(o)?n:n.Ga();if(197==c)return o=new e.g,n.s(o),o.Ia(r)?(r=new e.Ih,n.copyTo(r),r.mp(o),r):n.Ga();if(n.u())return n;if(r.u())return n.Ga();var u=new e.g;if(n.Zb(u),r.contains(u))return n;if(!r.isIntersecting(u))return n.Ga();if((null!=i||isNaN(a))&&e.la.Yy(i,r,!1),!e.R.Rg(c))throw e.f.I();if(null!=(i=n.ib)&&null!=(i=i.oi)){if(1==(i=i.rn(r))){if(1736!=c)throw e.f.Y("internal error");return(n=new e.Fa(n.description)).Np(r),n}if(0==i)return n.Ga()}switch(c){case 550:for(s=null,c=n.D(),i=n.Va(0),a=0,o=new e.b,u=0;u<c;u++)i.mc(2*u,o),r.contains(o)||(0==a&&(s=n.Ga()),a<u&&s.yd(n,a,u),a=u+1);return 0<a&&s.yd(n,a,c),0==a?n:s;case 1736:case 1607:return t.gz(n,r,o,s);default:throw e.f.Y("internal error")}},t.prototype.Qh=function(t,n){var r=new e.b;return this.a.w(t,r),t=new e.b,this.a.w(n,t),r.compare(t)},t}();e.fh=t}(Y||(Y={})),function(e){var t=new e.b,n=function(){function t(t,n,r,i,a){this.bn=new e.b,this.Lk=new e.b,this.Vi=new e.b,this.a=t,this.hx=r,this.Go=i,this.bn=n,this.Hl=a,this.Lk.Tc(),this.Vi.Tc()}return t.prototype.iF=function(t){this.a.w(t,this.Lk),t=e.L.truncate((this.Lk.x-this.bn.x)*this.Go+.5);var n=e.L.truncate((this.Lk.y-this.bn.y)*this.Go+.5);return r.WG(t,n)},t.prototype.Tz=function(e){return this.a.Na(e,this.Hl)},t.prototype.vz=function(e,t){return this.a.w(e,this.Lk),this.a.w(t,this.Vi),r.iw(this.Lk.x,this.Lk.y,this.Vi.x,this.Vi.y,this.hx)},t}();e.ZZ=function(){};var r=function(){function r(){this.bn=new e.b,this.Iq=[0,0,0,0],this.ft=[0,0,0,0],this.Jo=this.Hl=-1}return r.uR=function(e,t){var n=new r;return n.a=e,n.qa=t,n.hx=t*t,n.Gw=2*t,n.Go=1/n.Gw,n.LP()},r.iw=function(e,t,n,r,i){return(e-=n)*e+(t-=r)*t<=i},r.WG=function(t,n){return e.L.Zh(n,e.L.Zh(t))},r.prototype.NP=function(n,i){this.a.Hc(n,t);for(var a=(t.y-this.bn.y)*this.Go,o=e.L.truncate((t.x-this.bn.x)*this.Go),s=e.L.truncate(a),c=a=0;1>=c;c+=1)for(var u=0;1>=u;u+=1){var l=r.WG(o+c,s+u),h=this.Gl.ES(l);-1!=h&&(this.Iq[a]=h,this.ft[a]=l,a++)}for(o=a-1;1<=o;o--)for(h=this.Iq[o],s=o-1;0<=s;s--)if(h==this.Iq[s]){this.ft[s]=-1,o!=--a&&(this.ft[o]=this.ft[a],this.Iq[o]=this.Iq[a]);break}for(s=0;s<a;s++)this.OP(n,this.ft[s],t,this.Iq[s],i)},r.prototype.OP=function(t,n,i,a,o){for(var s=new e.b;-1!=a;a=this.Gl.US(a)){var c=this.Gl.ga(a);t==c||-1!=n&&this.a.Na(c,this.Hl)!=n||(this.a.Hc(c,s),r.iw(i.x,i.y,s.x,s.y,this.hx)&&o.add(a))}},r.prototype.ln=function(e,t,n){var r=this.a.Na(e,this.Jo),i=this.a.Na(t,this.Jo);return-1==r&&(r=this.Cd.Th(),this.Cd.addElement(r,e),this.a.Qa(e,this.Jo,r)),-1==i?this.Cd.addElement(r,t):this.Cd.lz(r,i),this.a.Qa(t,this.Jo,-2),t=this.qV(e,t),n&&(n=this.Rw.iF(e),this.a.Qa(e,this.Hl,n)),t},r.oV=function(t,n,i){t.Ib(n),i=t;var a=new e.b;r.pV(t.w(),n.w(),a),i.nb(a)},r.pV=function(e,t,n){var r=e.x;e.x!=t.x&&(r=(1*e.x+1*t.x)/2);var i=e.y;e.y!=t.y&&(i=(1*e.y+1*t.y)/2),n.ka(r,i)},r.prototype.qV=function(t,n){var r=new e.b;this.a.w(t,r);var i=new e.b;this.a.w(n,i);var a=this.a.OG(t),o=a+(n=this.a.OG(n)),s=0,c=r.x;r.x!=i.x&&(c=(r.x*a+i.x*n)/o,s++);var u=r.y;return r.y!=i.y&&(u=(r.y*a+i.y*n)/o,s++),0<s&&this.a.nb(t,c,u),this.a.ZY(t,o),0!=s},r.prototype.LP=function(){var t=this.a.pd,r=this.a.uG();for(this.bn=r.Wz(),r=Math.max(r.ca(),r.N())/2147483646,this.Gw<r&&(this.Gw=r,this.Go=1/this.Gw),this.Cd=new e.Hu,this.Cd.ku(e.L.truncate(this.a.pd/3+1)),this.Cd.vn(e.L.truncate(this.a.pd/3+1)),this.Hl=this.a.Kd(),this.Jo=this.a.Kd(),this.Rw=new n(this.a,this.bn,this.hx,this.Go,this.Hl),this.Gl=new e.nM(e.L.truncate(4*t/3),this.Rw),this.Gl.fY(this.a.pd),t=!1,r=this.a.kd;-1!=r;r=this.a.Ae(r))for(var i=this.a.Kb(r);-1!=i;i=this.a.Qb(i))for(var a=this.a.Za(i),o=0,s=this.a.Ha(i);o<s;o++){var c=this.Rw.iF(a);this.a.Qa(a,this.Hl,c),this.Gl.addElement(a,c),a=this.a.T(a)}var u=new e.ha(0);for(u.Db(10),r=this.a.kd;-1!=r;r=this.a.Ae(r))for(i=this.a.Kb(r);-1!=i;i=this.a.Qb(i))for(a=this.a.Za(i),o=0,s=this.a.Ha(i);o<s;o++){if(-2!=this.a.Na(a,this.Jo))for(c=this.a.Na(a,this.Hl),this.Gl.hd(a,c);this.NP(a,u),0!=u.size;){c=!1;for(var l=0,h=u.size;l<h;l++){var f=u.get(l),d=this.Gl.ga(f);this.Gl.zd(f),c=this.ln(a,d,l+1==h)||c}if(t=t||c,u.clear(!1),!c)break}a=this.a.T(a)}return t&&this.GO(),this.Rw=this.Gl=null,this.a.Xd(this.Hl),this.a.Xd(this.Jo),t},r.prototype.GO=function(){for(var t=new e.b,n=this.Cd.re;-1!=n;n=this.Cd.$z(n)){var r=this.Cd.sc(n);for(this.a.w(this.Cd.ga(r),t),r=this.Cd.hb(r);-1!=r;r=this.Cd.hb(r))this.a.wf(this.Cd.ga(r),t)}},r}();e.Eu=r}(Y||(Y={})),function(e){var t=function(){function t(e){void 0===e&&(e=null),this.uf=null,this.Mb=!1,this.uf=null===e?[]:e}return t.prototype.copyTo=function(t){if(t.Mb)throw e.f.Y("CompositeGeographicTransformation is read-only");for(var n=0;n<this.uf.length;n++)t.uf.push(this.uf[n].Cf())},t.prototype.count=function(){return this.uf.length},t.prototype.GS=function(e){return this.uf[e]},t.prototype.add=function(t){if(this.Mb)throw e.f.Y("CompositeGeographicTransformation is read-only");this.uf.push(t.Cf())},t.prototype.clear=function(){if(this.Mb)throw e.f.Y("CompositeGeographicTransformation is read-only");this.uf.length=0},t.prototype.remove=function(t){if(this.Mb)throw e.f.Y("CompositeGeographicTransformation is read-only");this.uf.splice(t,1)},t.prototype.Qv=function(){for(var e=this.$d(),t=0;t<e.count();t++)e.GS(t).Xs();return e.uf=e.uf.reverse(),e},t.prototype.$d=function(){var e=new t;return this.copyTo(e),e},t.prototype.Cf=function(){return this.$d()},t.prototype.transform=function(t,n,r,i){if(t.length<n)throw e.f.Y("invalid Argument");var a=r;for(r=0;r<this.uf.length;r++){var o=this.uf[r];if(null!=o.Bm()){var s=o.no,c=s?1:0,u=s?o.Bm().getGeogcs2():o.Bm().getGeogcs1();if(u=a/(u=u.getUnit().getUnitFactor()),3552713678800501e-30<Math.abs(u-1))for(a=0;a<n;a++)t[a][0]*=u,t[a][1]*=u;e.tD.geogToGeog(o.Bm(),n,t,null,c),a=(s?o.Bm().getGeogcs1():o.Bm().getGeogcs2()).getUnit().getUnitFactor()}}if(u=a/i,3552713678800501e-30<Math.abs(u-1))for(a=0;a<n;a++)t[a][0]*=u,t[a][1]*=u;return n},t.prototype.Ib=function(e){if(e==this)return!0;if(!(e instanceof t)||this.uf.length!=e.uf.length)return!1;for(var n=0;n<this.uf.length;n++)if(!this.uf[n].Ib(e.uf[n]))return!1;return!0},t.prototype.Px=function(){this.Mb=!0},t.prototype.toString=function(){for(var e="CGT ("+this.count()+") ",t=0,n=this.count();t<n;++t)e+=this.uf[t].toString()+", ";return 200<e.length?e.substring(0,197)+"... ("+e.length.toString()+" characters)":e},t.create=function(){return new t},t.N_=function(n,r){var i=new t;return i.add(e.Hn.create(n,r)),i},t.O_=function(n,r){var i=new t;return i.add(e.Hn.LF(n,r)),i},t}();e.hy=t}(Y||(Y={})),function(e){var t,n=Math.PI,r=2*Math.PI,i=Math.PI/2,a=function(){function e(){}return e.cQ=function(t,n){var r=new e;return r.x=t,r.y=n,r.type=0,r.$h=0,r},e.gl=function(t){var n=new e;return n.x=t.x,n.y=t.y,n.type=0,n.$h=0,n},e.bQ=function(t){var n=new e;return n.x=t.x,n.y=t.y,n.type=t.type,n.$h=t.$h,n},e.Rd=function(t,n,r){var i=new e;return i.x=t.x+n*Math.cos(r),i.y=t.y+n*Math.sin(r),i.type=t.type,i.$h=t.$h,i},e.wv=function(t,n){var r=new e;return r.x=.5*(t.x+n.x),r.y=.5*(t.y+n.y),r.type=t.type,r.$h=t.$h,r},e.EF=function(t,n){var r=new e;return r.x=t.x+.001*(n.x-t.x),r.y=t.y+.001*(n.y-t.y),r.type=t.type,r.$h=t.$h,r},e}(),o=function(){};(t=e.pM||(e.pM={}))[t.Round=0]="Round",t[t.Bevel=1]="Bevel",t[t.Miter=2]="Miter",t[t.Square=3]="Square";var s=function(){function t(e){this.wB=this.Yb=this.Dg=null,this.md=e}return t.U=function(n,r,i,a,o,s){if(null==n)throw e.f.I();if(1>n.pb())throw e.f.I();return 0==r||n.u()?n:((s=new t(s)).Do=n,s.La=r,s.qa=o,s.Qi=i,s.lB=a,s.wy())},t.prototype.lN=function(){var t=this.Do,n=t.ac(),r=t.wc(),i=new e.b;return i.tc(r,n),i.normalize(),i.ow(),i.scale(this.La),n.add(i),r.add(i),i=t.Ga(),t.Fc(n),t.Sc(r),i},t.prototype.kN=function(){var t=this.Do;if(0<this.La&&2!=this.Qi){var n=new e.Fa;return n.bd(t,!1),this.Do=n,this.wy()}return(t=new e.Ih(t.X)).O(this.La,this.La),t},t.prototype.xK=function(e,t,n,r){return(t.x-e.x)*(r.x-n.x)+(t.y-e.y)*(r.y-n.y)},t.prototype.jc=function(e,t){if(void 0===t)this.Yb.push(e),this.qf++;else if(0==this.qf)this.jc(e);else{var n=this.ix,r=this.Dg[0==t?n-1:t-1],o=this.Dg[t],s=this.xK(r,o,this.Yb[this.qf-1],e);0<s?this.jc(e):0>s&&(0<this.xK(r,o,o,this.Yb[this.qf-1])?(o=this.Dg[0==t?n-2:1==t?n-1:t-2],n=a.Rd(r,this.La,Math.atan2(r.y-o.y,r.x-o.x)-i),this.Yb[this.qf-1]=n,1==this.Qi||2==this.Qi?(n=a.wv(n,r),this.jc(n),n=a.Rd(r,this.La,this.qw+i),(r=a.wv(n,r)).type|=256,this.jc(r)):(n=a.Rd(r,this.La,this.qw+i)).type|=256,this.jc(n),this.jc(e,t)):(n=a.Rd(o,this.La,this.qw+i),this.jc(n),1==this.Qi||2==this.Qi?(n=a.wv(n,o),this.jc(n),n=a.Rd(o,this.La,this.LA-i),(r=a.wv(n,o)).type|=256,this.jc(r)):(n=a.Rd(o,this.La,this.LA-i)).type|=256,this.jc(n)))}},t.prototype.ZE=function(){var t,o=this.ix;this.qf=0;var s=.5*this.qa,c=0,u=0;for(t=0;t<o;t++){var l=this.Dg[t],h=0==t?this.Dg[o-1]:this.Dg[t-1],f=t==o-1?this.Dg[0]:this.Dg[t+1],d=h.x-l.x,p=h.y-l.y,b=f.x-l.x,v=f.y-l.y,y=Math.atan2(p,d),m=Math.atan2(v,b);if(this.qw=y,this.LA=m,0==t&&(c=y,u=m),d=d*v-b*p,p=m,m<y&&(m+=r),0<d*this.La)1==this.Qi||2==this.Qi?(y=a.Rd(l,this.La,y+i),this.jc(y),y=a.EF(l,y),this.jc(y),y=a.Rd(l,this.La,m-i),(l=a.EF(l,y)).type|=256,this.jc(l),this.jc(y)):(d=.5*(m-y),d=this.La/Math.abs(Math.sin(d)),y=a.Rd(l,d,.5*(y+m)),this.jc(y,t));else if(0!=(512&l.type)){for(d=1-s/Math.abs(this.La),h=1,f=0>this.La?-n:n,-1<d&&1>d&&(.017453292519943295>(p=2*Math.acos(d))&&(p=.017453292519943295),1<(h=e.L.truncate(n/p+1.5))&&(f/=h)),p=y+i,y=a.Rd(l,this.La,p),0==t&&(y.type|=1024),this.jc(y,t),d=this.La/Math.cos(f/2),p+=f/2,(y=a.Rd(l,d,p)).type|=1024,this.jc(y);0<--h;)p+=f,(y=a.Rd(l,d,p)).type|=1024,this.jc(y);(y=a.Rd(l,this.La,m-i)).type|=1024,this.jc(y)}else if(1==this.Qi)y=a.Rd(l,this.La,y+i),this.jc(y,t),y=a.Rd(l,this.La,m-i),this.jc(y);else if(0==this.Qi)for(d=1-s/Math.abs(this.La),h=1,f=m-i-(y+i),-1<d&&1>d&&(.017453292519943295>(p=2*Math.acos(d))&&(p=.017453292519943295),1<(h=e.L.truncate(Math.abs(f)/p+1.5))&&(f/=h)),d=this.La/Math.cos(.5*f),p=y+i+.5*f,y=a.Rd(l,d,p),this.jc(y,t);0<--h;)p+=f,y=a.Rd(l,d,p),this.jc(y);else 2==this.Qi?(d=h.x-l.x,p=h.y-l.y,.99999999<(h=(d*(b=f.x-l.x)+p*(v=f.y-l.y))/Math.sqrt(d*d+p*p)/Math.sqrt(b*b+v*v))?(y=a.Rd(l,1.4142135623730951*this.La,m-.25*n),this.jc(y,t),y=a.Rd(l,1.4142135623730951*this.La,m+.25*n),this.jc(y)):(h=Math.abs(this.La/Math.sin(.5*Math.acos(h))))>(f=Math.abs(this.lB*this.La))?(d=.5*(m-y),d=this.La/Math.abs(Math.sin(d)),y=a.Rd(l,d,.5*(y+m)),m=e.b.construct(y.x,y.y),y=e.b.construct(l.x,l.y),(l=new e.b).tc(m,y),(m=new e.b).mY(f/l.length(),l,y),y=(h-f)*Math.abs(this.La)/Math.sqrt(h*h-this.La*this.La),0<this.La?l.ow():l.ur(),l.scale(y/l.length()),(y=new e.b).add(m,l),(h=new e.b).tc(m,l),y=a.gl(y),this.jc(y,t),y=a.gl(h),this.jc(y)):(d=.5*(m-y),d=this.La/Math.abs(Math.sin(d)),y=a.Rd(l,d,.5*(y+m)),this.jc(y,t))):(m=p,0<this.La?(m>y&&(m-=r),h=y-m<i):(m<y&&(m+=r),h=m-y<i),h?(p=0>(d=1.4142135623730951*this.La)?y+.25*n:y+.75*n,y=a.Rd(l,d,p),this.jc(y,t),p=0>d?m-.25*n:m-.75*n,y=a.Rd(l,d,p),this.jc(y)):(d=.5*(m-y),d=this.La/Math.abs(Math.sin(d)),m<y&&(m+=r),y=a.Rd(l,d,(y+m)/2),this.jc(y,t)))}return this.qw=c,this.LA=u,this.jc(this.Yb[0],0),l=a.bQ(this.Yb[this.qf-1]),this.Yb[0]=l,this.bY()},t.prototype.fv=function(t,n){if(!(2>n))for(var r=0;r<n;r++){var i=this.Yb[t+r];0!=r?this.wB.Ii(e.b.construct(i.x,i.y)):this.wB.uu(e.b.construct(i.x,i.y))}},t.prototype.mN=function(e,t,n){var r=e.ua(t),i=e.zc(t);if(this.Yb=[],this.wB=n,e.Lb(t)){for(t=e.xa(r);e.xa(i-1).qb(t);)i--;if(2<=i-r){for(this.ix=i-r,this.Dg=[],t=r;t<i;t++)this.Dg.push(a.gl(e.xa(t)));this.ZE()&&this.fv(0,this.qf-1)}}else{for(t=e.xa(r);r<i&&e.xa(r+1).qb(t);)r++;for(t=e.xa(i-1);r<i&&e.xa(i-2).qb(t);)i--;if(2<=i-r){for(this.ix=2*(i-r)-2,this.Dg=[],(n=a.gl(e.xa(r))).type|=1536,this.Dg.push(n),t=r+1;t<i-1;t++)n=a.gl(e.xa(t)),this.Dg.push(n);for((n=a.gl(e.xa(i-1))).type|=512,this.Dg.push(n),t=i-2;t>=r+1;t--)(n=a.gl(e.xa(t))).type|=1024,this.Dg.push(n);if(this.ZE())if(2<=this.Yb.length){for(e=-1,(i=0!=(1024&this.Yb[this.qf-1].type))||(e=0),t=1;t<this.qf;t++)(r=0!=(1024&this.Yb[t].type))?i||1<(i=t-1)-e+1&&this.fv(e,i-e+1):i&&(e=t-1),i=r;i||1<(i=this.qf-1)-e+1&&this.fv(e,i-e+1)}else e=0,i=this.qf-1,0<=e&&1<=i-e&&this.fv(e,i-e+1)}}this.Dg=null,this.ix=0,this.Yb=null,this.qf=0},t.prototype.bY=function(){for(var e=!1,t=0;t<this.qf;t++){var n=this.Yb[t];n.xh=t+1,n.zh=t-1,this.Yb[t]=n}for((n=this.Yb[0]).zh=this.qf-2,this.Yb[0]=n,(n=this.Yb[this.qf-2]).xh=0,this.Yb[this.qf-2]=n,t=n=0;t<this.qf;t++)if(0!=(256&this.Yb[n].type)){var r=this.RQ(n);if(-1==r){e=!0;break}n=r}else n=this.Yb[n].xh;return!e&&(this.$P(n),!0)},t.prototype.RQ=function(e){for(var t,n,r=this.qf-1,i=e,a=1;a<=r-2;a++){t=i=this.Yb[i].xh,n=e;for(var o=1;o<=a;o++){if(n=this.Yb[n].zh,0==(256&this.Yb[n].type)&&0==(256&this.Yb[t].type)){var s=this.BT(n,t);if(-1!=s)return s}t=this.Yb[t].zh}}return-1},t.prototype.BT=function(t,n){var r=this.Yb[this.Yb[t].zh],i=this.Yb[t],a=this.Yb[this.Yb[n].zh],s=this.Yb[n];if(!this.oY(r,i,a,s))return-1;var c=new o;return this.JR(r,i,a,s,c)&&!c.OE&&e.L.fL((i.x-r.x)*(s.y-a.y)-(i.y-r.y)*(s.x-a.x))!=e.L.fL(this.La)?(r=this.Yb[t].zh,c.pn.type=i.type,c.pn.xh=n,c.pn.zh=r,this.Yb[t]=c.pn,c.pn=this.Yb[n],c.pn.zh=t,this.Yb[n]=c.pn,n):-1},t.prototype.oY=function(e,t,n,r){return Math.max(e.x,t.x)>=Math.min(n.x,r.x)&&Math.max(n.x,r.x)>=Math.min(e.x,t.x)&&Math.max(e.y,t.y)>=Math.min(n.y,r.y)&&Math.max(n.y,r.y)>=Math.min(e.y,t.y)},t.prototype.JR=function(e,t,n,r,i){i.OE=!1;var o=(t.y-e.y)*(r.x-n.x)-(t.x-e.x)*(r.y-n.y),s=(n.y-e.y)*(t.x-e.x)-(n.x-e.x)*(t.y-e.y);if(0<=(o=0==o?2:s/o)&&1>=o){var c=o;if(o=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y),s=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y),0<=(o=0==o?2:s/o)&&1>=o)return i.pn=a.cQ(e.x+o*(t.x-e.x),e.y+o*(t.y-e.y)),i.pn.$h=n.$h+c*(r.$h-n.$h),0!=c&&1!=c||0!=o&&1!=o||(i.OE=!0),i.C0=o,i.D0=c,!((0==c||1==c)&&0<o&&1>o||(0==o||1==o)&&0<c&&1>c)}return!1},t.prototype.$P=function(e){for(;this.Yb[e].zh<e;)e=this.Yb[e].zh;var t=0,n=e;do{n=this.Yb[n],this.Yb[t]=n,n=n.xh,t++}while(n!=e);this.Yb[t]=this.Yb[0],this.qf=t+1},t.prototype.JD=function(e){var t=this.Do,n=t.Ba();if(null!=n){n.ej();for(var r=-1;n.Ta();)r++,this.mN(t,r,e)}},t.prototype.wy=function(){var t=this.Do.F();return 322==t?this.lN():197==t?this.kN():e.R.Ic(t)?((t=new e.Oa).$b(this.Do,!0),this.Do=t,this.wy()):1607==t?(t=new e.Oa,this.JD(t),t):1736==t?(t=new e.Fa,this.JD(t),t):null},t}();e.RL=s}(Y||(Y={})),function(e){var t=function(){function e(e){this.xk=e}return e.prototype.w=function(e,t){this.xk.a.w(e,t)},e.prototype.zd=function(e){var t=this.xk.Ja.ga(e);this.xk.Ja.zd(e,-1),this.xk.a.od(t,!1)},e}(),n=function(){function e(e){this.xk=e}return e.prototype.w=function(e,t){this.xk.aV.w(e,t)},e.prototype.zd=function(e){this.xk.Ja.zd(e,-1)},e}(),r=function(){function e(e){this.xk=e}return e.prototype.w=function(e,t){t.K(this.xk.dV[e])},e.prototype.zd=function(e){this.xk.Ja.zd(e,-1)},e}(),i=function(){function i(i){void 0===i?(this.Ja=new e.bk,this.Ja.Le(20),this.a=new e.Yc,this.SU=this.a.Pg(550),this.At=this.a.Ef(this.SU,-1),this.ci=new t(this)):i instanceof Array?(this.Ja=new e.bk,this.Ja.Le(20),this.dV=i,this.ci=new r(this)):(this.Ja=new e.bk,this.Ja.Le(20),this.aV=i,this.ci=new n(this))}return i.prototype.Bb=function(t){var n=t.F();if(e.ly.Rg(n))this.tO(t);else if(e.Zk.Ic(n))this.zO(t);else if(197==n)this.qO(t);else{if(33!=n)throw e.f.I("invalid shape type");this.xO(t)}},i.prototype.qS=function(){var t=new e.Ra,n=this.Ja.sc(-1),r=new e.Fa(this.a.Pt);for(this.a.bj(this.Ja.ga(n),t),r.xf(t),n=this.Ja.hb(n);-1!=n;n=this.Ja.hb(n))this.a.bj(this.Ja.ga(n),t),r.lineTo(t);return r},i.aQ=function(t){var n=new i(t),r=t.D(),a=1,o=new e.b,s=new e.b,c=new e.b;for(t.w(0,o);t.w(a,s),s.xA(o)&&a<r-1;)a++;for(n.Ja.addElement(0,-1),n.Ja.Qn(a),r=a+1;r<t.D();r++)t.w(r,c),-1!=(a=n.YC(c))&&n.Ja.Tj(a,r);for(c=new e.Ra,a=n.Ja.sc(-1),r=new e.Fa(t.description),t.ne(n.Ja.ga(a),c),r.xf(c),a=n.Ja.hb(a);-1!=a;a=n.Ja.hb(a))t.ne(n.Ja.ga(a),c),r.lineTo(c);return r},i.construct=function(e,t,n){for(var r=new i(e),a=1,o=e[0];e[a].xA(o)&&a<t-1;)a++;for(r.Ja.addElement(0,-1),r.Ja.Qn(a),a+=1;a<t;a++)-1!=(o=r.YC(e[a]))&&r.Ja.Tj(o,a);for(e=0,t=r.Ja.sc(-1);-1!=t;t=r.Ja.hb(t))n[e++]=r.Ja.ga(t);return e},i.vH=function(t,n){var r=t.ua(n),a=t.zc(n);if(n=!t.Lb(n)&&t.ho(n),t=t.Va(0),a*=2,n&&(a-=2),6>a-(r*=2))return!0;n=new e.b;var o=new e.b,s=new e.b;t.mc(r,n),t.mc(r+2,o),t.mc(r+4,s);var c=i.Cv(o,s,n);if(c.Ys()||!i.Hm(c.value()))return!1;var u=e.b.construct(o.x,o.y),l=new e.b;for(r+=6;r<a;r+=2){if(l.K(o),o.K(s),t.mc(r,s),(c=i.Cv(o,s,n)).Ys()||!i.Hm(c.value()))return!1;if((c=i.Cv(u,s,n)).Ys()||!i.Hm(c.value()))return!1;if((c=i.Cv(o,s,l)).Ys()||!i.Hm(c.value()))return!1}return!0},i.prototype.tO=function(t){for(var n=new e.Ra,r=new e.b,i=0;i<t.D();i++){t.w(i,r);var a=this.cs(r);if(-1!=a){t.ne(i,n);var o=this.a.jc(this.At,n);this.Ja.Tj(a,o)}}},i.prototype.qO=function(t){for(var n=new e.Ra,r=new e.b,i=0;4>i;i++){t.Ax(i,r);var a=this.cs(r);if(-1!=a){t.Pf(i,n);var o=this.a.jc(this.At,n);this.Ja.Tj(a,o)}}},i.prototype.zO=function(t){var n=new e.Ra,r=t.ac();if(-1!=(r=this.cs(r))){t.jp(n);var i=this.a.jc(this.At,n);this.Ja.Tj(r,i)}r=t.wc(),-1!=(r=this.cs(r))&&(t.hp(n),t=this.a.jc(this.At,n),this.Ja.Tj(r,t))},i.prototype.xO=function(e){var t=e.w();-1!=(t=this.cs(t))&&(e=this.a.jc(this.At,e),this.Ja.Tj(t,e))},i.prototype.cs=function(e){var t=-1;if(0==this.Ja.size(-1))return this.Ja.addElement(-4,-1);if(1==this.Ja.size(-1)){var n=this.a.xa(this.Ja.ga(this.Ja.sc(-1)));return e.xA(n)||(t=this.Ja.Qn(-5)),t}return this.YC(e)},i.prototype.YC=function(t){var n=-1;do{var r=this.Ja.sc(-1),a=this.Ja.Gc(-1),o=this.Ja.ga(r),s=this.Ja.ga(a),c=new e.b,u=new e.b;if(this.ci.w(o,c),this.ci.w(s,u),o=e.b.fp(u,t,c),i.Hm(o))n=this.Ja.Qn(-1),(c=this.WC(t,a,r))!=r&&this.XC(t,r,this.Ja.Be(c));else if(i.oH(o)){u=this.Ja.$v(-1);var l=this.Ja.sc(-1),h=this.Ja.Gc(-1);for(o=new e.b,s=new e.b;l!=this.Ja.Be(h);){var f=this.Ja.ga(u);this.ci.w(f,o),f=e.b.fp(o,t,c),i.oH(f)?(h=u,u=this.Ja.rl(u)):(l=u,u=this.Ja.pq(u))}if(u=h,c=l,f=this.Ja.ga(u),l=this.Ja.ga(c),this.ci.w(f,o),this.ci.w(l,s),c!=r&&(o=e.b.fp(s,t,o),!i.Hm(o)))continue;n=this.Ja.ev(c,u,-2,!1),this.XC(t,u,a),this.WC(t,c,r)}else null==this.sb&&(this.sb=new e.zb),this.sb.Fc(u),this.sb.Sc(c),0>(c=this.sb.ae(t,!0))?(c=this.Ja.Be(a),this.Ja.zd(a,-1),n=this.Ja.Qn(-3),this.WC(t,c,r)):1<c&&(c=this.Ja.hb(r),this.Ja.zd(r,-1),n=this.Ja.ev(-1,c,-3,!1),this.XC(t,c,a))}while(0);return n},i.prototype.XC=function(t,n,r){if(n!=r){var a=this.Ja.ga(n),o=this.Ja.hb(n),s=new e.b,c=new e.b;for(this.ci.w(a,s);n!=r&&2<this.Ja.size(-1)&&(this.ci.w(this.Ja.ga(o),c),a=e.b.fp(c,t,s),!i.Hm(a));)a=n,n=o,s.K(c),o=this.Ja.hb(n),this.ci.zd(a)}},i.prototype.WC=function(t,n,r){if(n==r)return r;var a=this.Ja.ga(n),o=this.Ja.Be(n),s=new e.b,c=new e.b;for(this.ci.w(a,s);n!=r&&2<this.Ja.size(-1)&&(this.ci.w(this.Ja.ga(o),c),a=e.b.fp(s,t,c),!i.Hm(a));)a=n,n=o,s.K(c),o=this.Ja.Be(n),this.ci.zd(a);return n},i.Cv=function(t,n,r){var i=new e.Wb;i.set(n.x),i.sub(t.x);var a=new e.Wb;a.set(r.y),a.sub(t.y);var o=new e.Wb;return o.set(n.y),o.sub(t.y),(n=new e.Wb).set(r.x),n.sub(t.x),i.Gg(a),o.Gg(n),i.sub(o),i},i.Hm=function(e){return 0>e},i.oH=function(e){return 0<e},i.j0=function(e){return 0==e},i}();e.Fu=i}(Y||(Y={})),function(e){var t=function(){function t(e){this.a=null,this.gI=!0,this.md=e}return t.eJ=function(t,n,r){return t=e.la.es(t),e.Eu.iw(n.Ce(),n.lf(),r.Ce(),r.lf(),e.Tb.Wx(t))},t.MP=function(t,n){var r=new e.Ra;return e.Eu.oV(t,n,r),r},t.U=function(e,n,r,i){return(r=new t(r)).a=e,r.qa=n,r.gI=i,r.MN()},t.prototype.vN=function(t){return e.Eu.uR(this.a,t)},t.prototype.AN=function(t){return e.Gu.U(this.a,t,this.md)},t.prototype.MN=function(){var t=this.qa,n=e.la.es(t),r=1.00001*(t=e.la.CO(t));t*=1.000001;for(var i=!1,a=30<this.a.pd+10?1e3:(this.a.pd+10)*(this.a.pd+10),o=0,s=this.a.ET();;o++){if(o>a)throw e.f.Y("Internal Error: max number of iterations exceeded");var c=this.vN(n);if(i=i||c,this.gI&&(c=0!=this.a.$p(n,!0,!1),i=i||c),c=!1,(0==o||s||e.Gu.$I(!0,this.a,t,null,this.md))&&(c=this.AN(r),i=i||c),!c)break;e.Ep.Sp(this.md)}return i},t}();e.$j=t}(Y||(Y={})),function(e){var t=function(){function t(e){this.ge=this.Nc=null,this.Gt=0,this.Vb=e,this.NA=!0}return t.prototype.bw=function(e,t){var n=this.a.ec(e);if(null==n){if(!this.a.gd(e,t))return null;n=t}return n},t.prototype.qr=function(){var t;void 0===t&&(t=!1),this.Gt++,(t||0==(4095&this.Gt))&&(this.Gt=0,e.Ep.Sp(this.Vb))},t.prototype.xQ=function(){var t=this.a.rr(!1),n=!1,r=new e.zb,i=new e.zb,a=new e.g;a.Ka();var o=new e.g;o.Ka();for(var s=new e.Ra,c=new e.AD,u=t.next();-1!=u;u=t.next()){e.Ep.Sp(this.Vb);var l=null,h=!1;if(!e.R.lo(this.a.dc(t.gk))){if(null==(l=this.bw(u,r)))continue;if(l.s(a),a.O(this.qa,this.qa),l.Qg(this.qa)){if(!l.Qg(0))continue;h=!0,l=null}}var f=this.a.rr(t),d=f.next();for(-1!=d&&(d=f.next());-1!=d;d=f.next()){var p=null,b=!1;if(!e.R.lo(this.a.dc(f.gk))){if(null==(p=this.bw(d,i)))continue;if(p.s(o),p.Qg(this.qa)){if(!p.Qg(0))continue;b=!0,p=null}}var v=0,y=0;if(null!=l&&null!=p)a.tH(o)&&(c.gp(l),c.gp(p),c.Ia(this.qa,!1),0<(v=c.ul(0))+(y=c.ul(1))&&(this.a.Fr(u,c,0,!0),this.a.Fr(d,c,1,!0)),c.clear());else if(null!=l){var m=new e.b;if(this.a.w(d,m),a.contains(m)){if(c.gp(l),this.a.bj(d,s),c.rA(this.qa,s,!1),0<(v=c.ul(0)))if(this.a.Fr(u,c,0,!0),b){for(b=-1,m=this.a.T(d);-1!=m&&m!=d&&(b=m,null!=(p=this.bw(m,i))&&p.Qg(0));m=this.a.T(m));for(m=d;-1!=m&&(this.a.Hh(m,c.Jf),m!=b);m=this.a.T(m));}else this.a.Hh(d,c.Jf);c.clear()}}else{if(null==p)continue;if(m=new e.b,this.a.w(u,m),o.O(this.qa,this.qa),o.contains(m)){if(c.gp(p),this.a.bj(u,s),c.rA(this.qa,s,!1),0<(y=c.ul(0)))if(this.a.Fr(d,c,0,!0),h){for(b=-1,m=this.a.T(u);-1!=m&&m!=u&&(b=m,null!=(p=this.bw(m,i))&&p.Qg(0));m=this.a.T(m));for(m=u;-1!=m&&(this.a.Hh(m,c.Jf),m!=b);m=this.a.T(m));}else this.a.Hh(u,c.Jf);c.clear()}}if(0!=v+y){if(0!=v){if(null==(l=this.a.ec(u))){if(!this.a.gd(u,r))continue;l=r,r.s(a)}else l.s(a);if(l.Qg(this.qa))break}n=!0}}}return n},t.prototype.yQ=function(){return this.hW()},t.prototype.hW=function(){return(new e.yD).uZ(this.a,this.qa)},t.prototype.aJ=function(){var t=!1;null==this.Nc&&(this.Nc=new e.bk);var n=new e.ha(0);n.Db(this.a.pd+1);for(var r=this.a.rr(),i=r.next();-1!=i;i=r.next())n.add(i);this.a.Vx(n,n.size),n.add(-1),r=this.a.Kd(),i=this.a.Kd(),this.ge=new e.CD(this.a,this.qa,!this.NA),this.Nc.kp(this.ge);var a=new e.ha(0),o=new e.ha(0),s=0;new e.b;var c=this.a.ud;this.a.xb.rc();for(var u,l,h=this.a.xb.va[0].i,f=n.get(s++);-1!=f;){var d=u=h[2*(l=c.S(f,0))],p=l=h[2*l+1];do{var b=c.S(f,2),v=c.S(f,1);if(-1!=b){var y=c.S(b,0),m=h[2*y];0>(p<(y=h[2*y+1])?-1:p>y?1:d<m?-1:d>m?1:0)&&(o.add(f),o.add(b))}-1!=v&&(m=h[2*(y=c.S(v,0))],0>(p<(y=h[2*y+1])?-1:p>y?1:d<m?-1:d>m?1:0)&&(o.add(v),o.add(v))),-1!=(m=this.a.Na(f,r))&&(a.add(m),this.a.Qa(f,r,-1)),-1!=(m=this.a.Na(f,i))&&(a.add(m),this.a.Qa(f,i,-1)),-1!==(f=n.get(s++))&&(d=h[2*(p=c.S(f,0))],p=h[2*p+1])}while(-1!=f&&d===u&&p===l);for(d=1==a.size&&2==o.size,m=p=-1,b=0,v=a.size;b<v;b++){y=a.get(b);var g=this.Nc.Be(y);if(-1==g||a.UG(g)||(p=g),-1==(y=this.Nc.hb(y))||a.UG(y)||(m=y),-1!=p&&-1!=m)break}for(this.ge.dL(l,u),b=0,v=a.size;b<v;b++)y=a.get(b),this.Nc.zd(y,-1);if(a.clear(!1),!d&&-1!=p&&-1!=m&&this.AP(p,m)){t=!0,this.Ti=this.ge.Dm();break}for(b=0,v=o.size;b<v;b+=2){if(l=o.get(b),u=o.get(b+1),d?(l=this.Nc.ev(p,m,l,!0),d=!1):l=this.Nc.addElement(l,-1),this.ge.yg){this.Ti=this.ge.Dm(),t=!0;break}-1==this.a.Na(u,r)?this.a.Qa(u,r,l):this.a.Qa(u,i,l)}if(t)break;o.Gh(0)}return this.a.Xd(r),this.a.Xd(i),t},t.prototype.AP=function(e,t){return this.ge.compare(this.Nc,this.Nc.ga(e),t),e=this.ge.yg,this.ge.ks(),e},t.jF=function(t){for(var n=t.kd;-1!=n;n=t.Ae(n))if(e.R.Bc(t.dc(n)))return!0;return!1},t.rR=function(e,n,r,i){return!!t.jF(e)&&((n=new t(i)).a=e,n.qa=r,15>e.pd?e=n.xQ():n.yQ())},t.U=function(e,n,r){return t.rR(e,e.uG(),n,r)},t.$I=function(n,r,i,a,o){if(!t.jF(r))return!1;var s=new t(o);if(s.a=r,s.qa=i,s.NA=n,s.aJ())return null!=a&&a.Or(s.Ti),!0;var c=new e.xd;return c.HC(),r.Qc(c),(s=new t(o)).a=r,s.qa=i,s.NA=n,n=s.aJ(),c.HC(),r.Qc(c),!!n&&(null!=a&&a.Or(s.Ti),!0)},t.Wl=function(e,t){return!(16>(e=e.D()))&&2*e+Math.log(e)*Math.LOG10E/Math.log(2)*t<1*e*t},t.vQ=function(n,r,i,a){if(e.R.Bc(r.F()))return new t(a).wQ(n,r,i);throw e.f.Y("crack_A_with_B")},t.prototype.wQ=function(r,i,a){var o=new e.g;r.Zb(o);var s=new e.g;if(i.Zb(s),s.O(a,a),!s.isIntersecting(o))return r;var c=r.ib,u=null;null!=c&&(u=c.Hb),t.Wl(r,r.D())&&(u=e.la.pj(r,s));var l=null!=u?u.getIterator():null,h=i.Ba();i=r.Ba();var f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=[];h.Ta();)for(;h.Aa();){var d=h.aa();if(null!=u){for(l.wn(d,a),c=l.next();-1!=c;c=l.next())if(this.qr(),i.Rb(u.ga(c),-1),i.Aa()){var p=(c=i.aa()).Ia(d,null,f,null,a);for(c=0;c<p;++c){var b=f[c];if(0!=b&&1!=b){var v=i.wb(),y=new n;y.t=b,y.index=v,s.push(y)}}}}else{var m=new e.g;if(d.Zb(m),m.O(a,a),o.isIntersecting(m))for(i.ej();i.Ta();)for(;i.Aa();)if(this.qr(),c=i.aa(),b=new e.g,c.Zb(b),b.isIntersecting(m))for(p=c.Ia(d,null,f,null,a),c=0;c<p;++c)0!=(b=f[c])&&1!=b&&(v=i.wb(),(y=new n).t=b,y.index=v,s.push(y))}}if(0==s.length)return r;for(s=s.sort(n.ls),r=r.Ga(),i.ej();i.Ta()&&!i.Aa(););for(a=i.aa(),o=new e.og,u=-1,c=0,l=s.length;c<l;){for(f=s[c].index,h=c+1;h<l&&s[h].index==f;)++h;for(;i.wb()<f;){if(this.qr(),d=i.Aa(),b=i.Pa,(m=d||!i.io()||i.jo())&&r.$b(a,u!=b),u=b,!d)for(;i.Ta()&&!i.Aa(););a=i.aa()}for(f=0;c<h;c++)(b=s[c].t)!=f&&(a.jh(f,b,o),f=b,b=i.Pa,r.$b(o.get(),u!=b),u=b);if((m=(d=i.Aa())||!i.io()||i.jo())&&(a.jh(f,1,o),r.$b(o.get(),!1)),d)a=i.aa();else{for(;i.Ta()&&!i.Aa(););a=i.Aa()?i.aa():null}c=h}for(null!=a&&(b=i.Pa,(m=(d=i.Aa())||!i.io()||i.jo())&&r.$b(a,u!=b),u=b),d=i.Aa();;){if(!d){for(;i.Ta()&&!(d=i.Aa()););if(!d)break}a=i.aa(),b=i.Pa,(m=(d=i.Aa())||!i.io()||i.jo())&&r.$b(a,u!=b),u=b}return r},t}();e.Gu=t;var n=function(){function e(){}return e.ls=function(e,t){return e.index==t.index?e.t>t.t?1:e.t<t.t?-1:0:e.index>t.index?1:-1},e}()}(Y||(Y={})),function(e){var t;(t=e.TL||(e.TL={}))[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Coincident=2]="Coincident",t[t.Undefined=3]="Undefined",t[t.Uncut=4]="Uncut";var n=function(e,t,n,r,i,a,o,s,c,u,l){this.W=e,this.fx=t,this.vt=n,this.Ag=r,this.Ym=u,this.Il=l};e.a_=n;var r=function(){function t(e,t){this.yI=e,this.Ni=t}return t.prototype.yN=function(t,n){var r=new e.b;this.Ni.w(t,r);var i=new e.b;return this.Ni.w(n,i),0!=(r=r.compare(i))?r:(t=this.Ni.Na(t,this.yI))<(n=this.Ni.Na(n,this.yI))?-1:t==n?0:1},t}(),i=function(e,t,n,r,i,a,o,s,c){this.Ag=e,this.vt=t,this.xB=n,this.JI=r,this.Ki=i,this.Il=a,this.Ym=o,this.KI=s,this.gV=c};e.$Z=i,e.UL=function(){function t(){}return t.SL=function(r,i,a,o,s,c){if(i.u())r=new n(i,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),s.push(r);else{var u=new e.Yc;for(u.Bb(i),u.Bb(a),e.$j.U(u,o,c,!0),i=0,a=u.Kd(),o=u.kd;-1!=o;o=u.Ae(o))for(c=u.Kb(o);-1!=c;c=u.Qb(c))for(var l=u.Za(c),h=0,f=u.Ha(c);h<f;l=u.T(l),h++)u.Qa(l,a,i++);i=t.PN(a,u),t.jN(r,i,u,s)}},t.PN=function(n,i){for(var a=i.pd,o=new e.ha(0),s=i.kd;-1!=s;s=i.Ae(s))for(var c=i.Kb(s);-1!=c;c=i.Qb(c))for(var u=i.Za(c),l=0,h=i.Ha(c);l<h;u=i.T(u),l++)o.add(u);var f=new r(n,i);o.Zd(0,a,(function(e,t){return f.yN(e,t)})),n=[];var d=[],p=i.Kd(),b=i.Kd();s=i.kd,c=i.Ae(s),h=new e.b;var v=new e.b,y=o.get(0),m=i.cd(y),g=i.Zf(m);i.w(y,h);var O=1;for(u=0;O<a-1;){var j=!1;for(l=O;l<a;l++)if(l!=u){var w=o.get(l),_=i.cd(w),x=i.Zf(_);if(i.w(w,v),!h.qb(v))break;g==s&&x==c&&(j=t.CN(p,b,i,n,d,m,y,_,w))}if(j||u==O-1){if(j&&u==O-1&&O--,++u==a)break;y=o.get(u),m=i.cd(y),g=i.Zf(m),i.w(y,h)}j||(O=u+1)}for(a=[],s=i.kd;-1!=s;s=i.Ae(s))for(c=i.Kb(s);-1!=c;c=i.Qb(c))for(o=i.Za(c),l=0,h=i.Ha(c);l<h;o=i.T(o),l++){if(0<=(u=i.Na(o,b)))for(;u<d.length&&d[u].Ag==o;)a.push(d[u++]);if(0<=(u=i.Na(o,p)))for(;u<n.length&&n[u].Ag==o;)a.push(n[u++])}return i.Xd(p),i.Xd(b),a},t.CN=function(e,n,r,i,a,o,s,c,u){var l=r.wj(o),h=r.wj(c),f=r.Za(o),d=r.Za(c),p=r.Ma(s),b=r.Ma(u),v=!1,y=!1,m=!1,g=!1;return s!=f&&(u!=d&&(v=t.DN(e,r,i,o,p,c,b)),u!=h&&(y=t.EN(e,r,i,o,p,c,u))),s!=l&&(u!=d&&(m=t.FN(n,r,a,o,s,c,b,f)),u!=h&&(g=t.GN(n,r,a,o,s,c,u,f))),v&&y&&m?(e=i.length-1,2==a[g?a.length-2:a.length-1].Ki&&(i[e-1]=i[e],--i.length)):v&&y&&g&&2==a[a.length-1].Ki&&(a=i[i.length-1],--i.length,r.Na(a.Ag,e)==i.length&&r.Qa(a.Ag,e,-1)),v||y||m||g},t.DN=function(t,n,r,a,o,s,c){var u=new e.zb,l=new e.zb,h=[0,0],f=[0,0],d=n.ec(o);return null==d&&(n.gd(o,u),d=u),null==(u=n.ec(c))&&(n.gd(c,l),u=l),2>(d=d.Ia(u,null,h,f,0))&&(a=new i(o,a,h[0],NaN,d,c,s,f[0],NaN),r.push(a),0>(a=n.Na(o,t))&&n.Qa(o,t,r.length-1)),!0},t.EN=function(t,n,r,a,o,s,c){var u=new e.zb,l=new e.zb,h=[0,0],f=[0,0],d=n.ec(o);return null==d&&(n.gd(o,u),d=u),null==(u=n.ec(c))&&(n.gd(c,l),u=l),2>(d=d.Ia(u,null,h,f,0))&&(a=new i(o,a,h[0],NaN,d,c,s,f[0],NaN),r.push(a),0>(a=n.Na(o,t))&&n.Qa(o,t,r.length-1),!0)},t.FN=function(t,n,r,a,o,s,c,u){var l=new e.zb,h=new e.zb,f=[0,0],d=[0,0],p=n.ec(o);return null==p&&(n.gd(o,l),p=l),null==(l=n.ec(c))&&(n.gd(c,h),l=h),2==(p=p.Ia(l,null,f,d,0))?(a=new i(o,a,f[0],f[1],p,c,s,d[0],d[1]),r.push(a),0>(a=n.Na(o,t))&&n.Qa(o,t,r.length-1),!0):(h=!1,o==u&&(a=new i(o,a,f[0],NaN,p,c,s,d[0],NaN),r.push(a),0>(a=n.Na(o,t))&&n.Qa(o,t,r.length-1),h=!0),h)},t.GN=function(t,n,r,a,o,s,c,u){var l=new e.zb,h=new e.zb,f=[0,0],d=[0,0],p=n.ec(o);return null==p&&(n.gd(o,l),p=l),null==(l=n.ec(c))&&(n.gd(c,h),l=h),2==(p=p.Ia(l,null,f,d,0))?(a=new i(o,a,f[0],f[1],p,c,s,d[0],d[1]),r.push(a),0>(a=n.Na(o,t))&&n.Qa(o,t,r.length-1),!0):(h=!1,o==u&&(a=new i(o,a,f[0],NaN,p,c,s,d[0],NaN),r.push(a),0>(a=n.Na(o,t))&&n.Qa(o,t,r.length-1),h=!0),h)},t.jN=function(r,i,a,o){var s=[];s[0]=new e.b,s[1]=new e.b,s[2]=new e.b,s[3]=new e.b;var c=new e.b,u=new e.b,l=new e.b,h=new e.b,f=null;null!=o&&(f=new e.og).ps();var d=0,p=null,b=new e.zb;new e.zb;for(var v=a.Kb(a.kd);-1!=v;v=a.Qb(v)){for(var y=4,m=-1,g=-1,O=-1,j=-1,w=NaN,_=!0,x=!1,k=!0,S=!0,E=!0,T=0,M=v,C=0,A=a.Za(v),P=a.Ha(v),I=0;I<P;A=a.T(A),I++){var D=a.ec(A);if(null==D){if(!a.gd(A,b))continue;D=b}-1==g&&(g=A);for(var L=0;d<i.length&&A==i[d].Ag;){m=i[d].vt;var R=i[d].Ag,N=i[d].xB,F=i[d].Ym,z=i[d].Il,V=i[d].KI;if(2==i[d].Ki){if(x||(M=m,g=R,C=N,O=F,j=z,w=V,y=2,null!=o?p=new e.Oa:T=0,E=!1,S=!0),N=i[d].JI,V=i[d].gV,null!=o?(D.jh(L,i[d].JI,f),p.$b(f.get(),S)):T++,L=N,x=!0,S=_=!1,d+1==i.length||2!=i[d+1].Ki||i[d+1].Ag==R&&i[d+1].xB!=L){if(null!=o){var U=new n(p,2,m,R,N,y,M,g,C,F,z,V,O,j,w);o.push(U)}else null.add(T);M=m,g=R,C=N,O=F,j=z,w=V,y=2,x=_=!1,S=E=!0}}else{var B=a.T(R);if(d<i.length-1&&i[d+1].Ag==B&&i[d+1].Il==z&&2==i[d+1].Ki)N!=L&&(E&&(null!=o?p=new e.Oa:T=0),_=0<d&&i[d-1].vt==m?1==y?0:0==y?1:3:3,null!=o?(D.jh(L,N,f),p.$b(f.get(),S),U=new n(p,_,m,R,N,y,M,g,C,F,z,V,O,j,w),o.push(U)):(T++,null.add(T)),L=N,M=m,g=R,C=N,O=F,j=z,w=V,y=_,_=k=!1,S=E=!0);else if(!t.KN(r,a,i,d,c,u)){t.HN(a,i,d,v,A,l,h);var G=!1;if(B=!1,U=!0,!(c.qb(l)||u.qb(l)||c.qb(h)||u.qb(h))){s[0].K(c),s[1].K(u),s[2].K(l),s[3].K(h),s.sort(e.b.Wr);var q=s[0],H=s[1],W=s[2],Y=s[3];q.qb(c)?H.qb(u)?r?(B=G=!0,U=!1):G=!1:Y.qb(u)?r?U=B=G=!0:G=!1:(G=!0,U=H.qb(l)):H.qb(c)?W.qb(u)?r?(B=G=!0,U=!1):G=!1:q.qb(u)?r?U=B=G=!0:G=!1:(G=!0,U=W.qb(l)):W.qb(c)?Y.qb(u)?r?(B=G=!0,U=!1):G=!1:H.qb(u)?r?U=B=G=!0:G=!1:(G=!0,U=Y.qb(l)):q.qb(u)?r?(B=G=!0,U=!1):G=!1:W.qb(u)?r?U=B=G=!0:G=!1:(G=!0,U=q.qb(l))}G&&(G=A==R,(N!=L||G&&0==L)&&(E&&(null!=o?p=new e.Oa:T=0),null!=o?(D.jh(L,N,f),p.$b(f.get(),S)):T++),U?1!=y?((N!=L||G&&0==L)&&(null!=o?(U=new n(p,1,m,R,N,y,M,g,C,F,z,V,O,j,w),o.push(U)):null.add(T)),B?d!=i.length-2&&i[d+2].vt==m||(y=0):y=1):((N!=L||G&&0==L)&&(null!=o?(U=new n(p,3,m,R,N,y,M,g,C,F,z,V,O,j,w),o.push(U)):null.add(T)),y=1):0!=y?((N!=L||G&&0==L)&&(null!=o?(U=new n(p,0,m,R,N,y,M,g,C,F,z,V,O,j,w),o.push(U)):null.add(T)),B?d!=i.length-2&&i[d+2].vt==m||(y=1):y=0):((N!=L||G&&0==L)&&(null!=o?(U=new n(p,3,m,R,N,y,M,g,C,F,z,V,O,j,w),o.push(U)):null.add(T)),y=0),(N!=L||G&&0==L)&&(L=N,M=m,g=R,C=N,O=F,j=z,w=V,_=k=!1,S=E=!0))}}d++}1!=L&&(E&&(null!=o?p=new e.Oa:T=0),null!=o?(D.jh(L,1,f),p.$b(f.get(),S)):T++,S=E=!1,k=!0)}k&&(N=1,R=a.wj(v),R=a.Ma(R),z=F=-1,V=NaN,_?null!=o?(U=new n(p,4,m,R,N,y,M,g,C,F,z,V,O,j,w),o.push(U)):null.add(T):(_=1==y?0:0==y?1:3,null!=o?(U=new n(p,_,m,R,N,y,M,g,C,F,z,V,O,j,w),o.push(U)):null.add(T)))}},t.KN=function(n,r,i,a,o,s){var c=i[a].KI;if(1==c)return t.IN(n,r,i,a,o,s);if(0==c)return t.JN(n,r,i,a,o,s);throw e.f.za()},t.IN=function(t,n,r,i,a,o){var s=new e.zb,c=r[i].Ag,u=r[i].Ym,l=r[i].Il,h=-1,f=-1,d=-1,p=-1;if(!t&&0<i){var b=r[i-1];h=b.Ag,f=b.Ym,d=b.Il,p=b.Ki}var v=-1,y=-1,m=-1,g=-1;i<r.length-1&&(v=(b=r[i+1]).Ag,y=b.Ym,m=b.Il,g=b.Ki);var O=n.T(c);return b=n.T(l),t?i==r.length-1||v!=c||y!=u||m!=b||2==g?(null==(t=n.ec(l))&&(n.gd(l,s),t=s),o.K(t.qg()),a.Ut(o),o.normalize(),a.normalize(),!1):(null==(t=n.ec(l))&&(n.gd(l,s),t=s),a.K(t.qg()),null==(t=n.ec(b))&&(n.gd(b,s),t=s),o.K(t.qg()),a.lr(),o.normalize(),a.normalize(),!1):0<i&&h==c&&f==u&&d==b&&2==p||i<r.length-1&&v==O&&y==u&&m==b&&2==g?(null==(t=n.ec(l))&&(n.gd(l,s),t=s),o.K(t.qg()),a.Ut(o),o.normalize(),a.normalize(),!1):!(i<r.length-1&&v==c&&y==u&&m==b&&(null==(t=n.ec(l))&&(n.gd(l,s),t=s),a.K(t.qg()),null==(t=n.ec(b))&&(n.gd(b,s),t=s),o.K(t.qg()),a.lr(),o.normalize(),a.normalize(),1))},t.JN=function(t,n,r,i,a,o){var s=new e.zb,c=r[i].Ag,u=r[i].Ym,l=r[i].Il,h=-1,f=-1,d=-1,p=-1;if(!t&&i<r.length-1){var b=r[i+1];h=b.Ag,f=b.Ym,d=b.Il,p=b.Ki}var v=-1,y=-1,m=-1;b=-1,0<i&&(v=(b=r[i-1]).Ag,y=b.Ym,m=b.Il,b=b.Ki);var g=n.T(c),O=n.Ma(l);return t?0!=i&&v==c&&y==u&&m==O&&2!=b||(null==(t=n.ec(l))&&(n.gd(l,s),t=s),o.K(t.qg()),a.Ut(o),o.normalize(),a.normalize(),!1):!(0<i&&v==c&&y==u&&m==O&&2==b||i<r.length-1&&h==g&&f==u&&d==O&&2==p)||(null==(t=n.ec(l))&&(n.gd(l,s),t=s),o.K(t.qg()),a.Ut(o),o.normalize(),a.normalize(),!1)},t.HN=function(t,n,r,i,a,o,s){var c=new e.zb,u=t.ec(a);if(null==u&&(t.gd(a,c),u=c),n=(r=n[r]).Ag,r=r.xB,a=t.T(n),1==r)o.K(u.qg()),-1!=a&&a!=t.wj(i)?(null==(u=t.ec(a))&&(t.gd(a,c),u=c),s.K(u.qg()),null==(u=t.ec(n))&&t.gd(n,c)):s.K(o),o.lr(),s.normalize(),o.normalize();else{if(0!=r)throw e.f.za();s.K(u.qg()),o.Ut(s),s.normalize(),o.normalize()}},t}()}(Y||(Y={})),function(e){var t;(t=e.iN||(e.iN={}))[t.Linear=0]="Linear",t[t.Angular=1]="Angular",t[t.Area=2]="Area";var n=function(){function t(e,t,n){this.nd=t,this.gi=n,this.eB=e}return t.prototype.Ib=function(e){return e instanceof t&&this.gi===e.gi},t.MG=function(e){return 0!==e.nd?null:-1===e.eB?new t(-1,2,e.gi*e.gi):t.hh(s[e.eB])},t.hh=function(e){return void 0===(e=o[e])?null:e},t.iQ=function(e,n,r){var i=null;if(null!=r)try{"EPSG"===r.values[0]&&(i=t.hh(parseInt(r.values[1])))}catch(e){}return null===i&&(i=new t(-1,e,n)),i},t.prototype.xc=function(){return this.eB},t.prototype.pG=function(t){if(t.nd!=this.nd)throw e.f.Eb();return this.gi/t.gi},t.Rh=function(e,t,n){return t.pG(n)*e},t.IF=function(e,t,n,r,i){for(n=n.pG(r),r=0;r<t;r++)i[r]=e[r]*n},t}();e.Uc=n;for(var r=[109401,1e4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1e6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1e-4,109452,1e-6,109453,64516e-8,109454,.0006451625806477421,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25e8,109461,225e8,109462,.7168473118308245,109463,100,109464,1.244521604938272e-7,109465,1e-12,109466,1e-18],i=[1031,4.84813681109536e-9,9101,1,9102,.0174532925199433,9103,.0002908882086657216,9104,484813681109536e-20,9105,.01570796326794897,9106,.01570796326794897,9109,1e-6,9112,.0001570796326794897,9113,1570796326794897e-21,9114,.0009817477042468104],a=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1e3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,.0003527777777777778,109464,109017,1e-6,109465,109018,1e-9,109466,109030,5e4,109460,109031,15e4,109461],o=[],s=[],c=0;c<r.length;c+=2)o[r[c]]=new n(r[c],2,r[c+1]);for(r=null,c=0;c<i.length;c+=2)o[i[c]]=new n(i[c],1,i[c+1]);for(i=null,c=0;c<a.length;c+=3)o[a[c]]=new n(a[c],0,a[c+1]),s[a[c]]=a[c+2];a=null}(Y||(Y={})),function(e){var t=function(){function e(){this.yb=this.mb=0}return e.prototype.set=function(e,t){void 0!==t?(this.mb=e,this.yb=t):"number"==typeof e?(this.mb=e,this.yb=0):(this.mb=e.mb,this.yb=e.yb)},e.prototype.value=function(){return this.mb},e.prototype.add=function(e){var t=this.mb+e.mb;e=this.yb+e.yb+2220446049250313e-31*Math.abs(t),this.mb=t,this.yb=e},e.prototype.uO=function(){var e=this.mb+1,t=this.yb+2220446049250313e-31*Math.abs(e);this.mb=e,this.yb=t},e.prototype.nO=function(e,t){this.mb=e.mb+t.mb,this.yb=e.yb+t.yb+2220446049250313e-31*Math.abs(this.mb)},e.prototype.sub=function(e){if("number"==typeof e){var t=this.mb-e;e=this.yb+2220446049250313e-31*Math.abs(t)}else t=this.mb-e.mb,e=this.yb+e.yb+2220446049250313e-31*Math.abs(t);this.mb=t,this.yb=e},e.prototype.Gg=function(e){var t=this.mb*e.mb;this.yb=this.yb*Math.abs(e.mb)+e.yb*Math.abs(this.mb)+this.yb*e.yb+2220446049250313e-31*Math.abs(t),this.mb=t},e.prototype.ep=function(e){var t=this.mb*e;this.yb=this.yb*Math.abs(e)+2220446049250313e-31*Math.abs(t),this.mb=t},e.prototype.Ul=function(e,t){var n=Math.abs(e.mb)*Math.abs(t.mb);this.yb=e.yb*Math.abs(t.mb)+t.yb*Math.abs(e.mb)+e.yb*t.yb+2220446049250313e-31*Math.abs(n),this.mb=n},e.prototype.um=function(e){var t=Math.abs(e.mb),n=this.mb/e.mb,r=(this.yb+Math.abs(n)*e.yb)/t;e.yb>.01*t&&(r*=1+(1+(e=e.yb/t))*e),this.mb=n,this.yb=r+2220446049250313e-31*Math.abs(n)},e.prototype.sqrt=function(){if(0<=this.mb){var e=Math.sqrt(this.mb),t=this.mb>10*this.yb?.5*this.yb/e:this.mb>this.yb?e-Math.sqrt(this.mb-this.yb):Math.max(e,Math.sqrt(this.mb+this.yb)-e);t+=2220446049250313e-31*Math.abs(e)}else this.mb<-1*this.yb?t=e=NaN:(e=0,t=Math.sqrt(this.yb));this.mb=e,this.yb=t},e.prototype.sin=function(e){var t=Math.sin(e.mb),n=Math.cos(e.mb);this.mb=t,t=Math.abs(t),this.yb=(Math.abs(n)+.5*t*e.yb)*e.yb+2220446049250313e-31*t},e.prototype.cos=function(e){var t=Math.sin(e.mb),n=Math.cos(e.mb);this.mb=n,n=Math.abs(n),this.yb=(Math.abs(t)+.5*n*e.yb)*e.yb+2220446049250313e-31*n},e.prototype.xg=function(){return Math.abs(this.mb)<=this.yb},e.prototype.Ys=function(){return this.xg()&&0!=this.yb},e}();e.Wb=t}(Y||(Y={}));var Q=new Y.b,Z=new Y.b,$=new Y.b,ee=new Y.b,te=new Y.b;!function(e){var t,n;(n=t||(t={}))[n.closedPath=1]="closedPath",n[n.exteriorPath=2]="exteriorPath",n[n.ringAreaValid=4]="ringAreaValid";var r=function(){function t(e,t,n,r,i,a,o){void 0!==t?(this.Ya=e,this.gk=t,this.il=n,this.ri=r,this.ya=a,this.TA=o,this.Nw=i):(this.Ya=e.Ya,this.gk=e.gk,this.il=e.il,this.ri=e.ri,this.ya=e.ya,this.TA=e.TA,this.Nw=e.Nw),this.PH=!0}return t.prototype.next=function(){return this.PH?(this.PH=!1,this.ri):-1!=this.ri?(this.ri=this.Ya.T(this.ri),this.ya++,-1!=this.ri&&this.ri!=this.Nw?this.ri:this.tV()):-1},t.prototype.tV=function(){for(this.il=this.Ya.Qb(this.il),this.ya=0;-1!=this.gk;){for(;-1!=this.il;this.il=this.Ya.Qb(this.il))if(this.Nw=this.ri=this.Ya.Za(this.il),-1!=this.ri)return this.ri;if(this.gk=this.Ya.Ae(this.gk),-1==this.gk)break;this.TA&&!e.R.Bc(this.Ya.dc(this.gk))||(this.il=this.Ya.Kb(this.gk))}return-1},t.LQ=function(e,n,r,i,a,o,s){return new t(e,n,r,i,a,o,s)},t}();e.f_=r,t=function(){function t(){this.Co=this.Nm=this.Dk=this.dd=this.Kk=this.Oo=this.Ui=this.ld=this.hi=this.Zg=this.bf=this.Sl=null,this.Ww=this.kd=-1,this.pd=0,this.QA=!1,this.Pt=this.Qt=this.xb=null}return t.prototype.Yh=function(e){return null!=this.bf?this.bf[e]:null},t.prototype.eh=function(e,t){if(null==this.bf){if(null==t)return;this.bf=[];for(var n=0,r=this.xb.D();n<r;n++)this.bf.push(null)}this.bf[e]=t},t.prototype.rp=function(e,t){this.ld.P(e,1,t)},t.prototype.qp=function(e,t){this.ld.P(e,2,t)},t.prototype.DC=function(e,t){this.ld.P(e,6,t)},t.prototype.mq=function(e){return this.ld.S(e,6)},t.prototype.Nx=function(e,t){this.ld.P(e,7,t)},t.prototype.Yv=function(e){return this.ld.S(e,0)},t.prototype.SK=function(e,t){this.dd.P(e,1,t)},t.prototype.WK=function(e,t){this.dd.P(e,0,t)},t.prototype.vG=function(e){return this.dd.S(e,7)},t.prototype.op=function(e,t){this.dd.P(e,3,t)},t.prototype.pp=function(e,t){this.dd.P(e,4,t)},t.prototype.OV=function(t){null==this.dd&&(this.dd=new e.ad(8));var n=this.dd.Ke();return this.dd.P(n,2,t),this.dd.P(n,5,0),this.dd.P(n,6,0),this.dd.P(n,7,n),n},t.prototype.$R=function(e){this.dd.hd(e)},t.prototype.QV=function(t){null==this.ld&&(this.ld=new e.ad(8),this.ud=new e.ad(5),this.Ui=new e.ie(0),this.Oo=new e.ie(0));var n=this.ld.Ke();return this.ld.P(n,0,n),this.ld.P(n,3,0),this.ld.P(n,6,0),this.Nx(n,t),n>=this.Ui.size&&(t=16>n?16:e.L.truncate(3*n/2),this.Ui.resize(t),this.Oo.resize(t)),this.Ui.set(n,0),this.Oo.set(n,0),n},t.prototype.fG=function(e){this.ld.hd(e)},t.prototype.Az=function(e){this.ud.hd(e),this.pd--},t.prototype.dJ=function(t){null==this.ld&&(this.ld=new e.ad(8),this.ud=new e.ad(5),this.Ui=new e.ie(0),this.Oo=new e.ie(0));var n=this.ud.Ke(),r=0<=t?t:n;if(this.ud.P(n,0,r),0>t){if(r>=this.xb.D()){if(t=16>r?16:e.L.truncate(3*r/2),this.xb.resize(t),null!=this.bf)for(var i=0;i<t;i++)this.bf.push(null);null!=this.Zg&&this.Zg.resize(t),this.Qt=this.xb.Va(0)}this.xb.nb(r,-1e38,-1e38),null!=this.bf&&(this.bf[r]=null),null!=this.Zg&&this.Zg.write(r,1)}return this.ud.P(n,4,2*r),this.pd++,n},t.prototype.Bj=function(e,t,n){var r=-1!=t?this.Ma(t):this.wj(e),i=-1!=r?this.T(r):-1,a=this.dJ(null==n?this.pd:-1),o=this.Ua(a);return null!=n&&this.xb.qu(o,n),this.hj(a,e),this.Dc(a,i),this.Ec(a,r),-1!=i&&this.Ec(i,a),-1!=r&&this.Dc(r,a),n=this.Lb(e),r=this.Za(e),-1==t&&this.dh(e,a),t==r&&this.Sf(e,a),n&&-1==i&&(this.Dc(a,a),this.Ec(a,a)),this.Wj(e,this.Ha(e)+1),e=this.Zf(e),this.Uj(e,this.D(e)+1),a},t.prototype.zm=function(){return null==this.Co&&(this.Co=new e.Ra(this.xb.description)),this.Co},t.prototype.np=function(e,t){this.dd.P(e,2,-134217729&this.dd.S(e,2)||(1==t?134217728:0))},t.prototype.$n=function(e){return 0!=(134217728&this.dd.S(e,2))?1:0},t.prototype.rO=function(e){var t=this.Pg(e.F(),e.description);return 1736==e.F()&&this.np(t,e.$n()),this.GE(t,e),t},t.prototype.sO=function(e){var t=this.Pg(e.F(),e.description);return this.HE(t,e),t},t.prototype.pX=function(t,n){null==this.ld&&(this.ld=new e.ad(8),this.ud=new e.ad(5),this.Ui=new e.ie(0),this.Oo=new e.ie(0)),this.ld.Le(this.ld.Og+t),this.ud.Le(this.ud.Og+n),this.Ui.Db(this.Ui.size+t),this.Oo.Db(this.Oo.size+t)},t.prototype.GE=function(t,n){this.pX(n.$(),n.D()),this.Sl.yd(n,0,n.D()),this.Qt=this.xb.Va(0);for(var r=null!=this.bf&&null!=n.af,i=0,a=n.$();i<a;i++)if(!(2>n.Ha(i))){var o=this.Ef(t,-1);this.An(o,n.Lb(i));for(var s=n.ua(i),c=n.zc(i);s<c;s++){var u=this.Bj(o,-1,null);if(r)if(u=this.Ua(u),0!=(1&n.KG(s)))this.eh(u,null);else{var l=new e.og;n.ec(s,l,!0),this.eh(u,l.get())}}}},t.prototype.HE=function(e,t){this.Sl.yd(t,0,t.D()),this.Qt=this.xb.Va(0),e=this.Ef(e,-1);var n=0;for(t=t.D();n<t;n++)this.Bj(e,-1,null)},t.prototype.sZ=function(t,n,r){var i=this.T(t);if(-1==i)throw e.f.za();for(var a=this.zm(),o=this.cd(t),s=0,c=n.ul(r);s<c;s++){var u=this.Ua(t),l=this.T(t),h=n.nq(r,s);0==s&&(h.jp(a),this.Hh(t,a)),322==h.F()?this.eh(u,null):this.eh(u,e.R.$d(h)),h.hp(a),s<c-1?t=this.Bj(o,l,a):this.Hh(i,a)}},t.prototype.rZ=function(t,n,r){var i=this.T(t);if(-1==i)throw e.f.za();for(var a=this.zm(),o=this.cd(t),s=0,c=n.ul(r);s<c;s++){var u=this.Ua(t),l=this.T(t),h=n.nq(r,c-s-1);0==s&&(h.hp(a),this.Hh(t,a)),322==h.F()?this.eh(u,null):this.eh(u,e.R.$d(h)),h.jp(a),s<c-1?t=this.Bj(o,l,a):this.Hh(i,a)}},t.prototype.uG=function(){var t=new e.g;t.Ka();for(var n=this.rr(),r=new e.b,i=!0,a=n.next();-1!=a;a=n.next())this.w(a,r),i?t.Nb(r.x,r.y):t.Sk(r.x,r.y),i=!1;return t},t.prototype.Bb=function(t){var n=t.F();if(e.R.Bc(n))return this.rO(t);if(550==n)return this.sO(t);throw e.f.za()},t.prototype.FO=function(t,n){var r=n.F();if(e.R.Bc(r))this.GE(t,n);else{if(550!=r)throw e.f.za();this.HE(t,n)}},t.prototype.wO=function(t,n){var r=this.Pg(1736,t.description);if(2>t.Ha(n))return r;this.Sl.yd(t,t.ua(n),t.zc(n)),this.Qt=this.xb.Va(0);var i=this.Ef(r,-1);this.An(i,t.Lb(n)||!0);var a=null!=this.bf&&null!=t.af,o=t.ua(n);for(n=t.zc(n);o<n;o++){var s=this.Bj(i,-1,null);if(a)if(s=this.Ua(s),0!=(1&t.KG(o)))this.eh(s,null);else{var c=new e.og;t.ec(o,c,!0),this.eh(s,c.get())}}return r},t.prototype.ye=function(t){var n=this.dc(t),r=e.hM.Pg(n,this.Sl.description),i=this.D(t);if(0==i)return r;if(e.R.Bc(n)){n=this.$(t);for(var a=e.Xc.Sh(n+1),o=e.Xc.ns(n+1,0),s=r.description,c=0,u=s.Ca;c<u;c++){for(var l=s.jd(c),h=e.oa.Sa(l),f=e.Xc.JF(l,i),d=this.xb.Va(l),p=0,b=0,v=0,y=this.Kb(t);-1!=y;y=this.Qb(y)){var m=0;this.Lb(y)&&(m|=1),this.rU(y)&&(m|=4),0!=m&&o.DK(b,m);var g=this.Ha(y);if(a.write(b++,v),v+=g,0==l){g=d;var O=f,j=new e.b;for(m=this.Za(y);p<v;m=this.T(m),p++){var w=this.Ua(m);g.mc(2*w,j),O.Au(2*p,j)}}else for(m=this.Za(y);p<v;m=this.T(m),p++)for(w=this.Ua(m),O=0;O<h;O++)j=d.Ig(w*h+O),f.Mr(p*h+O,j)}r.yn(l,f),a.write(n,i)}r.TK(o),r.UK(a),r.Oc(16777215)}else if(550==n){for(s=r.description,r.resize(i),c=0,u=s.Ca;c<u;c++){for(l=s.jd(c),h=e.oa.Sa(l),f=r.Va(l),d=this.xb.Va(l),p=0,y=this.Kb(t),g=this.Ha(y),m=this.Za(y);p<g;m=this.T(m),p++)for(w=this.Ua(m),O=0;O<h;O++)j=d.Ig(w*h+O),f.Mr(p*h+O,j);r.yn(l,f)}r.Oc(16777215)}return r},t.prototype.kC=function(e){for(var t=this.Kb(e);-1!=t;t=this.sr(t));t=this.fT(e);var n=this.Ae(e);-1!=t?this.SK(t,n):this.kd=n,-1!=n?this.WK(n,t):this.Ww=t,this.$R(e)},t.prototype.Pg=function(t,n){return void 0===n?this.MF(t,e.ke.ug()):this.MF(t,n)},t.prototype.MF=function(t,n){return t=this.OV(t),null==this.xb?this.xb=this.Sl=new e.Hd(n):this.Sl.Tl(n),this.Pt=this.Sl.description,this.QA=1<this.Pt.Ca,-1==this.kd?this.kd=t:(this.WK(t,this.Ww),this.SK(this.Ww,t)),this.Ww=t},t.prototype.Ae=function(e){return this.dd.S(e,1)},t.prototype.fT=function(e){return this.dd.S(e,0)},t.prototype.dc=function(e){return 2147483647&this.dd.S(e,2)},t.prototype.LK=function(t,n,r){n=this.Dk[n],(t=this.vG(t))>=n.size&&n.resize(Math.max(e.L.truncate(1.25*t),16),-1),n.write(t,r)},t.prototype.wG=function(e,t){return(e=this.vG(e))<(t=this.Dk[t]).size?t.read(e):-1},t.prototype.NF=function(){null==this.Dk&&(this.Dk=[]);for(var t=0;t<this.Dk.length;t++)if(null==this.Dk[t])return this.Dk[t]=e.Xc.Sh(0),t;return this.Dk.push(e.Xc.Sh(0)),this.Dk.length-1},t.prototype.cY=function(e){this.Dk[e]=null},t.prototype.Kb=function(e){return this.dd.S(e,3)},t.prototype.Rv=function(e){return this.dd.S(e,4)},t.prototype.D=function(e){return this.dd.S(e,5)},t.prototype.$=function(e){return this.dd.S(e,6)},t.prototype.$p=function(t,n,r){for(var i=0,a=this.kd;-1!=a;a=this.Ae(a)){var o=this.dc(a);if(e.R.Bc(o)&&(!r||1736==o)){o=1736==this.dc(a);for(var s=this.Kb(a);-1!=s;){for(var c=0,u=this.Za(s);c<e.L.truncate(this.Ha(s)/2);){var l=this.T(u);if(-1==l)break;var h=this.Ua(u),f=this.Yh(h);null!=f?h=f.Pb():(f=this.Ua(l),h=this.xb.Yr(h,f)),h<=t?(0==h?0==i&&(i=-1):i=1,l!=this.wj(s)&&(this.UC(l,u),this.od(l,!0))):u=this.T(u),c++}for(c=this.Za(s),u=this.Lb(s)?c:this.wj(s);0<this.Ha(s);){if(-1==(l=this.Ma(u))){this.od(u,!0),0==i&&(i=-1);break}var d=this.Ua(l);if(null!=(f=this.Yh(d))?h=f.Pb():(h=this.Ua(u),h=this.xb.Yr(h,d)),h<=t)0==h?0==i&&(i=-1):i=1,this.UC(l,u),this.od(l,!1),c==l&&(c=this.Za(s));else if((u=this.Ma(u))==c)break}u=this.Ha(s),n&&(o?3>u:2>u)?(s=this.sr(s),i=0<u?1:0==i?-1:i):s=this.Qb(s)}}}return i},t.prototype.UC=function(e,t){var n=this.Ua(e),r=this.Ua(t);if(null!=this.Zg&&(n=this.Zg.read(n),this.Zg.write(r,n)),null!=this.hi)for(r=0,n=this.hi.length;r<n;r++)if(null!=this.hi[r]){var i=this.Na(e,r);-1!=i&&this.Qa(t,r,i)}},t.prototype.em=function(t,n,r){var i=0,a=this.T(t);if(-1==a)throw e.f.za();for(var o=this.Ua(t),s=this.Ua(a),c=this.Yh(o),u=null==c?this.xb.Yr(o,s):c.Pb(),l=0;l<r;l++){var h=n[l];if(0<h&&1>h){var f=h;null!=c&&(f=0<u?c.zy(h)/u:0),this.xb.VD(o,s,f,this.zm());var d=this.Bj(this.cd(t),a,this.zm());if(i++,null!=c){var p=c.jl(0,h);f=this.Ua(this.Ma(d)),this.eh(f,p),this.wf(d,p.wc()),l!=r-1&&1!=n[l+1]||(h=c.jl(h,1),this.eh(f,h))}}}return i},t.prototype.qZ=function(t,n,r){var i=0,a=this.T(t);if(-1==a)throw e.f.Y("internal error");var o=this.Ua(t),s=this.Ua(a),c=this.Yh(o),u=null==c?this.xb.Yr(o,s):c.Pb(),l=0;t=this.cd(t);for(var h=0;h<r;h++){var f=n[h];if(l<f&&1>f){var d=f;if(null!=c&&(d=0<u?c.zy(f)/u:0),this.xb.VD(o,s,d,this.zm()),d=this.TT(t,a,this.zm()),i++,null!=c){l=c.jl(l,f);var p=this.Ua(this.Ma(d));this.eh(p,l),this.nb(d,l.pa,l.ma),h!=r-1&&1!=n[h+1]||(l=c.jl(f,1),d=this.Ua(d),this.eh(d,l))}}l=f}return i},t.prototype.TT=function(e,t,n){var r=-1!=t?this.Ma(t):this.wj(e),i=-1!=r?this.T(r):-1,a=this.dJ(null==n?this.pd:-1),o=this.Ua(a);return null!=n&&this.xb.qu(o,n),this.hj(a,e),this.Dc(a,i),this.Ec(a,r),-1!=i&&this.Ec(i,a),-1!=r&&this.Dc(r,a),n=this.Lb(e),r=this.Za(e),-1==t&&this.dh(e,a),t==r&&(n&&-1!=r||this.Sf(e,a)),n&&-1==i&&(this.Dc(a,a),this.Ec(a,a)),this.Wj(e,this.Ha(e)+1),e=this.Zf(e),this.Uj(e,this.D(e)+1),a},t.prototype.gF=function(t,n,r){var i=this.Ua(n),a=this.Ua(r);if(0>i||a>this.pd-1)throw e.f.I("invalid call");if(i>a&&!this.Lb(t))throw e.f.I("cannot iterate across an open path");for(t=0;n!=r;n=this.T(n))i=this.Ua(n),null!=(a=this.Yh(i))?t+=a.Pb():(a=this.Ua(this.T(n)),t+=this.xb.Yr(i,a));return t},t.prototype.Hh=function(e,t){var n=this.Ua(e);this.xb.qu(n,t),null!=(n=this.Yh(n))&&n.setStart(t),-1!=(e=this.Ma(e))&&(e=this.Ua(e),null!=this.Yh(e)&&n.setEnd(t))},t.prototype.bj=function(e,t){e=this.Ua(e),this.xb.ne(e,t)},t.prototype.wf=function(e,t){this.nb(e,t.x,t.y)},t.prototype.nb=function(e,t,n){var r=this.Ua(e);this.xb.nb(r,t,n),null!=(r=this.Yh(r))&&r.GC(t,n),-1!=(e=this.Ma(e))&&(e=this.Ua(e),null!=this.Yh(e)&&r.am(t,n))},t.prototype.w=function(e,t){this.xb.w(this.ud.S(e,0),t)},t.prototype.Hc=function(e,t){this.xb.va[0].mc(2*this.ud.S(e,0),t)},t.prototype.xa=function(t){var n=new e.b;return this.xb.w(this.ud.S(t,0),n),n},t.prototype.PG=function(e,t){this.Qt.mc(2*e,t)},t.prototype.Rc=function(e,t,n){return this.xb.Rc(e,this.Ua(t),n)},t.prototype.setAttribute=function(e,t,n,r){this.xb.setAttribute(e,this.Ua(t),n,r)},t.prototype.Ua=function(e){return this.ud.S(e,0)},t.prototype.lf=function(){var t=new e.b;return this.w(void 0,t),t.y},t.prototype.wq=function(e,t){e=this.Ua(e),t=this.Ua(t);var n=this.xb.va[0].i;return n[2*e]===n[2*t]&&n[2*e+1]===n[2*t+1]},t.prototype.jw=function(e,t){e=this.Ua(e);var n=this.xb.va[0].i;return n[2*e]===t.x&&n[2*e+1]===t.y},t.prototype.ZY=function(t,n){if(1>n&&(n=1),null==this.Zg){if(1==n)return;this.Zg=e.Xc.Wn(this.xb.D(),1)}(t=this.Ua(t))>=this.Zg.size&&this.Zg.resize(t+1,1),this.Zg.write(t,n)},t.prototype.OG=function(e){return e=this.Ua(e),null==this.Zg||e>=this.Zg.size?1:this.Zg.read(e)},t.prototype.Qa=function(e,t,n){t=this.hi[t],e=this.Ua(e),t.size<this.xb.D()&&t.resize(this.xb.D(),-1),t.write(e,n)},t.prototype.Na=function(e,t){return(e=this.Ua(e))<(t=this.hi[t]).size?t.read(e):-1},t.prototype.Kd=function(){null==this.hi&&(this.hi=[]);for(var t=0;t<this.hi.length;t++)if(null==this.hi[t])return this.hi[t]=e.Xc.Sh(0,-1),t;return this.hi.push(e.Xc.Sh(0,-1)),this.hi.length-1},t.prototype.Xd=function(e){this.hi[e]=null},t.prototype.ec=function(e){return null!=this.bf?(e=this.Ua(e),this.bf[e]):null},t.prototype.gd=function(t,n){var r=this.ud.S(t,2);if(-1==r)return!1;if(this.QA){var i=new e.Ra;this.bj(t,i),n.setStart(i),this.bj(r,i),n.setEnd(i)}else this.xb.Hc(this.ud.S(t,0),Q),n.pm(0,Q),this.xb.Hc(this.ud.S(r,0),Q),n.pm(1,Q);return!0},t.prototype.DX=function(t,n,r){if(this.QA){var i=new e.Ra;this.bj(t,i),r.setStart(i),this.bj(n,i),r.setEnd(i)}else this.xb.Hc(t,Q),r.pm(0,Q),this.xb.Hc(n,Q),r.pm(1,Q)},t.prototype.Ef=function(t,n){if(-1!=n){if(t!=this.Zf(n))throw e.f.za();var r=this.Js(n)}else r=this.Rv(t);var i=this.QV(t);return-1!=n&&this.rp(n,i),this.qp(i,n),this.rp(i,r),-1!=r?this.qp(r,i):this.op(t,i),-1==n&&this.pp(t,i),this.bm(t,this.$(t)+1),i},t.prototype.$G=function(e,t,n,r){e=this.Ef(e,-1);for(var i=0,a=t,o=!1;a==n&&(o=!0),this.hj(a,e),i++,(a=this.T(a))!=t;);return this.An(e,!0),this.Wj(e,i),o&&(t=n),this.Sf(e,t),this.dh(e,this.Ma(t)),this.sp(e,!1),null!=r&&(r[0]=o),e},t.prototype.sr=function(e){var t=this.Js(e),n=this.Qb(e),r=this.Zf(e);return-1!=t?this.qp(t,n):this.op(r,n),-1!=n?this.rp(n,t):this.pp(r,t),this.KP(e),this.bm(r,this.$(r)-1),this.fG(e),n},t.prototype.KP=function(e){var t=this.Za(e);if(-1!=t){for(var n=0,r=this.Ha(e);n<r;n++){var i=t;t=this.T(t),this.Az(i)}t=this.Zf(e),this.Uj(t,this.D(t)-this.Ha(e))}this.Wj(e,0)},t.prototype.Qb=function(e){return this.ld.S(e,2)},t.prototype.Js=function(e){return this.ld.S(e,1)},t.prototype.Ha=function(e){return this.ld.S(e,3)},t.prototype.Lb=function(e){return 0!=(1&this.mq(e))},t.prototype.An=function(e,t){if(this.Lb(e)!=t){if(0<this.Ha(e)){var n=this.Za(e),r=this.wj(e);t?(this.Dc(r,n),this.Ec(n,r),n=this.Ua(r)):(this.Dc(r,-1),this.Ec(n,-1),n=this.Ua(r)),this.eh(n,null)}this.DC(e,(1|this.mq(e))-1|(t?1:0))}},t.prototype.Zf=function(e){return this.ld.S(e,7)},t.prototype.rU=function(e){return 0!=(2&this.mq(e))},t.prototype.yC=function(e,t){this.DC(e,(2|this.mq(e))-2|(t?2:0))},t.prototype.eA=function(t){if(this.zU(t))return this.Ui.get(this.Yv(t));var n=new e.zb,r=this.Za(t);if(-1==r)return 0;var i=new e.b;this.w(r,i);for(var a=0,o=0,s=this.Ha(t);o<s;o++,r=this.T(r)){var c=this.ec(r);if(null==c){if(!this.gd(r,n))continue;c=n}a+=c.yy(i.x,i.y)}return this.sp(t,!0),this.Ui.set(this.Yv(t),a),a},t.prototype.Br=function(e,t,n){t=this.Kk[t],e=this.Yv(e),t.size<this.Ui.size&&t.resize(this.Ui.size,-1),t.write(e,n)},t.prototype.yj=function(e,t){return(e=this.Yv(e))<(t=this.Kk[t]).size?t.read(e):-1},t.prototype.oz=function(){null==this.Kk&&(this.Kk=[]);for(var t=0;t<this.Kk.length;t++)if(null==this.Kk[t])return this.Kk[t]=e.Xc.Sh(0),t;return this.Kk.push(e.Xc.Sh(0)),this.Kk.length-1},t.prototype.lC=function(e){this.Kk[e]=null},t.prototype.sV=function(t,n,r){if(-1==r)throw e.f.I();if(n!=r){var i=this.Qb(r),a=this.Js(r),o=this.Zf(r);-1==a?this.op(o,i):this.qp(a,i),-1==i?this.pp(o,a):this.rp(i,a),this.Uj(o,this.D(o)-this.Ha(r)),this.bm(o,this.$(o)-1),a=-1==n?this.Rv(t):this.Js(n),this.rp(r,a),this.qp(r,n),-1==n?this.pp(t,r):this.rp(n,r),-1==a?this.op(t,r):this.qp(a,r),this.Uj(t,this.D(t)+this.Ha(r)),this.bm(t,this.$(t)+1),this.Nx(r,t)}},t.prototype.oj=function(e,t){this.xb.ne(this.Ua(t),this.zm()),this.Bj(e,-1,this.zm())},t.prototype.od=function(t,n){var r=this.cd(t),i=this.Ma(t),a=this.T(t);-1!=i&&this.Dc(i,a);var o=this.Ha(r);if(t==this.Za(r)&&this.Sf(r,1<o?a:-1),-1!=a&&this.Ec(a,i),t==this.wj(r)&&this.dh(r,1<o?i:-1),-1!=i&&-1!=a){i=this.Ua(i);var s=this.Ua(a);n?null!=(n=this.Yh(i))&&(i=new e.b,this.xb.w(s,i),n.Sc(i)):(s=this.Ua(t),n=this.Yh(s),this.eh(i,n),null!=n&&(i=this.xb.xa(i),n.Fc(i)))}return this.Wj(r,o-1),r=this.Zf(r),this.Uj(r,this.D(r)-1),this.Az(t),a},t.prototype.Za=function(e){return this.ld.S(e,4)},t.prototype.wj=function(e){return this.ld.S(e,5)},t.prototype.T=function(e){return this.ud.S(e,2)},t.prototype.Ma=function(e){return this.ud.S(e,1)},t.prototype.cd=function(e){return this.ud.S(e,3)},t.prototype.jc=function(e,t){return this.Bj(e,-1,t)},t.prototype.rr=function(t){if(void 0===t)return this.rr(!1);if(t instanceof r)return new r(t);var n,i=-1,a=-1,o=-1,s=0,c=!1;for(n=this.kd;-1!=n;n=this.Ae(n))if(!t||e.R.Bc(this.dc(n))){for(i=this.Kb(n);-1!=i;i=this.Qb(i))if(o=a=this.Za(i),s=0,-1!=a){c=!0;break}if(c)break}return r.LQ(this,n,i,a,o,s,t)},t.prototype.Qc=function(e){if(this.Sl.Qc(e),null!=this.bf)for(var t=0,n=this.bf.length;t<n;t++)null!=this.bf[t]&&this.bf[t].Qc(e)},t.prototype.Fr=function(e,t,n,r){r?this.sZ(e,t,n):this.rZ(e,t,n)},t.prototype.Ec=function(e,t){this.ud.P(e,1,t)},t.prototype.Dc=function(e,t){this.ud.P(e,2,t)},t.prototype.hj=function(e,t){this.ud.P(e,3,t)},t.prototype.Wj=function(e,t){this.ld.P(e,3,t)},t.prototype.Sf=function(e,t){this.ld.P(e,4,t)},t.prototype.dh=function(e,t){this.ld.P(e,5,t)},t.prototype.bm=function(e,t){this.dd.P(e,6,t)},t.prototype.Uj=function(e,t){this.dd.P(e,5,t)},t.prototype.tK=function(e){var t=e;do{var n=this.T(t);this.Dc(t,this.Ma(t)),this.Ec(t,n),t=n}while(t!=e)},t.prototype.JC=function(e){this.pd=e},t.prototype.tr=function(e){var t=this.Js(e),n=this.Qb(e),r=this.Zf(e);-1!=t?this.qp(t,n):this.op(r,n),-1!=n?this.rp(n,t):this.pp(r,t),this.Sf(e,-1),this.dh(e,-1),this.fG(e)},t.prototype.ui=function(t,n){var r=this.Ma(t),i=this.T(t);if(-1!=r&&this.Dc(r,i),-1!=i&&this.Ec(i,r),-1!=r&&-1!=i)if(r=this.Ua(r),i=this.Ua(i),n){if(null!=(n=this.Yh(r))){var a=new e.b;this.xb.w(i,a),n.Sc(a)}}else n=this.Ua(t),n=this.Yh(n),this.eh(r,n),null!=n&&(a=new e.b,this.xb.w(r,a),n.Fc(a));this.Az(t)},t.prototype.zU=function(e){return 0!=(4&this.mq(e))},t.prototype.sp=function(e,t){this.DC(e,(4|this.mq(e))-4|(t?4:0))},t.prototype.Vx=function(e,t){var n=this.ud.i;this.xb.rc();var r=this.xb.va[0].i;e.Zd(0,t,(function(e,t){var i=n[5*e];e=n[5*t],t=r[2*i],i=r[2*i+1];var a=r[2*e];return i<(e=r[2*e+1])?-1:i>e?1:t<a?-1:t>a?1:0}))},t.prototype.ET=function(){for(var t=this.kd;-1!=t;t=this.Ae(t))if(!e.R.Bc(this.dc(t)))return!0;return!1},t.prototype.QC=function(e,t){for(var n=this.Kb(e),r=this.Kb(t),i=this.Rv(e),a=this.Rv(t),o=this.Kb(e);-1!=o;o=this.Qb(o))this.Nx(o,t);for(o=this.Kb(t);-1!=o;o=this.Qb(o))this.Nx(o,e);this.op(e,r),this.op(t,n),this.pp(e,a),this.pp(t,i),n=this.D(e),r=this.$(e),i=this.$(t),this.Uj(e,this.D(t)),this.Uj(t,n),this.bm(e,i),this.bm(t,r),n=this.dd.S(e,2),this.dd.P(e,2,this.dd.S(t,2)),this.dd.P(t,2,n)},t}(),e.Yc=t}(Y||(Y={})),function(e){var t=function(t){function n(n,r,i,a){var o=t.call(this)||this;return o.X=new e.g,void 0===n?o.FF():"number"==typeof n?o.eQ(n,r,i,a):n instanceof e.Ra?void 0!==r?o.xv(n,r,i):o.fQ(n):n instanceof e.oa?void 0!==r?o.hQ(n,r):o.gQ(n):n instanceof e.g?o.dQ(n):o.FF(),o}return X(n,t),n.prototype.xv=function(t,n,r){this.description=e.ke.ug(),this.X.Ka(),t.u()||this.Zu(t,n,r)},n.prototype.dQ=function(t){this.description=e.ke.ug(),this.X.H(t),this.X.normalize()},n.prototype.gQ=function(t){if(null==t)throw e.f.I();this.description=t,this.X.Ka()},n.prototype.hQ=function(t,n){if(null==t)throw e.f.I();this.description=t,this.X.H(n),this.X.normalize()},n.prototype.FF=function(){this.description=e.ke.ug(),this.X.Ka()},n.prototype.fQ=function(t){this.description=e.ke.ug(),this.X.Ka(),t.u()||this.Zu(t)},n.prototype.eQ=function(t,n,r,i){this.description=e.ke.ug(),this.H(t,n,r,i)},n.prototype.H=function(e,t,n,r){if(this.vc(),"number"==typeof e)this.X.H(e,t,n,r);else for(this.Ka(),t=0,n=e.length;t<n;t++)this.Nb(e[t])},n.prototype.mp=function(t){if(this.vc(),!t.BU())throw e.f.I();this.X.H(t)},n.prototype.Ka=function(){this.vc(),this.X.Ka()},n.prototype.u=function(){return this.X.u()},n.prototype.N=function(){return this.X.N()},n.prototype.ca=function(){return this.X.ca()},n.prototype.lk=function(){return this.X.lk()},n.prototype.cq=function(){return this.X.cq()},n.prototype.bq=function(){return this.X.hf()},n.prototype.Nb=function(t){if(t instanceof e.b)this.vc(),this.X.Nb(t);else if(t instanceof e.g)this.vc(),this.X.Nb(t);else if(t instanceof e.Ra){if(this.vc(),!t.Ac()){var r=t.description;if(this.description!=r&&this.Tl(r),this.u())this.Zu(t);else{this.X.Nb(t.w());for(var i=1,a=r.Ca;i<a;i++)for(var o=r.Jd(i),s=e.oa.Sa(o),c=0;c<s;c++){var u=t.Rc(o,c),l=this.Qf(o,c);l.Nb(u),this.setInterval(o,c,l)}}}}else if(t instanceof n&&!t.u())for((r=t.description)!=this.description&&this.Tl(r),this.X.Nb(t.X),i=1,a=r.Ca;i<a;i++)for(o=r.jd(i),s=e.oa.Sa(o),c=0;c<s;c++)u=t.Qf(o,c),(l=this.Qf(o,c)).Nb(u),this.setInterval(o,c,l)},n.prototype.Zu=function(t,n,r){if(void 0!==n){this.X.H(t.w(),n,r),r=1;for(var i=(n=t.description).Ca;r<i;r++)for(var a=n.Jd(r),o=e.oa.Sa(a),s=0;s<o;s++){var c=t.Rc(a,s);this.setInterval(a,s,c,c)}}else for(this.X.H(t.ia[0],t.ia[1]),r=1,i=(n=t.description).Ca;r<i;r++)for(a=n.Jd(r),o=e.oa.Sa(a),s=0;s<o;s++)c=t.Rc(a,s),this.setInterval(a,s,c,c)},n.prototype.setInterval=function(t,n,r,i){if(r="number"==typeof r?new e.uc(r,i):r,this.vc(),0==t)if(0==n)this.X.o=r.fa,this.X.v=r.ja;else{if(1!=n)throw e.f.Gd();this.X.A=r.fa,this.X.B=r.ja}else this.gE(0,t,n,r.fa),this.gE(1,t,n,r.ja)},n.prototype.O=function(e,t){this.vc(),this.X.O(e,t)},n.prototype.Qc=function(t){if(t instanceof e.xd)this.vc(),t.VC(this.X);else if(this.vc(),!this.X.u()){var n=new e.WL;this.ip(n),n.qU()?n.Ka():t.VC(n)}},n.prototype.copyTo=function(t){if(t.F()!=this.F())throw e.f.I();if(t.vc(),t.description=this.description,t.X.H(this.X),t.ia=null,null!=this.ia){t.Uu();for(var n=0;n<2*(this.description.Ge.length-2);n++)t.ia[n]=this.ia[n]}},n.prototype.Ga=function(){return new n(this.description)},n.prototype.Pe=function(){return this.X.jG()},n.prototype.Pb=function(){return this.X.AG()},n.prototype.F=function(){return 197},n.prototype.pb=function(){return 2},n.prototype.qn=function(e){this.copyTo(e)},n.prototype.s=function(e){e.o=this.X.o,e.A=this.X.A,e.v=this.X.v,e.B=this.X.B},n.prototype.ip=function(e){e.o=this.X.o,e.A=this.X.A,e.v=this.X.v,e.B=this.X.B,e.H(this.X.o,this.X.A,this.Pd(0,1,0),this.X.v,this.X.B,this.Pd(1,1,0))},n.prototype.Qf=function(t,n){var r=new e.uc;return r.H(this.Pd(0,t,n),this.Pd(1,t,n)),r},n.prototype.Pf=function(t,n){n.rg(this.description);var r=this.description.Ca-1;switch(t){case 0:for(t=0;t<r;t++)for(var i=this.description.jd(t),a=e.oa.Sa(i),o=0;o<a;o++)n.setAttribute(i,o,this.Pd(0,i,o));n.nb(this.X.o,this.X.A);break;case 1:for(t=0;t<r;t++)for(i=this.description.jd(t),a=e.oa.Sa(i),o=0;o<a;o++)n.setAttribute(i,o,this.Pd(1,i,o));n.nb(this.X.o,this.X.B);break;case 2:for(t=0;t<r;t++)for(i=this.description.jd(t),a=e.oa.Sa(i),o=0;o<a;o++)n.setAttribute(i,o,this.Pd(0,i,o));n.nb(this.X.v,this.X.B);break;case 3:for(t=0;t<r;t++)for(i=this.description.jd(t),a=e.oa.Sa(i),o=0;o<a;o++)n.setAttribute(i,o,this.Pd(1,i,o));n.nb(this.X.v,this.X.A);break;default:throw e.f.Gd()}},n.prototype.Ax=function(e,t){e=this.X.Ax(e),t.ka(e.x,e.y)},n.prototype.yS=function(e,t){return t*(e.gr-2)},n.prototype.kG=function(t,n,r){if(this.X.u())throw e.f.Y("empty geometry");if(0==n)return 0!=t?0!=r?this.X.B:this.X.v:0!=r?this.X.A:this.X.o;if(r>=e.oa.Sa(n))throw e.f.I();var i=this.description.Yf(n);return this.Uu(),0<=i?this.ia[this.yS(this.description,t)+this.description.bT(i)-2+r]:e.oa.me(n)},n.prototype.Uu=function(){if(this.vc(),null==this.ia&&2<this.description.Ge.length){this.ia=[];for(var t=n.Mg(this.description,0),r=n.Mg(this.description,1),i=0,a=1,o=this.description.Ca;a<o;a++){var s=this.description.jd(a),c=e.oa.Sa(s);s=e.oa.me(s);for(var u=0;u<c;u++)this.ia[t+i]=s,this.ia[r+i]=s,i++}}},n.prototype.Ln=function(t){if(null!=this.ia)if(2<t.Ge.length){for(var r=e.ke.ox(t,this.description),i=[],a=n.Mg(this.description,0),o=n.Mg(this.description,1),s=n.Mg(t,0),c=n.Mg(t,1),u=0,l=1,h=t.Ca;l<h;l++){var f=t.jd(l),d=e.oa.Sa(f);if(-1==r[l]){var p=e.oa.me(f);for(f=0;f<d;f++)i[s+u]=p,i[c+u]=p,u++}else for(p=this.description.dk(r[l])-2,f=0;f<d;f++)i[s+u]=this.ia[a+p],i[c+u]=this.ia[o+p],u++,p++}this.ia=i}else this.ia=null;this.description=t},n.prototype.Pd=function(t,r,i){if(this.X.u())throw e.f.Y("This operation was performed on an Empty Geometry.");if(0==r)return 0!=t?0!=i?this.X.B:this.X.v:0!=i?this.X.A:this.X.o;if(i>=e.oa.Sa(r))throw e.f.Gd();var a=this.description.Yf(r);return 0<=a?(this.Uu(),this.ia[n.Mg(this.description,t)+this.description.dk(a)-2+i]):e.oa.me(r)},n.prototype.gE=function(t,r,i,a){if(this.vc(),0==r)0!=t?0!=i?this.X.B=a:this.X.v=a:0!=i?this.X.A=a:this.X.o=a;else{if(i>=e.oa.Sa(r))throw e.f.Gd();if(!this.hasAttribute(r)){if(e.oa.pH(r,a))return;this.le(r)}r=this.description.Yf(r),this.Uu(),this.ia[n.Mg(this.description,t)+this.description.dk(r)-2+i]=a}},n.Mg=function(e,t){return t*(e.Ge.length-2)},n.prototype.Ia=function(t){this.vc();var n=new e.g;return t.s(n),this.X.Ia(n)},n.prototype.isIntersecting=function(t){return t instanceof e.g?this.X.isIntersecting(t):this.X.isIntersecting(t.X)},n.prototype.qv=function(e,t){this.vc(),e.u()?this.Ka():void 0!==t?this.Zu(e,t,void 0):this.X.qv(e.Ce(),e.lf())},n.prototype.offset=function(e,t){this.vc(),this.X.offset(e,t)},n.prototype.normalize=function(){this.vc(),this.X.normalize()},n.prototype.hf=function(t){if(void 0===t){if(t=new e.Ra(this.description),this.u())return t;for(n=this.description.Ca,r=1;r<n;r++)for(i=this.description.Jd(r),a=e.oa.Sa(i),o=0;o<a;o++)s=.5*(this.Pd(0,i,o)+this.Pd(1,i,o)),t.setAttribute(i,o,s);return t.nb(this.X.lk(),this.X.cq()),t}if(t.rg(this.description),this.u())t.Ka();else{for(var n=this.description.Ca,r=1;r<n;r++)for(var i=this.description.jd(r),a=e.oa.Sa(i),o=0;o<a;o++){var s=.5*(this.kG(0,i,o)+this.kG(1,i,o));t.setAttribute(i,o,s)}t.nb(this.X.hf())}},n.prototype.Wz=function(){return new e.Ra(this.X.Wz())},n.prototype.contains=function(t){return t instanceof e.Ra?!t.u()&&this.X.contains(t.Ce(),t.lf()):this.X.contains(t.X)},n.prototype.nQ=function(e){return this.X.contains(e)},n.prototype.Ib=function(e){if(e==this)return!0;if(!(e instanceof n)||this.description!=e.description)return!1;if(this.u())return!!e.u();if(!this.X.Ib(e.X))return!1;for(var t=0,r=2*(this.description.Ge.length-2);t<r;t++)if(this.ia[t]!=e.ia[t])return!1;return!0},n.prototype.fc=function(){var t=this.description.fc();if(t=e.L.Zh(t,this.X.fc()),!this.u()&&null!=this.ia)for(var n=0,r=2*(this.description.Ge.length-2);n<r;n++)t=e.L.Zh(t,this.ia[n]);return t},n.prototype.Ms=function(){return this.X.o},n.prototype.Os=function(){return this.X.A},n.prototype.Ls=function(){return this.X.v},n.prototype.Ns=function(){return this.X.B},n.prototype.sg=function(){return e.yi.qm(this,null)},n.prototype.toString=function(){return this.u()?"Envelope: []":"Envelope: ["+this.X.o+", "+this.X.A+", "+this.X.v+", "+this.X.B+"]"},n}(e.R);e.Ih=t}(Y||(Y={})),function(e){var t=function(){function t(e,t,n,r){void 0===e?this.Ka():(this.o=e,this.A=t,this.v=n,this.B=r)}return t.construct=function(e,n,r,i){var a=new t;return a.o=e,a.A=n,a.v=r,a.B=i,a},t.prototype.H=function(n,r,i,a){"number"==typeof n?void 0!==i?(this.o=n,this.A=r,this.v=i,this.B=a,this.normalize()):(this.o=n,this.A=r,this.v=n,this.B=r):n instanceof e.b?void 0!==r?(this.o=n.x-.5*r,this.v=this.o+r,this.A=n.y-.5*i,this.B=this.A+i,this.normalize()):(this.o=n.x,this.A=n.y,this.v=n.x,this.B=n.y):n instanceof t?this.H(n.o,n.A,n.v,n.B):n instanceof e.uc&&(n.u()||r.u()?this.Ka():(this.o=n.fa,this.v=n.ja,this.A=r.fa,this.B=r.ja))},t.prototype.KS=function(e,n){var r=new t;return r.H(this.o,this.A,this.v,this.B),r.O(e,n),r},t.prototype.Ix=function(e,t){if(void 0!==t)if(0==t)this.Ka();else{this.o=e[0].x,this.A=e[0].y,this.v=this.o,this.B=this.A;for(var n=1;n<t;n++){var r=e[n];r.x<this.o?this.o=r.x:r.x>this.v&&(this.v=r.x),r.y<this.A?this.A=r.y:r.y>this.B&&(this.B=r.y)}}else if(null==e||0==e.length)this.Ka();else for(r=e[0],this.H(r.x,r.y),n=1;n<e.length;n++)t=e[n],this.Sk(t.x,t.y)},t.prototype.Ka=function(){this.B=this.v=this.A=this.o=NaN},t.prototype.u=function(){return isNaN(this.o)},t.prototype.Nb=function(n,r){"number"==typeof n?this.u()?(this.o=n,this.A=r,this.v=n,this.B=r):(this.o>n?this.o=n:this.v<n&&(this.v=n),this.A>r?this.A=r:this.B<r&&(this.B=r)):n instanceof e.b||n instanceof e.Id?this.Nb(n.x,n.y):n instanceof t&&!n.u()&&(this.Nb(n.o,n.A),this.Nb(n.v,n.B))},t.prototype.Sk=function(e,t){this.o>e?this.o=e:this.v<e&&(this.v=e),this.A>t?this.A=t:this.B<t&&(this.B=t)},t.prototype.O=function(e,t){this.u()||(this.o-=e,this.v+=e,this.A-=t,this.B+=t,(this.o>this.v||this.A>this.B)&&this.Ka())},t.prototype.scale=function(e){0>e&&this.Ka(),this.u()||(this.o*=e,this.v*=e,this.A*=e,this.B*=e)},t.prototype.zoom=function(e,t){this.u()||this.H(this.hf(),e*this.N(),t*this.ca())},t.prototype.isIntersecting=function(e){return!this.u()&&!e.u()&&(this.o<=e.o?this.v>=e.o:e.v>=this.o)&&(this.A<=e.A?this.B>=e.A:e.B>=this.A)},t.prototype.tH=function(e){return(this.o<=e.o?this.v>=e.o:e.v>=this.o)&&(this.A<=e.A?this.B>=e.A:e.B>=this.A)},t.prototype.Ia=function(e){return!this.u()&&!e.u()&&(e.o>this.o&&(this.o=e.o),e.v<this.v&&(this.v=e.v),e.A>this.A&&(this.A=e.A),e.B<this.B&&(this.B=e.B),(e=this.o<=this.v&&this.A<=this.B)||this.Ka(),e)},t.prototype.Ax=function(t){switch(t){case 0:return e.b.construct(this.o,this.A);case 1:return e.b.construct(this.o,this.B);case 2:return e.b.construct(this.v,this.B);case 3:return e.b.construct(this.v,this.A);default:throw e.f.Gd()}},t.prototype.XB=function(t){if(null==t||4>t.length)throw e.f.I();null!=t[0]?t[0].ka(this.o,this.A):t[0]=e.b.construct(this.o,this.A),null!=t[1]?t[1].ka(this.o,this.B):t[1]=e.b.construct(this.o,this.B),null!=t[2]?t[2].ka(this.v,this.B):t[2]=e.b.construct(this.v,this.B),null!=t[3]?t[3].ka(this.v,this.A):t[3]=e.b.construct(this.v,this.A)},t.prototype.jG=function(){return this.u()?0:this.N()*this.ca()},t.prototype.AG=function(){return this.u()?0:2*(this.N()+this.ca())},t.prototype.lk=function(){return(this.v+this.o)/2},t.prototype.cq=function(){return(this.B+this.A)/2},t.prototype.N=function(){return this.v-this.o},t.prototype.ca=function(){return this.B-this.A},t.prototype.move=function(e,t){this.u()||(this.o+=e,this.A+=t,this.v+=e,this.B+=t)},t.prototype.qv=function(t,n){if(void 0!==n)this.move(t-this.lk(),n-this.cq());else if(t instanceof e.b)this.qv(t.x,t.y);else{if(!(t instanceof e.Ra))throw e.f.I();n=(this.v-this.o)/2;var r=(this.B-this.A)/2;this.o=t.Ce()-n,this.v=t.Ce()+n,this.A=t.lf()-r,this.B=t.lf()+r}},t.prototype.offset=function(e,t){this.o+=e,this.v+=e,this.A+=t,this.B+=t},t.prototype.normalize=function(){if(!this.u()){var e=Math.min(this.o,this.v),t=Math.max(this.o,this.v);this.o=e,this.v=t,e=Math.min(this.A,this.B),t=Math.max(this.A,this.B),this.A=e,this.B=t}},t.prototype.tn=function(e){e.ka(this.o,this.A)},t.prototype.RJ=function(e){e.ka(this.v,this.A)},t.prototype.UJ=function(e){e.ka(this.o,this.B)},t.prototype.un=function(e){e.ka(this.v,this.B)},t.prototype.BU=function(){return this.u()||this.o<=this.v&&this.A<=this.B},t.prototype.hf=function(){return e.b.construct((this.v+this.o)/2,(this.B+this.A)/2)},t.prototype.Wz=function(){return e.b.construct(this.o,this.A)},t.prototype.contains=function(n,r){if(void 0!==r)return n>=this.o&&n<=this.v&&r>=this.A&&r<=this.B;if(n instanceof e.Ra)return this.contains(n.Ce(),n.lf());if(n instanceof e.b)return this.contains(n.x,n.y);if(n instanceof t)return n.o>=this.o&&n.v<=this.v&&n.A>=this.A&&n.B<=this.B;throw e.f.I()},t.prototype.sm=function(n,r){if(void 0!==r)return n>this.o&&n<this.v&&r>this.A&&r<this.B;if(n instanceof e.b)return this.sm(n.x,n.y);if(n instanceof t)return n.o>this.o&&n.v<this.v&&n.A>this.A&&n.B<this.B;throw e.f.I()},t.prototype.Ib=function(e){return e==this||e instanceof t&&(!(!this.u()||!e.u())||this.o==e.o&&this.A==e.A&&this.v==e.v&&this.B==e.B)},t.prototype.fc=function(){var t=this.o;t=e.L.truncate(t^t>>>32);var n=e.L.Zh(t);return t=this.v,t=e.L.truncate(t^t>>>32),n=e.L.Zh(t,n),t=this.A,t=e.L.truncate(t^t>>>32),n=e.L.Zh(t,n),t=this.B,t=e.L.truncate(t^t>>>32),e.L.Zh(t,n)},t.prototype.My=function(t){var n=new e.b;return n.K(t),n.Ey()?n:this.u()?(n.iE(),n):(n.x<this.o?n.x=this.o:n.x>this.v&&(n.x=this.v),n.y<this.A?n.y=this.A:n.y>this.B&&(n.y=this.B),n.Ib(t)?(t=this.hf(),(n.x<t.x?n.x-this.o:this.v-n.x)<(n.y<t.y?n.y-this.A:this.B-n.y)?n.x=n.x<t.x?this.o:this.v:n.y=n.y<t.y?this.A:this.B,n):n)},t.prototype.Ru=function(e){if(this.u())return NaN;if(e.x==this.o)return e.y-this.A;var t=this.B-this.A,n=this.v-this.o;return e.y==this.B?t+e.x-this.o:e.x==this.v?t+n+this.B-e.y:e.y==this.A?2*t+n+this.v-e.x:this.Ru(this.My(e))},t.prototype.QD=function(e){if(this.u())return-1;e=this.Ru(e);var t=this.B-this.A,n=this.v-this.o;return e<t?0:(e-=t)<n?1:e-n<t?2:3},t.prototype.Mn=function(){return this.u()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.o)+Math.abs(this.v)+Math.abs(this.A)+Math.abs(this.B)+1)},t.prototype.ez=function(e,n){var r=this.ck(e),i=this.ck(n);if(0!=(r&i))return 0;if(0==(r|i))return 4;var a=(0!=r?1:0)|(0!=i?2:0);do{var o=n.x-e.x,s=n.y-e.y;if(o>s?0!=(r&t.GD)?(0!=(r&t.Pu)?(e.y+=s*(this.o-e.x)/o,e.x=this.o):(e.y+=s*(this.v-e.x)/o,e.x=this.v),r=this.ck(e)):0!=(i&t.GD)?(0!=(i&t.Pu)?(n.y+=s*(this.o-n.x)/o,n.x=this.o):(n.y+=s*(this.v-n.x)/o,n.x=this.v),i=this.ck(n)):0!=r?(0!=(r&t.Qu)?(e.x+=o*(this.A-e.y)/s,e.y=this.A):(e.x+=o*(this.B-e.y)/s,e.y=this.B),r=this.ck(e)):(0!=(i&t.Qu)?(n.x+=o*(this.A-n.y)/s,n.y=this.A):(n.x+=o*(this.B-n.y)/s,n.y=this.B),i=this.ck(n)):0!=(r&t.HD)?(0!=(r&t.Qu)?(e.x+=o*(this.A-e.y)/s,e.y=this.A):(e.x+=o*(this.B-e.y)/s,e.y=this.B),r=this.ck(e)):0!=(i&t.HD)?(0!=(i&t.Qu)?(n.x+=o*(this.A-n.y)/s,n.y=this.A):(n.x+=o*(this.B-n.y)/s,n.y=this.B),i=this.ck(n)):0!=r?(0!=(r&t.Pu)?(e.y+=s*(this.o-e.x)/o,e.x=this.o):(e.y+=s*(this.v-e.x)/o,e.x=this.v),r=this.ck(e)):(0!=(i&t.Pu)?(n.y+=s*(this.o-n.x)/o,n.x=this.o):(n.y+=s*(this.v-n.x)/o,n.x=this.v),i=this.ck(n)),0!=(r&i))return 0}while(0!=(r|i));return a},t.prototype.ck=function(e){return(e.x<this.o?1:0)|(e.x>this.v?1:0)<<1|(e.y<this.A?1:0)<<2|(e.y>this.B?1:0)<<3},t.prototype.Qg=function(e){return!this.u()&&(this.N()<=e||this.ca()<=e)},t.prototype.vb=function(t){return t instanceof e.b?Math.sqrt(this.nL(t)):Math.sqrt(this.Xx(t))},t.prototype.Xx=function(e){var t=0,n=0,r=this.o-e.v;return r>t&&(t=r),(r=this.A-e.B)>n&&(n=r),(r=e.o-this.v)>t&&(t=r),(r=e.A-this.B)>n&&(n=r),t*t+n*n},t.prototype.nL=function(e){var t=0,n=0,r=this.o-e.x;return r>t&&(t=r),(r=this.A-e.y)>n&&(n=r),(r=e.x-this.v)>t&&(t=r),(r=e.y-this.B)>n&&(n=r),t*t+n*n},t.prototype.sn=function(e){this.u()?e.Ka():e.H(this.o,this.v)},t.sN=function(e,t,n,r){var i=1;return isNaN(e)||(i+=Math.abs(e)),isNaN(t)||(i+=Math.abs(t)),isNaN(n)||(i+=Math.abs(n)),isNaN(r)||(i+=Math.abs(r)),2220446049250313e-29*i},t.Pu=1,t.Qu=4,t.GD=3,t.HD=12,t}();e.g=t}(Y||(Y={})),function(e){var t,n;(n=t||(t={}))[n.initialize=0]="initialize",n[n.initializeRed=1]="initializeRed",n[n.initializeBlue=2]="initializeBlue",n[n.initializeRedBlue=3]="initializeRedBlue",n[n.sweep=4]="sweep",n[n.sweepBruteForce=5]="sweepBruteForce",n[n.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce",n[n.sweepRedBlue=7]="sweepRedBlue",n[n.sweepRed=8]="sweepRed",n[n.sweepBlue=9]="sweepBlue",n[n.iterate=10]="iterate",n[n.iterateRed=11]="iterateRed",n[n.iterateBlue=12]="iterateBlue",n[n.iterateBruteForce=13]="iterateBruteForce",n[n.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce",n[n.resetRed=15]="resetRed",n[n.resetBlue=16]="resetBlue";var r=function(){function e(e,t){this.ii=e,this.RH=t}return e.prototype.Lr=function(e,t,n){this.ii.oZ(n,e,t,this.RH)},e.prototype.sq=function(e){return this.ii.ss(e,this.RH)},e}();t=function(){function t(){this.Uw=this.Ho=this.pf=this.sd=null,this.Pq=new e.g,this.Nm=this.Kj=this.Lj=this.Ed=this.Mf=this.Nd=this.Jw=this.yo=this.rd=this.Gb=null,this.Xb=-1,this.qa=0,this.Uk()}return t.prototype.Gr=function(){this.Uk(),this.vw=!0,null==this.Gb?(this.yo=new e.ha(0),this.Gb=[]):(this.yo.Gh(0),this.Gb.length=0)},t.prototype.bd=function(t,n){if(!this.vw)throw e.f.Eb();var r=new e.g;r.H(n),this.yo.add(t),this.Gb.push(r)},t.prototype.Zp=function(){if(!this.vw)throw e.f.Eb();this.vw=!1,null!=this.Gb&&0<this.Gb.length&&(this.Xb=0,this.Jc=!1)},t.prototype.vL=function(){this.Uk(),this.uw=!0,null==this.Gb?(this.yo=new e.ha(0),this.Gb=[]):(this.yo.Gh(0),this.Gb.length=0)},t.prototype.vE=function(t,n){if(!this.uw)throw e.f.Eb();var r=new e.g;r.H(n),this.yo.add(t),this.Gb.push(r)},t.prototype.WF=function(){if(!this.uw)throw e.f.Eb();this.uw=!1,null!=this.Gb&&0<this.Gb.length&&null!=this.rd&&0<this.rd.length&&(-1==this.Xb||2==this.Xb?this.Xb=3:3!=this.Xb&&(this.Xb=1),this.Jc=!1)},t.prototype.uL=function(){this.Uk(),this.tw=!0,null==this.rd?(this.Jw=new e.ha(0),this.rd=[]):(this.Jw.Gh(0),this.rd.length=0)},t.prototype.qE=function(t,n){if(!this.tw)throw e.f.Eb();var r=new e.g;r.H(n),this.Jw.add(t),this.rd.push(r)},t.prototype.VF=function(){if(!this.tw)throw e.f.Eb();this.tw=!1,null!=this.Gb&&0<this.Gb.length&&null!=this.rd&&0<this.rd.length&&(-1==this.Xb||1==this.Xb?this.Xb=3:3!=this.Xb&&(this.Xb=2),this.Jc=!1)},t.prototype.next=function(){if(this.Jc)return!1;for(var t=!0;t;)switch(this.Xb){case 0:t=this.oA();break;case 1:t=this.MT();break;case 2:t=this.JT();break;case 3:t=this.LT();break;case 4:t=this.zZ();break;case 5:t=this.vZ();break;case 6:t=this.wZ();break;case 7:t=this.xZ();break;case 8:t=this.ay();break;case 9:t=this.RC();break;case 10:t=this.DA();break;case 11:t=this.FU();break;case 12:t=this.CU();break;case 13:t=this.DU();break;case 14:t=this.EU();break;case 15:t=this.oK();break;case 16:t=this.nK();break;default:throw e.f.za()}return!this.Jc},t.prototype.IC=function(e){this.qa=e},t.prototype.cA=function(e){return this.Gb[e]},t.prototype.Gz=function(e){return this.rd[e]},t.prototype.tl=function(e){return this.yo.read(e)},t.prototype.ol=function(e){return this.Jw.read(e)},t.CA=function(e){return 1==(1&e)},t.vq=function(e){return 0==(1&e)},t.prototype.Uk=function(){this.vw=this.tw=this.uw=!1,this.Kf=this.Lf=this.Xg=this.we=-1,this.Jc=!0},t.prototype.oA=function(){if(this.If=this.dg=-1,10>this.Gb.length)return this.we=this.Gb.length,this.Xb=5,!0;null==this.sd&&(this.sd=new e.Qr(!0),this.Ho=this.sd.getIterator(),this.Nd=new e.ha(0)),this.sd.Gr();for(var t=0;t<this.Gb.length;t++){var n=this.Gb[t];this.sd.bs(n.o,n.v)}for(this.sd.Zp(),this.Nd.Db(2*this.Gb.length),this.Nd.resize(0),t=0;t<2*this.Gb.length;t++)this.Nd.add(t);return this.tu(this.Nd,2*this.Gb.length,!0),this.we=2*this.Gb.length,this.Xb=4,!0},t.prototype.MT=function(){if(this.If=this.dg=-1,10>this.Gb.length||10>this.rd.length)return this.we=this.Gb.length,this.Xb=6,!0;null==this.sd&&(this.sd=new e.Qr(!0),this.Ho=this.sd.getIterator(),this.Nd=new e.ha(0)),this.sd.Gr();for(var t=0;t<this.Gb.length;t++){var n=this.Gb[t];this.sd.bs(n.o,n.v)}for(this.sd.Zp(),this.Nd.Db(2*this.Gb.length),this.Nd.resize(0),t=0;t<2*this.Gb.length;t++)this.Nd.add(t);return this.tu(this.Nd,this.Nd.size,!0),this.we=this.Nd.size,-1!=this.Lf&&(this.Ed.kh(this.Lf),this.Lj.resize(0),this.Lf=-1),this.Xb=7,this.nK()},t.prototype.JT=function(){if(this.If=this.dg=-1,10>this.Gb.length||10>this.rd.length)return this.we=this.Gb.length,this.Xb=6,!0;null==this.pf&&(this.pf=new e.Qr(!0),this.Uw=this.pf.getIterator(),this.Mf=new e.ha(0)),this.pf.Gr();for(var t=0;t<this.rd.length;t++){var n=this.rd[t];this.pf.bs(n.o,n.v)}for(this.pf.Zp(),this.Mf.Db(2*this.rd.length),this.Mf.resize(0),t=0;t<2*this.rd.length;t++)this.Mf.add(t);return this.tu(this.Mf,this.Mf.size,!1),this.Xg=this.Mf.size,-1!=this.Kf&&(this.Ed.kh(this.Kf),this.Kj.resize(0),this.Kf=-1),this.Xb=7,this.oK()},t.prototype.LT=function(){if(this.If=this.dg=-1,10>this.Gb.length||10>this.rd.length)return this.we=this.Gb.length,this.Xb=6,!0;null==this.sd&&(this.sd=new e.Qr(!0),this.Ho=this.sd.getIterator(),this.Nd=new e.ha(0)),null==this.pf&&(this.pf=new e.Qr(!0),this.Uw=this.pf.getIterator(),this.Mf=new e.ha(0)),this.sd.Gr();for(var t=0;t<this.Gb.length;t++){var n=this.Gb[t];this.sd.bs(n.o,n.v)}for(this.sd.Zp(),this.pf.Gr(),t=0;t<this.rd.length;t++)n=this.rd[t],this.pf.bs(n.o,n.v);for(this.pf.Zp(),this.Nd.Db(2*this.Gb.length),this.Mf.Db(2*this.rd.length),this.Nd.resize(0),this.Mf.resize(0),t=0;t<2*this.Gb.length;t++)this.Nd.add(t);for(t=0;t<2*this.rd.length;t++)this.Mf.add(t);return this.tu(this.Nd,this.Nd.size,!0),this.tu(this.Mf,this.Mf.size,!1),this.we=this.Nd.size,this.Xg=this.Mf.size,-1!=this.Lf&&(this.Ed.kh(this.Lf),this.Lj.resize(0),this.Lf=-1),-1!=this.Kf&&(this.Ed.kh(this.Kf),this.Kj.resize(0),this.Kf=-1),this.Xb=7,!0},t.prototype.zZ=function(){var e=this.Nd.get(--this.we),n=e>>1;return t.vq(e)?(this.sd.remove(n),0!=this.we||(this.If=this.dg=-1,this.Jc=!0,!1)):(this.Ho.nC(this.Gb[n].o,this.Gb[n].v,this.qa),this.dg=n,this.Xb=10,!0)},t.prototype.vZ=function(){return-1==--this.we?(this.If=this.dg=-1,this.Jc=!0,!1):(this.Xg=this.dg=this.we,this.Xb=13,!0)},t.prototype.wZ=function(){return-1==--this.we?(this.If=this.dg=-1,this.Jc=!0,!1):(this.dg=this.we,this.Xg=this.rd.length,this.Xb=14,!0)},t.prototype.xZ=function(){var e=this.Nd.get(this.we-1),n=this.Mf.get(this.Xg-1),r=this.ss(e,!0),i=this.ss(n,!1);return r>i?this.ay():r<i?this.RC():t.CA(e)?this.ay():t.CA(n)?this.RC():this.ay()},t.prototype.ay=function(){var n=this.Nd.get(--this.we),r=n>>1;if(t.vq(n))return-1!=this.Lf&&-1!=this.Lj.get(r)?(this.Ed.hd(this.Lf,this.Lj.get(r)),this.Lj.set(r,-1)):this.sd.remove(r),0!=this.we||(this.If=this.dg=-1,this.Jc=!0,!1);if(-1!=this.Kf&&0<this.Ed.Hs(this.Kf))for(n=this.Ed.sc(this.Kf);-1!=n;){var i=this.Ed.getData(n);this.pf.Gi(i),this.Kj.set(i,-1),i=this.Ed.hb(n),this.Ed.hd(this.Kf,n),n=i}return 0<this.pf.size()?(this.Uw.nC(this.Gb[r].o,this.Gb[r].v,this.qa),this.dg=r,this.Xb=12):(-1==this.Lf&&(null==this.Ed&&(this.Ed=new e.Ap),this.Lj=new e.ha(0),this.Lj.resize(this.Gb.length,-1),this.Lj.Xj(-1,0,this.Gb.length),this.Lf=this.Ed.Th(1)),this.Lj.set(r,this.Ed.addElement(this.Lf,r)),this.Xb=7),!0},t.prototype.RC=function(){var n=this.Mf.get(--this.Xg),r=n>>1;if(t.vq(n))return-1!=this.Kf&&-1!=this.Kj.get(r)?(this.Ed.hd(this.Kf,this.Kj.get(r)),this.Kj.set(r,-1)):this.pf.remove(r),0!=this.Xg||(this.If=this.dg=-1,this.Jc=!0,!1);if(-1!=this.Lf&&0<this.Ed.Hs(this.Lf))for(n=this.Ed.sc(this.Lf);-1!=n;){var i=this.Ed.getData(n);this.sd.Gi(i),this.Lj.set(i,-1),i=this.Ed.hb(n),this.Ed.hd(this.Lf,n),n=i}return 0<this.sd.size()?(this.Ho.nC(this.rd[r].o,this.rd[r].v,this.qa),this.If=r,this.Xb=11):(-1==this.Kf&&(null==this.Ed&&(this.Ed=new e.Ap),this.Kj=new e.ha(0),this.Kj.resize(this.rd.length,-1),this.Kj.Xj(-1,0,this.rd.length),this.Kf=this.Ed.Th(0)),this.Kj.set(r,this.Ed.addElement(this.Kf,r)),this.Xb=7),!0},t.prototype.DA=function(){if(this.If=this.Ho.next(),-1!=this.If)return!1;var e=this.Nd.get(this.we)>>1;return this.sd.Gi(e),this.Xb=4,!0},t.prototype.FU=function(){if(this.dg=this.Ho.next(),-1!=this.dg)return!1;this.If=this.dg=-1;var e=this.Mf.get(this.Xg)>>1;return this.pf.Gi(e),this.Xb=7,!0},t.prototype.CU=function(){if(this.If=this.Uw.next(),-1!=this.If)return!1;var e=this.Nd.get(this.we)>>1;return this.sd.Gi(e),this.Xb=7,!0},t.prototype.DU=function(){if(-1==--this.Xg)return this.Xb=5,!0;this.Pq.H(this.Gb[this.we]);var e=this.Gb[this.Xg];return this.Pq.O(this.qa,this.qa),!this.Pq.isIntersecting(e)||(this.If=this.Xg,!1)},t.prototype.EU=function(){if(-1==--this.Xg)return this.Xb=6,!0;this.Pq.H(this.Gb[this.we]);var e=this.rd[this.Xg];return this.Pq.O(this.qa,this.qa),!this.Pq.isIntersecting(e)||(this.If=this.Xg,!1)},t.prototype.oK=function(){return null==this.sd?(this.Jc=!0,!1):(this.we=this.Nd.size,0<this.sd.size()&&this.sd.reset(),-1!=this.Lf&&(this.Ed.kh(this.Lf),this.Lj.resize(0),this.Lf=-1),this.Jc=!1,!0)},t.prototype.nK=function(){return null==this.pf?(this.Jc=!0,!1):(this.Xg=this.Mf.size,0<this.pf.size()&&this.pf.reset(),-1!=this.Kf&&(this.Ed.kh(this.Kf),this.Kj.resize(0),this.Kf=-1),this.Jc=!1,!0)},t.prototype.tu=function(t,n,i){null==this.Nm&&(this.Nm=new e.Du),i=new r(this,i),this.Nm.sort(t,0,n,i)},t.prototype.oZ=function(e,n,r,i){var a=this;e.Zd(n,r,(function(e,n){var r=a.ss(e,i),o=a.ss(n,i);return r<o||r==o&&t.vq(e)&&t.CA(n)?-1:1}))},t.prototype.ss=function(e,n){var r=.5*this.qa;return n?(n=this.Gb[e>>1],t.vq(e)?n.A-r:n.B+r):(n=this.rd[e>>1],t.vq(e)?n.A-r:n.B+r)},t}(),e.fD=t}(Y||(Y={})),function(e){var t=function(){function t(){}return t.construct=function(e,n,r,i,a,o){var s=new t;return s.o=e,s.A=n,s.ef=r,s.v=i,s.B=a,s.Lg=o,s},t.prototype.Ka=function(){this.ef=this.o=NaN},t.prototype.u=function(){return isNaN(this.o)},t.prototype.qU=function(){return isNaN(this.ef)},t.prototype.H=function(e,t,n,r,i,a){void 0!==r?"number"==typeof e?(this.o=e,this.A=t,this.ef=n,this.v=r,this.B=i,this.Lg=a):(this.o=e.x-.5*t,this.v=this.o+t,this.A=e.y-.5*n,this.B=this.A+n,this.ef=e.z-.5*r,this.Lg=this.ef+r):(this.o=e,this.A=t,this.ef=n,this.v=e,this.B=t,this.Lg=n)},t.prototype.move=function(e){this.o+=e.x,this.A+=e.y,this.ef+=e.z,this.v+=e.x,this.B+=e.y,this.Lg+=e.z},t.prototype.copyTo=function(e){e.o=this.o,e.A=this.A,e.v=this.v,e.B=this.B},t.prototype.Sk=function(e,t,n){this.o>e?this.o=e:this.v<e&&(this.v=e),this.A>t?this.A=t:this.B<t&&(this.B=t),0==isNaN(this.ef)?this.ef>n?this.ef=n:this.Lg<n&&(this.Lg=n):this.Lg=this.ef=n},t.prototype.Nb=function(n,r,i){if("number"==typeof n)this.u()?(this.o=n,this.A=r,this.ef=i,this.v=n,this.B=r,this.Lg=i):this.Sk(n,r,i);else if(n instanceof e.Id)this.Nb(n.x,n.y,n.z);else{if(!(n instanceof t))throw e.f.I();n.u()||(this.Nb(n.o,n.A,n.ef),this.Nb(n.v,n.B,n.Lg))}},t.prototype.construct=function(e,t,n){e.u()||t.u()?this.Ka():(this.o=e.fa,this.v=e.ja,this.A=t.fa,this.B=t.ja,this.ef=n.fa,this.Lg=n.ja)},t.prototype.XB=function(t){if(null==t||8>t.length)throw e.f.I();t[0]=new e.Id(this.o,this.A,this.ef),t[1]=new e.Id(this.o,this.B,this.ef),t[2]=new e.Id(this.v,this.B,this.ef),t[3]=new e.Id(this.v,this.A,this.ef),t[4]=new e.Id(this.o,this.A,this.Lg),t[5]=new e.Id(this.o,this.B,this.Lg),t[6]=new e.Id(this.v,this.B,this.Lg),t[7]=new e.Id(this.v,this.A,this.Lg)},t.prototype.Ix=function(e){if(null==e||0==e.length)this.Ka();else{var t=e[0];for(this.H(t.x,t.y,t.z),t=1;t<e.length;t++){var n=e[t];this.Sk(n.x,n.y,n.z)}}},t}();e.WL=t}(Y||(Y={})),function(e){!function(e){e.za=function(){var e=Error();return e.message="Internal Error",e},e.Me=function(){var e=Error();return e.message="Not Implemented",e},e.al=function(){var e=Error();return e.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular",e},e.Eb=function(){var e=Error();return e.message="Invalid Call",e},e.I=function(e){var t=Error();return t.message="Illegal Argument Exception",void 0!==e&&(t.message+=": "+e),t},e.Lu=function(e){var t=Error();return t.message=void 0!==e?"Runtime Exception: "+e:"Runtime Exception.",t},e.Y=function(e){var t=Error();return t.message="Geometry Exception: "+e,t},e.PL=function(){var e=Error();return e.message="Assert Failed Exception",e},e.Gd=function(){var e=Error();return e.message="IndexOutOfBoundsException",e},e.ED=function(){var e=Error();return e.message="UserCancelException",e}}(e.f||(e.f={}))}(Y||(Y={})),function(e){(e=e.nm||(e.nm={}))[e.forward=0]="forward",e[e.reverse=1]="reverse"}(Y||(Y={})),function(e){var t=function(){function t(e,t){this.Wa=e,this.vI=t,this.AI=-1,this.Al=!1}return t.prototype.xe=function(){},t.prototype.next=function(){if(++this.AI==this.vI.D())return null;var t=this.vI.xa(this.AI);t.scale(this.Wa.ic);var n=new e.Fa;return this.Wa.Xy(t,this.Al,n),n},t.prototype.Ea=function(){return 0},t}(),n=function(){function t(t,n,r){this.Wa=t,this.Xw=n,this.qo=!1,this.wo=r,this.Iw=[0],this.zk=[0],this.Pj=[0],this.ot=[0],this.Al=!1,this.Jq=new e.Fa,this.Bk=[]}return t.prototype.xe=function(){},t.prototype.next=function(){if(this.qo){this.qo=!1,this.td.aa();var t=e.R.$d(this.Jq);return e.pg.Tk(t,this.Wa.Tq,!0,!0,this.Wa.Vb)}if(null==this.td&&(this.td=this.Xw.Ba(),this.td.Ta(),null!=this.wo&&this.wo.dl(null,0)),!this.td.Aa()){if(!this.td.Ta())return null;null!=this.wo&&this.wo.dl(null,0)}t=null,this.zk[0]=0,this.pB=this.Iw[0]=0,this.ji=NaN,this.qo=!1;for(var n=this.Bk.length=0,i=new e.b,a=new e.b,o=[0];this.td.Aa()&&8>this.pB;){var s=this.td.aa();if(i.K(s.ac()),a.K(s.wc()),i.scale(this.Wa.ic),a.scale(this.Wa.ic),e.jj.uv(i,a)?i.x=a.x:e.jj.sv(i,a)&&(a.x=i.x),this.Bk.length=0,e.jj.gG(this.Wa.Ub,this.Wa.lc,this.Wa.Fe,i,a,this.Wa.zB,this.Wa.Ht,o,this.Pj,this.ot,this.Bk,this.Iw),null!=this.wo&&(s=this.Bk.slice(0),this.wo.cH(this.wo.$()-1,s,s.length-1)),e.jj.tv(i,a)?(this.Jq.Ka(),this.Wa.Xy(i,this.Al,this.Jq),this.qo=!0):(this.Jq.Ka(),this.qo=this.cz(o[0],this.Jq)),this.qo){if(this.td.ti(),this.td.mA()){this.td.ti(),this.td.aa();break}this.td.hY();break}null==t&&(t=new e.Fa).dl(null,0),this.AE(t),n++}if(this.Iw[0]=0,0<n){for(o=this.td.wb();0<n;)this.td.ti(),i.K(this.Xw.xa(this.td.wb())),a.K(this.Xw.xa(this.td.nk())),i.scale(this.Wa.ic),a.scale(this.Wa.ic),this.Al&&(e.jj.uv(i,a)?i.x=a.x:e.jj.sv(i,a)&&(a.x=i.x)),this.Bk.length=0,e.jj.gG(this.Wa.Ub,this.Wa.lc,this.Wa.Fe,a,i,this.Wa.zB,this.Wa.Ht,null,this.Pj,this.ot,this.Bk,this.Iw),this.AE(t),n--;return i.K(this.Xw.xa(this.td.wb())),i.scale(this.Wa.ic),r.hs(this.Wa.Ub,this.Wa.lc,this.Wa.ic,this.Wa.rb,i,this.ji+1.570796326794897,this.ji+4.71238898038469,this.Wa.uo,this.Al,this.zk,t,NaN,NaN),this.td.Rb(o),this.td.aa(),n=e.la.Ng(null,t,!0),e.pg.Tk(t,n,!0,!0,this.Wa.Vb)}return this.qo=!1,this.td.aa(),t=e.R.$d(this.Jq),e.pg.Tk(t,this.Wa.Tq,!0,!0,this.Wa.Vb)},t.prototype.AE=function(t){var n=this.Bk[0],i=this.Pj[0]-1.570796326794897,a=this.ot[0]+1.570796326794897;if(!isNaN(this.ji)){if(this.ji>=this.Pj[0]){var o=this.ji+1.570796326794897;i=o+3.141592653589793-(this.ji-this.Pj[0])}else i=(o=this.ji+1.570796326794897)+3.141592653589793-(6.283185307179586-(this.Pj[0]-this.ji));var s=!(this.ji>=this.Pj[0]&&3.141592653589793>=this.ji-this.Pj[0]||this.ji<this.Pj[0]&&3.141592653589793<=this.Pj[0]-this.ji),c=!1;if(Math.abs(i-o)<=.5*this.Wa.uo)if(s){var u=t.xa(t.D()-2);u.scale(this.Wa.ic);var l=new e.da(0);for(e.gb.Cz(this.Wa.Ub,this.Wa.lc,n.x,n.y,u.x,u.y,l),u=l.j;u<=o;)u+=6.283185307179586;for(;u>o;)u-=6.283185307179586;u<i&&(c=!0)}else c=!0;c?(t.mC(0,t.D()-1),this.Al||((n=new e.b).K(t.xa(t.D()-1)),n.scale(this.Wa.ic),-3.141592653589793>n.x-this.zk[0]?this.zk[0]-=6.283185307179586:3.141592653589793<n.x-this.zk[0]&&(this.zk[0]+=6.283185307179586)),s||(i=.5*(i+o))):(s?((o=new e.b).K(n),o.scale(1/this.Wa.ic),t.Ff(0,-1,o)):r.hs(this.Wa.Ub,this.Wa.lc,this.Wa.ic,this.Wa.rb,this.Bk[0],o,i,this.Wa.uo,this.Al,this.zk,t,NaN,NaN),this.pB+=1)}r.Wy(this.Wa.Ub,this.Wa.lc,this.Wa.ic,this.Wa.rb,this.Wa.Fe,this.Bk,i,a,this.Al,this.zk,t),this.ji=this.ot[0]},t.prototype.cz=function(e,t){return this.Wa.cz(this.Bk,e,this.Pj[0],this.ot[0],this.Al,t)},t.prototype.Ea=function(){return 0},t}(),r=function(){function r(){}return r.buffer=function(t,n,i,a,o,s){if(null==t)throw e.f.I("Geometry::Geodesic_bufferer::buffer");if(t.u())return new e.Fa(t.description);var c=new r;c.Wg=n,c.Kc=e.ab.hc(n);var u=e.ab.cw(c.Kc);if(c.Vb=s,c.Ub=e.ab.Mv(c.Kc),c.lc=u*(2-u),c.ic=c.Kc.Ld().gi,c.qa=c.Wg.co(),c.Tq=c.Kc.co(),c.Ht=c.Tq*c.ic,c.Sq=1.570796326794897/c.ic,c.t0=3.141592653589793/c.ic,c.rt=6.283185307179586/c.ic,c.u0=c.rt/6,c.uB=0,c.s0=1.5707963267948966*c.Ub/c.uB,4==i?(c.Fe=2,c.Cw=!0):(c.Fe=i,c.Cw=!1),c.La=a,c.rb=Math.abs(a),isNaN(o)||.001>o?c.aZ():c.to=o,i=t.F(),e.R.Ic(i)?((i=new e.Oa(t.description)).$b(t,!0),t=i,i=1607):197==i&&(i=new e.g,t.s(i),i.N()<=c.qa||i.ca()<=c.qa?((i=new e.Oa(t.description)).bd(t,!1),t=i,i=1607):((i=new e.Fa(t.description)).bd(t,!1),t=i,i=1736)),c.bZ(),e.R.lo(i)||c.cZ(),c.rb<=.5*c.to)return 1736!=i?new e.Fa(t.description):c.Cw?t:e.jj.rs(t,c.Wg,c.Fe,c.zB,-1,s);if(0>c.La&&1736!=i)return new e.Fa(t.description);if(c.Cw&&e.R.Bc(i)?(n=e.jj.rs(t,n,4,NaN,c.to,s),t=e.ab.$g(n,c.Wg,c.Kc)):t=e.ab.$g(t,c.Wg,c.Kc),(t=e.Lh.qj(t,c.Kc)).u())return new e.Fa(t.description);switch(!c.Cw&&e.R.Bc(i)&&(t=e.jj.fJ(c.ic,t)),t=r.pZ(t,c.Kc),i){case 1736:n=c.eP(t);break;case 1607:n=c.fP(t);break;case 550:n=c.cP(t);break;case 33:n=c.dP(t);break;default:throw e.f.Y("corrupted_geometry")}return(c=e.ab.$g(n,c.Kc,c.Wg)).Tl(t.description),c},r.prototype.eP=function(t){var r=new e.Fa;t=new n(this,t,r),t=e.Jh.local().U(t,this.Kc,this.Vb).next(),t=e.zp.sj(t,this.Kc,2);var i=new e.xd;return i.scale(1/this.ic,1/this.ic),r.Qc(i),r=e.zp.sj(r,this.Kc,2),0<=this.La?e.Jh.local().U(r,t,this.Kc,this.Vb):e.Cp.local().U(r,t,this.Kc,this.Vb)},r.prototype.fP=function(t){return t=new n(this,t,null),t=e.Jh.local().U(t,this.Kc,this.Vb).next(),e.zp.sj(t,this.Kc,2)},r.prototype.cP=function(n){return n=new t(this,n),n=e.Jh.local().U(n,this.Kc,this.Vb).next(),e.zp.sj(n,this.Kc,2)},r.prototype.dP=function(t){(t=t.w()).scale(this.ic);var n=new e.Fa;return this.Xy(t,!1,n),e.zp.sj(n,this.Kc,2)},r.prototype.cz=function(t,n,i,a,o,s){var c=t[0],u=t[t.length-1],l=c.y>u.y?c.y:u.y,h=e.C.q(this.Ub,this.lc,c.y<u.y?c.y:u.y);if(l=e.C.q(this.Ub,this.lc,l),.001<this.uB-(h+n+this.rb)&&.001<this.uB+(l-n-this.rb))return!1;h=(n=i-1.570796326794897)-3.141592653589793,l=n+3.141592653589793;var f=(i=a+1.570796326794897)+3.141592653589793,d=[NaN],p=[NaN],b=[NaN],v=[NaN];if(a=!1,r.VJ(this.Ub,this.lc,this.rb,c,n,h,u,i,d,p),r.VJ(this.Ub,this.lc,this.rb,u,f,i,c,h,b,v),(i<d[0]&&d[0]<f||i<p[0]&&p[0]<f)&&(a=!0),a||(h<b[0]&&b[0]<n||h<v[0]&&v[0]<n)&&(a=!0),!a&&o)return!1;for(var y=[],m=t.length-1;0<=m;m--)y.push(t[m]);return s.Ka(),s.dl(null,0),m=[0],r.Wy(this.Ub,this.lc,this.ic,this.rb,this.Fe,t,n,i,o,m,s),r.hs(this.Ub,this.lc,this.ic,this.rb,u,i,f,this.uo,o,m,s,d[0],p[0]),r.Wy(this.Ub,this.lc,this.ic,this.rb,this.Fe,y,f,l,o,m,s),r.hs(this.Ub,this.lc,this.ic,this.rb,c,h,n,this.uo,o,m,s,b[0],v[0]),t=!1,o||(t=this.sF(this.ic,s)),a||t},r.prototype.Xy=function(e,t,n){n.Ka(),n.dl(null,0),r.hs(this.Ub,this.lc,this.ic,this.rb,e,-this.uo,6.283185307179586,this.uo,t,[0],n,NaN,NaN),t||this.sF(this.ic,n)},r.prototype.sF=function(e,t){var n=this.FP(e,t);return e=this.GP(e,t),n||e},r.prototype.FP=function(t,n){var r=n.D(),i=!1,a=new e.g;if(n.s(a),!e.l.V(a.B*t,1.570796326794897)&&!e.l.V(a.A*t,-1.570796326794897))return!1;var o=new e.b;for(--r;0<=r;r--)n.w(r,o),(o.y==a.B&&e.l.V(o.y*t,1.570796326794897)||o.y==a.A&&e.l.V(o.y*t,-1.570796326794897))&&(i=!0,this.FJ(o,r,n));return i},r.prototype.GP=function(e,t){var n=t.xa(0),r=t.xa(t.D()-1);return 3.141592653589793<Math.abs(n.x-r.x)*e?(this.nX(t),!0):this.EP(t)},r.prototype.EP=function(e){return 0>e.Pe()&&(this.mX(e),!0)},r.prototype.FJ=function(t,n,r){var i=r.D(),a=0<n?n-1:i-1;if(i=r.xa(n<i-1?n+1:0),a=r.xa(a),!e.l.V(i.y,t.y)&&!e.l.V(i.x,t.x)){var o=new e.b;o.ka(i.x,t.y),r.nb(n,o)}e.l.V(a.y,t.y)||e.l.V(a.x,t.x)||((i=new e.b).ka(a.x,t.y),r.Ff(0,n,i))},r.prototype.nX=function(t){var n=new e.Fa,r=new e.Fa,i=new e.xd,a=t.xa(0),o=t.xa(t.D()-1),s=new e.b;a.x>o.x?(o=this.Sq,i.mg(-this.rt,0)):(o=-this.Sq,i.mg(this.rt,0)),n.add(t,!1),t.Ka(),r.add(n,!1),r.Qc(i),a=new e.g,r.s(a),a.O((this.rt-a.N())/2,0),a.A=-this.Sq,a.B=this.Sq;for(var c=0;c<r.D();c++)r.w(c,s),n.Ff(0,-1,s);for(r.Qc(i),c=0;c<r.D();c++)r.w(c,s),n.Ff(0,-1,s);r=n.xa(0),i=n.xa(n.D()-1),s.ka(i.x,o),n.Ff(0,-1,s),s.ka(.5*(i.x+r.x),o),n.Ff(0,-1,s),s.ka(r.x,o),n.Ff(0,-1,s),n=e.Lh.Ss(n,this.Kc,2,!0,a.o),n=e.Lh.Ss(n,this.Kc,2,!0,a.v),n=e.Yd.clip(n,a,this.Tq,NaN),t.add(n,!1)},r.prototype.mX=function(t){var n=new e.g;t.s(n),n.O((this.rt-n.N())/2,0),n.A=-this.Sq,n.B=this.Sq,t.dl(null,0);var r=new e.b;r.ka(n.o,n.A),t.Ff(1,-1,r),r.ka(n.o,n.B),t.Ff(1,-1,r),r.ka(.5*(n.o+n.v),n.B),t.Ff(1,-1,r),r.ka(n.v,n.B),t.Ff(1,-1,r),r.ka(n.v,n.A),t.Ff(1,-1,r),r.ka(.5*(n.o+n.v),n.A),t.Ff(1,-1,r)},r.Wy=function(t,n,i,a,o,s,c,u,l,h,f){var d=null;l||((d=new e.b).Tc(),0<f.D()&&(d.K(f.xa(f.D()-1)),d.scale(i)));var p=new e.da(0),b=new e.da(0),v=new e.da(0),y=new e.b,m=new e.b,g=s[s.length-1];i=1/i;for(var O=0;O<s.length;O++){var j=s[O];if(0==O)var w=c;else O==s.length-1?w=u:(e.gb.Ad(t,n,g.x,g.y,j.x,j.y,null,null,p,o),w=p.j-1.570796326794897);e.gb.Fi(t,n,j.x,j.y,a,w,b,v),l?m.ka(b.j,v.j):(y.ka(b.j,v.j),r.kK(j.x,y.x,d.x,h),m.ka(h[0]+y.x,y.y),d.K(m)),m.scale(i),f.Ff(0,-1,m)}},r.hs=function(t,n,i,a,o,s,c,u,l,h,f,d,p){if(!(c-s<u)){var b=new e.da(0),v=new e.da(0),y=new e.b,m=new e.b,g=null;l||((g=new e.b).Tc(),0<f.D()&&(g.K(f.xa(f.D()-1)),g.scale(i)));var O=e.L.truncate(Math.ceil(s/u)),j=O++*u;for(j==s&&(j=O++*u),i=1/i;j<c+u&&(s<d&&d<j?(j=d,O--):s<p&&p<j&&(j=p,O--),!(j>=c));)e.gb.Fi(t,n,o.x,o.y,a,j,b,v),l?m.ka(b.j,v.j):(y.ka(b.j,v.j),r.kK(o.x,y.x,g.x,h),m.ka(h[0]+y.x,y.y),g.K(m)),m.scale(i),f.Ff(0,-1,m),s=j,j=O++*u}},r.VJ=function(t,n,r,i,a,o,s,c,u,l){var h=new e.b,f=new e.b,d=new e.da(0),p=new e.da(0);for(e.gb.Fi(t,n,i.x,i.y,r,a,d,p),h.ka(d.j,p.j),e.gb.Fi(t,n,i.x,i.y,r,o,d,p),f.ka(d.j,p.j),r=new e.da(0),e.gb.Cz(t,n,s.x,s.y,h.x,h.y,r),u[0]=r.j,e.gb.Cz(t,n,s.x,s.y,f.x,f.y,r),l[0]=r.j;u[0]<=l[0];)u[0]+=6.283185307179586;for(;u[0]>l[0];)u[0]-=6.283185307179586;for(;u[0]>=c;)u[0]-=6.283185307179586,l[0]-=6.283185307179586;for(;u[0]<c;)u[0]+=6.283185307179586,l[0]+=6.283185307179586},r.kK=function(e,t,n,r){if(isNaN(n)){for(;3.141592653589793<r[0]+t-e;)r[0]-=6.283185307179586;for(;3.141592653589793<e-(r[0]+t);)r[0]+=6.283185307179586}else 3.141592653589793<r[0]+t-n?r[0]-=6.283185307179586:3.141592653589793<n-(r[0]+t)&&(r[0]+=6.283185307179586)},r.pZ=function(t,n){var r=t.F(),i=e.R.Bc(r)?t.$():550==r?t.D():1;if(1==i)return t;var a=new e.ha(0);a.resize(i);for(var o=[],s=new e.g,c=0;c<i;c++){if(a.write(c,c),e.R.Bc(r)){t.Sj(c,s);var u=s.hf()}else u=t.xa(c);u=e.fM.GZ(n,u),o[c]=u}for(a.Zd(0,a.size,(function(e,t){return o[e]<o[t]?-1:o[e]>o[t]?1:0})),n=t.Ga(),c=0;c<i;c++)s=a.read(c),e.R.Bc(r)?n.addPath(t,s,!0):n.yd(t,s,s+1);return n},r.prototype.bZ=function(){var t=Math.min(3.141592653589793*this.Ub-this.rb,this.rb);t=Math.min(t,.39269908169872414*this.Ub);var n=new e.b;n.ka(0,10*this.ic);var r=45*this.ic,i=new e.da(0),a=new e.da(0),o=new e.da(0),s=new e.da(0),c=new e.da(0),u=new e.da(0),l=new e.da(0),h=new e.da(0),f=new e.b,d=new e.b,p=new e.b,b=new e.b;e.gb.Fi(this.Ub,this.lc,n.x,n.y,t,0,i,a),f.ka(i.j,a.j),e.gb.Fi(this.Ub,this.lc,n.x,n.y,t,r,o,s),d.ka(o.j,s.j),i=new e.da(0),a=new e.da(0);for(var v=new e.da(0);e.gb.Fi(this.Ub,this.lc,n.x,n.y,t,.5*(0+r),c,u),p.ka(c.j,u.j),e.gb.Ad(this.Ub,this.lc,f.x,f.y,d.x,d.y,i,a,null,2),e.gb.tj(this.Ub,this.lc,f.x,f.y,.5*i.j,a.j,l,h,2),b.ka(l.j,h.j),e.gb.Ad(this.Ub,this.lc,p.x,p.y,b.x,b.y,v,null,null,2),!(v.j<=this.to);)r*=.9,e.gb.Fi(this.Ub,this.lc,n.x,n.y,t,r,o,s),d.ka(o.j,s.j);this.uo=6.283185307179586/Math.ceil(6.283185307179586/(r-0))},r.prototype.cZ=function(){var t=Math.min(3.141592653589793*this.Ub-this.rb,this.rb);t=Math.min(t,.39269908169872414*this.Ub);var n=new e.b,r=new e.b;n.ka(0,10*this.ic),r.ka(10*this.ic,10*this.ic);var i=new e.da(0),a=new e.da(0),o=new e.da(0);e.gb.Ad(this.Ub,this.lc,n.x,n.y,r.x,r.y,o,i,a,this.Fe);var s=new e.da(0),c=new e.da(0),u=new e.da(0),l=new e.da(0),h=new e.b,f=new e.da(0),d=new e.da(0),p=new e.da(0),b=new e.da(0),v=new e.da(0),y=new e.da(0),m=new e.da(0),g=new e.da(0),O=new e.da(0),j=new e.b,w=new e.b,_=new e.b,x=new e.b,k=1;i=i.j,a=a.j+1.570796326794897,o=o.j,e.gb.Fi(this.Ub,this.lc,n.x,n.y,t,i-1.570796326794897,d,p),j.ka(d.j,p.j),e.gb.Fi(this.Ub,this.lc,r.x,r.y,t,a,b,v),w.ka(b.j,v.j),d=new e.da(0),p=new e.da(0),a=new e.da(0);for(var S=new e.da(0);e.gb.tj(this.Ub,this.lc,n.x,n.y,.5*(0+k)*o,i,s,c,this.Fe),h.ka(s.j,c.j),e.gb.Ad(this.Ub,this.lc,n.x,n.y,h.x,h.y,null,null,f,this.Fe),e.gb.Fi(this.Ub,this.lc,h.x,h.y,t,f.j+1.570796326794897,y,m),_.ka(y.j,m.j),e.gb.Ad(this.Ub,this.lc,j.x,j.y,w.x,w.y,d,p,null,2),e.gb.tj(this.Ub,this.lc,j.x,j.y,.5*d.j,p.j,g,O,2),x.ka(g.j,O.j),e.gb.Ad(this.Ub,this.lc,_.x,_.y,x.x,x.y,a,null,null,2),!(a.j<=this.to);)k*=.9,e.gb.tj(this.Ub,this.lc,n.x,n.y,k*o,i,u,l,this.Fe),r.ka(u.j,l.j),e.gb.Ad(this.Ub,this.lc,n.x,n.y,r.x,r.y,null,null,S,this.Fe),e.gb.Fi(this.Ub,this.lc,r.x,r.y,t,S.j+1.570796326794897,b,v),w.ka(b.j,v.j);1e5<(t=k*o)&&(t=1e5),this.zB=t},r.prototype.aZ=function(){var e=5e4<this.rb?100:1e4<this.rb?10:1;500>this.rb/e&&(e=this.rb/500),.01>e&&(e=.01),this.to=e},r}();e.dM=r}(Y||(Y={})),function(e){var t=function(){function t(){}return t.Wf=function(t,n){var r=new e.b;r.K(n),t.push(r)},t.Op=function(e,t){e.add(t.x),e.add(t.y)},t.SB=function(e){e.Gh(e.size-2)},t.YB=function(e,t){t.ka(e.get(e.size-2),e.get(e.size-1))},t.rs=function(n,r,i,a,o,s){if(null==n)throw e.f.I();var c=n.F();if(n.u()||e.R.lo(c))return n;var u=new t;u.Wg=r,u.Kc=e.ab.hc(r);var l=e.ab.cw(u.Kc);if(u.Vb=s,u.Ub=e.ab.Mv(u.Kc),u.lc=l*(2-l),u.ic=u.Kc.Ld().gi,u.Tq=u.Kc.co(),u.Ht=u.Tq*u.ic,u.jB=a,u.iB=o,u.Fe=i,197==c?(i=new e.Fa(n.description)).bd(n,!1):e.R.Ic(c)?(i=new e.Oa(n.description)).$b(n,!0):i=n,4!=u.Fe){if((r=0==u.Wg.Ib(u.Kc)?e.ab.$g(i,u.Wg,u.Kc):e.Lh.qj(i,u.Kc)).u())return r;r=t.fJ(u.ic,r),r=u.Ez(r),r=e.zp.sj(r,u.Kc,u.Fe),u=e.ab.$g(r,u.Kc,u.Wg)}else{if(2==e.je.Fb(r)?(n=e.ab.sk(),(r=e.ak.local().U(i,n,r,s))==n&&(r=new e.Fa,n.copyTo(r))):r=e.Lh.qj(i,u.Kc),r.u())return r;u=u.fZ(r)}return u},t.fJ=function(n,r){var i=new e.g;if(r.Zb(i),3.141592653589793>i.N()*n)return r;var a=!1;i=r.Ba();for(var o=new e.b,s=new e.b;i.Ta();)for(;i.Aa();){var c=i.aa();if(o.K(c.ac()),s.K(c.wc()),o.scale(n),s.scale(n),3.141592653589793<Math.abs(o.x-s.x)){var u=t.tv(o,s);if(!u){a=!0;break}if(6.283185307179586<Math.abs(o.x-s.x)){a=!0;break}}}if(!a)return r;a=r.Ga();var l=1<r.description.Ca,h=new e.b,f=new e.b,d=new e.b,p=new e.b,b=new e.Ra;for(i.ej();i.Ta();)for(var v=NaN,y=[0];i.Aa();){if(c=i.aa(),o.K(c.ac()),s.K(c.wc()),o.scale(n),s.scale(n),isNaN(v)?(t.cj(o.x,NaN,y),f.K(o)):f.K(d),v=f.x,u=t.tv(o,s)){if(6.283185307179586<s.x-o.x)for(;6.283185307179586<s.x-o.x;)s.x-=6.283185307179586;if(-6.283185307179586>s.x-o.x)for(;-6.283185307179586>s.x-o.x;)s.x+=6.283185307179586;t.cj(s.x,NaN,y),d.K(s)}else h.K(s),t.TV(h),t.cj(h.x,v,y),d.ka(y[0]+h.x,h.y);.5>Math.abs(d.x-s.x)&&d.K(s),l?(c.zx(0,b),p.K(f),p.scale(1/n),b.nb(p),(u=i.Im())?a.xf(b):a.lineTo(b),i.ko()&&!r.Lb(i.Pa)&&(c.zx(1,b),p.K(d),p.scale(1/n),b.nb(p),a.lineTo(b))):((u=i.Im())&&a.pA(null,0),c=a.$()-1,p.K(f),p.scale(1/n),a.Ff(c,-1,p),i.ko()&&!r.Lb(i.Pa)&&(p.K(d),p.scale(1/n),a.Ff(c,-1,p)))}return a},t.gG=function(n,r,i,a,o,s,c,u,l,h,f,d){var p=new e.b,b=new e.b,v=0<a.compare(o);t.jK(v,a,o,p,b),t.hG(n,r,i,p,b,s,NaN,c,u,l,h,null,f,d),v&&t.OC(l,h,null,f)},t.prototype.Ez=function(n){var r=n.Ga(),i=n.Ba(),a=[],o=null,s=null,c=1<n.description.Ca;c&&(o=new e.ie(0),s=new e.og);for(var u=[0],l=new e.b,h=new e.b,f=new e.b,d=new e.b;i.Ta();)for(u[0]=0;i.Aa();){var p=i.aa();l.K(p.ac()),h.K(p.wc()),l.scale(this.ic),h.scale(this.ic);var b=0<l.compare(h);t.jK(b,l,h,f,d),a.length=0,null!=o&&o.Gh(0),0<this.jB?t.hG(this.Ub,this.lc,this.Fe,f,d,this.jB,this.iB,this.Ht,null,null,null,c?o:null,a,u):t.oS(this.Ub,this.lc,this.Fe,f,d,this.iB,this.Ht,c?o:null,a,u),b&&t.OC(null,null,c?o:null,a),a[0].K(p.ac()),a[a.length-1].K(p.wc());for(var v=1;v<a.length-1;v++)a[v].scale(1/this.ic);c?(b=t.iK(b,p,s),t.FE(i.Im(),i.ko()&&!n.Lb(i.Pa),p,b,o,a,r)):t.EE(i.Im(),i.ko()&&!n.Lb(i.Pa),a,r)}return r},t.prototype.fZ=function(n){var r=n.Ga(),i=n.Ba(),a=[],o=null,s=new e.og,c=1<n.description.Ca;for(c&&(o=new e.ie(0));i.Ta();)for(;i.Aa();){var u=i.aa(),l=u.ac(),h=u.wc();l=0<l.compare(h),h=t.iK(l,u,s),a.length=0,null!=o&&o.Gh(0),t.eZ(this.Ub,this.lc,this.ic,h,this.Wg,this.jB,this.iB,c?o:null,a),l&&t.OC(null,null,c?o:null,a),c?t.FE(i.Im(),i.ko()&&!n.Lb(i.Pa),u,h,o,a,r):t.EE(i.Im(),i.ko()&&!n.Lb(i.Pa),a,r)}return r},t.EE=function(e,t,n,r){e&&r.pA(null,0),e=r.$()-1;var i=n.slice(0);r.cH(e,i,i.length-1),t&&r.Ff(e,-1,n[n.length-1])},t.FE=function(t,n,r,i,a,o,s){var c=new e.Ra;if(r.jp(c),t?s.xf(c):s.lineTo(c),2<o.length){t=i.Pb();for(var u=1;u<o.length-1;u++){var l=i.zH(a.get(u)*t);i.zx(l,c),c.nb(o[u]),s.lineTo(c)}}n&&(r.hp(c),s.lineTo(c))},t.hG=function(n,r,i,a,o,s,c,u,l,h,f,d,p,b){var v=new e.da(0),y=new e.da(0),m=new e.da(0);e.gb.Ad(n,r,a.x,a.y,o.x,o.y,m,v,y,i),m=m.j;var g=v=v.j;0>g&&(g+=6.283185307179586),0>(y=y.j)&&(y+=6.283185307179586),null!=l&&(l[0]=m),null!=h&&(h[0]=g),null!=f&&(f[0]=y),h=l=NaN,null!=d&&(l=((h=e.C.Hg(n,r))-(f=e.C.q(n,r,a.y)))/m,h=(h+f)/m),f=t.uv(a,o),y=t.sv(a,o),g=f||y;var O=t.pF(a,o,u),j=new e.da(0),w=new e.da(0),_=new e.b,x=new e.b,k=new e.b;t.cj(a.x,NaN,b);var S=[b[0]];if(m<=s)t.Wf(p,a),t.cj(o.x,NaN,b),null!=d&&d.add(0),g?(f&&t.VB(a,o,d,p),y&&t.TB(a,o,d,p)):O?t.UB(a,o,v,l,h,d,p):0<c&&(x.ka(a.x-S[0],a.y),_.ka(o.x-b[0],o.y),t.Dz(n,r,i,a,m,v,x,_,0,1,c,d,p,S)),t.Wf(p,o);else{var E=m/((s=1+e.L.truncate(Math.ceil(m/s)))-1),T=new e.b,M=0;t.Wf(p,a),T.K(a),x.ka(a.x-b[0],a.y),null!=d&&d.add(0);for(var C=1;C<s;C++){if(C<s-1){e.gb.tj(n,r,a.x,a.y,C*E,v,j,w,i),_.ka(j.j,w.j),t.cj(_.x,T.x,b),k.ka(b[0]+_.x,_.y);var A=C/(s-1)}else t.cj(o.x,NaN,b),_.ka(o.x-b[0],o.y),k.K(o),A=1;g?(1==C&&f&&t.VB(a,k,d,p),C==s-1&&y&&t.TB(T,o,d,p)):O?t.oF(T,k,u)&&(a.x<o.x?T.x>k.x&&(b[0]+=6.283185307179586,k.ka(b[0]+_.x,_.y)):T.x<k.x&&(b[0]-=6.283185307179586,k.ka(b[0]+_.x,_.y)),t.UB(T,k,v,l,h,d,p)):0<c&&t.Dz(n,r,i,a,m,v,x,_,M,A,c,d,p,S),t.Wf(p,k),null!=d&&d.add(A),T.K(k),x.K(_),S[0]=b[0],M=A}}},t.oS=function(n,r,i,a,o,s,c,u,l,h){var f=new e.da(0),d=new e.da(0),p=new e.da(0);e.gb.Ad(n,r,a.x,a.y,o.x,o.y,p,f,d,i),d=p.j,f=f.j;var b=p=NaN;if(null!=u){b=e.C.Hg(n,r);var v=e.C.q(n,r,a.y);p=(b-v)/d,b=(b+v)/d}v=t.uv(a,o);var y=t.sv(a,o),m=v||y;c=t.pF(a,o,c);var g=t.tv(a,o);g=m||c||g,t.cj(a.x,NaN,h);var O=new e.b;t.Wf(l,a),O.K(a),null!=u&&u.add(0),g?(m?(v&&t.VB(a,o,u,l),y&&t.TB(a,o,u,l)):c&&t.UB(a,o,f,p,b,u,l),t.cj(o.x,NaN,h),t.Wf(l,o)):d<=s?(t.cj(o.x,NaN,h),t.Wf(l,o)):(p=new e.b,c=new e.b,p.K(a),c.K(o),p.x-=h[0],c.x-=h[0],-3.141592653589793>c.x?c.x+=6.283185307179586:3.141592653589793<c.x&&(c.x-=6.283185307179586),t.Dz(n,r,i,a,d,f,p,c,0,1,s,u,l,h),t.Wf(l,o),t.cj(o.x,NaN,h)),null!=u&&u.add(1)},t.Dz=function(n,r,i,a,o,s,c,u,l,h,f,d,p,b){var v=new e.b,y=new e.b;v.ka(c.x+b[0],c.y),new e.da(0),new e.da(0),new e.da(0),new e.da(0);var m=new e.da(0),g=new e.da(0),O=new e.da(0),j=new e.b,w=new e.b,_=new e.b,x=new e.b;j.K(c),w.K(u),c=new e.ie(0),u=new e.ie(0),t.Op(c,w),u.add(h);var k=new e.b,S=new e.zb,E=[];for(t.bL(4,E);0<c.size;){for(var T,M=!1,C=NaN,A=0;3>A;A++)if(T=E[A]*h+(1-E[A])*l,e.gb.tj(n,r,a.x,a.y,T*o,s,m,g,i),_.ka(m.j,g.j),0==A&&(C=T,x.K(_)),t.yY(j,_,w,S),S.cc(S.ae(_,!0),k),e.gb.Ad(n,r,_.x,_.y,k.x,k.y,O,null,null,2),O.j>f){M=!0;break}M?(w.K(x),h=C,t.Op(c,w),u.add(h)):(t.SB(c),u.Xn(u.size-1,1,u.size-1),0<c.size&&(t.cj(w.x,v.x,b),y.ka(b[0]+w.x,w.y),t.Wf(p,y),v.K(y),null!=d&&d.add(h),j.K(w),l=h,t.YB(c,w),h=u.get(u.size-1)))}},t.eZ=function(n,r,i,a,o,s,c,u,l){var h=new e.b,f=new e.b,d=new e.b,p=new e.b,b=new e.b,v=new e.b,y=new e.b,m=new e.b,g=new e.b,O=new e.b,j=new e.da(0),w=new e.da(0),_=new e.b,x=[[],[]],k=1==e.je.Fb(o);o=o.ce(0);var S=a.ac(),E=a.wc();k?(v.ka(S.x*i,S.y*i),y.ka(E.x*i,E.y*i)):(x[0][0]=S.x,x[0][1]=S.y,x[1][0]=E.x,x[1][1]=E.y,e.ab.du(),v.x=x[0][0]*i,v.y=x[0][1]*i,y.x=x[1][0]*i,y.y=x[1][1]*i);var T=0,M=0,C=1,A=a.jo();h.K(S),f.K(E),E=new e.ie(0);var P=new e.ie(0),I=new e.ie(0);t.Op(E,f),t.Op(P,y),I.add(C),t.Wf(l,h),null!=u&&u.add(M);var D=[],L=0<c?A?5:3:A?5:1;t.bL(L,D);for(var R=new e.da(0),N=new e.da(0),F=new e.da(0),z=new e.da(0),V=new e.da(0),U=new e.da(0),B=new e.da(0);0<P.size;){var G=!1,q=NaN;for(e.gb.Ad(n,r,v.x,v.y,y.x,y.y,R,N,null,2),S=0;S<L;S++){if(0==S){if(!A&&0>=c&&R.j<=s&&3.141592653589793>Math.abs(v.x-y.x))break;if(a.zy(M,C)<=o)break}var H=D[S]*C+(1-D[S])*M;if(a.cc(H,d),k?m.ka(d.x*i,d.y*i):(x[0][0]=d.x,x[0][1]=d.y,e.ab.du(),m.x=x[0][0]*i,m.y=x[0][1]*i),0==S&&(q=H,b.K(d),O.K(m),0<s&&(R.j>s||3.141592653589793<=Math.abs(v.x-y.x)))){G=!0;break}if(A&&0<s){if(e.gb.Ad(n,r,v.x,v.y,m.x,m.y,F,null,null,2),F.j>s||3.141592653589793<=Math.abs(v.x-m.x)){G=!0;break}}else if(0<c){if(A?(p.hU(h,f,D[S]),k?g.ka(p.x*i,p.y*i):(x[0][0]=p.x,x[0][1]=p.y,e.ab.du(),g.x=x[0][0]*i,g.y=x[0][1]*i)):(p.K(d),g.K(m)),e.gb.Ad(n,r,v.x,v.y,g.x,g.y,z,null,null,2),!(z.j<=R.j)){G=!0;break}if(e.gb.tj(n,r,v.x,v.y,z.j,N.j,j,w,2),_.ka(j.j,w.j),e.gb.Ad(n,r,_.x,_.y,m.x,m.y,V,null,null,2),V.j>c){G=!0;break}if(A){if(e.gb.Ad(n,r,_.x,_.y,g.x,g.y,U,null,null,2),U.j>c){G=!0;break}if(e.gb.Ad(n,r,g.x,g.y,m.x,m.y,B,null,null,2),B.j>c){G=!0;break}}}}G?(f.K(b),y.K(O),C=q,t.Op(E,f),t.Op(P,y),I.add(C)):(t.SB(E),t.SB(P),I.Xn(I.size-1,1,I.size-1),t.Wf(l,f),T+=R.j,null!=u&&u.add(T),0<P.size&&(h.K(f),v.K(y),M=C,t.YB(E,f),t.YB(P,y),C=I.get(I.size-1)))}if(null!=u)for(n=1/T,S=0;S<u.size;S++)u.write(S,u.read(S)*n)},t.OC=function(e,t,n,r){r.reverse(),null!=n&&n.wi(0,n.size,1),n=null!=e?e[0]:NaN,r=null!=t?t[0]:NaN,null!=e&&(e[0]=r),null!=t&&(t[0]=n)},t.jK=function(e,t,n,r,i){e?(r.K(n),i.K(t)):(r.K(t),i.K(n))},t.iK=function(e,t,n){return e?(n.create(t.F()),t.copyTo(n.get()),n.get().reverse(),n.get()):t},t.cj=function(e,t,n){if(isNaN(t)){for(;3.141592653589793<n[0]-e;)n[0]-=6.283185307179586;for(;3.141592653589793<e-n[0];)n[0]+=6.283185307179586}else 3.141592653589793<n[0]+e-t?n[0]-=6.283185307179586:3.141592653589793<t-(n[0]+e)&&(n[0]+=6.283185307179586)},t.yY=function(e,t,n,r){3.141592653589793>Math.abs(t.x-e.x)?(r.Fc(e),3.141592653589793<=n.x-e.x?r.am(n.x-6.283185307179586,n.y):3.141592653589793<=e.x-n.x?r.am(n.x+6.283185307179586,n.y):r.am(n.x,n.y)):(r.Fc(n),3.141592653589793<=e.x-n.x?r.am(e.x-6.283185307179586,e.y):3.141592653589793<=n.x-e.x?r.am(e.x+6.283185307179586,e.y):r.am(e.x,e.y))},t.bL=function(e,t){for(var n=0;n<e;n++){var r=Math.ceil(n/2)/(e+1);0!=n%2&&(r=-r),t[n]=.5+r}},t.uv=function(t,n){return!!(e.l.V(t.y,1.570796326794897)&&!e.l.V(n.y,1.570796326794897)||e.l.V(t.y,-1.570796326794897)&&!e.l.V(n.y,-1.570796326794897))},t.sv=function(t,n){return!!(e.l.V(n.y,1.570796326794897)&&!e.l.V(t.y,1.570796326794897)||e.l.V(n.y,-1.570796326794897)&&!e.l.V(t.y,-1.570796326794897))},t.pF=function(n,r,i){return!(!t.oF(n,r,i)||e.l.V(n.y,1.570796326794897)||e.l.V(n.y,-1.570796326794897)||e.l.V(r.y,1.570796326794897)||e.l.V(r.y,-1.570796326794897))},t.oF=function(e,t,n){return Math.abs(Math.abs(e.x-t.x)-3.141592653589793)<=n},t.tv=function(t,n){return!!(e.l.V(t.y,1.570796326794897)&&e.l.V(n.y,1.570796326794897)||e.l.V(t.y,-1.570796326794897)&&e.l.V(n.y,-1.570796326794897))},t.VB=function(n,r,i,a){if(0<n.y){var o=new e.b;o.ka(r.x,1.570796326794897)}else(o=new e.b).ka(r.x,-1.570796326794897);e.l.V(n.x,o.x)||e.l.V(r.y,o.y)||(t.Wf(a,o),null!=i&&i.add(0))},t.TB=function(n,r,i,a){if(0<r.y){var o=new e.b;o.ka(n.x,1.570796326794897)}else(o=new e.b).ka(n.x,-1.570796326794897);e.l.V(r.x,o.x)||e.l.V(n.y,o.y)||(t.Wf(a,o),null!=i&&i.add(1))},t.UB=function(n,r,i,a,o,s,c){e.l.qd(i)?(0<1.570796326794897-n.y&&((i=new e.b).ka(n.x,1.570796326794897),t.Wf(c,i),null!=s&&s.add(a)),0<1.570796326794897-r.y&&((i=new e.b).ka(r.x,1.570796326794897),t.Wf(c,i),null!=s&&s.add(a))):(0<1.570796326794897+n.y&&((i=new e.b).ka(n.x,-1.570796326794897),t.Wf(c,i),null!=s&&s.add(o)),0<1.570796326794897+r.y&&((i=new e.b).ka(r.x,-1.570796326794897),t.Wf(c,i),null!=s&&s.add(o)))},t.TV=function(e){if(-3.141592653589793>e.x)for(;-3.141592653589793>e.x;)e.x+=6.283185307179586;if(3.141592653589793<e.x)for(;3.141592653589793<e.x;)e.x-=6.283185307179586},t}();e.jj=t}(Y||(Y={})),function(e){e.zp=function(){function t(){}return t.sj=function(n,r,i){if(null==n||null==r||!e.ab.Cc(r))throw e.f.I();if(n.u())return n;var a=n,o=a.F();if(e.R.Bc(o)){a=e.Lh.qj(n,r),n=new e.g,a.s(n),o=e.la.Qd(r,n,!1);for(var s=e.ab.nh(r),c=Math.floor((n.o-s.o)/s.N())*s.N()+s.o;c<n.v;)c>n.o+o&&c<n.v-o&&(a=e.Lh.Ss(a,r,i,!0,c)),c+=s.N()}else{if(197==o)return(n=new e.Fa(a.description)).bd(a,!1),t.sj(n,r,i);if(e.R.Ic(o))return(n=new e.Oa(a.description)).$b(a,!0),t.sj(n,r,i)}return t.Iv(a,r)},t.Iv=function(n,r){if(null==n||null==r||!e.ab.Cc(r))throw e.f.I();if(n.u())return n;var i=n.F();return 197==i?(i=new e.Fa(n.description)).bd(n,!1):e.R.Ic(i)?(i=new e.Oa(n.description)).$b(n,!0):i=n,(i=e.Lh.qj(i,r)).u()?i:1==e.je.Fb(r)?e.Lh.vm(i,r,0,i!=n,0):t.ZR(i,r,i!=n)},t.ZR=function(t,n,r){if(!e.ab.Cc(n))throw e.f.I();if(t.u())return t;var i=e.ab.Sd(n),a=-180*i;return i*=360,2==e.je.Fb(n)&&(i=(a=e.ab.nh(n)).v,i-=a=a.o),e.Lh.aq(t,a,i,n,r,0,!0)},t}()}(Y||(Y={})),function(e){e.bM=function(){function t(){}return t.kM=function(e,t){var n=Math.abs(e%t);return isNaN(n)||n==e||n<=Math.abs(t)/2?n:0>e?-1*(n-t):0<e?n-t:0*(n-t)},t.J=function(e){return 0>e?-e:e},t.ub=function(e,n){return 0<=n?t.J(e):-t.J(e)},t.V=function(e,n){return e==n||t.J(e-n)<=t.qD*(1+(t.J(e)+t.J(n))/2)},t.qd=function(e){return 0==e||t.J(e)<=t.qD},t.nw=function(e){return e=t.kM(e,t.py),t.J(e)<=t.Jn?e:0>e?e+t.py:e-t.py},t.EA=function(e,n){e.j=t.nw(e.j),n.j=t.nw(n.j),t.J(n.j)>t.Iu&&(e.j=t.nw(e.j+t.Jn),n.j=t.ub(t.Jn,n.j)-n.j)},t.Hg=function(e,n){var r=(n=(1-(n=Math.sqrt(1-n)))/(1+n))*n;return e/(1+n)*(1+r*(.25+r*(.015625+1/256*r)))*t.Iu},t.nS=function(n,r,i,a,o){var s,c,u,l=0,h=c=0,f=0,d=0,p=0,b=0,v=0,y=new e.da,m=new e.da;if(null!=o)if(y.j=n,m.j=r,t.EA(y,m),n=y.j,r=m.j,y.j=i,m.j=a,t.EA(y,m),i=y.j,a=m.j,i=t.nw(i-n),t.V(r,a)&&(t.qd(i)||t.V(t.J(r),t.Iu)))null!=o&&(o.j=0);else{if(t.V(r,-a)){if(t.V(t.J(r),t.Iu))return void(null!=o&&(o.j=2*t.Hg(6378137,.0066943799901413165)));if(t.V(t.J(i),t.Jn))return void(null!=o&&(o.j=2*t.Hg(6378137,.0066943799901413165)))}if(t.qd(.0066943799901413165))d=Math.cos(r),p=Math.cos(a),null!=o&&(l=Math.sin((a-r)/2),c=Math.sin(i/2),v=2*Math.asin(Math.sqrt(l*l+d*p*c*c)),o.j=6378137*v);else{n=1-(y=1-Math.sqrt(.9933056200098587)),m=Math.atan(n*Math.tan(r)),r=Math.sin(m),m=Math.cos(m);var g=Math.atan(n*Math.tan(a));a=Math.sin(g),g=Math.cos(g);var O=s=i,j=0,w=1,_=i;for(u=!0;1==u;){j+=1,1==w&&(l=g*(b=Math.sin(_)),v=m*a-r*g*(c=Math.cos(_)),l=Math.sqrt(l*l+v*v),c=r*a+m*g*c,v=Math.atan2(l,c),f=1-(h=1e-15>t.J(l)?m*g*b/t.ub(1e-15,l):m*g*b/l)*h,p=(d=1e-15>t.J(f)?c-r*a/t.ub(1e-15,f)*2:c-r*a/f*2)*d,b=((-3*f+4)*y+4)*f*y/16);var x=(1-b)*y*(v+b*l*(d+c*b*(2*p-1)));1==w?(_=i+x*h,1e-14>t.J(_-O)?u=!1:t.J(_)>t.Jn?(w=2,_=t.Jn,0>i&&(_=-_),h=0,f=1,s=O=2,v=t.Jn-t.J(Math.atan(r/m)+Math.atan(a/g)),l=Math.sin(v),c=Math.cos(v),b=((-3*f+4)*y+4)*f*y/16,1e-14>t.J(h-s)?u=!1:p=(d=1e-15>t.J(f)?c-r*a/t.ub(1e-15,f)*2:c-r*a/f*2)*d):(0>(_-O)*(O-s)&&5<j&&(_=(2*_+3*O+s)/6),s=O,O=_)):(0>((h=(_-i)/x)-O)*(O-s)&&5<j&&(h=(2*h+3*O+s)/6),s=O,O=h,f=1-h*h,b=h*l/(m*g),c=-Math.sqrt(t.J(1-b*b)),_=Math.atan2(b,c),l=g*b,v=m*a-r*g*c,l=Math.sqrt(l*l+v*v),c=r*a+m*g*c,v=Math.atan2(l,c),b=((-3*f+4)*y+4)*f*y/16,1e-14>t.J(h-s)?u=!1:p=(d=1e-15>t.J(f)?c-r*a/t.ub(1e-15,f)*2:c-r*a/f*2)*d)}null!=o&&(f=(h=((h=Math.sqrt(1+(1/(n*n)-1)*f))-1)/(h+1))*(1-.375*h*h),o.j=(1+h*h/4)/(1-h)*n*6378137*(v-f*l*(d+f/4*(c*(2*p-1)-f/6*d*(4*l*l-3)*(4*p-3)))))}}},t.Jn=3.141592653589793,t.Iu=1.5707963267948966,t.py=6.283185307179586,t.qD=3552713678800501e-30,t}()}(Y||(Y={})),function(e){var t=function(e){this.He=e,this.Rk=this.He.getCode(),0>this.Rk&&(this.Rk=0)};e.j_=t;var n=function(){function n(e){void 0===e&&(e=null),this.Gj=null,this.no=!1,null!==e&&(this.Gj=new t(e))}return n.prototype.xc=function(){return null!=this.Gj?this.Gj.Rk:0},n.prototype.Cf=function(){var e=new n;return this.copyTo(e),e},n.prototype.copyTo=function(e){e.Gj=this.Gj,e.no=this.no},n.prototype.Qv=function(){var e=this.Cf();return e.Xs(),e},n.prototype.Xs=function(){this.no=!this.no},n.prototype.Bm=function(){return null!=this.Gj?this.Gj.He:null},n.prototype.PK=function(n){if(0>=n)throw e.f.I();if(n!=this.xc()){if(null==(n=e.zf.geogtran(n)))throw e.f.I("Geogtran not found.");this.Gj=new t(n)}},n.prototype.jA=function(){return null==this.Gj?null:this.Gj.He.toString()},n.prototype.XY=function(n){if(null==n)throw e.f.I();var r=null;try{r=e.zf.fromString(e.Pc.PE_TYPE_GEOGTRAN,n)}catch(t){throw e.f.I()}this.Gj=new t(r)},n.prototype.Ib=function(e){return e==this||!(!(e instanceof n)||(0>=this.xc()||this.xc()!=e.xc())&&!this.Bm().isEqual(e.Bm()))&&this.no==e.no},n.prototype.toString=function(){var e="GeographicTransformation: "+this.jA();return 200<e.length?e.substring(0,197)+"... ("+e.length.toString()+" characters)":e},n.create=function(e,t){var r=new n;return r.PK(e),t&&r.Xs(),r},n.LF=function(e,t){var r=new n;return r.XY(e),t&&r.Xs(),r},n}();e.Hn=n}(Y||(Y={})),function(e){var t=function(){function e(){}return e.construct=function(t,n,r,i){var a=new e;return a.Um=t,a.Vm=n,a.nI=r,a.oI=i,a},e.ls=function(e,t){return e.Um==t.Um?e.Vm==t.Vm?0:e.Vm<t.Vm?-1:1:e.Um<t.Um?-1:1},e}(),n=function(){function n(){this.pI=[],this.cB=[],this.LH=this.RA=this.KH=!1,this.Jp()}return n.bo=function(){return null==n.oL&&(n.oL=new n),n.oL},n.d0=function(){return n.bo().RA},n.e0=function(){return n.bo().LH},n.l_=function(e,t){if(e==t)return null;var r=n.bo();if(r.KH){var i=n.Fy(r.cB,e,t);return null!=i?i:null}return null!=(i=n.Fy(r.cB,e,t))?i:n.Fy(r.pI,e,t)},n.CQ=function(t,n,r,i,a){var o=e.hy.create();if(0<t)try{var s=e.Hn.create(t,n);if(0==s.xc())return null;if(o.add(s),0<r){var c=e.Hn.create(r,i);if(0==c.xc())return null;o.add(c)}a&&(o=o.Qv())}catch(e){o=null}return o},n.Fy=function(e,r,i){if(r==i||0==e.length)return null;for(var a=t.construct(r,i,0,0),o=!1,s=!1,c=0,u=0,l=-1,h=0;h<e.length;h++)if(0===t.ls(a,e[h])){l=h;break}if(0>l||e[l].Um!=a.Um||e[l].Vm!=a.Vm){for(a=t.construct(i,r,0,0),r=-1,h=0;h<e.length;h++)if(0===t.ls(a,e[h])){r=h;break}0<=r&&e[r].Um==a.Um&&e[r].Vm==a.Vm&&(c=e[r].nI,u=e[r].oI,s=o=!0)}else c=e[l].nI,u=e[l].oI,o=!1,s=!0;return s?(0==c&&(c=u,u=0),a=e=!1,0>c&&(c=-c,e=!0),0>u&&(u=-u,a=!0),n.CQ(c,e,u,a,o)):null},n.prototype.Jp=function(){this.TD(this.pI)&&(this.RA=!0),this.TD(this.cB)&&(this.LH=!0),this.KH=!this.RA},n.prototype.TD=function(e){try{var n=[];n=n.sort(t.ls);for(var r=0;r<n.length;r++)e.push(n[r])}catch(e){}return!0},n.y_=function(){return null},n}();e.i_=n}(Y||(Y={})),function(e){var t=function(){function e(){}return e.prototype.Ky=function(e){this.oi=e},e.prototype.jE=function(e){this.Hb=e},e.prototype.kE=function(e){this.To=e},e.mF=function(e){return!(e.u()||1607!=e.F()&&1736!=e.F())},e.kF=function(e){return!(e.u()||1607!=e.F()&&1736!=e.F()||20>e.D())},e.lF=function(e){return!(e.u()||1607!=e.F()&&1736!=e.F()||20>e.D())},e}();e.Yk=t}(Y||(Y={})),function(e){e.bc=function(){function t(){}return t.lV=function(t){var n=new e.Fa;return n.Zx(t.Ms(),t.Os()),n.Cj(t.Ms(),t.Ns()),n.Cj(t.Ls(),t.Ns()),n.Cj(t.Ls(),t.Os()),n},t.$g=function(t,n){return null===t?null:e.Rr.local().U(t,n,null)},t.SZ=function(t,n){var r=e.Jh.local();return t=new e.$c(t),r.U(t,n,null).next()},t.tm=function(t,n,r){return e.Cp.local().U(t,n,r,null)},t.tp=function(t,n,r){return e.oy.local().U(t,n,r,null)},t.AZ=function(t,n,r){var i=e.oy.local();for(t=new e.$c(t),n=new e.$c(n),r=i.U(t,n,r,null),i=[];null!=(n=r.next());)i.push(n);return i},t.Ib=function(t,n,r){return e.kj.local().U(3,t,n,r,null)},t.dR=function(t,n,r){return e.kj.local().U(4,t,n,r,null)},t.kU=function(t,n,r){var i=e.ak.local();for(t=new e.$c(t),n=new e.$c(n),r=i.U(t,n,r,null),i=[];null!=(n=r.next());)i.push(n);return i},t.aR=function(t,n,r){var i=e.Cp.local();for(t=new e.$c(t),n=new e.$c(n),r=i.U(t,n,r,null),i=[];null!=(n=r.next());)i.push(n);return i},t.Ia=function(t,n,r){return e.ak.local().U(t,n,r,null)},t.XZ=function(t,n,r){return e.kj.local().U(2,t,n,r,null)},t.contains=function(t,n,r){return e.kj.local().U(1,t,n,r,null)},t.MQ=function(t,n,r){return e.kj.local().U(16,t,n,r,null)},t.touches=function(t,n,r){return e.kj.local().U(8,t,n,r,null)},t.WV=function(t,n,r){return e.kj.local().U(32,t,n,r,null)},t.mU=function(t,n,r){return e.kj.local().U(1073741824,t,n,r,null)},t.hC=function(t,n,r,i){return e.IM.local().U(t,n,r,i,null)},t.vb=function(t,n,r,i){var a=null;if(null!=r){if(a=r.Ld(),null!=i&&a.xc()!=i.xc()&&a.nd!=i.nd)throw e.f.al()}else if(null!=i)throw e.f.I();return t=e.AM.local().U(t,n,null),null!==a&&null!==i&&(t=e.Uc.Rh(t,a,i)),t},t.clip=function(t,n,r){return e.uM.local().U(t,e.g.construct(n.Ms(),n.Os(),n.Ls(),n.Ns()),r,null)},t.jl=function(t,n,r){if(null==t||null==n)return null;for(t=e.wM.local().U(!0,t,n,r,null),n=[];null!=(r=t.next());)r.u()||n.push(r);return n.slice(0)},t.XO=function(n,r,i,a,o,s,c,u){if(!0===o)return t.YO(n,r,i,a,s,c,u);if(o=i,null!=r){if(c=r.Ld(),null!=a&&c.xc()!=a.xc()){if(c.nd!=a.nd)throw e.f.al();o=[],e.Uc.IF(i,i.length,a,c,o)}}else if(null!=a)throw e.f.I();if(i=e.hD.local(),s){for(n=new e.$c(n),r=i.U(n,r,o,s,null),n=[];null!=(s=r.next());)n.push(s);s=n.slice(0)}else for(s=[],a=0;a<n.length;a++)s[a]=i.U(n[a],r,o[a],null);return s},t.YO=function(t,n,r,i,a,o,s){if(null===n)throw e.f.I();if(null==i&&(i=4326!==n.xc()?n.Ld():e.Uc.hh(9001)),0!==i.nd)throw e.f.I();if(e.Uc.IF(r,r.length,i,e.Uc.hh(9001),r),i=e.mD.local(),a){for(t=new e.$c(t),n=i.U(t,n,o,r,s,!1,a,null),r=[];null!=(o=n.next());)r.push(o);a=r.slice(0)}else{a=[];for(var c=0;c<t.length;c++)a[c]=i.U(t[c],n,o,r[c],s,!1,null)}return a},t.buffer=function(t,n,r,i,a,o,s){var c=r;if(!1===a){if(null!=n){if(a=n.Ld(),null!=i&&a.xc()!=i.xc()){if(a.nd!=i.nd)throw e.f.al();c=e.Uc.Rh(r,i,a)}}else if(null!=i)throw e.f.I();t=e.hD.local().U(t,n,c,null)}else{if(null===n)throw e.f.I();if(null==i&&(i=4326!==n.xc()?n.Ld():e.Uc.hh(9001)),0!==i.nd)throw e.f.I();c=e.Uc.Rh(r,i,e.Uc.hh(9001)),t=e.mD.local().U(t,n,o,c,s,!1,null)}return t},t.UV=function(t,n,r,i,a,o,s){if(null!=n){var c=n.Ld();if(null!=s&&c.xc()!=s.xc()){if(c.nd!=s.nd)throw e.f.al();r=e.Uc.Rh(r,s,c)}}else if(null!=s)throw e.f.I();for(t=new e.$c(t),n=e.pD.local().U(t,n,r,i,a,o,null),r=[];null!=(i=n.next());)r.push(i);return r.slice(0)},t.offset=function(t,n,r,i,a,o,s){if(null!=n){var c=n.Ld();if(null!=s&&c.xc()!=s.xc()){if(c.nd!=s.nd)throw e.f.al();r=e.Uc.Rh(r,s,c)}}else if(null!=s)throw e.f.I();return e.pD.local().U(t,n,r,i,a,o,null)},t.sQ=function(t){return e.jD.local().U(t,null)},t.tQ=function(t,n){var r=e.jD.local();for(t=new e.$c(t),n=r.U(t,n,null),r=[];null!=(t=n.next());)r.push(t);return r},t.Xz=function(t,n,r){return e.my.local().Xz(t,n,r)},t.Yz=function(t,n){return e.my.local().Yz(t,n)},t.Zz=function(t,n,r,i){return e.my.local().Zz(t,n,r,i)},t.MC=function(t,n){return e.jm.local().U(t,n,!1,null)},t.AU=function(t,n){return e.jm.local().zq(t,n,null)},t.bS=function(t,n,r,i,a){var o=e.lD.local();if(null!=n){if(n=n.Ld(),null!=a&&n.xc()!=a.xc()){if(n.nd!=a.nd)throw e.f.al();r=e.Uc.Rh(r,a,n)}}else if(null!=a)throw e.f.I();return o.U(t,r,i,null)},t.rs=function(t,n,r,i){var a=e.im.local();if(null!=n){if(n=n.Ld(),null!=i&&n.xc()!=i.xc()){if(n.nd!=i.nd)throw e.f.al();r=e.Uc.Rh(r,i,n)}}else if(null!=i)throw e.f.I();return a.U(t,r,null)},t.Bz=function(t,n,r,i,a){void 0===a&&(a=0);var o=e.CM.local();if(4==a)throw e.f.Me();if(0!==a)throw e.f.Me();if(null!==i){if(0!==i.nd)throw e.f.I("Unit must be a linear unit type");r=e.Uc.Rh(r,i,e.Uc.hh(9001))}return o.U(t,r,n,a,null)},t.hS=function(n,r,i,a){if(null===n)return 0;if(4==a)throw e.f.Me();if(0!==a)throw e.f.Me();if(197==n.F())n=t.lV(n);else if(1736!=n.F())return 0;if(a=e.ab.hc(r),n=e.ab.$g(n,r,a),n=e.cM.iS([n])[0],null!==i){if(2!==i.nd)throw e.f.I("Unit must be a area unit type");n=e.Uc.Rh(n,e.Uc.hh(109404),i)}return n},t.lS=function(t,n,r,i){if(t=e.EM.local().U(t,n,i,null),null!==r){if(0!==r.nd)throw e.f.I("Unit must be a linear unit type");t=e.Uc.Rh(t,e.Uc.hh(9001),r)}return t},t.bW=function(t,n,r){if(null===t)return 0;var i=null;if(null!=n){if(0==(i=n.Ld()).nd&&null==(i=e.Uc.MG(i))&&null!==r)throw e.f.I();if(null!=r&&i.xc()!=r.xc()&&i.nd!=r.nd)throw e.f.al()}else if(null!=r)throw e.f.I();return 1736==t.F()||197==t.F()?(t=t.Pe(),null!==r?e.Uc.Rh(t,i,r):t):0},t.cW=function(t,n,r){if(null===t||t.u()||1>t.pb())return 0;var i=null;if(null!=n){if(i=n.Ld(),null!=r&&i.xc()!=r.xc()&&i.nd!=r.nd)throw e.f.al()}else if(null!=r)throw e.f.I();1736==t.F()||197==t.F()?n=t.sg():e.R.Ic(t.F())?(n=new e.Oa(t.description)).$b(t,!0):n=t,t=0,n=n.Ba();for(var a=new e.b,o=new e.b;n.Ta();)for(;n.Aa();){var s=n.aa();s.qq(a),s.vs(o),t+=e.b.vb(a,o)}return null!==i&&null!==r&&(t=e.Uc.Rh(t,i,r)),t},t.X_=function(t,n){return e.je.kS(t,n)},t.pQ=function(e){return void 0!==e.points?t.HT(e,void 0!==e.hasZ&&e.hasZ,void 0!==e.hasM&&e.hasM):void 0!==e.rings?t.YG(e.rings,void 0!==e.hasZ&&e.hasZ,void 0!==e.hasM&&e.hasM,"P"):void 0!==e.paths?t.YG(e.paths,void 0!==e.hasZ&&e.hasZ,void 0!==e.hasM&&e.hasM,"L"):void 0!==e.x?t.IT(e):void 0!==e.xmin?t.GT(e):null},t.IT=function(t){if(null==t.x||"NaN"==t.x)return new e.Ra;var n=new e.Ra(t.x,t.y);return void 0!==t.z&&null!==t.z&&n.$Y(t.z),void 0!==t.m&&null!==t.m&&n.KY(t.m),n},t.GT=function(t){if(null==t.xmin||"NaN"==t.xmin)return new e.Ih;var n=new e.Ih(t.xmin,t.ymin,t.xmax,t.ymax);return void 0!==t.zmin&&null!==t.zmin&&n.setInterval(1,0,t.zmin,t.zmax),void 0!==t.mmin&&null!==t.mmin&&n.setInterval(2,0,t.mmin,t.mmax),n},t.HT=function(t,n,r){var i=0,a=new e.Hd,o=3*t.points.length;0!=o%2&&o++,2>o&&(o=2);var s=e.L.truncate(3*t.points.length/2);4>s?s=4:16>s&&(s=16),o=e.Xc.Wn(o,0);var c=e.Xc.Wn(s);s=e.Xc.Wn(s);for(var u=0;u<t.points.length;u++)o.write(2*u,t.points[u][0]),o.write(2*u+1,t.points[u][1]),c.write(u,n||r?t.points[u][2]:NaN),s.write(u,r&&n?t.points[u][3]:NaN),i++;return 0!=i&&(a.resize(i),a.yn(0,o)),n&&(a.le(1),a.yn(1,c)),r&&(a.le(2),a.yn(2,0==n?c:s)),a.Oc(16777215),a},t.YG=function(t,n,r,i){var a=0,o=2;if("P"==i){var s=new e.Fa;a=1,o=3}else s=new e.Oa;for(var c=e.Xc.Sh(0),u=e.Xc.ns(0),l=0,h=0,f=[],d=[],p=0;p<t.length;p++){var b=t[p].length;if(f[p]=!1,"P"===i&&t[p][0][0]===t[p][t[p].length-1][0]&&t[p][0][1]===t[p][t[p].length-1][1]){var v=0==r||t[p][0][3]===t[p][t[p].length-1][3]||void 0===t[p][0][3]&&void 0===t[p][t[p].length-1][3];(0==n||t[p][0][2]===t[p][t[p].length-1][2]||void 0===t[p][0][2]&&void 0===t[p][t[p].length-1][2])&&v&&(f[p]=!0,--b)}b>=o?(d[p]=!1,h+=1,c.add(l),u.add(a),l+=b):d[p]=!0}for(0!=(i=3*l)%2&&i++,2>i&&(i=2),4>(p=e.L.truncate(3*l/2))?p=4:16>p&&(p=16),i=e.Xc.Wn(i,0),a=e.Xc.Wn(p),o=e.Xc.Wn(p),p=b=0;p<t.length;p++)if(!1===d[p])for(v=0;v<t[p].length;v++){var y=!1;v===t[p].length-1&&!0===f[p]&&(y=!0),y||(i.write(2*b,t[p][v][0]),i.write(2*b+1,t[p][v][1]),a.write(b,n||r?t[p][v][2]:NaN),o.write(b,r&&n?t[p][v][3]:NaN),b++)}return 0!=l&&(t=s,c.resize(h),u.resize(h),0<l&&(c.add(l),u.add(0)),t.yn(0,i),t.TK(u),t.UK(c)),n&&(s.le(1),s.yn(1,a)),r&&(s.le(2),s.yn(2,0==n?a:o)),s.Oc(16777215),s},t}()}(Y||(Y={})),function(e){e.jy=function(){function e(){}return e.vr=function(e){var t,n=0,r=e.length,i=e[0];for(t=0;t<r-1;t++){var a=e[t+1];n+=(a[0]-i[0])*(a[1]+i[1]),i=a}return 0<=n},e.rotate=function(t,n,r){n=n*Math.PI/180;var i=Math.cos(n),a=Math.sin(n);if(void 0!==t.paths){n={paths:[]};for(var o=0;o<t.paths.length;o++){for(var s=t.paths[o],c=[],u=0;u<s.length;u++){var l=s[u].slice(0);c.push(l);var h=i*(s[u][0]-r.x)-a*(s[u][1]-r.y)+r.x,f=a*(s[u][0]-r.x)+i*(s[u][1]-r.y)+r.y;l[0]=h,l[1]=f}n.paths.push(c)}return n}if(void 0!==t.rings){for(n={rings:[]},o=0;o<t.rings.length;o++){s=t.rings[o],c=[];var d=e.vr(s);for(u=0;u<s.length;u++)l=s[u].slice(0),c.push(l),h=i*(s[u][0]-r.x)-a*(s[u][1]-r.y)+r.x,f=a*(s[u][0]-r.x)+i*(s[u][1]-r.y)+r.y,l[0]=h,l[1]=f;e.vr(c)!==d&&c.reverse(),n.rings.push(c)}return n}if(void 0!==t.x)return n={x:i*(t.x-r.x)-a*(t.y-r.y)+r.x,y:a*(t.x-r.x)+i*(t.y-r.y)+r.y},void 0!==t.z&&(n.z=t.z),void 0!==t.m&&(n.m=t.m),n;if(void 0!==t.points){for(n={points:[]},t=t.points,u=0;u<t.length;u++)(o=t[u].slice(0))[0]=i*(t[u][0]-r.x)-a*(t[u][1]-r.y)+r.x,o[1]=a*(t[u][0]-r.x)+i*(t[u][1]-r.y)+r.y,n.points.push(o);return n}return null},e.VR=function(t,n){if(void 0!==t.paths){for(var r={paths:[]},i=0;i<t.paths.length;i++){for(var a=t.paths[i],o=[],s=0;s<a.length;s++){var c=a[s].slice(0);o.push(c);var u=n.x-a[s][0];c[0]=a[s][0]+2*u}r.paths.push(o)}return r}if(void 0!==t.rings){for(r={rings:[]},i=0;i<t.rings.length;i++){a=t.rings[i];var l=e.vr(a);for(o=[],s=0;s<a.length;s++)c=a[s].slice(0),o.push(c),u=n.x-a[s][0],c[0]=a[s][0]+2*u;e.vr(o)!==l&&o.reverse(),r.rings.push(o)}return r}if(void 0!==t.x)return u=n.x-t.x,r={x:t.x+2*u,y:t.y},void 0!==t.z&&(r.z=t.z),void 0!==t.m&&(r.m=t.m),r;if(void 0!==t.points){for(r={points:[]},t=t.points,s=0;s<t.length;s++)i=t[s].slice(0),u=n.x-i[0],i[0]+=2*u,r.points.push(i);return r}return void 0!==t.xmin?(r={o:t.xmin,A:t.ymin,v:t.xmax,B:t.ymax},void 0!==t.zmin&&(r.zmin=t.zmin,r.zmax=t.zmax),void 0!==t.mmin&&(r.mmin=t.mmin,r.mmax=t.mmax),u=n.x-t.xmin,r.xmax=t.xmin+2*u,u=n.x-t.xmax,r.xmin=t.xmax+2*u,r):null},e.WR=function(t,n){if(void 0!==t.paths){for(var r={paths:[]},i=0;i<t.paths.length;i++){for(var a=t.paths[i],o=[],s=0;s<a.length;s++){var c=a[s].slice(0);o.push(c);var u=n.y-a[s][1];c[1]=a[s][1]+2*u}r.paths.push(o)}return r}if(void 0!==t.rings){for(r={rings:[]},i=0;i<t.rings.length;i++){a=t.rings[i];var l=e.vr(a);for(o=[],s=0;s<a.length;s++)c=a[s].slice(0),o.push(c),u=n.y-a[s][1],c[1]=a[s][1]+2*u;e.vr(o)!==l&&o.reverse(),r.rings.push(o)}return r}if(void 0!==t.x)return u=n.y-t.y,r={y:t.y+2*u,x:t.x},void 0!==t.z&&(r.z=t.z),void 0!==t.m&&(r.m=t.m),r;if(void 0!==t.points){for(r={points:[]},t=t.points,s=0;s<t.length;s++)i=t[s].slice(0),u=n.y-i[1],i[1]+=2*u,r.points.push(i);return r}return void 0!==t.xmin?(r={o:t.xmin,A:t.ymin,v:t.xmax,B:t.ymax},void 0!==t.zmin&&(r.zmin=t.zmin,r.zmax=t.zmax),void 0!==t.mmin&&(r.mmin=t.mmin,r.mmax=t.mmax),u=n.y-t.ymin,r.ymax=t.ymin+2*u,u=n.y-t.ymax,r.ymin=t.ymax+2*u,r):null},e}()}(Y||(Y={})),function(e){e.hM=function(){function t(){}return t.Pg=function(t,n){switch(null==n&&(n=e.ke.ug()),t){case 33:return new e.Ra(n);case 322:return new e.zb(n);case 197:return new e.Ih(n);case 550:return new e.Hd(n);case 1607:return new e.Oa(n);case 1736:return new e.Fa(n);default:throw e.f.Y("invalid argument.")}},t}()}(Y||(Y={})),function(e){var t=function(){function t(t,n){this.Ye=e.ha.Af(t,-1),this.ta=new e.Hu,this.Fl=n}return t.prototype.fY=function(e){this.ta.ku(Math.min(this.Ye.size,e)),this.ta.vn(e)},t.prototype.addElement=function(t,n){if(void 0===n)return this.oO(t);n=e.L.truncate(n%this.Ye.size);var r=this.Ye.get(n);return-1==r&&(r=this.ta.Th(),this.Ye.set(n,r)),this.ta.addElement(r,t)},t.prototype.oO=function(t){var n=this.Fl.Tz(t);n=e.L.truncate(n%this.Ye.size);var r=this.Ye.get(n);return-1==r&&(r=this.ta.Th(),this.Ye.set(n,r)),this.ta.addElement(r,t)},t.prototype.hd=function(t,n){if(void 0===n)this.VQ(t);else{n=e.L.truncate(n%this.Ye.size);var r=this.Ye.get(n);if(-1==r)throw e.f.I();for(var i=this.ta.sc(r),a=-1;-1!=i;){var o=this.ta.hb(i);this.ta.ga(i)==t?(this.ta.hd(r,a,i),-1==this.ta.sc(r)&&(this.ta.kh(r),this.Ye.set(n,-1))):a=i,i=o}}},t.prototype.VQ=function(t){var n=this.Fl.Tz(t);n=e.L.truncate(n%this.Ye.size);var r=this.Ye.get(n);if(-1==r)throw e.f.I();for(var i=this.ta.sc(r),a=-1;-1!=i;){var o=this.ta.hb(i);this.ta.ga(i)==t?(this.ta.hd(r,a,i),-1==this.ta.sc(r)&&(this.ta.kh(r),this.Ye.set(n,-1))):a=i,i=o}},t.prototype.ES=function(t){return t=e.L.truncate(t%this.Ye.size),-1==(t=this.Ye.get(t))?-1:this.ta.sc(t)},t.prototype.US=function(e){return this.ta.hb(e)},t.prototype.zd=function(t){var n=this.Fl.Tz(this.ga(t));n=e.L.truncate(n%this.Ye.size);var r=this.Ye.get(n);if(-1==r)throw e.f.I();for(var i=this.ta.sc(r),a=-1;-1!=i;){if(i==t)return this.ta.hd(r,a,i),void(-1==this.ta.sc(r)&&(this.ta.kh(r),this.Ye.set(n,-1)));a=i,i=this.ta.hb(i)}throw e.f.I()},t.prototype.ga=function(e){return this.ta.ga(e)},t.prototype.clear=function(){this.Ye=e.ha.Af(this.Ye.size,-1),this.ta.clear()},t.prototype.size=function(){return this.ta.FG()},t}();e.nM=t}(Y||(Y={})),function(e){var t=function(){function t(){this.Ri=new e.ad(3),this.ta=new e.ad(6),this.NU=!1,this.re=-1}return t.prototype.ml=function(e){this.Ri.hd(e)},t.prototype.vx=function(){return this.Ri.Ke()},t.prototype.Jv=function(e){this.ta.hd(e)},t.prototype.KB=function(){return this.ta.Ke()},t.prototype.EC=function(e,t){this.Ri.P(e,1,t)},t.prototype.Mx=function(e,t){this.Ri.P(e,2,t)},t.prototype.JY=function(e,t){this.Ri.P(e,3,t)},t.prototype.CC=function(e,t){this.ta.P(e,4,t)},t.prototype.MY=function(e,t){this.ta.P(e,3,t)},t.prototype.XK=function(e,t){this.ta.P(e,2,t)},t.prototype.Th=function(e){var t=this.KB();return this.ta.P(t,3,this.re),this.ta.P(t,4,0),this.ta.P(t,5,e),-1!=this.re&&this.XK(this.re,t),this.re=t},t.prototype.kh=function(e){this.vF(e);var t=this.ta.S(e,2),n=this.ta.S(e,3);return-1!=t?this.MY(t,n):this.re=n,-1!=n&&this.XK(n,t),this.Jv(e),n},t.prototype.ku=function(e){this.ta.Le(e)},t.prototype.BG=function(e){return this.ta.S(e,5)},t.prototype.IY=function(e,t){this.ta.P(e,5,t)},t.prototype.addElement=function(e,t){return this.OT(e,t)},t.prototype.OT=function(e,t){var n=this.vx();this.Mx(n,-1),-1==this.ta.S(e,0)&&this.ta.P(e,0,n);var r=this.ta.S(e,1);return this.EC(n,r),-1!=r&&this.Mx(r,n),this.ta.P(e,1,n),this.setData(n,t),this.CC(e,this.Hs(e)+1),this.NU&&this.JY(n,e),n},t.prototype.hd=function(e,t){var n=this.Be(t),r=this.hb(t);return-1!=n?this.Mx(n,r):this.ta.P(e,0,r),-1!=r?this.EC(r,n):this.ta.P(e,1,n),this.ml(t),this.CC(e,this.Hs(e)-1),r},t.prototype.vn=function(e){this.Ri.Le(e)},t.prototype.getData=function(e){return this.Ri.S(e,0)},t.prototype.setData=function(e,t){this.Ri.P(e,0,t)},t.prototype.hb=function(e){return this.Ri.S(e,2)},t.prototype.Be=function(e){return this.Ri.S(e,1)},t.prototype.sc=function(e){return this.ta.S(e,0)},t.prototype.Gc=function(e){return this.ta.S(e,1)},t.prototype.clear=function(){for(var e=this.re;-1!=e;)e=this.kh(e)},t.prototype.vF=function(e){for(var t=this.Gc(e);-1!=t;){var n=t;t=this.Be(n),this.ml(n)}this.ta.P(e,0,-1),this.ta.P(e,1,-1),this.CC(e,0)},t.prototype.u=function(){return 0==this.Ri.size},t.prototype.FG=function(){return this.Ri.size},t.prototype.Hs=function(e){return this.ta.S(e,4)},t.prototype.$z=function(e){return this.ta.S(e,3)},t}();e.Ap=t}(Y||(Y={})),function(e){var t=function(){function t(t){void 0===t?(this.Bg=new e.ad(2),this.ta=new e.ad(4),this.re=-1,this.ww=!0):(this.Bg=new e.ad(2),this.ta=new e.ad(t?4:2),this.re=-1,this.ww=t)}return t.prototype.ml=function(e){this.Bg.hd(e)},t.prototype.vx=function(){return this.Bg.Ke()},t.prototype.Jv=function(e){this.ta.hd(e)},t.prototype.KB=function(){return this.ta.Ke()},t.prototype.Th=function(){var e=this.KB();return this.ww&&(this.ta.P(e,3,this.re),-1!=this.re&&this.ta.P(this.re,2,e),this.re=e),e},t.prototype.kh=function(e){for(var t=this.sc(e);-1!=t;){var n=t;t=this.hb(t),this.ml(n)}this.ww&&(t=this.ta.S(e,2),n=this.ta.S(e,3),-1!=t?this.ta.P(t,3,n):this.re=n,-1!=n&&this.ta.P(n,2,t)),this.Jv(e)},t.prototype.ku=function(e){this.ta.Le(e)},t.prototype.addElement=function(e,t){var n=this.ta.S(e,1),r=this.vx();return-1!=n?this.Bg.P(n,1,r):this.ta.P(e,0,r),this.ta.P(e,1,r),this.Bg.P(r,0,t),r},t.prototype.vn=function(e){this.Bg.Le(e)},t.prototype.hd=function(e,t,n){-1!=t?(this.Bg.P(t,1,this.Bg.S(n,1)),this.ta.S(e,1)==n&&this.ta.P(e,1,t)):(this.ta.P(e,0,this.Bg.S(n,1)),this.ta.S(e,1)==n&&this.ta.P(e,1,-1)),this.ml(n)},t.prototype.lz=function(e,t){var n=this.ta.S(e,1),r=this.ta.S(t,0);-1!=r&&(-1!=n?this.Bg.P(n,1,r):this.ta.P(e,0,r),this.ta.P(e,1,this.ta.S(t,1))),this.ww&&(e=this.ta.S(t,2),n=this.ta.S(t,3),-1!=e?this.ta.P(e,3,n):this.re=n,-1!=n&&this.ta.P(n,2,e)),this.Jv(t)},t.prototype.ga=function(e){return this.Bg.S(e,0)},t.prototype.Tj=function(e,t){this.Bg.P(e,0,t)},t.prototype.hb=function(e){return this.Bg.S(e,1)},t.prototype.sc=function(e){return this.ta.S(e,0)},t.prototype.ao=function(e){return this.ga(this.sc(e))},t.prototype.clear=function(){this.Bg.rj(!0),this.ta.rj(!0),this.re=-1},t.prototype.u=function(){return 0==this.Bg.size},t.prototype.FG=function(){return this.Bg.size},t.prototype.$z=function(e){return this.ta.S(e,3)},t}();e.Hu=t}(Y||(Y={})),function(e){e.la=function(){function t(){}return t.uE=function(n,r,i,a,o,s,c){var u=new e.b;u.K(n),(n=new e.b).K(r),o.My(u),o.My(n),r=o.Ru(u);var l=o.Ru(n);if(0==l&&(l=o.AG()),u.x!=n.x&&(u.y!=n.y||u.y!=o.A&&u.y!=o.B)||l>r!=s){r=o.QD(u),l=o.QD(n);var h=s?1:3;do{r=r+h&3;var f=o.Ax(r);0!=c&&(a=t.uE(u,f,i,a,o,s,c)),i[a++].ka(f.x,f.y),u=f}while((3&r)!=l);0!=c&&(a=t.uE(u,n,i,a,o,s,c))}else if((o=new e.b).ka(n.x-u.x,n.y-u.y),0!=c&&0<(c=e.L.truncate(o.ZN()/c)))for(o.scale(1/(c+1)),s=0;s<c;s++)u.add(o),i[a++].ka(u.x,u.y);return a},t.Qd=function(e,t,n){return t=t.Mn(),e=null!=e&&void 0!==e.ce?e.ce(0):0,n&&(t*=4,e*=1.1),Math.max(e,t)},t.es=function(e){return 2*Math.sqrt(2)*e},t.CO=function(e){return Math.sqrt(2)*e},t.Ng=function(n,r,i){var a=new e.g;return r.s(a),t.Qd(n,a,i)},t.hF=function(e,t,n){return t=t.Qf(1,0).Mn(),e=null!=e?e.ce(1):0,n&&(t*=4,e*=1.1),Math.max(e,t)},t.Z_=function(t,n){var r=new e.g;return t.Zb(r),r.Nb(n),r},t.Tv=function(t,n){var r=new e.g;return t.Zb(r),t=new e.g,n.Zb(t),r.Nb(t),r},t.i0=function(t,n){var r=t.JS(n),i=t.ua(n),a=t.zc(n),o=t.xa(r);return r==i?(a=t.xa(a-1),r=t.xa(i+1)):r==a-1?(a=t.xa(r-1),r=t.xa(i)):(a=t.xa(r-1),r=t.xa(r+1)),0==(o=e.b.fp(a,o,r))?0<t.rm(n):-1==o},t.iP=function(t){var n=new e.g;if(t.Zb(n),n.u())return null;var r=new e.Fp(n,8),i=-1,a=new e.g,o=!1;do{for(var s=0,c=t.$();s<c;s++){if(t.Sj(s,a),-1==(i=r.ew(s,a,i))){if(o)throw e.f.Y("internal error");t.Tn(n,!1),o=!0,r.reset(n,8);break}o=!1}}while(o);return r},t.$E=function(t){var n=new e.g;t.Zb(n);for(var r=new e.Fp(n,8),i=-1,a=t.Ba(),o=new e.g,s=!1;a.Ta();)for(;a.Aa();){var c=a.aa(),u=a.wb();if(c.s(o),-1==(i=r.ew(u,o,i))){if(s)throw e.f.za();t.Tn(n,!1),s=!0,r.reset(n,8),a.ej();break}}return r},t.pj=function(t,n){var r=new e.g;t.Zb(r);for(var i=new e.Fp(r,8),a=-1,o=new e.g,s=t.Ba(),c=!1;s.Ta();)for(;s.Aa();){var u=s.aa(),l=s.wb();if(u.s(o),o.isIntersecting(n)&&-1==(a=i.ew(l,o,a))){if(c)throw e.f.Y("internal error.");t.Tn(r,!1),c=!0,i.reset(r,8),s.ej();break}}return i},t.B_=function(t){var n=new e.g;t.Zb(n);for(var r=new e.Fp(n,8),i=new e.b,a=new e.g,o=!1,s=0;s<t.D();s++)if(t.w(s,i),a.H(i),-1==r.Gi(s,a)){if(o)throw e.f.za();t.Tn(n,!1),o=!0,r.reset(n,8),s=-1}return r},t.aF=function(t,n){for(var r=new e.Fp(n,8),i=new e.b,a=!1,o=new e.g,s=0;s<t.D();s++)if(t.w(s,i),n.contains(i)&&(o.H(i),-1==r.Gi(s,o))){if(a)throw e.f.za();a=!0,s=new e.g,t.Tn(s,!1),r.reset(s,8),s=-1}return r},t.zS=function(t,n,r){var i=new e.g,a=new e.g;t.Zb(i),n.Zb(a),i.O(r,r),a.O(r,r);var o=new e.g;o.H(i),o.Ia(a),t=t.Ba(),n=n.Ba();var s=new e.fD;s.IC(r);var c=!1;for(s.vL();t.Ta();)for(;t.Aa();)t.aa().s(i),i.isIntersecting(o)&&(c=!0,(r=new e.g).H(i),s.vE(t.wb(),r));if(s.WF(),!c)return null;for(i=!1,s.uL();n.Ta();)for(;n.Aa();)n.aa().s(a),a.isIntersecting(o)&&(i=!0,(r=new e.g).H(a),s.qE(n.wb(),r));return s.VF(),i?s:null},t.AS=function(t,n,r,i,a){var o=t.F(),s=n.F(),c=new e.g,u=new e.g;t.Zb(c),n.Zb(u),c.O(r,r),u.O(r,r);var l=new e.g;l.H(c),l.Ia(u);var h=new e.fD;h.IC(r);var f=!1;h.vL();var d=0;for(r=t.$();d<r;d++)i&&1736==o&&!t.kw(d)||(t.Sj(d,c),c.isIntersecting(l)&&(f=!0,h.vE(d,c)));if(h.WF(),!f)return null;for(t=!1,h.uL(),i=0,r=n.$();i<r;i++)a&&1736==s&&!n.kw(i)||(n.Sj(i,u),u.isIntersecting(l)&&(t=!0,h.qE(i,u)));return h.VF(),t?h:null},t.q0=function(e,t){return 0<e.rk(t)},t.A_=function(t,n){var r=new e.g;t.EX(n,r),r=new e.Fp(r,8);var i=-1,a=new e.g;if((t=t.Ba()).oC(n),t.Ta())for(;t.Aa();){n=t.aa();var o=t.wb();if(n.Zb(a),-1==(i=r.ew(o,a,i)))throw e.f.Y("internal error")}return r},t.yv=function(t,n,r){if(t!=n)for(var i=0;i<r;i++)null==t[i]?t[i]=e.b.gl(n[i]):t[i].K(n[i])},t.nz=function(e,t,n,r){var i=0;for(r+=0;i<r;n++,i++)null==e[i]&&(e[i]=[0,0]),e[i][0]=t[n].x,e[i][1]=t[n].y},t.mz=function(t,n,r,i){var a=n,o=0;for(n=i+n;a<n;o++,a++)null==t[a]?t[a]=e.b.construct(r[o][0],r[o][1]):t[a].ka(r[o][0],r[o][1])},t.uQ=function(t,n,r){if(t!=n)for(var i=0;i<r;i++)null==t[i]?t[i]=new e.Ra(n[i]):n[i].copyTo(t[i])},t.iZ=function(e,t,n,r){var i=r.fa;r=r.ja;for(var a=0;a<t;a+=n){var o=e.read(a);o<i?e.write(a,i):o>r&&e.write(a,r)}},t.hZ=function(e,t,n,r){var i=r.fa;r=r.ja;for(var a=0;a<t;a+=n){var o=e.read(a);o<i?e.write(a,i):o>r&&e.write(a,r)}},t.hL=function(n,r,i){if(n.hasAttribute(i)){var a=n.F();if(e.R.Rg(a)){var o=e.oa.sl(i);a=e.oa.Sa(i);var s=n.D();if(1==o)return n=n.Va(i),void t.iZ(n,s*a,a,r);if(2==o)return n=n.Va(i),void t.hZ(n,s*a,a,r);throw e.f.Y("snap_coordinate not implemented")}if(197==a)a=!1,(s=n.Qf(i,0)).fa<r.fa&&(a=!0,s.fa=r.fa),s.ja>r.ja&&(a=!0,s.ja=r.ja),a&&n.setInterval(i,0,s);else if(33==a)a=!1,(s=n.Rc(i,0))<r.fa&&(a=!0,s=r.fa),s>r.ja&&(a=!0,s=r.ja),a&&n.setAttribute(i,0,s);else{if(!e.R.Ic(a))throw e.f.Y("snap_coordinate not implemented");a=!1,(s=n.Ks(i,0))<r.fa&&(a=!0,s=r.fa),s>r.ja&&(a=!0,s=r.ja),a&&n.Qx(i,0,s),(s=n.us(i,0))<r.fa&&(a=!0,s=r.fa),s>r.ja&&(a=!0,s=r.ja),a&&n.Hx(i,0,s)}}},t.js=function(e,t,n,r,i){var a=0;return null!=t&&(a=t.ce(e),i&&!r||null==t||(a+=1.01*t.dA(e))),r&&(n*=4,a*=1.01),Math.max(a,n)},t.C_=function(n,r,i,a){return r=e.g.sN(r.Ce(),r.lf(),i.Ce(),i.lf()),t.js(0,n,r,a,!1)},t.Yy=function(e,n,r){return t.js(0,e,n.Mn(),r,!1)},t.D_=function(e,n,r){return t.js(1,e,n.Mn(),r,!1)},t.pP=function(n,r){var i=new e.g;return r.s(i),t.Yy(n,i,!0)},t.Zy=function(e,n){return t.js(0,e,n.Mn(),!1,!0)},t.E_=function(e,n,r){return t.js(1,e,n.Mn(),r,!0)},t.ov=function(n,r){var i=new e.g;return r.s(i),t.Zy(n,i)},t.mH=function(t,n,r,i){i*=i;var a=new e.b;if(a.tc(t,n),(t=new e.b).tc(r,n),n=a.En(),r=t.En(),n<=i&&r<=i)return!0;var o=e.Tb.Wx(a.Di(t));return(o<=i*n||o<=i*r)&&0<=a.Vh(t)},t.iL=function(t,n,r,i){for(var a=0;a<n;a++){var o=t[a].y,s=e.L.Yj(o,r,i);s!=o&&(t[a].y=s)}},t}()}(Y||(Y={})),function(e){var t,n,r=function(){function e(e){this.Xa=e}return e.prototype.compare=function(e,t,n){e=e.ga(n),n=this.Xa.vk(t);var r=this.Xa.vk(e);return n<r?-1:n==r?o.yq(t)&&o.mw(e)?-1:o.yq(e)&&o.mw(t)?1:0:1},e}(),i=function(){function e(e){this.Xa=e}return e.prototype.Lr=function(e,t,n){this.Xa.lZ(n,e,t)},e.prototype.sq=function(e){return this.Xa.vk(e)},e}();(n=t||(t={}))[n.initialize=0]="initialize",n[n.pIn=1]="pIn",n[n.pL=2]="pL",n[n.pR=3]="pR",n[n.pT=4]="pT",n[n.right=5]="right",n[n.left=6]="left",n[n.all=7]="all";var a=function(){function t(){this.Xa=null,this.Wi=new e.uc,this.Yg=new e.ha(0),this.zg=[0,0]}return t.prototype.vi=function(e,t){this.Wi.fa=e.fa-t,this.Wi.ja=e.ja+t,this.Yg.resize(0),this.pe=0,this.zg[0]=0},t.prototype.nC=function(t,n,r){if(t>n)throw e.f.I();this.Wi.fa=t-r,this.Wi.ja=n+r,this.Yg.resize(0),this.pe=0,this.zg[0]=0},t.prototype.wn=function(e,t){this.Wi.fa=e-t,this.Wi.ja=e+t,this.Yg.resize(0),this.pe=0,this.zg[0]=0},t.prototype.next=function(){if(!this.Xa.Eq)throw e.f.Eb();if(0>this.pe)return-1;for(var t=!0;t;)switch(this.zg[this.pe]){case 1:t=this.YV();break;case 2:t=this.ZV();break;case 3:t=this.$V();break;case 4:t=this.aW();break;case 5:t=this.lY();break;case 6:t=this.GU();break;case 7:t=this.EO();break;case 0:t=this.oA();break;default:throw e.f.za()}return-1!=this.Ug?this.hq()>>1:-1},t.J_=function(e,n,r){var i=new t;return i.Xa=e,i.Yg.Db(20),i.vi(n,r),i},t.K_=function(e,n,r){var i=new t;return i.Xa=e,i.Yg.Db(20),i.wn(n,r),i},t.construct=function(e){var n=new t;return n.Xa=e,n.Yg.Db(20),n.pe=-1,n},t.prototype.oA=function(){return this.Ug=this.iI=this.Si=this.Mc=-1,null!=this.Xa.te&&0<this.Xa.te.size?(this.zg[0]=1,this.Si=this.Xa.tf,!0):(this.pe=-1,!1)},t.prototype.YV=function(){if(this.Mc=this.Si,-1==this.Mc)return this.Ug=this.pe=-1,!1;var e=this.Xa.iq(this.Mc);return this.Wi.ja<e?(e=this.Xa.uk(this.Mc),this.Si=this.Xa.vj(this.Mc),-1!=e&&(this.li=this.Xa.ql(e),this.zg[++this.pe]=6),!0):e<this.Wi.fa?(e=this.Xa.uk(this.Mc),this.Si=this.Xa.tk(this.Mc),-1!=e&&(this.li=this.Xa.Fs(e),this.zg[++this.pe]=5),!0):(this.zg[this.pe]=2,this.iI=this.Mc,e=this.Xa.uk(this.Mc),this.Si=this.Xa.vj(this.Mc),-1!=e&&(this.li=this.Xa.ql(e),this.zg[++this.pe]=7),!0)},t.prototype.ZV=function(){if(this.Mc=this.Si,-1==this.Mc)return this.zg[this.pe]=3,this.Si=this.Xa.tk(this.iI),!0;if(this.Xa.iq(this.Mc)<this.Wi.fa){var e=this.Xa.uk(this.Mc);return this.Si=this.Xa.tk(this.Mc),-1!=e&&(this.li=this.Xa.Fs(e),this.zg[++this.pe]=5),!0}return e=this.Xa.uk(this.Mc),this.Si=this.Xa.vj(this.Mc),-1!=e&&(this.li=this.Xa.ql(e),this.zg[++this.pe]=7),-1!=(e=this.Xa.tk(this.Mc))&&this.Yg.add(e),!0},t.prototype.$V=function(){if(this.Mc=this.Si,-1==this.Mc)return this.zg[this.pe]=4,!0;if(this.Wi.ja<this.Xa.iq(this.Mc)){var e=this.Xa.uk(this.Mc);return this.Si=this.Xa.vj(this.Mc),-1!=e&&(this.li=this.Xa.ql(e),this.zg[++this.pe]=6),!0}return e=this.Xa.uk(this.Mc),this.Si=this.Xa.tk(this.Mc),-1!=e&&(this.li=this.Xa.ql(e),this.zg[++this.pe]=7),-1!=(e=this.Xa.vj(this.Mc))&&this.Yg.add(e),!0},t.prototype.aW=function(){if(0==this.Yg.size)return this.Ug=this.pe=-1,!1;this.Mc=this.Yg.get(this.Yg.size-1),this.Yg.resize(this.Yg.size-1);var e=this.Xa.uk(this.Mc);return-1!=e&&(this.li=this.Xa.ql(e),this.zg[++this.pe]=7),-1!=this.Xa.vj(this.Mc)&&this.Yg.add(this.Xa.vj(this.Mc)),-1!=this.Xa.tk(this.Mc)&&this.Yg.add(this.Xa.tk(this.Mc)),!0},t.prototype.GU=function(){return this.Ug=this.li,-1!=this.Ug&&o.yq(this.hq())&&this.Xa.vk(this.hq())<=this.Wi.ja?(this.li=this.EG(),!1):(this.pe--,!0)},t.prototype.lY=function(){return this.Ug=this.li,-1!=this.Ug&&o.mw(this.hq())&&this.Xa.vk(this.hq())>=this.Wi.fa?(this.li=this.gT(),!1):(this.pe--,!0)},t.prototype.EO=function(){return this.Ug=this.li,-1!=this.Ug&&o.yq(this.hq())?(this.li=this.EG(),!1):(this.pe--,!0)},t.prototype.EG=function(){return this.Xa.ag?this.Xa.gg.hb(this.Ug):this.Xa.Zi.hb(this.Ug)},t.prototype.gT=function(){return this.Xa.ag?this.Xa.gg.Be(this.Ug):this.Xa.Zi.Be(this.Ug)},t.prototype.hq=function(){return this.Xa.ag?this.Xa.gg.ga(this.Ug):this.Xa.Zi.getData(this.Ug)},t}();e.k_=a;var o=function(){function t(e){this.Nm=this.fi=this.gg=this.Zi=this.Xm=this.Ij=this.te=this.Jj=null,this.ag=e,this.Eq=this.yw=!1}return t.prototype.Gr=function(){this.Uk(!0)},t.prototype.bs=function(t,n){if(!this.yw)throw e.f.Eb();this.Jj.push(new e.uc(t,n))},t.prototype.Zp=function(){if(!this.yw)throw e.f.Y("invalid call");this.yw=!1,this.Eq=!0,this.ag||(this.QT(),this.Fw=this.Jj.length)},t.prototype.Gi=function(t){if(!this.ag||!this.Eq)throw e.f.I("invalid call");if(-1==this.tf){var n=this.Jj.length;if(this.UA){var r=new e.ha(0);r.Db(2*n),this.TJ(r),this.fi.Db(2*n),this.fi.resize(0),this.SJ(r),this.Xm.resize(n,-1),this.Xm.Xj(-1,0,n),this.UA=!1}else this.Xm.Xj(-1,0,n);this.tf=this.Av()}n=this.bH(t<<1,this.tf),r=this.gg.addElement(1+(t<<1),this.fA(n)),this.ZK(n,r),this.Xm.set(t,n),this.Fw++},t.prototype.remove=function(t){if(!this.ag||!this.Eq)throw e.f.Y("invalid call");var n=this.Xm.get(t);if(-1==n)throw e.f.I("the interval does not exist in the interval tree");this.Xm.set(t,-1),this.Fw--;var r=this.fA(n),i=this.gg.qT(r);this.gg.zd(this.MS(n),r),this.gg.zd(this.jT(n),r),0==(t=this.gg.size(r))&&(this.gg.XQ(r),this.cL(i,-1)),this.Ij.hd(n),r=this.GG(i);var a=this.vj(i),o=this.tk(i);for(n=0;!(0<t||i==this.tf||-1!=a&&-1!=o);)i==this.vj(r)?-1!=a?(this.Vk(r,a),this.Vj(a,r),this.Vk(i,-1)):-1!=o?(this.Vk(r,o),this.Vj(o,r),this.Xk(i,-1)):this.Vk(r,-1):-1!=a?(this.Xk(r,a),this.Vj(a,r),this.Vk(i,-1)):-1!=o?(this.Xk(r,o),this.Vj(o,r),this.Xk(i,-1)):this.Xk(r,-1),this.Vj(i,-1),n++,i=r,t=-1!=(r=this.uk(i))?this.gg.size(r):0,a=this.vj(i),o=this.tk(i),r=this.GG(i)},t.prototype.reset=function(){if(!this.ag||!this.Eq)throw e.f.I("invalid call");this.Uk(!1)},t.prototype.size=function(){return this.Fw},t.prototype.getIterator=function(){return a.construct(this)},t.prototype.TJ=function(e){for(var t=this.Jj.length,n=0;n<2*t;n++)e.add(n);this.mZ(e,2*t)},t.prototype.SJ=function(e){for(var t=NaN,n=0;n<e.size;n++){var r=e.get(n),i=this.vk(r);i!=t&&(this.fi.add(r),t=i)}},t.prototype.QT=function(){var t=this.Jj.length,n=new e.ha(0);n.Db(2*t),this.TJ(n),this.fi.Db(2*t),this.fi.resize(0),this.SJ(n),this.Ij.Le(t),this.Zi.vn(2*t);var r=e.Xc.Sh(t);for(r.Xj(-1,0,t),this.tf=this.Av(),t=0;t<n.size;t++){var i=n.get(t),a=r.get(i>>1);-1!=a?this.ZK(a,this.Zi.addElement(this.fA(a),i)):(a=this.bH(i,this.tf),r.set(i>>1,a))}},t.prototype.bH=function(t,n){var r=n,i=n,a=-1,o=0,s=this.fi.size-1,c=0,u=t>>1,l=NaN,h=NaN,f=!0,d=this.TS(u);for(u=this.QS(u);f;){o<s?(c=o+e.L.truncate((s-o)/2),-1==this.Nz(r)&&this.JK(r,this.fi.get(c),this.fi.get(c+1))):-1==this.Nz(r)&&this.JK(r,this.fi.get(o),this.fi.get(o));var p=this.iq(r);if(u<p)-1!=n&&(n==r?(i=r,l=p,h=-1!=(n=this.vj(r))?this.iq(n):NaN):h>p&&(p<l?this.Vk(i,r):this.Xk(i,r),this.Xk(r,n),this.ag&&(this.Vj(r,i),this.Vj(n,r)),i=r,l=p,n=-1,h=NaN)),-1==(s=this.NS(r))&&(s=this.Av(),this.GY(r,s)),r=s,s=c;else if(d>p)-1!=n&&(n==r?(i=r,l=p,h=-1!=(n=this.tk(r))?this.iq(n):NaN):h<p&&(p<l?this.Vk(i,r):this.Xk(i,r),this.Vk(r,n),this.ag&&(this.Vj(r,i),this.Vj(n,r)),i=r,l=p,n=-1,h=NaN)),-1==(o=this.kT(r))&&(o=this.Av(),this.RY(r,o)),r=o,o=c+1;else{-1==(f=this.uk(r))&&(f=this.KQ(r),this.cL(r,f));var b=this.pO(f,t);a=this.IQ(),this.UY(a,f),this.FY(a,b),r!=n&&(p<l?this.Vk(i,r):this.Xk(i,r),this.ag&&this.Vj(r,i),-1!=n&&(h<p?this.Vk(r,n):this.Xk(r,n),this.ag&&this.Vj(n,r))),f=!1}}return a},t.prototype.Av=function(){return this.te.Ke()},t.prototype.KQ=function(e){return this.ag?this.gg.qs(e):this.Zi.Th(e)},t.prototype.IQ=function(){return this.Ij.Ke()},t.prototype.Uk=function(t){t?(this.yw=this.UA=!0,this.Eq=!1,null==this.fi?this.fi=e.Xc.Sh(0):this.fi.resize(0),null==this.Jj?this.Jj=[]:this.Jj.length=0):this.UA=!1,this.ag?null==this.Xm?(this.Xm=e.Xc.Sh(0),this.gg=new e.bk,this.gg.kp(new r(this))):this.gg.clear():null==this.Zi?this.Zi=new e.Ap:this.Zi.clear(),null==this.te?(this.Ij=new e.ad(3),this.te=new e.ad(this.ag?8:7)):(this.Ij.rj(!1),this.te.rj(!1)),this.tf=-1,this.Fw=0},t.prototype.JK=function(e,t,n){this.zY(e,t),this.AY(e,n)},t.prototype.iq=function(e){var t=this.Nz(e);return-1==t?NaN:(t=this.vk(t))==(e=this.vk(this.uS(e)))?t:.5*(t+e)},t.prototype.zY=function(e,t){this.te.P(e,0,t)},t.prototype.AY=function(e,t){this.te.P(e,1,t)},t.prototype.GY=function(e,t){this.te.P(e,3,t)},t.prototype.RY=function(e,t){this.te.P(e,4,t)},t.prototype.cL=function(e,t){this.te.P(e,2,t)},t.prototype.Vk=function(e,t){this.te.P(e,5,t)},t.prototype.Xk=function(e,t){this.te.P(e,6,t)},t.prototype.Vj=function(e,t){this.te.P(e,7,t)},t.prototype.UY=function(e,t){this.Ij.P(e,0,t)},t.prototype.pO=function(e,t){return this.ag?this.gg.addElement(t,e):this.Zi.addElement(e,t)},t.prototype.FY=function(e,t){this.Ij.P(e,1,t)},t.prototype.ZK=function(e,t){this.Ij.P(e,2,t)},t.prototype.ql=function(e){return this.ag?this.gg.sc(e):this.Zi.sc(e)},t.prototype.Fs=function(e){return this.ag?this.gg.Gc(e):this.Zi.Gc(e)},t.yq=function(e){return 0==(1&e)},t.mw=function(e){return 1==(1&e)},t.prototype.Nz=function(e){return this.te.S(e,0)},t.prototype.uS=function(e){return this.te.S(e,1)},t.prototype.uk=function(e){return this.te.S(e,2)},t.prototype.NS=function(e){return this.te.S(e,3)},t.prototype.kT=function(e){return this.te.S(e,4)},t.prototype.vj=function(e){return this.te.S(e,5)},t.prototype.tk=function(e){return this.te.S(e,6)},t.prototype.GG=function(e){return this.te.S(e,7)},t.prototype.fA=function(e){return this.Ij.S(e,0)},t.prototype.MS=function(e){return this.Ij.S(e,1)},t.prototype.jT=function(e){return this.Ij.S(e,2)},t.prototype.TS=function(e){return this.Jj[e].fa},t.prototype.QS=function(e){return this.Jj[e].ja},t.prototype.mZ=function(t,n){null==this.Nm&&(this.Nm=new e.Du);var r=new i(this);this.Nm.sort(t,0,n,r)},t.prototype.lZ=function(e,n,r){var i=this;e.Zd(n,r,(function(e,n){var r=i.vk(e),a=i.vk(n);return r<a||r==a&&t.yq(e)&&t.mw(n)?-1:1}))},t.prototype.vk=function(e){var n=this.Jj[e>>1];return t.yq(e)?n.fa:n.ja},t}();e.Qr=o}(Y||(Y={})),function(e){var t=function(){function t(t){if(null==t)throw e.f.Y("Invalid arguement");this.rf=t;var n=t.BS();n.CT()?t.ee.uH()?this.Eo=e.zi.PannableFold:this.Eo=e.zi.Clip:this.Eo=e.zi.DontClip,n.DT()?t.Je.uH()?this.cn=e.zi.PannableFold:this.cn=e.zi.Clip:this.cn=e.zi.DontClip,this.Om=n.rv,this.$H=n.qz,t=this.rf.fI,this.OH=t.Ps(2147483648),this.Aw=t.Ps(1073741824)}return t.$g=function(e,t,n){return t.cx.$g(e,n)},t.Kr=function(e,t,n,r){return e.cx.Kr(t,n,r)},t.yu=function(e,t,n,r){if(n=0>n?t.length:n,(e=e.cx.Kr(t,n,r))==n)return e;for(var i=t=0;i<n;i++){var a=r[i];a.isNaN()||(t<i&&r[t].K(a),t++)}for(;t<n;t++)r[t].Tc();return e},t.transform=function(n,r,i,a,o){if(n.xq())return e.la.uQ(a,r,i),i;for(var s=[],c=0,u=0;u<i;){for(var l=Math.min(s.length,i-u),h=u,f=0;h<l;h++,f++)null==s[f]?s[f]=r[h].w():r[h].w(s[f]);var d=o?t.yu(n,s,l,s):t.Kr(n,s,l,s);for(f=h=0;h<d;h++,f++)null==a[u]&&(a[u]=new e.Ra(r[u])),a[u].nb(s[f]);u+=l,c+=d}return c},t.BL=function(t,n,r){if(0==r)return[];var i=new e.Hd;return i.yO(n,2*r),t=(n=this.$g(i,t,null)).Va(0),n=2*n.D(),r=e.L.Xf(n),t.hu(0,n,r,0,!0),r},t.prototype.Kr=function(t,n,r){if(this.rf.xq())return t!=r&&e.la.yv(r,t,n),n;var i=this.rf.ee,a=this.rf.Je,o=i.Fb(),s=a.Fb();if(0==o&&o===s){var c=i.qk();return a=c/(a=a.qk()),(c=new e.xd).Dr(a,a),c.NZ(t,n,r),n}if(c=e.L.kv(Math.min(n,64)),3==o){var u=i.Pi;o=(i=u.kk()).Fb(),r!=t&&e.la.yv(r,t,n),e.Ab.fl(u,r,n,!0),u.yu(e.nm.forward,r,n),e.Ab.el(u,r,n,!0)}if(3==o||3===s)throw e.f.Y("image: transform_in_place_");if(2==o)this.Eo==e.zi.Clip?(r!=t&&e.la.yv(r,t,n),t=i.sk(),e.Ab.iU(t,i,r,n)):(r!=t&&e.la.yv(r,t,n),i.Cc()&&(o=i.ce(0),u=i.be(),e.Ab.jZ(r,n,u,o),e.Ab.dG(r,n,i,0))),e.Ab.QM(i,r,n,c);else for(o=i.ce(0),u=i.be(),i=0;i<n;i++)e.Ab.kZ(t[i],u,o,r[i]);for(e.Ab.OM(this.rf,r,n,c),t=0,(s=2==s)?t=a.Wh():isNaN(this.Om)||(t=this.Om),s&&this.cn!=e.zi.Clip||e.Ab.dG(r,n,a.hc(),t),s&&(e.Ab.kH(r,n,a,this.cn),e.Ab.PM(a,r,n,c)),t=n,i=0;i<n;++i)r[i].isNaN()&&t--;return t},t.prototype.$g=function(t,n){if(this.rf.xq()||t.u())return t;if(33==t.F())return this.OJ(t);var r=this.rf.ee,i=this.rf.Je,a=r.Fb(),o=i.Fb();if(0==a&&a==o)return n=r.qk(),n/=i=i.qk(),(i=new e.xd).Dr(n,n),(t=e.R.$d(t)).Qc(i),t;switch(t.F()){case 1607:case 1736:t=this.MJ(t,n);break;case 550:t=this.wX(t,n);break;case 197:t=this.vX(t,n);break;default:throw e.f.Y("")}return t},t.prototype.OJ=function(t){var n=t.w(),r=[];return r[0]=n,this.Kr(r,1,r),(t=new e.Ra(t)).nb(r[0]),t},t.prototype.MJ=function(t,n){if(t.Fm())throw e.f.Y("curves not supported");var r=t.F();if(1736==r)return this.xX(t,n);if(1607==r)return this.yX(t,n);throw e.f.Y("projectMultiPath")},t.prototype.xX=function(n,r){var i=this.rf.ee,a=this.rf.Je,o=i.Fb(),s=a.Fb(),c=e.L.kv(Math.min(n.D(),64)),u=e.Fa.$d(n);3==o&&(o=(i=(n=i.Pi).kk()).Fb(),u=n.fl(u,!0),this.Qp(n,e.nm.forward,u),u=n.el(u,!0)),n=null,3==s&&(s=(a=(n=a.Pi).kk()).Fb());var l=2==o,h=2==s,f=h?a.hc():a,d=!h&&!this.Aw;s=!1;var p=u;if(l){if((p=e.Ab.LJ(p,i,this.Eo,r)).u())return p}else{if(u=new e.g,p.Zb(u),o=i.be(),u.A<o.A||u.B>o.B){var b=e.g.construct(u.o-1,o.A,u.v+1,o.B);if((p=e.fh.Tp(p,b,i,NaN,0,r)).u())return p}u.N()>2*o.N()&&(p=e.Ab.aq(p,-2*o.N(),2*o.N(),i,!0,0,!0,r))}u=this.$H,(o=!isNaN(u))&&(p=e.im.local().U(p,u,r)),b=h?a.xj():null;var v=NaN;l&&(v=i.Wh());var y=null!=a.Cs();if(this.OH)l&&(e.Ab.Tr(i,v,p,c),o&&(l=i.oh(),u*=(v=i.hc().oh())/l)),e.Ab.Sr(this.rf,p,d,c),o&&(l=i.hc().oh(),u*=(v=a.hc().oh())/l),i=p;else{var m=new e.Oa(p.description);m.pE(p),l&&(e.Ab.Tr(i,v,m,c),o&&(l=i.oh(),u*=(v=i.hc().oh())/l)),e.Ab.Sr(this.rf,m,d,c),o&&(l=i.hc().Am(),u*=(v=a.hc().Am())/l),d=NaN,h?(b=a.xj(),d=a.Wh()):isNaN(this.Om)||(d=this.Om),l=t.aw(i)|t.aw(a),v=10*f.ce(0),this.Aw&&(l=3,v=0),i=e.Ab.fS(p,i,m,f,d,r,l,v)}return y&&(i=e.Ab.JE(i,a,r)),h&&(s||(h=f.be().N(),i.Qf(0,0).N()>=h-f.ce(0)&&(f=b.getNorthPoleLocation(),h=b.getSouthPoleLocation(),p=b.getNorthPoleGeometry(),b=b.getSouthPoleGeometry(),d=0,p==e.ng.PE_POLE_POINT&&f!=e.ng.PE_POLE_OUTSIDE_BOUNDARY&&(d=1),b==e.ng.PE_POLE_POINT&&h!=e.ng.PE_POLE_OUTSIDE_BOUNDARY&&(d|=2),0!==d&&(s=!0))),i=e.Ab.tA(i,a,this.cn,r),o&&(i=e.im.local().U(i,u,r)),e.Ab.qy(a,i,c)),i.u()||(s&&(i=e.jm.local().U(i,a,!1,r)),null!=n&&(i=n.el(i,!1),this.Qp(n,e.nm.reverse,i),i=n.fl(i,!1))),i},t.aw=function(t){if(2!=t.Fb())return 0;var n=0,r=t.xj();t=r.getNorthPoleLocation();var i=r.getSouthPoleLocation(),a=r.getNorthPoleGeometry();return r=r.getSouthPoleGeometry(),a==e.ng.PE_POLE_POINT&&t!=e.ng.PE_POLE_OUTSIDE_BOUNDARY&&(n=1),r==e.ng.PE_POLE_POINT&&i!=e.ng.PE_POLE_OUTSIDE_BOUNDARY&&(n|=2),n},t.prototype.yX=function(n,r){var i=this.rf.ee,a=this.rf.Je,o=i.Fb(),s=a.Fb(),c=e.L.kv(Math.min(n.D(),64)),u=e.Oa.$d(n);3==o&&(o=(i=(n=i.Pi).kk()).Fb(),u=n.fl(u,!0),this.Qp(n,e.nm.forward,u),u=n.el(u,!0)),n=null,3==s&&(s=(a=(n=a.Pi).kk()).Fb());var l=2==o;o=(s=2==s)?a.hc():a;var h=!s&&!this.Aw;if(l){if((u=e.Ab.LJ(u,i,this.Eo,r)).u())return u}else{var f=new e.g;u.Zb(f);var d=i.be();if((f.A<d.A||f.B>d.B)&&(f=e.g.construct(f.o-1,d.A,f.v+1,d.B),(u=e.fh.Tp(u,f,i,NaN,0,r)).u()))return u}var p=NaN;l&&(p=i.Wh()),f=null!=a.Cs(),d=this.$H;var b=!isNaN(d);if(b&&(u=e.im.local().U(u,d,r)),this.OH)l&&e.Ab.Tr(i,p,u,c),b&&(l=i.oh(),d*=(p=i.hc().oh())/l),e.Ab.Sr(this.rf,u,h,c),b&&(l=i.hc().oh(),d*=(p=a.hc().oh())/l),i=u;else{var v=new e.Oa(u.description);v.pE(u),l&&(e.Ab.Tr(i,p,v,c),b&&(l=i.oh(),d*=(p=i.hc().oh())/l)),e.Ab.Sr(this.rf,v,h,c),b&&(l=i.hc().oh(),d*=(p=a.hc().oh())/l),h=NaN,s?h=a.Wh():isNaN(this.Om)||(h=this.Om),l=t.aw(i)|t.aw(a),p=10*o.ce(0),this.Aw&&(l=3,p=0),i=e.Ab.gS(u,i,v,o,h,r,l,p)}return f&&(i=e.Ab.JE(i,a,r)),s&&(i=e.Ab.tA(i,a,this.cn,r),b&&(i=e.im.local().U(i,d,r)),e.Ab.qy(a,i,c)),i.u()||null!=n&&(i=n.el(i,!1),this.Qp(n,e.nm.reverse,i),i=n.fl(i,!1)),i},t.prototype.vX=function(t,n){var r=(t.ca()+t.N())/400;return 0!=r?(r=e.im.local().U(t,r,n),r=this.MJ(r,n),n=t.Ga(),r.qn(n)):(n=new e.Ra(t.bq()),r=this.OJ(n),n=t.Ga(),r.u()?n.Ka():(t.copyTo(n),t=r.w(),n.H(t.x,t.y,t.x,t.y))),n},t.prototype.wX=function(t,n){t=e.R.$d(t);var r=this.rf.ee,i=this.rf.Je,a=r.Fb(),o=i.Fb(),s=e.L.kv(Math.min(t.D(),64));if(3==a){var c=r.Pi;a=(r=c.kk()).Fb(),t=c.el(t,!0),this.Qp(c,e.nm.forward,t),t=c.fl(t,!0)}if(2==a){if(this.Eo==e.zi.Clip?t=e.ak.local().U(t,r.sk(),r,n):r.Cc()&&(a=new e.g,t.Zb(a),r.be().contains(a)||(this.Eo==e.zi.PannableFold&&(t=e.Ab.qj(t,r)),e.Ab.su(t,r.be(),r.ce(0),!0),t=e.Ab.vm(t,r,0,!0,0,n))),t.u())return t;e.Ab.Tr(r,0,t,s)}else e.Ab.su(t,r.be(),r.ce(0),!0);return e.Ab.Sr(this.rf,t,!1,s),r=0,a=!1,c=null,3==o&&(a=!0,o=(i=(c=i.Pi).kk()).Fb()),(o=2==o)?r=i.Wh():isNaN(this.Om)||(r=this.Om),o&&this.cn!=e.zi.Clip||(t=e.Ab.vm(t,i.hc(),r,!1,0,n)),o&&(t=e.Ab.tA(t,i,this.cn,n),e.Ab.qy(i,t,s),t.u())||a&&(t=c.el(t,!0),this.Qp(c,e.nm.reverse,t),t=c.fl(t,!0)),t},t.prototype.Qp=function(t,n,r){var i=r.D();if(0!=i){for(var a=r.Va(0),o=e.L.Xf(200,0),s=[],c=0;c<i;){var u=Math.min(100,i-c);a.hu(2*c,2*u,o,2,!0);for(var l=0;l<u;++l)s[l]=e.b.construct(o[2*c],o[2*c+1]);t.yu(n,s,u),c+=u}r.Oc(1993)}},t.Iv=function(t,n,r){if(null==t||null==n||!n.Cc())throw e.f.Y("Invalid Arguement");if(t.u())return t;var i=t.F();return 197==i?(i=new e.Fa(t.description)).bd(t,!1):e.R.Ic(i)?(i=new e.Oa(t.description)).$b(t,!0):i=t,(i=e.Ab.qj(i,n)).u()?i:e.Ab.vm(i,n,0,i!=t,0,r)},t.sj=function(n,r,i,a){if(null==n||null==r||!r.Cc())throw e.f.Y("Invalid Arguement");if(n.u())return n;var o=n.F();if(e.R.Bc(o)){n=e.Ab.qj(n,r),o=new e.g,n.s(o);for(var s=e.la.Yy(r,o,!1),c=r.nh(),u=Math.floor((o.o-c.o)/c.N())*c.N()+c.o;u<o.v;)u>o.o+s&&u<o.v-s&&(n=e.Ab.PT(n,r,i,u)),u+=c.N()}else{if(197==o)return(o=new e.Fa(n.description)).bd(n,!1),t.sj(o,r,i,a);if(e.R.Ic(o))return(o=new e.Oa(n.description)).$b(n,!0),t.sj(o,r,i,a)}return t.Iv(n,r,a)},t.H_=function(n,r,i,a){var o=r.Fb(),s=new e.BD;if(r.FX(s),0==o)return t.wF(n,s,r,i);if(a==e.yp.foldAndClipWithHorizon&&r.Cc()&&(n=t.Iv(n,r,i)),n=t.wF(n,s,r,i),a==e.yp.clipToDomainOnly||n.u())return n;if(1==o)return a==e.yp.clipWithHorizon?(a=new e.g,n.Zb(a),s=.01*(o=r.be()).N(),a.A=o.A,a.B=o.B,a.o-=s,a.v+=s,e.fh.Tp(n,a,r,NaN,0,i)):n;if(2==o)return o=r.sk(),a==e.yp.clipWithHorizon||a==e.yp.foldAndClipWithHorizon?(r=e.ak.local().U(n,o,r,i))==o?e.R.$d(r):r:n;if(3==o)return n;throw e.f.Y("missing implementation")},t.wF=function(t,n,r,i){var a=n.uT(),o=t.hasAttribute(1),s=t.hasAttribute(2),c=new e.uc;c.Ka();var u=new e.uc;return u.Ka(),o&&(c=n.wT()),s&&(u=n.PS()),n=e.fh.Tp(t,a,r,NaN,0,i),o&&(o=n.Qf(1,0),c.contains(o)||(t==n&&(n=e.R.$d(n)),e.la.hL(n,c,1))),s&&(o=n.Qf(2,0),u.contains(o)||(t==n&&(n=e.R.$d(n)),e.la.hL(n,u,2))),n},t}();e.Bp=t}(Y||(Y={})),function(e){var t=function(t){function n(n,r,i,a){var o=t.call(this)||this;return void 0===n?o.description=e.ke.ug():void 0===i?o.description=n:(o.description=e.ke.ug(),o.GC(n,r),o.am(i,a)),o}return X(n,t),n.prototype.F=function(){return 322},n.prototype.Pb=function(){var e=this.ra-this.pa,t=this.na-this.ma;return Math.sqrt(e*e+t*t)},n.prototype.Qg=function(e){var t=this.ra-this.pa,n=this.na-this.ma;return Math.sqrt(t*t+n*n)<=e},n.prototype.jo=function(){return!1},n.prototype.qg=function(){var t=new e.b;return t.tc(this.wc(),this.ac()),t},n.mQ=function(e,t){return new n(e.x,e.y,t.x,t.y)},n.prototype.qn=function(t){t.Ka(),t.rg(this.description);var n=new e.g;this.s(n),t.mp(n),n=1;for(var r=this.description.Ca;n<r;n++)for(var i=this.description.jd(n),a=e.oa.Sa(i);n<a;n++){var o=this.Qf(i,0);t.setInterval(i,0,o)}},n.prototype.s=function(e){e.H(this.ra,this.na,this.pa,this.ma),e.normalize()},n.prototype.ip=function(e){e.Ka(),e.Nb(this.ra,this.na,this.Pd(0,1,0)),e.Nb(this.pa,this.ma,this.Pd(1,1,0))},n.prototype.Qc=function(t){if(t instanceof e.xd){this.vc();var n=new e.b;n.x=this.ra,n.y=this.na,t.Zj(n,n),this.ra=n.x,this.na=n.y,n.x=this.pa,n.y=this.ma,t.Zj(n,n),this.pa=n.x,this.ma=n.y}else this.vc(),(n=new e.Id).x=this.ra,n.y=this.na,n.z=this.Pd(0,1,0),n=t.vp(n),this.ra=n.x,this.na=n.y,this.Nn(0,1,0,n.z),n.x=this.pa,n.y=this.ma,n.z=this.Pd(1,1,0),n=t.vp(n),this.pa=n.x,this.ma=n.y,this.Nn(1,1,0,n.z)},n.prototype.Ga=function(){return new n(this.description)},n.prototype.yy=function(e,t){return(this.pa-e-(this.ra-e))*(this.ma-t+(this.na-t))*.5},n.prototype.by=function(e){return e*this.Pb()},n.prototype.zH=function(e){return e/this.Pb()},n.prototype.qG=function(t){return e.Tb.Aq(this.ra,this.pa,t)},n.prototype.tS=function(t){return e.Tb.Aq(this.na,this.ma,t)},n.prototype.jl=function(t,n){var r=new e.og;return this.jh(t,n,r),r.get()},n.prototype.jh=function(t,n,r){if(null==r)throw e.f.I();r.ps(),(r=r.get()).rg(this.description);var i=new e.b;this.cc(t,i),r.GC(i.x,i.y),this.cc(n,i),r.am(i.x,i.y),i=1;for(var a=this.description.Ca;i<a;i++)for(var o=this.description.Jd(i),s=e.oa.Sa(o),c=0;c<s;c++){var u=this.Rc(t,o,c);r.Qx(o,c,u),u=this.Rc(n,o,c),r.Hx(o,c,u)}},n.prototype.Rc=function(t,n,r){if(0==n)return 0==r?this.cc(t).x:this.cc(t).y;switch(e.oa.Uz(n)){case 0:return.5>t?this.Ks(n,r):this.us(n,r);case 1:var i=this.Ks(n,r);return n=this.us(n,r),e.Tb.Aq(i,n,t);case 2:throw e.f.Y("not implemented")}throw e.f.za()},n.prototype.ae=function(e,t){var n=this.pa-this.ra,r=this.ma-this.na,i=n*n+r*r;return 0==i?.5:(e=((e.x-this.ra)*n+(e.y-this.na)*r)/i,t||(0>e?e=0:1<e&&(e=1)),e)},n.prototype.uq=function(e,t,n,r){if(e){if(0==(e=this.ma-this.na))return t==this.ma?-1:0;if(0>(t=(t-this.na)/e)||1<t)return 0;null!=n&&(n[0]=this.qG(t))}else{if(0==(e=this.pa-this.ra))return t==this.pa?-1:0;if(0>(t=(t-this.ra)/e)||1<t)return 0;null!=n&&(n[0]=this.tS(t))}return null!=r&&(r[0]=t),1},n.prototype.Te=function(e,t){var n=this.ma-this.na;return 0==n?e==this.ma?t:NaN:(e=(e-this.na)/n,t=this.qG(e),1==e&&(t=this.pa),t)},n.prototype.Xu=function(e,t,n){return 0<=this.Kp(e.x,e.y,t,n)},n.prototype.Ci=function(e,t,n){return 0<=this.Kp(e,t,n,!0)},n.prototype.Zs=function(e,t){return this.Xu(e,t,!1)},n.prototype.hJ=function(){if(this.ma<this.na||this.ma==this.na&&this.pa<this.ra){var e=this.ra;this.ra=this.pa,this.pa=e,e=this.na,this.na=this.ma,this.ma=e,e=0;for(var t=this.description.gr-2;e<t;e++){var n=this.ia[e];this.ia[e]=this.ia[e+t],this.ia[e+t]=n}}},n.prototype.$u=function(t,n){(n=e.b.construct(t,n)).sub(this.ac());var r=new e.b;return r.tc(this.wc(),this.ac()),(t=r.Di(n))>(n=8881784197001252e-31*(Math.abs(r.x*n.y)+Math.abs(r.y*n.x)))?-1:t<-n?1:0},n.prototype.Kp=function(t,n,r,i){var a=this.ra,o=this.na,s=t-a,c=n-o;if((s=Math.sqrt(s*s+c*c))<=Math.max(r,6661338147750939e-31*s))return i&&0==s?NaN:0;if(s=t-this.pa,c=n-this.ma,(s=Math.sqrt(s*s+c*c))<=Math.max(r,6661338147750939e-31*s))return i&&0==s?NaN:1;if(s=this.pa-this.ra,c=this.ma-this.na,0<(i=Math.sqrt(s*s+c*c))){var u=1/i,l=t-a,h=n-o,f=l*(s*=u)+h*(c*=u),d=17763568394002505e-31*(Math.abs(l*s)+Math.abs(h*c)),p=s;if(s=-c,c=p,f<-(d=Math.max(r,d))||f>i+d)return NaN;if(Math.abs(l*s+h*c)<=Math.max(r,17763568394002505e-31*(Math.abs(l*s)+Math.abs(h*c)))&&(.5>=(s=e.L.Yj(f*u,0,1))?(c=this.ra+(this.pa-this.ra)*s,i=this.na+(this.ma-this.na)*s):(c=this.pa-(this.pa-this.ra)*(1-s),i=this.ma-(this.ma-this.na)*(1-s)),e.b.uz(c,i,t,n)<=r)){if(.5>s){if(e.b.uz(c,i,a,o)<=r)return 0}else if(e.b.uz(c,i,this.pa,this.ma)<=r)return 1;return s}}return NaN},n.prototype.Ib=function(e){return null!=e&&(e==this||e.constructor===this.constructor&&this.NN(e))},n.prototype.cE=function(t,n,r){var i=r?this.ra:this.pa;r=r?this.na:this.ma;var a=new e.b;return a.x=t.pa-i,a.y=t.ma-r,!(n.Vh(a)>6661338147750939e-31*n.PD(a))||(a.x=t.ra-i,a.y=t.na-r,n.Vh(a)<=6661338147750939e-31*n.PD(a))},n.prototype.bE=function(t){var n=new e.b;return n.x=this.pa-this.ra,n.y=this.ma-this.na,!!this.cE(t,n,!1)&&(n.lr(),!!this.cE(t,n,!0))},n.VN=function(e,t){var n=e.$u(t.ra,t.na),r=e.$u(t.pa,t.ma);return!(0>n&&0>r||0<n&&0<r)&&(n=t.$u(e.ra,e.na),r=t.$u(e.pa,e.ma),!(0>n&&0>r||0<n&&0<r)&&((n=e.Pb())>(r=t.Pb())?e.bE(t):t.bE(e)))},n.TN=function(t,n,r){var i=e.b.construct(NaN,NaN),a=t.pa-t.ra,o=t.ma-t.na,s=n.pa-n.ra,c=n.ma-n.na,u=s*o-a*c;if(0==u)return i;var l=8881784197001252e-31*(Math.abs(s*o)+Math.abs(a*c)),h=n.ra-t.ra,f=n.na-t.na,d=s*f-h*c,p=d/u,b=Math.abs(u);return p<-(s=(8881784197001252e-31*(Math.abs(s*f)+Math.abs(h*c))*b+l*Math.abs(d))/(u*u)+2220446049250313e-31*Math.abs(p))||p>1+s||(s=(c=a*f-h*o)/u)<-(a=(8881784197001252e-31*(Math.abs(a*f)+Math.abs(h*o))*b+l*Math.abs(c))/(u*u)+2220446049250313e-31*Math.abs(s))||s>1+a||(p=e.L.Yj(p,0,1),a=e.L.Yj(s,0,1),o=t.cc(p),u=n.cc(a),(l=new e.b).tc(o,u),l.length()>r&&(l.add(o,u),l.scale(.5),p=t.ae(l,!1),a=n.ae(l,!1),t=t.cc(p),n=n.cc(a),t.sub(n),t.length()>r)||i.ka(p,a)),i},n.WN=function(e,t,r,i){var a=0;if((e.ra==t.ra&&e.na==t.na||e.ra==t.pa&&e.na==t.ma)&&(a++,!i))return 1;if(e.pa==t.ra&&e.ma==t.na||e.pa==t.pa&&e.ma==t.ma){if(2==++a)return 2;if(!i)return 1}return t.Ci(e.ra,e.na,r)||t.Ci(e.pa,e.ma,r)||e.Ci(t.ra,t.na,r)||e.Ci(t.pa,t.ma,r)?1:i&&0!=a||0==n.VN(e,t)?0:1},n.Dy=function(t,r,i,a,o,s){var c=0,u=t.Kp(r.ra,r.na,s,!1),l=t.Kp(r.pa,r.ma,s,!1),h=r.Kp(t.ra,t.na,s,!1),f=r.Kp(t.pa,t.ma,s,!1);return isNaN(u)||(null!=a&&(a[c]=u),null!=o&&(o[c]=0),null!=i&&(i[c]=e.b.construct(r.ra,r.na)),c++),isNaN(l)||(null!=a&&(a[c]=l),null!=o&&(o[c]=1),null!=i&&(i[c]=e.b.construct(r.pa,r.ma)),c++),2==c||isNaN(h)||0==u&&0==h||0==l&&1==h||(null!=a&&(a[c]=0),null!=o&&(o[c]=h),null!=i&&(i[c]=e.b.construct(t.ra,t.na)),c++),2==c||isNaN(f)||1==u&&0==f||1==l&&1==f||(null!=a&&(a[c]=1),null!=o&&(o[c]=f),null!=i&&(i[c]=e.b.construct(r.pa,r.ma)),c++),0<c?(2==c&&null!=a&&a[0]>a[1]&&(t=a[0],a[0]=a[1],a[1]=t,null!=o&&(a=o[0],o[0]=o[1],o[1]=a),null!=i&&(o=e.b.construct(i[0].x,i[0].y),i[0]=i[1],i[1]=o)),c):(c=n.TN(t,r,s),isNaN(c.x)?0:(null!=i&&(i[0]=t.cc(c.x)),null!=a&&(a[0]=c.x),null!=o&&(o[0]=c.y),1))},n.prototype.QG=function(){return 0},n.prototype.Hp=function(){},n.prototype.toString=function(){return"Line: ["+this.ra.toString()+", "+this.na.toString()+", "+this.pa.toString()+", "+this.ma.toString()+"]"},n}(e.zD);e.zb=t}(Y||(Y={})),function(e){var t=function(){function e(){this.Wm=[],this.ya=-1}return e.prototype.Ea=function(){return this.ya},e.prototype.next=function(){if(null!=this.Wm&&0!=this.Wm.length){this.ya++;var e=this.Wm[0];return this.Wm=1>=this.Wm.length?[]:this.Wm.slice(1),e}return this.Wm=null},e.prototype.FZ=function(e){this.Wm.push(e)},e.prototype.xe=function(){},e}();e.qM=t}(Y||(Y={})),function(e){var t;(t=e.$M||(e.$M={}))[t.enumFillRuleOddEven=0]="enumFillRuleOddEven",t[t.enumFillRuleWinding=1]="enumFillRuleWinding";var n=function(t){function n(n,r){var i=t.call(this)||this;if(i.Gf=!1,i.Yq=null,i.Lq=0,i.Kq=0,i.Ej=null,i.Sg=!1,i.kb=null,i.jb=null,i.af=null,i.Nj=null,i.Wd=null,i.Mq=0,i.Pa=0,i.Qq=0,void 0===r)i.Gf=n,i.Sg=!1,i.Mq=0,i.Lq=0,i.Kq=0,i.sa=0,i.description=e.ke.ug();else{if(null==r)throw e.f.I();i.Gf=n,i.Sg=!1,i.Mq=0,i.Lq=0,i.Kq=0,i.sa=0,i.description=r}return i.Ej=null,i.Pa=0,i}return X(n,t),n.prototype.Fm=function(){return 0<this.Mq},n.prototype.Cy=function(){this.vc(),null==this.Yq?this.Yq=new e.Ra(this.description):this.Yq.rg(this.description)},n.prototype.Zx=function(t,n){var r=new e.b;r.x=t,r.y=n,this.uu(r)},n.prototype.uu=function(e){this.Cy(),this.Yq.nb(e),this.Sg=!0},n.prototype.xf=function(t){if(t.u())throw e.f.I();this.Tl(t.description),this.Cy(),t.copyTo(this.Yq),this.Sg=!0},n.prototype.xy=function(){var t=1;this.Sg&&(this.Cy(),null==this.kb?(this.kb=e.Xc.Sh(2),this.kb.write(0,0),this.jb=e.Xc.ns(2,0)):(this.kb.resize(this.kb.size+1,0),this.jb.resize(this.jb.size+1,0)),this.Gf&&this.jb.write(this.jb.size-2,1),t++);var n=this.sa;this.kb.write(this.kb.size-1,this.sa+t),this.bl(n+t),this.jb.write(this.kb.size-1,0),this.Sg&&(this.qu(n,this.Yq),this.Sg=!1)},n.prototype.Cj=function(e,t){this.xy(),this.nb(this.sa-1,e,t)},n.prototype.Ii=function(e){this.xy(),this.nb(this.sa-1,e)},n.prototype.lineTo=function(e){this.xy(),this.qu(this.sa-1,e)},n.prototype.VV=function(t){if(this.vc(),this.Gf)throw e.f.za();var n=this.$();if(t>n)throw e.f.za();if(this.Lb(t)){if(null==this.jb)throw e.f.za();var r=this.sa,i=this.ua(t),a=this.zc(t);this.bl(this.sa+1),this.rc();for(var o=0,s=this.description.Ca;o<s;o++)if(null!=this.va[o]){var c=e.oa.Sa(this.description.Jd(o));this.va[o].fo(c*a,this.va[o],c*i,c,!0,1,c*r)}for(;n>t;n--)r=this.kb.read(n),this.kb.write(n,r+1);this.jb.uF(t,1)}},n.prototype.Up=function(){if(this.xu(),void 0===e){this.Sg=!1;var e=this.$()-1}var t=this.jb.read(e);this.jb.write(e,1|t),null!=this.af&&(e=this.zc(e)-1,this.af.write(e,1),this.Nj.write(e,-1))},n.c0=function(e){return n.eO[e]},n.prototype.Lb=function(e){return 0!=(1&this.jb.read(e))},n.prototype.ho=function(e){if(this.Lb(e))return!0;var t=this.ua(e);return!(t>(e=this.zc(e)-1))&&(t=this.xa(t),e=this.xa(e),t.qb(e))},n.prototype.Qs=function(e){return 0!=(2&this.jb.read(e))},n.prototype.$b=function(t,n){if(this.Tl(t.description),322!=t.F())throw e.f.za();var r=new e.Ra;(n||this.u())&&(t.jp(r),this.xf(r)),t.hp(r),this.lineTo(r)},n.prototype.Np=function(e){var t=0==this.sa;this.Zx(e.o,e.A),this.Cj(e.o,e.B),this.Cj(e.v,e.B),this.Cj(e.v,e.A),this.Up(),this.Sg=!1,t&&this.Vf(256,!1)},n.prototype.bd=function(t,n){if(!t.u()){for(var r=0==this.sa,i=new e.Ra(this.description),a=0;4>a;a++)t.Pf(n?4-a-1:a,i),0==a?this.xf(i):this.lineTo(i);this.Up(),this.Sg=!1,r&&!n&&this.Vf(256,!1)}},n.prototype.add=function(e,t){for(var n=0;n<e.$();n++)this.addPath(e,n,!t)},n.prototype.addPath=function(e,t,n){this.Ef(-1,e,t,n)},n.prototype.dl=function(e,t){this.pA(e,t)},n.prototype.ds=function(t,n,r,i,a){if(a||0!=this.$()||(a=!0),0>n&&(n=t.$()-1),n>=t.$()||0>r||0>i||i>t.Zv(n))throw e.f.Y("index out of bounds");if(0!=i){var o=t.Lb(n)&&r+i==t.Zv(n);if(!o||1!=i){if(this.Sg=!1,this.Tl(t.description),r=t.ua(n)+r+1,a&&(i++,r--),o&&i--,o=this.sa,this.bl(this.sa+i),this.rc(),a){if(0==i)return;this.kb.add(this.sa),a=t.jb.read(n),a&=-5,this.Gf&&(a|=1),this.jb.write(this.jb.size-1,a),this.jb.add(0)}else this.kb.write(this.jb.size-1,this.sa);a=0;for(var s=this.description.Ca;a<s;a++){var c=this.description.jd(a),u=e.oa.Sa(c),l=t.description.Yf(c);0>l||null==t.va[l]?this.va[a].Gm(u*o,e.oa.me(c),i*u,u*o):this.va[a].fo(u*o,t.va[l],u*r,i*u,!0,u,u*o)}if(this.Fm())throw e.f.za();if(t.Qs(n))throw e.f.za();this.Oc(1993)}}},n.prototype.sK=function(){for(var e=0,t=this.$();e<t;e++)this.kY(e)},n.prototype.kY=function(t){if(this.rc(),t>=this.$())throw e.f.I();var n=this.ua(t),r=this.Ha(t);t=this.Lb(t)?1:0;for(var i=0,a=this.description.Ca;i<a;i++)if(null!=this.va[i]){var o=e.oa.Sa(this.description.Jd(i));this.va[i].wi(o*(n+t),o*(r-t),o)}this.Oc(1993)},n.prototype.sr=function(t){this.rc();var n=this.$();if(0>t&&(t=n-1),t>=n)throw e.f.I();for(var r=this.ua(t),i=this.Ha(t),a=0,o=this.description.Ca;a<o;a++)if(null!=this.va[a]){var s=e.oa.Sa(this.description.Jd(a));this.va[a].Xn(s*r,s*i,s*this.sa)}for(r=t+1;r<=n;r++)a=this.kb.read(r),this.kb.write(r-1,a-i);if(null==this.jb)for(r=t+1;r<=n;r++)t=this.jb.read(r),this.jb.write(r-1,t);this.kb.resize(n),this.jb.resize(n),this.sa-=i,this.Vg-=i,this.Oc(1993)},n.prototype.Ef=function(t,n,r,i){if(n==this)throw e.f.I();if(r>=n.$())throw e.f.I();var a=this.$();if(t>a)throw e.f.I();0>t&&(t=a),0>r&&(r=n.$()-1),this.Sg=!1,this.Tl(n.description),n.rc();var o=n.ua(r),s=n.Ha(r),c=this.sa,u=n.Lb(r)&&!i?1:0;this.bl(this.sa+s),this.rc();for(var l=t<a?this.ua(t):c,h=0,f=this.description.Ca;h<f;h++){var d=this.description.Jd(h),p=n.description.Yf(d),b=e.oa.Sa(d);0<=p&&null!=n.va[p]?(0!=u&&this.va[h].fo(l*b,n.va[p],b*o,b,!0,b,b*c),this.va[h].fo((l+u)*b,n.va[p],b*(o+u),b*(s-u),i,b,b*(c+u))):this.va[h].Gm(l*b,e.oa.me(d),b*s,b*c)}for(this.kb.add(c+s),i=a;i>=t+1;i--)o=this.kb.read(i-1),this.kb.write(i,o+s);for(n.Qs(r),this.jb.add(0),i=a-1;i>=t+1;i--)a=this.jb.read(i),a&=-5,this.jb.write(i+1,a);a=n.ZS().read(r),a&=-5,this.Gf&&(a|=1),this.jb.write(t,a)},n.prototype.pA=function(t,n){var r=-1,i=this.$();if(r>i)throw e.f.I();0>r&&(r=i),this.Sg=!1;var a=this.sa;this.bl(this.sa+n),this.rc();var o=r<i?this.ua(r):a;if(null!=t)this.va[0].qA(2*o,t,0,n,!0,2*a);else{var s=e.oa.me(0);this.va[0].Gm(2*o,s,2*n,2*a)}t=1;for(var c=this.description.Ca;t<c;t++){s=this.description.jd(t);var u=e.oa.Sa(s);s=e.oa.me(s),this.va[t].Gm(o*u,s,u*n,u*a)}for(this.kb.add(this.sa),a=i;a>=r+1;a--)o=this.kb.read(a-1),this.kb.write(a,o+n);for(this.jb.add(0),a=i-1;a>=r+1;a--)n=this.jb.read(a),n&=-5,this.jb.write(a+1,n);this.Gf&&this.jb.write(r,1)},n.prototype.cH=function(t,n,r){var i=-1;if(0>t&&(t=this.$()),t>this.$()||i>this.Ha(t)||r>n.length)throw e.f.Y("index out of bounds");if(0!=r){t==this.$()&&(this.kb.add(this.sa),this.Gf?this.jb.add(1):this.jb.add(0)),0>i&&(i=this.Ha(t)),this.rc();var a=this.sa;this.bl(this.sa+r),this.rc();for(var o=0,s=this.description.Ca;o<s;o++){var c=this.description.Jd(o),u=e.oa.Sa(c);this.va[o].Bu(u*(this.ua(t)+i+r),(a-this.ua(t)-i)*u,this.va[o],u*(this.ua(t)+i),!0,u),0==o?this.va[o].eD(u*(this.ua(t)+i),r,n,0,!0):this.va[o].Xj(e.oa.me(c),(this.ua(t)+i)*u,r*u)}for(this.Fm()&&(this.af.Bu(this.ua(t)+i+r,a-this.ua(t)-i,this.af,this.ua(t)+i,!0,1),this.Nj.Bu(this.ua(t)+i+r,a-this.ua(t)-i,this.Nj,this.ua(t)+i,!0,1),this.af.Xj(1,this.ua(t)+i,r),this.Nj.Xj(-1,this.ua(t)+i,r)),t+=1,n=this.$();t<=n;t++)this.kb.write(t,this.kb.read(t)+r)}},n.prototype.Ff=function(t,n,r){var i=this.$();if(0>t&&(t=this.$()),t>=i||n>this.Ha(t))throw e.f.Y("index out of bounds");t==this.$()&&(this.kb.add(this.sa),this.Gf?this.jb.add(1):this.jb.add(0)),0>n&&(n=this.Ha(t));var a=this.sa;this.bl(this.sa+1),this.rc();var o=this.ua(t);this.va[0].Gi(2*(o+n),r,2*a),r=1;for(var s=this.description.Ca;r<s;r++){var c=this.description.Jd(r),u=e.oa.Sa(c);this.va[r].Gm(u*(o+n),e.oa.me(c),u,u*a)}for(t+=1;t<=i;t++)this.kb.write(t,this.kb.read(t)+1)},n.prototype.mC=function(t,n){var r=this.$();if(0>t&&(t=r-1),t>=r||n>=this.Ha(t))throw e.f.Y("index out of bounds");this.rc();var i=this.ua(t);0>n&&(n=this.Ha(t)-1),n=i+n,i=0;for(var a=this.description.Ca;i<a;i++)if(null!=this.va[i]){var o=e.oa.Sa(this.description.Jd(i));this.va[i].Xn(o*n,o,o*this.sa)}for(;r>=t+1;r--)n=this.kb.read(r),this.kb.write(r,n-1);this.sa--,this.Vg--,this.Oc(1993)},n.prototype.gF=function(t,n,r,i){if(t=this.ua(t)+n,(r=this.ua(r)+i)<t||0>t||r>this.D()-1)throw e.f.I();n=0,(i=this.Ba()).Rb(t);do{for(;i.Aa()&&(t=i.aa(),i.wb()!=r);)n+=t=t.Pb();if(i.wb()==r)break}while(i.Ta());return n},n.prototype.oP=function(t,n,r){if(n=this.ua(t)+n,r=this.ua(t)+r,0>n||r>this.D()-1)throw e.f.I();var i=this.Ba();if(n>r){if(!this.Lb(t))throw e.f.I("cannot iterate across an open path");i.tC()}var a=t=0;i.Rb(n);do{a+=t,t=i.aa().Pb()}while(i.wb()!=r);return a},n.prototype.sg=function(){return e.yi.qm(this,null)},n.prototype.eU=function(t,n,r){for(var i=t;i<r-1;i++)if(this.Lb(i))throw e.f.I("cannot interpolate across closed paths");if(1!=(i=this.description.Ca)){var a=this.gF(t,n,r,void 0);if(0!=a)for(var o=1;o<i;o++){var s=this.description.jd(o);if(2!=e.oa.Uz(s))for(var c=e.oa.Sa(s),u=0;u<c;u++)this.gU(s,t,n,r,a,u)}}},n.prototype.dU=function(t,n,r){var i=this.description.Ca;if(1!=i){var a=this.oP(t,n,r);if(0!=a)for(var o=1;o<i;o++){var s=this.description.jd(o);if(2!=e.oa.Uz(s))for(var c=e.oa.Sa(s),u=0;u<c;u++)this.fU(s,t,n,r,a,u)}}},n.prototype.gU=function(t,n,r,i,a,o){var s=this.Ba(),c=this.ua(n)+r;i=this.ua(i)+void 0,n=this.Rc(t,c,o),r=this.Rc(t,i,o);var u=n,l=0;s.Rb(c);do{if(s.Aa()){if(s.aa(),s.wb()==i)break;this.setAttribute(t,s.wb(),o,u),s.ti();do{if(c=s.aa(),s.nk()==i)return;l+=c=c.Pb(),u=e.Tb.Aq(n,r,l/a),s.io()||this.setAttribute(t,s.nk(),o,u)}while(s.Aa())}}while(s.Ta())},n.prototype.fU=function(t,n,r,i,a,o){var s=this.Ba(),c=this.ua(n)+r;if((n=this.ua(n)+i)!=c){i=this.Rc(t,c,o),r=this.Rc(t,n,o);var u=0;s.Rb(c),s.tC(),c=i;do{var l=s.aa();this.setAttribute(t,s.wb(),o,c),u+=c=l.Pb(),c=e.Tb.Aq(i,r,u/a)}while(s.nk()!=n)}},n.prototype.Ka=function(){this.Mq=0,this.Sg=!1,this.Wd=this.af=this.Nj=this.jb=this.kb=null,this.hE()},n.prototype.Qc=function(t){t instanceof e.xd?this.KE(t,-1):this.HO(t)},n.prototype.KE=function(t,n){if(!this.u()&&!t.xq()){this.rc();var r=this.va[0],i=new e.b,a=new e.b;if(0>n){var o=this.Fm(),s=0;n=this.sa}else o=this.Qs(n),s=this.ua(n),n=this.zc(n);for(;s<n;s++){if(i.x=r.read(2*s),i.y=r.read(2*s+1),o){var c=this.Nj.read(s);if(0<=c)switch(7&this.af.read(s)){case 2:a.x=this.Wd.read(c),a.y=this.Wd.read(c+1),t.Zj(a,a),this.Wd.write(c,a.x),this.Wd.write(c+1,a.y),a.x=this.Wd.read(c+3),a.y=this.Wd.read(c+4),t.Zj(a,a),this.Wd.write(c+3,a.x),this.Wd.write(c+4,a.y);break;case 4:throw e.f.za()}}t.Zj(i,i),r.write(2*s,i.x),r.write(2*s+1,i.y)}this.Oc(1993)}},n.prototype.HO=function(t){if(!this.u()){this.le(1),this.rc();for(var n=this.va[0],r=this.va[1],i=new e.Id,a=new e.Id,o=this.Fm(),s=0;s<this.sa;s++){if(i.x=n.read(2*s),i.y=n.read(2*s+1),i.z=r.read(s),o){var c=this.Nj.read(s);if(0<=c)switch(7&this.af.read(s)){case 2:a.x=this.Wd.read(c),a.y=this.Wd.read(c+1),a.z=this.Wd.read(c+2),a=t.vp(a),this.Wd.write(c,a.x),this.Wd.write(c+1,a.y),this.Wd.write(c+1,a.z),a.x=this.Wd.read(c+3),a.y=this.Wd.read(c+4),a.z=this.Wd.read(c+5),a=t.vp(a),this.Wd.write(c+3,a.x),this.Wd.write(c+4,a.y),this.Wd.write(c+5,a.z);break;case 4:throw e.f.za()}}i=t.vp(i),n.write(2*s,i.x),n.write(2*s+1,i.y),r.write(s,i.z)}this.Oc(1993)}},n.prototype.Oy=function(){null==this.kb&&(this.kb=e.Xc.Sh(1,0),this.jb=e.Xc.ns(1,0)),null!=this.af&&(this.af.resize(this.Vg,1),this.Nj.resize(this.Vg,-1))},n.prototype.Hp=function(t){t.Sg=!1,t.Mq=this.Mq,t.Qq=this.Qq,t.kb=null!=this.kb?e.ha.Vn(this.kb):null,t.jb=null!=this.jb?e.Gn.Vn(this.jb):null,t.Nj=null!=this.Nj?e.ha.Vn(this.Nj):null,t.af=null!=this.af?e.Gn.Vn(this.af):null,t.Wd=null!=this.Wd?e.ie.Vn(this.Wd):null,t.Lq=this.Lq,t.Kq=this.Kq,t.Ej=this.ek(1024)?null:this.Ej},n.prototype.Pb=function(){if(!this.ek(512))return this.Lq;for(var t=this.Ba(),n=new e.ky(0);t.Ta();)for(;t.Aa();)n.add(t.aa().Pb());return this.Lq=n.Dm(),this.Vf(512,!1),n.Dm()},n.prototype.Ib=function(e){if(e==this)return!0;if(!(e instanceof n&&t.prototype.Ib.call(this,e)))return!1;var r=this.$();return!(r!=e.$()||null!=this.kb&&!this.kb.Ib(e.kb,0,r+1)||this.Qq!=e.Qq||null!=this.jb&&!this.jb.Ib(e.jb,0,r))&&t.prototype.Ib.call(this,e)},n.prototype.Ba=function(){return new e.fN(this)},n.prototype.Ny=function(e){if(t.prototype.Ny.call(this,e),this.Fm())for(e=this.Ba();e.Ta();)e.Aa()},n.prototype.Tn=function(e,n){if(t.prototype.Tn.call(this,e,n),this.Fm())for(e=this.Ba();e.Ta();)e.Aa()},n.prototype.Gy=function(){this.sa=null==this.kb||0==this.kb.size?0:this.kb.read(this.kb.size-1)},n.prototype.Pe=function(){return this.Gf?(this.cv(),this.Kq):0},n.prototype.kw=function(e){return!!this.Gf&&(this.ek(8)?(this.cv(),0<this.Ej.read(e)):0!=(4&this.jb.read(e)))},n.prototype.rm=function(e){return this.Gf?(this.cv(),this.Ej.read(e)):0},n.prototype.cv=function(){if(this.ek(1024)){var t=this.$();null==this.Ej?this.Ej=new e.ie(t):this.Ej.size!=t&&this.Ej.resize(t),t=new e.ky(0);for(var n=new e.ky(0),r=new e.b,i=0,a=this.Ba();a.Ta();){for(n.reset(),this.w(this.ua(a.Pa),r);a.Aa();)n.add(a.aa().yy(r.x,r.y));t.add(n.Dm());var o=i++;this.Ej.write(o,n.Dm())}this.Kq=t.Dm(),this.Vf(1024,!1)}},n.prototype.VS=function(){if(this.Gf){this.cl();for(var e=this.$(),t=0;t<e;t++)this.jb.read(t)}},n.prototype.cl=function(){if(this.ek(8)){this.cv();var t=this.$();(null==this.jb||this.jb.size<t)&&(this.jb=e.Xc.ns(t+1));for(var n=1,r=0;r<t;r++){var i=this.Ej.read(r);0==r&&(n=0<i?1:-1),0<i*n?this.jb.DK(r,4):this.jb.uF(r,4)}this.Vf(8,!1)}},n.prototype.Xv=function(t){var n=this.Pa,r=this.$();if(0<=n&&n<r){if(t<this.zc(n)){if(t>=this.ua(n))return n;n--}else n++;if(0<=n&&n<r&&t>=this.ua(n)&&t<this.zc(n))return this.Pa=n}if(5>r){for(n=0;n<r;n++)if(t<this.zc(n))return this.Pa=n;throw e.f.Y("corrupted geometry")}for(n=0,--r;r>n;){var i=n+(r-n>>1);if(t<this.ua(i))r=i-1;else{if(!(t>=(n=this.zc(i))))return this.Pa=i;n=i+1}}return this.Pa=n},n.prototype.JS=function(t){var n=this.Va(0);this.$S();var r=this.zc(t),i=this.ua(t);t=-1;var a=new e.b,o=new e.b;for(a.y=-1/0,a.x=-1/0,i+=0;i<r;i++)n.mc(2*i,o),-1==a.compare(o)&&(t=i,a.K(o));return t},n.prototype.gA=function(){var e=this.D();if(!this.Gf){e-=this.$();for(var t=0,n=this.$();t<n;t++)this.Lb(t)&&e++}return e},n.prototype.Zv=function(e){var t=this.Ha(e);return this.Lb(e)||t--,t},n.prototype.Ga=function(){return new n(this.Gf,this.description)},n.prototype.pb=function(){return this.Gf?2:1},n.prototype.F=function(){return this.Gf?1736:1607},n.prototype.$S=function(){this.xu()},n.prototype.UK=function(e){this.kb=e,this.Oc(16777215)},n.prototype.lT=function(){return this.xu(),this.af},n.prototype.ZS=function(){return this.xu(),this.jb},n.prototype.TK=function(e){this.jb=e,this.Oc(16777215)},n.prototype.$=function(){return null!=this.kb?this.kb.size-1:0},n.prototype.zc=function(e){return this.kb.read(e+1)},n.prototype.Ha=function(e){return this.kb.read(e+1)-this.kb.read(e)},n.prototype.ua=function(e){return this.kb.read(e)},n.prototype.Su=function(t,n){null==this.ib&&(this.ib=new e.Yk),n=e.sy.VX(n);var r=this.ib.oi;if(null!=r){if(!(r.Pk<t||n>r.hT()))return!0;this.ib.Ky(null)}return r=e.sy.create(this,t,n),this.ib.Ky(r),!0},n.prototype.fc=function(){var e=t.prototype.fc.call(this);if(!this.Ac()){var n=this.$();null!=this.kb&&this.kb.Un(e,0,n+1),null!=this.jb&&this.jb.Un(e,0,n)}return e},n.prototype.KG=function(e){return null!=this.af?this.af.read(e):1},n.prototype.ec=function(t,n,r){var i=this.Xv(t);if(t==this.zc(i)-1&&!this.Lb(i))throw e.f.Y("index out of bounds");this.rc();var a=this.af,o=1;switch(null!=a&&(o=7&a.read(t)),o){case 1:n.ps();break;case 2:case 4:default:throw e.f.za()}if(n=n.get(),r?n.rg(e.ke.ug()):n.rg(this.description),i=t==this.zc(i)-1&&this.Lb(i)?this.ua(i):t+1,a=new e.b,this.w(t,a),n.Fc(a),this.w(i,a),n.Sc(a),!r)for(r=1,a=this.description.Ca;r<a;r++){o=this.description.Jd(r);for(var s=e.oa.Sa(o),c=0;c<s;c++){var u=this.Rc(o,t,c);n.Qx(o,c,u),u=this.Rc(o,i,c),n.Hx(o,c,u)}}},n.prototype.Sj=function(t,n){if(t>=this.$())throw e.f.I();if(this.u())n.Ka();else{if(this.Qs(t))throw e.f.Y("not implemented");var r=this.Va(0),i=new e.b,a=new e.g;a.Ka();var o=this.ua(t);for(t=this.zc(t);o<t;o++)r.mc(2*o,i),a.Nb(i);n.H(a)}},n.prototype.EX=function(t,n){if(t>=this.$())throw e.f.I();if(this.u())n.Ka();else{if(this.Qs(t))throw e.f.Y("not implemented");var r=this.Va(0),i=new e.b,a=new e.g;a.Ka();var o=this.ua(t);for(t=this.zc(t);o<t;o++)r.mc(2*o,i),a.Nb(i);n.H(a)}},n.prototype.lj=function(t){return null==this.ib&&(this.ib=new e.Yk),!(0==t||16>this.D()||(t=e.la.$E(this),this.ib.jE(t),0))},n.prototype.oN=function(){if(null==this.ib&&(this.ib=new e.Yk),null==this.ib.To){this.ib.kE(null);var t=e.la.iP(this);this.ib.kE(t)}},n.prototype.np=function(e){this.Qq=e},n.prototype.$n=function(){return this.Qq},n.prototype.pE=function(t){if(this==t)throw e.f.Y("MultiPathImpl.add");for(var n=this.$(),r=0;r<t.$();r++)this.addPath(t,r,!0),this.VV(n),n++},n.prototype.uP=function(t){var n=this.Xv(t),r=this.ua(n);if(r!=t){if(t>=(n=this.zc(n))||t<r)throw e.f.Y("change_ring_start_point");for(var i=0,a=this.description.Ca;i<a;i++){var o=this.description.jd(i);o=e.oa.Sa(o),this.va[i].rotate(r*o,t*o,n*o)}}},n.eO=[0,0,6,0,8,0],n}(e.ly);e.Zk=n}(Y||(Y={})),function(e){var t=function(t){function n(n){var r=t.call(this)||this;if(void 0!==n){if(null==n)throw e.f.I();r.description=n}else r.description=e.ke.ug();return r.sa=0,r}return X(n,t),n.prototype.Ga=function(){return new n(this.description)},n.prototype.add=function(e){this.resize(this.sa+1),this.Hh(this.sa-1,e)},n.prototype.gv=function(t,n){this.resize(this.sa+1);var r=new e.b;r.ka(t,n),this.nb(this.sa-1,r)},n.prototype.yd=function(t,n,r){if(r=0>r?t.D():r,0>n||n>t.D()||r<n)throw e.f.I();if(n!=r){this.Tl(t.description),r-=n;var i=this.sa;this.resize(this.sa+r),this.rc();for(var a=0,o=t.description.Ca;a<o;a++){var s=t.description.Jd(a),c=e.oa.Sa(s),u=this.Va(s);s=t.Va(s),u.fo(i*c,s,n*c,r*c,!0,1,i*c)}}},n.prototype.tE=function(t,n){var r=t.length;if(n=0>n?r:n,0>r||0>n)throw e.f.I();if(0!=n){r=n-0,n=this.sa,this.resize(this.sa+r);for(var i=0;i<r;i++)this.nb(n+i,t[0+i])}},n.prototype.mC=function(t){if(0>t||t>=this.D())throw e.f.Y("index out of bounds");this.rc();for(var n=0,r=this.description.Ca;n<r;n++)if(null!=this.va[n]){var i=e.oa.Sa(this.description.Jd(n));this.va[n].Xn(i*t,i,i*this.sa)}this.sa--,this.Vg--,this.Oc(1993)},n.prototype.resize=function(e){this.bl(e)},n.prototype.Hp=function(){},n.prototype.Ka=function(){t.prototype.hE.call(this)},n.prototype.Qc=function(t){if(t instanceof e.xd){if(this.u())return;this.rc();for(var n=this.va[0],r=new e.b,i=0;i<this.sa;i++)r.x=n.read(2*i),r.y=n.read(2*i+1),t.Zj(r,r),n.write(2*i,r.x),n.write(2*i+1,r.y)}else{if(this.u())return;this.rc(),this.le(1),this.rc(),n=this.va[0],r=this.va[1];var a=new e.Id;for(i=0;i<this.sa;i++){a.x=n.read(2*i),a.y=n.read(2*i+1),a.z=r.read(i);var o=t.vp(a);n.write(2*i,o.x),n.write(2*i+1,o.y),r.write(i,o.z)}}this.Oc(1993)},n.prototype.pb=function(){return 0},n.prototype.F=function(){return 550},n.prototype.Pe=function(){return 0},n.prototype.Pb=function(){return 0},n.prototype.Ib=function(e){return e==this||e instanceof n&&t.prototype.Ib.call(this,e)},n.prototype.yO=function(t,n){var r=t.length;if(n=0>n?r:n,0>r||0>n)throw e.f.I();if(0!=n){if(0!=(1&(r=n-0)))throw e.f.I();n=this.sa,this.jY(this.sa+r/2),this.va[0].cD(2*n,r,t,0,!0)}},n.prototype.jY=function(t){var n=this.sa;if(this.bl(t),this.sa>n){t=1;for(var r=this.description.Ca;t<r;t++){var i=this.description.jd(t),a=e.oa.Sa(i);this.va[t].Gm(a*n,e.oa.me(i),a*(this.sa-n),a*n)}}},n.prototype.CX=function(t,n){var r=this.sa;if(r=Math.min(r,n+1e3),0>n||n>=this.sa||r<n||1e3!=t.length)throw e.f.I();var i=r-n,a=[];for(this.Va(0).hu(2*n,2*i,a,0,!0),n=0;n<i;n++)t[n]=e.b.construct(a[2*n],a[2*n+1]);return r},n.prototype.Gy=function(){},n.prototype.Oy=function(){},n.prototype.Su=function(){return!1},n.prototype.lj=function(){return!1},n.prototype.sg=function(){return null},n}(e.ly);e.Hd=t}(Y||(Y={})),function(e){var t;(t=e.sM||(e.sM={}))[t.NotDetermined=0]="NotDetermined",t[t.Structure=1]="Structure",t[t.DegenerateSegments=2]="DegenerateSegments",t[t.Clustering=3]="Clustering",t[t.Cracking=4]="Cracking",t[t.CrossOver=5]="CrossOver",t[t.RingOrientation=6]="RingOrientation",t[t.RingOrder=7]="RingOrder",t[t.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency",t[t.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency",t[t.OGCDisconnectedInterior=10]="OGCDisconnectedInterior";var n=function(){function e(e,t,n){void 0===e?(this.pi=0,this.Rl=this.Ql=-1):(this.pi=e,this.Ql=t,this.Rl=n)}return e.prototype.Or=function(e){this.pi=e.pi,this.Ql=e.Ql,this.Rl=e.Rl},e}();e.Od=n}(Y||(Y={})),function(e){e.L=function(){function t(){}return t.assert=function(t){if(!1===t)throw e.f.PL()},t.fL=function(e){return isNaN(e)?NaN:0===e?e:0<e?1:-1},t.kv=function(e){var n;void 0===n&&(n=0);for(var r=[],i=0;i<e;i++)r[i]=t.Xf(2,n);return r},t.Xf=function(e,t){void 0===t&&(t=0);for(var n=[],r=0;r<e;r++)n[r]=t;return n},t.Gv=function(e,t){var n,r;for(void 0===n&&(n=0),void 0===r&&(r=e.length-1);n<=r;n++)e[n]=t},t.Yj=function(e,t,n){return e<t?t:e>n?n:e},t.H0=function(){return 4},t.Zh=function(e,t){var n=5381;return((n=((n=((n=void 0!==t?(t<<5)+t+(255&e):(n<<5)+n+(255&e))<<5)+n+(e>>8&255))<<5)+n+(e>>16&255))<<5)+n+(e>>24&255)&2147483647},t.Aj=function(){throw Error("Not Implemented")},t.y0=function(){return-1/0},t.A0=function(){return 1/0},t.h0=function(){return 2147483647},t.U_=function(){return 2220446049250313e-31},t.V_=function(){return 17976931348623157e292},t.MB=function(e){return t.uV(e)+12345&2147483647},t.IH=function(e){var n=32,r=e%t.vy|0,i=e/t.vy|0;return 0==(n&=63)?e:(32>n?(e=r>>>n|i<<32-n,n=i>>n):(e=i>>n-32,n=0<=i?0:-1),n*t.vy+(e>>>0))},t.uV=function(e){return(1103495168*(e|=0)|0)+(20077*e|0)|0},t.truncate=function(e){return 0>e?-1*Math.floor(Math.abs(e)):Math.floor(e)},t.MAX_SAFE_INTEGER=Math.pow(2,53)-1,t.MIN_SAFE_INTEGER=-t.MAX_SAFE_INTEGER,t.DD=65536,t.t_=16777216,t.vy=t.DD*t.DD,t}()}(Y||(Y={})),function(e){var t;(t=e.LM||(e.LM={}))[t.Project=0]="Project",t[t.Union=1]="Union",t[t.Difference=2]="Difference",t[t.Proximity2D=3]="Proximity2D",t[t.Relate=4]="Relate",t[t.Equals=5]="Equals",t[t.Disjoint=6]="Disjoint",t[t.Intersects=7]="Intersects",t[t.Within=8]="Within",t[t.Contains=9]="Contains",t[t.Crosses=10]="Crosses",t[t.Touches=11]="Touches",t[t.Overlaps=12]="Overlaps",t[t.Buffer=13]="Buffer",t[t.Distance=14]="Distance",t[t.Intersection=15]="Intersection",t[t.Clip=16]="Clip",t[t.Cut=17]="Cut",t[t.DensifyByLength=18]="DensifyByLength",t[t.DensifyByAngle=19]="DensifyByAngle",t[t.LabelPoint=20]="LabelPoint",t[t.GeodesicBuffer=21]="GeodesicBuffer",t[t.GeodeticDensifyByLength=22]="GeodeticDensifyByLength",t[t.ShapePreservingDensify=23]="ShapePreservingDensify",t[t.GeodeticLength=24]="GeodeticLength",t[t.GeodeticArea=25]="GeodeticArea",t[t.Simplify=26]="Simplify",t[t.SimplifyOGC=27]="SimplifyOGC",t[t.Offset=28]="Offset",t[t.Generalize=29]="Generalize",t[t.SymmetricDifference=30]="SymmetricDifference",t[t.ConvexHull=31]="ConvexHull",t[t.Boundary=32]="Boundary",t[t.SimpleRelation=33]="SimpleRelation";var n=function(){function t(){}return t.prototype.F=function(){return null},t.prototype.Pn=function(){},t.prototype.pv=function(){return!1},t.R_=function(t){e.R.Rg(t.F())&&null!=(t=t.ib)&&(t.Ky(null),t.jE(null))},t}();e.Ne=n}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 13},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.U=function(t,n,r,i,a){return t instanceof e.R?(a=new e.$c(t),this.U(a,n,[r],!1,i).next()):!0===i?(r=new e.iD(t,n,r,!1,a),e.Jh.local().U(r,n,a)):new e.iD(t,n,r,!1,a)},n.instance=null,n}(e.Ne);e.hD=t}(Y||(Y={})),function(e){var t=function(){function t(t,n,r,i,a){this.ya=-1,this.Vd=t,this.KA=n,this.kt=r,this.OU=new e.g,this.OU.Ka(),this.xo=-1,this.Vb=a}return t.prototype.next=function(){for(var e;null!=(e=this.Vd.next());)return this.ya=this.Vd.Ea(),this.xo+1<this.kt.length&&this.xo++,this.buffer(e,this.kt[this.xo]);return null},t.prototype.Ea=function(){return this.ya},t.prototype.buffer=function(t,n){return e.QL.buffer(t,n,this.KA,NaN,96,this.Vb)},t.prototype.xe=function(){},t}();e.iD=t}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 16},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.U=function(t,n,r,i){return t instanceof e.R?(t=new e.$c(t),this.U(t,n,r,i).next()):new e.vM(t,n,r,i)},n.instance=null,n}(e.Ne);e.uM=t}(Y||(Y={})),function(e){var t=function(){function t(t,n,r){if(this.ya=-1,null==t)throw e.f.I();this.X=n,this.Fk=t,this.qa=e.la.Qd(r,n,!1)}return t.prototype.next=function(){var t;return null!=(t=this.Fk.next())?(this.ya=this.Fk.Ea(),e.Yd.clip(t,this.X,this.qa,0)):null},t.prototype.Ea=function(){return this.ya},t.prototype.xe=function(){},t}();e.vM=t}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 31},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.U=function(t,n,r){return t instanceof e.R?e.kD.dF(t):new e.kD(n,t,r)},n.instance=null,n}(e.Ne);e.jD=t}(Y||(Y={})),function(e){var t=function(){function t(t,n,r){if(this.dB=new e.Fu,this.ya=-1,null==n)throw e.f.I();this.QH=t,this.Jc=!1,this.Fk=n,this.Vb=r}return t.prototype.next=function(){if(this.QH){if(!this.Jc){var e=this.mP(this.Fk);return this.Jc=!0,e}return null}if(!this.Jc){if(null!=(e=this.Fk.next()))return this.ya=this.Fk.Ea(),t.dF(e);this.Jc=!0}return null},t.prototype.Ea=function(){return this.ya},t.prototype.mP=function(e){for(var t;null!=(t=e.next());)this.dB.Bb(t);return this.dB.qS()},t.prototype.xe=function(){if(!this.Jc){if(!this.QH)throw e.f.Y("Invalid call for non merging convex hull.");var t=this.Fk.next();if(null==t)throw e.f.Y("Expects a non-null geometry.");this.dB.Bb(t)}},t.dF=function(n){if(t.oU(n))return n;var r=n.F();if(e.Zk.Ic(r))return(r=new e.Oa(n.description)).$b(n,!0),r;if(550==r&&2==n.D()){var i=new e.Ra;return r=new e.Oa(n.description),n.ne(0,i),r.xf(i),n.ne(1,i),r.lineTo(i),r}return e.Fu.aQ(n)},t.oU=function(t){if(t.u())return!0;var n=t.F();return 33==n||197==n||!e.Zk.Ic(n)&&(550==n?1==t.D():1607==n?1==t.$()&&2>=t.D():1==t.$()&&(2>=t.D()||e.Fu.vH(t,0)))},t}();e.kD=t}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 17},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.U=function(t,n,r,i,a){return new e.xM(t,n,r,i,a)},n.instance=null,n}(e.Ne);e.wM=t}(Y||(Y={})),function(e){var t=function(){function t(t,n,r,i,a){if(this.bg=null,null==n||null==r)throw e.f.Y("invalid argument");this.LU=t,this.YA=n,this.ZH=r,t=e.la.Tv(n,r),this.qa=e.la.Qd(i,t,!0),this.YH=-1,this.md=a}return t.prototype.Ea=function(){return 0},t.prototype.next=function(){return this.cS(),++this.YH<this.bg.length?this.bg[this.YH]:null},t.prototype.cS=function(){if(null==this.bg)switch(this.bg=[],this.YA.F()){case 1607:this.eS();break;case 1736:this.dS()}},t.prototype.eS=function(){var t=new e.Oa,n=new e.Oa,r=new e.Oa;this.bg.push(t),this.bg.push(n);var i=[];e.UL.SL(this.LU,this.YA,this.ZH,this.qa,i,this.md);for(var a=0;a<i.length;a++){var o=i[a];0==o.fx?t.add(o.W,!1):1==o.fx||2==o.fx?n.add(o.W,!1):3==o.fx?this.bg.push(o.W):r.add(o.W,!1)}r.u()||t.u()&&n.u()&&!(3<=this.bg.length)||this.bg.push(r),t.u()&&n.u()&&3>this.bg.length&&(this.bg.length=0)},t.prototype.dS=function(){var t=new e.ha(0),n=new e.Yc,r=n.NF(),i=n.Bb(this.YA),a=n.Bb(this.ZH),o=new e.pg;try{o.yr(n,this.qa,this.md),o.jl(r,i,a,t);var s=n.ye(i),c=new e.Fa,u=new e.Fa;for(this.bg.length=0,this.bg.push(c),this.bg.push(u),i=0;i<t.size;i++){var l=new e.Yc,h=l.Bb(s),f=l.Bb(n.ye(t.get(i)));o.xr(l,this.md);var d=o.gw(h,f),p=l.ye(d);if(!p.u()){var b=n.wG(t.get(i),r);2==b?c.add(p,!1):1==b?u.add(p,!1):this.bg.push(p);var v=new e.Yc;h=v.Bb(s),f=v.Bb(n.ye(t.get(i))),o.xr(v,this.md),s=v.ye(o.tm(h,f))}}!s.u()&&0<t.size&&this.bg.push(s),c.u()&&u.u()&&(this.bg.length=0)}finally{o.ah()}},t.prototype.xe=function(){},t}();e.xM=t}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 18},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.U=function(t,n,r){if(t instanceof e.R)return t=new e.$c(t),this.U(t,n,r).next();if(0>=n)throw e.f.I();return new e.yM(t,n,r)},n.instance=null,n}(e.Ne);e.im=t}(Y||(Y={})),function(e){var t=function(){function t(e,t){this.ya=-1,this.Vd=e,this.xt=t}return t.prototype.Ea=function(){return this.ya},t.prototype.next=function(){var e;return null!=(e=this.Vd.next())?(this.ya=this.Vd.Ea(),this.YQ(e)):null},t.prototype.YQ=function(t){if(t.u()||1>t.pb())return t;var n=t.F();if(1736==n||1607==n)return this.sz(t);if(e.R.Ic(n))return this.$Q(t);if(197==n)return this.ZQ(t);throw e.f.za()},t.prototype.$Q=function(t){if(t.Pb()<=this.xt)return t;var n=new e.Oa(t.description);return n.$b(t,!0),this.sz(n)},t.prototype.ZQ=function(t){var n=new e.Fa(t.description);n.bd(t,!1);var r=new e.g;return t.s(r),t=r.ca(),r.N()<=this.xt&&t<=this.xt?n:this.sz(n)},t.prototype.sz=function(t){for(var n=t.Ga(),r=t.Ba();r.Ta();)for(var i=!0;r.Aa();){var a=r.aa();if(322!=a.F())throw e.f.Y("not implemented");var o=r.io(),s=a.Pb();if(s>this.xt){var c=Math.ceil(s/this.xt);s=new e.Ra(t.description),i&&(a.jp(s),n.xf(s));var u=i=1/c,l=0;for(--c;l<c;l++)a.zx(u,s),n.lineTo(s),u+=i;o?n.Up():(a.hp(s),n.lineTo(s))}else o?n.Up():n.$b(a,i);i=!1}return n},t.prototype.xe=function(){},t}();e.yM=t}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.F=function(){return 2},n.prototype.U=function(t,n,r,i){return t instanceof e.R?(t=new e.$c(t),n=new e.$c(n),this.U(t,n,r,i).next()):new e.zM(t,n,r,i)},n.tm=function(t,r,i,a){if(t.u()||r.u())return t;var o=t.pb(),s=r.pb();if(o>s)return t;var c=t.F(),u=r.F(),l=new e.g,h=new e.g,f=new e.g;t.s(l),r.s(h),f.H(l),f.Nb(h);var d=(f=e.la.Qd(i,f,!0))*Math.sqrt(2)*1.00001,p=new e.g;if(p.H(l),p.O(d,d),!p.isIntersecting(h))return t;if(1==o&&2==s)return n.cX(t,r,u,i,a);if(33==c)switch(e.Zk.Ic(u)?(i=new e.Oa(r.description),i.$b(r,!0)):i=r,u){case 1736:return n.oW(t,i,f);case 1607:return n.pW(t,i,f);case 550:return n.mW(t,i,f);case 197:return n.lW(t,i,f);case 33:return n.nW(t,i,f);default:throw e.f.I()}else if(550==c)switch(u){case 1736:return n.HV(t,r,f);case 197:return n.FV(t,r,f);case 33:return n.GV(t,r,f)}return e.pg.tm(t,r,i,a)},n.oW=function(t,n,r){return 0==e.Zc.wH(n,t,r)?t:t.Ga()},n.pW=function(t,n,r){var i=t.w();n=n.Ba();for(var a=r*Math.sqrt(2)*1.00001,o=a*a,s=new e.g;n.Ta();)for(;n.Aa();){var c=n.aa();if(c.s(s),s.O(a,a),s.contains(i)){if(c.Zs(i,r))return t.Ga();var u=c.ac();if(e.b.oc(i,u)<=o)return t.Ga();if(u=c.wc(),e.b.oc(i,u)<=o)return t.Ga()}}return t},n.mW=function(t,n,r){var i=n.Va(0);n=n.D();var a=t.w(),o=new e.b;r=r*Math.sqrt(2)*1.00001,r*=r;for(var s=0;s<n;s++)if(i.mc(2*s,o),e.b.oc(o,a)<=r)return t.Ga();return t},n.lW=function(t,n,r){var i=new e.g;return n.s(i),i.O(r,r),n=t.w(),i.contains(n)?t.Ga():t},n.nW=function(t,n,r){r=r*Math.sqrt(2)*1.00001,r*=r;var i=t.w();return n=n.w(),e.b.oc(i,n)<=r?t.Ga():t},n.HV=function(t,n,r){var i=new e.g;n.s(i),i.O(r,r);for(var a=t.D(),o=!1,s=[],c=0;c<a;c++)s[c]=!1;var u=new e.b;for(c=0;c<a;c++)t.w(c,u),i.contains(u)&&0!=e.Zc.Td(n,u,r)&&(o=!0,s[c]=!0);if(!o)return t;for(n=t.Ga(),c=0;c<a;c++)s[c]||n.yd(t,c,c+1);return n},n.FV=function(t,n,r){var i=new e.g;n.s(i),i.O(r,r),n=t.D();var a=!1;r=[];for(var o=0;o<n;o++)r[o]=!1;var s=new e.b;for(o=0;o<n;o++)t.w(o,s),i.contains(s)&&(a=!0,r[o]=!0);if(!a)return t;for(i=t.Ga(),o=0;o<n;o++)r[o]||i.yd(t,o,o+1);return i},n.GV=function(t,n,r){var i=t.Va(0),a=t.D(),o=n.w(),s=new e.b,c=!1;n=[];for(var u=0;u<a;u++)n[u]=!1;for(r=(u=r*Math.sqrt(2)*1.00001)*u,u=0;u<a;u++)i.mc(2*u,s),e.b.oc(s,o)<=r&&(c=!0,n[u]=!0);if(!c)return t;for(i=t.Ga(),u=0;u<a;u++)n[u]||i.yd(t,u,u+1);return i},n.cX=function(t,n,r,i,a){var o=new e.Ih;t.qn(o);var s=new e.g;return n.s(s),o.Nb(s),o.O(.1*o.N(),.1*o.ca()),(s=new e.Fa).bd(o,!1),1736==r?s.add(n,!0):s.bd(n,!0),e.ak.local().U(t,s,i,a)},n.instance=null,n}(e.Ne);e.Cp=t}(Y||(Y={})),function(e){var t=function(){function t(e,t,n,r){this.at=null==t,this.ya=-1,this.Vd=e,this.KA=n,this.RU=t.next(),this.Vb=r}return t.prototype.next=function(){return this.at?null:null!=(t=this.Vd.next())?(this.ya=this.Vd.Ea(),e.Cp.tm(t,this.RU,this.KA,this.Vb)):null;var t},t.prototype.Ea=function(){return this.ya},t.prototype.xe=function(){},t}();e.zM=t}(Y||(Y={})),function(e){var t=function(){function t(t){this.md=t,this.Fj=new e.g,this.Fj.Ka(),this.uh=new e.g,this.uh.Ka()}return t.prototype.wu=function(){var e=this.Fj.o;this.Fj.o=this.uh.o,this.uh.o=e,e=this.Fj.v,this.Fj.v=this.uh.v,this.uh.v=e,e=this.Fj.A,this.Fj.A=this.uh.A,this.uh.A=e,e=this.Fj.B,this.Fj.B=this.uh.B,this.uh.B=e},t.prototype.qR=function(t,n){if(null!=this.md&&!this.md.progress(-1,-1))throw e.f.Lu("user_canceled");var r=!this.Fj.isIntersecting(this.uh);return e.R.Bc(t.F())&&e.R.Bc(n.F())?t.D()>n.D()?this.TE(t,n,r):(this.wu(),t=this.TE(n,t,r),this.wu(),t):550==t.F()&&e.R.Bc(n.F())?(t=this.UE(n,t,r),this.wu(),t):550==n.F()&&e.R.Bc(t.F())?this.UE(t,n,r):550==t.F()&&550==n.F()?t.D()>n.D()?this.VE(t,n):(this.wu(),t=this.VE(n,t),this.wu(),t):0},t.prototype.TE=function(t,n,r){var i=t.Ba(),a=n.Ba(),o=new e.g,s=new e.g,c=17976931348623157e292;if(!r&&this.WZ(t,n,i,a))return 0;for(;i.Ta();)for(;i.Aa();)if((t=i.aa()).s(o),!(o.Xx(this.uh)>c)){for(;a.Ta();)for(;a.Aa();)if((n=a.aa()).s(s),o.Xx(s)<c&&(n=t.vb(n,r),(n*=n)<c)){if(0==n)return 0;c=n}a.ej()}return Math.sqrt(c)},t.prototype.UE=function(t,n,r){var i=t.Ba(),a=new e.g,o=17976931348623157e292,s=new e.b,c=n.D();for(r=!r&&1736==t.F();i.Ta();)for(;i.Aa();){var u=i.aa();if(u.s(a),!(1<c&&a.Xx(this.uh)>o)){for(var l=0;l<c;l++){if(n.w(l,s),r&&0!=e.Zc.Td(t,s,0))return 0;var h=u.ae(s,!1);if(s.sub(u.cc(h)),(h=s.En())<o){if(0==h)return 0;o=h}}r=!1}}return Math.sqrt(o)},t.prototype.VE=function(t,n){for(var r,i=17976931348623157e292,a=new e.b,o=new e.b,s=t.D(),c=n.D(),u=0;u<s;u++)if(t.w(u,a),!(1<c&&this.uh.nL(a)>i))for(var l=0;l<c;l++)if(n.w(l,o),(r=e.b.oc(a,o))<i){if(0==r)return 0;i=r}return Math.sqrt(i)},t.prototype.WZ=function(t,n,r,i){if(1736==t.F()){for(;i.Ta();)if(i.Aa()){var a=i.aa();if(0!=e.Zc.Td(t,a.wc(),0))return!0}i.ej()}if(1736==n.F()){for(;r.Ta();)if(r.Aa()&&(t=r.aa(),0!=e.Zc.Td(n,t.wc(),0)))return!0;r.ej()}return!1},t.prototype.qm=function(e,t){return e.u()||t.u()?NaN:(e.s(this.Fj),t.s(this.uh),this.qR(e,t))},t}(),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return X(r,n),r.prototype.U=function(n,r,i){if(null==n||null==r)throw e.f.I();if(n.u()||r.u())return NaN;var a=n.F(),o=r.F();if(33==a){if(33==o)return e.b.vb(n.w(),r.w());if(197==o)return i=new e.g,r.s(i),i.vb(n.w());(a=new e.Hd).add(n),n=a}else if(197==a){if(197==o)return o=new e.g,n.s(o),i=new e.g,r.s(i),i.vb(o);(a=new e.Fa).bd(n,!1),n=a}return 33==o?((o=new e.Hd).add(r),r=o):197==o&&((o=new e.Fa).bd(r,!1),r=o),new t(i).qm(n,r)},r.local=function(){return null===r.instance&&(r.instance=new r),r.instance},r.prototype.F=function(){return 14},r.instance=null,r}(e.Ne);e.AM=n}(Y||(Y={})),function(e){var t=function(){function t(e,t,n,r){this.mI=e,this.tI=t,this.md=r,this.NH=n}return t.prototype.next=function(){var e=this.mI.next();return null==e?null:this.gD(e)},t.prototype.Ea=function(){return this.mI.Ea()},t.prototype.gD=function(t){var n=t.F();if(e.R.lo(n))return t;if(197==n)return(n=new e.Fa(t.description)).bd(t,!1),this.gD(n);if(t.u())return t;if(null==t)throw e.f.za();n=t.Ga();for(var r=new e.zb,i=0,a=t.$();i<a;i++)this.aM(t,i,n,r);return n},t.prototype.aM=function(t,n,r,i){if(!(2>t.Ha(n))){var a=t.ua(n),o=t.zc(n)-1,s=t.Va(0),c=t.Lb(n),u=new e.ha(0);u.Db(t.Ha(n)+1);var l=new e.ha(0);for(l.Db(t.Ha(n)+1),u.add(c?a:o),u.add(a),a=new e.b;1<u.size;){var h=u.Gc();u.Rf();var f=u.Gc();t.w(h,a),i.Fc(a),t.w(f,a),i.Sc(a),0<=(f=this.$L(i,a,s,h,f,o))?(u.add(f),u.add(h)):l.add(h)}if(c||l.add(u.get(0)),l.size==u.size)r.addPath(t,n,!0);else if(2<=l.size&&(!this.NH||2!=l.size||!(c||e.b.vb(t.xa(l.get(0)),t.xa(l.get(1)))<=this.tI))){for(n=new e.Ra,i=0,o=l.size;i<o;i++)t.ne(l.get(i),n),0==i?r.xf(n):r.lineTo(n);c&&(this.NH||2!=l.size||r.lineTo(n),r.Up())}}},t.prototype.$L=function(e,t,n,r,i,a){var o=i-1;for(i<=r&&(o=a),a=i=-1,r+=1;r<=o;r++){n.mc(2*r,t);var s=t.x,c=t.y;e.cc(e.ae(t,!1),t),t.x-=s,t.y-=c,(s=t.length())>this.tI&&s>a&&(i=r,a=s)}return i},t.prototype.xe=function(){},t}();e.BM=t}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 29},n.prototype.U=function(t,n,r,i){return t instanceof e.R?(t=new e.$c(t),this.U(t,n,r,i).next()):new e.BM(t,n,r,i)},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.instance=null,n}(e.Ne);e.lD=t}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 21},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.U=function(t,n,r,i,a,o,s,c){return t instanceof e.R?(c=new e.$c(t),this.U(c,n,r,[i],a,o,!1,s).next()):!0===s?(r=new e.nD(t,n,r,i,a,!1,!1,c),e.Jh.local().U(r,n,c)):new e.nD(t,n,r,i,a,!1,!1,c)},n.instance=null,n}(e.Ne);e.mD=t}(Y||(Y={})),function(e){var t=function(){function t(t,n,r,i,a,o,s,c){if(o)throw e.f.Me();if(null==n)throw e.f.I();this.ya=-1,this.ut=t,this.Cg=n,this.Fe=r,this.kt=i,this.to=a,this.xo=-1,this.Vb=c,this.PU=new e.g,this.PU.Ka()}return t.prototype.next=function(){for(var e;null!=(e=this.ut.next());)return this.ya=this.ut.Ea(),this.xo+1<this.kt.length&&this.xo++,this.mS(e,this.kt[this.xo]);return null},t.prototype.Ea=function(){return this.ya},t.prototype.mS=function(t,n){return e.dM.buffer(t,this.Cg,this.Fe,n,this.to,this.Vb)},t.prototype.xe=function(){},t}();e.nD=t}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 24},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.U=function(t,n,r){if(null==n)throw e.f.I();if(t.u()||1>t.pb())return 0;if(4==r)throw e.f.Me();var i=e.ab.hc(n),a=e.ab.cw(i),o=e.ab.Mv(i);a*=2-a;var s=i.Ld().gi,c=t.F();if(1736==c||197==c)var u=t.sg();else e.R.Ic(c)?(u=new e.Oa(t.description)).$b(t,!0):u=t;if(0==i.Ib(n)){if(e.ab.Cc(n)){u=e.Lh.qj(u,n),1607==c&&u==t&&(u=e.R.$d(t)),t=new e.uc,e.ab.nh(n).sn(t),c=0;for(var l=u.D();c<l;c++){var h=u.xa(c);h.x=e.Lh.nn(h.x,t),u.nb(c,h)}}t=u.Ga(),u=e.Lh.NJ(n,i,u,t)?t:e.ab.$g(u,n,i)}return this.tR(u,r,o,a,s)},n.prototype.tR=function(t,n,r,i,a){var o=new e.da(0),s=0;for(t=t.Ba();t.Ta();)for(;t.Aa();){var c=t.aa(),u=c.ac();c=c.wc(),u.scale(a),c.scale(a),e.gb.Ad(r,i,u.x,u.y,c.x,c.y,o,null,null,n),s+=o.j}return s},n.instance=null,n}(e.Ne);e.EM=t}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 18},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.U=function(t,n,r,i,a){return t instanceof e.R?(t=new e.$c(t),this.U(t,n,r,i,a).next()):new e.DM(t,r,i,n,-1,-1,a)},n.instance=null,n}(e.Ne);e.CM=t}(Y||(Y={})),function(e){var t=function(){function t(t,n,r,i,a,o){if(0<o)throw e.f.Me();if(4!=r&&0<a)throw e.f.Me();if(null==n)throw e.f.I();this.ya=-1,this.ut=t,this.Cg=n,this.Fe=r,this.WU=i,this.VU=a}return t.prototype.next=function(){for(var e;null!=(e=this.ut.next());)return this.ya=this.ut.Ea(),this.Ez(e);return null},t.prototype.Ea=function(){return this.ya},t.prototype.Ez=function(t){return e.jj.rs(t,this.Cg,this.Fe,this.WU,this.VU,this.Vb)},t.prototype.xe=function(){},t}();e.DM=t}(Y||(Y={})),function(e){!function(e){e[e.Unknown=0]="Unknown",e[e.Contains=1]="Contains",e[e.Within=2]="Within",e[e.Equals=3]="Equals",e[e.Disjoint=4]="Disjoint",e[e.Touches=8]="Touches",e[e.Crosses=16]="Crosses",e[e.Overlaps=32]="Overlaps",e[e.NoThisRelation=64]="NoThisRelation",e[e.Intersects=1073741824]="Intersects",e[e.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"}(e.mM||(e.mM={})),e.FM=function(){function t(){}return t.B0=function(n,r,i,a){if(r.u()||n.u())return 4;var o,s=n.F(),c=r.F();switch(e.R.Ic(s)&&(n=o=new e.Oa(n.description),o.$b(n,!0)),e.R.Ic(c)&&(r=o=new e.Oa(r.description),o.$b(r,!0)),s){case 33:switch(c){case 33:return t.MX(n,r,i);case 197:return t.fj(t.WJ(r,n,i));case 550:return t.fj(t.ZJ(r,n,i));case 1607:return t.fj(t.hK(r,n,i,a));case 1736:return t.fj(t.dK(r,n,i))}throw e.f.za();case 197:switch(c){case 33:return t.WJ(n,r,i);case 197:return t.GX(n,r,i);case 550:return t.fj(t.XJ(r,n,i,a));case 1607:return t.fj(t.fK(r,n));case 1736:return t.fj(t.bK(r,n))}throw e.f.za();case 550:switch(c){case 33:return t.ZJ(n,r,i);case 197:return t.XJ(n,r,i,a);case 550:return t.YJ(n,r,i,a);case 1607:return t.fj(t.gK(r,n));case 1736:return t.fj(t.cK(r,n))}throw e.f.za();case 1607:switch(c){case 33:return t.hK(n,r,i,a);case 197:return t.fK(n,r);case 550:return t.gK(n,r);case 1607:return t.SX(n,r);case 1736:return t.fj(t.eK(r,n))}throw e.f.za();case 1736:switch(c){case 33:return t.dK(n,r,i);case 197:return t.bK(n,r);case 550:return t.cK(n,r);case 1607:return t.eK(n,r);case 1736:return t.PX(n,r)}throw e.f.za();default:throw e.f.za()}},t.MX=function(e,n,r){return e=e.w(),n=n.w(),t.aK(e,n,r)},t.aK=function(e,t,n){return e.sub(t),e.En()<=n*n?3:4},t.WJ=function(n,r,i){var a=new e.g;return n.s(a),n=r.w(),t.IX(a,n,i)},t.IX=function(e,t,n){return e.O(-n,-n),e.contains(t)?1:(e.O(n,n),e.contains(t)?8:4)},t.JX=function(e,t,n){return t.contains(n)?1:e.contains(n)?8:4},t.GX=function(n,r,i){var a=new e.g;return n.s(a),n=new e.g,r.s(n),t.HX(a,n,i)},t.HX=function(e,t,n){var r=0;return e.contains(t)&&(r|=1),t.contains(e)&&(r|=2),0!=r?r:(e.O(-n,-n),t.O(-n,-n),e.isIntersecting(t)?((r=e).O(n,n),r=r.contains(t)?1:0,t.O(n,n),0!=(r|=t.contains(e)?2:0)?r:32):((r=e).O(n,n),t.O(n,n),r.isIntersecting(t)?8:4))},t.ZJ=function(e,n,r){return n=n.w(),t.$J(e,n,r)},t.$J=function(e,n,r){for(var i=0,a=e.D();i<a;i++){var o=e.xa(i);if(4!=(o=t.aK(o,n,r)))return 0!=(2&o)&&1!=a?1:o}return 4},t.XJ=function(n,r,i,a){var o=new e.g;return r.s(o),t.LX(n,o,i,a)},t.LX=function(e,n,r,i){n.O(-r,-r),n.O(r,r);for(var a=r=0,o=e.D();a<o;a++){var s=e.xa(a);if(4!=(s=t.fj(t.JX(n,n,s)))&&(r|=s,4==i))return 1073741824}return 0==r?4:2==r?r:32},t.YJ=function(e,n,r,i){for(var a=0,o=0,s=n.D();o<s;o++){var c=n.xa(o);if(4!=(c=t.$J(e,c,r))&&(a++,4==i))return 1073741824}return 0<a?a==n.D()?3==i?1==(c=t.YJ(n,e,r,1))?3:0:1:32:0},t.hK=function(e,n,r,i){return n=n.w(),t.RX(e,n,r,i)},t.KX=function(e,t){var n=null;return null!=(e=e.ib)&&(n=e.oi),null==n?-1:0==(t=n.Xl(t.x,t.y))?4:1==t?1:0},t.RX=function(n,r,i,a){if(0==(1073741839&a))return 64;var o=t.KX(n,r);if(0<o)return o;for(i*=i,o=n.Ba();o.Ta();){var s=o.Pa;if(!n.Lb(s)){var c=n.Ha(s);if(s=n.ua(s),0==c)continue;if(e.b.oc(n.xa(s),r)<=i||1<c&&e.b.oc(n.xa(s+c-1),r)<=i)return 8}if(8!=a)for(;o.Aa();)if(c=(c=o.aa()).cc(c.ae(r,!1)),e.b.oc(c,r)<=i)return 0!=(1073741828&a)?1073741824:1}return 0!=(1073741828&a)?4:64},t.fK=function(n,r){var i=new e.g;return r.s(i),t.QX(n,i)},t.QX=function(e,n){return 0<(e=t.gu(e,n))?e:0},t.gu=function(e,t){return null==(e=e.ib)||null==(e=e.oi)?-1:0==(t=e.rn(t))?4:1==t?1:0},t.gK=function(n,r){var i=new e.g;return r.s(i),0<(n=t.gu(n,i))?n:0},t.Bx=function(n,r){var i=new e.g;return r.s(i),0<(i=t.gu(n,i))?i:-1==i&&(i=new e.g,n.s(i),0<(i=t.gu(r,i)))?t.fj(i):0},t.SX=function(e,n){return 0<(e=t.Bx(e,n))?e:0},t.dK=function(e,n,r){return n=n.w(),t.OX(e,n,r)},t.OX=function(t,n,r){if(0==(t=e.Zc.Td(t,n,r)))return 4;if(1==t)return 1;if(2==t)return 8;throw e.f.za()},t.bK=function(n,r){var i=new e.g;return r.s(i),t.NX(n,i)},t.NX=function(e,n){return 0<(e=t.gu(e,n))?e:0},t.cK=function(e,n){return 0<(e=t.Bx(e,n))?e:0},t.eK=function(e,n){return 0<(e=t.Bx(e,n))?e:0},t.PX=function(e,n){return 0<(e=t.Bx(e,n))?e:0},t.TX=function(t,n){var r=t.F(),i=n.F();if(e.R.Rg(r)){var a=t.ib;if(null!=a&&null!=(a=a.oi)){if(33==i){var o=n.w();a=a.Xl(o.x,o.y)}else o=new e.g,n.s(o),a=a.rn(o);if(1==a)return 1;if(0==a)return 4}}if(e.R.Rg(i)&&null!=(a=n.ib)&&null!=(a=a.oi)){if(33==r?(t=t.w(),a=a.Xl(t.x,t.y)):(n=new e.g,t.s(n),a=a.rn(n)),1==a)return 2;if(0==a)return 4}return 0},t.fj=function(e){return 0!=(1&e)&&(e=-2&e|2),0!=(2&e)&&(e=-3&e|1),e},t}()}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.F=function(){return 15},n.prototype.U=function(t,n,r,i,a){return t instanceof e.R?(t=new e.$c(t),n=new e.$c(n),this.U(t,n,r,i,a).next()):void 0===a?new e.oD(t,n,r,i,-1):new e.oD(t,n,r,i,a)},n.prototype.Pn=function(t,n,r){this.pv(t)&&(n=e.la.Ng(n,t,!1),t.lj(r)||t.Su(n,r))},n.prototype.pv=function(t){return e.sy.az(t)},n.instance=null,n}(e.Ne);e.ak=t}(Y||(Y={})),function(e){var t=function(){function t(t,n,r,i,a){if(this.at=null==n,this.ya=-1,this.Vd=t,this.Cg=r,this.Xe=n.next(),this.Hj=this.Xe.F(),this.Vb=i,this.Li=a,-1!=this.Li&&(0>=this.Li||7<this.Li))throw e.f.I("bad dimension mask")}return t.prototype.next=function(){if(this.at)return null;if(null!=this.gx){var e=this.gx.next();if(null!=e)return e;this.gx=null}for(;null!=(e=this.Vd.next());)return this.ya=this.Vd.Ea(),-1==this.Li?e=this.Ia(e):(this.gx=this.jU(e),e=this.gx.next()),e;return null},t.prototype.Ea=function(){return this.ya},t.prototype.Ia=function(t){var n=this.GL(t);if(null!=n)return n;n=e.la.Tv(this.Xe,t);var r=e.la.Qd(this.Cg,n,!0);n=new e.g,this.Xe.s(n);var i=new e.g;return t.s(i),n.O(2*r,2*r),n.Ia(i),n.O(100*r,100*r),r=e.Yd.clip(this.Xe,n,0,0),t=e.Yd.clip(t,n,0,0),e.pg.gw(t,r,this.Cg,this.Vb)},t.prototype.GJ=function(t,n,r){var i=0;if(0!=(1&n))null==r[0]&&(r[0]=new e.Hd(t)),i++;else for(var a=0;a<r.length-1;a++)r[a]=r[a+1];if(0!=(2&n))null==r[i]&&(r[i]=new e.Oa(t)),i++;else for(a=i;a<r.length-1;a++)r[a]=r[a+1];if(0!=(4&n))null==r[i]&&(r[i]=new e.Fa(t)),i++;else for(a=i;a<r.length-1;a++)r[a]=r[a+1];if(3!=i){for(t=[],a=0;a<i;a++)t[a]=r[a];return new e.$c(t)}return new e.$c(r)},t.prototype.jU=function(t){var n=this.GL(t);if(null!=n){var r=[null,null,null];return r[n.pb()]=n,this.GJ(t.description,this.Li,r)}n=e.la.Tv(this.Xe,t),r=e.la.Qd(this.Cg,n,!0),n=new e.g,this.Xe.s(n),n.O(2*r,2*r);var i=new e.g;return t.s(i),n.Ia(i),n.O(100*r,100*r),r=e.Yd.clip(this.Xe,n,0,0),n=e.Yd.clip(t,n,0,0),r=e.pg.wA(n,r,this.Cg,this.Vb),this.GJ(t.description,this.Li,r)},t.prototype.GL=function(n){var r=e.la.Tv(n,this.Xe),i=e.la.Qd(this.Cg,r,!0);r=n.F();var a=n.u(),o=this.Xe.u();if(!(o=a||o)){o=new e.g,n.s(o);var s=new e.g;this.Xe.s(s),s.O(2*i,2*i),o=!o.isIntersecting(s)}if(!o)if(4==(s=e.FM.TX(this.Xe,n)))o=!0;else{if(0!=(2&s))return this.Xe;if(0!=(1&s))return n}if(o)return(i=e.R.Se(r))<(o=e.R.Se(this.Hj))?t.rC(n,a):i>o||0==i&&550==r&&33==this.Hj?this.rK():t.rC(n,a);if((-1==this.Li||4==this.Li)&&197==r&&197==this.Hj)return i=this.Xe,r=new e.g,n.s(r),a=new e.g,i.s(a),r.Ia(a),i=new e.Ih,n.copyTo(i),i.mp(r),i;if(197==r&&0==e.R.Se(this.Hj)||197==this.Hj&&0==e.R.Se(r))return a=197==r?n:this.Xe,n=197==r?this.Xe:n,r=new e.g,a.s(r),e.Yd.clip(n,r,i,0);if(0==e.R.Se(r)&&0<e.R.Se(this.Hj)||0<e.R.Se(r)&&0==e.R.Se(this.Hj)){if(i=e.la.Ng(this.Cg,n,!1),550==r||33==r)return e.pg.lH(n,this.Xe,i);if(550==this.Hj||33==this.Hj)return e.pg.lH(this.Xe,n,i);throw e.f.za()}return-1!=this.Li&&2!=this.Li||1607!=r||1736!=this.Hj?-1!=this.Li&&2!=this.Li||1736!=r||1607!=this.Hj?null:this.DL(this.Xe,n):this.DL(n,this.Xe)},t.prototype.DL=function(t,n){var r=t,i=n,a=e.la.Ng(this.Cg,n,!1),o=new e.g;i.s(o);var s=new e.g;r.s(s),s.O(2*a,2*a),o.Ia(s),o.O(10*a,10*a),r=t=e.Yd.clip(t,o,0,0),s=new e.ha(0);var c=-1,u=i.ib;if(null!=u){var l=u.oi;if(null!=l){c=0,s.Db(r.D()+r.$());for(var h=new e.g,f=r.Ba();f.Ta();)for(;f.Aa();){f.aa().s(h);var d=l.rn(h);1==d?s.add(1):0==d?s.add(0):(s.add(-1),c++)}}}if(5<n.D()&&(u=(i=n=e.Yd.clip(n,o,0,0)).ib),0>c&&(c=r.gA()),o=r.D()+i.D(),c*i.D()>Math.log(o)*o*4)return null;o=null,c=i.Ba(),null!=u&&null!=u.Hb&&(o=u.Hb),null==o&&20<i.D()&&(o=e.la.$E(i)),t=t.Ga(),i=null,u=r.Ba(),l=[0,0,0,0,0,0,0,0,0],h=new e.ie(0),f=new e.og,d=-1;for(var p=0,b=0,v=0<s.size,y=-1;u.Ta();){y=u.Pa;var m=0;for(d=-1,p=0;u.Aa();){var g=v?e.L.truncate(s.get(b)):-1;b++;var O=u.aa();if(0>g){if(null!=o)for(null==i?i=o.LS(O,a):i.wn(O,a),g=i.next();-1!=g;g=i.next()){c.Rb(o.ga(g)),g=c.aa();var j=O.Ia(g,null,l,null,a);for(g=0;g<j;g++)h.add(l[g])}else for(c.ej();c.Ta();)for(;c.Aa();)for(g=c.aa(),j=O.Ia(g,null,l,null,a),g=0;g<j;g++)h.add(l[g]);if(0<h.size){h.Zd(0,h.size,(function(e,t){return e-t}));var w=0;h.add(1),j=-1,g=0;for(var _=h.size;g<_;g++){var x=h.get(g);if(x!=w){var k=!1;if(0!=w||1!=x?(O.jh(w,x,f),w=f.get()):(w=O,k=!0),2<=m){if(t.ds(r,y,d,p,3==m),1!=this.CE(n,w.ac(),a)&&1!=this.DE(n,w,a))return null;t.$b(w,!1),m=1,p=0}else switch(j=this.DE(n,w,a),j){case 1:k?2>m?(d=u.wb()-r.ua(y),p=1,m=0==m?3:2):p++:(t.$b(w,0==m),m=1);break;case 0:m=0,d=-1,p=0;break;default:return null}w=x}}}else{if(0>(g=this.CE(n,O.ac(),a)))return null;1==g?(2>m&&(d=u.wb()-r.ua(y),m=0==m?3:2),p++):(d=-1,p=0)}h.clear(!1)}else 0!=g&&1==g&&(0==m?(m=3,d=u.wb()-r.ua(y)):1==m?(m=2,d=u.wb()-r.ua(y)):p++)}2<=m&&(t.ds(r,y,d,p,3==m),d=-1)}return t},t.prototype.CE=function(t,n,r){return e.Oe.Jm(t,n,r)},t.prototype.DE=function(t,n,r){var i=n.ac();n=n.wc();var a=e.Oe.Jm(t,i,r),o=e.Oe.Jm(t,n,r);return 1==a&&0==o||0==a&&1==o?-1:0==a||0==o?0:1==a||1==o?1:((a=new e.b).add(i,n),a.scale(.5),0==(t=e.Oe.Jm(t,a,r))?0:1==t?1:-1)},t.rC=function(e,t){return t?e:e.Ga()},t.prototype.rK=function(){return null==this.lI&&(this.lI=this.Xe.Ga()),this.lI},t.prototype.xe=function(){},t}();e.oD=t}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 28},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.U=function(t,n,r,i,a,o,s){return t instanceof e.R?(t=new e.$c(t),this.U(t,n,r,i,a,o,s).next()):new e.GM(t,n,r,i,a,o,s)},n.instance=null,n}(e.Ne);e.pD=t}(Y||(Y={})),function(e){var t=function(){function t(e,t,n,r,i,a,o){this.ya=-1,this.Vd=e,this.Oj=t,this.La=n,this.Qi=r,this.lB=i,this.hI=a,this.md=o}return t.prototype.next=function(){var e=this.Vd.next();return null!=e?(this.ya=this.Vd.Ea(),this.tM(e)):null},t.prototype.Ea=function(){return this.ya},t.prototype.tM=function(t){var n=0>=this.hI?e.la.Ng(this.Oj,t,!1):this.hI;return e.RL.U(t,this.La,this.Qi,this.lB,n,this.md)},t.prototype.xe=function(){},t}();e.GM=t}(Y||(Y={})),function(e){var t;(t=e.yp||(e.yp={}))[t.clipToDomainOnly=1]="clipToDomainOnly",t[t.clipWithHorizon=2]="clipWithHorizon",t[t.foldAndClipWithHorizon=3]="foldAndClipWithHorizon";var n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 0},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.U=function(t,n,r){return t instanceof e.R?(t=new e.$c(t),this.U(t,n,r).next()):new e.HM(t,n,r)},n.prototype.transform=function(t,n,r,i){return e.Bp.transform(t,n,r,i,!0)},n.prototype.BL=function(t,n,r){return e.Bp.BL(t,n,r)},n.prototype.yu=function(t,n,r,i){return e.Bp.yu(t,n,r,i)},n.prototype.KZ=function(t,n,r,i){return e.Bp.Kr(t,n,r,i)},n.instance=null,n}(e.Ne);e.Rr=n}(Y||(Y={})),function(e){var t=function(){function t(e,t,n){this.ya=-1,this.Vd=e,this.eV=t,this.md=n}return t.prototype.next=function(){var t=this.Vd.next();return null!=t?(this.ya=this.Vd.Ea(),e.Bp.$g(t,this.eV,this.md)):null},t.prototype.Ea=function(){return this.ya},t.prototype.xe=function(){},t}();e.HM=t}(Y||(Y={})),function(e){var t=function(){function t(){}return t.prototype.reset=function(){this.vh=this.Ek=-1,this.ct=this.Dq=!1},t.prototype.MR=function(e,t,n){for(e.Rb(t,n);e.Aa();){var r=e.aa();if(0!=(r=r.Pb()))return e.wb()}for(e.Rb(t,n);e.mA();)if(0!=(r=(r=e.ti()).Pb()))return e.wb();return-1},t.prototype.NR=function(e,t){for(e.Rb(t,-1);e.mA();)if(0!=e.ti().Pb())return e.wb();return-1},t.prototype.LR=function(e,t){for(e.Rb(t,-1),e.aa();e.Aa();)if(0!=e.aa().Pb())return e.wb();return-1},t.prototype.KR=function(t,n,r,i){if(this.Ek=this.MR(n,r,i),-1!=this.Ek){n.Rb(this.Ek,-1);var a=n.aa(),o=a.cc(a.ae(t,!1));if(r=e.b.oc(o,t),(i=new e.b).K(o),i.sub(a.ac()),(o=new e.b).K(t),o.sub(a.ac()),this.Dq=0>i.Di(o),this.vh=this.LR(n,this.Ek),-1!=this.vh){n.Rb(this.vh,-1);var s=(a=n.aa()).ae(t,!1);s=a.cc(s);var c=e.b.oc(s,t);c>r?this.vh=-1:(i.K(s),i.sub(a.ac()),o.K(t),o.sub(a.ac()),this.ct=0>i.Di(o))}-1==this.vh&&(this.vh=this.NR(n,this.Ek),-1!=this.vh&&(n.Rb(this.vh,-1),s=(a=n.aa()).ae(t,!1),s=a.cc(s),(c=e.b.oc(s,t))>r?this.vh=-1:(i.K(s),i.sub(a.ac()),o.K(t),o.sub(a.ac()),this.ct=0>i.Di(o),t=this.Ek,this.Ek=this.vh,this.vh=t,t=this.Dq,this.Dq=this.ct,this.ct=t)))}},t.prototype.lP=function(e,t,n,r,i){return n=n.Ba(),this.KR(e,n,r,i),-1!=this.Ek&&-1==this.vh?this.Dq:-1!=this.Ek&&-1!=this.vh?this.Dq==this.ct?this.Dq:(n.Rb(this.Ek,-1),e=n.aa().qg(),n.Rb(this.vh,-1),t=n.aa().qg(),0<=e.Di(t)):t},t}(),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return X(r,n),r.local=function(){return null===r.instance&&(r.instance=new r),r.instance},r.prototype.F=function(){return 3},r.prototype.Xz=function(t,n,r){var i;if(void 0===i&&(i=!1),t.u())return new e.lm;n=n.w();var a=t,o=t.F();switch(197==o&&((a=new e.Fa).bd(t,!1),o=1736),o){case 33:return this.oJ(a,n);case 550:return this.ZI(a,n);case 1607:case 1736:return this.vV(a,n,r,i);default:throw e.f.Y("not implemented")}},r.prototype.Yz=function(t,n){if(t.u())return new e.lm;n=n.w();var r=t,i=t.F();switch(197==i&&((r=new e.Fa).bd(t,!1),i=1736),i){case 33:return this.oJ(r,n);case 550:case 1607:case 1736:return this.ZI(r,n);default:throw e.f.Y("not implemented")}},r.prototype.Zz=function(t,n,r,i){if(0>i)throw e.f.I();if(t.u())return[];n=n.w();var a=t,o=t.F();switch(197==o&&((a=new e.Fa).bd(t,!1),o=1736),o){case 33:return this.kW(a,n,r,i);case 550:case 1607:case 1736:return this.NV(a,n,r,i);default:throw e.f.Y("not implemented")}},r.prototype.vV=function(n,r,i,a){if(1736==n.F()&&i&&(i=new e.g,n.s(i),i=e.la.Qd(null,i,!1),0!=(a?e.Zc.Td(n,r,0):e.Zc.Td(n,r,i)))){var o=new e.lm(r,0,0);return a&&o.$K(!0),o}var s=n.Ba();o=new e.b;for(var c=i=-1,u=17976931348623157e292,l=0;s.Ta();)for(;s.Aa();){var h=s.aa();h=h.cc(h.ae(r,!1));var f=e.b.oc(h,r);f<u?(l=1,o=h,i=s.wb(),c=s.Pa,u=f):f==u&&l++}return o=new e.lm(o,i,Math.sqrt(u)),a&&(s.Rb(i,c),h=s.aa(),a=0>e.b.fp(r,h.ac(),h.wc()),1<l&&((l=new t).reset(),a=l.lP(r,a,n,i,c)),o.$K(a)),o},r.prototype.oJ=function(t,n){return t=t.w(),n=e.b.vb(t,n),new e.lm(t,0,n)},r.prototype.ZI=function(t,n){for(var r=t.Va(0),i=t.D(),a=t=0,o=0,s=17976931348623157e292,c=0;c<i;c++){var u=new e.b;r.mc(2*c,u);var l=e.b.oc(u,n);l<s&&(a=u.x,o=u.y,t=c,s=l)}return(n=new e.lm).Jy(a,o,t,Math.sqrt(s)),n},r.prototype.kW=function(t,n,r,i){return 0==i?[]:(r*=r,t=t.w(),(n=e.b.oc(t,n))<=r?(r=[],(i=new e.lm).Jy(t.x,t.y,0,Math.sqrt(n)),r[0]=i):r=[],r)},r.prototype.NV=function(t,n,r,i){if(0==i)return[];var a=t.Va(0),o=t.D();t=[],r*=r;for(var s=0;s<o;s++){var c=a.read(2*s),u=a.read(2*s+1),l=n.x-c,h=n.y-u;(l=l*l+h*h)<=r&&((h=new e.lm).Jy(c,u,s,Math.sqrt(l)),t.push(h))}return n=t.length,t.sort((function(e,t){return e.La<t.La?-1:e.La==t.La?0:1})),i>=n||(t.length=i),t.slice(0)},r.instance=null,r}(e.Ne);e.my=n}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 4},n.prototype.U=function(t,n,r,i,a){return e.mm.hC(t,n,r,i,a)},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.pv=function(t){return e.Cu.bz(t)},n.prototype.Pn=function(t,n,r){e.Cu.oE(t,n,r)},n.instance=null,n}(e.Ne);e.IM=t}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 33},n.prototype.U=function(t,n,r,i,a){return 1073741824===t?!e.wd.iC(n,r,i,4,a):e.wd.iC(n,r,i,t,a)},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.pv=function(t){return e.Cu.bz(t)},n.prototype.Pn=function(t,n,r){e.Cu.oE(t,n,r)},n.instance=null,n}(e.Ne);e.kj=t}(Y||(Y={})),function(e){var t=function(){function t(t,n,r,i){if(this.md=i,this.MU=r,this.ya=-1,null==t)throw e.f.I();this.Fk=t,this.Oj=n}return t.prototype.next=function(){var t;if(null!=(t=this.Fk.next())){if(this.ya=this.Fk.Ea(),null!=this.md&&!this.md.progress(-1,-1))throw e.f.Lu("user_canceled");return this.MC(t)}return null},t.prototype.Ea=function(){return this.ya},t.prototype.MC=function(t){if(null==t)throw e.f.I();return e.ny.gL(t,this.Oj,this.MU,this.md)},t.prototype.xe=function(){},t}();e.JM=t}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 26},n.prototype.U=function(t,n,r,i){return t instanceof e.R?(t=new e.$c(t),this.U(t,n,r,i).next()):new e.JM(t,n,r,i)},n.prototype.zq=function(t,n,r,i,a){return 0<(void 0!==i?e.ny.zq(t,n,r,i,a):e.ny.zq(t,n,!1,null,r))},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.instance=null,n}(e.Ne);e.jm=t}(Y||(Y={})),function(e){var t=function(){function e(){this.Rq=0}return e.prototype.QY=function(e){this.Rq&=-2,this.Rq|=e?1:0},e.prototype.oq=function(){return 0!=(1&this.Rq)},e.prototype.IG=function(){return this.oq()?0:1},e}();e.d_=t;var n=function(){},r=function(e,t,n,r){this.x=e,this.y=t,this.Hi=n,this.Km=r},i=function(){function e(e){this.Ie=e}return e.prototype.compare=function(e,t,n){return e=e.ga(n),t=this.Ie.vf.read(2*t),0>(t-=e=this.Ie.vf.read(2*e))?-1:0<t?1:0},e}(),a=function(){function e(e){this.Ie=e}return e.prototype.compare=function(e,t,n){t=this.Ie.eb[t],e=this.Ie.eb[e.ga(n)];var r=t.oq(),i=e.oq();n=t.ue.Te(this.Ie.cp,0);var a=e.ue.Te(this.Ie.cp,0);return n==a&&((r=.5*((n=Math.min(r?t.ue.na:t.ue.ma,i?e.ue.na:e.ue.ma))-this.Ie.cp)+this.Ie.cp)==this.Ie.cp&&(r=n),n=t.ue.Te(r,0),a=e.ue.Te(r,0)),n<a?-1:n>a?1:0},e}(),o=function(){function t(t,n){this.PJ=new e.b,this.parent=t,this.yT=n}return t.prototype.Lr=function(e,t,n){var r=this.parent,i=this.yT;n.Zd(e,t,(function(e,t){return r.Qh(e,t,i)}))},t.prototype.sq=function(e){return e=this.parent.ni.get(e),this.parent.vf.mc(2*(e>>1),this.PJ),this.PJ.y+(0!=(1&e)?this.parent.Qj:-this.parent.Qj)},t}(),s=function(){function s(t,n,r,i,a){this.aI=t.description,this.W=t,this.Wg=n,this.Qj=e.la.Ng(this.Wg,t,!1),this.Vo=e.la.Ng(this.Wg,t,!0),this.gB=r,this.KU=this.aI.Ca,this.eb=[],this.Io=[],this.sh=new e.Ap,this.cb=new e.bk,this.fe=new e.Od,this.MH=this.yl=a}return s.prototype.BA=function(){return this.MH=!0,(!e.R.Bc(this.W.F())||this.qF()&&this.nF(!1))&&this.wP()?e.R.Bc(this.W.F())?this.zP()?1607==this.W.F()?this.BP()?2:0:this.CP()?this.DP():0:0:2:0},s.prototype.TC=function(t,n){var r=this.vf.read(2*t);t=this.vf.read(2*t+1);var i=this.vf.read(2*n);return n=this.vf.read(2*n+1),!e.Eu.iw(r,t,i,n,this.Qj*this.Qj)||0!=this.W.pb()&&r==i&&t==n},s.prototype.qF=function(){for(var t=this.W,n=t.Gf?3:2,r=0,i=t.$();r<i;r++)if(t.Ha(r)<n)return this.fe=new e.Od(1,r,0),!1;return!0},s.prototype.nF=function(t){var n=this.W,r=n.Ba(),i=n.hasAttribute(1);for(n=i?e.la.hF(this.Wg,n,!1):0;r.Ta();)for(;r.Aa();){var a=r.aa();if(!(a.Pb()>this.Qj)){if(t&&i){var o=a.Ks(1,0);if(a=a.Ks(1,0),Math.abs(a-o)>n)continue}return this.fe=new e.Od(2,r.wb(),-1),!1}}return!0},s.prototype.wP=function(){var t=this.W,n=null;e.R.Bc(this.W.F())&&(n=this.W);var r=(this.MH||this.yl)&&null!=n,a=t.D();this.vf=t.Va(0),this.ni=new e.ha(0),this.ni.Db(2*a),this.mi=new e.ha(0),this.mi.Db(2*a),r&&(null==this.Nl&&(this.Nl=new e.ha(0)),this.Nl.Db(a));for(var s=t=0;s<a;s++)if(this.ni.add(2*s),this.ni.add(2*s+1),this.mi.add(2*s),this.mi.add(2*s+1),r){for(;s>=n.zc(t);)t++;this.Nl.add(t)}for((new e.Du).sort(this.mi,0,2*a,new o(this,r)),this.cb.clear(),this.cb.kp(new i(this)),this.cb.Le(a),n=0,a*=2;n<a;n++)if(r=this.mi.get(n),r=(t=this.ni.get(r))>>1,0==(1&t)){if(t=this.cb.addElement(r,-1),-1!=(s=this.cb.Be(t))&&!this.TC(this.cb.ga(s),r))return this.fe=new e.Od(3,r,this.cb.ga(s)),!1;var c=this.cb.hb(t);if(-1!=c&&!this.TC(this.cb.ga(c),r))return this.fe=new e.Od(3,r,this.cb.ga(c)),!1}else if(t=this.cb.search(r,-1),s=this.cb.Be(t),c=this.cb.hb(t),this.cb.zd(t,-1),-1!=s&&-1!=c&&!this.TC(this.cb.ga(s),this.cb.ga(c)))return this.fe=new e.Od(3,this.cb.ga(s),this.cb.ga(c)),!1;return!0},s.prototype.zP=function(){return 10>this.W.D()?this.xP():this.yP()},s.prototype.yP=function(){var t=new e.Yc;t.Bb(this.W);var n=new e.Od;return!e.Gu.$I(!1,t,this.Qj,n,this.md)||(n.Ql=t.Ua(n.Ql),n.Rl=t.Ua(n.Rl),this.fe.Or(n),!1)},s.prototype.xP=function(){var t=this.W,n=t.Ba();for(t=t.Ba();n.Ta();)for(;n.Aa();){var r=n.aa();if(!n.ko()||!n.uU()){t.gY(n);do{for(;t.Aa();){var i=t.aa();if(0!=(i=r.Zr(i,this.Qj,!0)))return this.fe=new e.Od(2==i?5:4,n.wb(),t.wb()),!1}}while(t.Ta())}}return!0},s.prototype.CP=function(){var t=this.W;this.eb.length=0,this.Io.length=0,this.fg=t.Ba(),this.fg.tC();var n=new e.ha(0);n.Db(10);var r=NaN,i=0,a=0;for(t=2*t.D();a<t;a++){var o=this.mi.get(a);if(0==(1&(o=this.ni.get(o)))){o>>=1;var s=this.vf.read(2*o),c=this.vf.read(2*o+1);if(0!=n.size&&(s!=r||c!=i)){if(!this.HJ(n))return!1;null!=n&&n.clear(!1)}n.add(o),r=s,i=c}}return!!this.HJ(n)},s.prototype.BP=function(){for(var t=this.W,r=Array(t.$()),i=0,a=t.$();i<a;i++)r[i]=t.ho(i);a=new n;var o=new e.b;i=this.mi.get(0);var s=(i=this.ni.get(i))>>1;this.vf.mc(2*s,o);var c=r[i=this.Nl.get(s)],u=t.ua(i),l=t.zc(i)-1;a.kl=s==u||s==l,a.Ty=this.yl?!c&&a.kl:a.kl,a.Hi=i,a.x=o.x,a.y=o.y,a.Km=s;for(var h=new n,f=1,d=this.mi.size;f<d;f++)if(i=this.mi.get(f),0==(1&(i=this.ni.get(i)))){s=i>>1,this.vf.mc(2*s,o),(i=this.Nl.get(s))!=a.Hi&&(c=r[i],u=t.ua(i),l=t.zc(i)-1);var p=s==u||s==l,b=this.yl?!c&&a.kl:a.kl;if(h.x=o.x,h.y=o.y,h.Hi=i,h.Km=s,h.Ty=b,h.kl=p,h.x==a.x&&h.y==a.y)if(this.yl){if(!(h.Ty&&a.Ty||h.Hi==a.Hi&&(h.kl||a.kl)))return this.fe=new e.Od(8,h.Km,a.Km),!1}else if(!h.kl||!a.kl)return this.fe=new e.Od(5,h.Km,a.Km),!1;i=a,a=h,h=i}return!0},s.prototype.tF=function(){for(var t=this.W,n=[],i=-1,a=!1,o=0,s=t.$();o<s;o++)t.kw(o)&&(a=!1,i++,o<s-1&&(t.kw(o+1)||(a=!0))),n[o]=a?i:-1;a=new e.b,o=this.mi.get(0);var c=(o=this.ni.get(o))>>1;this.vf.mc(2*c,a),o=this.Nl.get(c),i=new r(a.x,a.y,o,c,n[o]),t=[];var u=1;for(s=this.mi.size;u<s;u++)if(o=this.mi.get(u),0==(1&(o=this.ni.get(o)))){if(c=o>>1,this.vf.mc(2*c,a),o=this.Nl.get(c),(o=new r(a.x,a.y,o,c,n[o])).x==i.x&&o.y==i.y){if(o.Hi==i.Hi)return this.fe=new e.Od(9,o.Km,i.Km),!1;0<=n[o.Hi]&&n[o.Hi]==n[i.Hi]&&(0!=t.length&&t[t.length-1]==i||t.push(i),t.push(o))}i=o}if(0==t.length)return!0;for(o=new e.Ap(!0),e.L.Gv(n,-1),a=-1,(u=new e.b).Tc(),i=0,s=t.length;i<s;i++){(c=t[i]).x==u.x&&c.y==u.y||(a=o.Th(0),u.x=c.x,u.y=c.y);var l=n[c.Hi];-1==l&&(l=o.Th(2),n[c.Hi]=l),o.addElement(l,a),o.addElement(a,l)}for((s=new e.ha(0)).Db(10),i=o.re;-1!=i;i=o.$z(i))if(0==(1&(t=o.BG(i)))&&0!=(2&t)){for(t=-1,s.add(i),s.add(-1);0<s.size;){if(a=s.Gc(),s.Rf(),u=s.Gc(),s.Rf(),0!=(1&(c=o.BG(u)))){t=0==(2&c)?a:u;break}for(o.IY(u,1|c),c=o.sc(u);-1!=c;c=o.hb(c))(l=o.getData(c))!=a&&(s.add(l),s.add(u))}if(-1!=t){for(o=-1,i=0,s=n.length;i<s;i++)if(n[i]==t){o=i;break}return this.fe=new e.Od(10,o,-1),!1}}return!0},s.prototype.DP=function(){var t=this.W;if(0>=t.Pe())return this.fe=new e.Od(6,1==t.$()?1:-1,-1),0;if(1==t.$())return this.yl&&!this.tF()?0:2;this.Mo=e.ha.Af(t.$(),0),this.tB=e.ha.Af(t.$(),-1);for(var n=-1,r=0,i=0,o=t.$();i<o;i++){var s=t.rm(i);if(this.Mo.write(i,0>s?0:256),0<s)n=i,r=s;else{if(0==s)return this.fe=new e.Od(6,i,-1),0;if((0>n||r<Math.abs(s))&&(this.fe=new e.Od(7,i,-1),this.yl))return 0;this.tB.write(i,n)}}for(this.Kt=t.$(),this.an=new e.ha(0),this.an.Db(10),o=t.D(),this.cp=NaN,(t=new e.ha(0)).Db(10),this.jr=e.ha.Af(o,-1),this.nx=e.ha.Af(o,-1),null!=this.Dj?this.Dj.clear(!1):this.Dj=new e.ha(0),this.Dj.Db(10),this.cb.clear(),this.cb.kp(new a(this)),n=0,o*=2;0<this.Kt&&n<o;n++)if(r=this.mi.get(n),0==(1&(r=this.ni.get(r)))){if(r>>=1,(i=this.vf.read(2*r+1))!=this.cp&&0!=t.size){if(!this.bu(t))return 0;null!=t&&t.clear(!1)}t.add(r),this.cp=i}return 0<this.Kt&&!this.bu(t)?0:this.yl?0==this.fe.pi&&this.tF()?2:0:0==this.fe.pi?2:1},s.prototype.HJ=function(t){if(1==t.size)return!0;for(var n=0,r=t.size;n<r;n++){var i=t.get(n);this.fg.Rb(i);var a=this.fg.ti();this.eb.push(this.zv(a,i,this.fg.Pa,!0)),this.fg.aa(),a=this.fg.aa(),this.eb.push(this.zv(a,i,this.fg.Pa,!1))}var o=this;for(this.eb.sort((function(e,t){return o.hR(e,t)})),-1==(i=this.sh.re)&&(i=this.sh.Th(0)),this.sh.vn(this.eb.length),n=0,r=this.eb.length;n<r;n++)this.sh.addElement(i,n);n=!0;for(var s=r=-1;n&&(n=!1,-1!=(a=this.sh.sc(i)));)for(var c=this.sh.hb(a);-1!=c;)if(r=this.sh.getData(a),s=this.sh.getData(c),(r=this.eb[r].ap)!=(s=this.eb[s].ap))a=c,c=this.sh.hb(a);else if(n=!0,this.sh.hd(i,a),a=this.sh.Be(c),-1==(c=this.sh.hd(i,c))||-1==a)break;if(n=this.sh.Hs(i),this.sh.vF(i),0<n)return this.fe=new e.Od(5,r,s),!1;for(n=0,r=t.size;n<r;n++)this.eC(this.eb[n]);return this.eb.length=0,!0},s.prototype.bu=function(t){for(var n=0,r=t.size;n<r;n++){var i=t.get(n),a=this.jr.read(i);if(-1!=a){var o=this.cb.ga(a);this.Dj.add(o),this.cb.zd(a,-1),this.eC(this.eb[o]),this.eb[o]=null,this.jr.write(i,-1)}-1!=(a=this.nx.read(i))&&(o=this.cb.ga(a),this.Dj.add(o),this.cb.zd(a,-1),this.eC(this.eb[o]),this.eb[o]=null,this.nx.write(i,-1))}for(n=0,r=t.size;n<r;n++){if(i=t.get(n),this.fg.Rb(i),(a=this.fg.ti()).na>a.ma){var s=this.fg.wb(),c=this.zv(a,i,this.fg.Pa,!0);0<this.Dj.size?(o=this.Dj.Gc(),this.Dj.Rf(),this.eb[o]=c):(o=this.eb.length,this.eb.push(c)),a=this.cb.addElement(o,-1),-1==this.jr.read(s)?this.jr.write(s,a):this.nx.write(s,a),0==(3&this.Mo.read(this.fg.Pa))&&this.an.add(a)}this.fg.aa(),(a=this.fg.aa()).na<a.ma&&(s=this.fg.nk(),c=this.zv(a,i,this.fg.Pa,!1),0<this.Dj.size?(o=this.Dj.Gc(),this.Dj.Rf(),this.eb[o]=c):(o=this.eb.length,this.eb.push(c)),a=this.cb.addElement(o,-1),-1==this.jr.read(s)?this.jr.write(s,a):this.nx.write(s,a),0==(3&this.Mo.read(this.fg.Pa))&&this.an.add(a))}for(n=0,r=this.an.size;n<r&&0<this.Kt;n++)if(a=this.an.get(n),0==(3&this.Mo.read(this.eb[this.cb.ga(a)].sB))){t=-1,i=this.cb.Be(a);var u=a;c=null,o=-1;for(var l=0;-1!=i&&(o=this.cb.ga(i),o=(c=this.eb[o]).sB,0==(3&(l=this.Mo.read(o))));)u=i,i=this.cb.Be(i);-1==i?(s=1,i=u):(t=1==(3&l)?o:this.tB.read(o),s=0!=c.IG()?0:1,i=this.cb.hb(i));do{if(o=this.cb.ga(i),o=(c=this.eb[o]).sB,0==(3&(u=this.Mo.read(o)))){if(s!=c.IG())return this.fe=new e.Od(6,o,-1),!1;if(u=252&u|(l=0==s||c.oq()?2:1),this.Mo.write(o,l),2==l&&0==this.fe.pi&&this.tB.read(o)!=t&&(this.fe=new e.Od(7,o,-1),this.yl))return!1;if(this.Kt--,0==this.Kt)return!0}1==(3&u)&&(t=o),u=i,i=this.cb.hb(i),s=0!=s?0:1}while(u!=a)}return null!=this.an?this.an.clear(!1):this.an=new e.ha(0),!0},s.prototype.zv=function(t,n,r,i){if(322!=t.F())throw e.f.za();return(t=this.DQ(t)).ap=n,t.sB=r,t.Rq=0,t.QY(i),t},s.prototype.DQ=function(n){if(0<this.Io.length){var r=this.Io[this.Io.length-1];--this.Io.length,n.copyTo(r.ue)}else(r=new t).ue=e.zD.$d(n);return r},s.prototype.eC=function(e){322==e.ue.F()&&this.Io.push(e)},s.prototype.EV=function(){for(var t=this.W.D(),n=new e.ha(0),r=0;r<t;r++)n.add(r);var i=this;for(n.Zd(0,t,(function(e,t){return i.vv(e,t)})),r=1;r<t;r++)if(0==this.vv(n.get(r-1),n.get(r)))return this.fe=new e.Od(3,n.get(r-1),n.get(r)),0;return 2},s.prototype.bX=function(){return this.qF()&&this.nF(!0)?2:0},s.prototype.HW=function(){return this.BA()},s.prototype.JV=function(){for(var t=this.W.D(),n=new e.ha(0),r=0;r<t;r++)n.add(r);var i=this;n.Zd(0,t,(function(e,t){return i.ZP(e,t)}));var a=Array(t);for(e.L.Gv(a,!1),a[n.get(0)]=!0,r=1;r<t;r++){var o=n.get(r-1),s=n.get(r);0==this.vv(o,s)?a[s]=!1:a[s]=!0}n=this.W.Ga(),o=this.W,s=0;var c=1;for(r=0;r<t;r++)a[r]?c=r+1:(s<c&&n.yd(o,s,c),s=r+1);return s<c&&n.yd(o,s,c),n.Jg(2,this.Vo),n},s.prototype.fX=function(){var t=this.W,n=t.Ba(),r=t.Ba(),i=this.W.Ga(),a=this.W,o=t.hasAttribute(1),s=o?e.la.hF(this.Wg,t,!0):0,c=new e.ha(0),u=new e.ha(0);for(c.Db(e.L.truncate(t.D()/2+1)),u.Db(e.L.truncate(t.D()/2+1));n.Ta();)if(r.Ta(),!(2>t.Ha(n.Pa))){r.iY();for(var l,h,f=!0;n.Aa();){var d=n.aa(),p=r.ti();if(n.wb()>r.wb())break;f&&(c.add(n.wb()),u.add(r.nk()),f=!1),h=c.Gc();var b=n.nk();if(1<b-h){var v=new e.b;v.tc(t.xa(h),t.xa(b)),l=v.length()}else l=d.Pb();h=u.Gc(),1<(b=r.wb())-h?((v=new e.b).tc(t.xa(h),t.xa(b)),h=v.length()):h=p.Pb(),l>this.Vo?c.add(n.nk()):o&&(l=t.Rc(1,c.Gc(),0),d=d.us(1,0),Math.abs(d-l)>s&&c.add(n.nk())),h>this.Vo?u.add(r.wb()):o&&(l=t.Rc(1,u.Gc(),0),d=p.us(1,0),Math.abs(d-l)>s&&u.add(r.wb()))}if(c.Gc()<u.Gc()?c.size>u.size?c.Rf():u.Rf():(c.Gc()!=u.Gc()&&u.Rf(),u.Rf()),2<=u.size+c.size){for(f=new e.Ra,p=0,d=c.size;p<d;p++)a.ne(c.get(p),f),0==p?i.xf(f):i.lineTo(f);for(p=u.size-1;0<p;p--)a.ne(u.get(p),f),i.lineTo(f);a.Lb(n.Pa)?i.Up():0<u.size&&(a.ne(u.get(0),f),i.lineTo(f))}null!=c&&c.clear(!1),null!=u&&u.clear(!1)}return i.Jg(2,this.Vo),i},s.prototype.KW=function(){return this.gZ()},s.prototype.gZ=function(){return 1736==this.W.F()&&1==this.W.$n()?e.pg.Tk(this.W,this.Vo,!0,!1,this.md):(this.Ni=new e.Yc,this.Ni.Bb(this.W),0!=this.Ni.pd&&(1!=this.gB&&e.$j.U(this.Ni,this.Vo,this.md,!0),1736==this.W.F()&&e.Kn.U(this.Ni,this.Ni.kd,this.gB,!1,this.md)),this.W=this.Ni.ye(this.Ni.kd),1736==this.W.F()&&(this.W.cl(),this.W.np(0)),this.W.Jg(2,this.Vo),this.W)},s.p0=function(t,n,r,i){if(t.u())return 1;var a=t.F();if(33==a)return 1;if(197==a)return i=new e.g,t.s(i),i.Qg(e.la.Ng(n,t,!1))?0:1;if(e.R.Ic(a))throw e.f.za();if(!e.R.Rg(a))throw e.f.za();a=e.la.Ng(n,t,!1);var o=t.rk(a);return-1!=(r=r?-1:o)||(1==r&&(a=0),r=new s(t,n,r,i,!1).BA(),t.Jg(r,a)),r},s.zq=function(t,n,r,i,a){if(null!=i&&(i.pi=0,i.Ql=-1,i.Rl=-1),t.u())return 1;var o=t.F();if(33==o)return 1;var c=e.la.Ng(n,t,!1);if(197==o)return n=new e.g,t.s(n),n.Qg(c)?(null!=i&&(i.pi=2,i.Ql=-1,i.Rl=-1),0):1;if(e.R.Ic(o))return(c=new e.Oa(t.description)).$b(t,!0),s.zq(c,n,r,i,a);var u=t.rk(c);if(-1!=(r=r?-1:u))return r;if(n=new s(t,n,r,a,!1),550==o)r=n.EV();else if(1607==o)r=n.bX();else{if(1736!=o)throw e.f.za();r=n.HW()}return t.Jg(r,c),null!=i&&0==r&&i.Or(n.fe),r},s.o0=function(t,n,r,i,a){if(null!=i&&(i.pi=0,i.Ql=-1,i.Rl=-1),t.u())return 1;var o=t.F();if(33==o)return 1;var c=e.la.Ng(n,t,!1);if(197==o)return n=new e.g,t.s(n),n.Qg(c)?(null!=i&&(i.pi=2,i.Ql=-1,i.Rl=-1),0):1;if(e.R.Ic(o))return(o=new e.Oa(t.description)).$b(t,!0),s.zq(o,n,r,i,a);if(t=new s(t,n,-1,a,!0),550!=o&&1607!=o&&1736!=o)throw e.f.za();return n=t.BA(),null!=i&&i.Or(t.fe),n},s.gL=function(t,n,r,i){if(t.u())return t;var a=t.F();if(33==a)return t;var o=e.la.Ng(n,t,!1);if(197==a)return n=new e.g,t.s(n),n.Qg(o)?t.Ga():t;if(e.R.Ic(a))return(a=new e.Oa(t.description)).$b(t,!0),s.gL(a,n,r,i);if(o=t.rk(o),2==(r=r?-1:o))return t;if(t=new s(t,n,r,i,!1),550==a)t=t.JV();else if(1607==a)t=t.fX();else{if(1736!=a)throw e.f.za();t=t.KW()}return t},s.NC=function(t,n,r,i){if(t.u())return t;var a=t.F();if(33==a)return t;var o=e.la.Ng(n,t,!1);if(197==a)return n=new e.g,t.s(n),n.Qg(o)?t.Ga():t;if(e.R.Ic(a))return(o=new e.Oa(t.description)).$b(t,!0),s.NC(o,n,r,i);if(!e.R.Rg(a))throw e.f.Y("OGC simplify is not implemented for this geometry type "+a);return e.pg.NC(t,o,!1,i)},s.prototype.Qh=function(t,n,r){if(t==n)return 0;t=this.ni.get(t);var i=this.ni.get(n);n=t>>1;var a=i>>1,o=new e.b,s=new e.b;return this.vf.mc(2*n,o),o.y+=0!=(1&t)?this.Qj:-this.Qj,this.vf.mc(2*a,s),s.y+=0!=(1&i)?this.Qj:-this.Qj,0==(t=o.compare(s))&&r?0>(r=this.Nl.get(n)-this.Nl.get(a))?-1:0<r?1:0:t},s.prototype.vv=function(t,n){if(t==n)return 0;var r=this.W,i=r.xa(t),a=r.xa(n);if(i.x<a.x)return-1;if(i.x>a.x)return 1;if(i.y<a.y)return-1;if(i.y>a.y)return 1;for(i=1;i<this.KU;i++){a=this.aI.jd(i);for(var o=e.oa.Sa(a),s=0;s<o;s++){var c=r.Rc(a,t,s),u=r.Rc(a,n,s);if(c<u)return-1;if(c>u)return 1}}return 0},s.prototype.ZP=function(e,t){var n=this.vv(e,t);return 0==n?e<t?-1:1:n},s.prototype.hR=function(e,t){if(e===t)return 0;var n=e.ue.qg();e.oq()&&n.lr(),e=t.ue.qg(),t.oq()&&e.lr(),t=n.Wu();var r=e.Wu();return r==t?(t=n.Di(e),Math.abs(t)<=8881784197001252e-31*(Math.abs(e.x*n.y)+Math.abs(e.y*n.x))&&(t--,t++),0>t?1:0<t?-1:0):t<r?-1:1},s}();e.ny=s}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 30},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.U=function(t,n,r,i){return t instanceof e.R?(t=new e.$c(t),n=new e.$c(n),this.U(t,n,r,i).next()):new e.KM(t,n,r,i)},n.tp=function(t,r,i,a){var o=t.pb(),s=r.pb();if(t.u()&&r.u())return o>s?t:r;if(t.u())return r;if(r.u())return t;var c=new e.g,u=new e.g,l=new e.g;return t.s(c),r.s(u),l.H(c),l.Nb(u),c=e.la.Qd(i,l,!0),u=t.F(),l=r.F(),33==u&&33==l?n.sW(t,r,c):u!=l?0<o||0<s?o>s?t:r:550==u?n.YI(t,r,c):n.YI(r,t,c):e.pg.tp(t,r,i,a)},n.sW=function(t,n,r){r=r*Math.sqrt(2)*1.00001,r*=r;var i=t.w(),a=n.w(),o=new e.Hd(t.description);return e.b.oc(i,a)>r&&(o.add(t),o.add(n)),o},n.YI=function(t,n,r){var i=t.Va(0),a=t.D(),o=n.w(),s=t.Ga();r=r*Math.sqrt(2)*1.00001;var c=new e.g;if(t.s(c),c.O(r,r),c.contains(o)){r*=r,c=!1;for(var u=[],l=0;l<a;l++)u[l]=!1;for(l=0;l<a;l++){var h=i.read(2*l),f=i.read(2*l+1);(h-=o.x)*h+(f-=o.y)*f<=r&&(c=!0,u[l]=!0)}if(c)for(l=0;l<a;l++)u[l]||s.yd(t,l,l+1);else s.yd(t,0,a),s.add(n)}else s.yd(t,0,a),s.add(n);return s},n.instance=null,n}(e.Ne);e.oy=t}(Y||(Y={})),function(e){var t=function(){function t(e,t,n,r){this.at=null==t,this.ya=-1,this.Vd=e,this.Cg=n,this.fV=t.next(),this.Vb=r}return t.prototype.next=function(){return this.at?null:null!=(t=this.Vd.next())?(this.ya=this.Vd.Ea(),e.oy.tp(t,this.fV,this.Cg,this.Vb)):null;var t},t.prototype.Ea=function(){return this.ya},t.prototype.xe=function(){},t}();e.KM=t}(Y||(Y={})),function(e){var t=function(){function e(){}return e.prototype.nA=function(){this.Fz=null,this.fy=-1,this.HL=!1},e}(),n=function(){function e(){this.gs=0,this.uj=[]}return e.prototype.AO=function(e){this.gs+=e.fy,this.uj.push(e)},e.prototype.lX=function(){this.gs-=this.uj[this.uj.length-1].fy,--this.uj.length},e.prototype.Sy=function(){return this.uj[this.uj.length-1]},e.prototype.Ib=function(e){return e===this},e}(),r=function(){function r(e,t,n){this.ya=-1,this.Jc=!1,this.qI=[!1,!1,!1,!1],this.Nq=[0,0,0,0],this.VA=!1,this.Hk=-1,this.Bq=0,this.vo=-1,this.Xo=[],this.Vd=e,this.Cg=t,this.Vb=n}return r.QE=function(e){var t=[],n=0;for(e=Object.keys(e);n<e.length;n++)t.push(Number(e[n]));return t.sort((function(e,t){return e-t})),t},r.prototype.SG=function(t){var n=this.Xo[t],i=r.QE(n)[0],a=n[i],o=a.Sy().Fz;return a=a.Sy().HL,delete n[i],a&&(o=e.jm.local().U(o,this.Cg,!1,this.Vb),0==t&&33==o.F()&&(t=new e.Hd(o.description),o.u()||t.add(o),o=t)),o},r.prototype.next=function(){if(this.Jc&&this.vo==this.Hk)return null;for(;!this.wL(););if(-1==this.Hk)return null;if(this.VA){for(this.vo++;;){if(this.vo>this.Hk||0>this.vo)throw e.f.za();if(this.qI[this.vo])break}return this.ya++,this.SG(this.vo)}return this.ya=0,this.vo=this.Hk,this.SG(this.Hk)},r.prototype.Ea=function(){return this.ya},r.prototype.wL=function(){if(this.Jc)return!0;var t=null;if(null!=this.Vd&&null==(t=this.Vd.next())&&(this.Jc=!0,this.Vd=null),e.Ep.Sp(this.Vb),null!=t){var n=t.pb();this.qI[n]=!0,n>=this.Hk&&!this.VA&&(this.zE(n,!1,t),n>this.Hk&&!this.VA&&this.eY(n))}if(0<this.Bq)for(n=0;n<=this.Hk;n++)for(;1<this.Nq[n]&&0!=(t=this.PP(n)).length;)t=e.pg.fR(t,this.Cg,this.Vb),this.zE(n,!0,t);return this.Jc},r.prototype.PP=function(e){for(var t=[],n=[],i=this.Xo[e],a=r.QE(i),o=0;o<a.length;o++){var s=a[o],c=i[s];if(this.Jc||1e4<c.gs&&1<c.uj.length){for(this.Nq[e]-=c.uj.length,this.Bq-=c.uj.length;0<c.uj.length;)t.push(c.Sy().Fz),c.lX();n.push(s)}}for(o=0;o<n.length;o++)delete i[n[o]];return t},r.prototype.eY=function(e){for(var t=0;t<e;t++)this.Xo[t]=[],this.Bq-=this.Nq[t],this.Nq[t]=0},r.prototype.zE=function(e,i,a){var o=new t;if(o.nA(),o.Fz=a,a=r.zT(a),o.fy=a,a=r.xT(a),e+1>this.Xo.length)for(var s=0,c=Math.max(2,e+1);s<c;s++)this.Xo.push([]);void 0===(s=this.Xo[e][a])&&(s=new n,this.Xo[e][a]=s),o.HL=i,s.AO(o),this.Nq[e]++,this.Bq++,this.Hk=Math.max(this.Hk,e)},r.xT=function(t){return 0<t?e.L.truncate(Math.log(t)/Math.log(4)+.5):0},r.zT=function(t){var n=t.F();if(e.R.Rg(n))return t.D();if(33==n)return 1;if(197==n)return 4;if(e.R.Ic(n))return 2;throw e.f.za()},r.prototype.xe=function(){this.wL()},r}();e.MM=r}(Y||(Y={})),function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return X(n,t),n.prototype.F=function(){return 1},n.prototype.U=function(t,n,r,i){return void 0===i?new e.MM(t,n,r):this.sR(t,n,r,i)},n.prototype.sR=function(t,n,r,i){return t=new e.$c([t,n]),this.U(t,r,i).next()},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.instance=null,n}(e.Ne);e.Jh=t}(Y||(Y={})),function(e){var t,n;(n=t||(t={}))[n.nextPath=0]="nextPath",n[n.nextSegment=1]="nextSegment",n[n.iterate=2]="iterate",t=function(){function t(t,n,r,i){this.Bt=new e.g,this.ZU=t,this.$U=n,this.Fq=i,this.No=-1,this.zl=!1;var a=t.ib;null!=a&&null!=(a=i?a.To:a.Hb)&&(this.Jc=!1,this.qa=r,this.Hb=a,this.dx=this.Hb.getIterator(),this.Gq=this.zl=!0,this.Xb=0,i?this.No=n.$():this.td=n.Ba()),this.zl||null!=(a=n.ib)&&null!=(a=i?a.To:a.Hb)&&(this.Jc=!1,this.qa=r,this.Hb=a,this.dx=this.Hb.getIterator(),this.zl=!0,this.Gq=!1,this.Xb=0,i?this.No=t.$():this.td=t.Ba()),this.zl||(this.ii=i?e.la.AS(t,n,r,1<=t.rk(0),1<=n.rk(0)):e.la.zS(t,n,r))}return t.prototype.next=function(){if(this.zl){if(this.Jc)return!1;for(var t=!0;t;)switch(this.Xb){case 0:t=this.RV();break;case 1:t=this.SV();break;case 2:t=this.DA();break;default:throw e.f.Y("internal error")}return!this.Jc}return null!=this.ii&&this.ii.next()},t.prototype.tl=function(){return this.zl?this.Gq?this.Hb.ga(this.nt):this.Fq?this.No:this.td.wb():this.ii.tl(this.ii.dg)},t.prototype.ol=function(){return this.zl?this.Gq?this.Fq?this.No:this.td.wb():this.Hb.ga(this.nt):this.ii.ol(this.ii.If)},t.prototype.cA=function(){if(!this.Fq)throw e.f.Y("internal error");return this.zl?this.Gq?this.Hb.sG(this.nt):this.Bt:this.ii.cA(this.ii.dg)},t.prototype.Gz=function(){if(!this.Fq)throw e.f.Y("internal error");return this.zl?this.Gq?this.Bt:this.Hb.sG(this.nt):this.ii.Gz(this.ii.If)},t.prototype.RV=function(){return this.Fq?-1==--this.No?(this.Jc=!0,!1):(this.Gq?this.$U.Sj(this.No,this.Bt):this.ZU.Sj(this.No,this.Bt),this.dx.vi(this.Bt,this.qa),this.Xb=2,!0):this.td.Ta()?(this.Xb=1,!0):(this.Jc=!0,!1)},t.prototype.SV=function(){if(!this.td.Aa())return this.Xb=0,!0;var e=this.td.aa();return this.dx.wn(e,this.qa),this.Xb=2,!0},t.prototype.DA=function(){return this.nt=this.dx.next(),-1==this.nt&&(this.Xb=this.Fq?0:1,!0)},t}(),e.km=t}(Y||(Y={})),function(e){(e=e.WM||(e.WM={}))[e.enumClosed=1]="enumClosed",e[e.enumHasNonlinearSegments=2]="enumHasNonlinearSegments",e[e.enumOGCStartPolygon=4]="enumOGCStartPolygon",e[e.enumCalcMask=4]="enumCalcMask"}(Y||(Y={})),function(e){e.xD=function(){function t(){}return t.vb=function(n,r,i,a,o,s,c,u,l){var h=[0,0,0],f=[0,0,0],d=[0,0,0],p=[0,0,0,0],b=new e.da(0),v=new e.da(0),y=new e.da(0);if(null!=c||null!=u||null!=l)if(e.l.Ai(r))e.gh.vb(n,i,a,o,s,c,u,l);else{o=e.C.ba(o),i=e.C.ba(i);var m=e.C.ba(o-i);if(e.l.V(a,s)&&(e.l.V(i,o)||e.l.V(e.l.J(a),1.570796326794897)))null!=c&&(c.j=0),null!=u&&(u.j=0),null!=l&&(l.j=0);else{if(e.l.V(a,-s)){if(e.l.V(e.l.J(a),1.570796326794897))return null!=c&&(c.j=2*e.C.Hg(n,r)),null!=u&&(u.j=0<a?e.C.ba(3.141592653589793-e.C.ba(o)):e.C.ba(o)),void(null!=l&&(l.j=0<a?e.C.ba(o):e.C.ba(3.141592653589793-e.C.ba(o))));e.l.V(e.l.J(m),3.141592653589793)&&(null!=c&&(c.j=2*e.C.Hg(n,r)),null!=u&&(u.j=0),null!=l&&(l.j=0))}else{if(e.l.V(e.l.J(a),1.570796326794897)||e.l.V(e.l.J(s),1.570796326794897))return void e.$k.vb(n,r,i,a,o,s,c,u,l);if(e.l.V(i,o)||e.l.V(e.l.J(m),3.141592653589793))return void e.$k.vb(n,r,i,a,o,s,c,u,l);if(e.l.qd(a))return void e.$k.vb(n,r,i,a,o,s,c,u,l)}var g=Math.sqrt(1-r);o=e.C.ba(o-i),i=0,e.C.hk(1,r,a,i,0,b,v,y),h[0]=b.j,h[1]=v.j,h[2]=y.j,e.C.hk(1,r,s,o,0,b,v,y),f[0]=b.j,f[1]=v.j,f[2]=y.j,d[0]=0,d[1]=0,d[2]=-1*r*e.C.n(1,r,a)*Math.sin(a),0>o?e.C.pr(d,f,h,p,0):e.C.pr(d,h,f,p,0),v=[0,0,0],y=[0,0,0];var O=[0,0,0];h=[0,0,0],b=[0,0,0];var j=Math.acos(p[2]/1),w=1-r,_=Math.tan(j),x=1+_*_/w,k=2*d[2]*_/w;for(w=(-k+(_=Math.sqrt(k*k-4*x*(d[2]*d[2]/w-1))))/(x*=2),k=(-k-_)/x,_=Math.tan(j),j=(w+k)/2,d=((x=_*w+d[2])+(_*k+d[2]))/2,_=e.C.wp(w-j,x-d),w=d/g*1.570796326794897,k=0;100>k&&(x=(x=e.C.gm(r,w))*x/Math.cos(w)*(Math.sin(w)-d*x/(1-r)),!e.l.qd(x));k++)w-=x;d=e.C.n(1,r,w)*Math.cos(w),_=1-_/(d=Math.sqrt((d-j)*(d+j))),_*=2-_,x=e.C.Fn(v),j=e.C.Fn(y),w=e.C.Fn(O);var S=e.C.zu(O,v);k=e.C.zu(O,y),e.C.ey(O,v,h),e.C.ey(O,y,b),v=Math.acos(S/(w*x)),y=Math.acos(k/(w*j)),y*=e.l.ub(1,e.C.zu(h,b)),(1.570796326794897<=e.l.J(v)&&1.570796326794897<=e.l.J(y)||3.141592653589793<e.l.J(v-y))&&(v=(3.141592653589793-e.l.J(v))*e.l.ub(1,v),y=(3.141592653589793-e.l.J(y))*e.l.ub(1,y)),h=e.C.Rj(_,y),b=e.C.q(d,_,e.C.Rj(_,v)),h=e.C.q(d,_,h),h=e.l.J(h-b)*n,v=new e.da(0),y=new e.da(0),O=p[1]/1,O*=-e.l.ub(1,m),b=Math.acos(O)*e.l.ub(1,m),t.Bf(n,r,i,a,h,b,v,y),e.l.V(o,v.j)&&e.l.V(s,y.j)||(_=e.C.wp(e.C.ba(o-v.j),s-y.j),t.Bf(n,r,i,a,h,e.C.ba(b+3.141592653589793),v,y),(x=e.C.wp(e.C.ba(o-v.j),s-y.j))<_&&(b=e.C.ba(b+3.141592653589793))),v=[0,0,0,0],y=[0,0,0,0],_=[0,0,0],n=[0,0,0],i=[0,0,0],a=[0,0,0],O=[0,0,0],(d=[0,0,0])[0]=0,d[1]=0,d[2]=g,_[0]=0,_[1]=0,_[2]=0,e.C.pr(_,d,f,v,0),e.l.qd(s)?(n[0]=f[0],n[1]=f[1],n[2]=1,i[0]=1*Math.cos(o)-1*Math.sin(o),i[1]=1*Math.sin(o)+1*Math.cos(o)):(r=e.C.n(1,r,s)*Math.cos(s),n[0]=0,n[1]=0,f[2]+=Math.tan(1.570796326794897-e.l.J(s))*r*e.l.ub(1,s),i[0]=r*Math.cos(o)-r*Math.sin(o),i[1]=r*Math.sin(o)+r*Math.cos(o)),i[2]=f[2],e.C.pr(f,i,n,y,1),e.C.ey(y,v,a),e.C.ey(y,p,O),O=e.C.zu(a,O)/(e.C.Fn(a)*e.C.Fn(O)),O*=e.l.ub(1,m),o=Math.acos(O)*-e.l.ub(1,m),(0<b&&0<o||0>b&&0>o)&&(o=e.C.ba(o+3.141592653589793)),null!=c&&(c.j=h),null!=u&&(u.j=b),null!=l&&(l.j=o)}}},t.Bf=function(t,n,r,i,a,o,s,c){var u=[0,0,0],l=[0,0,0],h=[0,0,0],f=[0,0,0],d=[0,0,0],p=[0,0,0],b=[0,0,0],v=[0,0,0,0],y=new e.da(0),m=new e.da(0),g=new e.da(0),O=new e.da(0),j=new e.da(0),w=new e.da(0);if(null!=s&&null!=c)if(e.l.Ai(n))e.gh.Bf(t,r,i,a,o,s,c);else if(e.l.qd(a))null!=s&&(s.j=r),null!=c&&(c.j=i);else if(o=e.C.ba(o),0>a&&(a=e.l.J(a),o=e.C.ba(o+3.141592653589793)),r=e.C.ba(r),i=e.C.ba(i),1.570796326794897<e.l.J(i)&&(r=e.C.ba(r+3.141592653589793),i=e.l.ub(3.141592653589793,i)-i),e.l.V(e.l.J(i),1.570796326794897)||e.l.qd(i)||e.l.qd(o)||e.l.V(e.l.J(o),3.141592653589793))e.$k.Bf(t,n,r,i,a,o,s,c);else{var _=Math.sqrt(1-n);for(t=a/t,e.C.hk(1,n,i,0,0,O,j,w),u[0]=O.j,u[1]=j.j,u[2]=j.j,b[0]=0,b[1]=0,b[2]=-1*n*e.C.n(1,n,i)*Math.sin(i),O=e.C.n(1,n,i),j=e.C.ba(1.570796326794897-o),w=Math.sin(j),a=Math.cos(i),i=Math.sin(i),d[0]=O*a-i*w,d[1]=Math.cos(j),d[2]=(1-n)*O*i+a*w,0>o?e.C.pr(b,d,u,v,0):e.C.pr(b,u,d,v,0),u=Math.acos(v[2]/1),v=Math.atan2(-v[1],-v[0]),i=1-n,j=1+(d=Math.tan(u))*d/i,i=(-(O=2*b[2]*d/i)+(d=Math.sqrt(O*O-4*j*(b[2]*b[2]/i-1))))/(j*=2),O=(-O-d)/j,d=Math.tan(u),u=(i+O)/2,b=((j=d*i+b[2])+(d*O+b[2]))/2,d=e.C.wp(i-u,j-b),_=b/_*1.570796326794897,i=0;100>i&&(O=(O=e.C.gm(n,_))*O/Math.cos(_)*(Math.sin(_)-b*O/(1-n)),!e.l.qd(O));i++)_-=O;_=e.C.n(1,n,_)*Math.cos(_),b=1-d/(_=Math.sqrt((_-u)*(_+u))),b*=2-b,p=Math.acos(e.C.zu(p,l)/(e.C.Fn(p)*e.C.Fn(l))),p*=e.l.ub(1,l[0]),o=(e.C.q(_,b,e.C.Rj(b,p))+t*e.l.ub(1,o))/e.C.Hg(_,b),o=e.C.ba(1.570796326794897*o),o=e.C.kr(b,o),e.C.n(_,b,o),d=e.C.ba(v+r),r=Math.cos(d),o=Math.sin(d),h[0]=f[0]*r+f[1]*-o,h[1]=f[0]*o+f[1]*r,h[2]=f[2],e.C.sP(n,h[0],h[1],h[2],g,m,y),null!=s&&(s.j=m.j),null!=c&&(c.j=g.j)}},t}()}(Y||(Y={})),function(e){var t=function(){function t(t){this.Xa=null,this.eu=new e.b,this.fu=new e.b,this.a=t}return t.prototype.compare=function(e,t,n){return this.a.Hc(t,this.eu),this.a.Hc(e.ga(n),this.fu),this.eu.compare(this.fu)},t}(),n=function(){function t(t){this.Jf=new e.b,this.Lk=new e.b,this.a=t}return t.prototype.Hh=function(e){this.Jf.K(e)},t.prototype.compare=function(e,t){return this.a.Hc(e.ga(t),this.Lk),this.Jf.compare(this.Lk)},t}(),r=function(e){function t(t){var n=e.call(this,t.a,t.qa,!1)||this;return n.Ya=t,n}return X(t,e),t.prototype.compare=function(e,t,n){if(this.yg)return-1;var r=this.Ya.Ud.ao(this.Ya.Xh(t));e=e.ga(n);var i=this.Ya.Ud.ao(this.Ya.Xh(e));return this.Qm=n,this.CF(t,r,e,i)},t}(e.CD),i=function(e){function t(t){var n=e.call(this,t.a,t.qa)||this;return n.Ya=t,n}return X(t,e),t.prototype.compare=function(e,t){return this.yg?-1:(e=this.Ya.Ud.ao(this.Ya.Xh(e.ga(t))),this.Qm=t,this.DF(t,e))},t}(e.hN),a=function(){function a(){this.Nc=this.nf=this.Co=this.Ud=this.rh=this.Cd=this.eb=this.a=null,this.Tg=!1,this.Ch=this.$m=this.qe=this.Nk=this.th=this.Ik=this.Nf=this.ge=null,this.Eh=this.br=this.EB=this.qa=0,this.Dw=this.po=!1,this.So=new e.b,this.Vi=new e.b,this.eb=new e.ad(8),this.Cd=new e.ad(5),this.rh=new e.Hu,this.Ud=new e.Hu,this.Tg=!1,this.Ch=new e.b,this.Ch.ka(0,0),this.qa=0,this.Eh=-1,this.po=!1,this.a=null,this.nf=new e.bk,this.Nc=new e.bk,this.th=new e.ha(0),this.Nk=new e.AD,this.Nf=new e.ha(0),this.Ik=new e.ha(0),this.Co=new e.Ra}return a.prototype.uZ=function(t,n){var r=new e.xd;return r.HC(),t.Qc(r),this.zr(t),this.po=!1,this.qa=n,this.EB=n*n,n=this.SC(),t.Qc(r),n||(this.CR(),n||this.SC()),-1!=this.Eh&&(this.a.Xd(this.Eh),this.Eh=-1),this.a=null,this.po},a.prototype.yZ=function(e,t){this.zr(e),this.po=!1,this.qa=t,this.EB=t*t,this.Tg=!1,this.SC(),this.Tg||(this.Tg=1==e.$p(t,!0,!1)),-1!=this.Eh&&(this.a.Xd(this.Eh),this.Eh=-1),this.a=null},a.prototype.vg=function(e,t){return this.eb.S(e,0+t)},a.prototype.vC=function(e,t,n){this.eb.P(e,0+t,n)},a.prototype.Xh=function(e){return this.eb.S(e,2)},a.prototype.BY=function(e,t){this.eb.P(e,2,t)},a.prototype.DG=function(e,t){return this.eb.S(e,3+t)},a.prototype.kq=function(e){return this.eb.S(e,7)},a.prototype.$l=function(e,t){this.eb.P(e,7,t)},a.prototype.lq=function(e,t){return this.eb.S(e,3+this.jq(e,t))},a.prototype.Ar=function(e,t,n){this.eb.P(e,3+this.jq(e,t),n)},a.prototype.dT=function(e,t){return this.eb.S(e,5+this.jq(e,t))},a.prototype.Cr=function(e,t,n){this.eb.P(e,5+this.jq(e,t),n)},a.prototype.ts=function(e){return this.Cd.S(e,0)},a.prototype.xY=function(e,t){this.Cd.P(e,0,t)},a.prototype.Kz=function(e){return this.Cd.S(e,4)},a.prototype.wr=function(e,t){this.Cd.P(e,4,t)},a.prototype.pl=function(e){return this.Cd.S(e,1)},a.prototype.Bn=function(e,t){this.Cd.P(e,1,t)},a.prototype.Jz=function(e){return this.Cd.S(e,3)},a.prototype.ou=function(e,t){this.Cd.P(e,3,t)},a.prototype.mn=function(e){var t=this.Cd.Ke(),n=this.rh.Th();return this.xY(t,n),-1!=e?(this.rh.addElement(n,e),this.a.Qa(e,this.Eh,t),this.wr(t,this.a.Ua(e))):this.wr(t,-1),t},a.prototype.SQ=function(e){this.Cd.hd(e)},a.prototype.xE=function(e,t){this.rh.addElement(this.ts(e),t),this.a.Qa(t,this.Eh,e)},a.prototype.Vt=function(e){var t=this.eb.Ke(),n=this.Ud.Th();return this.BY(t,n),-1!=e&&this.Ud.addElement(n,e),t},a.prototype.yE=function(e,t){this.Ud.addElement(this.Xh(e),t)},a.prototype.Bv=function(e){this.eb.hd(e),0<=(e=this.th.ZF(e))&&this.th.kX(e)},a.prototype.nj=function(t,n){if(-1==this.vg(t,0))this.vC(t,0,n);else{if(-1!=this.vg(t,1))throw e.f.za();this.vC(t,1,n)}this.Qy(t,n)},a.prototype.Qy=function(e,t){var n=this.pl(t);if(-1!=n){var r=this.lq(n,t);this.Cr(r,t,e),this.Ar(e,t,r),this.Ar(n,t,e),this.Cr(e,t,n)}else this.Cr(e,t,e),this.Ar(e,t,e),this.Bn(t,e)},a.prototype.jq=function(e,t){return this.vg(e,0)==t?0:1},a.prototype.ln=function(e,t){var n,r=this.Jz(t);if(-1!=r&&(this.nf.zd(r,-1),this.ou(t,-1)),-1!=(r=this.pl(t))){var i=n=r;do{var a=!1,o=this.jq(n,t),s=this.DG(n,o);if(this.vg(n,o+1&1)==e){if(this.Dv(n),this.Ud.kh(this.Xh(n)),this.Bv(n),n==s){r=-1;break}r==n&&(r=this.pl(t),i=s,a=!0)}n=s}while(n!=i||a);if(-1!=r){do{o=this.jq(n,t),s=this.DG(n,o),this.vC(n,o,e),n=s}while(n!=i);-1!=(n=this.pl(e))?(i=this.lq(n,e),a=this.lq(r,e),i==n?(this.Bn(e,r),this.Qy(n,e),this.Bn(e,n)):a==r&&this.Qy(r,e),this.Ar(r,e,i),this.Cr(i,e,r),this.Ar(n,e,a),this.Cr(a,e,n)):this.Bn(e,r)}}for(r=this.ts(e),n=this.ts(t),i=this.rh.sc(n);-1!=i;i=this.rh.hb(i))this.a.Qa(this.rh.ga(i),this.Eh,e);this.rh.lz(r,n),this.SQ(t)},a.prototype.mV=function(e,t){var n=this.vg(e,0),r=this.vg(e,1),i=this.vg(t,0),a=this.vg(t,1);this.Ud.lz(this.Xh(e),this.Xh(t)),t==this.pl(n)&&this.Bn(n,e),t==this.pl(r)&&this.Bn(r,e),this.Dv(t),this.Bv(t),n==i&&r==a||r==i&&n==a||(this.Zn(n,this.So),this.Zn(i,this.Vi),this.So.qb(this.Vi)?(n!=i&&this.ln(n,i),r!=a&&this.ln(r,a)):(r!=i&&this.ln(r,i),n!=a&&this.ln(n,a)))},a.prototype.Dv=function(e){var t=this.vg(e,1);this.QF(e,this.vg(e,0)),this.QF(e,t)},a.prototype.QF=function(e,t){var n=this.lq(e,t),r=this.dT(e,t),i=this.pl(t);n!=e?(this.Ar(r,t,n),this.Cr(n,t,r),i==e&&this.Bn(t,n)):this.Bn(t,-1)},a.prototype.IE=function(e,t,n){var r=this.Ud.sc(e),i=this.Ud.ga(r);e=this.Qe(i);var a=this.Qe(this.a.T(i));for(this.a.Fr(i,t,n,!0),r=this.Ud.hb(r);-1!=r;r=this.Ud.hb(r)){i=this.Ud.ga(r);var o=this.Qe(i)==e;this.a.Fr(i,t,n,o)}r=t.nq(n,0).ac(),t=t.nq(n,t.ul(n)-1).wc(),this.IL(e,r),this.IL(a,t)},a.prototype.KF=function(e,t,n){var r=this.Xh(e),i=this.vg(e,0),a=this.vg(e,1),o=this.Vt(-1);for(this.th.add(o),this.$l(o,-3),this.Nf.add(o),this.nj(o,i),e=1,t=t.ul(n);e<t;e++)n=this.mn(-1),this.Ik.add(n),this.Nf.add(n),this.nj(o,n),o=this.Vt(-1),this.th.add(o),this.$l(o,-3),this.Nf.add(o),this.nj(o,n);for(this.nj(o,a),r=this.Ud.sc(r);-1!=r;r=this.Ud.hb(r))if(a=this.Ud.ga(r),this.Qe(a)==i){e=0;do{0<e&&(o=this.Nf.get(e-1),this.xE(o,a),-1==this.Kz(o)&&this.wr(o,this.a.Ua(a))),o=this.Nf.get(e),e+=2,this.yE(o,a),a=this.a.T(a)}while(e<this.Nf.size)}else{e=this.Nf.size-1;do{e<this.Nf.size-2&&(o=this.Nf.get(e+1),this.xE(o,a),0>this.Kz(o)&&this.wr(o,this.a.Ua(a))),o=this.Nf.get(e),e-=2,this.yE(o,a),a=this.a.T(a)}while(0<=e)}this.Nf.clear(!1)},a.prototype.Qe=function(e){return this.a.Na(e,this.Eh)},a.prototype.KJ=function(t,n,r){var i=this.vg(n,0),a=new e.b;this.Zn(i,a);var o=new e.b,s=this.vg(n,1);this.Zn(s,o);var c=r.ul(t),u=r.nq(t,0),l=new e.b;if(u.qq(l),!a.qb(l)){if(!this.Tg){var h=a.compare(this.Ch);0>h*(l=l.compare(this.Ch))&&(this.Tg=!0)}this.iG(i,this.Nf),this.Ik.add(i)}for(!this.Tg&&1<c&&(h=a.compare(o),u=u.wc(),(a.compare(u)!=h||u.compare(o)!=h||0>u.compare(this.Ch))&&(this.Tg=!0)),t=(u=r.nq(t,c-1)).wc(),o.qb(t)||(this.Tg||0>(h=o.compare(this.Ch))*(l=t.compare(this.Ch))&&(this.Tg=!0),this.iG(s,this.Nf),this.Ik.add(s)),this.Nf.add(n),o=0,s=this.Nf.size;o<s;o++)t=this.Nf.get(o),r=this.kq(t),e.ad.xH(r)&&(this.Nc.zd(r,-1),this.$l(t,-1)),t!=n&&-3!=this.kq(t)&&(this.th.add(t),this.$l(t,-3));this.Nf.clear(!1)},a.prototype.vP=function(e,t){this.ge.compare(this.Nc,this.Nc.ga(e),t),this.ge.yg&&(this.ge.ks(),this.bG(e,t))},a.prototype.bG=function(t,n){this.po=!0,t=this.Nc.ga(t),n=this.Nc.ga(n);var r=this.Ud.ao(this.Xh(t)),i=this.Ud.ao(this.Xh(n)),a=this.a.ec(r);null==a&&(null==this.qe&&(this.qe=new e.zb),this.a.gd(r,this.qe),a=this.qe),null==(r=this.a.ec(i))&&(null==this.$m&&(this.$m=new e.zb),this.a.gd(i,this.$m),r=this.$m),this.Nk.gp(a),this.Nk.gp(r),this.Nk.Ia(this.qa,!0)&&(this.Tg=!0),this.mL(t,n,-1,this.Nk),this.Nk.clear()},a.prototype.SR=function(t,n){this.po=!0,n=this.Nc.ga(n);var r=this.Ud.ao(this.Xh(n)),i=this.a.ec(r);null==i&&(null==this.qe&&(this.qe=new e.zb),this.a.gd(r,this.qe),i=this.qe),r=this.oG(t),this.Nk.gp(i),this.a.bj(r,this.Co),this.Nk.rA(this.qa,this.Co,!0),this.mL(n,-1,t,this.Nk),this.Nk.clear()},a.prototype.ST=function(){if(0!=this.th.size)for(;0!=this.th.size;){if(this.th.size>Math.max(100,this.a.pd)){this.th.clear(!1),this.Tg=!0;break}var e=this.th.Gc();this.th.Rf(),this.$l(e,-1),-1!=this.pU(e)&&this.RT(e),this.oo=!1}},a.prototype.RT=function(e){if(this.oo){var t=this.Nc.ev(this.BI,this.wI,e,!0);this.oo=!1}else t=this.Nc.wE(e);-1==t?this.mV(this.Nc.ga(this.Nc.rG()),e):(this.$l(e,t),this.ge.yg&&(this.ge.ks(),this.bG(this.ge.Qm,t)))},a.prototype.pU=function(t){var n=this.vg(t,0);if(t=this.vg(t,1),this.Zn(n,this.So),this.Zn(t,this.Vi),e.b.oc(this.So,this.Vi)<=this.EB)return this.Tg=!0,-1;var r=this.So.compare(this.Ch),i=this.Vi.compare(this.Ch);return 0>=r&&0<i?t:0>=i&&0<r?n:-1},a.prototype.AR=function(){var t=new e.ha(0);t.Db(this.a.pd);for(var n=this.a.rr(),r=n.next();-1!=r;r=n.next())-1!=this.a.Na(r,this.Eh)&&t.add(r);this.a.Vx(t,t.size),this.BR(t)},a.prototype.BR=function(n){this.nf.clear(),this.nf.Le(n.size),this.nf.kp(new t(this.a));var r=new e.b;r.Tc();for(var i=-1,a=new e.b,o=0,s=n.size;o<s;o++){var c=n.get(o);this.a.Hc(c,a),a.qb(r)?(c=this.a.Na(c,this.Eh),this.ln(i,c)):(i=this.Qe(c),this.a.Hc(c,r),c=this.nf.Qn(c),this.ou(i,c))}},a.prototype.CR=function(){var t=new e.ha(0);t.Db(this.a.pd);for(var n=this.nf.sc(-1);-1!=n;n=this.nf.hb(n))t.add(this.nf.ga(n));this.nf.clear(),this.a.Vx(t,t.size),n=0;for(var r=t.size;n<r;n++){var i=t.get(n),a=this.Qe(i);i=this.nf.Qn(i),this.ou(a,i)}},a.prototype.iG=function(t,n){var r=this.pl(t);if(-1!=r){var i=r;do{e.ad.xH(this.kq(i))&&n.add(i),i=this.lq(i,t)}while(i!=r)}},a.prototype.IL=function(e,t){for(e=this.rh.sc(this.ts(e));-1!=e;e=this.rh.hb(e))this.a.wf(this.rh.ga(e),t)},a.prototype.mL=function(e,t,n,r){this.Dv(e),-1!=t&&this.Dv(t),this.KJ(0,e,r),-1!=t&&this.KJ(1,t,r),-1!=n&&(r.Jf.w(this.So),this.Zn(n,this.Vi),this.Vi.qb(this.So)||this.Ik.add(n)),n=0;for(var i=this.Ik.size;n<i;n++){var a=this.Ik.get(n),o=this.Jz(a);-1!=o&&(this.nf.zd(o,-1),this.ou(a,-1))}for(n=this.Xh(e),i=-1!=t?this.Xh(t):-1,this.IE(n,r,0),-1!=t&&this.IE(i,r,1),this.KF(e,r,0),-1!=t&&this.KF(t,r,1),this.Ud.kh(n),this.Bv(e),-1!=t&&(this.Ud.kh(i),this.Bv(t)),n=0,i=this.Ik.size;n<i;n++)(a=this.Ik.get(n))==this.br&&(this.Dw=!0),-1==(o=this.Jz(a))&&(-1==(o=this.nf.wE(this.oG(a)))?(e=this.Qe(this.nf.ga(this.nf.rG())),this.ln(e,a)):this.ou(a,o));this.Ik.clear(!1)},a.prototype.Zn=function(e,t){this.a.PG(this.Kz(e),t)},a.prototype.oG=function(e){return this.rh.ao(this.ts(e))},a.prototype.SC=function(){this.Dw=!1,this.br=-1,null==this.ge&&(this.Nc.xw=!1,this.ge=new r(this),this.Nc.so=this.ge);var t=new e.ha(0),a=null,o=null;this.wI=this.BI=-1,this.oo=!1;for(var s=this.nf.sc(-1);-1!=s;){this.oo=!1;var c=this.nf.ga(s);this.br=this.Qe(c),this.a.Hc(c,this.Ch),this.ge.dL(this.Ch.y,this.Ch.x);var u=this.pl(this.br),l=-1==u;if(!l){c=u;do{var h=this.kq(c);-1==h?(this.th.add(c),this.$l(c,-3)):-3!=h&&t.add(h),c=this.lq(c,this.br)}while(c!=u)}if(0<t.size){for(this.oo=1==t.size&&1==this.th.size,l=0,u=t.size;l<u;l++)c=this.Nc.ga(t.get(l)),this.$l(c,-2);var f=-2,d=-2;for(l=0,u=t.size;l<u;l++){if(h=t.get(l),-2==f){var p=this.Nc.Be(h);-1!=p?(c=this.Nc.ga(p),-2!=(c=this.kq(c))&&(f=p)):f=-1}if(-2==d&&(-1!=(h=this.Nc.hb(h))?(c=this.Nc.ga(h),-2!=(c=this.kq(c))&&(d=h)):d=-1),-2!=f&&-2!=d)break}for(l=0,u=t.size;l<u;l++)h=t.get(l),c=this.Nc.ga(h),this.Nc.zd(h,-1),this.$l(c,-1);t.clear(!1),this.BI=-1!=f?f:-1,this.wI=-1!=d?d:-1,-1!=f&&-1!=d?this.oo||this.vP(f,d):-1==f&&-1==d&&(this.oo=!1)}else l&&(null==a&&(a=new i(this)),a.Hh(this.Ch),this.Nc.yK(a),a.yg&&(a.ks(),this.SR(this.br,a.Qm)));this.ST(),this.Dw?(this.Dw=!1,null==o&&(o=new n(this.a)),o.Hh(this.Ch),s=this.nf.yK(o)):s=this.nf.hb(s)}return this.po},a.prototype.zr=function(t){for(this.a=t,this.Eh=this.a.Kd(),this.eb.Le(t.pd+32),this.Cd.Le(t.pd),this.rh.ku(t.pd),this.rh.vn(t.pd),this.Ud.ku(t.pd+32),this.Ud.vn(t.pd+32),t=this.a.kd;-1!=t;t=this.a.Ae(t))if(e.R.Bc(this.a.dc(t)))for(c=this.a.Kb(t);-1!=c;c=this.a.Qb(c)){var n=this.a.Ha(c),r=this.a.Za(c),i=this.mn(r),a=this.Vt(r);for(this.nj(a,i),u=this.a.T(r),r=0,n-=2;r<n;r++){var o=this.a.T(u),s=this.mn(u);this.nj(a,s),a=this.Vt(u),this.nj(a,s),u=o}this.a.Lb(c)?(s=this.mn(u),this.nj(a,s),a=this.Vt(u),this.nj(a,s),this.nj(a,i)):(s=this.mn(u),this.nj(a,s))}else for(var c=this.a.Kb(t);-1!=c;c=this.a.Qb(c)){var u=this.a.Za(c);for(i=0,n=this.a.Ha(c);i<n;i++)this.mn(u),u=this.a.T(u)}this.AR()},a}();e.yD=a}(Y||(Y={})),function(e){var t=function(t){function n(r,i,a){var o=t.call(this)||this;if(void 0!==r)if(void 0!==a){o.description=e.ke.ug();var s=new e.Id;s.H(r,i,a),o.LC(s)}else if(void 0!==i)o.description=e.ke.ug(),o.nb(r,i);else if(r instanceof e.oa)o.description=r;else if(r instanceof e.b)o.description=e.ke.ug(),o.nb(r);else{if(!(r instanceof n))throw e.f.I();o.description=r.description,o.nb(r.Ce(),r.lf()),null!==r.ia&&(o.ia=r.ia.slice(0))}else o.description=e.ke.ug();return o}return X(n,t),n.prototype.w=function(t){if(void 0===t){if(this.Ac())throw e.f.Y("This operation should not be performed on an empty geometry.");return(t=new e.b).ka(this.ia[0],this.ia[1]),t}if(this.Ac())throw e.f.Y("This operation should not be performed on an empty geometry.");t.ka(this.ia[0],this.ia[1])},n.prototype.nb=function(e,t){"number"==typeof e?(this.vc(),null==this.ia&&this.Mp(),this.ia[0]=e,this.ia[1]=t):(this.vc(),this.nb(e.x,e.y))},n.prototype.kA=function(){if(this.Ac())throw e.f.Y("This operation should not be performed on an empty geometry.");var t=new e.Id;return t.x=this.ia[0],t.y=this.ia[1],t.z=this.description.VG()?this.ia[2]:e.oa.me(1),t},n.prototype.LC=function(t){this.vc();var n=this.hasAttribute(1);n||e.oa.pH(1,t.z)||(this.le(1),n=!0),null==this.ia&&this.Mp(),this.ia[0]=t.x,this.ia[1]=t.y,n&&(this.ia[2]=t.z)},n.prototype.Ce=function(){if(this.Ac())throw e.f.Y("This operation should not be performed on an empty geometry.");return this.ia[0]},n.prototype.KC=function(e){this.setAttribute(0,0,e)},n.prototype.lf=function(){if(this.Ac())throw e.f.Y("This operation should not be performed on an empty geometry.");return this.ia[1]},n.prototype.eL=function(e){this.setAttribute(0,1,e)},n.prototype.vT=function(){return this.Rc(1,0)},n.prototype.$Y=function(e){this.setAttribute(1,0,e)},n.prototype.OS=function(){return this.Rc(2,0)},n.prototype.KY=function(e){this.setAttribute(2,0,e)},n.prototype.xc=function(){return this.lG(3,0)},n.prototype.PK=function(e){this.setAttribute(3,0,e)},n.prototype.Rc=function(t,n){var r=this.description.Yf(t);return 0<=r?this.ia[this.description.dk(r)+n]:e.oa.me(t)},n.prototype.lG=function(t,n){var r=this.description.Yf(t);return 0<=r?this.ia[this.description.dk(r)+n]:e.oa.me(t)},n.prototype.setAttribute=function(e,t,n){this.vc();var r=this.description.Yf(e);0>r&&(this.le(e),r=this.description.Yf(e)),null==this.ia&&this.Mp(),this.ia[this.description.dk(r)+t]=n},n.prototype.F=function(){return 33},n.prototype.pb=function(){return 0},n.prototype.Ka=function(){this.vc(),null!=this.ia&&(this.ia[0]=NaN,this.ia[1]=NaN)},n.prototype.Ln=function(t){if(null!=this.ia){for(var n=e.ke.ox(t,this.description),r=[],i=0,a=0,o=t.Ca;a<o;a++){var s=t.jd(a),c=e.oa.Sa(s);if(-1==n[a]){var u=e.oa.me(s);for(s=0;s<c;s++)r[i]=u,i++}else for(u=this.description.dk(n[a]),s=0;s<c;s++)r[i]=this.ia[u],i++,u++}this.ia=r}this.description=t},n.prototype.Mp=function(){this.pK(this.description.Ge.length),n.PE(this.description.Ge,this.ia,this.description.Ge.length),this.ia[0]=NaN,this.ia[1]=NaN},n.prototype.Qc=function(t){if(t instanceof e.xd){if(!this.Ac()){var n=this.w();t.Zj(n,n),this.nb(n)}}else this.Ac()||(this.le(1),n=this.kA(),this.LC(t.vp(n)))},n.prototype.copyTo=function(t){if(33!=t.F())throw e.f.I();t.vc(),null==this.ia?(t.Ka(),t.ia=null,t.rg(this.description)):(t.rg(this.description),t.pK(this.description.Ge.length),n.PE(this.ia,t.ia,this.description.Ge.length))},n.prototype.Ga=function(){return new n(this.description)},n.prototype.u=function(){return this.Ac()},n.prototype.Ac=function(){return null==this.ia||isNaN(this.ia[0])||isNaN(this.ia[1])},n.prototype.qn=function(e){e.Ka(),this.description!=e.description&&e.rg(this.description),e.Nb(this)},n.prototype.s=function(e){this.Ac()?e.Ka():(e.o=this.ia[0],e.A=this.ia[1],e.v=this.ia[0],e.B=this.ia[1])},n.prototype.ip=function(e){if(this.Ac())e.Ka();else{var t=this.kA();e.o=t.x,e.A=t.y,e.ef=t.z,e.v=t.x,e.B=t.y,e.Lg=t.z}},n.prototype.Qf=function(t,n){var r=new e.uc;return this.Ac()?(r.Ka(),r):(t=this.Rc(t,n),r.fa=t,r.ja=t,r)},n.prototype.pK=function(t){if(null==this.ia)this.ia=e.L.Xf(t);else if(this.ia.length<t){for(var n=this.ia.slice(0),r=this.ia.length;r<t;r++)n[r]=0;this.ia=n}},n.PE=function(e,t,n){if(0<n)for(n=0;n<e.length;n++)t[n]=e[n]},n.prototype.Ib=function(e){if(e==this)return!0;if(!(e instanceof n)||this.description!=e.description)return!1;if(this.Ac())return!!e.Ac();for(var t=0,r=this.description.Ge.length;t<r;t++)if(this.ia[t]!=e.ia[t])return!1;return!0},n.prototype.fc=function(){var t=this.description.fc();if(!this.Ac())for(var n=0,r=this.description.Ge.length;n<r;n++){var i=this.ia[n];i=e.L.truncate(i^i>>>32),t=e.L.Zh(i,t)}return t},n.prototype.sg=function(){return null},n}(e.R);e.Ra=t}(Y||(Y={})),function(e){var t=function(){function e(e,t,n){void 0!==e&&(this.x=e,this.y=t,this.z=n)}return e.construct=function(t,n,r){var i=new e;return i.x=t,i.y=n,i.z=r,i},e.prototype.H=function(e,t,n){this.x=e,this.y=t,this.z=n},e.prototype.Tx=function(){this.z=this.y=this.x=0},e.prototype.normalize=function(){var e=this.length();0==e&&(this.x/=e,this.y/=e,this.z/=e)},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y,this.z-t.z)},e.prototype.Gg=function(t){new e(this.x*t,this.y*t,this.z*t)},e.prototype.iE=function(){this.x=NaN},e.prototype.Ey=function(){return isNaN(this.x)},e.prototype.Vh=function(e){return this.x*e.x+this.y*e.y+this.z*e.z},e}();e.Id=t}(Y||(Y={})),function(e){var t=function(){function t(e,t,n){this.mx=this.mB=null,this.eg=t,this.YU=t.y-n,this.XU=t.y+n,this.ir=0,this.OA=e,this.qa=n,this.jV=n*n,this.PA=0!=n,this.sw=!1}return t.prototype.result=function(){return 0!=this.ir?1:0},t.prototype.hO=function(t){return t=t.cc(t.ae(this.eg,!1)),e.b.oc(t,this.eg)<=this.jV},t.prototype.TF=function(e){if(!this.PA&&(this.OA&&this.eg.qb(e.ac())||this.eg.qb(e.wc())))this.sw=!0;else if(e.na==this.eg.y&&e.na==e.ma){if(this.OA&&!this.PA){var t=Math.max(e.ra,e.pa);this.eg.x>Math.min(e.ra,e.pa)&&this.eg.x<t&&(this.sw=!0)}}else{var n=!1;if(t=Math.max(e.ra,e.pa),this.eg.x>t?n=!0:this.eg.x>=Math.min(e.ra,e.pa)&&(n=0<e.uq(!0,this.eg.y,this.mx,null)&&this.mx[0]<=this.eg.x),n){if(this.eg.y==e.ac().y){if(this.eg.y<e.wc().y)return}else if(this.eg.y==e.wc().y&&this.eg.y<e.ac().y)return;this.ir=this.OA?1^this.ir:this.ir+(e.ac().y>e.wc().y?1:-1)}}},t.prototype.cu=function(e){var t=e.Qf(0,1);if(t.fa>this.XU||t.ja<this.YU)return!1;if(this.PA&&this.hO(e))return!0;if(t.fa>this.eg.y||t.ja<this.eg.y)return!1;if(null==this.mB&&(this.mB=[null,null,null,null,null]),null==this.mx&&(this.mx=[0,0,0]),0<(t=e.QG()))for(e=0;e<t;e++){var n=this.mB[e].get();if(this.TF(n),this.sw)return!0}else if(this.TF(e),this.sw)return!0;return!1},t.WD=function(e,n,r){for(n=new t(0==e.$n(),n,r),e=e.Ba();e.Ta();)for(;e.Aa();)if(r=e.aa(),n.cu(r))return-1;return n.result()},t.XN=function(n,r,i,a){var o=new e.g;n.Zb(o),o.O(a,a);var s=new t(0==n.$n(),i,a);n=n.Ba();var c=new e.g;for(c.H(o),c.v=i.x+a,c.A=i.y-a,c.B=i.y+a,a=(i=r.Vz(c,a)).next();-1!=a;a=i.next())if(n.Rb(r.ga(a)),n.Aa()&&(a=n.aa(),s.cu(a)))return-1;return s.result()},t.Jm=function(n,r,i){if(n.u())return 0;var a=new e.g;if(n.Zb(a),a.O(i,i),!a.contains(r))return 0;if(null!=(a=n.ib)){var o=a.oi;if(null!=o){if(1==(o=o.Xl(r.x,r.y)))return 1;if(0==o)return 0}if(null!=(a=a.Hb))return t.XN(n,a,r,i)}return t.WD(n,r,i)},t.yU=function(n,r,i,a){if(n.u())return 0;var o=new e.g;if(n.Zb(o),o.O(a,a),!o.contains(r,i))return 0;if(null!=(o=n.ib)&&null!=(o=o.oi)){if(1==(o=o.Xl(r,i)))return 1;if(0==o)return 0}return t.WD(n,e.b.construct(r,i),a)},t.wU=function(e,n,r){return n.u()?0:t.Jm(e,n.w(),r)},t.zA=function(n,r,i,a,o){var s=new e.g;if(n.Zb(s),s.O(a,a),!s.contains(i))return 0;var c=new t(!0,i,a);if(null!=o){var u=new e.g;for(u.H(s),u.v=i.x+a,u.A=i.y-a,u.B=i.y+a,n=n.Ba(),u=(a=o.Vz(u,a)).next();-1!=u;u=a.next())if(n.Rb(o.ga(u),r),n.Aa()&&n.Pa==r&&(u=n.aa(),c.cu(u)))return-1}else if((n=n.Ba()).oC(r),n.Ta())for(;n.Aa();)if(u=n.aa(),c.cu(u))return-1;return c.result()},t.yA=function(n,r,i){var a=new e.g;if(n.Zb(a),a.O(i,i),!a.contains(r))return 0;for(r=new t(!1,r,i),i=n.Ba();i.Ta();)if(!(0>n.rm(i.Pa))){for(r.ir=0;i.Aa();)if(a=i.aa(),r.cu(a))return-1;if(0!=r.ir)return 1}return r.result()},t.x_=function(n,r,i,a,o){var s=n.Ba();if(s.oC(r),!s.Ta()||!s.Aa())throw e.f.Y("corrupted geometry");for(r=2;2==r&&s.Aa();)r=s.aa().cc(.5),r=t.zA(n,i,r,a,o);if(2==r)throw e.f.Y("internal error");return 1==r},t.Wl=function(e,t){return!(16>(e=e.D()))&&2*e+Math.log(e)/Math.log(2)*t<1*e*t},t}();e.Oe=t}(Y||(Y={})),function(e){var t=function(e){function t(t){return e.call(this,!0,t)||this}return X(t,e),t.prototype.Ga=function(){return new t(this.description)},t.prototype.pb=function(){return 2},t.prototype.F=function(){return 1736},t.prototype.jH=function(e,t,n){this.dU(e,t,n)},t.prototype.DS=function(){this.VS()},t}(e.Zk);e.Fa=t}(Y||(Y={})),function(e){!function(e){e[e.PiPOutside=0]="PiPOutside",e[e.PiPInside=1]="PiPInside",e[e.PiPBoundary=2]="PiPBoundary"}(e.ZM||(e.ZM={})),e.Zc=function(){function t(){}return t.wH=function(t,n,r){return 0==(t=e.Oe.wU(t,n,r))?0:1==t?1:2},t.Td=function(t,n,r){return 0==(t=e.Oe.Jm(t,n,r))?0:1==t?1:2},t.xU=function(t,n,r,i){return 0==(t=e.Oe.yU(t,n,r,i))?0:1==t?1:2},t.n0=function(t,n,r,i){return 0==e.Oe.zA(t,n,r,i,null)?0:1},t.yA=function(t,n,r){return 0==e.Oe.yA(t,n,r)?0:1},t.BZ=function(n,r,i,a,o){if(r.length<i||o.length<i)throw e.f.I();for(var s=0;s<i;s++)o[s]=t.Td(n,r[s],a)},t.CZ=function(n,r,i,a,o){if(r.length/2<i||o.length<i)throw e.f.I();for(var s=0;s<i;s++)o[s]=t.xU(n,r[2*s],r[2*s+1],a)},t.yL=function(n,r,i,a,o){if(1736==n.F())t.BZ(n,r,i,a,o);else{if(197!=n.F())throw e.f.Y("invalid_call");var s=new e.g;n.s(s),t.iO(s,r,i,a,o)}},t.J0=function(n,r,i,a,o){if(1736==n.F())t.CZ(n,r,i,a,o);else{if(197!=n.F())throw e.f.Eb();var s=new e.g;n.s(s),t.jO(s,r,i,a,o)}},t.iO=function(t,n,r,i,a){if(n.length<r||a.length<r)throw e.f.I();if(t.u())for(i=0;i<r;i++)a[i]=0;else for(t.O(.5*-i,.5*-i),t.O(.5*i,.5*i),i=0;i<r;i++)t.contains(n[i])?a[i]=1:t.contains(n[i])?a[i]=2:a[i]=0},t.jO=function(t,n,r,i,a){if(n.length/2<r||a.length<r)throw e.f.I();if(t.u())for(i=0;i<r;i++)a[i]=0;else for(t.O(.5*-i,.5*-i),t.O(.5*i,.5*i),i=0;i<r;i++)t.contains(n[2*i],n[2*i+1])?a[i]=1:t.contains(n[2*i],n[2*i+1])?a[i]=2:a[i]=0},t.EZ=function(e,t,n,r,i){for(var a=0;a<n;a++)i[a]=e.Zs(t[a],r)?2:0},t.DZ=function(e,t,n,r,i){var a=e.ib,o=null;null!=a&&(o=a.oi),a=n;for(var s=0;s<n;s++)if(i[s]=1,null!=o){var c=t[s];0==o.Xl(c.x,c.y)&&(i[s]=0,a--)}if(0!=a)for(e=e.Ba();e.Ta()&&0!=a;)for(;e.Aa()&&0!=a;)for(o=e.aa(),s=0;s<n&&0!=a;s++)1==i[s]&&o.Zs(t[s],r)&&(i[s]=2,a--);for(s=0;s<n;s++)1==i[s]&&(i[s]=0)},t.zL=function(n,r,i,a,o){var s=n.F();if(1607==s)t.DZ(n,r,i,a,o);else{if(!e.R.Ic(s))throw e.f.Y("Invalid call.");t.EZ(n,r,i,a,o)}},t}()}(Y||(Y={})),function(e){var t=function(e){function t(t,n){if(2==arguments.length){var r=e.call(this,!1,t.description)||this;r.xf(t),r.lineTo(n)}else r=e.call(this,!1,t)||this;return r}return X(t,e),t.prototype.Ga=function(){return new t(this.description)},t.prototype.pb=function(){return 1},t.prototype.F=function(){return 1607},t.prototype.jH=function(e,t,n){this.eU(e,t,n)},t}(e.Zk);e.Oa=t}(Y||(Y={})),function(e){var t=function(){function t(){}return t.prototype.progress=function(){return!0},t.Sp=function(t){if(null!=t&&!t.progress(-1,-1))throw e.f.ED()},t}();e.Ep=t}(Y||(Y={})),function(e){var t;(t=e.XL||(e.XL={}))[t.clipWithInputHorizon=1]="clipWithInputHorizon",t[t.clipWithOutputHorizon=2]="clipWithOutputHorizon";var n=function(){function e(){this.ll=3,this.qz=this.rv=NaN}return e.prototype.CT=function(){return this.Ps(1)},e.prototype.DT=function(){return this.Ps(2)},e.prototype.Ps=function(e){return 0!=(this.ll&e)},e.prototype.Cf=function(){var t=new e;return t.rv=this.rv,t.qz=this.qz,t.ll=this.ll,t},e}();e.g_=n,function(e){e[e.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon",e[e.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"}(e.YL||(e.YL={}));var r=function(){function e(){this.ll=0}return e.prototype.Ps=function(e){return 0!=(this.ll&e)},e.$d=function(t){var n=new e;return n.ll=t.ll,n},e.prototype.uN=function(e){this.ll=e.ll},e}();e.h_=r;var i=function(){function t(t,n,r){this.ee=t,this.Je=n,this.cg=new e.g,this.cg.H(r),this.TU=t.fc()+n.fc()+this.cg.fc().toString()}return t.prototype.fc=function(){return this.TU},t.prototype.Ib=function(e){return this==e||this.ee.Ib(e.ee)&&this.Je.Ib(e.Je)&&this.cg.Ib(e.cg)},t}();e.p_=i,i=function(){function t(){this.Je=this.ee=null,this.eI=new n,this.fI=new r,this.cx=this.He=null,this.Wq=this.xl=!0}return t.os=function(e,n,r,i){var a;void 0===i&&(i=null),void 0===a&&(a=null);var o=new t;return o.Jp(e,n,r,i,a),o},t.prototype.Jp=function(t,n,r,i,a){if(null==t||null==n)throw e.f.Y("invalidArgument");if(this.ee=t,this.Je=n,this.Wq=this.xl=!1,null!=i&&(this.eI=i.Cf()),null!=a&&this.fI.uN(a),a=!1,1==n.Fb()&&null!=i&&(i=i.rv,isNaN(i)||0==i||(a=!0)),t==n)this.xl=!a,this.Wq=!0;else{i=t.Fb();var o=n.Fb();if(0==i||0==o){if(null!=r)throw e.f.I();null!=t.Ld()&&null!=n.Ld()&&(this.xl=t.Ld().Ib(n.Ld()))}else 3==i||3==o?this.xl=t.Ib(n):this.ee.FT(this.Je)?this.xl=!a:this.xl=!1,this.He=r,null!=this.He&&this.He.Px(),this.Wq=(null==this.He||0==this.He.count())&&this.ee.hc().Ib(this.Je.hc())}this.ML()},t.prototype.Qv=function(){var e=new t;return e.ee=this.Je,e.Je=this.ee,null!=this.He&&(e.He=this.He.Qv()),e.xl=this.xl,e.Wq=this.Wq,e.ML(),e},t.prototype.xq=function(){return this.xl},t.prototype.BS=function(){return this.eI.Cf()},t.prototype.Ib=function(e){return e==this||!!(e instanceof t&&this.ee.Ib(e.ee)&&this.Je.Ib(e.Je))&&(this.He==e.He||!(null==this.He||null==e.He||!this.He.Ib(e.He)))},t.prototype.ML=function(){this.cx=new e.Bp(this)},t.I0={},t}(),e.Ur=i}(Y||(Y={})),function(e){var t=function(){function t(){}return t.Wp=function(e){return e*t.UX},t.Ux=function(e,n){return t.qQ(n-e)},t.rQ=function(t){return-360<=t&&720>t?(0>t?t+=360:360<=t&&(t-=360),t):(0>(t=e.Tb.ZL(t))&&(t+=360),t)},t.qQ=function(e){return 180<(e=t.rQ(e))&&(e-=360),e},t.S_=.0174532925199433,t.UX=57.29577951308232,t}();e.Nr=t,e.Lh=function(){function n(){}return n.qj=function(t,n){var r=new e.g;t.s(r);var i=e.ab.nh(n),a=new e.g;return a.H(i),a.o=r.o,a.v=r.v,a.O(.01*a.ca(),0),n=e.la.Qd(n,r,!1),a.contains(r)?t:e.Yd.clip(t,a,n,0)},n.Ss=function(t,r,i,a,o){if(!e.ab.Cc(r))throw e.f.I();var s=e.la.Ng(r,t,!1),c=e.ab.nh(r),u=e.ab.hc(r),l=u.Ld().gi,h=e.ab.cw(u);u=e.ab.Mv(u),h*=2-h;var f=new e.uc;c.sn(f);var d=[[0,0],[0,0]];if(2==e.je.Fb(r)?a?(d[0][0]=n.nn(o,f),d[0][1]=c.cq(),e.ab.du(),c=d[0][0]*l):(d[0][0]=c.lk(),d[0][1]=o,e.ab.du(),c=d[0][1]*l):c=o*l,!a&&0!=c)throw e.f.I();var p=new e.da,b=new e.Yc;t=b.Bb(t);for(var v=[0],y=new e.b,m=new e.b,g=new e.b,O=new e.b,j=new e.b,w=new e.b,_=b.Kb(t);-1!=_;_=b.Qb(_)){var x=b.Za(_);b.w(x,g);for(var k=!1,S=x=b.T(x);-1!=S;S=b.T(S)){if(S==x){if(k)break;k=!0}if(b.w(S,O),a&&s<o-g.x&&O.x-o>s||s<o-O.x&&g.x-o>s||!a&&s<-g.y&&O.y>s||s<-O.y&&g.y>s)do{if(!(Math.abs(g.x-O.x)>=.5*f.N())){if(2==e.je.Fb(r)?(d[0][0]=n.nn(g.x,f),d[0][1]=g.y,d[1][0]=n.nn(O.x,f),d[1][1]=O.y,e.ab.uX(),j.x=d[0][0]*l,j.y=d[0][1]*l,w.x=d[1][0]*l,w.y=d[1][1]*l):(j.x=g.x*l,j.y=g.y*l,w.x=O.x*l,w.y=O.y*l),w.x=6.283185307179586*(O.x-g.x)/f.N()+j.x,a){if(m.x=c,m.y=n.uA(u,h,j,w,c,i),isNaN(m.y))break}else{if(m.x=n.sA(u,h,j,w,i),isNaN(m.x))break;m.y=0}e.gb.Ad(u,h,j.x,j.y,w.x,w.y,p,null,null,i);var E=p.j;e.gb.Ad(u,h,j.x,j.y,m.x,m.y,p,null,null,i);var T=p.j;2==e.je.Fb(r)?(d[0][0]=m.x/l,d[0][1]=m.y/l,e.ab.pS(),a?(y.y=d[0][1],y.x=o):(y.x=n.Ws(d[0][0],g.x,O.x,f),y.y=o)):a?(y.x=o,y.y=m.y/l):(y.x=n.Ws(m.x/l,g.x,O.x,f),y.y=o),v[0]=0<E?e.L.Yj(T/E,0,1):.5,0!=v[0]&&1!=v[0]&&(E=b.Ma(S),b.em(E,v,1),b.nb(b.T(E),y.x,y.y))}}while(0);g.K(O)}}return b.ye(t)},n.vm=function(t,r,i,a,o){if(t.u())return t;var s=e.ab.Sd(r);return n.aq(t,i-180*s,360*s,r,a,o,!0)},n.uA=function(t,r,i,a,o,s){if(3.141592653589793<=Math.abs(i.x-a.x)||!n.mo(i.x,a.x,o))return NaN;if(i.x>a.x)var c=a;else c=i,i=a;a=new e.da(0);var u=new e.da(0),l=new e.da(0);e.gb.Ad(t,r,c.x,c.y,i.x,i.y,u,a,null,s);var h=u.j,f=0,d=1,p=new e.b;for(p.K(c);h*(d-f)>1e-12*t;){var b=.5*(f+d);if(e.gb.tj(t,r,c.x,c.y,h*b,a.j,u,l,s),p.x=u.j,p.y=l.j,p.x==o)break;if(n.mo(c.x,p.x,o))d=b;else{if(!n.mo(i.x,p.x,o))return NaN;f=b}}return p.y},n.mo=function(e,n,r){return e=t.Wp(e),n=t.Ux(e,t.Wp(n)),0==(r=t.Ux(e,t.Wp(r)))||0<n&&0<r&&r<=n||0>n&&0>r&&r>=n},n.nn=function(e,t){var n=t.ja-t.fa;return t.ru(e-Math.floor((e-t.fa)/n)*n)},n.Ws=function(t,n,r,i){var a=new e.uc;for(a.H(n,r),r=i.N(),t=Math.floor((t-n)/r)*r+t,a=a.hf();Math.abs(t-a)>Math.abs(t+r-a);)t+=r;return t},n.sA=function(t,n,r,i,a){if(r.y>i.y)var o=i;else o=r,r=i;if((i=new e.uc).H(o.y,r.y),!i.contains(0)||3.141592653589793<=Math.abs(o.x-r.x))return NaN;if(o.x==r.x)return o.x;var s=new e.da(0),c=new e.da(0),u=new e.da(0);e.gb.Ad(t,n,o.x,o.y,r.x,r.y,c,s,null,a);var l=c.j,h=0,f=1,d=new e.b;for(d.K(o);l*(f-h)>1e-12*t;){var p=.5*(h+f);if(e.gb.tj(t,n,o.x,o.y,l*p,s.j,c,u,a),d.x=c.j,d.y=u.j,i.H(o.y,d.y),0==d.y)break;if(i.contains(0))f=p;else{if(i.H(r.y,d.y),!i.contains(0))return NaN;h=p}}return d.x},n.aq=function(t,n,r,i,a,o,s){var c=new e.g;if(t.s(c),c.u())return t;var u=new e.uc;c.sn(u);var l=new e.uc;if(l.H(n,n+r),l.contains(u)&&l.ja!=u.ja)return t;var h=new e.g;h.H(c);var f=t.F();if(33==f)return((c=(h=a?t:t.Cf()).Ce())<l.fa||c>=l.ja||s&&c==l.ja)&&(c+=Math.ceil((l.fa-c)/r)*r,c=l.ru(c),h.KC(c)),h;if(550==f){for(i=(h=a?t:t.Cf()).Va(0),f=2*h.D(),t=!1,a=0;a<f;a+=2)((c=i.read(a))<l.fa||c>=l.ja||s&&c==l.ja)&&(t=!0,c+=Math.ceil((l.fa-c)/r)*r,c=l.ru(c),i.write(a,c));return t&&h.Oc(1993),h}if(l.contains(u))return t;if(197==f)return r=a?t:t.Cf(),c.Ia(h),r.mp(c),r;var d=.1*Math.max(c.ca(),c.N());for(h.O(0,d),s=t,l=i.ce(0),t=e.Jh.local(),a=new e.xd;;){var p=Math.floor((u.fa-n)/r),b=Math.ceil((u.ja-n)/r);if(!(3<b-p))break;p=Math.floor(.5*(b+p)),h.o=c.o-d,h.v=n+r*p;var v=e.Yd.clip(s,h,l,o);h.o=h.v,h.v=c.v+d;var y=e.Yd.clip(s,h,l,o);a.mg((p-b)*r,0),y.Qc(a),1736==f?s=t.U(v,y,i,null):(s=v).add(y,!1),s.s(c),c.sn(u)}for(h.o=n,h.v=n+r,(n=new e.g).H(h),n.O(l,0),0!=(n=Math.floor((c.o-h.o)/r)*r)?(h.move(n,0),a.mg(-n,0)):a.zC(),n=1607==f?new e.Oa(s.description):new e.Fa(s.description),o=new e.g,u=new e.g;c.v>h.o;)(d=e.Yd.clip(s,h,l,0)).s(u),(1607==f?!d.u()&&(u.N()>l||u.ca()>l):!d.u()&&(1736!=f||u.N()>l))&&(d.Qc(a),d.s(u),n.s(o),o.O(l,l),o.isIntersecting(u)&&1736==f?n=t.U(n,d,i,null):n.add(d,!1)),h.move(r,0),a.shift(-r,0);return n},n.NJ=function(t,n,r,i){var a=new e.Hd(r.description);a.yd(r,0,-1),a=e.ab.$g(a,t,n);var o=r.D();if(i.Ka(),!e.ab.Cc(t)||o!=a.D())return!1;var s=new e.g;r.s(s);var c=new e.g;if(a.s(c),s=s.N(),c=c.N(),0!=s&&0!=c){if(c/=s,t=e.ab.nh(n).N()/e.ab.nh(t).N(),1e-10<Math.abs(c/t-1))return!1}else if(0!=s||0!=c)return!1;for(i.add(r,!1),r=0;r<o;r++)t=a.xa(r),i.nb(r,t);return!0},n.vA=function(){throw e.f.Me()},n}()}(Y||(Y={})),function(e){var t,n,r;(n=t=e.zi||(e.zi={}))[n.Clip=0]="Clip",n[n.DontClip=1]="DontClip",n[n.PannableFold=2]="PannableFold",function(e){e[e.Geodesic=0]="Geodesic",e[e.Loxodrome=1]="Loxodrome",e[e.GreatElliptic=2]="GreatElliptic",e[e.NormalSection=3]="NormalSection",e[e.ShapePreserving=4]="ShapePreserving"}(r=e.eM||(e.eM={})),e.Ab=function(){function n(){}return n.dw=function(t,n,r){if(r||0<n){for(t=t.toString(e.Pc.PE_STR_NAME_CANON|e.Pc.PE_STR_AUTH_NONE),n=[],r=0;r<t.length;r++)n[r]="a"<=t[r]&&"z">=t[r]?n[r]=t[r].toUpperCase():t[r];return n.join()}return t.toString(e.Pc.PE_STR_AUTH_TOP)},n.Tr=function(t,n,r,i){var a=i.length,o=r.D();if(0!=o){var s=r.Va(0),c=Math.min(o,a),u=0,l=t.wg();isNaN(n)&&(n=0);for(var h=t.Cc(),f=179*(t=h?t.hc().be().N():0)/360;0<o;){if(s.dC(u<<1,c,i),e.Kh.projToGeogCenter(l,c,i,n),h)for(var d=0;d<c;d++){var p=i[d][0]-n,b=e.Tb.sign(p),v=s.read(2*(u+d));0>b*e.Tb.sign(v)&&Math.abs(p)>f&&(i[d][0]+=-b*t)}s.dD(u<<1,c,i),u+=c,o-=c,c=Math.min(o,a)}r.Oc(1993)}},n.o_=function(t,n,r,i){var a=t.wg();isNaN(n)&&(n=0);var o=r.Ce();i[0][0]=o,i[0][1]=r.lf(),e.Kh.projToGeogCenter(a,1,i,n),t.Cc()&&0>(n=e.Tb.sign(i[0][0]-n))*e.Tb.sign(o)&&(t=t.hc().be().N(),Math.abs(i[0][0])>179*t/360&&(i[0][0]-=n*t)),r.nb(i[0][0],i[0][1])},n.QM=function(t,n,r,i){var a=0,o=t.wg();isNaN(a)&&(a=0);var s=t.Cc(),c=t.Sd();t=360*c,c*=179;for(var u=i.length,l=0;l<r;){for(var h=l;h<r&&n[h].isNaN();++h)l++;var f=Math.min(u,r-l);if(0<f){h=1;for(var d=l+1;h<f;++h,++d)if(n[d].isNaN()){f=h;break}if(e.la.nz(i,n,l,f),e.Kh.projToGeogCenter(o,f,i,a),s)for(h=0,d=l;h<f;++h,++d){var p=n[d].x,b=i[h][0]-a,v=e.Tb.sign(b);0>v*e.Tb.sign(p)&&Math.abs(b)>c&&(i[h][0]-=v*t)}e.la.mz(n,l,i,f),l+=f}}},n.qy=function(t,n,r){var i=r.length,a=n.D();if(!(1>a)){var o=n.Va(0),s=Math.min(a,i),c=0,u=t.wg(),l=t.Cc(),h=l?t.be().N():0,f=179*h/360,d=0;for(l&&(d=t.Wh());0<a;){if(o.dC(c<<1,s,r),e.Kh.geogToProj(u,s,r),l)for(t=0;t<s;t++){var p=r[t][0],b=e.Tb.sign(p),v=o.read(2*(c+t))-d;0>b*e.Tb.sign(v)&&Math.abs(p)>f&&(r[t][0]+=-b*h)}o.dD(c<<1,s,r),c+=s,a-=s,s=Math.min(a,i)}n.Oc(1993)}},n.n_=function(t,n,r){if(!n.u()){var i=t.wg();if(r[0][0]=n.Ce(),r[0][1]=n.lf(),e.Kh.geogToProj(i,1,r),t.Cc()){i=e.Tb.sign(r[0][0]);var a=t.Wh();0>i*e.Tb.sign(n.Ce()-a)&&(t=t.be().N(),Math.abs(r[0][0])>179*t/360&&(r[0][0]-=i*t))}n.nb(r[0][0],r[0][1])}},n.PM=function(t,n,r,i){if(0!=r){var a=t.wg(),o=t.Cc(),s=o?t.be().N():0,c=179*s/360,u=0;for(o&&(u=t.Wh()),t=0;t<r;){for(var l=t;l<r&&n[l].isNaN();++l)t++;var h=Math.min(i.length,r-t);if(0<h){l=1;for(var f=t+1;l<h;++l,++f)if(n[f].isNaN()){h=l;break}if(e.la.nz(i,n,t,h),e.Kh.geogToProj(a,h,i),o)for(l=0,f=t;l<h;l++){var d=i[l][0],p=e.Tb.sign(d);0>p*e.Tb.sign(n[f].x-u)&&Math.abs(d)>c&&(i[l][0]-=p*s)}e.la.mz(n,t,i,h),t+=h}}}},n.Sr=function(t,n,r,i){var a=n.D();if(0!=a){var o=n.Va(0),s=t.ee,c=t.Je,u=s.hc().qk(),l=c.hc().qk(),h=s.Sd(),f=c.Sd();if(null==(t=t.He)||0==t.count()){for(r=u/l,i=(s.Cm()-c.Cm())*f,l=-90*h,t=90*h,u=!1,f=1,s=2*a;f<s;)h=o.get(f),(c=e.L.Yj(h,l,t))!=h&&(o.set(f,c),u=!0),f+=2;if(0!=i||1!=r)for(u=!0,l=new e.b,f=0;f<a;f++)o.mc(2*f,l),l.x*=r,l.x+=i,l.y*=r,o.Au(2*f,l);u&&n.Oc(1993)}else{s=i.length,c=Math.min(a,s);var d=e.L.Xf(c),p=null,b=0,v=NaN,y=NaN,m=360*f,g=f/h;r&&(y=90*f,v=89.9*h,p=e.L.Xf(c));for(var O=!0,j=0;0!=a;){for(h=!1,o.dC(b<<1,c,i),f=0;f<c;f++)d[f]=i[f][0];if(r)for(f=0;f<c;f++){var w=Math.abs(i[f][1])-v;0<w&&(h=i[f][1],i[f][1]=e.Tb.hl(v,h),p[f]=e.Tb.hl(w,h),h=!0)}for(f=i[0][0],t.transform(i,c,u,l),O&&(j=i[0][0]-g*f,O=!1),f=0;f<c;f++)w=i[f][0]-d[f]*g-j,200<Math.abs(w)&&(i[f][0]=0<w?i[f][0]-m:i[f][0]+m);if(h){for(f=0;f<c;f++)0!=p[f]&&(i[f][1]+=g*p[f],i[f][1]>y?i[f][1]=y:i[f][1]<-y&&(i[f][1]=-y));for(h=0;h<c;h++)p[h]=0}o.dD(b<<1,c,i),b+=c,a-=c,c=Math.min(a,s)}n.Oc(1993)}}},n.m_=function(t,n,r,i){if(n.u())return!1;var a=t.ee,o=t.Je,s=t.He,c=a.hc().qk(),u=o.hc().qk();if(i[0][0]=n.Ce(),i[0][1]=n.lf(),null!=s&&0<s.count()){t=!0;var l=!1,h=NaN,f=0,d=1;r&&(r=a.Sd(),d=(h=o.Sd())/r,h*=90,a=89.9*r,0<(o=Math.abs(i[0][1])-a)&&(l=i[0][1],i[0][1]=e.Tb.hl(a,l),f=e.Tb.hl(o,l),l=!0)),s.transform(i,1,c,u),l&&0!=f&&(i[0][1]+=d*f,i[0][1]>h?i[0][1]=h:i[0][1]<-h&&(i[0][1]=-h)),n.nb(i[0][0],i[0][1])}else r=a.Sd(),t=e.L.Yj(i[0][1],-90*r,90*r)!=i[0][1],h=o.Sd(),s=(a.Cm()-o.Cm())*h,1==(c/=u)&&0==s||(t=!0,i[0][0]*=c,i[0][0]+=s,i[0][1]*=c),t&&n.nb(i[0][0],i[0][1]);return t},n.OM=function(t,n,r,i){if(t.Wq)i=90*t.ee.Sd(),e.la.iL(n,r,-i,i);else{var a=t.He,o=t.ee,s=t.Je;t=o.Ds();var c=s.Ds(),u=o.Sd(),l=90*u,h=s.Sd();if(null==a||0==a.count()){if(i=t/c,a=(o.Cm()-s.Cm())*h,e.la.iL(n,r,-l,l),0!=a||1!=i)for(h=0;h<r;h++)n[h].x*=i,n[h].x+=a,n[h].y*=i}else{o=Math.min(r,i.length),l=e.L.Xf(o),s=360*h,u=h/u;for(var f=!0,d=0,p=0;0!=r;){for(h=0;h<o;h++)l[h]=n[h+p].x;for(h=n[0].x,e.la.nz(i,n,p,o),a.transform(i,o,t,c),e.la.mz(n,p,i,o),f&&(d=n[0].x-u*h,f=!1),h=0;h<o;h++){var b=n[p+h].x-l[h]*u-d;200<Math.abs(b)&&(n[p+h].x=0<b?n[p+h].x-s:n[p+h].x+s)}p+=o,r-=o,o=Math.min(r,i.length)}}}},n.W_=function(e,t,r,i){return n.vm(e,t,isNaN(r)?0:r,!0,i,null)},n.Lv=function(e,t){return e=e.nh(),isNaN(t)||e.qv(t,0),e},n.fS=function(t,r,i,a,o,s,c,u){for(var l=n.Lv(a,o),h=l.N(),f=h/360,d=n.bF*f,p=t.Va(0),b=r.Cc(),v=b?h/r.be().N():0,y=!1,m=new e.Fa(i.description),g=0,O=i.$();g<O;++g){var j=b,w=new e.Oa(i.description);if(w.addPath(i,g,!0),0!=c){var _=n.BE(!0,w,l.B-u,l.B,c);(y=y||_)&&(j=!1)}var x=-1;j&&(x=t.ua(g));var k=w.Va(0),S=w.D(),E=0,T=k.read(0),M=0;_=3*a.ce(0);var C=!1,A=new e.b;A.Tc();var P=new e.b;P.Tc();for(var I=!1,D=1;D<S;++D){var L=e.b.construct(k.Ig(2*D),k.Ig(2*D+1)),R=L.x,N=R+E,F=N-T;if(L.x=N,Math.abs(F)>d){if(j){var z=x+(D+1<S?D:0),V=p.read(2*(x+D-1));z=(p.read(2*z)-V)*v,Math.abs(F-z)>1*f&&(j=!1)}j||(N=R+(E-=e.Tb.hl(h,N-T)),++M,I=0!=E,L.x=N)}else C||e.la.mH(P,A,L,_)&&(C=!0);I&&k.write(2*D,N),T=N,P.K(A),A.K(L)}0<M&&w.Oc(1993),j=w.xa(0),S=w.xa(S-1),w=e.b.vb(j,S)<_?n.GR(w,a,o,s,C):n.HR(t,g,w,a,o),m.add(w,!1)}return o=a.ce(0),i=l.N()/180,n.su(m,l,.1*o,!1),m=m!=(o=e.fh.clip(m,l,o,i,s)),t=t.Pe(),c=0,0<(u=o.Pe())&&0>t?c=1:0>=u&&0<t&&(0==u?(u=NaN,2==r.Fb()?u=r.sk().Pe():1==r.Fb()&&(u=r.be().jG()),t>.99*u&&(c=-1)):c=-1),0!=c&&((r=new e.Fa(o.description)).Np(l),(r=e.im.local().U(r,i,s)).add(o,!1),m=!0,o=r),m&&(o=e.jm.local().U(o,a,!1,s)),o},n.HR=function(t,r,i,a,o){var s=i.D(),c=i.xa(0),u=i.xa(s-1);o=(a=n.Lv(a,o)).N(),c=e.Tb.sign(u.x-c.x);var l=new e.g;i.Zb(l);var h=a.lk();if(u=h-o,h+=o,0<=c){var f=Math.ceil((u-l.o)/o);for(f*=o;u>l.o+f;)f+=o;for(;u<l.v+f;)f-=o;var d=f;720<l.N()&&(h=u+360*Math.ceil(l.N()/360))}else{for(f=Math.ceil((h-l.v)/o),f*=o;h<l.v+f;)f-=o;for(;h>l.o+f;)f+=o;d=f,720<l.N()&&(u=h-360*Math.ceil(l.N()/360))}f=c*o;var p=e.g.construct(l.o,l.A,l.v,l.B);p.move(d,0);var b=new e.xd;b.mg(d,0),i.Qc(b),(l=new e.Oa(i.description)).add(i,!1),d=i.xa(s-1),o=0;for(var v=l.xa(0).x;0<c?p.v<h:p.o>u;)p.move(f,0),b.Ob=f,i.Qc(b),v+=f,a.o<=v&&a.v>=v&&(o=l.D()-1),i.nb(0,d),d=i.xa(s-1),l.ds(i,0,0,s-1,!1);return i=new e.Fa(l.description),s=0<t.rm(r),i.add(l,!1),t=l.xa(0),u=l.xa(l.D()-1),r=i.$()-1,(0>c?s:!s)?(c=e.b.construct(u.x,a.B),i.Ii(c),c=e.b.construct(a.lk(),a.B),i.Ii(c),a=e.b.construct(t.x,a.B)):(c=e.b.construct(u.x,a.A),i.Ii(c),c=e.b.construct(a.lk(),a.A),i.Ii(c),a=e.b.construct(t.x,a.A)),i.Ii(a),i.jH(0,r,0),i.uP(o),i},n.GR=function(t,r,i,a,o){var s=new e.Fa(t.description);s.add(t,!1),s.mC(0,s.D()-1);var c=new e.g;s.Zb(c);var u=(i=n.Lv(r,i)).N(),l=Math.ceil((i.o-c.o)/u);for(l*=u;i.o>c.o+l;)l+=u;for(;i.o<c.v+l;)l-=u;if(0!=(l+=u)){c.move(l,0);var h=new e.xd;h.mg(l,0),s.Qc(h)}if(i.o<=c.o&&i.v>c.v)return o&&(o=s.Pe(),r=(s=e.jm.local().U(s,r,!0,a)).Pe(),(r=e.Tb.sign(o)!=e.Tb.sign(r))&&s.sK()),s;for((t=new e.Fa(t.description)).add(s,!1),o=o||c.N()>u-r.ce(0);c.o<i.v;)c.move(u,0),(h=new e.xd).mg(u,0),s.Qc(h),t.add(s,!1);return o&&(o=t.Pe(),t.np(1),r=(t=e.jm.local().U(t,r,!0,a)).Pe(),(r=e.Tb.sign(o)!=e.Tb.sign(r))&&t.sK()),t},n.BE=function(t,n,r,i,a){for(var o=n.Va(0),s=n.D(),c=!1,u=0;u<s;u++){var l=e.b.construct(o.Ig(2*u),o.Ig(2*u+1));if(0!=(1&a)&&l.y>=r){c=!0;break}if(0!=(2&a)&&l.y<=-r){c=!0;break}}if(!c)return!1;o=!1,t&&(o=n.ho(0)),s=(t=new e.Yc).Bb(n),c=t.Kb(s);var h=-1,f=!0,d=new e.b;d.Tc(),u=new e.Ra;for(var p=-1,b=t.Za(c);-1!=b;b=t.T(b)){l=t.xa(b);var v=0!=(1&a)&&90<=l.y?1:0;if(v|=0!=(2&a)&&l.y<=-r?2:0,0<h&&h!=v){if(d.x!=l.x){d.x=l.x,t.bj(t.Ma(b),u);var y=t.Bj(c,b,u);t.wf(y,d)}if(o)for(p=-1!=p?t.T(p):t.Za(c),y=t.Ma(b);p!=y;)p=t.od(p,!1);p=-1}0<v&&(l.y=e.Tb.hl(i,l.y),t.wf(b,l),f||h==v||(l.x!=d.x?(t.bj(b,u),y=t.Bj(c,b,u),t.nb(y,d.x,l.y),p=y):p=b)),h=v,d=l,f=!1}if(o){if(-1!=p)for(p=t.T(p);-1!=p;)p=t.od(p,!1);r=t.Za(c),t.wq(r,t.wj(c))||(t.bj(r,u),t.Bj(c,-1,u))}return t.ye(s).copyTo(n),!0},n.G0=function(e,t){var n=0,r=e.Ha(t);t+=1;for(var i=e.$();t<i&&!(0<e.rm(t));++t)n++;return 64<r&&3<=n},n.tA=function(r,i,a,o){var s=r;if(s.u()||a==t.DontClip)return s;var c=s.F();if(33==c)return s=[(o=s).w()],n.kH(s,1,i,a),s[0].isNaN()?o.Ka():o.nb(s[0]),r;var u=(r=i.hc()).Sd(),l=90*u,h=180*u,f=360*u,d=i.Wh(),p=.5*u,b=new e.g;s.s(b);var v=i.Bs(),y=i.aS(),m=197==v.F();if(i=new e.g,v.s(i),a==t.PannableFold&&(a=r.be().N(),i.o=d-.5*a,i.v=i.o+a),b.A<-l||b.B>l){if((new e.g).H(b.o-u,-l,b.v+u,l),(s=e.fh.Tp(s,i,r,NaN,0,o)).u())return s;s.s(b)}if(y&&(i.B<b.A||i.A>b.B))return s.Ga();if(b.N()>f&&(s=n.aq(s,d-h,f,r,!0,0,!0,o)).s(b),0!=(l=n.nP(b.o,b.v,i.o,i.v,f))&&b.move(l,0),b.v>i.v||b.o<i.o){if(b.v>i.v)for(;b.o>=i.v;)b.move(-f,0),l-=f;for(;b.o<i.v-f;)b.move(f,0),l+=f}if(a=e.la.ov(r,v),0!=l&&((u=new e.xd).mg(l,0),s.Qc(u)),y){if(m&&i.contains(b))return s;for(y=[null,null],l=0;2>l;l++){if(m?u=e.R.Bc(c)?e.fh.clip(s,i,a,p,o):e.fh.clip(s,i,a,0,o):(u=e.ak.local().U(s,v,r,o))==v&&(u=e.R.$d(u)),i.o<=b.o&&i.v>=b.v||i.o>=b.o&&i.v<=b.v)return u;y[l]=u,0==l&&(b.move(-f,0),(u=new e.xd).mg(-f,0),s.Qc(u))}if(550==c)y[0].yd(y[1],0,-1);else if(e.R.Bc(c))y[0].add(y[1],!1);else{if(33!=c)throw e.f.Y("intersect_with_GCS_horizon: unexpected geometry type");y[0].u()&&(y[0]=y[1])}return y[0]}if(i.B<b.A||i.A>b.B)return s;for(c=0;!s.u()&&b.v>i.o;)0!=c&&((u=new e.xd).mg(c,0),s.Qc(u)),e.kj.local().U(4,s,v,r,o)||v==(s=e.Cp.local().U(s,v,r,o))&&(s=e.R.$d(s)),0!=c&&((p=new e.xd).mg(-c,0),s.Qc(p)),c-=f,b.move(-f,0);return s},n.kH=function(r,i,a,o){if(0!=i&&o!=t.DontClip)if(o==t.PannableFold){o=a.XS();for(var s=i,c=0;c<i;c++)(r[c].y>o.B||r[c].y<o.A)&&(r[c].Tc(),s--);0!=s&&n.Hv(r,i,o.o,o.N())}else{var u=90*(o=a.Sd()),l=180*o;for(o*=360,s=i,c=0;c<i;c++)(r[c].y>u||r[c].y<-u)&&(r[c].Tc(),s--);if(0!=s){(s=new e.g).Ix(r,i),u=a.Bs();var h=a.Ov();c=197==u.F();var f=new e.g;if(u.s(f),!h||!(f.B<s.A||f.A>s.B))if(h)if(n.Hv(r,i,f.lk()-l,o),s=i,c)for(c=0;c<i;c++)f.contains(r[c])||(r[c].Tc(),s--);else for(a=e.la.ov(a.hc(),u),c=0;c<i;c++)(l=0!=e.Zc.Td(u,r[c],a))||(r[c].Tc(),s--);else for(n.Hv(r,i,-l,o),s=i,a=e.la.ov(a.hc(),u),c=0;c<i;c++)(l=r[c]).isNaN()&&s--,h=n.fF(l.x,f.o,f.v,o),l.x+=h,(l=0!=e.Zc.Td(u,l,a))&&(r[c].Tc(),s--)}}},n.b0=function(t,n,r){if(0<=n&&!t.Lb(n))return 0;var i=0;if(1==r.Fb())return n=90*r.Sd(),n-=2*n/Math.PI*e.Pc.PE_HORIZON_DELTA,r=new e.g,t.s(r),r.B>=n&&(i=1),r.A<=-n&&(i|=2),i;var a=r.xj();if(null==a)return 0;var o=null;0<=n&&(o=t);for(var s=0;2>s;s++)if((0<s?a.getSouthPoleLocation():a.getNorthPoleLocation())!=e.ng.PE_POLE_OUTSIDE_BOUNDARY){var c=r.bA(0<s);c.isNaN()||(i|=(c=0>n?e.Oe.yA(t,c,0):e.Oe.zA(o,n,c,0,null))<<s)}return i},n.aq=function(t,n,r,i,a,o,s,c){var u=t.F(),l=n+r;if(33===u){var h=(i=a?t:t.Cf()).Ce();return(h<n||h>=l||s&&h==l)&&(h+=Math.ceil((n-h)/r)*r,h=e.L.Yj(h,n,l),i.KC(h)),i}if(t.u())return t;if(h=new e.g,t.s(h),h.u())return t;var f=new e.uc;h.sn(f);var d=new e.uc;if(d.H(n,l),d.contains(f))return t;if((l=new e.g).H(h),550===u){for(c=(i=a?t:t.Cf()).Va(0),u=2*i.D(),l=!1,n=0;n<u;n+=2)((h=c.read(n))<d.fa||h>=d.ja||s&&h==d.ja)&&(l=!0,h+=Math.ceil((d.fa-h)/r)*r,h=d.ru(h),c.write(n,h));return l&&i.Oc(1993),i}if(197==u)return r=a?t:t.Cf(),h.Ia(l),r.mp(h),r;var p=.1*Math.max(h.ca(),h.N());for(l.O(0,p),s=t,d=i.ce(0),t=e.Jh.local(),a=new e.xd;;){var b=Math.floor((f.fa-n)/r),v=Math.ceil((f.ja-n)/r);if(!(3<v-b))break;b=Math.floor(.5*(v+b)),l.o=h.o-p,l.v=n+r*b;var y=e.fh.clip(s,l,d,o,c);l.o=l.v,l.v=h.v+p;var m=e.fh.clip(s,l,d,o,c);a.mg((b-v)*r,0),m.Qc(a),1736==u?s=t.U(y,m,i,null):(s=y).add(m,!1),s.s(h),h.sn(f)}for(l.o=n,l.v=n+r,(n=new e.g).H(l),n.O(d,0),0!=(n=Math.floor((h.o-l.o)/r)*r)?(l.move(n,0),a.mg(-n,0)):a.zC(),n=1607==u?new e.Oa(s.description):new e.Fa(s.description),o=new e.g,f=new e.g;h.v>l.o;)(p=e.fh.clip(s,l,d,0,c)).s(f),(1607==u?!p.u()&&(f.N()>d||f.ca()>d):!p.u()&&(1736!=u||f.N()>d))&&(p.Qc(a),p.s(f),n.s(o),o.O(d,d),o.isIntersecting(f)&&1736==u?n=t.U(n,p,i,null):n.add(p,!1)),l.move(r,0),a.shift(-r,0);return n},n.Hv=function(t,n,r,i){for(var a=r+i,o=0;o<n;o++){var s=t[o].x;r<=s&&s<a||!(s<r||s>a||s==a)||(s+=Math.ceil((r-s)/i)*i,s=e.L.Yj(s,r,a),t[o].x=s)}},n.vm=function(t,r,i,a,o,s){if(!r.Cc())throw e.f.Y("fold_into_360_degree_range");if(t.u())return t;if(2==r.Fb()){i=r.Wv();var c=r.Vv()-i}else{var u=r.Sd();c=360*u,i-=180*u}return n.aq(t,i,c,r,a,o,!0,s)},n.dG=function(e,t,r,i){if(2==r.Fb())i=r.Wv(),r=r.Vv()-i;else{var a=r.Sd();r=360*a,i-=180*a}n.Hv(e,t,i,r)},n.qj=function(t,n){var r=n.be();if(33==t.F()){var i=t.lf();return r.A<=i&&i<=r.B?t:t.Ga()}i=new e.g,t.s(i);var a=new e.g;return a.H(r),a.o=i.o,a.v=i.v,a.O(.01*a.ca(),0),r=e.la.Zy(n,i),a.contains(i)?t:e.fh.clip(t,a,r,0,null)},n.Er=function(e,t,n){return e>t.v&&e-t.v<n?t.v:e<t.o&&t.o-e<n?t.o:e},n.kZ=function(e,t,r,i){i.x=n.Er(e.x,t,r),i.y=e.y},n.jZ=function(e,t,r,i){for(var a=0;a<t;a++)e[a].y<r.A||e[a].y>r.B?e[a].Tc():e[a].x=n.Er(e[a].x,r,i)},n.su=function(t,r,i,a){if(!t.u()){var o=t.F();if(!a||1736!=o)if(e.R.Rg(o)){a=t.Va(0),o=0;for(var s=t.D();o<s;o++){var c=a.read(2*o),u=n.Er(c,r,i);u!=c&&a.write(2*o,u)}t.Oc(1993)}else if(197==o)a=new e.g,t.s(a),a.o=n.Er(a.o,r,i),a.v=n.Er(a.v,r,i),t.mp(a);else{if(33!=o)throw e.f.Y("internal error");t.KC(n.Er(t.Ce(),r,i))}}},n.PT=function(t,r,i,a){var o=new e.Yc,s=o.Bb(t);return t=e.la.ov(r,t),n.Ss(o,s,r,t,i,!0,a),o.ye(s)},n.Ss=function(t,i,a,o,s,c,u){if(!a.Cc())throw e.f.I("invalid call");var l=a.be(),h=a.hc(),f=h.wg().getDatum().getSpheroid();h=h.Ld().gi;var d=f.getFlattening();f=f.getAxis(),d*=2-d;var p=new e.uc;l.sn(p);var b=null,v=[[0,0],[0,0]];if(2==a.Fb()?(b=a.wg(),c?(v[0][0]=n.nn(u,p),v[0][1]=l.cq(),e.Kh.projToGeog(b,1,v),l=v[0][0]*h):(v[0][0]=l.lk(),v[0][1]=u,e.Kh.projToGeog(b,1,v),l=v[0][1]*h)):l=u*h,!c&&0!=l&&s!=r.GreatElliptic)throw e.f.Y("invalid argument");var y=new e.da,m=[0],g=new e.b,O=new e.b,j=new e.b,w=[null,null],_=new e.b,x=new e.b,k=new e.b,S=new e.b;for(i=t.Kb(i);-1!=i;i=t.Qb(i)){var E=t.Za(i);t.w(E,_);for(var T=!1,M=E=t.T(E);-1!=M;M=t.T(M)){if(M==E){if(T)break;T=!0}if(t.w(M,x),c&&(o<u-_.x&&x.x-u>o||o<u-x.x&&_.x-u>o)||!c&&(0!=u||o<-_.y&&x.y>o||o<-x.y&&_.y>o))do{if(!(Math.abs(_.x-x.x)>=.5*p.N())){if(2==a.Fb()?(v[0][0]=n.nn(_.x,p),v[0][1]=_.y,v[1][0]=n.nn(x.x,p),v[1][1]=x.y,e.Kh.projToGeogCenter(b,2,v,0),k.x=v[0][0]*h,k.y=v[0][1]*h,S.y=v[1][1]*h):(k.x=_.x*h,k.y=_.y*h,S.y=x.y*h),S.x=2*(x.x-_.x)*Math.PI/p.N()+k.x,c){if(O.x=l,O.y=n.uA(f,d,k,S,l,s),isNaN(O.y))break;w[0]=O;var C=1}else if(s==r.GreatElliptic){var A=[0,0];if(0==(C=e.ty.vA(d,k,S,l,A)))break;O.x=A[0],O.y=l,w[0]=O,2==C&&(j.x=A[1],j.y=l,w[1]=j)}else{if(O.x=n.sA(f,d,k,S,s),isNaN(O.x))break;O.y=0,w[0]=O,C=1}var P=-1;for(A=0;A<C;A++){e.gb.Ad(f,d,k.x,k.y,S.x,S.y,y,null,null,s);var I=y.j;e.gb.Ad(f,d,k.x,k.y,w[A].x,w[A].y,y,null,null,s);var D=y.j;if(2==a.Fb()?(v[0][0]=w[A].x/h,v[0][1]=w[A].y/h,e.Kh.geogToProj(b,1,v),c?(g.y=v[0][1],g.x=u):(g.x=n.Ws(v[0][0],_.x,x.x,p),g.y=u)):c?(g.x=u,g.y=w[A].y/h):(g.x=n.Ws(w[A].x/h,_.x,x.x,p),g.y=u),m[0]=0<I?e.L.Yj(D/I,0,1):.5,0==m[0]||1==m[0])break;P>m[0]||(P=t.Ma(M),t.em(P,m,1),t.nb(t.T(P),g.x,g.y),P=m[0])}}}while(0);_.K(x)}}},n.nn=function(e,t){var n=t.ja-t.fa;return t.ru(e-Math.floor((e-t.fa)/n)*n)},n.Ws=function(t,n,r,i){var a=new e.uc;for(a.H(n,r),r=i.N(),t=Math.floor((t-n)/r)*r+t,a=a.hf();Math.abs(t-a)>Math.abs(t+r-a);)t+=r;return t},n.mo=function(t,n,r){return t=e.Nr.Wp(t),n=e.Nr.Ux(t,e.Nr.Wp(n)),0==(r=e.Nr.Ux(t,e.Nr.Wp(r)))||0<n&&0<r&&r<=n||0>n&&0>r&&r>=n},n.uA=function(t,i,a,o,s,c){if(c==r.GreatElliptic)return e.ty.lU(i,a,o,s);if(Math.abs(a.x-o.x)>=Math.PI||!n.mo(a.x,o.x,s))return NaN;if(a.x>o.x)var u=o;else u=a,a=o;o=new e.da;var l=new e.da,h=new e.da;e.gb.Ad(t,i,u.x,u.y,a.x,a.y,l,o,null,c);var f=l.j,d=0,p=1,b=new e.b;for(b.K(u);f*(p-d)>1e-12*t;){var v=.5*(d+p);if(e.gb.tj(t,i,u.x,u.y,f*v,o.j,l,h,c),b.x=l.j,b.y=h.j,b.x==s)break;if(n.mo(u.x,b.x,s))p=v;else{if(!n.mo(a.x,b.x,s))return NaN;d=v}}return b.y},n.sA=function(t,n,i,a,o){if(o==r.GreatElliptic)return t=[0,0],e.ty.vA(n,i,a,0,t),t[0];if(i.y>a.y)var s=a;else s=i,i=a;if((a=new e.uc).H(s.y,i.y),!a.contains(0)||Math.abs(s.x-i.x)>=Math.PI)return NaN;if(s.x==i.x)return s.x;var c=new e.da,u=new e.da,l=new e.da;e.gb.Ad(t,n,s.x,s.y,i.x,i.y,u,c,null,o);var h=u.j,f=0,d=1,p=new e.b;for(p.K(s);h*(d-f)>1e-12*t;){var b=.5*(f+d);if(e.gb.tj(t,n,s.x,s.y,h*b,c.j,u,l,o),p.x=u.j,p.y=l.j,a.H(s.y,p.y),0==p.y)break;if(a.contains(0))d=b;else{if(a.H(i.y,p.y),!a.contains(0))return NaN;f=b}}return p.x},n.L0=function(t,n,r,i,a,o){if(n==a&&r!=o)throw e.f.I();if(0>=i)return 0;if(t.xq()){o*=2;var s=2*r;for(t=2*i,r=0;r<t;r++)a[o+r]=n[s+r];return i}if(2>=i){for(o=[new e.b,new e.b],s=0;s<i;s++)o[s].ka(n[2*s],n[2*s+1]);for(n=e.Rr.local().KZ(t,o,i,o),s=0;s<i;s++)a[2*s]=o[s].x,a[2*s+1]=o[s].y;return n}var c=t.ee;s=t.Je;var u=c.Fb(),l=s.Fb();if(0==u&&u==l)return s=(t=c.qk())/(s=s.qk()),(t=new e.xd).Dr(s,s),t.LZ(n,r,a,o,i),i;(u=new e.Hd).le(3),u.resize(i),l=u.Va(0);var h=u.Va(3);s=0;for(var f=2*r,d=2*o;s<i;s++,d+=2){r=n[f++],c=n[f++];var p=d;(isNaN(r)||isNaN(c))&&(c=r=0,p=-1),h.write(s,p),l.write(2*s,r),l.write(2*s+1,c)}for(u.Oc(1993),n=e.Rr.local().U(u,t,null),s=0,o*=2;s<i;s++,o+=2)a[o]=NaN,a[o+1]=NaN;if(n.u())return 0;for(o=n.Va(3),t=n.Va(0),s=u=0,i=n.D();s<i;s++)-1!=(n=o.read(s))&&(r=t.read(2*s),c=t.read(2*s+1),a[n]=r,a[n+1]=c,u++);return u},n.NJ=function(t,n,r,i){if(!t.ee.Cc())return!1;var a=new e.Hd(n.description);if(a.yd(n,0,-1),i=e.Rr.local().U(a,t,i),a=n.D(),r.Ka(),a!=i.D())return!1;var o=new e.g;n.s(o);var s=new e.g;if(i.s(s),o=o.N(),s=s.N(),0!=o&&0!=s){if(s/=o,t=t.Je.nh().N()/t.ee.nh().N(),1e-10<Math.abs(s/t-1))return!1}else if(0!=o||0!=s)return!1;for(r.add(n,!1),n=new e.b,t=0;t<a;t++)i.w(t,n),r.nb(t,n);return!0},n.BO=function(e,t){return(e%=360*t)>=180*t&&(e-=360*t),e},n.LJ=function(r,i,a,o){if(a==t.Clip){var s=i.sk();197==s.F()?(a=new e.g,s.s(a),s=e.la.Zy(i,a),r=e.fh.clip(r,a,s,5e4*i.Am(),o)):e.kj.local().U(1,s,r,i,o)||(r=e.ak.local().U(r,s,i,o))==s&&(r=e.Zk.$d(r))}else i.Cc()&&(o=new e.g,r.Zb(o),i.be().contains(o)||(n.su(r,i.be(),i.ce(0),!0),a==t.PannableFold&&(r=n.qj(r,i)),r=n.vm(r,i,0,!0,1e5*i.Am(),null)));return r},n.JE=function(t,n,r){var i=n.Cs();if(null==i)return t;var a=(n=n.hc()).be().N(),o=new e.g;t.Zb(o);var s=new e.uc;o.sn(s),o=i.Ba(),i=null;for(var c=new e.xd;o.Ta();)for(;o.Aa();){var u=o.aa(),l=u.Qf(0,0),h=new e.uc;for(h.H(l.fa,l.ja),l=0;h.ja>s.fa;)h.move(-a),--l;for(;h.fa<=s.ja;){if(h.isIntersecting(s)){null==i&&(i=new e.Oa);var f=e.zb.mQ(u.ac(),u.wc());0!=l&&(c.mg(l*a,0),f.Qc(c)),i.$b(f,!0)}h.move(a),++l}}return null!=i?(n=e.la.pP(n,i),n=e.la.es(n),e.Gu.vQ(t,i,n,r)):t},n.nP=function(e,t,r,i,a){return e>=r&&t<=i?0:n.fF(.5*(t+e),r,i,a)},n.fF=function(t,n,r,i){return e.Tb.round((.5*(r+n)-t)/i)*i},n.gS=function(t,r,i,a,o,s,c,u){var l=n.Lv(a,o),h=l.N(),f=h/360,d=n.bF*f,p=t.Va(0),b=r.Cc(),v=b?h/r.be().N():0;r=t.Ga();for(var y=0,m=i.$();y<m;++y){var g=b,O=new e.Oa(i.description);O.addPath(i,y,!0);var j=i.Lb(y);0!=c&&(j=n.BE(j,O,l.B-u,l.B,c))&&(g=!1);var w=-1;j=O.D();var _=!1;g&&(w=t.ua(y),_=t.Lb(y));var x=O.Va(0),k=0,S=x.read(0),E=0,T=3*a.ce(0),M=!1,C=new e.b;C.Tc();var A=new e.b;A.Tc();for(var P=!1,I=1;I<j;++I){var D=e.b.construct(x.Ig(2*I),x.Ig(2*I+1)),L=D.x,R=L+k,N=R-S;if(D.x=R,Math.abs(N)>d){if(g){var F=w+I-1,z=w;(!_||I+1<j)&&(z+=I),F=p.read(2*F),z=(p.read(2*z)-F)*v,Math.abs(N-z)>1*f&&(b=!1)}g||(R=L+(k-=e.Tb.hl(h,R-S)),++E,P=0!=k,D.x=R)}else M||e.la.mH(C,A,D,T)&&(M=!0);P&&x.write(2*I,R),S=R,C.K(A),A.K(D)}0!=E&&O.Oc(1993),g=O.xa(0),j=O.xa(j-1),e.b.vb(g,j),O=n.IR(O,a,isNaN(o)?0:o,s),r.add(O,!1)}return t=a.ce(0),i=l.N()/180,n.su(r,l,.1*t,!1),e.fh.clip(r,l,t,i,s)},n.IR=function(e,t,r,i){return n.vm(e,t,r,!0,0,i)},n.iU=function(t,n,r,i){var a=t.F();if(1736==a)for(n=null!=n?n.ce(0):0,a=0;a<i;a++)1!=e.Zc.Td(t,r[a],n)&&r[a].Tc();else{if(197!=a)throw e.f.I();for(a=0;a<i;a++)t.nQ(r[a])||r[a].Tc()}},n.fl=function(t,n,r,i){if(32>r)for(var a=new e.Ra,o=0;o<r;o++)a.nb(n[o]),t.fl(a,i).w(n[o]);else{var s=new e.Hd;for(s.le(3),s.tE(n,r),a=s.Va(3),o=0;o<r;o++)a.write(o,o);for(o=t.fl(s,i),t=o.Va(0),a=o.Va(3),i=e.b.construct(NaN,NaN),s=0;s<r;s++)n[s]=i;for(r=o.D(),o=0;o<r;o++)i=a.read(o),t.mc(2*o,n[i])}},n.el=function(t,n,r,i){if(32>r)for(var a=new e.Ra,o=0;o<r;o++)a.nb(n[o]),t.el(a,i).w(n[o]);else{var s=new e.Hd;for(s.le(3),s.tE(n,r),a=s.Va(3),o=0;o<r;o++)a.write(o,o);for(o=t.el(s,i),t=o.Va(0),a=o.Va(3),i=e.b.construct(NaN,NaN),s=0;s<r;s++)n[s]=i;for(r=o.D(),o=0;o<r;o++)i=a.read(o),t.mc(2*o,n[i])}},n.G_="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n.bF=210,n}()}(Y||(Y={})),function(e){var t;(t=e.bN||(e.bN={}))[t.rightSide=1]="rightSide";var n=function(){function t(t,n,r){this.jt=new e.b,void 0===t?this.ap=-1:(this.jt.K(t),this.ap=n,this.La=r,this.Tw=0)}return t.prototype.$K=function(e){this.Tw=e?1|this.Tw:-2&this.Tw},t.prototype.u=function(){return 0>this.ap},t.prototype.Lz=function(){if(this.u())throw e.f.Y("invalid call");return new e.Ra(this.jt.x,this.jt.y)},t.prototype.Ua=function(){if(this.u())throw e.f.Y("invalid call");return this.ap},t.prototype.Oz=function(){if(this.u())throw e.f.Y("invalid call");return this.La},t.prototype.AA=function(){return 0!=(1&this.Tw)},t.prototype.Jy=function(e,t,n,r){this.jt.x=e,this.jt.y=t,this.ap=n,this.La=r},t}();e.lm=n}(Y||(Y={})),function(e){var t=function(){function t(){}return t.prototype.wn=function(t,n){this.Ah.resize(0),this.Oi.length=0,this.Ak=-1,t.Zb(this.Mk),this.Mk.O(n,n),this.Mk.isIntersecting(this.Hb.Da)?((this.dt=e.R.Ic(t.F()))?(this.II=t.ac(),this.HI=t.wc(),this.qa=n):this.qa=NaN,this.Ah.add(this.Hb.tf),this.Oi.push(this.Hb.Da),this.yt=this.Hb.As(this.Hb.tf)):this.yt=-1},t.prototype.vi=function(e,t){this.Ah.resize(0),this.Oi.length=0,this.Ak=-1,this.Mk.H(e),this.Mk.O(t,t),this.qa=NaN,this.Mk.isIntersecting(this.Hb.Da)?(this.Ah.add(this.Hb.tf),this.Oi.push(this.Hb.Da),this.yt=this.Hb.As(this.Hb.tf),this.dt=!1):this.yt=-1},t.prototype.next=function(){if(0==this.Ah.size)return-1;this.Ak=this.yt;var t=null,r=null,i=null,a=null;this.dt&&(t=new e.b,r=new e.b,i=new e.g);for(var o=!1;!o;){for(;-1!=this.Ak;){var s=this.Hb.Hz(this.Hb.Nv(this.Ak));if(s.isIntersecting(this.Mk)){if(!this.dt){o=!0;break}if(t.K(this.II),r.K(this.HI),i.H(s),i.O(this.qa,this.qa),0<i.ez(t,r)){o=!0;break}}this.Ak=this.Hb.Uv(this.Ak)}if(-1==this.Ak){s=this.Ah.Gc();var c=this.Oi[this.Oi.length-1];for(null==a&&((a=[])[0]=new e.g,a[1]=new e.g,a[2]=new e.g,a[3]=new e.g),n.IK(c,a),this.Ah.Rf(),--this.Oi.length,c=0;4>c;c++){var u=this.Hb.fq(s,c);if(-1!=u&&0<this.Hb.mT(u)&&a[c].isIntersecting(this.Mk))if(this.dt){if(t.K(this.II),r.K(this.HI),i.H(a[c]),i.O(this.qa,this.qa),0<i.ez(t,r)){var l=new e.g;l.H(a[c]),this.Ah.add(u),this.Oi.push(l)}}else(l=new e.g).H(a[c]),this.Ah.add(u),this.Oi.push(l)}if(0==this.Ah.size)return-1;this.Ak=this.Hb.As(this.Ah.get(this.Ah.size-1))}}return this.yt=this.Hb.Uv(this.Ak),this.Ak},t.lQ=function(n,r,i){var a=new t;return a.Hb=n,a.Mk=new e.g,a.Ah=new e.ha(0),a.Oi=[],a.wn(r,i),a},t.kQ=function(n,r,i){var a=new t;return a.Hb=n,a.Mk=new e.g,a.Ah=new e.ha(0),a.Oi=[],a.vi(r,i),a},t.jQ=function(n){var r=new t;return r.Hb=n,r.Mk=new e.g,r.Ah=new e.ha(0),r.Oi=[],r},t}();e.q_=t;var n=function(){function n(t,n){this.sf=new e.ad(11),this.ei=new e.ad(5),this.et=[],this.Pw=new e.ha(0),this.Da=new e.g,this.Uk(t,n)}return n.prototype.reset=function(e,t){this.sf.rj(!1),this.ei.rj(!1),this.et.length=0,this.Pw.clear(!1),this.Uk(e,t)},n.prototype.Gi=function(e,t){return this.fw(e,t,0,this.Da,this.tf,!1,-1)},n.prototype.ew=function(e,t,n){n=-1==n?this.tf:this.HG(n);var r=this.ca(n),i=this.CS(n);return this.fw(e,t,r,i,n,!1,-1)},n.prototype.ga=function(e){return this.xS(e)},n.prototype.sG=function(e){return this.Hz(this.Nv(e))},n.prototype.ca=function(e){return this.Pv(e)},n.prototype.CS=function(t){var n=new e.g;n.H(this.Da);var r=this.Pv(t);t=this.CG(t);for(var i=0;i<2*r;i+=2){var a=e.L.truncate(3&t>>i);0==a?(n.o=.5*(n.o+n.v),n.A=.5*(n.A+n.B)):1==a?(n.v=.5*(n.o+n.v),n.A=.5*(n.A+n.B)):(2==a?n.v=.5*(n.o+n.v):n.o=.5*(n.o+n.v),n.B=.5*(n.A+n.B))}return n},n.prototype.mT=function(e){return this.iA(e)},n.prototype.LS=function(e,n){return t.lQ(this,e,n)},n.prototype.Vz=function(e,n){return t.kQ(this,e,n)},n.prototype.getIterator=function(){return t.jQ(this)},n.prototype.Uk=function(t,n){if(0>n||32<2*n)throw e.f.I("invalid height");this.UU=n,this.Da.H(t),this.tf=this.sf.Ke(),this.Rx(this.tf,0),this.Kx(this.tf,0),this.RK(this.tf,0),this.OK(this.tf,0)},n.prototype.fw=function(t,r,i,a,o,s,c){if(!a.contains(r))return 0==i?-1:this.fw(t,r,0,this.Da,this.tf,s,c);if(!s)for(var u=o;-1!=u;u=this.YS(u))this.Rx(u,this.iA(u)+1);(u=new e.g).H(a),a=o;var l=[];for(l[0]=new e.g,l[1]=new e.g,l[2]=new e.g,l[3]=new e.g;i<this.UU&&this.rP(a);i++){n.IK(u,l);for(var h=!1,f=0;4>f;f++)if(l[f].contains(r)){h=!0;var d=this.fq(a,f);-1==d&&(d=this.BQ(a,f)),this.Rx(d,this.iA(d)+1),a=d,u.H(l[f]);break}if(!h)break}return this.NT(t,r,i,u,a,s,o,c)},n.prototype.NT=function(e,t,n,r,i,a,o,s){var c=this.yG(i);if(a){if(i==o)return s;this.cR(s),a=s}else a=this.EQ(),this.xC(a,e),this.pY(this.Nv(a),t);return this.PY(a,i),-1!=c?(this.Ox(a,c),this.Lx(c,a)):this.KK(i,a),this.AC(i,a),this.Kx(i,this.Sv(i)+1),this.qP(i)&&this.YR(n,r,i),a},n.prototype.cR=function(e){var t=this.HG(e),n=this.yG(t),r=this.eT(e),i=this.Uv(e);this.As(t)==e?(-1!=i?this.Ox(i,-1):this.AC(t,-1),this.KK(t,i)):n==e?(this.Lx(r,-1),this.AC(t,r)):(this.Ox(i,r),this.Lx(r,i)),this.Ox(e,-1),this.Lx(e,-1),this.Kx(t,this.Sv(t)-1)},n.IK=function(e,t){var n=.5*(e.o+e.v),r=.5*(e.A+e.B);t[0].H(n,r,e.v,e.B),t[1].H(e.o,r,n,e.B),t[2].H(e.o,e.A,n,r),t[3].H(n,e.A,e.v,r)},n.prototype.qP=function(e){return 8==this.Sv(e)&&!this.TG(e)},n.prototype.YR=function(e,t,n){var r=this.As(n);do{var i=this.Nv(r),a=this.ei.S(r,0);i=this.Hz(i),this.fw(a,i,e,t,n,!0,r),r=a=this.Uv(r)}while(-1!=r)},n.prototype.rP=function(e){return 8<=this.Sv(e)||this.TG(e)},n.prototype.TG=function(e){return-1!=this.fq(e,0)||-1!=this.fq(e,1)||-1!=this.fq(e,2)||-1!=this.fq(e,3)},n.prototype.BQ=function(e,t){var n=this.sf.Ke();return this.tY(e,t,n),this.Rx(n,0),this.Kx(n,0),this.Wk(n,e),this.OK(n,this.Pv(e)+1),this.RK(n,t<<2*this.Pv(e)|this.CG(e)),n},n.prototype.EQ=function(){var t=this.ei.Ke();if(0<this.Pw.size){var n=this.Pw.Gc();this.Pw.Rf()}else n=this.et.length,this.et.push(new e.g);return this.qY(t,n),t},n.prototype.fq=function(e,t){return this.sf.S(e,t)},n.prototype.tY=function(e,t,n){this.sf.P(e,t,n)},n.prototype.As=function(e){return this.sf.S(e,4)},n.prototype.KK=function(e,t){this.sf.P(e,4,t)},n.prototype.yG=function(e){return this.sf.S(e,5)},n.prototype.AC=function(e,t){this.sf.P(e,5,t)},n.prototype.CG=function(e){return this.sf.S(e,6)},n.prototype.RK=function(e,t){this.sf.P(e,6,t)},n.prototype.Sv=function(e){return this.sf.S(e,7)},n.prototype.iA=function(e){return this.sf.S(e,8)},n.prototype.Kx=function(e,t){this.sf.P(e,7,t)},n.prototype.Rx=function(e,t){this.sf.P(e,8,t)},n.prototype.YS=function(e){return this.sf.S(e,9)},n.prototype.Wk=function(e,t){this.sf.P(e,9,t)},n.prototype.Pv=function(e){return this.sf.S(e,10)},n.prototype.OK=function(e,t){this.sf.P(e,10,t)},n.prototype.xS=function(e){return this.ei.S(e,0)},n.prototype.xC=function(e,t){this.ei.P(e,0,t)},n.prototype.eT=function(e){return this.ei.S(e,1)},n.prototype.Uv=function(e){return this.ei.S(e,2)},n.prototype.Ox=function(e,t){this.ei.P(e,1,t)},n.prototype.Lx=function(e,t){this.ei.P(e,2,t)},n.prototype.HG=function(e){return this.ei.S(e,3)},n.prototype.PY=function(e,t){this.ei.P(e,3,t)},n.prototype.Nv=function(e){return this.ei.S(e,4)},n.prototype.qY=function(e,t){this.ei.P(e,4,t)},n.prototype.Hz=function(e){return this.et[e]},n.prototype.pY=function(e,t){this.et[e].H(t)},n}();e.Fp=n}(Y||(Y={})),function(e){var t;(t=e.jM||(e.jM={}))[t.Outside=0]="Outside",t[t.Inside=1]="Inside",t[t.Border=2]="Border";var n=function(){function e(e,t){this.hV=t,this.ai=e}return e.prototype.Gx=function(e,t){this.WH!=t&&e.flush(),this.WH=t},e.prototype.UF=function(e,t){for(var n=0;n<t;)for(var r=e[n++],i=e[n++],a=e[n++]*this.hV;r<i;r++)this.ai[a+(r>>4)]|=this.WH<<2*(15&r)},e}();e.r_=n;var r=function(){function t(e,t,n){this.ai=null,this.CB=this.Pk=this.SI=this.QI=this.mt=this.dI=this.Of=this.gn=0,this.Xi=this.Qk=this.El=null,this.nA(e,t,n)}return t.create=function(n,r,i){if(!t.az(n))throw e.f.I();return t.GQ(n,r,i)},t.P_=function(n,r,i){if(!t.az(n))throw e.f.I();return t.HQ(n,r,i)},t.VX=function(t){switch(t){case 0:t=1024;break;case 1:t=16384;break;case 2:t=262144;break;default:throw e.f.Y("Internal Error")}return t},t.az=function(e){return!(e.u()||1607!=e.F()&&1736!=e.F())},t.prototype.DR=function(t,n){n=n.Ba();for(var r=new e.b,i=new e.b;n.Ta();)for(;n.Aa();){var a=n.aa();if(322!=a.F())throw e.f.Y("Internal Error");t.Zj(a.ac(),r),t.Zj(a.wc(),i),this.Xi.Py(r.x,r.y,i.x,i.y)}this.Xi.mK(e.uy.iy)},t.prototype.ER=function(){throw e.f.Y("Internal Error")},t.prototype.xz=function(t,n){for(var r=1;4>r;r++)t.Py(n[r-1].x,n[r-1].y,n[r].x,n[r].y);t.Py(n[3].x,n[3].y,n[0].x,n[0].y),this.Xi.mK(e.uy.iy)},t.prototype.xL=function(t,n,r){for(var i=[null,null,null,null],a=0;a<i.length;a++)i[a]=new e.b;n=n.Ba(),r=this.Qk.MZ(r)+1.5,a=new e.b;for(var o=new e.b,s=new e.b,c=new e.b,u=new e.b,l=new e.g,h=new e.b;n.Ta();){var f=!1,d=!0;for(h.ka(0,0);n.Aa();){var p=n.aa();if(c.x=p.ra,c.y=p.na,u.x=p.pa,u.y=p.ma,l.Ka(),l.Nb(c.x,c.y),l.Sk(u.x,u.y),this.El.tH(l)){this.Qk.Zj(u,u),d?(this.Qk.Zj(c,c),h.K(c),d=!1):c.K(h),a.tc(u,c);var b=.5>(p=a.length());0==p?a.ka(1,0):(b||h.K(u),a.scale(r/p),o.ka(-a.y,a.x),s.ka(a.y,-a.x),c.sub(a),u.add(a),i[0].add(c,o),i[1].add(c,s),i[2].add(u,s),i[3].add(u,o),b?f=!0:this.xz(t,i))}else f&&(this.xz(t,i),f=!1),d=!0}f&&this.xz(t,i)}},t.prototype.aD=function(t){return e.L.truncate(t*this.dI+this.QI)},t.prototype.bD=function(t){return e.L.truncate(t*this.mt+this.SI)},t.GQ=function(e,n,r){return new t(e,n,r)},t.HQ=function(e,n,r){return new t(e,n,r)},t.prototype.nA=function(t,r,i){this.Of=Math.max(e.L.truncate(2*Math.sqrt(i)+.5),64),this.gn=e.L.truncate((2*this.Of+31)/32),this.El=new e.g,this.Pk=r,i=0;for(var a=this.Of,o=this.gn;8<=a;)i+=a*o,a=e.L.truncate(a/2),o=e.L.truncate((2*a+31)/32);this.ai=e.L.Xf(i,0),this.Xi=new e.uy,i=new n(this.ai,this.gn,this),this.Xi.dZ(this.Of,this.Of,i),t.s(this.El),this.El.O(r,r),a=new e.g;var s=r*(o=e.g.construct(1,1,this.Of-2,this.Of-2)).N();switch(r*=o.ca(),a.H(this.El.hf(),Math.max(s,this.El.N()),Math.max(r,this.El.ca())),this.CB=this.Pk,this.Qk=new e.xd,this.Qk.KT(a,o),new e.xd,t.F()){case 550:i.Gx(this.Xi,2),this.ER();break;case 1607:i.Gx(this.Xi,2),this.xL(this.Xi,t,this.CB);break;case 1736:i.Gx(this.Xi,1),this.DR(this.Qk,t),i.Gx(this.Xi,2),this.xL(this.Xi,t,this.CB)}this.dI=this.Qk.fb,this.mt=this.Qk.bb,this.QI=this.Qk.Ob,this.SI=this.Qk.Sb,this.hP()},t.prototype.hP=function(){this.Xi.flush();for(var t=0,n=this.Of*this.gn,r=this.Of,i=e.L.truncate(this.Of/2),a=this.gn,o=e.L.truncate((2*i+31)/32);8<r;){for(r=0;r<i;r++)for(var s=2*r,c=2*r+1,u=0;u<i;u++){var l=2*u,h=2*u+1,f=l>>4;l=2*(15&l);var d=h>>4;h=2*(15&h);var p=this.ai[t+a*s+f]>>l&3;p|=this.ai[t+a*s+d]>>h&3,p|=this.ai[t+a*c+f]>>l&3,p|=this.ai[t+a*c+d]>>h&3,this.ai[n+o*r+(u>>4)]|=p<<2*(15&u)}r=i,a=o,t=n,i=e.L.truncate(r/2),o=e.L.truncate((2*i+31)/32),n=t+a*r}},t.prototype.Xl=function(e,t){return this.El.contains(e,t)?(e=this.aD(e),t=this.bD(t),0>e||e>=this.Of||0>t||t>=this.Of||0==(t=this.ai[this.gn*t+(e>>4)]>>2*(15&e)&3)?0:1==t?1:2):0},t.prototype.rn=function(t){if(!t.Ia(this.El))return 0;var n=this.aD(t.o),r=this.aD(t.v),i=this.bD(t.A);if(t=this.bD(t.B),0>n&&(n=0),0>i&&(i=0),r>=this.Of&&(r=this.Of-1),t>=this.Of&&(t=this.Of-1),n>r||i>t)return 0;for(var a=Math.max(r-n,1)*Math.max(t-i,1),o=0,s=this.gn,c=this.Of,u=0;;){if(32>a||16>c){for(a=i;a<=t;a++)for(var l=n;l<=r;l++)if(1<(u=this.ai[o+s*a+(l>>4)]>>2*(15&l)&3))return 2;if(0==u)return 0;if(1==u)return 1}o+=s*c,c=e.L.truncate(c/2),s=e.L.truncate((2*c+31)/32),n=e.L.truncate(n/2),i=e.L.truncate(i/2),r=e.L.truncate(r/2),t=e.L.truncate(t/2),a=Math.max(r-n,1)*Math.max(t-i,1)}},t.prototype.hT=function(){return this.Of*this.gn},t}();e.sy=r}(Y||(Y={})),function(e){var t;(t=e.cN||(e.cN={}))[t.contains=1]="contains",t[t.within=2]="within",t[t.equals=3]="equals",t[t.disjoint=4]="disjoint",t[t.touches=8]="touches",t[t.crosses=16]="crosses",t[t.overlaps=32]="overlaps",t[t.unknown=0]="unknown",t[t.intersects=1073741824]="intersects";var n=function(){function e(){}return e.construct=function(t,n,r,i,a,o,s,c){var u=new e;return u.Vw=t,u.Zm=n,u.Mj=r,u.Yi=i,u.rI=a,u.v0=o,u.w0=s,u.x0=c,u},e}();e.Cu=function(){function t(){}return t.oE=function(n,r,i){if(t.bz(n)){var a=e.la.Ng(r,n,!1);r=!1,e.Yk.mF(n)&&(r=r||n.Su(a,i)),1736!=(a=n.F())&&1607!=a||!e.Yk.kF(n)||0==i||(r=r||n.lj(i)),1736!=a&&1607!=a||!e.Yk.lF(n)||0==i||r||n.oN()}},t.bz=function(t){return e.Yk.mF(t)||e.Yk.kF(t)||e.Yk.lF(t)},t}();var r=function(){function t(){this.yh=[]}return t.iC=function(n,r,i,a,o){var s=n.F(),c=r.F();if(197==s){if(197==c)return t.ZX(n,r,i,a);if(33==c)return 2==a?a=1:1==a&&(a=2),t.lK(r,n,i,a)}else if(33==s){if(197==c)return t.lK(n,r,i,a);if(33==c)return t.aY(n,r,i,a)}if(n.u()||r.u())return 4==a;var u=new e.g;n.s(u);var l=new e.g;r.s(l);var h=new e.g;if(h.H(u),h.Nb(l),i=e.la.Qd(i,h,!1),t.ik(u,l,i))return 4==a;switch(u=!1,e.Zk.Ic(s)&&((s=new e.Oa(n.description)).$b(n,!0),n=s,s=1607),e.Zk.Ic(c)&&((c=new e.Oa(r.description)).$b(r,!0),r=c,c=1607),197!=s&&197!=c?(n.pb()<r.pb()||33==s&&550==c)&&(2==a?a=1:1==a&&(a=2)):1736!=s&&197!=c&&(2==a?a=1:1==a&&(a=2)),s){case 1736:switch(c){case 1736:u=t.Zt(n,r,i,a,o);break;case 1607:u=t.on(n,r,i,a,o);break;case 33:u=t.Yt(n,r,i,a);break;case 550:u=t.Xt(n,r,i,a,o);break;case 197:u=t.xJ(n,r,i,a,o)}break;case 1607:switch(c){case 1736:u=t.on(r,n,i,a,o);break;case 1607:u=t.RB(n,r,i,a,o);break;case 33:u=t.au(n,r,i,a,o);break;case 550:u=t.$t(n,r,i,a,o);break;case 197:u=t.DJ(n,r,i,a)}break;case 33:switch(c){case 1736:u=t.Yt(r,n,i,a);break;case 1607:u=t.au(r,n,i,a,o);break;case 550:u=t.Tt(r,n,i,a)}break;case 550:switch(c){case 1736:u=t.Xt(r,n,i,a,o);break;case 1607:u=t.$t(r,n,i,a,o);break;case 550:u=t.JB(n,r,i,a,o);break;case 33:u=t.Tt(n,r,i,a);break;case 197:u=t.XI(n,r,i,a)}break;case 197:switch(c){case 1736:u=t.xJ(r,n,i,a,o);break;case 1607:u=t.DJ(r,n,i,a);break;case 550:u=t.XI(r,n,i,a)}}return u},t.ZX=function(n,r,i,a){if(n.u()||r.u())return 4==a;var o=new e.g,s=new e.g,c=new e.g;switch(n.s(o),r.s(s),c.H(o),c.Nb(s),n=e.la.Qd(i,c,!1),a){case 4:return t.ik(o,s,n);case 2:return t.XF(s,o,n);case 1:return t.XF(o,s,n);case 3:return t.jk(o,s,n);case 8:return t.nR(o,s,n);case 32:return t.mR(o,s,n);case 16:return t.lR(o,s,n)}return!1},t.lK=function(n,r,i,a){if(n.u()||r.u())return 4==a;n=n.w();var o=new e.g,s=new e.g;switch(r.s(o),s.H(n),s.Nb(o),r=e.la.Qd(i,s,!1),a){case 4:return t.xx(n,o,r);case 2:return t.PB(n,o,r);case 1:return t.iW(n,o,r);case 3:return t.mJ(n,o,r);case 8:return t.OB(n,o,r)}return!1},t.aY=function(n,r,i,a){if(n.u()||r.u())return 4==a;n=n.w(),r=r.w();var o=new e.g;switch(o.H(n),o.Nb(r),i=e.la.Qd(i,o,!1),a){case 4:return t.jW(n,r,i);case 2:return t.lJ(r,n,i);case 1:return t.lJ(n,r,i);case 3:return t.nJ(n,r,i)}return!1},t.Zt=function(e,n,r,i,a){switch(i){case 4:return t.DW(e,n,r);case 2:return t.yx(n,e,r,a);case 1:return t.yx(e,n,r,a);case 3:return t.GW(e,n,r);case 8:return t.OW(e,n,r);case 32:return t.JW(e,n,r,a)}return!1},t.on=function(e,n,r,i,a){switch(i){case 4:return t.EW(e,n,r);case 1:return t.QB(e,n,r,a);case 8:return t.PW(e,n,r,a);case 16:return t.yW(e,n,r)}return!1},t.Yt=function(e,n,r,i){switch(i){case 4:return t.BW(e,n,r);case 1:return t.vW(e,n,r);case 8:return t.NW(e,n,r)}return!1},t.Xt=function(e,n,r,i){switch(i){case 4:return t.AW(e,n,r);case 1:return t.uW(e,n,r);case 8:return t.MW(e,n,r);case 16:return t.xW(e,n,r)}return!1},t.xJ=function(e,n,r,i,a){if(t.zW(e,n,r))return 4==i;if(4==i)return!1;switch(i){case 2:return t.QW(e,n,r);case 1:return t.tW(e,n,r);case 3:return t.FW(e,n,r);case 8:return t.LW(e,n,r,a);case 32:return t.IW(e,n,r,a);case 16:return t.wW(e,n,r,a)}return!1},t.RB=function(e,n,r,i){switch(i){case 4:return t.ZW(e,n,r);case 2:return t.BJ(n,e,r);case 1:return t.BJ(e,n,r);case 3:return t.aX(e,n,r);case 8:return t.EJ(e,n,r);case 32:return t.eX(e,n,r);case 16:return t.CJ(e,n,r)}return!1},t.au=function(e,n,r,i){switch(i){case 4:return t.YW(e,n,r);case 1:return t.TW(e,n,r);case 8:return t.iX(e,n,r)}return!1},t.$t=function(e,n,r,i){switch(i){case 4:return t.XW(e,n,r);case 1:return t.SW(e,n,r);case 8:return t.hX(e,n,r);case 16:return t.VW(e,n,r)}return!1},t.DJ=function(e,n,r,i){if(t.WW(e,n,r))return 4==i;if(4==i)return!1;switch(i){case 2:return t.jX(e,n,r);case 1:return t.RW(e,n,r);case 3:return t.$W(e,n,r);case 8:return t.gX(e,n,r);case 32:return t.dX(e,n,r);case 16:return t.UW(e,n,r)}return!1},t.JB=function(e,n,r,i){switch(i){case 4:return t.AV(e,n,r);case 2:return t.UI(n,e,r);case 1:return t.UI(e,n,r);case 3:return t.CV(e,n,r);case 32:return t.IV(e,n,r)}return!1},t.Tt=function(e,n,r,i){switch(i){case 4:return t.VI(e,n,r);case 2:return t.MV(e,n,r);case 1:return t.xV(e,n,r);case 3:return t.tx(e,n,r)}return!1},t.XI=function(e,n,r,i){switch(i){case 4:return t.zV(e,n,r);case 2:return t.LV(e,n,r);case 1:return t.wV(e,n,r);case 3:return t.BV(e,n,r);case 8:return t.KV(e,n,r);case 16:return t.yV(e,n,r)}return!1},t.GW=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),!!t.jk(a,o,i)&&4!=(a=t.qc(n,r,!1))&&1!=a&&2!=a&&(!!t.TI(n,r,i)||(a=n.Pb(),o=r.Pb(),!(Math.abs(a-o)>4*Math.max(n.D(),r.D())*i)&&t.GA(n,r,i,!0)))},t.DW=function(e,n,r){var i=t.qc(e,n,!0);return 4==i||1!=i&&2!=i&&1073741824!=i&&t.vJ(e,n,r)},t.OW=function(e,n,r){var i=t.qc(e,n,!1);return 4!=i&&1!=i&&2!=i&&t.zJ(e,n,r,null)},t.JW=function(e,n,r,i){var a=t.qc(e,n,!1);return 4!=a&&1!=a&&2!=a&&t.wJ(e,n,r,i)},t.yx=function(n,r,i,a){var o=new e.g,s=new e.g;return n.s(o),r.s(s),!!t.yc(o,s,i)&&4!=(o=t.qc(n,r,!1))&&2!=o&&(1==o||t.sJ(n,r,i,a))},t.EW=function(e,n,r){var i=t.qc(e,n,!0);return 4==i||1!=i&&1073741824!=i&&t.vJ(e,n,r)},t.PW=function(e,n,r,i){var a=t.qc(e,n,!1);return 4!=a&&1!=a&&t.AJ(e,n,r,i)},t.yW=function(e,n,r){var i=t.qc(e,n,!1);return 4!=i&&1!=i&&t.uJ(e,n,r,null)},t.QB=function(n,r,i,a){var o=new e.g,s=new e.g;return n.s(o),r.s(s),!!t.yc(o,s,i)&&4!=(o=t.qc(n,r,!1))&&(1==o||t.tJ(n,r,i,a))},t.BW=function(t,n,r){return 0==e.Zc.wH(t,n,r)},t.NW=function(e,n,r){return n=n.w(),t.yJ(e,n,r)},t.vW=function(e,n,r){return n=n.w(),t.rJ(e,n,r)},t.AW=function(n,r,i){var a=t.qc(n,r,!1);if(4==a)return!0;if(1==a)return!1;a=new e.g,n.s(a),a.O(i,i);for(var o=new e.b,s=0;s<r.D();s++)if(r.w(s,o),a.contains(o)){var c=e.Zc.Td(n,o,i);if(1==c||2==c)return!1}return!0},t.MW=function(t,n,r){var i=this.qc(t,n,!1);if(4==i||1==i)return!1;i=new e.g,t.s(i),i.O(r,r);for(var a=!1,o=t,s=!1,c=0;c<n.D();c++){var u=n.xa(c);if(i.contains(u))if(2==(u=e.Zc.Td(o,u,r)))a=!0;else if(1==u)return!1;s||(!e.Oe.Wl(t,n.D()-1)||null!=t.ib&&null!=t.ib.Hb?o=t:(o=new e.Fa,t.copyTo(o),o.lj(1)),s=!0)}return!!a},t.xW=function(t,n,r){var i=this.qc(t,n,!1);if(4==i||1==i)return!1;var a=new e.g;i=new e.g;var o=new e.g;t.s(a),n.s(o),i.H(a),i.O(r,r),o=a=!1;for(var s=t,c=!1,u=0;u<n.D();u++){var l=n.xa(u);if(i.contains(l)?0==(l=e.Zc.Td(s,l,r))?o=!0:1==l&&(a=!0):o=!0,a&&o)return!0;c||(!e.Oe.Wl(t,n.D()-1)||null!=t.ib&&null!=t.ib.Hb?s=t:(s=new e.Fa,t.copyTo(s),s.lj(1)),c=!0)}return!1},t.uW=function(t,n,r){var i=new e.g,a=new e.g;if(t.s(i),n.s(a),!this.yc(i,a,r))return!1;if(4==(a=this.qc(t,n,!1)))return!1;if(1==a)return!0;a=!1;for(var o=t,s=!1,c=0;c<n.D();c++){var u=n.xa(c);if(!i.contains(u))return!1;if(1==(u=e.Zc.Td(o,u,r)))a=!0;else if(0==u)return!1;s||(!e.Oe.Wl(t,n.D()-1)||null!=t.ib&&null!=t.ib.Hb?o=t:(o=new e.Fa,t.copyTo(o),o.lj(1)),s=!0)}return a},t.FW=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),!!t.jk(a,o,i)&&((a=new e.Fa).bd(r,!1),t.GA(n,a,i,!0))},t.zW=function(n,r,i){var a=t.qc(n,r,!1);if(4==a)return!0;if(1==a||2==a)return!1;var o=new e.g;if(a=new e.g,n.s(o),r.s(a),t.yc(a,o,i))return!1;if(o=new e.b,a.tn(o),0!=(r=e.Zc.Td(n,o,i)))return!1;if(a.RJ(o),0!=(r=e.Zc.Td(n,o,i)))return!1;if(a.un(o),0!=(r=e.Zc.Td(n,o,i)))return!1;if(a.UJ(o),0!=(r=e.Zc.Td(n,o,i)))return!1;r=n.Va(0),(o=new e.g).H(a),o.O(i,i);for(var s=0,c=n.D();s<c;s++){var u=r.read(2*s),l=r.read(2*s+1);if(o.contains(u,l))return!1}return!t.EH(n,a,i)},t.LW=function(n,r,i,a){var o=t.qc(n,r,!1);if(4==o||1==o||2==o)return!1;o=new e.g;var s=new e.g;return n.s(o),r.s(s),!t.yc(s,o,i)&&(s.N()<=i&&s.ca()<=i?(r=r.bq(),t.yJ(n,r,i)):s.N()<=i||s.ca()<=i?(o=new e.Oa,s=new e.Ra,r.Pf(0,s),o.xf(s),r.Pf(2,s),o.lineTo(s),t.AJ(n,o,i,a)):((o=new e.Fa).bd(r,!1),t.zJ(n,o,i,a)))},t.IW=function(n,r,i,a){var o=t.qc(n,r,!1);if(4==o||1==o||2==o)return!1;o=new e.g;var s=new e.g;return n.s(o),r.s(s),!(t.yc(s,o,i)||s.N()<=i||s.ca()<=i)&&((o=new e.Fa).bd(r,!1),t.wJ(n,o,i,a))},t.QW=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),t.yc(o,a,i)},t.tW=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),!!t.yc(a,o,i)&&4!=(a=t.qc(n,r,!1))&&2!=a&&(1==a||(o.N()<=i&&o.ca()<=i?(r=r.bq(),t.rJ(n,r,i)):o.N()<=i||o.ca()<=i?(o=new e.Oa,a=new e.Ra,r.Pf(0,a),o.xf(a),r.Pf(2,a),o.lineTo(a),t.tJ(n,o,i,null)):((o=new e.Fa).bd(r,!1),t.sJ(n,o,i,null))))},t.wW=function(n,r,i,a){var o=new e.g,s=new e.g;return n.s(o),r.s(s),!(t.yc(s,o,i)||s.ca()>i&&s.N()>i||s.ca()<=i&&s.N()<=i)&&(o=new e.Oa,s=new e.Ra,r.Pf(0,s),o.xf(s),r.Pf(2,s),o.lineTo(s),t.uJ(n,o,i,a))},t.aX=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),!(!t.jk(a,o,i)||4==t.qc(n,r,!1))&&(!!t.TI(n,r,i)||t.GA(n,r,i,!1))},t.ZW=function(t,n,r){return 4==this.qc(t,n,!1)||!!new e.km(t,n,r,!0).next()&&!this.FH(t,n,r)},t.EJ=function(n,r,i){if(4==t.qc(n,r,!1))return!1;var a=new e.ie(0);if(0!=t.HA(n,r,i,a))return!1;for(var o=new e.Hd,s=0;s<a.size;s+=2){var c=a.read(s),u=a.read(s+1);o.gv(c,u)}return n=n.sg(),r=r.sg(),n.yd(r,0,r.D()),t.sx(n,o,i)},t.CJ=function(n,r,i){if(4==t.qc(n,r,!1))return!1;var a=new e.ie(0);if(0!=t.HA(n,r,i,a))return!1;for(var o=new e.Hd,s=0;s<a.size;s+=2){var c=a.read(s),u=a.read(s+1);o.gv(c,u)}return n=n.sg(),r=r.sg(),n.yd(r,0,r.D()),!t.sx(n,o,i)},t.eX=function(e,n,r){return 4!=t.qc(e,n,!1)&&t.HH(e,n,r)},t.BJ=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),!(!t.yc(a,o,i)||4==t.qc(n,r,!1))&&t.Lm(r,n,i,!1)},t.YW=function(e,n,r){return 4==t.qc(e,n,!1)||(n=n.w(),!t.IA(e,n,r))},t.iX=function(e,n,r){return 4!=t.qc(e,n,!1)&&(n=n.w(),t.JA(e,n,r))},t.TW=function(e,n,r){return 4!=t.qc(e,n,!1)&&(n=n.w(),t.DH(e,n,r))},t.XW=function(e,n,r){return 4==t.qc(e,n,!1)||!t.GH(e,n,r,!1)},t.hX=function(t,n,r){if(4==this.qc(t,n,!1))return!1;var i=t.Ba(),a=new e.g,o=new e.g,s=new e.g;t.s(a),n.s(o),a.O(r,r),o.O(r,r),s.H(a),s.Ia(o),a=null;var c=t.ib;if(null!=c){var u=c.Hb;a=c.To,null==u&&(u=c=e.la.pj(t,s))}else u=c=e.la.pj(t,s);var l=u.getIterator(),h=null;null!=a&&(h=a.getIterator());var f=new e.b,d=new e.b,p=!1,b=r*r;for(a=new e.Gn(n.D()),c=0;c<n.D();c++)a.write(c,0);for(c=0;c<n.D();c++)if(n.w(c,f),s.contains(f)){if(o.H(f.x,f.y,f.x,f.y),null!=h&&(h.vi(o,r),-1==h.next()))continue;l.vi(o,r);for(var v=l.next();-1!=v;v=l.next())if(i.Rb(u.ga(v)),(v=i.aa()).cc(v.ae(f,!1),d),e.b.oc(f,d)<=b){a.write(c,1),p=!0;break}}if(!p)return!1;for(t=t.sg(),i=new e.Hd,o=new e.b,c=0;c<n.D();c++)0!=a.read(c)&&(n.w(c,o),i.gv(o.x,o.y));return this.sx(t,i,r)},t.VW=function(t,n,r){if(4==this.qc(t,n,!1))return!1;var i=t.Ba(),a=new e.g,o=new e.g,s=new e.g;t.s(a),n.s(o),a.O(r,r),o.O(r,r),s.H(a),s.Ia(o),a=null;var c=t.ib;if(null!=c){var u=c.Hb;a=c.To,null==u&&(u=c=e.la.pj(t,s))}else u=c=e.la.pj(t,s);var l=u.getIterator(),h=null;null!=a&&(h=a.getIterator());var f=new e.b,d=new e.b,p=!1,b=!1,v=r*r;for(a=new e.Gn(n.D()),c=0;c<n.D();c++)a.write(c,0);for(c=0;c<n.D();c++)if(n.w(c,f),s.contains(f)){if(o.H(f.x,f.y,f.x,f.y),null!=h&&(h.vi(o,r),-1==h.next())){b=!0;continue}l.vi(o,r);for(var y=!1,m=l.next();-1!=m;m=l.next())if(i.Rb(u.ga(m)),(m=i.aa()).cc(m.ae(f,!1),d),e.b.oc(f,d)<=v){a.write(c,1),y=p=!0;break}y||(b=!0)}else b=!0;if(!p||!b)return!1;for(t=t.sg(),i=new e.Hd,o=new e.b,c=0;c<n.D();c++)0!=a.read(c)&&(n.w(c,o),i.gv(o.x,o.y));return!this.sx(t,i,r)},t.SW=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),!(!t.yc(a,o,i)||4==t.qc(n,r,!1)||!t.GH(n,r,i,!0)||(n=n.sg(),t.WI(n,r,i)))},t.$W=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),!(o.ca()>i&&o.N()>i)&&t.jk(a,o,i)},t.WW=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),!t.yc(o,a,i)&&!t.EH(n,o,i)},t.gX=function(n,r,i){var a=new e.g,o=new e.g;if(n.s(a),r.s(o),o.ca()<=i&&o.N()<=i)return o=r.bq(),t.JA(n,o,i);if(o.ca()<=i||o.N()<=i)return o=new e.Oa,a=new e.Ra,r.Pf(0,a),o.xf(a),r.Pf(2,a),o.lineTo(a),t.EJ(n,o,i);n=n.Ba(),r=new e.g,a=new e.g,r.H(o),a.H(o),r.O(-i,-i),a.O(i,i),o=!1;for(var s=new e.g,c=new e.g;n.Ta();)for(;n.Aa();){if(n.aa().s(s),c.H(r),c.Ia(s),!c.u()&&(c.ca()>i||c.N()>i))return!1;c.H(a),c.Ia(s),c.u()||(o=!0)}return o},t.dX=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),!(t.yc(a,o,i)||t.yc(o,a,i)||t.yc(o,a,i)||o.ca()>i&&o.N()>i||o.ca()<=i&&o.N()<=i)&&(a=new e.Oa,o=new e.Ra,r.Pf(0,o),a.xf(o),r.Pf(2,o),a.lineTo(o),t.HH(n,a,i))},t.jX=function(n,r,i){var a=new e.g,o=new e.g;if(n.s(a),r.s(o),!t.yc(o,a,i)||o.ca()<=i&&o.N()<=i)return!1;if(o.ca()<=i||o.N()<=i)return t.yc(o,a,i);n=n.Ba(),(r=new e.g).H(o),r.O(-i,-i),o=!1,a=new e.g;for(var s=new e.g;n.Ta();)for(;n.Aa();)n.aa().s(a),r.sm(a)?o=!0:(s.H(r),s.Ia(a),!s.u()&&(s.ca()>i||s.N()>i)&&(o=!0));return o},t.RW=function(n,r,i){var a=new e.g,o=new e.g;return r.s(o),n.s(a),!(!t.yc(a,o,i)||o.ca()>i&&o.N()>i)&&(o.ca()<=i&&o.N()<=i?(r=r.bq(),t.DH(n,r,i)):(a=new e.Oa,o=new e.Ra,r.Pf(0,o),a.xf(o),r.Pf(2,o),a.lineTo(o),t.Lm(a,n,i,!1)))},t.UW=function(n,r,i){var a=new e.g,o=new e.g;if(n.s(a),r.s(o),t.yc(o,a,i)||o.ca()<=i&&o.N()<=i)return!1;if(o.ca()<=i||o.N()<=i)return a=new e.Oa,o=new e.Ra,r.Pf(0,o),a.xf(o),r.Pf(2,o),a.lineTo(o),t.CJ(n,a,i);n=n.Ba(),r=new e.g,(a=new e.g).H(o),r.H(o),a.O(-i,-i),r.O(i,i);for(var s=o=!1,c=new e.g,u=new e.g;n.Ta();)for(;n.Aa();)if(n.aa().s(c),s||r.contains(c)||(s=!0),o||(u.H(a),u.Ia(c),!u.u()&&(u.ca()>i||u.N()>i)&&(o=!0)),o&&s)return!0;return!1},t.CV=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),!!t.jk(a,o,i)&&(!!t.DV(n,r,i)||t.IB(n,r,i,!1,!0,!1))},t.AV=function(e,n,r){return!t.WI(e,n,r)},t.IV=function(e,n,r){return t.IB(e,n,r,!1,!1,!0)},t.UI=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),!!t.yc(a,o,i)&&t.IB(r,n,i,!0,!1,!1)},t.sx=function(t,n,r){r*=r;for(var i=new e.b,a=new e.b,o=0;o<n.D();o++){n.w(o,a);for(var s=!1,c=0;c<t.D();c++)if(t.w(c,i),e.b.oc(i,a)<=r){s=!0;break}if(!s)return!1}return!0},t.tx=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),t.jk(a,o,i)},t.VI=function(e,n,r){return n=n.w(),t.St(e,n,r)},t.MV=function(e,n,r){return t.tx(e,n,r)},t.xV=function(e,n,r){return!t.VI(e,n,r)},t.BV=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),!(o.ca()>i||o.N()>i)&&t.jk(a,o,i)},t.zV=function(n,r,i){var a=new e.g,o=new e.g;if(n.s(a),r.s(o),t.yc(o,a,i))return!1;for((r=new e.g).H(o),r.O(i,i),i=new e.b,o=0;o<n.D();o++)if(n.w(o,i),r.contains(i))return!1;return!0},t.KV=function(t,n,r){var i=new e.g,a=new e.g,o=new e.g;if(n.s(i),i.ca()<=r&&i.N()<=r)return!1;if(i.ca()<=r||i.N()<=r){n=new e.b;var s=!1;a.H(i),o.H(i),a.O(r,r),i.ca()>r?o.O(0,-r):o.O(-r,0);for(var c=0;c<t.D();c++)if(t.w(c,n),a.contains(n)){if(i.ca()>r){if(n.y>o.A&&n.y<o.B)return!1}else if(n.x>o.o&&n.x<o.v)return!1;s=!0}return s}for(a.H(i),o.H(i),a.O(r,r),o.O(-r,-r),n=new e.b,s=!1,c=0;c<t.D();c++)if(t.w(c,n),a.contains(n)){if(o.sm(n))return!1;s=!0}return s},t.LV=function(n,r,i){var a=new e.g,o=new e.g;if(n.s(a),r.s(o),!t.yc(o,a,i))return!1;if(o.ca()<=i&&o.N()<=i)return t.jk(a,o,i);if(o.ca()<=i||o.N()<=i){r=!1,a=new e.g;var s=new e.g;a.H(o),s.H(o),o.ca()>i?a.O(0,-i):a.O(-i,0),s.O(i,i);for(var c=new e.b,u=0;u<n.D();u++){if(n.w(u,c),!s.contains(c))return!1;o.ca()>i?c.y>a.A&&c.y<a.B&&(r=!0):c.x>a.o&&c.x<a.v&&(r=!0)}return r}for(r=!1,a=new e.g,s=new e.g,a.H(o),s.H(o),a.O(-i,-i),s.O(i,i),c=new e.b,u=0;u<n.D();u++){if(n.w(u,c),!s.contains(c))return!1;a.sm(c)&&(r=!0)}return r},t.wV=function(n,r,i){var a=new e.g,o=new e.g;return n.s(a),r.s(o),!(!t.yc(a,o,i)||o.ca()>i||o.N()>i||(r=r.bq(),t.St(n,r,i)))},t.yV=function(n,r,i){var a=new e.g,o=new e.g;if(n.s(a),r.s(o),t.yc(o,a,i)||o.ca()<=i&&o.N()<=i)return!1;if(o.ca()<=i||o.N()<=i){r=new e.g,a=new e.g,r.H(o),o.ca()>i?r.O(0,-i):r.O(-i,0),a.H(o),a.O(i,i);for(var s=new e.b,c=!1,u=!1,l=0;l<n.D();l++)if(n.w(l,s),c||(o.ca()>i?s.y>r.A&&s.y<r.B&&(c=!0):s.x>r.o&&s.x<r.v&&(c=!0)),u||a.contains(s)||(u=!0),c&&u)return!0;return!1}for(r=new e.g,a=new e.g,r.H(o),r.O(-i,-i),a.H(o),a.O(i,i),s=new e.b,u=c=!1,l=0;l<n.D();l++)if(n.w(l,s),!c&&r.sm(s)&&(c=!0),u||a.contains(s)||(u=!0),c&&u)return!0;return!1},t.nJ=function(t,n,r){return e.b.oc(t,n)<=r*r},t.jW=function(t,n,r){return e.b.oc(t,n)>r*r},t.lJ=function(e,n,r){return t.nJ(e,n,r)},t.mJ=function(n,r,i){var a=new e.g;return a.H(n),t.jk(a,r,i)},t.xx=function(t,n,r){var i=new e.g;return i.H(n),i.O(r,r),!i.contains(t)},t.OB=function(t,n,r){if(n.ca()<=r&&n.N()<=r)return!1;var i=new e.g,a=new e.g;if(i.H(n),i.O(r,r),!i.contains(t))return!1;if(n.ca()<=r||n.N()<=r){if(a.H(n),n.ca()>r?a.O(0,-r):a.O(-r,0),n.ca()>r){if(t.y>a.A&&t.y<a.B)return!1}else if(t.x>a.o&&t.x<a.v)return!1;return!0}return a.H(n),a.O(-r,-r),!a.sm(t)},t.PB=function(t,n,r){if(n.ca()<=r&&n.N()<=r)return!0;if(n.ca()<=r||n.N()<=r){var i=new e.g;i.H(n),n.ca()>r?i.O(0,-r):i.O(-r,0);var a=!1;return n.ca()>r?t.y>i.A&&t.y<i.B&&(a=!0):t.x>i.o&&t.x<i.v&&(a=!0),a}return(i=new e.g).H(n),i.O(-r,-r),i.sm(t)},t.iW=function(e,n,r){return t.mJ(e,n,r)},t.jk=function(e,n,r){return t.yc(e,n,r)&&t.yc(n,e,r)},t.ik=function(t,n,r){var i=new e.g;return i.H(n),i.O(r,r),!t.isIntersecting(i)},t.nR=function(n,r,i){if(n.ca()<=i&&n.N()<=i){var a=n.hf();return t.OB(a,r,i)}if(r.ca()<=i&&r.N()<=i)return a=r.hf(),t.OB(a,n,i);if(n.ca()>i&&n.N()>i&&(r.ca()<=i||r.N()<=i)?a=r:(a=n,n=r),a.ca()<=i||a.N()<=i){if(n.ca()<=i||n.N()<=i){r=new e.zb;var o=new e.zb,s=[0,0],c=[0,0],u=new e.b;return a.tn(u),r.Fc(u),a.un(u),r.Sc(u),n.tn(u),o.Fc(u),n.un(u),o.Sc(u),r.Ia(o,null,s,c,i),1==r.Ia(o,null,null,null,i)&&(0==s[0]||1==s[1]||0==c[0]||1==c[1])}return r=new e.g,o=new e.g,r.H(n),r.O(-i,-i),o.H(r),o.Ia(a),!(!o.u()&&(o.ca()>i||o.N()>i))}return n.O(i,i),(o=new e.g).H(a),o.Ia(n),!(o.u()||!o.u()&&o.ca()>i&&o.N()>i)},t.mR=function(n,r,i){if(t.yc(n,r,i)||t.yc(r,n,i)||n.ca()<=i&&n.N()<=i||r.ca()<=i&&r.N()<=i)return!1;if(n.ca()<=i||n.N()<=i){if(r.ca()>i&&r.N()>i)return!1;var a=new e.zb,o=new e.zb,s=[0,0],c=[0,0],u=new e.b;return n.tn(u),a.Fc(u),n.un(u),a.Sc(u),r.tn(u),o.Fc(u),r.un(u),o.Sc(u),a.Ia(o,null,s,c,i),2==a.Ia(o,null,null,null,i)&&(0<s[0]||1>s[1])&&(0<c[0]||1>c[1])}return!(r.ca()<=i||r.N()<=i||((a=new e.g).H(n),a.Ia(r),a.u()||a.ca()<=i||a.N()<=i))},t.XF=function(n,r,i){if(!t.yc(n,r,i))return!1;if(n.ca()<=i&&n.N()<=i)return n=n.hf(),t.PB(n,r,i);if(r.ca()<=i&&r.N()<=i)return r=r.hf(),t.PB(r,n,i);if(n.ca()<=i||n.N()<=i)return t.yc(n,r,i);if(r.ca()<=i||r.N()<=i){var a=new e.g;return a.H(n),a.O(-i,-i),!!a.sm(r)||((n=new e.g).H(a),n.Ia(r),!(n.u()||n.ca()<=i&&n.N()<=i))}return t.yc(n,r,i)},t.lR=function(n,r,i){if(t.yc(n,r,i)||t.yc(r,n,i)||n.ca()<=i&&n.N()<=i||r.ca()<=i&&r.N()<=i||r.ca()>i&&r.N()>i&&n.ca()>i&&n.N()>i)return!1;if(n.ca()>i&&n.N()>i)var a=r;else a=n,n=r;if(n.ca()>i&&n.N()>i){r=new e.g;var o=new e.g;return o.H(n),o.O(-i,-i),r.H(o),r.Ia(a),!(r.u()||r.ca()<=i&&r.N()<=i)}r=new e.zb,o=new e.zb;var s=[0,0],c=[0,0],u=new e.b;return a.tn(u),r.Fc(u),a.un(u),r.Sc(u),n.tn(u),o.Fc(u),n.un(u),o.Sc(u),r.Ia(o,null,s,c,i),1==r.Ia(o,null,null,null,i)&&0<s[0]&&1>s[1]&&0<c[0]&&1>c[1]},t.vJ=function(t,n,r){var i=new e.g,a=new e.g,o=new e.km(t,n,r,!0);if(!o.next())return!0;if(this.FH(t,n,r))return!1;var s=t,c=null;1736==n.F()&&(c=n);var u=!1,l=!1;do{var h=o.tl(),f=o.ol();if(f=n.xa(n.ua(f)),i.H(o.cA()),i.O(r,r),i.contains(f)&&0!=(f=e.Zc.Td(s,f,0))||1736==n.F()&&(h=t.xa(t.ua(h)),a.H(o.Gz()),a.O(r,r),a.contains(h)&&0!=(f=e.Zc.Td(c,h,0))))return!1;u||(!e.Oe.Wl(t,n.$()-1)||null!=t.ib&&null!=t.ib.Hb?s=t:(s=new e.Fa,t.copyTo(s),s.lj(1)),u=!0),1736!=n.F()||l||(l=n,!e.Oe.Wl(l,t.$()-1)||null!=n.ib&&null!=n.ib.Hb?c=n:(c=new e.Fa,l.copyTo(c),c.lj(1)),l=!0)}while(o.next());return!0},t.yc=function(t,n,r){var i=new e.g;return i.H(t),i.O(r,r),i.contains(n)},t.Ts=function(t,n,r){var i=new e.g;return i.H(n),i.O(r,r),n=new e.b,t.tn(n),!(i.contains(n)&&(t.RJ(n),i.contains(n)&&(t.UJ(n),i.contains(n)&&(t.un(n),i.contains(n)))))},t.TI=function(t,n,r){if(t.$()!=n.$()||t.D()!=n.D())return!1;var i=new e.b,a=new e.b,o=!0;r*=r;for(var s=0;s<t.$();s++){if(t.zc(s)!=n.zc(s)){o=!1;break}for(var c=t.ua(s);c<n.zc(s);c++)if(t.w(c,i),n.w(c,a),e.b.oc(i,a)>r){o=!1;break}if(!o)break}return!!o},t.DV=function(t,n,r){if(t.D()!=n.D())return!1;var i=new e.b,a=new e.b,o=!0;r*=r;for(var s=0;s<t.D();s++)if(t.w(s,i),n.w(s,a),e.b.oc(i,a)>r){o=!1;break}return!!o},t.IB=function(t,n,r,i,a,o){var s=!1;if(t.D()>n.D()){i&&(i=!1,s=!0);var c=n}else c=t,t=n;if(n=null,a||o||s){n=new e.Gn(t.D());for(var u=0;u<t.D();u++)n.write(u,0)}u=new e.g;var l=new e.g,h=new e.g;c.s(u),t.s(l),u.O(r,r),l.O(r,r),h.H(u),h.Ia(l),l=new e.b;for(var f=new e.b,d=!0,p=e.la.aF(t,h),b=p.getIterator(),v=r*r,y=0;y<c.D();y++)if(c.w(y,l),h.contains(l)){var m=!1;u.H(l.x,l.y,l.x,l.y),b.vi(u,r);for(var g=b.next();-1!=g&&(g=p.ga(g),t.w(g,f),!(e.b.oc(l,f)<=v&&((a||o||s)&&n.write(g,1),m=!0,i)));g=b.next());if(!m&&(d=!1,a||i))return!1}else{if(a||i)return!1;d=!1}if(o&&d)return!1;if(i)return!0;for(u=0;u<t.D();u++)if(1==n.read(u)){if(o)return!0}else if(a||s)return!1;return!o},t.WI=function(t,n,r){if(t.D()>n.D())var i=n;else i=t,t=n;n=new e.g;var a=new e.g,o=new e.g;i.s(n),t.s(a),n.O(r,r),a.O(r,r),o.H(n),o.Ia(a),a=new e.b;for(var s=new e.b,c=r*r,u=e.la.aF(t,o),l=u.getIterator(),h=0;h<i.D();h++)if(i.w(h,a),o.contains(a)){n.H(a.x,a.y,a.x,a.y),l.vi(n,r);for(var f=l.next();-1!=f;f=l.next())if(t.w(u.ga(f),s),e.b.oc(a,s)<=c)return!0}return!1},t.GA=function(e,n,r,i){return t.Lm(e,n,r,i)&&t.Lm(n,e,r,i)},t.Lm=function(r,i,a,o){function s(e,t){return d.BF(e,t)}var c,u=[0,0],l=[0,0],h=0,f=new e.ha(0),d=new t,p=new e.g,b=new e.g,v=new e.g;r.s(p),i.s(b),p.O(a,a),b.O(a,a),v.H(p),v.Ia(b),r=r.Ba(),b=i.Ba();var y=null,m=y=null,g=i.ib;for(null!=g?(y=g.Hb,m=g.To,null==y&&(y=e.la.pj(i,v))):y=e.la.pj(i,v),i=y.getIterator(),g=null,null!=m&&(g=m.getIterator());r.Ta();)for(;r.Aa();){var O=!1,j=r.aa();if(j.s(p),!p.isIntersecting(v))return!1;if(null!=g&&(g.vi(p,a),-1==g.next()))return!1;for(m=j.Pb(),i.wn(j,a),c=i.next();-1!=c;c=i.next()){b.Rb(y.ga(c)),c=b.aa();var w=j.Ia(c,null,u,l,a);if(2==w&&(!o||l[0]<=l[1])){var _=u[1],x=l[0],k=l[1];if((w=u[0])*m<=a&&(1-_)*m<=a){O=!0,h=0,f.resize(0),d.yh.length=0;var S=r.wb();for(x=!0;x;){if(r.Aa()){if(m=(j=r.aa()).Pb(),2==(w=j.Ia(c,null,u,l,a))&&(!o||l[0]<=l[1])&&(_=u[1],(w=u[0])*m<=a&&(1-_)*m<=a)){S=r.wb();continue}if(b.Aa()&&(c=b.aa(),2==(w=j.Ia(c,null,u,l,a))&&(!o||l[0]<=l[1])&&(_=u[1],(w=u[0])*m<=a&&(1-_)*m<=a))){S=r.wb();continue}}x=!1}S!=r.wb()&&(r.Rb(S),r.aa());break}S=r.wb(),c=n.construct(S,r.Pa,w,_,b.wb(),b.Pa,x,k),d.yh.push(c),f.add(f.size)}}if(!O){if(h==d.yh.length)return!1;for(1<f.size-h&&f.Zd(h,f.size,s),O=0;h<d.yh.length;h++)if(!((c=d.yh[f.get(h)]).Mj<O&&c.Yi<O)){if(m*(c.Mj-O)>a)return!1;if(m*(1-(O=c.Yi))<=a||1==O)break}if(m*(1-O)>a)return!1;h=0,f.resize(0),d.yh.length=0}}return!0},t.HH=function(n,r,i){if(1>t.HA(n,r,i,null))return!1;var a=new e.g,o=new e.g;n.s(a),r.s(o);var s=t.Ts(a,o,i);return a=t.Ts(o,a,i),!((!s||!a)&&(s&&!a?t.Lm(r,n,i,!1):a&&!s?t.Lm(n,r,i,!1):t.Lm(n,r,i,!1)||t.Lm(r,n,i,!1)))},t.HA=function(r,i,a,o){function s(e,t){return b.BF(e,t)}if(r.gA()>i.gA())var c=i,u=r;else c=r,u=i;r=c.Ba(),i=u.Ba();var l=[0,0],h=[0,0],f=-1,d=0,p=new e.ha(0),b=new t,v=new e.g,y=new e.g,m=new e.g;c.s(v),u.s(y),v.O(a,a),y.O(a,a),m.H(v),m.Ia(y),c=null,null!=o&&(c=new e.b);var g=y=y=null,O=u.ib;for(null!=O?(y=O.Hb,g=O.To,null==y&&(y=e.la.pj(u,m))):y=e.la.pj(u,m),u=y.getIterator(),O=null,null!=g&&(O=g.getIterator());r.Ta();)for(g=0;r.Aa();){var j=r.aa();if(j.s(v),v.isIntersecting(m)){if(null!=O&&(O.vi(v,a),-1==O.next()))continue;var w=j.Pb();u.wn(j,a);for(var _=u.next();-1!=_;_=u.next()){var x=y.ga(_);i.Rb(x);var k=i.aa(),S=k.Pb(),E=j.Ia(k,null,l,h,a);if(0<E){_=l[0],f=h[0];var T=2==E?l[1]:NaN,M=2==E?h[1]:NaN;if(2==E){if(w*(T-_)>a)return 1;var C=w*(T-_);if(i.Aa()){if(k=i.aa(),2==(E=j.Ia(k,null,l,null,a))){var A=l[1];if(C+(E=w*(A-(E=l[0])))>a)return 1}i.Rb(x),i.aa()}if(!i.Im()){if(i.ti(),k=i.ti(),2==(E=j.Ia(k,null,l,null,a))&&C+(E=w*((A=l[1])-(E=l[0])))>a)return 1;i.Rb(x),i.aa()}if(r.Aa()){if(x=r.wb(),2==(E=(j=r.aa()).Ia(k,null,l,null,a))&&C+(E=w*((A=l[1])-(E=l[0])))>a)return 1;r.Rb(x),r.aa()}if(!r.Im()){if(x=r.wb(),r.ti(),2==(E=(j=r.ti()).Ia(k,null,l,null,a))&&C+(E=S*((A=l[1])-(E=l[0])))>a)return 1;r.Rb(x),r.aa()}k=n.construct(r.wb(),r.Pa,_,T,i.wb(),i.Pa,f,M),b.yh.push(k),p.add(p.size)}f=0,null!=o&&(j.cc(_,c),o.add(c.x),o.add(c.y))}}if(d<b.yh.length){for(p.Zd(d,p.size,s),j=0,_=b.yh[p.get(d)].Zm;d<b.yh.length;d++)if(!((k=b.yh[p.get(d)]).Mj<j&&k.Yi<j))if(w*(k.Mj-j)>a)g=w*(k.Yi-k.Mj),j=k.Yi,_=k.Zm;else{if(k.Zm!=_?(g=w*(k.Yi-k.Mj),_=k.Zm):g+=w*(k.Yi-k.Mj),g>a)return 1;if(1==(j=k.Yi))break}w*(1-j)>a&&(g=0),d=0,p.resize(0),b.yh.length=0}}}return f},t.FH=function(t,n,r){var i=t.Ba(),a=n.Ba();for(t=new e.km(t,n,r,!1);t.next();){n=t.tl();var o=t.ol();if(i.Rb(n),a.Rb(o),n=i.aa(),0<a.aa().Ia(n,null,null,null,r))return!0}return!1},t.GH=function(t,n,r,i){var a=t.Ba(),o=new e.g,s=new e.g,c=new e.g;t.s(o),n.s(s),o.O(r,r),o.contains(s),s.O(r,r),c.H(o),c.Ia(s),null!=(o=t.ib)?null==(o=o.Hb)&&(o=e.la.pj(t,c)):o=e.la.pj(t,c),t=o.getIterator();for(var u=new e.b,l=new e.b,h=r*r,f=0;f<n.D();f++)if(n.w(f,u),c.contains(u)){s.H(u.x,u.y,u.x,u.y),t.vi(s,r);for(var d=!1,p=t.next();-1!=p;p=t.next())if(a.Rb(o.ga(p)),(p=a.aa()).cc(p.ae(u,!1),l),e.b.oc(l,u)<=h){d=!0;break}if(i){if(!d)return!1}else if(d)return!0}return!!i},t.IA=function(t,n,r){var i=new e.b,a=r*r,o=t.Ba();if(null!=(t=t.ib)&&null!=(t=t.Hb)){var s=new e.g;for(s.H(n),s=(r=t.Vz(s,r)).next();-1!=s;s=r.next())if(o.Rb(t.ga(s)),o.Aa()){var c=(s=o.aa()).ae(n,!1);if(s.cc(c,i),e.b.oc(n,i)<=a)return!0}return!1}for(t=new e.g;o.Ta();)for(;o.Aa();)if((s=o.aa()).s(t),t.O(r,r),t.contains(n)&&(c=s.ae(n,!1),s.cc(c,i),e.b.oc(n,i)<=a))return!0;return!1},t.DH=function(e,n,r){return t.IA(e,n,r)&&!t.JA(e,n,r)},t.JA=function(e,n,r){return e=e.sg(),!t.St(e,n,r)},t.EH=function(t,n,r){if(t.Fm()){var i=new e.zb(n.o,n.A,n.o,n.B),a=new e.zb(n.o,n.B,n.v,n.B),o=new e.zb(n.v,n.B,n.v,n.A);for(n=new e.zb(n.v,n.A,n.o,n.A),t=t.Ba();t.Ta();)for(;t.Aa();){var s=t.aa();if(s.isIntersecting(i,r)||s.isIntersecting(a,r)||s.isIntersecting(o,r)||s.isIntersecting(n,r))return!0}}else{(i=new e.g).H(n),i.O(r,r),r=t.Va(0),a=new e.b,o=new e.b,n=new e.b,s=new e.b;for(var c=0,u=t.$();c<u;c++)for(var l=!0,h=t.ua(c),f=t.zc(c);h<f;h++)if(l)r.mc(2*h,o),l=!1;else{if(r.mc(2*h,a),n.K(o),s.K(a),0!=i.ez(n,s))return!0;o.K(a)}}return!1},t.qc=function(n,r,i){var a=n.F(),o=r.F();if(e.R.Rg(a)){var s=n.ib;if(null!=s&&null!=(s=s.oi))if(33==o){var c=r.w();if(1==(c=s.Xl(c.x,c.y)))return 1;if(0==c)return 4}else{if(c=new e.g,r.s(c),1==(c=s.rn(c)))return 1;if(0==c)return 4;if(i&&e.R.Rg(o)&&t.rF(r,s))return 1073741824}}if(e.R.Rg(o)&&null!=(s=r.ib)&&null!=(s=s.oi))if(33==a){if(n=n.w(),1==(c=s.Xl(n.x,n.y)))return 2;if(0==c)return 4}else{if(r=new e.g,n.s(r),1==(c=s.rn(r)))return 2;if(0==c)return 4;if(i&&e.R.Rg(a)&&t.rF(n,s))return 1073741824}return 0},t.rF=function(t,n){for(var r=t.D(),i=new e.b,a=0;a<r;a++)if(t.w(a,i),1==n.Xl(i.x,i.y))return!0;return!1},t.zJ=function(t,n,r,i){for(var a=1<=t.rk(0)&&1<=n.rk(0),o=t.Ba(),s=n.Ba(),c=[0,0],u=[0,0],l=new e.km(t,n,r,!1),h=!1;l.next();){var f=l.tl(),d=l.ol();if(o.Rb(f),s.Rb(d),f=o.aa(),2==(d=s.aa().Ia(f,null,u,c,r))){if(h=c[0],d=c[1],f=f.Pb(),a&&(d-h)*f>r)return!1;h=!0}else if(0!=d){if(f=u[0],0<(h=c[0])&&1>h&&0<f&&1>f)return!1;h=!0}}return!!h&&(o=new e.g,s=new e.g,a=new e.g,t.s(o),n.s(s),o.O(1e3*r,1e3*r),s.O(1e3*r,1e3*r),a.H(o),a.Ia(s),!(10<t.D()&&(t=e.Yd.clip(t,a,r,0),t.u())||10<n.D()&&(n=e.Yd.clip(n,a,r,0),n.u()))&&e.mm.Zt(t,n,r,"F********",i))},t.wJ=function(n,r,i,a){var o=1<=n.rk(0)&&1<=r.rk(0),s=new e.g,c=new e.g,u=new e.g;n.s(s),r.s(c);for(var l=!1,h=t.Ts(s,c,i),f=t.Ts(c,s,i),d=n.Ba(),p=r.Ba(),b=[0,0],v=[0,0],y=new e.km(n,r,i,!1);y.next();){var m=y.tl(),g=y.ol();if(d.Rb(m),p.Rb(g),g=d.aa(),2==(m=p.aa().Ia(g,null,v,b,i))){m=b[0];var O=b[1];if(g=g.Pb(),o&&(O-m)*g>i&&(l=!0,h&&f))return!0}else if(0!=m&&(g=v[0],0<(m=b[0])&&1>m&&0<g&&1>g))return!0}if(o=new e.g,d=new e.g,o.H(s),o.O(1e3*i,1e3*i),d.H(c),d.O(1e3*i,1e3*i),u.H(o),u.Ia(d),s="",s=l?s+"**":s+"T*",h){if(10<r.D()&&(r=e.Yd.clip(r,u,i,0)).u())return!1;s+="****"}else s+="T***";if(f){if(10<n.D()&&(n=e.Yd.clip(n,u,i,0)).u())return!1;s+="***"}else s+="T**";return e.mm.Zt(n,r,i,s.toString(),a)},t.sJ=function(n,r,i,a){var o=[!1],s=t.qJ(n,r,i,o);return o[0]?s:(o=new e.g,r.s(o),o.O(1e3*i,1e3*i),!(10<n.D()&&(n=e.Yd.clip(n,o,i,0),n.u()))&&e.mm.yx(n,r,i,a))},t.qJ=function(t,n,r,i){i[0]=!1;for(var a=t.Ba(),o=n.Ba(),s=[0,0],c=[0,0],u=new e.km(t,n,r,!1),l=!1;u.next();){var h=u.tl(),f=u.ol();if(a.Rb(h,-1),o.Rb(f,-1),h=a.aa(),0!=(h=o.aa().Ia(h,null,c,s,r))&&(l=!0,1==h&&(h=s[0],f=c[0],0<h&&1>h&&0<f&&1>f)))return i[0]=!0,!1}if(!l){for(i[0]=!0,s=new e.g,t.s(s),s.O(r,r),u=t,l=!1,c=new e.g,i=0,a=n.$();i<a;i++)if(0<n.Ha(i)){if(n.Sj(i,c),!s.isIntersecting(c))return!1;if(o=n.xa(n.ua(i)),0==(o=e.Oe.Jm(u,o,0)))return!1;l||(!e.Oe.Wl(t,n.$()-1)||null!=t.ib&&null!=t.ib.Hb?u=t:(o=new e.Fa,t.copyTo(o),o.lj(1),u=o),l=!0)}if(1==t.$()||1607==n.F())return!0;for(s=new e.g,n.s(s),s.O(r,r),c=n,u=!1,r=new e.g,i=0,a=t.$();i<a;i++)if(0<t.Ha(i)){if(t.Sj(i,r),s.isIntersecting(r)&&(o=t.xa(t.ua(i)),1==(o=e.Oe.Jm(c,o,0))))return!1;u||(!e.Oe.Wl(n,t.$()-1)||null!=n.ib&&null!=n.ib.Hb?c=n:(o=new e.Fa,n.copyTo(o),o.lj(1),c=o),u=!0)}return!0}return!1},t.AJ=function(t,n,r,i){for(var a=t.Ba(),o=n.Ba(),s=[0,0],c=[0,0],u=new e.km(t,n,r,!1),l=!1;u.next();){var h=u.tl(),f=u.ol();if(a.Rb(h),o.Rb(f),h=a.aa(),2==(h=o.aa().Ia(h,null,c,s,r)))l=!0;else if(0!=h){if(l=s[0],h=c[0],0<l&&1>l&&0<h&&1>h)return!1;l=!0}}return!!l&&(o=new e.g,s=new e.g,a=new e.g,t.s(o),n.s(s),o.O(1e3*r,1e3*r),s.O(1e3*r,1e3*r),a.H(o),a.Ia(s),!(10<t.D()&&(t=e.Yd.clip(t,a,r,0),t.u())||10<n.D()&&(n=e.Yd.clip(n,a,r,0),n.u()))&&e.mm.on(t,n,r,"F********",i))},t.uJ=function(n,r,i,a){for(var o=n.Ba(),s=r.Ba(),c=[0,0],u=[0,0],l=new e.km(n,r,i,!1),h=!1;l.next();){var f=l.tl(),d=l.ol();if(o.Rb(f),s.Rb(d),f=o.aa(),2==(f=s.aa().Ia(f,null,u,c,i)))h=!0;else if(0!=f){if(h=c[0],f=u[0],0<h&&1>h&&0<f&&1>f)return!0;h=!0}}return!!h&&(s=new e.g,c=new e.g,u=new e.g,l=new e.g,o=new e.g,n.s(s),r.s(c),t.Ts(c,s,i)?(u.H(s),u.O(1e3*i,1e3*i),l.H(c),l.O(1e3*i,1e3*i),o.H(u),o.Ia(l),!(10<n.D()&&(n=e.Yd.clip(n,o,i,0),n.u())||10<r.D()&&(r=e.Yd.clip(r,o,i,0),r.u()))&&(i=e.mm.on(n,r,i,"T********",a))):i=e.mm.on(n,r,i,"T*****T**",a))},t.tJ=function(n,r,i,a){var o=[!1],s=t.qJ(n,r,i,o);return o[0]?s:(o=new e.g,r.s(o),o.O(1e3*i,1e3*i),!(10<n.D()&&(n=e.Yd.clip(n,o,i,0),n.u()))&&e.mm.QB(n,r,i,a))},t.rJ=function(t,n,r){return 1==e.Zc.Td(t,n,r)},t.yJ=function(t,n,r){return 2==e.Zc.Td(t,n,r)},t.St=function(t,n,r){var i=new e.b;r*=r;for(var a=0;a<t.D();a++)if(t.w(a,i),e.b.oc(i,n)<=r)return!1;return!0},t.prototype.BF=function(e,t){return e=this.yh[e],t=this.yh[t],e.Zm<t.Zm||e.Zm==t.Zm&&(e.Vw<t.Vw||e.Vw==t.Vw&&(e.Mj<t.Mj||e.Mj==t.Mj&&(e.Yi<t.Yi||e.Yi==t.Yi&&e.rI<t.rI)))?-1:1},t}();e.wd=r}(Y||(Y={})),function(e){var t,n,r;(n=t||(t={}))[n.InteriorInterior=0]="InteriorInterior",n[n.InteriorBoundary=1]="InteriorBoundary",n[n.InteriorExterior=2]="InteriorExterior",n[n.BoundaryInterior=3]="BoundaryInterior",n[n.BoundaryBoundary=4]="BoundaryBoundary",n[n.BoundaryExterior=5]="BoundaryExterior",n[n.ExteriorInterior=6]="ExteriorInterior",n[n.ExteriorBoundary=7]="ExteriorBoundary",n[n.ExteriorExterior=8]="ExteriorExterior",function(e){e[e.AreaAreaPredicates=0]="AreaAreaPredicates",e[e.AreaLinePredicates=1]="AreaLinePredicates",e[e.LineLinePredicates=2]="LineLinePredicates",e[e.AreaPointPredicates=3]="AreaPointPredicates",e[e.LinePointPredicates=4]="LinePointPredicates",e[e.PointPointPredicates=5]="PointPointPredicates"}(r||(r={})),t=function(){function t(){this.se=0,this.h=new e.Ou,this.G=[0,0,0,0,0,0,0,0,0],this.$a=[0,0,0,0,0,0,0,0,0],this.ea=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.en=this.bx=-1}return t.hC=function(t,n,r,i,a){if(9!=i.length)throw e.f.Y("relation string length has to be 9 characters");for(var o=0;9>o;o++){var s=i.charAt(o);if("*"!=s&&"T"!=s&&"F"!=s&&"0"!=s&&"1"!=s&&"2"!=s)throw e.f.Y("relation string")}if(0!=(o=this.cT(i,t.pb(),n.pb())))return e.wd.iC(t,n,r,o,a);o=new e.g,t.s(o),s=new e.g,n.s(s);var c=new e.g;if(c.H(o),c.Nb(s),r=e.la.Qd(r,c,!1),t=this.HF(t,r),n=this.HF(n,r),t.u()||n.u())return this.$X(t,n,i);switch(o=n.F(),s=!1,t.F()){case 1736:switch(o){case 1736:s=this.Zt(t,n,r,i,a);break;case 1607:s=this.on(t,n,r,i,a);break;case 33:s=this.Yt(t,n,r,i);break;case 550:s=this.Xt(t,n,r,i,a)}break;case 1607:switch(o){case 1736:s=this.on(n,t,r,this.rq(i),a);break;case 1607:s=this.RB(t,n,r,i,a);break;case 33:s=this.au(t,n,r,i,a);break;case 550:s=this.$t(t,n,r,i,a)}break;case 33:switch(o){case 1736:s=this.Yt(n,t,r,this.rq(i));break;case 1607:s=this.au(n,t,r,this.rq(i),a);break;case 33:s=this.rW(t,n,r,i);break;case 550:s=this.Tt(n,t,r,this.rq(i))}break;case 550:switch(o){case 1736:s=this.Xt(n,t,r,this.rq(i),a);break;case 1607:s=this.$t(n,t,r,this.rq(i),a);break;case 550:s=this.JB(t,n,r,i,a);break;case 33:s=this.Tt(t,n,r,i)}break;default:s=!1}return s},t.Zt=function(n,r,i,a,o){var s=new t;s.dj(),s.ij(a),s.BK();var c=new e.g,u=new e.g;return n.s(c),r.s(u),a=!1,e.wd.ik(c,u,i)&&(s.hv(n,r),a=!0),a||(4==(c=e.wd.qc(n,r,!1))?(s.hv(n,r),a=!0):1==c?(s.Ry(r),a=!0):2==c&&(s.LE(n),a=!0)),a||(n=(a=new e.Yc).Bb(n),r=a.Bb(r),s.lp(a,i,o),s.Vp(n,r),s.h.ah()),t.lg(s.G,s.Wc)},t.yx=function(n,r,i,a){var o=new t;o.dj(),o.ij("T*****F**"),o.BK();var s=new e.g,c=new e.g;n.s(s),r.s(c);var u=!1;return e.wd.ik(s,c,i)&&(o.hv(n,r),u=!0),u||(4==(s=e.wd.qc(n,r,!1))?(o.hv(n,r),u=!0):1==s?(o.Ry(r),u=!0):2==s&&(o.LE(n),u=!0)),u?this.lg(o.G,o.Wc):(n=(u=new e.Yc).Bb(n),s=u.Bb(r),e.$j.U(u,i,a,!1),i=u.ye(s).sg(),u.$p(0,!0,!0),e.Kn.U(u,n,-1,!1,a),0!=u.D(n)&&(e.Kn.U(u,s,-1,!1,a),o.zr(u,a),(r=0==u.D(s))||(o.Vp(n,s),o.h.ah(),s=this.lg(o.G,o.Wc))?(n=u.ye(n),n=(u=new e.Yc).Bb(n),s=u.Bb(i),o.zr(u,a),o.se=0,o.dj(),o.ij(r?"T*****F**":"******F**"),o.sC(),o.Vp(n,s),o.h.ah(),this.lg(o.G,o.Wc)):s))},t.on=function(n,r,i,a,o){var s=new t;s.dj(),s.ij(a),s.sC();var c=new e.g,u=new e.g;return n.s(c),r.s(u),a=!1,e.wd.ik(c,u,i)&&(s.iv(n,r),a=!0),a||(4==(c=e.wd.qc(n,r,!1))?(s.iv(n,r),a=!0):1==c&&(s.ME(r),a=!0)),a||(n=(a=new e.Yc).Bb(n),r=a.Bb(r),s.lp(a,i,o),s.qh=s.h.Xp(),t.px(r,s.h,s.qh),s.Vp(n,r),s.h.Yp(s.qh),s.h.ah()),t.lg(s.G,s.Wc)},t.QB=function(n,r,i,a){var o=new t;o.dj(),o.ij("T*****F**"),o.sC();var s=new e.g,c=new e.g;n.s(s),r.s(c);var u=!1;return e.wd.ik(s,c,i)&&(o.iv(n,r),u=!0),u||(4==(s=e.wd.qc(n,r,!1))?(o.iv(n,r),u=!0):1==s&&(o.ME(r),u=!0)),u?this.lg(o.G,o.Wc):(n=(u=new e.Yc).Bb(n),r=u.Bb(r),o.lp(u,i,a),0!=u.D(n)&&(o.Vp(n,r),o.h.ah(),this.lg(o.G,o.Wc)))},t.Xt=function(n,r,i,a,o){var s=new t;s.dj(),s.ij(a),s.CK();var c=new e.g,u=new e.g;return n.s(c),r.s(u),a=!1,e.wd.ik(c,u,i)&&(s.jv(n),a=!0),a||(4==(c=e.wd.qc(n,r,!1))?(s.jv(n),a=!0):1==c&&(s.KO(),a=!0)),a||(n=(a=new e.Yc).Bb(n),r=a.Bb(r),s.lp(a,i,o),s.kz(n,r),s.h.ah()),t.lg(s.G,s.Wc)},t.RB=function(n,r,i,a,o){var s=new t;s.dj(),s.ij(a),s.HY(),a=new e.g;var c=new e.g;n.s(a),r.s(c);var u=!1;return e.wd.ik(a,c,i)&&(s.BH(n,r),u=!0),u||4!=e.wd.qc(n,r,!1)||(s.BH(n,r),u=!0),u||(n=(a=new e.Yc).Bb(n),r=a.Bb(r),s.lp(a,i,o),s.di=s.h.Xp(),s.qh=s.h.Xp(),t.px(n,s.h,s.di),t.px(r,s.h,s.qh),s.Vp(n,r),s.h.Yp(s.di),s.h.Yp(s.qh),s.h.ah()),t.lg(s.G,s.Wc)},t.$t=function(n,r,i,a,o){var s=new t;s.dj(),s.ij(a),s.QK(),a=new e.g;var c=new e.g;n.s(a),r.s(c);var u=!1;return e.wd.ik(a,c,i)&&(s.FA(n),u=!0),u||4!=e.wd.qc(n,r,!1)||(s.FA(n),u=!0),u||(n=(a=new e.Yc).Bb(n),r=a.Bb(r),s.lp(a,i,o),s.di=s.h.Xp(),t.px(n,s.h,s.di),s.kz(n,r),s.h.Yp(s.di),s.h.ah()),t.lg(s.G,s.Wc)},t.JB=function(n,r,i,a,o){var s=new t;s.dj(),s.ij(a),s.VK(),a=new e.g;var c=new e.g;n.s(a),r.s(c);var u=!1;return e.wd.ik(a,c,i)&&(s.pJ(),u=!0),u||(n=(a=new e.Yc).Bb(n),r=a.Bb(r),s.lp(a,i,o),s.kz(n,r),s.h.ah()),t.lg(s.G,s.Wc)},t.Yt=function(n,r,i,a){var o=new t;o.dj(),o.ij(a),o.CK();var s=new e.g;n.s(s),r=r.w();var c=!1;return e.wd.xx(r,s,i)&&(o.jv(n),c=!0),c||(1==(i=e.Zc.Td(n,r,i))?(o.G[0]=0,o.G[2]=2,o.G[3]=-1,o.G[5]=1,o.G[6]=-1):2==i?(o.G[6]=-1,0!=n.Pe()?(o.G[0]=-1,o.G[3]=0,o.G[2]=2,o.G[5]=1):(o.G[0]=0,o.G[3]=-1,o.G[5]=-1,i=new e.g,n.s(i),o.G[2]=0==i.ca()&&0==i.N()?-1:1)):o.jv(n)),this.lg(o.G,a)},t.au=function(n,r,i,a,o){var s=new t;s.dj(),s.ij(a),s.QK();var c=new e.g;n.s(c),a=r.w();var u=!1;if(e.wd.xx(a,c,i)&&(s.FA(n),u=!0),!u){c=null;var l=u=!1;(s.ea[0]||s.ea[6])&&(e.wd.IA(n,a,i)?(s.ea[0]&&(c=e.yi.qm(n,o),l=!e.wd.St(c,a,i),u=!0,s.G[0]=l?-1:0),s.G[6]=-1):(s.G[0]=-1,s.G[6]=0)),s.ea[3]&&(null!=c&&c.u()?s.G[3]=-1:(u||(null==c&&(c=e.yi.qm(n,o)),l=!e.wd.St(c,a,i),u=!0),s.G[3]=l?0:-1)),s.ea[5]&&(null!=c&&c.u()?s.G[5]=-1:u&&!l?s.G[5]=0:(null==c&&(c=e.yi.qm(n,o)),o=e.wd.tx(c,r,i),s.G[5]=o?-1:0)),s.ea[2]&&(0!=n.Pb()?s.G[2]=1:((o=new e.Hd(n.description)).yd(n,0,n.D()),n=e.wd.tx(o,r,i),s.G[2]=n?-1:0))}return this.lg(s.G,s.Wc)},t.Tt=function(n,r,i,a){var o=new t;o.dj(),o.ij(a),o.VK();var s=new e.g;n.s(s),r=r.w();var c=!1;if(e.wd.xx(r,s,i)&&(o.pJ(),c=!0),!c){s=!1,c=!0,i*=i;for(var u=0;u<n.D();u++){var l=n.xa(u);if(e.b.oc(l,r)<=i?s=!0:c=!1,s&&!c)break}s?(o.G[0]=0,o.G[2]=c?-1:0,o.G[6]=-1):(o.G[0]=-1,o.G[2]=0,o.G[6]=0)}return t.lg(o.G,a)},t.rW=function(n,r,i,a){n=n.w(),r=r.w();for(var o=[],s=0;9>s;s++)o[s]=-1;return e.b.oc(n,r)<=i*i?o[0]=0:(o[2]=0,o[6]=0),o[8]=2,t.lg(o,a)},t.lg=function(e,t){for(var n=0;9>n;n++)switch(t.charAt(n)){case"T":if(-1==e[n])return!1;break;case"F":if(-1!=e[n])return!1;break;case"0":if(0!=e[n])return!1;break;case"1":if(1!=e[n])return!1;break;case"2":if(2!=e[n])return!1}return!0},t.$X=function(t,n,r){var i=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(t.u()&&n.u()){for(var a=0;9>a;a++)i[a]=-1;return this.lg(i,r)}return a=!1,t.u()&&(t=n,a=!0),i[0]=-1,i[1]=-1,i[3]=-1,i[4]=-1,i[6]=-1,i[7]=-1,i[8]=2,n=t.F(),e.R.Bc(n)?1736==n?0!=t.Pe()?(i[2]=2,i[5]=1):(i[5]=-1,n=new e.g,t.s(n),i[2]=0==n.ca()&&0==n.N()?0:1):(n=0!=t.Pb(),i[2]=n?1:0,i[5]=e.yi.tq(t)?0:-1):(i[2]=0,i[5]=-1),a&&this.CL(i),this.lg(i,r)},t.cT=function(e,n,r){return t.oR(e)?3:t.eR(e)?4:t.JZ(e,n,r)?8:t.NQ(e,n,r)?16:t.oQ(e)?1:t.XV(e,n,r)?32:0},t.oR=function(e){return"T"==e.charAt(0)&&"*"==e.charAt(1)&&"F"==e.charAt(2)&&"*"==e.charAt(3)&&"*"==e.charAt(4)&&"F"==e.charAt(5)&&"F"==e.charAt(6)&&"F"==e.charAt(7)&&"*"==e.charAt(8)},t.eR=function(e){return"F"==e.charAt(0)&&"F"==e.charAt(1)&&"*"==e.charAt(2)&&"F"==e.charAt(3)&&"F"==e.charAt(4)&&"*"==e.charAt(5)&&"*"==e.charAt(6)&&"*"==e.charAt(7)&&"*"==e.charAt(8)},t.JZ=function(e,t,n){return(0!=t||0!=n)&&((2!=t||2!=n)&&("F"==e.charAt(0)&&"*"==e.charAt(1)&&"*"==e.charAt(2)&&"T"==e.charAt(3)&&"*"==e.charAt(4)&&"*"==e.charAt(5)&&"*"==e.charAt(6)&&"*"==e.charAt(7)&&"*"==e.charAt(8)||1==t&&1==n&&"F"==e.charAt(0)&&"T"==e.charAt(1)&&"*"==e.charAt(2)&&"*"==e.charAt(3)&&"*"==e.charAt(4)&&"*"==e.charAt(5)&&"*"==e.charAt(6)&&"*"==e.charAt(7)&&"*"==e.charAt(8))||0!=n&&"F"==e.charAt(0)&&"*"==e.charAt(1)&&"*"==e.charAt(2)&&"*"==e.charAt(3)&&"T"==e.charAt(4)&&"*"==e.charAt(5)&&"*"==e.charAt(6)&&"*"==e.charAt(7)&&"*"==e.charAt(8))},t.NQ=function(e,t,n){return t>n?"T"==e.charAt(0)&&"*"==e.charAt(1)&&"*"==e.charAt(2)&&"*"==e.charAt(3)&&"*"==e.charAt(4)&&"*"==e.charAt(5)&&"T"==e.charAt(6)&&"*"==e.charAt(7)&&"*"==e.charAt(8):1==t&&1==n&&"0"==e.charAt(0)&&"*"==e.charAt(1)&&"*"==e.charAt(2)&&"*"==e.charAt(3)&&"*"==e.charAt(4)&&"*"==e.charAt(5)&&"*"==e.charAt(6)&&"*"==e.charAt(7)&&"*"==e.charAt(8)},t.oQ=function(e){return"T"==e.charAt(0)&&"*"==e.charAt(1)&&"*"==e.charAt(2)&&"*"==e.charAt(3)&&"*"==e.charAt(4)&&"*"==e.charAt(5)&&"F"==e.charAt(6)&&"F"==e.charAt(7)&&"*"==e.charAt(8)},t.XV=function(e,t,n){if(t==n){if(1!=t)return"T"==e.charAt(0)&&"*"==e.charAt(1)&&"T"==e.charAt(2)&&"*"==e.charAt(3)&&"*"==e.charAt(4)&&"*"==e.charAt(5)&&"T"==e.charAt(6)&&"*"==e.charAt(7)&&"*"==e.charAt(8);if("1"==e.charAt(0)&&"*"==e.charAt(1)&&"T"==e.charAt(2)&&"*"==e.charAt(3)&&"*"==e.charAt(4)&&"*"==e.charAt(5)&&"T"==e.charAt(6)&&"*"==e.charAt(7)&&"*"==e.charAt(8))return!0}return!1},t.px=function(e,t,n){e=t.Ea(e);for(var r=t.We;-1!=r;r=t.$f(r))if(0!=(t.Bd(r)&e)){var i=t.Re(r);if(-1==i)t.Dn(r,n,0);else{var a=i,o=0;do{0!=(t.lh(a)&e)&&o++,a=t.kc(t.wa(a))}while(a!=i);t.Dn(r,n,o)}}},t.rq=function(e){var t=""+e.charAt(0);return t+=e.charAt(3),t+=e.charAt(6),t+=e.charAt(1),t+=e.charAt(4),t+=e.charAt(7),t+=e.charAt(2),(t+=e.charAt(5))+e.charAt(8)},t.prototype.dj=function(){for(var e=0;9>e;e++)this.G[e]=-2,this.$a[e]=-2},t.CL=function(e){var t=e[1],n=e[2],r=e[5];e[1]=e[3],e[2]=e[6],e[5]=e[7],e[3]=t,e[6]=n,e[7]=r},t.prototype.ij=function(e){for(this.Wc=e,e=0;9>e;e++)"*"!=this.Wc.charAt(e)?(this.ea[e]=!0,this.se++):this.ea[e]=!1},t.prototype.YK=function(){for(var e=0;9>e;e++)this.ea[e]&&-2==this.G[e]&&(this.G[e]=-1,this.ea[e]=!1)},t.prototype.pc=function(e){return!(-2==this.G[e]||(-1==this.G[e]?(this.ea[e]=!1,this.se--,0):"T"!=this.Wc.charAt(e)&&"F"!=this.Wc.charAt(e)&&this.G[e]<this.$a[e]||(this.ea[e]=!1,this.se--,0)))},t.prototype.BK=function(){this.bx=0,this.$a[0]=2,this.$a[1]=1,this.$a[2]=2,this.$a[3]=1,this.$a[4]=1,this.$a[5]=1,this.$a[6]=2,this.$a[7]=1,this.$a[8]=2,this.ea[8]&&(this.G[8]=2,this.ea[8]=!1,this.se--)},t.prototype.sC=function(){this.bx=1,this.en=3,this.$a[0]=1,this.$a[1]=0,this.$a[2]=2,this.$a[3]=1,this.$a[4]=0,this.$a[5]=1,this.$a[6]=1,this.$a[7]=0,this.$a[8]=2,this.ea[8]&&(this.G[8]=2,this.ea[8]=!1,this.se--)},t.prototype.HY=function(){this.bx=2,this.en=4,this.$a[0]=1,this.$a[1]=0,this.$a[2]=1,this.$a[3]=0,this.$a[4]=0,this.$a[5]=0,this.$a[6]=1,this.$a[7]=0,this.$a[8]=2,this.ea[8]&&(this.G[8]=2,this.ea[8]=!1,this.se--)},t.prototype.CK=function(){this.en=3,this.$a[0]=0,this.$a[1]=-1,this.$a[2]=2,this.$a[3]=0,this.$a[4]=-1,this.$a[5]=1,this.$a[6]=0,this.$a[7]=-1,this.$a[8]=2,this.ea[1]&&(this.G[1]=-1,this.ea[1]=!1,this.se--),this.ea[4]&&(this.G[4]=-1,this.ea[4]=!1,this.se--),this.ea[7]&&(this.G[7]=-1,this.ea[7]=!1,this.se--),this.ea[8]&&(this.G[8]=2,this.ea[8]=!1,this.se--)},t.prototype.QK=function(){this.en=4,this.$a[0]=0,this.$a[1]=-1,this.$a[2]=1,this.$a[3]=0,this.$a[4]=-1,this.$a[5]=0,this.$a[6]=0,this.$a[7]=-1,this.$a[8]=2,this.ea[1]&&(this.G[1]=-1,this.ea[1]=!1,this.se--),this.ea[4]&&(this.G[4]=-1,this.ea[4]=!1,this.se--),this.ea[7]&&(this.G[7]=-1,this.ea[7]=!1,this.se--),this.ea[8]&&(this.G[8]=2,this.ea[8]=!1,this.se--)},t.prototype.VK=function(){this.en=5,this.$a[0]=0,this.$a[1]=-1,this.$a[2]=0,this.$a[3]=-1,this.$a[4]=-1,this.$a[5]=-1,this.$a[6]=0,this.$a[7]=-1,this.$a[8]=2,this.ea[1]&&(this.G[1]=-1,this.ea[1]=!1,this.se--),this.ea[3]&&(this.G[3]=-1,this.ea[3]=!1,this.se--),this.ea[4]&&(this.G[4]=-1,this.ea[4]=!1,this.se--),this.ea[5]&&(this.G[5]=-1,this.ea[5]=!1,this.se--),this.ea[7]&&(this.G[7]=-1,this.ea[7]=!1,this.se--),this.ea[8]&&(this.G[8]=2,this.ea[8]=!1,this.se--)},t.prototype.IO=function(e,t,n){var r=!0;return this.ea[0]&&(this.XT(e,t,n),r=r&&this.pc(0)),this.ea[1]&&(this.eH(e,t,1),r=r&&this.pc(1)),this.ea[2]&&(this.fH(e,t,n,2),r=r&&this.pc(2)),this.ea[3]&&(this.eH(e,n,3),r=r&&this.pc(3)),this.ea[4]&&(this.MO(e,t,n),r=r&&this.pc(4)),this.ea[5]&&(this.RE(e,n,5),r=r&&this.pc(5)),this.ea[6]&&(this.fH(e,n,t,6),r=r&&this.pc(6)),this.ea[7]&&(this.RE(e,t,7),r=r&&this.pc(7)),r},t.prototype.hv=function(e,t){this.G[0]=-1,this.G[1]=-1,this.G[3]=-1,this.G[4]=-1,this.fs(e,this.ea[2]?2:-1,this.Wc.charAt(2),this.ea[5]?5:-1,this.Wc.charAt(5)),this.fs(t,this.ea[6]?6:-1,this.Wc.charAt(6),this.ea[7]?7:-1,this.Wc.charAt(7))},t.prototype.fs=function(t,n,r,i,a){-1==n&&-1==i||(("T"!=r&&"F"!=r&&-1!=n||"T"!=a&&"F"!=a&&-1!=i)&&0==t.Pe()?(-1!=i&&(this.G[i]=-1),-1!=n&&(r=new e.g,t.s(r),this.G[n]=0==r.ca()&&0==r.N()?0:1)):(-1!=n&&(this.G[n]=2),-1!=i&&(this.G[i]=1)))},t.prototype.Ry=function(e){this.G[2]=2,this.G[3]=-1,this.G[4]=-1,this.G[5]=1,this.G[6]=-1,this.G[7]=-1,this.fs(e,this.ea[0]?0:-1,this.Wc.charAt(0),this.ea[1]?1:-1,this.Wc.charAt(1))},t.prototype.LE=function(e){this.Ry(e),t.CL(this.G)},t.prototype.iv=function(t,n){if(this.G[0]=-1,this.G[1]=-1,this.G[3]=-1,this.G[4]=-1,this.ea[6]){var r=this.Wc.charAt(6);r="T"==r||"F"==r||0!=n.Pb(),this.G[6]=r?1:0}this.ea[7]&&(n=e.yi.tq(n),this.G[7]=n?0:-1),this.fs(t,this.ea[2]?2:-1,this.Wc.charAt(2),this.ea[5]?5:-1,this.Wc.charAt(5))},t.prototype.ME=function(t){if(this.ea[0]){var n=this.Wc.charAt(0);n="T"==n||"F"==n||0!=t.Pb(),this.G[0]=n?1:0}this.ea[1]&&(t=e.yi.tq(t),this.G[1]=t?0:-1),this.G[2]=2,this.G[3]=-1,this.G[4]=-1,this.G[5]=1,this.G[6]=-1,this.G[7]=-1},t.prototype.jv=function(e){this.G[0]=-1,this.G[3]=-1,this.G[6]=0,this.fs(e,this.ea[2]?2:-1,this.Wc.charAt(2),this.ea[5]?5:-1,this.Wc.charAt(5))},t.prototype.KO=function(){this.G[0]=0,this.G[2]=2,this.G[3]=-1,this.G[5]=1,this.G[6]=-1},t.prototype.BH=function(t,n){if(this.G[0]=-1,this.G[1]=-1,this.G[3]=-1,this.G[4]=-1,this.ea[2]){var r=this.Wc.charAt(2);r="T"==r||"F"==r||0!=t.Pb(),this.G[2]=r?1:0}this.ea[5]&&(t=e.yi.tq(t),this.G[5]=t?0:-1),this.ea[6]&&(r="T"==(r=this.Wc.charAt(6))||"F"==r||0!=n.Pb(),this.G[6]=r?1:0),this.ea[7]&&(n=e.yi.tq(n),this.G[7]=n?0:-1)},t.prototype.FA=function(t){if(this.G[0]=-1,this.G[3]=-1,this.ea[2]){var n=this.Wc.charAt(2);n="T"==n||"F"==n||0!=t.Pb(),this.G[2]=n?1:0}this.ea[5]&&(t=e.yi.tq(t),this.G[5]=t?0:-1),this.G[6]=0},t.prototype.pJ=function(){this.G[0]=-1,this.G[2]=0,this.G[6]=0},t.prototype.JO=function(e,t,n){var r=!0;return this.ea[0]&&(this.YT(e,t),r=r&&this.pc(0)),this.ea[1]&&(this.UT(e,t,n,this.qh),r=r&&this.pc(1)),this.ea[2]&&(this.VT(e,t),r=r&&this.pc(2)),this.ea[3]&&(this.QO(e,t,n,this.qh),r=r&&this.pc(3)),this.ea[4]&&(this.NO(e,t,n,this.qh),r=r&&this.pc(4)),this.ea[5]&&(this.OO(e,t,n),r=r&&this.pc(5)),this.ea[6]&&(this.xR(e,t),r=r&&this.pc(6)),this.ea[7]&&(this.wR(e,t,n,this.qh),r=r&&this.pc(7)),r},t.prototype.IU=function(e,t,n){var r=!0;return this.ea[0]&&(this.aU(e,t,n,this.di,this.qh),r=r&&this.pc(0)),this.ea[1]&&(this.gH(e,t,n,this.di,this.qh,1),r=r&&this.pc(1)),this.ea[2]&&(this.hH(e,t,n,2),r=r&&this.pc(2)),this.ea[3]&&(this.gH(e,n,t,this.qh,this.di,3),r=r&&this.pc(3)),this.ea[4]&&(this.SO(e,t,n,this.di,this.qh),r=r&&this.pc(4)),this.ea[5]&&(this.SE(e,n,this.di,5),r=r&&this.pc(5)),this.ea[6]&&(this.hH(e,n,t,6),r=r&&this.pc(6)),this.ea[7]&&(this.SE(e,t,this.qh,7),r=r&&this.pc(7)),r},t.prototype.NE=function(e,t,n){var r=!0;return this.ea[0]&&(this.ZT(e,t),r=r&&this.pc(0)),this.ea[2]&&(this.WT(e,t),r=r&&this.pc(2)),this.ea[3]&&(this.RO(e,t,n),r=r&&this.pc(3)),this.ea[5]&&(this.PO(e,t),r=r&&this.pc(5)),this.ea[6]&&(this.yR(e,t),r=r&&this.pc(6)),r},t.prototype.CH=function(e,t,n){var r=!0;return this.ea[0]&&(this.bU(e,t,n,this.di),r=r&&this.pc(0)),this.ea[2]&&(this.$T(e,n),r=r&&this.pc(2)),this.ea[3]&&(this.UO(e,t,n,this.di),r=r&&this.pc(3)),this.ea[5]&&(this.TO(e,t,n,this.di),r=r&&this.pc(5)),this.ea[6]&&(this.zR(e,t,n),r=r&&this.pc(6)),r},t.prototype.qW=function(e,t,n){var r=!0;return this.ea[0]&&(this.cU(e,t,n),r=r&&this.pc(0)),this.ea[2]&&(this.iH(e,t,n,2),r=r&&this.pc(2)),this.ea[6]&&(this.iH(e,n,t,6),r=r&&this.pc(6)),r},t.prototype.XT=function(e,t,n){2!=this.G[0]&&0!=((e=this.h.kf(e))&t)&&0!=(e&n)&&(this.G[0]=2)},t.prototype.eH=function(e,t,n){if(1!=this.G[n]){var r=this.h.kf(this.h.wa(e));0!=(this.h.kf(e)&t)&&0!=(r&t)&&(this.G[n]=1)}},t.prototype.fH=function(e,t,n,r){2!=this.G[r]&&0!=((e=this.h.kf(e))&t)&&0==(e&n)&&(this.G[r]=2)},t.prototype.MO=function(e,t,n){if(1!=this.G[4]){var r=this.h.lh(e);0!=(r&t)&&0!=(r&n)?this.G[4]=1:0!=this.G[4]&&1!=this.h.Cb(this.h.ze(this.h.wa(e)),this.aj)&&0!=((e=this.h.Bd(this.h.Df(e)))&t)&&0!=(e&n)&&(this.G[4]=0)}},t.prototype.RE=function(e,t,n){if(1!=this.G[n]){var r=this.h.kf(this.h.wa(e));0==(this.h.kf(e)&t)&&0==(r&t)&&(this.G[n]=1)}},t.prototype.YT=function(e,t){if(1!=this.G[0]){var n=this.h.kf(this.h.wa(e));0!=(this.h.kf(e)&t)&&0!=(n&t)&&(this.G[0]=1)}},t.prototype.UT=function(e,t,n,r){if(0!=this.G[1]&&1!=this.h.Cb(this.h.ze(this.h.wa(e)),this.aj)){var i=this.h.Df(e),a=this.h.Bd(i);0==(a&t)&&0!=(this.h.kf(e)&t)&&(e=this.h.tg(i,r),0!=(a&n)&&0!=e%2&&(this.G[1]=0))}},t.prototype.VT=function(e,t){2!=this.G[2]&&0!=(this.h.lh(e)&t)&&(this.G[2]=2)},t.prototype.QO=function(e,t,n,r){if(1!=this.G[3]){var i=this.h.lh(e);0!=(i&t)&&0!=(i&n)?this.G[3]=1:0!=this.G[3]&&1!=this.h.Cb(this.h.ze(this.h.wa(e)),this.aj)&&(i=this.h.Df(e),0!=((e=this.h.Bd(i))&t)&&(t=this.h.tg(i,r),0!=(e&n)&&0==t%2&&(this.G[3]=0)))}},t.prototype.NO=function(e,t,n,r){if(0!=this.G[4]&&1!=this.h.Cb(this.h.ze(this.h.wa(e)),this.aj)){var i=this.h.Df(e);0!=((e=this.h.Bd(i))&t)&&(t=this.h.tg(i,r),0!=(e&n)&&0!=t%2&&(this.G[4]=0))}},t.prototype.OO=function(e,t,n){1!=this.G[5]&&0!=((e=this.h.lh(e))&t)&&0==(e&n)&&(this.G[5]=1)},t.prototype.xR=function(e,t){if(1!=this.G[6]){var n=this.h.kf(this.h.wa(e));0==(this.h.kf(e)&t)&&0==(n&t)&&(this.G[6]=1)}},t.prototype.wR=function(e,t,n,r){if(0!=this.G[7]&&1!=this.h.Cb(this.h.ze(this.h.wa(e)),this.aj)){var i=this.h.Df(e),a=this.h.Bd(i);0==(a&t)&&0==(this.h.kf(e)&t)&&(e=this.h.tg(i,r),0!=(a&n)&&0!=e%2&&(this.G[7]=0))}},t.prototype.aU=function(e,t,n,r,i){if(1!=this.G[0]){var a=this.h.lh(e);0!=(a&t)&&0!=(a&n)?this.G[0]=1:0!=this.G[0]&&1!=this.h.Cb(this.h.ze(this.h.wa(e)),this.aj)&&(e=this.h.Df(e),0!=((a=this.h.Bd(e))&t)&&0!=(a&n)&&(t=this.h.tg(e,r),i=this.h.tg(e,i),0==t%2&&0==i%2&&(this.G[0]=0)))}},t.prototype.gH=function(e,t,n,r,i,a){if(0!=this.G[a]&&1!=this.h.Cb(this.h.ze(this.h.wa(e)),this.aj)){e=this.h.Df(e);var o=this.h.Bd(e);0!=(o&t)&&0!=(o&n)&&(t=this.h.tg(e,r),i=this.h.tg(e,i),0==t%2&&0!=i%2&&(this.G[a]=0))}},t.prototype.hH=function(e,t,n,r){1!=this.G[r]&&0!=((e=this.h.lh(e))&t)&&0==(e&n)&&(this.G[r]=1)},t.prototype.SO=function(e,t,n,r,i){if(0!=this.G[4]&&1!=this.h.Cb(this.h.ze(this.h.wa(e)),this.aj)){e=this.h.Df(e);var a=this.h.Bd(e);0!=(a&t)&&0!=(a&n)&&(t=this.h.tg(e,r),i=this.h.tg(e,i),0!=t%2&&0!=i%2&&(this.G[4]=0))}},t.prototype.SE=function(e,t,n,r){0!=this.G[r]&&1!=this.h.Cb(this.h.ze(this.h.wa(e)),this.aj)&&(e=this.h.Df(e),0==(this.h.Bd(e)&t)&&0!=this.h.tg(e,n)%2&&(this.G[r]=0))},t.prototype.ZT=function(e,t){0!=this.G[0]&&0==(this.h.Bd(e)&t)&&0!=(this.h.mk(this.h.Iz(e))&t)&&(this.G[0]=0)},t.prototype.WT=function(e,t){2!=this.G[2]&&0!=(this.h.Bd(e)&t)&&(this.G[2]=2)},t.prototype.RO=function(e,t,n){0!=this.G[3]&&0!=((e=this.h.Bd(e))&t)&&0!=(e&n)&&(this.G[3]=0)},t.prototype.PO=function(e,t){1!=this.G[5]&&0!=(this.h.Bd(e)&t)&&(this.G[5]=1)},t.prototype.yR=function(e,t){0!=this.G[6]&&0==(this.h.Bd(e)&t)&&0==(this.h.mk(this.h.Iz(e))&t)&&(this.G[6]=0)},t.prototype.bU=function(e,t,n,r){if(0!=this.G[0]){var i=this.h.Bd(e);0!=(i&t)&&0!=(i&n)&&0==this.h.tg(e,r)%2&&(this.G[0]=0)}},t.prototype.$T=function(e,t){1!=this.G[2]&&(-1!=this.h.Re(e)?this.G[2]=1:0!=this.G[2]&&0==(this.h.Bd(e)&t)&&(this.G[2]=0))},t.prototype.UO=function(e,t,n,r){if(0!=this.G[3]){var i=this.h.Bd(e);0!=(i&t)&&0!=(i&n)&&0!=this.h.tg(e,r)%2&&(this.G[3]=0)}},t.prototype.TO=function(e,t,n,r){if(0!=this.G[5]){var i=this.h.Bd(e);0!=(i&t)&&0==(i&n)&&0!=this.h.tg(e,r)%2&&(this.G[5]=0)}},t.prototype.zR=function(e,t,n){0!=this.G[6]&&0==((e=this.h.Bd(e))&t)&&0!=(e&n)&&(this.G[6]=0)},t.prototype.cU=function(e,t,n){0!=this.G[0]&&0!=((e=this.h.Bd(e))&t)&&0!=(e&n)&&(this.G[0]=0)},t.prototype.iH=function(e,t,n,r){0!=this.G[r]&&0!=((e=this.h.Bd(e))&t)&&0==(e&n)&&(this.G[r]=0)},t.prototype.Vp=function(t,n){var r=!1;t=this.h.Ea(t),n=this.h.Ea(n),this.aj=this.h.ih();for(var i=this.h.We;-1!=i;i=this.h.$f(i)){var a=this.h.Re(i);if(-1==a){if(-1!=this.en)switch(this.en){case 3:r=this.NE(i,t,n);break;case 4:r=this.CH(i,t,n);break;default:throw e.f.Y("internal error")}}else{var o=a;do{var s=o;if(1!=this.h.Cb(s,this.aj))do{switch(this.bx){case 0:r=this.IO(s,t,n);break;case 1:r=this.JO(s,t,n);break;case 2:r=this.IU(s,t,n);break;default:throw e.f.Y("internal error")}if(r)break;this.h.Jb(s,this.aj,1),s=this.h.kc(s)}while(s!=o&&!r);if(r)break;o=this.h.kc(this.h.wa(s))}while(o!=a);if(r)break}}r||this.YK(),this.h.Uh(this.aj)},t.prototype.kz=function(t,n){var r=!1;t=this.h.Ea(t),n=this.h.Ea(n);for(var i=this.h.We;-1!=i;i=this.h.$f(i)){switch(this.en){case 3:r=this.NE(i,t,n);break;case 4:r=this.CH(i,t,n);break;case 5:r=this.qW(i,t,n);break;default:throw e.f.za()}if(r)break}r||this.YK()},t.prototype.zr=function(e,t){this.h.xr(e,t)},t.prototype.lp=function(e,t,n){this.iR(e,t,n),this.zr(e,n)},t.prototype.iR=function(t,n,r){for(e.$j.U(t,n,r,!1),t.$p(0,!0,!0),n=t.kd;-1!=n;n=t.Ae(n))1736==t.dc(n)&&e.Kn.U(t,n,-1,!1,r)},t.HF=function(t,n){var r=t.F();return e.R.Ic(r)?((n=new e.Oa(t.description)).$b(t,!0),n):197==r?(r=new e.g,t.s(r),r.ca()<=n&&r.N()<=n?(n=new e.Ra(t.description),t.hf(n),n):r.ca()<=n||r.N()<=n?(n=new e.Oa(t.description),r=new e.Ra,t.Pf(0,r),n.xf(r),t.Pf(2,r),n.lineTo(r),n):((n=new e.Fa(t.description)).bd(t,!1),n)):t},t}(),e.mm=t}(Y||(Y={})),function(e){var t=function(){function t(t){this.Rm=new e.ha(0),this.Kw=new e.ha(0),this.eu=new e.b,this.fu=new e.b,this.a=t,this.pt=-1}return t.prototype.ec=function(e){return this.a.ec(this.hA(e))},t.prototype.hw=function(e){var t=this.Pz(e);if(e=this.tG(e),this.a.Ma(t)==e){var n=t;t=e,e=n}return this.a.Hc(t,this.eu),this.a.Hc(e,this.fu),this.eu.y<this.fu.y},t.prototype.hA=function(e){var t=this.Pz(e);return e=this.tG(e),this.a.T(t)==e?t:e},t.prototype.Pz=function(e){return this.Rm.get(e)},t.prototype.tG=function(e){return this.Kw.get(e)},t.prototype.eG=function(e){this.Rm.set(e,this.pt),this.pt=e},t.prototype.cJ=function(t){if(-1!=this.pt){var n=this.pt;return this.pt=this.Rm.get(n),this.Rm.set(n,t),this.Kw.set(n,this.a.T(t)),n}return null==this.Rm&&(this.Rm=new e.ha(0),this.Kw=new e.ha(0)),n=this.Rm.size,this.Rm.add(t),this.Kw.add(this.a.T(t)),n},t.prototype.aA=function(e){return this.a.cd(this.Pz(e))},t}();e.e_=t;var n=function(){function t(t){this.Ie=t,this.qe=new e.zb,this.$m=new e.zb,this.sI=0,this.Uo=null,this.hB=-1}return t.prototype.compare=function(e,t,n){n=e.ga(n);var r=this.Ie.eb;if(this.hB==t)var i=this.sI;else this.Uo=r.ec(t),null==this.Uo?((e=r.a).gd(r.hA(t),this.qe),this.Uo=this.qe,i=this.qe.Te(this.Ie.Fh,0)):i=this.Uo.Te(this.Ie.Fh,0),this.sI=i,this.hB=t;if(null==(e=r.ec(n))){(e=r.a).gd(r.hA(n),this.$m),e=this.$m;var a=this.$m.Te(this.Ie.Fh,0)}else a=e.Te(this.Ie.Fh,0);return i==a&&(t=r.hw(t),n=r.hw(n),(t=.5*((n=Math.min(t?this.Uo.ma:this.Uo.na,n?e.ma:e.na))+this.Ie.Fh))==this.Ie.Fh&&(t=n),i=this.Uo.Te(t,0),a=e.Te(t,0)),i<a?-1:i>a?1:0},t.prototype.reset=function(){this.hB=-1},t}(),r=function(){function r(){this.kn=this.Ol=null,this.cb=new e.bk,this.cb.bR(),this.ge=new n(this),this.cb.kp(this.ge)}return r.prototype.TR=function(){var t=!1;if(this.Ow&&(t=this.UR()),1==this.a.$(this.W)){var n=this.a.Kb(this.W);return t=this.a.eA(n),this.a.yC(n,!0),0>t&&(t=this.a.Za(n),this.a.tK(t),this.a.dh(n,this.a.Ma(t)),!0)}for(this.Ml=this.a.oz(),this.Po=this.a.oz(),n=this.a.Kb(this.W);-1!=n;n=this.a.Qb(n))this.a.Br(n,this.Ml,0),this.a.Br(n,this.Po,-1);n=new e.ha(0),this.Fh=NaN;var r=new e.b;this.Lt=this.a.$(this.W),this.Ko=this.a.Kd(),this.zt=this.a.Kd();for(var i=this.Ol.sc(this.Ol.re);-1!=i;i=this.Ol.hb(i)){var a=this.Ol.getData(i);if(this.a.Hc(a,r),r.y!=this.Fh&&0!=n.size&&(t=this.bu(n)||t,this.ge.reset(),n.clear(!1)),n.add(a),this.Fh=r.y,0==this.Lt)break}for(0<this.Lt&&(t=this.bu(n)||t,n.clear(!1)),this.a.Xd(this.Ko),this.a.Xd(this.zt),n=this.a.Kb(this.W);-1!=n;)if(3==this.a.yj(n,this.Ml)){for(this.a.yC(n,!0),r=n,n=this.a.yj(n,this.Po);-1!=n;)i=this.a.yj(n,this.Po),this.a.sV(this.W,this.a.Qb(r),n),r=n,n=i;n=this.a.Qb(r)}else this.a.yC(n,!1),n=this.a.Qb(n);return this.a.lC(this.Ml),this.a.lC(this.Po),t},r.prototype.bu=function(e){return this.sX(e)},r.prototype.sX=function(n){var r=!1;null==this.eb&&(this.eb=new t(this.a)),null==this.kn?(this.kn=new e.ha(0),this.kn.Db(16)):this.kn.clear(!1),this.rX(n);for(var i=0,a=n.size;i<a;i++){var o=n.get(i);-1!=o&&this.aH(o,-1)}for(i=0;i<this.kn.size&&0<this.Lt;i++)if(n=this.kn.get(i),o=this.eb.aA(this.cb.ga(n)),a=-1,0==this.a.yj(o,this.Ml)){o=this.cb.Be(n);for(var s,c=n;-1!=o;){var u=this.cb.ga(o),l=this.eb.aA(u),h=this.a.yj(l,this.Ml);if(0!=h){a=l;break}c=o,o=this.cb.Be(o)}-1==o?(s=!0,o=c):(u=this.cb.ga(o),s=this.eb.hw(u),o=this.cb.hb(o),s=!s);do{if(u=this.cb.ga(o),l=this.eb.aA(u),0==(h=this.a.yj(l,this.Ml))&&(s!=this.eb.hw(u)&&(r=this.a.Za(l),this.a.tK(r),this.a.dh(l,this.a.Ma(r)),r=!0),this.a.Br(l,this.Ml,s?3:2),s||(c=this.a.yj(a,this.Po),this.a.Br(a,this.Po,l),this.a.Br(l,this.Po,c)),this.Lt--,0==this.Lt))return r;a=l,c=o,o=this.cb.hb(o),s=!s}while(c!=n)}return r},r.prototype.rX=function(e){for(var t=0,n=e.size;t<n;t++){var r=e.get(t),i=this.a.Na(r,this.Ko),a=this.a.Na(r,this.zt);if(-1!=i){var o=this.cb.ga(i);this.eb.eG(o),this.a.Qa(r,this.Ko,-1)}-1!=a&&(o=this.cb.ga(a),this.eb.eG(o),this.a.Qa(r,this.zt,-1)),o=-1,-1!=i&&-1!=a?(this.cb.zd(i,-1),this.cb.zd(a,-1),e.set(t,-1)):o=-1!=i?i:a,-1!=o&&(this.aH(r,o)||this.cb.zd(o,-1),e.set(t,-1))}},r.prototype.aH=function(t,n){var r=new e.b,i=new e.b;this.a.Hc(t,r);var a=this.a.T(t);this.a.Hc(a,i);var o=!1;if(r.y<i.y){o=!0;var s=this.eb.cJ(t);if(-1==n)var c=this.cb.addElement(s,-1);else c=n,this.cb.Tj(c,s);-1==(s=this.a.Na(a,this.Ko))?this.a.Qa(a,this.Ko,c):this.a.Qa(a,this.zt,c),a=this.a.cd(t),0==this.a.yj(a,this.Ml)&&this.kn.add(c)}return a=this.a.Ma(t),this.a.Hc(a,i),r.y<i.y&&(o=!0,s=this.eb.cJ(a),-1==n?c=this.cb.addElement(s,-1):(c=n,this.cb.Tj(c,s)),-1==(s=this.a.Na(a,this.Ko))?this.a.Qa(a,this.Ko,c):this.a.Qa(a,this.zt,c),a=this.a.cd(t),0==this.a.yj(a,this.Ml)&&this.kn.add(c)),o},r.U=function(e,t,n,i){var a=new r;return a.a=e,a.W=t,a.Ol=n,a.Ow=i,a.TR()},r.prototype.UR=function(){var t=new e.ha(0),n=new e.ha(0),r=-1,i=-1,a=new e.b;a.Tc();for(var o=-1,s=-1,c=-1,u=new e.b,l=this.Ol.sc(this.Ol.re);-1!=l;l=this.Ol.hb(l)){var h=this.Ol.getData(l);this.a.Hc(h,u);var f=this.a.cd(h);a.qb(u)&&s==f?(-1==i&&(r=this.a.oz(),i=this.a.Kd()),-1==c&&(c=n.size,this.a.Qa(o,i,c),n.add(1),-1==this.a.yj(f,r)&&(this.a.Br(f,r,o),t.add(f))),this.a.Qa(h,i,c),n.EY(n.Gc()+1)):(c=-1,a.K(u)),o=h,s=f}if(0==t.size)return!1;for(a=new e.ha(0),o=new e.ha(0),s=0,c=t.size;s<c;s++){f=t.get(s);var d=this.a.yj(f,r);for(h=this.a.Na(d,i),a.clear(!1),o.clear(!1),a.add(d),o.add(h),h=this.a.T(d);h!=d;h=this.a.T(h)){var p=h;if(-1!=(u=this.a.Na(p,i)))if(0==o.size)o.add(u),a.add(p);else if(o.Gc()==u){l=a.Gc();var b=this.a.T(l);d=this.a.T(p),this.a.Dc(l,d),this.a.Ec(d,l),this.a.Dc(p,b),this.a.Ec(b,p),p=[!1],b=this.a.$G(this.W,b,this.a.Za(f),p),this.a.Qa(h,i,-1),p[0]&&this.a.Sf(f,d),h=this.a.Ha(f),h-=d=this.a.Ha(b),this.a.Wj(f,h),n.set(u,n.get(u)-1),1==n.get(u)&&(n.set(u,0),o.Rf(),a.Rf()),h=d=l}else a.add(h),o.add(u)}}return this.a.lC(r),this.a.Xd(i),!0},r}();e.dN=r}(Y||(Y={})),function(e){var t=function(){function t(){}return t.prototype.og=function(){this.yB=this.sb=null},t.prototype.get=function(){return this.yB},t.prototype.set=function(t){if(this.yB=t,null!=t)throw 322==t.F()&&(this.sb=t),e.f.za()},t.prototype.create=function(t){if(322!=t)throw e.f.Y("Not Implemented");this.ps()},t.prototype.ps=function(){null==this.sb&&(this.sb=new e.zb),this.yB=this.sb},t}();e.og=t}(Y||(Y={})),function(e){(e=e.eN||(e.eN={}))[e.enumLineSeg=1]="enumLineSeg",e[e.enumBezierSeg=2]="enumBezierSeg",e[e.enumArcSeg=4]="enumArcSeg",e[e.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask",e[e.enumSegmentMask=7]="enumSegmentMask",e[e.enumDensified=8]="enumDensified"}(Y||(Y={})),function(e){var t=function(e){this.gj=e,this.ZC=this.$C=1,this.bC=this.aC=this.cC=0},n=function(){function n(){this.Zq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Jk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Jf=new e.Ra,this.qa=this.kx=0,this.Fo=[],this.It=[],this.ex=[],this.ar=[],this.vB=[]}return n.prototype.fC=function(e){if(null!=e){for(var t=0,n=e.length;t<n;t++)this.XX(e[t]);e.length=0}},n.prototype.XX=function(e){e.gj=null,this.ar.push(e)},n.prototype.ux=function(e){if(0===this.ar.length)var n=new t(e);else(n=this.ar[this.ar.length-1]).gj=e,--this.ar.length;return n},n.prototype.iT=function(e,t){return 0==e?this.It[t]:this.ex[t]},n.prototype.LB=function(){this.kx>=this.vB.length&&this.vB.push(new e.og);var t=this.vB[this.kx];return this.kx++,t},n.prototype.clear=function(){this.fC(this.Fo),this.fC(this.It),this.fC(this.ex),this.kx=0},n.prototype.gp=function(e){this.Fo.push(this.ux(e))},n.prototype.ul=function(e){return 0==e?this.It.length:this.ex.length},n.prototype.nq=function(e,t){return this.iT(e,t).gj},n.prototype.Ia=function(t,n){if(2!=this.Fo.length)throw e.f.za();this.qa=t;var r=e.Tb.Wx(.01*t),i=!1,a=this.Fo[0],o=this.Fo[1];if(n||0!=(5&a.gj.Zr(o.gj,t,!0))){if(322==a.gj.F()){var s=a.gj;if(322==o.gj.F()){n=o.gj;var c=e.zb.Dy(s,n,null,this.Zq,this.Jk,t);if(0==c)throw e.zb.Dy(s,n,null,this.Zq,this.Jk,t),e.f.za();t=Array(9),e.L.Gv(t,null);for(var u=0;u<c;u++){var l=this.Zq[u],h=this.Jk[u],f=a.bC,d=1;0==l?(f=a.cC,d=a.$C):1==l&&(f=a.aC,d=a.ZC);var p=o.bC,b=1;0==h?(p=o.cC,b=o.$C):1==h&&(p=o.aC,b=o.ZC);var v=new e.b;f==p?(f=new e.b,s.cc(l,f),l=new e.b,n.cc(h,l),b/=h=d+b,e.Tb.AH(f,l,b,v),e.b.oc(v,f)+e.b.oc(v,l)>r&&(i=!0)):f>p?(s.cc(l,v),l=new e.b,n.cc(h,l),e.b.oc(v,l)>r&&(i=!0)):(n.cc(h,v),f=new e.b,s.cc(l,f),e.b.oc(v,f)>r&&(i=!0)),t[u]=v}for(a=0,o=-1,u=0;u<=c;u++)(b=u<c?this.Zq[u]:1)!=a&&(r=this.LB(),s.jh(a,b,r),-1!=o&&r.get().Fc(t[o]),u!=c&&r.get().Sc(t[u]),a=b,this.It.push(this.ux(r.get()))),o=u;for(s=[0,0,0,0,0,0,0,0,0],u=0;u<c;u++)s[u]=u;for(1<c&&this.Jk[0]>this.Jk[1]&&(b=this.Jk[0],this.Jk[0]=this.Jk[1],this.Jk[1]=b,u=s[0],s[0]=s[1],s[1]=u),a=0,o=-1,u=0;u<=c;u++)(b=u<c?this.Jk[u]:1)!=a&&(r=this.LB(),n.jh(a,b,r),-1!=o&&(a=s[o],r.get().Fc(t[a])),u!=c&&(a=s[u],r.get().Sc(t[a])),a=b,this.ex.push(this.ux(r.get()))),o=u;return i}}throw e.f.za()}return!1},n.prototype.rA=function(t,n,r){if(n.copyTo(this.Jf),1!=this.Fo.length)throw e.f.za();this.qa=t;var i=this.Fo[0];if(r||i.gj.Xu(n.w(),t,!0)){if(322!=i.gj.F())throw e.f.za();var a=(t=i.gj).ae(n.w(),!1);this.Zq[0]=a;var o=i.bC;for(r=1,0==a?(o=i.cC,r=i.$C):1==a&&(o=i.aC,r=i.ZC),i=new e.b,0==o?(o=new e.b,t.cc(a,o),n=n.w(),e.Tb.AH(o,n,1/(r+1),i)):0<o?(i=new e.b,t.cc(a,i)):i=n.w(),r=0,a=-1,o=0;1>=o;o++){if((n=1>o?this.Zq[o]:1)!=r){var s=this.LB();t.jh(r,n,s),-1!=a&&s.get().Fc(i),1!=o&&s.get().Sc(i),r=n,this.It.push(this.ux(s.get()))}a=o}this.Jf.nb(i)}},n}();e.AD=n}(Y||(Y={})),function(e){var t=function(){function t(t){this.lt=this.yk=this.sb=null,this.Ll=this.$e=0,this.wl=this.Mm=!1,this.Ue=-1,this.ki=this.ed=0,this.Pa=-1,this.Ya=t,this.$e=this.Xr(this.ki),this.Mm=!1,this.yk=null,this.Ll=-1,this.wl=!1,this.lt=new e.b}return t.M_=function(n,r){if(0>r||r>=n.D())throw e.f.Gd();var i=new t(n),a=n.Xv(r);return i.ed=r-n.ua(a),i.ki=a+1,i.Pa=a,i.$e=i.Xr(i.Pa),i.Ll=i.Ya.ua(i.Pa),i.wl=i.Ya.Lb(i.Pa),i},t.L_=function(n,r,i){if(0>r||r>=n.$()||0>i)throw e.f.Gd();var a=n.Lb(r)?0:1;if(i>=n.Ha(r)-a)throw e.f.Gd();return(n=new t(n)).Ue=-1,n.ed=i,n.Pa=r,n.ki=n.ed+1,n.$e=n.Xr(n.ki),n.Ll=n.Ya.ua(n.Pa),n.wl=n.Ya.Lb(n.Pa),n},t.prototype.gY=function(t){if(this.Ya!=t.Ya)throw e.f.Eb();this.Ue=t.Ue,this.ed=t.ed,this.Pa=t.Pa,this.ki=t.ki,this.$e=t.$e,this.Mm=t.Mm,this.Ll=t.Ll,this.yk=null,this.wl=t.wl},t.prototype.aa=function(){if(this.Ue!=this.ed&&this.nE(),this.Mm)this.ed=(this.ed+1)%this.$e;else{if(this.ed==this.$e)throw e.f.Gd();this.ed++}return this.yk},t.prototype.ti=function(){if(this.Mm)this.ed=(this.$e+this.ed-1)%this.$e;else{if(0==this.ed)throw e.f.Gd();this.ed--}return this.ed!=this.Ue&&this.nE(),this.yk},t.prototype.hY=function(){this.Ue=-1,this.ed=0},t.prototype.iY=function(){this.ed=this.$e,this.Ue=-1},t.prototype.Rb=function(e,t){if(void 0===t&&(t=-1),0<=this.Pa&&this.Pa<this.Ya.$()){var n=this.QN();if(e>=n&&e<this.Ya.zc(this.Pa))return this.Ue=-1,void(this.ed=e-n)}t=0<=t&&t<this.Ya.$()&&e>=this.Ya.ua(t)&&e<this.Ya.zc(t)?t:this.Ya.Xv(e),this.ki=t+1,this.Pa=t,this.Ue=-1,this.ed=e-this.Ya.ua(t),this.$e=this.Xr(t),this.Ll=this.Ya.ua(this.Pa),this.wl=this.Ya.Lb(this.Pa)},t.prototype.Ta=function(){return this.Pa=this.ki,!(this.Pa>=this.Ya.$()||(this.Ue=-1,this.ed=0,this.$e=this.Xr(this.Pa),this.Ll=this.Ya.ua(this.Pa),this.wl=this.Ya.Lb(this.Pa),this.ki++,0))},t.prototype.ej=function(){this.$e=this.ed=this.Ue=-1,this.ki=0,this.Pa=-1,this.wl=!1,this.Ll=-1},t.prototype.oC=function(t){if(0>t)throw e.f.Gd();this.ki=t,this.Ll=this.$e=this.ed=this.Ue=this.Pa=-1,this.wl=!1},t.prototype.Xr=function(e){if(this.Ya.Ac())return 0;var t=1;return this.Ya.Lb(e)&&(t=0),this.Ya.Ha(e)-t},t.prototype.io=function(){return this.Ue==this.$e-1&&this.Ya.Lb(this.Pa)},t.prototype.tC=function(){this.Mm=!0},t.prototype.wb=function(){return this.Ya.kb.i[this.Pa]+this.Ue},t.prototype.QN=function(){return this.Ya.ua(this.Pa)},t.prototype.nk=function(){return this.io()?this.Ya.ua(this.Pa):this.wb()+1},t.prototype.Im=function(){return 0==this.Ue},t.prototype.ko=function(){return this.Ue==this.$e-1},t.prototype.Aa=function(){return this.ed<this.$e},t.prototype.mA=function(){return 0<this.ed},t.prototype.Cf=function(){var e=new t(this.Ya);return e.Ue=this.Ue,e.ed=this.ed,e.$e=this.$e,e.Pa=this.Pa,e.ki=this.ki,e.Ya=this.Ya,e.Mm=this.Mm,e},t.prototype.nE=function(){if(0>this.ed||this.ed>=this.$e)throw e.f.Gd();this.Ue=this.ed;var t=this.wb();this.Ya.rc();var n=this.Ya.af,r=1;switch(null!=n&&(r=7&n.read(t)),n=this.Ya.description,r){case 1:null==this.sb&&(this.sb=new e.zb),this.yk=this.sb;break;case 2:throw e.f.Y("internal error");case 4:default:throw e.f.za()}this.yk.rg(n),r=this.nk(),this.Ya.Hc(t,this.lt),this.yk.Fc(this.lt),this.Ya.Hc(r,this.lt),this.yk.Sc(this.lt);for(var i=1,a=n.Ca;i<a;i++)for(var o=n.jd(i),s=e.oa.Sa(o),c=0;c<s;c++){var u=this.Ya.Rc(o,t,c);this.yk.Qx(o,c,u),u=this.Ya.Rc(o,r,c),this.yk.Hx(o,c,u)}},t.prototype.uU=function(){return this.Pa==this.Ya.$()-1},t.prototype.jo=function(){var e=this.Ya.lT();return null!=e&&1!=(7&e.read(this.Ue))},t}();e.fN=t}(Y||(Y={})),function(e){var t=function(){function t(t){t instanceof e.R?(this.kI=t,this.ya=-1,this.Ki=1):(this.QU=t.slice(0),this.ya=-1,this.Ki=t.length)}return t.prototype.Ea=function(){return this.ya},t.prototype.next=function(){return this.ya<this.Ki-1?(this.ya++,null!=this.kI?this.kI:this.QU[this.ya]):null},t.prototype.xe=function(){},t}();e.$c=t}(Y||(Y={})),function(e){var t=function(){this.next=null},n=function(){function n(){this.mr=this.qx=this.rx=0,this.YF=!1,this.lL=0,this.xn=this.Tf=this.hm=this.Nh=null,this.Zl=0,this.$y=null,this.vl=this.xi=-1}return n.prototype.dZ=function(t,n,r){this.xi=t,this.vl=n,this.Nh=this.hm=null,this.mr=0,this.$y=r,null==this.xn&&(this.xn=e.L.Xf(384,0)),this.tL()},n.prototype.N=function(){return this.xi},n.prototype.ca=function(){return this.vl},n.prototype.flush=function(){0<this.Zl&&(this.$y.UF(this.xn,this.Zl),this.Zl=0)},n.prototype.tL=function(){if(0<this.mr){for(var e=0;e<this.vl;e++){for(var t=this.hm[e];null!=t;){var n=t;t=t.next,n.next=null}this.hm[e]=null}this.Nh=null}this.rx=this.vl,this.qx=-1,this.mr=0},n.prototype.mK=function(e){for(this.YF=e==n.iy,e=this.rx;e<=this.qx;e++)this.DO(),this.vO(e),this.jR();this.tL()},n.prototype.Py=function(n,r,i,a){if(r!=a){var o=1;if(r>a&&(o=n,n=i,i=o,o=r,r=a,a=o,o=-1),!(0>a||r>=this.vl)){0>n&&0>i?i=n=-1:n>=this.xi&&i>=this.xi&&(i=n=this.xi);var s=(i-n)/(a-r);a>this.vl&&(i=s*((a=this.vl)-r)+n),0>r&&(n=s*(0-r)+n,r=0);var c=Math.max(this.xi+1,8388607);-8388607>n?(r=(0-n)/s+r,n=0):n>c&&(r=(this.xi-n)/s+r,n=this.xi),-8388607>i?a=(0-n)/s+r:i>c&&(a=(this.xi-n)/s+r),(r=e.L.truncate(r))!=(a=e.L.truncate(a))&&((i=new t).x=e.L.truncate(4294967296*n),i.y=r,i.B=a,i.gR=e.L.truncate(4294967296*s),i.dir=o,null==this.hm&&(this.hm=e.L.Xf(this.vl,null)),i.next=this.hm[i.y],this.hm[i.y]=i,i.y<this.rx&&(this.rx=i.y),i.B>this.qx&&(this.qx=i.B),this.mr++)}}},n.prototype.DO=function(){if(null!=this.Nh){for(var e=!1,t=null,n=this.Nh;null!=n;)if(n.y++,n.y==n.B){var r=n;n=n.next,null!=t?t.next=n:this.Nh=n,r.next=null}else n.x+=n.gR,null!=t&&t.x>n.x&&(e=!0),t=n,n=n.next;e&&(this.Nh=this.kL(this.Nh))}},n.prototype.vO=function(e){if(!(e>=this.vl)){var t=this.hm[e];if(null!=t){this.hm[e]=null,t=this.kL(t),this.mr-=this.lL,e=this.Nh;for(var n=!0,r=t,i=null;null!=e&&null!=r;)e.x>r.x?(n&&(this.Nh=r),n=r.next,r.next=e,null!=i&&(i.next=r),i=r,r=n):(n=e.next,e.next=r,null!=i&&(i.next=e),i=e,e=n),n=!1;null==this.Nh&&(this.Nh=t)}}},n.jL=function(e,t){return 0>e?0:e>t?t:e},n.prototype.jR=function(){if(null!=this.Nh)for(var t=0,r=this.Nh,i=e.L.truncate(e.L.IH(r.x)),a=r.next;null!=a;a=a.next)if(t=this.YF?1^t:t+a.dir,a.x>r.x){var o=e.L.truncate(e.L.IH(a.x));0!=t&&(r=n.jL(i,this.xi),(i=n.jL(o,this.xi))>r&&r<this.xi&&(this.xn[this.Zl++]=r,this.xn[this.Zl++]=i,this.xn[this.Zl++]=a.y,this.Zl==this.xn.length&&(this.$y.UF(this.xn,this.Zl),this.Zl=0))),r=a,i=o}},n.prototype.kL=function(t){for(var r=0,i=t;null!=i;i=i.next)r++;if(this.lL=r,1==r)return t;null==this.Tf?this.Tf=e.L.Xf(Math.max(r,16),null):this.Tf.length<r&&(this.Tf=e.L.Xf(Math.max(r,2*this.Tf.length),null));var a=0;for(i=t;null!=i;i=i.next)this.Tf[a++]=i;for(2==r?this.Tf[0].x>this.Tf[1].x&&(t=this.Tf[0],this.Tf[0]=this.Tf[1],this.Tf[1]=t):n.LO(this.Tf,r,(function(e,t){return e==t?0:e.x<t.x?-1:e.x>t.x?1:0})),t=this.Tf[0],this.Tf[0]=null,i=t,a=1;a<r;a++)i.next=this.Tf[a],i=this.Tf[a],this.Tf[a]=null;return i.next=null,t},n.LO=function(e,t,n){if(t==e.length)e.sort(n);else{var r=e.slice(0,0),i=e.slice(t);t=e.slice(0,t).sort(n),e.length=0,e.push.apply(e,r.concat(t).concat(i))}},n.iy=0,n.v_=1,n}();e.uy=n}(Y||(Y={})),function(e){var t=function(){function t(){}return t.prototype.Bi=function(e,t){var n=this.a.Na(e,this.hr);if(this.Kl==n&&(this.Kl=this.ve.hb(this.Kl)),this.zo==n&&(this.zo=this.ve.hb(this.zo)),this.ve.hd(this.AB,n),this.fk(e),t&&-1!=(t=this.a.cd(e))&&this.a.Za(t)==e){var r=this.a.T(e);if(r!=e){if((n=this.a.cd(r))==t)return void this.a.Sf(t,r);if((r=this.a.Ma(e))!=e&&(n=this.a.cd(r))==t)return void this.a.Sf(t,r)}this.a.Sf(t,-1),this.a.dh(t,-1)}},t.prototype.aE=function(){for(var t=!1,n=new e.b;;){null==this.bi?(this.bi=new e.ha(0),this.ht=new e.ha(0),this.De=new e.ha(0)):(this.bi.clear(!1),this.ht.clear(!1),this.De.clear(!1));for(var r=this.zo,i=0,a=!0;r!=this.Kl;){var o=this.ve.getData(r),s=new e.b;this.a.Hc(o,s),a&&(this.a.Hc(o,n),a=!1),s=this.a.Ma(o);var c=this.a.T(o);-559038737!=this.a.Na(s,this.Fg)&&(this.bi.add(s),this.a.Qa(s,this.Fg,-559038737),this.ht.add(o),this.De.add(i++)),-559038737!=this.a.Na(c,this.Fg)&&(this.bi.add(c),this.a.Qa(c,this.Fg,-559038737),this.ht.add(o),this.De.add(i++)),r=this.ve.hb(r)}if(2>this.bi.size)break;var u=this;for(this.De.Zd(0,this.De.size,(function(e,t){return u.xN(e,t)})),r=0,i=this.De.size;r<i;r++)a=this.De.get(r),a=this.bi.get(a),this.a.Qa(a,this.Fg,r),s=new e.b,this.a.Hc(a,s);for(s=this.bO(n),r=0,i=this.De.size;r<i;r++)-1!=(a=this.De.get(r))&&(a=this.bi.get(a),this.a.Qa(a,this.Fg,-1));if(!s)break;t=!0}return t},t.prototype.bO=function(e){for(var t=!1,n=!0;n;){n=!1;var r=0;-1==this.De.get(r)&&(r=this.om(r));for(var i=this.om(r),a=0,o=this.De.size;a<o&&-1!=r&&-1!=i&&r!=i;a++){var s=this.De.get(r);i=this.De.get(i),s=this.bi.get(s),i=this.bi.get(i);var c=this.a.T(s);this.a.jw(c,e)||(c=this.a.Ma(s));var u=this.a.T(i);this.a.jw(u,e)||(u=this.a.Ma(i));var l=this.Vu(c,s),h=this.Vu(u,i),f=l?this.a.Ma(c):this.a.T(c),d=h?this.a.Ma(u):this.a.T(u),p=!1;(this.Lp(c)||this.Lp(u)||this.Lp(s)||this.Lp(i)||this.Lp(f)||this.Lp(d))&&(p=!0),!p&&this.a.wq(s,i)&&(p=!0,this.eE(l,h,c,s,u,i)),!p&&this.a.wq(f,d)&&(p=!0,this.eE(!l,!h,c,f,u,d)),p&&(t=!0),n=n||p,r=this.om(r),i=this.om(r)}}if(!t)for(r=0,-1==this.De.get(r)&&(r=this.om(r)),i=this.om(r),a=0,o=this.De.size;a<o&&-1!=r&&-1!=i&&r!=i;a++)s=this.De.get(r),i=this.De.get(i),s=this.bi.get(s),i=this.bi.get(i),c=this.a.T(s),this.a.jw(c,e)||(c=this.a.Ma(s)),u=this.a.T(i),this.a.jw(u,e)||(u=this.a.Ma(i)),l=this.Vu(c,s),h=this.Vu(u,i),f=l?this.a.Ma(c):this.a.T(c),d=h?this.a.Ma(u):this.a.T(u),this.LN(l,h,s,c,f,i,u,d)&&(t=!0),r=this.om(r),i=this.om(r);return t},t.prototype.fO=function(){1736==this.a.dc(this.W)&&1==this.a.$n(this.W)&&(new e.pg).dW(this.Ow,this.a,this.W,this.md);var t=!1,n=!0;this.Fg=this.hr=-1;var r=this.a.D(this.W),i=new e.ha(0);i.Db(r);for(var a=this.a.Kb(this.W);-1!=a;a=this.a.Qb(a))for(var o=this.a.Za(a),s=0,c=this.a.Ha(a);s<c;s++)i.add(o),o=this.a.T(o);var u=this.a.ud.i,l=this.a.ud.Uf;this.a.xb.rc();var h=this.a.xb.va[0].i;for(i.Zd(0,r,(function(e,t){var n=u[l*e],r=u[l*t],i=h[2*n];n=h[2*n+1];var a=h[2*r];return 0==(i=n<(r=h[2*r+1])?-1:n>r?1:i<a?-1:i>a?1:0)&&(i=(e=u[l*e+3])<(t=u[l*t+3])?-1:e==t?0:1),i})),this.hr=this.a.Kd(),this.ve=new e.Ap,this.AB=this.ve.Th(0),this.ve.vn(r),a=0;a<r;a++)o=i.get(a),s=this.ve.addElement(this.AB,o),this.a.Qa(o,this.hr,s);for(this.Fg=this.a.Kd(),this.Kl=-1,this.MD()&&(t=!0);n;){n=!1,r=0,i=!1;do{i=!1,this.zo=-1,c=0,a=new e.b,s=new e.b;for(var f=this.ve.sc(this.AB);-1!=f;)o=this.ve.getData(f),-1!=this.zo?(this.a.Hc(o,s),a.qb(s)?c++:(a.K(s),this.Kl=f,0<c&&(o=this.aE())&&(i=!0,-1!=this.Kl&&(o=this.ve.getData(this.Kl),this.a.Hc(o,a))),this.zo=f=this.Kl,c=0)):(this.zo=f,this.a.Hc(this.ve.getData(f),a),c=0),-1!=f&&(f=this.ve.hb(f));if(this.Kl=-1,0<c&&(o=this.aE())&&(i=!0),10<r++)throw e.f.za();i&&this.ON(),this.MD()&&(i=!0),n=n||i&&!1,t=t||i}while(i)}return this.a.Xd(this.hr),this.a.Xd(this.Fg),e.dN.U(this.a,this.W,this.ve,this.Ow)||t},t.prototype.Vu=function(e,t){return this.a.T(t)!=e},t.prototype.LN=function(e,t,n,r,i,a,o,s){if(r==o)return this.fk(n),this.fk(a),!1;var c=this.a.Na(n,this.Fg),u=this.a.Na(i,this.Fg),l=this.a.Na(a,this.Fg),h=this.a.Na(s,this.Fg),f=[0,0,0,0];for((n=[0,0,0,0,0,0,0,0])[0]=0,f[0]=c,n[1]=0,f[1]=u,n[2]=1,f[2]=l,n[3]=1,f[3]=h,c=1;4>c;c++){for(u=f[c],l=n[c],h=c-1;0<=h&&f[h]>u;)f[h+1]=f[h],n[h+1]=n[h],h--;f[h+1]=u,n[h+1]=l}return f=0,0!=n[0]&&(f|=1),0!=n[1]&&(f|=2),0!=n[2]&&(f|=4),0!=n[3]&&(f|=8),(5==f||10==f)&&(e==t?e?(this.a.Dc(s,r),this.a.Ec(r,s),this.a.Dc(i,o),this.a.Ec(o,i)):(this.a.Ec(s,r),this.a.Dc(r,s),this.a.Ec(i,o),this.a.Dc(o,i)):e?(this.a.Ec(r,a),this.a.Dc(a,r),this.a.Ec(o,i),this.a.Dc(i,o)):(this.a.Dc(r,a),this.a.Ec(a,r),this.a.Dc(o,i),this.a.Ec(i,o)),!0)},t.prototype.eE=function(e,t,n,r,i,a){this.r0?this.dO():this.cO(e,t,n,r,i,a)},t.prototype.dO=function(){throw e.f.Y("not implemented.")},t.prototype.cO=function(e,t,n,r,i,a){if(e!=t)e?(this.a.Dc(n,i),this.a.Ec(i,n),this.a.Dc(a,r),this.a.Ec(r,a),this.On(i,n),this.Bi(i,!0),this.a.ui(i,!0),this.fk(n),this.On(a,r),this.Bi(a,!0),this.a.ui(a,!1)):(this.a.Dc(i,n),this.a.Ec(n,i),this.a.Dc(r,a),this.a.Ec(a,r),this.On(i,n),this.Bi(i,!0),this.a.ui(i,!1),this.fk(n),this.On(a,r),this.Bi(a,!0),this.a.ui(a,!0)),this.fk(r);else{var o=e?n:r,s=t?i:a;for(e=e?r:n,t=t?a:i,i=!1,this.a.Dc(o,s),this.a.Dc(s,o),this.a.Ec(e,t),this.a.Ec(t,e),a=t;a!=s;)n=this.a.Ma(a),r=this.a.T(a),this.a.Ec(a,r),this.a.Dc(a,n),i=i||a==o,a=r;i||(n=this.a.Ma(s),r=this.a.T(s),this.a.Ec(s,r),this.a.Dc(s,n)),this.On(s,o),this.Bi(s,!0),this.a.ui(s,!1),this.fk(o),this.On(t,e),this.Bi(t,!0),this.a.ui(t,!1),this.fk(e)}},t.prototype.MD=function(){for(var e=!1,t=this.a.Kb(this.W);-1!=t;){for(var n=this.a.Za(t),r=0,i=this.a.Ha(t);r<i&&1<i;){var a=this.a.Ma(n),o=this.a.T(n);this.a.wq(a,o)?(e=!0,this.Bi(n,!1),this.a.od(n,!0),this.Bi(o,!1),this.a.od(o,!0),n=a,r=0,i=this.a.Ha(t)):(n=o,r++)}if(2>this.a.Ha(t)){for(e=this.a.Za(t),r=0,i=this.a.Ha(t);r<i;r++)this.Bi(e,!1),e=this.a.T(e);t=this.a.sr(t),e=!0}else t=this.a.Qb(t)}return e},t.prototype.Lp=function(e){for(var t=!1;;){var n=this.a.T(e),r=this.a.Ma(e);if(n==e)return this.Bi(e,!0),this.a.ui(e,!1),!0;if(!this.a.wq(n,r))break;if(t=!0,this.fk(r),this.fk(n),this.Bi(e,!0),this.a.ui(e,!1),this.On(n,r),this.Bi(n,!0),this.a.ui(n,!0),n==r)break;e=r}return t},t.prototype.ON=function(){for(var e=0,t=this.ve.sc(this.ve.re);-1!=t;t=this.ve.hb(t)){var n=this.ve.getData(t);this.a.hj(n,-1)}for(var r=0,i=this.a.Kb(this.W);-1!=i;)if(-1==(t=this.a.Za(i))||-1!=this.a.cd(t))n=i,i=this.a.Qb(i),this.a.tr(n);else{this.a.hj(t,i);var a=1;for(n=this.a.T(t);n!=t;n=this.a.T(n))this.a.hj(n,i),a++;this.a.sp(i,!1),this.a.Wj(i,a),this.a.dh(i,this.a.Ma(t)),r+=a,e++,i=this.a.Qb(i)}for(t=this.ve.sc(this.ve.re);-1!=t;t=this.ve.hb(t))n=this.ve.getData(t),-1==this.a.cd(n)&&(i=this.a.$G(this.W,n,n,null),r+=this.a.Ha(i),e++);for(this.a.bm(this.W,e),this.a.Uj(this.W,r),e=0,r=this.a.kd;-1!=r;r=this.a.Ae(r))e+=this.a.D(r);this.a.JC(e)},t.prototype.om=function(e){for(var t=0,n=this.De.size-1;t<n;t++)if(e=(e+1)%this.De.size,-1!=this.De.get(e))return e;return-1},t.prototype.On=function(e,t){var n=this.a.Na(t,this.hr),r=this.a.Na(t,this.Fg);this.a.UC(e,t),this.a.Qa(t,this.hr,n),this.a.Qa(t,this.Fg,r)},t.prototype.fk=function(e){var t=this.a.Na(e,this.Fg);-1!=t&&(this.De.set(t,-1),this.a.Qa(e,this.Fg,-1))},t.U=function(e,n,r,i,a){var o=new t;return o.a=e,o.W=n,o.gB=r,o.Ow=i,o.md=a,o.fO()},t.prototype.xN=function(t,n){var r=this.bi.get(t),i=new e.b;this.a.Hc(r,i),r=new e.b;var a=this.bi.get(n);return this.a.Hc(a,r),i.qb(r)?0:(a=this.ht.get(t),t=new e.b,this.a.Hc(a,t),a=this.ht.get(n),n=new e.b,this.a.Hc(a,n),(a=new e.b).tc(i,t),(i=new e.b).tc(r,n),e.b.Wr(a,i))},t}();e.Kn=t}(Y||(Y={})),function(e){var t;(t=e.gN||(e.gN={}))[t.Local=0]="Local",t[t.Geographic=1]="Geographic",t[t.Projected=2]="Projected",t[t.Image=3]="Image",t[t.Unknown=4]="Unknown",function(e){e[e.Integer32=0]="Integer32",e[e.Integer64=1]="Integer64",e[e.FloatingPoint=2]="FloatingPoint"}(e.aN||(e.aN={}));var n=function(){function t(){this.Ip="",this.Yu=null,this.jg=0,this.NI=this.$o=-1,this.Dh=null}return t.prototype.xc=function(){return this.jg},t.prototype.xs=function(){return 0},t.prototype.ys=function(){return 0},t.prototype.zs=function(){return 0},t.prototype.ws=function(){return 0},t.prototype.Rz=function(){return 57295779513.082306},t.prototype.Sz=function(){return 1e3},t.prototype.Qz=function(){return 1e3},t.prototype.Is=function(){return 1},t.prototype.ce=function(){var t=.001;return 0!=this.jg?t=e.Vr.OR(this.jg):null!=this.Dh&&(t=e.FD.PR(this.Dh)),t},t.prototype.jA=function(){return this.Dh},t.prototype.Ld=function(){return 0!=this.jg?e.Uc.hh(e.Vr.yz(this.jg)):null!=this.Dh?e.FD.QR(this.Dh):void 0},t.Fb=function(t){if(0!=t.jg){if(!0===e.Vr.sU(t.jg))return 1;if(!0===e.Vr.vU(t.jg))return 2}return 4},t.prototype.Gs=function(){var t=this.xc();return-1!=this.$o?this.$o:(this.$o=e.Vr.OL(t),-1!=this.$o?this.$o:t)},t.create=function(n){if(0>=n)throw e.f.I("Invalid or unsupported wkid: "+n);var r=new t;return r.jg=n,r},t.AQ=function(n){if(null==n||0==n.length)throw e.f.I("Cannot create SpatialReference from null or empty text.");var r=new t;return r.Dh=n,r},t.prototype.Ib=function(e){return this==e||null!=e&&this.constructor==e.constructor&&this.jg==e.jg&&(0!=this.jg||this.Dh===e.Dh)},t.kS=function(t,n){var r=Math.PI/180,i=new e.da;return e.bM.nS(t.w().x*r,t.w().y*r,n.w().x*r,n.w().y*r,i),i.j},t.prototype.toString=function(){return"[ tol: "+this.co()+"; wkid: "+this.xc()+"; wkt: "+this.jA()+"]"},t.prototype.fc=function(){if(""!==this.Ip)return this.Ip;var e=this.toString();if(Array.prototype.reduce)return this.Ip="S"+e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0);var t=0;if(0===e.length)return"";for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return this.Ip="S"+t},t.prototype.co=function(){return this.ce(0)},t.prototype.mh=function(){return null!==this.Yu?this.Yu:this.Yu=e.Mu.JQ(this)},t.z0=!0,t.mv=2147483645,t.nv=9007199254740990,t}();e.je=n}(Y||(Y={})),function(e){var t=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.Pi=null,n.kV=null,n.Ro=new e.BD,n.Yo=null,n.Qw=null,n}return X(n,t),n.JQ=function(t){var r=new n;if(r.jg=t.jg,r.$o=t.$o,r.NI=t.NI,r.Dh=t.Dh,""!==r.Dh&&null!==r.Dh){t=n.rN(r.Dh);var i=n.pN(r.Dh);r.Ro.By(t,i,e.Nu.Integer64),r.Iy(t),r.Ly(i),r.jg=t.Gs()}else t=n.qN(r.jg),r.Iy(t),r.Ly(null),r.Ro.By(t,null,e.Nu.Integer64);return r},n.prototype.ce=function(e){return this.Ro.co(e)},n.pN=function(t){if(0>=t.length)throw e.f.I();var r=null;try{r=e.uD.fromString(t)}catch(e){r=null}return null==r?null:n.LD(r,!0)},n.prototype.Iy=function(e){this.Dd=e,this.Yo=this.Dd.Ld()},n.prototype.Ly=function(e){this.zI=e,this.kV=null!=this.zI?this.zI.Yo:null},n.prototype.Cc=function(){return 0!=this.Fb()&&3!=this.Fb()&&this.Dd.Cc()},n.prototype.uH=function(){return 0!=this.Fb()&&(3==this.Fb()?this.Pi.kk().Cc():this.Dd.Cc())},n.prototype.wg=function(){return null!=this.Dd?this.Dd.Ze:null},n.prototype.Am=function(){return this.Dd.Am()},n.prototype.Sd=function(){return this.Dd.Sd()},n.prototype.oh=function(){return null!=this.Dd?this.Dd.Yw:NaN},n.prototype.Cm=function(){return this.Dd.Cm()},n.prototype.Cs=function(){return this.Dd.Cs()},n.prototype.xj=function(){return this.Dd.xj()},n.prototype.FT=function(t){return e.vD.vz(this.Dd,t.Dd)},n.prototype.sk=function(){return this.Dd.sk()},n.prototype.Bs=function(){return this.Dd.Bs()},n.prototype.Wh=function(){return 3==this.Fb()?this.Pi.kk().Wh():this.Dd.Wh()},n.prototype.nh=function(){if(!this.Cc())throw e.f.I("!isPannable()");var t=new e.g;return this.Dd.nh(t),t},n.prototype.be=function(){if(!this.Cc())throw e.f.I("!isPannable()");return this.Dd.Lo},n.prototype.XS=function(){if(!this.Cc())throw e.f.I("!isPannable()");var t=new e.g;return this.Dd.WS(t),t},n.prototype.Wv=function(){if(!this.Cc())throw e.f.I("!isPannable()");return this.Dd.Wv()},n.prototype.Vv=function(){if(!this.Cc())throw e.f.I("!isPannable()");return this.Dd.Vv()},n.prototype.Ds=function(){return null!=this.Pi?this.Pi.kk().Ds():this.Dd.Ds()},n.prototype.aS=function(){return this.Dd.Ov()},n.prototype.FX=function(e){e.assign(this.Ro)},n.prototype.qk=function(){return this.Yo.getUnitFactor()},n.prototype.dA=function(e){return this.Ro.dA(e)},n.prototype.hc=function(){var t=this.Fb();if(1==t)return this;if(3==t)return this.Pi.kk().hc();if(0==t)throw e.f.Y("invalid call");if(4===t)throw e.f.Y("invalid call");if(null!==this.Qw)return this.Qw;if(null==(t=this.wg().getGeogcs()))throw e.f.za();return this.Qw=n.OF(t,this.Ro.Is())},n.OF=function(t,r){if(null==t)throw e.f.I("null pointer.");var i=new n;return t=n.Tu(t,!0),i.Ro.By(t,null,r),i.Iy(t),i.Ly(null),i.jg=t.Gs(),i},n.prototype.Fb=function(){var t=this.wg();if(null!=t)switch(t.getType()){case e.Pc.PE_TYPE_GEOGCS:return 1;case e.Pc.PE_TYPE_PROJCS:return 2}return 4},n.prototype.bA=function(t){var n=new e.b;return this.Dd.bA(t,n),n},n.prototype.Ov=function(){return this.Dd.Ov()},n.Tu=function(t,r){var i=t.getCode();if(0>=i&&0<(i=e.zf.getCode(t))){if(null==(t=e.zf.coordsys(i)))throw e.f.I("Text to wkid mapping had failed: "+i);return n.Tu(t,r)}return r&&0<i&&(r=n.Yx[i])?r:(r=e.Ab.dw(t,i,!1),n.rL[r]||(t=0>=i?t:e.zf.coordsys(i),t=new e.vD(t),n.rL[r]=t,0<i&&(n.Yx[i]=t),t))},n.qN=function(t){if(0>=t)throw e.f.I("Invalid or unsupported wkid: "+t);var r=n.Yx[t];if(null!=r)return r;if(null==(r=e.zf.coordsys(t)))throw e.f.I("Invalid or unsupported wkid: "+t);return(r=n.Tu(r,!1)).Gs()!=t&&(n.Yx[t]=r),r},n.rN=function(t){if(null==t||void 0===t||0==t.length)throw e.f.I("Cannot create SpatialReference from null or empty text.");var r=null;try{r=e.zf.fromString(e.Pc.PE_TYPE_COORDSYS,t)}catch(t){throw e.f.I("Cannot create SpatialReference from text. "+t.message)}if(null===r)throw e.f.I("Cannot create SpatialReference from text. ");return n.Tu(r,!0)},n.LD=function(t,r){var i,a=t.getCode();if(0>=a&&0<(a=e.zf.getCode(t))){if(null===(a=e.zf.vertcs(a)))throw e.f.I();return n.LD(a,r)}if(r&&0<a&&(r=n.qL[a]))return r;if(t=e.Ab.dw(t,a,!1),r=n.sL[t])return r;if(0>=a||(i=e.zf.vertcs(a)),null===i)throw e.f.I();return i=new e.XM(i),n.sL[t]=i,0<a&&(n.qL[a]=i),i},n.iJ=function(t,n){if(null===n||n.u())return null;var r=new e.g;if(null!==n&&1!=t.Fb()){var i=t.hc(),a=i.wg();t=e.Ur.os(t,i,null,null),(n=e.Rr.local().U(n,t,null)).s(r)}else a=t.wg(),n.s(r);return n=a.getPrimem().getLongitude(),a=a.getUnit().getUnitFactor(),new e.sD(r.o,r.A,r.v,r.B,n,a)},n.XD=function(e){var t={name:"",steps:[],_pt:null,_entry:null},n=0;for(e=e.getEntries();n<e.length;n++){var r=e[n],i={l0:!1,N0:"",M0:-1,geogtran:null};0===r.getDirection()?i.isInverse=!1:i.isInverse=!0;var a=r.getGeogtran().getCode();-1<a?i.wkid=a:i.wkt=r.getGeogtran().toString(),t.steps.push(i)}return t},n.nT=function(t,r,i,a){return void 0===i&&(i=null),i=n.iJ(a,i),t=e.Dp.getGTlist(t.wg(),r.wg(),2,e.Dp.PE_GTLIST_OPTS_COMMON,i,1),r=null,t&&0<t.length&&(r=this.XD(t[0]),e.ry.destroy(t)),null!==i&&i.destroy(),r},n.oT=function(t,r,i,a){var o;if(void 0===i&&(i=null),void 0===a&&(a=null),void 0===o&&(o=30),i=n.iJ(a,i),t=e.Dp.getGTlist(t.wg(),r.wg(),2,e.Dp.PE_GTLIST_OPTS_COMMON,i,o),r=[],t&&0<t.length){for(o=0;o<t.length;o++)r.push(this.XD(t[o]));e.ry.destroy(t)}return null!==i&&i.destroy(),r},n.Yx={},n.rL={},n.qL={},n.sL={},n}(e.je);e.Mu=t}(Y||(Y={})),function(e){var t,n;(n=t=e.Nu||(e.Nu={}))[n.Integer32=0]="Integer32",n[n.Integer64=1]="Integer64",n[n.FloatingPoint=2]="FloatingPoint";var r=function(){function n(){this.Jp()}return n.prototype.assign=function(e){this.Bl=e.Bl,this.Cl=e.Cl,this.$i=e.$i,this.Mw=e.Mw,this.jn=e.jn,this.Lw=e.Lw,this.jx=e.jx,this.Pk=e.Pk,this.er=e.er,this.dr=e.dr,this.dn=e.dn},n.prototype.xs=function(){return this.Bl},n.prototype.ys=function(){return this.Cl},n.prototype.zs=function(){return this.Mw},n.prototype.ws=function(){return this.Lw},n.prototype.Rz=function(){return this.$i},n.prototype.Sz=function(){return this.jn},n.prototype.Qz=function(){return this.jx},n.prototype.Is=function(){return this.dn},n.prototype.Jp=function(){this.Cl=this.Bl=0,this.$i=1,this.Mw=0,this.jn=1,this.Lw=0,this.jx=1,this.dr=this.er=this.Pk=2220446049250313e-29,this.dn=t.FloatingPoint},n.prototype.By=function(n,r,i){if(this.Jp(),this.dn=i,i!=t.FloatingPoint){var a=new e.g;n.vS(a),this.Bl=a.o,this.Cl=a.A}else this.Cl=this.Bl=-17976931348623157e292;(a=n.Ze.getType())==e.Pc.PE_TYPE_GEOGCS?(a=(i==t.Integer64?1e-9:1/18e5)*n.Sd(),this.$i=1/a):a==e.Pc.PE_TYPE_PROJCS&&(a=(i==t.Integer64?1e-4:.001)*n.Am(),this.$i=1/a),null!=r?(a=(i==t.Integer32?.001:1e-4)*r.xI,this.jn=1/a):this.jn=1e4,this.jx=1e4,this.gO(),this.Pk=n.Yw,this.er=null!=r?.001*r.xI:.001,this.dr=2220446049250313e-29},n.prototype.gO=function(){if(this.dn!=t.FloatingPoint){var n=this.dn==t.Integer64?e.je.nv:e.je.mv,r=n/this.$i,i=this.Bl+r,a=e.L.truncate((i-this.Bl)*this.$i);a>n&&(this.$i=n/(i-this.Bl)),r=this.Cl+r,(a=e.L.truncate((r-this.Cl)*this.$i))>n&&(this.$i=n/(r-this.Cl))}},n.prototype.IC=function(e){switch(e){case 0:this.Pk=void 0;case 1:this.er=void 0;case 2:this.dr=void 0}},n.prototype.co=function(e){switch(e){case 0:return this.Pk;case 1:return this.er;case 2:return this.dr}return 0},n.prototype.uT=function(){var n=new e.g;switch(this.Is()){case t.Integer32:var r=e.je.mv/this.Rz();n.H(this.xs(),this.ys(),this.xs()+r,this.ys()+r);break;case t.Integer64:r=e.je.nv/this.Rz(),n.H(this.xs(),this.ys(),this.xs()+r,this.ys()+r);break;case t.FloatingPoint:n.H(-17976931348623157e292,-17976931348623157e292,17976931348623157e292,17976931348623157e292);break;default:throw e.f.Y("internal error")}return n},n.prototype.wT=function(){var n=new e.uc;switch(this.Is()){case t.Integer32:var r=e.je.mv/this.Sz();n.H(this.zs(),this.zs()+r);break;case t.Integer64:r=e.je.nv/this.Sz(),n.H(this.zs(),this.zs()+r);break;case t.FloatingPoint:n.H(-17976931348623157e292,17976931348623157e292);break;default:throw e.f.Y("internal error")}return n},n.prototype.PS=function(){var n=new e.uc;switch(this.Is()){case t.Integer32:var r=e.je.mv/this.Qz();n.H(this.ws(),this.ws()+r);break;case t.Integer64:r=e.je.nv/this.Qz(),n.H(this.ws(),this.ws()+r);break;case t.FloatingPoint:n.H(-17976931348623157e292,17976931348623157e292);break;default:throw e.f.Y("internal error")}return n},n.prototype.dA=function(e){if(this.dn==t.FloatingPoint)return 0;switch(e){case 0:return 1/this.$i;case 1:case 2:return 1/this.jn;default:return 0}},n.prototype.toString=function(){var e="SRPD [m_toleranceXY: "+this.Pk.toString();return(e=(e=(e=(e=(e=(e=(e=(e=(e=e+";m_falseX: "+this.Bl.toString())+";m_falseY: "+this.Cl.toString())+";m_unitsXY: "+this.$i.toString())+";m_falseZ: "+this.Mw.toString())+";m_unitsZ: "+this.jn.toString())+";m_falseM: "+this.Lw.toString())+";m_toleranceZ: "+this.er.toString())+";m_toleranceM: "+this.dr.toString())+";m_precision: "+this.dn.toString())+"] "},n}();e.BD=r}(Y||(Y={})),function(e){function t(e,t){return 89.99999<t?t=89.99999:-89.99999>t&&(t=-89.99999),t*=.017453292519943,[111319.49079327169*e,3189068.5*Math.log((1+Math.sin(t))/(1-Math.sin(t)))]}function n(e,t,n){return e=e/6378137*57.29577951308232,n?[e,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*t/6378137)))]:[e-360*Math.floor((e+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*t/6378137)))]}function r(t,n,r){var i=t.Cf();if(33===t.F())n=n(i.Ce(),i.lf()),i.nb(n[0],n[1]);else if(197===t.F()){var a=n(t.Ms(),t.Os(),r);n=n(t.Ls(),t.Ns(),r),i.H(a[0],a[1],n[0],n[1])}else for(a=new e.b,t=0;t<i.D();t++){i.w(t,a);var o=n(a.x,a.y,r);a.ka(o[0],o[1]),i.nb(t,a)}return i}function i(e){return r(e,n,!0)}function a(e){return r(e,t,!0)}var o=Math.PI/180;e.cM=function(){function t(){}return t.av=function(t){var n=Math.sqrt(.006694379990197414),r=Math.sin(t.y*o);return e.b.construct(6378137*t.x*o,3167719.6636462314*(r/(1-.006694379990197414*r*r)-1/(2*n)*Math.log((1-n*r)/(1+n*r))))},t.Ay=function(t,n,r,i){var a=1/298.257223563,s=Math.sin(r);r=Math.cos(r);var c=(1-a)*Math.tan(t),u=c*(t=1/Math.sqrt(1+c*c)),l=Math.atan2(c,r),h=(c=t*s)*c,f=1-h,d=272331606107.54688*f/40408299984661.45,p=1+d/16384*(4096+d*(d*(320-175*d)-768)),b=d/1024*(256+d*(d*(74-47*d)-128));d=i/(6356752.31424518*p);for(var v,y,m,g=2*Math.PI;1e-12<Math.abs(d-g);)m=Math.cos(2*l+d),g=d,d=i/(6356752.31424518*p)+b*(v=Math.sin(d))*(m+b/4*((y=Math.cos(d))*(2*m*m-1)-b/6*m*(4*v*v-3)*(4*m*m-3)));return i=u*v-t*y*r,f=a/16*f*(4+a*(4-3*f)),e.b.construct((n+(Math.atan2(v*s,t*y-u*v*r)-(1-f)*a*c*(d+f*v*(m+f*y*(2*m*m-1)))))/o,Math.atan2(u*y+t*v*r,(1-a)*Math.sqrt(h+i*i))/o)},t.UN=function(e,t,n,r){var i=1/298.257223563,a=r-t,o=Math.atan((1-i)*Math.tan(e)),s=Math.atan((1-i)*Math.tan(n)),c=Math.sin(o);o=Math.cos(o);var u=Math.sin(s);s=Math.cos(s);var l=a,h=1e3;do{var f=Math.sin(l),d=Math.cos(l),p=Math.sqrt(s*f*s*f+(o*u-c*s*d)*(o*u-c*s*d));if(0===p)return 0;d=c*u+o*s*d;var b=Math.atan2(p,d),v=o*s*f/p,y=1-v*v;f=d-2*c*u/y,isNaN(f)&&(f=0);var m=i/16*y*(4+i*(4-3*y)),g=l;l=a+(1-m)*i*v*(b+m*p*(f+m*d*(2*f*f-1)))}while(1e-12<Math.abs(l-g)&&0<--h);return 0===h?(c=r-t,{azimuth:Math.atan2(Math.sin(c)*Math.cos(n),Math.cos(e)*Math.sin(n)-Math.sin(e)*Math.cos(n)*Math.cos(c)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(e)*Math.sin(n)+Math.cos(e)*Math.cos(n)*Math.cos(r-t))}):(t=(e=272331606107.54688*y/40408299984661.45)/1024*(256+e*(e*(74-47*e)-128)),{azimuth:Math.atan2(s*Math.sin(l),o*u-c*s*Math.cos(l)),jS:6356752.31424518*(1+e/16384*(4096+e*(e*(320-175*e)-768)))*(b-t*p*(f+t/4*(d*(2*f*f-1)-t/6*f*(4*p*p-3)*(4*f*f-3)))),F0:Math.atan2(o*Math.sin(l),o*u*Math.cos(l)-c*s)})},t.vR=function(t){var n=t.hasAttribute(1),r=t.hasAttribute(2),i=[],a=t.$(),o=null,s=null;n&&(o=t.Va(1)),r&&(s=t.Va(2));for(var c=new e.b,u=0;u<a;u++){for(var l=t.ua(u),h=t.Ha(u),f=0,d=0,p=NaN,b=NaN,v=NaN,y=NaN,m=t.Lb(u),g=[],O=l;O<l+h;O++){t.w(O,c),y=v=NaN;var j=[c.x,c.y];n&&(v=o.get(O),j.push(v)),r&&(a=s.get(O),j.push(y)),O==l&&m&&(f=c.x,d=c.y,p=v,b=y),g.push(j)}!m||f==c.x&&d==c.y&&(!n||isNaN(p)&&isNaN(v)||p==v)&&(!r||isNaN(b)&&isNaN(y)||b==y)||g.push(g[0].slice(0)),i.push(g)}return i},t.Bz=function(e,n){e=t.vR(e),637.100877141506>n&&(n=637.100877141506);for(var r,i=[],a=0;a<e.length;a++){var s,c,u=e[a];i.push(r=[]),r.push([u[0][0],u[0][1]]);var l=u[0][0]*o,h=u[0][1]*o;for(s=0;s<u.length-1;s++){var f=u[s+1][0]*o,d=u[s+1][1]*o;if(l!==f||h!==d){f=(d=t.UN(h,l,d,f)).azimuth;var p=(d=d.jS)/n;if(1<p){for(c=1;c<=p-1;c++){var b=t.Ay(h,l,f,c*n);r.push([b.x,b.y])}c=t.Ay(h,l,f,(d+Math.floor(p-1)*n)/2),r.push([c.x,c.y])}h=t.Ay(h,l,f,d),r.push([h.x,h.y]),l=h.x*o,h=h.y*o}}}return{uK:i}},t.iS=function(n){for(var r=[],i=0;i<n.length;i++){var a=n[i];a=t.Bz(a,1e4),r.push(a)}n=[];for(var o=0;o<r.length;o++){a=r[o];var s=0;for(i=0;i<a.uK.length;i++){var c,u=a.uK[i],l=t.av(e.b.construct(u[0][0],u[0][1])),h=t.av(e.b.construct(u[u.length-1][0],u[u.length-1][1])),f=h.x*l.y-l.x*h.y;for(c=0;c<u.length-1;c++)l=t.av(e.b.construct(u[c+1][0],u[c+1][1])),f+=(h=t.av(e.b.construct(u[c][0],u[c][1]))).x*l.y-l.x*h.y;s+=f}s/=1,n.push(s/-2)}return n},t}(),e.ab=function(){function t(){}return t.gC=function(e,n,r,i,a,o,s){t.RD[e.fc()]=n,0==isNaN(r)&&(t.YD[e.fc()]=r),0==isNaN(i)&&(t.lE[e.fc()]=i),0==isNaN(a)&&(t.KD[e.fc()]=a),t.ZD[e.fc()]=o,null!==s&&(t.$D[e.fc()]=s)},t.Dx=function(e,n,r){t.dE[e.fc()+"-"+n.fc()]=r},t.hc=function(n){if(null==(n=t.RD[n.fc()]))throw e.f.Me();return n},t.Sd=function(n){if(null==(n=t.YD[n.fc()]))throw e.f.Me();return n},t.cw=function(n){if(null==(n=t.lE[n.fc()]))throw e.f.Me();return n},t.Mv=function(n){if(null==(n=t.KD[n.fc()]))throw e.f.Me();return n},t.nh=function(n){if(null==(n=t.$D[n.fc()]))throw e.f.Me();return e.g.construct(n[0],n[1],n[2],n[3])},t.Cc=function(n){if(null==(n=t.ZD[n.fc()]))throw e.f.Me();return n},t.$g=function(n,r,i){if(r.Ib(i))return n;var a=t.dE[r.fc()+"-"+i.fc()];if(void 0!==a)return a(n,r,i);throw e.f.Me()},t.du=function(){throw e.f.Me()},t.pS=function(){throw e.f.Me()},t.uX=function(){throw e.f.Me()},t.sk=function(){throw e.f.Me()},t.YX=function(){var t=e.je.create(102100),n=e.je.create(3857),r=e.je.create(4326);e.ab.gC(t,r,NaN,NaN,NaN,!1,null),e.ab.gC(r,r,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]),e.ab.gC(n,r,NaN,NaN,NaN,!1,null),e.ab.Dx(t,r,i),e.ab.Dx(r,t,a),e.ab.Dx(n,r,i),e.ab.Dx(r,n,a)},t.RD=[],t.YD=[],t.lE=[],t.KD=[],t.ZD=[],t.$D=[],t.dE=[],t}()}(Y||(Y={})),Y.ab.YX(),function(e){var t=function(){function t(e){this.i=new Int32Array(0),this.Ao=-1,this.Og=this.size=this.Jl=0,this.Uf=e}return t.prototype.hd=function(e){e<this.Jl?(this.i[e*this.Uf]=this.Ao,this.Ao=e):this.Jl--,this.size--},t.prototype.S=function(e,t){return this.i[e*this.Uf+t]},t.prototype.P=function(e,t,n){this.i[e*this.Uf+t]=n},t.prototype.Ke=function(){var t=this.Ao;if(-1==t){if(this.Jl==this.Og){if(2147483647<(t=0!=this.Og?e.L.truncate(3*(this.Og+1)/2):1)&&(t=2147483647),t==this.Og)throw e.f.Gd();this.lA(t)}t=this.Jl,this.Jl++}else this.Ao=this.i[t*this.Uf];this.size++;for(var n=t*this.Uf;n<t*this.Uf+this.Uf;n++)this.i[n]=-1;return t},t.prototype.Vl=function(t){var n=this.Ao;if(-1==n){if(this.Jl==this.Og){if(2147483647<(n=0!=this.Og?e.L.truncate(3*(this.Og+1)/2):1)&&(n=2147483647),n==this.Og)throw e.f.Gd();this.lA(n)}n=this.Jl,this.Jl++}else this.Ao=this.i[n*this.Uf];this.size++;for(var r=n*this.Uf,i=0;i<t.length;i++)this.i[r+i]=t[i];return n},t.prototype.rj=function(e){this.Ao=-1,this.size=this.Jl=0,e&&(this.i=null,this.Og=0)},t.prototype.Le=function(e){e>this.Og&&this.lA(e)},t.prototype.$x=function(e,t){e*=this.Uf,t*=this.Uf;for(var n=0;n<this.Uf;n++){var r=this.i[t+n];this.i[t+n]=this.i[e+n],this.i[e+n]=r}},t.prototype.PC=function(e,t,n){var r=this.i[this.Uf*t+n];this.i[this.Uf*t+n]=this.i[this.Uf*e+n],this.i[this.Uf*e+n]=r},t.f0=function(){return-2},t.g0=function(){return-3},t.xH=function(e){return 0<=e},t.prototype.lA=function(e){null==this.i&&(this.i=new Int32Array(0));var t=new Int32Array(this.Uf*e);t.set(this.i,0),this.i=t,this.Og=e},t}();e.ad=t}(Y||(Y={})),function(e){var t,n;(n=t||(t={}))[n.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",n[n.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate",n[n.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding",n[n.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon";var r=function(){function t(t){this.Ie=t,this.Fh=NaN,this.SH=new e.og,this.TH=new e.og,this.Us=new e.uc,this.Vs=new e.uc}return t.prototype.compare=function(e,t,n){if(e=e.ga(n),this.Ie.ZB(t,this.SH),this.Ie.ZB(e,this.TH),t=this.SH.get(),e=this.TH.get(),this.Us.H(t.ra,t.pa),this.Vs.H(e.ra,e.pa),this.Us.ja<this.Vs.fa)return-1;if(this.Us.fa>this.Vs.ja)return 1;n=t.na==t.ma;var r=e.na==e.ma;if(n||r){if(n&&r)return 0;if(t.na==e.na&&t.ra==e.ra)return n?1:-1;if(t.ma==e.ma&&t.pa==e.pa)return n?-1:1}return(n=t.Te(this.Fh,this.Us.fa))==(r=e.Te(this.Fh,this.Vs.fa))&&((r=.5*((n=Math.min(t.ma,e.ma))+this.Fh))==this.Fh&&(r=n),n=t.Te(r,this.Us.fa),r=e.Te(r,this.Vs.fa)),n<r?-1:n>r?1:0},t.prototype.eL=function(e){this.Fh=e},t}(),i=function(){function t(t){this.Ya=t,this.LI=new e.og,this.Jf=new e.b,this.fB=new e.uc}return t.prototype.NY=function(e){this.Jf.K(e)},t.prototype.compare=function(e,t){return this.Ya.ZB(e.ga(t),this.LI),e=this.LI.get(),this.fB.H(e.ra,e.pa),this.Jf.x<this.fB.fa?-1:this.Jf.x>this.fB.ja?1:(e=e.Te(this.Jf.y,this.Jf.x),this.Jf.x<e?-1:this.Jf.x>e?1:0)},t}();t=function(){function t(){this.VH=this.Ji=this.Mi=this.WA=this.ro=this.Ee=this.Lc=this.ph=this.oe=null,this.Zo=this.Eg=-1,this.UH=!0,this.$A=!1,this.XA=NaN,this.Ti=new e.Od,this.kP=2147483647,this.jP=e.L.truncate(-2147483648),this.ig=this.he=this.Pl=this.Vq=this.Pm=this.Uq=this.wt=this.We=-1,this.sa=0}return t.prototype.dz=function(e){this.XA=e},t.prototype.mn=function(){null==this.oe&&(this.oe=new e.ad(8));var t=this.oe.Ke();return this.oe.P(t,1,0),t},t.prototype.PV=function(){null==this.Lc&&(this.Lc=new e.ad(8));var t=this.Lc.Ke();this.Lc.P(t,2,0),this.Lc.P(t,3,0);var n=this.Lc.Ke();return this.Lc.P(n,2,0),this.Lc.P(n,3,0),this.NK(t,n),this.NK(n,t),t},t.prototype.bJ=function(){null==this.Ee&&(this.Ee=new e.ad(8));var t=this.Ee.Ke();return this.Ee.P(t,2,0),t},t.prototype.wY=function(e,t){this.oe.P(e,7,t)},t.prototype.Cn=function(e,t){this.oe.P(e,2,t)},t.prototype.vY=function(e,t){this.oe.P(e,1,t)},t.prototype.OY=function(e,t){this.oe.P(e,3,t)},t.prototype.LY=function(e,t){this.oe.P(e,4,t)},t.prototype.wr=function(e,t){this.oe.P(e,5,t)},t.prototype.sS=function(e){return this.oe.S(e,5)},t.prototype.uY=function(e,t){this.oe.P(e,6,t)},t.prototype.mO=function(e,t){this.uY(t,e)},t.prototype.MK=function(e,t){this.Lc.P(e,1,t)},t.prototype.NK=function(e,t){this.Lc.P(e,4,t)},t.prototype.dm=function(e,t){this.Lc.P(e,5,t)},t.prototype.cm=function(e,t){this.Lc.P(e,6,t)},t.prototype.CY=function(e,t){this.Lc.P(e,2,t)},t.prototype.Jx=function(e,t){this.Lc.P(e,3,t)},t.prototype.xG=function(e){return this.Lc.S(e,3)},t.prototype.pu=function(e,t){this.Lc.P(e,7,t)},t.prototype.NL=function(e,t){if(-1!=this.ym(e))for(t=t?-1:e,e=this.ym(e);-1!=e;e=this.Rs(e))this.a.Qa(this.zj(e),this.Vq,t)},t.prototype.dy=function(e,t){-1!=e&&(this.NL(e,t),this.NL(this.wa(e),t))},t.prototype.nu=function(e,t){this.Ee.P(e,1,t)},t.prototype.bh=function(e,t){this.Ee.P(e,2,t)},t.prototype.zn=function(e,t){this.Ee.P(e,3,t),this.sY(e,this.rS(t)),this.rY(t,e)},t.prototype.rY=function(e,t){this.Ee.P(e,4,t)},t.prototype.sY=function(e,t){this.Ee.P(e,5,t)},t.prototype.HK=function(e,t){this.Ee.P(e,6,t)},t.prototype.FK=function(e,t){this.Ee.P(e,7,t)},t.prototype.EK=function(e,t){this.ro.write(e,t)},t.prototype.GK=function(e,t){this.WA.write(e,t)},t.prototype.TZ=function(t){var n=0,r=0,i=this.nG(t),a=new e.b,o=new e.b,s=new e.b;this.Es(i,a),o.K(a);var c=i;do{this.xm(c,s),r+=e.b.vb(o,s),this.jf(this.wa(c))!=t&&(n+=(s.x-a.x-(o.x-a.x))*(s.y-a.y+(o.y-a.y))*.5),o.K(s),c=this.kc(c)}while(c!=i);this.ro.write(t,n),this.WA.write(t,r)},t.prototype.gW=function(t,n){var a=new r(this),o=new e.bk;o.Le(e.L.truncate(this.sa/2)),o.kp(a);for(var s=new e.ha(0),c=this.ih(),u=null,l=0,h=new e.b,f=this.We;-1!=f;f=this.$f(f)){if(0==(255&++l)&&null!=n&&!n.progress(-1,-1))throw e.f.ED();var d=this.Re(f);if(-1!=d){if(s.Gh(0),!this.PZ(o,c,s,d)){this.w(f,h),a.eL(h.y);var p=d;do{var b=this.Cb(p,c);-1!=b&&(o.zd(b,-1),this.Jb(p,c,-2)),p=this.kc(this.wa(p))}while(d!=p);p=d;do{-1==(b=this.Cb(p,c))&&(b=o.addElement(p,-1),s.add(b)),p=this.kc(this.wa(p))}while(d!=p)}for(d=s.size-1;0<=d;d--)b=s.get(d),p=o.ga(b),this.Jb(this.wa(p),c,b),this.fW(o,b,t)}else-1==this.Iz(f)&&(null==u&&(u=new i(this)),this.w(f,h),u.NY(h),p=o.nY(u),d=this.Pl,-1!=p&&(b=o.ga(p),this.jf(b)==this.jf(this.wa(b))&&(b=this.zG(o,p)),-1!=b&&(d=this.jf(b))),this.mO(d,f))}this.Uh(c)},t.prototype.fW=function(e,t,n){var r=e.ga(t),i=this.jf(r);if(-1==this.Yn(i)){var a=this.zG(e,t),o=this.wa(r),s=this.jf(o);this.eq(i),this.eq(s);var c=this.Yn(i),u=this.Yn(s);if(-1==a&&-1==c&&(s==i?(this.zn(s,this.Pl),c=u=this.Pl):(-1==u&&(this.zn(s,this.Pl),u=this.Pl),this.zn(i,s),c=s)),-1!=a){var l=this.jf(a);-1==u&&(0>=this.eq(l)?(u=this.Yn(l),this.zn(s,u)):(this.zn(s,l),u=l),s==i&&(c=u))}-1==c&&this.QZ(i,s),0==n?this.AX(e,t,r,a,i,s):5==n?this.BX(e,t,r,o,i,s):4==n&&this.zX(r,a,i,s)}},t.prototype.AX=function(e,t,n,r,i,a){var o=this.mk(i);if(-1!=r){var s=this.mk(a),c=this.mk(this.jf(r));r=o&s&c,c^=c&this.lh(n),0!=(c|=r)&&(this.bh(a,s|c),this.bh(i,c|o),o=o||c)}for(t=e.hb(t);-1!=t&&(r=e.ga(t),n=this.jf(this.wa(r)),i=this.mk(n),a=this.lh(r),s=this.jf(r),r=i&(c=this.mk(s))&o,o^=o&a,0!=(o|=r));t=e.hb(t))this.bh(n,i|o),this.bh(s,c|o)},t.prototype.BX=function(t,n,r,i,a,o){if(a!=o){r=this.Cb(r,this.ig),r+=this.Cb(i,this.ig),i=0;var s=new e.ha(0),c=new e.ha(0);c.add(0);for(var u=t.sc(-1);u!=n;u=t.hb(u)){var l=t.ga(u),h=this.wa(l),f=this.jf(l),d=this.jf(h);if(f!=d){if(l=this.Cb(l,this.ig),i+=l+=this.Cb(h,this.ig),h=!1,0!=s.size&&s.Gc()==d&&(c.Rf(),s.Rf(),h=!0),-1==this.Yn(d))throw e.f.za();h&&this.Yn(d)==f||(c.add(i),s.add(f))}}i+=r,0!=s.size&&s.Gc()==o&&(c.Rf(),s.Rf()),0!=i?0==c.Gc()&&(t=this.a.kd,t=this.Ea(t),this.bh(a,t)):0!=c.Gc()&&(t=this.a.kd,t=this.Ea(t),this.bh(a,t))}},t.prototype.zX=function(e,t,n,r){var i=this.Ea(this.a.kd);if(-1==t)this.bh(r,this.Zo),0!=(1&(e=this.Cb(e,this.Eg)))?this.bh(n,i):this.bh(n,this.Zo);else{var a=this.mk(r);0==a?(a=this.mk(this.jf(t)),this.bh(r,a),0!=(1&(e=this.Cb(e,this.Eg)))?this.bh(n,a==i?this.Zo:i):this.bh(n,a)):0!=(1&(e=this.Cb(e,this.Eg)))?this.bh(n,a==i?this.Zo:i):this.bh(n,a)}},t.prototype.PZ=function(e,t,n,r){var i=r,a=-1,o=-1,s=0;do{if(2==s)return!1;var c=this.Cb(i,t);if(-1!=c){if(-1!=a)return!1;a=c}else{if(-1!=o)return!1;o=i}s++,i=this.kc(this.wa(i))}while(r!=i);return-1!=o&&-1!=a&&(this.Jb(e.ga(a),t,-2),e.Tj(a,o),n.add(a),!0)},t.prototype.QZ=function(e,t){var n=this.eq(e);if(0!=n){var r=this.eq(t);(0<n&&0>r||0>n&&0<r||-1!=(t=this.Yn(t)))&&this.zn(e,t)}},t.prototype.FQ=function(t,n){this.Vq=this.a.Kd();for(var r=0,i=n.size;r<i;r++){var a=n.get(r),o=this.a.Na(a,this.Pm),s=this.a.Zf(this.a.cd(a)),c=this.a.dc(s);if(e.R.Bc(c)){var u=this.a.T(a);if(-1!=u){var l=this.a.Na(u,this.Pm);if(o!=l){var h=this.PV(),f=this.wa(h),d=this.ph.Ke();this.ph.P(d,0,a),this.ph.P(d,1,-1),this.pu(h,d),this.MK(h,o),-1==(d=this.Re(o))?(this.Cn(o,h),this.dm(h,f),this.cm(f,h)):(o=this.ze(d),this.dm(d,f),this.cm(f,d),this.cm(o,h),this.dm(h,o)),this.MK(f,l),-1==(o=this.Re(l))?(this.Cn(l,f),this.cm(h,f),this.dm(f,h)):(l=this.ze(o),this.dm(o,h),this.cm(h,o),this.cm(l,f),this.dm(f,l)),s=this.Ea(s),0==t?(this.Jb(f,this.he,0),this.Jb(h,this.he,1736==c?s:0)):5==t?(l=new e.b,this.a.w(a,l),a=new e.b,this.a.w(u,a),o=u=0,0>l.compare(a)?u=1:o=-1,this.Jb(f,this.he,0),this.Jb(h,this.he,0),this.Jb(h,this.ig,u),this.Jb(f,this.ig,o)):7==t?(this.Jb(f,this.he,this.Zo),this.Jb(h,this.he,1736==c?s:0)):4==t&&(this.Jb(f,this.he,0),this.Jb(h,this.he,0),this.Jb(h,this.Eg,1),this.Jb(f,this.Eg,1)),c=1736==c?this.jP:0,this.Jx(h,s|c),this.Jx(f,s|c)}}}}},t.prototype.nV=function(e,t){var n=this.ym(t);if(-1!=n){var r=this.ym(e);this.ph.P(n,1,r),this.pu(e,n),this.pu(t,-1)}e=this.wa(e),t=this.wa(t),-1!=(n=this.ym(t))&&(r=this.ym(e),this.ph.P(n,1,r),this.pu(e,n),this.pu(t,-1))},t.prototype.nZ=function(t){function n(e,t){return i.RP(e,t)}var r=new e.ha(0);r.Db(10);for(var i=this,a=this.We;-1!=a;a=this.$f(a)){r.clear(!1);var o=this.Re(a);if(-1!=o){var s=o;do{r.add(s),s=this.kc(this.wa(s))}while(s!=o);if(1<r.size){if(s=!0,2<r.size)r.Zd(0,r.size,n),r.add(r.get(0));else if(0<this.QP(r.get(0),r.get(1))){var c=r.get(0);r.set(0,r.get(1)),r.set(1,c)}else s=!1;for(var u=c=r.get(0),l=this.Df(u),h=this.wa(u),f=-1,d=1,p=r.size;d<p;d++){var b=r.get(d),v=this.wa(b),y=this.pk(v);if(y==l&&b!=u){if(0==t)f=this.xG(u)|this.xG(b),this.Jx(u,f),this.Jx(h,f),this.Jb(u,this.he,this.Cb(u,this.he)|this.Cb(b,this.he)),this.Jb(h,this.he,this.Cb(h,this.he)|this.Cb(v,this.he));else if(-1!=this.ig)f=this.Cb(u,this.ig)+this.Cb(b,this.ig),v=this.Cb(h,this.ig)+this.Cb(v,this.ig),this.Jb(u,this.ig,f),this.Jb(h,this.ig,v);else{if(7==t)return void(this.Ti=new e.Od(5,a,-1));-1!=this.Eg&&(f=this.Cb(u,this.Eg)+this.Cb(b,this.Eg),v=this.Cb(h,this.Eg)+this.Cb(v,this.Eg),this.Jb(u,this.Eg,f),this.Jb(h,this.Eg,v))}this.nV(u,b),this.pz(b),f=u,r.set(d,-1),b==c&&(r.set(0,-1),c=-1)}else this.dy(f,!1),f=-1,u=b,l=y,h=v}if(this.dy(f,!1),f=-1,s){for(c=-1,d=0,p=r.size;d<p;d++)if(-1!=(b=r.get(d)))if(-1==c)u=c=b,l=this.Df(u),h=this.wa(u);else if(b!=u&&(v=this.wa(b),y=this.pk(v),this.cm(h,b),this.dm(b,h),u=b,l=y,h=v,7==t&&(this.Cb(b,this.he)|this.Cb(this.ze(b),this.he))==(1|this.Zo)))return void(this.Ti=new e.Od(5,a,-1));this.Cn(a,c)}else{for(c=-1,d=0,p=r.size;d<p;d++)if(-1!=(b=r.get(d))){c=b;break}o!=c&&this.Cn(a,c)}}}}},t.prototype.gP=function(){for(var t=-1,n=this.ih(),r=this.We;-1!=r;r=this.$f(r)){var i=this.Re(r);if(-1!=i){var a=i;do{if(1!=this.Cb(a,n)){var o=this.bJ();this.nu(o,a),this.FK(o,t),-1!=t&&this.HK(t,o),t=o;var s=0,c=a;do{s|=this.Cb(c,this.he),this.CY(c,o),this.Jb(c,n,1),c=this.kc(c)}while(c!=a);this.bh(o,s)}a=this.kc(this.wa(a))}while(a!=i)}}o=this.bJ(),this.nu(o,-1),this.FK(o,t),-1!=t&&this.HK(t,o),this.Pl=o,this.ro=e.ie.Af(this.Ee.size,NaN),this.WA=e.ie.Af(this.Ee.size,NaN),this.EK(this.Pl,1/0),this.GK(this.Pl,1/0),this.Uh(n)},t.prototype.FS=function(e,t,n){if(-1==(t=-1!=t?t:this.Re(e)))return-1;for(e=t;;){if(1!=this.Cb(t,n))return t;if((t=this.kc(this.wa(t)))==e)return-1}},t.prototype.dY=function(){for(var e=this.ih(),t=this.We;-1!=t;t=this.$f(t))for(var n=-1;;){var r=this.FS(t,n,e);if(-1==r)break;n=this.kc(this.wa(r));for(var i=r;;){var a=this.kc(i),o=this.ze(i),s=this.wa(i);if(o==s){if(this.TQ(i),n!=i&&n!=s||(n=-1),i==r||o==r){if(i==(r=a)||o==r)break;i=a;continue}}else this.Jb(i,e,1);if((i=a)==r)break}}},t.prototype.wC=function(t,n,r,i,a){this.ah(),this.UH=a,this.a=t,this.Uq=this.a.NF(),(t=new e.ha(0)).Db(null!=r?this.a.D(r.get(0)):this.a.pd);var o=0,s=1,c=null!=r?r.get(0):this.a.kd;for(a=1;-1!=c;){this.a.LK(c,this.Uq,s),s<<=1;for(var u=this.a.Kb(c);-1!=u;u=this.a.Qb(u))for(var l=this.a.Za(u),h=0,f=this.a.Ha(u);h<f;h++)t.add(l),l=this.a.T(l);e.R.lo(this.a.dc(c))||(o+=this.a.$(c)),null!=r?(c=a<r.size?r.get(a):-1,a++):c=this.a.Ae(c)}for(this.Zo=s,this.sa=t.size,this.a.Vx(t,this.sa),null==this.ph&&(this.ph=new e.ad(2),this.oe=new e.ad(8),this.Lc=new e.ad(8),this.Ee=new e.ad(8)),this.ph.Le(this.sa),e.Ep.Sp(i),this.oe.Le(this.sa+10),this.Lc.Le(2*this.sa+32),this.Ee.Le(Math.max(32,o)),this.Pm=this.a.Kd(),r=new e.b,a=0,o=new e.b,r.Tc(),s=0;s<=this.sa;s++)if(s<this.sa?(l=t.get(s),this.a.w(l,o)):o.Tc(),!r.qb(o)){if(a<s){for(l=this.mn(),f=h=-1;a<s;a++)f=t.get(a),this.a.Qa(f,this.Pm,l),c=this.ph.Ke(),this.ph.P(c,0,f),this.ph.P(c,1,h),h=c,u=this.a.cd(f),c=this.a.Zf(u),c=this.Ea(c),this.vY(l,this.Bd(l)|c);this.wY(l,h),this.wr(l,this.a.Ua(f)),-1!=this.wt&&this.LY(this.wt,l),this.OY(l,this.wt),this.wt=l,-1==this.We&&(this.We=l)}a=s,r.K(o)}e.Ep.Sp(i),this.he=this.ih(),5==n&&(this.ig=this.ih()),4==n&&(this.Eg=this.ih()),this.FQ(n,t),0==this.Ti.pi&&(this.nZ(n),0==this.Ti.pi&&(isNaN(this.XA)||this.HP()?(this.gP(),0==this.Ti.pi&&(this.Uh(this.he),this.he=-1,this.UH&&this.gW(n,i))):this.$A=!0))},t.prototype.pz=function(e){var t=this.kc(e),n=this.ze(e),r=this.wa(e),i=this.kc(r),a=this.ze(r);t!=r&&(this.cm(a,t),this.dm(t,a)),n!=r&&(this.cm(n,i),this.dm(i,n)),n=this.pk(e),this.Re(n)==e&&(i!=e?this.Cn(n,i):this.Cn(n,-1)),i=this.pk(r),this.Re(i)==r&&(t!=r?this.Cn(i,t):this.Cn(i,-1)),this.Lc.hd(e),this.Lc.hd(r)},t.prototype.zG=function(e,t){for(;;){if(-1==(t=e.Be(t)))return-1;var n=e.ga(t);if(this.jf(n)!=this.jf(this.wa(n)))return n}},t.prototype.xr=function(e,t){var n;void 0===n&&(n=!0),this.wC(e,0,null,t,n)},t.prototype.zK=function(t,n,r){var i=new e.ha(0);i.add(n),this.wC(t,4,i,r,1736==t.dc(n))},t.prototype.AK=function(t,n,r){var i=new e.ha(0);i.add(n),this.wC(t,5,i,r,!0)},t.prototype.ah=function(){null!=this.a&&(-1!=this.Uq&&(this.a.cY(this.Uq),this.Uq=-1),-1!=this.Pm&&(this.a.Xd(this.Pm),this.Pm=-1),-1!=this.Vq&&(this.a.Xd(this.Vq),this.Vq=-1),-1!=this.he&&(this.Uh(this.he),this.he=-1),-1!=this.ig&&(this.Uh(this.ig),this.ig=-1),-1!=this.Eg&&(this.Uh(this.Eg),this.Eg=-1),this.a=null,this.oe.rj(!0),this.ph.rj(!0),this.wt=this.We=-1,null!=this.Lc&&this.Lc.rj(!0),null!=this.Mi&&(this.Mi.length=0),null!=this.Ji&&(this.Ji.length=0),null!=this.VH&&(this.VH.length=0),null!=this.Ee&&this.Ee.rj(!0),this.Pl=-1,this.ro=null)},t.prototype.Re=function(e){return this.oe.S(e,2)},t.prototype.w=function(e,t){this.a.PG(this.sS(e),t)},t.prototype.Bd=function(e){return this.oe.S(e,1)},t.prototype.$f=function(e){return this.oe.S(e,4)},t.prototype.Iz=function(e){return this.oe.S(e,6)},t.prototype.wm=function(e){return this.oe.S(e,7)},t.prototype.Rs=function(e){return this.ph.S(e,1)},t.prototype.zj=function(e){return this.ph.S(e,0)},t.prototype.tg=function(e,t){return(t=this.Ji[t]).size<=e?-1:t.read(e)},t.prototype.Dn=function(e,t,n){(t=this.Ji[t]).size<=e&&t.resize(this.oe.size,-1),t.write(e,n)},t.prototype.Xp=function(){null==this.Ji&&(this.Ji=[]);for(var t=e.ha.Af(this.oe.Og,-1),n=0,r=this.Ji.length;n<r;n++)if(null==this.Ji[n])return this.Ji[n]=t,n;return this.Ji.push(t),this.Ji.length-1},t.prototype.Yp=function(e){this.Ji[e]=null},t.prototype.pk=function(e){return this.Lc.S(e,1)},t.prototype.Df=function(e){return this.pk(this.wa(e))},t.prototype.wa=function(e){return this.Lc.S(e,4)},t.prototype.ze=function(e){return this.Lc.S(e,5)},t.prototype.kc=function(e){return this.Lc.S(e,6)},t.prototype.jf=function(e){return this.Lc.S(e,2)},t.prototype.kf=function(e){return this.mk(this.Lc.S(e,2))},t.prototype.ym=function(e){return this.Lc.S(e,7)},t.prototype.Es=function(e,t){this.w(this.pk(e),t)},t.prototype.xm=function(e,t){this.w(this.Df(e),t)},t.prototype.lh=function(e){return this.Lc.S(e,3)&this.kP},t.prototype.Cb=function(e,t){return(t=this.Mi[t]).size<=e?-1:t.read(e)},t.prototype.Jb=function(e,t,n){(t=this.Mi[t]).size<=e&&t.resize(this.Lc.size,-1),t.write(e,n)},t.prototype.ih=function(){null==this.Mi&&(this.Mi=[]);for(var t=e.ha.Af(this.Lc.Og,-1),n=0,r=this.Mi.length;n<r;n++)if(null==this.Mi[n])return this.Mi[n]=t,n;return this.Mi.push(t),this.Mi.length-1},t.prototype.Uh=function(e){this.Mi[e]=null},t.prototype.TQ=function(e){var t=this.jf(e),n=this.kc(e);n==this.wa(e)&&(n=this.kc(n))==e&&(n=-1),this.nG(t)==e&&this.nu(t,n),n=this.ro.read(t),isNaN(n)||(this.EK(t,NaN),this.GK(t,NaN)),this.dy(e,!0),this.pz(e)},t.prototype.UQ=function(e){for(var t=0,n=e.size;t<n;t++){var r=e.get(t),i=this.jf(this.wa(r));this.nu(this.jf(r),-1),this.nu(i,-1),this.dy(r,!0),this.pz(r)}},t.prototype.nG=function(e){return this.Ee.S(e,1)},t.prototype.mk=function(e){return this.Ee.S(e,2)},t.prototype.Yn=function(e){return this.Ee.S(e,3)},t.prototype.rS=function(e){return this.Ee.S(e,4)},t.prototype.eq=function(e){var t=this.ro.read(e);return isNaN(t)&&(this.TZ(e),t=this.ro.read(e)),t},t.prototype.Ea=function(e){return this.a.wG(e,this.Uq)},t.prototype.Qe=function(e){return this.a.Na(e,this.Pm)},t.prototype.IS=function(e){return this.a.Na(e,this.Vq)},t.prototype.HS=function(e,t){var n=this.Re(e);if(-1==n)return-1;var r=n,i=-1,a=-1;do{if(this.Df(r)==t)return r;if(-1==i){if(-1==(i=this.Re(t)))break;a=i}if(this.Df(a)==e)return this.wa(a);r=this.kc(this.wa(r)),a=this.kc(this.wa(a))}while(r!=n&&a!=i);return-1},t.prototype.ZB=function(t,n){n.ps(),n=n.get();var r=new e.b;this.Es(t,r),n.Fc(r),this.xm(t,r),n.Sc(r)},t.prototype.RP=function(t,n){if(t==n)return 0;var r=new e.b;this.xm(t,r);var i=new e.b;return this.xm(n,i),r.qb(i)?0:(n=new e.b,this.Es(t,n),(t=new e.b).tc(r,n),(r=new e.b).tc(i,n),e.b.Wr(t,r))},t.prototype.QP=function(t,n){if(t==n)return 0;var r=new e.b;this.xm(t,r);var i=new e.b;return this.xm(n,i),r.qb(i)?0:(n=new e.b,this.Es(t,n),(t=new e.b).tc(r,n),(r=new e.b).tc(i,n),0<=r.y&&0<t.y?e.b.Wr(t,r):0)},t.prototype.HP=function(){for(var t=e.Tb.Wx(this.XA),n=new e.b,r=new e.b,i=new e.b,a=new e.b,o=new e.b,s=this.We;-1!=s;s=this.$f(s)){var c=this.Re(s);if(-1!=c){var u=c;this.Es(u,n),this.xm(u,r),o.tc(r,n);var l=o.En();do{var h=u;if((u=this.kc(this.wa(u)))!=h){this.xm(u,i),a.tc(i,n),h=a.En();var f=a.Di(o);if(f*f/(h*l)*Math.min(h,l)<=t)return!1;o.K(a),l=h,r.K(i)}}while(u!=c)}}return!0},t}(),e.Ou=t}(Y||(Y={})),function(e){var t=function(){function t(){this.h=null,this.bI=new e.b,this.cI=new e.b,this.wh=null,this.bt=!1,this.Bo=-1}return t.prototype.mf=function(e){return e<this.wh.length&&this.wh[e]},t.prototype.jl=function(t,n,r,i){var a=e.R.Se(this.h.a.dc(r));if(2!=e.R.Se(this.h.a.dc(n))||1!=a)throw e.f.za();this.QQ(t,n,r,i)},t.prototype.xr=function(t,n){null==this.h&&(this.h=new e.Ou),this.h.xr(t,n)},t.prototype.yr=function(t,n,r){for(e.$j.U(t,n,r,!0),n=t.kd;-1!=n;n=t.Ae(n))1736==t.dc(n)&&e.Kn.U(t,n,-1,this.bt,r);this.xr(t,r)},t.prototype.xF=function(e,t,n,r,i){var a=this.h.a;if(1736==a.dc(e))for(e=a.Kb(e);-1!=e;e=a.Qb(e)){var o=a.Za(e);this.h.Qe(o),this.h.Qe(a.T(o));var s=this.h.IS(o);if(-1!=s){var c=this.h.Cb(s,n);if(1!=c&&2!=c)if(this.mf(this.h.kf(s))){this.h.Jb(s,n,1),c=a.Ef(t,-1);var u=s,l=this.h.Qe(o),h=1;do{var f=this.Em(o,i);a.oj(c,f),-1!=r&&this.h.Dn(l,r,1),this.h.Jb(u,n,1),u=this.h.kc(u);do{var d=-1!=(f=1==h?a.T(o):a.Ma(o))?this.h.Qe(f):-1}while(d==l);var p=this.h.pk(u);if(p!=d){do{d=-1!=(f=1==h?a.Ma(o):a.T(o))?this.h.Qe(f):-1}while(d==l);p!=d?(d=p,f=this.h.zj(this.h.wm(d))):h=-h}l=d,o=f}while(u!=s);a.An(c,!0)}else this.h.Jb(s,n,2)}}},t.prototype.SF=function(){for(var t=this.h.ih(),n=new e.ha(0),r=this.h.We;-1!=r;r=this.h.$f(r)){var i=this.h.Re(r),a=i;if(-1!=i)do{if(1!=this.h.Cb(a,t)){var o=this.h.wa(a);this.h.Jb(o,t,1),this.h.Jb(a,t,1),this.mf(this.h.kf(a))&&this.mf(this.h.kf(o))&&n.add(a)}a=this.h.kc(this.h.wa(a))}while(a!=i)}this.h.Uh(t),this.h.UQ(n)},t.prototype.Em=function(e,t){return-1==t?e:this.tT(e,t)},t.prototype.tT=function(e,t){var n=this.h.a,r=this.h.wm(this.h.Qe(e));do{var i=this.h.zj(r);if(n.Zf(n.cd(i))==t)return i;r=this.h.Rs(r)}while(-1!=r);return e},t.prototype.Ir=function(t,n,r){this.SF();var i=this.h.a,a=i.Pg(1736),o=this.h.ih();return this.AL(t,n,a,r,o,-1),this.h.Uh(o),e.Kn.U(i,a,1,this.bt,null),a},t.prototype.AL=function(e,t,n,r,i,a){for(this.xF(e,n,i,a,r),-1!=t&&this.xF(t,n,i,a,r),e=this.h.a,t=this.h.We;-1!=t;t=this.h.$f(t)){var o=this.h.Re(t);if(-1!=o){var s=o;do{var c=this.h.Cb(s,i);if(1!=c&&2!=c)if(this.mf(this.h.kf(s))){c=e.Ef(n,-1);var u=s;do{var l=this.h.ym(u);-1!=l?l=this.h.zj(l):(l=this.h.zj(this.h.ym(this.h.wa(u))),l=this.h.a.T(l)),l=this.Em(l,r),e.oj(c,l),this.h.Jb(u,i,1),-1!=a&&(l=this.h.Qe(l),this.h.Dn(l,a,1)),u=this.h.kc(u)}while(u!=s);e.An(c,!0)}else this.h.Jb(s,i,2);s=this.h.kc(this.h.wa(s))}while(s!=o)}}},t.prototype.HZ=function(t,n,r){var i=this.h.a,a=i.Pg(1736),o=i.Pg(1607),s=i.Pg(550);this.SF();var c=-1,u=this.h.ih(),l=this.h.Xp();for(this.AL(t,n,a,r,u,l),t=this.h.We;-1!=t;t=this.h.$f(t))if(-1!=(n=this.h.Re(t))){var h=n;do{var f=this.h.Cb(h,u),d=this.h.Cb(this.h.wa(h),u);if(2==(f|=d))if(f=this.h.lh(h),this.mf(f)){var p=i.Ef(o,-1),b=h;f=this.Fx(t,i),f=this.Em(f,r),i.oj(p,f),this.h.Dn(t,l,1);do{if(f=this.h.Df(b),d=this.Fx(f,i),d=this.Em(d,r),i.oj(p,d),this.h.Jb(b,u,1),this.h.Jb(this.h.wa(b),u,1),this.h.Dn(f,l,1),b=this.h.kc(b),f=this.h.Cb(b,u),2!=(f|=d=this.h.Cb(this.h.wa(b),u)))break;if(f=this.h.lh(b),!this.mf(f)){this.h.Jb(b,u,1),this.h.Jb(this.h.wa(b),u,1);break}}while(b!=h)}else this.h.Jb(h,u,1),this.h.Jb(this.h.wa(h),u,1);h=this.h.kc(this.h.wa(h))}while(h!=n)}for(t=this.h.We;-1!=t;t=this.h.$f(t))1!=(f=this.h.tg(t,l))&&(f=this.h.Bd(t),this.mf(f)&&(-1==c&&(c=i.Ef(s,-1)),-1!=(n=this.h.wm(t))&&(n=this.h.zj(n),f=this.Em(n,r),i.oj(c,f))));return this.h.Yp(l),this.h.Uh(u),e.Kn.U(i,a,1,this.bt,null),(r=[])[0]=s,r[1]=o,r[2]=a,r},t.prototype.Fx=function(e,t){var n=-1;for(e=this.h.wm(e);-1!=e;e=this.h.Rs(e)){var r=this.h.zj(e);-1==n&&(n=r);var i=this.h.Ea(t.Zf(t.cd(r)));if(this.mf(i)){n=r;break}}return n},t.prototype.WB=function(t,n){for(var r=this.h.pk(n),i=this.h.Df(n),a=0,o=0,s=this.h.wm(r);-1!=s;s=this.h.Rs(s)){var c=this.h.zj(s),u=t.cd(c),l=this.h.Ea(t.Zf(u)),h=t.T(c),f=t.Ma(c);(u=t.Za(u))==c&&(this.Bo=n),-1!=h&&this.h.Qe(h)==i?(a++,this.mf(l)&&(u==h&&(this.Bo=this.h.kc(n)),o++)):-1!=f&&this.h.Qe(f)==i&&(a--,this.mf(l)&&(u==f&&(this.Bo=this.h.kc(n)),o--))}return this.h.w(r,this.bI),this.h.w(i,this.cI),(0!=o?o:a)*e.b.vb(this.bI,this.cI)},t.prototype.gq=function(e){return this.h.lh(e)|this.h.kf(e)|this.h.kf(this.h.wa(e))},t.prototype.EL=function(e){for(var t=this.h.wa(this.h.ze(e)),n=-1;t!=e;){if(this.mf(this.gq(t))){if(-1!=n)return-1;n=t}t=this.h.wa(this.h.ze(t))}return-1!=n?this.h.wa(n):-1},t.prototype.FL=function(e){for(var t=this.h.wa(this.h.kc(e)),n=-1;t!=e;){if(this.mf(this.gq(t))){if(-1!=n)return-1;n=t}t=this.h.wa(this.h.kc(t))}return-1!=n?this.h.wa(n):-1},t.prototype.qK=function(t,n,r,i,a){var o=this.h.a,s=t,c=this.h.wa(s);this.h.Jb(s,r,1),this.h.Jb(c,r,1);var u=this.WB(o,s);this.Bo=-1;for(var l=s,h=-1,f=!1,d=1;;){var p=this.h.ze(s);if(p==c)break;if(c=this.h.kc(c),this.h.wa(p)!=c){if(-1==(s=this.EL(s)))break;f=!0,c=this.h.wa(s)}else s=p;if(s==t){h=t;break}if(p=this.gq(s),!this.mf(p))break;this.h.Jb(s,r,1),this.h.Jb(c,r,1),l=s,u+=this.WB(o,s),d++}if(-1==h)for(s=t,c=this.h.wa(s),h=s;(t=this.h.kc(s))!=c;){if(c=this.h.ze(c),this.h.wa(t)!=c){if(-1==(s=this.FL(s))){f=!0;break}c=this.h.wa(s)}else s=t;if(p=this.gq(s),!this.mf(p))break;this.h.Jb(s,r,1),this.h.Jb(c,r,1),h=s,u+=this.WB(o,s),d++}else if(-1!=this.Bo&&(l=this.Bo,h=this.h.ze(this.Bo),this.h.wa(h)!=this.h.kc(this.h.wa(l))&&-1==(h=this.EL(l))))throw e.f.za();for(0<=u||(s=h,h=this.h.wa(l),l=this.h.wa(s)),r=o.Ef(n,-1),s=l,l=this.h.pk(l),f=this.h.Df(h)==l&&f,u=this.Fx(l,o),u=this.Em(u,a),o.oj(r,u),-1!=i&&this.h.Dn(l,i,1),l=0,d=f?e.L.truncate((d+1)/2):-1;t=this.h.Df(s),u=this.Fx(t,o),u=this.Em(u,a),o.oj(r,u),l++,-1!=i&&this.h.Dn(t,i,1),f&&l==d&&(r=o.Ef(n,-1),o.oj(r,u)),s!=h;)if(t=this.h.kc(s),this.h.ze(this.h.wa(s))!=this.h.wa(t)){if(-1==(s=this.FL(s)))throw e.f.za()}else s=t},t.prototype.Jr=function(e){for(var t=this.h.a.Pg(1607),n=this.h.ih(),r=this.h.We;-1!=r;r=this.h.$f(r)){var i=this.h.Re(r),a=i;do{1!=this.h.Cb(a,n)&&this.mf(this.gq(a))&&this.qK(a,t,n,-1,e),a=this.h.kc(this.h.wa(a))}while(a!=i)}return this.h.Uh(n),t},t.prototype.IZ=function(e){for(var t=this.h.a,n=t.Pg(1607),r=t.Pg(550),i=this.h.ih(),a=this.h.Xp(),o=-1,s=this.h.We;-1!=s;s=this.h.$f(s)){var c=this.h.Re(s),u=c;do{var l=this.h.Cb(u,i);1!=l&&(l=this.gq(u),this.mf(l)&&this.qK(u,n,i,a,e)),u=this.h.kc(this.h.wa(u))}while(u!=c)}for(s=this.h.We;-1!=s;s=this.h.$f(s))1!=(l=this.h.tg(s,a))&&(l=this.h.Bd(s),this.mf(l)&&(-1==o&&(o=t.Ef(r,-1)),-1!=(c=this.h.wm(s))&&(c=this.h.zj(c),c=this.Em(c,e),t.oj(o,c))));return this.h.Uh(i),this.h.Yp(a),(e=[])[0]=r,e[1]=n,e},t.prototype.up=function(){for(var e=this.h.a,t=e.Pg(550),n=e.Ef(t,-1),r=this.h.We;-1!=r;r=this.h.$f(r))if(this.mf(this.h.Bd(r))){for(var i=-1,a=this.h.wm(r);-1!=a;a=this.h.Rs(a)){var o=this.h.zj(a);-1==i&&(i=o);var s=this.h.Ea(e.Zf(e.cd(o)));if(this.mf(s)){i=o;break}}e.oj(n,i)}return t},t.prototype.eo=function(e){this.wh=[];for(var t=0;t<e;t++)this.wh[t]=!1},t.IJ=function(t,n,r,i){var a=t.Ga(),o=Array(1e3);e.L.Gv(o,null);var s=e.L.Xf(1e3,0),c=t.D(),u=!0,l=2==n.pb();if(1!=n.pb()&&2!=n.pb())throw e.f.za();for(var h=0;h<c;){var f=e.L.truncate(t.CX(o,h)-h);l?e.Zc.yL(n,o,f,r,s):e.Zc.zL(n,o,f,r,s);for(var d=0,p=0;p<f;p++){var b=0==s[p];i||(b=!b),b&&(u&&(u=!1,a.yd(t,0,h)),d!=p&&a.yd(t,h+d,h+p),d=p+1)}u||d==f||a.yd(t,h+d,h+f),h+=f}return u?t:a},t.lH=function(n,r,i){return n instanceof e.Hd?t.IJ(n,r,i,!0):r instanceof e.Ra?n.u()||r.u()?n.Ga():e.$j.eJ(i,n,r)?e.$j.MP(n,r):n.Ga():t.JJ(n,r,i,!0)},t.gw=function(n,r,i,a){var o=new e.g;n.s(o);var s=new e.g;r.s(s);var c=new e.g;if(c.H(o),c.Nb(s),i=e.la.Qd(i,c,!0),(c=new e.g).H(s),s=e.la.es(i),c.O(s,s),!o.isIntersecting(c)){if(n.pb()<=r.pb())return t.kg(t.vd(n.Ga()),n,"&");if(n.pb()>r.pb())return t.kg(t.vd(r.Ga()),n,"&")}return s=new t,c=(o=new e.Yc).Bb(t.vd(n)),r=o.Bb(t.vd(r)),s.yr(o,i,a),a=s.gw(c,r),n=t.kg(o.ye(a),n,"&"),e.R.Bc(n.F())&&(n.Jg(2,i),1736==n.F()&&n.cl()),n},t.JJ=function(t,n,r,i){if(t.u())return t.Ga();if(n.u())return i?t.Ga():null;var a=[null],o=[0],s=2==n.pb();if(1!=n.pb()&&2!=n.pb())throw e.f.za();return a[0]=t.w(),s?e.Zc.yL(n,a,1,r,o):e.Zc.zL(n,a,1,r,o),n=0==o[0],i||(n=!n),n?t.Ga():t},t.T_=function(n,r,i){return n instanceof e.Hd?t.IJ(n,r,i,!1):r instanceof e.Ra?n.u()?n.Ga():r.u()?n:e.$j.eJ(i,n,r)?n.Ga():n:t.JJ(n,r,i,!1)},t.prototype.jJ=function(t,n,r,i,a){if(t.u())return t;var o=new e.Yc;return t=o.Bb(t),this.Tk(o,t,n,r,i,a)},t.prototype.eW=function(t,n,r,i,a,o){if(a&&550!=t.dc(n)){var s=new e.yD;s.yZ(t,r),s.Tg?(e.$j.U(t,r,o,!0),a=!1):this.h.dz(r)}else e.$j.U(t,r,o,!0),a=!1;if(i&&550!=t.dc(n)?this.h.AK(t,n,o):this.h.zK(t,n,o),this.h.$A)return this.h.ah(),this.h=null,this.Tk(t,n,r,i,!1,o);if(this.h.dz(NaN),o=this.h.Ea(n),this.eo(o+1),this.wh[o]=!0,1736==t.dc(n)||i&&550!=t.dc(n))return t.np(n,0),n=this.Ir(n,-1,-1),(t=t.ye(n)).np(0),a?t.Jg(1,0):(t.Jg(2,r),t.cl()),t;if(1607==t.dc(n))return n=this.Jr(-1),t=t.ye(n),a||t.Jg(2,r),t;if(550==t.dc(n))return n=this.up(),t=t.ye(n),a||t.Jg(2,r),t;throw e.f.za()},t.prototype.Tk=function(t,n,r,i,a,o){this.h=new e.Ou;try{return this.eW(t,n,r,i,a,o)}finally{this.h.ah()}},t.Tk=function(e,n,r,i,a){return(new t).jJ(e,n,r,i,a)},t.prototype.dW=function(t,n,r,i){this.bt=t,this.h=new e.Ou,t=n.$n(r);var a=n.dc(r);if(1!=t||550==a?this.h.zK(n,r,i):this.h.AK(n,r,i),!this.h.$A)if(this.h.dz(NaN),i=this.h.Ea(r),this.eo(i+1),this.wh[i]=!0,1736==n.dc(r)||1==t&&550!=n.dc(r))n.np(r,0),i=this.Ir(r,-1,-1),n.QC(i,r),n.kC(i);else if(1607==n.dc(r))i=this.Jr(-1),n.QC(i,r),n.kC(i);else{if(550!=n.dc(r))throw e.f.Y("internal error");i=this.up(),n.QC(i,r),n.kC(i)}},t.NC=function(e,n,r,i){var a=new t;return a.bt=!0,a.jJ(e,n,!1,r,i)},t.prototype.tm=function(t,n){var r=e.R.Se(this.h.a.dc(t)),i=e.R.Se(this.h.a.dc(n));if(r>i)return t;var a=this.h.Ea(t),o=this.h.Ea(n);if(this.eo(1+(a|o)),this.wh[this.h.Ea(t)]=!0,2==r&&2==i)return this.Ir(t,n,-1);if(1==r&&2==i||1==r&&1==i)return this.Jr(-1);if(0==r)return this.up();throw e.f.za()},t.prototype.RF=function(t,n){var r=e.R.Se(this.h.a.dc(t)),i=e.R.Se(this.h.a.dc(n));if(r>i)return t;if(r<i)return n;var a=this.h.Ea(t),o=this.h.Ea(n);if(this.eo(1+(a|o)),this.wh[this.h.Ea(t)]=!0,this.wh[this.h.Ea(n)]=!0,this.wh[this.h.Ea(t)|this.h.Ea(n)]=!0,2==r&&2==i)return this.Ir(t,n,-1);if(1==r&&1==i)return this.Jr(-1);if(0==r&&0==i)return this.up();throw e.f.za()},t.prototype.gw=function(t,n){var r=e.R.Se(this.h.a.dc(t)),i=e.R.Se(this.h.a.dc(n)),a=this.h.Ea(t),o=this.h.Ea(n);if(this.eo(1+(a|o)),this.wh[this.h.Ea(t)|this.h.Ea(n)]=!0,a=-1,1<this.h.a.Pt.Ca&&(a=t),2==r&&2==i)return this.Ir(t,n,a);if(1==r&&0<i||1==i&&0<r)return this.Jr(a);if(0==r||0==i)return this.up();throw e.f.za()},t.prototype.wA=function(t,n){var r=e.R.Se(this.h.a.dc(t)),i=e.R.Se(this.h.a.dc(n)),a=this.h.Ea(t),o=this.h.Ea(n);if(this.eo(1+(a|o)),this.wh[this.h.Ea(t)|this.h.Ea(n)]=!0,a=-1,1<this.h.a.Pt.Ca&&(a=t),2==r&&2==i)return this.HZ(t,n,a);if(1==r&&0<i||1==i&&0<r)return this.IZ(a);if(0==r||0==i)return(t=[])[0]=this.up(),t;throw e.f.za()},t.prototype.tp=function(t,n){var r=e.R.Se(this.h.a.dc(t)),i=e.R.Se(this.h.a.dc(n)),a=this.h.Ea(t),o=this.h.Ea(n);if(this.eo(1+(a|o)),this.wh[this.h.Ea(t)]=!0,this.wh[this.h.Ea(n)]=!0,2==r&&2==i)return this.Ir(t,n,-1);if(1==r&&1==i)return this.Jr(-1);if(0==r&&0==i)return this.up();throw e.f.za()},t.vd=function(t){var n=t.F();return 197==n?(n=new e.Fa(t.description),t.u()||n.bd(t,!1),n):33==n?(n=new e.Hd(t.description),t.u()||n.add(t),n):322==n?(n=new e.Oa(t.description),t.u()||n.$b(t,!0),n):t},t.kg=function(t,n,r){var i=t.F();return 197==i?(n=new e.Fa(t.description),t.u()||n.bd(t,!1),n):33!=i||"|"!=r&&"^"!=r?322==i?(n=new e.Oa(t.description),t.u()||n.$b(t,!0),n):33==i&&"-"==r&&33==n.F()||550==i&&"&"==r&&33==n.F()?(n=new e.Ra(t.description),t.u()||t.ne(0,n),n):t:(n=new e.Hd(t.description),t.u()||n.add(t),n)},t.tm=function(n,r,i,a){if(n.u()||r.u()||n.pb()>r.pb())return t.kg(t.vd(n),n,"-");var o=new e.g;n.s(o);var s=new e.g;if(r.s(s),!o.isIntersecting(s))return t.kg(t.vd(n),n,"-");var c=new e.g;return c.H(o),c.Nb(s),i=e.la.Qd(i,c,!0),s=new t,c=(o=new e.Yc).Bb(t.vd(n)),r=o.Bb(t.vd(r)),s.yr(o,i,a),a=s.tm(c,r),a=o.ye(a),n=t.kg(a,n,"-"),e.R.Bc(n.F())&&(n.Jg(2,i),1736==n.F()&&n.cl()),n},t.RF=function(n,r){if(n.pb()>r.pb())return t.kg(t.vd(n),n,"|");if(n.pb()<r.pb()||n.u())return t.kg(t.vd(r),n,"|");if(r.u())return t.kg(t.vd(n),n,"|");var i=new e.g;n.s(i);var a=new e.g;r.s(a);var o=new e.g;if(o.H(i),o.Nb(a),o=e.la.Qd(void 0,o,!0),!i.isIntersecting(a.KS(o,o)))switch(n=t.vd(n),o=t.vd(r),n.F()){case 550:return(n=e.R.$d(n)).yd(o,0,-1),n;case 1607:case 1736:return(n=e.R.$d(n)).add(o,!1),n;default:throw e.f.za()}a=new t;var s=(i=new e.Yc).Bb(t.vd(n));return r=i.Bb(t.vd(r)),a.yr(i,o,void 0),r=a.RF(s,r),n=t.kg(i.ye(r),n,"|"),e.R.Bc(n.F())&&(n.Jg(2,o),1736==n.F()&&n.cl()),n},t.fR=function(n,r,i){if(2>n.length)throw e.f.I("not enough geometries to dissolve");for(var a=0,o=0,s=n.length;o<s;o++)a=Math.max(n[o].pb(),a);var c=new e.g;c.Ka();var u=new e.Yc,l=-1,h=0,f=-1;for(o=0,s=n.length;o<s;o++)if(n[o].pb()==a)if(n[o].u())-1==f&&(f=o);else{f=o,-1==l?l=u.Bb(t.vd(n[o])):u.FO(l,t.vd(n[o]));var d=new e.g;n[o].Zb(d),c.Nb(d),h++}return 2>h?t.vd(n[f]):(n=2==a,r=e.la.Qd(0==a?r:null,c,!0),(new t).Tk(u,l,r,n,!0,i))},t.wA=function(n,r,i,a){var o=[null,null,null],s=new e.g;n.s(s);var c=new e.g;r.s(c);var u=new e.g;if(u.H(s),u.Nb(c),i=e.la.Qd(i,u,!0),(u=new e.g).H(c),c=e.la.es(i),u.O(c,c),!s.isIntersecting(u)){if(n.pb()<=r.pb())return o[(n=t.kg(t.vd(n.Ga()),n,"&")).pb()]=n,o;if(n.pb()>r.pb())return o[(n=t.kg(t.vd(r.Ga()),n,"&")).pb()]=n,o}for(c=new t,u=(s=new e.Yc).Bb(t.vd(n)),r=s.Bb(t.vd(r)),c.yr(s,i,a),a=c.wA(u,r),r=0;r<a.length;r++)c=t.kg(s.ye(a[r]),n,"&"),e.R.Bc(c.F())&&(c.Jg(2,i),1736==c.F()&&c.cl()),o[c.pb()]=c;return o},t.tp=function(n,r,i,a){if(n.pb()>r.pb())return t.kg(t.vd(n),n,"^");if(n.pb()<r.pb()||n.u())return t.kg(t.vd(r),n,"^");if(r.u())return t.kg(t.vd(n),n,"^");var o=new e.g;n.s(o);var s=new e.g;r.s(s);var c=new e.g;return c.H(o),c.Nb(s),i=e.la.Qd(i,c,!0),s=new t,c=(o=new e.Yc).Bb(t.vd(n)),r=o.Bb(t.vd(r)),s.yr(o,i,a),a=s.tp(c,r),n=t.kg(o.ye(a),n,"^"),e.R.Bc(n.F())&&(n.Jg(2,i),1736==n.F()&&n.cl()),n},t.w_=function(t,n,r){return n=n.F(),r=r.F(),550==t.F()&&(33==n||33==r)&&1>=t.D()?(r=new e.Ra(t.description),t.u()||t.ne(0,r),r):t},t.prototype.XR=function(e,t){var n=this.h.a;e=n.Ef(e,-1);for(var r=t.size,i=0;i<r;i++){var a=t.get(i);n.oj(e,a)}n.An(e,!0)},t.prototype.DY=function(e,t){for(var n=this.h.a,r=n.kd;-1!=r;r=n.Ae(r))if(r==t)for(var i=n.Kb(r);-1!=i;i=n.Qb(i)){var a=n.Za(i);if(-1!=a)for(var o=n.T(a);-1!=o;){a=this.h.Qe(a);var s=this.h.Qe(o);-1!=(a=this.h.HS(a,s))&&(s=this.h.wa(a),this.h.Jb(a,e,1),this.h.Jb(s,e,2)),a=o,o=n.T(a)}}},t.prototype.tX=function(t,n,r,i){r=this.h.Ea(r),i=this.h.Ea(i);var a=new e.ha(0);a.Db(256);for(var o=this.h.a,s=this.h.ih(),c=this.h.We;-1!=c;c=this.h.$f(c)){var u=this.h.Re(c);if(-1!=u){var l=u;do{if(1!=this.h.Cb(l,s)){var h=l,f=l,d=!1,p=0;do{if(this.h.Jb(h,s,1),!d){var b=this.h.lh(h);0!=(b&i)&&0!=(this.h.kf(h)&r)&&(f=h,d=!0)}d&&(a.add(this.h.zj(this.h.wm(this.h.pk(h)))),-1!=t&&0!=((b=this.h.lh(h))&i)&&(p|=b=this.h.Cb(h,t))),h=this.h.kc(h)}while(h!=f);d&&0<this.h.eq(this.h.jf(f))&&(h=o.Pg(1736),this.XR(h,a),-1!=n&&o.LK(h,n,p)),a.clear(!1)}l=this.h.kc(this.h.wa(l))}while(l!=u)}}this.h.Uh(s)},t.prototype.QQ=function(e,t,n,r){this.h.dY();var i=-1;-1!=e&&(i=this.h.ih(),this.DY(i,n)),this.tX(i,e,t,n);var a=this.h.a;for(e=0,i=a.kd;-1!=i;i=a.Ae(i))i!=t&&i!=n&&(r.add(i),e++);r.Zd(0,e,(function(e,t){return(e=a.eA(a.Kb(e)))<(t=a.eA(a.Kb(t)))?-1:e==t?0:1}))},t.prototype.ah=function(){null!=this.h&&(this.h.ah(),this.h=null)},t}();e.pg=t}(Y||(Y={})),function(e){var t=function(){function t(e){void 0!==e?this.Dr(e):this.zC()}return t.prototype.Tx=function(){this.Sb=this.Ob=this.tb=this.ob=this.bb=this.fb=0},t.prototype.Ib=function(e){return this==e||e instanceof t&&this.fb==e.fb&&this.ob==e.ob&&this.Ob==e.Ob&&this.tb==e.tb&&this.bb==e.bb&&this.Sb==e.Sb},t.prototype.fc=function(){return e.L.Aj(),e.L.Aj(),e.L.Aj(),e.L.Aj(),e.L.Aj(),e.L.Aj()},t.prototype.Zj=function(e,t){var n=this.tb*e.x+this.bb*e.y+this.Sb;t.x=this.fb*e.x+this.ob*e.y+this.Ob,t.y=n},t.prototype.LZ=function(e,t,n,r,i){var a=2*t;for(r*=2,t=2*(t+i);a<t;a+=2,r+=2){i=e[a];var o=e[a+1];n[r]=this.fb*i+this.ob*o+this.Ob,n[r+1]=this.tb*i+this.bb*o+this.Sb}},t.prototype.NZ=function(t,n,r){for(var i=0;i<n;i++){var a=t[i].x,o=t[i].y,s=this.fb*a+this.ob*o+this.Ob;a=this.tb*a+this.bb*o+this.Sb,null!=r[i]?r[i].ka(s,a):r[i]=e.b.construct(s,a)}},t.prototype.multiply=function(e){t.multiply(this,e,this)},t.multiply=function(e,t,n){var r=e.fb*t.fb+e.tb*t.ob,i=e.ob*t.fb+e.bb*t.ob,a=e.Ob*t.fb+e.Sb*t.ob+t.Ob,o=e.fb*t.tb+e.tb*t.bb,s=e.ob*t.tb+e.bb*t.bb;e=e.Ob*t.tb+e.Sb*t.bb+t.Sb,n.fb=r,n.ob=i,n.Ob=a,n.tb=o,n.bb=s,n.Sb=e},t.prototype.Cf=function(){var e=new t;return e.fb=this.fb,e.ob=this.ob,e.Ob=this.Ob,e.tb=this.tb,e.bb=this.bb,e.Sb=this.Sb,e},t.prototype.VC=function(t){if(!t.u()){for(var n=[],r=0;4>r;r++)n[r]=new e.b;t.XB(n),this.OZ(n,n),t.Ix(n,4)}},t.prototype.OZ=function(t,n){for(var r=0;r<t.length;r++){var i=new e.b,a=t[r];i.x=this.fb*a.x+this.ob*a.y+this.Ob,i.y=this.tb*a.x+this.bb*a.y+this.Sb,n[r]=i}},t.prototype.KT=function(e,t){e.u()||t.u()||0==e.N()||0==e.ca()?this.Tx():(this.ob=this.tb=0,this.fb=t.N()/e.N(),this.bb=t.ca()/e.ca(),this.Ob=t.o-e.o*this.fb,this.Sb=t.A-e.A*this.bb)},t.prototype.MZ=function(t){var n=new e.b,r=new e.b;n.ka(this.fb,this.tb),r.ka(this.ob,this.bb),n.sub(n);var i=.5*n.En();return n.ka(this.fb,this.tb),r.ka(this.ob,this.bb),n.add(r),t*(i>(n=.5*n.En())?Math.sqrt(i):Math.sqrt(n))},t.prototype.zC=function(){this.fb=1,this.tb=this.Ob=this.ob=0,this.bb=1,this.Sb=0},t.prototype.xq=function(){return 1==this.fb&&1==this.bb&&0==this.ob&&0==this.Ob&&0==this.tb&&0==this.Sb},t.prototype.Qg=function(e){return Math.abs(this.fb*this.bb-this.tb*this.ob)<=2*e*(Math.abs(this.fb*this.bb)+Math.abs(this.tb*this.ob))},t.prototype.mg=function(e,t){this.fb=1,this.ob=0,this.Ob=e,this.tb=0,this.bb=1,this.Sb=t},t.prototype.Dr=function(e,t){void 0!==t?(this.fb=e,this.tb=this.Ob=this.ob=0,this.bb=t,this.Sb=0):this.Dr(e,e)},t.prototype.HC=function(){this.fb=0,this.ob=1,this.Ob=0,this.tb=1,this.Sb=this.bb=0},t.prototype.SY=function(e){this.TY(Math.cos(e),Math.sin(e))},t.prototype.TY=function(e,t){this.fb=e,this.ob=-t,this.Ob=0,this.tb=t,this.bb=e,this.Sb=0},t.prototype.shift=function(e,t){this.Ob+=e,this.Sb+=t},t.prototype.scale=function(e,t){this.fb*=e,this.ob*=e,this.Ob*=e,this.tb*=t,this.bb*=t,this.Sb*=t},t.prototype.rotate=function(e){var n=new t;n.SY(e),this.multiply(n)},t.prototype.inverse=function(e){if(void 0!==e){var t=this.fb*this.bb-this.ob*this.tb;0==t?e.Tx():(t=1/t,e.Ob=(this.ob*this.Sb-this.Ob*this.bb)*t,e.Sb=(this.Ob*this.tb-this.fb*this.Sb)*t,e.fb=this.bb*t,e.ob=-this.ob*t,e.tb=-this.tb*t,e.bb=this.fb*t)}else this.inverse(this)},t}();e.xd=t}(Y||(Y={})),function(e){var t=function(){function t(){}return t.prototype.Tx=function(){this.Kg=this.Sb=this.Ob=this.gf=this.df=this.cf=this.ff=this.bb=this.ob=this.yf=this.tb=this.fb=0},t.prototype.Dr=function(e,t){this.fb=e,this.ob=this.yf=this.tb=0,this.bb=t,this.df=this.cf=this.ff=0,this.gf=void 0,this.Kg=this.Sb=this.Ob=0},t.prototype.translate=function(e,t,n){this.Ob+=e,this.Sb+=t,this.Kg+=n},t.prototype.VC=function(t){if(!t.u()){for(var n=new e.Id[8],r=0;8>r;r++)n[r]=new e.Id;t.XB(n),this.transform(n,8,n),t.Ix(n)}},t.prototype.transform=function(t,n,r){for(var i=0;i<n;i++){var a=new e.Id,o=t[i];a.x=this.fb*o.x+this.ob*o.y+this.cf*o.z+this.Ob,a.y=this.tb*o.x+this.bb*o.y+this.df*o.z+this.Sb,a.z=this.yf*o.x+this.ff*o.y+this.gf*o.z+this.Kg,r[i]=a}},t.prototype.vp=function(t){var n=new e.Id;return n.x=this.fb*t.x+this.ob*t.y+this.cf*t.z+this.Ob,n.y=this.tb*t.x+this.bb*t.y+this.df*t.z+this.Sb,n.z=this.yf*t.x+this.ff*t.y+this.gf*t.z+this.Kg,n},t.prototype.Gg=function(e){t.multiply(this,e,this)},t.multiply=function(e,t,n){var r=e.fb*t.fb+e.tb*t.ob+e.yf*t.cf,i=e.fb*t.tb+e.tb*t.bb+e.yf*t.df,a=e.fb*t.yf+e.tb*t.ff+e.yf*t.gf,o=e.ob*t.fb+e.bb*t.ob+e.ff*t.cf,s=e.ob*t.tb+e.bb*t.bb+e.ff*t.df,c=e.ob*t.yf+e.bb*t.ff+e.ff*t.gf,u=e.cf*t.fb+e.df*t.ob+e.gf*t.cf,l=e.cf*t.tb+e.df*t.bb+e.gf*t.df,h=e.cf*t.yf+e.df*t.ff+e.gf*t.gf,f=e.Ob*t.fb+e.Sb*t.ob+e.Kg*t.cf+t.Ob,d=e.Ob*t.tb+e.Sb*t.bb+e.Kg*t.df+t.Sb;e=e.Ob*t.yf+e.Sb*t.ff+e.Kg*t.gf+t.Kg,n.fb=r,n.tb=i,n.yf=a,n.ob=o,n.bb=s,n.ff=c,n.cf=u,n.df=l,n.gf=h,n.Ob=f,n.Sb=d,n.Kg=e},t.inverse=function(t,n){var r=t.fb*(t.bb*t.gf-t.ff*t.df)-t.tb*(t.ob*t.gf-t.ff*t.cf)+t.yf*(t.ob*t.df-t.bb*t.cf);if(0==r)throw e.f.Y("math singularity");var i=1/r;r=(t.bb*t.gf-t.ff*t.df)*i;var a=-(t.ob*t.gf-t.ff*t.cf)*i,o=(t.ob*t.df-t.bb*t.cf)*i,s=-(t.tb*t.gf-t.df*t.yf)*i,c=(t.fb*t.gf-t.yf*t.cf)*i,u=-(t.fb*t.df-t.tb*t.cf)*i,l=(t.tb*t.ff-t.yf*t.bb)*i,h=-(t.fb*t.ff-t.yf*t.ob)*i;i*=t.fb*t.bb-t.tb*t.ob;var f=-(t.Ob*r+t.Sb*a+t.Kg*o),d=-(t.Ob*s+t.Sb*c+t.Kg*u);t=-(t.Ob*l+t.Sb*h+t.Kg*i),n.fb=r,n.tb=s,n.yf=l,n.ob=a,n.bb=c,n.ff=h,n.cf=o,n.df=u,n.gf=i,n.Ob=f,n.Sb=d,n.Kg=t},t.prototype.Cf=function(){var e=new t;return e.fb=this.fb,e.tb=this.tb,e.yf=this.yf,e.ob=this.ob,e.bb=this.bb,e.ff=this.ff,e.cf=this.cf,e.df=this.df,e.gf=this.gf,e.Ob=this.Ob,e.Sb=this.Sb,e.Kg=this.Kg,e},t}();e.u_=t}(Y||(Y={})),function(e){var t=function(t){function r(e){if(void 0!==e)e=t.call(this,e.fc(),e)||this;else{(e=t.call(this)||this).hg=[],e.hg[0]=0,e.Ca=1,e.Bh=[];for(var n=0;10>n;n++)e.Bh[n]=-1;e.Bh[e.hg[0]]=0}return e.Cq=!0,e}return X(r,t),r.prototype.le=function(e){this.hasAttribute(e)||(this.Bh[e]=0,this.UD())},r.prototype.removeAttribute=function(t){if(0==t)throw e.f.I("Position attribue cannot be removed");this.hasAttribute(t)&&(this.Bh[t]=-1,this.UD())},r.prototype.reset=function(){this.hg[0]=0,this.Ca=1;for(var e=0;e<this.Bh.length;e++)this.Bh[e]=-1;this.Bh[this.hg[0]]=0,this.Cq=!0},r.prototype.Mz=function(){return n.bo().add(this)},r.ug=function(){return n.bo().rT()},r.Y_=function(){return n.bo().sT()},r.prototype.BN=function(){var t=this.fc();return new e.oa(t,this)},r.prototype.UD=function(){for(var e=this.Ca=0,t=0;10>e;e++)0<=this.Bh[e]&&(this.hg[t]=e,this.Bh[e]=t,t++,this.Ca++);this.Cq=!0},r.prototype.fc=function(){return this.Cq&&(this.Fl=this.Un(),this.Cq=!1),this.Fl},r.prototype.Ib=function(e){if(null==e)return!1;if(e==this)return!0;if(!(e instanceof r)||e.Ca!=this.Ca)return!1;for(var t=0;t<this.Ca;t++)if(this.hg[t]!=e.hg[t])return!1;return this.Cq==e.Cq},r.prototype.sH=function(e){if(e.Ca!=this.Ca)return!1;for(var t=0;t<this.Ca;t++)if(this.hg[t]!=e.hg[t])return!1;return!0},r.ox=function(e,t){for(var n=[],r=0;r<e.Ca;r++)n[r]=-1;r=0;for(var i=e.Ca;r<i;r++)n[r]=t.Yf(e.jd(r));return n},r.RS=function(e,t){return(e=new r(e)).le(t),e.Mz()},r.SS=function(e,t){for(var n=null,i=0;10>i;i++)!e.hasAttribute(i)&&t.hasAttribute(i)&&(null==n&&(n=new r(e)),n.le(i));return null!=n?n.Mz():e},r.E0=function(e,t){return(e=new r(e)).removeAttribute(t),e.Mz()},r}(e.oa);e.ke=t;var n=function(){function e(){this.map=[];var e=new t;this.add(e),(e=new t).le(1),this.add(e)}return e.bo=function(){return e.lM},e.prototype.rT=function(){return e.Mt},e.prototype.sT=function(){return e.Nt},e.prototype.add=function(t){var n=t.fc();if(null!=e.Mt&&e.Mt.fc()==n&&t.sH(e.Mt))return e.Mt;if(null!=e.Nt&&e.Nt.fc()==n&&t.sH(e.Nt))return e.Nt;var r=null;return void 0!==this.map[n]&&(r=this.map[n]),null==r&&(1==(r=t.BN()).Ca?e.Mt=r:2==r.Ca&&1==r.jd(1)?e.Nt=r:this.map[n]=r),r},e.lM=new e,e}()}(Y||(Y={}));var ne={feet:9002,kilometers:9036,meters:9001,miles:9035,"nautical-miles":9030,yards:9096},re={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},ie=new(function(){function e(){this.YN=50,this.Gp=new Map,this.mj=[]}return e.prototype.clear=function(){this.mj.length=0,this.Gp.clear()},e.prototype.delete=function(e){return!!this.Gp.delete(e)&&(this.mj.splice(this.mj.indexOf(e),1),!0)},e.prototype.get=function(e){var t=this.Gp.get(e);if(void 0!==t)return this.mj[0]!==e&&(this.mj.splice(this.mj.indexOf(e),1),this.mj.unshift(e)),t},e.prototype.has=function(e){return this.Gp.has(e)},e.prototype.set=function(e,t){return void 0!==this.get(e)&&this.delete(e),this.mj.unshift(e),this.Gp.set(e,t),this.wN(),this},e.prototype.wN=function(){for(;this.mj.length&&this.mj.length>this.YN;){var e=this.mj.pop();this.Gp.delete(e)}},e}()),ae=((W={}).convertJSONToGeometry=function(e){return Y.bc.pQ(e)},W.hasM=function(e){return e.hasAttribute(Y.Mh.M)},W.hasZ=function(e){return e.hasAttribute(Y.Mh.Z)},W.getPointX=function(e){return e.Ce()},W.getPointY=function(e){return e.lf()},W.getPointZ=function(e){return e.vT()},W.getPointM=function(e){return e.OS()},W.getXMin=function(e){return e.Ms()},W.getYMin=function(e){return e.Os()},W.getXMax=function(e){return e.Ls()},W.getYMax=function(e){return e.Ns()},W.getZExtent=function(e){return e.Qf(Y.Mh.Z,0)},W.getMExtent=function(e){return e.Qf(Y.Mh.M,0)},W.exportPaths=function(e){var t=[],n=e.$(),r=null,i=null,a=e.hasAttribute(Y.Mh.Z),o=e.hasAttribute(Y.Mh.M);a&&(r=e.Va(Y.Mh.Z)),o&&(i=e.Va(Y.Mh.M));for(var s=new Y.b,c=0;c<n;c++){for(var u=e.ua(c),l=e.Ha(c),h=0,f=0,d=NaN,p=NaN,b=NaN,v=NaN,y=e.Lb(c),m=[],g=u;g<u+l;g++){e.w(g,s),v=b=NaN;var O=[s.x,s.y];a&&(b=r.get(g),O.push(b)),o&&(v=i.get(g),O.push(v)),g==u&&y&&(h=s.x,f=s.y,d=b,p=v),m.push(O)}!y||h==s.x&&f==s.y&&(!a||isNaN(d)&&isNaN(b)||d==b)&&(!o||isNaN(p)&&isNaN(v)||p==v)||m.push(m[0].slice(0)),t.push(m)}return t},W.exportPathsFlat=function(){},W.exportPoints=function(e){var t=e.hasAttribute(Y.Mh.Z),n=e.hasAttribute(Y.Mh.M),r=null,i=null;t&&(r=e.Va(Y.Mh.Z)),n&&(i=e.Va(Y.Mh.M));for(var a=new Y.b,o=e.D(),s=[],c=0;c<o;c++){e.w(c,a);var u=[a.x,a.y];t&&u.push(r.get(c)),n&&u.push(i.get(c)),s.push(u)}return s},W.exportPointsFlat=function(){},W);return function(){function e(){}return e.buffer=T,e.clip=c,e.contains=l,e.convexHull=w,e.crosses=h,e.cut=u,e.densify=L,e.difference=_,e.disjoint=y,e.distance=f,e.equals=d,e.extendedSpatialReferenceInfo=s,e.generalize=D,e.geodesicArea=z,e.geodesicBuffer=M,e.geodesicDensify=R,e.geodesicLength=V,e.intersect=k,e.intersects=p,e.isSimple=O,e.nearestCoordinate=A,e.nearestVertex=P,e.nearestVertices=I,e.offset=E,e.overlaps=m,e.planarArea=N,e.planarLength=F,e.relate=g,e.simplify=j,e.symmetricDifference=x,e.touches=b,e.union=S,e.within=v,e.rotate=Y.jy.rotate,e.flipHorizontal=Y.jy.VR,e.flipVertical=Y.jy.WR,e._enableProjection=U,e._project=q,e._getTransformation=B,e._getTransformationBySuitability=G,e}()}();void 0!==n&&(e.exports=n)})),a=Object.freeze(Object.assign(Object.create(null),i,{default:i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var r=n(18),i=(n(48),n(157)),a=n(56),o=n(74),s=n(191),c=n(119),u=n(127);n.d(t,"a",(function(){return u.a}));n(206),n(97);var l={base:i.a,key:"type",typeMap:{extent:o.a,multipoint:s.a,point:a.a,polyline:u.a,polygon:c.a}};Object(r.k)(l)},function(e,t,n){e.exports=n(739)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(13),i=n(23);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u(e,t,n)}function o(e,t){if(null!=t)return t[e]||c(e.split("."),!1,t)}function s(e,t,n){var r=e.split("."),i=r.pop(),a=c(r,!0,n);a&&i&&(a[i]=t)}function c(e,t,n){var i,a=n,o=Object(r.a)(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(null==a)return;if(!(s in a)){if(!t)return;a[s]={}}a=a[s]}}catch(c){o.e(c)}finally{o.f()}return a}function u(e,t,n){return t?Object.keys(t).reduce((function(e,r){var a=e[r],o=t[r];return a===o?e:void 0===a?(e[r]=Object(i.a)(o),e):(Array.isArray(o)||Array.isArray(e)?(a=a?Array.isArray(a)?e[r]=a.concat():e[r]=[a]:e[r]=[],o&&(Array.isArray(o)||(o=[o]),n?o.forEach((function(e){-1===a.indexOf(e)&&a.push(e)})):e[r]=o.concat())):o&&"object"==typeof o?e[r]=u(a,o,n):e.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(e[r]=o),e)}),e||{}):e}},function(e,t,n){"use strict";function r(e){var t=JSON.parse(JSON.stringify(e));return t.data&&("undefined"!==typeof Blob&&e.data instanceof Blob||"ReadStream"===e.data.constructor.name?t.file=e.data:t.text=e.data,delete t.data),t}function i(e){return e.owner?Promise.resolve(e.owner):e.item&&e.item.owner?Promise.resolve(e.item.owner):e.authentication&&e.authentication.getUsername?e.authentication.getUsername():Promise.reject(new Error("Could not determine the owner of this item. Pass the `owner`, `item.owner`, or `authentication` option."))}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(15);var r=n(36);function i(e){return Object(r.e)(e.x,e.y)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return d}));var r=function(e){return"@@redux-saga/"+e},i=r("CANCEL_PROMISE"),a=r("CHANNEL_END"),o=r("IO"),s=r("MATCH"),c=r("MULTICAST"),u=r("SAGA_ACTION"),l=r("SELF_CANCELLATION"),h=r("TASK"),f=r("TASK_CANCEL"),d=r("TERMINATE"),p=r("LOCATION")},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=n(1),u=n(8),l=n(37),h=n(60),f=n(366),d=function(e){var t=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"destroy",value:function(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}},{key:"handles",get:function(){return this._get("handles")||new h.a}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new f.a}}]),n}(e);return Object(s.a)([Object(c.b)({readOnly:!0})],t.prototype,"handles",null),Object(s.a)([Object(c.b)({readOnly:!0})],t.prototype,"updatingHandles",null),t=Object(s.a)([Object(u.a)("esri.core.HandleOwner")],t),t},p=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(d(l.a));p=Object(s.a)([Object(u.a)("esri.core.HandleOwner")],p)},function(e,t,n){"use strict";var r=n(58),i=(n(15),n(101)),a={apiKey:void 0,applicationUrl:r.a.location&&r.a.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};r.a.esriConfig&&(Object(i.a)(a,r.a.esriConfig,!0),delete a.has),a.assetsPath||(a.assetsPath="./assets"),a.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(a,"baseUrl",{set:function(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),a.request.corsEnabledServers=[],a.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0},t.a=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return o}));var r=n(10),i=n(2),a=n(3);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32774,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0,0,0];return{srcRgb:e,srcAlpha:e,dstRgb:t,dstAlpha:t,opRgb:n,opAlpha:n,color:{r:r[0],g:r[1],b:r[2],a:r[3]}}}function s(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:32774,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:32774,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,0,0,0];return{srcRgb:e,srcAlpha:t,dstRgb:n,dstAlpha:r,opRgb:i,opAlpha:a,color:{r:o[0],g:o[1],b:o[2],a:o[3]}}}var c={zNear:0,zFar:1},u={r:!0,g:!0,b:!0,a:!0};function l(e){return j.intern(e)}function h(e){return _.intern(e)}function f(e){return k.intern(e)}function d(e){return E.intern(e)}function p(e){return M.intern(e)}function b(e){return A.intern(e)}function v(e){return I.intern(e)}function y(e){return L.intern(e)}function m(e){return N.intern(e)}var g=function(){function e(t,n){Object(i.a)(this,e),this.makeKey=t,this.makeRef=n,this.interns=new Map}return Object(a.a)(e,[{key:"intern",value:function(e){if(!e)return null;var t=this.makeKey(e),n=this.interns;return n.has(t)||n.set(t,this.makeRef(e)),n.get(t)}}]),e}();function O(e){return"["+e.join(",")+"]"}var j=new g(w,(function(e){return Object(r.a)({__tag:"Blending"},e)}));function w(e){return e?O([e.srcRgb,e.srcAlpha,e.dstRgb,e.dstAlpha,e.opRgb,e.opAlpha,e.color.r,e.color.g,e.color.b,e.color.a]):null}var _=new g(x,(function(e){return Object(r.a)({__tag:"Culling"},e)}));function x(e){return e?O([e.face,e.mode]):null}var k=new g(S,(function(e){return Object(r.a)({__tag:"PolygonOffset"},e)}));function S(e){return e?O([e.factor,e.units]):null}var E=new g(T,(function(e){return Object(r.a)({__tag:"DepthTest"},e)}));function T(e){return e?O([e.func]):null}var M=new g(C,(function(e){return Object(r.a)({__tag:"StencilTest"},e)}));function C(e){return e?O([e.function.func,e.function.ref,e.function.mask,e.operation.fail,e.operation.zFail,e.operation.zPass]):null}var A=new g(P,(function(e){return Object(r.a)({__tag:"DepthWrite"},e)}));function P(e){return e?O([e.zNear,e.zFar]):null}var I=new g(D,(function(e){return Object(r.a)({__tag:"ColorWrite"},e)}));function D(e){return e?O([e.r,e.g,e.b,e.a]):null}var L=new g(R,(function(e){return Object(r.a)({__tag:"StencilWrite"},e)}));function R(e){return e?O([e.mask]):null}var N=new g((function(e){return e?O([w(e.blending),x(e.culling),S(e.polygonOffset),T(e.depthTest),C(e.stencilTest),P(e.depthWrite),D(e.colorWrite),R(e.stencilWrite)]):null}),(function(e){return{blending:l(e.blending),culling:h(e.culling),polygonOffset:f(e.polygonOffset),depthTest:d(e.depthTest),stencilTest:p(e.stencilTest),depthWrite:b(e.depthWrite),colorWrite:v(e.colorWrite),stencilWrite:y(e.stencilWrite)}})),F=function(){function e(t){Object(i.a)(this,e),this._pipelineInvalid=!0,this._blendingInvalid=!0,this._cullingInvalid=!0,this._polygonOffsetInvalid=!0,this._depthTestInvalid=!0,this._stencilTestInvalid=!0,this._depthWriteInvalid=!0,this._colorWriteInvalid=!0,this._stencilWriteInvalid=!0,this._stateSetters=t}return Object(a.a)(e,[{key:"setPipeline",value:function(e){(this._pipelineInvalid||e!==this._pipeline)&&(this.setBlending(e.blending),this.setCulling(e.culling),this.setPolygonOffset(e.polygonOffset),this.setDepthTest(e.depthTest),this.setStencilTest(e.stencilTest),this.setDepthWrite(e.depthWrite),this.setColorWrite(e.colorWrite),this.setStencilWrite(e.stencilWrite),this._pipeline=e),this._pipelineInvalid=!1}},{key:"invalidateBlending",value:function(){this._blendingInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateCulling",value:function(){this._cullingInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidatePolygonOffset",value:function(){this._polygonOffsetInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateDepthTest",value:function(){this._depthTestInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateStencilTest",value:function(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateDepthWrite",value:function(){this._depthWriteInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateColorWrite",value:function(){this._colorWriteInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateStencilWrite",value:function(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}},{key:"setBlending",value:function(e){this._blending=this.setSubState(e,this._blending,this._blendingInvalid,this._stateSetters.setBlending),this._blendingInvalid=!1}},{key:"setCulling",value:function(e){this._culling=this.setSubState(e,this._culling,this._cullingInvalid,this._stateSetters.setCulling),this._cullingInvalid=!1}},{key:"setPolygonOffset",value:function(e){this._polygonOffset=this.setSubState(e,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset),this._polygonOffsetInvalid=!1}},{key:"setDepthTest",value:function(e){this._depthTest=this.setSubState(e,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest),this._depthTestInvalid=!1}},{key:"setStencilTest",value:function(e){this._stencilTest=this.setSubState(e,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest),this._stencilTestInvalid=!1}},{key:"setDepthWrite",value:function(e){this._depthWrite=this.setSubState(e,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite),this._depthWriteInvalid=!1}},{key:"setColorWrite",value:function(e){this._colorWrite=this.setSubState(e,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite),this._colorWriteInvalid=!1}},{key:"setStencilWrite",value:function(e){this._stencilWrite=this.setSubState(e,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite),this._stencilTestInvalid=!1}},{key:"setSubState",value:function(e,t,n,r){return(n||e!==t)&&(r(e),this._pipelineInvalid=!0),e}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return y}));var r=n(10),i=n(50),a=n(96),o={year:"numeric",month:"numeric",day:"numeric"},s={year:"numeric",month:"long",day:"numeric"},c={year:"numeric",month:"short",day:"numeric"},u={year:"numeric",month:"long",weekday:"long",day:"numeric"},l={hour:"numeric",minute:"numeric"},h=Object(r.a)(Object(r.a)({},l),{},{second:"numeric"}),f={"short-date":o,"short-date-short-time":Object(r.a)(Object(r.a)({},o),l),"short-date-short-time-24":Object(r.a)(Object(r.a)(Object(r.a)({},o),l),{},{hour12:!1}),"short-date-long-time":Object(r.a)(Object(r.a)({},o),h),"short-date-long-time-24":Object(r.a)(Object(r.a)(Object(r.a)({},o),h),{},{hour12:!1}),"short-date-le":o,"short-date-le-short-time":Object(r.a)(Object(r.a)({},o),l),"short-date-le-short-time-24":Object(r.a)(Object(r.a)(Object(r.a)({},o),l),{},{hour12:!1}),"short-date-le-long-time":Object(r.a)(Object(r.a)({},o),h),"short-date-le-long-time-24":Object(r.a)(Object(r.a)(Object(r.a)({},o),h),{},{hour12:!1}),"long-month-day-year":s,"long-month-day-year-short-time":Object(r.a)(Object(r.a)({},s),l),"long-month-day-year-short-time-24":Object(r.a)(Object(r.a)(Object(r.a)({},s),l),{},{hour12:!1}),"long-month-day-year-long-time":Object(r.a)(Object(r.a)({},s),h),"long-month-day-year-long-time-24":Object(r.a)(Object(r.a)(Object(r.a)({},s),h),{},{hour12:!1}),"day-short-month-year":c,"day-short-month-year-short-time":Object(r.a)(Object(r.a)({},c),l),"day-short-month-year-short-time-24":Object(r.a)(Object(r.a)(Object(r.a)({},c),l),{},{hour12:!1}),"day-short-month-year-long-time":Object(r.a)(Object(r.a)({},c),h),"day-short-month-year-long-time-24":Object(r.a)(Object(r.a)(Object(r.a)({},c),h),{},{hour12:!1}),"long-date":u,"long-date-short-time":Object(r.a)(Object(r.a)({},u),l),"long-date-short-time-24":Object(r.a)(Object(r.a)(Object(r.a)({},u),l),{},{hour12:!1}),"long-date-long-time":Object(r.a)(Object(r.a)({},u),h),"long-date-long-time-24":Object(r.a)(Object(r.a)(Object(r.a)({},u),h),{},{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":l,"long-time":h},d=Object(i.b)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),p=(d.apiValues,d.toJSON.bind(d),d.fromJSON.bind(d),{ar:"ar-u-nu-latn-ca-gregory"}),b=new WeakMap,v=f["short-date-short-time"];function y(e){var t=e||v;if(!b.has(t)){var n=Object(a.b)(),r=p[Object(a.b)()]||n;b.set(t,new Intl.DateTimeFormat(r,t))}return b.get(t)}function m(e){return f[e]||null}function g(e,t){return y(t).format(e)}Object(a.a)((function(){b=new WeakMap,v=f["short-date-short-time"]}))},function(e,t,n){"use strict";n.r(t),n.d(t,"hydratedAdapter",(function(){return c}));var r=n(56),i=n(74),a=n(191),o=n(119),s=n(127),c={convertToGEGeometry:function(e,t){if(null==t)return null;var n="cache"in t?t.cache._geVersion:void 0;return null==n&&(n=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=n)),n},exportPoint:function(e,t,n){var i=e.hasZ(t),a=e.hasM(t),o=new r.a({x:e.getPointX(t),y:e.getPointY(t),spatialReference:n});return i&&(o.z=e.getPointZ(t)),a&&(o.m=e.getPointM(t)),o.cache._geVersion=t,o},exportPolygon:function(e,t,n){var r=new o.a({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return r.cache._geVersion=t,r},exportPolyline:function(e,t,n){var r=new s.a({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return r.cache._geVersion=t,r},exportMultipoint:function(e,t,n){var r=new a.a({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:n});return r.cache._geVersion=t,r},exportExtent:function(e,t,n){var r=e.hasZ(t),a=e.hasM(t),o=new i.a({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:n});if(r){var s=e.getZExtent(t);o.zmin=s.vmin,o.zmax=s.vmax}if(a){var c=e.getMExtent(t);o.mmin=c.vmin,o.mmax=c.vmax}return o.cache._geVersion=t,o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);if(isNaN(t))return t;return t<0?Math.ceil(t):Math.floor(t)},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(e.forEach)e.forEach(t);else for(var n=0;n<e.length;n++)t(e[n],n,e)}function i(e,t,n){if(e.slice)return e.slice(t,n);void 0===t?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===n?n=e.length:(n<0&&(n+=e.length),n=Math.min(e.length,Math.max(0,n)));for(var r=Math.max(0,n-t),i=new(0,e.constructor)(r),a=0;a<r;a++)i[a]=e[t+a];return i}function a(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}function o(e){return e instanceof Int8Array||e&&e.constructor&&"Int8Array"===e.constructor.name}function s(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name}function c(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name}function u(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name}function l(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name}function h(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name}function f(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name}function d(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name}function p(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name}function b(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function v(e){return e?128+e.buffer.byteLength+64:0}n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return i})),n.d(t,"n",(function(){return b}))},function(e,t,n){"use strict";var r=n(10),i=n(2),a=n(3),o=n(4),s=n(44),c=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(i.a)(this,e),this._context=null,this._glName=null,this.id=u++,this._descriptor=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._boundToUnits=new Set,t.instanceCounter.increment(0,this),this._context=t,this._descriptor=Object(r.a)({target:3553,samplingMode:9729,wrapMode:10497,flipped:!1,hasMipmap:!1,isOpaque:!1,unpackAlignment:4,preMultiplyAlpha:!1},n),this.setData(a)}return Object(a.a)(e,[{key:"glName",get:function(){return this._glName}},{key:"descriptor",get:function(){return this._descriptor}},{key:"dispose",value:function(){var e=this;if(this._context&&this._context.gl){if(this._glName){var t=this._context.gl;this._boundToUnits.forEach((function(t){e._context.bindTexture(null,t)})),t.deleteTexture(this._glName),this._glName=null}this._context.instanceCounter.decrement(0,this),this._context=null}}},{key:"release",value:function(){this.dispose()}},{key:"resize",value:function(e,t){var n=this._descriptor;n.width===e&&n.height===t||(n.width=e,n.height=t,this.setData(null))}},{key:"setData",value:function(t){if(this._context&&this._context.gl){var n=this._context.gl;this._glName||(this._glName=n.createTexture()),void 0===t&&(t=null),null===t&&(this._descriptor.width=this._descriptor.width||4,this._descriptor.height=this._descriptor.height||4);var r=this._context.getBoundTexture(0);this._context.bindTexture(this,0);var i=this._descriptor;e._validateTexture(i),n.pixelStorei(n.UNPACK_ALIGNMENT,i.unpackAlignment),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,i.flipped?1:0),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.preMultiplyAlpha?1:0);var a=i.pixelFormat,s=i.internalFormat?i.internalFormat:a;if(t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement){var c=t.width,u=t.height;t instanceof HTMLVideoElement&&(c=t.videoWidth,u=t.videoHeight),i.width&&i.height&&console.assert(c===i.width&&u===i.height),n.texImage2D(n.TEXTURE_2D,0,s,a,i.dataType,t),i.hasMipmap&&this.generateMipmap(),void 0===i.width&&(i.width=c),void 0===i.height&&(i.height=u)}else{null!=i.width&&null!=i.height||console.error("Width and height must be specified!"),n.DEPTH24_STENCIL8&&s===n.DEPTH_STENCIL&&(s=n.DEPTH24_STENCIL8);var l=i.width,h=i.height;if(function(e){return Object(o.h)(e)&&"type"in e&&"compressed"===e.type}(t)){var f=Math.round(Math.log(Math.max(l,h))/Math.LN2)+1;i.hasMipmap=i.hasMipmap&&f===t.levels.length;for(var d=0;;++d){var p=t.levels[Math.min(d,t.levels.length-1)];if(n.compressedTexImage2D(n.TEXTURE_2D,d,s,l,h,0,p),1===l&&1===h||!i.hasMipmap)break;l=Math.max(1,l>>1),h=Math.max(1,h>>1)}}else if(Object(o.h)(t))n.texImage2D(n.TEXTURE_2D,0,s,l,h,0,a,i.dataType,t),i.hasMipmap&&this.generateMipmap();else for(var b=0;n.texImage2D(n.TEXTURE_2D,b,s,l,h,0,a,i.dataType,null),(1!==l||1!==h)&&i.hasMipmap;++b)l=Math.max(1,l>>1),h=Math.max(1,h>>1)}e._applySamplingMode(n,this._descriptor),e._applyWrapMode(n,this._descriptor),e._applyAnisotropicFilteringParameters(this._context,this._descriptor),this._context.bindTexture(r,0)}}},{key:"updateData",value:function(e,t,n,r,i,a){a||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");var o=this._context.gl,s=this._descriptor,c=this._context.getBoundTexture(0);this._context.bindTexture(this,0),(t<0||n<0||r>s.width||i>s.height||t+r>s.width||n+i>s.height)&&console.error("An attempt to update out of bounds of the texture!"),o.pixelStorei(o.UNPACK_ALIGNMENT,s.unpackAlignment),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,s.flipped?1:0),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.preMultiplyAlpha?1:0),a instanceof ImageData||a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement?o.texSubImage2D(o.TEXTURE_2D,e,t,n,s.pixelFormat,s.dataType,a):o.texSubImage2D(o.TEXTURE_2D,e,t,n,r,i,s.pixelFormat,s.dataType,a),this._context.bindTexture(c,0)}},{key:"generateMipmap",value:function(){var t=this._descriptor;t.hasMipmap||(t.hasMipmap=!0,this._samplingModeDirty=!0,e._validateTexture(t)),9729===t.samplingMode?(this._samplingModeDirty=!0,t.samplingMode=9985):9728===t.samplingMode&&(this._samplingModeDirty=!0,t.samplingMode=9984);var n=this._context.getBoundTexture(0);this._context.bindTexture(this,0);var r=this._context.gl;r.generateMipmap(r.TEXTURE_2D),this._context.bindTexture(n,0)}},{key:"setSamplingMode",value:function(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,e._validateTexture(this._descriptor),this._samplingModeDirty=!0)}},{key:"setWrapMode",value:function(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,e._validateTexture(this._descriptor),this._wrapModeDirty=!0)}},{key:"applyChanges",value:function(){var t=this._context.gl,n=this._descriptor;this._samplingModeDirty&&(e._applySamplingMode(t,n),this._samplingModeDirty=!1),this._wrapModeDirty&&(e._applyWrapMode(t,n),this._wrapModeDirty=!1)}},{key:"setBoundToUnit",value:function(e,t){t?this._boundToUnits.add(e):this._boundToUnits.delete(e)}}],[{key:"_validateTexture",value:function(e){(e.width<0||e.height<0)&&console.error("Negative dimension parameters are not allowed!"),Object(s.k)(e.width)&&Object(s.k)(e.height)||("number"==typeof e.wrapMode?33071!==e.wrapMode&&console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"):33071===e.wrapMode.s&&33071===e.wrapMode.t||console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"),e.hasMipmap&&console.error("Mipmapping requires power-of-two textures!"))}},{key:"_applySamplingMode",value:function(e,t){var n=t.samplingMode,r=t.samplingMode;9985===n||9987===n?(n=9729,t.hasMipmap||(r=9729)):9984!==n&&9986!==n||(n=9728,t.hasMipmap||(r=9728)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r)}},{key:"_applyWrapMode",value:function(e,t){"number"==typeof t.wrapMode?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,t.wrapMode),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,t.wrapMode)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,t.wrapMode.s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,t.wrapMode.t))}},{key:"_applyAnisotropicFilteringParameters",value:function(e,t){if(null!=t.maxAnisotropy){var n=e.capabilities.textureFilterAnisotropic;if(n){var r=e.gl;r.texParameterf(r.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy)}}}}]),e}(),u=0;t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return J})),n.d(t,"e",(function(){return V})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return P})),n.d(t,"k",(function(){return R})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return k})),n.d(t,"o",(function(){return H})),n.d(t,"p",(function(){return K})),n.d(t,"q",(function(){return U})),n.d(t,"r",(function(){return I})),n.d(t,"s",(function(){return N})),n.d(t,"t",(function(){return M})),n.d(t,"u",(function(){return m})),n.d(t,"v",(function(){return S})),n.d(t,"w",(function(){return W})),n.d(t,"x",(function(){return X})),n.d(t,"y",(function(){return B})),n.d(t,"z",(function(){return D})),n.d(t,"A",(function(){return F})),n.d(t,"B",(function(){return C})),n.d(t,"C",(function(){return g})),n.d(t,"D",(function(){return E})),n.d(t,"E",(function(){return Y})),n.d(t,"F",(function(){return Q})),n.d(t,"G",(function(){return G})),n.d(t,"H",(function(){return L})),n.d(t,"I",(function(){return z})),n.d(t,"J",(function(){return A}));var r=n(2),i=n(3),a=n(5),o=n(6),s=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;Object(r.a)(this,e),this.TypedArrayConstructor=t,this.elementCount=9;var s=this.TypedArrayConstructor;void 0===a&&(a=9*s.BYTES_PER_ELEMENT);var c=0===n.byteLength?0:i;this.typedBuffer=null==o?new s(n,c):new s(n,c,(o-i)/s.BYTES_PER_ELEMENT),this.typedBufferStride=a/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return Object(i.a)(e,[{key:"getMat",value:function(e,t){for(var n=e*this.typedBufferStride,r=0;r<9;r++)t[r]=this.typedBuffer[n+r];return t}},{key:"setMat",value:function(e,t){for(var n=e*this.typedBufferStride,r=0;r<9;r++)this.typedBuffer[n+r]=t[r]}},{key:"get",value:function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}},{key:"set",value:function(e,t,n){this.typedBuffer[e*this.typedBufferStride+t]=n}},{key:"copyFrom",value:function(e,t,n){for(var r=this.typedBuffer,i=t.typedBuffer,a=e*this.typedBufferStride,o=n*t.typedBufferStride,s=0;s<9;++s)r[a+s]=i[o+s]}},{key:"buffer",get:function(){return this.typedBuffer.buffer}}]),e}();s.ElementCount=9;var c=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;Object(r.a)(this,e),this.TypedArrayConstructor=t,this.elementCount=16;var s=this.TypedArrayConstructor;void 0===a&&(a=16*s.BYTES_PER_ELEMENT);var c=0===n.byteLength?0:i;this.typedBuffer=null==o?new s(n,c):new s(n,c,(o-i)/s.BYTES_PER_ELEMENT),this.typedBufferStride=a/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return Object(i.a)(e,[{key:"getMat",value:function(e,t){for(var n=e*this.typedBufferStride,r=0;r<16;r++)t[r]=this.typedBuffer[n+r];return t}},{key:"setMat",value:function(e,t){for(var n=e*this.typedBufferStride,r=0;r<16;r++)this.typedBuffer[n+r]=t[r]}},{key:"get",value:function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}},{key:"set",value:function(e,t,n){this.typedBuffer[e*this.typedBufferStride+t]=n}},{key:"copyFrom",value:function(e,t,n){for(var r=this.typedBuffer,i=t.typedBuffer,a=e*this.typedBufferStride,o=n*t.typedBufferStride,s=0;s<16;++s)r[a+s]=i[o+s]}},{key:"buffer",get:function(){return this.typedBuffer.buffer}}]),e}();c.ElementCount=16;var u=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;Object(r.a)(this,e),this.TypedArrayConstructor=t,this.elementCount=1;var s=this.TypedArrayConstructor;void 0===a&&(a=s.BYTES_PER_ELEMENT);var c=0===n.byteLength?0:i;this.typedBuffer=null==o?new s(n,c):new s(n,c,(o-i)/s.BYTES_PER_ELEMENT),this.typedBufferStride=a/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return Object(i.a)(e,[{key:"get",value:function(e){return this.typedBuffer[e*this.typedBufferStride]}},{key:"set",value:function(e,t){this.typedBuffer[e*this.typedBufferStride]=t}},{key:"buffer",get:function(){return this.typedBuffer.buffer}}]),e}();u.ElementCount=1;var l=n(53),h=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;Object(r.a)(this,e),this.TypedArrayConstructor=t,this.elementCount=2;var s=this.TypedArrayConstructor;void 0===a&&(a=2*s.BYTES_PER_ELEMENT);var c=0===n.byteLength?0:i;this.typedBuffer=null==o?new s(n,c):new s(n,c,(o-i)/s.BYTES_PER_ELEMENT),this.typedBufferStride=a/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return Object(i.a)(e,[{key:"getVec",value:function(e,t){return Object(l.r)(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1])}},{key:"setVec",value:function(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1]}},{key:"get",value:function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}},{key:"set",value:function(e,t,n){this.typedBuffer[e*this.typedBufferStride+t]=n}},{key:"setValues",value:function(e,t,n){this.typedBuffer[e*this.typedBufferStride]=t,this.typedBuffer[e*this.typedBufferStride+1]=n}},{key:"copyFrom",value:function(e,t,n){var r=this.typedBuffer,i=t.typedBuffer,a=e*this.typedBufferStride,o=n*t.typedBufferStride;r[a]=i[o],r[a+1]=i[o+1]}},{key:"buffer",get:function(){return this.typedBuffer.buffer}}]),e}();h.ElementCount=2;var f=n(9),d=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;Object(r.a)(this,e),this.TypedArrayConstructor=t,this.elementCount=3;var s=this.TypedArrayConstructor;void 0===a&&(a=3*s.BYTES_PER_ELEMENT);var c=0===n.byteLength?0:i;this.typedBuffer=null==o?new s(n,c):new s(n,c,(o-i)/s.BYTES_PER_ELEMENT),this.typedBufferStride=a/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return Object(i.a)(e,[{key:"getVec",value:function(e,t){return Object(f.t)(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1],this.typedBuffer[e*this.typedBufferStride+2])}},{key:"setVec",value:function(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1],this.typedBuffer[e*this.typedBufferStride+2]=t[2]}},{key:"get",value:function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}},{key:"set",value:function(e,t,n){this.typedBuffer[e*this.typedBufferStride+t]=n}},{key:"setValues",value:function(e,t,n,r){this.typedBuffer[e*this.typedBufferStride]=t,this.typedBuffer[e*this.typedBufferStride+1]=n,this.typedBuffer[e*this.typedBufferStride+2]=r}},{key:"copyFrom",value:function(e,t,n){var r=this.typedBuffer,i=t.typedBuffer,a=e*this.typedBufferStride,o=n*t.typedBufferStride;r[a]=i[o],r[a+1]=i[o+1],r[a+2]=i[o+2]}},{key:"buffer",get:function(){return this.typedBuffer.buffer}}]),e}();d.ElementCount=3;var p=n(90),b=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;Object(r.a)(this,e),this.TypedArrayConstructor=t,this.elementCount=4;var s=this.TypedArrayConstructor;void 0===a&&(a=4*s.BYTES_PER_ELEMENT);var c=0===n.byteLength?0:i;this.typedBuffer=null==o?new s(n,c):new s(n,c,(o-i)/s.BYTES_PER_ELEMENT),this.typedBufferStride=a/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return Object(i.a)(e,[{key:"getVec",value:function(e,t){return Object(p.l)(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1],this.typedBuffer[e*this.typedBufferStride+2],this.typedBuffer[e*this.typedBufferStride+3])}},{key:"setVec",value:function(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1],this.typedBuffer[e*this.typedBufferStride+2]=t[2],this.typedBuffer[e*this.typedBufferStride+3]=t[3]}},{key:"get",value:function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}},{key:"set",value:function(e,t,n){this.typedBuffer[e*this.typedBufferStride+t]=n}},{key:"setValues",value:function(e,t,n,r,i){this.typedBuffer[e*this.typedBufferStride]=t,this.typedBuffer[e*this.typedBufferStride+1]=n,this.typedBuffer[e*this.typedBufferStride+2]=r,this.typedBuffer[e*this.typedBufferStride+3]=i}},{key:"copyFrom",value:function(e,t,n){var r=this.typedBuffer,i=t.typedBuffer,a=e*this.typedBufferStride,o=n*t.typedBufferStride;r[a]=i[o],r[a+1]=i[o+1],r[a+2]=i[o+2],r[a+3]=i[o+3]}},{key:"buffer",get:function(){return this.typedBuffer.buffer}}]),e}();b.ElementCount=4;var v=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Float32Array,e,a,o,s)).elementType="f32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(u);v.ElementType="f32";var y=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Float32Array,e,a,o,s)).elementType="f32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(h);y.ElementType="f32";var m=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Float32Array,e,a,o,s)).elementType="f32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(d);m.ElementType="f32";var g=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Float32Array,e,a,o,s)).elementType="f32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(b);g.ElementType="f32";var O=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Float32Array,e,a,o,s)).elementType="f32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(s);O.ElementType="f32";var j=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Float64Array,e,a,o,s)).elementType="f64",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(s);j.ElementType="f64";var w=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Float32Array,e,a,o,s)).elementType="f32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(c);w.ElementType="f32";var _=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Float64Array,e,a,o,s)).elementType="f64",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(c);_.ElementType="f64";var x=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Float64Array,e,a,o,s)).elementType="f64",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(u);x.ElementType="f64";var k=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Float64Array,e,a,o,s)).elementType="f64",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(h);k.ElementType="f64";var S=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Float64Array,e,a,o,s)).elementType="f64",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(d);S.ElementType="f64";var E=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Float64Array,e,a,o,s)).elementType="f64",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(b);E.ElementType="f64";var T=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Uint8Array,e,a,o,s)).elementType="u8",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(u);T.ElementType="u8";var M=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Uint8Array,e,a,o,s)).elementType="u8",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(h);M.ElementType="u8";var C=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Uint8Array,e,a,o,s)).elementType="u8",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(d);C.ElementType="u8";var A=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Uint8Array,e,a,o,s)).elementType="u8",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(b);A.ElementType="u8";var P=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Uint16Array,e,a,o,s)).elementType="u16",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(u);P.ElementType="u16";var I=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Uint16Array,e,a,o,s)).elementType="u16",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(h);I.ElementType="u16";var D=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Uint16Array,e,a,o,s)).elementType="u16",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(d);D.ElementType="u16";var L=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Uint16Array,e,a,o,s)).elementType="u16",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(b);L.ElementType="u16";var R=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Uint32Array,e,a,o,s)).elementType="u32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(u);R.ElementType="u32";var N=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Uint32Array,e,a,o,s)).elementType="u32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(h);N.ElementType="u32";var F=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Uint32Array,e,a,o,s)).elementType="u32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(d);F.ElementType="u32";var z=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Uint32Array,e,a,o,s)).elementType="u32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(b);z.ElementType="u32";var V=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Int8Array,e,a,o,s)).elementType="i8",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(u);V.ElementType="i8";var U=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Int8Array,e,a,o,s)).elementType="i8",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(h);U.ElementType="i8";var B=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Int8Array,e,a,o,s)).elementType="i8",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(d);B.ElementType="i8";var G=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Int8Array,e,a,o,s)).elementType="i8",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(b);G.ElementType="i8";var q=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Int16Array,e,a,o,s)).elementType="i16",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(u);q.ElementType="i16";var H=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Int16Array,e,a,o,s)).elementType="i16",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(h);H.ElementType="i16";var W=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Int16Array,e,a,o,s)).elementType="i16",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(d);W.ElementType="i16";var Y=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Int16Array,e,a,o,s)).elementType="i16",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(b);Y.ElementType="i16";var J=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Int32Array,e,a,o,s)).elementType="i32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(u);J.ElementType="i32";var K=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Int32Array,e,a,o,s)).elementType="i32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(h);K.ElementType="i32";var X=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Int32Array,e,a,o,s)).elementType="i32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(d);X.ElementType="i32";var Q=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(r.a)(this,n),(i=t.call(this,Int32Array,e,a,o,s)).elementType="i32",i}return Object(i.a)(n,null,[{key:"fromTypedArray",value:function(e,t){return new n(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}]),n}(b);Q.ElementType="i32"},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return L}));var r,i,a,o,s,c=n(13),u=n(2),l=n(3),h=n(5),f=n(6),d=n(15),p=n(17),b=n(84),v=null;function y(){return!!v}function m(){return!!Object(d.a)("esri-wasm")}function g(){return r||(r=Object(p.c)((function(e,t){Promise.all([n.e(91),n.e(58)]).then(n.bind(null,965)).then((function(e){return e.p})).then((function(n){(0,n.default)({locateFile:function(e){return Object(b.a)("esri/geometry/support/".concat(e))},onAbort:function(e){t(new Error(e))}}).then((function(t){C(t),e()}))}))})))}!function(e){function t(e,t,n){v.ensureCache.prepare();var r=I(n),i=n===r,a=v.ensureFloat64(r),o=v._pe_geog_to_proj(v.getPointer(e),t,a);return o&&D(n,t,a,i),o}function n(e,t,n){return r(e,t,n,0)}function r(e,t,n,r){v.ensureCache.prepare();var i=I(n),a=n===i,o=v.ensureFloat64(i),s=v._pe_proj_to_geog_center(v.getPointer(e),t,o,r);return s&&D(n,t,o,a),s}e.geogToProj=t,e.projGeog=function(e,r,i,o){switch(o){case a.PE_TRANSFORM_P_TO_G:return n(e,r,i);case a.PE_TRANSFORM_G_TO_P:return t(e,r,i)}return 0},e.projToGeog=n,e.projToGeogCenter=r}(i||(i={})),(s=a||(a={})).init=function(){s.PE_BUFFER_MAX=v.PeDefs.prototype.PE_BUFFER_MAX,s.PE_NAME_MAX=v.PeDefs.prototype.PE_NAME_MAX,s.PE_MGRS_MAX=v.PeDefs.prototype.PE_MGRS_MAX,s.PE_USNG_MAX=v.PeDefs.prototype.PE_USNG_MAX,s.PE_DD_MAX=v.PeDefs.prototype.PE_DD_MAX,s.PE_DDM_MAX=v.PeDefs.prototype.PE_DDM_MAX,s.PE_DMS_MAX=v.PeDefs.prototype.PE_DMS_MAX,s.PE_UTM_MAX=v.PeDefs.prototype.PE_UTM_MAX,s.PE_PARM_MAX=v.PeDefs.prototype.PE_PARM_MAX,s.PE_TYPE_NONE=v.PeDefs.prototype.PE_TYPE_NONE,s.PE_TYPE_GEOGCS=v.PeDefs.prototype.PE_TYPE_GEOGCS,s.PE_TYPE_PROJCS=v.PeDefs.prototype.PE_TYPE_PROJCS,s.PE_TYPE_GEOGTRAN=v.PeDefs.prototype.PE_TYPE_GEOGTRAN,s.PE_TYPE_COORDSYS=v.PeDefs.prototype.PE_TYPE_COORDSYS,s.PE_TYPE_UNIT=v.PeDefs.prototype.PE_TYPE_UNIT,s.PE_STR_OPTS_NONE=v.PeDefs.prototype.PE_STR_OPTS_NONE,s.PE_STR_AUTH_NONE=v.PeDefs.prototype.PE_STR_AUTH_NONE,s.PE_STR_AUTH_TOP=v.PeDefs.prototype.PE_STR_AUTH_TOP,s.PE_STR_NAME_CANON=v.PeDefs.prototype.PE_STR_NAME_CANON,s.PE_PARM_X0=v.PeDefs.prototype.PE_PARM_X0,s.PE_PARM_ND=v.PeDefs.prototype.PE_PARM_ND,s.PE_TRANSFORM_1_TO_2=v.PeDefs.prototype.PE_TRANSFORM_1_TO_2,s.PE_TRANSFORM_2_TO_1=v.PeDefs.prototype.PE_TRANSFORM_2_TO_1,s.PE_TRANSFORM_P_TO_G=v.PeDefs.prototype.PE_TRANSFORM_P_TO_G,s.PE_TRANSFORM_G_TO_P=v.PeDefs.prototype.PE_TRANSFORM_G_TO_P,s.PE_HORIZON_RECT=v.PeDefs.prototype.PE_HORIZON_RECT,s.PE_HORIZON_POLY=v.PeDefs.prototype.PE_HORIZON_POLY,s.PE_HORIZON_LINE=v.PeDefs.prototype.PE_HORIZON_LINE,s.PE_HORIZON_DELTA=v.PeDefs.prototype.PE_HORIZON_DELTA},function(e){var t={},n={};function r(e,n){var r=null,a=t[e];if(a||(a={},t[e]=a),a.hasOwnProperty(String(n)))r=a[n];else{var o=v.PeFactory.prototype.factoryByType(e,n);v.compare(o,v.NULL)||(r=o,a[n]=r)}return r=i(r)}function i(e){if(e){var t=e.getType();switch(t){case a.PE_TYPE_GEOGCS:e=v.castObject(e,v.PeGeogcs);break;case a.PE_TYPE_PROJCS:e=v.castObject(e,v.PeProjcs);break;case a.PE_TYPE_GEOGTRAN:e=v.castObject(e,v.PeGeogtran);break;default:t&a.PE_TYPE_UNIT&&(e=v.castObject(e,v.PeUnit))}}return e}e.initialize=function(){v.PeFactory.prototype.initialize(null)},e.coordsys=function(e){return r(a.PE_TYPE_COORDSYS,e)},e.factoryByType=r,e.fromString=function(e,t){var r=null,a=n[e];if(a||(a={},n[e]=a),a.hasOwnProperty(t))r=a[t];else{var o=v.PeFactory.prototype.fromString(e,t);v.compare(o,v.NULL)||(r=o,a[t]=r)}return r=i(r)},e.geogcs=function(e){return r(a.PE_TYPE_GEOGCS,e)},e.geogtran=function(e){return r(a.PE_TYPE_GEOGTRAN,e)},e.getCode=function(e){return v.PeFactory.prototype.getCode(e)},e.projcs=function(e){return r(a.PE_TYPE_PROJCS,e)},e.unit=function(e){return r(a.PE_TYPE_UNIT,e)}}(o||(o={}));var O,j,w,_,x,k,S,E,T,M=null;function C(e){function t(e,t,n){e[t]=n(e[t])}v=e,a.init(),O.init(),x.init(),S.init(),E.init(),M=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"destroy",value:function(){v.destroy(this)}}]),n}(v.PeGCSExtent);for(var n=0,r=[v.PeDatum,v.PeGeogcs,v.PeGeogtran,v.PeObject,v.PeParameter,v.PePrimem,v.PeProjcs,v.PeSpheroid,v.PeUnit];n<r.length;n++){t(r[n].prototype,"getName",(function(e){return function(){return e.call(this,new Array(a.PE_NAME_MAX))}}))}for(var i=0,o=[v.PeGeogtran,v.PeProjcs];i<o.length;i++){t(o[i].prototype,"getParameters",(function(e){return function(){for(var t=new Array(a.PE_PARM_MAX),n=e.call(this),r=0;r<t.length;r++){var i=v.getValue(n,"*");t[r]=i?v.wrapPointer(i,v.PeParameter):null,n+=Int32Array.BYTES_PER_ELEMENT}return t}}))}t(v.PeHorizon.prototype,"getCoord",(function(e){return function(){var t=this.getSize();if(!t)return null;var n=[];return D(n,t,e.call(this)),n}})),t(v.PeGTlistExtendedEntry.prototype,"getEntries",(function(e){var t=v._pe_getPeGTlistExtendedGTsSize();return function(){var n=null,r=e.call(this);if(!v.compare(r,v.NULL)){n=[r];var i=this.getSteps();if(i>1)for(var a=v.getPointer(r),o=1;o<i;o++)n.push(v.wrapPointer(a+t*o,v.PeGTlistExtendedGTs))}return n}}));var s=v._pe_getPeHorizonSize(),c=function(e){return function(){var t=this._cache;if(t||(t=new Map,this._cache=t),t.has(e))return t.get(e);var n=null,r=e.call(this);if(!v.compare(r,v.NULL)){n=[r];var i=r.getNump();if(i>1)for(var a=v.getPointer(r),o=1;o<i;o++)n.push(v.wrapPointer(a+s*o,v.PeHorizon))}return t.set(e,n),n}};t(v.PeProjcs.prototype,"horizonGcsGenerate",c),t(v.PeProjcs.prototype,"horizonPcsGenerate",c),v.PeObject.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.PE_STR_OPTS_NONE;v.ensureCache.prepare();var t=v.getPointer(this),n=v.ensureInt8(new Array(a.PE_BUFFER_MAX));return v.UTF8ToString(v._pe_object_to_string_ext(t,e,n))}}function A(e){if(e){var t=v.getClass(e);if(t){var n=v.getCache(t);if(n){var r=v.getPointer(e);r&&delete n[r]}}}}function P(e,t){for(var n=[],r=new Array(t),i=0;i<e;i++)n.push(v.ensureInt8(r));return n}function I(e){var t;return Array.isArray(e[0])?(t=[],e.forEach((function(e){t.push(e[0],e[1])}))):t=e,t}function D(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r)for(var i=0;i<2*t;i++)e[i]=v.getValue(n+i*Float64Array.BYTES_PER_ELEMENT,"double");else for(var a=0===e.length,o=0;o<t;o++)a&&(e[o]=new Array(2)),e[o][0]=v.getValue(n,"double"),e[o][1]=v.getValue(n+Float64Array.BYTES_PER_ELEMENT,"double"),n+=2*Float64Array.BYTES_PER_ELEMENT}!function(e){var t;e.init=function(){e.PE_GTLIST_OPTS_COMMON=v.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=v._pe_getPeGTlistExtendedEntrySize()},e.getGTlist=function(e,n,r,i,a,o){var s=null,c=new v.PeInteger(o);try{var u=v.PeGTlistExtended.prototype.getGTlist(e,n,r,i,a,c);if((o=c.val)&&(s=[u],o>1))for(var l=v.getPointer(u),h=1;h<o;h++)s.push(v.wrapPointer(l+t*h,v.PeGTlistExtendedEntry))}finally{v.destroy(c)}return s}}(O||(O={})),function(e){e.destroy=function(e){if(e&&e.length){var t,n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;A(r),r.getEntries().forEach((function(e){A(e);var t=e.getGeogtran();A(t),t.getParameters().forEach(A),[t.getGeogcs1(),t.getGeogcs2()].forEach((function(e){A(e);var t=e.getDatum();A(t),A(t.getSpheroid()),A(e.getPrimem()),A(e.getUnit())}))}))}}catch(i){n.e(i)}finally{n.f()}v.PeGTlistExtendedEntry.prototype.Delete(e[0])}}}(j||(j={})),function(e){e.geogToGeog=function(e,t,n,r,i){v.ensureCache.prepare();var a=I(n),o=n===a,s=v.ensureFloat64(a),c=0;r&&(c=v.ensureFloat64(r));var u=v._pe_geog_to_geog(v.getPointer(e),t,s,c,i);return u&&D(n,t,s,o),u}}(w||(w={})),function(e){function t(e,t,n,r,i,o){var s,c;switch(v.ensureCache.prepare(),e){case"dd":s=v._pe_geog_to_dd,c=a.PE_DD_MAX;break;case"ddm":s=v._pe_geog_to_ddm,c=a.PE_DDM_MAX;break;case"dms":s=v._pe_geog_to_dms,c=a.PE_DMS_MAX}var u=0;t&&(u=v.getPointer(t));var l=I(r),h=v.ensureFloat64(l),f=P(n,c),d=s(u,n,h,i,v.ensureInt32(f));if(d)for(var p=0;p<n;p++)o[p]=v.UTF8ToString(f[p]);return d}function n(e,t,n,r,i){var a;switch(v.ensureCache.prepare(),e){case"dd":a=v._pe_dd_to_geog;break;case"ddm":a=v._pe_ddm_to_geog;break;case"dms":a=v._pe_dms_to_geog}var o=0;t&&(o=v.getPointer(t));var s=r.map((function(e){return v.ensureString(e)})),c=v.ensureInt32(s),u=v.ensureFloat64(new Array(2*n)),l=a(o,n,c,u);return l&&D(i,n,u),l}e.geog_to_dms=function(e,n,r,i,a){return t("dms",e,n,r,i,a)},e.dms_to_geog=function(e,t,r,i){return n("dms",e,t,r,i)},e.geog_to_ddm=function(e,n,r,i,a){return t("ddm",e,n,r,i,a)},e.ddm_to_geog=function(e,t,r,i){return n("ddm",e,t,r,i)},e.geog_to_dd=function(e,n,r,i,a){return t("dd",e,n,r,i,a)},e.dd_to_geog=function(e,t,r,i){return n("dd",e,t,r,i)}}(_||(_={})),function(e){e.init=function(){e.PE_MGRS_STYLE_NEW=v.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=v.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=v.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=v.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=v.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},e.geog_to_mgrs_extended=function(e,t,n,r,i,o,s){v.ensureCache.prepare();var c=0;e&&(c=v.getPointer(e));var u=I(n),l=v.ensureFloat64(u),h=P(t,a.PE_MGRS_MAX),f=v.ensureInt32(h),d=v._pe_geog_to_mgrs_extended(c,t,l,r,i,o,f);if(d)for(var p=0;p<t;p++)s[p]=v.UTF8ToString(h[p]);return d},e.mgrs_to_geog_extended=function(e,t,n,r,i){v.ensureCache.prepare();var a=0;e&&(a=v.getPointer(e));var o=n.map((function(e){return v.ensureString(e)})),s=v.ensureInt32(o),c=v.ensureFloat64(new Array(2*t)),u=v._pe_mgrs_to_geog_extended(a,t,s,r,c);return u&&D(i,t,c),u}}(x||(x={})),function(e){e.geog_to_usng=function(e,t,n,r,i,o,s){v.ensureCache.prepare();var c=0;e&&(c=v.getPointer(e));var u=I(n),l=v.ensureFloat64(u),h=P(t,a.PE_MGRS_MAX),f=v.ensureInt32(h),d=v._pe_geog_to_usng(c,t,l,r,i,o,f);if(d)for(var p=0;p<t;p++)s[p]=v.UTF8ToString(h[p]);return d},e.usng_to_geog=function(e,t,n,r){v.ensureCache.prepare();var i=0;e&&(i=v.getPointer(e));var a=n.map((function(e){return v.ensureString(e)})),o=v.ensureInt32(a),s=v.ensureFloat64(new Array(2*t)),c=v._pe_usng_to_geog(i,t,o,s);return c&&D(r,t,s),c}}(k||(k={})),function(e){e.init=function(){e.PE_UTM_OPTS_NONE=v.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=v.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=v.PeNotationUtm.prototype.PE_UTM_OPTS_NS},e.geog_to_utm=function(e,t,n,r,i){v.ensureCache.prepare();var o=0;e&&(o=v.getPointer(e));var s=I(n),c=v.ensureFloat64(s),u=P(t,a.PE_UTM_MAX),l=v.ensureInt32(u),h=v._pe_geog_to_utm(o,t,c,r,l);if(h)for(var f=0;f<t;f++)i[f]=v.UTF8ToString(u[f]);return h},e.utm_to_geog=function(e,t,n,r,i){v.ensureCache.prepare();var a=0;e&&(a=v.getPointer(e));var o=n.map((function(e){return v.ensureString(e)})),s=v.ensureInt32(o),c=v.ensureFloat64(new Array(2*t)),u=v._pe_utm_to_geog(a,t,s,r,c);return u&&D(i,t,c),u}}(S||(S={})),function(e){var t=new Map;e.init=function(){e.PE_PCSINFO_OPTION_NONE=v.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=v.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=v.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=v.PePCSInfo.prototype.PE_POLE_POINT},e.generate=function(n){var r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.PE_PCSINFO_OPTION_DOMAIN;return t.has(n)&&((i=t.get(n))[a]&&(r=i[a])),r||(r=v.PePCSInfo.prototype.generate(n,a),i||(i=[],t.set(n,i)),i[a]=r),r}}(E||(E={})),function(e){e.version_string=function(){return v.PeVersion.prototype.version_string()}}(T||(T={}));var L=Object.freeze({__proto__:null,get _pe(){return v},isLoaded:y,isSupported:m,load:g,get PeCSTransformations(){return i},get PeDefs(){return a},get PeFactory(){return o},get PeGCSExtent(){return M},get PeGTlistExtended(){return O},get PeGTlistExtendedEntry(){return j},get PeGTTransformations(){return w},get PeNotationDms(){return _},get PeNotationMgrs(){return x},get PeNotationUsng(){return k},get PeNotationUtm(){return S},get PePCSInfo(){return E},get PeVersion(){return T},_init:C})},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return o})),n.d(t,"n",(function(){return a})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return s}));n(15);var r=n(74);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return[e[0],e[1],e[2],e[3]]}function a(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i();return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i();return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function s(e,t){return new r.a({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function c(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if("length"in t)j(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax);break;case"point":n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}return n}function l(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=t.length,i=e[0],a=e[1],o=e[2],s=e[3],c=0;c<r;c++){var u=t[c];i=Math.min(i,u[0]),a=Math.min(a,u[1]),o=Math.max(o,u[0]),s=Math.max(s,u[1])}return n[0]=i,n[1]=a,n[2]=o,n[3]=s,n}function h(e){return e[0]>=e[2]?0:e[2]-e[0]}function f(e){return e[1]>=e[3]?0:e[3]-e[1]}function d(e){return h(e)*f(e)}function p(e,t){return v(e,t[0],t[1])}function b(e,t){return v(e,t.x,t.y)}function v(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function y(e,t,n){return t[0]>=e[0]-n&&t[1]>=e[1]-n&&t[0]<=e[2]+n&&t[1]<=e[3]+n}function m(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function g(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function O(e){return e?g(e,w):i(w)}function j(e){return 4===e.length}var w=[1/0,1/0,-1/0,-1/0],_=[0,0,0,0]},function(e,t,n){"use strict";function r(){return[0,0,0,0]}function i(e){return[e[0],e[1],e[2],e[3]]}function a(e,t,n,r){return[e,t,n,r]}function o(e){for(var t=[0,0,0,0],n=Math.min(4,e.length),r=0;r<n;++r)t[r]=e[r];return t}function s(e,t){return new Float64Array(e,t,4)}function c(){return a(1,1,1,1)}function u(){return a(1,0,0,0)}function l(){return a(0,1,0,0)}function h(){return a(0,0,1,0)}function f(){return a(0,0,0,1)}n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o}));var d=[0,0,0,0],p=c(),b=u(),v=l(),y=h(),m=f();Object.freeze({__proto__:null,create:r,clone:i,fromValues:a,fromArray:o,createView:s,zeros:function(){return[0,0,0,0]},ones:c,unitX:u,unitY:l,unitZ:h,unitW:f,ZEROS:d,ONES:p,UNIT_X:b,UNIT_Y:v,UNIT_Z:y,UNIT_W:m})},function(e,t,n){"use strict";function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function a(e,t){return new Float64Array(e,t,16)}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze({__proto__:null,create:r,clone:i,fromValues:function(e,t,n,r,i,a,o,s,c,u,l,h,f,d,p,b){return[e,t,n,r,i,a,o,s,c,u,l,h,f,d,p,b]},createView:a,IDENTITY:o})},function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return I})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return C})),n.d(t,"i",(function(){return S}));var r=n(5),i=n(6),a=n(2),o=n(3),s=n(23),c=n(4),u=n(154),l=n(54),h=n(56),f=n(191),d=n(137),p=n(119),b=n(127),v=(n(99),n(24)),y=n(9),m=n(70),g=n(292),O=n(494),j=n(518),w=n(453),_=n(188),x=n(454);function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(c.h)(n)?[e,t,n]:[e,t]}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(c.h)(n)?{x:e,y:t,z:n}:{x:e,y:t}}var E=function(){function e(t){Object(a.a)(this,e),this.spatialReference=t}return Object(o.a)(e,[{key:"mapToLocalMultiple",value:function(e){var t=this;return e.map((function(e){return t.mapToLocal(e)}))}},{key:"doUnnormalization",get:function(){return!1}}]),e}(),T=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(a.a)(this,n),(i=t.call(this,r)).defaultZ=o,i.transform=Object(x.b)(),i.transformInv=Object(x.b)(),i.transform=Object(x.a)(e),Object(_.a)(i.transformInv,i.transform),i}return Object(o.a)(n,[{key:"makeMapPoint",value:function(e,t){return k(e,t,this.defaultZ)}},{key:"mapToLocal",value:function(e){return S(this.transform[0]*e[0]+this.transform[2]*e[1]+this.transform[4],this.transform[1]*e[0]+this.transform[3]*e[1]+this.transform[5])}},{key:"localToMap",value:function(e){return k(this.transformInv[0]*e.x+this.transformInv[2]*e.y+this.transformInv[4],this.transformInv[1]*e.x+this.transformInv[3]*e.y+this.transformInv[5],this.defaultZ)}}]),n}(E),M=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r){var i;Object(a.a)(this,n),(i=t.call(this,e.spatialReference)).view=e,i.defaultZ=null,i.pWS=Object(v.e)(),i.tangentFrameUpWS=Object(v.e)(),i.tangentFrameRightWS=Object(v.e)(),i.tangentFrameForwardWS=Object(v.e)(),i.localFrameRightWS=Object(v.e)(),i.localFrameUpWS=Object(v.e)(),i.worldToLocalTransform=Object(g.a)(),i.localToWorldTransform=Object(g.a)(),i.scale=1,i.scale=e.resolution,i.referenceMapPoint=r,i.defaultZ=r.hasZ?r.z:null;var o=e.state.camera.viewRight;i.view.renderCoordsHelper.toRenderCoords(i.referenceMapPoint,i.pWS),i.view.renderCoordsHelper.worldBasisAtPosition(i.pWS,0,i.tangentFrameRightWS),i.view.renderCoordsHelper.worldBasisAtPosition(i.pWS,1,i.tangentFrameUpWS),i.view.renderCoordsHelper.worldBasisAtPosition(i.pWS,2,i.tangentFrameForwardWS);var s=Object(v.e)();return Object(y.b)(s,i.tangentFrameForwardWS,Object(y.e)(o,i.tangentFrameForwardWS)),Object(y.g)(i.localFrameRightWS,o,s),Object(y.o)(i.localFrameRightWS,i.localFrameRightWS),Object(y.d)(i.localFrameUpWS,i.tangentFrameForwardWS,i.localFrameRightWS),Object(j.d)(i.worldToLocalTransform,i.localFrameRightWS,i.tangentFrameRightWS),Object(j.c)(i.localToWorldTransform,i.worldToLocalTransform),i}return Object(o.a)(n,[{key:"doUnnormalization",get:function(){return"global"===this.view.viewingMode}},{key:"makeMapPoint",value:function(e,t){return k(e,t,this.defaultZ)}},{key:"mapToLocal",value:function(e){var t=Object(v.e)();this.view.renderCoordsHelper.toRenderCoords(new h.a({x:e[0],y:e[1],spatialReference:this.spatialReference}),t),Object(y.r)(t,t,this.worldToLocalTransform);var n=this.view.renderCoordsHelper.fromRenderCoords(t,this.view.spatialReference);return S(n.x/this.scale,n.y/this.scale)}},{key:"localToMap",value:function(e){var t=Object(v.e)();this.view.renderCoordsHelper.toRenderCoords(new h.a({x:e.x*this.scale,y:e.y*this.scale,spatialReference:this.spatialReference}),t),Object(y.r)(t,t,this.localToWorldTransform);var n=this.view.renderCoordsHelper.fromRenderCoords(t,this.view.spatialReference);return k(n.x,n.y,this.defaultZ)}}]),n}(E);function C(e,t){if("2d"===e.type)return new T(e.state.transform,e.spatialReference,t.length>2?t[2]:null);if("3d"===e.type){var n=t.length>2?new h.a({x:t[0],y:t[1],z:t[2],spatialReference:e.spatialReference}):new h.a({x:t[0],y:t[1],spatialReference:e.spatialReference});return new M(e,n)}return null}function A(e,t){var n=new h.a({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(n.z=e[2]),n}function P(e,t){return new f.a({points:e,spatialReference:t})}function I(e,t,n){var r=new b.a({paths:e,spatialReference:t});return n&&Object(d.g)(r),r}function D(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=Object(s.a)(e);i.forEach((function(e){var t=e[0],n=e[e.length-1];Object(u.c)(t,n)&&1!==e.length||e.push(e[0])}));var a=new p.a({rings:i,spatialReference:t});return a.rings.forEach((function(e){Object(d.f)(e,!1,!1)||e.reverse()})),n&&Object(d.g)(a),r&&a.isSelfIntersecting&&Object(l.i)(t)&&(a=Object(w.simplify)(a)),a}function L(e,t,n){var r=t.mapToLocalMultiple(e),i=[],a={x:r[0].x,y:r[0].y},o=r[1].x,s=r[1].y,c=Math.round(o-a.x),u=Math.round(s-a.y),l=Math.max(Math.abs(c),Math.abs(u));if(n){var h={x:a.x+l,y:a.y+l},f={x:a.x-l,y:a.y-l};i.push(S(h.x,f.y),S(f.x,f.y),S(f.x,h.y),S(h.x,h.y))}else{var d={x:c>0?a.x+l:a.x-l,y:u>0?a.y+l:a.y-l};i.push(S(a.x,a.y),S(d.x,a.y),S(d.x,d.y),S(a.x,d.y))}return D([i.map((function(e){return t.localToMap(e)}))],t.spatialReference,t.doUnnormalization,!0)}function R(e,t,n){var r=t.mapToLocalMultiple(e);if(1===r.length){var i=48,a=r[0];r=[S(a.x-i,a.y+i),S(a.x+i,a.y-i),S(a.x+i,a.y-i),S(a.x-i,a.y+i)]}var o=[],s={x:r[0].x,y:r[0].y},c={x:r[1].x,y:r[1].y};if(n){var u=Math.round(c.x-s.x),l=Math.round(c.y-s.y);o.push(S(s.x-u,s.y-l),S(c.x,s.y-l),S(c.x,c.y),S(s.x-u,c.y))}else o.push(S(s.x,s.y),S(c.x,s.y),S(c.x,c.y),S(s.x,c.y));return D([o.map((function(e){return t.localToMap(e)}))],t.spatialReference,t.doUnnormalization,!0)}function N(e,t,n,r){var i=t.mapToLocalMultiple(e),a=null,o=null;if(n)a=i[0],o=i[1];else{var s=i[0],c=i[1],u=Math.round(c.x-s.x),h=Math.round(c.y-s.y),f=Math.max(Math.abs(u),Math.abs(h));a=S(u>0?s.x+f/2:s.x-f/2,h>0?s.y+f/2:s.y-f/2),o=S(Math.abs(u)>Math.abs(h)?a.x-f/2:a.x,Math.abs(u)>Math.abs(h)?a.y:a.y-f/2)}var p=t.localToMap(a),b=t.localToMap(o);t.doUnnormalization&&Object(d.h)([[p,b]],t.spatialReference);var v=A(p,t.spatialReference),y=A(b,t.spatialReference),g=Object(m.b)(t.spatialReference),j=0;if(Object(l.i)(t.spatialReference))j=g*Object(w.distance)(v,y,null);else{var _=a.x-o.x,x=a.y-o.y;j=g*Math.sqrt(_*_+x*x)*(r||1)}var k=new O.a({center:v,radius:j,radiusUnit:"meters",spatialReference:t.spatialReference});return D(k.rings,k.spatialReference,!1)}function F(e,t,n){for(var r=t.mapToLocalMultiple(e),i=r[0],a=r[1],o=Math.round(a.x-i.x),s=Math.round(a.y-i.y),c=S(n?i.x:i.x+o/2,n?i.y:i.y+s/2),u=n?o:o/2,l=n?s:s/2,h=[],f=2*Math.PI/60,d=0;d<60;d++){var p=Math.cos(d*f),b=Math.sin(d*f),v=S(u*p+c.x,l*b+c.y);h.push(v)}return h.push(h[0]),D([h.map((function(e){return t.localToMap(e)}))],t.spatialReference,t.doUnnormalization,!1)}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(8),f=n(35),d=(n(12),n(21),n(22),n(48)),p=n(157),b=n(79),v=n(56),y=n(189),m=n(438),g=n(74),O=n(279),j=n(137),w=n(478),_=n(447);function x(e){return!Array.isArray(e[0])}var k=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).rings=[],e.type="polygon",e}return Object(a.a)(n,[{key:"normalizeCtorArgs",value:function(e,t){var n,r,i,a=null;return e&&!Array.isArray(e)?(a=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),n=e.hasZ,r=e.hasM):a=e,a=a||[],t=t||d.a.WGS84,a.length&&a[0]&&null!=a[0][0]&&"number"==typeof a[0][0]&&(a=[a]),(i=a[0]&&a[0][0])&&(void 0===n&&void 0===r?(n=i.length>2,r=!1):void 0===n?n=!r&&i.length>3:void 0===r&&(r=!n&&i.length>3)),{rings:a,spatialReference:t,hasZ:n,hasM:r}}},{key:"centroid",get:function(){var e=Object(w.a)(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;var t=new v.a;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}},{key:"extent",get:function(){var e=this.spatialReference,t=Object(_.b)(this);if(!t)return null;var n=new g.a(t);return n.spatialReference=e,n}},{key:"isSelfIntersecting",get:function(){return Object(m.b)(this.rings)}},{key:"writeRings",value:function(e,t){t.rings=Object(u.a)(this.rings)}},{key:"addRing",value:function(e){if(e){this.clearCache();var t=this.rings,n=t.length;if(x(e)){for(var r=[],i=0,a=e.length;i<a;i++)r[i]=e[i].toArray();t[n]=r}else t[n]=e.concat();return this}}},{key:"clone",value:function(){var e=new r;return e.spatialReference=this.spatialReference,e.rings=Object(u.a)(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}},{key:"contains",value:function(e){return!!e&&(Object(b.a)(e,this.spatialReference)&&(e=Object(b.d)(e,this.spatialReference)),Object(y.g)(this,e))}},{key:"isClockwise",value:function(e){var t,n=this;return t=x(e)?e.map((function(e){return n.hasZ?n.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y]})):e,Object(j.f)(t,this.hasM,this.hasZ)}},{key:"getPoint",value:function(e,t){if(!this._validateInputs(e,t))return null;var n=this.rings[e][t],r=this.hasZ,i=this.hasM;return r&&!i?new v.a(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new v.a(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new v.a(n[0],n[1],n[2],n[3],this.spatialReference):new v.a(n[0],n[1],this.spatialReference)}},{key:"insertPoint",value:function(e,t,n){return this._validateInputs(e,t,!0)?(this.clearCache(),Object(O.a)(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e].splice(t,0,n),this):this}},{key:"removePoint",value:function(e,t){return this._validateInputs(e,t)?(this.clearCache(),new v.a(this.rings[e].splice(t,1)[0],this.spatialReference)):null}},{key:"removeRing",value:function(e){if(!this._validateInputs(e,null))return null;this.clearCache();var t=this.rings.splice(e,1)[0],n=this.spatialReference;return t.map((function(e){return new v.a(e,n)}))}},{key:"setPoint",value:function(e,t,n){return this._validateInputs(e,t)?(this.clearCache(),Object(O.a)(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e][t]=n,this):this}},{key:"_validateInputs",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||e<0||e>=this.rings.length)return!1;if(null!=t){var r=this.rings[e];if(n&&(t<0||t>r.length))return!1;if(!n&&(t<0||t>=r.length))return!1}return!0}},{key:"toJSON",value:function(e){return this.write(null,e)}}],[{key:"fromExtent",value:function(e){var t=e.clone().normalize(),n=e.spatialReference,i=!1,a=!1;t.map((function(e){e.hasZ&&(i=!0),e.hasM&&(a=!0)}));var o={rings:t.map((function(e){var t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(i&&e.hasZ)for(var n=e.zmin+.5*(e.zmax-e.zmin),r=0;r<t.length;r++)t[r].push(n);if(a&&e.hasM)for(var o=e.mmin+.5*(e.mmax-e.mmin),s=0;s<t.length;s++)t[s].push(o);return t})),spatialReference:n};return i&&(o.hasZ=!0),a&&(o.hasM=!0),new r(o)}}]),n}(p.a);Object(c.a)([Object(l.b)({dependsOn:["hasM","hasZ","rings"],autoTracked:!1})],k.prototype,"cache",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],k.prototype,"centroid",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],k.prototype,"extent",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],k.prototype,"isSelfIntersecting",null),Object(c.a)([Object(l.b)({type:[[[Number]]],json:{write:{isRequired:!0}}})],k.prototype,"rings",void 0),Object(c.a)([Object(f.a)("rings")],k.prototype,"writeRings",null),(k=r=Object(c.a)([Object(h.a)("esri.geometry.Polygon")],k)).prototype.toJSON.isDefaultToJSON=!0;var S=k;t.a=S},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s}));var r,i=n(15),a=n(12),o="4.18",s={request:function(e,t){return Promise.resolve().then(n.bind(null,65)).then((function(n){var r=n.default,i=e.options||{};return i.responseType="array-buffer",i.signal=null==t?void 0:t.signal,r(e.url,i)})).then((function(e){return{result:{data:e.data,ssl:e.ssl},transferList:[e.data]}}))}};function c(e){r=e}function u(e){var t=r&&r.findCredential(e);return t&&t.token?Object(a.d)(e,"token",t.token):e}Object(i.a)("host-webworker")||(Object(i.a)("edge")||Object(i.a)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser")},function(e,t,n){"use strict";var r=n(10),i=n(7),a=n.n(i),o=n(16),s=n(13),c=n(2),u=n(3),l=n(5),h=n(6),f=n(0),d=(n(15),n(23)),p=n(106),b=n(4),v=(n(14),n(18)),y=n(1),m=n(34),g=n(8),O=n(20),j=(n(12),n(21),n(22),n(17)),w=n(27),_=n(74),x=n(96),k=n(120),S=n(65),E=(n(153),n(129)),T=n(216),M=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).nextQueryParams=null,r.queryParams=null,r.results=null,r.total=null,r}return n}(n(37).a);Object(f.a)([Object(y.b)()],M.prototype,"nextQueryParams",void 0),Object(f.a)([Object(y.b)()],M.prototype,"queryParams",void 0),Object(f.a)([Object(y.b)()],M.prototype,"results",void 0),Object(f.a)([Object(y.b)()],M.prototype,"total",void 0);var C,A,P=M=Object(f.a)([Object(g.a)("esri.portal.PortalQueryResult")],M),I=n(733),D={PortalGroup:function(){return Promise.resolve().then(n.bind(null,550))},PortalItem:function(){return Promise.resolve().then(n.bind(null,385))},PortalUser:function(){return Promise.resolve().then(n.bind(null,733))}},L=C=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).access=null,n.allSSL=!1,n.authMode="auto",n.authorizedCrossOriginDomains=null,n.basemapGalleryGroupQuery=null,n.bingKey=null,n.canListApps=!1,n.canListData=!1,n.canListPreProvisionedItems=!1,n.canProvisionDirectPurchase=!1,n.canSearchPublic=!0,n.canShareBingPublic=!1,n.canSharePublic=!1,n.canSignInArcGIS=!1,n.canSignInIDP=!1,n.colorSetsGroupQuery=null,n.commentsEnabled=!1,n.created=null,n.culture=null,n.customBaseUrl=null,n.defaultBasemap=null,n.defaultExtent=null,n.defaultVectorBasemap=null,n.description=null,n.eueiEnabled=null,n.featuredGroups=null,n.featuredItemsGroupQuery=null,n.galleryTemplatesGroupQuery=null,n.livingAtlasGroupQuery=null,n.hasCategorySchema=!1,n.helperServices=null,n.homePageFeaturedContent=null,n.homePageFeaturedContentCount=null,n.httpPort=null,n.httpsPort=null,n.id=null,n.ipCntryCode=null,n.isPortal=!1,n.isReadOnly=!1,n.layerTemplatesGroupQuery=null,n.maxTokenExpirationMinutes=null,n.modified=null,n.name=null,n.portalHostname=null,n.portalMode=null,n.portalProperties=null,n.region=null,n.rotatorPanels=null,n.showHomePageDescription=!1,n.sourceJSON=null,n.supportsHostedServices=!1,n.symbolSetsGroupQuery=null,n.templatesGroupQuery=null,n.units=null,n.url=p.a.portalUrl,n.urlKey=null,n.user=null,n.useStandardizedQuery=!1,n.useVectorBasemaps=!1,n.vectorBasemapGalleryGroupQuery=null,n}return Object(u.a)(i,[{key:"normalizeCtorArgs",value:function(e){return"string"==typeof e?{url:e}:e}},{key:"destroy",value:function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}},{key:"readAuthorizedCrossOriginDomains",value:function(e){if(e){var t,n=Object(s.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;-1===p.a.request.trustedServers.indexOf(r)&&p.a.request.trustedServers.push(r)}}catch(i){n.e(i)}finally{n.f()}}return e}},{key:"readDefaultBasemap",value:function(e){if(e){var t=A.fromJSON(e);return t.portalItem={portal:this},t}return null}},{key:"readDefaultVectorBasemap",value:function(e){if(e){var t=A.fromJSON(e);return t.portalItem={portal:this},t}return null}},{key:"extraQuery",get:function(){var e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?" AND orgid:".concat(this.id):null}},{key:"isOrganization",get:function(){return!!this.access}},{key:"restUrl",get:function(){var e=this.url;if(e){var t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}},{key:"thumbnailUrl",get:function(){var e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}},{key:"readUrlKey",value:function(e){return e?e.toLowerCase():e}},{key:"readUser",value:function(e){var t=null;return e&&((t=I.default.fromJSON(e)).portal=this),t}},{key:"load",value:function(e){var t=this,r=Promise.resolve().then(n.bind(null,255)).then((function(t){var n=t.default;Object(j.u)(e),A=n})).then((function(){return t.sourceJSON?t.sourceJSON:t._fetchSelf(t.authMode,!1,e)})).then((function(e){if(k.b){var n=k.b;t.credential=n.findCredential(t.restUrl),t.credential||t.authMode!==C.AUTH_MODE_AUTO||(t._esriId_credentialCreateHandle=n.on("credential-create",(function(){n.findCredential(t.restUrl)&&t._signIn()})))}t.sourceJSON=e,t.read(e)}));return this.addResolvingPromise(r),Object(j.s)(this)}},{key:"createClosestFacilityTask",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return t=this._getHelperServiceUrl("closestFacility"),e.next=6,n.e(27).then(n.bind(null,1235));case 6:return e.t0=e.sent.default,e.t1=t,e.abrupt("return",new e.t0(e.t1));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createElevationLayers",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return t=this._getHelperService("defaultElevationLayers"),e.next=5,Promise.resolve().then(n.bind(null,571));case 5:return r=e.sent.default,e.abrupt("return",t?t.map((function(e){return new r({id:e.id,url:e.url})})):[]);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createGeometryService",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return t=this._getHelperServiceUrl("geometry"),e.next=6,n.e(9).then(n.bind(null,734));case 6:return e.t0=e.sent.default,e.t1={url:t},e.abrupt("return",new e.t0(e.t1));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createPrintTask",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return t=this._getHelperServiceUrl("printTask"),e.next=6,n.e(55).then(n.bind(null,1229));case 6:return e.t0=e.sent.default,e.t1=t,e.abrupt("return",new e.t0(e.t1));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createRouteTask",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return t=this._getHelperServiceUrl("route"),e.next=6,n.e(28).then(n.bind(null,1233));case 6:return e.t0=e.sent.default,e.t1=t,e.abrupt("return",new e.t0(e.t1));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createServiceAreaTask",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return t=this._getHelperServiceUrl("serviceArea"),e.next=6,n.e(29).then(n.bind(null,1236));case 6:return e.t0=e.sent.default,e.t1=t,e.abrupt("return",new e.t0(e.t1));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchBasemaps",value:function(e,t){var n=new T.a;return n.query=e||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0,this.queryGroups(n,t).then((function(e){if(n.num=100,n.query='type:"Web Map" -type:"Web Application"',e.total){var r=e.results[0];return n.sortField=r.sortField||"name",n.sortOrder=r.sortOrder||"desc",r.queryItems(n,t)}return null})).then((function(e){return e&&e.total?e.results.filter((function(e){return"Web Map"===e.type})).map((function(e){return new A({portalItem:e})})):[]}))}},{key:"fetchCategorySchema",value:function(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then((function(e){return e.categorySchema})):Object(j.m)(e)?Object(j.r)(Object(j.e)()):Object(j.s)([])}},{key:"fetchFeaturedGroups",value:function(e){var t=this.featuredGroups,n=new T.a;if(n.num=100,n.sortField="title",t&&t.length){var r,i=[],a=Object(s.a)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.push('(title:"'.concat(o.title,'" AND owner:').concat(o.owner,")"))}}catch(c){a.e(c)}finally{a.f()}return n.query=i.join(" OR "),this.queryGroups(n,e).then((function(e){return e.results}))}return Object(j.m)(e)?Object(j.r)(Object(j.e)()):Object(j.s)([])}},{key:"fetchRegions",value:function(e){var t=this.user&&this.user.culture||this.culture||Object(x.b)();return this._request(this.restUrl+"/portals/regions",Object(r.a)(Object(r.a)({},e),{},{query:{culture:t}}))}},{key:"queryGroups",value:function(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}},{key:"queryItems",value:function(e,t){return this._queryPortal("/search",e,"PortalItem",t)}},{key:"queryUsers",value:function(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}},{key:"toJSON",value:function(){throw new O.a("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}},{key:"_getHelperService",value:function(e){var t=this.helperServices&&this.helperServices[e];if(!t)throw new O.a("portal:service-not-found",'The `helperServices` do not include an entry named "'.concat(e,'"'));return t}},{key:"_getHelperServiceUrl",value:function(e){var t=this._getHelperService(e);if(!t.url)throw new O.a("portal:service-url-not-found",'The `helperServices` entry "'.concat(e,'" does not include a `url` value'));return t.url}},{key:"_fetchSelf",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.authMode,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=this.restUrl+"/portals/self",a=Object(r.a)({authMode:e,query:{culture:Object(x.b)().toLowerCase()}},n);return"auto"===a.authMode&&(a.authMode="no-prompt"),t&&(a.query.default=!0),this._request(i,a)}},{key:"_queryPortal",value:function(e,t,n,i){var a=this,o=Object(v.m)(T.a,t),s=function(t){return a._request(a.restUrl+e,Object(r.a)(Object(r.a)({},o.toRequestOptions(a)),i)).then((function(e){var n=o.clone();return n.start=e.nextStart,new P({nextQueryParams:n,queryParams:o,total:e.total,results:C._resultsToTypedArray(t,{portal:a},e,i)})})).then((function(e){return Object(j.b)(e.results.map((function(t){return"function"==typeof t.when?t.when():e}))).then((function(){return e}),(function(t){return Object(j.t)(t),e}))}))};return n&&D[n]?D[n]().then((function(e){var t=e.default;return Object(j.u)(i),s(t)})):s()}},{key:"_signIn",value:function(){var e=this;if(this.authMode===C.AUTH_MODE_ANONYMOUS)return Object(j.r)(new O.a("portal:invalid-auth-mode",'Current "authMode"\' is "'.concat(this.authMode,'"')));if("failed"===this.loadStatus)return Object(j.r)(this.loadError);var t=function(t){return Object(j.s)().then((function(){return"not-loaded"===e.loadStatus?(t||(e.authMode="immediate"),e.load().then((function(){return null}))):"loading"===e.loadStatus?e.load().then((function(){return e.credential?null:(e.credential=t,e._fetchSelf("immediate"))})):e.user&&e.credential===t?null:(e.credential=t,e._fetchSelf("immediate"))})).then((function(t){t&&(e.sourceJSON=t,e.read(t))}))};return k.b?k.b.getCredential(this.restUrl).then((function(e){return t(e)})):t(this.credential)}},{key:"_normalizeSSL",value:function(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}},{key:"_normalizeUrl",value:function(e){var t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}},{key:"_requestToTypedArray",value:function(e,t,n){var r=this;return this._request(e,t).then((function(e){var t=C._resultsToTypedArray(n,{portal:r},e);return Object(j.b)(t.map((function(t){return"function"==typeof t.when?t.when():e}))).then((function(){return t}),(function(){return t}))}))}},{key:"_request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(r.a)({f:"json"},t.query),i=t.authMode,a=void 0===i?this.authMode===C.AUTH_MODE_ANONYMOUS?"anonymous":"auto":i,o=t.body,s=void 0===o?null:o,c=t.cacheBust,u=void 0!==c&&c,l=t.method,h=void 0===l?"auto":l,f=t.responseType,d=void 0===f?"json":f,p=t.signal,b={authMode:a,body:s,cacheBust:u,method:h,query:n,responseType:d,timeout:0,signal:p};return Object(S.default)(this._normalizeSSL(e),b).then((function(e){return e.data}))}}],[{key:"getDefault",value:function(){return C._default&&!C._default.destroyed||(C._default=new C),C._default}},{key:"fromJSON",value:function(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new C({sourceJSON:e})}},{key:"_resultsToTypedArray",value:function(e,t,n,r){var i;if(n){var a=Object(b.h)(r)?r.signal:null;i=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(e||t)&&(i=i.map((function(n){var r=Object(d.d)(e?e.fromJSON(n):n,t);return"function"==typeof r.load&&r.load(a),r})))}else i=[];return i}}]),i}(Object(w.b)(E.a));L.AUTH_MODE_ANONYMOUS="anonymous",L.AUTH_MODE_AUTO="auto",L.AUTH_MODE_IMMEDIATE="immediate",Object(f.a)([Object(y.b)()],L.prototype,"access",void 0),Object(f.a)([Object(y.b)()],L.prototype,"allSSL",void 0),Object(f.a)([Object(y.b)()],L.prototype,"authMode",void 0),Object(f.a)([Object(y.b)()],L.prototype,"authorizedCrossOriginDomains",void 0),Object(f.a)([Object(m.a)("authorizedCrossOriginDomains")],L.prototype,"readAuthorizedCrossOriginDomains",null),Object(f.a)([Object(y.b)()],L.prototype,"basemapGalleryGroupQuery",void 0),Object(f.a)([Object(y.b)()],L.prototype,"bingKey",void 0),Object(f.a)([Object(y.b)()],L.prototype,"canListApps",void 0),Object(f.a)([Object(y.b)()],L.prototype,"canListData",void 0),Object(f.a)([Object(y.b)()],L.prototype,"canListPreProvisionedItems",void 0),Object(f.a)([Object(y.b)()],L.prototype,"canProvisionDirectPurchase",void 0),Object(f.a)([Object(y.b)()],L.prototype,"canSearchPublic",void 0),Object(f.a)([Object(y.b)()],L.prototype,"canShareBingPublic",void 0),Object(f.a)([Object(y.b)()],L.prototype,"canSharePublic",void 0),Object(f.a)([Object(y.b)()],L.prototype,"canSignInArcGIS",void 0),Object(f.a)([Object(y.b)()],L.prototype,"canSignInIDP",void 0),Object(f.a)([Object(y.b)()],L.prototype,"colorSetsGroupQuery",void 0),Object(f.a)([Object(y.b)()],L.prototype,"commentsEnabled",void 0),Object(f.a)([Object(y.b)({type:Date})],L.prototype,"created",void 0),Object(f.a)([Object(y.b)()],L.prototype,"credential",void 0),Object(f.a)([Object(y.b)()],L.prototype,"culture",void 0),Object(f.a)([Object(y.b)()],L.prototype,"currentVersion",void 0),Object(f.a)([Object(y.b)()],L.prototype,"customBaseUrl",void 0),Object(f.a)([Object(y.b)()],L.prototype,"defaultBasemap",void 0),Object(f.a)([Object(m.a)("defaultBasemap")],L.prototype,"readDefaultBasemap",null),Object(f.a)([Object(y.b)({type:_.a})],L.prototype,"defaultExtent",void 0),Object(f.a)([Object(y.b)()],L.prototype,"defaultVectorBasemap",void 0),Object(f.a)([Object(m.a)("defaultVectorBasemap")],L.prototype,"readDefaultVectorBasemap",null),Object(f.a)([Object(y.b)()],L.prototype,"description",void 0),Object(f.a)([Object(y.b)()],L.prototype,"eueiEnabled",void 0),Object(f.a)([Object(y.b)({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],L.prototype,"extraQuery",null),Object(f.a)([Object(y.b)()],L.prototype,"featuredGroups",void 0),Object(f.a)([Object(y.b)()],L.prototype,"featuredItemsGroupQuery",void 0),Object(f.a)([Object(y.b)()],L.prototype,"galleryTemplatesGroupQuery",void 0),Object(f.a)([Object(y.b)()],L.prototype,"livingAtlasGroupQuery",void 0),Object(f.a)([Object(y.b)()],L.prototype,"hasCategorySchema",void 0),Object(f.a)([Object(y.b)()],L.prototype,"helpBase",void 0),Object(f.a)([Object(y.b)()],L.prototype,"helperServices",void 0),Object(f.a)([Object(y.b)()],L.prototype,"helpMap",void 0),Object(f.a)([Object(y.b)()],L.prototype,"homePageFeaturedContent",void 0),Object(f.a)([Object(y.b)()],L.prototype,"homePageFeaturedContentCount",void 0),Object(f.a)([Object(y.b)()],L.prototype,"httpPort",void 0),Object(f.a)([Object(y.b)()],L.prototype,"httpsPort",void 0),Object(f.a)([Object(y.b)()],L.prototype,"id",void 0),Object(f.a)([Object(y.b)()],L.prototype,"ipCntryCode",void 0),Object(f.a)([Object(y.b)({dependsOn:["access"],readOnly:!0})],L.prototype,"isOrganization",null),Object(f.a)([Object(y.b)()],L.prototype,"isPortal",void 0),Object(f.a)([Object(y.b)()],L.prototype,"isReadOnly",void 0),Object(f.a)([Object(y.b)()],L.prototype,"layerTemplatesGroupQuery",void 0),Object(f.a)([Object(y.b)()],L.prototype,"maxTokenExpirationMinutes",void 0),Object(f.a)([Object(y.b)({type:Date})],L.prototype,"modified",void 0),Object(f.a)([Object(y.b)()],L.prototype,"name",void 0),Object(f.a)([Object(y.b)()],L.prototype,"portalHostname",void 0),Object(f.a)([Object(y.b)()],L.prototype,"portalMode",void 0),Object(f.a)([Object(y.b)()],L.prototype,"portalProperties",void 0),Object(f.a)([Object(y.b)()],L.prototype,"region",void 0),Object(f.a)([Object(y.b)({dependsOn:["url"],readOnly:!0})],L.prototype,"restUrl",null),Object(f.a)([Object(y.b)()],L.prototype,"rotatorPanels",void 0),Object(f.a)([Object(y.b)()],L.prototype,"showHomePageDescription",void 0),Object(f.a)([Object(y.b)()],L.prototype,"sourceJSON",void 0),Object(f.a)([Object(y.b)()],L.prototype,"staticImagesUrl",void 0),Object(f.a)([Object(y.b)()],L.prototype,"stylesGroupQuery",void 0),Object(f.a)([Object(y.b)()],L.prototype,"supportsHostedServices",void 0),Object(f.a)([Object(y.b)()],L.prototype,"symbolSetsGroupQuery",void 0),Object(f.a)([Object(y.b)()],L.prototype,"templatesGroupQuery",void 0),Object(f.a)([Object(y.b)()],L.prototype,"thumbnail",void 0),Object(f.a)([Object(y.b)({dependsOn:["restUrl","thumbnail"],readOnly:!0})],L.prototype,"thumbnailUrl",null),Object(f.a)([Object(y.b)()],L.prototype,"units",void 0),Object(f.a)([Object(y.b)()],L.prototype,"url",void 0),Object(f.a)([Object(y.b)()],L.prototype,"urlKey",void 0),Object(f.a)([Object(m.a)("urlKey")],L.prototype,"readUrlKey",null),Object(f.a)([Object(y.b)()],L.prototype,"user",void 0),Object(f.a)([Object(m.a)("user")],L.prototype,"readUser",null),Object(f.a)([Object(y.b)()],L.prototype,"useStandardizedQuery",void 0),Object(f.a)([Object(y.b)()],L.prototype,"useVectorBasemaps",void 0),Object(f.a)([Object(y.b)()],L.prototype,"vectorBasemapGalleryGroupQuery",void 0);var R=L=C=Object(f.a)([Object(g.a)("esri.portal.Portal")],L);t.a=R},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o}));var r=n(13);function i(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function a(e,t,n){if(!i(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,n);if(Array.isArray(t)){var a,o=t.slice(),s=Object(r.a)(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;e.addEventListener(c,n)}}catch(u){s.e(u)}finally{s.f()}return{remove:function(){var t,i=Object(r.a)(o);try{for(i.s();!(t=i.n()).done;){var a=t.value;e.removeEventListener(a,n)}}catch(u){i.e(u)}finally{i.f()}}}}return e.addEventListener(t,n),{remove:function(){e.removeEventListener(t,n)}}}function o(e,t,n){if(!i(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,n);var r=a(e,t,(function(t){r.remove(),n.call(e,t)}));return{remove:function(){r.remove()}}}var s={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function c(e){var t=e.key;return s[t]||t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(18),i=n(43),a=n(36),o=n(214),s={type:i.a,json:{type:[r.a],default:null,read:{source:["color","transparency"],reader:function(e,t){var n=null!=t.transparency?Object(o.b)(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new i.a([r[0]||0,r[1]||0,r[2]||0,n]):null}},write:{target:{color:{type:[r.a]},transparency:{type:r.a}},writer:function(e,t){t.color=e.toJSON().slice(0,3);var n=Object(o.a)(e.a);0!==n&&(t.transparency=n)}}}},c={type:Number,cast:a.j,json:{write:!0}},u={type:[Number],cast:function(e){return null!=e?e:Array.isArray(e)?e.map(a.j):null},json:{read:!1,write:!1}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a}));var r=n(4),i=7;function a(e){switch(e){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"user":return 6}}function o(e){switch(e){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return Object(r.c)(void 0)}function s(e){return o(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o}));var r=n(101),i=/\{([^\}]+)\}/g;function a(e){return null==e?"":e}function o(e,t){return e.replace(i,"object"==typeof t?function(e,n){return a(Object(r.b)(n,t))}:function(e,n){return a(t(n))})}function s(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(function(e){return t&&-1!==t.indexOf(e)?e:"\\".concat(e)}))}function c(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return c}));var r=n(4),i=n(12);function a(e,t){var n=t&&t.url&&t.url.path;if(e&&n&&(e=Object(i.y)(e,n,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){var r=Object(i.A)(e,t.portalItem.itemUrl);l.test(r)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path)}return f(e,t&&t.portal)}function o(e,t){if(!e)return e;!Object(i.s)(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);var n=Object(i.y)(e);if(t){var r=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(r){var a=f(r,t.portal);(n=Object(i.A)(f(n,t.portal),a,a))!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=function(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?Object(i.h)(e,"".concat(t.urlKey,".").concat(t.customBaseUrl),t.portalHostname):e}(n,t&&t.portal),Object(i.s)(n)&&(n=Object(i.B)(n)),n}function s(e,t,n){return a(e,n)}function c(e,t,n,r){var i=o(e,r);void 0!==i&&(t[n]=i)}var u=/\/items\/([^\/]+)\/resources\//,l=/^\.\/resources\//;function h(e){var t=Object(r.h)(e)?e.match(u):null;return Object(r.h)(t)?t[1]:null}function f(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;var n="".concat(t.urlKey,".").concat(t.customBaseUrl);return Object(i.q)(i.g,"".concat(i.g.scheme,"://").concat(n))?Object(i.h)(e,t.portalHostname,n):Object(i.h)(e,n,t.portalHostname)}var d=Object.freeze({__proto__:null,fromJSON:a,toJSON:o,read:s,write:c,itemIdFromResourceUrl:h})},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(8),f=n(35),d=(n(12),n(21),n(22),n(48)),p=n(157),b=n(56),v=n(74),y=n(279),m=n(447),g=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).paths=[],e.type="polyline",e}return Object(a.a)(n,[{key:"normalizeCtorArgs",value:function(e,t){var n,r,i,a=null;return e&&!Array.isArray(e)?(a=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),n=e.hasZ,r=e.hasM):a=e,a=a||[],t=t||d.a.WGS84,a.length&&a[0]&&null!=a[0][0]&&"number"==typeof a[0][0]&&(a=[a]),(i=a[0]&&a[0][0])&&(void 0===n&&void 0===r?(n=i.length>2,r=!1):void 0===n?n=!r&&i.length>3:void 0===r&&(r=!n&&i.length>3)),{paths:a,spatialReference:t,hasZ:n,hasM:r}}},{key:"extent",get:function(){var e=this.spatialReference,t=Object(m.c)(this);if(!t)return null;var n=new v.a(t);return n.spatialReference=e,n}},{key:"writePaths",value:function(e,t){t.paths=Object(u.a)(this.paths)}},{key:"addPath",value:function(e){if(e){this.clearCache();var t=this.paths,n=t.length;if(function(e){return!Array.isArray(e[0])}(e)){for(var r=[],i=0,a=e.length;i<a;i++)r[i]=e[i].toArray();t[n]=r}else t[n]=e.concat();return this}}},{key:"clone",value:function(){var e=new r;return e.spatialReference=this.spatialReference,e.paths=Object(u.a)(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}},{key:"getPoint",value:function(e,t){if(!this._validateInputs(e,t))return null;var n=this.paths[e][t],r=this.hasZ,i=this.hasM;return r&&!i?new b.a(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new b.a(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new b.a(n[0],n[1],n[2],n[3],this.spatialReference):new b.a(n[0],n[1],this.spatialReference)}},{key:"insertPoint",value:function(e,t,n){return this._validateInputs(e,t,!0)?(this.clearCache(),Object(y.a)(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e].splice(t,0,n),this):this}},{key:"removePath",value:function(e){if(!this._validateInputs(e,null))return null;this.clearCache();var t=this.paths.splice(e,1)[0],n=this.spatialReference;return t.map((function(e){return new b.a(e,n)}))}},{key:"removePoint",value:function(e,t){return this._validateInputs(e,t)?(this.clearCache(),new b.a(this.paths[e].splice(t,1)[0],this.spatialReference)):null}},{key:"setPoint",value:function(e,t,n){return this._validateInputs(e,t)?(this.clearCache(),Object(y.a)(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e][t]=n,this):this}},{key:"_validateInputs",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||e<0||e>=this.paths.length)return!1;if(null!=t){var r=this.paths[e];if(n&&(t<0||t>r.length))return!1;if(!n&&(t<0||t>=r.length))return!1}return!0}},{key:"toJSON",value:function(e){return this.write(null,e)}}]),n}(p.a);Object(c.a)([Object(l.b)({dependsOn:["hasM","hasZ","paths"],autoTracked:!1})],g.prototype,"cache",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],g.prototype,"extent",null),Object(c.a)([Object(l.b)({type:[[[Number]]],json:{write:{isRequired:!0}}})],g.prototype,"paths",void 0),Object(c.a)([Object(f.a)("paths")],g.prototype,"writePaths",null),(g=r=Object(c.a)([Object(h.a)("esri.geometry.Polyline")],g)).prototype.toJSON.isDefaultToJSON=!0;var O=g;t.a=O},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(101),i=n(125),a=n(14),o=n(108),s=n(133),c=a.a.getLogger("esri.intl");function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.format,u=void 0===a?{}:a;return Object(i.c)(e,(function(e){return function(e,t,n){var i,a,u=e.indexOf(":");if(-1===u?i=e.trim():(i=e.slice(0,u).trim(),a=e.slice(u+1).trim()),!i)return"";var h=Object(r.b)(i,t);if(null==h)return"";var f=n[a]||n[i];return f?function(e,t){switch(t.type){case"date":return Object(o.b)(e,t.intlOptions);case"number":return Object(s.b)(e,t.intlOptions);default:return c.warn("missing format descriptor for key {key}"),l(e)}}(h,f):a?function(e,t){switch(t.toLowerCase()){case"dateformat":return Object(o.b)(e);case"numberformat":return Object(s.b)(e);default:return c.warn("inline format is unsupported since 4.12: ".concat(t)),/^(dateformat|datestring)/i.test(t)?Object(o.b)(e):/^numberformat/i.test(t)?Object(s.b)(e):l(e)}}(h,a):l(h)}(e,t,u)}))}function l(e){switch(typeof e){case"string":return e;case"number":return Object(s.b)(e);case"boolean":return""+e;default:return e instanceof Date?Object(o.b)(e):""}}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(40),s=n(5),c=n(6),u=n(0),l=n(1),h=n(166),f=n(8),d=n(20),p=n(17),b=n(247),v=function(e){var t=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a)))._loadController=null,e.loadError=null,e.loadStatus="not-loaded",e._set("loadWarnings",[]),e.addResolvingPromise(new Promise((function(t){var n=e.load.bind(Object(o.a)(e));e.load=function(r){var i=new Promise((function(t,n){var i=Object(p.q)(r,n);e.destroyed&&n(new d.a("load:instance-destroyed","Instance of '".concat(e.declaredClass||e.constructor.name,"' is already destroyed"),{instance:Object(o.a)(e)})),e._promiseProps.when(t,n).finally((function(){i&&i.remove()}))}));if("not-loaded"===e.loadStatus){e._set("loadStatus","loading");var a=e._loadController=Object(p.d)();n({signal:a.signal}),Object(p.p)(a.signal,(function(){e._promiseProps.abort()}))}return t(),i}}))),e.when((function(){e._set("loadStatus","loaded"),e._loadController=null}),(function(t){e._set("loadStatus","failed"),e._set("loadError",t),e._loadController=null})),e}return Object(a.a)(n,[{key:"loaded",get:function(){return"loaded"===this.loadStatus}},{key:"loadWarnings",get:function(){return this._get("loadWarnings")}},{key:"load",value:function(){return null}},{key:"cancelLoad",value:function(){var e;return this.isFulfilled()||(this._set("loadError",new d.a("load:cancelled","Cancelled")),null==(e=this._loadController)||e.abort()),this}}]),n}(e);return Object(u.a)([Object(l.b)({readOnly:!0,dependsOn:["loadStatus"]})],t.prototype,"loaded",null),Object(u.a)([Object(l.b)({readOnly:!0})],t.prototype,"loadError",void 0),Object(u.a)([Object(l.b)()],t.prototype,"loadStatus",void 0),Object(u.a)([Object(l.b)({type:[h.a],readOnly:!0})],t.prototype,"loadWarnings",null),t=Object(u.a)([Object(f.a)("esri.core.Loadable")],t),t},y=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return n}(v(b.a));y=Object(u.a)([Object(f.a)("esri.core.Loadable")],y),(r=y||(y={})).LoadableMixin=v,r.isLoadable=function(e){return!(!e||!e.load)};var m=y;t.a=m},function(e,t,n){"use strict";var r=n(7),i=n.n(r),a=n(16),o=n(2),s=n(3),c=n(5),u=n(6),l=n(0),h=(n(15),n(14),n(18),n(1)),f=n(50),d=n(34),p=n(8),b=(n(12),n(21),n(22),n(27)),v=n(43),y=new f.a({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),m=0,g=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).id="sym"+m++,r.type=null,r}return Object(s.a)(n,[{key:"color",set:function(e){this._set("color",e)}},{key:"readColor",value:function(e){return e&&null!=e[0]?[e[0],e[1],e[2],e[3]/255]:e}},{key:"collectRequiredFields",value:function(){var e=Object(a.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"hash",value:function(){return JSON.stringify(this.toJSON())}},{key:"clone",value:function(){}}]),n}(b.a);Object(l.a)([Object(h.b)({type:y.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:y.write}}})],g.prototype,"type",void 0),Object(l.a)([Object(h.b)({type:v.a,value:new v.a([0,0,0,1]),json:{write:{allowNull:!0}}})],g.prototype,"color",null),Object(l.a)([Object(d.a)("color")],g.prototype,"readColor",null);var O=g=Object(l.a)([Object(p.a)("esri.symbols.Symbol")],g);t.a=O},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return d}));var r=n(10),i=n(92),a=n(126),o=n(296),s=n(214),c=n(194),u=n(429),l={type:Boolean,value:!0,json:{origins:{"web-scene":{read:{source:["id","url","layerType"],reader:function(e,t){if(null!=t.screenSizePerspective||"defaults"!==this.originOf("screenSizePerspectiveEnabled"))return t.screenSizePerspective;Object(i.a)(this).store.set("screenSizePerspectiveEnabled",!1,0)}},write:{ignoreOrigin:!0,target:"screenSizePerspective",writer:function(e,t,n,r){("defaults"===this.originOf("screenSizePerspectiveEnabled")&&e||Object(o.a)(this,"screenSizePerspectiveEnabled",{},r))&&(t[n]=e)}}}}}},h={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:function(e,t){return!t.disablePopup}},write:{enabled:!0,writer:function(e,t,n){t[n]=!e}}}},f={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},d={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:a.f}}},p={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},b={value:null,type:u.a,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function v(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}var y={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0},"portal-item":{write:!0}}}},m=Object(r.a)(Object(r.a)({},y),{},{json:Object(r.a)(Object(r.a)({},y.json),{},{origins:{"web-document":Object(r.a)(Object(r.a)({},y.json.origins["web-document"]),{},{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:function(e,t,n){return n&&"service"!==n.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition&&t.layerDefinition.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?Object(s.b)(t.layerDefinition.drawingInfo.transparency):void 0:Object(s.b)(t.drawingInfo.transparency)}}})}),g={type:c.a,dependsOn:["view.timeExtent","layer.timeExtent","layer.timeInfo","layer.timeOffset","layer.timeOffset.value","layer.timeOffset.unit","layer.useViewTime"],readOnly:!0,get:function(){var e,t;if(null==(e=this.layer)||!e.timeInfo)return null;var n=null==(t=this.view)?void 0:t.timeExtent,r=this.layer.timeExtent,i=this.layer.useViewTime?n&&r?n.intersection(r):n||r:r;if(!i||i.isEmpty)return i;var a=this.layer.timeOffset,o=a?i.offset(-a.value,a.unit):i,s=this._get("timeExtent");return o.equals(s)?s:o}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return W})),n.d(t,"d",(function(){return X}));var r=n(19),i=n.n(r),a=(n(100),i.a.createContext(null));var o=function(e){e()},s={notify:function(){}};function c(){var e=o,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var u=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=c())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}();var l=function(e){var t=e.store,n=e.context,o=e.children,s=Object(r.useMemo)((function(){var e=new u(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),c=Object(r.useMemo)((function(){return t.getState()}),[t]);Object(r.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,c]);var l=n||a;return i.a.createElement(l.Provider,{value:s},o)},h=n(69),f=n(155),d=n(306),p=n.n(d),b=n(250),v="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,y=[],m=[null,null];function g(e,t){var n=e[1];return[t.payload,n+1]}function O(e,t,n){v((function(){return e.apply(void 0,t)}),n)}function j(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function w(e,t,n,r,i,a,o,s,c,u){if(e){var l=!1,h=null,f=function(){if(!l){var e,n,f=t.getState();try{e=r(f,i.current)}catch(d){n=d,h=d}n||(h=null),e===a.current?o.current||c():(a.current=e,s.current=e,o.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}}var _=function(){return[null,0]};function x(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,s=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,c=n.methodName,l=void 0===c?"connectAdvanced":c,d=n.renderCountProp,v=void 0===d?void 0:d,x=n.shouldHandleStateChanges,k=void 0===x||x,S=n.storeKey,E=void 0===S?"store":S,T=(n.withRef,n.forwardRef),M=void 0!==T&&T,C=n.context,A=void 0===C?a:C,P=Object(f.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),I=A;return function(t){var n=t.displayName||t.name||"Component",a=s(n),o=Object(h.a)({},P,{getDisplayName:s,methodName:l,renderCountProp:v,shouldHandleStateChanges:k,storeKey:E,displayName:a,wrappedComponentName:n,WrappedComponent:t}),c=P.pure;var d=c?r.useMemo:function(e){return e()};function x(n){var a=Object(r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Object(f.a)(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),s=a[0],c=a[1],l=a[2],p=Object(r.useMemo)((function(){return s&&s.Consumer&&Object(b.isContextConsumer)(i.a.createElement(s.Consumer,null))?s:I}),[s,I]),v=Object(r.useContext)(p),x=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(v)&&Boolean(v.store);var S=x?n.store:v.store,E=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,o)}(S)}),[S]),T=Object(r.useMemo)((function(){if(!k)return m;var e=new u(S,x?null:v.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[S,x,v]),M=T[0],C=T[1],A=Object(r.useMemo)((function(){return x?v:Object(h.a)({},v,{subscription:M})}),[x,v,M]),P=Object(r.useReducer)(g,y,_),D=P[0][0],L=P[1];if(D&&D.error)throw D.error;var R=Object(r.useRef)(),N=Object(r.useRef)(l),F=Object(r.useRef)(),z=Object(r.useRef)(!1),V=d((function(){return F.current&&l===N.current?F.current:E(S.getState(),l)}),[S,D,l]);O(j,[N,R,z,l,V,F,C]),O(w,[k,S,M,E,N,R,z,F,C,L],[S,M,E]);var U=Object(r.useMemo)((function(){return i.a.createElement(t,Object(h.a)({},V,{ref:c}))}),[c,t,V]);return Object(r.useMemo)((function(){return k?i.a.createElement(p.Provider,{value:A},U):U}),[p,U,A])}var S=c?i.a.memo(x):x;if(S.WrappedComponent=t,S.displayName=a,M){var T=i.a.forwardRef((function(e,t){return i.a.createElement(S,Object(h.a)({},e,{reactReduxForwardedRef:t}))}));return T.displayName=a,T.WrappedComponent=t,p()(T,t)}return p()(S,t)}}function k(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function S(e,t){if(k(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!k(e[n[i]],t[n[i]]))return!1;return!0}var E=n(277);function T(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function M(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function C(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=M(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=M(i),i=r(t,n)),i},r}}var A=[function(e){return"function"===typeof e?C(e):void 0},function(e){return e?void 0:T((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?T((function(t){return Object(E.b)(e,t)})):void 0}];var P=[function(e){return"function"===typeof e?C(e):void 0},function(e){return e?void 0:T((function(){return{}}))}];function I(e,t,n){return Object(h.a)({},n,e,t)}var D=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,s){var c=e(t,n,s);return o?i&&a(c,r)||(r=c):(o=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return I}}];function L(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function R(e,t,n,r,i){var a,o,s,c,u,l=i.areStatesEqual,h=i.areOwnPropsEqual,f=i.areStatePropsEqual,d=!1;function p(i,d){var p=!h(d,o),b=!l(i,a);return a=i,o=d,p&&b?(s=e(a,o),t.dependsOnOwnProps&&(c=t(r,o)),u=n(s,c,o)):p?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(c=t(r,o)),u=n(s,c,o)):b?function(){var t=e(a,o),r=!f(t,s);return s=t,r&&(u=n(s,c,o)),u}():u}return function(i,l){return d?p(i,l):(s=e(a=i,o=l),c=t(r,o),u=n(s,c,o),d=!0,u)}}function N(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=Object(f.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),s=r(e,a),c=i(e,a);return(a.pure?R:L)(o,s,c,e,a)}function F(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function z(e,t){return e===t}function V(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?x:n,i=t.mapStateToPropsFactories,a=void 0===i?P:i,o=t.mapDispatchToPropsFactories,s=void 0===o?A:o,c=t.mergePropsFactories,u=void 0===c?D:c,l=t.selectorFactory,d=void 0===l?N:l;return function(e,t,n,i){void 0===i&&(i={});var o=i,c=o.pure,l=void 0===c||c,p=o.areStatesEqual,b=void 0===p?z:p,v=o.areOwnPropsEqual,y=void 0===v?S:v,m=o.areStatePropsEqual,g=void 0===m?S:m,O=o.areMergedPropsEqual,j=void 0===O?S:O,w=Object(f.a)(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),_=F(e,a,"mapStateToProps"),x=F(t,s,"mapDispatchToProps"),k=F(n,u,"mergeProps");return r(d,Object(h.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:x,initMergeProps:k,pure:l,areStatesEqual:b,areOwnPropsEqual:y,areStatePropsEqual:g,areMergedPropsEqual:j},w))}}var U=V();function B(){return Object(r.useContext)(a)}function G(e){void 0===e&&(e=a);var t=e===a?B:function(){return Object(r.useContext)(e)};return function(){return t().store}}var q=G();function H(e){void 0===e&&(e=a);var t=e===a?q:G(e);return function(){return t().dispatch}}var W=H(),Y=function(e,t){return e===t};function J(e){void 0===e&&(e=a);var t=e===a?B:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=Y);var i=t(),a=function(e,t,n,i){var a,o=Object(r.useReducer)((function(e){return e+1}),0)[1],s=Object(r.useMemo)((function(){return new u(n,i)}),[n,i]),c=Object(r.useRef)(),l=Object(r.useRef)(),h=Object(r.useRef)(),f=Object(r.useRef)(),d=n.getState();try{a=e!==l.current||d!==h.current||c.current?e(d):f.current}catch(p){throw c.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),p}return v((function(){l.current=e,h.current=d,f.current=a,c.current=void 0})),v((function(){function e(){try{var e=l.current(n.getState());if(t(e,f.current))return;f.current=e}catch(p){c.current=p}o()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),a}(e,n,i.store,i.subscription);return Object(r.useDebugValue)(a),a}}var K,X=J(),Q=n(196);K=Q.unstable_batchedUpdates,o=K},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(4),i=n(96),a={ar:"ar-u-nu-latn"},o=new WeakMap,s={};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function u(e,t){return function(e){var t=e||s;if(!o.has(t)){var n=Object(i.b)(),c=a[Object(i.b)()]||n;o.set(t,new Intl.NumberFormat(c,e))}return Object(r.c)(o.get(t))}(t).format(e)}Object(i.a)((function(){o=new WeakMap,s={}}))},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(3),a=n(61),o=n(57),s=n(5),c=n(6),u=n(0),l=(n(15),n(23)),h=(n(14),n(18),n(1)),f=n(50),d=n(45),p=n(8),b=(n(12),n(21),n(22),n(36)),v=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).type="simple-line",i.width=.75,i}return Object(i.a)(n,[{key:"hash",value:function(){return"".concat(this.type,".").concat(this.width)}}]),n}(n(130).a);Object(u.a)([Object(d.a)({esriSLS:"simple-line"},{readOnly:!0})],v.prototype,"type",void 0),Object(u.a)([Object(h.b)({type:Number,cast:b.j,json:{write:!0}})],v.prototype,"width",void 0);var y,m=v=Object(u.a)([Object(p.a)("esri.symbols.LineSymbol")],v),g=n(34),O=n(35),j=n(27),w=n(43),_=y=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).placement="begin-end",i.type="line-marker",i.style="arrow",i}return Object(i.a)(n,[{key:"writeStyle",value:function(e,t,n,r){"web-map"===(null==r?void 0:r.origin)?t[n]="arrow":t[n]=e}},{key:"color",set:function(e){this._set("color",e)}},{key:"readColor",value:function(e){return e&&null!=e[0]?[e[0],e[1],e[2],e[3]/255]:e}},{key:"writeColor",value:function(e,t,n,r){"web-map"===(null==r?void 0:r.origin)||(t[n]=e)}},{key:"clone",value:function(){return new y({color:Object(l.a)(this.color),placement:this.placement,style:this.style})}},{key:"hash",value:function(){var e;return"".concat(this.placement,".").concat(null==(e=this.color)?void 0:e.hash(),".").concat(this.style)}}]),n}(j.a);Object(u.a)([Object(h.b)({type:["begin","end","begin-end"],json:{default:"begin-end",write:!0}})],_.prototype,"placement",void 0),Object(u.a)([Object(d.a)({"line-marker":"line-marker"},{readOnly:!0}),Object(h.b)({json:{origins:{"web-map":{write:!1}}}})],_.prototype,"type",void 0),Object(u.a)([Object(h.b)({type:["arrow","circle","square","diamond","cross","x"]})],_.prototype,"style",void 0),Object(u.a)([Object(O.a)("style")],_.prototype,"writeStyle",null),Object(u.a)([Object(h.b)({type:w.a,value:null,json:{write:{allowNull:!0}}})],_.prototype,"color",null),Object(u.a)([Object(g.a)("color")],_.prototype,"readColor",null),Object(u.a)([Object(O.a)("color")],_.prototype,"writeColor",null);var x,k=_=y=Object(u.a)([Object(p.a)("esri.symbols.LineSymbolMarker")],_),S=new f.a({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"}),E=x=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).type="simple-line",e.style="solid",e.cap="round",e.join="round",e.marker=null,e.miterLimit=2,e}return Object(i.a)(n,[{key:"normalizeCtorArgs",value:function(e,t,n,r,i,a){if(e&&"string"!=typeof e)return e;var o={};return null!=e&&(o.style=e),null!=t&&(o.color=t),null!=n&&(o.width=Object(b.j)(n)),null!=r&&(o.cap=r),null!=i&&(o.join=i),null!=a&&(o.miterLimit=Object(b.j)(a)),o}},{key:"clone",value:function(){var e;return new x({color:Object(l.a)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null==(e=this.marker)?void 0:e.clone()})}},{key:"hash",value:function(){var e,t;return"".concat(Object(a.a)(Object(o.a)(n.prototype),"hash",this).call(this),".").concat(null==(e=this.color)?void 0:e.hash(),".").concat(this.style,".").concat(this.cap,".").concat(this.join,".").concat(this.miterLimit,".").concat(null==(t=this.marker)?void 0:t.hash())}}]),n}(m);Object(u.a)([Object(d.a)({esriSLS:"simple-line"},{readOnly:!0})],E.prototype,"type",void 0),Object(u.a)([Object(h.b)({type:S.apiValues,json:{read:S.read,write:S.write}})],E.prototype,"style",void 0),Object(u.a)([Object(h.b)({type:["butt","round","square"],json:{write:{overridePolicy:function(e,t,n){return{enabled:"round"!==e&&(null==n||null==n.origin)}}}}})],E.prototype,"cap",void 0),Object(u.a)([Object(h.b)({type:["miter","round","bevel"],json:{write:{overridePolicy:function(e,t,n){return{enabled:"round"!==e&&(null==n||null==n.origin)}}}}})],E.prototype,"join",void 0),Object(u.a)([Object(h.b)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":k}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],E.prototype,"marker",void 0),Object(u.a)([Object(h.b)({type:Number,json:{read:!1,write:!1}})],E.prototype,"miterLimit",void 0);var T=E=x=Object(u.a)([Object(p.a)("esri.symbols.SimpleLineSymbol")],E);t.default=T},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return _}));var r=n(182),i=n(19),a=n.n(i),o=(n(100),n(219)),s=n(556),c=n(201),u=n(69),l=n(557),h=n.n(l),f=(n(250),n(155)),d=(n(306),function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History")),p=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),b=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return a.a.createElement(p.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.a.createElement(d.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.a.Component);a.a.Component;var v=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(a.a.Component);var y={},m=0;function g(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(y[e])return y[e];var t=h.a.compile(e);return m<1e4&&(y[e]=t,m++),t}(e)(t,{pretty:!0})}function O(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return a.a.createElement(p.Consumer,null,(function(e){e||Object(c.a)(!1);var r=e.history,s=e.staticContext,l=i?r.push:r.replace,h=Object(o.c)(t?"string"===typeof n?g(n,t.params):Object(u.a)({},n,{pathname:g(n.pathname,t.params)}):n);return s?(l(h),null):a.a.createElement(v,{onMount:function(){l(h)},onUpdate:function(e,t){var n=Object(o.c)(t.to);Object(o.f)(n,Object(u.a)({},h,{key:n.key}))||l(h)},to:n})}))}var j={},w=0;function _(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,c=n.sensitive,u=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=j[n]||(j[n]={});if(r[e])return r[e];var i=[],a={regexp:h()(e,i,t),keys:i};return w<1e4&&(r[e]=a,w++),a}(n,{end:a,strict:s,sensitive:u}),i=r.regexp,o=r.keys,c=i.exec(e);if(!c)return null;var l=c[0],f=c.slice(1),d=e===l;return a&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var x=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(p.Consumer,null,(function(t){t||Object(c.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?_(n.pathname,e.props):t.match,i=Object(u.a)({},t,{location:n,match:r}),o=e.props,s=o.children,l=o.component,h=o.render;return Array.isArray(s)&&0===s.length&&(s=null),a.a.createElement(p.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?a.a.createElement(l,i):h?h(i):null:"function"===typeof s?s(i):null)}))},t}(a.a.Component);function k(e){return"/"===e.charAt(0)?e:"/"+e}function S(e,t){if(!e)return t;var n=k(e);return 0!==t.pathname.indexOf(n)?t:Object(u.a)({},t,{pathname:t.pathname.substr(n.length)})}function E(e){return"string"===typeof e?e:Object(o.e)(e)}function T(e){return function(){Object(c.a)(!1)}}function M(){}a.a.Component;a.a.Component;a.a.useContext},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return d}));var r=n(13),i=(n(32),n(54));function a(e){if(!e)return null;if(Array.isArray(e))return e;var t=e.hasZ,n=e.hasM;if("point"===e.type)return n&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:n?[e.x,e.y,e.m]:[e.x,e.y];if("polygon"===e.type)return e.rings.slice(0);if("polyline"===e.type)return e.paths.slice(0);if("multipoint"===e.type)return e.points.slice(0);if("extent"===e.type){var r=e.clone().normalize();if(!r)return null;var i=!1,a=!1;return r.forEach((function(e){e.hasZ&&(i=!0),e.hasM&&(a=!0)})),r.map((function(e){var t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(i&&e.hasZ)for(var n=.5*(e.zmax-e.zmin),r=0;r<t.length;r++)t[r].push(n);if(a&&e.hasM)for(var o=.5*(e.mmax-e.mmin),s=0;s<t.length;s++)t[s].push(o);return t}))}return null}function o(e,t){var n=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){var i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}return Math.sqrt(n*n+r*r)}function s(e,t,n){var r=e[0]+n*(t[0]-e[0]),i=e[1]+n*(t[1]-e[1]);return e.length>2&&t.length>2?[r,i,e[2]+n*(t[2]-e[2])]:[r,i]}function c(e,t){return s(e,t,.5)}function u(e){for(var t=e.length,n=0,r=0;r<t-1;++r)n+=o(e[r],e[r+1]);return n}function l(e,t){if(t<=0)return e[0];for(var n=e.length,r=0,i=0;i<n-1;++i){var a=o(e[i],e[i+1]);if(t-r<a){var c=(t-r)/a;return s(e[i],e[i+1],c)}r+=a}return e[n-1]}function h(e,t,n){for(var r=e.length,i=0,a=0,o=0,s=0;s<r;s++){var c=e[s],u=e[(s+1)%r],l=2;i+=c[0]*u[1]-u[0]*c[1],c.length>2&&u.length>2&&n&&(a+=c[0]*u[2]-u[0]*c[2],l=3),c.length>l&&u.length>l&&t&&(o+=c[0]*u[l]-u[0]*c[l])}return i<=0&&a<=0&&o<=0}function f(e){return"polygon"!==e.type&&"polyline"!==e.type||d("polygon"===e.type?e.rings:e.paths,e.spatialReference),e}function d(e,t){var n=Object(i.d)(t);if(n){var a,o=n.valid[0],s=n.valid[1],c=s-o,u=Object(r.a)(e);try{var l=function(){var e=a.value,t=1/0,n=-1/0;e.forEach((function(e){for(var r=e[0];r<o;)r+=c;for(;r>s;)r-=c;t=Math.min(t,r),n=Math.max(n,r),e[0]=r}));var r=n-t;c-r<r&&e.forEach((function(e){e[0]<0&&(e[0]+=c)}))};for(u.s();!(a=u.n()).done;)l()}catch(h){u.e(h)}finally{u.f()}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return pe})),n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return se})),n.d(t,"d",(function(){return oe})),n.d(t,"e",(function(){return W})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return F})),n.d(t,"i",(function(){return z})),n.d(t,"j",(function(){return ie})),n.d(t,"k",(function(){return V})),n.d(t,"l",(function(){return J})),n.d(t,"m",(function(){return te})),n.d(t,"n",(function(){return Z})),n.d(t,"o",(function(){return re})),n.d(t,"p",(function(){return ge})),n.d(t,"q",(function(){return B}));var r=n(7),i=n.n(r),a=n(16),o=n(2),s=n(5),c=n(6),u=n(13),l=n(32),h=n(4),f=n(20),d=n(17),p=n(54),b=n(73),v=n(56),y=n(74),m=n(191),g=n(119),O=n(127),j=n(44),w=n(24),_=(n(9),n(224)),x=n(70),k=n(87),S=n(114),E=(n(115),n(151)),T=n(3),M=0,C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(o.a)(this,e),this.uid=M++,t?(this._wkt=void 0!==t.wkt?t.wkt:null,this._wkid=void 0!==t.wkid?t.wkid:-1,this._isInverse=void 0!==t.isInverse&&!0===t.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}return Object(T.a)(e,[{key:"wkt",get:function(){return this._wkt},set:function(e){this._wkt=e,this.uid=M++}},{key:"wkid",get:function(){return this._wkid},set:function(e){this._wkid=e,this.uid=M++}},{key:"isInverse",get:function(){return this._isInverse},set:function(e){this._isInverse=e,this.uid=M++}},{key:"getInverse",value:function(){var t=new e;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}],[{key:"fromGE",value:function(t){var n=new e;return n._wkt=t.wkt,n._wkid=t.wkid,n._isInverse=t.isInverse,n}}]),e}(),A=function(){function e(t){if(Object(o.a)(this,e),this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,t&&t.steps){var n,r=Object(u.a)(t.steps);try{for(r.s();!(n=r.n()).done;){var i=n.value;i instanceof C?this.steps.push(i):this.steps.push(new C({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}}catch(a){r.e(a)}finally{r.f()}}}return Object(T.a)(e,[{key:"getInverse",value:function(){var t=new e;t.steps=[];for(var n=this.steps.length-1;n>=0;n--){var r=this.steps[n];t.steps.push(r.getInverse())}return t}},{key:"getGTListEntry",value:function(){var e,t="",n=Object(u.a)(this.steps);try{for(n.s();!(e=n.n()).done;){t+=e.value.uid.toString()+","}}catch(r){n.e(r)}finally{n.f()}return t!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=t),this._gtlistentry}},{key:"assignCachedGe",value:function(t,n,r){this._cached_projection[e.cacheKey(t,n)]=r}},{key:"getCachedGeTransformation",value:function(t,n){var r,i="",a=Object(u.a)(this.steps);try{for(a.s();!(r=a.n()).done;){i+=r.value.uid.toString()+","}}catch(s){a.e(s)}finally{a.f()}i!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=i);var o=this._cached_projection[e.cacheKey(t,n)];return void 0===o?null:o}}],[{key:"cacheKey",value:function(e,t){return[void 0!==e.wkid&&null!==e.wkid?e.wkid.toString():"-1",void 0!==e.wkt&&null!==e.wkt?e.wkt.toString():"",void 0!==t.wkid&&null!==t.wkid?t.wkid.toString():"-1",void 0!==t.wkt&&null!==t.wkt?t.wkt.toString():""].join(",")}},{key:"fromGE",value:function(t){var n,r=new e,i="",a=Object(u.a)(t.steps);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=C.fromGE(o);r.steps.push(s),i+=s.uid.toString()+","}}catch(c){a.e(c)}finally{a.f()}return r._cached_projection={},r._gtlistentry=null,r._chain=i,r}}]),e}(),P=null,I=null,D=null,L={};function R(){return!!P&&Object(S.h)()}function N(){return!0}function F(e){return Object(h.g)(D)&&(D=Object(d.b)([Object(S.i)(),Promise.resolve().then(n.bind(null,98)).then((function(e){return e.g})),Promise.resolve().then(n.bind(null,109))])),D.then((function(t){var n=Object(l.a)(t,3),r=n[1],i=n[2].hydratedAdapter;Object(d.u)(e),I=i,(P=r.default)._enableProjection(S.j)}))}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Array.isArray(e)?0===e.length?[]:V(I,e,e[0].spatialReference,t,n):V(I,[e],e.spatialReference,t,n)[0]}function V(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(Object(h.g)(n)||Object(h.g)(r))return t;if(H(n,r,i))return t.map((function(e){return function(e,t,n){if(!e)return e;if("x"in e){var r=new v.a;return K(e,t,r,n)?r:null}if("xmin"in e){var i=new y.a;return ee(e,t,i,n)?i:null}if("rings"in e){var a=new g.a;return $(e,t,a,n)?a:null}if("paths"in e){var o=new O.a;return Q(e,t,o,n)?o:null}if("points"in e){var s=new m.a;return X(e,t,s,n)?s:null}return null}(e,n,r)}));if(Object(h.g)(i)){var a=A.cacheKey(n,r);void 0!==L[a]?i=L[a]:(i=U(n,r,null),Object(h.g)(i)&&(i=new A),L[a]=i)}if(Object(h.g)(P))throw new q;return P._project(e,t,n,r,i)}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Object(h.g)(P))throw new q;if(Object(h.g)(e)||Object(h.g)(t))return null;var r=P._getTransformation(I,e,t,n,null==n?void 0:n.spatialReference);return null!==r?A.fromGE(r):null}var B,G,q=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")}return n}(f.a);function H(e,t,n){return!n&&(!!Object(p.c)(e,t)||Object(p.i)(e)&&Object(p.i)(t)&&!!Ce(e,t,Le))}function W(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(a.a)(i.a.mark((function e(t,n){var r,a,o,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R()){e.next=18;break}r=Object(u.a)(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}if(o=a.value,s=o.source,c=o.dest,l=o.geographicTransformation,H(s,c,l)){e.next=8;break}return e.abrupt("return",F(n));case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.spatialReference,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return!Object(h.g)(n)&&K(e,e.spatialReference,t,n,r)}function K(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Ue[0]=e.x,Ue[1]=e.y;var a=e.z;return Ue[2]=void 0!==a?a:i,!!ie(Ue,t,0,Ue,r,0,1)&&(n.x=Ue[0],n.y=Ue[1],n.spatialReference=r,void 0===a?(n.z=void 0,n.hasZ=!1):(n.z=Ue[2],n.hasZ=!0),void 0===e.m?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),!0)}function X(e,t,n,r){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=e.points,s=e.hasZ,c=e.hasM,l=[],h=o.length,f=[],d=Object(u.a)(o);try{for(d.s();!(i=d.n()).done;){var p=i.value;f.push(p[0],p[1],s?p[2]:a)}}catch(g){d.e(g)}finally{d.f()}if(!ie(f,t,0,f,r,0,h))return!1;for(var b=0;b<h;++b){var v=3*b,y=f[v],m=f[v+1];s&&c?l.push([y,m,f[v+2],o[b][3]]):s?l.push([y,m,f[v+2]]):c?l.push([y,m,o[b][2]]):l.push([y,m])}return n.points=l,n.spatialReference=r,n.hasZ=s,n.hasM=c,!0}function Q(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=e.paths,o=e.hasZ,s=e.hasM,c=[];return!!ae(a,o,s,t,c,r,i)&&(n.paths=c,n.spatialReference=r,n.hasZ=o,n.hasM=s,!0)}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.spatialReference,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return!Object(h.g)(n)&&$(e,e.spatialReference,t,n,r)}function $(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=e.rings,o=e.hasZ,s=e.hasM,c=[];return!!ae(a,o,s,t,c,r,i)&&(n.rings=c,n.spatialReference=r,n.hasZ=o,n.hasM=s,!0)}function ee(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=e.xmin,o=e.ymin,s=e.xmax,c=e.ymax,u=e.hasZ,l=e.hasM;return!!ne(a,o,u?e.zmin:i,t,Ue,r)&&(n.xmin=Ue[0],n.ymin=Ue[1],u&&(n.zmin=Ue[2]),!!ne(s,c,u?e.zmax:i,t,Ue,r)&&(n.xmax=Ue[0],n.ymax=Ue[1],u&&(n.zmax=Ue[2]),l&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=r,!0))}function te(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Ue[0]=e.x,Ue[1]=e.y;var i=e.z;return Ue[2]=void 0!==i?i:r,ie(Ue,e.spatialReference,0,t,n,0,1)}function ne(e,t,n,r,i,a){return Fe[0]=e,Fe[1]=t,Fe[2]=n,ie(Fe,r,0,i,a,0,1)}function re(e,t,n,r){return!(Object(h.g)(t)||Object(h.g)(r)||e.length<2)&&(2===e.length&&(Fe[0]=e[0],Fe[1]=e[1],Fe[2]=0,e=Fe),ie(e,t,0,n,r,0,1))}function ie(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=Ce(t,i,Le);if(Object(h.g)(s))return!1;if(s===ue){if(e===r&&n===a)return!0;for(var c=n+3*o,u=n,l=a;u<c;u++,l++)r[l]=e[u];return!0}for(var f=n+3*o,d=n,p=a;d<f;d+=3,p+=3)s(e,d,r,p);return!0}function ae(e,t,n,r,i,a){var o,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=new Array,l=Object(u.a)(e);try{for(l.s();!(o=l.n()).done;){var h,f=o.value,d=Object(u.a)(f);try{for(d.s();!(h=d.n()).done;){var p=h.value;c.push(p[0],p[1],t?p[2]:s)}}catch(_){d.e(_)}finally{d.f()}}}catch(_){l.e(_)}finally{l.f()}if(!ie(c,r,0,c,a,0,c.length/3))return!1;var b=0;i.length=0;var v,y=Object(u.a)(e);try{for(y.s();!(v=y.n()).done;){var m,g=v.value,O=new Array,j=Object(u.a)(g);try{for(j.s();!(m=j.n()).done;){var w=m.value;t&&n?O.push([c[b++],c[b++],c[b++],w[3]]):t?O.push([c[b++],c[b++],c[b++]]):n?(O.push([c[b++],c[b++],w[2]]),b++):(O.push([c[b++],c[b++]]),b++)}}catch(_){j.e(_)}finally{j.f()}i.push(O)}}catch(_){y.e(_)}finally{y.f()}return!0}function oe(e,t,n,r){if(Object(h.g)(e)||Object(h.g)(r))return!1;var i=ce(e,Ie),a=ce(r,De);if(i===a&&1!==a&&(0!==i||Object(p.c)(e,r)))return Object(k.i)(n),Object(k.q)(n,n,t),!0;if(1===a||7===a||9===a){var o=0,s=0;if(1===a){var c=Me[i][6],u=Me[6][a];if(Object(h.g)(c)||Object(h.g)(u))return!1;c(t,0,ze,0),u(ze,0,Ve,0),o=Re*ze[0],s=Re*ze[1]}else if(7===a||9===a){var l=Me[i][a];if(Object(h.g)(l))return!1;l(t,0,Ve,0),o=Re*t[0],s=Re*t[1]}return se(s,o,n),n[12]=Ve[0],n[13]=Ve[1],n[14]=Ve[2],!0}if(3===a&&(2===i||1===i)){var f=Me[i][6];if(Object(h.g)(f))return!1;f(t,0,ze,0);var d=Re*ze[1];de(ze,0,Ve,0),Object(k.i)(n),Object(k.q)(n,n,Ve);var b=1/Math.cos(d);return Object(k.p)(n,n,[b,b,1]),!0}return!1}function se(e,t,n){var r=Math.sin(t),i=Math.cos(t),a=Math.sin(e),o=Math.cos(e),s=n;return s[0]=-r,s[4]=-a*i,s[8]=o*i,s[12]=0,s[1]=i,s[5]=-a*r,s[9]=o*r,s[13]=0,s[2]=0,s[6]=o,s[10]=a,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1,s}function ce(e,t){return t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Object(x.b)(e,1)),e.wkt===_.a.wkt?t.spatialReferenceId=1:Object(p.j)(e)?t.spatialReferenceId=2:Object(p.m)(e)?t.spatialReferenceId=3:e.wkt===_.d.wkt?t.spatialReferenceId=4:4490===e.wkid?t.spatialReferenceId=5:e.wkt===_.b.wkt?t.spatialReferenceId=7:e.wkt===_.c.wkt?t.spatialReferenceId=9:Object(p.g)(e)?t.spatialReferenceId=8:Object(p.h)(e)?t.spatialReferenceId=10:t.spatialReferenceId=0)}function ue(e,t,n,r){e!==n&&(n[r++]=e[t++],n[r++]=e[t++],n[r]=e[t])}function le(e,t,n,r){n[r++]=Ne*(e[t++]/b.a.radius),n[r++]=Ne*(Math.PI/2-2*Math.atan(Math.exp(-1*e[t++]/b.a.radius))),n[r]=e[t]}function he(e,t,n,r){le(e,t,n,r),me(n,r,n,r)}function fe(e,t,n,r){le(e,t,n,r),ke(n,r,n,r)}function de(e,t,n,r){var i=.4999999*Math.PI,a=Object(j.d)(Re*e[t+1],-i,i),o=Math.sin(a);n[r++]=Re*e[t]*b.a.radius,n[r++]=b.a.halfSemiMajorAxis*Math.log((1+o)/(1-o)),n[r]=e[t+2]}function pe(e){if(Object(h.g)(e))return!1;var t=ce(e,Ie);return!!Me[t][6]}function be(e,t,n,r,i){var a=i+e[t+2],o=Re*e[t+1],s=Re*e[t],c=Math.cos(o);n[r++]=Math.cos(s)*c*a,n[r++]=Math.sin(s)*c*a,n[r]=Math.sin(o)*a}function ve(e,t,n,r){be(e,t,n,r,b.c.radius)}function ye(e,t,n,r){be(e,t,n,r,b.b.radius)}function me(e,t,n,r){be(e,t,n,r,b.a.radius)}function ge(e,t,n,r,i){var a=e[t],o=e[t+1],s=e[t+2],c=Math.sqrt(a*a+o*o+s*s),u=Object(j.c)(s/(0===c?1:c)),l=Math.atan2(o,a);n[r++]=Ne*l,n[r++]=Ne*u,n[r]=c-i}function Oe(e,t,n,r){ge(e,t,n,r,b.c.radius)}function je(e,t,n,r){ge(e,t,n,r,b.b.radius)}function we(e,t,n,r){ge(e,t,n,r,b.a.radius)}function _e(e,t,n,r){we(e,t,n,r),de(n,r,n,r)}function xe(e,t,n,r){we(e,t,n,r),ke(n,r,n,r)}function ke(e,t,n,r){!function(e,t,n,r,i){var a=Re*e[t],o=Re*e[t+1],s=e[t+2],c=Math.sin(o),u=Math.cos(o),l=i.radius/Math.sqrt(1-i.eccentricitySquared*c*c);n[r++]=(l+s)*u*Math.cos(a),n[r++]=(l+s)*u*Math.sin(a),n[r++]=(l*(1-i.eccentricitySquared)+s)*c}(e,t,n,r,b.a)}function Se(e,t,n,r){var i,a,o,s,c,u,l,h,f,d,p,v,y,m,g,O,j,w,_,x,k,S=E.b,T=e[t],M=e[t+1],C=e[t+2];i=Math.abs(C),a=T*T+M*M,o=Math.sqrt(a),s=a+C*C,c=Math.sqrt(s),x=Math.atan2(M,T),u=C*C/s,l=a/s,m=S.a2/c,g=S.a3-S.a4/c,l>.3?(h=i/c*(1+l*(S.a1+m+u*g)/c),_=Math.asin(h),d=h*h,f=Math.sqrt(1-d)):(f=o/c*(1-u*(S.a5-m-l*g)/c),_=Math.acos(f),d=1-f*f,h=Math.sqrt(d)),p=1-b.a.eccentricitySquared*d,v=b.a.radius/Math.sqrt(p),_+=w=(O=f*(g=i-(y=S.a6*v)*h)-h*(m=o-v*f))/(y/p+(j=f*m+h*g)),k=j+O*w/2,C<0&&(_=-_),n[r++]=Ne*x,n[r++]=Ne*_,n[r]=k}function Ee(e,t,n,r){Se(e,t,n,r),me(n,r,n,r)}function Te(e,t,n,r){Se(e,t,n,r),de(n,r,n,r)}(G=B||(B={})).x2lon=function(e){return e/b.a.radius},G.y2lat=function(e){return Math.PI/2-2*Math.atan(Math.exp(-1*e/b.a.radius))},G.lon2x=function(e){return e*b.a.radius},G.lat2y=function(e){var t=Math.sin(e);return b.a.radius/2*Math.log((1+t)/(1-t))};var Me={2:{5:null,8:null,10:null,6:ue,1:me,7:null,9:null,0:null,3:de,2:ue,4:ke},5:{5:ue,8:null,10:null,6:ue,1:me,7:null,9:null,0:null,3:null,2:null,4:ke},8:{5:null,8:ue,10:null,6:null,1:null,7:ye,9:null,0:null,3:null,2:null,4:null},10:{5:null,8:null,10:ue,6:null,1:null,7:null,9:ve,0:null,3:null,2:null,4:null},3:{5:null,8:null,10:null,6:le,1:he,7:null,9:null,0:null,3:ue,2:le,4:fe},4:{5:Se,8:null,10:null,6:Se,1:Ee,7:null,9:null,0:null,3:Te,2:Se,4:ue},1:{5:we,8:null,10:null,6:we,1:ue,7:null,9:null,0:null,3:_e,2:we,4:xe},7:{5:null,8:je,10:null,6:null,1:null,7:ue,9:null,0:null,3:null,2:null,4:null},9:{5:null,8:null,10:Oe,6:null,1:null,7:null,9:ue,0:null,3:null,2:null,4:null},0:{5:null,8:null,10:null,6:null,1:null,7:null,9:null,0:ue,3:null,2:null,4:null},6:{5:null,8:null,10:null,6:ue,1:me,7:null,9:null,0:null,3:null,2:ue,4:ke}};function Ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pe();return Object(h.g)(e)||Object(h.g)(t)?null:Ae(e,t,n).projector}function Ae(e,t,n){if(Object(h.g)(e)||Object(h.g)(t)||n.source.spatialReference===e&&n.dest.spatialReference===t)return n;var r=ce(e,n.source),i=ce(t,n.dest);return 0===r&&0===i?Object(p.c)(e,t)?n.projector=ue:n.projector=null:n.projector=Me[r][i],n}function Pe(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:ue}}var Ie={spatialReference:null,spatialReferenceId:0},De={spatialReference:null,spatialReferenceId:0},Le=Pe(),Re=(Pe(),Object(j.f)(1)),Ne=Object(j.p)(1),Fe=Object(w.e)(),ze=Object(w.e)(),Ve=Object(w.e)(),Ue=Object(w.e)();Object(w.e)()},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(8),l=n(35),h=(n(12),n(21),n(22),function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).enabled=!0,i.type=null,i}return Object(i.a)(n,[{key:"writeEnabled",value:function(e,t,n){e||(t[n]=e)}}]),n}(n(27).a));Object(s.a)([Object(c.b)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],h.prototype,"enabled",void 0),Object(s.a)([Object(l.a)("enabled")],h.prototype,"writeEnabled",null),Object(s.a)([Object(c.b)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],h.prototype,"type",void 0);var f=h=Object(s.a)([Object(u.a)("esri.symbols.Symbol3DLayer")],h);t.a=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i=n(7),a=n.n(i),o=n(2),s=n(3),c=n(154);!function(e){function t(e,t,n,r){for(var i=t,a=t,o=n>>>1,s=e[i-1];a<=o;){(a=i<<1)<n&&r(e[a-1],e[a])<0&&++a;var c=e[a-1];if(r(c,s)<=0)break;e[i-1]=c,i=a}e[i-1]=s}function n(e,t){return e<t?-1:e>t?1:0}e.sort=function(e,r,i,a){void 0===r&&(r=0),void 0===i&&(i=e.length),void 0===a&&(a=n);for(var o=i>>>1;o>r;o--)t(e,o,i,a);for(var s=r+1,c=i-1;c>r;c--){var u=e[r];e[r]=e[c],e[c]=u,t(e,s,c,a)}},e.iterableSort=a.a.mark((function e(r,i,o,s){var c,u,l,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===i&&(i=0),void 0===o&&(o=r.length),void 0===s&&(s=n),c=o>>>1;case 2:if(!(c>i)){e.next=9;break}return t(r,c,o,s),void(e.next=6);case 6:c--,e.next=2;break;case 9:u=i+1,l=o-1;case 11:if(!(l>i)){e.next=21;break}return h=r[i],r[i]=r[l],r[l]=h,t(r,u,l,s),void(e.next=18);case 18:l--,e.next=11;break;case 21:case"end":return e.stop()}}),e)}))}(r||(r={}));var u=r,l=function(){function e(t){var n=this;Object(o.a)(this,e),this.data=[],this._length=0,this._allocator=void 0,this._deallocator=function(){return null},this._shrink=function(){},this._hint=new c.a,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),void 0!==t.deallocator&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=function(){n.data.length>1.5*n.length&&(n.data.length=Math.floor(1.1*n.length))}))}return Object(s.a)(e,[{key:"toArray",value:function(){return this.data.slice(0,this.length)}},{key:"getItemAt",value:function(e){if(!(e<0||e>=this._length))return this.data[e]}},{key:"length",get:function(){return this._length},set:function(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(var t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}},{key:"clear",value:function(){this.length=0}},{key:"prune",value:function(){this.clear(),this.data=[]}},{key:"push",value:function(e){this.data[this._length++]=e}},{key:"pushArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=0;n<t;n++)this.data[this._length++]=e[n]}},{key:"fill",value:function(e,t){for(var n=0;n<t;n++)this.data[this._length++]=e}},{key:"pushNew",value:function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));var e=this.data[this._length];return++this._length,e}},{key:"pop",value:function(){if(0!==this.length){var e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}}},{key:"iterableRemoveMany",value:a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Array,r=0;case 2:if(!(r<this.length)||r>=this.length){e.next=9;break}return Object(c.d)(t.data,this.data[r],t.length,t._hint)<0&&n.push(this.data[r]),void(e.next=6);case 6:++r,e.next=2;break;case 9:this.data=n,this._length=this.data.length;case 10:case"end":return e.stop()}}),e,this)}))},{key:"remove",value:function(e){var t=Object(c.d)(this.data,e,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}},{key:"removeUnordered",value:function(e){var t=Object(c.g)(this.data,e,this.length,this._hint);return void 0!==t&&(this.length=this.length-1),t}},{key:"removeUnorderedIndex",value:function(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}},{key:"removeUnorderedMany",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=arguments.length>2?arguments[2]:void 0;this.length=Object(c.h)(this.data,e,this.length,t,this._hint,n)}},{key:"front",value:function(){if(0!==this.length)return this.data[0]}},{key:"back",value:function(){if(0!==this.length)return this.data[this.length-1]}},{key:"swapElements",value:function(e,t){var n;e>=this.length||t>=this.length||e===t||(n=[this.data[t],this.data[e]],this.data[e]=n[0],this.data[t]=n[1])}},{key:"sort",value:function(e){u.sort(this.data,0,this.length,e)}},{key:"iterableSort",value:function(e){return u.iterableSort(this.data,0,this.length,e)}},{key:"some",value:function(e,t){for(var n=0;n<this.length;++n)if(e.call(t,this.data[n],n,this.data))return!0;return!1}},{key:"filterInPlace",value:function(e,t){for(var n=0,r=0;r<this._length;++r){var i=this.data[r];e.call(t,i,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=i,n++)}if(this._deallocator)for(var a=n;a<this._length;a++)this.data[a]=this._deallocator(this.data[a]);return this._length=n,this}},{key:"forAll",value:function(e,t){for(var n=this.length,r=this.data,i=0;i<n;++i)e.call(t,r[i],i,r)}},{key:"iterableForEach",value:a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.length)){e.next=7;break}return e.next=4,this.data[t];case 4:++t,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"map",value:function(e,t){for(var n=new Array(this.length),r=0;r<this.length;++r)n[r]=e.call(t,this.data[r],r,this.data);return n}},{key:"reduce",value:function(e,t){for(var n=t,r=0;r<this.length;++r)n=e(n,this.data[r],r,this.data);return n}}]),e}()},function(e,t,n){"use strict";n.r(t);var r,i=n(2),a=n(3),o=n(61),s=n(57),c=n(5),u=n(6),l=n(0),h=(n(15),n(23)),f=(n(14),n(18),n(1)),d=n(50),p=n(45),b=n(8),v=n(35),y=(n(12),n(21),n(22),n(43)),m=n(36),g=n(134),O=n(398),j=new d.a({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"}),w=r=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).color=new y.a([255,255,255,.25]),e.type="simple-marker",e.size=12,e.style="circle",e.outline=new g.default,e}return Object(a.a)(n,[{key:"normalizeCtorArgs",value:function(e,t,n,r){if(e&&"string"!=typeof e)return e;var i={};return e&&(i.style=e),null!=t&&(i.size=Object(m.j)(t)),n&&(i.outline=n),r&&(i.color=r),i}},{key:"writeColor",value:function(e,t){e&&"x"!==this.style&&"cross"!==this.style&&(t.color=e.toJSON()),null===e&&(t.color=null)}},{key:"path",set:function(e){this.style="path",this._set("path",e)}},{key:"clone",value:function(){return new r({angle:this.angle,color:Object(h.a)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}},{key:"hash",value:function(){var e;return"".concat(Object(o.a)(Object(s.a)(n.prototype),"hash",this).call(this),".").concat(this.color&&this.color.hash(),".").concat(this.path,".").concat(this.style,".").concat(null==(e=this.outline)?void 0:e.hash())}}]),n}(O.a);Object(l.a)([Object(f.b)()],w.prototype,"color",void 0),Object(l.a)([Object(v.a)("color")],w.prototype,"writeColor",null),Object(l.a)([Object(p.a)({esriSMS:"simple-marker"},{readOnly:!0})],w.prototype,"type",void 0),Object(l.a)([Object(f.b)()],w.prototype,"size",void 0),Object(l.a)([Object(f.b)({type:j.apiValues,json:{read:j.read,write:j.write}})],w.prototype,"style",void 0),Object(l.a)([Object(f.b)({type:String,json:{write:!0}})],w.prototype,"path",null),Object(l.a)([Object(f.b)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":g.default}},json:{default:null,write:!0}})],w.prototype,"outline",void 0);var _=w=r=Object(l.a)([Object(b.a)("esri.symbols.SimpleMarkerSymbol")],w);t.default=_},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o}));var r=n(92);function i(e,t){var n="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){var i=parseInt(n,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.getItemAt(i)}var a=Object(r.a)(t);return Object(r.b)(a,n)?a.get(n):t[n]}function a(e,t,n){if(null==e)return e;var r=i(t[n],e);return!r&&n<t.length-1?void 0:n===t.length-1?r:a(r,t,n+1)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"string"==typeof t&&-1===t.indexOf(".")?i(t,e):a(e,Object(r.f)(t),n)}function s(e,t){return o(e,t)}function c(e,t){return void 0!==o(t,e)}},function(e,t,n){"use strict";var r,i=n(10),a=n(2),o=n(3),s=n(5),c=n(6),u=n(0),l=(n(15),n(14),n(18)),h=n(1),f=n(50),d=n(34),p=n(8),b=n(35),v=(n(12),n(21),n(22),n(27)),y=n(54),m=n(48),g=n(79),O=n(56),j=(n(99),n(70)),w=n(115),_=n(393),x=new f.a({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"}),k=r=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).dpi=96,r.format=null,r.origin=null,r.minScale=0,r.maxScale=0,r.size=null,r.spatialReference=null,r}return Object(o.a)(n,[{key:"isWrappable",get:function(){var e=this.spatialReference,t=this.origin;if(e&&t){var n=Object(y.d)(e);return e.isWrappable&&Math.abs(n.origin[0]-t.x)<=n.dx}return!1}},{key:"readOrigin",value:function(e,t){return O.a.fromJSON(Object(i.a)({spatialReference:t.spatialReference},e))}},{key:"lods",set:function(e){var t=this,n=0,r=0,i=[];this._levelToLOD={},e&&(n=-1/0,r=1/0,e.forEach((function(e){i.push(e.scale),n=e.scale>n?e.scale:n,r=e.scale<r?e.scale:r,t._levelToLOD[e.level]=e}))),this._set("scales",i),this._set("minScale",n),this._set("maxScale",r),this._set("lods",e),this._initializeUpsampleLevels()}},{key:"readSize",value:function(e,t){return[t.cols,t.rows]}},{key:"writeSize",value:function(e,t){t.cols=e[0],t.rows=e[0]}},{key:"zoomToScale",value:function(e){var t=this.scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];var n=Math.round(e-.5),r=Math.round(e);return t[r]+(r-e)*(t[n]-t[r])}},{key:"scaleToZoom",value:function(e){for(var t=this.scales,n=t.length-1,r=0;r<n;r++){var i=t[r],a=t[r+1];if(i<=e)return r;if(a===e)return r+1;if(i>e&&a<e)return r+1-(e-a)/(i-a)}return r}},{key:"snapScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,n=this.scaleToZoom(e);return n%Math.floor(n)>=t?this.zoomToScale(Math.ceil(n)):this.zoomToScale(Math.floor(n))}},{key:"tileAt",value:function(e,t,n,r){var i,a,o=this.lodAt(e);if(!o)return null;if("number"==typeof t)i=t,a=n;else if(Object(y.c)(t.spatialReference,this.spatialReference))i=t.x,a=t.y,r=n;else{var s=Object(g.d)(t,this.spatialReference);if(!s)return null;i=s.x,a=s.y,r=n}var c=o.resolution*this.size[0],u=o.resolution*this.size[1];return r||(r={id:null,level:0,row:0,col:0,extent:Object(w.h)()}),r.level=e,r.row=Math.floor((this.origin.y-a)/u+.001),r.col=Math.floor((i-this.origin.x)/c+.001),this.updateTileInfo(r),r}},{key:"updateTileInfo",value:function(e){var t=this.lodAt(e.level);if(t){var n=t.resolution*this.size[0],r=t.resolution*this.size[1];e.id="".concat(e.level,"/").concat(e.row,"/").concat(e.col),e.extent||(e.extent=Object(w.h)()),e.extent[0]=this.origin.x+e.col*n,e.extent[1]=this.origin.y-(e.row+1)*r,e.extent[2]=e.extent[0]+n,e.extent[3]=e.extent[1]+r}}},{key:"upsampleTile",value:function(e){var t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}},{key:"getTileBounds",value:function(e,t){var n=this.lodAt(t.level).resolution,r=n*this.size[0],i=n*this.size[1];return e[0]=this.origin.x+t.col*r,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+r,e[3]=e[1]+i,e}},{key:"lodAt",value:function(e){return this._levelToLOD&&this._levelToLOD[e]||null}},{key:"clone",value:function(){return r.fromJSON(this.write({}))}},{key:"_initializeUpsampleLevels",value:function(){var e=this.lods;this._upsampleLevels=[];for(var t=null,n=0;n<e.length;n++){var r=e[n];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{size:256,spatialReference:m.a.WebMercator},t=e.resolutionFactor||1,n=e.scales,i=e.size||256,a=e.spatialReference||m.a.WebMercator;if(!Object(y.i)(a)){var o=[];if(n)for(var s=0;s<n.length;s++){var c=n[s];o.push({level:s,scale:c,resolution:c})}else for(var u=5e-4,l=23;l>=0;l--)o.unshift({level:l,scale:u,resolution:u}),u*=2;return new r({dpi:96,lods:o,origin:new O.a(0,0,a),size:[i,i],spatialReference:a})}var h=Object(y.d)(a),f=e.origin?new O.a({x:e.origin.x,y:e.origin.y,spatialReference:a}):new O.a(h?{x:h.origin[0],y:h.origin[1],spatialReference:a}:{x:0,y:0,spatialReference:a}),d=1/(39.37*Object(j.b)(a)*96),p=[];if(n)for(var b=0;b<n.length;b++){var v=n[b],g=v*d;p.push({level:b,scale:v,resolution:g})}else{var w=Object(y.f)(a)?512/i*591657527.5917094:256/i*591657527.591555,_=Math.ceil(24/t);p.push({level:0,scale:w,resolution:w*d});for(var x=1;x<_;x++){var k=w/Math.pow(2,t),S=k*d;p.push({level:x,scale:k,resolution:S}),w=k}}return new r({dpi:96,lods:p,origin:f,size:[i,i],spatialReference:a})}}]),n}(v.a);Object(u.a)([Object(h.b)({type:Number,json:{write:!0}})],k.prototype,"compressionQuality",void 0),Object(u.a)([Object(h.b)({type:Number,json:{write:!0}})],k.prototype,"dpi",void 0),Object(u.a)([Object(h.b)({type:String,json:{read:x.read,write:x.write,origins:{"web-scene":{read:!1,write:!1}}}})],k.prototype,"format",void 0),Object(u.a)([Object(h.b)({readOnly:!0,dependsOn:["spatialReference","origin"]})],k.prototype,"isWrappable",null),Object(u.a)([Object(h.b)({type:O.a,json:{write:!0}})],k.prototype,"origin",void 0),Object(u.a)([Object(d.a)("origin")],k.prototype,"readOrigin",null),Object(u.a)([Object(h.b)({type:[_.a],value:null,json:{write:!0}})],k.prototype,"lods",null),Object(u.a)([Object(h.b)({readOnly:!0})],k.prototype,"minScale",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],k.prototype,"maxScale",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],k.prototype,"scales",void 0),Object(u.a)([Object(h.b)({cast:function(e){return Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]}})],k.prototype,"size",void 0),Object(u.a)([Object(d.a)("size",["rows","cols"])],k.prototype,"readSize",null),Object(u.a)([Object(b.a)("size",{cols:{type:l.a},rows:{type:l.a}})],k.prototype,"writeSize",null),Object(u.a)([Object(h.b)({type:m.a,json:{write:!0}})],k.prototype,"spatialReference",void 0);var S=k=r=Object(u.a)([Object(p.a)("esri.layers.support.TileInfo")],k);t.a=S},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return p}));var r,i=n(7),a=n.n(i),o=n(28),s=n(10),c=n(2),u=n(3),l=n(16),h=n(4),f=n(17),d=n(48);n(99);function p(){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(r||(r=Object(l.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(11).then(n.bind(null,967));case 2:return t=e.sent,e.next=5,t.arcade.load();case 5:return e.abrupt("return",{arcade:t.arcade,arcadeUtils:t,Dictionary:t.Dictionary,Feature:t.arcadeFeature});case 6:case"end":return e.stop()}}),e)})))()),r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e,t,n){return g.create(e,t,n,null,["$feature"])},y=function(e,t,n){return g.create(e,t,n,null,["$feature","$view"])},m=function(e,t,n,r){return g.create(e,t,n,r,["$feature","$view"])},g=function(){function e(t,n,r,i,a,o,s,u){Object(c.a)(this,e),this.script=t,this.evaluate=a,this.fields=s,this._syntaxTree=i,this._arcade=n,this._arcadeDictionary=r,this._arcadeFeature=o,this._spatialReference=u,this._referencesGeometry=n.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}return Object(u.a)(e,[{key:"repurposeFeature",value:function(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}},{key:"repurposeAdapter",value:function(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}},{key:"createDictionary",value:function(){return new this._arcadeDictionary}},{key:"referencesMember",value:function(e){return this._arcade.referencesMember(this._syntaxTree,e)}},{key:"referencesFunction",value:function(e){return this._arcade.referencesFunction(this._syntaxTree,e)}},{key:"referencesGeometry",value:function(){return this._referencesGeometry}},{key:"referencesScale",value:function(){return this._referencesScale}},{key:"extractFieldLiterals",value:function(e){return this._arcade.extractFieldLiterals(this._syntaxTree,e)}}],[{key:"create",value:function(){var t=Object(l.a)(a.a.mark((function t(n,r,i,c,u,l){var b,v,y,m,g,O,j,w,_,x,k,S,E,T;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:return b=t.sent,v=b.arcade,y=b.Feature,m=b.Dictionary,g=d.a.fromJSON(r),O=v.parseScript(n,l),j=u.reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t,null))}),{}),w=null,Object(h.h)(c)&&((w=new m(c)).immutable=!0,j.$config=null),_=v.scriptUsesGeometryEngine(O)&&v.enableGeometrySupport(),x=v.scriptUsesFeatureSet(O)&&v.enableFeatureSetSupport(),k=v.scriptIsAsync(O)&&v.enableAsyncSupport(),S={vars:j,spatialReference:g,useAsync:!!k},(E=new m).immutable=!1,E.setField("scale",0),T=v.compileScript(O,S),t.next=16,Object(f.b)([_,x,k]);case 16:return t.abrupt("return",new e(n,v,m,O,(function(e){return"$view"in e&&e.$view&&(E.setField("scale",e.$view.scale),e.$view=E),w&&(e.$config=w),T({vars:e,spatialReference:g})}),new y,i,g));case 17:case"end":return t.stop()}}),t)})));return function(e,n,r,i,a,o){return t.apply(this,arguments)}}()}]),e}()},function(e,t,n){"use strict";var r=n(2),i=n(3),a=function(){function e(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(Object(r.a)(this,e),this.ctor=t,this.acquireFunction=n,this.releaseFunction=i,this.allocationSize=a,this._pool=new Array(o),this._initialSize=o,this.ctor)for(var s=0;s<o;s++)this._pool[s]=new this.ctor;this.allocationSize=Math.max(a,1)}return Object(i.a)(e,[{key:"destroy",value:function(){this.prune(0)}},{key:"acquire",value:function(){var t,n,r=this.ctor;if(e.test.disabled)n=new r;else{if(0===this._pool.length)for(var i=this.allocationSize,a=0;a<i;a++)this._pool[a]=new r;n=this._pool.pop()}for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return this.acquireFunction?this.acquireFunction.apply(this,[n].concat(s)):function(e){return e&&e.acquire&&"function"==typeof e.acquire}(n)&&(t=n).acquire.apply(t,s),n}},{key:"release",value:function(t){t&&!e.test.disabled&&(this.releaseFunction?this.releaseFunction(t):function(e){return e&&e.release&&"function"==typeof e.release}(t)&&t.release(),this._pool.push(t))}},{key:"prune",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._initialSize;if(!(e>=this._pool.length)){for(var t=e;t<this._pool.length;++t){var n=this._pool[t];this._dispose(n)}this._pool.length=e}}},{key:"_dispose",value:function(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}}]),e}();a.test={disabled:!1},t.a=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u}));n(15);var r,i,a=n(248),o=n(269),s=n(323),c=n(266);function u(e,t){switch(e.type){case"range":var n="range"in e?e.range[0]:e.minValue,i="range"in e?e.range[1]:e.maxValue;if(+t<n||+t>i)return r.VALUE_OUT_OF_RANGE;break;case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((function(e){return null==e||e.code!==t})))return r.INVALID_CODED_VALUE}return null}(i=r||(r={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",i.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var l={key:"type",base:a.a,typeMap:{range:c.a,"coded-value":o.a,inherited:s.a}};function h(e){if(e&&"range"===e.type)return{min:"range"in e?e.range[0]:e.minValue,max:"range"in e?e.range[1]:e.maxValue}}function f(e){if(!e||!e.type)return null;switch(e.type){case"range":return c.a.fromJSON(e);case"codedValue":return o.a.fromJSON(e);case"inherited":return s.a.fromJSON(e)}return null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(3),a=n(221),o=n(26),s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DefaultIndices,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"triangle";Object(r.a)(this,e),this.initialize(t,n,i)}return Object(i.a)(e,[{key:"id",get:function(){return this._id}},{key:"vertexAttributes",get:function(){return this._vertexAttributes}},{key:"indices",get:function(){return this._indices}},{key:"indexCount",get:function(){var e=Object(o.g)(this._indices);return null==e?0:e.length}},{key:"primitiveType",get:function(){return this._primitiveType}},{key:"getVertexAttr",value:function(){return this.vertexAttributes}},{key:"initialize",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DefaultIndices,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"triangle",i={};for(var s in t){var c=t[s],u=c.data,l=c.size;i[s]={data:u,size:l,offsetIdx:0,strideIdx:l}}if(n===e.DefaultIndices){var h=function(e){var t=Object(o.g)(e);return null==t?0:t.data.length/t.size}(i),f=Object(a.d)(h);for(var d in n={},i)n[d]=f}this._id=Object(a.e)(),this._vertexAttributes=i,this._indices=n,this._primitiveType=r}},{key:"toRenderData",value:function(){return{id:this._id.toString(),indices:this._indices,vertexAttr:this._vertexAttributes}}},{key:"getIndices",value:function(e){return this._indices[e]}},{key:"getAttribute",value:function(e){return this._vertexAttributes[e]}},{key:"estimateGpuMemoryUsage",value:function(){var e=0;if(this._indices[o.a.POSITION]){e+=3*this._indices[o.a.POSITION].length*4}if(this._indices[o.a.NORMAL]){e+=3*this._indices[o.a.NORMAL].length*4}if(this._indices[o.a.UV0]){e+=2*this._indices[o.a.UV0].length*4}if(this._indices[o.a.COLOR]){e+=1*this._indices[o.a.COLOR].length*4}return e}}]),e}();s.DefaultIndices={}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return h}));var r=n(32),i=n(13);function a(e,t,n,r){return function(e){return"function"==typeof e}(e)?e(t,n,r):e}function o(e){return[e.r,e.g,e.b,e.a]}function s(e,t,n){var a=function(e){for(var t=e.length;t--;)if(-1===" /-,\n".indexOf(e.charAt(t)))return!1;return!0},o=[],s=0,u=-1;do{if((u=t.indexOf("[",s))>=s){if(u>s){var l=t.substr(s,u-s);o.push([l,null,a(l)])}if(s=u+1,(u=t.indexOf("]",s))>=s){if(u>s){var h=e[t.substr(s,u-s)];h&&o.push([null,h,!1])}s=u+1}}}while(-1!==u);if(s<t.length-1){var f=t.substr(s);o.push([f,null,a(f)])}return function(e){var t,a="",s=null,u=Object(i.a)(o);try{for(u.s();!(t=u.n()).done;){var l=t.value,h=Object(r.a)(l,3),f=h[0],d=h[1],p=h[2];if(f)p?s=f:(s&&(a+=s,s=null),a+=f);else{var b=e.attributes[d];b&&(s&&(a+=s,s=null),a+=b)}}}catch(v){u.e(v)}finally{u.f()}return c(a,n)}}function c(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function u(e,t,n,r,i,a){for(var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=t/i,c=n/a,u=Math.ceil(s/2),l=Math.ceil(c/2),h=0;h<a;h++)for(var f=0;f<i;f++){for(var d=4*(f+(o?a-h-1:h)*i),p=0,b=0,v=0,y=0,m=0,g=0,O=0,j=(h+.5)*c,w=Math.floor(h*c);w<(h+1)*c;w++)for(var _=Math.abs(j-(w+.5))/l,x=(f+.5)*s,k=_*_,S=Math.floor(f*s);S<(f+1)*s;S++){var E=Math.abs(x-(S+.5))/u,T=Math.sqrt(k+E*E);T>=-1&&T<=1&&((p=2*T*T*T-3*T*T+1)>0&&(O+=p*e[(E=4*(S+w*t))+3],v+=p,e[E+3]<255&&(p=p*e[E+3]/250),y+=p*e[E],m+=p*e[E+1],g+=p*e[E+2],b+=p))}r[d]=y/b,r[d+1]=m/b,r[d+2]=g/b,r[d+3]=O/v}}function l(e){return e?{r:e[0],g:e[1],b:e[2],a:e[3]/255}:{r:0,g:0,b:0,a:0}}function h(e){var t;return null==(t=e.data)?void 0:t.symbol}function f(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function d(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function p(e){return"CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type}function b(e){return"CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type}},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(111),o=function(){function e(t,n,i,a,o){Object(r.a)(this,e),this._context=null,this._glName=null,this._bufferType=void 0,this._usage=35044,this._size=-1,this._indexType=void 0,this.id=s++,t.instanceCounter.increment(1,this),this._context=t,this._bufferType=n,this._usage=i,this._glName=this._context.gl.createBuffer(),a&&this.setData(a,o)}return Object(i.a)(e,[{key:"glName",get:function(){return this._glName}},{key:"size",get:function(){return this._size}},{key:"usage",get:function(){return this._usage}},{key:"bufferType",get:function(){return this._bufferType}},{key:"indexType",get:function(){return this._indexType}},{key:"byteSize",get:function(){return 34962===this._bufferType?this._size:5125===this._indexType?4*this._size:2*this._size}},{key:"dispose",value:function(){this._context&&(this._glName&&(this._context.gl.deleteBuffer(this._glName),this._glName=null),this._context.instanceCounter.decrement(1,this),this._context=null)}},{key:"setData",value:function(e,t){if(e){if("number"==typeof e){if(e<0&&console.error("Buffer size cannot be negative!"),34963===this._bufferType&&t)switch(this._indexType=t,this._size=e,t){case 5123:e*=2;break;case 5125:e*=4}}else{var n=e.byteLength;Object(a.i)(e)&&(n/=2,this._indexType=5123),Object(a.j)(e)&&(n/=4,this._indexType=5125),this._size=n}var r=this._context.getBoundVAO();this._context.bindVAO(null),this._context.bindBuffer(this),this._context.gl.bufferData(this._bufferType,e,this._usage),this._context.bindVAO(r)}}},{key:"setSubData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;if(e){(t<0||t>=this._size)&&console.error("offset is out of range!");var i=t,o=n,s=r,c=e.byteLength;Object(a.i)(e)&&(c/=2,i*=2,o*=2,s*=2),Object(a.j)(e)&&(c/=4,i*=4,o*=4,s*=4),void 0===r&&(r=c-1),n>=r&&console.error("end must be bigger than start!"),t+n-r>this._size&&console.error("An attempt to write beyond the end of the buffer!");var u=this._context.getBoundVAO();this._context.bindVAO(null),this._context.bindBuffer(this);var l=this._context.gl,h=ArrayBuffer.isView(e)?e.buffer:e;l.bufferSubData(this._bufferType,i,h.slice(o,s)),this._context.bindVAO(u)}}}],[{key:"createIndex",value:function(t,n,r,i){return new e(t,34963,n,r,i)}},{key:"createVertex",value:function(t,n,r){return new e(t,34962,n,r)}}]),e}(),s=0;t.a=o},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return rt}));var r=n(551),i=n.n(r),a=n(723),o=n.n(a),s=n(19),c=n.n(s),u=n(503),l=n(250),h=n(552),f=(n(100),n(377)),d=n(732),p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},O=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},j=function(e){return"object"===("undefined"===typeof e?"undefined":b(e))&&e.constructor===Object},w=Object.freeze([]),_=Object.freeze({});function x(e){return"function"===typeof e}function k(e){return e.displayName||e.name||"Component"}function S(e){return e&&"string"===typeof e.styledComponentId}var E="undefined"!==typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).SC_ATTR)||"data-styled",T="data-styled-version",M="data-styled-streamed",C="undefined"!==typeof window&&"HTMLElement"in window,A="boolean"===typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||"undefined"!==typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).REACT_APP_SC_DISABLE_SPEEDY||Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).SC_DISABLE_SPEEDY)||!1,P={};var I=function(e){function t(n){v(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=O(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#"+n+" for more information."+(i.length>0?" Additional arguments: "+i.join(", "):"")));return O(o)}return g(t,e),t}(Error),D=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,L=function(e){var t=""+(e||""),n=[];return t.replace(D,(function(e,t,r){return n.push({componentId:t,matchIndex:r}),e})),n.map((function(e,r){var i=e.componentId,a=e.matchIndex,o=n[r+1];return{componentId:i,cssFromDOM:o?t.slice(a,o.matchIndex):t.slice(a)}}))},R=/^\s*\/\/.*$/gm,N=new i.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),F=new i.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),z=[],V=function(e){if(-2===e){var t=z;return z=[],t}},U=o()((function(e){z.push(e)})),B=void 0,G=void 0,q=void 0,H=function(e,t,n){return t>0&&-1!==n.slice(0,t).indexOf(G)&&n.slice(t-G.length,t)!==G?"."+B:e};F.use([function(e,t,n){2===e&&n.length&&n[0].lastIndexOf(G)>0&&(n[0]=n[0].replace(q,H))},U,V]),N.use([U,V]);var W=function(e){return N("",e)};function Y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"&",i=e.join("").replace(R,""),a=t&&n?n+" "+t+" { "+i+" }":i;return B=r,G=t,q=new RegExp("\\"+G+"\\b","g"),F(n||!t?"":t,a)}var J=function(){return n.nc},K=function(e,t,n){n&&((e[t]||(e[t]=Object.create(null)))[n]=!0)},X=function(e,t){e[t]=Object.create(null)},Q=function(e){return function(t,n){return void 0!==e[t]&&e[t][n]}},Z=function(e){var t="";for(var n in e)t+=Object.keys(e[n]).join(" ")+" ";return t.trim()},$=function(e){if(e.sheet)return e.sheet;for(var t=e.ownerDocument.styleSheets.length,n=0;n<t;n+=1){var r=e.ownerDocument.styleSheets[n];if(r.ownerNode===e)return r}throw new I(10)},ee=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(i){return!1}return!0},te=function(e){return"\n/* sc-component-id: "+e+" */\n"},ne=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},re=function(e,t){return function(n){var r=J();return"<style "+[r&&'nonce="'+r+'"',E+'="'+Z(t)+'"',T+'="4.4.1"',n].filter(Boolean).join(" ")+">"+e()+"</style>"}},ie=function(e,t){return function(){var n,r=((n={})[E]=Z(t),n[T]="4.4.1",n),i=J();return i&&(r.nonce=i),c.a.createElement("style",m({},r,{dangerouslySetInnerHTML:{__html:e()}}))}},ae=function(e){return function(){return Object.keys(e)}},oe=function(e,t){return e.createTextNode(te(t))},se=function e(t,n){var r=void 0===t?Object.create(null):t,i=void 0===n?Object.create(null):n,a=function(e){var t=i[e];return void 0!==t?t:i[e]=[""]},o=function(){var e="";for(var t in i){var n=i[t][0];n&&(e+=te(t)+n)}return e};return{clone:function(){var t=function(e){var t=Object.create(null);for(var n in e)t[n]=m({},e[n]);return t}(r),n=Object.create(null);for(var a in i)n[a]=[i[a][0]];return e(t,n)},css:o,getIds:ae(i),hasNameForId:Q(r),insertMarker:a,insertRules:function(e,t,n){a(e)[0]+=t.join(" "),K(r,e,n)},removeRules:function(e){var t=i[e];void 0!==t&&(t[0]="",X(r,e))},sealed:!1,styleTag:null,toElement:ie(o,r),toHTML:re(o,r)}},ce=function(e,t,n,r,i){if(C&&!n){var a=function(e,t,n){var r=document;e?r=e.ownerDocument:t&&(r=t.ownerDocument);var i=r.createElement("style");i.setAttribute(E,""),i.setAttribute(T,"4.4.1");var a=J();if(a&&i.setAttribute("nonce",a),i.appendChild(r.createTextNode("")),e&&!t)e.appendChild(i);else{if(!t||!e||!t.parentNode)throw new I(6);t.parentNode.insertBefore(i,n?t:t.nextSibling)}return i}(e,t,r);return A?function(e,t){var n=Object.create(null),r=Object.create(null),i=void 0!==t,a=!1,o=function(t){var i=r[t];return void 0!==i?i:(r[t]=oe(e.ownerDocument,t),e.appendChild(r[t]),n[t]=Object.create(null),r[t])},s=function(){var e="";for(var t in r)e+=r[t].data;return e};return{clone:function(){throw new I(5)},css:s,getIds:ae(r),hasNameForId:Q(n),insertMarker:o,insertRules:function(e,r,s){for(var c=o(e),u=[],l=r.length,h=0;h<l;h+=1){var f=r[h],d=i;if(d&&-1!==f.indexOf("@import"))u.push(f);else{d=!1;var p=h===l-1?"":" ";c.appendData(""+f+p)}}K(n,e,s),i&&u.length>0&&(a=!0,t().insertRules(e+"-import",u))},removeRules:function(o){var s=r[o];if(void 0!==s){var c=oe(e.ownerDocument,o);e.replaceChild(c,s),r[o]=c,X(n,o),i&&a&&t().removeRules(o+"-import")}},sealed:!1,styleTag:e,toElement:ie(s,n),toHTML:re(s,n)}}(a,i):function(e,t){var n=Object.create(null),r=Object.create(null),i=[],a=void 0!==t,o=!1,s=function(e){var t=r[e];return void 0!==t?t:(r[e]=i.length,i.push(0),X(n,e),r[e])},c=function(){var t=$(e).cssRules,n="";for(var a in r){n+=te(a);for(var o=r[a],s=ne(i,o),c=s-i[o];c<s;c+=1){var u=t[c];void 0!==u&&(n+=u.cssText)}}return n};return{clone:function(){throw new I(5)},css:c,getIds:ae(r),hasNameForId:Q(n),insertMarker:s,insertRules:function(r,c,u){for(var l=s(r),h=$(e),f=ne(i,l),d=0,p=[],b=c.length,v=0;v<b;v+=1){var y=c[v],m=a;m&&-1!==y.indexOf("@import")?p.push(y):ee(h,y,f+d)&&(m=!1,d+=1)}a&&p.length>0&&(o=!0,t().insertRules(r+"-import",p)),i[l]+=d,K(n,r,u)},removeRules:function(s){var c=r[s];if(void 0!==c&&!1!==e.isConnected){var u=i[c];!function(e,t,n){for(var r=t-n,i=t;i>r;i-=1)e.deleteRule(i)}($(e),ne(i,c)-1,u),i[c]=0,X(n,s),a&&o&&t().removeRules(s+"-import")}},sealed:!1,styleTag:e,toElement:ie(c,n),toHTML:re(c,n)}}(a,i)}return se()},ue=/\s+/,le=void 0;le=C?A?40:1e3:-1;var he=0,fe=void 0,de=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var n=t.tags[0];return t.importRuleTag=ce(t.target,n?n.styleTag:null,t.forceServer,!0)},he+=1,this.id=he,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!C||this.forceServer)return this;var e=[],t=[],n=!1,r=document.querySelectorAll("style["+E+"]["+T+'="4.4.1"]'),i=r.length;if(!i)return this;for(var a=0;a<i;a+=1){var o=r[a];n||(n=!!o.getAttribute(M));for(var s,c=(o.getAttribute(E)||"").trim().split(ue),u=c.length,l=0;l<u;l+=1)s=c[l],this.rehydratedNames[s]=!0;t.push.apply(t,L(o.textContent)),e.push(o)}var h=t.length;if(!h)return this;var f=this.makeTag(null);!function(e,t,n){for(var r=0,i=n.length;r<i;r+=1){var a=n[r],o=a.componentId,s=a.cssFromDOM,c=W(s);e.insertRules(o,c)}for(var u=0,l=t.length;u<l;u+=1){var h=t[u];h.parentNode&&h.parentNode.removeChild(h)}}(f,e,t),this.capacity=Math.max(1,le-h),this.tags.push(f);for(var d=0;d<h;d+=1)this.tagMap[t[d].componentId]=f;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];fe=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map((function(e){for(var n=e.getIds(),r=e.clone(),i=0;i<n.length;i+=1)t.tagMap[n[i]]=r;return r})),t.rehydratedNames=m({},this.rehydratedNames),t.deferred=m({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach((function(e){e.sealed=!0}))},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return ce(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!t.sealed)return t;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=le,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,n){for(var r=this.clones,i=0;i<r.length;i+=1)r[i].inject(e,t,n);var a=this.getTagForId(e);if(void 0!==this.deferred[e]){var o=this.deferred[e].concat(t);a.insertRules(e,o,n),this.deferred[e]=void 0}else a.insertRules(e,t,n)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},e.prototype.toHTML=function(){return this.tags.map((function(e){return e.toHTML()})).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map((function(t,n){var r="sc-"+e+"-"+n;return Object(s.cloneElement)(t.toElement(),{key:r})}))},y(e,null,[{key:"master",get:function(){return fe||(fe=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),pe=function(){function e(t,n){var r=this;v(this,e),this.inject=function(e){e.hasNameForId(r.id,r.name)||e.inject(r.id,r.rules,r.name)},this.toString=function(){throw new I(12,String(r.name))},this.name=t,this.rules=n,this.id="sc-keyframes-"+t}return e.prototype.getName=function(){return this.name},e}(),be=/([A-Z])/g,ve=/^ms-/;function ye(e){return e.replace(be,"-$1").toLowerCase().replace(ve,"-ms-")}var me=function(e){return void 0===e||null===e||!1===e||""===e},ge=function e(t,n){var r=[];return Object.keys(t).forEach((function(n){if(!me(t[n])){if(j(t[n]))return r.push.apply(r,e(t[n],n)),r;if(x(t[n]))return r.push(ye(n)+":",t[n],";"),r;r.push(ye(n)+": "+function(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||e in u.a?String(t).trim():t+"px"}(n,t[n])+";")}return r})),n?[n+" {"].concat(r,["}"]):r};function Oe(e,t,n){if(Array.isArray(e)){for(var r,i=[],a=0,o=e.length;a<o;a+=1)null!==(r=Oe(e[a],t,n))&&(Array.isArray(r)?i.push.apply(i,r):i.push(r));return i}return me(e)?null:S(e)?"."+e.styledComponentId:x(e)?"function"!==typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:Oe(e(t),t,n):e instanceof pe?n?(e.inject(n),e.getName()):e:j(e)?ge(e):e.toString();var s}function je(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x(e)||j(e)?Oe(p(w,[e].concat(n))):Oe(p(e,n))}function we(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;if(!Object(l.isValidElementType)(t))throw new I(1,String(t));var r=function(){return e(t,n,je.apply(void 0,arguments))};return r.withConfig=function(r){return we(e,t,m({},n,r))},r.attrs=function(r){return we(e,t,m({},n,{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r}function _e(e){for(var t,n=0|e.length,r=0|n,i=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return((r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16))^r>>>15)>>>0}var xe=function(e){return String.fromCharCode(e+(e>25?39:97))};function ke(e){var t="",n=void 0;for(n=e;n>52;n=Math.floor(n/52))t=xe(n%52)+t;return xe(n%52)+t}function Se(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(Array.isArray(r)&&!Se(r,t))return!1;if(x(r)&&!S(r))return!1}return!t.some((function(e){return x(e)||function(e){for(var t in e)if(x(e[t]))return!0;return!1}(e)}))}var Ee,Te=function(e){return ke(_e(e))},Me=function(){function e(t,n,r){v(this,e),this.rules=t,this.isStatic=Se(t,n),this.componentId=r,de.master.hasId(r)||de.master.deferredInject(r,[])}return e.prototype.generateAndInjectStyles=function(e,t){var n=this.isStatic,r=this.componentId,i=this.lastClassName;if(C&&n&&"string"===typeof i&&t.hasNameForId(r,i))return i;var a=Oe(this.rules,e,t),o=Te(this.componentId+a.join(""));return t.hasNameForId(r,o)||t.inject(this.componentId,Y(a,"."+o,void 0,r),o),this.lastClassName=o,o},e.generateName=function(e){return Te(e)},e}(),Ce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_,r=!!n&&e.theme===n.theme,i=e.theme&&!r?e.theme:t||n.theme;return i},Ae=/[[\].#*$><+~=|^:(),"'`-]+/g,Pe=/(^-|-$)/g;function Ie(e){return e.replace(Ae,"-").replace(Pe,"")}function De(e){return"string"===typeof e&&!0}var Le={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDerivedStateFromProps:!0,propTypes:!0,type:!0},Re={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ne=((Ee={})[l.ForwardRef]={$$typeof:!0,render:!0},Ee),Fe=Object.defineProperty,ze=Object.getOwnPropertyNames,Ve=Object.getOwnPropertySymbols,Ue=void 0===Ve?function(){return[]}:Ve,Be=Object.getOwnPropertyDescriptor,Ge=Object.getPrototypeOf,qe=Object.prototype,He=Array.prototype;function We(e,t,n){if("string"!==typeof t){var r=Ge(t);r&&r!==qe&&We(e,r,n);for(var i=He.concat(ze(t),Ue(t)),a=Ne[e.$$typeof]||Le,o=Ne[t.$$typeof]||Le,s=i.length,c=void 0,u=void 0;s--;)if(u=i[s],!Re[u]&&(!n||!n[u])&&(!o||!o[u])&&(!a||!a[u])&&(c=Be(t,u)))try{Fe(e,u,c)}catch(l){}return e}return e}var Ye=Object(s.createContext)(),Je=Ye.Consumer,Ke=(function(e){function t(n){v(this,t);var r=O(this,e.call(this,n));return r.getContext=Object(h.a)(r.getContext.bind(r)),r.renderInner=r.renderInner.bind(r),r}g(t,e),t.prototype.render=function(){return this.props.children?c.a.createElement(Ye.Consumer,null,this.renderInner):null},t.prototype.renderInner=function(e){var t=this.getContext(this.props.theme,e);return c.a.createElement(Ye.Provider,{value:t},this.props.children)},t.prototype.getTheme=function(e,t){if(x(e))return e(t);if(null===e||Array.isArray(e)||"object"!==("undefined"===typeof e?"undefined":b(e)))throw new I(8);return m({},t,e)},t.prototype.getContext=function(e,t){return this.getTheme(e,t)}}(s.Component),function(){function e(){v(this,e),this.masterSheet=de.master,this.instance=this.masterSheet.clone(),this.sealed=!1}e.prototype.seal=function(){if(!this.sealed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.sealed=!0}},e.prototype.collectStyles=function(e){if(this.sealed)throw new I(2);return c.a.createElement(Qe,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.seal(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.seal(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new I(3)}}(),Object(s.createContext)()),Xe=Ke.Consumer,Qe=function(e){function t(n){v(this,t);var r=O(this,e.call(this,n));return r.getContext=Object(h.a)(r.getContext),r}return g(t,e),t.prototype.getContext=function(e,t){if(e)return e;if(t)return new de(t);throw new I(4)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.sheet,r=e.target;return c.a.createElement(Ke.Provider,{value:this.getContext(n,r)},t)},t}(s.Component),Ze={};var $e=function(e){function t(){v(this,t);var n=O(this,e.call(this));return n.attrs={},n.renderOuter=n.renderOuter.bind(n),n.renderInner=n.renderInner.bind(n),n}return g(t,e),t.prototype.render=function(){return c.a.createElement(Xe,null,this.renderOuter)},t.prototype.renderOuter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.master;return this.styleSheet=e,this.props.forwardedComponent.componentStyle.isStatic?this.renderInner():c.a.createElement(Je,null,this.renderInner)},t.prototype.renderInner=function(e){var t=this.props.forwardedComponent,n=t.componentStyle,r=t.defaultProps,i=(t.displayName,t.foldedComponentIds),a=t.styledComponentId,o=t.target,c=void 0;c=n.isStatic?this.generateAndInjectStyles(_,this.props):this.generateAndInjectStyles(Ce(this.props,e,r)||_,this.props);var u=this.props.as||this.attrs.as||o,l=De(u),h={},d=m({},this.props,this.attrs),p=void 0;for(p in d)"forwardedComponent"!==p&&"as"!==p&&("forwardedRef"===p?h.ref=d[p]:"forwardedAs"===p?h.as=d[p]:l&&!Object(f.default)(p)||(h[p]=d[p]));return this.props.style&&this.attrs.style&&(h.style=m({},this.attrs.style,this.props.style)),h.className=Array.prototype.concat(i,a,c!==a?c:null,this.props.className,this.attrs.className).filter(Boolean).join(" "),Object(s.createElement)(u,h)},t.prototype.buildExecutionContext=function(e,t,n){var r=this,i=m({},t,{theme:e});return n.length?(this.attrs={},n.forEach((function(e){var t,n=e,a=!1,o=void 0,s=void 0;for(s in x(n)&&(n=n(i),a=!0),n)o=n[s],a||!x(o)||(t=o)&&t.prototype&&t.prototype.isReactComponent||S(o)||(o=o(i)),r.attrs[s]=o,i[s]=o})),i):i},t.prototype.generateAndInjectStyles=function(e,t){var n=t.forwardedComponent,r=n.attrs,i=n.componentStyle;n.warnTooManyClasses;return i.isStatic&&!r.length?i.generateAndInjectStyles(_,this.styleSheet):i.generateAndInjectStyles(this.buildExecutionContext(e,t,r),this.styleSheet)},t}(s.Component);function et(e,t,n){var r=S(e),i=!De(e),a=t.displayName,o=void 0===a?function(e){return De(e)?"styled."+e:"Styled("+k(e)+")"}(e):a,s=t.componentId,u=void 0===s?function(e,t,n){var r="string"!==typeof t?"sc":Ie(t),i=(Ze[r]||0)+1;Ze[r]=i;var a=r+"-"+e.generateName(r+i);return n?n+"-"+a:a}(Me,t.displayName,t.parentComponentId):s,l=t.ParentComponent,h=void 0===l?$e:l,f=t.attrs,p=void 0===f?w:f,b=t.displayName&&t.componentId?Ie(t.displayName)+"-"+t.componentId:t.componentId||u,v=r&&e.attrs?Array.prototype.concat(e.attrs,p).filter(Boolean):p,y=new Me(r?e.componentStyle.rules.concat(n):n,v,b),g=void 0,O=function(e,t){return c.a.createElement(h,m({},e,{forwardedComponent:g,forwardedRef:t}))};return O.displayName=o,(g=c.a.forwardRef(O)).displayName=o,g.attrs=v,g.componentStyle=y,g.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):w,g.styledComponentId=b,g.target=r?e.target:e,g.withComponent=function(e){var r=t.componentId,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["componentId"]),a=r&&r+"-"+(De(e)?e:Ie(k(e)));return et(e,m({},i,{attrs:v,componentId:a,ParentComponent:h}),n)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Object(d.a)(e.defaultProps,t):t}}),g.toString=function(){return"."+g.styledComponentId},i&&We(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var tt=function(e){return we(et,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){tt[e]=tt(e)}));var nt=function(){function e(t,n){v(this,e),this.rules=t,this.componentId=n,this.isStatic=Se(t,w),de.master.hasId(n)||de.master.deferredInject(n,[])}return e.prototype.createStyles=function(e,t){var n=Y(Oe(this.rules,e,t),"");t.inject(this.componentId,n)},e.prototype.removeStyles=function(e){var t=this.componentId;e.hasId(t)&&e.remove(t)},e.prototype.renderStyles=function(e,t){this.removeStyles(t),this.createStyles(e,t)},e}();function rt(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=je.apply(void 0,[e].concat(n)),a="sc-global-"+_e(JSON.stringify(i)),o=new nt(i,a),s=function(e){function t(n){v(this,t);var r=O(this,e.call(this,n)),i=r.constructor,a=i.globalStyle,o=i.styledComponentId;return C&&(window.scCGSHMRCache[o]=(window.scCGSHMRCache[o]||0)+1),r.state={globalStyle:a,styledComponentId:o},r}return g(t,e),t.prototype.componentWillUnmount=function(){window.scCGSHMRCache[this.state.styledComponentId]&&(window.scCGSHMRCache[this.state.styledComponentId]-=1),0===window.scCGSHMRCache[this.state.styledComponentId]&&this.state.globalStyle.removeStyles(this.styleSheet)},t.prototype.render=function(){var e=this;return c.a.createElement(Xe,null,(function(t){e.styleSheet=t||de.master;var n=e.state.globalStyle;return n.isStatic?(n.renderStyles(P,e.styleSheet),null):c.a.createElement(Je,null,(function(t){var r=e.constructor.defaultProps,i=m({},e.props);return"undefined"!==typeof t&&(i.theme=Ce(e.props,t,r)),n.renderStyles(i,e.styleSheet),null}))}))},t}(c.a.Component);return s.globalStyle=o,s.styledComponentId=a,s}C&&(window.scCGSHMRCache={});t.b=tt}).call(this,n(344))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return i}));var r=n(73),i=Math.PI/180,a=/SPHEROID\[([^\]]+)]/i,o=r.a.radius,s=r.a.eccentricitySquared,c={a1:o*s,a2:o*s*o*s,a3:o*s*s/2,a4:o*s*o*s*2.5,a5:o*s+o*s*s/2,a6:1-s},u={4326:{a:r.a.radius,f:r.a.flattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.c.radius,f:r.c.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.b.radius,f:r.b.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.b.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=n(4),h=(n(14),n(18)),f=n(1),d=n(62),p=n(50),b=n(8),v=n(35),y=(n(12),n(21),n(22),n(27)),m=n(48),g=n(97),O=n(99),j=n(66),w=n(194),_=n(213),x=n(608),k=n(448),S=new p.a({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),E=new p.a({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),T=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).aggregateIds=null,r.cacheHint=void 0,r.datumTransformation=null,r.distance=void 0,r.dynamicDataSource=void 0,r.gdbVersion=null,r.geometry=null,r.geometryPrecision=void 0,r.groupByFieldsForStatistics=null,r.having=null,r.historicMoment=null,r.maxAllowableOffset=void 0,r.maxRecordCountFactor=1,r.multipatchOption=null,r.num=void 0,r.objectIds=null,r.orderByFields=null,r.outFields=null,r.outSpatialReference=null,r.outStatistics=null,r.parameterValues=null,r.pixelSize=null,r.quantizationParameters=null,r.rangeValues=null,r.relationParameter=null,r.resultType=null,r.returnCentroid=!1,r.returnDistinctValues=!1,r.returnExceededLimitFeatures=!0,r.returnGeometry=!1,r.returnQueryGeometry=!1,r.returnM=void 0,r.returnZ=void 0,r.spatialRelationship="intersects",r.start=void 0,r.sqlFormat=null,r.text=null,r.timeExtent=null,r.units=null,r.where=null,r}return Object(a.a)(n,[{key:"castDatumTransformation",value:function(e){return"number"==typeof e||"object"==typeof e?e:null}},{key:"writeHistoricMoment",value:function(e,t){t.historicMoment=e&&e.getTime()}},{key:"writeParameterValues",value:function(e,t){if(e){var n={};for(var r in e){var i=e[r];Array.isArray(i)?n[r]=i.map((function(e){return e instanceof Date?e.getTime():e})):i instanceof Date?n[r]=i.getTime():n[r]=i}t.parameterValues=n}}},{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}},{key:"writeWhere",value:function(e,t){t.where=e||"1=1"}},{key:"clone",value:function(){return new r(Object(u.a)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:Object(l.h)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))}}],[{key:"from",value:function(e){return Object(h.d)(r,e)}}]),n}(y.a);T.MAX_MAX_RECORD_COUNT_FACTOR=5,Object(c.a)([Object(f.b)({json:{write:!0}})],T.prototype,"aggregateIds",void 0),Object(c.a)([Object(f.b)({type:Boolean,json:{write:{writer:function(e,t){null!=e&&(t.cacheHint=e)}}}})],T.prototype,"cacheHint",void 0),Object(c.a)([Object(f.b)({json:{write:!0}})],T.prototype,"datumTransformation",void 0),Object(c.a)([Object(d.a)("datumTransformation")],T.prototype,"castDatumTransformation",null),Object(c.a)([Object(f.b)({type:Number,json:{write:{overridePolicy:function(e){return{enabled:e>0}}}}})],T.prototype,"distance",void 0),Object(c.a)([Object(f.b)({type:_.a,json:{write:!0}})],T.prototype,"dynamicDataSource",void 0),Object(c.a)([Object(f.b)({type:String,json:{write:!0}})],T.prototype,"gdbVersion",void 0),Object(c.a)([Object(f.b)({types:O.b,json:{read:g.a,write:!0}})],T.prototype,"geometry",void 0),Object(c.a)([Object(f.b)({type:Number,json:{write:!0}})],T.prototype,"geometryPrecision",void 0),Object(c.a)([Object(f.b)({type:[String],json:{write:!0}})],T.prototype,"groupByFieldsForStatistics",void 0),Object(c.a)([Object(f.b)({type:String,json:{write:!0}})],T.prototype,"having",void 0),Object(c.a)([Object(f.b)({type:Date})],T.prototype,"historicMoment",void 0),Object(c.a)([Object(v.a)("historicMoment")],T.prototype,"writeHistoricMoment",null),Object(c.a)([Object(f.b)({type:Number,json:{write:!0}})],T.prototype,"maxAllowableOffset",void 0),Object(c.a)([Object(f.b)({type:Number,cast:function(e){return e<1?1:e>r.MAX_MAX_RECORD_COUNT_FACTOR?r.MAX_MAX_RECORD_COUNT_FACTOR:e},json:{write:{overridePolicy:function(e){return{enabled:e>1}}}}})],T.prototype,"maxRecordCountFactor",void 0),Object(c.a)([Object(f.b)({type:String,json:{write:!0}})],T.prototype,"multipatchOption",void 0),Object(c.a)([Object(f.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],T.prototype,"num",void 0),Object(c.a)([Object(f.b)({json:{write:!0}})],T.prototype,"objectIds",void 0),Object(c.a)([Object(f.b)({type:[String],json:{write:!0}})],T.prototype,"orderByFields",void 0),Object(c.a)([Object(f.b)({type:[String],json:{write:!0}})],T.prototype,"outFields",void 0),Object(c.a)([Object(f.b)({type:m.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],T.prototype,"outSpatialReference",void 0),Object(c.a)([Object(f.b)({type:[k.a],json:{write:{enabled:!0,overridePolicy:function(){return{enabled:Object(l.h)(this.outStatistics)&&this.outStatistics.length>0}}}}})],T.prototype,"outStatistics",void 0),Object(c.a)([Object(f.b)({json:{write:!0}})],T.prototype,"parameterValues",void 0),Object(c.a)([Object(v.a)("parameterValues")],T.prototype,"writeParameterValues",null),Object(c.a)([Object(f.b)({types:j.i,json:{write:!0}})],T.prototype,"pixelSize",void 0),Object(c.a)([Object(f.b)({type:x.a,json:{write:!0}})],T.prototype,"quantizationParameters",void 0),Object(c.a)([Object(f.b)({type:[Object],json:{write:!0}})],T.prototype,"rangeValues",void 0),Object(c.a)([Object(f.b)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(){return{enabled:"relation"===this.spatialRelationship}}}}})],T.prototype,"relationParameter",void 0),Object(c.a)([Object(f.b)({type:String,json:{write:!0}})],T.prototype,"resultType",void 0),Object(c.a)([Object(f.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],T.prototype,"returnCentroid",void 0),Object(c.a)([Object(f.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],T.prototype,"returnDistinctValues",void 0),Object(c.a)([Object(f.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:!e}}}}})],T.prototype,"returnExceededLimitFeatures",void 0),Object(c.a)([Object(f.b)({type:Boolean,json:{write:!0}})],T.prototype,"returnGeometry",void 0),Object(c.a)([Object(f.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],T.prototype,"returnQueryGeometry",void 0),Object(c.a)([Object(f.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],T.prototype,"returnM",void 0),Object(c.a)([Object(f.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],T.prototype,"returnZ",void 0),Object(c.a)([Object(f.b)({type:String,json:{read:{source:"spatialRel",reader:S.read},write:{target:"spatialRel",writer:S.write}}})],T.prototype,"spatialRelationship",void 0),Object(c.a)([Object(f.b)({type:Number,json:{read:{source:"resultOffset"}}})],T.prototype,"start",void 0),Object(c.a)([Object(v.a)("start"),Object(v.a)("num")],T.prototype,"writeStart",null),Object(c.a)([Object(f.b)({type:String,json:{write:!0}})],T.prototype,"sqlFormat",void 0),Object(c.a)([Object(f.b)({type:String,json:{write:!0}})],T.prototype,"text",void 0),Object(c.a)([Object(f.b)({type:w.a,json:{write:!0}})],T.prototype,"timeExtent",void 0),Object(c.a)([Object(f.b)({type:String,json:{read:E.read,write:{writer:E.write,overridePolicy:function(e){return{enabled:e&&this.distance>0}}}}})],T.prototype,"units",void 0),Object(c.a)([Object(f.b)({type:String,json:{write:{overridePolicy:function(e){return{enabled:null!=e||this.start>0}}}}})],T.prototype,"where",void 0),Object(c.a)([Object(v.a)("where")],T.prototype,"writeWhere",null);var M=T=r=Object(c.a)([Object(b.a)("esri.tasks.support.Query")],T);t.a=M},function(e,t,n){"use strict";n(96),n(108),n(133),n(128);var r=n(167),i=n(7),a=n.n(i),o=n(2),s=n(3),c=n(16),u=n(58),l=n(4),h=n(20),f=n(65);function d(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(l.h)(y.fetchBundleAsset)){e.next=2;break}return e.abrupt("return",y.fetchBundleAsset(t));case 2:return e.next=4,Object(f.default)(t,{responseType:"json"});case 4:return e.abrupt("return",e.sent.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(){function e(t){var n,r=t.base,i=void 0===r?"":r,a=t.pattern,s=t.location,c=void 0===s?new URL(window.location.href):s;Object(o.a)(this,e),n="string"==typeof c?function(e){return new URL(e,new URL(c,u.a.location)).href}:c instanceof URL?function(e){return new URL(e,c).href}:c,this.pattern="string"==typeof a?new RegExp("^".concat(a)):a,this.getAssetUrl=n,i=i?i.endsWith("/")?i:i+"/":"",this.matcher=new RegExp("^".concat(i,"(?:(.*)/)?(.*)$"))}return Object(s.a)(e,[{key:"fetchMessageBundle",value:function(e,t){return function(){var e=Object(c.a)(a.a.mark((function e(t,n,i,o){var s,c,u,l,f,p,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.exec(i)){e.next=3;break}throw new h.a("esri-intl:invalid-bundle",'Bundle id "'.concat(i,'" is not compatible with the pattern "').concat(n,'"'));case 3:return c=s[1]?"".concat(s[1],"/"):"",u=s[2],l=Object(r.b)(o),f="".concat(c).concat(u,".json"),p=l?"".concat(c).concat(u,"_").concat(l,".json"):f,e.prev=4,e.next=7,d(t(p));case 7:b=e.sent,e.next=23;break;case 10:if(e.prev=10,e.t0=e.catch(4),p!==f){e.next=14;break}throw e.t0;case 14:return e.prev=14,e.next=17,d(t(f));case 17:b=e.sent,e.next=23;break;case 20:throw e.prev=20,e.t1=e.catch(14),new h.a("intl:unknown-bundle",'Bundle "'.concat(i,'" cannot be loaded'),{error:e.t0});case 23:return e.abrupt("return",b);case 24:case"end":return e.stop()}}),e,null,[[4,10],[14,20]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()(this.getAssetUrl,this.matcher,e,t)}}]),e}();var v,y={},m=n(84);Object(r.c)((v={pattern:"esri/",location:m.a},new b(v)))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return b}));var r=n(2),i=n(607);function a(e,t,n){if(!e&&!t)return!0;if(!e||!t||e.length!==t.length)return!1;if(n){for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function o(e,t,n){return e&&t?n?e.filter((function(e){return t.findIndex((function(t){return n(e,t)}))>-1})):e.filter((function(e){return t.indexOf(e)>-1})):[]}var s=!!Array.prototype.fill;function c(e,t){if(s)return new Array(e).fill(t);for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}function u(e,t){void 0===t&&(t=e,e=0);for(var n=new Array(t-e),r=e;r<t;r++)n[r-e]=r;return n}var l=function e(){Object(r.a)(this,e),this.last=0},h=new l;function f(e,t,n,r){r=r||h;for(var i=Math.max(0,r.last-10),a=i;a<n;++a)if(e[a]===t)return r.last=a,a;for(var o=Math.min(i,n),s=0;s<o;++s)if(e[s]===t)return r.last=s,s;return-1}function d(e,t,n,r){var i=null==n?e.length:n,a=f(e,t,i,r);if(-1!==a)return e[a]=e[i-1],null==n&&e.pop(),t}var p=new Set;function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(0===r||0===n)return n;p.clear();for(var o=0;o<r;++o)p.add(t[o]);i=i||h;for(var s=Math.max(0,i.last-10),c=s;c<n;++c)if(p.has(e[c])&&(a&&a.push(e[c]),p.delete(e[c]),e[c]=e[n-1],--n,--c,0===p.size||0===n))return p.clear(),n;for(var u=0;u<s;++u)if(p.has(e[u])&&(a&&a.push(e[u]),p.delete(e[u]),e[u]=e[n-1],--n,--u,0===p.size||0===n))return p.clear(),n;return p.clear(),n}new i.a},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return i}));var r=n(43),i={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function a(e){var t=22,n=22;e<1?t*=.75:e>1&&(n*=1.25);return[{type:"path",path:[{command:"M",values:[22,0]},{command:"L",values:[19.25,0]},{command:"L",values:[0,n-11]},{command:"L",values:[t-11,n-11]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[22,0]},{command:"L",values:[22,2.75]},{command:"L",values:[t-11,22]},{command:"L",values:[t-11,n-11]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[t-11,n-11]},{command:"L",values:[0,n-11]},{command:"L",values:[0,22]},{command:"L",values:[t-11,22]},{command:"Z",values:[]}]}]}function o(e){var t=.5*e,n=22;return[{type:"path",path:[{command:"M",values:[0,.7*n*.5]},{command:"L",values:[6.6,.7*n]},{command:"L",values:[6.6,.7*n+t]},{command:"L",values:[0,.7*n+t-.7*n*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,.7*n]},{command:"L",values:[6.6,.7*n+t]},{command:"L",values:[22,t]},{command:"L",values:[22,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,0]},{command:"L",values:[22,0]},{command:"L",values:[6.6,.7*n]},{command:"L",values:[0,.7*n*.5]},{command:"Z",values:[]}]}]}function s(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function c(e,t){var n=t?20:e,r=t?4:6;n-=n<=22?.5*r:r;var i=t?.35*n:.5*n;return[{type:"path",path:[{command:"M",values:[.5*n,0]},{command:"L",values:[n,.5*i]},{command:"L",values:[.5*n,i]},{command:"L",values:[0,.5*i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*i]},{command:"L",values:[.5*n,i]},{command:"L",values:[.5*n,e]},{command:"L",values:[0,e-.5*i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*n,i]},{command:"L",values:[.5*n,e]},{command:"L",values:[n,e-.5*i]},{command:"L",values:[n,.5*i]},{command:"Z",values:[]}]}]}function u(e,t){var n=t?20:e,r=t?4:6,i=.5*(n-=n<=22?.5*r:r),a=.15*n,o=e-a;return[{type:"ellipse",cx:.5*n,cy:o,rx:i,ry:a},{type:"path",path:[{command:"M",values:[0,a]},{command:"L",values:[0,o]},{command:"L",values:[n,o]},{command:"L",values:[n,a]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*n,cy:a,rx:i,ry:a}]}function l(e,t){var n=t?20:e,r=t?4:6,i=.15*(n-=n<=22?.5*r:r),a=e-i;return[{type:"ellipse",cx:.5*n,cy:a,rx:.5*n,ry:i},{type:"path",path:[{command:"M",values:[.5*n,0]},{command:"L",values:[n,a]},{command:"L",values:[0,a]},{command:"Z",values:[]}]}]}function h(e){var t=e,n=.15*(t-=t<22?3:6);return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[t,0]},{command:"L",values:[.5*t,e-n]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*t,cy:0,rx:.5*t,ry:n}]}function f(e){var t=e,n=e,r=t-=t<22?2:4,i=n,a=Math.floor(e/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*r,0]},{command:"L",values:[r,.5*i-a]},{command:"L",values:[.45*r-a,.5*i+a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*r,0]},{command:"L",values:[.45*r-a,.5*i+a]},{command:"L",values:[0,.5*i-a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*i-a]},{command:"L",values:[.45*r-a,.5*i+a]},{command:"L",values:[.45*r,n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*r,n]},{command:"L",values:[r,.5*i-a]},{command:"L",values:[.45*r-a,.5*i+a]},{command:"Z",values:[]}]}]}function d(e){var t=e;return[{type:"path",path:[{command:"M",values:[.45*e,0]},{command:"L",values:[e,t-=t<22?1:2]},{command:"L",values:[.45*e,.6*t]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*e,0]},{command:"L",values:[.45*e,.6*t]},{command:"L",values:[0,t]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,t]},{command:"L",values:[.45*e,.6*t]},{command:"L",values:[e,t]},{command:"Z",values:[]}]}]}function p(e,t){return Math.round(Math.min(Math.max(e+255*t*.75,0),255))}function b(e,t){if("type"in e&&("linear"===e.type||"pattern"===e.type))return e;var n=new r.a(e);return new r.a([p(n.r,t),p(n.g,t),p(n.b,t),n.a])}},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(34),l=n(8),h=(n(12),n(21),n(22),n(27)),f=n(48),d=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).type=null,e.hasM=!1,e.hasZ=!1,e.spatialReference=f.a.WGS84,e}return Object(i.a)(n,[{key:"cache",get:function(){return{}}},{key:"extent",get:function(){return null}},{key:"readSpatialReference",value:function(e,t){if(e instanceof f.a)return e;if(null!=e){var n=new f.a;return n.read(e,t),n}return e}},{key:"clone",value:function(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}},{key:"clearCache",value:function(){this.notifyChange("cache")}},{key:"getCacheValue",value:function(e){return this.cache[e]}},{key:"setCacheValue",value:function(e,t){this.cache[e]=t}}]),n}(h.a);Object(s.a)([Object(c.b)()],d.prototype,"type",void 0),Object(s.a)([Object(c.b)({readOnly:!0,dependsOn:["spatialReference"],autoTracked:!1})],d.prototype,"cache",null),Object(s.a)([Object(c.b)({readOnly:!0,dependsOn:["spatialReference"],autoTracked:!1})],d.prototype,"extent",null),Object(s.a)([Object(c.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],d.prototype,"hasM",void 0),Object(s.a)([Object(c.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],d.prototype,"hasZ",void 0),Object(s.a)([Object(c.b)({type:f.a,json:{write:!0}})],d.prototype,"spatialReference",void 0),Object(s.a)([Object(u.a)("spatialReference")],d.prototype,"readSpatialReference",null);var p=d=Object(s.a)([Object(l.a)("esri.geometry.Geometry")],d);t.a=p},function(e,t,n){"use strict";var r,i=n(7),a=n.n(i),o=n(16),s=n(2),c=n(3),u=n(5),l=n(6),h=n(0),f=(n(15),n(14),n(18)),d=n(1),p=n(50),b=n(8),v=(n(12),n(21),n(22),n(27)),y=n(23),m=n(34),g=r=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).minValue=0,r.maxValue=0,r}return Object(c.a)(n,[{key:"clone",value:function(){return new r({minValue:this.minValue,maxValue:this.maxValue})}}]),n}(v.a);Object(h.a)([Object(d.b)({type:Number,json:{write:!0}})],g.prototype,"minValue",void 0),Object(h.a)([Object(d.b)({type:Number,json:{write:!0}})],g.prototype,"maxValue",void 0);var O,j=g=r=Object(h.a)([Object(b.a)("esri.renderer.support.AuthoringInfoClassBreakInfo")],g),w=O=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).field="",r.normalizationField="",r.label="",r.classBreakInfos=[],r}return Object(c.a)(n,[{key:"clone",value:function(){return new O({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:Object(y.a)(this.classBreakInfos)})}}]),n}(v.a);Object(h.a)([Object(d.b)({type:String,json:{write:!0}})],w.prototype,"field",void 0),Object(h.a)([Object(d.b)({type:String,json:{write:!0}})],w.prototype,"normalizationField",void 0),Object(h.a)([Object(d.b)({type:String,json:{write:!0}})],w.prototype,"label",void 0),Object(h.a)([Object(d.b)({type:[j],json:{write:!0}})],w.prototype,"classBreakInfos",void 0);var _,x=w=O=Object(h.a)([Object(b.a)("esri.renderers.support.AuthoringInfoFieldInfo")],w),k=n(38),S=n(62),E=new p.a({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),T=new p.a({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),M={key:function(e){return"number"==typeof e?"number":"string"},typeMap:{number:Number,string:String},base:null},C=["high-to-low","above-and-below","centered-on","extremes"],A=Object(k.a)(new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])),P=["seconds","minutes","hours","days","months","years"],I=_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).endTime=null,r.field=null,r.maxSliderValue=null,r.minSliderValue=null,r.startTime=null,r.type=null,r.units=null,r}return Object(c.a)(n,[{key:"castEndTime",value:function(e){return"string"==typeof e||"number"==typeof e?e:null}},{key:"castStartTime",value:function(e){return"string"==typeof e||"number"==typeof e?e:null}},{key:"style",get:function(){return"color"===this.type?this._get("style"):null},set:function(e){this._set("style",e)}},{key:"theme",get:function(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null},set:function(e){this._set("theme",e)}},{key:"clone",value:function(){return new _({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}}]),n}(v.a);Object(h.a)([Object(d.b)({types:M,json:{write:!0}})],I.prototype,"endTime",void 0),Object(h.a)([Object(S.a)("endTime")],I.prototype,"castEndTime",null),Object(h.a)([Object(d.b)({type:String,json:{write:!0}})],I.prototype,"field",void 0),Object(h.a)([Object(d.b)({type:Number,json:{write:!0}})],I.prototype,"maxSliderValue",void 0),Object(h.a)([Object(d.b)({type:Number,json:{write:!0}})],I.prototype,"minSliderValue",void 0),Object(h.a)([Object(d.b)({types:M,json:{write:!0}})],I.prototype,"startTime",void 0),Object(h.a)([Object(S.a)("startTime")],I.prototype,"castStartTime",null),Object(h.a)([Object(d.b)({type:E.apiValues,value:null,dependsOn:["type"],json:{type:E.jsonValues,read:E.read,write:E.write}})],I.prototype,"style",null),Object(h.a)([Object(d.b)({type:A,value:null,dependsOn:["type"],json:{type:A,origins:{"web-scene":{type:C,write:{writer:function(e,t){C.indexOf(e)>-1&&(t.theme=e)}}}},write:!0}})],I.prototype,"theme",null),Object(h.a)([Object(d.b)({type:T.apiValues,json:{type:T.jsonValues,read:T.read,write:T.write}})],I.prototype,"type",void 0),Object(h.a)([Object(d.b)({type:P,json:{type:P,write:!0}})],I.prototype,"units",void 0);var D,L=I=_=Object(h.a)([Object(b.a)("esri.renderers.support.AuthoringInfoVisualVariable")],I),R=n(519),N=new p.a({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),F=new p.a({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),z=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],V=D=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).colorRamp=null,r.lengthUnit=null,r.maxSliderValue=null,r.minSliderValue=null,r.visualVariables=null,r}return Object(c.a)(n,[{key:"classificationMethod",get:function(){var e=this._get("classificationMethod"),t=this.type;return t&&"relationship"!==t?"class-breaks-size"===t||"class-breaks-color"===t?e||"manual":null:e},set:function(e){this._set("classificationMethod",e)}},{key:"readColorRamp",value:function(e){if(e)return Object(R.a)(e)}},{key:"fields",get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(e){this._set("fields",e)}},{key:"field1",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(e){this._set("field1",e)}},{key:"field2",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(e){this._set("field2",e)}},{key:"focus",get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(e){this._set("focus",e)}},{key:"numClasses",get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(e){this._set("numClasses",e)}},{key:"statistics",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null},set:function(e){this._set("statistics",e)}},{key:"standardDeviationInterval",get:function(){var e=this.type;return e&&"relationship"!==e&&"class-breaks-size"!==e&&"class-breaks-color"!==e||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(e){this._set("standardDeviationInterval",e)}},{key:"type",get:function(){return this._get("type")},set:function(e){var t=e;"classed-size"===e?t="class-breaks-size":"classed-color"===e&&(t="class-breaks-color"),this._set("type",t)}},{key:"univariateSymbolStyle",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null},set:function(e){this._set("univariateSymbolStyle",e)}},{key:"univariateTheme",get:function(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null},set:function(e){this._set("univariateTheme",e)}},{key:"clone",value:function(){return new D({classificationMethod:this.classificationMethod,colorRamp:Object(y.a)(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:Object(y.a)(this.field1),field2:Object(y.a)(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map((function(e){return e.clone()})),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme})}}]),n}(v.a);Object(h.a)([Object(d.b)({type:N.apiValues,value:null,dependsOn:["type"],json:{type:N.jsonValues,read:N.read,write:N.write,origins:{"web-document":{default:"manual",type:N.jsonValues,read:N.read,write:N.write}}}})],V.prototype,"classificationMethod",null),Object(h.a)([Object(d.b)({types:R.b,json:{write:!0}})],V.prototype,"colorRamp",void 0),Object(h.a)([Object(m.a)("colorRamp")],V.prototype,"readColorRamp",null),Object(h.a)([Object(d.b)({type:[String],value:null,dependsOn:["type"],json:{write:!0}})],V.prototype,"fields",null),Object(h.a)([Object(d.b)({type:x,value:null,dependsOn:["type"],json:{write:!0}})],V.prototype,"field1",null),Object(h.a)([Object(d.b)({type:x,value:null,dependsOn:["type"],json:{write:!0}})],V.prototype,"field2",null),Object(h.a)([Object(d.b)({type:["HH","HL","LH","LL"],value:null,dependsOn:["type"],json:{write:!0}})],V.prototype,"focus",null),Object(h.a)([Object(d.b)({type:Number,value:null,dependsOn:["type"],json:{type:f.a,write:!0}})],V.prototype,"numClasses",null),Object(h.a)([Object(d.b)({type:z,json:{type:z,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],V.prototype,"lengthUnit",void 0),Object(h.a)([Object(d.b)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],V.prototype,"maxSliderValue",void 0),Object(h.a)([Object(d.b)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],V.prototype,"minSliderValue",void 0),Object(h.a)([Object(d.b)({type:Object,value:null,dependsOn:["type","univariateTheme"],json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],V.prototype,"statistics",null),Object(h.a)([Object(d.b)({type:[.25,.33,.5,1],value:null,dependsOn:["classificationMethod","type"],json:{type:[.25,.33,.5,1],write:!0}})],V.prototype,"standardDeviationInterval",null),Object(h.a)([Object(d.b)({type:F.apiValues,value:null,json:{type:F.jsonValues,read:F.read,write:F.write}})],V.prototype,"type",null),Object(h.a)([Object(d.b)({type:[L],json:{write:!0}})],V.prototype,"visualVariables",void 0),Object(h.a)([Object(d.b)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,dependsOn:["type","univariateTheme"],json:{write:!0,origins:{"web-scene":{write:!1}}}})],V.prototype,"univariateSymbolStyle",null),Object(h.a)([Object(d.b)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],V.prototype,"univariateTheme",null);var U=V=D=Object(h.a)([Object(b.a)("esri.renderers.support.AuthoringInfo")],V),B=new p.a({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0}),G=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).authoringInfo=null,r.type=null,r}return Object(c.a)(n,[{key:"getRequiredFields",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.collectRequiredFields){e.next=2;break}return e.abrupt("return",[]);case 2:return n=new Set,e.next=5,this.collectRequiredFields(n,t);case 5:return e.abrupt("return",Array.from(n).sort());case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSymbol",value:function(e,t){}},{key:"getSymbolAsync",value:function(){var e=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return[]}},{key:"getAttributeHash",value:function(){return JSON.stringify(this)}},{key:"getMeshHash",value:function(){return JSON.stringify(this)}}]),n}(v.a);Object(h.a)([Object(d.b)({type:U,json:{write:!0}})],G.prototype,"authoringInfo",void 0),Object(h.a)([Object(d.b)({type:B.apiValues,readOnly:!0,json:{type:B.jsonValues,read:!1,write:{writer:B.write,ignoreOrigin:!0}}})],G.prototype,"type",void 0);var q=G=Object(h.a)([Object(b.a)("esri.renderers.Renderer")],G);t.a=q},function(e,t,n){"use strict";var r=n(2),i=n(5),a=n(6),o=n(0),s=(n(15),n(14),n(18),n(1)),c=n(8),u=(n(12),n(21),n(22),function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).type=null,i}return n}(n(27).a));Object(o.a)([Object(s.b)({type:["attachments","custom","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],u.prototype,"type",void 0);var l=u=Object(o.a)([Object(c.a)("esri.popup.content.Content")],u);t.a=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return h}));var r=n(107),i=Object(r.e)(770,1,771,771),a=Object(r.f)(1,1),o=Object(r.f)(0,771);function s(e){return 2===e?null:1===e?o:a}function c(e){return 2===e?r.c:null}var u=5e5,l={factor:-1,units:-2};function h(e){return e?l:null}function f(e){return 3===e||2===e?513:515}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(3),a=n(4),o=n(278),s=function(){function e(t){var n=this;Object(r.a)(this,e),this.allocator=t,this.items=[],this.itemsPtr=0,this.tickHandle=o.a.before((function(){return n.reset()})),this.grow()}return Object(i.a)(e,[{key:"destroy",value:function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=Object(a.l)(this.tickHandle)),this.items=Object(a.l)(this.items)}},{key:"get",value:function(){return 0===this.itemsPtr&&Object(o.a)((function(){})),this.itemsPtr===this.items.length&&this.grow(),this.items[this.itemsPtr++]}},{key:"reset",value:function(){var e=Math.min(3*Math.max(8,this.itemsPtr),this.itemsPtr+3*c);this.items.length=Math.min(e,this.items.length),this.itemsPtr=0}},{key:"grow",value:function(){for(var e=0;e<Math.max(8,Math.min(this.items.length,c));e++)this.items.push(this.allocator())}}]),e}(),c=1024},function(e,t,n){"use strict";t.a=function(e){return window.WebGL2RenderingContext&&e instanceof window.WebGL2RenderingContext}},function(e,t,n){"use strict";function r(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function i(e){return null!=e&&!isNaN(e)&&isFinite(e)}function a(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function o(e,t){var n=t||a(e),r=e.valueUnit||"unknown";return"unknown"===n?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===r?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c}));n(15);var r=n(50);var i={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}},a=Object(r.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});function o(e,t,n){var r=new Date(e.getTime());if(t&&n){var a=i[n],o=a.getter,s=a.setter,c=a.multiplier;r[s](r[o]()+t*c)}return r}var s={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function c(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return null}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return k})),n.d(t,"o",(function(){return b})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return j})),n.d(t,"r",(function(){return O})),n.d(t,"s",(function(){return g})),n.d(t,"t",(function(){return p}));var r=n(4);n(74),n(115);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return[e[0],e[1],e[2],e[3],e[4],e[5]]}function a(e,t,n,r,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:i();return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=a,s[5]=o,s}function o(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function s(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function c(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length/3,i=e[0],a=e[1],o=e[2],s=e[3],c=e[4],u=e[5],l=0;l<r;l++)i=Math.min(i,t[n+3*l]),a=Math.min(a,t[n+3*l+1]),o=Math.min(o,t[n+3*l+2]),s=Math.max(s,t[n+3*l]),c=Math.max(c,t[n+3*l+1]),u=Math.max(u,t[n+3*l+2]);e[0]=i,e[1]=a,e[2]=o,e[3]=s,e[4]=c,e[5]=u}function u(e,t,n){var r=t.length,i=e[0],a=e[1],o=e[2],s=e[3],c=e[4],u=e[5];if(n)for(var l=0;l<r;l++){var h=t[l];i=Math.min(i,h[0]),a=Math.min(a,h[1]),o=Math.min(o,h[2]),s=Math.max(s,h[0]),c=Math.max(c,h[1]),u=Math.max(u,h[2])}else for(var f=0;f<r;f++){var d=t[f];i=Math.min(i,d[0]),a=Math.min(a,d[1]),s=Math.max(s,d[0]),c=Math.max(c,d[1])}e[0]=i,e[1]=a,e[2]=o,e[3]=s,e[4]=c,e[5]=u}function l(e){return e[0]>=e[3]?0:e[3]-e[0]}function h(e){return e[1]>=e[4]?0:e[4]-e[1]}function f(e){return e[2]>=e[5]?0:e[5]-e[2]}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return t[0]=e[0]+l(e)/2,t[1]=e[1]+h(e)/2,t[2]=e[2]+f(e)/2,t}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return t[0]=l(e),t[1]=h(e),t[2]=f(e),t}function b(e){return Math.max(l(e),f(e),h(e))}function v(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=e[0]+l(e)/2,i=e[1]+h(e)/2,a=e[2]+f(e)/2;return n[0]=r+(e[0]-r)*t,n[1]=i+(e[1]-i)*t,n[2]=a+(e[2]-a)*t,n[3]=r+(e[3]-r)*t,n[4]=i+(e[4]-i)*t,n[5]=a+(e[5]-a)*t,n}function m(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function j(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function w(e){return e?j(e,E):i(E)}function _(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function x(e){return 6===e.length}function k(e){return 0===l(e)&&0===h(e)&&0===f(e)}function S(e,t,n){if(Object(r.g)(e)||Object(r.g)(t))return e===t;if(!x(e)||!x(t))return!1;if(n){for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1}else for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}var E=[1/0,1/0,1/0,-1/0,-1/0,-1/0],T=[0,0,0,0,0,0];i()},function(e,t,n){"use strict";var r=n(2),i=n(246),a=n(40),o=n(5),s=n(6),c=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,o,s){var c;return Object(r.a)(this,n),c=t.call(this,e,o,s),Object(a.a)(c)instanceof n?Object(i.a)(c):Object(i.a)(c,new n(e,o,s))}return n}(n(473).a);c.prototype.type="warning",t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return y}));var r=n(7),i=n.n(r),a=n(2),o=n(3),s=n(32),c=n(16),u=n(13),l=n(20),h=n(17),f=n(96),d=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,p=new Set(["ar","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"]),b=[],v=new Map;function y(e){if(!b.includes(e)){var t,n=Object(u.a)(v.keys());try{for(n.s();!(t=n.n()).done;){var r=t.value;j(e.pattern,r)&&v.delete(r)}}catch(i){n.e(i)}finally{n.f()}b.unshift(e)}}function m(e){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(f.b)(),v.has(t)||v.set(t,function(){var e=Object(c.a)(i.a.mark((function e(t,n){var r,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=Object(u.a)(b),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=18;break}if(!j((s=o.value).pattern,t)){e.next=16;break}return e.prev=7,e.next=10,s.fetchMessageBundle(t,n);case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7),r.push(e.t0);case 16:e.next=4;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(2),a.e(e.t1);case 23:return e.prev=23,a.f(),e.finish(23);case 26:if(!r.length){e.next=28;break}throw new l.a("intl:message-bundle-error",'Errors occurred while loading "'.concat(t,'"'),{errors:r});case 28:throw new l.a("intl:no-message-bundle-loader",'No loader found for message bundle "'.concat(t,'"'));case 29:case"end":return e.stop()}}),e,null,[[2,20,23,26],[7,13]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n)),r=v.get(t),e.next=5,w.add(r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){if(!d.test(e))return null;var t=d.exec(e),n=Object(s.a)(t,3),r=n[1],i=n[2],a=r+(i?"-"+i.toUpperCase():"");return p.has(a)?a:p.has(r)?r:null}function j(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}Object(f.a)((function(){v.clear()}));var w=new(function(){function e(){Object(a.a)(this,e),this._numLoading=0}return Object(o.a)(e,[{key:"waitForAll",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._dfd,!e.t0){e.next=4;break}return e.next=4,this._dfd.promise;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(e){var t=this;return this._increase(),e.then((function(){return t._decrease()}),(function(){return t._decrease()})),this.waitForAll()}},{key:"_increase",value:function(){this._numLoading++,this._dfd||(this._dfd=Object(h.f)())}},{key:"_decrease",value:function(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}]),e}())},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(4)),l=(n(14),n(18),n(1)),h=n(8),f=(n(12),n(21),n(22),n(27)),d=n(123),p=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).color=null,e}return Object(a.a)(n,[{key:"clone",value:function(){return new r({color:Object(u.h)(this.color)?this.color.clone():null})}}]),n}(f.a);Object(c.a)([Object(l.b)(d.a)],p.prototype,"color",void 0);var b=p=r=Object(c.a)([Object(h.a)("esri.symbols.support.Symbol3DMaterial")],p);t.a=b},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return c}));var r=n(2),i=n(3),a=n(119),o=n(127),s=(n(99),n(496)),c=function(){function e(t){Object(r.a)(this,e),this.left=null,this.right=null,this.type="vertex",this.index=null,this.component=t}return Object(i.a)(e,[{key:"pos",get:function(){return this._pos},set:function(e){this._pos=e,this.component.unnormalizeVertexPositions()}}]),e}(),u=function e(t,n,i){Object(r.a)(this,e),this.type="edge",this.component=t,this.left=n,this.right=i,n.right=this,i.left=this},l=function(){function e(t){Object(r.a)(this,e),this.vertices=[],this.edges=[],this.data=t}return Object(i.a)(e,[{key:"unnormalizeVertexPositions",value:function(){this.vertices.length<=1||this.data.coordinateHelper.unnormalize(this.vertices)}},{key:"updateVertexIndex",value:function(e,t){if(0!==this.vertices.length){var n=this.vertices[0],r=null,i=e,a=t;do{(r=i).index=a++,i=r.right?r.right.right:null}while(null!=i&&i!==n);r.left&&r!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(r),this.vertices.length-1)}}},{key:"findEndVertex",value:function(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]}},{key:"swapVertices",value:function(e,t){var n=this.vertices[e];this.vertices[e]=this.vertices[t],this.vertices[t]=n}}]),e}(),h=function(){function e(t){Object(r.a)(this,e),this.coordinateHelper=t,this.undoStack=[],this.redoStack=[],this.components=[]}return Object(i.a)(e,[{key:"apply",value:function(e){e.apply(),this.undoStack.push(e),this.redoStack=[]}},{key:"undo",value:function(){if(this.undoStack.length>0){var e=this.undoStack.pop();e.undo(),this.redoStack.push(e)}}},{key:"canUndo",get:function(){return this.undoStack.length>0}},{key:"lastOperation",get:function(){return this.undoStack.length>0?this.undoStack[this.undoStack.length-1]:null}},{key:"redo",value:function(){if(this.redoStack.length>0){var e=this.redoStack.pop();e.apply(),this.undoStack.push(e)}}},{key:"canRedo",get:function(){return this.redoStack.length>0}},{key:"toPoint",value:function(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.createPoint(this.components[0].vertices[0].pos)}},{key:"toPolyline",value:function(){var e=[],t=this.coordinateHelper.toArray;return this.components.forEach((function(n,r){var i=[],a=n.vertices.find((function(e){return null==e.left})),o=a;do{i.push(t(a.pos)),a=a.right?a.right.right:null}while(a&&a!==o);e.push(i)})),new o.a({paths:e,spatialReference:this.coordinateHelper.spatialReference})}},{key:"toPolygon",value:function(){var e=[],t=this.coordinateHelper.toArray;return this.components.forEach((function(n,r){var i=[],a=n.vertices[0],o=a,s=o;do{i.push(t(o.pos)),o=o.right.right}while(o&&o!==s);i.push(t(a.pos)),e.push(i)})),new a.a({rings:e,spatialReference:this.coordinateHelper.spatialReference})}}],[{key:"fromGeometry",value:function(t,n){var r=Object(s.a)(t.hasZ,t.hasM,t.spatialReference,n),i=new e(r);switch(t.type){case"polygon":for(var a=t.rings,o=0;o<a.length;++o){for(var h=a[o],f=new l(i),d=h.length-1,p=0;p<d;++p){var b=r.fromArray(h[p]),v=new c(f);f.vertices.push(v),v.pos=b,v.index=p}for(var y=f.vertices.length-1,m=0;m<y;++m){var g=f.vertices[m],O=f.vertices[m+1],j=new u(f,g,O);f.edges.push(j)}var w=new u(f,f.vertices[f.vertices.length-1],f.vertices[0]);f.edges.push(w),i.components.push(f)}break;case"polyline":for(var _=t.paths,x=0;x<_.length;++x){for(var k=_[x],S=new l(i),E=k.length,T=0;T<E;++T){var M=r.fromArray(k[T]),C=new c(S);S.vertices.push(C),C.pos=M,C.index=T}for(var A=S.vertices.length-1,P=0;P<A;++P){var I=S.vertices[P],D=S.vertices[P+1],L=new u(S,I,D);S.edges.push(L)}i.components.push(S)}}return i}}]),e}()},function(e,t,n){"use strict";n.r(t);var r,i=n(2),a=n(3),o=n(61),s=n(57),c=n(5),u=n(6),l=n(0),h=(n(15),n(23)),f=(n(14),n(18),n(1)),d=n(50),p=n(45),b=n(8),v=(n(12),n(21),n(22),n(43)),y=n(134),m=n(397),g=new d.a({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"}),O=r=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).color=new v.a([0,0,0,.25]),e.outline=new y.default,e.type="simple-fill",e.style="solid",e}return Object(a.a)(n,[{key:"normalizeCtorArgs",value:function(e,t,n){if(e&&"string"!=typeof e)return e;var r={};return e&&(r.style=e),t&&(r.outline=t),n&&(r.color=n),r}},{key:"clone",value:function(){return new r({color:Object(h.a)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}},{key:"hash",value:function(){return"".concat(Object(o.a)(Object(s.a)(n.prototype),"hash",this).call(this)).concat(this.style,".").concat(this.color&&this.color.hash())}}]),n}(m.a);Object(l.a)([Object(f.b)()],O.prototype,"color",void 0),Object(l.a)([Object(f.b)()],O.prototype,"outline",void 0),Object(l.a)([Object(p.a)({esriSFS:"simple-fill"},{readOnly:!0})],O.prototype,"type",void 0),Object(l.a)([Object(f.b)({type:g.apiValues,json:{read:g.read,write:g.write}})],O.prototype,"style",void 0);var j=O=r=Object(l.a)([Object(b.a)("esri.symbols.SimpleFillSymbol")],O);t.default=j},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return j}));var r,i=n(13),a=n(64),o="http://www.w3.org/2000/svg",s=[],c=function(e,t){var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),t&&Object.keys(t).forEach((function(e){n[e]=t[e]})),n},u=function(e,t){return e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties)},l=function(e){if("string"!=typeof e)throw new Error("Style values must be strings")},h=function(e,t,n){if(""!==t.vnodeSelector)for(var r=n;r<e.length;r++)if(u(e[r],t))return r;return-1},f=function(e,t,n,r){var i=e[t];if(""!==i.vnodeSelector){var a=i.properties;if(!(a?void 0===a.key?a.bind:a.key:void 0))for(var o=0;o<e.length;o++)if(o!==t){var s=e[o];if(u(s,i))throw new Error("".concat(n.vnodeSelector," had a ").concat(i.vnodeSelector," child ").concat("added"===r?r:"removed",", but there is now more than one. You must add unique key properties to make them distinguishable."))}}},d=function(e){if(e.properties){var t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},p=[],b=!1,v=function e(t){(t.children||[]).forEach(e),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},y=function(){b=!1,p.forEach(v),p.length=0},m=function(e){p.push(e),b||(b=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(y,{timeout:16}):setTimeout(y,16))},g=function(e){var t=e.domNode;if(e.properties){var n=e.properties.exitAnimation;if(n){t.style.pointerEvents="none";return void n(t,(function(){t.parentNode&&(t.parentNode.removeChild(t),m(e))}),e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),m(e))},O=function(e,t,n){if(t)for(var r=n.eventHandlerInterceptor,i=Object.keys(t),s=i.length,c=function(s){var c=i[s],u=t[c];if("className"===c)throw new Error('Property "className" is not supported, use "class".');if("class"===c)_(e,u,!0);else if("classes"===c)for(var h=Object.keys(u),f=h.length,d=0;d<f;d++){var p=h[d];u[p]&&e.classList.add(p)}else if("styles"===c)for(var b=Object.keys(u),v=b.length,y=0;y<v;y++){var m=b[y],g=u[m];g&&(l(g),n.styleApplyer(e,m,g))}else if("key"!==c&&null!=u){var O=typeof u;"function"===O?0===c.lastIndexOf("on",0)&&(r&&(u=r(c,u,e,t)),"oninput"===c&&function(){var e=u;u=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}(),e[c]=u):n.namespace===o?"href"===c?e.setAttributeNS("http://www.w3.org/1999/xlink",c,u):e.setAttribute(c,u):"string"===O&&"value"!==c?"innerHTML"===c?e[c]=a.f.sanitize(u):e.setAttribute(c,u):e[c]=u}},u=0;u<s;u++)c(u)},j=function(e,t,n){(function(e,t,n){if(t){var r,a=Object(i.a)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;w(o,e,void 0,n)}}catch(s){a.e(s)}finally{a.f()}}})(e,t.children,n),t.text&&(e.textContent=t.text),O(e,t.properties,n),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,n,t.vnodeSelector,t.properties,t.children])},w=function(e,t,n,r){var i,a=0,s=e.vnodeSelector,u=t.ownerDocument;if(""===s)i=e.domNode=u.createTextNode(e.text),void 0!==n?t.insertBefore(i,n):t.appendChild(i);else{for(var l=0;l<=s.length;++l){var h=s.charAt(l);if(l===s.length||"."===h||"#"===h){var f=s.charAt(a-1),d=s.slice(a,l);"."===f?i.classList.add(d):"#"===f?i.id=d:("svg"===d&&(r=c(r,{namespace:o})),void 0!==r.namespace?i=e.domNode=u.createElementNS(r.namespace,d):(i=e.domNode=e.domNode||u.createElement(d),"input"===d&&e.properties&&void 0!==e.properties.type&&i.setAttribute("type",e.properties.type)),void 0!==n?t.insertBefore(i,n):i.parentNode!==t&&t.appendChild(i)),a=l+1}}j(i,e,r)}},_=function(e,t,n){t&&t.split(" ").forEach((function(t){t&&e.classList.toggle(t,n)}))};r=function(e,t,n){var i=e.domNode,p=!1;if(e===t)return!1;var b=!1;if(""===t.vnodeSelector){if(t.text!==e.text){var v=i.ownerDocument.createTextNode(t.text);return i.parentNode.replaceChild(v,i),t.domNode=v,p=!0}t.domNode=i}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(n=c(n,{namespace:o})),e.text!==t.text&&(b=!0,void 0===t.text?i.removeChild(i.firstChild):i.textContent=t.text),t.domNode=i,b=function(e,t,n,i,a){if(n===i)return!1;i=i||s;for(var o,c=(n=n||s).length,l=i.length,p=0,b=0,v=!1;b<l;){var y=p<c?n[p]:void 0,m=i[b];if(void 0!==y&&u(y,m))v=r(y,m,a)||v,p++;else{var O=h(n,m,p+1);if(O>=0){for(o=p;o<O;o++)g(n[o]),f(n,o,e,"removed");v=r(n[O],m,a)||v,p=O+1}else w(m,t,p<c?n[p].domNode:void 0,a),d(m),f(i,b,e,"added")}b++}if(c>p)for(o=p;o<c;o++)g(n[o]),f(n,o,e,"removed");return v}(t,i,e.children,t.children,n)||b,b=function(e,t,n,r){if(n){for(var i=!1,s=Object.keys(n),c=s.length,u=0;u<c;u++){var h=s[u],f=n[h],d=t[h];if("class"===h)d!==f&&(_(e,d,!1),_(e,f,!0));else if("classes"===h)for(var p=e.classList,b=Object.keys(f),v=b.length,y=0;y<v;y++){var m=b[y],g=!!f[m];g!==!!d[m]&&(i=!0,g?p.add(m):p.remove(m))}else if("styles"===h)for(var O=Object.keys(f),j=O.length,w=0;w<j;w++){var x=O[w],k=f[x];k!==d[x]&&(i=!0,k?(l(k),r.styleApplyer(e,x,k)):r.styleApplyer(e,x,""))}else if(f||"string"!=typeof d||(f=""),"value"===h){var S=e[h];S!==f&&(e["oninput-value"]?S===e["oninput-value"]:f!==d)&&(e[h]=f,e["oninput-value"]=void 0),f!==d&&(i=!0)}else if(f!==d){var E=typeof f;"function"===E&&r.eventHandlerInterceptor||(r.namespace===o?"href"===h?e.setAttributeNS("http://www.w3.org/1999/xlink",h,f):e.setAttribute(h,f):"string"===E?"innerHTML"===h?e[h]=a.f.sanitize(f):"role"===h&&""===f?e.removeAttribute(h):e.setAttribute(h,f):e[h]!==f&&(e[h]=f),i=!0)}}return i}}(i,e.properties,t.properties,n)||b,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[i,n,t.vnodeSelector,t.properties,t.children]);return b&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(i,t.properties,e.properties),p};var x=function(e,t){return{getLastRender:function(){return e},update:function(n){if(e.vnodeSelector!==n.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");var i=e;e=n,r(i,n,t)},domNode:e.domNode}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return b}));var r=n(10),i=n(7),a=n.n(i),o=n(16),s=n(13),c=(n(15),n(4)),u=n(144),l=n(181),h=null;function f(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function d(e,t,n){var r=e.backgroundColor,i=e.outline,a=e.dotSize,o=n&&n.swatchSize||22,s=Math.round(o*o/Math.pow(a,2)*.8),c=window.devicePixelRatio,u=document.createElement("canvas"),l=o*c;u.width=l,u.height=l,u.style.width=u.width/c+"px",u.style.height=u.height/c+"px";var d=u.getContext("2d");if(r&&(d.fillStyle=r.toCss(!0),d.fillRect(0,0,l,l),d.fill()),d.fillStyle=t.toCss(!0),h&&h.length/2===s)for(var p=0;p<2*s;p+=2){var b=h[p],v=h[p+1];d.fillRect(b,v,a*c,a*c),d.fill()}else{h=[];for(var y=0;y<2*s;y+=2){var m=f(0,l),g=f(0,l);h.push(m,g),d.fillRect(m,g,a*c,a*c),d.fill()}}i&&(i.color&&(d.strokeStyle=i.color.toCss(!0)),d.lineWidth=i.width,d.strokeRect(0,0,l,l));var O=new Image(o,o);return O.src=u.toDataURL(),O}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="horizontal"===t.align,r=n?75:24,i=n?24:75,a=t.width,o=void 0===a?r:a,c=t.height,u=void 0===c?i:c,l=t.gradient,h=void 0===l||l,f=window.devicePixelRatio,d=o*f,p=u*f,b=document.createElement("canvas");b.width=d,b.height=p,b.style.width="".concat(o,"px"),b.style.height="".concat(u,"px");var v=b.getContext("2d"),y=n?d:0,m=n?0:p;if(h){var g=v.createLinearGradient(0,0,y,m),O=1/(e.length-1);e.forEach((function(e,t){return g.addColorStop(t*O,e.toString())})),v.fillStyle=g,v.fillRect(0,0,d,p)}else{var j,w=n?d/e.length:d,_=n?p:p/e.length,x=0,k=0,S=Object(s.a)(e);try{for(S.s();!(j=S.n()).done;){var E=j.value;v.fillStyle=E.toString(),v.fillRect(x,k,w,_),x=n?x+w:0,k=n?0:k+_}}catch(M){S.e(M)}finally{S.f()}}var T=document.createElement("div");return T.style.width="".concat(o,"px"),T.style.height="".concat(u,"px"),T.appendChild(b),T}function b(e,t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function e(t,r){var i,o,s,c,u,l,h,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="web-style"===e.t0?3:"label-3d"===e.t0||"line-3d"===e.t0||"mesh-3d"===e.t0||"point-3d"===e.t0||"polygon-3d"===e.t0?8:"simple-marker"===e.t0||"simple-line"===e.t0||"simple-fill"===e.t0||"picture-marker"===e.t0||"picture-fill"===e.t0||"text"===e.t0?13:"cim"===e.t0?18:23;break;case 3:return e.next=5,n.e(122).then(n.bind(null,961));case 5:return i=e.sent,o=i.previewWebStyleSymbol,e.abrupt("return",o(t,b,r));case 8:return e.next=10,Promise.resolve().then(n.bind(null,540));case 10:return s=e.sent,c=s.previewSymbol3D,e.abrupt("return",c(t,r));case 13:return e.next=15,n.e(121).then(n.bind(null,962));case 15:return u=e.sent,l=u.previewSymbol2D,e.abrupt("return",l(t,r));case 18:return e.next=20,Promise.all([n.e(12),n.e(120)]).then(n.bind(null,969));case 20:return h=e.sent,f=h.previewCIMSymbol,e.abrupt("return",f(t,r));case 23:return e.abrupt("return");case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return e&&"opacity"in e?e.opacity*y(e.parent):1}function m(e,t){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(a.a.mark((function e(t,i){var o,h,f,d,p,b,v,m,g,O,j,w,_,x,k,S,E,T,M,C,A;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(o=y(t.layer||t.sourceLayer),!Object(c.h)(t.symbol)||Object(c.h)(i)&&!0===i.ignoreGraphicSymbol){e.next=13;break}if("web-style"!==t.symbol.type){e.next=10;break}return e.next=7,t.symbol.fetchSymbol(Object(c.h)(i)?i.abortOptions:null);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=t.symbol.clone();case 11:return h=e.t0,e.abrupt("return",(Object(l.a)(h,null,o),h));case 13:return f=Object(c.h)(i)&&i.renderer||t.get("layer.renderer")||t.get("sourceLayer.renderer"),e.next=16,f.getSymbolAsync(t);case 16:if(d=e.sent){e.next=19;break}return e.abrupt("return");case 19:if("web-style"!==d.type){e.next=25;break}return e.next=22,d.fetchSymbol(Object(c.h)(i)?i.abortOptions:null);case 22:e.t1=e.sent,e.next=26;break;case 25:e.t1=d.clone();case 26:if(d=e.t1,!(!("visualVariables"in f)||"visualVariables"in f&&!f.visualVariables||"visualVariables"in f&&f.visualVariables&&!f.visualVariables.length)){e.next=29;break}return e.abrupt("return",d);case 29:if(!f.arcadeRequiredForVisualVariables||!Object(c.g)(i)&&!Object(c.g)(i.arcade)){e.next=35;break}return p=Object(r.a)({},Object(c.n)(i)),e.next=33,Object(u.e)();case 33:p.arcade=e.sent,i=p;case 35:return e.next=37,Promise.resolve().then(n.bind(null,386));case 37:b=e.sent,v=[],m=[],g=[],O=[],j=Object(s.a)(f.visualVariables),e.prev=43,j.s();case 45:if((w=j.n()).done){e.next=59;break}_=w.value,e.t2=_.type,e.next="color"===e.t2?50:"opacity"===e.t2?52:"rotation"===e.t2?54:"size"===e.t2?56:57;break;case 50:return v.push(_),e.abrupt("break",57);case 52:return m.push(_),e.abrupt("break",57);case 54:return O.push(_),e.abrupt("break",57);case 56:_.target||g.push(_);case 57:e.next=45;break;case 59:e.next=64;break;case 61:e.prev=61,e.t3=e.catch(43),j.e(e.t3);case 64:return e.prev=64,j.f(),e.finish(64);case 67:if(x=!!v.length&&v[v.length-1],k=x?b.getColor(x,t,i):null,S=!!m.length&&m[m.length-1],E=S?b.getOpacity(S,t,i):null,null!=o&&(E=null!=E?E*o:o),Object(l.a)(d,k,E),!g.length){e.next=73;break}return T=b.getAllSizes(g,t,i),e.next=73,Object(l.c)(d,T);case 73:for(M=0,C=O;M<C.length;M++)A=C[M],Object(l.b)(d,b.getRotationAngle(A,t,i),A.axis);return e.abrupt("return",d);case 75:case"end":return e.stop()}}),e,null,[[43,61,64,67]])})))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return a}));var r={func:513},i={func:519},a={mask:255},o={mask:0},s={function:{func:519,ref:2,mask:2},operation:{fail:7680,zFail:7680,zPass:0}},c={function:{func:519,ref:2,mask:2},operation:{fail:7680,zFail:7680,zPass:7681}},u={function:{func:514,ref:2,mask:2},operation:{fail:7680,zFail:7680,zPass:7680}},l={function:{func:517,ref:2,mask:2},operation:{fail:7680,zFail:7680,zPass:7680}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return u}));var r=n(4),i=n(326);function a(e,t){return Object(r.g)(t)||!t.mode?e?"absolute-height":"on-the-ground":t.mode}function o(e,t){return a(!!Object(r.h)(e)&&e.hasZ,t)}function s(e){var t=l(e);return o(e.geometry,t)}function c(e){var t=l(e),n=o(e.geometry,t);return{mode:n,offset:Object(r.h)(t)&&"on-the-ground"!==n?Object(r.o)(t.offset,0)*Object(i.a)(Object(r.o)(t.unit,"meters")):0}}function u(e){if("on-the-ground"===s(e))return!1;var t=l(e),n=Object(r.h)(t)&&t.featureExpressionInfo?t.featureExpressionInfo.expression:null;return!(!n||"0"===n)}function l(e){return e.layer&&"elevationInfo"in e.layer?e.layer.elevationInfo:null}function h(e,t,n){if(!Object(r.g)(n)&&n.mode){var i=e.hasZ?e.z:0,a=Object(r.h)(n.offset)?n.offset:0;switch(n.mode){case"absolute-height":return i-a;case"on-the-ground":return 0;case"relative-to-ground":return i-((t.elevationProvider.getElevation(e.x,e.y,e.z,e.spatialReference,"ground")||0)+a);case"relative-to-scene":return i-((t.elevationProvider.getElevation(e.x,e.y,e.z,e.spatialReference,"scene")||0)+a)}}}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(e,t.x,t.y,t.hasZ?t.z:0,t.spatialReference,n,r)}function d(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return p(e,t[0],t[1],t.length>2?t[2]:0,n,r,i)}function p(e,t,n,i,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(!Object(r.g)(o)){var c=Object(r.h)(s)?s.mode:"absolute-height";return"on-the-ground"===c?0:function(e,t,n,i,a,o,s,c){var u=Object(r.h)(s)&&Object(r.h)(s.offset)?s.offset:0;switch(c){case"absolute-height":return e-u;case"relative-to-ground":return e-((o.elevationProvider.getElevation(t,n,i,a,"ground")||0)+u);case"relative-to-scene":return e-((o.elevationProvider.getElevation(t,n,i,a,"scene")||0)+u)}}(function(e,t,n,i,a,o,s){var c=Object(r.h)(o.offset)?o.offset:0;switch(o.mode){case"absolute-height":return s+c;case"on-the-ground":return a.elevationProvider.getElevation(e,t,0,i,"ground")||0;case"relative-to-ground":return s+(a.elevationProvider.getElevation(e,t,n,i,"ground")||0)+c;case"relative-to-scene":return s+(a.elevationProvider.getElevation(e,t,n,i,"scene")||0)+c}}(t,n,i,a,e,o,i),t,n,i,a,e,s,c)}}},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(4),o=n(221),s=n(26),c=n(187),u=n(140),l=n(24),h=n(9),f=function(){function e(t,n,i,a){Object(r.a)(this,e),this.primitiveIndices=t,this._numIndexPerPrimitive=n,this.indices=i,this._position=a,this.center=Object(l.e)(),Object(s.b)(t.length>=1),Object(s.b)(i.length%this._numIndexPerPrimitive==0),Object(s.b)(i.length>=t.length*this._numIndexPerPrimitive),Object(s.b)(3===this._position.size||4===this._position.size);var o=this._position,c=o.data,u=o.offsetIdx,f=o.strideIdx,d=0,p=t.length,b=u+f*i[this._numIndexPerPrimitive*t[d]];for(e.tmpIndices.clear(),e.tmpIndices.push(b),this.bbMin=Object(l.g)(c[b],c[b+1],c[b+2]),this.bbMax=Object(l.d)(this.bbMin);d<p;++d)for(var v=this._numIndexPerPrimitive*t[d],y=0;y<this._numIndexPerPrimitive;++y){b=u+f*i[v+y],e.tmpIndices.push(b);var m=c[b];this.bbMin[0]=Math.min(m,this.bbMin[0]),this.bbMax[0]=Math.max(m,this.bbMax[0]),m=c[b+1],this.bbMin[1]=Math.min(m,this.bbMin[1]),this.bbMax[1]=Math.max(m,this.bbMax[1]),m=c[b+2],this.bbMin[2]=Math.min(m,this.bbMin[2]),this.bbMax[2]=Math.max(m,this.bbMax[2])}Object(h.f)(this.center,this.bbMin,this.bbMax,.5),this.bsRadius=.5*Math.max(Math.max(this.bbMax[0]-this.bbMin[0],this.bbMax[1]-this.bbMin[1]),this.bbMax[2]-this.bbMin[2]);var g=this.bsRadius*this.bsRadius;for(d=0;d<e.tmpIndices.length;++d){var O=c[b=e.tmpIndices.data[d]]-this.center[0],j=c[b+1]-this.center[1],w=c[b+2]-this.center[2],_=O*O+j*j+w*w;if(!(_<=g)){var x=Math.sqrt(_),k=.5*(x-this.bsRadius);this.bsRadius=this.bsRadius+k,g=this.bsRadius*this.bsRadius;var S=k/x;this.center[0]+=O*S,this.center[1]+=j*S,this.center[2]+=w*S}}e.tmpIndices.clear()}return Object(i.a)(e,[{key:"getCenter",value:function(){return this.center}},{key:"getBSRadius",value:function(){return this.bsRadius}},{key:"getBBMin",value:function(){return this.bbMin}},{key:"getBBMax",value:function(){return this.bbMax}},{key:"getPrimitiveIndices",value:function(){return this.primitiveIndices}},{key:"getIndices",value:function(){return this.indices}},{key:"getPosition",value:function(){return this._position}},{key:"getChildren",value:function(){if(this._children)return this._children;if(Object(h.i)(this.bbMin,this.bbMax)>1){for(var t=Object(h.f)(Object(l.e)(),this.bbMin,this.bbMax,.5),n=this.primitiveIndices.length,r=new Uint8Array(n),i=new Array(8),a=0;a<8;++a)i[a]=0;for(var o=this._position,s=o.data,c=o.offsetIdx,u=o.strideIdx,f=0;f<n;++f){for(var d=0,p=this._numIndexPerPrimitive*this.primitiveIndices[f],b=c+u*this.indices[p],v=s[b],y=s[b+1],m=s[b+2],g=1;g<this._numIndexPerPrimitive;++g){var O=s[b=c+u*this.indices[p+g]],j=s[b+1],w=s[b+2];O<v&&(v=O),j<y&&(y=j),w<m&&(m=w)}v<t[0]&&(d|=1),y<t[1]&&(d|=2),m<t[2]&&(d|=4),r[f]=d,++i[d]}for(var _=0,x=0;x<8;++x)i[x]>0&&++_;if(_<2)return;for(var k=new Array(8),S=0;S<8;++S)k[S]=i[S]>0?new Uint32Array(i[S]):void 0;for(var E=0;E<8;++E)i[E]=0;for(var T=0;T<n;++T){var M=r[T];k[M][i[M]++]=this.primitiveIndices[T]}this._children=new Array(8);for(var C=0;C<8;++C)void 0!==k[C]&&(this._children[C]=new e(k[C],this._numIndexPerPrimitive,this.indices,this._position))}return this._children}}]),e}();(f||(f={})).tmpIndices=new u.a({deallocator:null});var d=f,p=function(){function e(t,n){Object(r.a)(this,e),this._boundingInfo=null,this._id=e.__idGen.gen(n),this._data=t}return Object(i.a)(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"getIndices",value:function(e){return this.data.getIndices(e)}},{key:"indexCount",get:function(){return this.data.indexCount}},{key:"getAttribute",value:function(e){return this.data.getAttribute(e)}},{key:"vertexCount",get:function(){return this.data.indexCount}},{key:"faceCount",get:function(){return this.data.indexCount/3}},{key:"boundingInfo",get:function(){return Object(a.g)(this._boundingInfo)&&(this._boundingInfo=this._calculateBoundingInfo()),this._boundingInfo}},{key:"computeAttachmentOrigin",value:function(e){return"triangle"===this.data.primitiveType?this.computeAttachmentOriginTriangles(e):this.computeAttachmentOriginPoints(e)}},{key:"computeAttachmentOriginTriangles",value:function(e){var t=this.getIndices(s.a.POSITION),n=this.getAttribute(s.a.POSITION);return Object(o.c)(n,t,e)}},{key:"computeAttachmentOriginPoints",value:function(e){var t=this.getIndices(s.a.POSITION),n=this.getAttribute(s.a.POSITION);return Object(o.b)(n,t,e)}},{key:"invalidateBoundingInfo",value:function(){this._boundingInfo=null}},{key:"_calculateBoundingInfo",value:function(){var e=this.data.getIndices(s.a.POSITION),t=this.data.getAttribute(s.a.POSITION),n="triangle"===this.data.primitiveType?3:1;if(0===e.length){e=new Uint32Array(n);for(var r=0;r<n;++r)e[r]=r}var i=e.length;Object(s.b)(i%n==0,"Indexing error: "+i.toFixed(0)+" not divisible by "+n.toFixed(0));var a=Object(o.d)(i/n);return new d(a,n,e,t)}}]),e}();p.__idGen=new c.a;t.a=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"CalciteTheme",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"EsriColors",{enumerable:!0,get:function(){return a.default}});var r=o(n(765)),i=o(n(629)),a=o(n(767));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return T}));var r=n(3),i=n(2),a=n(4),o=n(278),s=n(361),c=n(140),u=n(17),l=function e(t){Object(i.a)(this,e),this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1},h=function(){function e(t){Object(i.a)(this,e),this.callback=t,this.isActive=!0}return Object(r.a)(e,[{key:"remove",value:function(){this.isActive=!1}}]),e}(),f=-1,d=0,p={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},b=["prepare","preRender","render","postRender","update"],v=[],y=new c.a,m=function(){function e(t){Object(i.a)(this,e),this._task=t}return Object(r.a)(e,[{key:"remove",value:function(){this._task.removed=!0}},{key:"pause",value:function(){this._task.paused=!0}},{key:"resume",value:function(){this._task.paused=!1}}]),e}(),g={frameTasks:y,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y.forAll((function(e){e.removed=!0})),e&&k()},dispatch:S,executeFrameTasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();f<0&&(f=e);var t=e-f,n=d>0?d:1e3/60,r=Math.max(0,t-n);f=e;for(var i=performance.now(),a=function(i){var a=performance.now(),o=b[i];y.forAll((function(a){var s;a.paused||a.removed||(0===i&&a.ticks++,a.phases[o]&&(p.time=e,p.deltaTime=0===a.ticks?0:t,p.elapsedFrameTime=performance.now()-e,p.frameDuration=n-r,null==(s=a.phases[o])||s.call(a,p)))})),M[i].record(performance.now()-a)},o=0;o<b.length;o++)a(o);k(),C.record(performance.now()-i)}};function O(e){var t=new h(e);return v.push(t),g.willDispatch||(g.willDispatch=!0,Object(o.a)(S)),t}function j(e){var t=new l(e);return y.push(t),g.rafId||(f=-1,g.rafId=_()),new m(t)}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();g.rafId=null,y.length>0&&(g.rafId=_()),g.executeFrameTasks(e)}function _(){return g.requestNextFrame?g.requestNextFrame(E):E()}var x=new c.a;function k(){y.forAll((function(e){e.removed&&x.push(e)})),y.removeUnorderedMany(x.data,x.length),x.clear()}function S(){for(;v.length;){var e=Object(a.c)(v.shift());e.isActive&&e.callback()}g.willDispatch=!1}function E(){return requestAnimationFrame(w)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=Object(u.g)(),r=function r(){Object(u.m)(t)?n.reject(Object(u.e)()):0===e?n():(--e,Object(o.a)((function(){return r()})))};return r(),n.promise}var M=b.map((function(e){return new s.a(e)})),C=new s.a("total")},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return y}));var r=n(32),i=n(4),a=n(12),o=n(126),s=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],c=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(".concat(s.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),u=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(".concat(s.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i");function l(e){return!!c.test(e)}function h(e){var t=Object(a.I)(e),n=t.path.match(c)||t.path.match(u);if(!n)return null;var i=Object(r.a)(n,5),o=i[1],s=i[2],l=i[3],h=i[4],d=s.indexOf("/");return{title:f(-1!==d?s.slice(d+1):s),serverType:l,sublayer:null!=h&&""!==h?parseInt(h,10):null,url:{path:o}}}function f(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function d(e,t){var n=[];if(e){var r=h(e);Object(i.h)(r)&&r.title&&n.push(r.title)}if(t){var a=f(t);n.push(a)}if(2===n.length){if(-1!==n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function p(e){if(!e)return!1;var t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),n=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&n}function b(e,t){return e?Object(a.G)(Object(a.F)(e,t)):e}function v(e,t,n){if(!t)return{url:t};t=Object(a.F)(t,n);var r,o=h(Object(a.I)(t).path);return Object(i.h)(o)&&(null!=o.sublayer&&null==e.layerId&&(r=o.sublayer),t=o.url.path),{url:Object(a.G)(t),layerId:r}}function y(e,t,n,r,i){Object(o.f)(t,r,"url",i),r.url&&null!=e.layerId&&(r.url=Object(a.x)(r.url,n,e.layerId.toString()))}function m(e){if(!e)return!1;var t=e.toLowerCase(),n=-1!==t.indexOf("/services/"),r=-1!==t.indexOf("/mapserver/wmsserver"),i=-1!==t.indexOf("/imageserver/wmsserver"),a=-1!==t.indexOf("/wmsserver");return n&&(r||i||a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return h}));var r=n(2),i=n(23),a=n(4),o=n(92),s=function e(t){Object(r.a)(this,e),this.autoDestroy=!1,this.properties=t};function c(e){var t=e.constructor.__accessorMetadata__,n=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!n){var r=Object.create(t.properties),o=t.autoDestroy;for(var c in r)r[c]=Object(i.a)(r[c]);(t=new s(r)).autoDestroy=o,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new s({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return Object(a.c)(e.constructor.__accessorMetadata__)}function u(e){return c(e).properties}function l(e,t){var n=u(e),r=n[t];return r||(r=n[t]={}),r}function h(e,t){return Object(o.c)(e,t,d)}var f=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function d(e){return f.test(e)?"replace":"merge"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(39);function i(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a;return t||(t=new i),t===e||(t.removeAll(),(n=e)&&(Array.isArray(n)||"items"in n&&Array.isArray(n.items))?t.addMany(e):e&&t.add(e)),t}function a(e){return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return g}));var r=n(7),i=n.n(r),a=n(13),o=n(16),s=n(15),c=n(4),u=n(43),l=n(36),h=n(168),f=n(66),d=n(318),p=n(24),b=n(272),v=/\/resource\/(.*?)\.svg$/,y=new u.a("white");function m(e){if(!e)return 0;if(Object(f.h)(e)){var t=function(e){var t=e.symbolLayers&&e.symbolLayers.length;if(t){var n=e.symbolLayers.getItemAt(t-1);return"outline"in n?Object(c.f)(n,"outline","size"):void 0}}(e);return Object(c.h)(t)?t:0}var n=Object(b.d)(e);return n&&Object(l.h)(n.width)||0}function g(e){if(!e||!e.symbolLayers)return!1;switch(e.type){case"point-3d":return e.symbolLayers.some((function(e){return"object"===e.type}));case"line-3d":return e.symbolLayers.some((function(e){return"path"===e.type}));case"polygon-3d":return e.symbolLayers.some((function(e){return"object"===e.type||"extrude"===e.type}));default:return!1}}function O(e,t){var n=t.resource.href;return!Object(s.a)("esri-canvas-svg-support")&&e.styleOrigin&&v.test(n)?n.replace(v,"/resource/png/$1.png"):n}function j(e,t){if(null==t)return e;var n=e.toRgba();return n[3]=n[3]*t,new u.a(n)}function w(e,t,n){e&&(t||null!=n)&&(t&&(t=new u.a(t)),Object(f.h)(e)?function(e,t,n){var r=e.symbolLayers;if(r){var i=function(e){var r=Object(c.h)(e)?e:null;return j(t=t||r||null!=n&&y,n)};r.forEach((function(e){if("object"!==e.type||null==e.resource.href||t)if("water"===e.type)e.color=i(e.color);else{var r=Object(c.h)(e.material)?e.material.color:null,a=i(r);Object(c.g)(e.material)?e.material=new h.a({color:a}):e.material.color=a,null!=n&&"outline"in e&&Object(c.h)(e.outline)&&Object(c.h)(e.outline.color)&&(e.outline.color=j(e.outline.color,n))}}))}}(e,t,n):Object(f.c)(e)&&function(e,t,n){(t=t||e.color)&&(e.color=j(t,n)),null!=n&&"outline"in e&&e.outline&&e.outline.color&&(e.outline.color=j(e.outline.color,n))}(e,t,n))}function _(e,t){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.symbolLayers,e.t0=a,!e.t0){e.next=5;break}return e.next=5,Object(d.a)(a,function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(){var e=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="extrude"===e.t0?3:"icon"===e.t0||"line"===e.t0||"text"===e.t0?5:"path"===e.t0?7:"object"===e.t0?9:11;break;case 3:return function(e,t){e.size="number"==typeof t[2]?t[2]:0}(t,r),e.abrupt("break",11);case 5:return function(e,t){var n=k(t);Object(c.h)(n)&&(e.size=n)}(t,r),e.abrupt("break",11);case 7:return function(e,t){var n=S(t,p.a,[e.width,void 0,e.height]);e.width=E(t[0],e.width,1,n),e.height=E(t[2],e.height,1,n)}(t,r),e.abrupt("break",11);case 9:return e.next=11,function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a,s,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=Object(o.a)(i.a.mark((function e(t){var r,a,o,s,c,u,l,h,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(10).then(n.bind(null,971));case 2:return r=e.sent,e.next=5,r.computeObjectLayerResourceSize(t,10);case 5:a=e.sent,o=t.width,s=t.height,c=t.depth,u=[o,c,s],l=1,h=0;case 12:if(!(h<3)){e.next=19;break}if(null==u[h]){e.next=16;break}return l=u[h]/a[h],e.abrupt("break",19);case 16:h++,e.next=12;break;case 19:for(f=0;f<3;f++)null==u[f]&&(u[f]=a[f]*l);return e.abrupt("return",{resourceSize:a,symbolSize:u});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t);case 2:a=e.sent,s=a.resourceSize,c=a.symbolSize,u=S(r,s,c),t.width=E(r[0],c[0],s[0],u),t.depth=E(r[1],c[1],s[1],u),t.height=E(r[2],c[2],s[2],u);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,r);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("number"==typeof r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function S(e,t,n){for(var r=0;r<3;r++){var i=e[r];switch(i){case"symbol-value":return null!=n[r]?n[r]/t[r]:1;case"proportional":break;default:if(i&&t[r])return i/t[r]}}return 1}function E(e,t,n,r){switch(e){case"proportional":return n*r;case"symbol-value":return null!=t?t:n;default:return e}}function T(e,t){return M.apply(this,arguments)}function M(){return(M=Object(o.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=2;break}return e.abrupt("return",Object(f.h)(t)?_(t,n):void(Object(f.c)(t)&&function(e,t){var n=k(t);if(!Object(c.g)(n))switch(e.type){case"simple-marker":e.size=n;break;case"picture-marker":var r=e.width/e.height;r>1?(e.width=n,e.height=n*r):(e.width=n*r,e.height=n);break;case"simple-line":e.width=n;break;case"text":e.font.size=n}}(t,n)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,n){if(e&&null!=t)if(Object(f.h)(e)){var r=e.symbolLayers;r&&r.forEach((function(e){if(e&&"object"===e.type)switch(n){case"tilt":e.tilt=t;break;case"roll":e.roll=t;break;default:e.heading=t}}))}else Object(f.c)(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle=t))}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return f}));var r=n(44),i=n(24),a=n(9),o=n(161),s=n(51);function c(e){return e?{origin:Object(i.d)(e.origin),vector:Object(i.d)(e.vector)}:{origin:Object(i.e)(),vector:Object(i.e)()}}function u(e,t){var n=b.get();return n.origin=e,n.vector=t,n}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return Object(a.h)(n.origin,e),Object(a.h)(n.vector,t),n}function h(e,t){var n=Object(a.g)(s.c.get(),t,e.origin),i=Object(a.e)(e.vector,n),o=Object(a.e)(e.vector,e.vector),c=Object(r.d)(i/o,0,1),u=Object(a.g)(s.c.get(),Object(a.b)(s.c.get(),e.vector,c),n);return Object(a.e)(u,u)}function f(e,t,n,i,o){var c=e.vector,u=e.origin,l=Object(a.g)(s.c.get(),t,u),h=Object(a.m)(c),f=Object(a.e)(c,l)/h;return Object(a.b)(o,c,Object(r.d)(f,n,i)),Object(a.c)(o,o,e.origin)}function d(e,t,n,i){var o=1e-6,c=e.origin,u=Object(a.c)(s.c.get(),c,e.vector),l=t.origin,h=Object(a.c)(s.c.get(),l,t.vector),f=s.c.get(),d=s.c.get();if(f[0]=c[0]-l[0],f[1]=c[1]-l[1],f[2]=c[2]-l[2],d[0]=h[0]-l[0],d[1]=h[1]-l[1],d[2]=h[2]-l[2],Math.abs(d[0])<o&&Math.abs(d[1])<o&&Math.abs(d[2])<o)return!1;var p=s.c.get();if(p[0]=u[0]-c[0],p[1]=u[1]-c[1],p[2]=u[2]-c[2],Math.abs(p[0])<o&&Math.abs(p[1])<o&&Math.abs(p[2])<o)return!1;var b=f[0]*d[0]+f[1]*d[1]+f[2]*d[2],v=d[0]*p[0]+d[1]*p[1]+d[2]*p[2],y=f[0]*p[0]+f[1]*p[1]+f[2]*p[2],m=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],g=(p[0]*p[0]+p[1]*p[1]+p[2]*p[2])*m-v*v;if(Math.abs(g)<o)return!1;var O=(b*v-y*m)/g,j=(b+v*O)/m;n&&(O=Object(r.d)(O,0,1),j=Object(r.d)(j,0,1));var w=s.c.get(),_=s.c.get();return w[0]=c[0]+O*p[0],w[1]=c[1]+O*p[1],w[2]=c[2]+O*p[2],_[0]=l[0]+j*d[0],_[1]=l[1]+j*d[1],_[2]=l[2]+j*d[2],i.tA=O,i.tB=j,i.pA=w,i.pB=_,i.distance2=Object(a.i)(w,_),!0}var p={tA:0,tB:0,pA:Object(i.e)(),pB:Object(i.e)(),distance2:0},b=new o.a((function(){return{origin:null,vector:null}})),v=Object.freeze({__proto__:null,create:c,wrap:u,copy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c();return l(e.origin,e.vector,t)},fromValues:l,fromPoints:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return Object(a.h)(n.origin,e),Object(a.g)(n.vector,t,e),n},distance2:h,distance:function(e,t){return Math.sqrt(h(e,t))},projectPoint:function(e,t,n){return f(e,t,0,1,n)},pointAt:function(e,t,n){return Object(a.c)(n,e.origin,Object(a.b)(n,e.vector,t))},projectPointClamp:f,closestRayDistance2:function(e,t){if(d(e,u(t.origin,t.direction),!1,p)){var n=p.tA,r=p.pB,i=p.distance2;if(n>=0&&n<=1)return i;if(n<0)return Object(a.i)(e.origin,r);if(n>1)return Object(a.i)(Object(a.c)(s.c.get(),e.origin,e.vector),r)}return null},closestLineSegmentPoint:function(e,t,n){return!!d(e,t,!0,p)&&(Object(a.h)(n,p.pA),!0)},closestLineSegmentDistance2:function(e,t){return d(e,t,!0,p)?p.distance2:null}})},function(e,t,n){"use strict";var r=n(7),i=n.n(r),a=n(16),o=n(2),s=n(3),c=n(5),u=n(6),l=n(0),h=(n(15),n(106)),f=n(14),d=(n(18),n(1)),p=n(8),b=n(20),v=n(12),y=(n(21),n(22),n(48)),m=n(74),g=(n(99),n(86)),O=n(204),j=n(65),w=n(129),_=0,x=f.a.getLogger("esri.layers.Layer"),k=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){var e;return Object(o.a)(this,r),(e=t.apply(this,arguments)).attributionDataUrl=null,e.fullExtent=new m.a(-180,-90,180,90,y.a.WGS84),e.id=Date.now().toString(16)+"-layer-"+_++,e.legendEnabled=!0,e.listMode="show",e.opacity=1,e.parent=null,e.popupEnabled=!0,e.attributionVisible=!0,e.spatialReference=y.a.WGS84,e.title=null,e.type=null,e.url=null,e.visible=!0,e}return Object(s.a)(r,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){var n,r;f.a.getLogger(e.declaredClass).error("#load()","Failed to load layer (title: '".concat(null!=(n=e.title)?n:"no title","', id: '").concat(null!=(r=e.id)?r:"no id","')"),{error:t})}))}},{key:"destroy",value:function(){if(this.parent){var e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}},{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){var e=this.url;return e?Object(v.I)(e):null}},{key:"fetchAttributionData",value:function(){var e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.attributionDataUrl,!this.hasAttributionData||!t){e.next=5;break}return e.next=4,Object(j.default)(t,{query:{f:"json"},responseType:"json"});case 4:return e.abrupt("return",e.sent.data);case 5:throw new b.a("layer:no-attribution-data","Layer does not have attribution data");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromArcGISServerUrl",value:function(){var e=Object(a.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"==typeof t?{url:t}:t,e.next=3,n.e(53).then(n.bind(null,963));case 3:return a=e.sent,e.prev=4,e.next=7,a.fromUrl(r);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),x.error("#fromArcGISServerUrl({ url: '"+r.url+"'})","Failed to create layer from arcgis server url",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fromPortalItem",value:function(){var e=Object(a.a)(i.a.mark((function e(t){var r,a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="portalItem"in t?t:{portalItem:t},e.next=3,n.e(42).then(n.bind(null,896));case 3:return a=e.sent,e.prev=4,e.next=7,a.fromItem(r);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),o=r&&r.portalItem,s=o&&o.id||"unset",c=o&&o.portal&&o.portal.url||h.a.portalUrl,x.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+c+"', id: '"+s+"')",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(g.a.EventedMixin(Object(O.a)(w.a)));Object(l.a)([Object(d.b)({type:String})],k.prototype,"attributionDataUrl",void 0),Object(l.a)([Object(d.b)({type:m.a})],k.prototype,"fullExtent",void 0),Object(l.a)([Object(d.b)({readOnly:!0,dependsOn:["attributionDataUrl"]})],k.prototype,"hasAttributionData",null),Object(l.a)([Object(d.b)({type:String})],k.prototype,"id",void 0),Object(l.a)([Object(d.b)({type:Boolean,nonNullable:!0})],k.prototype,"legendEnabled",void 0),Object(l.a)([Object(d.b)({type:["show","hide","hide-children"]})],k.prototype,"listMode",void 0),Object(l.a)([Object(d.b)({type:Number,range:{min:0,max:1},nonNullable:!0})],k.prototype,"opacity",void 0),Object(l.a)([Object(d.b)()],k.prototype,"parent",void 0),Object(l.a)([Object(d.b)({readOnly:!0,dependsOn:["url"]})],k.prototype,"parsedUrl",null),Object(l.a)([Object(d.b)({type:Boolean})],k.prototype,"popupEnabled",void 0),Object(l.a)([Object(d.b)({type:Boolean})],k.prototype,"attributionVisible",void 0),Object(l.a)([Object(d.b)({type:y.a})],k.prototype,"spatialReference",void 0),Object(l.a)([Object(d.b)({type:String})],k.prototype,"title",void 0),Object(l.a)([Object(d.b)({type:String,readOnly:!0,json:{read:!1}})],k.prototype,"type",void 0),Object(l.a)([Object(d.b)()],k.prototype,"url",void 0),Object(l.a)([Object(d.b)({type:Boolean,nonNullable:!0})],k.prototype,"visible",void 0);var S=k=Object(l.a)([Object(p.a)("esri.layers.Layer")],k);t.a=S},function(e,t,n){"use strict";var r=n(2),i=n(3),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(r.a)(this,e),this.lengths=null!=t?t:[],this.coords=null!=n?n:[],this.hasIndeterminateRingOrder=i}return Object(i.a)(e,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"forEachVertex",value:function(e){var t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(var n=0;n<this.lengths.length;n++){for(var r=this.lengths[n],i=0;i<r;i++)e(this.coords[2*(i+t)],this.coords[2*(i+t)+1]);t+=r}}},{key:"clone",value:function(){return new e(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}]),e}();t.a=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));n(15);function r(e){}function i(e){return function(){return e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),i=n(3),a=function(){function e(){Object(r.a)(this,e),this._count=0}return Object(i.a)(e,[{key:"gen",value:function(e){return null==e&&(e="a"),e+"_"+this._count++}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return u}));var r=n(67);function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function a(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=n*a-r*i;return c?(c=1/c,e[0]=a*c,e[1]=-r*c,e[2]=-i*c,e[3]=n*c,e[4]=(i*s-a*o)*c,e[5]=(r*o-n*s)*c,e):null}function o(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=n[0],l=n[1],h=n[2],f=n[3],d=n[4],p=n[5];return e[0]=r*u+a*l,e[1]=i*u+o*l,e[2]=r*h+a*f,e[3]=i*h+o*f,e[4]=r*d+a*p+s,e[5]=i*d+o*p+c,e}function s(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=Math.sin(n),l=Math.cos(n);return e[0]=r*l+a*u,e[1]=i*l+o*u,e[2]=r*-u+a*l,e[3]=i*-u+o*l,e[4]=s,e[5]=c,e}function c(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=n[0],l=n[1];return e[0]=r*u,e[1]=i*u,e[2]=a*l,e[3]=o*l,e[4]=s,e[5]=c,e}function u(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=n[0],l=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=r*u+a*l+s,e[5]=i*u+o*l+c,e}function l(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function h(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function f(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}var d=o,p=f;Object.freeze({__proto__:null,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},identity:i,set:function(e,t,n,r,i,a,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e},invert:a,determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:o,rotate:s,scale:c,translate:u,fromRotation:l,fromScaling:h,fromTranslation:function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},str:function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},frob:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e},subtract:f,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},equals:function(e,t){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],c=e[5],u=t[0],l=t[1],h=t[2],f=t[3],d=t[4],p=t[5];return Math.abs(n-u)<=r.a*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-l)<=r.a*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-h)<=r.a*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-f)<=r.a*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-d)<=r.a*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(c-p)<=r.a*Math.max(1,Math.abs(c),Math.abs(p))},mul:d,sub:p})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return f}));var r=n(32),i=n(13),a=[0,0];function o(e,t){return h(e,t.x,t.y,t.z)}function s(e,t){if(!t.points||t.points.length)return!1;var n,r=Object(i.a)(t.points);try{for(r.s();!(n=r.n()).done;){if(!u(e,n.value))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}function c(e,t){var n=t.xmin,r=t.ymin,i=t.zmin,a=t.xmax,o=t.ymax,s=t.zmax;return e.hasZ&&t.hasZ?h(e,n,r,i)&&h(e,n,o,i)&&h(e,a,o,i)&&h(e,a,r,i)&&h(e,n,r,s)&&h(e,n,o,s)&&h(e,a,o,s)&&h(e,a,r,s):h(e,n,r)&&h(e,n,o)&&h(e,a,o)&&h(e,a,r)}function u(e,t){return h(e,t[0],t[1])}function l(e,t){return h(e,t[0],t[1],t[2])}function h(e,t,n,r){return t>=e.xmin&&t<=e.xmax&&n>=e.ymin&&n<=e.ymax&&(null==r||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function f(e,t){return a[1]=t.y,a[0]=t.x,d(e,a)}function d(e,t){return function(e,t){if(!e)return!1;if(function(e){return!Array.isArray(e[0][0])}(e))return p(!1,e,t);for(var n=!1,r=0,i=e.length;r<i;r++)n=p(n,e[r],t);return n}(e.rings,t)}function p(e,t,n){for(var i=Object(r.a)(n,2),a=i[0],o=i[1],s=e,c=0,u=0,l=t.length;u<l;u++){++c===l&&(c=0);var h=Object(r.a)(t[u],2),f=h[0],d=h[1],p=Object(r.a)(t[c],2),b=p[0],v=p[1];(d<o&&v>=o||v<o&&d>=o)&&f+(o-d)/(v-d)*(b-f)<a&&(s=!s)}return s}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return O}));var r=n(4),i=n(36),a=n(24),o=n(9),s=n(161),c=n(53),u=n(51);function l(e){return e?{origin:Object(a.d)(e.origin),direction:Object(a.d)(e.direction)}:{origin:Object(a.e)(),direction:Object(a.e)()}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l();return f(e.origin,e.direction,t)}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return Object(o.h)(n.origin,e),Object(o.h)(n.direction,t),n}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l(),a=Object(i.b)(Object(c.c)(u.c.get(),t));if(a[2]=0,!e.unprojectFromRenderScreen(a,n.origin))return null;var s=Object(i.b)(Object(c.c)(u.c.get(),t));s[2]=1;var h=e.unprojectFromRenderScreen(s,u.c.get());return Object(r.g)(h)?null:(Object(o.g)(n.direction,h,n.origin),n)}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return b(e,e.screenToRender(t,Object(i.b)(u.c.get())),n)}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();Object(o.h)(n.origin,e.eye);var i=Object(o.t)(u.c.get(),t[0],t[1],1),a=e.unprojectFromRenderScreen(i,u.c.get());return Object(r.g)(a)?null:(Object(o.g)(n.direction,a,n.origin),n)}function v(e,t){var n=Object(o.d)(u.c.get(),Object(o.o)(u.c.get(),e.direction),Object(o.g)(u.c.get(),t,e.origin));return Object(o.e)(n,n)}function y(e,t,n){var r=Object(o.e)(e.direction,Object(o.g)(n,t,e.origin));return Object(o.c)(n,e.origin,Object(o.b)(n,e.direction,r)),n}function m(){return{origin:null,direction:null}}var g=new s.a(m),O=Object.freeze({__proto__:null,create:l,wrap:function(e,t){var n=g.get();return n.origin=e,n.direction=t,n},copy:h,fromPoints:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return Object(o.h)(n.origin,e),Object(o.g)(n.direction,t,e),n},fromValues:f,fromScreen:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return d(e,e.screenToRender(t,Object(i.b)(u.c.get())),n)},fromRender:d,fromScreenAtEye:p,fromRenderAtEye:b,distance2:v,distance:function(e,t){return Math.sqrt(v(e,t))},closestPoint:y,createWrapper:m})},function(e,t,n){"use strict";var r,i=n(32),a=n(2),o=n(3),s=n(5),c=n(6),u=n(0),l=(n(15),n(23)),h=(n(14),n(18),n(1)),f=n(8),d=n(35),p=(n(12),n(21),n(22),n(157)),b=n(56),v=n(74),y=n(279);function m(e){return function(t,n){return null==t?n:null==n?t:e(t,n)}}var g=r=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).points=[],e.type="multipoint",e}return Object(o.a)(n,[{key:"normalizeCtorArgs",value:function(e,t){if(!e&&!t)return null;var n,r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):!(n=e)||"esri.geometry.SpatialReference"!==n.declaredClass&&null==n.wkid?(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM)):r.spatialReference=e;var i=r.points&&r.points[0];return i&&(void 0===r.hasZ&&void 0===r.hasM?(r.hasZ=i.length>2,r.hasM=!1):void 0===r.hasZ?r.hasZ=i.length>3:void 0===r.hasM&&(r.hasM=i.length>3)),r}},{key:"extent",get:function(){var e=this.points;if(!e.length)return null;for(var t,n,r,a,o=new v.a,s=this.hasZ,c=this.hasM,u=s?3:2,l=e[0],h=m(Math.min),f=m(Math.max),d=Object(i.a)(l,2),p=d[0],b=d[1],y=Object(i.a)(l,2),g=y[0],O=y[1],j=0,w=e.length;j<w;j++){var _=e[j],x=Object(i.a)(_,2),k=x[0],S=x[1];if(p=h(p,k),b=h(b,S),g=f(g,k),O=f(O,S),s&&_.length>2){var E=_[2];t=h(t,E),r=f(r,E)}if(c&&_.length>u){var T=_[u];n=h(n,T),a=f(a,T)}}return o.xmin=p,o.ymin=b,o.xmax=g,o.ymax=O,o.spatialReference=this.spatialReference,s?(o.zmin=t,o.zmax=r):(o.zmin=null,o.zmax=null),c?(o.mmin=n,o.mmax=a):(o.mmin=null,o.mmax=null),o}},{key:"writePoints",value:function(e,t){t.points=Object(l.a)(this.points)}},{key:"addPoint",value:function(e){return this.clearCache(),Object(y.a)(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this}},{key:"clone",value:function(){var e={points:Object(l.a)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new r(e)}},{key:"getPoint",value:function(e){if(!this._validateInputs(e))return null;var t=this.points[e],n={x:t[0],y:t[1],spatialReference:this.spatialReference},r=2;return this.hasZ&&(n.z=t[2],r=3),this.hasM&&(n.m=t[r]),new b.a(n)}},{key:"removePoint",value:function(e){return this._validateInputs(e)?(this.clearCache(),new b.a(this.points.splice(e,1)[0],this.spatialReference)):null}},{key:"setPoint",value:function(e,t){return this._validateInputs(e)?(this.clearCache(),Object(y.a)(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this):this}},{key:"toJSON",value:function(e){return this.write(null,e)}},{key:"_validateInputs",value:function(e){return null!=e&&e>=0&&e<this.points.length}}]),n}(p.a);Object(u.a)([Object(h.b)({dependsOn:["points","hasZ","hasM","spatialReference"],autoTracked:!1})],g.prototype,"cache",void 0),Object(u.a)([Object(h.b)({dependsOn:["cache"],autoTracked:!1})],g.prototype,"extent",null),Object(u.a)([Object(h.b)({type:[[Number]],json:{write:{isRequired:!0}}})],g.prototype,"points",void 0),Object(u.a)([Object(d.a)("points")],g.prototype,"writePoints",null),(g=r=Object(u.a)([Object(f.a)("esri.geometry.Multipoint")],g)).prototype.toJSON.isDefaultToJSON=!0;var O=g;t.a=O},function(e,t,n){"use strict";var r=n(596),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useContextState=t.rtlPlacement=t.getAccessibleOnClickHandlers=t.getChildType=t.transition=t.backgroundGradient=t.subNavLinkActive=t.subNavUnderline=t.fontSize=t.clearfix=t.unitCalc=void 0;var r=n(19),i=n(714),a=n(176);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.unitCalc=function(e,t,n){var r,i;"string"===typeof e&&(r=e.replace(parseFloat(e),""),e=parseFloat(e)),"string"===typeof t&&(i=t.replace(parseFloat(t),""),t=parseFloat(t));var a=r||i;switch(n){case"+":return e+t+a;case"-":return e-t+a;case"*":return e*t+a;case"/":return e/t+a;case"%":return e%t+a;default:return console.warn("unitCalc only supports the following operators: +, -, *, /, %"),e}};t.clearfix=function(){return"\n    &::after {\n      content: '';\n      display: table;\n      clear: both;\n    }\n  "};t.fontSize=function(e,t){switch(e){case-3:return"\n        font-size: 0.8125rem;\n        line-height: 1.55rem;\n      ";case-2:return"\n        font-size: 0.875rem;\n        line-height: 1.55rem;\n      ";case-1:return"\n        font-size: 0.9375rem;\n        line-height: 1.55rem;\n      ";case 0:return"\n        font-size: 1rem;\n        line-height: 1.55rem;\n      ";case 1:return"\n        font-size: 1.2019rem;\n        line-height: 1.55rem;\n      ";case 2:return"\n        font-size: 1.414rem;\n        line-height: 1.55rem;\n      ";case 3:return"\n        font-size: 1.69949rem;\n        line-height: 2.325rem;\n      ";case 4:return"\n        font-size: 1.9994rem;\n        line-height: 2.325rem;\n      ";case 5:return"\n        font-size: 2.40307rem;\n        line-height: 3.1rem;\n      ";case 6:return"\n        font-size: 2.82715rem;\n        line-height: 3.1rem;\n      ";case 7:return"\n        font-size: 3.39795rem;\n        line-height: 3.1rem;\n      ";case 8:return"\n        font-size: 3.99758rem;\n        line-height: 3.875rem;\n      ";default:return"\n        font-size: 1rem;\n        line-height: 1.55rem;\n      "}};t.subNavUnderline=function(e){return"\n    background-image: linear-gradient(to top, transparent 94%, ".concat(e.theme.palette.white," 96%, ").concat(e.theme.palette.white," 100%);\n  ")};t.backgroundGradient=function(e,t,n,r){return t&&n?r?"\n        background: linear-gradient(to right, ".concat((0,i.transparentize)(.3,t)," 0%, ").concat((0,i.transparentize)(.3,n)," 100%), url(").concat(e,") no-repeat center center, linear-gradient(to right, ").concat(t," 0%, ").concat(n," 100%);\n        background-size: cover;\n      "):"\n        background: url(".concat(e,") no-repeat center center, linear-gradient(to right, ").concat(t," 0%, ").concat(n," 100%);\n        background-size: cover;\n      "):"\n      background: url(".concat(e,") no-repeat top center;\n      background-size: cover;\n    ")};t.transition=function(e){return e?"\n      ".concat(a.CalciteTheme.transitionDuration," ").concat(e," ").concat(a.CalciteTheme.easingFunc,"\n    "):"\n    ".concat(a.CalciteTheme.transitionDuration," ").concat(a.CalciteTheme.easingFunc,"\n  ")};t.getChildType=function(e){return e.type&&e.type.target&&e.type.target.displayName||e.type&&e.type.displayName};t.getAccessibleOnClickHandlers=function(e){return e?{onClick:e,onKeyPress:e&&function(t){"Enter"!==t.key&&"Space"!==t.key||e()}}:void 0};t.rtlPlacement=function(e){if(e&&document&&"rtl"===document.documentElement.dir){var t={end:"start",start:"end",left:"right",right:"left"};e=e.replace(/start|end|right|left/g,(function(e){return t[e]}))}return e};t.subNavLinkActive=function(e){return"\n    background-color: rgba(0,0,0,.25);\n    color: ".concat(e.theme.palette.white,";\n    text-decoration: none;\n    border-bottom-color: rgba(0, 0, 0, 0.4);\n  ")};t.useContextState=function(e){var t=o((0,r.useState)(e),2),n=t[0],i=t[1];return(0,r.useEffect)((function(){i(e)}),Object.values(e)),n}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(34),h=n(8),f=n(35),d=(n(12),n(21),n(22),n(27)),p=n(164),b=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).end=null,r.start=null,r}return Object(a.a)(n,[{key:"readEnd",value:function(e,t){return null!=t.end?new Date(t.end):null}},{key:"writeEnd",value:function(e,t){t.end=e?e.getTime():null}},{key:"isAllTime",get:function(){return this.equals(r.allTime)}},{key:"isEmpty",get:function(){return this.equals(r.empty)}},{key:"readStart",value:function(e,t){return null!=t.start?new Date(t.start):null}},{key:"writeStart",value:function(e,t){t.start=e?e.getTime():null}},{key:"clone",value:function(){return new r({end:this.end,start:this.start})}},{key:"expandTo",value:function(e){if(this.isEmpty||this.isAllTime)return this.clone();var t=this.start?Object(p.d)(this.start,e):null,n=this.end?Object(p.b)(Object(p.d)(this.end,e),1,e):null;return new r({start:t,end:n})}},{key:"intersection",value:function(e){var t,n,i,a,o,s,c,u;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return r.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();var l,h,f=null!=(t=null==(n=this.start)?void 0:n.getTime())?t:-1/0,d=null!=(i=null==(a=this.end)?void 0:a.getTime())?i:1/0,p=null!=(o=null==(s=e.start)?void 0:s.getTime())?o:-1/0,b=null!=(c=null==(u=e.end)?void 0:u.getTime())?c:1/0;if(p>=f&&p<=d?l=p:f>=p&&f<=b&&(l=f),d>=p&&d<=b?h=d:b>=f&&b<=d&&(h=b),!isNaN(l)&&!isNaN(h)){var v=new r;return v.start=l===-1/0?null:new Date(l),v.end=h===1/0?null:new Date(h),v}return r.empty}},{key:"offset",value:function(e,t){if(this.isEmpty||this.isAllTime)return this.clone();var n=new r,i=this.start,a=this.end;return i&&(n.start=Object(p.b)(i,e,t)),a&&(n.end=Object(p.b)(a,e,t)),n}},{key:"equals",value:function(e){if(!e)return!1;var t=this.start?this.start.getTime():this.start,n=this.end?this.end.getTime():this.end,r=e.start?e.start.getTime():e.start,i=e.end?e.end.getTime():e.end;return t===r&&n===i}},{key:"union",value:function(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return v.clone();var t=this.start&&e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,n=this.end&&e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new r({start:t,end:n})}}],[{key:"allTime",get:function(){return v}},{key:"empty",get:function(){return y}}]),n}(d.a);Object(c.a)([Object(u.b)({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"end",void 0),Object(c.a)([Object(l.a)("end")],b.prototype,"readEnd",null),Object(c.a)([Object(f.a)("end")],b.prototype,"writeEnd",null),Object(c.a)([Object(u.b)({dependsOn:["start","end"],readOnly:!0,json:{read:!1}})],b.prototype,"isAllTime",null),Object(c.a)([Object(u.b)({dependsOn:["start","end"],readOnly:!0,json:{read:!1}})],b.prototype,"isEmpty",null),Object(c.a)([Object(u.b)({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"start",void 0),Object(c.a)([Object(l.a)("start")],b.prototype,"readStart",null),Object(c.a)([Object(f.a)("start")],b.prototype,"writeStart",null);var v=new(b=r=Object(c.a)([Object(h.a)("esri.TimeExtent")],b)),y=new b({start:void 0,end:void 0}),m=b;t.a=m},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u}));n(13);var r=n(2),i=(n(15),n(111),n(4),n(48),n(206),n(399),n(115));n(239);var a=n(165);n(400);var o=function e(t,n,i){Object(r.a)(this,e),this.uid=t,this.geometry=n,this.attributes=i,this.visible=!0,this.objectId=null,this.centroid=null};var s=function e(){Object(r.a)(this,e),this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null};function c(e){return"point"===e.type}function u(e,t,n,r){return{x:e,y:t,z:n,hasZ:null!=n,hasM:!1,spatialReference:r,type:"point"}}Object(a.d)(),Object(i.h)()},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(736)},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return _}));var r=n(32),i=n(4),a=n(44),o=n(24),s=n(9),c=n(165),u=n(26),l=n(222),h=n(334),f=Object(c.d)(),d=u.a;function p(e,t,n,r,i,a,o){var s=Object(l.d)(t),c=n.tolerance;if(!s)if(e.boundingInfo)Object(u.b)("triangle"===e.data.primitiveType),v(e.boundingInfo,r,i,c,a,o);else{var h=e.getIndices(d.POSITION),f=e.getAttribute(d.POSITION);g(r,i,0,h.length/3,h,f,void 0,a,o)}}var b=Object(o.e)();function v(e,t,n,r,a,o){var u=function(e,t,n){return Object(s.t)(n,1/(t[0]-e[0]),1/(t[1]-e[1]),1/(t[2]-e[2]))}(t,n,b);if(Object(c.s)(f,e.getBBMin()),Object(c.r)(f,e.getBBMax()),Object(i.h)(a)&&a.applyToAabb(f),function(e,t,n,r){return function(e,t,n,r,i){var a=(e[0]-r-t[0])*n[0],o=(e[3]+r-t[0])*n[0],s=Math.min(a,o),c=Math.max(a,o),u=(e[1]-r-t[1])*n[1],l=(e[4]+r-t[1])*n[1];if((c=Math.min(c,Math.max(u,l)))<0)return!1;if((s=Math.max(s,Math.min(u,l)))>c)return!1;var h=(e[2]-r-t[2])*n[2],f=(e[5]+r-t[2])*n[2];return!((c=Math.min(c,Math.max(h,f)))<0)&&!((s=Math.max(s,Math.min(h,f)))>c)&&s<i}(e,t,n,r,1/0)}(f,t,u,r)){var l=e.getPrimitiveIndices(),h=e.getIndices(),d=e.getPosition(),p=l?l.length:h.length/3;if(p>M){var y=e.getChildren();if(void 0!==y){for(var m=0;m<8;++m)void 0!==y[m]&&v(y[m],t,n,r,a,o);return}}g(t,n,0,p,h,d,l,a,o)}}var y=Math.pow(2,-52),m=Object(o.e)();function g(e,t,n,a,o,s,c,u,l){if(c)return function(e,t,n,a,o,s,c,u,l){for(var h=s.data,f=s.offsetIdx,d=s.strideIdx,p=e[0],b=e[1],v=e[2],g=t[0]-p,O=t[1]-b,j=t[2]-v,_=n;_<a;++_){var x,k,S,E,T,M,C=c[_],A=3*C,P=f+d*o[A++],I=h[P++],D=h[P++],L=h[P];P=f+d*o[A++];var R=h[P++],N=h[P++],F=h[P];P=f+d*o[A];var z=h[P++],V=h[P++],U=h[P];Object(i.h)(u)&&(x=u.applyToVertex(I,D,L,_),I=(k=Object(r.a)(x,3))[0],D=k[1],L=k[2],S=u.applyToVertex(R,N,F,_),R=(E=Object(r.a)(S,3))[0],N=E[1],F=E[2],T=u.applyToVertex(z,V,U,_),z=(M=Object(r.a)(T,3))[0],V=M[1],U=M[2]);var B=R-I,G=N-D,q=F-L,H=z-I,W=V-D,Y=U-L,J=O*Y-W*j,K=j*H-Y*g,X=g*W-H*O,Q=B*J+G*K+q*X;if(!(Math.abs(Q)<=y)){var Z=p-I,$=b-D,ee=v-L,te=Z*J+$*K+ee*X;if(Q>0){if(te<0||te>Q)continue}else if(te>0||te<Q)continue;var ne=$*q-G*ee,re=ee*B-q*Z,ie=Z*G-B*$,ae=g*ne+O*re+j*ie;if(Q>0){if(ae<0||te+ae>Q)continue}else if(ae>0||te+ae<Q)continue;var oe=(H*ne+W*re+Y*ie)/Q;oe>=0&&l(oe,w(B,G,q,H,W,Y,m),C)}}}(e,t,n,a,o,s,c,u,l);for(var h=s.data,f=s.offsetIdx,d=s.strideIdx,p=e[0],b=e[1],v=e[2],g=t[0]-p,O=t[1]-b,j=t[2]-v,_=n,x=3*n;_<a;++_){var k,S,E,T,M,C,A=f+d*o[x++],P=h[A++],I=h[A++],D=h[A];A=f+d*o[x++];var L=h[A++],R=h[A++],N=h[A];A=f+d*o[x++];var F=h[A++],z=h[A++],V=h[A];Object(i.h)(u)&&(k=u.applyToVertex(P,I,D,_),P=(S=Object(r.a)(k,3))[0],I=S[1],D=S[2],E=u.applyToVertex(L,R,N,_),L=(T=Object(r.a)(E,3))[0],R=T[1],N=T[2],M=u.applyToVertex(F,z,V,_),F=(C=Object(r.a)(M,3))[0],z=C[1],V=C[2]);var U=L-P,B=R-I,G=N-D,q=F-P,H=z-I,W=V-D,Y=O*W-H*j,J=j*q-W*g,K=g*H-q*O,X=U*Y+B*J+G*K;if(!(Math.abs(X)<=y)){var Q=p-P,Z=b-I,$=v-D,ee=Q*Y+Z*J+$*K;if(X>0){if(ee<0||ee>X)continue}else if(ee>0||ee<X)continue;var te=Z*G-B*$,ne=$*U-G*Q,re=Q*B-U*Z,ie=g*te+O*ne+j*re;if(X>0){if(ie<0||ee+ie>X)continue}else if(ie>0||ee+ie<X)continue;var ae=(q*te+H*ne+W*re)/X;ae>=0&&l(ae,w(U,B,G,q,H,W,m),_)}}}var O=Object(o.e)(),j=Object(o.e)();function w(e,t,n,r,i,a,o){return Object(s.t)(O,e,t,n),Object(s.t)(j,r,i,a),Object(s.d)(o,O,j),Object(s.o)(o,o),o}function _(e,t,n,r,i){var o=(n.screenLength||0)*e.pixelRatio;i&&(o=Object(h.d)(o,r,t,i));var s=o*Math.tan(.5*e.fovY)/(.5*e.fullHeight);return Object(a.i)(s*t,n.minWorldLength||0,null!=n.maxWorldLength?n.maxWorldLength:1/0)}function x(e,t,n){if(e){var r=e.parameters,i=e.paddingPixelsOverride;t.setUniform4f(n,r.divisor,r.offset,r.minPixelSize,i)}}function k(e,t){var n=t?k(t):{};for(var r in e){var i=e[r];i&&i.forEach&&(i=E(i)),null==i&&r in n||(n[r]=i)}return n}function S(e,t){var n=!1;for(var r in t){var i=t[r];void 0!==i&&(n=!0,Array.isArray(i)?e[r]=i.slice():e[r]=i)}return n}function E(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}var T={multiply:1,ignore:2,replace:3,tint:4},M=1e3},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return l}));var r=Number.POSITIVE_INFINITY,i=Math.PI,a=2*i,o=128/i,s=i/180,c=1/Math.LN2;function u(e,t){return(e%=t)>=0?e:e+t}function l(e){return u(e*o,256)}function h(e){return Math.log(e)*c}function f(e,t,n){return e*(1-n)+t*n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s}));var r=n(4),i=n(39),a=n(506);function o(e,t){var n=e.view;n&&(t&&n.ready&&n.activeTool!==e?(n.activeTool=e,Object(a.a)(n)&&n.focus()):t||n.activeTool!==e||(n.activeTool=null))}function s(e,t,n){var i=e.activeTool;t!==i&&(Object(r.h)(i)&&i.deactivate&&i.deactivate(),n(t),Object(r.h)(t)&&t.activate&&t.activate())}function c(){var e=new i.a;return e.on("after-add",(function(e){var t=e.item;t.view&&t.view.ready&&t.attach()})),e.on("after-remove",(function(e){var t=e.item;o(t,!1),t.destroyed||t.detach()})),e}function u(e){return!1!==e.visible&&!1!==e.editable&&(null==e.hasEditableFlag||e.hasEditableFlag(1))}function l(e){return Object(r.g)(e)?{}:"function"==typeof e?e():e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return A})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return P})),n.d(t,"h",(function(){return g}));var r=n(13),i=n(15),a=n(43),o=(n(64),n(11)),s=n(188),c=n(517),u=0,l=0,h=Object(i.a)("android"),f=Object(i.a)("chrome")||h&&h>=4?"auto":"optimizeLegibility",d={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},p=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,b={},v={},y={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};function m(e){return e.map((function(e){return"".concat(e.command," ").concat(e.values.join(" "))})).join(" ").trim()}function g(e,t,n,r){if(e){if("circle"===e.type)return Object(o.a)("circle",{fill:t,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,r:e.r});if("ellipse"===e.type)return Object(o.a)("ellipse",{fill:t,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry});if("rect"===e.type)return Object(o.a)("rect",{fill:t,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-miterlimit":"4",x:e.x,y:e.y,width:e.width,height:e.height});if("image"===e.type)return Object(o.a)("image",{href:e.src,x:e.x,y:e.y,width:e.width,height:e.height,preserveAspectRatio:"none"});if("path"===e.type){var i="string"!=typeof e.path?m(e.path):e.path;return Object(o.a)("path",{fill:t,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-miterlimit":"4",d:i})}if("text"===e.type)return Object(o.a)("text",{fill:t,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-miterlimit":"4","text-anchor":r.align,"text-decoration":r.decoration,kerning:r.kerning,rotate:r.rotate,"text-rendering":f,"font-style":r.font.style,"font-variant":r.font.variant,"font-weight":r.font.weight,"font-size":r.font.size,"font-family":r.font.family,x:e.x,y:e.y},e.text)}return null}function O(e){var t={fill:"none",pattern:null,linearGradient:null};if(e)if("type"in e&&"pattern"===e.type){var n="patternId-"+ ++u;t.fill="url(#".concat(n,")"),t.pattern={id:n,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}}}else if("type"in e&&"linear"===e.type){var r="linearGradientId-"+ ++l;t.fill="url(#".concat(r,")"),t.linearGradient={id:r,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map((function(e){return{offset:e.offset,color:e.color&&new a.a(e.color).toString()}}))}}else if(e){var i=new a.a(e);t.fill=i.toString()}return t}function j(e){var t={color:"none",width:1,cap:"butt",join:"4",dashArray:"none"};if(e&&(null!=e.width&&(t.width=e.width),e.cap&&(t.cap=e.cap),e.join&&(t.join=e.join.toString()),e.color&&(t.color=new a.a(e.color).toString()),e.style)){var n=null;if(e.style in y&&(n=y[e.style]),Array.isArray(n)){n=n.slice(0);for(var r=0;r<n.length;++r)n[r]*=e.width;if("butt"!==e.cap){for(var i=0;i<n.length;i+=2)n[i]-=e.width,n[i]<1&&(n[i]=1);for(var o=1;o<n.length;o+=2)n[o]+=e.width}n=n.join(",")}t.dashArray=n}return t}function w(e,t){var n={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return e&&(n.align=e.align,n.decoration=e.decoration,n.kerning=e.kerning?"auto":"0",n.rotate=e.rotated?"90":"0",n.font.style=t.style||"normal",n.font.variant=t.variant||"normal",n.font.weight=t.weight||"normal",n.font.size=t.size&&t.size.toString()||"10pt",n.font.family=t.family||"serif"),n}function _(e){var t=e.pattern,n=e.linearGradient;if(t)return Object(o.a)("pattern",{id:t.id,patternUnits:"userSpaceOnUse",x:t.x,y:t.y,width:t.width,height:t.height},Object(o.a)("image",{x:t.image.x,y:t.image.y,width:t.image.width,height:t.image.height,href:t.image.href}));if(n){var r=n.stops.map((function(e,t){return Object(o.a)("stop",{key:"".concat(t,"-stop"),offset:e.offset,"stop-color":e.color})}));return Object(o.a)("linearGradient",{id:n.id,gradientUnits:"userSpaceOnUse",x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},r)}return null}function x(e,t,n){return Object(s.h)(e,Object(s.d)(e),[t,n])}function k(e,t,n,r,i){return Object(s.g)(e,Object(s.d)(e),[t,n]),e[4]=e[4]*t-r*t+r,e[5]=e[5]*n-i*n+i,e}function S(e,t){b&&"left"in b?(b.left>e&&(b.left=e),b.right<e&&(b.right=e),b.top>t&&(b.top=t),b.bottom<t&&(b.bottom=t)):b={left:e,bottom:t,right:e,top:t}}function E(e){var t,n=e.args,r=n.length;switch(e.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(t=0;t<r;t+=2)S(n[t],n[t+1]);v.x=n[r-2],v.y=n[r-1];break;case"H":for(t=0;t<r;++t)S(n[t],v.y);v.x=n[r-1];break;case"V":for(t=0;t<r;++t)S(v.x,n[t]);v.y=n[r-1];break;case"m":var i=0;"x"in v||(S(v.x=n[0],v.y=n[1]),i=2);for(t=i;t<r;t+=2)S(v.x+=n[t],v.y+=n[t+1]);break;case"l":case"t":for(t=0;t<r;t+=2)S(v.x+=n[t],v.y+=n[t+1]);break;case"h":for(t=0;t<r;++t)S(v.x+=n[t],v.y);break;case"v":for(t=0;t<r;++t)S(v.x,v.y+=n[t]);break;case"c":for(t=0;t<r;t+=6)S(v.x+n[t],v.y+n[t+1]),S(v.x+n[t+2],v.y+n[t+3]),S(v.x+=n[t+4],v.y+=n[t+5]);break;case"s":case"q":for(t=0;t<r;t+=4)S(v.x+n[t],v.y+n[t+1]),S(v.x+=n[t+2],v.y+=n[t+3]);break;case"A":for(t=0;t<r;t+=7)S(n[t+5],n[t+6]);v.x=n[r-2],v.y=n[r-1];break;case"a":for(t=0;t<r;t+=7)S(v.x+=n[t+5],v.y+=n[t+6])}}function T(e,t,n){var r,i=d[e.toLowerCase()];"number"==typeof i&&(i?t.length>=i&&(r={action:e,args:t.slice(0,t.length-t.length%i)},n.push(r),E(r)):(r={action:e,args:[]},n.push(r),E(r)))}function M(e){var t={x:0,y:0,width:0,height:0};if("circle"===e.type)t.x=e.cx-e.r,t.y=e.cy-e.r,t.width=2*e.r,t.height=2*e.r;else if("ellipse"===e.type)t.x=e.cx-e.rx,t.y=e.cy-e.ry,t.width=2*e.rx,t.height=2*e.ry;else if("image"===e.type||"rect"===e.type)t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height;else if("path"===e.type){var n=function(e){var t=("string"!=typeof e.path?m(e.path):e.path).match(p),n=[];if(b={},v={},!t)return null;for(var r="",i=[],a=t.length,o=0;o<a;++o){var s=t[o],c=parseFloat(s);isNaN(c)?(r&&T(r,i,n),i=[],r=s):i.push(c)}T(r,i,n);var u={x:0,y:0,width:0,height:0};return b&&"left"in b&&(u.x=b.left,u.y=b.top,u.width=b.right-b.left,u.height=b.bottom-b.top),u}(e);t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height}return t}function C(e){var t,n={x:0,y:0,width:0,height:0},i=null,a=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Object(r.a)(e);try{for(s.s();!(t=s.n()).done;){var c=t.value;i?(i.x=Math.min(i.x,c.x),i.y=Math.min(i.y,c.y),a=Math.max(a,c.x+c.width),o=Math.max(o,c.y+c.height)):((i=n).x=c.x,i.y=c.y,a=c.x+c.width,o=c.y+c.height)}}catch(u){s.e(u)}finally{s.f()}return i&&(i.width=a-i.x,i.height=o-i.y),i}function A(e,t,n,r,i,a,o){var u=t/2,l=n/2,h=e.width+r,f=e.height+r,d=Object(c.a)(),p=Object(c.a)(),b=!1;if(i&&0!==h&&0!==f){var v=h/f,y=t>n?t:n,m=1,g=1;isNaN(y)||(v>1?(m=y/h,g=y/v/f):(g=y/f,m=y*v/h)),Object(s.e)(p,p,k(d,m,g,u,l)),b=!0}var O=e.x+(h-r)/2,j=e.y+(f-r)/2;if(Object(s.e)(p,p,x(d,u-O,l-j)),!b&&(h>t||f>n)){var w=h/t>f/n,_=(w?t:n)/(w?h:f);Object(s.e)(p,p,k(d,_,_,O,j))}return a&&Object(s.e)(p,p,function(e,t,n,r){var i=t%360*Math.PI/180;Object(s.f)(e,Object(s.d)(e),i);var a=Math.cos(i),o=Math.sin(i),c=e[4],u=e[5];return e[4]=c*a-u*o+r*o-n*a+n,e[5]=u*a+c*o-n*o-r*a+r,e}(d,a,O,j)),o&&Object(s.e)(p,p,x(d,o[0],o[1])),"matrix(".concat(p[0],",").concat(p[1],",").concat(p[2],",").concat(p[3],",").concat(p[4],",").concat(p[5],")")}function P(e,t,n,i){var a,s=[],c=[],u=Object(r.a)(e);try{for(u.s();!(a=u.n()).done;){var l,h=a.value,f=[],d=[],p=0,b=0,v=0,y=Object(r.a)(h);try{for(y.s();!(l=y.n()).done;){var m=l.value,x=m.shape,k=m.fill,S=m.stroke,E=m.font,T=m.offset;p+=S&&S.width||0;var P=O(k),I=j(S),D="text"===x.type?w(x,E):null;s.push(_(P)),f.push(g(x,P.fill,I,D)),d.push(M(x)),T&&(b+=T[0],v+=T[1])}}catch(R){y.e(R)}finally{y.f()}var L=A(C(d),t,n,p,i&&i.scale,i&&i.rotation,[b,v]);c.push(Object(o.a)("g",{transform:L},f))}}catch(R){u.e(R)}finally{u.f()}return Object(o.a)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n},Object(o.a)("defs",null,s),c)}},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,i,a,o,s,c,u=n(30),l=n(4),h=n(24),f=n(9),d=n(31);function p(e,t){if(t.slicePlaneEnabled){e.extensions.add("GL_OES_standard_derivatives"),t.sliceEnabledForVertexPrograms&&(e.vertex.uniforms.add("slicePlaneOrigin","vec3"),e.vertex.uniforms.add("slicePlaneBasis1","vec3"),e.vertex.uniforms.add("slicePlaneBasis2","vec3")),e.fragment.uniforms.add("slicePlaneOrigin","vec3"),e.fragment.uniforms.add("slicePlaneBasis1","vec3"),e.fragment.uniforms.add("slicePlaneBasis2","vec3");var n=Object(d.a)(r||(r=Object(u.a)(["\n      struct SliceFactors {\n        float front;\n        float side0;\n        float side1;\n        float side2;\n        float side3;\n      };\n\n      SliceFactors calculateSliceFactors(vec3 pos) {\n        vec3 rel = pos - slicePlaneOrigin;\n\n        vec3 slicePlaneNormal = -cross(slicePlaneBasis1, slicePlaneBasis2);\n        float slicePlaneW = -dot(slicePlaneNormal, slicePlaneOrigin);\n\n        float basis1Len2 = dot(slicePlaneBasis1, slicePlaneBasis1);\n        float basis2Len2 = dot(slicePlaneBasis2, slicePlaneBasis2);\n\n        float basis1Dot = dot(slicePlaneBasis1, rel);\n        float basis2Dot = dot(slicePlaneBasis2, rel);\n\n        return SliceFactors(\n          dot(slicePlaneNormal, pos) + slicePlaneW,\n          -basis1Dot - basis1Len2,\n          basis1Dot - basis1Len2,\n          -basis2Dot - basis2Len2,\n          basis2Dot - basis2Len2\n        );\n      }\n\n      bool sliceByFactors(SliceFactors factors) {\n        return factors.front < 0.0\n          && factors.side0 < 0.0\n          && factors.side1 < 0.0\n          && factors.side2 < 0.0\n          && factors.side3 < 0.0;\n      }\n\n      bool sliceEnabled() {\n        // a slicePlaneBasis1 vector of zero length is used to disable slicing in the shader during draped rendering.\n        return dot(slicePlaneBasis1, slicePlaneBasis1) != 0.0;\n      }\n\n      bool sliceByPlane(vec3 pos) {\n        return sliceEnabled() && sliceByFactors(calculateSliceFactors(pos));\n      }\n\n      #define rejectBySlice(_pos_) sliceByPlane(_pos_)\n      #define discardBySlice(_pos_) { if (sliceByPlane(_pos_)) discard; }\n    "]))),c=Object(d.a)(i||(i=Object(u.a)(["\n      vec4 applySliceHighlight(vec4 color, vec3 pos) {\n        SliceFactors factors = calculateSliceFactors(pos);\n\n        if (sliceByFactors(factors)) {\n          return color;\n        }\n\n        const float HIGHLIGHT_WIDTH = 1.0;\n        const vec4 HIGHLIGHT_COLOR = vec4(0.0, 0.0, 0.0, 0.3);\n\n        factors.front /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.front);\n        factors.side0 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side0);\n        factors.side1 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side1);\n        factors.side2 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side2);\n        factors.side3 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side3);\n\n        float highlightFactor = (1.0 - step(0.5, factors.front))\n          * (1.0 - step(0.5, factors.side0))\n          * (1.0 - step(0.5, factors.side1))\n          * (1.0 - step(0.5, factors.side2))\n          * (1.0 - step(0.5, factors.side3));\n\n        return mix(color, vec4(HIGHLIGHT_COLOR.rgb, color.a), highlightFactor * HIGHLIGHT_COLOR.a);\n      }\n    "]))),l=t.sliceHighlightDisabled?Object(d.a)(a||(a=Object(u.a)(["#define highlightSlice(_color_, _pos_) (_color_)"]))):Object(d.a)(o||(o=Object(u.a)(["\n        ","\n        #define highlightSlice(_color_, _pos_) (sliceEnabled() ? applySliceHighlight(_color_, _pos_) : (_color_))\n      "])),c);t.sliceEnabledForVertexPrograms&&e.vertex.code.add(n),e.fragment.code.add(n),e.fragment.code.add(l)}else{var h=Object(d.a)(s||(s=Object(u.a)(["\n      #define rejectBySlice(_pos_) false\n      #define discardBySlice(_pos_) {}\n      #define highlightSlice(_color_, _pos_) (_color_)\n    "])));t.sliceEnabledForVertexPrograms&&e.vertex.code.add(h),e.fragment.code.add(h)}}(c=p||(p={})).bindUniformsWithOrigin=function(e,t,n){c.bindUniforms(e,t,n.slicePlane,n.origin)},c.bindUniforms=function(e,t,n,r){t.slicePlaneEnabled&&(Object(l.h)(n)?(r?(Object(f.g)(b,n.origin,r),e.setUniform3fv("slicePlaneOrigin",b)):e.setUniform3fv("slicePlaneOrigin",n.origin),e.setUniform3fv("slicePlaneBasis1",n.basis1),e.setUniform3fv("slicePlaneBasis2",n.basis2)):(e.setUniform3fv("slicePlaneBasis1",h.b),e.setUniform3fv("slicePlaneBasis2",h.b),e.setUniform3fv("slicePlaneOrigin",h.b)))};var b=Object(h.e)()},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"ServerStyleSheet",(function(){return ze})),n.d(t,"StyleSheetConsumer",(function(){return ie})),n.d(t,"StyleSheetContext",(function(){return re})),n.d(t,"StyleSheetManager",(function(){return le})),n.d(t,"ThemeConsumer",(function(){return Ae})),n.d(t,"ThemeContext",(function(){return Ce})),n.d(t,"ThemeProvider",(function(){return Pe})),n.d(t,"__PRIVATE__",(function(){return Be})),n.d(t,"createGlobalStyle",(function(){return Ne})),n.d(t,"css",(function(){return ge})),n.d(t,"isStyledComponent",(function(){return O})),n.d(t,"keyframes",(function(){return Fe})),n.d(t,"useTheme",(function(){return Ue})),n.d(t,"version",(function(){return w})),n.d(t,"withTheme",(function(){return Ve}));var r=n(250),i=n(19),a=n.n(i),o=n(721),s=n.n(o),c=n(722),u=n(503),l=n(377),h=n(306),f=n.n(h);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},b=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},v=Object.freeze([]),y=Object.freeze({});function m(e){return"function"==typeof e}function g(e){return e.displayName||e.name||"Component"}function O(e){return e&&"string"==typeof e.styledComponentId}var j="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).SC_ATTR)||"data-styled",w="5.2.1",_="undefined"!=typeof window&&"HTMLElement"in window,x=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}).SC_DISABLE_SPEEDY)),k={};function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var E=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&S(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,c=t.length;s<c;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),T=new Map,M=new Map,C=1,A=function(e){if(T.has(e))return T.get(e);for(;M.has(C);)C++;var t=C++;return T.set(e,t),M.set(t,e),t},P=function(e){return M.get(e)},I=function(e,t){T.set(e,t),M.set(t,e)},D="style["+j+'][data-styled-version="5.2.1"]',L=new RegExp("^"+j+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),R=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},N=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(L);if(s){var c=0|parseInt(s[1],10),u=s[2];0!==c&&(I(u,c),R(e,u,s[3]),e.getTag().insertRules(c,r)),r.length=0}else r.push(o)}}},F=function(){return n.nc},z=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(j))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(j,"active"),r.setAttribute("data-styled-version","5.2.1");var o=F();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},V=function(){function e(e){var t=this.element=z(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}S(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),U=function(){function e(e){var t=this.element=z(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),B=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),G=_,q={isServer:!_,useCSSOMInjection:!x},H=function(){function e(e,t,n){void 0===e&&(e=y),void 0===t&&(t={}),this.options=d({},q,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&_&&G&&(G=!1,function(e){for(var t=document.querySelectorAll(D),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(j)&&(N(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return A(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(d({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new B(i):r?new V(i):new U(i),new E(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(A(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(A(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(A(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=P(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(void 0!==o&&0!==s.length){var c=j+".g"+i+'[id="'+a+'"]',u="";void 0!==o&&o.forEach((function(e){e.length>0&&(u+=e+",")})),r+=""+s+c+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),W=/(a)(d)/gi,Y=function(e){return String.fromCharCode(e+(e>25?39:97))};function J(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Y(t%52)+n;return(Y(t%52)+n).replace(W,"$1-$2")}var K=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},X=function(e){return K(5381,e)};function Q(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(m(n)&&!O(n))return!1}return!0}var Z=X("5.2.1"),$=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Q(e),this.componentId=t,this.baseHash=K(Z,t),this.baseStyle=n,H.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=me(this.rules,e,t,n).join(""),o=J(K(this.baseHash,a.length)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var c=this.rules.length,u=K(this.baseHash,n.hash),l="",h=0;h<c;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var d=me(f,e,t,n),p=Array.isArray(d)?d.join(""):d;u=K(u,p+h),l+=p}}if(l){var b=J(u>>>0);if(!t.hasNameForId(r,b)){var v=n(l,"."+b,void 0,r);t.insertRules(r,b,v)}i.push(b)}}return i.join(" ")},e}(),ee=/^\s*\/\/.*$/gm,te=[":","[",".","#"];function ne(e){var t,n,r,i,a=void 0===e?y:e,o=a.options,s=void 0===o?y:o,u=a.plugins,l=void 0===u?v:u,h=new c.a(s),f=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,c,u,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,a){return 0===r&&te.includes(a[n.length])||a.match(i)?e:"."+t};function b(e,a,o,s){void 0===s&&(s="&");var c=e.replace(ee,""),u=a&&o?o+" "+a+" { "+c+" }":c;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),h(o||!a?"":a,u)}return h.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=f;return f=[],t}}])),b.hash=l.length?l.reduce((function(e,t){return t.name||S(15),K(e,t.name)}),5381).toString():"",b}var re=a.a.createContext(),ie=re.Consumer,ae=a.a.createContext(),oe=(ae.Consumer,new H),se=ne();function ce(){return Object(i.useContext)(re)||oe}function ue(){return Object(i.useContext)(ae)||se}function le(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],o=ce(),c=Object(i.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=Object(i.useMemo)((function(){return ne({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),a.a.createElement(re.Provider,{value:c},a.a.createElement(ae.Provider,{value:u},e.children))}var he=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=se);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return S(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=se),this.name+e.hash},e}(),fe=/([A-Z])/,de=/([A-Z])/g,pe=/^ms-/,be=function(e){return"-"+e.toLowerCase()};function ve(e){return fe.test(e)?e.replace(de,be).replace(pe,"-ms-"):e}var ye=function(e){return null==e||!1===e||""===e};function me(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=me(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return ye(e)?"":O(e)?"."+e.styledComponentId:m(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:me(e(t),t,n,r):e instanceof he?n?(e.inject(n,r),e.getName(r)):e:b(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!ye(t[o])&&(b(t[o])?a.push.apply(a,e(t[o],o)):m(t[o])?a.push(ve(o)+":",t[o],";"):a.push(ve(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in u.a?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var c}function ge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m(e)||b(e)?me(p(v,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:me(p(e,n))}new Set;var Oe=function(e,t,n){return void 0===n&&(n=y),e.theme!==n.theme&&e.theme||t||n.theme},je=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,we=/(^-|-$)/g;function _e(e){return e.replace(je,"-").replace(we,"")}var xe=function(e){return J(X(e)>>>0)};function ke(e){return"string"==typeof e&&!0}var Se=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ee=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Te(e,t,n){var r=e[n];Se(t)&&Se(r)?Me(r,t):e[n]=t}function Me(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Se(o))for(var s in o)Ee(s)&&Te(e,o[s],s)}return e}var Ce=a.a.createContext(),Ae=Ce.Consumer;function Pe(e){var t=Object(i.useContext)(Ce),n=Object(i.useMemo)((function(){return function(e,t){return e?m(e)?e(t):Array.isArray(e)||"object"!=typeof e?S(8):t?d({},t,{},e):e:S(14)}(e.theme,t)}),[e.theme,t]);return e.children?a.a.createElement(Ce.Provider,{value:n},e.children):null}var Ie={};function De(e,t,n){var r=O(e),o=!ke(e),s=t.attrs,c=void 0===s?v:s,u=t.componentId,h=void 0===u?function(e,t){var n="string"!=typeof e?"sc":_e(e);Ie[n]=(Ie[n]||0)+1;var r=n+"-"+xe("5.2.1"+n+Ie[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,p=t.displayName,b=void 0===p?function(e){return ke(e)?"styled."+e:"Styled("+g(e)+")"}(e):p,j=t.displayName&&t.componentId?_e(t.displayName)+"-"+t.componentId:t.componentId||h,w=r&&e.attrs?Array.prototype.concat(e.attrs,c).filter(Boolean):c,_=t.shouldForwardProp;r&&e.shouldForwardProp&&(_=t.shouldForwardProp?function(n,r){return e.shouldForwardProp(n,r)&&t.shouldForwardProp(n,r)}:e.shouldForwardProp);var x,k=new $(n,j,r?e.componentStyle:void 0),S=k.isStatic&&0===c.length,E=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,c=e.foldedComponentIds,u=e.shouldForwardProp,h=e.styledComponentId,f=e.target,p=function(e,t,n){void 0===e&&(e=y);var r=d({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in m(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Oe(t,Object(i.useContext)(Ce),s)||y,t,a),b=p[0],v=p[1],g=function(e,t,n,r){var i=ce(),a=ue();return t?e.generateAndInjectStyles(y,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,b),O=n,j=v.$as||t.$as||v.as||t.as||f,w=ke(j),_=v!==t?d({},t,{},v):t,x={};for(var k in _)"$"!==k[0]&&"as"!==k&&("forwardedAs"===k?x.as=_[k]:(u?u(k,l.default):!w||Object(l.default)(k))&&(x[k]=_[k]));return t.style&&v.style!==t.style&&(x.style=d({},t.style,{},v.style)),x.className=Array.prototype.concat(c,h,g!==h?g:null,t.className,v.className).filter(Boolean).join(" "),x.ref=O,Object(i.createElement)(j,x)}(x,e,t,S)};return E.displayName=b,(x=a.a.forwardRef(E)).attrs=w,x.componentStyle=k,x.displayName=b,x.shouldForwardProp=_,x.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):v,x.styledComponentId=j,x.target=r?e.target:e,x.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(ke(e)?e:_e(g(e)));return De(e,d({},i,{attrs:w,componentId:a}),n)},Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Me({},e.defaultProps,t):t}}),x.toString=function(){return"."+x.styledComponentId},o&&f()(x,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),x}var Le=function(e){return function e(t,n,i){if(void 0===i&&(i=y),!Object(r.isValidElementType)(n))return S(1,String(n));var a=function(){return t(n,i,ge.apply(void 0,arguments))};return a.withConfig=function(r){return e(t,n,d({},i,{},r))},a.attrs=function(r){return e(t,n,d({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},a}(De,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Le[e]=Le(e)}));var Re=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Q(e),H.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(me(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&H.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=ge.apply(void 0,[e].concat(n)),s="sc-global-"+xe(JSON.stringify(o)),c=new Re(o,s);function u(e){var t=ce(),n=ue(),r=Object(i.useContext)(Ce),a=Object(i.useRef)(t.allocateGSInstance(s)).current;return Object(i.useLayoutEffect)((function(){return l(a,e,t,r,n),function(){return c.removeStyles(a,t)}}),[a,e,t,r,n]),null}function l(e,t,n,r,i){if(c.isStatic)c.renderStyles(e,k,n,i);else{var a=d({},t,{theme:Oe(t,r,u.defaultProps)});c.renderStyles(e,a,n,i)}}return a.a.memo(u)}function Fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ge.apply(void 0,[e].concat(n)).join(""),a=xe(i);return new he(a,i)}var ze=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=F();return"<style "+[n&&'nonce="'+n+'"',j+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?S(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return S(2);var n=((t={})[j]="",t["data-styled-version"]="5.2.1",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=F();return r&&(n.nonce=r),[a.a.createElement("style",d({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new H({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?S(2):a.a.createElement(le,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return S(3)},e}(),Ve=function(e){var t=a.a.forwardRef((function(t,n){var r=Object(i.useContext)(Ce),o=e.defaultProps,s=Oe(t,r,o);return a.a.createElement(e,d({},t,{theme:s,ref:n}))}));return f()(t,e),t.displayName="WithTheme("+g(e)+")",t},Ue=function(){return Object(i.useContext)(Ce)},Be={StyleSheet:H,masterSheet:oe};t.default=Le}.call(this,n(344))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),i=n(40),a=n(5),o=n(6),s=n(0),c=n(8),u=0,l=function(e){var t=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),Object.defineProperty(Object(i.a)(e),"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+u++}),e}return n}(e);return t=Object(s.a)([Object(c.a)("esri.core.Identifiable")],t)},h=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(l(function(){return function e(){Object(r.a)(this,e)}}()));h=Object(s.a)([Object(c.a)("esri.core.Identifiable")],h)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(13),i=n(2),a=n(3),o=n(113),s=n(589),c=function(){function e(t,n){Object(i.a)(this,e),this.layout=t,this.buffer="number"==typeof n?new ArrayBuffer(n*t.stride):n;var a,o=Object(r.a)(t.fieldNames);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=t.fields.get(s);this[s]=new c.constructor(this.buffer,c.offset,this.stride)}}catch(u){o.e(u)}finally{o.f()}}return Object(a.a)(e,[{key:"stride",get:function(){return this.layout.stride}},{key:"count",get:function(){return this.buffer.byteLength/this.stride}},{key:"byteLength",get:function(){return this.buffer.byteLength}},{key:"getField",value:function(e,t){var n=this[e];return n&&n.elementCount===t.ElementCount&&n.elementType===t.ElementType?n:null}},{key:"slice",value:function(t,n){return new e(this.layout,this.buffer.slice(t*this.stride,n*this.stride))}},{key:"copyFrom",value:function(e,t,n,r){var i=this.stride;if(i%4==0){var a=new Uint32Array(e.buffer,t*i,r*i/4);new Uint32Array(this.buffer,n*i,r*i/4).set(a)}else{var o=new Uint8Array(e.buffer,t*i,r*i);new Uint8Array(this.buffer,n*i,r*i).set(o)}}}]),e}(),u=function(){function e(){Object(i.a)(this,e),this.stride=0,this.fields=new Map,this.fieldNames=[]}return Object(a.a)(e,[{key:"vec2f",value:function(e,t){return this.appendField(e,o.m,t),this}},{key:"vec2f64",value:function(e,t){return this.appendField(e,o.n,t),this}},{key:"vec3f",value:function(e,t){return this.appendField(e,o.u,t),this}},{key:"vec3f64",value:function(e,t){return this.appendField(e,o.v,t),this}},{key:"vec4f",value:function(e,t){return this.appendField(e,o.C,t),this}},{key:"vec4f64",value:function(e,t){return this.appendField(e,o.D,t),this}},{key:"mat3f",value:function(e,t){return this.appendField(e,o.f,t),this}},{key:"mat3f64",value:function(e,t){return this.appendField(e,o.g,t),this}},{key:"mat4f",value:function(e,t){return this.appendField(e,o.h,t),this}},{key:"mat4f64",value:function(e,t){return this.appendField(e,o.i,t),this}},{key:"vec4u8",value:function(e,t){return this.appendField(e,o.J,t),this}},{key:"f32",value:function(e,t){return this.appendField(e,o.a,t),this}},{key:"f64",value:function(e,t){return this.appendField(e,o.b,t),this}},{key:"u8",value:function(e,t){return this.appendField(e,o.l,t),this}},{key:"u16",value:function(e,t){return this.appendField(e,o.j,t),this}},{key:"i8",value:function(e,t){return this.appendField(e,o.e,t),this}},{key:"vec2i8",value:function(e,t){return this.appendField(e,o.q,t),this}},{key:"vec2i16",value:function(e,t){return this.appendField(e,o.o,t),this}},{key:"vec2u8",value:function(e,t){return this.appendField(e,o.t,t),this}},{key:"vec4u16",value:function(e,t){return this.appendField(e,o.H,t),this}},{key:"u32",value:function(e,t){return this.appendField(e,o.k,t),this}},{key:"appendField",value:function(e,t,n){var r=t.ElementCount*Object(s.a)(t.ElementType),i=this.stride;this.fields.set(e,{size:r,constructor:t,offset:i,optional:n}),this.stride+=r,this.fieldNames.push(e)}},{key:"alignTo",value:function(e){return this.stride=Math.floor((this.stride+e-1)/e)*e,this}},{key:"hasField",value:function(e){return this.fieldNames.indexOf(e)>=0}},{key:"createBuffer",value:function(e){return new c(this,e)}},{key:"createView",value:function(e){return new c(this,e)}},{key:"clone",value:function(){var t=new e;return t.stride=this.stride,t.fields=new Map,this.fields.forEach((function(e,n){return t.fields.set(n,e)})),t.fieldNames=this.fieldNames.slice(),t.BufferType=this.BufferType,t}}]),e}();function l(){return new u}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var r=n(50);function i(e){return"point"===e||"multipoint"===e||"polyline"===e||"polygon"===e}var a=Object(r.b)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),o=Object(r.b)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(38),i=n(415);function a(e){return function(t){t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);var n=t._delegatedEventNames,a=Array.isArray(e)?e:Object(i.b)(e);n.push.apply(n,Object(r.a)(a))}}},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14)),u=n(1),l=n(62),h=n(34),f=n(166),d=n(8),p=n(35),b=n(12),v=(n(21),n(22),n(126)),y=n(39),m=n(130),g=n(139),O=n(363),j=n(274),w=n(215),_=n(180),x=n(121),k=n(254),S=n(275),E=n(364),T=n(232),M=n(365),C=n(332),A=n(328),P={icon:w.a,object:S.a,line:k.a,path:E.a,fill:j.a,extrude:O.a,text:T.a,water:M.a},I=y.a.ofType({base:g.a,key:"type",typeMap:P,errorContext:"symbol-layer"}),D=c.a.getLogger("esri.symbols.Symbol3D"),L=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;Object(r.a)(this,n),(i=t.call(this,e)).styleOrigin=null,i.thumbnail=null,i.type=null;var a=i.__accessor__&&i.__accessor__.metadatas&&i.__accessor__.metadatas.symbolLayers,o=a&&a.type||y.a;return i._set("symbolLayers",new o),i}return Object(i.a)(n,[{key:"color",get:function(){return null},set:function(e){D.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}},{key:"symbolLayers",set:function(e){Object(_.b)(e,this._get("symbolLayers"))}},{key:"readStyleOrigin",value:function(e,t,n){if(e.styleUrl&&e.name){var r=Object(v.a)(e.styleUrl,n);return new C.a({styleUrl:r,name:e.name})}if(e.styleName&&e.name)return new C.a({portal:n&&n.portal||x.a.getDefault(),styleName:e.styleName,name:e.name});n&&n.messages&&n.messages.push(new f.a("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:e}))}},{key:"writeStyleOrigin",value:function(e,t,n,r){if(e.styleUrl&&e.name){var i=Object(v.e)(e.styleUrl,r);Object(b.s)(i)&&(i=Object(b.B)(i)),t.styleOrigin={styleUrl:i,name:e.name}}else e.styleName&&e.name&&(e.portal&&r&&r.portal&&!Object(b.r)(e.portal.restUrl,r.portal.restUrl)?r&&r.messages&&r.messages.push(new f.a("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}},{key:"normalizeCtorArgs",value:function(e){return e instanceof g.a||e&&P[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}}]),n}(m.a);Object(s.a)([Object(u.b)({json:{read:!1,write:!1}})],L.prototype,"color",null),Object(s.a)([Object(u.b)({type:I,nonNullable:!0,json:{write:!0}}),Object(l.a)(_.a)],L.prototype,"symbolLayers",null),Object(s.a)([Object(u.b)({type:C.a})],L.prototype,"styleOrigin",void 0),Object(s.a)([Object(h.a)("styleOrigin")],L.prototype,"readStyleOrigin",null),Object(s.a)([Object(p.a)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],L.prototype,"writeStyleOrigin",null),Object(s.a)([Object(u.b)({type:A.a,json:{read:!1}})],L.prototype,"thumbnail",void 0),Object(s.a)([Object(u.b)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],L.prototype,"type",void 0);var R=L=Object(s.a)([Object(d.a)("esri.symbols.Symbol3D")],L);t.a=R},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(37)),f=n(204),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).active=!1,r.className=null,r.disabled=!1,r.id=null,r.indicator=!1,r.title=null,r.type=null,r.visible=!0,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}}]),n}(Object(f.a)(h.a));Object(c.a)([Object(u.b)()],d.prototype,"active",void 0),Object(c.a)([Object(u.b)()],d.prototype,"className",void 0),Object(c.a)([Object(u.b)()],d.prototype,"disabled",void 0),Object(c.a)([Object(u.b)()],d.prototype,"id",void 0),Object(c.a)([Object(u.b)()],d.prototype,"indicator",void 0),Object(c.a)([Object(u.b)()],d.prototype,"title",void 0),Object(c.a)([Object(u.b)()],d.prototype,"type",void 0),Object(c.a)([Object(u.b)()],d.prototype,"visible",void 0);var p=d=r=Object(c.a)([Object(l.a)("esri.support.actions.ActionBase")],d);t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(46),i=n(465);function a(e){var t=e.authentication.username,n=e.owner||t;return Object(r.a)(e)+"/content/users/"+encodeURIComponent(n)+"/items/"+e.id+"/share"}function o(e){var t=e.authentication.username;return(e.owner||t)===t}function s(e){return e.authentication.getUser(e).then((function(e){return e&&"org_admin"===e.role&&!e.roleId}))}function c(e){return Object(i.a)(e.groupId,e).then((function(e){return e.userMembership.memberType})).catch((function(){return"none"}))}},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(145),o=Array.prototype.splice;function s(e){e.length=0}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;Object(r.a)(this,e),this._pool=new a.a(Array,void 0,s,n,t)}return Object(i.a)(e,[{key:"acquire",value:function(){return this._pool.acquire()}},{key:"copy",value:function(e){var t=this.acquire();return e.unshift(0,0),o.apply(t,e),e.splice(0,2),t}},{key:"release",value:function(e){this._pool.release(e)}},{key:"prune",value:function(){this._pool.prune(0)}}],[{key:"acquire",value:function(){return u.acquire()}},{key:"copy",value:function(e){return u.copy(e)}},{key:"release",value:function(e){return u.release(e)}},{key:"prune",value:function(){u.prune()}}]),e}(),u=new c(100);t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));n(64),n(82),n(88),n(33),n(207),n(11);function r(e){return e&&"function"==typeof e.render}function i(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}},function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r,i,a=n(2),o=n(3),s=n(5),c=n(6),u=n(0),l=(n(15),n(14),n(18)),h=n(1),f=n(62),d=n(50),p=n(45),b=n(34),v=n(223),y=n(8),m=(n(12),n(21),n(22),n(27)),g=n(239),O=n(380),j=n(48),w=n(206),_=(n(99),r=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).type="query-table",r}return Object(o.a)(n,[{key:"clone",value:function(){var e,t=this.workspaceId,n=this.query,i=this.oidFields,a=this.spatialReference,o=this.geometryType,s={workspaceId:t,query:n,oidFields:i,spatialReference:null!=(e=null==a?void 0:a.clone())?e:void 0,geometryType:o};return new r(s)}}]),n}(m.a));Object(u.a)([Object(p.a)({queryTable:"query-table"})],_.prototype,"type",void 0),Object(u.a)([Object(h.b)({type:String,json:{write:!0}})],_.prototype,"workspaceId",void 0),Object(u.a)([Object(h.b)({type:String,json:{write:!0}})],_.prototype,"query",void 0),Object(u.a)([Object(h.b)({type:String,json:{write:!0}})],_.prototype,"oidFields",void 0),Object(u.a)([Object(h.b)({type:j.a,json:{write:!0}})],_.prototype,"spatialReference",void 0),Object(u.a)([Object(p.a)(w.a)],_.prototype,"geometryType",void 0),_=r=Object(u.a)([Object(y.a)("esri.layers.support.source.QueryTableDataSource")],_);var x,k=i=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).type="raster",r}return Object(o.a)(n,[{key:"clone",value:function(){var e=this.workspaceId,t=this.dataSourceName;return new i({workspaceId:e,dataSourceName:t})}}]),n}(m.a);Object(u.a)([Object(p.a)({raster:"raster"})],k.prototype,"type",void 0),Object(u.a)([Object(h.b)({type:String,json:{write:!0}})],k.prototype,"dataSourceName",void 0),Object(u.a)([Object(h.b)({type:String,json:{write:!0}})],k.prototype,"workspaceId",void 0),k=i=Object(u.a)([Object(y.a)("esri.layers.support.source.RasterDataSource")],k);var S,E=x=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).type="table",r}return Object(o.a)(n,[{key:"clone",value:function(){var e=this.workspaceId,t=this.gdbVersion,n=this.dataSourceName;return new x({workspaceId:e,gdbVersion:t,dataSourceName:n})}}]),n}(m.a);Object(u.a)([Object(p.a)({table:"table"})],E.prototype,"type",void 0),Object(u.a)([Object(h.b)({type:String,json:{write:!0}})],E.prototype,"workspaceId",void 0),Object(u.a)([Object(h.b)({type:String,json:{write:!0}})],E.prototype,"gdbVersion",void 0),Object(u.a)([Object(h.b)({type:String,json:{write:!0}})],E.prototype,"dataSourceName",void 0),E=x=Object(u.a)([Object(y.a)("esri.layers.support.source.TableDataSource")],E);var T=Object(d.b)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"}),M=S=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).type="join-table",r}return Object(o.a)(n,[{key:"readLeftTableSource",value:function(e,t,n){return A()(e,t,n)}},{key:"castLeftTableSource",value:function(e){return Object(l.k)(D(),e)}},{key:"readRightTableSource",value:function(e,t,n){return A()(e,t,n)}},{key:"castRightTableSource",value:function(e){return Object(l.k)(D(),e)}},{key:"clone",value:function(){var e,t,n=this.leftTableKey,r=this.rightTableKey,i=this.leftTableSource,a=this.rightTableSource,o=this.joinType,s={leftTableKey:n,rightTableKey:r,leftTableSource:null!=(e=null==i?void 0:i.clone())?e:void 0,rightTableSource:null!=(t=null==a?void 0:a.clone())?t:void 0,joinType:o};return new S(s)}}]),n}(m.a);Object(u.a)([Object(p.a)({joinTable:"join-table"})],M.prototype,"type",void 0),Object(u.a)([Object(h.b)({type:String,json:{write:!0}})],M.prototype,"leftTableKey",void 0),Object(u.a)([Object(h.b)({type:String,json:{write:!0}})],M.prototype,"rightTableKey",void 0),Object(u.a)([Object(h.b)({json:{write:!0}})],M.prototype,"leftTableSource",void 0),Object(u.a)([Object(b.a)("leftTableSource")],M.prototype,"readLeftTableSource",null),Object(u.a)([Object(f.a)("leftTableSource")],M.prototype,"castLeftTableSource",null),Object(u.a)([Object(h.b)({json:{write:!0}})],M.prototype,"rightTableSource",void 0),Object(u.a)([Object(b.a)("rightTableSource")],M.prototype,"readRightTableSource",null),Object(u.a)([Object(f.a)("rightTableSource")],M.prototype,"castRightTableSource",null),Object(u.a)([Object(p.a)(T)],M.prototype,"joinType",void 0),M=S=Object(u.a)([Object(y.a)("esri.layers.support.source.JoinTableDataSource")],M);var C=null;function A(){return C||(C=Object(v.b)({types:D()})),C}var P,I=null;function D(){return I||(I={key:"type",base:null,typeMap:{"data-layer":R,"map-layer":O.a}}),I}var L={key:"type",base:null,typeMap:{"join-table":M,"query-table":_,raster:k,table:E}},R=P=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).type="data-layer",r}return Object(o.a)(n,[{key:"clone",value:function(){var e=this.fields,t=this.dataSource;return new P({fields:e,dataSource:t})}}]),n}(m.a);Object(u.a)([Object(p.a)({dataLayer:"data-layer"})],R.prototype,"type",void 0),Object(u.a)([Object(h.b)({type:[g.a],json:{write:!0}})],R.prototype,"fields",void 0),Object(u.a)([Object(h.b)({types:L,json:{write:!0}})],R.prototype,"dataSource",void 0),(R=P=Object(u.a)([Object(y.a)("esri.layers.support.source.DataLayerSource")],R)).from=Object(l.m)(R)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(18);function i(e){var t=Object(r.e)(100*(1-e));return Math.max(0,Math.min(t,100))}function a(e){var t=1-e/100;return Math.max(0,Math.min(t,1))}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(4)),l=n(14),h=(n(18),n(1)),f=n(45),d=n(8),p=n(12),b=(n(21),n(22),n(139)),v=n(123),y=n(168),m=n(256),g=n(414),O=n(479),j=n(533),w=l.a.getLogger("esri.symbols.IconSymbol3DLayer"),_=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).material=null,r.resource=null,r.type="icon",r.size=12,r.anchor="center",r.anchorPosition=void 0,r.outline=void 0,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:Object(u.h)(this.material)?this.material.clone():null,outline:Object(u.h)(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}}],[{key:"fromSimpleMarkerSymbol",value:function(e){var t=e.color||m.c,n=x(e),i=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||m.c).clone()}:null;return new r({size:e.size,resource:{primitive:E(e.style)},material:{color:t},outline:i,anchor:n?"relative":void 0,anchorPosition:n})}},{key:"fromPictureMarkerSymbol",value:function(e){var t=!e.color||Object(m.a)(e.color)?m.c:e.color,n=x(e);return new r({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:n?"relative":void 0,anchorPosition:n})}},{key:"fromCIMSymbol",value:function(e){return new r({resource:{href:Object(p.z)({mediaType:"application/json",data:JSON.stringify(e.data)})}})}}]),n}(b.a);function x(e){var t="width"in e?e.width:e.size,n="height"in e?e.height:e.size,r=k(e.xoffset),i=k(e.yoffset);return(r||i)&&t&&n?{x:-r/t,y:i/n}:null}function k(e){return isFinite(e)?e:0}Object(c.a)([Object(h.b)({type:y.a,json:{write:!0}})],_.prototype,"material",void 0),Object(c.a)([Object(h.b)({type:O.a,json:{write:!0}})],_.prototype,"resource",void 0),Object(c.a)([Object(f.a)({Icon:"icon"},{readOnly:!0})],_.prototype,"type",void 0),Object(c.a)([Object(h.b)(v.b)],_.prototype,"size",void 0),Object(c.a)([Object(f.a)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),Object(h.b)({json:{default:"center"}})],_.prototype,"anchor",void 0),Object(c.a)([Object(h.b)({type:j.a,json:{type:[Number],read:{reader:function(e){return new j.a({x:e[0],y:e[1]})}},write:{writer:function(e,t){t.anchorPosition=[e.x,e.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],_.prototype,"anchorPosition",void 0),Object(c.a)([Object(h.b)({type:g.a,json:{write:!0}})],_.prototype,"outline",void 0),_=r=Object(c.a)([Object(d.a)("esri.symbols.IconSymbol3DLayer")],_);var S={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function E(e){return S[e]||(w.warn("".concat(e,' cannot be mapped to Icon symbol. Fallback to "circle"')),"circle")}var T=_;t.a=T},function(e,t,n){"use strict";var r,i=n(10),a=n(2),o=n(3),s=n(5),c=n(6),u=n(0),l=(n(15),n(23)),h=(n(14),n(18),n(1)),f=n(50),d=n(8),p=(n(12),n(21),n(22),n(37)),b=n(48),v=n(79),y=n(74),m=new f.a({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"}),g=r=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).categories=null,r.disableExtraQuery=!1,r.extent=null,r.num=10,r.query=null,r.sortField=null,r.start=1,r}return Object(o.a)(n,[{key:"sortOrder",get:function(){return this._get("sortOrder")||"asc"},set:function(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}},{key:"clone",value:function(){return new r({categories:this.categories?Object(l.a)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}},{key:"toRequestOptions",value:function(e,t){var n,r;if(this.categories&&(n=this.categories.map((function(e){return Array.isArray(e)?JSON.stringify(e):e}))),this.extent){var a=Object(v.d)(this.extent,b.a.WGS84);a&&(r="".concat(a.xmin,",").concat(a.ymin,",").concat(a.xmax,",").concat(a.ymax))}var o=this.query;!this.disableExtraQuery&&e.extraQuery&&(o="("+o+")"+e.extraQuery);var s={categories:n,bbox:r,q:o,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map((function(e){return m.toJSON(e.trim())})).join(","),s.sortOrder=this.sortOrder),{query:Object(i.a)(Object(i.a)({},t),s)}}}]),n}(p.a);Object(u.a)([Object(h.b)()],g.prototype,"categories",void 0),Object(u.a)([Object(h.b)()],g.prototype,"disableExtraQuery",void 0),Object(u.a)([Object(h.b)({type:y.a})],g.prototype,"extent",void 0),Object(u.a)([Object(h.b)()],g.prototype,"num",void 0),Object(u.a)([Object(h.b)()],g.prototype,"query",void 0),Object(u.a)([Object(h.b)()],g.prototype,"sortField",void 0),Object(u.a)([Object(h.b)()],g.prototype,"sortOrder",null),Object(u.a)([Object(h.b)()],g.prototype,"start",void 0);var O=g=r=Object(u.a)([Object(d.a)("esri.portal.PortalQueryParams")],g);t.a=O},function(e,t,n){"use strict";function r(e){console&&console.warn&&console.warn.apply(console,[e])}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return u}));var r,i=n(13),a=(n(15),n(14)),o=n(92),s=[],c=a.a.getLogger("esri.core.Accessor");function u(e){void 0!==r&&r.onPropertyAccessed(e)}var l=!1,h=!1;function f(e,t,n){if(l)return d(e,t,n);p(e);var r=t.call(n);return b(),r}function d(e,t,n){var r=l;l=!0,p(e);var i=null;try{i=t.call(n)}catch(e){h&&c.error(e)}return b(),l=r,i}function p(e){r=e,s.push(e)}function b(){var e=s.pop();r=s.length>0?s[s.length-1]:void 0,void 0!==e&&e.onTrackingEnd()}function v(e,t){if(!(32&t.flags)){var n=h;h=!1,64&t.flags?d(t,t.metadata.get,e):m(e,t),h=n}}var y=[];function m(e,t){128&t.flags||(t.flags|=128,d(t,(function(){var n,r=t.metadata.dependsOn||y,a=Object(i.a)(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;if("string"==typeof s&&-1===s.indexOf("."))g(e,s,!1);else for(var c=Object(o.f)(s),u=0,l=e;u<c.length&&null!=l&&"object"==typeof l;++u)l=g(l,c[u],u!==c.length-1)}}catch(h){a.e(h)}finally{a.f()}})),t.flags&=-129)}function g(e,t,n){var r="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){var i=parseInt(r,10);if(!isNaN(i))return Array.isArray(e)?e[i]:e.getItemAt(i)}var a=Object(o.a)(e),s=null==a?void 0:a.properties.get(r);return s&&(u(s),v(e,s)),n?e[r]:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return M})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return b})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return p}));var r=n(69);function i(e){return"/"===e.charAt(0)}function a(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var o=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],s=e&&i(e),c=t&&i(t),u=s||c;if(e&&i(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var l=o[o.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=o.length;f>=0;f--){var d=o[f];"."===d?a(o,f):".."===d?(a(o,f),h++):h&&(a(o,f),h--)}if(!u)for(;h--;h)o.unshift("..");!u||""===o[0]||o[0]&&i(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var c=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},u=n(201);function l(e){return"/"===e.charAt(0)?e:"/"+e}function h(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function b(e,t,n,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(a=Object(r.a)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function g(e,t){t(window.confirm(e))}var O="popstate",j="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),m||Object(u.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,s=void 0!==o&&o,c=a.getUserConfirmation,h=void 0===c?g:c,v=a.keyLength,_=void 0===v?6:v,x=e.basename?d(l(e.basename)):"";function k(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return x&&(a=f(a,x)),b(a,r,n)}function S(){return Math.random().toString(36).substr(2,_)}var E=y();function T(e){Object(r.a)(V,e),V.length=t.length,E.notifyListeners(V.location,V.action)}function M(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(k(e.state))}function C(){P(k(w()))}var A=!1;function P(e){if(A)A=!1,T();else{E.confirmTransitionTo(e,"POP",h,(function(t){t?T({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,R(i))}(e)}))}}var I=k(w()),D=[I.key];function L(e){return x+p(e)}function R(e){t.go(e)}var N=0;function F(e){1===(N+=e)&&1===e?(window.addEventListener(O,M),i&&window.addEventListener(j,C)):0===N&&(window.removeEventListener(O,M),i&&window.removeEventListener(j,C))}var z=!1;var V={length:t.length,action:"POP",location:I,createHref:L,push:function(e,r){var i="PUSH",a=b(e,r,S(),V.location);E.confirmTransitionTo(a,i,h,(function(e){if(e){var r=L(a),o=a.key,c=a.state;if(n)if(t.pushState({key:o,state:c},null,r),s)window.location.href=r;else{var u=D.indexOf(V.location.key),l=D.slice(0,u+1);l.push(a.key),D=l,T({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=b(e,r,S(),V.location);E.confirmTransitionTo(a,i,h,(function(e){if(e){var r=L(a),o=a.key,c=a.state;if(n)if(t.replaceState({key:o,state:c},null,r),s)window.location.replace(r);else{var u=D.indexOf(V.location.key);-1!==u&&(D[u]=a.key),T({action:i,location:a})}else window.location.replace(r)}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return z||(F(1),z=!0),function(){return z&&(z=!1,F(-1)),t()}},listen:function(e){var t=E.appendListener(e);return F(1),function(){F(-1),t()}}};return V}var x="hashchange",k={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+h(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:h,decodePath:l},slash:{encodePath:l,decodePath:l}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function E(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function T(e){window.location.replace(S(window.location.href)+"#"+e)}function M(e){void 0===e&&(e={}),m||Object(u.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,a=void 0===i?g:i,o=n.hashType,s=void 0===o?"slash":o,c=e.basename?d(l(e.basename)):"",h=k[s],v=h.encodePath,O=h.decodePath;function j(){var e=O(E());return c&&(e=f(e,c)),b(e)}var w=y();function _(e){Object(r.a)(V,e),V.length=t.length,w.notifyListeners(V.location,V.action)}var M=!1,C=null;function A(){var e,t,n=E(),r=v(n);if(n!==r)T(r);else{var i=j(),o=V.location;if(!M&&(t=i,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(C===p(i))return;C=null,function(e){if(M)M=!1,_();else{var t="POP";w.confirmTransitionTo(e,t,a,(function(n){n?_({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(p(t));-1===n&&(n=0);var r=L.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(M=!0,R(i))}(e)}))}}(i)}}var P=E(),I=v(P);P!==I&&T(I);var D=j(),L=[p(D)];function R(e){t.go(e)}var N=0;function F(e){1===(N+=e)&&1===e?window.addEventListener(x,A):0===N&&window.removeEventListener(x,A)}var z=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+v(c+p(e))},push:function(e,t){var n="PUSH",r=b(e,void 0,void 0,V.location);w.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=v(c+t);if(E()!==i){C=t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(p(V.location)),o=L.slice(0,a+1);o.push(t),L=o,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=b(e,void 0,void 0,V.location);w.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=v(c+t);E()!==i&&(C=t,T(i));var a=L.indexOf(p(V.location));-1!==a&&(L[a]=t),_({action:n,location:r})}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return z||(F(1),z=!0),function(){return z&&(z=!1,F(-1)),t()}},listen:function(e){var t=w.appendListener(e);return F(1),function(){F(-1),t()}}};return V}function C(e,t,n){return Math.min(Math.max(e,t),n)}function A(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,s=void 0===o?0:o,c=t.keyLength,u=void 0===c?6:c,l=y();function h(e){Object(r.a)(O,e),O.length=O.entries.length,l.notifyListeners(O.location,O.action)}function f(){return Math.random().toString(36).substr(2,u)}var d=C(s,0,a.length-1),v=a.map((function(e){return b(e,void 0,"string"===typeof e?f():e.key||f())})),m=p;function g(e){var t=C(O.index+e,0,O.entries.length-1),r=O.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?h({action:"POP",location:r,index:t}):h()}))}var O={length:v.length,action:"POP",location:v[d],index:d,entries:v,createHref:m,push:function(e,t){var r="PUSH",i=b(e,t,f(),O.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=O.index+1,n=O.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),h({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=b(e,t,f(),O.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(O.entries[O.index]=i,h({action:r,location:i}))}))},go:g,goBack:function(){g(-1)},goForward:function(){g(1)},canGo:function(e){var t=O.index+e;return t>=0&&t<O.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return O}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return a}));var r=n(67);function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function a(e,t,n,r,i,a,o,s,c,u){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=c,e[8]=u,e}function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function s(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=t[6],l=t[7],h=t[8],f=n[0],d=n[1],p=n[2],b=n[3],v=n[4],y=n[5],m=n[6],g=n[7],O=n[8];return e[0]=f*r+d*o+p*u,e[1]=f*i+d*s+p*l,e[2]=f*a+d*c+p*h,e[3]=b*r+v*o+y*u,e[4]=b*i+v*s+y*l,e[5]=b*a+v*c+y*h,e[6]=m*r+g*o+O*u,e[7]=m*i+g*s+O*l,e[8]=m*a+g*c+O*h,e}function c(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=t[6],l=t[7],h=t[8],f=n[0],d=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=c,e[6]=f*r+d*o+u,e[7]=f*i+d*s+l,e[8]=f*a+d*c+h,e}function u(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=t[6],l=t[7],h=t[8],f=Math.sin(n),d=Math.cos(n);return e[0]=d*r+f*o,e[1]=d*i+f*s,e[2]=d*a+f*c,e[3]=d*o-f*r,e[4]=d*s-f*i,e[5]=d*c-f*a,e[6]=u,e[7]=l,e[8]=h,e}function l(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=a*t[6],e[7]=a*t[7],e[8]=a*t[8],e}function h(e,t){var n=t[0],r=t[1],i=t[2],a=t[4],o=t[5],s=t[6],c=t[8],u=t[9],l=t[10],h=l*o-s*u,f=-l*a+s*c,d=u*a-o*c,p=n*h+r*f+i*d;if(!p)return null;var b=1/p;return e[0]=h*b,e[1]=(-l*r+i*u)*b,e[2]=(s*r-i*o)*b,e[3]=f*b,e[4]=(l*n-i*c)*b,e[5]=(-s*n+i*a)*b,e[6]=d*b,e[7]=(-u*n+r*c)*b,e[8]=(o*n-r*a)*b,e}function f(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],u=t[7],l=t[8],h=t[9],f=t[10],d=t[11],p=t[12],b=t[13],v=t[14],y=t[15],m=n*s-r*o,g=n*c-i*o,O=n*u-a*o,j=r*c-i*s,w=r*u-a*s,_=i*u-a*c,x=l*b-h*p,k=l*v-f*p,S=l*y-d*p,E=h*v-f*b,T=h*y-d*b,M=f*y-d*v,C=m*M-g*T+O*E+j*S-w*k+_*x;return C?(C=1/C,e[0]=(s*M-c*T+u*E)*C,e[1]=(c*S-o*M-u*k)*C,e[2]=(o*T-s*S+u*x)*C,e[3]=(i*T-r*M-a*E)*C,e[4]=(n*M-i*S+a*k)*C,e[5]=(r*S-n*T-a*x)*C,e[6]=(b*_-v*w+y*j)*C,e[7]=(v*O-p*_-y*g)*C,e[8]=(p*w-b*O+y*m)*C,e):null}function d(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}var p=s,b=d;Object.freeze({__proto__:null,fromMat4:i,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},set:a,identity:o,transpose:function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],u=t[7],l=t[8],h=l*o-s*u,f=-l*a+s*c,d=u*a-o*c,p=n*h+r*f+i*d;return p?(p=1/p,e[0]=h*p,e[1]=(-l*r+i*u)*p,e[2]=(s*r-i*o)*p,e[3]=f*p,e[4]=(l*n-i*c)*p,e[5]=(-s*n+i*a)*p,e[6]=d*p,e[7]=(-u*n+r*c)*p,e[8]=(o*n-r*a)*p,e):null},adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],u=t[7],l=t[8];return e[0]=o*l-s*u,e[1]=i*u-r*l,e[2]=r*s-i*o,e[3]=s*c-a*l,e[4]=n*l-i*c,e[5]=i*a-n*s,e[6]=a*u-o*c,e[7]=r*c-n*u,e[8]=n*o-r*a,e},determinant:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],u=e[8];return t*(u*a-o*c)+n*(-u*i+o*s)+r*(c*i-a*s)},multiply:s,translate:c,rotate:u,scale:l,scaleByVec2:function(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e},fromTranslation:function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},fromRotation:function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat2d:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},fromQuat:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,c=i+i,u=n*o,l=r*o,h=r*s,f=i*o,d=i*s,p=i*c,b=a*o,v=a*s,y=a*c;return e[0]=1-h-p,e[3]=l-y,e[6]=f+v,e[1]=l+y,e[4]=1-u-p,e[7]=d-b,e[2]=f-v,e[5]=d+b,e[8]=1-u-h,e},normalFromMat4Legacy:h,normalFromMat4:f,projection:function(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},str:function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},frob:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e},subtract:d,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},equals:function(e,t){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],c=e[5],u=e[6],l=e[7],h=e[8],f=t[0],d=t[1],p=t[2],b=t[3],v=t[4],y=t[5],m=t[6],g=t[7],O=t[8];return Math.abs(n-f)<=r.a*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-d)<=r.a*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-p)<=r.a*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-b)<=r.a*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(s-v)<=r.a*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(c-y)<=r.a*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(u-m)<=r.a*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-g)<=r.a*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(h-O)<=r.a*Math.max(1,Math.abs(h),Math.abs(O))},mul:p,sub:b})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return p}));var r=n(24),i=n(9),a=n(497),o=1,s=null,c=new Uint32Array([0]);function u(e){if(1===e)return c;if(e>o||null==s){for(;e>o;)o*=2;s=new Uint32Array(o);for(var t=0;t<o;t++)s[t]=t}return new Uint32Array(s.buffer,0,e)}function l(e,t,n){if(!e)return!1;var r=e.strideIdx,o=e.offsetIdx,s=e.data;Object(i.t)(n,0,0,0),Object(i.t)(m,0,0,0);for(var c=0,u=0,l=0;l<t.length-2;l+=3){var h=t[l+0]*r+o,f=t[l+1]*r+o,d=t[l+2]*r+o;Object(i.t)(b,s[h+0],s[h+1],s[h+2]),Object(i.t)(v,s[f+0],s[f+1],s[f+2]),Object(i.t)(y,s[d+0],s[d+1],s[d+2]);var p=Object(a.a)(b,v,y);p?(Object(i.c)(b,b,v),Object(i.c)(b,b,y),Object(i.b)(b,b,1/3*p),Object(i.c)(n,n,b),c+=p):(Object(i.c)(m,m,b),Object(i.c)(m,m,v),Object(i.c)(m,m,y),u+=3)}return(0!==u||0!==c)&&(0!==c?(Object(i.b)(n,n,1/c),!0):0!==u&&(Object(i.b)(n,m,1/u),!0))}function h(e,t,n){if(!e||!t)return!1;var r=e.strideIdx,a=e.offsetIdx,o=e.data;Object(i.t)(n,0,0,0);for(var s=-1,c=0,u=0;u<t.length;u++){var l=t[u]*r+a;s!==l&&(n[0]+=o[l+0],n[1]+=o[l+1],n[2]+=o[l+2],c++),s=l}return c>1&&Object(i.b)(n,n,1/c),c>0}function f(e,t,n,r){if(!e)return!1;var a=e.strideIdx,o=e.offsetIdx,s=e.data;Object(i.t)(r,0,0,0),Object(i.t)(m,0,0,0);for(var c=0,u=0,l=t?t.length-1:s.length/a-1,h=l+(n?2:0),f=0;f<h;f+=2){var d=f<l?f:l,p=f<l?f+1:0,y=(t?t[d]:d)*a+o,g=(t?t[p]:p)*a+o;b[0]=s[y+0],b[1]=s[y+1],b[2]=s[y+2],v[0]=s[g+0],v[1]=s[g+1],v[2]=s[g+2],Object(i.b)(b,Object(i.c)(b,b,v),.5);var O=Object(i.x)(b,v);O>0?(Object(i.c)(r,r,Object(i.b)(b,b,O)),c+=O):(Object(i.c)(m,m,b),u++)}return 0!==c?(Object(i.b)(r,r,1/c),!0):0!==u&&(Object(i.b)(r,m,1/u),!0)}var d=0;function p(){return d++}var b=Object(r.e)(),v=Object(r.e)(),y=Object(r.e)(),m=Object(r.e)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return c}));var r=n(4),i=n(87),a=n(117),o=n(26);n(590);function s(e,t){return Object(r.g)(e)&&(e=[]),e.push(t),e}function c(e,t){if(Object(r.g)(e))return e;var n=e.filter((function(e){return e!==t}));return 0===n.length?null:n}function u(e){return!!Object(r.h)(e)&&!e.visible}function l(e,t){var n=new Map;return n.set(0,t.acquire(e,0)),n.set(1,t.acquire(e,7)),n.set(4,t.acquire(e,3)),n.set(3,t.acquire(e,2)),n.set(2,t.acquire(e,1)),n.set(5,t.acquire(e,4)),n}function h(e,t){t.release(e,0),t.release(e,7),t.release(e,3),t.release(e,2),t.release(e,1),t.release(e,4)}function f(e,t,n){var a=e.origin.vec3;Object(o.l)(d,-a[0],-a[1],-a[2]),Object(r.h)(e.transformation)?Object(i.l)(t,d,e.transformation):Object(i.c)(t,d),n&&(Object(i.a)(n,t),Object(i.b)(n,n))}new Float64Array(3),new Float32Array(6);var d=Object(a.b)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return h}));var r=n(13),i=n(101),a=n(14),o=n(179),s=n(166),c=n(477),u=a.a.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function l(e,t,n){var r,a,o;e&&(!n&&!t.read||null!=(r=t.read)&&r.reader||!1===(null==(a=t.read)?void 0:a.enabled)||("types"in(o=e)?y(o.types):v(o.type))&&Object(i.c)("read.reader",h(e),t))}function h(e){var t,n=null!=(t=e.ndimArray)?t:0;if(n>1)return function(e){var t,n=f(e),r=d.bind(null,n),i=null!=(t=e.ndimArray)?t:0;return function(e,t,n){if(null==e)return e;e=r(e,n,i);for(var a=i,o=e;a>0&&Array.isArray(o);)a--,o=o[0];if(void 0!==o)for(var s=0;s<a;s++)e=[e];return e}}(e);if(1===n)return p(e);if("type"in e&&b(e.type)){var r,i,a=null==(r=e.type.prototype)||null==(i=r.itemType)?void 0:i.Type,o=p("function"==typeof a?{type:a}:{types:a});return function(t,n,r){var i=o(t,n,r);return i?new e.type(i):i}}return f(e)}function f(e){return"type"in e?function(e){return e.prototype.read?function(t,n,r){if(null==t)return t;var i=typeof t;if("object"===i){var a=new e;return a.read(t,r),a}u.error("Expected JSON value of type 'object' to deserialize type '".concat(e.prototype.declaredClass,"', but got '").concat(i,"'"))}:e.fromJSON}(e.type):function(e){var t,n=null,r=null!=(t=e.errorContext)?t:"type";return function(t,i,a){if(null==t)return t;var c=typeof t;if("object"===c){n||(n=function(e){var t={};for(var n in e.typeMap){var r,i,a=e.typeMap[n],s=Object(o.a)(a.prototype);if("function"!=typeof e.key){var c=s.properties[e.key];if(c){null!=(r=c.json)&&r.type&&Array.isArray(c.json.type)&&1===c.json.type.length&&"string"==typeof c.json.type[0]&&(t[c.json.type[0]]=a);var u=null==(i=c.json)?void 0:i.write;if(u&&u.writer){var l=u.target,h="string"==typeof l?l:e.key,f={};u.writer(n,f,h),f[h]&&(t[f[h]]=a)}else t[n]=a}}}return t}(e));var l=e.key;if("string"==typeof l){var h=t[l],f=h?n[h]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!f){var d="Type '".concat(h||"unknown","' is not supported");return a&&a.messages&&t&&a.messages.push(new s.a("".concat(r,":unsupported"),d,{definition:t,context:a})),void u.error(d)}var p=new f;return p.read(t,a),p}}else u.error("Expected JSON value of type 'object' to deserialize, but got '".concat(c,"'"))}}(e.types)}function d(e,t,n,r){return 0!==r&&Array.isArray(t)?t.map((function(t){return d(e,t,n,r-1)})):e(t,void 0,n)}function p(e){var t=f(e);return function(e,n,i){if(null==e)return e;if(Array.isArray(e)){var a,o=[],s=Object(r.a)(e);try{for(s.s();!(a=s.n()).done;){var c=a.value,u=t(c,void 0,i);void 0!==u&&o.push(u)}}catch(h){s.e(h)}finally{s.f()}return o}var l=t(e,void 0,i);return void 0!==l?[l]:void 0}}function b(e){if(!Object(c.a)(e))return!1;var t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?v(t.Type):y(t.Type))}function v(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||b(e))}function y(e){for(var t in e.typeMap)if(!v(e.typeMap[t]))return!1;return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return f}));var r=n(54),i=n(48),a=n(73);function o(e){return new i.a({wkt:'GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",'.concat(e.radius,',0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]')})}var s=o(a.a),c=o(a.b),u=o(a.c),l=new i.a({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",'.concat(a.a.radius,',298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]')});function h(e){return e&&(Object(r.g)(e)||e===c)?a.b:e&&(Object(r.h)(e)||e===u)?a.c:a.a}function f(e){return Object(r.k)(e)?a.b:Object(r.l)(e)?a.c:a.a}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(159)),f=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).text=null,r.type="text",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({text:this.text})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],f.prototype,"text",void 0),Object(c.a)([Object(u.b)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);var d=f=r=Object(c.a)([Object(l.a)("esri.popup.content.TextContent")],f);t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(2),i=n(3),a=n(4),o=n(77),s=n(81),c=function(){function e(t){var n=t.proximityThreshold,i=t.enabled,a=void 0===i||i,s=t.shortLineThreshold,c=void 0===s?o.a.shortLineThreshold:s;Object(r.a)(this,e),this.enabled=a,this.squaredShortLineThreshold=c*c;var u=n*o.a.touchSensitivityMultiplier;this._squaredTouchProximityThreshold=u*u,this._squaredMouseProximityTreshold=n*n}return Object(i.a)(e,[{key:"snap",value:function(e,t){return this.enabled?Object(a.h)(t.vertexHandle)?"vertex"!==t.vertexHandle.type?[]:this.snapExistingVertex(e,t):this.snapNewVertex(e,t):[]}},{key:"edgeExceedsShortLineThreshold",value:function(e,t){return this.exceedsShortLineThreshold(e.left.pos,e.right.pos,t)}},{key:"exceedsShortLineThreshold",value:function(e,t,n){var r=n.elevationInfo,i=n.view,a=n.geometry.data.coordinateHelper;return 0===this.squaredShortLineThreshold||Object(s.g)(Object(s.b)(t,a,r,i),Object(s.b)(e,a,r,i))>this.squaredShortLineThreshold}},{key:"squaredProximityTreshold",value:function(e){return"touch"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityTreshold}}]),e}(),u=function e(t,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(r.a)(this,e),this.geometry=t,this.view=n,this.elevationInfo=i,this.pointer=a,this.vertexHandle=o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(87);function i(){var e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}var a,o=i();Object.freeze({__proto__:null,create:i,clone:function(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},fromValues:function(e,t,n,r,i,a,o,s,c,u,l,h,f,d,p,b){var v=new Float32Array(16);return v[0]=e,v[1]=t,v[2]=n,v[3]=r,v[4]=i,v[5]=a,v[6]=o,v[7]=s,v[8]=c,v[9]=u,v[10]=l,v[11]=h,v[12]=f,v[13]=d,v[14]=p,v[15]=b,v},createView:function(e,t){return new Float32Array(e,t,16)},IDENTITY:o});!function(e){function t(e,t,n){Object(r.q)(s,n,t),e.setUniform3fv("localOrigin",t),e.setUniformMatrix4fv("view",s)}e.bindCamPosition=function(e,t,n){e.setUniform3f("camPos",n[3]-t[0],n[7]-t[1],n[11]-t[2])},e.bindProjectionMatrix=function(e,t){e.setUniformMatrix4fv("proj",t)},e.bindNearFar=function(e,t){e.setUniform2fv("nearFar",t)},e.bindViewCustomOrigin=t,e.bindView=function(e,n){t(e,n.origin,n.camera.viewMatrix)},e.bindViewport=function(e,t){e.setUniform4fv("viewport",t.camera.fullViewport)}}(a||(a={}));var s=i()},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(8),f=n(35),d=(n(12),n(21),n(22),n(159)),p=n(252),b=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fieldInfos=null,r.type="fields",r}return Object(a.a)(n,[{key:"writeFieldInfos",value:function(e,t){t.fieldInfos=e&&e.map((function(e){return e.toJSON()}))}},{key:"clone",value:function(){return new r({fieldInfos:Array.isArray(this.fieldInfos)?Object(u.a)(this.fieldInfos):null})}}]),n}(d.a);Object(c.a)([Object(l.b)({type:[p.a]})],b.prototype,"fieldInfos",void 0),Object(c.a)([Object(f.a)("fieldInfos")],b.prototype,"writeFieldInfos",null),Object(c.a)([Object(l.b)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);var v=b=r=Object(c.a)([Object(h.a)("esri.popup.content.FieldsContent")],b);t.a=v},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l}));var r=n(44),i=n(24),a=n(9);function o(e,t){return Object(a.e)(e,t)/Object(a.m)(e)}function s(e,t){var n=Object(a.e)(e,t)/(Object(a.m)(e)*Object(a.m)(t));return-Object(r.b)(n)}var c=Object(i.e)(),u=Object(i.e)(),l=Object.freeze({__proto__:null,projectPoint:function(e,t,n){var r=Object(a.e)(e,t)/Object(a.e)(e,e);return Object(a.b)(n,e,r)},projectPointSignedLength:o,angle:s,angleAroundAxis:function(e,t,n){Object(a.o)(c,e),Object(a.o)(u,t);var i=Object(a.e)(c,u),o=Object(r.b)(i),s=Object(a.d)(c,c,u);return Object(a.e)(s,n)<0?2*Math.PI-o:o}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(3),a=n(389),o=0,s=function(){function e(t,n,i,a,s){Object(r.a)(this,e),this._context=t,this._locations=n,this._layout=i,this._buffers=a,this._indexBuffer=s,this._glName=null,this.id=o++,this._initialized=!1,t.instanceCounter.increment(2,this)}return Object(i.a)(e,[{key:"glName",get:function(){return this._glName}},{key:"vertexBuffers",get:function(){return this._buffers}},{key:"indexBuffer",get:function(){return this._indexBuffer}},{key:"size",get:function(){var e=this;return Object.keys(this._buffers).reduce((function(t,n){return t+e._buffers[n].size}),this._indexBuffer?this._indexBuffer.size:0)}},{key:"layout",get:function(){return this._layout}},{key:"locations",get:function(){return this._locations}},{key:"dispose",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this._context){var t=this._context.capabilities.vao;if(t&&this._glName&&(t.deleteVertexArray(this._glName),this._glName=null),this._context.getBoundVAO()===this&&this._context.bindVAO(null),e){for(var n in this._buffers)this._buffers[n].dispose(),delete this._buffers[n];this._indexBuffer&&(this._indexBuffer.dispose(),this._indexBuffer=null)}this._context.instanceCounter.decrement(2,this),this._context=null}}},{key:"initialize",value:function(){if(!this._initialized){var e=this._context.capabilities.vao;if(e){var t=e.createVertexArray();e.bindVertexArray(t),this._bindLayout(),e.bindVertexArray(null),this._glName=t}this._initialized=!0}}},{key:"bind",value:function(){this.initialize();var e=this._context.capabilities.vao;e?e.bindVertexArray(this.glName):(this._context.bindVAO(null),this._bindLayout())}},{key:"_bindLayout",value:function(){var e=this._buffers,t=!!this._context.capabilities.vao,n=this._layout,r=this._indexBuffer;e||console.error("Vertex buffer dictionary is empty!");var i=this._context.gl;for(var o in e){var s=e[o];s||console.error("Vertex buffer is uninitialized!");var c=n[o];c||console.error("Vertex element descriptor is empty!"),Object(a.a)(this._context,this._locations,s,c)}r&&(t?i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,r.glName):this._context.bindBuffer(r))}},{key:"unbind",value:function(){this.initialize();var e=this._context.capabilities.vao;e?e.bindVertexArray(null):this._unbindLayout()}},{key:"_unbindLayout",value:function(){var e=this._buffers,t=this._layout;for(var n in e||console.error("Vertex buffer dictionary is empty!"),e){var r=e[n];r||console.error("Vertex buffer is uninitialized!");var i=t[n];Object(a.d)(this._context,this._locations,r,i)}var o=this._indexBuffer;o&&this._context.unbindBuffer(o.bufferType)}}]),e}()},function(e,t,n){"use strict";var r,i=n(10),a=n(2),o=n(3),s=n(61),c=n(57),u=n(5),l=n(6),h=n(0),f=(n(15),n(14),n(18),n(1)),d=n(50),p=n(34),b=n(166),v=n(8),y=n(35),m=(n(12),n(21),n(22),n(154)),g=n(27),O=n(70),j=Object(d.b)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),w=j.jsonValues.slice();Object(m.g)(w,"orthometric");var _=Object(d.b)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"}),x=r=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).heightModel="gravity-related-height",r.heightUnit="meters",r.vertCRS=null,r}return Object(o.a)(n,[{key:"writeHeightModel",value:function(e,t,n){return j.write(e,t,n)}},{key:"readHeightModel",value:function(e,t,n){return j.read(e)||(n&&n.messages&&n.messages.push(function(e,t){return new b.a("height-model:unsupported","Height model of value '".concat(e,"' is not supported"),t)}(e,{context:n})),null)}},{key:"readHeightUnit",value:function(e,t,n){return _.read(e)||(n&&n.messages&&n.messages.push(k(e,{context:n})),null)}},{key:"readHeightUnitService",value:function(e,t,n){return Object(O.n)(e)||_.read(e)||(n&&n.messages&&n.messages.push(k(e,{context:n})),null)}},{key:"readVertCRS",value:function(e,t){return t.vertCRS||t.ellipsoid||t.geoid}},{key:"clone",value:function(){return new r({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}},{key:"equals",value:function(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}},{key:"write",value:function(e,t){return t=Object(i.a)({origin:"web-scene"},t),Object(s.a)(Object(c.a)(n.prototype),"write",this).call(this,e,t)}}],[{key:"deriveUnitFromSR",value:function(e,t){var n=Object(O.e)(t);return new r({heightModel:e.heightModel,heightUnit:n,vertCRS:e.vertCRS})}},{key:"fromJSON",value:function(e){if(!e)return null;var t=new r;return t.read(e,{origin:"web-scene"}),t}}]),n}(g.a);function k(e,t){return new b.a("height-unit:unsupported","Height unit of value '".concat(e,"' is not supported"),t)}Object(h.a)([Object(f.b)({type:j.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:w,default:"ellipsoidal"}}}})],x.prototype,"heightModel",void 0),Object(h.a)([Object(y.a)("web-scene","heightModel")],x.prototype,"writeHeightModel",null),Object(h.a)([Object(p.a)(["web-scene","service"],"heightModel")],x.prototype,"readHeightModel",null),Object(h.a)([Object(f.b)({type:_.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:_.jsonValues,write:_.write}}}})],x.prototype,"heightUnit",void 0),Object(h.a)([Object(p.a)("web-scene","heightUnit")],x.prototype,"readHeightUnit",null),Object(h.a)([Object(p.a)("service","heightUnit")],x.prototype,"readHeightUnitService",null),Object(h.a)([Object(f.b)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],x.prototype,"vertCRS",void 0),Object(h.a)([Object(p.a)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],x.prototype,"readVertCRS",null);var S=x=r=Object(h.a)([Object(v.a)("esri.geometry.HeightModelInfo")],x);t.a=S},function(e,t,n){"use strict";var r,i=n(10),a=n(2),o=n(3),s=n(5),c=n(6),u=n(0),l=(n(15),n(23)),h=n(4),f=(n(14),n(18),n(1)),d=n(45),p=n(8),b=n(35),v=(n(12),n(21),n(22),n(139)),y=n(123),m=n(168),g=n(327),O=n(27),j=n(43),w=r=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).color=new j.a([0,0,0,1]),e.size=0,e}return Object(o.a)(n,[{key:"clone",value:function(){return new r({color:Object(l.a)(this.color),size:this.size})}}]),n}(O.a);Object(u.a)([Object(f.b)(y.a)],w.prototype,"color",void 0),Object(u.a)([Object(f.b)(y.b)],w.prototype,"size",void 0);var _,x=w=r=Object(u.a)([Object(p.a)("esri.symbols.support.Symbol3DHalo")],w),k=_=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e))._userSize=void 0,r.halo=null,r.material=null,r.text=void 0,r.type="text",r}return Object(o.a)(n,[{key:"font",get:function(){return this._get("font")||null},set:function(e){e&&this._userSize&&(e.size=this._userSize),this._set("font",e)}},{key:"writeFont",value:function(e,t,n,r){var a=Object(i.a)(Object(i.a)({},r),{},{textSymbol3D:!0});t.font=e.write({},a),delete t.font.size}},{key:"size",get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9},set:function(e){this._userSize=e,this.font&&(this.font.size=this._userSize),this.notifyChange("size")}},{key:"clone",value:function(){return new _({enabled:this.enabled,font:this.font&&Object(l.a)(this.font),halo:this.halo&&Object(l.a)(this.halo),material:Object(h.h)(this.material)?this.material.clone():null,size:this.size,text:this.text})}}],[{key:"fromTextSymbol",value:function(e){var t=function(e,t){return e&&t>0?{color:Object(l.a)(e),size:t}:null}(e.haloColor,e.haloSize),n=e.font?e.font.clone():new g.a;return new _({size:n.size,font:n,halo:t,material:e.color?{color:e.color.clone()}:null,text:e.text})}}]),n}(v.a);Object(u.a)([Object(f.b)({type:g.a,json:{write:!0}})],k.prototype,"font",null),Object(u.a)([Object(b.a)("font")],k.prototype,"writeFont",null),Object(u.a)([Object(f.b)({type:x,json:{write:!0}})],k.prototype,"halo",void 0),Object(u.a)([Object(f.b)({type:m.a,json:{write:!0}})],k.prototype,"material",void 0),Object(u.a)([Object(f.b)(y.b),Object(f.b)({dependsOn:["font.size"]})],k.prototype,"size",null),Object(u.a)([Object(f.b)({type:String,json:{write:!0}})],k.prototype,"text",void 0),Object(u.a)([Object(d.a)({Text:"text"},{readOnly:!0})],k.prototype,"type",void 0);var S=k=_=Object(u.a)([Object(p.a)("esri.symbols.TextSymbol3DLayer")],k);t.a=S},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return h}));var r=n(9),i=n(161),a=n(51),o=n(190);function s(e){return e?{ray:Object(o.b)(e.ray),c0:e.c0,c1:e.c1}:{ray:Object(o.b)(),c0:0,c1:Number.MAX_VALUE}}function c(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s();return Object(o.a)(e,r.ray),r.c0=t,r.c1=n,r}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return Object(o.a)(e,t.ray),t.c0=0,t.c1=Number.MAX_VALUE,t}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s(),i=Object(r.m)(e.vector);return Object(o.d)(e.origin,t,n.ray),n.c0=0,n.c1=i,n}function h(e,t){return d(e,e.c0,t)}function f(e,t){return d(e,e.c1,t)}function d(e,t,n){return Object(r.c)(n,e.ray.origin,Object(r.b)(n,e.ray.direction,t))}var p=new i.a((function(){return{c0:0,c1:0,ray:null}})),b=Object.freeze({__proto__:null,create:s,wrap:function(e,t,n){var r=p.get();return r.ray=e,r.c0=t,r.c1=n,r},copy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return c(e.ray,e.c0,e.c1,t)},fromValues:c,fromRay:u,fromLineSegment:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return l(e,Object(r.o)(a.c.get(),e.vector),t)},fromLineSegmentAndDirection:l,getStart:h,getEnd:f,getAt:d})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={DIFFUSE:0,NORMAL:1,EMISSION:2,OCCLUSION:3,METALLIC_ROUGHNESS:4,SSAO:6,SHADOW_MAP:7}},function(e,t,n){"use strict";n.d(t,"a",(function(){return De})),n.d(t,"b",(function(){return Fe})),n.d(t,"c",(function(){return Le})),n.d(t,"d",(function(){return ze})),n.d(t,"e",(function(){return Re})),n.d(t,"f",(function(){return Ne})),n.d(t,"g",(function(){return Ve}));var r=n(5),i=n(6),a=n(2),o=n(3),s=n(38),c=n(13),u=n(43),l=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){return e.id}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"id" does not expect arguments');return new e}}]),e}(),h=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){switch(e.type){case 0:return"Unknown";case 1:return"Point";case 2:return"LineString";case 3:return"Polygon"}}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"geometry-type" does not expect arguments');return new e}}]),e}(),f=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){return e.values}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"properties" does not expect arguments');return new e}}]),e}(),d=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){return t}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"zoom" does not expect arguments');return new e}}]),e}();function p(e,t,n,r){var i=3*e,a=3*(n-e)-i,o=1-i-a,s=3*t,c=3*(r-t)-s,u=1-s-c;function l(e){return((o*e+a)*e+i)*e}return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-6;return t=function(e,t){var n,r,s,c,u,h,f;for(s=e,h=0;h<8;h++){if(c=l(s)-e,Math.abs(c)<t)return s;if(u=(3*o*(f=s)+2*a)*f+i,Math.abs(u)<1e-6)break;s-=c/u}if((s=e)<(n=0))return n;if(s>(r=1))return r;for(;n<r;){if(c=l(s),Math.abs(c-e)<t)return s;e>c?n=s:r=s,s=.5*(r-n)+n}return s}(e,n),((u*t+c)*t+s)*t}}var b={};b.ease=p(.25,.1,.25,1),b.linear=p(0,0,1,1),b.easeIn=b["ease-in"]=p(.42,0,1,1),b.easeOut=b["ease-out"]=p(0,0,.58,1),b.easeInOut=b["ease-in-out"]=p(.42,0,.58,1);var v=n(198),y=function(){function e(t){Object(a.a)(this,e),this.args=t}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n=this.args[1].evaluate(e,t),r=this.args[2].evaluate(e,t),i=this.args[3].evaluate(e,t);return"rgb(".concat(Math.round(n),",").concat(Math.round(r),",").concat(Math.round(i),")")}}],[{key:"parse",value:function(t){if(4!==t.length)throw new Error('"rgb" expects 3 arguments.');return new e(t.slice(1).map((function(e){return Te(e)})))}}]),e}(),m=function(){function e(t){Object(a.a)(this,e),this.args=t}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n=this.args[1].evaluate(e,t),r=this.args[2].evaluate(e,t),i=this.args[3].evaluate(e,t),a=this.args[4].evaluate(e,t);return"rgb(".concat(Math.round(n),",").concat(Math.round(r),",").concat(Math.round(i),",").concat(a,")")}}],[{key:"parse",value:function(e){if(5!==e.length)throw new Error('"rgba" expects 4 arguments.');var t=e.slice(1).map((function(e){return Te(e)}));return new y(t)}}]),e}(),g=function(){function e(t){Object(a.a)(this,e),this.color=t}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){return new u.a(this.color.evaluate(e,t)).toRgba()}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error('"to-rgba" expects 1 argument.');return new e(Te(t[1]))}}]),e}(),O=function(){function e(t,n,r){Object(a.a)(this,e),this.lhs=t,this.rhs=n,this.compare=r}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){return this.compare(this.lhs.evaluate(e,t),this.rhs.evaluate(e,t))}}],[{key:"parse",value:function(t,n){if(3!==t.length&&4!==t.length)throw new Error('"'.concat(t[0],'" expects 2 or 3 arguments'));if(4===t.length)throw new Error('"'.concat(t[0],'" collator not supported'));return new e(Te(t[1]),Te(t[2]),n)}}]),e}(),j=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,null,[{key:"parse",value:function(e){return O.parse(e,(function(e,t){return e===t}))}}]),n}(O),w=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,null,[{key:"parse",value:function(e){return O.parse(e,(function(e,t){return e!==t}))}}]),n}(O),_=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,null,[{key:"parse",value:function(e){return O.parse(e,(function(e,t){return e<t}))}}]),n}(O),x=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,null,[{key:"parse",value:function(e){return O.parse(e,(function(e,t){return e<=t}))}}]),n}(O),k=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,null,[{key:"parse",value:function(e){return O.parse(e,(function(e,t){return e>t}))}}]),n}(O),S=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,null,[{key:"parse",value:function(e){return O.parse(e,(function(e,t){return e>=t}))}}]),n}(O),E=function(){function e(t){Object(a.a)(this,e),this.arg=t}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){return!this.arg.evaluate(e,t)}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error('"!" expects 1 argument');return new e(Te(t[1]))}}]),e}(),T=function(){function e(t){Object(a.a)(this,e),this.args=t}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n,r=Object(c.a)(this.args);try{for(r.s();!(n=r.n()).done;){if(!n.value.evaluate(e,t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}}],[{key:"parse",value:function(t){for(var n=[],r=1;r<t.length;r++)n.push(Te(t[r]));return new e(n)}}]),e}(),M=function(){function e(t){Object(a.a)(this,e),this.args=t}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n,r=Object(c.a)(this.args);try{for(r.s();!(n=r.n()).done;){if(n.value.evaluate(e,t))return!0}}catch(i){r.e(i)}finally{r.f()}return!1}}],[{key:"parse",value:function(t){for(var n=[],r=1;r<t.length;r++)n.push(Te(t[r]));return new e(n)}}]),e}(),C=function(){function e(t){Object(a.a)(this,e),this.args=t}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n,r=Object(c.a)(this.args);try{for(r.s();!(n=r.n()).done;){if(n.value.evaluate(e,t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}}],[{key:"parse",value:function(t){for(var n=[],r=1;r<t.length;r++)n.push(Te(t[r]));return new e(n)}}]),e}(),A=function(){function e(t,n){Object(a.a)(this,e),this.args=t,this.fallback=n}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n,r=Object(c.a)(this.args);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.condition.evaluate(e,t))return i.output.evaluate(e,t)}}catch(a){r.e(a)}finally{r.f()}return this.fallback.evaluate(e,t)}}],[{key:"parse",value:function(t){if(t.length<4)throw new Error('"case" expects at least 3 arguments');if(t.length%2==1)throw new Error('"case" expects an odd number of arguments');for(var n=[],r=1;r<t.length-1;r+=2)n.push({condition:Te(t[r]),output:Te(t[r+1])});return new e(n,Te(t[t.length-1]))}}]),e}(),P=function(){function e(t){Object(a.a)(this,e),this.args=t}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n,r=Object(c.a)(this.args);try{for(r.s();!(n=r.n()).done;){var i=n.value.evaluate(e,t);if(null!==i)return i}}catch(a){r.e(a)}finally{r.f()}return null}}],[{key:"parse",value:function(t){if(t.length<2)throw new Error('"coalesce" expects at least 1 argument');for(var n=[],r=1;r<t.length;r++)n.push(Te(t[r]));return new e(n)}}]),e}(),I=function(){function e(t,n,r,i){Object(a.a)(this,e),this.input=t,this.labels=n,this.outputs=r,this.fallback=i}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n=this.input.evaluate(e,t);return(this.outputs[this.labels[n]]||this.fallback).evaluate(e,t)}}],[{key:"parse",value:function(t){if(t.length<3)throw new Error('"match" expects at least 3 arguments');if(t.length%2==0)throw new Error('"case" expects an even number of arguments');for(var n,r=Te(t[1]),i=[],a={},o=2;o<t.length-1;o+=2){var s=t[o];Array.isArray(s)||(s=[s]);var u,l=Object(c.a)(s);try{for(l.s();!(u=l.n()).done;){var h=u.value,f=typeof h;if("string"!==f&&"number"!==f)throw new Error('"match" requires string or number literal as labels');if(n){if(f!==n)throw new Error('"match" requires labels to have the same type')}else n=f;a[h]=i.length}}catch(d){l.e(d)}finally{l.f()}i.push(Te(t[o+1]))}return new e(r,a,i,Te(t[t.length-1]))}}]),e}(),D=4/29,L=6/29,R=3*L*L,N=Math.PI/180,F=180/Math.PI;function z(e){return e>.008856451679035631?Math.pow(e,1/3):e/R+D}function V(e){return e>L?e*e*e:R*(e-D)}function U(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function B(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function G(e){var t=B(e.r),n=B(e.g),r=B(e.b),i=z((.4124564*t+.3575761*n+.1804375*r)/.95047),a=z((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-z((.0193339*t+.119192*n+.9503041*r)/1.08883)),alpha:e.a}}function q(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*V(t),n=.95047*V(n),r=1.08883*V(r),new u.a([U(3.2404542*n-1.5371385*t-.4985314*r),U(-.969266*n+1.8760108*t+.041556*r),U(.0556434*n-.2040259*t+1.0572252*r),e.alpha])}function H(e){var t=G(e),n=t.l,r=t.a,i=t.b,a=Math.atan2(i,r)*F;return{h:a<0?a+360:a,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}}function W(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var Y=function(){function e(t,n,r,i){Object(a.a)(this,e),this.operator=t,this.input=n,this.stops=r,this.interpolation=i}return Object(o.a)(e,[{key:"evaluate",value:function(t,n){var r=this.stops;if(1===r.length)return r[0][1].evaluate(t,n);var i=this.input.evaluate(t,n);if(i<=r[0][0])return r[0][1].evaluate(t,n);if(i>=r[r.length-1][0])return r[r.length-1][1].evaluate(t,n);for(var a=0;++a<r.length&&!(i<r[a][0]););var o=r[a-1][0],s=r[a][0],c=e.interpolationRatio(this.interpolation,i,o,s),u=r[a-1][1].evaluate(t,n),l=r[a][1].evaluate(t,n);return"interpolate"===this.operator?Array.isArray(u)?u.map((function(e,t){return Object(v.e)(e,l[t],c)})):Object(v.e)(u,l,c):"interpolate-hcl"===this.operator?function(e){var t=e.h*N,n=e.c;return q({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})}(function(e,t,n){return{h:W(e.h,t.h,n),c:Object(v.e)(e.c,t.c,n),l:Object(v.e)(e.l,t.l,n),alpha:Object(v.e)(e.alpha,t.alpha,n)}}(H(u),H(l),c)):q(function(e,t,n){return{l:Object(v.e)(e.l,t.l,n),a:Object(v.e)(e.a,t.a,n),b:Object(v.e)(e.b,t.b,n),alpha:Object(v.e)(e.alpha,t.alpha,n)}}(G(u),G(l),c))}}],[{key:"parse",value:function(t){if(t.length<5)throw new Error('"'.concat(t[0],'" expects at least 4 arguments.'));var n=t[1];if(!Array.isArray(n)||0===n.length)throw new Error('"'.concat(t[0],'" expects an interpolation type expression.'));switch(n[0]){case"linear":break;case"exponential":if("number"!=typeof n[1])throw new Error('"'.concat(t[0],'" expects a numeric base for exponential interpolation.'));break;case"cubic-bezier":if(5!==n.length)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.");for(var r=1;r<5;r++){var i=n[r];if("number"!=typeof i||i<0||i>1)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.")}break;default:throw new Error('"'.concat(t[0],'" unknown interpolation type "').concat(n[0],'".'))}if(t.length%2!=1)throw new Error('"'.concat(t[0],'" expects an even number of arguments.'));for(var a=Te(t[2]),o=[],s=3;s<t.length;s+=2){var c=t[s];if("number"!=typeof c)throw new Error('"'.concat(t[0],'" requires stop inputs as literal numbers.'));if(o.length&&o[o.length-1][0]>=c)throw new Error('"'.concat(t[0],'" requires strictly ascending stop inputs.'));o.push([c,Te(t[s+1])])}return new e(t[0],a,o,n)}},{key:"interpolationRatio",value:function(t,n,r,i){var a=0;return"exponential"===t[0]?a=e.exponentialInterpolationRatio(n,t[1],r,i):"linear"===t[0]?a=e.exponentialInterpolationRatio(n,1,r,i):"cubic-bezier"===t[0]&&(a=p(t[1],t[2],t[3],t[4])(e.exponentialInterpolationRatio(n,1,r,i),1e-5)),a}},{key:"exponentialInterpolationRatio",value:function(e,t,n,r){var i=r-n;if(0===i)return 0;var a=e-n;return 1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}}]),e}(),J=function(){function e(t,n){Object(a.a)(this,e),this.input=t,this.stops=n}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n=this.stops;if(1===n.length)return n[0][1].evaluate(e,t);for(var r=this.input.evaluate(e,t),i=0;++i<n.length&&!(r<n[i][0]););return this.stops[i-1][1].evaluate(e,t)}}],[{key:"parse",value:function(t){if(t.length<5)throw new Error('"step" expects at least 4 arguments.');if(t.length%2!=1)throw new Error('"step" expects an even number of arguments.');var n=Te(t[1]),r=[];r.push([-1/0,Te(t[2])]);for(var i=3;i<t.length;i+=2){var a=t[i];if("number"!=typeof a)throw new Error('"step" requires stop inputs as literal numbers.');if(r.length&&r[r.length-1][0]>=a)throw new Error('"step" requires strictly ascending stop inputs.');r.push([a,Te(t[i+1])])}return new e(n,r)}}]),e}(),K=function(){function e(t,n){Object(a.a)(this,e),this.index=t,this.array=n}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n=this.index.evaluate(e,t),r=this.array.evaluate(e,t);if(n<0||n>=r.length)throw new Error('"at" index out of bounds.');if(n!==Math.floor(n))throw new Error('"at" index must be an integer.');return r[n]}}],[{key:"parse",value:function(t){if(3!==t.length)throw new Error('"at" expects 2 arguments.');return new e(Te(t[1]),Te(t[2]))}}]),e}(),X=function(){function e(t,n){Object(a.a)(this,e),this.key=t,this.obj=n}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n=this.key.evaluate(e,t);return this.obj?this.obj.evaluate(e,t)[n]:e.values[n]}}],[{key:"parse",value:function(t){switch(t.length){case 2:return new e(Te(t[1]));case 3:return new e(Te(t[1]),Te(t[2]));default:throw new Error('"get" expects 1 or 2 arguments')}}}]),e}(),Q=function(){function e(t,n){Object(a.a)(this,e),this.key=t,this.obj=n}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n=this.key.evaluate(e,t);return this.obj?n in this.obj.evaluate(e,t):void 0!==e.values[n]}}],[{key:"parse",value:function(t){switch(t.length){case 2:return new e(Te(t[1]));case 3:return new e(Te(t[1]),Te(t[2]));default:throw new Error('"has" expects 1 or 2 arguments')}}}]),e}(),Z=function(){function e(t,n){Object(a.a)(this,e),this.key=t,this.vals=n}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n=this.key.evaluate(e,t);return-1!==this.vals.evaluate(e,t).indexOf(n)}}],[{key:"parse",value:function(t){if(3!==t.length)throw new Error('"in" expects 2 arguments');return new e(Te(t[1]),Te(t[2]))}}]),e}(),$=function(){function e(t,n,r){Object(a.a)(this,e),this.item=t,this.array=n,this.from=r}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n=this.item.evaluate(e,t),r=this.array.evaluate(e,t);if(this.from){var i=this.from.evaluate(e,t);if(i!==Math.floor(i))throw new Error('"index-of" index must be an integer.');return r.indexOf(n,i)}return r.indexOf(n)}}],[{key:"parse",value:function(t){if(t.length<3||t.length>4)throw new Error('"index-of" expects 3 or 4 arguments.');var n=Te(t[1]),r=Te(t[2]);return 4===t.length?new e(n,r,Te(t[3])):new e(n,r)}}]),e}(),ee=function(){function e(t){Object(a.a)(this,e),this.arg=t}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n=this.arg.evaluate(e,t);if("string"==typeof n)return n.length;if(Array.isArray(n))return n.length;throw new Error('"length" expects string or array.')}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error('"length" expects 2 arguments.');return new e(Te(t[1]))}}]),e}(),te=function(){function e(t,n,r){Object(a.a)(this,e),this.array=t,this.from=n,this.to=r}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n=this.array.evaluate(e,t),r=this.from.evaluate(e,t);if(r<0||r>=n.length)throw new Error('"slice" index out of bounds.');if(r!==Math.floor(r))throw new Error('"slice" index must be an integer.');if(this.to){var i=this.to.evaluate(e,t);if(i<0||i>=n.length)throw new Error('"slice" index out of bounds.');if(i!==Math.floor(i))throw new Error('"slice" index must be an integer.');return n.slice(r,i)}return n.slice(r)}}],[{key:"parse",value:function(t){if(t.length<3||t.length>4)throw new Error('"slice" expects 2 or 3 arguments.');var n=Te(t[1]),r=Te(t[2]);return 4===t.length?new e(n,r,Te(t[3])):new e(n,r)}}]),e}(),ne=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){return void 0!==e.id}}],[{key:"parse",value:function(t){if(1!==t.length)throw new Error('"has-id" expects no arguments');return new e}}]),e}(),re=function(){function e(t,n){Object(a.a)(this,e),this.args=t,this.calculate=n}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n;return this.args&&(n=this.args.map((function(n){return n.evaluate(e,t)}))),this.calculate(n)}}],[{key:"parse",value:function(t,n){return new e(t.slice(1).map((function(e){return Te(e)})),n)}}]),e}(),ie=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,null,[{key:"parse",value:function(e){switch(e.length){case 2:return re.parse(e,(function(e){return-e[0]}));case 3:return re.parse(e,(function(e){return e[0]-e[1]}));default:throw new Error('"-" expects 1 or 2 arguments')}}}]),n}(re),ae=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,null,[{key:"parse",value:function(e){return re.parse(e,(function(e){var t,n=1,r=Object(c.a)(e);try{for(r.s();!(t=r.n()).done;){n*=t.value}}catch(i){r.e(i)}finally{r.f()}return n}))}}]),n}(re),oe=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,null,[{key:"parse",value:function(e){if(3===e.length)return re.parse(e,(function(e){return e[0]/e[1]}));throw new Error('"/" expects 2 arguments')}}]),n}(re),se=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,null,[{key:"parse",value:function(e){if(3===e.length)return re.parse(e,(function(e){return e[0]%e[1]}));throw new Error('"%" expects 2 arguments')}}]),n}(re),ce=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,null,[{key:"parse",value:function(e){if(3===e.length)return re.parse(e,(function(e){return Math.pow(e[0],e[1])}));throw new Error('"^" expects 1 or 2 arguments')}}]),n}(re),ue=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,null,[{key:"parse",value:function(e){return re.parse(e,(function(e){var t,n=0,r=Object(c.a)(e);try{for(r.s();!(t=r.n()).done;){n+=t.value}}catch(i){r.e(i)}finally{r.f()}return n}))}}]),n}(re),le=function(){function e(t,n){Object(a.a)(this,e),this.args=t,this.calculate=n}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n;return this.args&&(n=this.args.map((function(n){return n.evaluate(e,t)}))),this.calculate(n)}}],[{key:"parse",value:function(t){return new e(t.slice(1).map((function(e){return Te(e)})),e.ops[t[0]])}}]),e}();le.ops={abs:function(e){return Math.abs(e[0])},acos:function(e){return Math.acos(e[0])},asin:function(e){return Math.asin(e[0])},atan:function(e){return Math.atan(e[0])},ceil:function(e){return Math.ceil(e[0])},cos:function(e){return Math.cos(e[0])},e:function(){return Math.E},floor:function(e){return Math.floor(e[0])},ln:function(e){return Math.log(e[0])},ln2:function(){return Math.LN2},log10:function(e){return Math.log(e[0])/Math.LN10},log2:function(e){return Math.log(e[0])/Math.LN2},max:function(e){return Math.max.apply(Math,Object(s.a)(e))},min:function(e){return Math.min.apply(Math,Object(s.a)(e))},pi:function(){return Math.PI},round:function(e){return Math.round(e[0])},sin:function(e){return Math.sin(e[0])},sqrt:function(e){return Math.sqrt(e[0])},tan:function(e){return Math.tan(e[0])}};var he=function(){function e(t){Object(a.a)(this,e),this.args=t}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){return this.args.map((function(n){return n.evaluate(e,t)})).join("")}}],[{key:"parse",value:function(t){return new e(t.slice(1).map((function(e){return Te(e)})))}}]),e}(),fe=function(){function e(t,n){Object(a.a)(this,e),this.arg=t,this.calculate=n}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){return this.calculate(this.arg.evaluate(e,t))}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error("".concat(t[0]," expects 1 argument."));return new e(Te(t[1]),e.ops[t[0]])}}]),e}();fe.ops={downcase:function(e){return e.toLowerCase()},upcase:function(e){return e.toUpperCase()}};var de={kind:"null"},pe={kind:"number"},be={kind:"string"},ve={kind:"boolean"},ye={kind:"color"},me={kind:"object"},ge={kind:"value"};function Oe(e,t){return{kind:"array",itemType:e,n:t}}var je=[de,pe,be,ve,ye,me,Oe(ge)];function we(e){if("array"===e.kind){var t=we(e.itemType);return"number"==typeof e.n?"array<".concat(t,", ").concat(e.n,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}function _e(e){if(null===e)return de;if("string"==typeof e)return be;if("boolean"==typeof e)return ve;if("number"==typeof e)return pe;if(e instanceof u.a)return ye;if(Array.isArray(e)){var t,n,r=Object(c.a)(e);try{for(r.s();!(n=r.n()).done;){var i=_e(n.value);if(t){if(t===i)continue;t=ge;break}t=i}}catch(a){r.e(a)}finally{r.f()}return Oe(t||ge,e.length)}return me}function xe(e,t){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.n&&"value"===e.itemType.kind||!xe(e.itemType,t.itemType))&&("number"!=typeof t.n||t.n===e.n))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind){var n,r=Object(c.a)(je);try{for(r.s();!(n=r.n()).done;){if(!xe(n.value,e))return null}}catch(i){r.e(i)}finally{r.f()}}}return"Expected ".concat(we(t)," but found ").concat(we(e)," instead.")}var ke=function(){function e(t,n){Object(a.a)(this,e),this.type=t,this.args=n}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){var n,r=Object(c.a)(this.args);try{for(r.s();!(n=r.n()).done;){var i=n.value.evaluate(e,t);if(!xe(_e(i),this.type))return i}}catch(a){r.e(a)}finally{r.f()}return null}}],[{key:"parse",value:function(t){var n=t[0];if(t.length<2)throw new Error("".concat(n," expects at least one argument."));var r,i=1;if("array"===n){if(t.length>2){switch(t[1]){case"string":r=be;break;case"number":r=pe;break;case"boolean":r=ve;break;default:throw new Error('"array" type argument must be string, number or boolean')}i++}else r=ge;var a;if(t.length>3){if(null!==(a=t[2])&&("number"!=typeof a||a<0||a!==Math.floor(a)))throw new Error('"array" length argument must be a positive integer literal');i++}r=Oe(r,a)}else switch(n){case"string":r=be;break;case"number":r=pe;break;case"boolean":r=ve;break;case"object":r=me}for(var o=[];i<t.length;i++){var s=Te(t[i]);o.push(s)}return new e(r,o)}}]),e}(),Se=function(){function e(t,n){Object(a.a)(this,e),this.type=t,this.args=n}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){if(this.type===ve)return Boolean(this.args[0].evaluate(e,t));if(this.type===be)return function(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof u.a?e.toString():JSON.stringify(e)}(this.args[0].evaluate(e,t));if(this.type===pe){var n,r=Object(c.a)(this.args);try{for(r.s();!(n=r.n()).done;){var i=n.value.evaluate(e,t);if(null===i)return 0;var a=Number(i);if(!isNaN(a))return a}}catch(h){r.e(h)}finally{r.f()}return null}if(this.type===ye){var o,s=Object(c.a)(this.args);try{for(s.s();!(o=s.n()).done;){var l=o.value.evaluate(e,t);if(l instanceof u.a)return l;if("string"==typeof l)return u.a.fromString(l);if(Array.isArray(l)&&(3===l.length||4===l.length))return u.a.fromArray(l)}}catch(h){s.e(h)}finally{s.f()}return null}}}],[{key:"parse",value:function(t){var n=t[0];if("to-boolean"===n||"to-string"===n){if(2!==t.length)throw new Error("".concat(n," expects one argument."))}else if(t.length<2)throw new Error("".concat(n," expects at least one argument."));for(var r=e.types[n],i=[],a=1;a<t.length;a++){var o=Te(t[a]);i.push(o)}return new e(r,i)}}]),e}();Se.types={"to-boolean":ve,"to-color":ye,"to-number":pe,"to-string":be};var Ee={array:ke,boolean:ke,collator:null,format:null,literal:function(){function e(t){Object(a.a)(this,e),this.val=t}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){return this.val}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error('"literal" expects 1 argument');return new e(t[1])}}]),e}(),image:null,number:ke,"number-format":null,object:ke,string:ke,"to-boolean":Se,"to-color":Se,"to-number":Se,"to-string":Se,typeof:function(){function e(t){Object(a.a)(this,e),this.arg=t}return Object(o.a)(e,[{key:"evaluate",value:function(e,t){return we(_e(this.arg.evaluate(e,t)))}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error('"typeof" expects 1 argument');return new e(Te(t[1]))}}]),e}(),accumulated:null,"feature-state":null,"geometry-type":h,id:l,"line-progress":null,properties:f,at:K,get:X,has:Q,in:Z,"index-of":$,length:ee,slice:te,"!":E,"!=":w,"<":_,"<=":x,"==":j,">":k,">=":S,all:T,any:M,case:A,coalesce:P,match:I,within:null,interpolate:Y,"interpolate-hcl":Y,"interpolate-lab":Y,step:J,let:null,var:null,concat:he,downcase:fe,"is-supported-script":null,"resolved-locale":null,upcase:fe,rgb:y,rgba:m,"to-rgba":g,"-":ie,"*":ae,"/":oe,"%":se,"^":ce,"+":ue,abs:le,acos:le,asin:le,atan:le,ceil:le,cos:le,e:le,floor:le,ln:le,ln2:le,log10:le,log2:le,max:le,min:le,pi:le,round:le,sin:le,sqrt:le,tan:le,zoom:d,"heatmap-density":null,"has-id":ne,none:C};function Te(e){if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),!Array.isArray(e)||0===e.length)throw new Error("Expression must be a non empty array");var t=e[0];if("string"!=typeof t)throw new Error("First element of expression must be a string");var n=Ee[t];if(void 0===n)throw new Error('Invalid expression operator "'.concat(t,'"'));if(!n)throw new Error('Unimplemented expression operator "'.concat(t,'"'));return n.parse(e)}var Me=function(){function e(t){Object(a.a)(this,e),this._expression=t}return Object(o.a)(e,[{key:"filter",value:function(e,t){if(!this._expression)return!0;try{return this._expression.evaluate(e,t)}catch(e){return console.log(e.message),!0}}}],[{key:"createFilter",value:function(t){if(!t)return null;this.isLegacyFilter(t)&&(t=this.convertLegacyFilter(t));try{return new e(Te(t))}catch(n){return console.log(n.message),null}}},{key:"isLegacyFilter",value:function(e){if(!Array.isArray(e))return!0;if(0===e.length)return!0;switch(e[0]){case"==":case"!=":case">":case"<":case">=":case"<=":return 3===e.length&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"in":return e.length>=3&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"!in":return!0;case"any":case"all":for(var t=1;t<e.length;t++)if(!this.isLegacyFilter(e[1]))return!1;return!0;case"none":return!0;case"has":return 2===e.length&&("$id"===e[1]||"$type"===e[1]);case"!has":return!0;default:return!1}}},{key:"convertLegacyFilter",value:function(t){if(!Array.isArray(t)||0===t.length)return!0;var n=t[0];if(1===t.length)return"any"!==n;switch(n){case"==":return e.convertComparison("==",t[1],t[2]);case"!=":return e.negate(e.convertComparison("==",t[1],t[2]));case">":case"<":case">=":case"<=":return e.convertComparison(n,t[1],t[2]);case"in":return e.convertIn(t[1],t.slice(2));case"!in":return e.negate(e.convertIn(t[1],t.slice(2)));case"any":case"all":case"none":return e.convertCombining(n,t.slice(1));case"has":return e.convertHas(t[1]);case"!has":return e.negate(e.convertHas(t[1]));default:throw new Error("Unexpected legacy filter.")}}},{key:"convertComparison",value:function(e,t,n){switch(t){case"$type":return[e,["geometry-type"],n];case"$id":return[e,["id"],n];default:return[e,["get",t],n]}}},{key:"convertIn",value:function(e,t){switch(e){case"$type":return["in",["geometry-type"],["literal",t]];case"$id":return["in",["id"],["literal",t]];default:return["in",["get",e],["literal",t]]}}},{key:"convertHas",value:function(e){switch(e){case"$type":return!0;case"$id":return["has-id"];default:return["has",e]}}},{key:"convertCombining",value:function(e,t){return[e].concat(t.map(this.convertLegacyFilter))}},{key:"negate",value:function(e){return["!",e]}}]),e}(),Ce=function e(){Object(a.a)(this,e)};Ce.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}},Ce.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}},Ce.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}},Ce.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:"point"},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:"center"},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:"center"},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:"center"},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:["horizontal"]}},Ce.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}},Ce.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}},Ce.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}},Ce.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1}},Ce.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}},Ce.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}},Ce.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};var Ae=function(){function e(t,n){var r;switch(Object(a.a)(this,e),this.isDataDriven=!1,t.type){case"number":r=!0;break;case"color":r=!0,n=e._parseColor(n);break;case"array":r="number"===t.value;break;default:r=!1}if(null==n&&(n=t.default),Array.isArray(n)&&n.length>0&&Ee[n[0]])try{var i=Te(n);this.getValue=this._buildExpression(i,t),this.isDataDriven=!0}catch(h){console.log(h.message),this.getValue=this._buildSimple(t.default)}else{r&&"interval"===n.type&&(r=!1);var o=n&&n.stops&&n.stops.length>0;if(o){var s,u=Object(c.a)(n.stops);try{for(u.s();!(s=u.n()).done;){var l=s.value;l[1]=this._validate(l[1],t)}}catch(f){u.e(f)}finally{u.f()}}if(this.isDataDriven=!!n&&!!n.property,this.isDataDriven)if(void 0!==n.default&&(n.default=this._validate(n.default,t)),o)switch(n.type){case"identity":this.getValue=this._buildIdentity(n,t);break;case"categorical":this.getValue=this._buildCategorical(n,t);break;default:this.getValue=r?this._buildInterpolate(n,t):this._buildInterval(n,t)}else this.getValue=this._buildIdentity(n,t);else o?this.getValue=r?this._buildZoomInterpolate(n):this._buildZoomInterval(n):(n=this._validate(n,t),this.getValue=this._buildSimple(n))}}return Object(o.a)(e,[{key:"_validate",value:function(e,t){if("number"===t.type){if(e<t.minimum)return t.minimum;if(e>t.maximum)return t.maximum}return e}},{key:"_buildSimple",value:function(e){return function(){return e}}},{key:"_buildExpression",value:function(t,n){var r=this;return function(i,a){try{var o=t.evaluate(a,i);return"color"===n.type&&(o=e._parseColor(o)),void 0===o?n.default:r._validate(o,n)}catch(t){return console.log(t.message),n.default}}}},{key:"_buildIdentity",value:function(t,n){var r=this;return function(i,a){var o;return a&&(o=a.values[t.property],"color"===n.type&&(o=e._parseColor(o))),void 0===o&&(o=t.default),void 0!==o?r._validate(o,n):n.default}}},{key:"_buildCategorical",value:function(e,t){var n=this;return function(r,i){var a;return i&&(a=i.values[e.property]),void 0!==(a=n._categorical(a,e.stops))?a:void 0!==e.default?e.default:t.default}}},{key:"_buildInterval",value:function(e,t){var n=this;return function(r,i){var a;return i&&(a=i.values[e.property]),"number"==typeof a?n._interval(a,e.stops):void 0!==e.default?e.default:t.default}}},{key:"_buildInterpolate",value:function(e,t){var n=this;return function(r,i){var a;return i&&(a=i.values[e.property]),"number"==typeof a?n._interpolate(a,e.stops,e.base||1):void 0!==e.default?e.default:t.default}}},{key:"_buildZoomInterpolate",value:function(e){var t=this;return function(n){return t._interpolate(n,e.stops,e.base||1)}}},{key:"_buildZoomInterval",value:function(e){var t=this;return function(n){return t._interval(n,e.stops)}}},{key:"_categorical",value:function(e,t){for(var n=t.length,r=0;r<n;r++)if(t[r][0]===e)return t[r][1]}},{key:"_interval",value:function(e,t){for(var n=t.length,r=0,i=0;i<n&&t[i][0]<=e;i++)r=i;return t[r][1]}},{key:"_interpolate",value:function(e,t,n){for(var r,i,a=t.length,o=0;o<a;o++){var s=t[o];if(!(s[0]<=e)){i=s;break}r=s}if(r&&i){var c=i[0]-r[0],u=e-r[0],l=1===n?u/c:(Math.pow(n,u)-1)/(Math.pow(n,c)-1);if(Array.isArray(r[1])){for(var h=r[1],f=i[1],d=[],p=0;p<h.length;p++)d.push(Object(v.e)(h[p],f[p],l));return d}return Object(v.e)(r[1],i[1],l)}return r?r[1]:i?i[1]:void 0}}],[{key:"_isEmpty",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"_parseColor",value:function(t){if(Array.isArray(t))return t;if("string"==typeof t){var n=new u.a(t);return this._isEmpty(n)?void 0:u.a.toUnitRGBA(n)}return t&&t.default&&(t.default=e._parseColor(t.default)),t&&t.stops&&(t.stops=t.stops.map((function(t){return[t[0],e._parseColor(t[1])]}))),t}}]),e}(),Pe=n(558),Ie=function(){function e(t,n,r,i){switch(Object(a.a)(this,e),this.type=t,this.typeName=n.type,this.id=n.id,this.source=n.source,this.sourceLayer=n["source-layer"],this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,this.filter=n.filter,this.layout=n.layout,this.paint=n.paint,this.z=r,this.uid=i,t){case 0:this._layoutDefinition=Ce.backgroundLayoutDefinition,this._paintDefinition=Ce.backgroundPaintDefinition;break;case 1:this._layoutDefinition=Ce.fillLayoutDefinition,this._paintDefinition=Ce.fillPaintDefinition;break;case 2:this._layoutDefinition=Ce.lineLayoutDefinition,this._paintDefinition=Ce.linePaintDefinition;break;case 3:this._layoutDefinition=Ce.symbolLayoutDefinition,this._paintDefinition=Ce.symbolPaintDefinition;break;case 4:this._layoutDefinition=Ce.circleLayoutDefinition,this._paintDefinition=Ce.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}return Object(o.a)(e,[{key:"getFeatureFilter",value:function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=Me.createFilter(this.filter)}},{key:"getLayoutProperty",value:function(e){return this._layoutProperties[e]}},{key:"getPaintProperty",value:function(e){return this._paintProperties[e]}},{key:"getLayoutValue",value:function(e,t,n){var r,i=this._layoutProperties[e];i&&(r=i.getValue(t,n));var a=this._layoutDefinition[e];return void 0===r&&(r=a.default),"enum"===a.type?r=a.values.indexOf(r):"array"===a.type&&"enum"===a.value&&(r=r.map((function(e){return a.values.indexOf(e)}))),r}},{key:"getPaintValue",value:function(e,t,n){var r,i=this._paintProperties[e];i&&(r=i.getValue(t,n));var a=this._paintDefinition[e];return void 0===r&&(r=a.default),"enum"===a.type&&(r=a.values.indexOf(r)),r}},{key:"isPainterDataDriven",value:function(){var e=this._paintProperties;if(e)for(var t in e)if(e[t].isDataDriven)return!0;return!1}},{key:"_parseLayout",value:function(e){var t={};for(var n in e){var r=this._layoutDefinition[n];r&&(t[n]=new Ae(r,e[n]))}return t}},{key:"_parsePaint",value:function(e){var t={};for(var n in e){var r=this._paintDefinition[n];r&&(t[n]=new Ae(r,e[n]))}return t}}]),e}(),De=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r,i,o){return Object(a.a)(this,n),t.call(this,e,r,i,o)}return n}(Ie),Le=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r,i,o){var s;Object(a.a)(this,n);var c=(s=t.call(this,e,r,i,o)).getPaintProperty("fill-color");s.hasDataDrivenColor=!!c&&c.isDataDriven;var u=s.getPaintProperty("fill-opacity");s.hasDataDrivenOpacity=!!u&&u.isDataDriven,s.hasDataDrivenFill=s.hasDataDrivenColor||s.hasDataDrivenOpacity;var l=s.getPaintProperty("fill-outline-color");return s.outlineUsesFillColor=!l,s.hasDataDrivenOutlineColor=!!l&&l.isDataDriven,s.hasDataDrivenOutline=(l?s.hasDataDrivenOutlineColor:s.hasDataDrivenColor)||s.hasDataDrivenOpacity,s}return n}(Ie),Re=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r,i,o){var s;Object(a.a)(this,n);var c=(s=t.call(this,e,r,i,o)).getPaintProperty("line-color");s.hasDataDrivenColor=!!c&&c.isDataDriven;var u=s.getPaintProperty("line-opacity");s.hasDataDrivenOpacity=!!u&&u.isDataDriven;var l=s.getPaintProperty("line-width");s.hasDataDrivenWidth=!!l&&l.isDataDriven,s.hasDataDrivenLine=s.hasDataDrivenColor||s.hasDataDrivenOpacity||s.hasDataDrivenWidth;var h=r.paint["line-width"];return h||(h=Ce.linePaintDefinition["line-width"].default),s.isThinLine=!s.hasDataDrivenWidth&&"number"==typeof h&&h<Pe.o,s}return n}(Ie),Ne=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r,i,o){var s;Object(a.a)(this,n);var c=(s=t.call(this,e,r,i,o)).getPaintProperty("icon-color");s.hasDataDrivenIconColor=!!c&&c.isDataDriven;var u=s.getPaintProperty("icon-opacity");s.hasDataDrivenIconOpacity=!!u&&u.isDataDriven;var l=s.getLayoutProperty("icon-size");s.hasDataDrivenIconSize=!!l&&l.isDataDriven,s.hasDataDrivenIcon=s.hasDataDrivenIconColor||s.hasDataDrivenIconOpacity||s.hasDataDrivenIconSize;var h=s.getPaintProperty("text-color");s.hasDataDrivenTextColor=!!h&&h.isDataDriven;var f=s.getPaintProperty("text-opacity");s.hasDataDrivenTextOpacity=!!f&&f.isDataDriven;var d=s.getLayoutProperty("text-size");return s.hasDataDrivenTextSize=!!d&&d.isDataDriven,s.hasDataDrivenText=s.hasDataDrivenTextColor||s.hasDataDrivenTextOpacity||s.hasDataDrivenTextSize,s}return n}(Ie),Fe=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r,i,o){var s;Object(a.a)(this,n);var c=(s=t.call(this,e,r,i,o)).getPaintProperty("circle-radius");s.hasDataDrivenRadius=!!c&&c.isDataDriven;var u=s.getPaintProperty("circle-color");s.hasDataDrivenColor=!!u&&u.isDataDriven;var l=s.getPaintProperty("circle-opacity");s.hasDataDrivenOpacity=!!l&&l.isDataDriven;var h=s.getPaintProperty("circle-stroke-width");s.hasDataDrivenStrokeWidth=!!h&&h.isDataDriven;var f=s.getPaintProperty("circle-stroke-color");s.hasDataDrivenStrokeColor=!!f&&f.isDataDriven;var d=s.getPaintProperty("circle-stroke-opacity");s.hasDataDrivenStrokeOpacity=!!d&&d.isDataDriven;var p=s.getPaintProperty("circle-blur");return s.hasDataDrivenBlur=!!p&&p.isDataDriven,s}return n}(Ie),ze=function e(t,n,r,i){Object(a.a)(this,e),this.allowOverlap=t.getLayoutValue("icon-allow-overlap",n,i),this.anchor=t.getLayoutValue("icon-anchor",n,i),this.ignorePlacement=t.getLayoutValue("icon-ignore-placement",n,i),this.keepUpright=t.getLayoutValue("icon-keep-upright",n,i),this.offset=t.getLayoutValue("icon-offset",n,i),this.optional=t.getLayoutValue("icon-optional",n,i),this.padding=t.getLayoutValue("icon-padding",n,i),this.rotate=t.getLayoutValue("icon-rotate",n,i),this.rotationAlignment=t.getLayoutValue("icon-rotation-alignment",n,i),this.size=t.getLayoutValue("icon-size",n,i),2===this.rotationAlignment&&(this.rotationAlignment=r?0:1)},Ve=function e(t,n,r,i){Object(a.a)(this,e),this.allowOverlap=t.getLayoutValue("text-allow-overlap",n,i),this.anchor=t.getLayoutValue("text-anchor",n,i),this.fontArray=t.getLayoutValue("text-font",n,i),this.ignorePlacement=t.getLayoutValue("text-ignore-placement",n,i),this.justify=t.getLayoutValue("text-justify",n,i),this.keepUpright=t.getLayoutValue("text-keep-upright",n,i),this.letterSpacing=t.getLayoutValue("text-letter-spacing",n,i),this.lineHeight=t.getLayoutValue("text-line-height",n,i),this.maxAngle=t.getLayoutValue("text-max-angle",n,i),this.maxWidth=t.getLayoutValue("text-max-width",n,i),this.offset=t.getLayoutValue("text-offset",n,i),this.optional=t.getLayoutValue("text-optional",n,i),this.padding=t.getLayoutValue("text-padding",n,i),this.rotate=t.getLayoutValue("text-rotate",n,i),this.rotationAlignment=t.getLayoutValue("text-rotation-alignment",n,i),this.size=t.getLayoutValue("text-size",n,i),this.transform=t.getLayoutValue("text-transform",n,i),this.writingMode=t.getLayoutValue("text-writing-mode",n,i),2===this.rotationAlignment&&(this.rotationAlignment=r?0:1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return k}));var r=n(13),i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=n(92),l=n(8),h=n(124),f=n(37),d=n(296),p=n(40),b=n(4),v=n(362),y=n(38),m=n(23),g=function(){function e(){Object(i.a)(this,e),this._propertyOriginMap=new Map,this._originStores=new Array(h.a),this._values=new Map}return Object(a.a)(e,[{key:"clone",value:function(t){var n=this,r=new e,i=this._originStores[0];i&&i.forEach((function(e,t){r.set(t,Object(m.a)(e),0)}));for(var a=function(e){var i=n._originStores[e];i&&i.forEach((function(n,i){t&&t.has(i)||r.set(i,Object(m.a)(n),e)}))},o=2;o<h.a;o++)a(o);return r}},{key:"get",value:function(e,t){var n=void 0===t?this._values:this._originStores[t];return n?n.get(e):void 0}},{key:"keys",value:function(e){var t=null==e?this._values:this._originStores[e];return t?Object(y.a)(t.keys()):[]}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=this._originStores[n];if(r||(r=new Map,this._originStores[n]=r),r.set(e,t),!this._values.has(e)||Object(b.c)(this._propertyOriginMap.get(e))<=n){var i=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,n),i!==t}return!1}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=this._originStores[t];if(n){var r=n.get(e);if(n.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(var i=t-1;i>=0;i--){var a=this._originStores[i];if(a&&a.has(e)){this._values.set(e,a.get(e)),this._propertyOriginMap.set(e,i);break}}}return r}}},{key:"has",value:function(e,t){var n=void 0===t?this._values:this._originStores[t];return!!n&&n.has(e)}},{key:"revert",value:function(e,t){for(;t>0&&!this.has(e,t);)--t;var n=this._originStores[t],r=n&&n.get(e),i=this._values.get(e);return this._values.set(e,r),this._propertyOriginMap.set(e,t),i!==r}},{key:"originOf",value:function(e){return this._propertyOriginMap.get(e)||0}},{key:"forEach",value:function(e){this._values.forEach(e)}}]),e}(),O=function(e){var t=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];e=t.call.apply(t,[this].concat(a));var s=Object(b.c)(Object(u.a)(Object(p.a)(e))),c=s.metadatas,l=s.store,h=new g;return s.store=h,l.keys().forEach((function(e){h.set(e,l.get(e),0)})),Object.keys(c).forEach((function(e){s.internalGet(e)&&h.set(e,s.internalGet(e),0)})),e}return Object(a.a)(n,[{key:"read",value:function(e,t){Object(v.a)(this,e,t)}},{key:"getAtOrigin",value:function(e,t){var n=j(this),r=Object(h.d)(t);if("string"==typeof e)return n.get(e,r);var i={};return e.forEach((function(e){i[e]=n.get(e,r)})),i}},{key:"originOf",value:function(e){return Object(h.b)(this.originIdOf(e))}},{key:"originIdOf",value:function(e){return j(this).originOf(e)}},{key:"revert",value:function(e,t){var n=j(this),r=Object(h.d)(t),i=Object(u.a)(this);("string"==typeof e?"*"===e?n.keys(r):[e]:e).forEach((function(e){i.propertyInvalidated(e),n.revert(e,r),i.propertyCommitted(e)}))}}]),n}(e);return t=Object(c.a)([Object(l.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function j(e){return Object(u.a)(e).store}var w=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return n}(O(f.a));w=Object(c.a)([Object(l.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],w);function _(e){return Object(u.a)(e).store}var x=function(e){var t=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){Object(i.a)(this,n);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.call.apply(t,[this].concat(r))}return n}(function(e){var t=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){Object(i.a)(this,n);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.call.apply(t,[this].concat(r))}return Object(a.a)(n,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user";return _(this).delete(e,Object(h.d)(t))}},{key:"write",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(d.b)(this,e=e||{},t),e}},{key:"setAtOrigin",value:function(e,t,n){Object(u.a)(this).setAtOrigin(e,t,Object(h.d)(n))}},{key:"removeOrigin",value:function(e){var t,n=_(this),i=Object(h.d)(e),a=n.keys(i),o=Object(r.a)(a);try{for(o.s();!(t=o.n()).done;){var s=t.value;n.originOf(s)===i&&n.set(s,n.get(s,i),6)}}catch(c){o.e(c)}finally{o.f()}}},{key:"updateOrigin",value:function(e,t){for(var n=_(this),r=Object(h.d)(t),i=this.get(e),a=r+1;a<h.a;++a)n.delete(e,a);n.set(e,i,r)}},{key:"toJSON",value:function(e){return this.write({},e)}}]),n}(e);return(t=Object(c.a)([Object(l.a)("esri.core.WriteableMultiOriginJSONSupport")],t)).prototype.toJSON.isDefaultToJSON=!0,t}(O(e)));return t=Object(c.a)([Object(l.a)("esri.core.MultiOriginJSONSupport")],t)},k=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return n}(x(f.a));k=Object(c.a)([Object(l.a)("esri.core.MultiOriginJSONSupport")],k)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(32),i=n(5),a=n(6),o=n(2),s=n(3),c=n(14).a.getLogger("esri.views.3d.webgl-engine.core.shaderModules.shaderBuilder"),u=function(){function e(){Object(o.a)(this,e),this.includedModules=new Map}return Object(s.a)(e,[{key:"include",value:function(e,t){this.includedModules.has(e)?this.includedModules.get(e)!==t&&c.error("Trying to include shader module multiple times with different sets of options."):(this.includedModules.set(e,t),e(this.builder,t))}}]),e}(),l=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).vertex=new d,e.fragment=new d,e.attributes=new p,e.varyings=new b,e.extensions=new v,e.defines=new y,e}return Object(s.a)(n,[{key:"builder",get:function(){return this}},{key:"generateSource",value:function(e){var t=this.extensions.generateSource(e),n=this.attributes.generateSource(e),r=this.varyings.generateSource(),i="vertex"===e?this.vertex:this.fragment,a=i.uniforms.generateSource(),o=i.code.generateSource(),s="vertex"===e?g:m,c=this.defines.generateSource().concat(i.defines.generateSource());return"\n".concat(t.join("\n"),"\n\n").concat(c.join("\n"),"\n\n").concat(s,"\n\n").concat(a.join("\n"),"\n\n").concat(n.join("\n"),"\n\n").concat(r.join("\n"),"\n\n").concat(o.join("\n"))}}]),n}(u),h=function(){function e(){Object(o.a)(this,e),this._entries=new Array,this._set=new Set}return Object(s.a)(e,[{key:"add",value:function(e,t,n){var r="".concat(e,"_").concat(t,"_").concat(n);return this._set.has(r)||(this._entries.push([e,t,n]),this._set.add(r)),this}},{key:"generateSource",value:function(){return this._entries.map((function(e){return"uniform ".concat(e[1]," ").concat(e[0]).concat((t=e[2])?"[".concat(t,"]"):"",";");var t}))}}]),e}(),f=function(){function e(){Object(o.a)(this,e),this._entries=new Array}return Object(s.a)(e,[{key:"add",value:function(e){this._entries.push(e)}},{key:"generateSource",value:function(){return this._entries}}]),e}(),d=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).uniforms=new h,e.code=new f,e.defines=new y,e}return Object(s.a)(n,[{key:"builder",get:function(){return this}}]),n}(u),p=function(){function e(){Object(o.a)(this,e),this._entries=new Array}return Object(s.a)(e,[{key:"add",value:function(e,t){this._entries.push([e,t])}},{key:"generateSource",value:function(e){return"fragment"===e?[]:this._entries.map((function(e){return"attribute ".concat(e[1]," ").concat(e[0],";")}))}}]),e}(),b=function(){function e(){Object(o.a)(this,e),this._entries=new Array}return Object(s.a)(e,[{key:"add",value:function(e,t){this._entries.push([e,t])}},{key:"generateSource",value:function(){return this._entries.map((function(e){return"varying ".concat(e[1]," ").concat(e[0],";")}))}}]),e}(),v=function(){function e(){Object(o.a)(this,e),this._entries=new Set}return Object(s.a)(e,[{key:"add",value:function(e){this._entries.add(e)}},{key:"generateSource",value:function(t){var n="vertex"===t?e.ALLOWLIST_VERTEX:e.ALLOWLIST_FRAGMENT;return Array.from(this._entries).filter((function(e){return n.includes(e)})).map((function(e){return"#extension ".concat(e," : enable")}))}}]),e}();v.ALLOWLIST_FRAGMENT=["GL_EXT_shader_texture_lod","GL_OES_standard_derivatives"],v.ALLOWLIST_VERTEX=[];var y=function(){function e(){Object(o.a)(this,e),this._entries=new Map}return Object(s.a)(e,[{key:"addInt",value:function(e,t){var n=t%1==0?t.toFixed(0):t.toString();this._entries.set(e,n)}},{key:"addFloat",value:function(e,t){var n=t%1==0?t.toFixed(1):t.toString();this._entries.set(e,n)}},{key:"generateSource",value:function(){return Array.from(this._entries,(function(e){var t=Object(r.a)(e,2),n=t[0],i=t[1];return"#define ".concat(n," ").concat(i)}))}}]),e}(),m="#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n  precision highp sampler2D;\n#else\n  precision mediump float;\n  precision mediump sampler2D;\n#endif",g="precision highp float;\nprecision highp sampler2D;"},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r,i,a,o,s=n(30),c=n(31),u=.1,l=.001;function h(e,t){var n=e.fragment;switch(t.alphaDiscardMode){case 0:n.code.add(Object(c.a)(r||(r=Object(s.a)(["\n        #define discardOrAdjustAlpha(color) { if (color.a < ",") { discard; } }\n      "])),c.a.float(.001)));break;case 1:n.code.add(Object(c.a)(i||(i=Object(s.a)(["\n        void discardOrAdjustAlpha(inout vec4 color) {\n          color.a = 1.0;\n        }\n      "]))));break;case 2:n.uniforms.add("textureAlphaCutoff","float"),n.code.add(Object(c.a)(a||(a=Object(s.a)(["\n        #define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } else { color.a = 1.0; } }\n      "]))));break;case 3:e.fragment.uniforms.add("textureAlphaCutoff","float"),e.fragment.code.add(Object(c.a)(o||(o=Object(s.a)(["\n        #define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } }\n      "]))))}}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18)),l=n(1),h=n(50),f=n(45),d=n(34),p=n(8),b=(n(12),n(21),n(22),n(27)),v=n(146),y=n(574),m=new h.a({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),g=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).alias=null,r.defaultValue=void 0,r.description=null,r.domain=null,r.editable=!0,r.length=-1,r.name=null,r.nullable=!0,r.type=null,r.valueType=null,r}return Object(a.a)(n,[{key:"readDescription",value:function(e,t){var n,r=t.description;try{n=JSON.parse(r)}catch(e){}return n?n.value:null}},{key:"readValueType",value:function(e,t){var n,r=t.description;try{n=JSON.parse(r)}catch(e){}return n?m.fromJSON(n.fieldValueType):null}},{key:"clone",value:function(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}}]),n}(b.a);Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],g.prototype,"alias",void 0),Object(c.a)([Object(l.b)({type:[String,Number],json:{write:{allowNull:!0}}})],g.prototype,"defaultValue",void 0),Object(c.a)([Object(l.b)()],g.prototype,"description",void 0),Object(c.a)([Object(d.a)("description")],g.prototype,"readDescription",null),Object(c.a)([Object(l.b)({types:v.d,json:{read:{reader:v.b},write:!0}})],g.prototype,"domain",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0}})],g.prototype,"editable",void 0),Object(c.a)([Object(l.b)({type:u.a,json:{write:!0}})],g.prototype,"length",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],g.prototype,"name",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0}})],g.prototype,"nullable",void 0),Object(c.a)([Object(f.a)(y.a)],g.prototype,"type",void 0),Object(c.a)([Object(l.b)()],g.prototype,"valueType",void 0),Object(c.a)([Object(d.a)("valueType",["description"])],g.prototype,"readValueType",null);var O=g=r=Object(c.a)([Object(p.a)("esri.layers.support.Field")],g);t.a=O},function(e,t,n){"use strict";var r=n(7),i=n.n(r),a=n(38),o=n(16),s=n(13),c=n(2),u=n(3),l=n(5),h=n(6),f=n(0),d=(n(15),n(23)),p=n(14),b=n(18),v=n(1),y=n(62),m=n(34),g=n(8),O=n(35),j=(n(12),n(21),n(22),n(17)),w=n(27),_=n(39),x=n(49),k=n(159),S=n(251),E=n(394),T=n(252),M=n(228),C=n(482),A=n(267),P=n(225);var I,D={base:null,key:"type",typeMap:{attachment:S.a,media:A.a,text:P.a,field:M.a}},L=n(449),R=I=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).returnTopmostRaster=null,r.showNoDataRecords=null,r}return Object(u.a)(n,[{key:"clone",value:function(){return new I({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}}]),n}(w.a);Object(f.a)([Object(v.b)({type:Boolean,json:{write:!0}})],R.prototype,"returnTopmostRaster",void 0),Object(f.a)([Object(v.b)({type:Boolean,json:{write:!0}})],R.prototype,"showNoDataRecords",void 0);var N,F=R=I=Object(f.a)([Object(g.a)("esri.popup.LayerOptions")],R),z=n(488),V=N=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).showRelatedRecords=null,r.orderByFields=null,r}return Object(u.a)(n,[{key:"clone",value:function(){return new N({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?Object(d.a)(this.orderByFields):null})}}]),n}(w.a);Object(f.a)([Object(v.b)({type:Boolean,json:{write:!0}})],V.prototype,"showRelatedRecords",void 0),Object(f.a)([Object(v.b)({type:[z.a],json:{write:!0}})],V.prototype,"orderByFields",void 0);var U,B=V=N=Object(f.a)([Object(g.a)("esri.popup.RelatedRecordsInfo")],V),G=n(209),q=n(271),H=n(368),W=_.a.ofType({key:"type",defaultKeyValue:"button",base:G.a,typeMap:{button:q.a,toggle:H.a}}),Y={base:k.a,key:"type",typeMap:{media:A.a,custom:E.a,text:P.a,attachments:S.a,fields:M.a}},J=p.a.getLogger("esri.PopupTemplate"),K=["attachments","fields","media","text"],X=U=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).actions=null,e.content="",e.expressionInfos=null,e.fieldInfos=null,e.layerOptions=null,e.lastEditInfoEnabled=!0,e.outFields=null,e.overwriteActions=!1,e.returnGeometry=!1,e.title="",e.relatedRecordsInfo=null,e}return Object(u.a)(n,[{key:"castContent",value:function(e){return Array.isArray(e)?e.map((function(e){return Object(b.k)(Y,e)})):"string"==typeof e||"function"==typeof e||e instanceof HTMLElement||Object(j.n)(e)?e:(J.error("content error","unsupported content value",{value:e}),null)}},{key:"readContent",value:function(e,t){var n=t.popupElements;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(t):this._readPopupInfo(t)}},{key:"writeContent",value:function(e,t){var n=this;"string"!=typeof e?Array.isArray(e)&&(t.popupElements=e.filter((function(e){return-1!==K.indexOf(e.type)})).map((function(e){return e&&e.toJSON()})),t.popupElements.forEach((function(e){"attachments"===e.type?n._writeAttachmentContent(t):"media"===e.type?n._writeMediaContent(e,t):"text"===e.type&&n._writeTextContent(e,t)}))):t.description=e}},{key:"writeFieldInfos",value:function(e,t){var n=this.content,r=Array.isArray(n)?n:null;if(e){var i=!!r&&r.some((function(e){return"fields"===e.type&&(!e.fieldInfos||0===e.fieldInfos.length)}));t.fieldInfos=e.filter(Boolean).map((function(e){var t=e.toJSON();return i||(t.visible=!1),t}))}if(r){var a,o=Object(s.a)(r);try{for(o.s();!(a=o.n()).done;){var c=a.value;"fields"===c.type&&this._writeFieldsContent(c,t)}}catch(u){o.e(u)}finally{o.f()}}}},{key:"writeLayerOptions",value:function(e,t){t.layerOptions=!e||null===e.showNoDataRecords&&null===e.returnTopmostRaster?null:e.toJSON()}},{key:"writeTitle",value:function(e,t){t.title=e||""}},{key:"clone",value:function(){var e=this.actions,t=e?Object(d.a)(e.toArray()):[];return new U({actions:t,content:Array.isArray(this.content)?Object(d.a)(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?Object(d.a)(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?Object(d.a)(this.fieldInfos):null,layerOptions:this.layerOptions?Object(d.a)(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?Object(d.a)(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?Object(d.a)(this.relatedRecordsInfo):null})}},{key:"collectRequiredFields",value:function(){var e=Object(o.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._collectExpressionInfoFields(t,n,this.expressionInfos);case 2:Object(x.g)(t,n,[].concat(Object(a.a)(this.outFields||[]),Object(a.a)(this._getActionsFields(this.actions)),Object(a.a)(this._getTitleFields(this.title)),Object(a.a)(this._getContentFields(this.content))));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getRequiredFields",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Set,e.next=3,this.collectRequiredFields(n,t);case 3:return e.abrupt("return",Object(a.a)(n).sort());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_writeFieldsContent",value:function(e,t){if(Array.isArray(e.fieldInfos)&&e.fieldInfos.length){var n=Object(d.a)(e.fieldInfos);Array.isArray(t.fieldInfos)?n.forEach((function(e){var n=t.fieldInfos.find((function(t){return t.fieldName.toLowerCase()===e.fieldName.toLowerCase()}));n?n.visible=!0:t.fieldInfos.push(e)})):t.fieldInfos=n}}},{key:"_writeAttachmentContent",value:function(e){e.showAttachments||(e.showAttachments=!0)}},{key:"_writeTextContent",value:function(e,t){!t.description&&e.text&&(t.description=e.text)}},{key:"_writeMediaContent",value:function(e,t){if(Array.isArray(e.mediaInfos)&&e.mediaInfos.length){var n=Object(d.a)(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[].concat(Object(a.a)(t.mediaInfos),Object(a.a)(n)):t.mediaInfos=n}}},{key:"_readPopupInfoElements",value:function(e){var t=e.description,n=e.mediaInfos,r=e.popupElements,i={description:!1,mediaInfos:!1};return r.map((function(e){return"media"===e.type?(e.mediaInfos||!n||i.mediaInfos||(e.mediaInfos=n,i.mediaInfos=!0),A.a.fromJSON(e)):"text"===e.type?(e.text||!t||i.description||(e.text=t,i.description=!0),P.a.fromJSON(e)):"attachments"===e.type?S.a.fromJSON(e):"fields"===e.type?M.a.fromJSON(e):void 0})).filter(Boolean)}},{key:"_readPopupInfo",value:function(e){var t=e.description,n=e.mediaInfos,r=e.showAttachments,i=[];return t?i.push(new P.a({text:t})):i.push(new M.a),Array.isArray(n)&&n.length&&i.push(A.a.fromJSON({mediaInfos:n})),r&&i.push(S.a.fromJSON({displayType:"list"})),i.length?i:t}},{key:"_getContentElementFields",value:function(e){var t=this;return e&&"attachments"!==e.type?"custom"===e.type?e.outFields||[]:"fields"===e.type?this._getFieldInfoFields(e.fieldInfos||this.fieldInfos):"media"===e.type?(e.mediaInfos||[]).reduce((function(e,n){return[].concat(Object(a.a)(e),Object(a.a)(t._getMediaInfoFields(n)))}),[]):"text"===e.type?this._extractFieldNames(e.text):void 0:[]}},{key:"_getMediaInfoFields",value:function(e){var t=e.caption,n=e.title,r=e.value||{},i=r.fields,o=void 0===i?[]:i,s=r.normalizeField,c=r.tooltipField,u=r.sourceURL,l=r.linkURL,h=[].concat(Object(a.a)(this._extractFieldNames(n)),Object(a.a)(this._extractFieldNames(t)),Object(a.a)(this._extractFieldNames(u)),Object(a.a)(this._extractFieldNames(l)),Object(a.a)(o));return s&&h.push(s),c&&h.push(c),h}},{key:"_getContentFields",value:function(e){var t=this;return"string"==typeof e?this._extractFieldNames(e):Array.isArray(e)?e.reduce((function(e,n){return[].concat(Object(a.a)(e),Object(a.a)(t._getContentElementFields(n)))}),[]):[]}},{key:"_collectExpressionInfoFields",value:function(){var e=Object(o.a)(i.a.mark((function e(t,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r,!e.t0){e.next=4;break}return e.next=4,Object(j.b)(r.map((function(e){return Object(x.c)(t,n,e.expression)})));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_getFieldInfoFields",value:function(e){return e?e.filter((function(e){return void 0===e.visible||!!e.visible})).map((function(e){return e.fieldName})).filter((function(e){return-1===e.indexOf("relationships/")&&-1===e.indexOf("expression/")})):[]}},{key:"_getActionsFields",value:function(e){var t=this;return e?e.toArray().reduce((function(e,n){return[].concat(Object(a.a)(e),Object(a.a)(t._getActionFields(n)))}),[]):[]}},{key:"_getActionFields",value:function(e){var t=e.className,n=e.title,r=e.type,i="button"===r||"toggle"===r?e.image:"";return[].concat(Object(a.a)(this._extractFieldNames(n)),Object(a.a)(this._extractFieldNames(t)),Object(a.a)(this._extractFieldNames(i)))}},{key:"_getTitleFields",value:function(e){return"string"==typeof e?this._extractFieldNames(e):[]}},{key:"_extractFieldNames",value:function(e){if(!e||"string"!=typeof e)return[];var t=e.match(/{[^}]*}/g);if(!t)return[];var n=/\{(\w+):.+\}/,r=t.filter((function(e){return!(0===e.indexOf("{relationships/")||0===e.indexOf("{expression/"))})).map((function(e){return e.replace(n,"{$1}")}));return r?r.map((function(e){return e.slice(1,-1)})):[]}}]),n}(w.a);Object(f.a)([Object(v.b)({type:W})],X.prototype,"actions",void 0),Object(f.a)([Object(v.b)()],X.prototype,"content",void 0),Object(f.a)([Object(y.a)("content")],X.prototype,"castContent",null),Object(f.a)([Object(m.a)("content",["description","popupElements","mediaInfos","showAttachments"])],X.prototype,"readContent",null),Object(f.a)([Object(O.a)("content",{popupElements:{type:_.a.ofType(D)},showAttachments:{type:Boolean},mediaInfos:{type:_.a.ofType(C.a)},description:{type:String}})],X.prototype,"writeContent",null),Object(f.a)([Object(v.b)({type:[L.a],json:{write:!0}})],X.prototype,"expressionInfos",void 0),Object(f.a)([Object(v.b)({type:[T.a]})],X.prototype,"fieldInfos",void 0),Object(f.a)([Object(O.a)("fieldInfos")],X.prototype,"writeFieldInfos",null),Object(f.a)([Object(v.b)({type:F})],X.prototype,"layerOptions",void 0),Object(f.a)([Object(O.a)("layerOptions")],X.prototype,"writeLayerOptions",null),Object(f.a)([Object(v.b)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],X.prototype,"lastEditInfoEnabled",void 0),Object(f.a)([Object(v.b)()],X.prototype,"outFields",void 0),Object(f.a)([Object(v.b)()],X.prototype,"overwriteActions",void 0),Object(f.a)([Object(v.b)()],X.prototype,"returnGeometry",void 0),Object(f.a)([Object(v.b)({json:{type:String}})],X.prototype,"title",void 0),Object(f.a)([Object(O.a)("title")],X.prototype,"writeTitle",null),Object(f.a)([Object(v.b)({type:B,json:{write:!0}})],X.prototype,"relatedRecordsInfo",void 0);var Q=X=U=Object(f.a)([Object(g.a)("esri.PopupTemplate")],X);t.a=Q},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,i=n(30),a=n(31);function o(e){e.fragment.uniforms.add("depthTex","sampler2D"),e.fragment.uniforms.add("highlightViewportPixelSz","vec4"),e.fragment.code.add(Object(a.a)(r||(r=Object(i.a)(["\n    void outputHighlight() {\n      vec4 fragCoord = gl_FragCoord;\n\n      float sceneDepth = texture2D(depthTex, (fragCoord.xy - highlightViewportPixelSz.xy) * highlightViewportPixelSz.zw).r;\n      if (fragCoord.z > sceneDepth + 5e-7) {\n        gl_FragColor = vec4(1.0, 1.0, 0.0, 1.0);\n      }\n      else {\n        gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);\n      }\n    }\n  "]))))}(o||(o={})).bindOutputHighlight=function(e,t,n){e.bindTexture(n.highlightDepthTexture,5),t.setUniform1i("depthTex",5),t.setUniform4f("highlightViewportPixelSz",0,0,n.inverseViewport[0],n.inverseViewport[1])}},function(e,t,n){"use strict";var r=n(13),i=n(2),a=n(3),o=(n(15),n(4)),s=["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"],c=n(290),u=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function l(e){return t=e,n=function(){var e,t,n,r=0,i=0,a=999,o=[],s=[],l=1,h=0,f=0,d=!1,p=!1,b="";return function(c){return s=[],null!==c?function(c){var u;for(r=0,n=(b+=c).length;e=b[r],r<n;){switch(u=r,a){case 0:r="/"===e&&"*"===t?(o.push(e),v(o.join("")),a=999,r+1):(o.push(e),t=e,r+1);break;case 1:case 2:r=y();break;case 3:r=m();break;case 4:r="."===e||/[eE]/.test(e)?(o.push(e),a=5,t=e,r+1):"x"===e&&1===o.length&&"0"===o[0]?(a=11,o.push(e),t=e,r+1):/[^\d]/.test(e)?(v(o.join("")),a=999,r):(o.push(e),t=e,r+1);break;case 11:r=/[^a-fA-F0-9]/.test(e)?(v(o.join("")),a=999,r):(o.push(e),t=e,r+1);break;case 5:"f"===e&&(o.push(e),t=e,r+=1),r=/[eE]/.test(e)||"-"===e&&/[eE]/.test(t)?(o.push(e),t=e,r+1):/[^\d]/.test(e)?(v(o.join("")),a=999,r):(o.push(e),t=e,r+1);break;case 9999:r=O();break;case 9:r=/[^\s]/g.test(e)?(v(o.join("")),a=999,r):(o.push(e),t=e,r+1);break;case 999:o=o.length?[]:o,r="/"===t&&"*"===e?(f=i+r-1,a=0,t=e,r+1):"/"===t&&"/"===e?(f=i+r-1,a=1,t=e,r+1):"#"===e?(a=2,f=i+r,r):/\s/.test(e)?(a=9,f=i+r,r):(d=/\d/.test(e),p=/[^\w_]/.test(e),f=i+r,a=d?4:p?3:9999,r)}if(u!==r)switch(b[u]){case"\n":h=0,++l;break;default:++h}}return i+=r,b=b.slice(r),s}(c.replace?c.replace(/\r\n/g,"\n"):c):(o.length&&v(o.join("")),a=10,v("(eof)"),s)};function v(e){e.length&&s.push({type:u[a],data:e,position:f,line:l,column:h})}function y(){return"\r"!==e&&"\n"!==e||"\\"===t?(o.push(e),t=e,r+1):(v(o.join("")),a=999,r)}function m(){if("."===t&&/\d/.test(e))return a=5,r;if("/"===t&&"*"===e)return a=0,r;if("/"===t&&"/"===e)return a=1,r;if("."===e&&o.length){for(;g(o););return a=5,r}if(";"===e||")"===e||"("===e){if(o.length)for(;g(o););return v(e),a=999,r+1}var n=2===o.length&&"="!==e;if(/[\w_\d\s]/.test(e)||n){for(;g(o););return a=999,r}return o.push(e),t=e,r+1}function g(e){for(var t,n,r=0;;){if(t=c.c.indexOf(e.slice(0,e.length+r).join("")),n=c.c[t],-1===t){if(r--+e.length>0)continue;n=e.slice(0,1).join("")}return v(n),f+=n.length,(o=o.slice(n.length)).length}}function O(){if(/[^\d\w_]/.test(e)){var n=o.join("");return a=c.b.indexOf(n)>-1?8:c.a.indexOf(n)>-1?7:6,v(o.join("")),a=999,r}return o.push(e),t=e,r+1}}(),[].concat(n(t)).concat(n(null));var t,n}var h=["GL_OES_standard_derivatives","GL_EXT_frag_depth","GL_EXT_draw_buffers","GL_EXT_shader_texture_lod"];function f(e,t){for(var n=t-1;n>=0;n--){var r=e[n];if("whitespace"!==r.type&&"block-comment"!==r.type){if("keyword"!==r.type)break;if("attribute"===r.data||"in"===r.data)return!0}}return!1}function d(e,t,n,i){i=i||n;var a,o=Object(r.a)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;if("ident"===s.type&&s.data===n)return i in t?t[i]++:t[i]=0,d(e,t,i+"_"+t[i],i)}}catch(c){o.e(c)}finally{o.f()}return n}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"afterVersion";function i(e,t){for(var n=t;n<e.length;n++){var r=e[n];if("operator"===r.type&&";"===r.data)return n}return null}var a={data:"\n",type:"whitespace"},o=function(t){return t<e.length&&/[^\r\n]$/.test(e[t].data)},s=function(e){for(var t=-1,r=0,a=-1,o=0;o<e.length;o++){var s=e[o];if("preprocessor"===s.type&&(s.data.match(/\#(if|ifdef|ifndef)\s+.+/)?++r:s.data.match(/\#endif\s*.*/)&&--r),"afterVersion"!==n&&"afterPrecision"!==n||"preprocessor"===s.type&&/^#version/.test(s.data)&&(a=Math.max(a,o)),"afterPrecision"===n&&"keyword"===s.type&&"precision"===s.data){var c=i(e,o);if(null===c)throw new Error("precision statement not followed by any semicolons!");a=Math.max(a,c)}t<a&&0===r&&(t=o)}return t+1}(e);o(s-1)&&e.splice(s++,0,a);var c,u=Object(r.a)(t);try{for(u.s();!(c=u.n()).done;){var l=c.value;e.splice(s++,0,l)}}catch(h){u.e(h)}finally{u.f()}o(s-1)&&o(s)&&e.splice(s,0,a)}function b(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lowp";p(e,[{type:"keyword",data:"out"},{type:"whitespace",data:" "},{type:"keyword",data:r},{type:"whitespace",data:" "},{type:"keyword",data:n},{type:"whitespace",data:" "},{type:"ident",data:t},{type:"operator",data:";"}],"afterPrecision")}function v(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"lowp";p(e,[{type:"keyword",data:"layout"},{type:"operator",data:"("},{type:"keyword",data:"location"},{type:"whitespace",data:" "},{type:"operator",data:"="},{type:"whitespace",data:" "},{type:"integer",data:r.toString()},{type:"operator",data:")"},{type:"whitespace",data:" "},{type:"keyword",data:"out"},{type:"whitespace",data:" "},{type:"keyword",data:i},{type:"whitespace",data:" "},{type:"keyword",data:n},{type:"whitespace",data:" "},{type:"ident",data:t},{type:"operator",data:";"}],"afterPrecision")}function y(e,t){for(var n,r,i=-1,a=t;a<e.length;a++){var o=e[a];if("operator"===o.type&&("["===o.data&&(n=a),"]"===o.data)){r=a;break}"integer"===o.type&&(i=parseInt(o.data,10))}return n&&r&&e.splice(n,r-n+1),i}var m=function(){function e(t,n,a,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(Object(i.a)(this,e),this._context=null,this._glName=null,this._locations={},this.id=O++,this._initialized=!1,this._vShader=null,this._fShader=null,this._defines={},this._nameToUniformLocation={},this._nameToAttribLocation={},this._nameToUniform1={},this._nameToUniform1v={},this._nameToUniform2={},this._nameToUniform3={},this._nameToUniform4={},this._nameToUniformMatrix3={},this._nameToUniformMatrix4={},t||console.error("RenderingContext isn't initialized!"),0===n.length&&console.error("Shaders source should not be empty!"),t.instanceCounter.increment(3,this),this._context=t,this._vertexShaderSource=n,this._fragmentShaderSource=a,Array.isArray(s)){var c,u=Object(r.a)(s);try{for(u.s();!(c=u.n()).done;){var l=c.value;this._defines[l]="1"}}catch(h){u.e(h)}finally{u.f()}}else this._defines=s;this._locations=o}return Object(a.a)(e,[{key:"glName",get:function(){return this._glName}},{key:"locations",get:function(){return this._locations}},{key:"getDefine",value:function(e){return this._defines[e]}},{key:"dispose",value:function(){if(this._context){var e=this._context.gl;if(this._vShader){var t=this._vShader;e.deleteShader(t),this._vShader=null}if(this._fShader){var n=this._fShader;e.deleteShader(n),this._fShader=null}this._glName&&(e.deleteProgram(this._glName),this._glName=null),this._context.instanceCounter.decrement(3,this),this._context=null}}},{key:"initialize",value:function(){if(!this._initialized){this._vShader=this._loadShader(35633),this._fShader=this._loadShader(35632),this._vShader&&this._fShader||console.error("Error loading shaders!");var e=this._context.gl,t=e.createProgram();for(var n in e.attachShader(t,this._vShader),e.attachShader(t,this._fShader),this._locations){var r=this._locations[n];e.bindAttribLocation(t,r,n)}e.linkProgram(t),this._glName=t,this._initialized=!0}}},{key:"getUniformLocation",value:function(e){return this.initialize(),void 0===this._nameToUniformLocation[e]&&(this._nameToUniformLocation[e]=this._context.gl.getUniformLocation(this._glName,e)),this._nameToUniformLocation[e]}},{key:"hasUniform",value:function(e){return null!==this.getUniformLocation(e)}},{key:"getAttribLocation",value:function(e){return this.initialize(),void 0===this._nameToAttribLocation[e]&&(this._nameToAttribLocation[e]=this._context.gl.getAttribLocation(this._glName,e)),this._nameToAttribLocation[e]}},{key:"setUniform1i",value:function(e,t){var n=this._nameToUniform1[e];void 0!==n&&t===n||(this._context.bindProgram(this),this._context.gl.uniform1i(this.getUniformLocation(e),t),this._nameToUniform1[e]=t)}},{key:"setUniform1iv",value:function(t,n){var r=this._nameToUniform1v[t];g(r,n)&&(this._context.bindProgram(this),this._context.gl.uniform1iv(this.getUniformLocation(t),n),void 0===r?this._nameToUniform1v[t]=e._arrayCopy(n):e._arrayAssign(n,r))}},{key:"setUniform2iv",value:function(t,n){var r=this._nameToUniform2[t];g(r,n)&&(this._context.bindProgram(this),this._context.gl.uniform2iv(this.getUniformLocation(t),n),void 0===r?this._nameToUniform2[t]=e._arrayCopy(n):e._arrayAssign(n,r))}},{key:"setUniform3iv",value:function(t,n){var r=this._nameToUniform3[t];g(r,n)&&(this._context.bindProgram(this),this._context.gl.uniform3iv(this.getUniformLocation(t),n),void 0===r?this._nameToUniform3[t]=e._arrayCopy(n):e._arrayAssign(n,r))}},{key:"setUniform4iv",value:function(t,n){var r=this._nameToUniform4[t];g(r,n)&&(this._context.bindProgram(this),this._context.gl.uniform4iv(this.getUniformLocation(t),n),void 0===r?this._nameToUniform4[t]=e._arrayCopy(n):e._arrayAssign(n,r))}},{key:"setUniform1f",value:function(e,t){var n=this._nameToUniform1[e];void 0!==n&&t===n||(this._context.bindProgram(this),this._context.gl.uniform1f(this.getUniformLocation(e),t),this._nameToUniform1[e]=t)}},{key:"setUniform1fv",value:function(t,n){var r=this._nameToUniform1v[t];g(r,n)&&(this._context.bindProgram(this),this._context.gl.uniform1fv(this.getUniformLocation(t),n),void 0===r?this._nameToUniform1v[t]=e._arrayCopy(n):e._arrayAssign(n,r))}},{key:"setUniform2f",value:function(e,t,n){var r=this._nameToUniform2[e];void 0!==r&&t===r[0]&&n===r[1]||(this._context.bindProgram(this),this._context.gl.uniform2f(this.getUniformLocation(e),t,n),void 0===r?this._nameToUniform2[e]=[t,n]:(r[0]=t,r[1]=n))}},{key:"setUniform2fv",value:function(t,n){var r=this._nameToUniform2[t];g(r,n)&&(this._context.bindProgram(this),this._context.gl.uniform2fv(this.getUniformLocation(t),n),void 0===r?this._nameToUniform2[t]=e._arrayCopy(n):e._arrayAssign(n,r))}},{key:"setUniform3f",value:function(e,t,n,r){var i=this._nameToUniform3[e];void 0!==i&&t===i[0]&&n===i[1]&&r===i[2]||(this._context.bindProgram(this),this._context.gl.uniform3f(this.getUniformLocation(e),t,n,r),void 0===i?this._nameToUniform3[e]=[t,n,r]:(i[0]=t,i[1]=n,i[2]=r))}},{key:"setUniform3fv",value:function(t,n){var r=this._nameToUniform3[t];g(r,n)&&(this._context.bindProgram(this),this._context.gl.uniform3fv(this.getUniformLocation(t),n),void 0===r?this._nameToUniform3[t]=e._arrayCopy(n):e._arrayAssign(n,r))}},{key:"setUniform4f",value:function(e,t,n,r,i){var a=this._nameToUniform4[e];void 0!==a&&t===a[0]&&n===a[1]&&r===a[2]&&i===a[3]||(this._context.bindProgram(this),this._context.gl.uniform4f(this.getUniformLocation(e),t,n,r,i),void 0===a?this._nameToUniform4[e]=[t,n,r,i]:(a[0]=t,a[1]=n,a[2]=r,a[3]=i))}},{key:"setUniform4fv",value:function(t,n){var r=this._nameToUniform4[t];g(r,n)&&(this._context.bindProgram(this),this._context.gl.uniform4fv(this.getUniformLocation(t),n),void 0===r?this._nameToUniform4[t]=e._arrayCopy(n):e._arrayAssign(n,r))}},{key:"setUniformMatrix3fv",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this._nameToUniformMatrix3[t];(function(e,t){return!!Object(o.g)(e)||(9!==e.length?g(e,t):9!==e.length||e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]||e[6]!==t[6]||e[7]!==t[7]||e[8]!==t[8])})(i,n)&&(this._context.bindProgram(this),this._context.gl.uniformMatrix3fv(this.getUniformLocation(t),r,n),void 0===i?this._nameToUniformMatrix3[t]=e._arrayCopy(n):e._arrayAssign(n,i))}},{key:"setUniformMatrix4fv",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this._nameToUniformMatrix4[t];(function(e,t){return!!Object(o.g)(e)||(16!==e.length?g(e,t):16!==e.length||e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]||e[6]!==t[6]||e[7]!==t[7]||e[8]!==t[8]||e[9]!==t[9]||e[10]!==t[10]||e[11]!==t[11]||e[12]!==t[12]||e[13]!==t[13]||e[14]!==t[14]||e[15]!==t[15])})(i,n)&&(this._context.bindProgram(this),this._context.gl.uniformMatrix4fv(this.getUniformLocation(t),r,n),void 0===i?this._nameToUniformMatrix4[t]=e._arrayCopy(n):e._arrayAssign(n,i))}},{key:"assertCompatibleVertexAttributeLocations",value:function(e){var t=e.locations===this.locations;return t||console.error("VertexAttributeLocations are incompatible"),t}},{key:"_addLineNumbers",value:function(t){var n=2;return t.replace(/\n/g,(function(){return"\n"+e._padToThree(n++)+":"}))}},{key:"_loadShader",value:function(e){var t=35633===e,n=t?this._vertexShaderSource:this._fragmentShaderSource,i="";for(var a in this._defines)i+="#define ".concat(a," ").concat(this._defines[a],"\n");n=i+n,"webgl2"===this._context.contextVersion&&(n=function(e,t){var n=l(e);if("300 es"===function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"300 es",a=/^\s*\#version\s+([0-9]+(\s+[a-zA-Z]+)?)\s*/,o=Object(r.a)(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;if("preprocessor"===s.type){var c=a.exec(s.data);if(c){var u=c[1].replace(/\s\s+/g," ");if(u===i)return u;if(u===n)return s.data="#version "+i,n;throw new Error("unknown glsl version: "+u)}}}}catch(l){o.e(l)}finally{o.f()}return e.splice(0,0,{type:"preprocessor",data:"#version "+i},{type:"whitespace",data:"\n"}),null}(n,"100","300 es"))throw new Error("shader is already glsl 300 es");for(var i=null,a=null,o={},c={},u=0;u<n.length;++u){var p=n[u];switch(p.type){case"keyword":"vertex"===t&&"attribute"===p.data?p.data="in":"varying"===p.data&&(p.data="vertex"===t?"out":"in");break;case"builtin":if(/^texture(2D|Cube)(Proj)?(Lod|Grad)?(EXT)?$/.test(p.data.trim())&&(p.data=p.data.replace(/(2D|Cube|EXT)/g,"")),"fragment"===t&&"gl_FragColor"===p.data&&(i||b(n,i=d(n,o,"fragColor"),"vec4"),p.data=i),"fragment"===t&&"gl_FragData"===p.data){var m=y(n,u+1),g=d(n,o,"fragData");v(n,g,"vec4",m,"mediump"),p.data=g}else"fragment"===t&&"gl_FragDepthEXT"===p.data&&(a||(a=d(n,o,"gl_FragDepth")),p.data=a);break;case"ident":if(s.indexOf(p.data)>=0){if("vertex"===t&&f(n,u))throw new Error("attribute in vertex shader uses a name that is a reserved word in glsl 300 es");p.data in c||(c[p.data]=d(n,o,p.data)),p.data=c[p.data]}}}for(var O=n.length-1;O>=0;--O){var j=n[O];if("preprocessor"===j.type){var w=j.data.match(/\#extension\s+(.*)\:/);if(w&&w[1]&&h.indexOf(w[1].trim())>=0){var _=n[O+1];n.splice(O,_&&"whitespace"===_.type?2:1)}var x=j.data.match(/\#ifdef\s+(.*)/);x&&x[1]&&h.indexOf(x[1].trim())>=0&&(j.data="#if 1");var k=j.data.match(/\#ifndef\s+(.*)/);k&&k[1]&&h.indexOf(k[1].trim())>=0&&(j.data="#if 0")}}return n.map((function(e){return"eof"!==e.type?e.data:""})).join("")}(n,t?"vertex":"fragment"));var o=this._context.gl,c=o.createShader(e);return o.shaderSource(c,n),o.compileShader(c),c}}],[{key:"_padToThree",value:function(e){var t=e.toString();return e<1e3&&(t=("  "+e).slice(-3)),t}},{key:"_arrayCopy",value:function(e){for(var t=[],n=0;n<e.length;++n)t.push(e[n]);return t}},{key:"_arrayAssign",value:function(e,t){for(var n=0;n<e.length;++n)t[n]=e[n]}}]),e}();function g(e,t){if(Object(o.g)(e)||e.length!==t.length)return!0;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!0;return!1}var O=0;t.a=m},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(7),i=n.n(r),a=n(16),o=n(2),s=n(3),c=function(){function e(t,n){Object(o.a)(this,e),this._module=t,this._loadModule=n}return Object(s.a)(e,[{key:"get",value:function(){return this._module}},{key:"reload",value:function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadModule();case 2:return this._module=e.sent,e.abrupt("return",this._module);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),i=n(3),a=function(){function e(t,n){Object(r.a)(this,e),n&&(this._config=n.snapshot()),this._program=this.initializeProgram(t),t.commonUniformStore&&(this._commonUniformStore=t.commonUniformStore,this._commonUniformStore.subscribeProgram(this._program)),this._pipeline=this.initializePipeline(t)}return Object(i.a)(e,[{key:"dispose",value:function(){this._program&&(this._commonUniformStore&&this._commonUniformStore.unsubscribeProgram(this._program),this._program.dispose(),this._program=null)}},{key:"reload",value:function(e){this._program&&(this._commonUniformStore&&this._commonUniformStore.unsubscribeProgram(this._program),this._program.dispose()),this._program=this.initializeProgram(e),this._commonUniformStore&&this._commonUniformStore.subscribeProgram(this._program)}},{key:"program",get:function(){return this._program}},{key:"pipeline",get:function(){return this._pipeline}},{key:"key",get:function(){return this._config.key}},{key:"configuration",get:function(){return this._config}},{key:"bindPass",value:function(e,t,n){}},{key:"bindMaterial",value:function(e,t,n){}},{key:"bindDraw",value:function(e,t,n){}},{key:"bindPipelineState",value:function(e){e.setPipelineState(this.pipeline)}},{key:"ensureAttributeLocations",value:function(e){this.program.assertCompatibleVertexAttributeLocations(e)}},{key:"primitiveType",get:function(){return 4}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={position:0,normal:1,uv0:2,color:3,size:4,tangent:4,uvMapSpace:4,auxpos1:5,symbolColor:5,auxpos2:6,featureAttribute:6,instanceFeatureAttribute:6,instanceColor:7,bound1:5,bound2:6,bound3:7,model:8,modelNormal:12,modelOriginHi:11,modelOriginLo:15}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return a}));var i=n(40);function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?Object(i.a)(e):t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b}));var r=n(40),i=n(5),a=n(6),o=n(38),s=n(2),c=n(3),u=n(0),l=n(4),h=n(8),f=n(17),d=n(37),p=function(){function e(t){var n=this;Object(s.a)(this,e),this.instance=t,this._resolver=Object(f.f)(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then((function(){n._status=1,n._cleanUp()}),(function(){n._status=2,n._cleanUp()}))}return Object(c.a)(e,[{key:"addResolvingPromise",value:function(e){this._resolvingPromises.push(e),this._tryResolve()}},{key:"isResolved",value:function(){return 1===this._status}},{key:"isRejected",value:function(){return 2===this._status}},{key:"isFulfilled",value:function(){return 0!==this._status}},{key:"abort",value:function(){this._resolver.reject(Object(f.e)())}},{key:"when",value:function(e,t){return this._resolver.promise.then(e,t)}},{key:"_cleanUp",value:function(){this._allPromise=this._resolvingPromises=this._allPromise=null}},{key:"_tryResolve",value:function(){var e=this;if(!this.isFulfilled()){var t=Object(f.f)(),n=[].concat(Object(o.a)(this._resolvingPromises),[Object(l.c)(t.promise)]),r=this._allPromise=Object(f.b)(n);r.then((function(){e.isFulfilled()||e._allPromise!==r||e._resolver.resolve(e.instance)}),(function(t){e.isFulfilled()||e._allPromise!==r||Object(f.l)(t)||e._resolver.reject(t)})),t.resolve()}}}]),e}(),b=function(e){var t=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;Object(s.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a)))._promiseProps=new p(Object(r.a)(e)),e.addResolvingPromise(Object(f.s)()),e}return Object(c.a)(n,[{key:"isResolved",value:function(){return this._promiseProps.isResolved()}},{key:"isRejected",value:function(){return this._promiseProps.isRejected()}},{key:"isFulfilled",value:function(){return this._promiseProps.isFulfilled()}},{key:"when",value:function(e,t){var n=this;return Object(f.c)((function(e,t){n._promiseProps.when(e,t)})).then(e,t)}},{key:"catch",value:function(e){return this.when(null,e)}},{key:"addResolvingPromise",value:function(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}}]),n}(e);return t=Object(u.a)([Object(h.a)("esri.core.Promise")],t)},v=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return n}(b(d.a));v=Object(u.a)([Object(h.a)("esri.core.Promise")],v)},function(e,t,n){"use strict";var r=n(2),i=n(5),a=n(6),o=n(0),s=(n(15),n(14),n(18),n(1)),c=n(50),u=n(45),l=n(8),h=(n(12),n(21),n(22),n(27)),f=new c.a({inherited:"inherited",codedValue:"coded-value",range:"range"}),d=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).name=null,i.type=null,i}return n}(h.a);Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],d.prototype,"name",void 0),Object(o.a)([Object(u.a)(f)],d.prototype,"type",void 0);var p=d=Object(o.a)([Object(l.a)("esri.layers.support.Domain")],d);t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));var r,i=n(7),a=n.n(i),o=n(16),s=n(13),c=n(2),u=n(3),l=n(5),h=n(6),f=n(0),d=(n(15),n(14)),p=n(18),b=n(1),v=n(34),y=n(8),m=n(35),g=(n(12),n(21),n(22),n(49)),O=n(253),j=n(61),w=n(57),_=n(27),x=n(43),k=r=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).color=null,r.label=null,r.value=null,r}return Object(u.a)(n,[{key:"writeValue",value:function(e,t,n){t[n]=null==e?0:e}},{key:"clone",value:function(){return new r({color:this.color&&this.color.clone(),label:this.label,value:this.value})}}]),n}(_.a);Object(f.a)([Object(b.b)({type:x.a,json:{type:[p.a],write:!0}})],k.prototype,"color",void 0),Object(f.a)([Object(b.b)({type:String,json:{write:!0}})],k.prototype,"label",void 0),Object(f.a)([Object(b.b)({type:Number,json:{write:{allowNull:!0}}})],k.prototype,"value",void 0),Object(f.a)([Object(m.a)("value")],k.prototype,"writeValue",null);var S,E=k=r=Object(f.a)([Object(y.a)("esri.renderers.visualVariables.support.ColorStop")],k),T=S=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).type="color",r.normalizationField=null,r}return Object(u.a)(n,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(e){e&&Array.isArray(e)&&(e=e.filter((function(e){return!!e}))).sort((function(e,t){return e.value-t.value})),this._set("stops",e)}},{key:"clone",value:function(){return new S({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((function(e){return e.clone()})),legendOptions:this.legendOptions&&this.legendOptions.clone()})}},{key:"getAttributeHash",value:function(){return"".concat(Object(j.a)(Object(w.a)(n.prototype),"getAttributeHash",this).call(this),"-").concat(this.normalizationField)}},{key:"_interpolateData",value:function(){return this.stops&&this.stops.map((function(e){return e.value||0}))}}]),n}(O.a);Object(f.a)([Object(b.b)({readOnly:!0,dependsOn:["valueExpression","stops"]})],T.prototype,"cache",null),Object(f.a)([Object(b.b)({type:["color"],json:{type:["colorInfo"]}})],T.prototype,"type",void 0),Object(f.a)([Object(b.b)({type:String,json:{write:!0}})],T.prototype,"normalizationField",void 0),Object(f.a)([Object(b.b)({type:[E],json:{write:!0}})],T.prototype,"stops",null);var M,C=T=S=Object(f.a)([Object(y.a)("esri.renderers.visualVariables.ColorVariable")],T),A=n(214),P=M=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).label=null,r.opacity=null,r.value=null,r}return Object(u.a)(n,[{key:"readOpacity",value:function(e,t){return Object(A.b)(t.transparency)}},{key:"writeOpacity",value:function(e,t,n){t[n]=Object(A.a)(e)}},{key:"clone",value:function(){return new M({label:this.label,opacity:this.opacity,value:this.value})}}]),n}(_.a);Object(f.a)([Object(b.b)({type:String,json:{write:!0}})],P.prototype,"label",void 0),Object(f.a)([Object(b.b)({type:Number,json:{type:p.a,write:{target:"transparency"}}})],P.prototype,"opacity",void 0),Object(f.a)([Object(v.a)("opacity",["transparency"])],P.prototype,"readOpacity",null),Object(f.a)([Object(m.a)("opacity")],P.prototype,"writeOpacity",null),Object(f.a)([Object(b.b)({type:Number,json:{write:!0}})],P.prototype,"value",void 0);var I,D=P=M=Object(f.a)([Object(y.a)("esri.renderers.visualVariables.support.OpacityStop")],P),L=I=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).type="opacity",r.normalizationField=null,r}return Object(u.a)(n,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(e){e&&Array.isArray(e)&&(e=e.filter((function(e){return!!e}))).sort((function(e,t){return e.value-t.value})),this._set("stops",e)}},{key:"clone",value:function(){return new I({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((function(e){return e.clone()})),legendOptions:this.legendOptions&&this.legendOptions.clone()})}},{key:"getAttributeHash",value:function(){return"".concat(Object(j.a)(Object(w.a)(n.prototype),"getAttributeHash",this).call(this),"-").concat(this.normalizationField)}},{key:"_interpolateData",value:function(){return this.stops&&this.stops.map((function(e){return e.value||0}))}}]),n}(O.a);Object(f.a)([Object(b.b)({readOnly:!0,dependsOn:["valueExpression","stops"]})],L.prototype,"cache",null),Object(f.a)([Object(b.b)({type:["opacity"],json:{type:["transparencyInfo"]}})],L.prototype,"type",void 0),Object(f.a)([Object(b.b)({type:String,json:{write:!0}})],L.prototype,"normalizationField",void 0),Object(f.a)([Object(b.b)({type:[D],json:{write:!0}})],L.prototype,"stops",null);var R=L=I=Object(f.a)([Object(y.a)("esri.renderers.visualVariables.OpacityVariable")],L),N=n(457),F=n(346),z=n(50),V=n(166),U=n(37),B=d.a.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),G={color:C,size:F.a,opacity:R,rotation:N.a},q=new z.a({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),H=/^\[([^\]]+)\]$/i,W=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).colorVariables=null,e.opacityVariables=null,e.rotationVariables=null,e.sizeVariables=null,e}return Object(u.a)(n,[{key:"visualVariables",set:function(e){if(this._resetVariables(),(e=e&&e.filter((function(e){return!!e})))&&e.length){var t,n=Object(s.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;switch(r.type){case"color":this.colorVariables.push(r);break;case"opacity":this.opacityVariables.push(r);break;case"rotation":this.rotationVariables.push(r);break;case"size":this.sizeVariables.push(r)}}}catch(a){n.e(a)}finally{n.f()}this.sizeVariables.length&&this.sizeVariables.some((function(e){return!!e.target}))&&e.sort((function(e,t){return e.target===t.target?0:e.target?1:-1}));for(var i=0;i<e.length;i++)e[i].index=i;this._set("visualVariables",e)}else this._set("visualVariables",e)}},{key:"readVariables",value:function(e,t,n){var r=t.rotationExpression,i=t.rotationType,a=r&&r.match(H),o=a&&a[1];if(o&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:i,field:o})),e)return e.map((function(e){var t=q.read(e.type),r=G[t];r||(B.warn("Unknown variable type: ".concat(t)),n&&n.messages&&n.messages.push(new V.a("visual-variable:unsupported","visualVariable of type '".concat(t,"' is not supported"),{definition:e,context:n})));var i=new r;return i.read(e,n),i}))}},{key:"writeVariables",value:function(e,t){var n,r=[],i=Object(s.a)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value.toJSON(t);a&&r.push(a)}}catch(o){i.e(o)}finally{i.f()}return r}},{key:"_resetVariables",value:function(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}}]),n}(U.a);Object(f.a)([Object(b.b)()],W.prototype,"visualVariables",null);var Y=W=Object(f.a)([Object(y.a)("esri.renderers.visualVariables.VisualVariableFactory")],W),J={base:O.a,key:"type",typeMap:{opacity:R,color:C,rotation:N.a,size:F.a}},K=function(e){var t=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments))._vvFactory=new Y,e}return Object(u.a)(n,[{key:"visualVariables",set:function(e){this._vvFactory.visualVariables=e,this._set("visualVariables",this._vvFactory.visualVariables)}},{key:"readVisualVariables",value:function(e,t,n){return this._vvFactory.readVariables(e,t,n)}},{key:"writeVisualVariables",value:function(e,t,n,r){t[n]=this._vvFactory.writeVariables(e,r)}},{key:"arcadeRequiredForVisualVariables",get:function(){if(!this.visualVariables)return!1;var e,t=Object(s.a)(this.visualVariables);try{for(t.s();!(e=t.n()).done;){if(e.value.arcadeRequired)return!0}}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"hasVisualVariables",value:function(e,t){return e?!!this.getVisualVariablesForType(e,t):!!(this.getVisualVariablesForType("size",t)||this.getVisualVariablesForType("color",t)||this.getVisualVariablesForType("opacity",t)||this.getVisualVariablesForType("rotation",t))}},{key:"getVisualVariablesForType",value:function(e,t){var n=this.visualVariables;if(n){var r=n.filter((function(n){return n.type===e&&("string"==typeof t?n.target===t:!1!==t||!n.target)}));return r&&0===r.length?void 0:r}}},{key:"collectVVRequiredFields",value:function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,i,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],this.visualVariables&&(r=r.concat(this.visualVariables)),i=Object(s.a)(r),e.prev=3,i.s();case 5:if((o=i.n()).done){e.next=17;break}if(c=o.value,e.t0=c,!e.t0){e.next=15;break}if(c.field&&Object(g.f)(t,n,c.field),c.normalizationField&&Object(g.f)(t,n,c.normalizationField),e.t1=c.valueExpression,!e.t1){e.next=15;break}return e.next=15,Object(g.c)(t,n,c.valueExpression);case 15:e.next=5;break;case 17:e.next=22;break;case 19:e.prev=19,e.t2=e.catch(3),i.e(e.t2);case 22:return e.prev=22,i.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[3,19,22,25]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(e);return Object(f.a)([Object(b.b)({types:[J],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),Object(f.a)([Object(v.a)("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),Object(f.a)([Object(m.a)("visualVariables")],t.prototype,"writeVisualVariables",null),t=Object(f.a)([Object(y.a)("esri.renderers.mixins.VisualVariablesMixin")],t)}},function(e,t,n){"use strict";e.exports=n(741)},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(159)),f=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).displayType=null,r.type="attachments",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({displayType:this.displayType})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:["preview","list"],json:{write:!0}})],f.prototype,"displayType",void 0),Object(c.a)([Object(u.b)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);var d=f=r=Object(c.a)([Object(l.a)("esri.popup.content.AttachmentsContent")],f);t.a=d},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(50),f=n(45),d=n(8),p=(n(12),n(21),n(22),n(27)),b=n(308),v=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fieldName=null,r.format=null,r.isEditable=!1,r.label=null,r.stringFieldOption="text-box",r.statisticType=null,r.tooltip=null,r.visible=!0,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({fieldName:this.fieldName,format:this.format?Object(u.a)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}}]),n}(p.a);Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],v.prototype,"fieldName",void 0),Object(c.a)([Object(l.b)({type:b.a,json:{write:!0}})],v.prototype,"format",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0,default:!1}})],v.prototype,"isEditable",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],v.prototype,"label",void 0),Object(c.a)([Object(f.a)(new h.a({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],v.prototype,"stringFieldOption",void 0),Object(c.a)([Object(l.b)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],v.prototype,"statisticType",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],v.prototype,"tooltip",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0}})],v.prototype,"visible",void 0);var y=v=r=Object(c.a)([Object(d.a)("esri.popup.FieldInfo")],v);t.a=y},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14)),u=n(18),l=n(1),h=n(62),f=n(50),d=n(8),p=(n(12),n(21),n(22),n(27)),b=n(499),v=c.a.getLogger("esri.renderers.visualVariables.VisualVariable"),y=new f.a({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),m=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).index=null,i.type=null,i.field=null,i.valueExpression=null,i.valueExpressionTitle=null,i.legendOptions=null,i}return Object(i.a)(n,[{key:"castField",value:function(e){return null==e?e:"function"==typeof e?(v.error(".field: field must be a string value"),null):Object(u.l)(e)}},{key:"arcadeRequired",get:function(){return!!this.valueExpression}},{key:"clone",value:function(){}},{key:"getAttributeHash",value:function(){return"".concat(this.type,"-").concat(this.field,"-").concat(this.valueExpression)}}]),n}(p.a);Object(s.a)([Object(l.b)()],m.prototype,"index",void 0),Object(s.a)([Object(l.b)({type:y.apiValues,readOnly:!0,json:{read:y.read,write:y.write}})],m.prototype,"type",void 0),Object(s.a)([Object(l.b)({type:String,json:{write:!0}})],m.prototype,"field",void 0),Object(s.a)([Object(h.a)("field")],m.prototype,"castField",null),Object(s.a)([Object(l.b)({type:String,json:{write:!0}})],m.prototype,"valueExpression",void 0),Object(s.a)([Object(l.b)({type:String,json:{write:!0}})],m.prototype,"valueExpressionTitle",void 0),Object(s.a)([Object(l.b)({readOnly:!0,dependsOn:["valueExpression"]})],m.prototype,"arcadeRequired",null),Object(s.a)([Object(l.b)({type:b.a,json:{write:!0}})],m.prototype,"legendOptions",void 0);var g=m=Object(s.a)([Object(d.a)("esri.renderers.visualVariables.VisualVariable")],m);t.a=g},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(4)),l=(n(14),n(18),n(1)),h=n(45),f=n(8),d=(n(12),n(21),n(22),n(43)),p=n(139),b=n(36),v=n(123),y=n(168),m=n(256),g=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).material=null,r.type="line",r.join="miter",r.cap="butt",r.size=Object(b.h)(1),r.stipplePattern=null,r.stippleOffColor=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({enabled:this.enabled,material:Object(u.h)(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})}}],[{key:"fromSimpleLineSymbol",value:function(e){return new r({size:e.width||1,cap:e.cap||"butt",join:e.join||"miter",material:{color:(e.color||m.c).clone()}})}}]),n}(p.a);Object(c.a)([Object(l.b)({type:y.a,json:{write:!0}})],g.prototype,"material",void 0),Object(c.a)([Object(h.a)({Line:"line"},{readOnly:!0})],g.prototype,"type",void 0),Object(c.a)([Object(l.b)({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],g.prototype,"join",void 0),Object(c.a)([Object(l.b)({type:["butt","square","round"],json:{write:!0,default:"butt"}})],g.prototype,"cap",void 0),Object(c.a)([Object(l.b)(v.b)],g.prototype,"size",void 0),Object(c.a)([Object(l.b)(v.c)],g.prototype,"stipplePattern",void 0),Object(c.a)([Object(l.b)({type:d.a})],g.prototype,"stippleOffColor",void 0);var O=g=r=Object(c.a)([Object(f.a)("esri.symbols.LineSymbol3DLayer")],g);t.a=O},function(e,t,n){"use strict";n.r(t);var r,i=n(7),a=n.n(i),o=n(16),s=n(10),c=n(13),u=n(2),l=n(3),h=n(40),f=n(61),d=n(57),p=n(5),b=n(6),v=n(0),y=(n(15),n(23)),m=n(4),g=n(14),O=(n(18),n(1)),j=n(8),w=n(35),_=n(12),x=(n(21),n(22),n(17)),k=n(27),S=n(48),E=n(39),T=n(180),M=n(129),C=n(121),A=n(434),P=n(385),I=n(314),D=n(539),L=0,R=g.a.getLogger("esri.Basemap"),N=r=function(e){Object(p.a)(i,e);var t=Object(b.a)(i);function i(e){var n;Object(u.a)(this,i),(n=t.call(this,e)).id=null,n.portalItem=null,n.spatialReference=null,n.thumbnailUrl=null,n.title="Basemap",n.id=Date.now().toString(16)+"-basemap-"+L++,n.baseLayers=new E.a,n.referenceLayers=new E.a;var r=function(e){e.parent&&e.parent!==Object(h.a)(n)&&"remove"in e.parent&&e.parent.remove(e),e.parent=Object(h.a)(n),"elevation"===e.type&&R.error("Layer '".concat(e.title,", id:").concat(e.id,"' of type '").concat(e.type,"' is not supported as a basemap layer and will therefore be ignored."))},a=function(e){e.parent=null};return n.baseLayers.on("after-add",(function(e){return r(e.item)})),n.referenceLayers.on("after-add",(function(e){return r(e.item)})),n.baseLayers.on("after-remove",(function(e){return a(e.item)})),n.referenceLayers.on("after-remove",(function(e){return a(e.item)})),n}return Object(l.a)(i,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){R.error("#load()","Failed to load basemap (title: '".concat(e.title,"', id: '").concat(e.id,"')"),t)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}},{key:"destroy",value:function(){var e,t,n=this.baseLayers.removeAll(),r=Object(c.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.destroy()}}catch(s){r.e(s)}finally{r.f()}var i,a=this.referenceLayers.removeAll(),o=Object(c.a)(a);try{for(o.s();!(i=o.n()).done;){i.value.destroy()}}catch(s){o.e(s)}finally{o.f()}this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(e=this.portalItem)||e.destroy(),this.portalItem=null}},{key:"normalizeCtorArgs",value:function(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=Object(s.a)({},e)).resourceInfo),e}},{key:"baseLayers",set:function(e){this._set("baseLayers",Object(T.b)(e,this._get("baseLayers")))}},{key:"_writeBaseLayers",value:function(e,t,n){var r=[];e?(n=Object(s.a)(Object(s.a)({},n),{},{layerContainerType:"basemap"}),this.baseLayers.forEach((function(e){var t=Object(D.a)(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n);Object(m.h)(t)&&r.push(t)})),this.referenceLayers.forEach((function(e){var t=Object(D.a)(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n);Object(m.h)(t)&&(t.isReference=!0,r.push(t))})),t.baseMapLayers=r):t.baseMapLayers=r}},{key:"referenceLayers",set:function(e){this._set("referenceLayers",Object(T.b)(e,this._get("referenceLayers")))}},{key:"writeTitle",value:function(e,t){t.title=e||"Basemap"}},{key:"load",value:function(e){return this.addResolvingPromise(this._loadFromSource(e)),Object(x.s)(this)}},{key:"loadAll",value:function(){var e=this;return Object(A.a)(this,(function(t){t(e.baseLayers,e.referenceLayers)}))}},{key:"clone",value:function(){var e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new r({resourceInfo:this.resourceInfo}).set(e)}},{key:"read",value:function(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),Object(f.a)(Object(d.a)(i.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){return e=e||{},t&&t.origin||(t=Object(s.a)({origin:"web-map"},t)),Object(f.a)(Object(d.a)(i.prototype),"write",this).call(this,e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((function(e){var t=Object(y.a)(e);return t.url&&Object(_.v)(t.url)&&(t.url="https:".concat(t.url)),t.templateUrl&&Object(_.v)(t.templateUrl)&&(t.templateUrl="https:".concat(t.templateUrl)),t}))),e}},{key:"_loadFromSource",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,i,o,s,c=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.resourceInfo,r=this.portalItem,Object(x.u)(t),i=[],n?(o=n.context?n.context.url:null,i.push(this._loadLayersFromJSON(n.data,o,t)),n.data.id&&!n.data.title&&(s=n.data.id,i.push(Object(I.b)(s).then((function(e){e&&c.read({title:e},n.context)}))))):r&&i.push(this._loadFromItem(r,t)),e.next=6,Object(x.b)(i);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_loadLayersFromJSON",value:function(){var e=Object(o.a)(a.a.mark((function e(t,r,i){var o,s,c,u,l,h,f,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.resourceInfo&&this.resourceInfo.context,s=this.portalItem&&this.portalItem.portal||o&&o.portal||null,c=o&&"web-scene"===o.origin?"web-scene":"web-map",e.next=5,n.e(16).then(n.bind(null,970));case 5:return u=e.sent,l=u.populateOperationalLayers,h=[],Object(x.u)(i),t.baseMapLayers&&Array.isArray(t.baseMapLayers)&&(f={context:{origin:c,url:r,portal:s,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},d=l(this.baseLayers,t.baseMapLayers.filter((function(e){return!e.isReference})),f),h.push(d),p=l(this.referenceLayers,t.baseMapLayers.filter((function(e){return e.isReference})),f),h.push(p)),e.next=11,Object(x.i)(h);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_loadFromItem",value:function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load(n);case 2:return r=e.sent,e.next=5,r.fetchData("json",n);case 5:return i=e.sent,o=Object(_.I)(t.itemUrl),e.abrupt("return",(this._set("resourceInfo",{data:i.baseMap,context:{origin:"web-map",portal:t.portal||C.a.getDefault(),url:o}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:i.spatialReference},this.resourceInfo.context),this.read({title:t.title,thumbnailUrl:t.thumbnailUrl},{origin:"portal-item",portal:t.portal||C.a.getDefault(),url:o}),this._loadLayersFromJSON(this.resourceInfo.data,o,n)));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"fromId",value:function(e){var t=I.a[e];return t?r.fromJSON(t):null}}]),i}(Object(k.b)(M.a));Object(v.a)([Object(O.b)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer:function(e,t,n,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:E.a}},writer:function(e,t,n,r){this._writeBaseLayers(e,t,r)}}}}}})],N.prototype,"baseLayers",null),Object(v.a)([Object(O.b)({type:String,json:{origins:{"web-scene":{write:!0}}}})],N.prototype,"id",void 0),Object(v.a)([Object(O.b)({type:P.default})],N.prototype,"portalItem",void 0),Object(v.a)([Object(O.b)()],N.prototype,"referenceLayers",null),Object(v.a)([Object(O.b)({readOnly:!0})],N.prototype,"resourceInfo",void 0),Object(v.a)([Object(O.b)({type:S.a})],N.prototype,"spatialReference",void 0),Object(v.a)([Object(O.b)()],N.prototype,"thumbnailUrl",void 0),Object(v.a)([Object(O.b)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],N.prototype,"title",void 0),Object(v.a)([Object(w.a)("title")],N.prototype,"writeTitle",null);var F=N=r=Object(v.a)([Object(j.a)("esri.Basemap")],N);t.default=F},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i}));var r=n(43),i=new r.a("white"),a=(new r.a("black"),new r.a([255,255,255,0]));function o(e){return 0===e.r&&0===e.g&&0===e.b}},function(e,t,n){"use strict";function r(e){return"string"==typeof e?document.getElementById(e):e}function i(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function a(e,t){for(;;){var n=e.firstChild;if(!n)break;t.appendChild(n)}}function o(e){e.parentNode&&e.parentNode.removeChild(e)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));!function(){if("function"==typeof Element.prototype.closest)return function(e,t){return e.closest(t)};var e=Element.prototype.matches||Element.prototype.msMatchesSelector}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l}));var r=n(18);var i=n(223);function a(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function o(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function s(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}var c=n(282);function u(e,t){return h(e,"read",t)}function l(e,t){return h(e,"write",t)}function h(e,t,n){var r=e&&e.json;if(e&&e.json&&e.json.origins&&n){var i=e.json.origins[n.origin];i&&("any"===t||t in i)&&(r=i)}return r}var f={processPrototypePropertyMetadata:function(e,t){var n;(function(e){if(e.json||(e.json={}),o(e.json),s(e.json),a(e.json),e.json.origins)for(var t in e.json.origins)o(e.json.origins[t]),s(e.json.origins[t]),a(e.json.origins[t]);return!0})(t)&&((n=t).json&&n.json.origins&&function(){var e=n.json.origins,t={"web-document":["web-scene","web-map"]};for(var r in t)e[r]&&function(){var n=e[r];t[r].forEach((function(t){e[t]=n})),delete e[r]}()}(),function(e){var t=function(e){return e.type?function(e){if(e.type){for(var t=0,n=e.type;Array.isArray(n)&&!Object(r.o)(n);)n=n[0],t++;return{type:n,ndimArray:t}}}(e):function(e){if(e.types){for(var t=0,n=e.types;Array.isArray(n);)n=n[0],t++;return{types:n,ndimArray:t}}}(e)}(e);if(e.json.origins)for(var n in e.json.origins){var a=e.json.origins[n];Object(i.a)(t,a,!1),Object(c.a)(t,a)}Object(i.a)(t,e.json,!0),Object(c.a)(t,e.json)}(t))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(25);function i(e,t,n){var i=Object(r.a)(Object(r.a)({params:{}},n),e);return i.params=t.reduce((function(t,n){return(e[n]||"boolean"===typeof e[n])&&(t[n]=e[n]),t}),i.params),["params","httpMethod","rawResponse","authentication","portal","fetch","maxUrlLength","headers"].reduce((function(e,t){return i[t]&&(e[t]=i[t]),e}),{})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return p}));var r=n(20),i=n(48),a=n(56),o=n(114);function s(e,t){var n=[];e=e.replace(/\u2032/g,"'");var r=b(t);return o.a.dms_to_geog(r,1,[e],n)?new a.a(n[0][0],n[0][1],t||i.a.WGS84):null}function c(e,t,n){var r=[],s=v(n);if(-1===s)return console.warn("invalid conversionMode: ".concat(n)),null;var c=b(t);return o.c.mgrs_to_geog_extended(c,1,[e],s,r)?new a.a(r[0][0],r[0][1],t||i.a.WGS84):null}function u(e,t){var n=[];!t&&/\(.+27/.test(e)&&(t=i.a.GCS_NAD_1927);var r=b(t);return o.d.usng_to_geog(r,1,[e],n)?new a.a(n[0][0],n[0][1],t||i.a.WGS84):null}function l(e,t,n){var r=[],s=y(n);if(-1===s)return console.warn("invalid conversionMode: ".concat(n)),null;var c=b(t);return o.e.utm_to_geog(c,1,[e],s,r)?new a.a(r[0][0],r[0][1],t||i.a.WGS84):null}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[[e.x,e.y]],i=[],a=b(e.spatialReference),s=0;switch(t){case"dd":s=o.a.geog_to_dd(a,1,r,n,i);break;case"ddm":s=o.a.geog_to_ddm(a,1,r,n,i);break;case"dms":s=o.a.geog_to_dms(a,1,r,n,i);break;default:return console.warn("invalid format: ".concat(t)),null}return s?i[0]:null}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[[e.x,e.y]],a=[],s=b(e.spatialReference),c=v(t);return-1===c?(console.warn("invalid conversionMode: ".concat(t)),null):(r&&(c|=o.c.PE_MGRS_ADD_SPACES),o.c.geog_to_mgrs_extended(s,1,i,n,!1,c,a)?a[0]:null)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[[e.x,e.y]],i=[],a=b(e.spatialReference);return o.d.geog_to_usng(a,1,r,t,!1,n,i)?i[0]:null}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[[e.x,e.y]],i=[],a=b(e.spatialReference),s=y(t);return-1===s?(console.warn("invalid conversionMode: ".concat(t)),null):(n&&(s|=o.e.PE_UTM_OPTS_ADD_SPACES),o.e.geog_to_utm(a,1,r,s,i)?i[0]:null)}function b(e){var t=null;if(e||(e=i.a.WGS84),e.wkid){if(!(t=o.f.geogcs(e.wkid)))throw new r.a("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!e.wkt)throw new r.a("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(!(t=o.f.fromString(o.g.PE_TYPE_GEOGCS,e.wkt)))throw new r.a("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return t}function v(e){var t=-1;switch(e){case"automatic":t=o.c.PE_MGRS_STYLE_AUTO;break;case"new-180-in-zone-01":t=o.c.PE_MGRS_STYLE_NEW|o.c.PE_MGRS_180_ZONE_1_PLUS;break;case"new-180-in-zone-60":t=o.c.PE_MGRS_STYLE_NEW;break;case"old-180-in-zone-01":t=o.c.PE_MGRS_STYLE_OLD|o.c.PE_MGRS_180_ZONE_1_PLUS;break;case"old-180-in-zone-60":t=o.c.PE_MGRS_STYLE_OLD}return t}function y(e){var t=-1;switch(e){case"latitude-band-indicators":t=o.e.PE_UTM_OPTS_NONE;break;case"north-south-indicators":t=o.e.PE_UTM_OPTS_NS}return t}},function(e,t,n){"use strict";var r,i,a=n(28),o=n(24),s=n(9),c=n(76),u=n(55);(i=r||(r={})).length=function(e,t){var n=e[t],r=e[t+1],i=e[t+2];return Math.sqrt(n*n+r*r+i*i)},i.normalize=function(e,t){var n=e[t],r=e[t+1],i=e[t+2],a=1/Math.sqrt(n*n+r*r+i*i);e[t]*=a,e[t+1]*=a,e[t+2]*=a},i.scale=function(e,t,n){e[t]*=n,e[t+1]*=n,e[t+2]*=n},i.add=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t;(i=i||e)[a]=e[t]+n[r],i[a+1]=e[t+1]+n[r+1],i[a+2]=e[t+2]+n[r+2]},i.subtract=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t;(i=i||e)[a]=e[t]-n[r],i[a+1]=e[t+1]-n[r+1],i[a+2]=e[t+2]-n[r+2]};var l,h,f,d,p=n(26),b=n(147),v=r;!function(e){for(var t=.5,n=[[-t,-t,t],[t,-t,t],[t,t,t],[-t,t,t],[-t,-t,-t],[t,-t,-t],[t,t,-t],[-t,t,-t]],r=[0,0,1,-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1],i=[0,0,1,0,1,1,0,1],a=[0,1,2,2,3,0,4,0,3,3,7,4,1,5,6,6,2,1,1,0,4,4,5,1,3,2,6,6,7,3,5,4,7,7,6,5],o=new Array(36),s=0;s<6;s++)for(var c=0;c<6;c++)o[6*s+c]=s;for(var u=new Array(36),l=0;l<6;l++)u[6*l+0]=0,u[6*l+1]=1,u[6*l+2]=2,u[6*l+3]=2,u[6*l+4]=3,u[6*l+5]=0;e.createGeometry=function(e){Array.isArray(e)||(e=[e,e,e]);for(var t=new Float32Array(24),s=0;s<8;s++)t[3*s]=n[s][0]*e[0],t[3*s+1]=n[s][1]*e[1],t[3*s+2]=n[s][2]*e[2];var c={};c[p.a.POSITION]=new Uint32Array(a),c[p.a.NORMAL]=new Uint32Array(o),c[p.a.UV0]=new Uint32Array(u);var l={};return l[p.a.POSITION]={size:3,data:t},l[p.a.NORMAL]={size:3,data:new Float32Array(r)},l[p.a.UV0]={size:2,data:new Float32Array(i)},new b.a(l,c)}}(l||(l={})),function(e){var t=.5,n=[[-t,0,-t],[t,0,-t],[t,0,t],[-t,0,t],[0,-t,0],[0,t,0]],r=[0,1,-1,1,1,0,0,1,1,-1,1,0,0,-1,-1,1,-1,0,0,-1,1,-1,-1,0],i=[5,1,0,5,2,1,5,3,2,5,0,3,4,0,1,4,1,2,4,2,3,4,3,0],a=[0,0,0,1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,7];e.createGeometry=function(e){Array.isArray(e)||(e=[e,e,e]);for(var t=new Float32Array(18),o=0;o<6;o++)t[3*o]=n[o][0]*e[0],t[3*o+1]=n[o][1]*e[1],t[3*o+2]=n[o][2]*e[2];var s={};s[p.a.POSITION]=new Uint32Array(i),s[p.a.NORMAL]=new Uint32Array(a);var c={};return c[p.a.POSITION]={size:3,data:t},c[p.a.NORMAL]={size:3,data:new Float32Array(r)},new b.a(c,s)}}(h||(h={})),function(e){var t=.5,n=Object(c.c)(-t,0,-t),r=Object(c.c)(t,0,-t),i=Object(c.c)(0,0,t),a=Object(c.c)(0,.5,0),o=Object(c.b)(),u=Object(c.b)(),l=Object(c.b)(),h=Object(c.b)(),f=Object(c.b)();Object(s.g)(o,n,a),Object(s.g)(u,n,r),Object(s.d)(l,o,u),Object(s.o)(l,l),Object(s.g)(o,r,a),Object(s.g)(u,r,i),Object(s.d)(h,o,u),Object(s.o)(h,h),Object(s.g)(o,i,a),Object(s.g)(u,i,n),Object(s.d)(f,o,u),Object(s.o)(f,f);var d=[n,r,i,a],v=[0,-1,0,l[0],l[1],l[2],h[0],h[1],h[2],f[0],f[1],f[2]],y=[0,1,2,3,1,0,3,2,1,3,0,2],m=[0,0,0,1,1,1,2,2,2,3,3,3];e.createGeometry=function(e){Array.isArray(e)||(e=[e,e,e]);for(var t=new Float32Array(12),n=0;n<4;n++)t[3*n]=d[n][0]*e[0],t[3*n+1]=d[n][1]*e[1],t[3*n+2]=d[n][2]*e[2];var r={};r[p.a.POSITION]=new Uint32Array(y),r[p.a.NORMAL]=new Uint32Array(m);var i={};return i[p.a.POSITION]={size:3,data:t},i[p.a.NORMAL]={size:3,data:new Float32Array(v)},new b.a(i,r)}}(f||(f={})),function(e){e.createBoxGeometry=l.createGeometry,e.createDiamondGeometry=h.createGeometry,e.createTetrahedronGeometry=f.createGeometry,e.createSphereGeometry=function(e,t,n,r){for(var i=r||{},a=i.phiStart,o=void 0===a?-Math.PI:a,s=i.phiLength,c=void 0===s?2*Math.PI:s,u=i.thetaStart,l=void 0===u?-Math.PI/2:u,h=i.thetaLength,f=void 0===h?Math.PI:h,d=(null==r?void 0:r.attributes)||{},v=d.position,y=void 0===v?p.a.POSITION:v,m=d.normal,g=void 0===m?p.a.NORMAL:m,O=d.uv,j=void 0===O?p.a.UV0:O,w=Math.max(3,Math.floor(t)),_=Math.max(2,Math.floor(n)),x=(w+1)*(_+1),k=new Float32Array(3*x),S=new Float32Array(3*x),E=new Float32Array(2*x),T=[],M=0,C=0;C<=_;C++){for(var A=[],P=C/_,I=l+P*f,D=Math.cos(I),L=0;L<=w;L++){var R=L/w,N=o+R*c,F=Math.cos(N)*D,z=Math.sin(I),V=-Math.sin(N)*D;k[3*M]=F*e,k[3*M+1]=z*e,k[3*M+2]=V*e,S[3*M]=F,S[3*M+1]=z,S[3*M+2]=V,E[2*M]=R,E[2*M+1]=P,A.push(M),++M}T.push(A)}var U=new Uint32Array(2*w*(_-1)*3);M=0;for(var B=0;B<_;B++)for(var G=0;G<w;G++){var q=T[B][G],H=T[B][G+1],W=T[B+1][G+1],Y=T[B+1][G];0===B?(U[M++]=q,U[M++]=W,U[M++]=Y):B===_-1?(U[M++]=q,U[M++]=H,U[M++]=W):(U[M++]=q,U[M++]=H,U[M++]=W,U[M++]=W,U[M++]=Y,U[M++]=q)}var J={};J[y]=U,J[g]=U;var K={};return K[y]={size:3,data:k},K[g]={size:3,data:S},j&&(K[j]={size:2,data:E},J[j]=U),new b.a(K,J)},e.createPolySphereGeometry=function(e,t,n){var r,i,a=e;if(n)r=[0,-1,0,1,0,0,0,0,1,-1,0,0,0,0,-1,0,1,0],i=new Uint32Array([0,1,2,0,2,3,0,3,4,0,4,1,1,5,2,2,5,3,3,5,4,4,5,1]);else{var o=a*(1+Math.sqrt(5))/2;r=[-a,o,0,a,o,0,-a,-o,0,a,-o,0,0,-a,o,0,a,o,0,-a,-o,0,a,-o,o,0,-a,o,0,a,-o,0,-a,-o,0,a],i=new Uint32Array([0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1])}for(var s=0;s<r.length;s+=3)v.scale(r,s,e/v.length(r,s));var c={};function u(t,n){var i;t>n&&(t=(i=[n,t])[0],n=i[1]);var a=t.toString()+"."+n.toString();if(c[a])return c[a];var o=r.length;return r.length+=3,v.add(r,3*t,r,3*n,r,o),v.scale(r,o,e/v.length(r,o)),o/=3,c[a]=o,o}for(var l=0;l<t;l++){for(var h=i.length,f=new Uint32Array(4*h),d=0;d<h;d+=3){var y=i[d],m=i[d+1],g=i[d+2],O=u(y,m),j=u(m,g),w=u(g,y),_=4*d;f[_]=y,f[_+1]=O,f[_+2]=w,f[_+3]=m,f[_+4]=j,f[_+5]=O,f[_+6]=g,f[_+7]=w,f[_+8]=j,f[_+9]=O,f[_+10]=j,f[_+11]=w}i=f,c={}}for(var x=new Float32Array(r),k=0;k<x.length;k+=3)v.normalize(x,k);var S={};S[p.a.POSITION]=i,S[p.a.NORMAL]=i;var E={};return E[p.a.POSITION]={size:3,data:new Float32Array(r)},E[p.a.NORMAL]={size:3,data:x},new b.a(E,S)},e.createPointGeometry=function(e,t,n,r,i,a,o,s){var c=t?new Float64Array([t[0],t[1],t[2]]):new Float32Array([0,0,0]),u=e?new Float32Array([e[0],e[1],e[2]]):new Float32Array([0,0,1]),l=a?new Float32Array(a):new Float32Array([0,0]),h=n?new Uint8Array([255*n[0],255*n[1],255*n[2],n.length>3?255*n[3]:255]):new Uint8Array([255,255,255,255]),f=null!=r&&2===r.length?new Float32Array(r):new Float32Array([1,1]),d={};if(d[p.a.POSITION]={size:3,data:c},d[p.a.NORMAL]={size:3,data:u},d[p.a.UV0]={size:l.length,data:l},d[p.a.COLOR]={size:4,data:h},d[p.a.SIZE]={size:2,data:f},null!=i){var v=new Float32Array([i[0],i[1],i[2],i[3]]);d[p.a.AUXPOS1]={size:4,data:v}}if(null!=o){var y=new Float32Array([o[0],o[1],o[2],o[3]]);d[p.a.AUXPOS2]={size:4,data:y}}return null!=s?(s.initialize(d,b.a.DefaultIndices,"point"),s):new b.a(d,b.a.DefaultIndices,"point")},e.updatePointGeometry=function(e,t,n,r,i,a,o,s){var c=s.vertexAttributes;if(null!=e){var u=c[p.a.NORMAL].data;u[0]=e[0],u[1]=e[1],u[2]=e[2]}if(null!=t){var l=c[p.a.POSITION].data;l[0]=t[0],l[1]=t[1],l[2]=t[2]}if(null!=n){var h=c[p.a.COLOR].data;h[0]=n[0],h[1]=n[1],h[2]=n[2],h[3]=n[3]}if(null!=r){var f=c[p.a.SIZE].data;f[0]=r[0],f[1]=r[1]}if(null!=i){var d=c[p.a.AUXPOS1].data;d[0]=i[0],d[1]=i[1],d[2]=i[2],d[3]=i[3]}if(null!=a){var b=c[p.a.UV0].data;b[0]=a[0],b[1]=a[1]}if(null!=o){var v=c[p.a.AUXPOS2].data;v[0]=o[0],v[1]=o[1],v[2]=o[2],v[3]=o[3]}return s},e.createPointArrayGeometry=function(e,t){for(var n=new Float32Array(3*e.length),r=new Float32Array(t?3*e.length:3),i=new Uint32Array(e.length),a=new Uint32Array(e.length),o=0;o<e.length;o++)n[3*o]=e[o][0],n[3*o+1]=e[o][1],n[3*o+2]=e[o][2],t&&(r[3*o]=t[o][0],r[3*o+1]=t[o][1],r[3*o+2]=t[o][2]),i[o]=o,a[o]=0;t||(r[0]=0,r[1]=1,r[2]=0);var s=new Float32Array(2);s[0]=0,s[1]=0;var c={};c[p.a.POSITION]=i,c[p.a.NORMAL]=t?i:a,c[p.a.UV0]=a;var u={};return u[p.a.POSITION]={size:3,data:n},u[p.a.NORMAL]={size:3,data:r},u[p.a.UV0]={size:2,data:s},new b.a(u,c,"point")},e.createTriangleGeometry=function(){var e=new Float32Array([0,0,0,0,0,100,100,0,0]),t=new Uint32Array([0,1,2]),n=new Float32Array([0,1,0]),r=new Uint32Array([0,0,0]),i=new Float32Array([0,0]),a=new Uint32Array([0,0,0]),o={};o[p.a.POSITION]=t,o[p.a.NORMAL]=r,o[p.a.UV0]=a;var s={};return s[p.a.POSITION]={size:3,data:e},s[p.a.NORMAL]={size:3,data:n},s[p.a.UV0]={size:2,data:i},new b.a(s,o)};var t=[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0]];function n(e,t,n,r,i){return!(Math.abs(Object(s.e)(t,e))>i)&&(Object(s.d)(n,e,t),Object(s.o)(n,n),Object(s.d)(r,n,e),Object(s.o)(r,r),!0)}function r(e,t,r,i,a,o,s){return n(e,t,a,o,s)||n(e,r,a,o,s)||n(e,i,a,o,s)}e.createSquareGeometry=function(){for(var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=new Float64Array(12),o=0;o<4;o++)for(var s=0;s<3;s++)i[3*o+s]=r[o][s];var c=new Uint32Array([0,1,2,2,3,0]),u=new Float32Array([0,0,1]),l=new Uint32Array([0,0,0,0,0,0]),h=new Float32Array([0,0,1,0,1,1,0,1]),f=new Uint8Array([255,255,255,255]),d=(e={},Object(a.a)(e,p.a.POSITION,c),Object(a.a)(e,p.a.NORMAL,l),Object(a.a)(e,p.a.UV0,c),Object(a.a)(e,p.a.COLOR,l),e),v=(n={},Object(a.a)(n,p.a.POSITION,{size:3,data:i}),Object(a.a)(n,p.a.NORMAL,{size:3,data:u}),Object(a.a)(n,p.a.UV0,{size:2,data:h}),Object(a.a)(n,p.a.COLOR,{size:4,data:f}),n);return new b.a(v,d)},e.createConeGeometry=function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=0,s=t,u=e,l=Object(c.c)(0,o,0),h=Object(c.c)(0,o+u,0),f=Object(c.c)(0,-1,0),d=Object(c.c)(0,1,0);r&&(o=u,h=Object(c.c)(0,0,0),l=Object(c.c)(0,o,0),f=Object(c.c)(0,1,0),d=Object(c.c)(0,-1,0));var v=[h,l],y=[f,d],m=n+2,g=Math.sqrt(u*u+s*s);if(r)for(var O=n-1;O>=0;O--){var j=O*(2*Math.PI/n),w=Object(c.c)(Math.cos(j)*s,o,Math.sin(j)*s);v.push(w);var _=Object(c.c)(u*Math.cos(j)/g,-s/g,u*Math.sin(j)/g);y.push(_)}else for(var x=0;x<n;x++){var k=x*(2*Math.PI/n),S=Object(c.c)(Math.cos(k)*s,o,Math.sin(k)*s);v.push(S);var E=Object(c.c)(u*Math.cos(k)/g,s/g,u*Math.sin(k)/g);y.push(E)}var T=new Uint32Array(2*(n+2)*3),M=new Uint32Array(2*(n+2)*3),C=0,A=0;if(i){for(var P=3;P<v.length;P++)T[C++]=1,T[C++]=P-1,T[C++]=P,M[A++]=0,M[A++]=0,M[A++]=0;T[C++]=v.length-1,T[C++]=2,T[C++]=1,M[A++]=0,M[A++]=0,M[A++]=0}if(a){for(var I=3;I<v.length;I++)T[C++]=I,T[C++]=I-1,T[C++]=0,M[A++]=I,M[A++]=I-1,M[A++]=1;T[C++]=0,T[C++]=2,T[C++]=v.length-1,M[A++]=1,M[A++]=2,M[A++]=y.length-1}for(var D=new Float32Array(3*m),L=0;L<m;L++)D[3*L]=v[L][0],D[3*L+1]=v[L][1],D[3*L+2]=v[L][2];for(var R=new Float32Array(3*m),N=0;N<m;N++)R[3*N]=y[N][0],R[3*N+1]=y[N][1],R[3*N+2]=y[N][2];var F={};F[p.a.POSITION]=T,F[p.a.NORMAL]=M;var z={};return z[p.a.POSITION]={size:3,data:D},z[p.a.NORMAL]={size:3,data:R},new b.a(z,F)},e.createCylinderGeometry=function(e,t,n,r,i,a){var o=r?Object(c.a)(r):Object(c.c)(1,0,0),u=i?Object(c.a)(i):Object(c.c)(0,0,0),l=void 0===a||a,h=Object(c.b)();Object(s.o)(h,o);var f=Object(c.b)();Object(s.b)(f,h,Math.abs(e));var d=Object(c.b)();Object(s.b)(d,f,-.5),Object(s.c)(d,d,u);var v=Object(c.c)(0,1,0);Math.abs(1-Object(s.e)(h,v))<.2&&Object(s.t)(v,0,0,1);var y=Object(c.b)();Object(s.d)(y,h,v),Object(s.o)(y,y),Object(s.d)(v,y,h);var m=2*n+(l?2:0),g=n+(l?2:0),O=new Float32Array(3*m),j=new Float32Array(3*g),w=new Float32Array(2*m),_=new Uint32Array(3*n*(l?4:2)),x=new Uint32Array(3*n*(l?4:2));l&&(O[3*(m-2)+0]=d[0],O[3*(m-2)+1]=d[1],O[3*(m-2)+2]=d[2],w[2*(m-2)]=0,w[2*(m-2)+1]=0,O[3*(m-1)+0]=O[3*(m-2)+0]+f[0],O[3*(m-1)+1]=O[3*(m-2)+1]+f[1],O[3*(m-1)+2]=O[3*(m-2)+2]+f[2],w[2*(m-1)]=1,w[2*(m-1)+1]=1,j[3*(g-2)+0]=-h[0],j[3*(g-2)+1]=-h[1],j[3*(g-2)+2]=-h[2],j[3*(g-1)+0]=h[0],j[3*(g-1)+1]=h[1],j[3*(g-1)+2]=h[2]);for(var k=function(e,t,n){_[e]=t,x[e]=n},S=0,E=Object(c.b)(),T=Object(c.b)(),M=0;M<n;M++){var C=M*(2*Math.PI/n);Object(s.b)(E,v,Math.sin(C)),Object(s.b)(T,y,Math.cos(C)),Object(s.c)(E,E,T),j[3*M+0]=E[0],j[3*M+1]=E[1],j[3*M+2]=E[2],Object(s.b)(E,E,t),Object(s.c)(E,E,d),O[3*M+0]=E[0],O[3*M+1]=E[1],O[3*M+2]=E[2],w[2*M+0]=M/n,w[2*M+1]=0,O[3*(M+n)+0]=O[3*M+0]+f[0],O[3*(M+n)+1]=O[3*M+1]+f[1],O[3*(M+n)+2]=O[3*M+2]+f[2],w[2*(M+n)+0]=M/n,w[2*M+1]=1;var A=(M+1)%n;k(S++,M,M),k(S++,M+n,M),k(S++,A,A),k(S++,A,A),k(S++,M+n,M),k(S++,A+n,A)}if(l){for(var P=0;P<n;P++){var I=(P+1)%n;k(S++,m-2,g-2),k(S++,P,g-2),k(S++,I,g-2)}for(var D=0;D<n;D++){var L=(D+1)%n;k(S++,D+n,g-1),k(S++,m-1,g-1),k(S++,L+n,g-1)}}var R={};R[p.a.POSITION]=_,R[p.a.NORMAL]=x,R[p.a.UV0]=_;var N={};return N[p.a.POSITION]={size:3,data:O},N[p.a.NORMAL]={size:3,data:j},N[p.a.UV0]={size:2,data:w},new b.a(N,R)},e.createTubeGeometry=function(t,n,r,i,a){r=r||10,i=null==i||i,Object(p.b)(t.length>1);for(var o=[],s=[],c=0;c<r;c++){o.push([0,-c-1,-(c+1)%r-1]);var u=c/r*2*Math.PI;s.push([Math.cos(u)*n,Math.sin(u)*n])}return e.createPathExtrusionGeometry(s,t,[[0,0,0]],o,i,a)},e.createPathExtrusionGeometry=function(e,t,n,i,a){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Object(c.c)(0,0,0),h=e.length,f=new Float32Array(t.length*h*3+(6*n.length||0)),d=new Float32Array(t.length*h+(2*n.length||0)),v=new Float32Array(t.length*h*3+(n?6:0)),m=(t.length-1)*h*6+3*i.length*2,g=new Uint32Array(m),O=new Uint32Array(m),j=0,w=0,_=0,x=0,k=0,S=Object(c.b)(),E=Object(c.b)(),T=Object(c.b)(),M=Object(c.b)(),C=Object(c.b)(),A=Object(c.b)(),P=Object(c.b)(),I=Object(o.e)(),D=Object(c.b)(),L=Object(c.b)(),R=Object(c.b)(),N=Object(c.b)(),F=Object(c.b)(),z=u.d.create();Object(s.t)(D,0,1,0),Object(s.g)(E,t[1],t[0]),Object(s.o)(E,E),a?(Object(s.c)(I,t[0],l),Object(s.o)(T,I)):Object(s.t)(T,0,0,1),r(E,T,D,D,C,T,y),Object(s.h)(M,T),Object(s.h)(N,C);for(var V=0;V<n.length;V++)Object(s.b)(A,C,n[V][0]),Object(s.b)(I,T,n[V][2]),Object(s.c)(A,A,I),Object(s.c)(A,A,t[0]),f[j++]=A[0],f[j++]=A[1],f[j++]=A[2],d[_++]=0;v[w++]=-E[0],v[w++]=-E[1],v[w++]=-E[2];for(var U=0;U<i.length;U++)g[x++]=i[U][0]>0?i[U][0]:-i[U][0]-1+n.length,g[x++]=i[U][1]>0?i[U][1]:-i[U][1]-1+n.length,g[x++]=i[U][2]>0?i[U][2]:-i[U][2]-1+n.length,O[k++]=0,O[k++]=0,O[k++]=0;for(var B=n.length,G=n.length-1,q=0;q<t.length;q++){var H=!1;q>0&&(Object(s.h)(S,E),q<t.length-1?(Object(s.g)(E,t[q+1],t[q]),Object(s.o)(E,E)):H=!0,Object(s.c)(L,S,E),Object(s.o)(L,L),Object(s.c)(R,t[q-1],M),u.d.fromPositionAndNormal(t[q],L,z),u.d.intersectRay(z,u.e.wrap(R,S),I)?(Object(s.g)(I,I,t[q]),Object(s.o)(T,I),Object(s.d)(C,L,T),Object(s.o)(C,C)):r(L,M,N,D,C,T,y),Object(s.h)(M,T),Object(s.h)(N,C)),a&&(Object(s.c)(I,t[q],l),Object(s.o)(F,I));for(var W=0;W<h;W++)if(Object(s.b)(A,C,e[W][0]),Object(s.b)(I,T,e[W][1]),Object(s.c)(A,A,I),Object(s.o)(P,A),v[w++]=P[0],v[w++]=P[1],v[w++]=P[2],d[_++]=a?Object(s.e)(A,F):A[2],Object(s.c)(A,A,t[q]),f[j++]=A[0],f[j++]=A[1],f[j++]=A[2],!H){var Y=(W+1)%h;g[x++]=B+W,g[x++]=B+h+W,g[x++]=B+Y,g[x++]=B+Y,g[x++]=B+h+W,g[x++]=B+h+Y;for(var J=0;J<6;J++)O[k++]=g[x-6+J]-G}B+=h}for(var K=t[t.length-1],X=0;X<n.length;X++)Object(s.b)(A,C,n[X][0]),Object(s.b)(I,T,n[X][1]),Object(s.c)(A,A,I),Object(s.c)(A,A,K),f[j++]=A[0],f[j++]=A[1],f[j++]=A[2],d[_++]=0;var Q=w/3;v[w++]=E[0],v[w++]=E[1],v[w++]=E[2];for(var Z=B-h,$=0;$<i.length;$++)g[x++]=i[$][0]>=0?B+i[$][0]:-i[$][0]-1+Z,g[x++]=i[$][2]>=0?B+i[$][2]:-i[$][2]-1+Z,g[x++]=i[$][1]>=0?B+i[$][1]:-i[$][1]-1+Z,O[k++]=Q,O[k++]=Q,O[k++]=Q;var ee={};ee[p.a.POSITION]=g,ee[p.a.NORMAL]=O;var te={};return te[p.a.POSITION]={size:3,data:f},te.zOffset={size:1,data:d},te[p.a.NORMAL]={size:3,data:v},new b.a(te,ee)},e.createPolylineGeometry=function(e,t){Object(p.b)(e.length>1,"createPolylineGeometry(): polyline needs at least 2 points"),Object(p.b)(3===e[0].length,"createPolylineGeometry(): malformed vertex"),Object(p.b)(void 0===t||t.length===e.length,"createPolylineGeometry: need same number of points and normals"),Object(p.b)(void 0===t||3===t[0].length,"createPolylineGeometry(): malformed normal");for(var n=new Float64Array(3*e.length),r=new Uint32Array(2*(e.length-1)),i=0,a=0,o=0;o<e.length;o++){for(var s=0;s<3;s++)n[i++]=e[o][s];o>0&&(r[a++]=o-1,r[a++]=o)}var c={},u={};if(c[p.a.POSITION]=r,u[p.a.POSITION]={size:3,data:n},t){for(var l=new Float32Array(3*t.length),h=0,f=0;f<e.length;f++)for(var d=0;d<3;d++)l[h++]=t[f][d];c[p.a.NORMAL]=r,u[p.a.NORMAL]={size:3,data:l}}return new b.a(u,c,"line")},e.createExtrudedTriangle=function(e,t,n,r){for(var i=new Float32Array(18),o=[[-t,0,r/2],[n,0,r/2],[0,e,r/2],[-t,0,-r/2],[n,0,-r/2],[0,e,-r/2]],s=0;s<6;s++)i[3*s]=o[s][0],i[3*s+1]=o[s][1],i[3*s+2]=o[s][2];var c=Object(a.a)({},p.a.POSITION,new Uint32Array([0,1,2,3,0,2,2,5,3,1,4,5,5,2,1,1,0,3,3,4,1,4,3,5])),u=Object(a.a)({},p.a.POSITION,{size:3,data:i});return new b.a(u,c)},e.transformInPlace=function(e,t){for(var n=e.vertexAttributes[p.a.POSITION].data,r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=n[r+2];Object(s.t)(m,i,a,o),Object(s.j)(m,m,t),n[r]=m[0],n[r+1]=m[1],n[r+2]=m[2]}},e.cgToGIS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=e.getVertexAttr(),r=n.position.data,i=n.normal.data,a=t.getVertexAttr(),o=a.position.data,s=a.normal.data;if(i)for(var c=0;c<i.length;c+=3){var u=i[c+1];s[c+1]=-i[c+2],s[c+2]=u}if(r)for(var l=0;l<r.length;l+=3){var h=r[l+1];o[l+1]=-r[l+2],o[l+2]=h}return t},e.makeOrthoBasisDirUp=n,e.makeOrthoBasisDirUpFallback=r}(d||(d={}));var y=.99619469809,m=Object(c.b)(),g=d;t.a=g},function(e,t,n){"use strict";var r=n(2),i=n(3),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;Object(r.a)(this,e),this.displayId=0,this.geohashIndexed=!1,this.geohashX=0,this.geohashY=0,this.geometry=t,n&&(this.attributes=n),i&&(this.centroid=i),null!=a&&(this.objectId=a)}return Object(i.a)(e,[{key:"hasGeometry",get:function(){return!(!this.geometry||!this.geometry.coords||!this.geometry.coords.length)}},{key:"weakClone",value:function(){var t=new e(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashIndexed=this.geohashIndexed,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}]),e}();t.a=a},function(e,t,n){"use strict";function r(){return[1,0,0,0,1,0,0,0,1]}function i(e,t){return new Float64Array(e,t,9)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));Object.freeze({__proto__:null,create:r,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},fromValues:function(e,t,n,r,i,a,o,s,c){return[e,t,n,r,i,a,o,s,c]},createView:i})},function(e,t,n){"use strict";var r=n(13),i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=n(1),l=n(8),h=n(39),f=n(60),d=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._handles=new f.a,r.root=null,r}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this;this._handles.add(this.rootCollectionNames.map((function(t){return e.watch("root."+t,(function(){return e.updateCollections()}),!0)}))),this.updateCollections()}},{key:"destroy",value:function(){this.root=null,this.refresh(),this._handles.destroy(),this._handles=null}},{key:"updateCollections",value:function(){var e=this;this._collections=this.rootCollectionNames.map((function(t){return e.get("root."+t)})).filter((function(e){return null!=e})),this.refresh()}},{key:"refresh",value:function(){var e=this,t=this._handles;t.remove("collections");var n,i=new Array,a=0,o=Object(r.a)(this._collections);try{for(o.s();!(n=o.n()).done;){var s=n.value;a=this._processCollection(i,a,s)}}catch(h){o.e(h)}finally{o.f()}this.splice(a,this.length);for(var c=0,u=i;c<u.length;c++){var l=u[c];t.add(l.on("after-changes",(function(){return e.refresh()})),"collections")}}},{key:"_createNewInstance",value:function(e){return new h.a(e)}},{key:"_processCollection",value:function(e,t,n){var r=this;return n?(e.push(n),n.forEach((function(n){if(n){if(!r.itemFilterFunction||r.itemFilterFunction(n)){var i=r.indexOf(n,t);i>=0?i!==t&&r.reorder(n,t):r.add(n,t),++t}r.getChildrenFunction&&(t=r._processCollection(e,t,r.getChildrenFunction(n)))}})),t):t}}]),n}(h.a);Object(c.a)([Object(u.b)()],d.prototype,"rootCollectionNames",void 0),Object(c.a)([Object(u.b)()],d.prototype,"root",void 0),Object(c.a)([Object(u.b)()],d.prototype,"getChildrenFunction",void 0),Object(c.a)([Object(u.b)()],d.prototype,"itemFilterFunction",void 0);var p=d=Object(c.a)([Object(l.a)("esri.core.CollectionFlattener")],d);t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return l}));var r=n(2),i=n(3),a=n(4),o=n(245),s=n(187),c=n(197),u=function(){function e(t,n,i){Object(r.a)(this,e),this.supportsEdges=!1,this._visible=!0,this._renderPriority=0,this._insertOrder=0,this._vertexAttributeLocations=o.a,this.id=e._idGen.gen(t),this._params=Object(c.c)(n,i),this.validateParameterValues(this._params)}return Object(i.a)(e,[{key:"dispose",value:function(){}},{key:"params",get:function(){return this._params}},{key:"update",value:function(){return!1}},{key:"setParameterValues",value:function(e){Object(c.e)(this._params,e)&&(this.validateParameterValues(this._params),this.parametersChanged())}},{key:"validateParameterValues",value:function(){}},{key:"visible",get:function(){return this._visible},set:function(e){e!==this._visible&&(this._visible=e,this.parametersChanged())}},{key:"isVisibleInPass",value:function(e){return!0}},{key:"renderOccluded",get:function(){return this.params.renderOccluded}},{key:"renderPriority",get:function(){return this._renderPriority},set:function(e){e!==this._renderPriority&&(this._renderPriority=e,this.parametersChanged())}},{key:"insertOrder",get:function(){return this._insertOrder},set:function(e){e!==this._insertOrder&&(this._insertOrder=e,this.parametersChanged())}},{key:"vertexAttributeLocations",get:function(){return this._vertexAttributeLocations}},{key:"isVisible",value:function(){return this._visible}},{key:"parametersChanged",value:function(){Object(a.h)(this.materialRepository)&&this.materialRepository.materialChanged(this)}}]),e}();function l(e,t){return e.isVisible()&&e.isVisibleInPass(t.pass)&&0!=(e.renderOccluded&t.renderOccludedMask)}u._idGen=new s.a;var h={renderOccluded:1}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(45),h=n(8),f=(n(12),n(21),n(22),n(248)),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).maxValue=null,r.minValue=null,r.type="range",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}]),n}(f.a);Object(c.a)([Object(u.b)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(e,t,n){t[n]=[this.minValue||0,e]}}}})],d.prototype,"maxValue",void 0),Object(c.a)([Object(u.b)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[0]}},write:{target:"range",writer:function(e,t,n){t[n]=[e,this.maxValue||0]}}}})],d.prototype,"minValue",void 0),Object(c.a)([Object(l.a)({range:"range"})],d.prototype,"type",void 0);var p=d=r=Object(c.a)([Object(h.a)("esri.layers.support.RangeDomain")],d);t.a=p},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(34),f=n(8),d=n(35),p=(n(12),n(21),n(22),n(159)),b=n(483),v=n(485),y=n(511),m=n(486),g=n(487),O=n(482),j=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).activeMediaInfoIndex=null,r.mediaInfos=null,r.type="media",r}return Object(a.a)(n,[{key:"readMediaInfos",value:function(e){return e&&e.map((function(e){return"image"===e.type?y.a.fromJSON(e):"barchart"===e.type?b.a.fromJSON(e):"columnchart"===e.type?v.a.fromJSON(e):"linechart"===e.type?m.a.fromJSON(e):"piechart"===e.type?g.a.fromJSON(e):void 0})).filter(Boolean)}},{key:"writeMediaInfos",value:function(e,t){t.mediaInfos=e&&e.map((function(e){return e.toJSON()}))}},{key:"clone",value:function(){return new r({activeMediaInfoIndex:this.activeMediaInfoIndex,mediaInfos:this.mediaInfos?Object(u.a)(this.mediaInfos):null})}}]),n}(p.a);Object(c.a)([Object(l.b)()],j.prototype,"activeMediaInfoIndex",void 0),Object(c.a)([Object(l.b)({types:[O.a]})],j.prototype,"mediaInfos",void 0),Object(c.a)([Object(h.a)("mediaInfos")],j.prototype,"readMediaInfos",null),Object(c.a)([Object(d.a)("mediaInfos")],j.prototype,"writeMediaInfos",null),Object(c.a)([Object(l.b)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],j.prototype,"type",void 0);var w=j=r=Object(c.a)([Object(f.a)("esri.popup.content.MediaContent")],j);t.a=w},function(e,t,n){"use strict";function r(e){return Object.keys(e).some((function(t){var n=e[t];if(!n)return!1;switch(n&&n.toParam&&(n=n.toParam()),n.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}}))}function i(e){var t={};return Object.keys(e).forEach((function(n){var r,i,a=e[n];if(a&&a.toParam&&(a=a.toParam()),a||0===a||"boolean"===typeof a||"string"===typeof a){var o;switch(a.constructor.name){case"Array":var s=null===(i=null===(r=a[0])||void 0===r?void 0:r.constructor)||void 0===i?void 0:i.name;o="Array"===s?a:"Object"===s?JSON.stringify(a):a.join(",");break;case"Object":o=JSON.stringify(a);break;case"Date":o=a.valueOf();break;case"Function":o=null;break;case"Boolean":o=a+"";break;default:o=a}(o||0===o||"string"===typeof o||Array.isArray(o))&&(t[n]=o)}})),t}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(45),f=n(8),d=(n(12),n(21),n(22),n(27)),p=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).name=null,r.code=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({name:this.name,code:this.code})}}]),n}(d.a);Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],p.prototype,"name",void 0),Object(c.a)([Object(l.b)({type:[String,Number],json:{write:!0}})],p.prototype,"code",void 0);var b,v=p=r=Object(c.a)([Object(f.a)("esri.layers.support.CodedValue")],p),y=n(248),m=b=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).codedValues=null,r.type="coded-value",r}return Object(a.a)(n,[{key:"getName",value:function(e){var t=null;if(this.codedValues){var n=String(e);this.codedValues.some((function(e){return String(e.code)===n&&(t=e.name),!!t}))}return t}},{key:"clone",value:function(){return new b({codedValues:Object(u.a)(this.codedValues),name:this.name})}}]),n}(y.a);Object(c.a)([Object(l.b)({type:[v],json:{write:!0}})],m.prototype,"codedValues",void 0),Object(c.a)([Object(h.a)({codedValue:"coded-value"})],m.prototype,"type",void 0);var g=m=b=Object(c.a)([Object(f.a)("esri.layers.support.CodedValueDomain")],m);t.a=g},function(e,t,n){"use strict";var r,i={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9367:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(r=2e3;r<=2045;r++)i[r]=0;for(r=2056;r<=2065;r++)i[r]=0;for(r=2067;r<=2135;r++)i[r]=0;for(r=2137;r<=2154;r++)i[r]=0;for(r=2161;r<=2170;r++)i[r]=0;for(r=2172;r<=2193;r++)i[r]=0;for(r=2195;r<=2198;r++)i[r]=0;for(r=2200;r<=2203;r++)i[r]=0;for(r=2205;r<=2217;r++)i[r]=0;for(r=2222;r<=2224;r++)i[r]=1;for(r=2225;r<=2250;r++)i[r]=2;for(r=2251;r<=2253;r++)i[r]=1;for(r=2257;r<=2264;r++)i[r]=2;for(r=2274;r<=2279;r++)i[r]=2;for(r=2280;r<=2282;r++)i[r]=1;for(r=2283;r<=2289;r++)i[r]=2;for(r=2290;r<=2292;r++)i[r]=0;for(r=2308;r<=2313;r++)i[r]=0;for(r=2315;r<=2491;r++)i[r]=0;for(r=2494;r<=2866;r++)i[r]=0;for(r=2867;r<=2869;r++)i[r]=1;for(r=2870;r<=2888;r++)i[r]=2;for(r=2891;r<=2895;r++)i[r]=2;for(r=2896;r<=2898;r++)i[r]=1;for(r=2902;r<=2908;r++)i[r]=2;for(r=2915;r<=2920;r++)i[r]=2;for(r=2921;r<=2923;r++)i[r]=1;for(r=2924;r<=2930;r++)i[r]=2;for(r=2931;r<=2962;r++)i[r]=0;for(r=2964;r<=2968;r++)i[r]=2;for(r=2969;r<=2973;r++)i[r]=0;for(r=2975;r<=2991;r++)i[r]=0;for(r=2995;r<=3051;r++)i[r]=0;for(r=3054;r<=3079;r++)i[r]=0;for(r=3081;r<=3088;r++)i[r]=0;for(r=3092;r<=3101;r++)i[r]=0;for(r=3106;r<=3138;r++)i[r]=0;for(r=3146;r<=3151;r++)i[r]=0;for(r=3153;r<=3166;r++)i[r]=0;for(r=3168;r<=3172;r++)i[r]=0;for(r=3174;r<=3203;r++)i[r]=0;for(r=3294;r<=3358;r++)i[r]=0;for(r=3367;r<=3403;r++)i[r]=0;for(r=3408;r<=3416;r++)i[r]=0;for(r=3417;r<=3438;r++)i[r]=2;for(r=3441;r<=3446;r++)i[r]=2;for(r=3447;r<=3450;r++)i[r]=0;for(r=3451;r<=3459;r++)i[r]=2;for(r=3460;r<=3478;r++)i[r]=0;for(r=3554;r<=3559;r++)i[r]=0;for(r=3560;r<=3570;r++)i[r]=2;for(r=3571;r<=3581;r++)i[r]=0;for(r=3594;r<=3597;r++)i[r]=0;for(r=3601;r<=3604;r++)i[r]=0;for(r=3637;r<=3639;r++)i[r]=0;for(r=3665;r<=3667;r++)i[r]=0;for(r=3693;r<=3695;r++)i[r]=0;for(r=3701;r<=3727;r++)i[r]=0;for(r=3728;r<=3739;r++)i[r]=2;for(r=3740;r<=3751;r++)i[r]=0;for(r=3753;r<=3760;r++)i[r]=2;for(r=3761;r<=3773;r++)i[r]=0;for(r=3775;r<=3777;r++)i[r]=0;for(r=3779;r<=3781;r++)i[r]=0;for(r=3783;r<=3785;r++)i[r]=0;for(r=3788;r<=3791;r++)i[r]=0;for(r=3797;r<=3802;r++)i[r]=0;for(r=3814;r<=3816;r++)i[r]=0;for(r=3825;r<=3829;r++)i[r]=0;for(r=3832;r<=3841;r++)i[r]=0;for(r=3844;r<=3852;r++)i[r]=0;for(r=3873;r<=3885;r++)i[r]=0;for(r=3890;r<=3893;r++)i[r]=0;for(r=3907;r<=3912;r++)i[r]=0;for(r=3942;r<=3950;r++)i[r]=0;for(r=3968;r<=3970;r++)i[r]=0;for(r=3973;r<=3976;r++)i[r]=0;for(r=3986;r<=3989;r++)i[r]=0;for(r=3994;r<=3997;r++)i[r]=0;for(r=4048;r<=4051;r++)i[r]=0;for(r=4056;r<=4063;r++)i[r]=0;for(r=4093;r<=4096;r++)i[r]=0;for(r=4390;r<=4398;r++)i[r]=0;for(r=4399;r<=4413;r++)i[r]=2;for(r=4418;r<=4433;r++)i[r]=2;for(r=4455;r<=4457;r++)i[r]=2;for(r=4484;r<=4489;r++)i[r]=0;for(r=4491;r<=4554;r++)i[r]=0;for(r=4568;r<=4589;r++)i[r]=0;for(r=4652;r<=4656;r++)i[r]=0;for(r=4766;r<=4800;r++)i[r]=0;for(r=5014;r<=5016;r++)i[r]=0;for(r=5069;r<=5072;r++)i[r]=0;for(r=5105;r<=5130;r++)i[r]=0;for(r=5173;r<=5188;r++)i[r]=0;for(r=5253;r<=5259;r++)i[r]=0;for(r=5269;r<=5275;r++)i[r]=0;for(r=5292;r<=5311;r++)i[r]=0;for(r=5329;r<=5331;r++)i[r]=0;for(r=5343;r<=5349;r++)i[r]=0;for(r=5355;r<=5357;r++)i[r]=0;for(r=5387;r<=5389;r++)i[r]=0;for(r=5459;r<=5463;r++)i[r]=0;for(r=5479;r<=5482;r++)i[r]=0;for(r=5518;r<=5520;r++)i[r]=0;for(r=5530;r<=5539;r++)i[r]=0;for(r=5550;r<=5552;r++)i[r]=0;for(r=5562;r<=5583;r++)i[r]=0;for(r=5623;r<=5625;r++)i[r]=2;for(r=5631;r<=5639;r++)i[r]=0;for(r=5649;r<=5653;r++)i[r]=0;for(r=5663;r<=5680;r++)i[r]=0;for(r=5682;r<=5685;r++)i[r]=0;for(r=5875;r<=5877;r++)i[r]=0;for(r=5896;r<=5899;r++)i[r]=0;for(r=5921;r<=5940;r++)i[r]=0;for(r=6050;r<=6125;r++)i[r]=0;for(r=6244;r<=6275;r++)i[r]=0;for(r=6328;r<=6348;r++)i[r]=0;for(r=6350;r<=6356;r++)i[r]=0;for(r=6366;r<=6372;r++)i[r]=0;for(r=6381;r<=6387;r++)i[r]=0;for(r=6393;r<=6404;r++)i[r]=0;for(r=6480;r<=6483;r++)i[r]=0;for(r=6511;r<=6514;r++)i[r]=0;for(r=6579;r<=6581;r++)i[r]=0;for(r=6619;r<=6624;r++)i[r]=0;for(r=6625;r<=6627;r++)i[r]=2;for(r=6628;r<=6632;r++)i[r]=0;for(r=6634;r<=6637;r++)i[r]=0;for(r=6669;r<=6692;r++)i[r]=0;for(r=6707;r<=6709;r++)i[r]=0;for(r=6720;r<=6723;r++)i[r]=0;for(r=6732;r<=6738;r++)i[r]=0;for(r=6931;r<=6933;r++)i[r]=0;for(r=6956;r<=6959;r++)i[r]=0;for(r=7005;r<=7007;r++)i[r]=0;for(r=7057;r<=7070;r++)i[r]=2;for(r=7074;r<=7082;r++)i[r]=0;for(r=7109;r<=7118;r++)i[r]=0;for(r=7119;r<=7127;r++)i[r]=1;for(r=7374;r<=7376;r++)i[r]=0;for(r=7528;r<=7586;r++)i[r]=0;for(r=7587;r<=7645;r++)i[r]=2;for(r=7692;r<=7696;r++)i[r]=0;for(r=7755;r<=7787;r++)i[r]=0;for(r=7791;r<=7795;r++)i[r]=0;for(r=7799;r<=7801;r++)i[r]=0;for(r=7803;r<=7805;r++)i[r]=0;for(r=7825;r<=7831;r++)i[r]=0;for(r=7845;r<=7859;r++)i[r]=0;for(r=8013;r<=8032;r++)i[r]=0;for(r=8065;r<=8068;r++)i[r]=1;for(r=8518;r<=8529;r++)i[r]=2;for(r=8533;r<=8536;r++)i[r]=2;for(r=8538;r<=8540;r++)i[r]=2;for(r=8677;r<=8679;r++)i[r]=0;for(r=8836;r<=8840;r++)i[r]=0;for(r=8857;r<=8859;r++)i[r]=0;for(r=8908;r<=8910;r++)i[r]=0;for(r=9154;r<=9159;r++)i[r]=0;for(r=9205;r<=9218;r++)i[r]=0;for(r=9271;r<=9273;r++)i[r]=0;for(r=9295;r<=9297;r++)i[r]=0;for(r=20002;r<=20032;r++)i[r]=0;for(r=20062;r<=20092;r++)i[r]=0;for(r=20135;r<=20138;r++)i[r]=0;for(r=20248;r<=20258;r++)i[r]=0;for(r=20348;r<=20358;r++)i[r]=0;for(r=20436;r<=20440;r++)i[r]=0;for(r=20822;r<=20824;r++)i[r]=0;for(r=20934;r<=20936;r++)i[r]=0;for(r=21035;r<=21037;r++)i[r]=0;for(r=21095;r<=21097;r++)i[r]=0;for(r=21148;r<=21150;r++)i[r]=0;for(r=21413;r<=21423;r++)i[r]=0;for(r=21453;r<=21463;r++)i[r]=0;for(r=21473;r<=21483;r++)i[r]=0;for(r=21780;r<=21782;r++)i[r]=0;for(r=21891;r<=21894;r++)i[r]=0;for(r=21896;r<=21899;r++)i[r]=0;for(r=22171;r<=22177;r++)i[r]=0;for(r=22181;r<=22187;r++)i[r]=0;for(r=22191;r<=22197;r++)i[r]=0;for(r=22234;r<=22236;r++)i[r]=0;for(r=22521;r<=22525;r++)i[r]=0;for(r=22991;r<=22994;r++)i[r]=0;for(r=23028;r<=23038;r++)i[r]=0;for(r=23830;r<=23853;r++)i[r]=0;for(r=23866;r<=23872;r++)i[r]=0;for(r=23877;r<=23884;r++)i[r]=0;for(r=23886;r<=23894;r++)i[r]=0;for(r=23946;r<=23948;r++)i[r]=0;for(r=24311;r<=24313;r++)i[r]=0;for(r=24342;r<=24347;r++)i[r]=0;for(r=24370;r<=24374;r++)i[r]=10;for(r=24375;r<=24381;r++)i[r]=0;for(r=24718;r<=24721;r++)i[r]=0;for(r=24817;r<=24821;r++)i[r]=0;for(r=24877;r<=24882;r++)i[r]=0;for(r=24891;r<=24893;r++)i[r]=0;for(r=25391;r<=25395;r++)i[r]=0;for(r=25828;r<=25838;r++)i[r]=0;for(r=26191;r<=26195;r++)i[r]=0;for(r=26391;r<=26393;r++)i[r]=0;for(r=26701;r<=26722;r++)i[r]=0;for(r=26729;r<=26799;r++)i[r]=2;for(r=26801;r<=26803;r++)i[r]=2;for(r=26811;r<=26813;r++)i[r]=2;for(r=26847;r<=26870;r++)i[r]=2;for(r=26891;r<=26899;r++)i[r]=0;for(r=26901;r<=26923;r++)i[r]=0;for(r=26929;r<=26946;r++)i[r]=0;for(r=26948;r<=26998;r++)i[r]=0;for(r=27037;r<=27040;r++)i[r]=0;for(r=27205;r<=27232;r++)i[r]=0;for(r=27258;r<=27260;r++)i[r]=0;for(r=27391;r<=27398;r++)i[r]=0;for(r=27561;r<=27564;r++)i[r]=0;for(r=27571;r<=27574;r++)i[r]=0;for(r=27581;r<=27584;r++)i[r]=0;for(r=27591;r<=27594;r++)i[r]=0;for(r=28191;r<=28193;r++)i[r]=0;for(r=28348;r<=28358;r++)i[r]=0;for(r=28402;r<=28432;r++)i[r]=0;for(r=28462;r<=28492;r++)i[r]=0;for(r=29118;r<=29122;r++)i[r]=0;for(r=29168;r<=29172;r++)i[r]=0;for(r=29177;r<=29185;r++)i[r]=0;for(r=29187;r<=29195;r++)i[r]=0;for(r=29900;r<=29903;r++)i[r]=0;for(r=30161;r<=30179;r++)i[r]=0;for(r=30491;r<=30494;r++)i[r]=0;for(r=30729;r<=30732;r++)i[r]=0;for(r=31251;r<=31259;r++)i[r]=0;for(r=31265;r<=31268;r++)i[r]=0;for(r=31275;r<=31279;r++)i[r]=0;for(r=31281;r<=31297;r++)i[r]=0;for(r=31461;r<=31469;r++)i[r]=0;for(r=31491;r<=31495;r++)i[r]=0;for(r=31917;r<=31922;r++)i[r]=0;for(r=31965;r<=32e3;r++)i[r]=0;for(r=32001;r<=32003;r++)i[r]=2;for(r=32005;r<=32031;r++)i[r]=2;for(r=32033;r<=32060;r++)i[r]=2;for(r=32064;r<=32067;r++)i[r]=2;for(r=32074;r<=32077;r++)i[r]=2;for(r=32081;r<=32086;r++)i[r]=0;for(r=32107;r<=32130;r++)i[r]=0;for(r=32133;r<=32158;r++)i[r]=0;for(r=32164;r<=32167;r++)i[r]=2;for(r=32180;r<=32199;r++)i[r]=0;for(r=32201;r<=32260;r++)i[r]=0;for(r=32301;r<=32360;r++)i[r]=0;for(r=32601;r<=32662;r++)i[r]=0;for(r=32664;r<=32667;r++)i[r]=2;for(r=32701;r<=32761;r++)i[r]=0;for(r=53001;r<=53004;r++)i[r]=0;for(r=53008;r<=53019;r++)i[r]=0;for(r=53021;r<=53032;r++)i[r]=0;for(r=53034;r<=53037;r++)i[r]=0;for(r=53042;r<=53046;r++)i[r]=0;for(r=53074;r<=53080;r++)i[r]=0;for(r=54001;r<=54004;r++)i[r]=0;for(r=54008;r<=54019;r++)i[r]=0;for(r=54021;r<=54032;r++)i[r]=0;for(r=54034;r<=54037;r++)i[r]=0;for(r=54042;r<=54046;r++)i[r]=0;for(r=54048;r<=54053;r++)i[r]=0;for(r=54074;r<=54080;r++)i[r]=0;for(r=54098;r<=54101;r++)i[r]=0;for(r=102001;r<=102040;r++)i[r]=0;for(r=102042;r<=102063;r++)i[r]=0;for(r=102065;r<=102067;r++)i[r]=0;for(r=102070;r<=102117;r++)i[r]=0;for(r=102122;r<=102216;r++)i[r]=0;for(r=102221;r<=102377;r++)i[r]=0;for(r=102382;r<=102388;r++)i[r]=0;for(r=102389;r<=102398;r++)i[r]=2;for(r=102399;r<=102444;r++)i[r]=0;for(r=102445;r<=102447;r++)i[r]=2;for(r=102448;r<=102458;r++)i[r]=0;for(r=102459;r<=102468;r++)i[r]=2;for(r=102469;r<=102499;r++)i[r]=0;for(r=102500;r<=102519;r++)i[r]=1;for(r=102520;r<=102524;r++)i[r]=0;for(r=102525;r<=102529;r++)i[r]=2;for(r=102530;r<=102588;r++)i[r]=0;for(r=102590;r<=102598;r++)i[r]=0;for(r=102601;r<=102603;r++)i[r]=0;for(r=102605;r<=102628;r++)i[r]=0;for(r=102629;r<=102646;r++)i[r]=2;for(r=102648;r<=102700;r++)i[r]=2;for(r=102701;r<=102703;r++)i[r]=0;for(r=102707;r<=102730;r++)i[r]=2;for(r=102733;r<=102758;r++)i[r]=2;for(r=102767;r<=102900;r++)i[r]=0;for(r=102965;r<=102969;r++)i[r]=0;for(r=102971;r<=102973;r++)i[r]=0;for(r=102975;r<=102989;r++)i[r]=0;for(r=102990;r<=102992;r++)i[r]=1;for(r=102997;r<=103002;r++)i[r]=0;for(r=103003;r<=103008;r++)i[r]=2;for(r=103009;r<=103011;r++)i[r]=0;for(r=103012;r<=103014;r++)i[r]=2;for(r=103019;r<=103021;r++)i[r]=0;for(r=103022;r<=103024;r++)i[r]=2;for(r=103029;r<=103031;r++)i[r]=0;for(r=103032;r<=103034;r++)i[r]=2;for(r=103065;r<=103068;r++)i[r]=0;for(r=103074;r<=103076;r++)i[r]=0;for(r=103077;r<=103079;r++)i[r]=1;for(r=103080;r<=103082;r++)i[r]=0;for(r=103083;r<=103085;r++)i[r]=2;for(r=103090;r<=103093;r++)i[r]=0;for(r=103097;r<=103099;r++)i[r]=0;for(r=103100;r<=103102;r++)i[r]=2;for(r=103107;r<=103109;r++)i[r]=0;for(r=103110;r<=103112;r++)i[r]=2;for(r=103113;r<=103116;r++)i[r]=0;for(r=103117;r<=103120;r++)i[r]=2;for(r=103153;r<=103157;r++)i[r]=0;for(r=103158;r<=103162;r++)i[r]=2;for(r=103163;r<=103165;r++)i[r]=0;for(r=103166;r<=103168;r++)i[r]=1;for(r=103169;r<=103171;r++)i[r]=2;for(r=103186;r<=103188;r++)i[r]=0;for(r=103189;r<=103191;r++)i[r]=2;for(r=103192;r<=103195;r++)i[r]=0;for(r=103196;r<=103199;r++)i[r]=2;for(r=103200;r<=103224;r++)i[r]=0;for(r=103225;r<=103227;r++)i[r]=1;for(r=103232;r<=103237;r++)i[r]=0;for(r=103238;r<=103243;r++)i[r]=2;for(r=103244;r<=103246;r++)i[r]=0;for(r=103247;r<=103249;r++)i[r]=2;for(r=103254;r<=103256;r++)i[r]=0;for(r=103257;r<=103259;r++)i[r]=2;for(r=103264;r<=103266;r++)i[r]=0;for(r=103267;r<=103269;r++)i[r]=2;for(r=103300;r<=103375;r++)i[r]=0;for(r=103381;r<=103383;r++)i[r]=0;for(r=103384;r<=103386;r++)i[r]=1;for(r=103387;r<=103389;r++)i[r]=0;for(r=103390;r<=103392;r++)i[r]=2;for(r=103397;r<=103399;r++)i[r]=0;for(r=103400;r<=103471;r++)i[r]=2;for(r=103476;r<=103478;r++)i[r]=0;for(r=103479;r<=103481;r++)i[r]=2;for(r=103486;r<=103488;r++)i[r]=0;for(r=103489;r<=103491;r++)i[r]=2;for(r=103492;r<=103495;r++)i[r]=0;for(r=103496;r<=103499;r++)i[r]=2;for(r=103528;r<=103543;r++)i[r]=0;for(r=103544;r<=103548;r++)i[r]=2;for(r=103549;r<=103551;r++)i[r]=0;for(r=103552;r<=103554;r++)i[r]=1;for(r=103555;r<=103557;r++)i[r]=2;for(r=103558;r<=103560;r++)i[r]=0;for(r=103571;r<=103573;r++)i[r]=0;for(r=103574;r<=103576;r++)i[r]=2;for(r=103577;r<=103580;r++)i[r]=0;for(r=103581;r<=103583;r++)i[r]=2;for(r=103595;r<=103694;r++)i[r]=0;for(r=103696;r<=103699;r++)i[r]=0;for(r=103700;r<=103793;r++)i[r]=2;for(r=103794;r<=103872;r++)i[r]=0;for(r=103900;r<=103971;r++)i[r]=2;t.a=i},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(209)),f=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).image=null,r.type="button",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}}]),n}(h.a);Object(c.a)([Object(u.b)()],f.prototype,"image",void 0);var d=f=r=Object(c.a)([Object(l.a)("esri.support.Action.ActionButton")],f);t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p}));var r=n(17),i=n(43),a=n(36),o=n(65),s=n(84),c=n(583),u=n(352),l=Object(s.a)("esri/symbols/patterns/"),h=new c.a(1e3);function f(e){var t=e.style,n=null;if(e)switch(e.type){case"simple-marker":"cross"!==t&&"x"!==t&&(n=e.color);break;case"simple-fill":"solid"===t?n=e.color:"none"!==t&&(n={type:"pattern",x:0,y:0,src:l+t+".png",width:5,height:5});break;case"picture-fill":n={type:"pattern",src:e.url,width:Object(a.g)(e.width)*e.xscale,height:Object(a.g)(e.height)*e.yscale,x:Object(a.g)(e.xoffset),y:Object(a.g)(e.yoffset)};break;case"text":n=e.color;break;case"cim":n=Object(u.b)(e)}return n}function d(e,t){var n=e+"-"+t;return void 0!==h.get(n)?Object(r.s)(h.get(n)):Object(o.default)(e,{responseType:"image"}).then((function(e){var r=e.data,i=r.naturalWidth,a=r.naturalHeight,o=document.createElement("canvas");o.width=i,o.height=a;var s=o.getContext("2d");s.fillStyle=t,s.fillRect(0,0,i,a),s.globalCompositeOperation="destination-in",s.drawImage(r,0,0);var c=o.toDataURL();return h.put(n,c),c}))}function p(e){if(!e)return null;var t;switch(e.type){case"simple-fill":case"picture-fill":case"simple-marker":t=p(e.outline);break;case"simple-line":var n=Object(a.g)(e.width);"none"!==e.style&&0!==n&&(t={color:e.color,style:b(e.style),width:n,cap:e.cap,join:"miter"===e.join?Object(a.g)(e.miterLimit):e.join});break;default:t=null}return t}var b=function(){var e={};return function(t){if(e[t])return e[t];var n=t.replace(/-/g,"");return e[t]=n,n}}(),v=new i.a([128,128,128])},function(e,t,n){"use strict";function r(){return new Float32Array(4)}function i(e){var t=new Float32Array(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(e,t,n,r){var i=new Float32Array(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function o(){return r()}function s(){return a(1,1,1,1)}function c(){return a(1,0,0,0)}function u(){return a(0,1,0,0)}function l(){return a(0,0,1,0)}function h(){return a(0,0,0,1)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var f=o(),d=s(),p=c(),b=u(),v=l(),y=h();Object.freeze({__proto__:null,create:r,clone:i,fromValues:a,createView:function(e,t){return new Float32Array(e,t,4)},zeros:o,ones:s,unitX:c,unitY:u,unitZ:l,unitW:h,ZEROS:f,ONES:d,UNIT_X:p,UNIT_Y:b,UNIT_Z:v,UNIT_W:y})},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(4)),u=(n(14),n(18),n(1)),l=n(45),h=n(8),f=(n(12),n(21),n(22),n(139)),d=n(471),p=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(i.a)(n,[{key:"clone",value:function(){}}]),n}(n(27).a);Object(s.a)([Object(u.b)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],p.prototype,"type",void 0);var b,v=p=Object(s.a)([Object(h.a)("esri.symbols.patterns.Pattern3D")],p),y=b=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).type="style",i.style="solid",i}return Object(i.a)(n,[{key:"clone",value:function(){return new b({style:this.style})}}]),n}(v);Object(s.a)([Object(u.b)({type:["style"]})],y.prototype,"type",void 0),Object(s.a)([Object(u.b)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:!0}})],y.prototype,"style",void 0);var m=y=b=Object(s.a)([Object(h.a)("esri.symbols.patterns.StylePattern3D")],y);var g,O={types:{key:"type",base:v,typeMap:{style:m}},json:{read:function(e,t,n){if(!e)return e;switch(e.type){case"style":var r=new m;return r.read(e,n),r}},write:!0}},j=n(256),w=n(168),_=g=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"clone",value:function(){return new g({color:Object(c.h)(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})}}]),n}(w.a);Object(s.a)([Object(l.a)({multiply:"multiply",replace:"replace",tint:"tint"})],_.prototype,"colorMixMode",void 0);var x,k=_=g=Object(s.a)([Object(h.a)("esri.symbols.support.Symbol3DFillMaterial")],_),S=n(414),E=x=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).type="fill",i.material=null,i.pattern=null,i.castShadows=!0,i.outline=null,i.edges=null,i}return Object(i.a)(n,[{key:"clone",value:function(){return new x({edges:Object(c.h)(this.edges)?this.edges.clone():null,enabled:this.enabled,material:Object(c.h)(this.material)?this.material.clone():null,pattern:Object(c.h)(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:Object(c.h)(this.outline)?this.outline.clone():null})}}],[{key:"fromSimpleFillSymbol",value:function(e){return new x({material:{color:(e.color||j.b).clone()},pattern:e.style&&"solid"!==e.style?new m({style:e.style}):null,outline:e.outline?new S.a({size:e.outline.width||0,color:(e.outline.color||j.c).clone()}):null})}}]),n}(f.a);Object(s.a)([Object(l.a)({Fill:"fill"},{readOnly:!0})],E.prototype,"type",void 0),Object(s.a)([Object(u.b)({type:k,json:{write:!0}})],E.prototype,"material",void 0),Object(s.a)([Object(u.b)(O)],E.prototype,"pattern",void 0),Object(s.a)([Object(u.b)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],E.prototype,"castShadows",void 0),Object(s.a)([Object(u.b)({type:S.a,json:{write:!0}})],E.prototype,"outline",void 0),Object(s.a)([Object(u.b)(d.a)],E.prototype,"edges",void 0);var T=E=x=Object(s.a)([Object(h.a)("esri.symbols.FillSymbol3DLayer")],E);t.a=T},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(4)),l=(n(14),n(18),n(1)),h=n(45),f=n(8),d=(n(12),n(21),n(22),n(139)),p=n(168),b=n(480),v=n(37),y=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).x=0,e.y=0,e.z=0,e}return Object(a.a)(n,[{key:"clone",value:function(){return new r({x:this.x,y:this.y,z:this.z})}}]),n}(v.a);Object(c.a)([Object(l.b)({type:Number})],y.prototype,"x",void 0),Object(c.a)([Object(l.b)({type:Number})],y.prototype,"y",void 0),Object(c.a)([Object(l.b)({type:Number})],y.prototype,"z",void 0);y=r=Object(c.a)([Object(f.a)("esri.symbols.support.Symbol3DAnchorPosition3D")],y);var m,g=m=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).material=null,r.castShadows=!0,r.resource=null,r.type="object",r.width=void 0,r.height=void 0,r.depth=void 0,r.anchor=void 0,r.anchorPosition=void 0,r.heading=void 0,r.tilt=void 0,r.roll=void 0,r}return Object(a.a)(n,[{key:"clone",value:function(){return new m({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:Object(u.h)(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}},{key:"isPrimitive",get:function(){return!this.resource||"string"!=typeof this.resource.href}}]),n}(d.a);Object(c.a)([Object(l.b)({type:p.a,json:{write:!0}})],g.prototype,"material",void 0),Object(c.a)([Object(l.b)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],g.prototype,"castShadows",void 0),Object(c.a)([Object(l.b)({type:b.a,json:{write:!0}})],g.prototype,"resource",void 0),Object(c.a)([Object(h.a)({Object:"object"},{readOnly:!0})],g.prototype,"type",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],g.prototype,"width",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],g.prototype,"height",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],g.prototype,"depth",void 0),Object(c.a)([Object(h.a)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),Object(l.b)({json:{default:"origin"}})],g.prototype,"anchor",void 0),Object(c.a)([Object(l.b)({type:y,json:{type:[Number],read:{reader:function(e){return new y({x:e[0],y:e[1],z:e[2]})}},write:{writer:function(e,t){t.anchorPosition=[e.x,e.y,e.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],g.prototype,"anchorPosition",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],g.prototype,"heading",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],g.prototype,"tilt",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],g.prototype,"roll",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["resource","resource.href"]})],g.prototype,"isPrimitive",null);var O=g=m=Object(c.a)([Object(f.a)("esri.symbols.ObjectSymbol3DLayer")],g);t.a=O},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,i=n(171),a={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,styleApplyer:function(e,t,n){e.style[t]=n}},o=function(e){return Object(i.c)(a,e)},s=function(e,t,n){return n=o(n),Object(i.a)(t,e,void 0,n),Object(i.b)(t,n)},c=function(e,t,n){return n=o(n),Object(i.a)(t,e.parentNode,e,n),Object(i.b)(t,n)},u=function(e,t,n){return n=o(n),t.domNode=e,Object(i.d)(e,t,n),Object(i.b)(t,n)},l=function(e,t,n){return n=o(n),Object(i.a)(t,e.parentNode,e,n),e.parentNode.removeChild(e),Object(i.b)(t,n)},h=function(e,t){for(var n=[];e!==t;)n.push(e),e=e.parentNode;return n};r=Array.prototype.find?function(e,t){return e.find(t)}:function(e,t){return e.filter(t)[0]};var f=function(e,t){var n=e;return t.forEach((function(e){n=n&&n.children?r(n.children,(function(t){return t.domNode===e})):void 0})),n},d=function(e){var t,n,r=o(e),i=r.performanceLogger,a=!0,d=!1,p=[],b=[],v=function(e,n,a){var o;r.eventHandlerInterceptor=function(e,t,n){var r=function(r){n("domEvent",r);var i=t(),a=h(r.currentTarget,i.domNode);a.reverse();var o,s=f(i.getLastRender(),a);return e.scheduleRender(),s&&(o=s.properties["on".concat(r.type)].apply(s.properties.bind||this,arguments)),n("domEventProcessed",r),o};return function(){return r}}(t,(function(){return o}),i),o=e(n,a(),r),p.push(o),b.push(a)},y=function(){if(n=void 0,a){a=!1,i("renderStart",void 0);for(var e=0;e<p.length;e++){var t=b[e]();i("rendered",void 0),p[e].update(t),i("patched",void 0)}i("renderDone",void 0),a=!0}};return t={renderNow:y,scheduleRender:function(){n||d||(n=requestAnimationFrame(y))},stop:function(){n&&(cancelAnimationFrame(n),n=void 0),d=!0},resume:function(){d=!1,a=!0,t.scheduleRender()},append:function(e,t){v(s,e,t)},insertBefore:function(e,t){v(c,e,t)},merge:function(e,t){v(u,e,t)},replace:function(e,t){v(l,e,t)},detach:function(e){for(var t=0;t<b.length;t++)if(b[t]===e)return b.splice(t,1),p.splice(t,1)[0];throw new Error("renderFunction was not found")}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return s}));var r=n(549),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function o(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var c=e,u=t,l=[],h=l,f=!1;function d(){h===l&&(h=l.slice())}function p(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function b(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return d(),h.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,d();var n=h.indexOf(e);h.splice(n,1),l=null}}}function v(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,u=c(u,e)}finally{f=!1}for(var t=l=h,n=0;n<t.length;n++){(0,t[n])()}return e}function y(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,v({type:a.REPLACE})}function m(){var e,t=b;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return v({type:a.INIT}),(i={dispatch:v,subscribe:b,getState:p,replaceReducer:y})[r.a]=m,i}function c(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(u){o=u}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var u=s[a],l=n[u],h=e[u],f=l(h,t);if("undefined"===typeof f){var d=c(u,t);throw new Error(d)}i[u]=f,r=r||f!==h}return(r=r||s.length!==Object.keys(e).length)?i:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function h(e,t){if("function"===typeof e)return l(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=l(i,t))}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return p({},n,{dispatch:r=b.apply(void 0,a)(n.dispatch)})}}}},function(e,t,n){"use strict";var r=n(13),i=n(58),a=i.a.queueMicrotask?i.a.queueMicrotask:function(e){i.a.Promise.resolve().then(e)},o=[],s=[];function c(e){o.push(e),1===o.length&&a((function(){var e,t=Object(r.a)(s);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(c){t.e(c)}finally{t.f()}var n=o.slice();o.length=0;var i,a=Object(r.a)(n);try{for(a.s();!(i=a.n()).done;){(0,i.value)()}}catch(c){a.e(c)}finally{a.f()}}))}(c||(c={})).before=function(e){return s.push(e),{remove:function(){s=s.filter((function(t){return t!==e}))}}};var u=c;t.a=u},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.hasM,i=e.hasZ;Array.isArray(t)?4!==t.length||r||i?3===t.length&&n&&!r?(i=!0,r=!1):3===t.length&&r&&i&&(r=!1,i=!1):(r=!0,i=!0):(i=!i&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r,i=n(7),a=n.n(i),o=n(16),s=n(2),c=n(3),u=n(61),l=n(57),h=n(5),f=n(6),d=n(0),p=(n(15),n(14)),b=(n(18),n(1)),v=n(45),y=n(8),m=(n(12),n(21),n(22),n(126)),g=n(17),O=n(130),j=n(121),w=n(328),_=p.a.getLogger("esri.symbols.WebStyleSymbol"),x=r=function(e){Object(h.a)(i,e);var t=Object(f.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).styleName=null,n.portal=null,n.styleUrl=null,n.thumbnail=null,n.name=null,n.type="web-style",n}return Object(c.a)(i,[{key:"read",value:function(e,t){this.portal=t?t.portal:void 0,Object(u.a)(Object(l.a)(i.prototype),"read",this).call(this,e,t)}},{key:"clone",value:function(){return new r({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}},{key:"fetchSymbol",value:function(e){return this._fetchSymbol("webRef",e)}},{key:"fetchCIMSymbol",value:function(e){return this._fetchSymbol("cimRef",e)}},{key:"_fetchSymbol",value:function(){var e=Object(o.a)(a.a.mark((function e(t,r){var i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(null,408));case 2:return i=e.sent,Object(g.u)(r),o=i.resolveWebStyleSymbol(this,{portal:this.portal},t,r),e.abrupt("return",(o.catch((function(e){_.error("#fetchSymbol()","Failed to create symbol from style",e)})),o));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),i}(O.a);Object(d.a)([Object(b.b)({json:{write:!1}})],x.prototype,"color",void 0),Object(d.a)([Object(b.b)({type:String,json:{write:!0}})],x.prototype,"styleName",void 0),Object(d.a)([Object(b.b)({type:j.a,json:{write:!1}})],x.prototype,"portal",void 0),Object(d.a)([Object(b.b)({type:String,json:{read:m.d,write:m.f}})],x.prototype,"styleUrl",void 0),Object(d.a)([Object(b.b)({type:w.a,json:{read:!1}})],x.prototype,"thumbnail",void 0),Object(d.a)([Object(b.b)({type:String,json:{write:!0}})],x.prototype,"name",void 0),Object(d.a)([Object(v.a)({styleSymbolReference:"web-style"},{readOnly:!0})],x.prototype,"type",void 0);var k=x=r=Object(d.a)([Object(y.a)("esri.symbols.WebStyleSymbol")],x);t.a=k},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return c}));var r=n(125),i=new RegExp("__begin__","ig"),a=new RegExp("__end__","ig"),o=new RegExp("^__begin__","i"),s=new RegExp("__end__$","i");function c(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function u(e){var t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),t.type="conventional"),t}function l(e){var t=u(e);if(!t)return null;switch(t.type){case"conventional":return f(t.expression);case"arcade":return t.expression}return null}function h(e){var t=u(e);if(!t)return null;switch(t.type){case"conventional":return function(e){var t=e.match(d);return t&&t[1].trim()||null}(t.expression);case"arcade":return y(t.expression)}return null}function f(e){var t;return e?(t=Object(r.c)(e,(function(e){return'__begin__$feature["'+e+'"]__end__'})),t=o.test(t)?t.replace(o,""):'"'+t,t=(t=s.test(t)?t.replace(s,""):t+'"').replace(i,'" + ').replace(a,' + "')):t='""',t}var d=/^\s*\{([^}]+)\}\s*$/i;var p=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,b=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,v=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function y(e){if(!e)return null;var t=p.exec(e)||b.exec(e);return t?t[1]||t[3]:(t=v.exec(e))?t[2]:null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(101),i=n(477);function a(e,t){var n;if(t.write&&!t.write.writer&&(!1!==t.write.enabled||t.write.overridePolicy)){var a,s=null!=(n=null==e?void 0:e.ndimArray)?n:0;e&&(1===s||"type"in e&&Object(i.a)(e.type))?t.write.writer=u:t.write.writer=s>1?(a=s,function(e,t,n,i){var o;if(null===e)o=null;else{o=l(e,i,a);for(var s=a,c=o;s>0&&Array.isArray(c);)s--,c=c[0];if(void 0!==c)for(var u=0;u<s;u++)o=[o]}Object(r.c)(n,o,t)}):o}}function o(e,t,n,i){Object(r.c)(n,s(e,i),t)}function s(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?c(e):e}function c(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function u(e,t,n,i){var a;null===e?a=null:e&&"function"==typeof e.map?"function"==typeof(a=e.map((function(e){return s(e,i)}))).toArray&&(a=a.toArray()):a=[s(e,i)],Object(r.c)(n,a,t)}function l(e,t,n){return 0!==n&&Array.isArray(e)?e.map((function(e){return l(e,t,n-1)})):s(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(10),i=n(7),a=n.n(i),o=n(16),s=n(2),c=n(3),u=n(61),l=n(57),h=n(5),f=n(6),d=n(0),p=(n(15),n(14)),b=(n(18),n(1)),v=n(34),y=n(8),m=n(35),g=n(20),O=n(12),j=(n(21),n(22),n(17)),w=n(121),_=n(385),x=p.a.getLogger("esri.layers.mixins.PortalLayer"),k=function(e){var t=function(e){Object(h.a)(i,e);var t=Object(f.a)(i);function i(){var e;return Object(s.a)(this,i),(e=t.apply(this,arguments)).resourceReferences={portalItem:null,paths:[]},e}return Object(c.a)(i,[{key:"destroy",value:function(){var e;null==(e=this.portalItem)||e.destroy(),this.portalItem=null}},{key:"portalItem",set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}},{key:"readPortalItem",value:function(e,t,n){if(t.itemId)return new _.default({id:t.itemId,portal:n&&n.portal})}},{key:"writePortalItem",value:function(e,t){e&&e.id&&(t.itemId=e.id)}},{key:"loadFromPortal",value:function(){var e=Object(o.a)(a.a.mark((function e(t,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.portalItem||!this.portalItem.id){e.next=14;break}return e.prev=1,e.next=4,n.e(54).then(n.bind(null,966));case 4:return i=e.sent,Object(j.u)(r),e.next=8,i.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),x.warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(e.t0)),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"read",value:function(e,t){t&&(t.layer=this),Object(u.a)(Object(l.a)(i.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){var n=t&&t.portal,a=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||w.a.getDefault());return n&&a&&!Object(O.r)(a.restUrl,n.restUrl)?(t.messages&&t.messages.push(new g.a("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer"),{layer:this})),null):Object(u.a)(Object(l.a)(i.prototype),"write",this).call(this,e,Object(r.a)(Object(r.a)({},t),{},{layer:this}))}}]),i}(e);return Object(d.a)([Object(b.b)({type:_.default})],t.prototype,"portalItem",null),Object(d.a)([Object(v.a)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),Object(d.a)([Object(m.a)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),Object(d.a)([Object(b.b)()],t.prototype,"resourceReferences",void 0),t=Object(d.a)([Object(y.a)("esri.layers.mixins.PortalLayer")],t),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(10),i=n(2),a=n(3),o=n(61),s=n(57),c=n(5),u=n(6),l=n(0),h=(n(15),n(14),n(18),n(1)),f=n(8),d=n(35),p=n(20),b=(n(12),n(21),n(22),n(362)),v=n(296),y={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}},m=n(131),g=function(e){var t=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).title=null,e}return Object(a.a)(n,[{key:"writeListMode",value:function(e,t,n,r){(r&&"ground"===r.layerContainerType||e&&Object(v.a)(this,n,{},r))&&(t[n]=e)}},{key:"writeOperationalLayerType",value:function(e,t,n,r){!e||r&&"tables"===r.layerContainerType||(t.layerType=e)}},{key:"writeTitle",value:function(e,t){t.title=e||"Layer"}},{key:"read",value:function(e,t){var r=this;t&&(t.layer=this),Object(b.b)(this,e,(function(t){return Object(o.a)(Object(s.a)(n.prototype),"read",r).call(r,e,t)}),t)}},{key:"write",value:function(e,t){if(t&&t.origin){var i="".concat(t.origin,"/").concat(t.layerContainerType||"operational-layers"),a=y[i],c=a&&a[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===i&&(c=!1),!c)return t.messages&&t.messages.push(new p.a("layer:unsupported","Layers (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' are not supported in the context of '").concat(i,"'"),{layer:this})),null}var u=Object(o.a)(Object(s.a)(n.prototype),"write",this).call(this,e,Object(r.a)(Object(r.a)({},t),{},{layer:this})),l=!!t&&!!t.messages&&!!t.messages.filter((function(e){return e instanceof p.a&&"web-document-write:property-required"===e.name})).length;return!this.url&&l?null:u}},{key:"beforeSave",value:function(){}}]),n}(e);return Object(l.a)([Object(h.b)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),Object(l.a)([Object(h.b)({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],t.prototype,"listMode",void 0),Object(l.a)([Object(d.a)("listMode")],t.prototype,"writeListMode",null),Object(l.a)([Object(h.b)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),Object(l.a)([Object(d.a)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),Object(l.a)([Object(h.b)(m.e)],t.prototype,"opacity",void 0),Object(l.a)([Object(h.b)({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),Object(l.a)([Object(d.a)("title")],t.prototype,"writeTitle",null),Object(l.a)([Object(h.b)({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],t.prototype,"visible",void 0),t=Object(l.a)([Object(f.a)("esri.layers.mixins.OperationalLayer")],t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(8),l=(n(12),n(21),n(22),function(e){var t=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).minScale=0,e.maxScale=0,e}return Object(i.a)(n,[{key:"scaleRangeId",get:function(){return"".concat(this.minScale,",").concat(this.maxScale)}}]),n}(e);return Object(s.a)([Object(c.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),Object(s.a)([Object(c.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),Object(s.a)([Object(c.b)({readOnly:!0,dependsOn:["minScale","maxScale"]})],t.prototype,"scaleRangeId",null),t=Object(s.a)([Object(u.a)("esri.layers.mixins.ScaleRangeLayer")],t)})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(5),a=n(6),o=n(0),s=(n(15),n(14),n(18),n(1)),c=n(8),u=(n(12),n(21),n(22),function(e){var t=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).blendMode="normal",e.effect=null,e}return n}(e);return Object(o.a)([Object(s.b)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{default:"normal",read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),Object(o.a)([Object(s.b)()],t.prototype,"effect",void 0),t=Object(o.a)([Object(c.a)("esri.layers.mixins.BlendLayer")],t)})},function(e,t,n){"use strict";n.r(t);var r=n(32),i=n(13),a=n(2),o=n(3),s=n(5),c=n(6),u=n(0),l=(n(15),n(4)),h=(n(14),n(18),n(1)),f=n(50),d=n(34),p=n(8),b=n(35),v=(n(12),n(21),n(22),n(27)),y=n(48),m=n(97),g=n(99),O=n(80),j=n(239),w=new f.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),_=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).displayFieldName=null,r.exceededTransferLimit=!1,r.features=[],r.fields=null,r.geometryType=null,r.hasM=!1,r.hasZ=!1,r.queryGeometry=null,r.spatialReference=null,r}return Object(o.a)(n,[{key:"readFeatures",value:function(e,t){for(var n=y.a.fromJSON(t.spatialReference),r=[],i=0;i<e.length;i++){var a=e[i],o=O.a.fromJSON(a),s=a.geometry&&a.geometry.spatialReference;Object(l.h)(o.geometry)&&!s&&(o.geometry.spatialReference=n),r.push(o)}return r}},{key:"writeGeometryType",value:function(e,t,n,r){if(e)w.write(e,t,n,r);else{var a=this.features;if(a){var o,s=Object(i.a)(a);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c&&Object(l.h)(c.geometry))return void w.write(c.geometry.type,t,n,r)}}catch(u){s.e(u)}finally{s.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var n=!!e.spatialReference,r=Object(m.a)(e);return!n&&t.spatialReference&&(r.spatialReference=y.a.fromJSON(t.spatialReference)),r}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var n=this.features;if(n){var r,a=Object(i.a)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;o&&Object(l.h)(o.geometry)&&o.geometry.spatialReference&&(t.spatialReference=o.geometry.spatialReference.toJSON())}}catch(s){a.e(s)}finally{a.f()}}}}},{key:"toJSON",value:function(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var n=0;n<t.features.length;n++){var r=t.features[n];if(r.geometry){var i=e&&e[n];r.geometry=i&&i.toJSON()||r.geometry}}return t}},{key:"quantize",value:function(e){for(var t=Object(r.a)(e.scale,2),n=t[0],i=t[1],a=Object(r.a)(e.translate,2),o=a[0],s=a[1],c=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-o)/n)}),(function(e){return Math.round((s-e)/i)})),h=0,f=c.length;h<f;h++)u(Object(l.n)(c[h].geometry))||(c.splice(h,1),h--,f--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,n=this.transform;if(!n)return this;var a,o=Object(r.a)(n.translate,2),s=o[0],c=o[1],u=Object(r.a)(n.scale,2),h=u[0],f=u[1],d=this._getHydrationFunction(e,(function(e){return e*h+s}),(function(e){return c-e*f})),p=Object(i.a)(t);try{for(p.s();!(a=p.n()).done;){var b=a.value.geometry;Object(l.h)(b)&&d(b)}}catch(v){p.e(v)}finally{p.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,n){for(var r,i,a=[],o=0,s=e.length;o<s;o++){var c=e[o];if(o>0){var u=t(c[0]),l=n(c[1]);u===r&&l===i||(a.push([u-r,l-i]),r=u,i=l)}else r=t(c[0]),i=n(c[1]),a.push([r,i])}return a.length>0?a:null}},{key:"_getQuantizationFunction",value:function(e,t,n){var r=this;return"point"===e?function(e){return e.x=t(e.x),e.y=n(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var i=Object(m.g)(e)?e.rings:e.paths,a=[],o=0,s=i.length;o<s;o++){var c=i[o],u=r._quantizePoints(c,t,n);u&&a.push(u)}return a.length>0?(Object(m.g)(e)?e.rings=a:e.paths=a,e):null}:"multipoint"===e?function(e){var i;return(i=r._quantizePoints(e.points,t,n)).length>0?(e.points=i,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,n){return"point"===e?function(e){e.x=t(e.x),e.y=n(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var r,i,a=Object(m.g)(e)?e.rings:e.paths,o=0,s=a.length;o<s;o++)for(var c=a[o],u=0,l=c.length;u<l;u++){var h=c[u];u>0?(r+=h[0],i+=h[1]):(r=h[0],i=h[1]),h[0]=t(r),h[1]=n(i)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=n(e.ymin),e.xmax=t(e.xmax),e.ymax=n(e.ymax)}:"multipoint"===e?function(e){for(var r,i,a=e.points,o=0,s=a.length;o<s;o++){var c=a[o];o>0?(r+=c[0],i+=c[1]):(r=c[0],i=c[1]),c[0]=t(r),c[1]=n(i)}}:void 0}}]),n}(v.a);Object(u.a)([Object(h.b)({type:String,json:{write:!0}})],_.prototype,"displayFieldName",void 0),Object(u.a)([Object(h.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],_.prototype,"exceededTransferLimit",void 0),Object(u.a)([Object(h.b)({type:[O.a],json:{write:!0}})],_.prototype,"features",void 0),Object(u.a)([Object(d.a)("features")],_.prototype,"readFeatures",null),Object(u.a)([Object(h.b)({type:[j.a],json:{write:!0}})],_.prototype,"fields",void 0),Object(u.a)([Object(h.b)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:w.read}}})],_.prototype,"geometryType",void 0),Object(u.a)([Object(b.a)("geometryType")],_.prototype,"writeGeometryType",null),Object(u.a)([Object(h.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],_.prototype,"hasM",void 0),Object(u.a)([Object(h.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],_.prototype,"hasZ",void 0),Object(u.a)([Object(h.b)({types:g.b,json:{write:!0}})],_.prototype,"queryGeometry",void 0),Object(u.a)([Object(d.a)("queryGeometry")],_.prototype,"readQueryGeometry",null),Object(u.a)([Object(h.b)({type:y.a,json:{write:!0}})],_.prototype,"spatialReference",void 0),Object(u.a)([Object(b.a)("spatialReference")],_.prototype,"writeSpatialReference",null),Object(u.a)([Object(h.b)({json:{write:!0}})],_.prototype,"transform",void 0),(_=Object(u.a)([Object(p.a)("esri.tasks.support.FeatureSet")],_)).prototype.toJSON.isDefaultToJSON=!0,_||(_={});var x=_;t.default=x},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(4)),u=n(14),l=(n(18),n(1)),h=n(8),f=(n(12),n(21),n(22),n(178)),d=function(e){var t=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"title",get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){var e=Object(f.e)(this.url);if(Object(c.h)(e)&&e.title)return e.title}return this._get("title")||""},set:function(e){this._set("title",e)}},{key:"url",set:function(e){this._set("url",Object(f.f)(e,u.a.getLogger(this.declaredClass)))}}]),n}(e);return Object(s.a)([Object(l.b)({dependsOn:["url"]})],t.prototype,"title",null),Object(s.a)([Object(l.b)({type:String})],t.prototype,"url",null),t=Object(s.a)([Object(h.a)("esri.layers.mixins.ArcGISService")],t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c}));var r=n(2),i=n(3),a=n(44),o=n(24),s=n(9);function c(e){var t=e[0]*e[0]+e[4]*e[4]+e[8]*e[8],n=e[1]*e[1]+e[5]*e[5]+e[9]*e[9],r=e[2]*e[2]+e[6]*e[6]+e[10]*e[10];return Math.sqrt(Math.max(Math.max(t,n),r))}function u(e,t){var n=Object(s.m)(e),r=Object(a.c)(e[2]/n),i=Math.atan2(e[1]/n,e[0]/n);return Object(s.t)(t,n,r,i),t}function l(e,t,n){var r=n[0]-t[0],i=n[1]-t[1],a=n[2]-t[2],o=r*r+i*i+a*a;return o?(o=1/Math.sqrt(o),e[0]=r*o,e[1]=i*o,e[2]=a*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}var h=function(){function e(t,n){Object(r.a)(this,e),this.min=t,this.max=n,this.range=n-t}return Object(i.a)(e,[{key:"ndiff",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.ceil((e-t)/this.range)*this.range+t}},{key:"_normalize",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(n-=r)<e?n+=this.ndiff(e-n):n>t&&(n-=this.ndiff(n-t)),i&&n===t&&(n=e),n+r}},{key:"normalize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._normalize(this.min,this.max,e,t,n)}},{key:"clamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(a.d)(e-t,this.min,this.max)+t}},{key:"monotonic",value:function(e,t,n){return e<t?t:t+this.ndiff(e-t,n)}},{key:"minimalMonotonic",value:function(e,t,n){return this._normalize(e,e+this.range,t,n)}},{key:"center",value:function(e,t,n){return t=this.monotonic(e,t,n),this.normalize((e+t)/2,n)}},{key:"diff",value:function(e,t,n){return this.monotonic(e,t,n)-e}},{key:"shortestSignedDiff",value:function(e,t){e=this.normalize(e);var n=(t=this.normalize(t))-e,r=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e);return Math.abs(n)<Math.abs(r)?n:r}},{key:"contains",value:function(e,t,n){return t=this.minimalMonotonic(e,t),(n=this.minimalMonotonic(e,n))>e&&n<t}}]),e}();Object(o.e)(),Object(o.e)();function f(e){for(var t in e){var n=e[t];n instanceof Function&&(e[t]=n.bind(e))}return e}var d=f(new h(0,2*Math.PI)),p=f(new h(-Math.PI,Math.PI)),b=f(new h(0,360));Object(o.e)(),Object(o.e)(),Object(o.e)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var r=n(339),i=Object(r.b)((function(e){var t;void 0!==(t=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"])&&(e.exports=t)})),a=Object(r.b)((function(e){var t;void 0!==(t=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"])&&(e.exports=t)})),o=Object(r.b)((function(e){var t;void 0!==(t=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"])&&(e.exports=t)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CalciteHtml",{enumerable:!0,get:function(){return r.CalciteHtml}}),Object.defineProperty(t,"CalciteBody",{enumerable:!0,get:function(){return r.CalciteBody}}),Object.defineProperty(t,"CalciteP",{enumerable:!0,get:function(){return r.CalciteP}}),Object.defineProperty(t,"CalciteA",{enumerable:!0,get:function(){return r.CalciteA}}),Object.defineProperty(t,"CalciteH1",{enumerable:!0,get:function(){return r.CalciteH1}}),Object.defineProperty(t,"CalciteH2",{enumerable:!0,get:function(){return r.CalciteH2}}),Object.defineProperty(t,"CalciteH3",{enumerable:!0,get:function(){return r.CalciteH3}}),Object.defineProperty(t,"CalciteH4",{enumerable:!0,get:function(){return r.CalciteH4}}),Object.defineProperty(t,"CalciteH5",{enumerable:!0,get:function(){return r.CalciteH5}}),Object.defineProperty(t,"CalciteH6",{enumerable:!0,get:function(){return r.CalciteH6}}),Object.defineProperty(t,"CalciteOl",{enumerable:!0,get:function(){return r.CalciteOl}}),Object.defineProperty(t,"CalciteUl",{enumerable:!0,get:function(){return r.CalciteUl}}),Object.defineProperty(t,"CalciteLi",{enumerable:!0,get:function(){return r.CalciteLi}}),Object.defineProperty(t,"CalciteFigure",{enumerable:!0,get:function(){return r.CalciteFigure}});var r=n(768)},function(e,t,n){"use strict";function r(){return[0,0,0,1]}function i(e,t){return new Float64Array(e,t,4)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));Object.freeze({__proto__:null,create:r,clone:function(e){return[e[0],e[1],e[2],e[3]]},fromValues:function(e,t,n,r){return[e,t,n,r]},createView:i,IDENTITY:[0,0,0,1]})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return h}));var r=n(158),i=n(384),a=n(342),o=n(432),s=n(435),c=n(433),u=n(350),l={key:"type",base:r.a,typeMap:{heatmap:c.a,simple:u.a,"unique-value":a.a,"class-breaks":i.a,"dot-density":s.a,dictionary:o.default},errorContext:"renderer"},h={key:"type",base:r.a,typeMap:{simple:u.a,"unique-value":a.a,"class-breaks":i.a},errorContext:"renderer"}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(50),f=n(34),d=n(8),p=n(35),b=(n(12),n(21),n(22),n(27)),v=n(66),y=n(281),m=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).expression=null,e.title=null,e.value=null,e}return Object(a.a)(n,[{key:"readExpression",value:function(e,t){return t.value?Object(y.a)(t.value):e}},{key:"writeExpression",value:function(e,t,n){null!=this.value&&(e=Object(y.a)(this.value)),t[n]=e}},{key:"clone",value:function(){return new r({expression:this.expression,title:this.title,value:this.value})}}]),n}(b.a);Object(c.a)([Object(l.b)({type:String,json:{write:{allowNull:!0}}})],m.prototype,"expression",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],m.prototype,"title",void 0),Object(c.a)([Object(l.b)({json:{read:!1,write:!1}})],m.prototype,"value",void 0),Object(c.a)([Object(f.a)("expression",["expression","value"])],m.prototype,"readExpression",null),Object(c.a)([Object(p.a)("expression")],m.prototype,"writeExpression",null);var g,O=m=r=Object(c.a)([Object(d.a)("esri.layers.support.LabelExpressionInfo")],m),j=n(564),w=new h.a({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function _(e){return!e||"service"!==e.origin&&!(e.layer&&"map-image"===e.layer.type)}var x=g=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="label",r.name=null,r.deconflictionStrategy="static",r.labelExpression=null,r.labelExpressionInfo=null,r.labelPlacement=null,r.maxScale=0,r.minScale=0,r.symbol=j.a,r.useCodedValues=void 0,r.where=null,r}return Object(a.a)(n,[{key:"readLabelExpression",value:function(e,t){var n=t.labelExpressionInfo;if(!n||!n.value&&!n.expression)return e}},{key:"writeLabelExpression",value:function(e,t,n,r){if(this.labelExpressionInfo&&(_(r)||r&&"service"===r.origin))if(null!=this.labelExpressionInfo.value)e=Object(y.f)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){var i=Object(y.e)(this.labelExpressionInfo.expression);i&&(e="["+i+"]")}null!=e&&(t[n]=e)}},{key:"writeLabelExpressionInfo",value:function(e,t,n,r){if(null==e&&null!=this.labelExpression&&_(r))e=new O({expression:this.getLabelExpressionArcade()});else if(!e)return;var i=e.toJSON(r);i.expression&&(t[n]=i)}},{key:"writeMaxScale",value:function(e,t){(e||this.minScale)&&(t.maxScale=e)}},{key:"writeMinScale",value:function(e,t){(e||this.maxScale)&&(t.minScale=e)}},{key:"getLabelExpression",value:function(){return Object(y.b)(this)}},{key:"getLabelExpressionArcade",value:function(){return Object(y.c)(this)}},{key:"getLabelExpressionSingleField",value:function(){return Object(y.d)(this)}},{key:"hash",value:function(){return JSON.stringify(this)}},{key:"clone",value:function(){return new g({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:Object(u.a)(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:Object(u.a)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}}],[{key:"evaluateWhere",value:function(e,t){var n=function(e,t,n){switch(t){case"=":return e==n;case"<>":return e!=n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n}return!1};try{if(null==e)return!0;var r=e.split(" ");if(3===r.length)return n(t[r[0]],r[1],r[2]);if(7===r.length){var i=n(t[r[0]],r[1],r[2]),a=r[3],o=n(t[r[4]],r[5],r[6]);switch(a){case"AND":return i&&o;case"OR":return i||o}}return!1}catch(t){console.log("Error.: can't parse = "+e)}}}]),n}(b.a);Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],x.prototype,"name",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],x.prototype,"deconflictionStrategy",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:{allowNull:!0}}})],x.prototype,"labelExpression",void 0),Object(c.a)([Object(f.a)("labelExpression")],x.prototype,"readLabelExpression",null),Object(c.a)([Object(p.a)("labelExpression")],x.prototype,"writeLabelExpression",null),Object(c.a)([Object(l.b)({type:O,json:{write:{overridePolicy:function(e,t,n){return _(n)?{allowNull:!0}:{enabled:!1}}}}})],x.prototype,"labelExpressionInfo",void 0),Object(c.a)([Object(p.a)("labelExpressionInfo")],x.prototype,"writeLabelExpressionInfo",null),Object(c.a)([Object(l.b)({type:w.apiValues,json:{type:w.jsonValues,read:w.read,write:w.write}})],x.prototype,"labelPlacement",void 0),Object(c.a)([Object(l.b)({type:Number})],x.prototype,"maxScale",void 0),Object(c.a)([Object(p.a)("maxScale")],x.prototype,"writeMaxScale",null),Object(c.a)([Object(l.b)({type:Number})],x.prototype,"minScale",void 0),Object(c.a)([Object(p.a)("minScale")],x.prototype,"writeMinScale",null),Object(c.a)([Object(l.b)({types:v.d,json:{origins:{"web-scene":{types:v.g,write:v.k,default:null}},write:v.k,default:null}})],x.prototype,"symbol",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0}})],x.prototype,"useCodedValues",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],x.prototype,"where",void 0);var k=x=g=Object(c.a)([Object(d.a)("esri.layers.support.LabelClass")],x);t.a=k},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(15),i=new Set;function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(r.a)("esri-deprecation-warnings")){var i=n.moduleName;s(e,"Function: ".concat((i?i+"::":"")+t+"()"),n)}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(r.a)("esri-deprecation-warnings")){var i=n.moduleName;s(e,"Property: ".concat((i?i+"::":"")+t),n)}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(r.a)("esri-deprecation-warnings")){var a=n.replacement,o=n.version,s=n.see,c=n.warnOnce,u=t;a&&(u+="\n\t\ud83d\udee0\ufe0f Replacement: ".concat(a)),o&&(u+="\n\t\u2699\ufe0f Version: ".concat(o)),s&&(u+="\n\t\ud83d\udd17 See ".concat(s," for more details.")),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n&&i.has(t)||(n&&i.add(t),e.warn("\ud83d\uded1 DEPRECATED - ".concat(t)))}(e,u,c)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n(14),i=n(92),a=n(258),o=n(20),s=n(124),c=n(154),u=n(17),l=r.a.getLogger("esri.core.accessorSupport.write");function h(e,t,n,r,i,a){if(!r||!r.write)return!1;var u=e.get(n);if(!i&&r.write.overridePolicy){var h=r.write.overridePolicy.call(e,u,n,a);void 0!==h&&(i=h)}if(i||(i=r.write),!i||!1===i.enabled)return!1;if((null===u&&!i.allowNull||void 0===u)&&i.isRequired){var f=new o.a("web-document-write:property-required","Missing value for required property '".concat(n,"' on '").concat(e.declaredClass,"'"),{propertyName:n,target:e});return f&&a&&a.messages?a.messages.push(f):f&&!a&&l.error(f.name,f.message),!1}return void 0!==u&&(!(null===u&&!i.allowNull)&&(!function(e,t,n,r,i){var a=r.default;if(void 0===a)return!1;if(null!=r.defaultEquals)return r.defaultEquals(i);if("function"==typeof a){if(Array.isArray(i)){var o=a.call(e,t,n);return Object(c.c)(o,i)}return!1}return a===i}(e,n,a,r,u)&&(void 0!==r.default||!(!i.ignoreOrigin&&a&&a.origin&&t.store.originOf(n)<Object(s.d)(a.origin)))))}function f(e,t,n,r){var o=Object(i.a)(e),s=o.metadatas,c=Object(a.d)(s[t],r);return!!c&&h(e,o,t,c,n,r)}function d(e,t,n){if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return Object(i.c)(t,e.toJSON());var r=Object(i.a)(e),o=r.metadatas,c=function(c){var l=Object(a.d)(o[c],n);if(!h(e,r,c,l,void 0,n))return"continue";var f=e.get(c),d=function(e,t,n,r,i){var a,o,s={};return null==(a=t.write)||null==(o=a.writer)||o.call(e,r,s,n,i),s}(e,l,l.write&&"string"==typeof l.write.target?l.write.target:c,f,n);Object.keys(d).length>0&&(t=Object(i.c)(t,d),n&&n.resources&&n.resources.pendingOperations&&n.resources.pendingOperations.length&&Object(u.b)(n.resources.pendingOperations).then((function(){return Object(i.c)(t,d)})),n&&n.writtenProperties&&n.writtenProperties.push({target:e,propName:c,oldOrigin:Object(s.c)(r.store.originOf(c)),newOrigin:n.origin}))};for(var l in o)c(l);return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,i,a,o,s,c,u,l=n(30),h=n(31),f=n(197);function d(e){e.vertex.code.add(Object(h.a)(r||(r=Object(l.a)(["\n    float screenSizePerspectiveMinSize(float size, vec4 factor) {\n      float nonZeroSize = 1.0 - step(size, 0.0);\n\n      return (\n        factor.z * (\n          1.0 +\n          // Multiply by nzs ensures if size is 0, then we ignore proportionally scaled padding\n          nonZeroSize *\n          2.0 * factor.w / (\n            size + (1.0 - nonZeroSize) // Adding 1 - nzs ensures we divide either by size, or by 1\n          )\n        )\n      );\n    }\n  "])))),e.vertex.code.add(Object(h.a)(i||(i=Object(l.a)(["\n    float screenSizePerspectiveViewAngleDependentFactor(float absCosAngle) {\n      return absCosAngle * absCosAngle * absCosAngle;\n    }\n  "])))),e.vertex.code.add(Object(h.a)(a||(a=Object(l.a)(["\n    vec4 screenSizePerspectiveScaleFactor(float absCosAngle, float distanceToCamera, vec4 params) {\n      return vec4(\n        min(params.x / (distanceToCamera - params.y), 1.0),\n        screenSizePerspectiveViewAngleDependentFactor(absCosAngle),\n        params.z,\n        params.w\n      );\n    }\n  "])))),e.vertex.code.add(Object(h.a)(o||(o=Object(l.a)(["\n    float applyScreenSizePerspectiveScaleFactorFloat(float size, vec4 factor) {\n      return max(mix(size * factor.x, size, factor.y), screenSizePerspectiveMinSize(size, factor));\n    }\n  "])))),e.vertex.code.add(Object(h.a)(s||(s=Object(l.a)(["\n    float screenSizePerspectiveScaleFloat(float size, float absCosAngle, float distanceToCamera, vec4 params) {\n      return applyScreenSizePerspectiveScaleFactorFloat(\n        size,\n        screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params)\n      );\n    }\n  "])))),e.vertex.code.add(Object(h.a)(c||(c=Object(l.a)(["\n    vec2 applyScreenSizePerspectiveScaleFactorVec2(vec2 size, vec4 factor) {\n      return mix(size * clamp(factor.x, screenSizePerspectiveMinSize(size.y, factor) / size.y, 1.0), size, factor.y);\n    }\n  "])))),e.vertex.code.add(Object(h.a)(u||(u=Object(l.a)(["\n    vec2 screenSizePerspectiveScaleVec2(vec2 size, float absCosAngle, float distanceToCamera, vec4 params) {\n      return applyScreenSizePerspectiveScaleFactorVec2(size, screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params));\n    }\n  "]))))}(d||(d={})).bindUniforms=function(e,t){if(t.screenSizePerspective){Object(f.a)(t.screenSizePerspective,e,"screenSizePerspective");var n=t.screenSizePerspectiveAlignment||t.screenSizePerspective;Object(f.a)(n,e,"screenSizePerspectiveAlignment")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n(7),i=n.n(r),a=n(16),o=n(10),s=n(2),c=n(3),u=n(5),l=n(6),h=n(0),f=(n(15),n(14)),d=n(1),p=n(62),b=n(8),v=n(20),y=n(12),m=(n(21),n(22),n(140)),g=n(17),O=n(177),j=n(37),w=n(65),_=n(60),x=n(29),k=n(458),S=n(23),E=n(154),T=function(){function e(){Object(s.a)(this,e),this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}return Object(c.a)(e,[{key:"getAvailability",value:function(e,t){if("unknown"!==this._allAvailability)return this._allAvailability;var n=(e-this.location.top)*this.location.width+(t-this.location.left),r=n%8,i=n>>3,a=this._tileAvailabilityBitSet;return i<0||i>a.length?"unknown":a[i]&1<<r?"available":"unavailable"}},{key:"_updateFromData",value:function(e){for(var t=this.location.width,n=this.location.height,r=!0,i=!0,a=Math.ceil(t*n/8),o=new Uint8Array(a),s=0,c=0;c<e.length;c++){var u=c%8;e[c]?(i=!1,o[s]|=1<<u):r=!1,7===u&&++s}i?this._allAvailability="unavailable":r?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=o,this.byteSize+=o.length)}}],[{key:"fromDefinition",value:function(t,n){var r=t.service.request||w.default,i=t.row,a=t.col,s=t.width,c=t.height,u={query:{f:"json"}};return n=n?Object(o.a)(Object(o.a)({},u),n):u,r(function(e){var t;if("vector-tile"===e.service.type)t="".concat(e.service.url,"/tilemap/").concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height);else{var n=e.service.tileServers;t="".concat(n&&n.length?n[e.row%n.length]:e.service.url,"/tilemap/").concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height)}var r=e.service.query;return r&&(t="".concat(t,"?").concat(r)),t}(t),n).then((function(e){return e.data})).catch((function(e){if(e&&e.details&&422===e.details.httpStatus)return{location:{top:i,left:a,width:s,height:c},valid:!0,data:Object(E.b)(s*c,0)};throw e})).then((function(t){if(t.location&&(t.location.top!==i||t.location.left!==a||t.location.width!==s||t.location.height!==c))throw new v.a("tilemap:location-mismatch","Tilemap response for different location than requested",{response:t,definition:{top:i,left:a,width:s,height:c}});return e.fromJSON(t)}))}},{key:"fromJSON",value:function(t){e.validateJSON(t);var n=new e;return n.location=Object.freeze(Object(S.a)(t.location)),n._updateFromData(t.data),Object.freeze(n)}},{key:"validateJSON",value:function(e){if(!e||!e.location)throw new v.a("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new v.a("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new v.a("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new v.a("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new v.a("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}]),e}();function M(e){return"".concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height)}var C,A=f.a.getLogger("esri.layers.support.TilemapCache"),P=C=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e))._handles=new _.a,r._pendingTilemapRequests={},r._availableLevels={},r.levels=5,r.cacheByteSize=2097152,r.request=w.default,r._prefetchingEnabled=!0,r}return Object(c.a)(n,[{key:"initialize",value:function(){var e=this;this._tilemapCache=new k.a(this.cacheByteSize),this._handles.add([this.watch(["layer.parsedUrl","layer.tileServers?"],(function(){return e._initializeTilemapDefinition()})),Object(x.a)(this,"layer.tileInfo.lods",(function(t){return e._initializeAvailableLevels(t)}),!0)]),this._initializeTilemapDefinition()}},{key:"destroy",value:function(){this._handles&&(this._handles.destroy(),this._handles=null)}},{key:"castLevels",value:function(e){return e<=2?(A.error("Minimum levels for Tilemap is 3, but got ",e),3):e}},{key:"size",get:function(){return 1<<this.levels}},{key:"fetchTilemap",value:function(e,t,n,r){var i=this;if(!this._availableLevels[e])return Object(g.r)(new v.a("tilemap-cache:level-unavailable","Level ".concat(e," is unavailable in the service")));var a=this._tmpTilemapDefinition,s=this._tilemapFromCache(e,t,n,a);if(s)return Object(g.s)(s);var c=r&&r.signal;return r=Object(o.a)(Object(o.a)({},r),{},{signal:null}),Object(g.c)((function(e,t){Object(g.p)(c,(function(){return t(Object(g.e)())}));var n=M(a),o=i._pendingTilemapRequests[n];if(!o){o=T.fromDefinition(a,r).then((function(e){return i._tilemapCache.put(n,e,e.byteSize),e}));var s=function(){return delete i._pendingTilemapRequests[n]};i._pendingTilemapRequests[n]=o,o.then(s,s)}o.then(e,t)}))}},{key:"getAvailability",value:function(e,t,n){if(!this._availableLevels[e])return"unavailable";var r=this._tilemapFromCache(e,t,n,this._tmpTilemapDefinition);return r?r.getAvailability(t,n):"unknown"}},{key:"getAvailabilityUpsample",value:function(e,t,n,r){r.level=e,r.row=t,r.col=n;var i=this.layer.tileInfo;for(i.updateTileInfo(r);;){var a=this.getAvailability(r.level,r.row,r.col);if("unavailable"!==a)return a;if(!i.upsampleTile(r))return"unavailable"}}},{key:"fetchAvailability",value:function(e,t,n,r){return this._availableLevels[e]?this.fetchTilemap(e,t,n,r).catch((function(e){return e})).then((function(r){if(r instanceof T){var i=r.getAvailability(t,n);return"unavailable"===i?Object(g.r)(new v.a("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:n})):i}if(Object(g.l)(r))throw r;return"unknown"})):Object(g.r)(new v.a("tilemap-cache:level-unavailable","Level ".concat(e," is unavailable in the service")))}},{key:"fetchAvailabilityUpsample",value:function(e,t,n,r,i){var a=this;r.level=e,r.row=t,r.col=n;var o=this.layer.tileInfo;o.updateTileInfo(r);var s=this.fetchAvailability(e,t,n,i).catch((function(e){if(Object(g.l)(e))throw e;if(o.upsampleTile(r))return a.fetchAvailabilityUpsample(r.level,r.row,r.col,r);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,n,i,s),s}},{key:"_fetchAvailabilityUpsamplePrefetch",value:function(){var e=Object(a.a)(i.a.mark((function e(t,n,r,a,s,c){var u,l,h,f,d,p,b,v,y,m=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._prefetchingEnabled){e.next=2;break}return e.abrupt("return");case 2:if(u="prefetch-".concat(t),!this._handles.has(u)){e.next=5;break}return e.abrupt("return");case 5:return l=Object(g.d)(),c.then((function(){return l.abort()}),(function(){return l.abort()})),h=!1,f={remove:function(){h||(h=!0,l.abort())}},this._handles.add(f,u),e.next=12,Object(O.c)(10,l.signal).catch((function(){}));case 12:if(h||(h=!0,this._handles.remove(u)),!Object(g.m)(l)){e.next=15;break}return e.abrupt("return");case 15:for(d={id:t,level:n,row:r,col:a},p=Object(o.a)(Object(o.a)({},s),{},{signal:l.signal}),b=this.layer.tileInfo,v=function(e){var t=m.fetchAvailability(d.level,d.row,d.col,p);C._prefetches.push(t);var n=function(){C._prefetches.removeUnordered(t)};t.then(n,n)},y=0;C._prefetches.length<C._maxPrefetch&&b.upsampleTile(d);++y)v();case 18:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,a,o){return e.apply(this,arguments)}}()},{key:"_initializeTilemapDefinition",value:function(){if(this.layer.parsedUrl){var e=this.layer.parsedUrl,t=e.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:t?Object(y.C)(t):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}}},{key:"_tilemapFromCache",value:function(e,t,n,r){r.level=e,r.row=t-t%this.size,r.col=n-n%this.size;var i=M(r);return this._tilemapCache.get(i)}},{key:"_initializeAvailableLevels",value:function(e){var t=this;this._availableLevels={},e&&e.forEach((function(e){return t._availableLevels[e.level]=!0}))}},{key:"test",get:function(){var e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:function(t,n,r){return!!e._tilemapFromCache(t,n,r,e._tmpTilemapDefinition)}}}}]),n}(j.a);P._maxPrefetch=4,P._prefetches=new m.a({initialSize:C._maxPrefetch}),Object(h.a)([Object(d.b)({constructOnly:!0,type:Number})],P.prototype,"levels",void 0),Object(h.a)([Object(p.a)("levels")],P.prototype,"castLevels",null),Object(h.a)([Object(d.b)({readOnly:!0,dependsOn:["levels"],type:Number})],P.prototype,"size",null),Object(h.a)([Object(d.b)({constructOnly:!0,type:Number})],P.prototype,"cacheByteSize",void 0),Object(h.a)([Object(d.b)({constructOnly:!0})],P.prototype,"layer",void 0),Object(h.a)([Object(d.b)({constructOnly:!0})],P.prototype,"request",void 0),P=C=Object(h.a)([Object(b.a)("esri.layers.support.TilemapCache")],P)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(50),i=Object(r.b)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(61),o=n(57),s=n(5),c=n(6),u=n(0),l=(n(15),n(14),n(18),n(1)),h=n(8),f=(n(12),n(21),n(22),n(184)),d=n(429),p=n(286),b=n(285),v=n(369),y=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).elevationInfo=null,i.graphics=new v.a,i.screenSizePerspectiveEnabled=!0,i.type="graphics",i}return Object(i.a)(n,[{key:"destroy",value:function(){this.removeAll()}},{key:"add",value:function(e){return this.graphics.add(e),this}},{key:"addMany",value:function(e){return this.graphics.addMany(e),this}},{key:"removeAll",value:function(){return this.graphics.removeAll(),this}},{key:"remove",value:function(e){this.graphics.remove(e)}},{key:"removeMany",value:function(e){this.graphics.removeMany(e)}},{key:"on",value:function(e,t){return Object(a.a)(Object(o.a)(n.prototype),"on",this).call(this,e,t)}},{key:"graphicChanged",value:function(e){this.emit("graphic-update",e)}}]),n}(Object(p.a)(Object(b.a)(f.a)));Object(u.a)([Object(l.b)({type:d.a})],y.prototype,"elevationInfo",void 0),Object(u.a)([Object(l.b)(Object(v.b)())],y.prototype,"graphics",void 0),Object(u.a)([Object(l.b)({type:["show","hide"]})],y.prototype,"listMode",void 0),Object(u.a)([Object(l.b)()],y.prototype,"screenSizePerspectiveEnabled",void 0),Object(u.a)([Object(l.b)({readOnly:!0})],y.prototype,"type",void 0);var m=y=Object(u.a)([Object(h.a)("esri.layers.GraphicsLayer")],y);t.a=m},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u}));var r=n(13),i=n(113),a=n(26);function o(e,t,n,r,i){var a=n.typedBuffer,o=n.typedBufferStride,s=e.length;if(r*=o,null==i||1===i)for(var c=0;c<s;++c){var u=2*e[c];a[r]=t[u],a[r+1]=t[u+1],r+=o}else for(var l=0;l<s;++l)for(var h=2*e[l],f=0;f<i;++f)a[r]=t[h],a[r+1]=t[h+1],r+=o}function s(e,t,n,r,i){var a=n.typedBuffer,o=n.typedBufferStride,s=e.length;if(r*=o,null==i||1===i)for(var c=0;c<s;++c){var u=3*e[c];a[r]=t[u],a[r+1]=t[u+1],a[r+2]=t[u+2],r+=o}else for(var l=0;l<s;++l)for(var h=3*e[l],f=0;f<i;++f)a[r]=t[h],a[r+1]=t[h+1],a[r+2]=t[h+2],r+=o}function c(e,t,n,r,i){var a=n.typedBuffer,o=n.typedBufferStride,s=e.length;if(r*=o,null==i||1===i)for(var c=0;c<s;++c){var u=4*e[c];a[r]=t[u],a[r+1]=t[u+1],a[r+2]=t[u+2],a[r+3]=t[u+3],r+=o}else for(var l=0;l<s;++l)for(var h=4*e[l],f=0;f<i;++f)a[r]=t[h],a[r+1]=t[h+1],a[r+2]=t[h+2],a[r+3]=t[h+3],r+=o}function u(e,t,n,r,i,a){if(n){var o=n,c=r.typedBuffer,u=r.typedBufferStride,l=e.length;if(i*=u,null==a||1===a)for(var h=0;h<l;++h){var f=3*e[h],d=t[f],p=t[f+1],b=t[f+2];c[i]=o[0]*d+o[4]*p+o[8]*b+o[12],c[i+1]=o[1]*d+o[5]*p+o[9]*b+o[13],c[i+2]=o[2]*d+o[6]*p+o[10]*b+o[14],i+=u}else for(var v=0;v<l;++v)for(var y=3*e[v],m=t[y],g=t[y+1],O=t[y+2],j=o[0]*m+o[4]*g+o[8]*O+o[12],w=o[1]*m+o[5]*g+o[9]*O+o[13],_=o[2]*m+o[6]*g+o[10]*O+o[14],x=0;x<a;++x)c[i]=j,c[i+1]=w,c[i+2]=_,i+=u}else s(e,t,r,i,a)}function l(e,t,n,r,i,a){if(n){var o=n,c=r.typedBuffer,u=r.typedBufferStride,l=e.length,h=o[0],f=o[1],d=o[2],p=o[4],b=o[5],v=o[6],y=o[8],m=o[9],g=o[10],O=Math.abs(1-h*h+p*p+y*y)>1e-5||Math.abs(1-f*f+b*b+m*m)>1e-5||Math.abs(1-d*d+v*v+g*g)>1e-5;if(i*=u,null==a||1===a)for(var j=0;j<l;++j){var w=3*e[j],_=t[w],x=t[w+1],k=t[w+2],S=h*_+p*x+y*k,E=f*_+b*x+m*k,T=d*_+v*x+g*k;if(O){var M=S*S+E*E+T*T;if(M<.999999&&M>1e-6){var C=Math.sqrt(M);S/=C,E/=C,T/=C}}c[i+0]=S,c[i+1]=E,c[i+2]=T,i+=u}else for(var A=0;A<l;++A){var P=3*e[A],I=t[P],D=t[P+1],L=t[P+2],R=h*I+p*D+y*L,N=f*I+b*D+m*L,F=d*I+v*D+g*L;if(O){var z=R*R+N*N+F*F;if(z<.999999&&z>1e-6){var V=Math.sqrt(z);R/=V,N/=V,F/=V}}for(var U=0;U<a;++U)c[i+0]=R,c[i+1]=N,c[i+2]=F,i+=u}}else s(e,t,r,i,a)}function h(e,t,n,r,i,a){var o=r.typedBuffer,s=r.typedBufferStride,c=e.length;if(i*=s,null==a||1===a){if(4===n)for(var u=0;u<c;++u){var l=4*e[u];o[i]=t[l],o[i+1]=t[l+1],o[i+2]=t[l+2],o[i+3]=t[l+3],i+=s}else if(3===n)for(var h=0;h<c;++h){var f=3*e[h];o[i]=t[f],o[i+1]=t[f+1],o[i+2]=t[f+2],o[i+3]=255,i+=s}}else if(4===n)for(var d=0;d<c;++d)for(var p=4*e[d],b=0;b<a;++b)o[i]=t[p],o[i+1]=t[p+1],o[i+2]=t[p+2],o[i+3]=t[p+3],i+=s;else if(3===n)for(var v=0;v<c;++v)for(var y=3*e[v],m=0;m<a;++m)o[i]=t[y],o[i+1]=t[y+1],o[i+2]=t[y+2],o[i+3]=255,i+=s}function f(e,t,n,s,f,d){var p,b=Object(r.a)(t.fieldNames);try{for(b.s();!(p=b.n()).done;){var v=p.value,y=e.vertexAttr[v],m=e.indices[v];if(y&&m)switch(v){case a.a.POSITION:Object(a.b)(3===y.size);var g=f.getField(v,i.u);g&&u(m,y.data,n,g,d);break;case a.a.NORMAL:Object(a.b)(3===y.size);var O=f.getField(v,i.u);O&&l(m,y.data,s,O,d);break;case a.a.UV0:Object(a.b)(2===y.size);var j=f.getField(v,i.m);j&&o(m,y.data,j,d);break;case a.a.UVMAPSPACE:Object(a.b)(4===y.size);var w=f.getField(v,i.C);w&&c(m,y.data,w,d);break;case a.a.MEANVERTEXPOSITION:Object(a.b)(3===y.size);var _=f.getField(v,i.u);_&&u(m,y.data,n,_,d);break;case a.a.BOUND1:case a.a.BOUND2:case a.a.BOUND3:Object(a.b)(3===y.size);var x=f.getField(v,i.u);x&&u(m,y.data,n,x,d);break;case a.a.COLOR:Object(a.b)(3===y.size||4===y.size);var k=f.getField(v,i.J);k&&h(m,y.data,y.size,k,d);break;case a.a.SYMBOLCOLOR:Object(a.b)(3===y.size||4===y.size);var S=f.getField(v,i.J);S&&h(m,y.data,y.size,S,d);break;case a.a.TANGENT:Object(a.b)(4===y.size);var E=f.getField(v,i.C);E&&c(m,y.data,E,d)}}}catch(T){b.e(T)}finally{b.f()}}},function(e,t,n){"use strict";var r,i=n(32),a=n(13),o=n(7),s=n.n(o),c=n(10),u=n(16),l=n(2),h=n(3),f=n(5),d=n(6),p=n(0),b=(n(15),n(23)),v=n(14),y=n(18),m=n(92),g=n(1),O=n(62),j=n(34),w=n(8),_=n(35),x=n(20),k=n(12),S=(n(21),n(124)),E=(n(22),n(17)),T=n(74),M=(n(99),n(39)),C=n(49),A=n(204),P=n(240),I=n(65),D=n(129),L=n(66),R=n(236),N=(n(158),n(384),n(342),n(432),n(435),n(433),n(350),n(293)),F=(n(319),n(239)),z=n(423),V=n(294),U=n(404),B=n(380),G=n(213),q=n(428),H=n(152),W=n(105);function Y(e){return e&&"esriSMS"===e.type}function J(e,t,n){var r;return{ignoreOrigin:!0,enabled:!!n&&"map-image"===(null==(r=n.layer)?void 0:r.type)&&(n.writeSublayerStructure||this.originIdOf(t)>=Object(S.d)(n.origin))}}function K(e,t,n){var r;return{enabled:!!n&&"tile"===(null==(r=n.layer)?void 0:r.type)&&this._isOverridden(t)}}function X(e,t,n){return{ignoreOrigin:!0,enabled:n&&n.writeSublayerStructure||!1}}function Q(e,t,n){return{ignoreOrigin:!0,enabled:!!n&&(n.writeSublayerStructure||this.originIdOf(t)>=Object(S.d)(n.origin))}}var Z=v.a.getLogger("esri.layers.support.Sublayer"),$=0,ee=new Set;ee.add("layer"),ee.add("parent"),ee.add("loaded"),ee.add("loadStatus"),ee.add("loadError"),ee.add("loadWarnings");var te=r=function(e){Object(f.a)(o,e);var t=Object(d.a)(o);function o(e){var n;return Object(l.a)(this,o),(n=t.call(this,e)).capabilities=void 0,n.fields=null,n.fullExtent=null,n.globalIdField=null,n.legendEnabled=!0,n.objectIdField=null,n.popupEnabled=!0,n.popupTemplate=null,n.sourceJSON=null,n.title=null,n.typeIdField=null,n.types=null,n}return Object(h.a)(o,[{key:"load",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.addResolvingPromise(Object(u.a)(s.a.mark((function e(){var r,i,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.layer||n.url){e.next=2;break}throw new x.a("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:n});case 2:if(i=null,n.layer&&!(n.originIdOf("url")>2)&&"data-layer"!==(null==(r=n.source)?void 0:r.type)){e.next=9;break}return e.next=6,Object(I.default)(n.url,Object(c.a)({responseType:"json",query:{f:"json"}},t));case 6:i=e.sent.data,e.next=14;break;case 9:return o=n.id,"map-layer"===(null==(a=n.source)?void 0:a.type)&&(o=n.source.mapLayerId),e.next=13,n.layer.fetchSublayerInfo(o,t);case 13:i=e.sent;case 14:i&&(n.sourceJSON=i,n.read({layerDefinition:i},{origin:"service"}));case 15:case"end":return e.stop()}}),e)})))()),this));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readCapabilities",value:function(e,t){var n=(e=(t=t.layerDefinition||t).capabilities||e)?e.toLowerCase().split(",").map((function(e){return e.trim()})):[];return{exportMap:{supportsModification:!!t.canModifyLayer},operations:{supportsQuery:-1!==n.indexOf("query")}}}},{key:"definitionExpression",set:function(e){this._setAndNotifyLayer("definitionExpression",e)}},{key:"fieldsIndex",get:function(){return new z.a(this.fields||[])}},{key:"readGlobalIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){var n,r=Object(a.a)(t.fields);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("esriFieldTypeGlobalID"===i.type)return i.name}}catch(o){r.e(o)}finally{r.f()}}}},{key:"id",get:function(){var e=this._get("id");return null==e?$++:e},set:function(e){this._get("id")!==e&&(!1!==this.get("layer.capabilities.exportMap.supportsDynamicLayers")?this._set("id",e):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}},{key:"labelingInfo",set:function(e){this._setAndNotifyLayer("labelingInfo",e)}},{key:"writeLabelingInfo",value:function(e,t,n,r){e&&e.length&&(t.layerDefinition={drawingInfo:{labelingInfo:e.map((function(e){return e.write({},r)}))}})}},{key:"labelsVisible",set:function(e){this._setAndNotifyLayer("labelsVisible",e)}},{key:"layer",set:function(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach((function(t){return t.layer=e}))}},{key:"listMode",set:function(e){this._set("listMode",e)}},{key:"minScale",set:function(e){this._setAndNotifyLayer("minScale",e)}},{key:"readMinScale",value:function(e,t){return t.minScale||t.layerDefinition&&t.layerDefinition.minScale||0}},{key:"maxScale",set:function(e){this._setAndNotifyLayer("maxScale",e)}},{key:"readMaxScale",value:function(e,t){return t.maxScale||t.layerDefinition&&t.layerDefinition.maxScale||0}},{key:"readObjectIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){var n,r=Object(a.a)(t.fields);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("esriFieldTypeOID"===i.type)return i.name}}catch(o){r.e(o)}finally{r.f()}}}},{key:"opacity",set:function(e){this._setAndNotifyLayer("opacity",e)}},{key:"readOpacity",value:function(e,t){var n=t.layerDefinition;return 1-.01*(null!=n.transparency?n.transparency:n.drawingInfo.transparency)}},{key:"writeOpacity",value:function(e,t,n,r){t.layerDefinition={drawingInfo:{transparency:100-100*e}}}},{key:"writeParent",value:function(e,t){this.parent&&this.parent!==this.layer?t.parentLayerId=Object(y.e)(this.parent.id):t.parentLayerId=-1}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(e){if(e){var t,n=Object(a.a)(e.getSymbols());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(Object(L.h)(r)){Z.warn("Sublayer renderer should use 2D symbols");break}}}catch(i){n.e(i)}finally{n.f()}}this._setAndNotifyLayer("renderer",e)}},{key:"source",get:function(){return this._get("source")||new B.a({mapLayerId:this.id})},set:function(e){this._setAndNotifyLayer("source",e)}},{key:"sublayers",set:function(e){this._handleSublayersChange(e,this._get("sublayers")),this._set("sublayers",e)}},{key:"castSublayers",value:function(e){return Object(y.m)(M.a.ofType(r),e)}},{key:"writeSublayers",value:function(e,t,n){this.get("sublayers.length")&&(t[n]=this.sublayers.map((function(e){return e.id})).toArray().reverse())}},{key:"readTypeIdField",value:function(e,t){var n=(t=t.layerDefinition||t).typeIdField;if(n){var r=Object(C.q)(t.fields,n);if(r)return r.name}return null}},{key:"url",get:function(){var e,t,n=null!=(e=null==(t=this.layer)?void 0:t.parsedUrl)?e:this._lastParsedUrl,r=this.source;if(!n)return null;if(this._lastParsedUrl=n,"map-layer"===(null==r?void 0:r.type))return"".concat(n.path,"/").concat(r.mapLayerId);var i={layer:JSON.stringify({source:this.source})};return"".concat(n.path,"/dynamicLayer?").concat(Object(k.C)(i))},set:function(e){e?this._override("url",e):this._clearOverride("url")}},{key:"visible",set:function(e){this._setAndNotifyLayer("visible",e)}},{key:"writeVisible",value:function(e,t,n,r){t[n]=this.getAtOrigin("defaultVisibility","service")||e}},{key:"clone",value:function(){var e=Object(m.a)(this).store,t=new r;return Object(m.a)(t).store=e.clone(ee),this.url,t._lastParsedUrl=this._lastParsedUrl,t}},{key:"createPopupTemplate",value:function(e){return Object(q.a)(this,e)}},{key:"createQuery",value:function(){return new H.a({returnGeometry:!0,where:this.definitionExpression||"1=1"})}},{key:"createFeatureLayer",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,r,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasOwnProperty("sublayers")){e.next=2;break}return e.abrupt("return",null);case 2:return i=null==(t=this.layer)?void 0:t.parsedUrl,e.next=6,Promise.resolve().then(n.bind(null,383));case 6:return e.t0=e.sent.default,e.t1={url:i.path},a=new e.t0(e.t1),e.abrupt("return",(i&&this.source&&("map-layer"===this.source.type?a.layerId=this.source.mapLayerId:a.dynamicDataSource=this.source),null!=this.layer.refreshInterval&&(a.refreshInterval=this.layer.refreshInterval),this.definitionExpression&&(a.definitionExpression=this.definitionExpression),this.originIdOf("labelingInfo")>2&&(a.labelingInfo=Object(b.a)(this.labelingInfo)),this.originIdOf("labelsVisible")>0&&(a.labelsVisible=this.labelsVisible),this.originIdOf("legendEnabled")>0&&(a.legendEnabled=this.legendEnabled),this.originIdOf("visible")>0&&(a.visible=this.visible),this.originIdOf("minScale")>0&&(a.minScale=this.minScale),this.originIdOf("maxScale")>0&&(a.maxScale=this.maxScale),this.originIdOf("opacity")>0&&(a.opacity=this.opacity),this.originIdOf("popupTemplate")>0&&(a.popupTemplate=Object(b.a)(this.popupTemplate)),this.originIdOf("renderer")>2&&(a.renderer=Object(b.a)(this.renderer)),"data-layer"===(null==(r=this.source)?void 0:r.type)&&(a.dynamicDataSource=this.source.clone()),this.originIdOf("title")>0&&(a.title=this.title),"map-image"===this.layer.type&&this.layer.originIdOf("customParameters")>0&&(a.customParameters=this.layer.customParameters),"tile"===this.layer.type&&this.layer.originIdOf("customParameters")>0&&(a.customParameters=this.layer.customParameters),a));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFeatureType",value:function(e){var t=this.typeIdField,n=this.types;if(!t||!e)return null;var r=e.attributes?e.attributes[t]:void 0;if(null==r)return null;var i=null;return n.some((function(e){var t=e.id;return null!=t&&(t.toString()===r.toString()&&(i=e),!!i)})),i}},{key:"getFieldDomain",value:function(e,t){var n=t&&t.feature,r=this.getFeatureType(n);if(r){var i=r.domains&&r.domains[e];if(i&&"inherited"!==i.type)return i}return this._getLayerDomain(e)}},{key:"queryFeatures",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.createQuery(),r=arguments.length>1?arguments[1]:void 0;return this.load().then((function(){if(!e.get("capabilities.operations.supportsQuery"))throw new x.a("Sublayer.queryFeatures","this layer doesn't support queries.");return Object(E.b)([Promise.resolve().then(n.bind(null,321)),Promise.resolve().then(n.bind(null,287))])})).then((function(n){var a=Object(i.a)(n,2),o=a[0].executeQuery,s=a[1].default;return o(e.url,H.a.from(t),e.layer?e.layer.spatialReference:null,Object(c.a)(Object(c.a)({},r),{},{query:Object(c.a)({},e.layer.customParameters)})).then((function(e){return s.fromJSON(e.data)}))})).then((function(t){return t&&t.features&&t.features.forEach((function(t){t.sourceLayer=e})),t}))}},{key:"toExportImageJSON",value:function(){var e,t=this,n={id:this.id,source:(null==(e=this.source)?void 0:e.toJSON())||{mapLayerId:this.id,type:"mapLayer"}};this.definitionExpression&&(n.definitionExpression=this.definitionExpression);var r=["renderer","labelingInfo","opacity","labelsVisible"].reduce((function(e,n){return e[n]=t.originIdOf(n),e}),{});if(Object.keys(r).some((function(e){return r[e]>2}))){var i=n.drawingInfo={};r.renderer>2&&(i.renderer=this.renderer?this.renderer.toJSON():null),r.labelsVisible>2&&(i.showLabels=this.labelsVisible),this.labelsVisible&&r.labelingInfo>2&&(i.labelingInfo=this.labelingInfo?this.labelingInfo.map((function(e){return e.write({},{origin:"service"})})):null,i.showLabels=!0),r.opacity>2&&(i.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(i.renderer)}return n}},{key:"_assignDefaultSymbolColors",value:function(e){this._forEachSimpleMarkerSymbols(e,(function(e){e.color||"esriSMSX"!==e.style&&"esriSMSCross"!==e.style||(e.outline&&e.outline.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}},{key:"_forEachSimpleMarkerSymbols",value:function(e,t){if(e){var n,r="uniqueValueInfos"in e?e.uniqueValueInfos:"classBreakInfos"in e?e.classBreakInfos:[],i=Object(a.a)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;Y(o.symbol)&&t(o.symbol)}}catch(s){i.e(s)}finally{i.f()}"symbol"in e&&Y(e.symbol)&&t(e.symbol),"defaultSymbol"in e&&Y(e.defaultSymbol)&&t(e.defaultSymbol)}}},{key:"_setAndNotifyLayer",value:function(e,t){var n,r,i=this.layer,a=this._get(e);switch(e){case"definitionExpression":n="supportsSublayerDefinitionExpression";case"minScale":case"maxScale":case"visible":n="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":n="supportsDynamicLayers",r="supportsModification"}var o=Object(m.a)(this).getDefaultOrigin();if("service"!==o){if(n&&!1===this.get("layer.capabilities.exportMap.".concat(n)))return void this._logLockedError(e,"capability not available 'layer.capabilities.exportMap.".concat(n,"'"));if(r&&!1===this.get("capabilities.exportMap.".concat(r)))return void this._logLockedError(e,"capability not available 'capabilities.exportMap.".concat(r,"'"))}"source"!==e||"not-loaded"===this.loadStatus?(this._set(e,t),"service"!==o&&a!==t&&i&&i.emit&&i.emit("sublayer-update",{propertyName:e,target:this})):this._logLockedError(e,"'source' can't be changed after calling sublayer.load()")}},{key:"_handleSublayersChange",value:function(e,t){var n=this;t&&(t.forEach((function(e){e.parent=null,e.layer=null})),this.handles.removeAll()),e&&(e.forEach((function(e){e.parent=n,e.layer=n.layer})),this.handles.add([e.on("after-add",(function(e){var t=e.item;t.parent=n,t.layer=n.layer})),e.on("after-remove",(function(e){var t=e.item;t.parent=null,t.layer=null})),e.on("before-changes",(function(e){var t=n.get("layer.capabilities.exportMap.supportsSublayersChanges");null==t||t||(Z.error(new x.a("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:n,layer:n.layer})),e.preventDefault())}))]))}},{key:"_logLockedError",value:function(e,t){Z.error(new x.a("sublayer:locked","Property '".concat(e,"' can't be changed on Sublayer from the layer '").concat(this.layer.id,"'"),{reason:t,sublayer:this,layer:this.layer}))}},{key:"_getLayerDomain",value:function(e){var t=this.fieldsIndex.get(e);return t?t.domain:null}}]),o}(Object(W.b)(Object(R.a)(Object(A.a)(D.a))));te.test={isMapImageLayerOverridePolicy:function(e){return e===X||e===J},isTileImageLayerOverridePolicy:function(e){return e===K}},Object(p.a)([Object(g.b)({readOnly:!0})],te.prototype,"capabilities",void 0),Object(p.a)([Object(j.a)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],te.prototype,"readCapabilities",null),Object(p.a)([Object(g.b)({type:String,value:null,json:{read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression",overridePolicy:J}}})],te.prototype,"definitionExpression",null),Object(p.a)([Object(g.b)({type:[F.a],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],te.prototype,"fields",void 0),Object(p.a)([Object(g.b)({readOnly:!0,dependsOn:["fields"]})],te.prototype,"fieldsIndex",null),Object(p.a)([Object(g.b)({type:T.a,json:{read:{source:"layerDefinition.extent"}}})],te.prototype,"fullExtent",void 0),Object(p.a)([Object(g.b)({type:String})],te.prototype,"globalIdField",void 0),Object(p.a)([Object(j.a)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],te.prototype,"readGlobalIdFieldFromService",null),Object(p.a)([Object(g.b)({type:y.a,json:{write:{ignoreOrigin:!0}}})],te.prototype,"id",null),Object(p.a)([Object(g.b)({value:null,type:[V.a],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:X}}})],te.prototype,"labelingInfo",null),Object(p.a)([Object(_.a)("labelingInfo")],te.prototype,"writeLabelingInfo",null),Object(p.a)([Object(g.b)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:X}}})],te.prototype,"labelsVisible",null),Object(p.a)([Object(g.b)({value:null})],te.prototype,"layer",null),Object(p.a)([Object(g.b)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:Q}}})],te.prototype,"legendEnabled",void 0),Object(p.a)([Object(g.b)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],te.prototype,"listMode",null),Object(p.a)([Object(g.b)({type:Number,value:0,json:{write:{overridePolicy:X}}})],te.prototype,"minScale",null),Object(p.a)([Object(j.a)("minScale",["minScale","layerDefinition.minScale"])],te.prototype,"readMinScale",null),Object(p.a)([Object(g.b)({type:Number,value:0,json:{write:{overridePolicy:X}}})],te.prototype,"maxScale",null),Object(p.a)([Object(j.a)("maxScale",["maxScale","layerDefinition.maxScale"])],te.prototype,"readMaxScale",null),Object(p.a)([Object(g.b)({type:String})],te.prototype,"objectIdField",void 0),Object(p.a)([Object(j.a)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],te.prototype,"readObjectIdFieldFromService",null),Object(p.a)([Object(g.b)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:X}}})],te.prototype,"opacity",null),Object(p.a)([Object(j.a)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],te.prototype,"readOpacity",null),Object(p.a)([Object(_.a)("opacity")],te.prototype,"writeOpacity",null),Object(p.a)([Object(g.b)({json:{type:y.a,write:{target:"parentLayerId",allowNull:!0,overridePolicy:X}}})],te.prototype,"parent",void 0),Object(p.a)([Object(_.a)("parent")],te.prototype,"writeParent",null),Object(p.a)([Object(g.b)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:function(e,t){return!t.disablePopup}},write:{target:"disablePopup",overridePolicy:Q,writer:function(e,t,n){t[n]=!e}}}})],te.prototype,"popupEnabled",void 0),Object(p.a)([Object(g.b)({type:P.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:Q}}})],te.prototype,"popupTemplate",void 0),Object(p.a)([Object(g.b)({readOnly:!0,dependsOn:["fields","title"]})],te.prototype,"defaultPopupTemplate",null),Object(p.a)([Object(g.b)({types:N.a,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:X},origins:{"web-scene":{types:N.b,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:X}}}}})],te.prototype,"renderer",null),Object(p.a)([Object(g.b)({types:{key:"type",base:null,typeMap:{"data-layer":G.a,"map-layer":B.a}},cast:function(e){if(e){if("mapLayerId"in e)return Object(y.d)(B.a,e);if("dataSource"in e)return Object(y.d)(G.a,e)}return e},json:{name:"layerDefinition.source",write:{overridePolicy:X}}})],te.prototype,"source",null),Object(p.a)([Object(g.b)()],te.prototype,"sourceJSON",void 0),Object(p.a)([Object(g.b)({value:null,json:{type:[y.a],write:{target:"subLayerIds",allowNull:!0,overridePolicy:X}}})],te.prototype,"sublayers",null),Object(p.a)([Object(O.a)("sublayers")],te.prototype,"castSublayers",null),Object(p.a)([Object(_.a)("sublayers")],te.prototype,"writeSublayers",null),Object(p.a)([Object(g.b)({type:String,json:{read:{source:"name"},write:{target:"name",allowNull:!0,overridePolicy:Q}}})],te.prototype,"title",void 0),Object(p.a)([Object(g.b)({type:String})],te.prototype,"typeIdField",void 0),Object(p.a)([Object(j.a)("typeIdField",["layerDefinition.typeIdField"])],te.prototype,"readTypeIdField",null),Object(p.a)([Object(g.b)({type:[U.a],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],te.prototype,"types",void 0),Object(p.a)([Object(g.b)({type:String,dependsOn:["layer","source"],json:{read:{source:"layerUrl"},write:{target:"layerUrl",overridePolicy:K}}})],te.prototype,"url",null),Object(p.a)([Object(g.b)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:X}}})],te.prototype,"visible",null),Object(p.a)([Object(_.a)("visible")],te.prototype,"writeVisible",null);var ne=te=r=Object(p.a)([Object(w.a)("esri.layers.support.Sublayer")],te);t.a=ne},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(63);function i(e,t){var n=t;return n.rawResponse=!1,Object(r.d)(e,n).then((function(e){var t={token:e.access_token,username:e.username,expires:new Date(Date.now()+(1e3*e.expires_in-1e3)),ssl:!0===e.ssl};return e.refresh_token&&(t.refreshToken=e.refresh_token),t}))}},function(e,t,n){"use strict";function r(e,t){if(0===e.length)return[];for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r,i=n(2),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(8),l=(n(12),n(21),n(22),n(367)),h=n(3),f=n(23),d=n(27),p=n(484),b=r=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fields=[],r.normalizeField=null,r.series=[],r.tooltipField=null,r}return Object(h.a)(n,[{key:"clone",value:function(){return new r({fields:Object(f.a)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}}]),n}(d.a);Object(s.a)([Object(c.b)({type:[String],json:{write:!0}})],b.prototype,"fields",void 0),Object(s.a)([Object(c.b)({type:String,json:{write:!0}})],b.prototype,"normalizeField",void 0),Object(s.a)([Object(c.b)({type:[p.a],json:{read:!1}})],b.prototype,"series",void 0),Object(s.a)([Object(c.b)({type:String,json:{write:!0}})],b.prototype,"tooltipField",void 0);var v=b=r=Object(s.a)([Object(u.a)("esri.popup.content.support.ChartMediaInfoValue")],b),y=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type=null,r.value=null,r}return n}(l.a);Object(s.a)([Object(c.b)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],y.prototype,"type",void 0),Object(s.a)([Object(c.b)({type:v,json:{write:!0}})],y.prototype,"value",void 0);var m=y=Object(s.a)([Object(u.a)("esri.popup.content.mixins.ChartMediaInfo")],y);t.a=m},function(e,t,n){"use strict";var r=n(250),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);h&&(o=o.concat(h(n)));for(var s=c(t),b=c(n),v=0;v<o.length;++v){var y=o[v];if(!a[y]&&(!r||!r[y])&&(!b||!b[y])&&(!s||!s[y])){var m=f(n,y);try{u(t,y,m)}catch(g){}}}}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(73),i=n(70),a={inches:Object(i.a)(1,"meters","inches"),feet:Object(i.a)(1,"meters","feet"),"us-feet":Object(i.a)(1,"meters","us-feet"),yards:Object(i.a)(1,"meters","yards"),miles:Object(i.a)(1,"meters","miles"),"nautical-miles":Object(i.a)(1,"meters","nautical-miles"),millimeters:Object(i.a)(1,"meters","millimeters"),centimeters:Object(i.a)(1,"meters","centimeters"),decimeters:Object(i.a)(1,"meters","decimeters"),meters:Object(i.a)(1,"meters","meters"),kilometers:Object(i.a)(1,"meters","kilometers"),"decimal-degrees":1/Object(i.g)(1,"meters",r.a.radius)}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18)),l=n(1),h=n(45),f=n(8),d=(n(12),n(21),n(22),n(27)),p=n(481),b=n(108),v=n(133),y=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).dateFormat=null,r.digitSeparator=!1,r.places=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}},{key:"format",value:function(e){return this.dateFormat?Object(b.b)(e,Object(b.a)(this.dateFormat)):Object(v.b)(e,Object(v.a)(this))}}]),n}(d.a);Object(c.a)([Object(h.a)(p.a)],y.prototype,"dateFormat",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0}})],y.prototype,"digitSeparator",void 0),Object(c.a)([Object(l.b)({type:u.a,json:{write:!0}})],y.prototype,"places",void 0);var m=y=r=Object(c.a)([Object(f.a)("esri.popup.support.FieldInfoFormat")],y);t.a=m},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var r=["freehand","hybrid","click"],i="click"},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n(130),i=n(313),a=n(66),o={types:a.a,json:{write:{writer:a.k},origins:{"web-scene":{types:a.b,write:{writer:a.k}}}}},s={types:{base:r.a,key:"type",typeMap:{"simple-fill":a.i.typeMap["simple-fill"],"picture-fill":a.i.typeMap["picture-fill"],"polygon-3d":a.i.typeMap["polygon-3d"]}},json:{write:{writer:a.k},origins:{"web-scene":{type:i.a,write:{writer:a.k}}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u}));var r=[252,146,31,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},a={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},o={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},s={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},c={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},l={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n,r,i){e=e||"UNKNOWN_ERROR",t=t||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===t?e:t+": "+e,this.originalMessage=e,this.code=t,this.response=n,this.url=r,this.options=i};r.prototype=Object.create(Error.prototype),r.prototype.constructor=r},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=n(4),h=(n(14),n(18),n(1)),f=n(45),d=n(8),p=n(35),b=n(20),v=(n(12),n(21),n(22),n(39)),y=n(363),m=n(274),g=n(215),O=n(254),j=n(275),w=n(232),_=n(365),x=n(208),k=v.a.ofType({base:null,key:"type",typeMap:{extrude:y.a,fill:m.a,icon:g.a,line:O.a,object:j.a,text:w.a,water:_.a}}),S=v.a.ofType({base:null,key:"type",typeMap:{extrude:y.a,fill:m.a,icon:g.a,line:O.a,object:j.a,water:_.a}}),E=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="polygon-3d",r}return Object(a.a)(n,[{key:"writeSymbolLayers",value:function(e,t,n,r){var i=e.filter((function(e){return"text"!==e.type}));if(r&&r.messages&&i.length<e.length){var a=e.find((function(e){return"text"===e.type}));r.messages.push(new b.a("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a}))}t[n]=i.map((function(e){return e.write({},r)})).toArray()}},{key:"clone",value:function(){return new r({styleOrigin:Object(u.a)(this.styleOrigin),symbolLayers:Object(u.a)(this.symbolLayers),thumbnail:Object(u.a)(this.thumbnail)})}}],[{key:"fromJSON",value:function(e){var t=new r;if(t.read(e),2===t.symbolLayers.length&&"fill"===t.symbolLayers.getItemAt(0).type&&"line"===t.symbolLayers.getItemAt(1).type){var n=t.symbolLayers.getItemAt(0),i=t.symbolLayers.getItemAt(1);!i.enabled||e.symbolLayers&&e.symbolLayers[1]&&!1===e.symbolLayers[1].enable||(n.outline={size:i.size,color:Object(l.h)(i.material)?i.material.color:null}),t.symbolLayers.removeAt(1)}return t}},{key:"fromSimpleFillSymbol",value:function(e){return new r({symbolLayers:[m.a.fromSimpleFillSymbol(e)]})}}]),n}(x.a);Object(c.a)([Object(h.b)({type:k,json:{type:S}})],E.prototype,"symbolLayers",void 0),Object(c.a)([Object(p.a)("web-scene","symbolLayers")],E.prototype,"writeSymbolLayers",null),Object(c.a)([Object(f.a)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],E.prototype,"type",void 0);var T=E=r=Object(c.a)([Object(d.a)("esri.symbols.PolygonSymbol3D")],E);t.a=T},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var r=n(7),i=n.n(r),a=n(16),o=n(167),s=n(84);function c(e){return u.apply(this,arguments)}function u(){return(u=Object(a.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=t.indexOf("-vector")>-1?t.slice(0,t.indexOf("-vector")):t,e.next=5,Object(o.a)("esri/t9n/basemaps");case 5:return r=e.sent,e.abrupt("return",r[t]||r[n]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l={streets:{id:"streets",thumbnailUrl:Object(s.a)("esri/images/basemap/streets.jpg"),baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",thumbnailUrl:Object(s.a)("esri/images/basemap/satellite.jpg"),baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",thumbnailUrl:Object(s.a)("esri/images/basemap/hybrid.jpg"),baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",thumbnailUrl:Object(s.a)("esri/images/basemap/terrain.jpg"),baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",thumbnailUrl:Object(s.a)("esri/images/basemap/topo.jpg"),baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",thumbnailUrl:Object(s.a)("esri/images/basemap/gray.jpg"),baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",thumbnailUrl:Object(s.a)("esri/images/basemap/dark-gray.jpg"),baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",thumbnailUrl:Object(s.a)("esri/images/basemap/oceans.jpg"),baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",thumbnailUrl:Object(s.a)("esri/images/basemap/national-geographic.jpg"),baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",thumbnailUrl:Object(s.a)("esri/images/basemap/osm.jpg"),baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/dark-gray-vector.jpg"),baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/gray-vector.jpg"),baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/streets-vector.jpg"),baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/topo-vector.jpg"),baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/streets-night.jpg"),baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/streets-relief.jpg"),baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",thumbnailUrl:Object(s.a)("esri/images/basemap/streets-navigation.jpg"),baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{thumbnailUrl:Object(s.a)("esri/images/basemap/hybrid.jpg"),title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{thumbnailUrl:Object(s.a)("esri/images/basemap/satellite.jpg"),title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{thumbnailUrl:Object(s.a)("esri/images/basemap/gray-vector.jpg"),title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{thumbnailUrl:Object(s.a)("esri/images/basemap/dark-gray.jpg"),title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{thumbnailUrl:Object(s.a)("esri/images/basemap/streets-navigation.jpg"),title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{thumbnailUrl:Object(s.a)("esri/images/basemap/streets-vector.jpg"),title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{thumbnailUrl:Object(s.a)("esri/images/basemap/streets-night.jpg"),title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{thumbnailUrl:Object(s.a)("esri/images/basemap/streets-relief.jpg"),title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{thumbnailUrl:Object(s.a)("esri/images/basemap/topo.jpg"),title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{thumbnailUrl:Object(s.a)("esri/images/basemap/oceans.jpg"),title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(100)),i=o(n(19)),a=n(351);function o(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=function(e){var t=e.children,n=e.href,r=c(e,["children","href"]);return i.default.createElement(a.StyledTopNavLink,s({href:n,as:n?"a":"span"},r),t)};u.propTypes={children:r.default.node,href:r.default.string},u.defaultProps={},u.displayName="TopNavLink";var l=u;t.default=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return p}));var r=n(32);function i(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function a(e){return void 0!==e.points}function o(e){return void 0!==e.x&&void 0!==e.y}function s(e){return void 0!==e.paths}function c(e){return void 0!==e.rings}function u(e){return function(t,n){return null==t?n:null==n?t:e(t,n)}}var l=u(Math.min),h=u(Math.max);function f(e,t){return s(t)?p(e,t.paths,!1,!1):c(t)?p(e,t.rings,!1,!1):a(t)?v(e,t.points,!1,!1,!1,!1):i(t)?b(e,t):(o(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function d(e,t){return s(t)?p(e,t.paths,!0,!1):c(t)?p(e,t.rings,!0,!1):a(t)?v(e,t.points,!0,!1,!0,!1):i(t)?b(e,t,!0,!1,!0,!1):(o(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function p(e,t,n,i){var a=n?3:2;if(!t.length||!t[0].length)return null;for(var o,s,c,u,f=Object(r.a)(t[0][0],2),d=f[0],p=f[1],b=Object(r.a)(t[0][0],2),v=b[0],y=b[1],m=0;m<t.length;m++)for(var g=t[m],O=0;O<g.length;O++){var j=g[O],w=Object(r.a)(j,2),_=w[0],x=w[1];if(d=l(d,_),p=l(p,x),v=h(v,_),y=h(y,x),n&&j.length>2){var k=j[2];o=l(o,k),s=h(s,k)}if(i&&j.length>a){var S=j[a];c=l(o,S),u=h(s,S)}}return n?i?(e[0]=d,e[1]=p,e[2]=o,e[3]=c,e[4]=v,e[5]=y,e[6]=s,e[7]=u,e.length=8,e):(e[0]=d,e[1]=p,e[2]=o,e[3]=v,e[4]=y,e[5]=s,e.length=6,e):i?(e[0]=d,e[1]=p,e[2]=c,e[3]=v,e[4]=y,e[5]=u,e.length=6,e):(e[0]=d,e[1]=p,e[2]=v,e[3]=y,e.length=4,e)}function b(e,t,n,r,i,a){var o=t.xmin,s=t.xmax,c=t.ymin,u=t.ymax,l=t.zmin,h=t.zmax,f=t.mmin,d=t.mmax;return i?(l=l||0,h=h||0,a?(f=f||0,d=d||0,e[0]=o,e[1]=c,e[2]=l,e[3]=f,e[4]=s,e[5]=u,e[6]=h,e[7]=d,e):(e[0]=o,e[1]=c,e[2]=l,e[3]=s,e[4]=u,e[5]=h,e)):a?(f=f||0,d=d||0,e[0]=o,e[1]=c,e[2]=f,e[3]=s,e[4]=u,e[5]=d,e):(e[0]=o,e[1]=c,e[2]=s,e[3]=u,e)}function v(e,t,n,i,a,o){var s=n?3:2,c=i&&o,u=n&&a;if(!t.length||!t[0].length)return null;for(var f,d,p,b,v=Object(r.a)(t[0],2),y=v[0],m=v[1],g=Object(r.a)(t[0],2),O=g[0],j=g[1],w=0;w<t.length;w++){var _=t[w],x=Object(r.a)(_,2),k=x[0],S=x[1];if(y=l(y,k),m=l(m,S),O=h(O,k),j=h(j,S),u&&_.length>2){var E=_[2];f=l(f,E),d=h(d,E)}if(c&&_.length>s){var T=_[s];p=l(f,T),b=h(d,T)}}return a?(f=f||0,d=d||0,o?(p=p||0,b=b||0,e[0]=y,e[1]=m,e[2]=f,e[3]=p,e[4]=O,e[5]=j,e[6]=d,e[7]=b,e):(e[0]=y,e[1]=m,e[2]=f,e[3]=O,e[4]=j,e[5]=d,e)):o?(p=p||0,b=b||0,e[0]=y,e[1]=m,e[2]=p,e[3]=O,e[4]=j,e[5]=b,e):(e[0]=y,e[1]=m,e[2]=O,e[3]=j,e)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));var r=n(17);function i(e,t,n){return Object(r.i)(e.map((function(e,r){return t.apply(n,[e,r])})))}function a(e,t,n){return Object(r.i)(e.map((function(e,r){return t.apply(n,[e,r])}))).then((function(e){return e.map((function(e){return e.value}))}))}function o(e){return e.then((function(e){return{ok:!0,value:e}})).catch((function(e){return{ok:!1,error:e}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return c}));n(15);var r=n(101),i=n(166),a=n(223),o=n(20),s=n(293);function c(e,t,n,i){var a=function(e,t){return e?function(e,t){if(!t||"web-scene"!==t.origin)return!0;switch(e.type){case"simple":case"unique-value":case"class-breaks":return!0;case"heatmap":case"dictionary":case"dot-density":default:return!1}}(e,t)?e.write({},t):(t.messages&&t.messages.push(new o.a("renderer:unsupported","Renderer of type '".concat(e.declaredClass,"' are not supported in scenes."),{renderer:e,context:t})),null):null}(e,i);a&&Object(r.c)(n,a,t)}function u(e,t){return h(e,null,t)}var l=Object(a.b)({types:s.a});function h(e,t,n){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(n&&n.messages&&n.messages.push(new i.a("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:n})),null):l(e,t,n):null}},function(e,t,n){"use strict";function r(e){return"h"in e&&"s"in e&&"v"in e}function i(e){return"l"in e&&"a"in e&&"b"in e}function a(e){return"l"in e&&"c"in e&&"h"in e}function o(e){return"x"in e&&"y"in e&&"z"in e}n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return v}));var s=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],c=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function u(e,t){var n,r,i=[];if(e[0].length!==t.length)throw"dimensions do not match";var a=e.length,o=e[0].length,s=0;for(n=0;n<a;n++){for(s=0,r=0;r<o;r++)s+=e[n][r]*t[r];i.push(s)}return i}function l(e){var t=[e.r/255,e.g/255,e.b/255].map((function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)})),n=u(s,t);return{x:100*n[0],y:100*n[1],z:100*n[2]}}function h(e){var t=u(c,[e.x/100,e.y/100,e.z/100]).map((function(e){var t=e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function f(e){var t=[e.x/95.047,e.y/100,e.z/108.883].map((function(e){return e>Math.pow(6/29,3)?Math.pow(e,1/3):1/3*Math.pow(29/6,2)*e+4/29}));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function d(e){var t=e.l,n=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map((function(e){return e>6/29?Math.pow(e,3):3*Math.pow(6/29,2)*(e-4/29)}));return{x:95.047*n[0],y:100*n[1],z:108.883*n[2]}}function p(e){return f(l(e))}function b(e){return h(d(e))}function v(e){return function(e){return"r"in e&&"g"in e&&"b"in e}(e)?e:a(e)?function(e){return h(d(function(e){var t=e.l,n=e.c,r=e.h;return{l:t,a:n*Math.cos(r),b:n*Math.sin(r)}}(e)))}(e):i(e)?b(e):o(e)?h(e):r(e)?function(e){var t,n=(e.h+360)%360/60,r=e.s/100,i=e.v/100*255,a=i*r,o=a*(1-Math.abs(n%2-1));switch(Math.floor(n)){case 0:t={r:a,g:o,b:0};break;case 1:t={r:o,g:a,b:0};break;case 2:t={r:0,g:a,b:o};break;case 3:t={r:0,g:o,b:a};break;case 4:t={r:o,g:0,b:a};break;case 5:case 6:t={r:a,g:0,b:o};break;default:t={r:0,g:0,b:0}}return t.r=Math.round(t.r+i-a),t.g=Math.round(t.g+i-a),t.b=Math.round(t.b+i-a),t}(e):e}function y(e){return r(e)?e:function(e){var t=e.r,n=e.g,r=e.b,i=Math.max(t,n,r),a=i-Math.min(t,n,r),o=i,s=0===a?0:i===t?(n-r)/a%6:i===n?(r-t)/a+2:(t-n)/a+4,c=0===a?0:a/o;return s<0&&(s+=6),{h:s*=60,s:c*=100,v:o*=100/255}}(v(e))}function m(e){return i(e)?e:p(v(e))}function g(e,t){var n=p(e);return n.l*=1-t,b(n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"executeQuery",(function(){return y})),n.d(t,"executeQueryForCount",(function(){return _})),n.d(t,"executeQueryForExtent",(function(){return x})),n.d(t,"executeQueryForIds",(function(){return w})),n.d(t,"executeQueryPBF",(function(){return g})),n.d(t,"executeQueryPBFBuffer",(function(){return j})),n.d(t,"queryToQueryStringParameters",(function(){return v})),n.d(t,"runQuery",(function(){return k}));var r=n(7),i=n.n(r),a=n(10),o=n(16),s=n(4),c=n(12),u=n(17),l=n(97),h=n(65),f=n(427),d=n(417),p=n(609),b=n(371);function v(e,t){var n=e.geometry,r=e.toJSON(),i=r;if(Object(s.h)(n)&&(i.geometry=JSON.stringify(n),i.geometryType=Object(l.c)(n),i.inSR=n.spatialReference.wkid||JSON.stringify(n.spatialReference)),r.groupByFieldsForStatistics&&(i.groupByFieldsForStatistics=r.groupByFieldsForStatistics.join(",")),r.objectIds&&(i.objectIds=r.objectIds.join(",")),r.orderByFields&&(i.orderByFields=r.orderByFields.join(",")),!r.outFields||!r.returnDistinctValues&&(null!=t&&t.returnCountOnly||null!=t&&t.returnExtentOnly||null!=t&&t.returnIdsOnly)?delete i.outFields:-1!==r.outFields.indexOf("*")?i.outFields="*":i.outFields=r.outFields.join(","),r.outSR?i.outSR=r.outSR.wkid||JSON.stringify(r.outSR):n&&(r.returnGeometry||r.returnCentroid)&&(i.outSR=i.inSR),r.returnGeometry&&delete r.returnGeometry,r.outStatistics&&(i.outStatistics=JSON.stringify(r.outStatistics)),r.pixelSize&&(i.pixelSize=JSON.stringify(r.pixelSize)),r.quantizationParameters&&(i.quantizationParameters=JSON.stringify(r.quantizationParameters)),r.parameterValues&&(i.parameterValues=JSON.stringify(r.parameterValues)),r.rangeValues&&(i.rangeValues=JSON.stringify(r.rangeValues)),r.dynamicDataSource&&(i.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r.timeExtent){var a=r.timeExtent,o=a.start,c=a.end;null==o&&null==c||(i.time=o===c?o:"".concat(null==o?"null":o,",").concat(null==c?"null":c)),delete r.timeExtent}return i}function y(e,t,n,r){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(i.a.mark((function e(t,n,r,a){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(s.h)(n.timeExtent)||!n.timeExtent.isEmpty){e.next=4;break}e.t0={data:{features:[]}},e.next=7;break;case 4:return e.next=6,k(t,n,"json",a);case 6:e.t0=e.sent;case 7:return o=e.t0,e.abrupt("return",(Object(d.a)(n,r,o.data),o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n,r){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(i.a.mark((function e(t,n,r,a){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(s.h)(n.timeExtent)||!n.timeExtent.isEmpty){e.next=2;break}return e.abrupt("return",Object(u.s)({data:r.createFeatureResult()}));case 2:return e.next=4,j(t,n,a);case 4:return o=e.sent,c=o,e.abrupt("return",(c.data=Object(p.a)(o.data,r),c));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,n){return k(e,t,"pbf",n)}function w(e,t,n){return Object(s.h)(t.timeExtent)&&t.timeExtent.isEmpty?Object(u.s)({data:{objectIds:[]}}):k(e,t,"json",n,{returnIdsOnly:!0})}function _(e,t,n){return Object(s.h)(t.timeExtent)&&t.timeExtent.isEmpty?Object(u.s)({data:{count:0}}):k(e,t,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})}function x(e,t,n){return Object(s.h)(t.timeExtent)&&t.timeExtent.isEmpty?Object(u.s)({data:{count:0,extent:null}}):k(e,t,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((function(e){var t=e.data;if(t.hasOwnProperty("extent"))return e;if(t.features)throw new Error("Layer does not support extent calculation.");if(t.hasOwnProperty("count"))throw new Error("Layer does not support extent calculation.");return e}))}function k(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o="string"==typeof e?Object(c.I)(e):e,u=t.geometry?[t.geometry]:[];return r.responseType="pbf"===n?"array-buffer":"json",Object(f.a)(u,null,r).then((function(e){var u=e&&e[0];Object(s.h)(u)&&((t=t.clone()).geometry=u);var l=Object(b.a)(Object(a.a)(Object(a.a)(Object(a.a)({},o.query),{},{f:n},i),v(t,i)));return Object(h.default)(Object(c.x)(o.path,"query"),Object(a.a)(Object(a.a)({},r),{},{query:Object(a.a)(Object(a.a)({},l),r.query)}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"ButtonGroup",{enumerable:!0,get:function(){return i.default}});var r=a(n(770)),i=a(n(631));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1),n(45)),l=n(8),h=(n(12),n(21),n(22),n(248)),f=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="inherited",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r}}]),n}(h.a);Object(c.a)([Object(u.a)({inherited:"inherited"})],f.prototype,"type",void 0);var d=f=r=Object(c.a)([Object(l.a)("esri.layers.support.InheritedDomain")],f);t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(268);function i(e,t){return Array.isArray(t)&&t[0]&&Array.isArray(t[0])?t.map((function(t){return i(e,t)})).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(t)}function a(e){var t=Object(r.a)(e);return Object.keys(t).map((function(e){return i(e,t[e])})).join("&")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),i=n(63),a=n(46);function o(e){var t,n={httpMethod:"GET"};if("string"===typeof e)t="https://www.arcgis.com/sharing/rest/community/users/"+e;else{var o=e.username||e.authentication.username;t=Object(a.a)(e)+"/community/users/"+encodeURIComponent(o),n=Object(r.a)(Object(r.a)({},e),n)}return Object(i.d)(t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n(307);function i(e){return null!=r.a[e]}function a(e){return 1/(r.a[e]||1)}var o=function(){var e=Object.keys(r.a);return e.sort(),e}()},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(1)),l=n(62),h=n(8),f=(n(12),n(21),n(22),n(27)),d=n(36),p=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).decoration="none",r.family="sans-serif",r.size=9,r.style="normal",r.weight="normal",r}return Object(a.a)(n,[{key:"castSize",value:function(e){return Object(d.j)(e)}},{key:"clone",value:function(){return new r({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}},{key:"hash",value:function(){return"".concat(this.decoration,".").concat(this.family,".").concat(this.size,".").concat(this.style,".").concat(this.weight)}}]),n}(f.a);Object(c.a)([Object(u.b)({type:["underline","line-through","none"],json:{default:"none",write:!0}})],p.prototype,"decoration",void 0),Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],p.prototype,"family",void 0),Object(c.a)([Object(u.b)({type:Number,json:{write:{overridePolicy:function(e,t,n){return{enabled:!n||!n.textSymbol3D}}}}})],p.prototype,"size",void 0),Object(c.a)([Object(l.a)("size")],p.prototype,"castSize",null),Object(c.a)([Object(u.b)({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],p.prototype,"style",void 0),Object(c.a)([Object(u.b)({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],p.prototype,"weight",void 0);var b=p=r=Object(c.a)([Object(h.a)("esri.symbols.Font")],p);t.a=b},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(37)),f=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"clone",value:function(){return new r({url:this.url})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:String})],f.prototype,"url",void 0);var d=f=r=Object(c.a)([Object(l.a)("esri.symbols.support.Thumbnail")],f);t.a=d},function(e,t,n){"use strict";var r=n(7),i=n.n(r),a=n(16),o=n(10),s=n(2),c=n(3),u=n(40),l=n(5),h=n(6),f=n(0),d=(n(15),n(4)),p=(n(14),n(1)),b=n(62),v=n(8),y=n(20),m=(n(12),n(21),n(22),n(39)),g=n(80),O=n(29),j=n(330),w=n(512),_=n(105),x=n(71),k={editing:!1,operations:{add:!0,update:!0,delete:!0}},S=m.a.ofType(w.a),E=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e))._getAttachmentsPromise=null,r._attachmentLayer=null,r.abilities=Object(o.a)({},k),r.activeAttachmentInfo=null,r.attachmentInfos=new S,r.graphic=null,r.mode="view",r.handles.add([Object(O.a)(Object(u.a)(r),"graphic",(function(){return r._graphicChanged()}))]),r}return Object(c.a)(n,[{key:"destroy",value:function(){this._attachmentLayer=null,this.graphic=null}},{key:"castAbilities",value:function(e){return Object(o.a)(Object(o.a)({},k),e)}},{key:"state",get:function(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}},{key:"supportsResizeAttachments",get:function(){return this.get("graphic.layer.capabilities.operations.supportsResizeAttachments")||!1}},{key:"getAttachments",value:function(){var e=Object(a.a)(i.a.mark((function e(){var t,n,r,a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._attachmentLayer,n=this.attachmentInfos,t&&"function"==typeof t.queryAttachments){e.next=3;break}throw new y.a("invalid-layer","getAttachments(): A valid layer is required.");case 3:return r=this._getFeatureId(),a=new j.a({objectIds:[r],returnMetadata:!0}),o=[],s=t.queryAttachments(a).then((function(e){return e[r]||o})).catch((function(){return o})),this._getAttachmentsPromise=s,this.notifyChange("state"),e.next=7,s;case 7:return c=e.sent,e.abrupt("return",(n.removeAll(),c.length&&n.addMany(c),this._getAttachmentsPromise=null,this.notifyChange("state"),c));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addAttachment",value:function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a,o,s,c,u=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._attachmentLayer,r=this.attachmentInfos,a=this.graphic,o=this.abilities,t){e.next=3;break}throw new y.a("invalid-attachment","addAttachment(): An attachment is required.",{attachment:t});case 3:if(o.operations.add){e.next=5;break}throw new y.a("invalid-abilities","addAttachment(): add abilities are required.");case 5:if(n&&"function"==typeof n.addAttachment){e.next=7;break}throw new y.a("invalid-layer","addAttachment(): A valid layer is required.");case 7:return s=n.addAttachment(a,t).then((function(e){return u._queryAttachment(e.objectId)})),e.next=10,s;case 10:return c=e.sent,e.abrupt("return",(r.add(c),c));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAttachment",value:function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._attachmentLayer,r=this.attachmentInfos,a=this.graphic,o=this.abilities,t){e.next=3;break}throw new y.a("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:t});case 3:if(o.operations.delete){e.next=5;break}throw new y.a("invalid-abilities","deleteAttachment(): delete abilities are required.");case 5:if(n&&"function"==typeof n.deleteAttachments){e.next=7;break}throw new y.a("invalid-layer","deleteAttachment(): A valid layer is required.");case 7:return s=n.deleteAttachments(a,[t.id]).then((function(){return t})),e.next=10,s;case 10:return c=e.sent,e.abrupt("return",(r.remove(c),c));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAttachment",value:function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a,o,s,c,u,l,h=this,f=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:this.activeAttachmentInfo,r=this._attachmentLayer,a=this.attachmentInfos,o=this.graphic,s=this.abilities,t){e.next=4;break}throw new y.a("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:t});case 4:if(n){e.next=6;break}throw new y.a("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:n});case 6:if(s.operations.update){e.next=8;break}throw new y.a("invalid-abilities","updateAttachment(): Update abilities are required.");case 8:if(c=a.findIndex((function(e){return e===n})),r&&"function"==typeof r.updateAttachment){e.next=11;break}throw new y.a("invalid-layer","updateAttachment(): A valid layer is required.");case 11:return u=r.updateAttachment(o,n.id,t).then((function(e){return h._queryAttachment(e.objectId)})),e.next=14,u;case 14:return l=e.sent,e.abrupt("return",(a.splice(c,1,l),l));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_queryAttachment",value:function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new y.a("invalid-attachment-id","Could not query attachment.");case 2:return n=this._attachmentLayer,r=this._getFeatureId(),a=new j.a({objectIds:[r],attachmentsWhere:"AttachmentId=".concat(t),returnMetadata:!0}),e.abrupt("return",n.queryAttachments(a).then((function(e){return e[r][0]})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getFeatureId",value:function(){var e=this._attachmentLayer,t=this.graphic;if(!e||!t)return null;var n=e.objectIdField,r=t.attributes;return r&&r[n]}},{key:"_graphicChanged",value:function(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch((function(){})))}},{key:"_setAttachmentLayer",value:function(){var e=this.graphic,t=Object(x.l)(e);this._attachmentLayer=t?"scene"===t.type&&Object(d.h)(t.associatedLayer)?t.associatedLayer:t:null}}]),n}(_.a);Object(f.a)([Object(p.b)()],E.prototype,"abilities",void 0),Object(f.a)([Object(b.a)("abilities")],E.prototype,"castAbilities",null),Object(f.a)([Object(p.b)()],E.prototype,"activeAttachmentInfo",void 0),Object(f.a)([Object(p.b)({readOnly:!0,type:S})],E.prototype,"attachmentInfos",void 0),Object(f.a)([Object(p.b)({type:g.a})],E.prototype,"graphic",void 0),Object(f.a)([Object(p.b)()],E.prototype,"mode",void 0),Object(f.a)([Object(p.b)({dependsOn:["graphic"],readOnly:!0})],E.prototype,"state",null),Object(f.a)([Object(p.b)({readOnly:!0,dependsOn:["graphic","graphic.layer","graphic.layer.loaded","graphic.layer.capabilities.operations.supportsResizeAttachments"]})],E.prototype,"supportsResizeAttachments",null);var T=E=Object(f.a)([Object(v.a)("esri.widgets.Attachments.AttachmentsViewModel")],E);t.a=T},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18)),h=n(1),f=n(8),d=n(35),p=(n(12),n(21),n(22),n(27)),b=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).attachmentTypes=null,r.attachmentsWhere=null,r.keywords=null,r.globalIds=null,r.name=null,r.num=null,r.objectIds=null,r.returnMetadata=!1,r.size=null,r.start=null,r.where=null,r}return Object(a.a)(n,[{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}},{key:"clone",value:function(){return new r(Object(u.a)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}}]),n}(p.a);Object(c.a)([Object(h.b)({type:[String],json:{write:!0}})],b.prototype,"attachmentTypes",void 0),Object(c.a)([Object(h.b)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],b.prototype,"attachmentsWhere",void 0),Object(c.a)([Object(h.b)({type:[String],json:{write:!0}})],b.prototype,"keywords",void 0),Object(c.a)([Object(h.b)({type:[Number],json:{write:!0}})],b.prototype,"globalIds",void 0),Object(c.a)([Object(h.b)({json:{write:!0}})],b.prototype,"name",void 0),Object(c.a)([Object(h.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0),Object(c.a)([Object(h.b)({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0),Object(c.a)([Object(h.b)({type:Boolean,json:{default:!1,write:!0}})],b.prototype,"returnMetadata",void 0),Object(c.a)([Object(h.b)({type:[Number],json:{write:!0}})],b.prototype,"size",void 0),Object(c.a)([Object(h.b)({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0),Object(c.a)([Object(d.a)("start"),Object(d.a)("num")],b.prototype,"writeStart",null),Object(c.a)([Object(h.b)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0),(b=r=Object(c.a)([Object(f.a)("esri.tasks.support.AttachmentQuery")],b)).from=Object(l.m)(b);var v=b;t.a=v},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(259),i=n(63),a=n(375),o=n(46);function s(e,t){var n,c,u;switch(c="string"===typeof e||e instanceof a.a?{httpMethod:"GET",params:{q:e}}:Object(r.a)(e,["q","num","start","sortField","sortOrder"],{httpMethod:"GET"}),t){case"item":u="/search";break;case"group":u="/community/groups";break;case"groupContent":if("string"===typeof e||e instanceof a.a||!e.groupId)return Promise.reject(new Error("you must pass a `groupId` option to `searchGroupContent`"));u="/content/groups/"+e.groupId+"/search";break;default:u="/portals/self/users/search"}return n=Object(o.a)(c)+u,Object(i.d)(n,c).then((function(n){return n.nextStart&&-1!==n.nextStart&&(n.nextPage=function(){var r;return"string"===typeof e||e instanceof a.a?r={q:e,start:n.nextStart}:(r=e).start=n.nextStart,s(r,t)}),n}))}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(37)),f=n(121),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).portal=null,e}return Object(a.a)(n,[{key:"clone",value:function(){return new r({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:String})],d.prototype,"name",void 0),Object(c.a)([Object(u.b)({type:String})],d.prototype,"styleUrl",void 0),Object(c.a)([Object(u.b)({type:String})],d.prototype,"styleName",void 0),Object(c.a)([Object(u.b)({type:f.a})],d.prototype,"portal",void 0);var p=d=r=Object(c.a)([Object(l.a)("esri.symbols.support.StyleOrigin")],d);t.a=p},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(1)),h=n(62),f=n(45),d=n(8),p=n(35),b=(n(12),n(21),n(22),n(43)),v=n(130),y=n(36),m=n(327),g=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).backgroundColor=null,e.borderLineColor=null,e.borderLineSize=null,e.font=new m.a,e.horizontalAlignment="center",e.kerning=!0,e.haloColor=null,e.haloSize=null,e.rightToLeft=null,e.rotated=!1,e.text="",e.type="text",e.verticalAlignment=null,e.xoffset=0,e.yoffset=0,e.angle=0,e.width=null,e.lineWidth=192,e.lineHeight=1,e}return Object(a.a)(n,[{key:"normalizeCtorArgs",value:function(e,t,n){if(e&&"string"!=typeof e)return e;var r={};return e&&(r.text=e),t&&(r.font=t),n&&(r.color=n),r}},{key:"writeLineWidth",value:function(e,t,n,r){r&&"string"!=typeof r?r.origin:t[n]=e}},{key:"castLineWidth",value:function(e){return Object(y.j)(e)}},{key:"writeLineHeight",value:function(e,t,n,r){r&&"string"!=typeof r?r.origin:t[n]=e}},{key:"clone",value:function(){return new r({angle:this.angle,backgroundColor:Object(u.a)(this.backgroundColor),borderLineColor:Object(u.a)(this.borderLineColor),borderLineSize:this.borderLineSize,color:Object(u.a)(this.color),font:this.font&&this.font.clone(),haloColor:Object(u.a)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}},{key:"hash",value:function(){return"".concat(this.backgroundColor&&this.backgroundColor.hash(),".").concat(this.borderLineColor,".").concat(this.borderLineSize,".").concat(this.color.hash(),".").concat(this.font&&this.font.hash(),".").concat(this.haloColor&&this.haloColor.hash(),".").concat(this.haloSize,".").concat(this.horizontalAlignment,".").concat(this.kerning,".").concat(this.rightToLeft,".").concat(this.rotated,".").concat(this.text,".").concat(this.verticalAlignment,".").concat(this.width,".").concat(this.xoffset,".").concat(this.yoffset,".").concat(this.lineHeight,".").concat(this.lineWidth,".").concat(this.angle)}}]),n}(v.a);Object(c.a)([Object(l.b)({type:b.a,json:{write:!0}})],g.prototype,"backgroundColor",void 0),Object(c.a)([Object(l.b)({type:b.a,json:{write:!0}})],g.prototype,"borderLineColor",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],g.prototype,"borderLineSize",void 0),Object(c.a)([Object(l.b)({type:m.a,json:{write:!0}})],g.prototype,"font",void 0),Object(c.a)([Object(l.b)({type:["left","right","center","justify"],json:{write:!0}})],g.prototype,"horizontalAlignment",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0}})],g.prototype,"kerning",void 0),Object(c.a)([Object(l.b)({type:b.a,json:{write:!0}})],g.prototype,"haloColor",void 0),Object(c.a)([Object(l.b)({type:Number,cast:y.j,json:{write:!0}})],g.prototype,"haloSize",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0}})],g.prototype,"rightToLeft",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0}})],g.prototype,"rotated",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],g.prototype,"text",void 0),Object(c.a)([Object(f.a)({esriTS:"text"},{readOnly:!0})],g.prototype,"type",void 0),Object(c.a)([Object(l.b)({type:["baseline","top","middle","bottom"],json:{write:!0}})],g.prototype,"verticalAlignment",void 0),Object(c.a)([Object(l.b)({type:Number,cast:y.j,json:{write:!0}})],g.prototype,"xoffset",void 0),Object(c.a)([Object(l.b)({type:Number,cast:y.j,json:{write:!0}})],g.prototype,"yoffset",void 0),Object(c.a)([Object(l.b)({type:Number,json:{read:function(e){return e&&-1*e},write:function(e,t){return t.angle=e&&-1*e}}})],g.prototype,"angle",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],g.prototype,"width",void 0),Object(c.a)([Object(l.b)({type:Number})],g.prototype,"lineWidth",void 0),Object(c.a)([Object(p.a)("lineWidth")],g.prototype,"writeLineWidth",null),Object(c.a)([Object(h.a)("lineWidth")],g.prototype,"castLineWidth",null),Object(c.a)([Object(l.b)({type:Number})],g.prototype,"lineHeight",void 0),Object(c.a)([Object(p.a)("lineHeight")],g.prototype,"writeLineHeight",null);var O=g=r=Object(c.a)([Object(d.a)("esri.symbols.TextSymbol")],g);t.a=O},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u}));n(2),n(3);var r=n(44);function i(e,t,n){var r=n.parameters,i=n.paddingPixelsOverride;return l.scale=Math.min(r.divisor/(t-r.offset),1),l.factor=function(e){return Math.abs(e*e*e)}(e),l.minPixelSize=r.minPixelSize,l.paddingPixels=i,l}function a(e,t){return 0===e?t.minPixelSize:t.minPixelSize*(1+2*t.paddingPixels/e)}function o(e,t){return Math.max(Object(r.l)(e*t.scale,e,t.factor),a(e,t))}function s(e,t,n,r){r.scale=function(e,t,n){var r=i(e,t,n);return r.minPixelSize=0,r.paddingPixels=0,o(1,r)}(e,t,n),r.factor=0,r.minPixelSize=n.parameters.minPixelSize,r.paddingPixels=n.paddingPixelsOverride}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],r=Math.min(Math.max(t.scale,a(e[1],t)/e[1]),1);return n[0]=e[0]*r,n[1]=e[1]*r,n}function u(e,t,n,r){return o(e,i(t,n,r))}Object(r.f)(10),Object(r.f)(12),Object(r.f)(70),Object(r.f)(40);var l={scale:0,factor:0,minPixelSize:0,paddingPixels:0}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(27)),f=n(43),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).color=null,r.ratio=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({color:this.color,ratio:this.ratio})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:f.a,json:{write:!0}})],d.prototype,"color",void 0),Object(c.a)([Object(u.b)({type:Number,json:{write:!0}})],d.prototype,"ratio",void 0);var p=d=r=Object(c.a)([Object(l.a)("esri.renderers.support.HeatmapColorStop")],d);t.a=p},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(27)),f=n(164),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).value=0,r.unit="milliseconds",r}return Object(a.a)(n,[{key:"toMilliseconds",value:function(){return this.value*f.a[this.unit]}},{key:"clone",value:function(){return new r({value:this.value,unit:this.unit})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:Number,json:{write:!0},nonNullable:!0})],d.prototype,"value",void 0),Object(c.a)([Object(u.b)({type:f.c.apiValues,json:{type:f.c.jsonValues,read:f.c.read,write:f.c.write},nonNullable:!0})],d.prototype,"unit",void 0);var p=d=r=Object(c.a)([Object(l.a)("esri.TimeInterval")],d);t.a=p},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(19)),i=o(n(100)),a=n(391);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.children,n=s(e,["children"]);return r.default.createElement(a.StyledArcgisAccountMenuItem,n,t)};c.propTypes={children:i.default.node},c.defaultProps={},c.displayName="ArcgisAccountMenuItem";var u=c;t.default=u},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r}));"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return a(null==t&&n.path)}},n.exports),n.exports}function a(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}}).call(this,n(317))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,i=n(30),a=n(31);function o(e){e.code.add(Object(a.a)(r||(r=Object(i.a)(["\n    vec4 premultiplyAlpha(vec4 v) {\n      return vec4(v.rgb * v.a, v.a);\n    }\n\n    // Note: the min in the last line has been added to fix an instability in chrome.\n    // See https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/23911\n    // With proper floating point handling, the value could never be >1.\n    vec3 rgb2hsv(vec3 c) {\n      vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n      vec4 p = c.g < c.b ? vec4(c.bg, K.wz) : vec4(c.gb, K.xy);\n      vec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);\n\n      float d = q.x - min(q.w, q.y);\n      float e = 1.0e-10;\n      return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), min(d / (q.x + e), 1.0), q.x);\n    }\n\n    vec3 hsv2rgb(vec3 c) {\n      vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n      vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n      return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n    }\n\n    float rgb2v(vec3 c) {\n      return max(c.x, max(c.y, c.z));\n    }\n  "]))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,i,a,o,s,c,u,l=n(30),h=n(31);function f(e,t){t.vvInstancingEnabled&&(t.vvSize||t.vvColor)&&e.attributes.add("instanceFeatureAttribute","vec4"),t.vvSize?(e.vertex.uniforms.add("vvSizeMinSize","vec3"),e.vertex.uniforms.add("vvSizeMaxSize","vec3"),e.vertex.uniforms.add("vvSizeOffset","vec3"),e.vertex.uniforms.add("vvSizeFactor","vec3"),e.vertex.uniforms.add("vvSymbolRotationMatrix","mat3"),e.vertex.uniforms.add("vvSymbolAnchor","vec3"),e.vertex.code.add(Object(h.a)(r||(r=Object(l.a)(["\n      vec3 vvScale(vec4 _featureAttribute) {\n        return clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize);\n      }\n\n      vec4 vvTransformPosition(vec3 position, vec4 _featureAttribute) {\n        return vec4(vvSymbolRotationMatrix * ( vvScale(_featureAttribute) * (position + vvSymbolAnchor)), 1.0);\n      }\n    "])))),e.vertex.code.add(Object(h.a)(i||(i=Object(l.a)(["\n      const float eps = 1.192092896e-07;\n      vec4 vvTransformNormal(vec3 _normal, vec4 _featureAttribute) {\n        vec3 vvScale = clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize + eps, vvSizeMaxSize);\n        return vec4(vvSymbolRotationMatrix * _normal / vvScale, 1.0);\n      }\n\n      ","\n    "])),t.vvInstancingEnabled?Object(h.a)(a||(a=Object(l.a)(["\n      vec4 vvLocalNormal(vec3 _normal) {\n        return vvTransformNormal(_normal, instanceFeatureAttribute);\n      }\n\n      vec4 localPosition() {\n        return vvTransformPosition(position, instanceFeatureAttribute);\n      }"]))):""))):e.vertex.code.add(Object(h.a)(o||(o=Object(l.a)(["\n      vec4 localPosition() { return vec4(position, 1.0); }\n\n      vec4 vvLocalNormal(vec3 _normal) { return vec4(_normal, 1.0); }\n    "])))),t.vvColor?(e.vertex.defines.addInt("VV_COLOR_N",8),e.vertex.code.add(Object(h.a)(s||(s=Object(l.a)(["\n      uniform float vvColorValues[VV_COLOR_N];\n      uniform vec4 vvColorColors[VV_COLOR_N];\n\n      vec4 vvGetColor(vec4 featureAttribute, float values[VV_COLOR_N], vec4 colors[VV_COLOR_N]) {\n        float value = featureAttribute.y;\n        if (value <= values[0]) {\n          return colors[0];\n        }\n\n        for (int i = 1; i < VV_COLOR_N; ++i) {\n          if (values[i] >= value) {\n            float f = (value - values[i-1]) / (values[i] - values[i-1]);\n            return mix(colors[i-1], colors[i], f);\n          }\n        }\n        return colors[VV_COLOR_N - 1];\n      }\n\n      ","\n    "])),t.vvInstancingEnabled?Object(h.a)(c||(c=Object(l.a)(["\n      vec4 vvColor() {\n        return vvGetColor(instanceFeatureAttribute, vvColorValues, vvColorColors);\n      }"]))):""))):e.vertex.code.add(Object(h.a)(u||(u=Object(l.a)(["\n      vec4 vvColor() { return vec4(1.0); }\n    "]))))}!function(e){function t(e,t){t.vvSizeEnabled&&(e.setUniform3fv("vvSizeMinSize",t.vvSizeMinSize),e.setUniform3fv("vvSizeMaxSize",t.vvSizeMaxSize),e.setUniform3fv("vvSizeOffset",t.vvSizeOffset),e.setUniform3fv("vvSizeFactor",t.vvSizeFactor)),t.vvColorEnabled&&(e.setUniform1fv("vvColorValues",t.vvColorValues),e.setUniform4fv("vvColorColors",t.vvColorColors))}e.bindUniforms=t,e.bindUniformsWithOpacity=function(e,n){t(e,n),n.vvOpacityEnabled&&(e.setUniform1fv("vvOpacityValues",n.vvOpacityValues),e.setUniform1fv("vvOpacityOpacities",n.vvOpacityOpacities))},e.bindUniformsForSymbols=function(e,n){t(e,n),n.vvSizeEnabled&&(e.setUniform3fv("vvSymbolAnchor",n.vvSymbolAnchor),e.setUniformMatrix3fv("vvSymbolRotationMatrix",n.vvSymbolRotationMatrix))}}(f||(f={}))},function(e,t,n){"use strict";var r,i=n(38),a=n(13),o=n(7),s=n.n(o),c=n(10),u=n(16),l=n(2),h=n(3),f=n(5),d=n(6),p=n(0),b=(n(15),n(23)),v=n(101),y=n(4),m=n(14),g=n(18),O=n(1),j=n(62),w=n(45),_=n(34),x=n(8),k=n(35),S=n(20),E=(n(12),n(21),n(22),n(126)),T=n(17),M=n(144),C=n(49),A=n(121),P=n(280),I=n(66),D=n(343),L=n(158),R=n(249),N=n(310),F=n(426),z=n(419),V=n(408),U=m.a.getLogger("esri.renderers.UniqueValueRenderer"),B=Object(g.m)(z.a),G=r=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e))._valueInfoMap={},r._isDefaultSymbolDerived=!1,r.type="unique-value",r.backgroundFillSymbol=null,r.field=null,r.field2=null,r.field3=null,r.valueExpression=null,r.valueExpressionTitle=null,r.legendOptions=null,r.defaultLabel=null,r.fieldDelimiter=null,r.portal=null,r.styleOrigin=null,r.diff={uniqueValueInfos:function(e,t){if(e||t){if(!e||!t)return{type:"complete",oldValue:e,newValue:t};for(var n=!1,r={type:"collection",added:[],removed:[],changed:[],unchanged:[]},i=function(i){var a=e.find((function(e){return e.value===t[i].value}));a?Object(F.a)(a,t[i])?(r.changed.push({type:"complete",oldValue:a,newValue:t[i]}),n=!0):r.unchanged.push({oldValue:a,newValue:t[i]}):(r.added.push(t[i]),n=!0)},a=0;a<t.length;a++)i(a);for(var o=function(i){t.find((function(t){return t.value===e[i].value}))||(r.removed.push(e[i]),n=!0)},s=0;s<e.length;s++)o(s);return n?r:void 0}}},r._set("uniqueValueInfos",[]),r}return Object(h.a)(n,[{key:"_cache",get:function(){return{compiledFunc:null}}},{key:"castField",value:function(e){return null==e||"function"==typeof e?e:Object(g.l)(e)}},{key:"writeField",value:function(e,t,n,r){"string"==typeof e?t[n]=e:r&&r.messages?r.messages.push(new S.a("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):U.error(".field: cannot write field to JSON since it's not a string value")}},{key:"defaultSymbol",set:function(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}},{key:"readPortal",value:function(e,t,n){return n.portal||A.a.getDefault()}},{key:"readStyleOrigin",value:function(e,t,n){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){var r=Object(E.a)(t.styleUrl,n);return Object.freeze({styleUrl:r})}}},{key:"writeStyleOrigin",value:function(e,t,n,r){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=Object(E.e)(e.styleUrl,r))}},{key:"uniqueValueInfos",set:function(e){this.styleOrigin?U.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}},{key:"addUniqueValueInfo",value:function(e,t){var n;this.styleOrigin?U.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(n="object"==typeof e?B(e):new z.a({value:e,symbol:Object(I.e)(t)}),this.uniqueValueInfos.push(n),this._valueInfoMap[n.value]=n)}},{key:"removeUniqueValueInfo",value:function(e){if(this.styleOrigin)U.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(var t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}},{key:"getUniqueValueInfo",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n,e.t0=this.valueExpression&&(Object(y.g)(n)||Object(y.g)(n.arcade)),!e.t0){e.next=11;break}return e.t1=c.a,e.t2=Object(c.a)({},r),e.t3={},e.next=8,Object(M.e)();case 8:e.t4=e.sent,e.t5={arcade:e.t4},r=(0,e.t1)(e.t2,e.t3,e.t5);case 11:return e.abrupt("return",this._getUniqueValueInfo(t,r));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSymbol",value:function(e,t){if(!this.valueExpression||!Object(y.g)(t)&&!Object(y.g)(t.arcade)){var n=this._getUniqueValueInfo(e,t);return n&&n.symbol||this.defaultSymbol}U.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used")}},{key:"getSymbolAsync",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n){var r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n,e.t0=this.valueExpression&&(Object(y.g)(r)||Object(y.g)(r.arcade)),!e.t0){e.next=11;break}return e.t1=c.a,e.t2=Object(c.a)({},r),e.t3={},e.next=8,Object(M.e)();case 8:e.t4=e.sent,e.t5={arcade:e.t4},r=(0,e.t1)(e.t2,e.t3,e.t5);case 11:return i=this._getUniqueValueInfo(t,r),e.abrupt("return",i&&i.symbol||this.defaultSymbol);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){var e,t=[],n=Object(a.a)(this.uniqueValueInfos);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.symbol&&t.push(r.symbol)}}catch(i){n.e(i)}finally{n.f()}return this.defaultSymbol&&t.push(this.defaultSymbol),t}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return"".concat(JSON.stringify(this.backgroundFillSymbol),".").concat(JSON.stringify(this.defaultSymbol),".").concat(this.uniqueValueInfos.reduce((function(e,t){return e+t.getMeshHash()}),""),".","".concat(this.field,".").concat(this.field2,".").concat(this.field3,".").concat(this.fieldDelimiter),".").concat(this.valueExpression)}},{key:"clone",value:function(){var e=new r({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:Object(b.a)(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:Object(b.a)(this.visualVariables),legendOptions:Object(b.a)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:Object(b.a)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);var t=Object(b.a)(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(Object(b.a)(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}},{key:"collectRequiredFields",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[this.collectVVRequiredFields(t,n),this.collectSymbolFields(t,n)],e.next=3,Object(T.b)(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"collectSymbolFields",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[].concat(Object(i.a)(this.getSymbols().map((function(e){return e.collectRequiredFields(t,n)}))),[Object(C.c)(t,n,this.valueExpression)]),Object(C.f)(t,n,this.field),Object(C.f)(t,n,this.field2),Object(C.f)(t,n,this.field3),e.next=6,Object(T.b)(r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"populateFromStyle",value:function(){var e=this;return Object(V.fetchStyle)(this.styleOrigin,{portal:this.portal}).then((function(t){var n=[];return e._valueInfoMap={},t&&t.data&&Array.isArray(t.data.items)&&t.data.items.forEach((function(r){var i=new P.a({styleUrl:t.styleUrl,styleName:t.styleName,portal:e.portal,name:r.name});e.defaultSymbol||r.name!==t.data.defaultItem||(e.defaultSymbol=i,e._isDefaultSymbolDerived=!0);var a=new z.a({value:r.name,symbol:i});n.push(a),e._valueInfoMap[r.name]=a})),e._set("uniqueValueInfos",Object.freeze(n)),!e.defaultSymbol&&e.uniqueValueInfos.length&&(e.defaultSymbol=e.uniqueValueInfos[0].symbol,e._isDefaultSymbolDerived=!0),e}))}},{key:"_updateValueInfoMap",value:function(){var e=this;this._valueInfoMap={},this.uniqueValueInfos.forEach((function(t){return e._valueInfoMap[t.value+""]=t}))}},{key:"_getUniqueValueInfo",value:function(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}},{key:"_getUnqiueValueInfoForExpression",value:function(e,t){var n=Object(y.o)(t,{}),r=n.viewingMode,i=n.scale,a=n.spatialReference,o=n.arcade,s=this._cache.compiledFunc,c=Object(y.n)(o).arcadeUtils;if(!s){var u=c.createSyntaxTree(this.valueExpression);s=c.createFunction(u),this._cache.compiledFunc=s}var l=c.executeFunction(s,c.createExecContext(e,c.getViewInfo({viewingMode:r,scale:i,spatialReference:a})));return this._valueInfoMap[l+""]}},{key:"_getUnqiueValueInfoForFields",value:function(e){var t,n=this.field,r=e.attributes;if("function"!=typeof n&&this.field2){var i=this.field2,a=this.field3,o=[];n&&o.push(r[n]),i&&o.push(r[i]),a&&o.push(r[a]),t=o.join(this.fieldDelimiter||"")}else"function"==typeof n?t=n(e):n&&(t=r[n]);return this._valueInfoMap[t+""]}}],[{key:"fromPortalStyle",value:function(e,t){var n=new r(t&&t.properties);n._set("styleOrigin",Object.freeze({styleName:e})),n._set("portal",t&&t.portal||A.a.getDefault());var i=n.populateFromStyle();return i.catch((function(t){U.error("#fromPortalStyle('".concat(e,"'[, ...])"),"Failed to create unique value renderer from style name",t)})),i}},{key:"fromStyleUrl",value:function(e,t){var n=new r(t&&t.properties);n._set("styleOrigin",Object.freeze({styleUrl:e}));var i=n.populateFromStyle();return i.catch((function(t){U.error("#fromStyleUrl('".concat(e,"'[, ...])"),"Failed to create unique value renderer from style URL",t)})),i}}]),n}(Object(R.a)(L.a));Object(p.a)([Object(O.b)({readOnly:!0,dependsOn:["valueExpression"]})],G.prototype,"_cache",null),Object(p.a)([Object(w.a)({uniqueValue:"unique-value"})],G.prototype,"type",void 0),Object(p.a)([Object(O.b)(N.a)],G.prototype,"backgroundFillSymbol",void 0),Object(p.a)([Object(O.b)({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],G.prototype,"field",void 0),Object(p.a)([Object(j.a)("field")],G.prototype,"castField",null),Object(p.a)([Object(k.a)("field")],G.prototype,"writeField",null),Object(p.a)([Object(O.b)({type:String,json:{write:!0}})],G.prototype,"field2",void 0),Object(p.a)([Object(O.b)({type:String,json:{write:!0}})],G.prototype,"field3",void 0),Object(p.a)([Object(O.b)({type:String,json:{write:!0}})],G.prototype,"valueExpression",void 0),Object(p.a)([Object(O.b)({type:String,json:{write:!0}})],G.prototype,"valueExpressionTitle",void 0),Object(p.a)([Object(O.b)({type:D.a,json:{write:!0}})],G.prototype,"legendOptions",void 0),Object(p.a)([Object(O.b)({type:String,json:{write:!0}})],G.prototype,"defaultLabel",void 0),Object(p.a)([Object(O.b)(Object(v.a)(Object(c.a)({},N.b),{json:{write:{overridePolicy:function(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy:function(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],G.prototype,"defaultSymbol",null),Object(p.a)([Object(O.b)({type:String,json:{write:!0}})],G.prototype,"fieldDelimiter",void 0),Object(p.a)([Object(O.b)({type:A.a,readOnly:!0})],G.prototype,"portal",void 0),Object(p.a)([Object(_.a)("portal",["styleName"])],G.prototype,"readPortal",null),Object(p.a)([Object(O.b)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:function(){return{enabled:!0}}}}})],G.prototype,"styleOrigin",void 0),Object(p.a)([Object(_.a)("styleOrigin",["styleName","styleUrl"])],G.prototype,"readStyleOrigin",null),Object(p.a)([Object(k.a)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],G.prototype,"writeStyleOrigin",null),Object(p.a)([Object(O.b)({type:[z.a],json:{write:{overridePolicy:function(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],G.prototype,"uniqueValueInfos",null);var q=G=r=Object(p.a)([Object(x.a)("esri.renderers.UniqueValueRenderer")],G);t.a=q},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(27)),f=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).title=null,e}return Object(a.a)(n,[{key:"clone",value:function(){return new r({title:this.title})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],f.prototype,"title",void 0);var d=f=r=Object(c.a)([Object(l.a)("esri.renderers.support.LegendOptions")],f);t.a=d},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,u=[],l=!1,h=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function b(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=b,i.addListener=b,i.once=b,i.off=b,i.removeListener=b,i.removeAllListeners=b,i.emit=b,i.prependListener=b,i.prependOnceListener=b,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(13),i=n(10),a=n(2),o=n(3),s=(n(15),n(14)),c=n(112),u=0,l=function(){function e(t,n){Object(a.a)(this,e),this._context=t,this._desc=n,this.id=++u,this._context.instanceCounter.increment(5,this);var r=this._context.gl;this.glName=r.createRenderbuffer(),this._context.bindRenderbuffer(this),r.renderbufferStorage(r.RENDERBUFFER,n.internalFormat,n.width,n.height)}return Object(o.a)(e,[{key:"descriptor",get:function(){return this._desc}},{key:"resize",value:function(e,t){var n=this._desc;if(n.width!==e||n.height!==t){n.width=e,n.height=t;var r=this._context.gl;this._context.bindRenderbuffer(this),r.renderbufferStorage(r.RENDERBUFFER,n.internalFormat,n.width,n.height)}}},{key:"dispose",value:function(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(5,this),this._context=null)}}]),e}(),h=s.a.getLogger("esri.views.webgl.FrameBufferObject"),f=function(){function e(t,n,o,s){var u,h;if(Object(a.a)(this,e),this._context=null,this._glName=null,this.id=d++,this._depthAttachment=null,this._stencilAttachment=null,this._colorAttachments=new Map,this._initialized=!1,t.instanceCounter.increment(4,this),this._context=t,this._desc=Object(i.a)({},n),o)if(Array.isArray(o)){var f,p=Object(r.a)(o);try{for(p.s();!(f=p.n()).done;){var b=f.value,v=b.attachmentPoint,y=b.texture,m=y instanceof c.a?y:new c.a(t,y);u=m.descriptor,this._colorAttachments.set(v,m),this._validateColorAttachmentPoint(v),this._validateTextureDimensions(u,this._desc)}}catch(w){p.e(w)}finally{p.f()}}else o instanceof c.a?(u=o.descriptor,this._colorAttachments.set(36064,o)):(u=o,this._colorAttachments.set(36064,new c.a(t,o))),0!==(null==(h=this._desc)?void 0:h.colorTarget)&&console.error("Framebuffer is initialized with a texture however the descriptor indicates using a renderbuffer color attachment!"),this._validateTextureDimensions(u,this._desc);if(s instanceof l){var g,O=null!=(g=this._desc.depthStencilTarget)?g:3;2===O?this._stencilAttachment=s:1===O||3===O?this._depthAttachment=s:console.error('If a Renderbuffer is provided, "depthStencilTarget" must be one of STENCIL_RENDER_BUFFER, DEPTH_RENDER_BUFFER or DEPTH_STENCIL_RENDER_BUFFER'),e._validateBufferDimensions(s.descriptor,this._desc)}else if(s){var j;this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!"),s instanceof c.a?(this._depthStencilTexture=s,j=this._depthStencilTexture.descriptor):(j=s,this._depthStencilTexture=new c.a(this._context,j)),this._validateTextureDimensions(j,this._desc)}}return Object(o.a)(e,[{key:"dispose",value:function(){if(this._context){var e=this._context,t=e.getBoundFramebufferObject();this._disposeColorAttachments(),this._disposeDepthStencilAttachments(),this._glName&&(e.gl.deleteFramebuffer(this._glName),this._glName=null),e.bindFramebuffer(t),e.instanceCounter.decrement(4,this),this._context=null}}},{key:"glName",get:function(){return this._glName}},{key:"descriptor",get:function(){return this._desc}},{key:"colorTexture",get:function(){var e=this._colorAttachments.get(36064);return e&&e instanceof c.a?e:null}},{key:"colorAttachment",get:function(){return this._colorAttachments.get(36064)}},{key:"depthStencilAttachment",get:function(){return this._depthStencilTexture||this._depthAttachment||this._stencilAttachment}},{key:"depthStencilTexture",get:function(){return this._depthStencilTexture}},{key:"width",get:function(){return this._desc.width}},{key:"height",get:function(){return this._desc.height}},{key:"getColorTexture",value:function(e){var t=this._colorAttachments.get(e);return t&&t instanceof c.a?t:null}},{key:"attachColorTexture",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36064;if(e){this._validateColorAttachmentPoint(t);var n=e.descriptor;if(this._validateTextureDimensions(n,this._desc),this._disposeColorAttachments(),this._initialized){this._context.bindFramebuffer(this);var r=this._context.gl;r.framebufferTexture2D(r.FRAMEBUFFER,t,r.TEXTURE_2D,e.glName,0)}this._colorAttachments.set(t,e)}}},{key:"detachColorTexture",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,t=this._colorAttachments.get(e);if(t instanceof c.a){var n=t;if(this._initialized){this._context.bindFramebuffer(this);var r=this._context.gl;r.framebufferTexture2D(r.FRAMEBUFFER,e,r.TEXTURE_2D,null,0)}return this._colorAttachments.delete(e),n}}},{key:"attachDepthStencilTexture",value:function(e){if(e){var t=e.descriptor;if(34041!==t.pixelFormat&&console.error("Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!"),34042!==t.dataType&&console.error("Depth/Stencil texture must have data type of UNSIGNED_INT_24_8_WEBGL!"),this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!"),this._validateTextureDimensions(t,this._desc),this._desc.depthStencilTarget&&4!==this._desc.depthStencilTarget&&(this._desc.depthStencilTarget=4),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);var n=this._context.gl;n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,e.glName,0)}this._depthStencilTexture=e}}},{key:"detachDepthStencilTexture",value:function(){var e=this._depthStencilTexture;if(e&&this._initialized){this._context.bindFramebuffer(this);var t=this._context.gl;this._context.gl.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,null,0)}return this._depthStencilTexture=null,e}},{key:"attachDepthStencilBuffer",value:function(t){if(t){var n=t.descriptor;if(34041!==n.internalFormat&&33189!==n.internalFormat&&console.error("Depth/Stencil buffer must have correct internalFormat"),e._validateBufferDimensions(n,this._desc),this._disposeDepthStencilAttachments(),this._desc.depthStencilTarget=34041===n.internalFormat?3:1,this._initialized){this._context.bindFramebuffer(this);var r=this._context.gl,i=1===this._desc.depthStencilTarget?r.DEPTH_ATTACHMENT:r.DEPTH_STENCIL_ATTACHMENT;r.framebufferRenderbuffer(r.FRAMEBUFFER,i,r.RENDERBUFFER,t.glName)}this._depthAttachment=t}}},{key:"detachDepthStencilBuffer",value:function(){var e=this._context.gl,t=this._depthAttachment;if(t&&this._initialized){this._context.bindFramebuffer(this);var n=1===this._desc.depthStencilTarget?e.DEPTH_ATTACHMENT:e.DEPTH_STENCIL_ATTACHMENT;e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,null)}return this._depthAttachment=null,t}},{key:"copyToTexture",value:function(e,t,n,r,i,a,o){(e<0||t<0||i<0||a<0)&&console.error("Offsets cannot be negative!"),(n<=0||r<=0)&&console.error("Copy width and height must be greater than zero!");var s=this._desc,c=o.descriptor;3553!==o.descriptor.target&&console.error("Texture target must be TEXTURE_2D!"),(e+n>s.width||t+r>s.height||i+n>c.width||a+r>c.height)&&console.error("Bad dimensions, the current input values will attempt to read or copy out of bounds!");var u=this._context;u.bindTexture(o,0),u.bindFramebuffer(this),u.gl.copyTexSubImage2D(3553,0,i,a,e,t,n,r)}},{key:"readPixels",value:function(e,t,n,r,i,a,o){(n<=0||r<=0)&&console.error("Copy width and height must be greater than zero!"),o||console.error("Target memory is not initialized!"),this._context.bindFramebuffer(this),this._context.gl.readPixels(e,t,n,r,i,a,o)}},{key:"resize",value:function(e,t){var n=this._desc;if(n.width!==e||n.height!==t){if(!this._initialized)return n.width=e,n.height=t,this._colorAttachments.forEach((function(n){n&&n.resize(e,t)})),void(this._depthStencilTexture&&this._depthStencilTexture.resize(e,t));n.width=e,n.height=t,this._colorAttachments.forEach((function(n){n&&n.resize(e,t)})),null!=this._depthStencilTexture?this._depthStencilTexture.resize(e,t):(this._depthAttachment||this._stencilAttachment)&&(this._depthAttachment&&this._depthAttachment.resize(e,t),this._stencilAttachment&&this._stencilAttachment.resize(e,t)),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1}}},{key:"initialize",value:function(){var e,t,n,r;if(this._initialized)return!1;var i=this._context,a=i.gl;this._glName&&a.deleteFramebuffer(this._glName);var o=a.createFramebuffer(),s=this._desc,u=null!=(e=s.colorTarget)?e:1,h=null!=(t=s.width)?t:1,f=null!=(n=s.height)?n:1;if(a.bindFramebuffer(a.FRAMEBUFFER,o),0===this._colorAttachments.size)if(0===u)this._colorAttachments.set(36064,p(i,s));else{var d=new l(i,{internalFormat:32854,width:h,height:f});this._colorAttachments.set(36064,d)}this._colorAttachments.forEach((function(e,t){e&&(e instanceof c.a?a.framebufferTexture2D(a.FRAMEBUFFER,t,a.TEXTURE_2D,e.glName,0):a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,e.glName))}));var b=null!=(r=s.depthStencilTarget)?r:0;switch(b){case 1:case 3:this._depthAttachment||(this._depthAttachment=new l(i,{internalFormat:1===s.depthStencilTarget?33189:34041,width:h,height:f}));var v=1===b?a.DEPTH_ATTACHMENT:a.DEPTH_STENCIL_ATTACHMENT;a.framebufferRenderbuffer(a.FRAMEBUFFER,v,a.RENDERBUFFER,this._depthAttachment.glName);break;case 2:this._stencilAttachment||(this._stencilAttachment=new l(i,{internalFormat:36168,width:h,height:f})),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.STENCIL_ATTACHMENT,a.RENDERBUFFER,this._stencilAttachment.glName);break;case 4:if(!this._depthStencilTexture){i.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!");var y={target:3553,pixelFormat:34041,dataType:34042,samplingMode:9728,wrapMode:33071,width:h,height:f};this._depthStencilTexture=new c.a(i,y)}a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,this._depthStencilTexture.glName,0)}return this._glName=o,this._initialized=!0,!0}},{key:"_disposeColorAttachments",value:function(){var e=this;this._colorAttachments.forEach((function(t,n){if(t instanceof c.a){if(e._initialized){e._context.bindFramebuffer(e);var r=e._context.gl;r.framebufferTexture2D(r.FRAMEBUFFER,n,r.TEXTURE_2D,null,0)}t.dispose()}else if(t instanceof WebGLRenderbuffer){var i=e._context.gl;e._initialized&&(e._context.bindFramebuffer(e),i.framebufferRenderbuffer(i.FRAMEBUFFER,n,i.RENDERBUFFER,null)),e._context.gl.deleteRenderbuffer(t)}})),this._colorAttachments.clear()}},{key:"_disposeDepthStencilAttachments",value:function(){var e=this._context.gl;if(this._depthAttachment){if(this._initialized){this._context.bindFramebuffer(this);var t=1===this._desc.depthStencilTarget?e.DEPTH_ATTACHMENT:e.DEPTH_STENCIL_ATTACHMENT;e.framebufferRenderbuffer(e.FRAMEBUFFER,t,e.RENDERBUFFER,null)}this._depthAttachment.dispose(),this._depthAttachment=null}this._stencilAttachment&&(this._initialized&&(this._context.bindFramebuffer(this),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,null)),this._stencilAttachment.dispose(),this._stencilAttachment=null),this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,null,0)),this._depthStencilTexture.dispose(),this._depthStencilTexture=null)}},{key:"_validateTextureDimensions",value:function(e,t){console.assert(e.width>=0&&e.height>=0),3553!==e.target&&console.error("Texture type must be TEXTURE_2D!"),void 0!==t.width&&t.width>=0&&void 0!==t.height&&t.height>=0?t.width===e.width&&t.height===e.height||console.error("Color attachment texture must match the framebuffer's!"):(t.width=e.width,t.height=e.height)}},{key:"_validateColorAttachmentPoint",value:function(t){if(-1===e._MAX_COLOR_ATTACHMENTS){var n=this._context.capabilities.drawBuffers;if(n){var r=this._context.gl;e._MAX_COLOR_ATTACHMENTS=r.getParameter(n.MAX_COLOR_ATTACHMENTS)}else e._MAX_COLOR_ATTACHMENTS=1}var i=t-36064;i+1>e._MAX_COLOR_ATTACHMENTS&&h.error("esri.FrameBufferObject","illegal attachment point for color attachment: ".concat(i+1,". Implementation supports up to ").concat(e._MAX_COLOR_ATTACHMENTS," color attachments"))}}],[{key:"_validateBufferDimensions",value:function(e,t){console.assert(e.width>=0&&e.height>=0),void 0!==t.width&&t.width>=0&&void 0!==t.height&&t.height>=0?t.width===e.width&&t.height===e.height||console.error("Renderbuffer dimensions must match the framebuffer's!"):(t.width=e.width,t.height=e.height)}}]),e}();f._MAX_COLOR_ATTACHMENTS=-1;var d=0,p=function(e,t){return new c.a(e,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,width:t.width,height:t.height})};t.a=f},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(61),s=n(57),c=n(5),u=n(6),l=n(10),h=n(0),f=(n(15),n(14)),d=n(1),p=n(62),b=n(50),v=n(34),y=n(8),m=n(35),g=n(20),O=(n(12),n(21),n(22),n(36)),j=n(253),w=n(622),_=n(500),x=n(163),k=n(386),S=f.a.getLogger("esri.renderers.visualVariables.SizeVariable"),E=new b.a({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),T=new b.a({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function M(e){if(null!=e)return"string"==typeof e||"number"==typeof e?Object(O.j)(e):"size"===e.type?Object(x.c)(e)?e:(delete(e=Object(l.a)({},e)).type,new A(e)):void 0}function C(e,t,n){if("object"!=typeof e)return e;var r=new A;return r.read(e,n),r}var A=r=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).axis=null,r.legendOptions=null,r.normalizationField=null,r.scaleBy=null,r.target=null,r.type="size",r.useSymbolValue=null,r.valueExpression=null,r.valueRepresentation=null,r.valueUnit=null,r}return Object(a.a)(n,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:k.viewScaleRE.test(this.valueExpression)}}},{key:"expression",set:function(e){S.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===e?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}},{key:"index",set:function(e){Object(x.c)(this.maxSize)&&(this.maxSize.index="visualVariables[".concat(e,"].maxSize")),Object(x.c)(this.minSize)&&(this.minSize.index="visualVariables[".concat(e,"].minSize")),this._set("index",e)}},{key:"inputValueType",get:function(){return Object(x.a)(this)}},{key:"maxDataValue",set:function(e){e&&this.stops&&(S.warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}},{key:"maxSize",set:function(e){e&&this.stops&&(S.warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}},{key:"castMaxSize",value:function(e){return M(e)}},{key:"readMaxSize",value:function(e,t,n){return C(e,0,n)}},{key:"minDataValue",set:function(e){e&&this.stops&&(S.warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}},{key:"minSize",set:function(e){e&&this.stops&&(S.warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}},{key:"castMinSize",value:function(e){return M(e)}},{key:"readMinSize",value:function(e,t,n){return C(e,0,n)}},{key:"arcadeRequired",get:function(){return!!this.valueExpression||this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}},{key:"stops",set:function(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter((function(e){return!!e}))).sort((function(e,t){return e.value-t.value})):e&&(S.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}},{key:"transformationType",get:function(){return Object(x.b)(this,this.inputValueType)}},{key:"readValueExpression",value:function(e,t){return e||t.expression&&"$view.scale"}},{key:"writeValueExpressionWebScene",value:function(e,t,n,r){if("$view.scale"===e){if(r&&r.messages){var i=this.index,a="string"==typeof i?i:"visualVariables[".concat(i,"]");r.messages.push(new g.a("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:a+".valueExpression",context:r}))}}else t[n]=e}},{key:"readValueUnit",value:function(e){return e?T.read(e):null}},{key:"clone",value:function(){return new r({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Object(x.c)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Object(x.c)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((function(e){return e.clone()})),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}},{key:"flipSizes",value:function(){if("clamped-linear"===this.transformationType){var e=this.minSize,t=this.maxSize;return this.minSize=t,this.maxSize=e,this}if("stops"===this.transformationType){for(var n=this.stops,r=n.map((function(e){return e.size})).reverse(),i=n.length,a=0;a<i;a++)n[a].size=r[a];return this}return this}},{key:"getAttributeHash",value:function(){return"".concat(Object(o.a)(Object(s.a)(n.prototype),"getAttributeHash",this).call(this),"-").concat(this.target,"-").concat(this.normalizationField)}},{key:"_interpolateData",value:function(){return this.stops&&this.stops.map((function(e){return e.value||0}))}}]),n}(j.a);Object(h.a)([Object(d.b)({readOnly:!0,dependsOn:["valueExpression","stops"]})],A.prototype,"cache",null),Object(h.a)([Object(d.b)({type:E.apiValues,json:{type:E.jsonValues,origins:{"web-map":{read:!1}},read:E.read,write:E.write}})],A.prototype,"axis",void 0),Object(h.a)([Object(d.b)({type:String,value:null,json:{read:!1}})],A.prototype,"expression",null),Object(h.a)([Object(d.b)()],A.prototype,"index",null),Object(h.a)([Object(d.b)({type:String,readOnly:!0,dependsOn:["field","valueExpression"]})],A.prototype,"inputValueType",null),Object(h.a)([Object(d.b)({type:_.a,json:{write:!0}})],A.prototype,"legendOptions",void 0),Object(h.a)([Object(d.b)({type:Number,value:null,json:{write:!0}})],A.prototype,"maxDataValue",null),Object(h.a)([Object(d.b)({type:Number,value:null,json:{write:!0}})],A.prototype,"maxSize",null),Object(h.a)([Object(p.a)("maxSize")],A.prototype,"castMaxSize",null),Object(h.a)([Object(v.a)("maxSize")],A.prototype,"readMaxSize",null),Object(h.a)([Object(d.b)({type:Number,value:null,json:{write:!0}})],A.prototype,"minDataValue",null),Object(h.a)([Object(d.b)({type:Number,value:null,json:{write:!0}})],A.prototype,"minSize",null),Object(h.a)([Object(p.a)("minSize")],A.prototype,"castMinSize",null),Object(h.a)([Object(v.a)("minSize")],A.prototype,"readMinSize",null),Object(h.a)([Object(d.b)({type:String,json:{write:!0}})],A.prototype,"normalizationField",void 0),Object(h.a)([Object(d.b)({readOnly:!0,dependsOn:["valueExpression","minSize.arcadeRequired","maxSize.arcadeRequired"]})],A.prototype,"arcadeRequired",null),Object(h.a)([Object(d.b)({type:String})],A.prototype,"scaleBy",void 0),Object(h.a)([Object(d.b)({type:[w.a],value:null,json:{write:!0}})],A.prototype,"stops",null),Object(h.a)([Object(d.b)({type:["outline"],json:{write:!0}})],A.prototype,"target",void 0),Object(h.a)([Object(d.b)({type:String,readOnly:!0,dependsOn:["minDataValue","maxDataValue","minSize","maxSize","valueUnit","inputValueType","stops"]})],A.prototype,"transformationType",null),Object(h.a)([Object(d.b)({type:["size"],json:{type:["sizeInfo"]}})],A.prototype,"type",void 0),Object(h.a)([Object(d.b)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],A.prototype,"useSymbolValue",void 0),Object(h.a)([Object(d.b)({type:String,json:{write:!0}})],A.prototype,"valueExpression",void 0),Object(h.a)([Object(v.a)("valueExpression",["valueExpression","expression"])],A.prototype,"readValueExpression",null),Object(h.a)([Object(m.a)("web-scene","valueExpression")],A.prototype,"writeValueExpressionWebScene",null),Object(h.a)([Object(d.b)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],A.prototype,"valueRepresentation",void 0),Object(h.a)([Object(d.b)({type:T.apiValues,json:{write:T.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],A.prototype,"valueUnit",void 0),Object(h.a)([Object(v.a)("valueUnit")],A.prototype,"readValueUnit",null);var P=A=r=Object(h.a)([Object(y.a)("esri.renderers.visualVariables.SizeVariable")],A);t.a=P},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(13),i=n(4),a=n(54),o=n(70);function s(e,t,n){if(Object(i.g)(t)||Object(i.g)(n)||n.vcsWkid||Object(a.c)(t,n))return null;var s=Object(o.c)(t)/Object(o.c)(n);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return function(e){return n=s,void((t=e)&&null!=t.z&&(t.z*=n));var t,n};case"polyline":case"esriGeometryPolyline":return function(e){return function(e,t){if(e){var n,i=Object(r.a)(e.paths);try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Object(r.a)(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.length>2&&(c[2]*=t)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){i.e(u)}finally{i.f()}}}(e,s)};case"polygon":case"esriGeometryPolygon":return function(e){return function(e,t){if(e){var n,i=Object(r.a)(e.rings);try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Object(r.a)(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.length>2&&(c[2]*=t)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){i.e(u)}finally{i.f()}}}(e,s)};case"multipoint":case"esriGeometryMultipoint":return function(e){return function(e,t){if(e){var n,i=Object(r.a)(e.points);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.length>2&&(a[2]*=t)}}catch(o){i.e(o)}finally{i.f()}}}(e,s)};default:return null}}function c(e,t,n){if(null==e.hasM||e.hasZ){var i,a=Object(r.a)(t);try{for(a.s();!(i=a.n()).done;){var o,s=i.value,c=Object(r.a)(s);try{for(c.s();!(o=c.n()).done;){var u=o.value;u.length>2&&(u[2]*=n)}}catch(l){c.e(l)}finally{c.f()}}}catch(l){a.e(l)}finally{a.f()}}}function u(e,t,n){if((e||t)&&n){var r=Object(o.c)(n);l(e,n,r),l(t,n,r)}}function l(e,t,n){if(e){var i,a=Object(r.a)(e);try{for(a.s();!(i=a.n()).done;){h(i.value.geometry,t,n)}}catch(o){a.e(o)}finally{a.f()}}}function h(e,t,n){if(e&&e.spatialReference&&!Object(a.c)(e.spatialReference,t)){var i=Object(o.c)(e.spatialReference)/n;if(1!==i)if("x"in e)null!=e.z&&(e.z*=i);else if("rings"in e)c(e,e.rings,i);else if("paths"in e)c(e,e.paths,i);else if("points"in e&&(null==e.hasM||e.hasZ)){var s,u=Object(r.a)(e.points);try{for(u.s();!(s=u.n()).done;){var l=s.value;l.length>2&&(l[2]*=i)}}catch(h){u.e(h)}finally{u.f()}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,i=n(30),a=n(31);function o(e){e.code.add(Object(a.a)(r||(r=Object(i.a)(["\n    // This is the maximum float value representable as 32bit fixed point,\n    // it is rgba2float(vec4(1)) inlined.\n    const float MAX_RGBA_FLOAT =\n      255.0 / 256.0 +\n      255.0 / 256.0 / 256.0 +\n      255.0 / 256.0 / 256.0 / 256.0 +\n      255.0 / 256.0 / 256.0 / 256.0 / 256.0;\n\n    // Factors to convert to fixed point, i.e. factors (256^0, 256^1, 256^2, 256^3)\n    const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);\n\n    vec4 float2rgba(const float value) {\n      // Make sure value is in the domain we can represent\n      float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);\n\n      // Decompose value in 32bit fixed point parts represented as\n      // uint8 rgba components. Decomposition uses the fractional part after multiplying\n      // by a power of 256 (this removes the bits that are represented in the previous\n      // component) and then converts the fractional part to 8bits.\n      vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);\n\n      // Convert uint8 values (from 0 to 255) to floating point representation for\n      // the shader\n      const float toU8AsFloat = 1.0 / 255.0;\n\n      return fixedPointU8 * toU8AsFloat;\n    }\n\n    // Factors to convert rgba back to float\n    const vec4 RGBA_2_FLOAT_FACTORS = vec4(\n      255.0 / (256.0),\n      255.0 / (256.0 * 256.0),\n      255.0 / (256.0 * 256.0 * 256.0),\n      255.0 / (256.0 * 256.0 * 256.0 * 256.0)\n    );\n\n    float rgba2float(vec4 rgba) {\n      // Convert components from 0->1 back to 0->255 and then\n      // add the components together with their corresponding\n      // fixed point factors, i.e. (256^1, 256^2, 256^3, 256^4)\n      return dot(rgba, RGBA_2_FLOAT_FACTORS);\n    }\n  "]))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return B})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return V}));var r,i,a,o,s,c,u,l,h,f,d,p,b,v,y,m,g,O,j,w,_=n(30),x=n(72),k=n(116),S=n(53),E=n(31),T=n(237),M=n(340),C=n(619),A=n(202),P=n(297),I=n(401),D=n(456),L=n(241),R=n(341),N=n(238),F=n(348);function z(e){var t=new T.a,n=e.signedDistanceFieldEnabled;if(t.include(C.a),t.include(I.a,e),t.include(A.a,e),6===e.output)return t.include(D.b,e),t;t.include(P.a),t.fragment.include(F.a),t.fragment.include(M.a),t.include(R.a,e),t.varyings.add("vcolor","vec4"),t.varyings.add("vtc","vec2"),t.varyings.add("vsize","vec2"),e.binaryHighlightOcclusionEnabled&&t.varyings.add("voccluded","float"),t.vertex.uniforms.add("screenOffset","vec2").add("anchorPos","vec2").add("textureCoordinateScaleFactor","vec2").add("materialColor","vec4"),n&&t.vertex.uniforms.add("outlineColor","vec4"),e.screenSizePerspectiveEnabled&&t.vertex.uniforms.add("screenSizePerspective","vec4"),(e.debugDrawBorder||e.binaryHighlightOcclusionEnabled)&&t.varyings.add("debugBorderCoords","vec4"),t.attributes.add("uv0","vec2"),t.attributes.add("color","vec4"),t.attributes.add("size","vec2"),t.attributes.add("auxpos2","vec4"),t.vertex.code.add(Object(E.a)(r||(r=Object(_.a)(["\n    void main(void) {\n      ProjectHUDAux projectAux;\n      vec4 posProj = projectPositionHUD(projectAux);\n\n      if (rejectBySlice(projectAux.posModel)) {\n        // Project outside of clip plane\n        gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n        return;\n      }\n      vec2 inputSize;\n      ","\n\n      ","\n\n      vec2 combinedSize = inputSize * pixelRatio;\n      vec4 quadOffset = vec4(0.0);\n\n      ","\n\n      ","\n    "])),e.screenSizePerspectiveEnabled?Object(E.a)(i||(i=Object(_.a)(["\n      inputSize = screenSizePerspectiveScaleVec2(size, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspective);\n      vec2 screenOffsetScaled = screenSizePerspectiveScaleVec2(screenOffset, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspectiveAlignment);\n         "]))):Object(E.a)(a||(a=Object(_.a)(["\n      inputSize = size;\n      vec2 screenOffsetScaled = screenOffset;"]))),e.vvSize?"inputSize *= vvScale(auxpos2).xx;":"",e.occlusionTestEnabled||e.binaryHighlightOcclusionEnabled?"bool visible = testVisibilityHUD(posProj);":"",e.binaryHighlightOcclusionEnabled?"voccluded = visible ? 0.0 : 1.0;":""));var w=Object(E.a)(o||(o=Object(_.a)(["\n      vec2 uv01 = floor(uv0);\n      vec2 uv = uv0 - uv01;\n      quadOffset.xy = ((uv01 - anchorPos) * 2.0 * combinedSize + screenOffsetScaled) / viewport.zw * posProj.w;\n  "]))),x=e.pixelSnappingEnabled?n?Object(E.a)(s||(s=Object(_.a)(["\n  posProj = alignToPixelOrigin(posProj, viewport.zw) + quadOffset;"]))):Object(E.a)(c||(c=Object(_.a)(["\n  posProj += quadOffset;\n  if (inputSize.x == size.x) {\n    posProj = alignToPixelOrigin(posProj, viewport.zw);\n  }"]))):Object(E.a)(u||(u=Object(_.a)(["posProj += quadOffset;"])));t.vertex.code.add(Object(E.a)(l||(l=Object(_.a)(["\n      ","\n      ","\n      ","\n\n      bool alphaDiscard = vcolor.a < ",";\n      ",'\n      if (alphaDiscard) {\n        // "early discard" if both symbol color (= fill) and outline color (if applicable) are transparent\n        gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n        return;\n      } else {\n        ',"\n        gl_Position = posProj;\n      }\n\n      vtc = uv * textureCoordinateScaleFactor;\n\n      ","\n      vsize = inputSize;\n      ","\n    }\n    "])),e.occlusionTestEnabled?"if (visible) {":"",w,e.vvColor?"vcolor = vvGetColor(auxpos2, vvColorValues, vvColorColors) * materialColor;":"vcolor = color / 255.0 * materialColor;",E.a.float(N.c),n?"alphaDiscard = alphaDiscard && outlineColor.a < ".concat(E.a.float(N.c),";"):"",x,e.debugDrawBorder?"debugBorderCoords = vec4(uv01, 1.5 / combinedSize);":"",e.occlusionTestEnabled?Object(E.a)(h||(h=Object(_.a)(["} else { vtc = vec2(0.0);\n        ",""])),e.debugDrawBorder?"debugBorderCoords = vec4(0.5, 0.5, 1.5 / combinedSize);}":"}"):"")),t.fragment.uniforms.add("tex","sampler2D"),n&&(t.fragment.uniforms.add("outlineColor","vec4"),t.fragment.uniforms.add("outlineSize","float"));var k=e.debugDrawBorder?Object(E.a)(f||(f=Object(_.a)(["(isBorder > 0.0 ? 0.0 : ",")"])),E.a.float(N.b)):E.a.float(N.b),S=Object(E.a)(d||(d=Object(_.a)(["\n    ","\n\n    ","\n\n    ","\n  "])),e.debugDrawBorder?Object(E.a)(p||(p=Object(_.a)(["\n      float isBorder = float(any(lessThan(debugBorderCoords.xy, debugBorderCoords.zw)) || any(greaterThan(debugBorderCoords.xy, 1.0 - debugBorderCoords.zw)));"]))):"",n?Object(E.a)(b||(b=Object(_.a)(["\n      vec4 fillPixelColor = vcolor;\n\n      // Attempt to sample texel centers to avoid that thin cross outlines\n      // disappear with large symbol sizes.\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/7058#issuecomment-603041\n      const float txSize = 128.0;\n      const float texelSize = 1.0 / txSize;\n      // Calculate how much we have to add/subtract to/from each texel to reach the size of an onscreen pixel\n      vec2 scaleFactor = (vsize - txSize) * texelSize;\n      vec2 samplePos = vtc + (vec2(1.0, -1.0) * texelSize) * scaleFactor;\n\n      // Get distance and map it into [-0.5, 0.5]\n      float d = rgba2float(texture2D(tex, samplePos)) - 0.5;\n\n      // Distance in output units (i.e. pixels)\n      float dist = d * vsize.x;\n\n      // Create smooth transition from the icon into its outline\n      float fillAlphaFactor = clamp(0.5 - dist, 0.0, 1.0);\n      fillPixelColor.a *= fillAlphaFactor;\n\n      if (outlineSize > 0.25) {\n        vec4 outlinePixelColor = outlineColor;\n        float clampedOutlineSize = min(outlineSize, 0.5*vsize.x);\n\n        // Create smooth transition around outline\n        float outlineAlphaFactor = clamp(0.5 - (abs(dist) - 0.5*clampedOutlineSize), 0.0, 1.0);\n        outlinePixelColor.a *= outlineAlphaFactor;\n\n        if (\n          outlineAlphaFactor + fillAlphaFactor < "," ||\n          fillPixelColor.a + outlinePixelColor.a < ","\n        ) {\n          discard;\n        }\n\n        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Description)\n        float compositeAlpha = outlinePixelColor.a + fillPixelColor.a * (1.0 - outlinePixelColor.a);\n        vec3 compositeColor = vec3(outlinePixelColor) * outlinePixelColor.a +\n          vec3(fillPixelColor) * fillPixelColor.a * (1.0 - outlinePixelColor.a);\n\n        gl_FragColor = vec4(compositeColor, compositeAlpha);\n      } else {\n        if (fillAlphaFactor < ",") {\n          discard;\n        }\n\n        gl_FragColor = premultiplyAlpha(fillPixelColor);\n      }\n\n      // visualize SDF:\n      // gl_FragColor = vec4(clamp(-dist/vsize.x*2.0, 0.0, 1.0), clamp(dist/vsize.x*2.0, 0.0, 1.0), 0.0, 1.0);\n      "])),k,E.a.float(N.c),k):Object(E.a)(v||(v=Object(_.a)(["\n          vec4 texColor = texture2D(tex, vtc, -0.5);\n          if (texColor.a < ",") {\n            discard;\n          }\n          gl_FragColor = texColor * premultiplyAlpha(vcolor);\n          "])),k),e.debugDrawBorder?Object(E.a)(y||(y=Object(_.a)(["gl_FragColor = mix(gl_FragColor, vec4(1.0, 0.0, 1.0, 1.0), isBorder);"]))):"");return 7===e.output&&t.fragment.code.add(Object(E.a)(m||(m=Object(_.a)(["\n      void main() {\n        ","\n        gl_FragColor = vec4(gl_FragColor.a);\n      }\n      "])),S)),0===e.output&&t.fragment.code.add(Object(E.a)(g||(g=Object(_.a)(["\n    void main() {\n      ","\n      ","\n    }\n    "])),S,e.FrontFacePass?"gl_FragColor.rgb /= gl_FragColor.a;":"")),4===e.output&&(t.include(L.a),t.fragment.code.add(Object(E.a)(O||(O=Object(_.a)(["\n    void main() {\n      ","\n      ","\n    }\n    "])),S,e.binaryHighlightOcclusionEnabled?Object(E.a)(j||(j=Object(_.a)(["\n          if (voccluded == 1.0) {\n            gl_FragColor = vec4(1.0, 1.0, 0.0, 1.0);\n          } else {\n            gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);\n          }"]))):"outputHighlight();"))),t}function V(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U;return e.textureIsSignedDistanceField?(t=e.anchorPos,n=e.distanceFieldBoundingBox,(r=i)[0]=t[0]*(n[2]-n[0])+n[0],r[1]=t[1]*(n[3]-n[1])+n[1]):Object(S.c)(i,e.anchorPos),i}(w||(w={})).bindUniforms=function(e,t,n){e.setUniform4fv("materialColor",t.color),t.textureIsSignedDistanceField&&(t.outlineColor[3]<=0||t.outlineSize<=0?(e.setUniform4fv("outlineColor",k.b),e.setUniform1f("outlineSize",0)):(e.setUniform4fv("outlineColor",t.outlineColor),e.setUniform1f("outlineSize",t.outlineSize))),e.setUniform2f("screenOffset",2*t.screenOffset[0]*n,2*t.screenOffset[1]*n),e.setUniform2fv("anchorPos",V(t))};var U=Object(x.a)(),B=Object.freeze({__proto__:null,build:z,get HUDMaterial(){return w},calculateAnchorPosForRendering:V})},function(e,t,n){"use strict";var r,i=n(7),a=n.n(i),o=n(16),s=n(2),c=n(3),u=n(5),l=n(6),h=n(0),f=(n(15),n(23)),d=(n(14),n(18),n(1)),p=n(45),b=n(8),v=(n(12),n(21),n(22),n(17)),y=n(158),m=n(249),g=n(310),O=r=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).description=null,r.label=null,r.symbol=null,r.type="simple",r}return Object(c.a)(n,[{key:"collectRequiredFields",value:function(){var e=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.b)([this.collectSymbolFields(t,n),this.collectVVRequiredFields(t,n)]);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"collectSymbolFields",value:function(){var e=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.b)(this.getSymbols().map((function(e){return e.collectRequiredFields(t,n)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSymbol",value:function(e,t){return this.symbol}},{key:"getSymbolAsync",value:function(){var e=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.symbol);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return this.symbol?[this.symbol]:[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return this.getSymbols().reduce((function(e,t){return e+JSON.stringify(t)}),"")}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}},{key:"clone",value:function(){return new r({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:Object(f.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}}]),n}(Object(m.a)(y.a));Object(h.a)([Object(d.b)({type:String,json:{write:!0}})],O.prototype,"description",void 0),Object(h.a)([Object(d.b)({type:String,json:{write:!0}})],O.prototype,"label",void 0),Object(h.a)([Object(d.b)(g.b)],O.prototype,"symbol",void 0),Object(h.a)([Object(p.a)({simple:"simple"})],O.prototype,"type",void 0);var j=O=r=Object(h.a)([Object(b.a)("esri.renderers.SimpleRenderer")],O);t.a=j},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledTopNavTitle=t.StyledTopNavList=t.StyledTopNavLink=t.StyledTopNavBrandImg=t.StyledTopNavBrandLink=t.StyledTopNavActions=t.StyledTopNav=t.StyledTopNavContainer=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(203)),i=n(193),a=n(176),o=n(291);var s=r.default.header.withConfig({displayName:"StyledTopNavContainer",componentId:"sc-10bmdec-0"})(["background-color:",";border-bottom:1px solid ",";position:relative;display:flex;width:100%;"],(function(e){return e.theme.palette.white}),(function(e){return e.theme.palette.lightestGray}));t.StyledTopNavContainer=s,s.defaultProps={theme:a.CalciteTheme};var c=r.default.div.withConfig({displayName:"StyledTopNav",componentId:"sc-10bmdec-1"})(["display:flex;align-items:center;background-color:",";width:",";max-width:",";padding:0 1rem;margin:0 auto;z-index:100;",";"],(function(e){return e.theme.palette.white}),(function(e){return e.contentWidth||e.theme.contentWidth}),(function(e){return e.contentMaxWidth||e.theme.contentMaxWidth}),(0,i.clearfix)());t.StyledTopNav=c,c.defaultProps={theme:a.CalciteTheme};var u=r.default.div.withConfig({displayName:"StyledTopNavActions",componentId:"sc-10bmdec-2"})(["display:flex;align-items:center;margin-left:auto;padding-left:",";html[dir='rtl'] &{margin-left:initial;margin-right:auto;padding-left:initial;padding-right:",";}> a,> button{margin-left:0.75em;&:first-child{margin-left:0;}}"],(function(e){return e.theme.baseline}),(function(e){return e.theme.baseline}));t.StyledTopNavActions=u,u.defaultProps={theme:a.CalciteTheme};var l=r.default.a.withConfig({displayName:"StyledTopNavBrandLink",componentId:"sc-10bmdec-3"})(["padding-right:",";display:inline-flex;align-items:center;text-decoration:none;html[dir='rtl'] &{padding-right:initial;padding-left:",";}"],(function(e){return e.theme.baseline}),(function(e){return e.theme.baseline}));t.StyledTopNavBrandLink=l,l.defaultProps={theme:a.CalciteTheme};var h=r.default.img.withConfig({displayName:"StyledTopNavBrandImg",componentId:"sc-10bmdec-4"})(["height:30px;"]);t.StyledTopNavBrandImg=h,h.defaultProps={theme:a.CalciteTheme};var f=(0,r.default)(o.CalciteA).withConfig({displayName:"StyledTopNavLink",componentId:"sc-10bmdec-5"})(["",";color:",";padding-top:1.1625rem;padding-bottom:calc(1.1625rem - 4px);border-bottom:4px solid transparent;line-height:1.5rem;display:inline-flex;align-items:center;margin-left:0.75em;font-weight:300;html[dir='rtl'] &{margin-left:initial;margin-right:0.75em;}&:hover,&:focus{color:",";border-bottom-color:",";text-decoration:none;}&:focus{outline:none;}",";&.active,.active > &{color:",";border-bottom-color:",";}"],(0,i.fontSize)(0),(function(e){return e.theme.palette.darkGray}),(function(e){return e.theme.palette.blue}),(function(e){return e.theme.palette.blue}),(function(e){return e.active&&(0,r.css)(["color:",";border-bottom-color:",";"],(function(e){return e.theme.palette.offBlack}),e.theme.palette.blue)}),(function(e){return e.theme.palette.offBlack}),(function(e){return e.theme.palette.blue}));t.StyledTopNavLink=f,f.defaultProps={theme:a.CalciteTheme};var d=r.default.nav.withConfig({displayName:"StyledTopNavList",componentId:"sc-10bmdec-6"})(["padding:0;flex:1 0 auto;margin-left:-0.75em;html[dir='rtl'] &{margin-left:initial;margin-right:-0.75em;}",";"],(function(e){return e.right&&(0,r.css)(["float:right;html[dir='rtl'] &{float:left;}"])}));t.StyledTopNavList=d,d.defaultProps={theme:a.CalciteTheme};var p=(0,r.default)(o.CalciteA).withConfig({displayName:"StyledTopNavTitle",componentId:"sc-10bmdec-7"})(["margin-right:1.5rem;padding-top:1.125rem;padding-bottom:1.25rem;",";color:",";html[dir='rtl'] &{margin-right:initial;margin-left:1.5rem;}&:hover{text-decoration:none;}"],(0,i.fontSize)(1),(function(e){return e.theme.palette.black}));t.StyledTopNavTitle=p,p.defaultProps={theme:a.CalciteTheme}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c}));var r=n(10),i=n(13),a=n(43),o=n(148);function s(e){var t=Object(o.k)(e);if("CIMTextSymbol"===t.type)return t.height;var n=0;if(t.symbolLayers){var r,a=Object(i.a)(t.symbolLayers);try{for(a.s();!(r=a.n()).done;){var s=r.value;Object(o.g)(s)&&s.size>n?n=s.size:Object(o.i)(s)&&s.width>n?n=s.width:Object(o.f)(s)}}catch(c){a.e(c)}finally{a.f()}}return n}function c(e,t,n){var r=Object(o.k)(e),a=s(e);0!==a?u(r,t/a,!1,n):function(e,t){if("CIMTextSymbol"!==e.type){if(e.symbolLayers){var n,r=Object(i.a)(e.symbolLayers);try{for(r.s();!(n=r.n()).done;){var a=n.value;switch(a.type){case"CIMPictureMarker":case"CIMVectorMarker":a.size=t;break;case"CIMPictureStroke":case"CIMSolidStroke":a.width=t}}}catch(o){r.e(o)}finally{r.f()}}}else e.height=t}(r,t)}function u(e,t,n,a){if("CIMTextSymbol"!==e.type){if(n&&e.effects){var o,s=Object(i.a)(e.effects);try{for(s.s();!(o=s.n()).done;){h(o.value,t)}}catch(p){s.e(p)}finally{s.f()}}if(e.symbolLayers){var c,f=Object(i.a)(e.symbolLayers);try{for(f.s();!(c=f.n()).done;){var d=c.value;switch(d.type){case"CIMPictureMarker":case"CIMVectorMarker":l(d,t,a);break;case"CIMPictureStroke":case"CIMSolidStroke":null!=a&&a.preserveOutlineWidth||(d.width*=t);break;case"CIMPictureFill":d.height*=t,d.offsetX*=t,d.offsetY*=t;break;case"CIMHatchFill":u(d.lineSymbol,t,!0,Object(r.a)(Object(r.a)({},a),{},{preserveOutlineWidth:!1})),d.offsetX*=t,d.offsetY*=t,d.separation*=t}}}catch(p){f.e(p)}finally{f.f()}}}else e.height*=t}function l(e,t,n){if(e.markerPlacement&&function(e,t){switch(Object(o.h)(e)&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset*=t,e.offsetAlongLine*=t,e.placementTemplate&&e.placementTemplate.length){var n=e.placementTemplate.map((function(e){return e*t}));e.placementTemplate=n}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset*=t,e.placementTemplate&&e.placementTemplate.length){var r=e.placementTemplate.map((function(e){return e*t}));e.placementTemplate=r}break;case"CIMMarkerPlacementOnLine":e.startPointOffset*=t;break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine*=t;break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition*=t,e.endPosition*=t;break;case"CIMMarkerPlacementPolygonCenter":e.offsetX*=t,e.offsetY*=t;break;case"CIMMarkerPlacementInsidePolygon":e.offsetX*=t,e.offsetY*=t,e.stepX*=t,e.stepY*=t}}(e.markerPlacement,t),e.offsetX*=t,e.offsetY*=t,e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size*=t,"CIMVectorMarker"===e.type&&e.markerGraphics){var r,a=Object(i.a)(e.markerGraphics);try{for(a.s();!(r=a.n()).done;){var s=r.value;e.scaleSymbolsProportionally||u(s.symbol,t,!0,n)}}catch(c){a.e(c)}finally{a.f()}}}function h(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width*=t;break;case"CIMGeometricEffectBuffer":e.size*=t;break;case"CIMGeometricEffectCut":e.beginCut*=t,e.endCut*=t,e.middleCut*=t;break;case"CIMGeometricEffectDashes":if(e.customEndingOffset*=t,e.offsetAlongLine*=t,e.dashTemplate&&e.dashTemplate.length){var n=e.dashTemplate.map((function(e){return e*t}));e.dashTemplate=n}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length*=t;break;case"CIMGeometricEffectMove":e.offsetX*=t,e.offsetY*=t;break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset*=t;break;case"CIMGeometricEffectRegularPolygon":e.radius*=t;break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth*=t,e.length*=t,e.toWidth*=t;break;case"CIMGeometricEffectWave":e.amplitude*=t,e.period*=t}}function f(e){var t=[];return d(Object(o.k)(e),t),t.length?new a.a(Object(o.e)(t[0])):null}function d(e,t){var n;n="CIMTextSymbol"===e.type?e.symbol:e;var r="CIMPolygonSymbol"===e.type;if(n.symbolLayers){var a,s=Object(i.a)(n.symbolLayers);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(!(c.colorLocked||r&&(Object(o.i)(c)||Object(o.g)(c)&&c.markerPlacement&&Object(o.h)(c.markerPlacement))))switch(c.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":break;case"CIMVectorMarker":c.markerGraphics.forEach((function(e){d(e.symbol,t)}));break;case"CIMSolidStroke":case"CIMSolidFill":p(t,c.color);break;case"CIMHatchFill":d(c.lineSymbol,t)}}}catch(u){s.e(u)}finally{s.f()}}}function p(e,t){var n,r=Object(i.a)(e);try{for(r.s();!(n=r.n()).done;){if(n.value.join(".")===t.join("."))return}}catch(a){r.e(a)}finally{r.f()}e.push(t)}function b(e,t){t instanceof a.a||(t=new a.a(t)),v(Object(o.k)(e),t)}function v(e,t){var n;n="CIMTextSymbol"===e.type?e.symbol:e;var r="CIMPolygonSymbol"===e.type;if(n.symbolLayers){var a,s=Object(i.a)(n.symbolLayers);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(!c.colorLocked&&(!r||!(Object(o.i)(c)||Object(o.g)(c)&&c.markerPlacement&&Object(o.h)(c.markerPlacement)))){var u=t.toArray(0);switch(c.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":break;case"CIMVectorMarker":c.markerGraphics.forEach((function(e){v(e.symbol,t)}));break;case"CIMSolidStroke":case"CIMSolidFill":c.color=u;break;case"CIMHatchFill":v(c.lineSymbol,t)}}}}catch(l){s.e(l)}finally{s.f()}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(3),a=n(5),o=n(6),s=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this)).material=e.material,i.techniqueRep=e.techniqueRep,i.output=e.output,i}return Object(i.a)(n,[{key:"getTechnique",value:function(){return this.technique}},{key:"getPipelineState",value:function(e,t){return this.getTechnique().pipeline}},{key:"ensureResources",value:function(e){return 2}},{key:"ensureParameters",value:function(e){}}]),n}(n(615).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r,i=n(10),a=n(2),o=n(3),s=n(5),c=n(6),u=n(4),l=n(14),h=n(44),f=n(36),d=n(24),p=n(9),b=n(53),v=n(205),y=n(55),m=n(221),g=n(26),O=n(222),j=n(353),w=n(265),_=n(263),x=n(76);(r||(r={})).Default={vvSizeEnabled:!1,vvSizeMinSize:Object(x.c)(1,1,1),vvSizeMaxSize:Object(x.c)(100,100,100),vvSizeOffset:Object(x.c)(0,0,0),vvSizeFactor:Object(x.c)(1,1,1),vvSizeValue:Object(x.c)(1,1,1),vvColorEnabled:!1,vvColorValues:[0,0,0,0,0,0,0,0],vvColorColors:[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],vvOpacityEnabled:!1,vvOpacityValues:[0,0,0,0,0,0,0,0],vvOpacityOpacities:[1,1,1,1,1,1,1,1],vvSymbolAnchor:[0,0,0],vvSymbolRotationMatrix:Object(_.a)()};var k=r,S=n(89),E=l.a.getLogger("esri.views.3d.webgl-engine.materials.RibbonLineMaterial"),T=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,r,e,C))._vertexAttributeLocations=S.d,i.techniqueConfig=new S.b,i.layout=i.createLayout(),i}return Object(o.a)(n,[{key:"isClosed",value:function(e,t){return D(this.params,e,t)}},{key:"dispose",value:function(){}},{key:"getPassParameters",value:function(){return this.params}},{key:"getTechniqueConfig",value:function(e,t){this.techniqueConfig.output=e;var n=Object(u.h)(this.params.stipplePattern);return this.techniqueConfig.stippleEnabled=n,this.techniqueConfig.stippleIntegerRepeatsEnabled=n&&this.params.stippleIntegerRepeats,this.techniqueConfig.stippleOffColorEnabled=n&&Object(u.h)(this.params.stippleOffColor),this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig.roundJoins="round"===this.params.join,this.techniqueConfig.roundCaps="round"===this.params.cap,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.polygonOffset=this.params.polygonOffset,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.vvColor=this.params.vvColorEnabled,this.techniqueConfig.vvOpacity=this.params.vvOpacityEnabled,this.techniqueConfig.vvSize=this.params.vvSizeEnabled,this.techniqueConfig.innerColorEnabled=this.params.innerWidth>0&&Object(u.h)(this.params.innerColor),this.techniqueConfig.falloffEnabled=this.params.falloff>0,this.techniqueConfig.occluder=8===this.params.renderOccluded,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig}},{key:"intersect",value:function(e,t,n,r,i,a,o,s,c){c?this.intersectDrapedLineGeometry(e,r,a,o):this.intersectLineGeometry(e,t,n,r,this.params.width,o)}},{key:"intersectDrapedLineGeometry",value:function(e,t,n,r){if(t.options.selectionMode){var i=e.getAttribute(S.c.POSITION).data,a=e.getAttribute(S.c.SIZE),o=this.params.width;if(this.params.vvSizeEnabled){var s=e.getAttribute(S.c.SIZEFEATUREATTRIBUTE).data[0];o*=Object(h.d)(this.params.vvSizeOffset[0]+s*this.params.vvSizeFactor[0],this.params.vvSizeMinSize[0],this.params.vvSizeMaxSize[0])}else a&&(o*=a.data[0]);for(var c=n[0],u=n[1],l=(o/2+4)*e.screenToWorldRatio,f=Number.MAX_VALUE,d=0;d<i.length-5;d+=3){var p=i[d],b=i[d+1],v=c-p,y=u-b,m=i[d+3]-p,g=i[d+4]-b,O=Object(h.d)((m*v+g*y)/(m*m+g*g),0,1),j=m*O-v,w=g*O-y,_=j*j+w*w;_<f&&(f=_)}f<l*l&&r()}}},{key:"intersectLineGeometry",value:function(e,t,n,r,i,a){if(r.options.selectionMode&&!Object(O.d)(t))if(Object(g.i)(n)){var o=e.data,s=o.getVertexAttr(),c=s[S.c.POSITION].data,u=i;if(this.params.vvSizeEnabled){var l=s[S.c.SIZEFEATUREATTRIBUTE].data[0];u*=Object(h.d)(this.params.vvSizeOffset[0]+l*this.params.vvSizeFactor[0],this.params.vvSizeMinSize[0],this.params.vvSizeMaxSize[0])}else s[S.c.SIZE]&&(u*=s[S.c.SIZE].data[0]);var f=r.camera,d=U;Object(b.c)(d,r.point);var v=u*f.pixelRatio/2+4*f.pixelRatio;Object(p.t)(Q[0],d[0]-v,d[1]+v,0),Object(p.t)(Q[1],d[0]+v,d[1]+v,0),Object(p.t)(Q[2],d[0]+v,d[1]-v,0),Object(p.t)(Q[3],d[0]-v,d[1]-v,0);for(var m=0;m<4;m++)if(!f.unprojectFromRenderScreen(Q[m],Z[m]))return;y.d.fromPoints(f.eye,Z[0],Z[1],$),y.d.fromPoints(f.eye,Z[1],Z[2],ee),y.d.fromPoints(f.eye,Z[2],Z[3],te),y.d.fromPoints(f.eye,Z[3],Z[0],ne);for(var j=Number.MAX_VALUE,w=I(this.params,s,o.indices)?c.length-2:c.length-5,_=0;_<w;_+=3){N[0]=c[_]+n[12],N[1]=c[_+1]+n[13],N[2]=c[_+2]+n[14];var x=(_+3)%c.length;if(F[0]=c[x]+n[12],F[1]=c[x+1]+n[13],F[2]=c[x+2]+n[14],!(y.d.signedDistance($,N)<0&&y.d.signedDistance($,F)<0||y.d.signedDistance(ee,N)<0&&y.d.signedDistance(ee,F)<0||y.d.signedDistance(te,N)<0&&y.d.signedDistance(te,F)<0||y.d.signedDistance(ne,N)<0&&y.d.signedDistance(ne,F)<0)){if(f.projectToRenderScreen(N,B),f.projectToRenderScreen(F,G),B[2]<0&&G[2]>0){Object(p.g)(z,N,F);var k=f.frustum,T=-y.d.signedDistance(k.planes[4],N)/Object(p.e)(z,y.d.normal(k.planes[4]));Object(p.b)(z,z,T),Object(p.c)(N,N,z),f.projectToRenderScreen(N,B)}else if(B[2]>0&&G[2]<0){Object(p.g)(z,F,N);var M=f.frustum,C=-y.d.signedDistance(M.planes[4],F)/Object(p.e)(z,y.d.normal(M.planes[4]));Object(p.b)(z,z,C),Object(p.c)(F,F,z),f.projectToRenderScreen(F,G)}else if(B[2]<0&&G[2]<0)continue;B[2]=0,G[2]=0;var A=y.c.distance2(y.c.fromPoints(B,G,W),d);A<j&&(j=A,Object(p.h)(q,N),Object(p.h)(H,F))}}var P=r.rayBeginPoint,D=r.rayEndPoint;if(j<v*v){var L=Number.MAX_VALUE;if(y.c.closestLineSegmentPoint(y.c.fromPoints(q,H,W),y.c.fromPoints(P,D,Y),V)){Object(p.g)(V,V,P);var R=Object(p.m)(V);Object(p.b)(V,V,1/R),L=R/Object(p.l)(P,D)}a(L,V)}}else E.error("intersection assumes a translation-only matrix")}},{key:"computeAttachmentOrigin",value:function(e,t){var n=e.data,r="getVertexAttr"in n?n.getVertexAttr():"vertexAttr"in n?n.vertexAttr:null;if(!r)return null;var i=S.c.POSITION,a="getVertexAttr"in n?n.indices:null,o=r[i];return Object(m.a)(o,a?a[i]:null,a&&I(this.params,r,a),t)}},{key:"createLayout",value:function(){var e=Object(v.a)().vec3f(S.c.POSITION).f32(S.c.SUBDIVISIONFACTOR).vec2f(S.c.UV0).vec3f(S.c.AUXPOS1).vec3f(S.c.AUXPOS2);return this.params.vvSizeEnabled?e.f32(S.c.SIZEFEATUREATTRIBUTE):e.f32(S.c.SIZE),this.params.vvColorEnabled?e.f32(S.c.COLORFEATUREATTRIBUTE):e.vec4f(S.c.COLOR),this.params.vvOpacityEnabled&&e.f32(S.c.OPACITYFEATUREATTRIBUTE),e}},{key:"createBufferWriter",value:function(){return new A(this.layout,this.params)}},{key:"getGLMaterial",value:function(e){return 0===e.output||7===e.output||4===e.output||1===e.output?new M(e):void 0}},{key:"validateParameterValues",value:function(e){"miter"!==e.join&&(e.miterLimit=0),this.requiresTransparent(e)&&(e.transparent=!0)}},{key:"requiresTransparent",value:function(e){return!!((e.color&&e.color[3])<1||e.innerWidth>0&&this.colorRequiresTransparent(e.innerColor)||e.stipplePattern&&this.colorRequiresTransparent(e.stippleOffColor)||e.falloff>0)}},{key:"colorRequiresTransparent",value:function(e){return Object(u.h)(e)&&e[3]<1&&e[3]>0}}]),n}(w.a),M=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).updateParameters(),r}return Object(o.a)(n,[{key:"updateParameters",value:function(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(S.a,this.material.getTechniqueConfig(this.output,e),this.technique)}},{key:"beginSlot",value:function(e){return this.technique.configuration.occluder?3===e||10===e||11===e:0===this.output||7===this.output?(this.targetSlot=this.technique.configuration.writeDepth?5:8,e===this.targetSlot):3===e}},{key:"_updateOccludeeState",value:function(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&this.material.setParameterValues({sceneHasOcludees:e.hasOccludees})}},{key:"ensureParameters",value:function(e){0!==this.output&&7!==this.output||this._updateOccludeeState(e),this.updateParameters(e)}},{key:"bind",value:function(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}},{key:"getPipelineState",value:function(e,t){return this.technique.getPipelineState(e,t)}}]),n}(j.a),C=Object(i.a)(Object(i.a)({width:0,color:[1,1,1,1],join:"miter",cap:"butt",miterLimit:5,writeDepth:!0,polygonOffset:!1,stipplePattern:null,stippleIntegerRepeats:!1,stippleOffColor:null,slicePlaneEnabled:!1,vvFastUpdate:!1,transparent:!1,isClosed:!1,falloff:0,innerWidth:0,innerColor:null,sceneHasOcludees:!1},w.b),k.Default),A=function(){function e(t,n){switch(Object(a.a)(this,e),this.params=n,this.numJoinSubdivisions=0,this.vertexBufferLayout=t,this.params.join){case"miter":case"bevel":this.numJoinSubdivisions=n.stipplePattern?1:0;break;case"round":this.numJoinSubdivisions=R}}return Object(o.a)(e,[{key:"isClosed",value:function(e){return I(this.params,e.vertexAttr,e.indices)}},{key:"numCapSubdivisions",value:function(e){if(this.isClosed(e))return 0;switch(this.params.cap){case"butt":return 0;case"square":return 1;case"round":return L}}},{key:"allocate",value:function(e){return this.vertexBufferLayout.createBuffer(e)}},{key:"elementCount",value:function(e){var t=2*this.numCapSubdivisions(e)+2,n=e.indices[S.c.POSITION].length/2+1,r=this.isClosed(e),i=r?2:2*t,a=r?0:1,o=r?n:n-1;if(e.vertexAttr[S.c.SUBDIVISIONS])for(var s=e.vertexAttr[S.c.SUBDIVISIONS].data,c=a;c<o;++c)i+=4+2*s[c];else i+=(o-a)*(2*this.numJoinSubdivisions+4);return i+=2}},{key:"write",value:function(e,t,n,r){var i=this,a=J,o=K,s=X,c=t.vertexAttr[S.c.POSITION].data,u=t.indices&&t.indices[S.c.POSITION],l=this.numCapSubdivisions(t);u&&u.length!==2*(c.length/3-1)&&console.warn("RibbonLineMaterial does not support indices");var h=null;t.vertexAttr[S.c.SUBDIVISIONS]&&(h=t.vertexAttr[S.c.SUBDIVISIONS].data);var f=1,d=0;this.params.vvSizeEnabled?d=t.vertexAttr[S.c.SIZEFEATUREATTRIBUTE].data[0]:t.vertexAttr[S.c.SIZE]&&(f=t.vertexAttr[S.c.SIZE].data[0]);var b=[1,1,1,1],v=0;this.params.vvColorEnabled?v=t.vertexAttr[S.c.COLORFEATUREATTRIBUTE].data[0]:t.vertexAttr[S.c.COLOR]&&(b=t.vertexAttr[S.c.COLOR].data);var y=0;this.params.vvOpacityEnabled&&(y=t.vertexAttr[S.c.OPACITYFEATUREATTRIBUTE].data[0]);var m=c.length/3,g=e.transformation,O=new Float32Array(n.buffer),j=this.vertexBufferLayout.stride/4,w=r*j,_=w,x=function(e,t,n,r,a,o,s){if(O[w++]=t[0],O[w++]=t[1],O[w++]=t[2],O[w++]=r,O[w++]=a,O[w++]=o,O[w++]=e[0],O[w++]=e[1],O[w++]=e[2],O[w++]=n[0],O[w++]=n[1],O[w++]=n[2],i.params.vvSizeEnabled?O[w++]=d:O[w++]=f,i.params.vvColorEnabled)O[w++]=v;else{var c=Math.min(4*s,b.length-4);O[w++]=b[c+0],O[w++]=b[c+1],O[w++]=b[c+2],O[w++]=b[c+3]}i.params.vvOpacityEnabled&&(O[w++]=y)};w+=j,Object(p.t)(o,c[0],c[1],c[2]),g&&Object(p.j)(o,o,g);var k=this.isClosed(t);if(k){var E=c.length-3;Object(p.t)(a,c[E],c[E+1],c[E+2]),g&&Object(p.j)(a,a,g)}else{Object(p.h)(a,o),Object(p.t)(s,c[3],c[4],c[5]),g&&Object(p.j)(s,s,g);for(var T=0;T<l;++T){var M=1-T/l;x(a,o,s,M,1,-4,0),x(a,o,s,M,1,4,0)}x(a,o,s,0,0,-4,0),x(a,o,s,0,0,4,0),Object(p.h)(a,o),Object(p.h)(o,s)}for(var C=k?m:m-1,A=k?0:1;A<C;A++){var I=(A+1)%m*3;Object(p.t)(s,c[I+0],c[I+1],c[I+2]),g&&Object(p.j)(s,s,g),x(a,o,s,0,1,-1,A),x(a,o,s,0,1,1,A);for(var D=h?h[A]:this.numJoinSubdivisions,L=0;L<D;++L){var R=(L+1)/(D+1);x(a,o,s,R,1,-2,A),x(a,o,s,R,1,2,A)}x(a,o,s,1,0,-2,A),x(a,o,s,1,0,2,A),Object(p.h)(a,o),Object(p.h)(o,s)}if(k)w=P(O,_+j,O,w,2*j);else{x(a,o,s,0,1,-5,C),x(a,o,s,0,1,5,C);for(var N=0;N<l;++N){var F=(N+1)/l;x(a,o,s,F,1,-5,C),x(a,o,s,F,1,5,C)}}P(O,_+j,O,_,j),w=P(O,w-j,O,w,j)}}]),e}();function P(e,t,n,r,i){for(var a=0;a<i;a++)n[r++]=e[t++];return r}function I(e,t,n){return D(e,t[S.c.POSITION].data,n?n[S.c.POSITION]:null)}function D(e,t,n){return!!e.isClosed&&(n?n.length>2:t.length>6)}var L=3,R=1,N=Object(d.e)(),F=Object(d.e)(),z=Object(d.e)(),V=Object(d.e)(),U=Object(d.e)(),B=Object(f.d)(),G=Object(f.d)(),q=Object(d.e)(),H=Object(d.e)(),W=y.c.create(),Y=y.c.create(),J=Object(d.e)(),K=Object(d.e)(),X=Object(d.e)(),Q=[Object(f.d)(),Object(f.d)(),Object(f.d)(),Object(f.d)()],Z=[Object(d.e)(),Object(d.e)(),Object(d.e)(),Object(d.e)()],$=y.d.create(),ee=y.d.create(),te=y.d.create(),ne=y.d.create()},function(e,t,n){"use strict";var r=n(7),i=n.n(r),a=n(16),o=n(2),s=n(3),c=n(186),u=n(111),l=n(4),h=n(20),f=n(12),d=n(17),p=n(86),b=n(44),v=n(475),y=n(617),m=n(26),g=n(112),O=n(389),j=n(472),w=n(187),_=n(345),x=n(162),k=n(14).a.getLogger("esri.views.3d.webgl-engine.lib.DDSUtil");function S(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var E=S("DXT1"),T=S("DXT3"),M=S("DXT5");function C(e,t,n,r){var i=function(e,t){var n=new Int32Array(e,0,31);if(542327876!==n[0])return k.error("Invalid magic number in DDS header"),null;if(!(4&n[20]))return k.error("Unsupported format, must contain a FourCC code"),null;var r,i,a,o=n[21];switch(o){case E:r=8,i=33776;break;case T:r=16,i=33778;break;case M:r=16,i=33779;break;default:return k.error("Unsupported FourCC code:",(a=o,String.fromCharCode(255&a,a>>8&255,a>>16&255,a>>24&255))),null}var s=1,c=n[4],u=n[3];0==(3&c)&&0==(3&u)||(k.warn("Rounding up compressed texture size to nearest multiple of 4."),c=c+3&-4,u=u+3&-4);var l,h,f=c,d=u;131072&n[2]&&!1!==t&&(s=Math.max(1,n[7])),1===s||Object(b.k)(c)&&Object(b.k)(u)||(k.warn("Ignoring mipmaps of non power of two sized compressed texture."),s=1);for(var p=n[1]+4,v=[],y=0;y<s;++y)h=(c+3>>2)*(u+3>>2)*r,l=new Uint8Array(e,p,h),v.push(l),p+=h,c=Math.max(1,c>>1),u=Math.max(1,u>>1);return{textureData:{type:"compressed",levels:v},internalFormat:i,width:f,height:d}}(n,r),a=i.textureData,o=i.internalFormat,s=i.width,c=i.height;t.samplingMode=a.levels.length>1?9987:9729,t.hasMipmap=a.levels.length>1,t.internalFormat=o,t.width=s,t.height=c;var u=new g.a(e,t,a);return e.bindTexture(u,0),u}var A=function(){function e(t,n,r){Object(o.a)(this,e),this.data=t,this.glTexture=null,this.powerOfTwoStretchInfo=null,this.loadingPromise=null,this.loadingController=null,this.events=new p.a,this.data=t,this.id=e.idGen.gen(n),this.params=r||{},this.params.mipmap=!1!==this.params.mipmap,this.params.noUnpackFlip=this.params.noUnpackFlip||!1,this.params.preMultiplyAlpha=this.params.preMultiplyAlpha||!1,this.params.wrap=this.params.wrap||{s:10497,t:10497},this.params.powerOfTwoResizeMode=this.params.powerOfTwoResizeMode||1,this.estimatedTexMemRequired=e.estimateTexMemRequired(this.data,this.params),this.startPreload()}return Object(s.a)(e,[{key:"startPreload",value:function(){var e=this.data;Object(l.g)(e)||(e instanceof HTMLVideoElement?this.startPreloadVideoElement(e):e instanceof HTMLImageElement&&this.startPreloadImageElement(e))}},{key:"startPreloadVideoElement",value:function(e){Object(f.t)(e.src)||"auto"===e.preload&&e.crossOrigin||(e.preload="auto",e.crossOrigin="anonymous",e.src=e.src)}},{key:"startPreloadImageElement",value:function(e){Object(f.u)(e.src)||Object(f.t)(e.src)||e.crossOrigin||(e.crossOrigin="anonymous",e.src=e.src)}},{key:"dispose",value:function(){this.data=void 0}},{key:"width",get:function(){return this.params.width}},{key:"height",get:function(){return this.params.height}},{key:"createDescriptor",value:function(e){var t=this.params.mipmap&&!this.params.disableAnisotropy;return{target:3553,pixelFormat:6408,dataType:5121,wrapMode:this.params.wrap,flipped:!this.params.noUnpackFlip,samplingMode:this.params.mipmap?9987:9729,hasMipmap:this.params.mipmap,preMultiplyAlpha:this.params.preMultiplyAlpha,maxAnisotropy:t?e.parameters.maxMaxAnisotropy:void 0}}},{key:"load",value:function(t,n){if(Object(l.h)(this.glTexture))return this.glTexture;if(Object(l.h)(this.loadingPromise))return this.loadingPromise;var r=this.data;return Object(l.g)(r)?(this.glTexture=new g.a(t,this.createDescriptor(t),null),t.bindTexture(this.glTexture,0),this.glTexture):"string"==typeof r?this.loadFromURL(t,n,r):r instanceof Image?this.loadFromImageElement(t,n,r):r instanceof HTMLVideoElement?this.loadFromVideoElement(t,n,r):r instanceof ImageData||r instanceof HTMLCanvasElement?this.loadFromImage(t,r,n):(Object(u.c)(r)||Object(u.k)(r))&&this.params.encoding===e.DDS_ENCODING?this.loadFromDDSData(t,r):Object(u.k)(r)?this.loadFromPixelData(t,r):Object(u.c)(r)?this.loadFromPixelData(t,new Uint8Array(r)):null}},{key:"requiresFrameUpdates",get:function(){return this.data instanceof HTMLVideoElement}},{key:"frameUpdate",value:function(e,t,n){if(!(this.data instanceof HTMLVideoElement)||Object(l.g)(this.glTexture))return n;if(this.data.readyState<2||n===this.data.currentTime)return n;if(Object(l.h)(this.powerOfTwoStretchInfo)){var r=this.powerOfTwoStretchInfo,i=r.framebuffer,a=r.vao,o=r.sourceTexture;o.setData(this.data),this.drawStretchedTexture(e,t,i,a,o,this.glTexture)}else{var s=this.data,c=s.width,u=s.height,h=this.glTexture.descriptor,f=h.width,d=h.height;c!==f||u!==d?this.glTexture.updateData(0,0,0,Math.min(c,f),Math.min(u,d),this.data):this.glTexture.setData(this.data)}return this.glTexture.descriptor.hasMipmap&&this.glTexture.generateMipmap(),this.data.currentTime}},{key:"loadFromDDSData",value:function(e,t){return this.glTexture=C(e,this.createDescriptor(e),t,this.params.mipmap),e.bindTexture(this.glTexture,0),this.glTexture}},{key:"loadFromPixelData",value:function(e,t){Object(m.b)(this.params.width>0&&this.params.height>0);var n=this.createDescriptor(e);return n.pixelFormat=1===this.params.components?6409:3===this.params.components?6407:6408,n.width=this.params.width,n.height=this.params.height,this.glTexture=new g.a(e,n,t),e.bindTexture(this.glTexture,0),this.glTexture}},{key:"loadAsync",value:function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a,o=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.d)(),this.loadingController=n,r=t(n.signal),this.loadingPromise=r,a=function(){o.loadingController===n&&(o.loadingController=null),o.loadingPromise===r&&(o.loadingPromise=null)},e.abrupt("return",(r.then(a,a),r));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadFromURL",value:function(e,t,n){var r=this;return this.loadAsync(function(){var o=Object(a.a)(i.a.mark((function a(o){var s;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(y.a)(n,{signal:o});case 2:return s=i.sent,i.abrupt("return",r.loadFromImage(e,s,t));case 4:case"end":return i.stop()}}),a)})));return function(e){return o.apply(this,arguments)}}())}},{key:"loadFromImageElement",value:function(e,t,n){var r=this;return n.complete?this.loadFromImage(e,n,t):this.loadAsync(function(){var o=Object(a.a)(i.a.mark((function a(o){var s;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(v.a)(n,n.src,!1,o);case 2:return s=i.sent,i.abrupt("return",r.loadFromImage(e,s,t));case 4:case"end":return i.stop()}}),a)})));return function(e){return o.apply(this,arguments)}}())}},{key:"loadFromVideoElement",value:function(e,t,n){return n.readyState>=2?this.loadFromImage(e,n,t):this.loadFromVideoElementAsync(e,t,n)}},{key:"loadFromVideoElementAsync",value:function(e,t,n){var r=this;return this.loadAsync((function(i){return Object(d.c)((function(a,o){var s=function(){n.removeEventListener("loadeddata",c),n.removeEventListener("error",u),Object(l.h)(f)&&f.remove()},c=function(){n.readyState>=2&&(s(),a(r.loadFromImage(e,n,t)))},u=function(e){s(),o(e||new h.a("Failed to load video"))};n.addEventListener("loadeddata",c),n.addEventListener("error",u);var f=Object(d.p)(i,(function(){return u(Object(d.e)())}))}))}))}},{key:"loadFromImage",value:function(t,n,r){var i=e.getDataDimensions(n);this.params.width=i.width,this.params.height=i.height;var a=this.createDescriptor(t);return a.pixelFormat=3===this.params.components?6407:6408,!this.requiresPowerOfTwo(t,a)||Object(b.k)(i.width)&&Object(b.k)(i.height)?(a.width=i.width,a.height=i.height,this.glTexture=new g.a(t,a,n),t.bindTexture(this.glTexture,0),this.glTexture):(this.glTexture=this.makePowerOfTwoTexture(t,n,i,a,r),t.bindTexture(this.glTexture,0),this.glTexture)}},{key:"requiresPowerOfTwo",value:function(e,t){var n=33071,r="number"==typeof t.wrapMode?t.wrapMode===n:t.wrapMode.s===n&&t.wrapMode.t===n;return!Object(x.a)(e.gl)&&(t.hasMipmap||!r)}},{key:"makePowerOfTwoTexture",value:function(e,t,n,r,i){var a,o=n.width,s=n.height,u=Object(b.n)(o),l=Object(b.n)(s);switch(r.width=u,r.height=l,this.params.powerOfTwoResizeMode){case 2:r.textureCoordinateScaleFactor=[o/u,s/l],(a=new g.a(e,r)).updateData(0,0,0,o,s,t);break;case 1:case null:case void 0:a=this.stretchToPowerOfTwo(e,t,r,i);break;default:Object(c.a)(this.params.powerOfTwoResizeMode)}return r.hasMipmap&&a.generateMipmap(),a}},{key:"stretchToPowerOfTwo",value:function(e,t,n,r){var i=new g.a(e,n),a=new _.a(e,{colorTarget:0,depthStencilTarget:0},i),o=new g.a(e,{target:3553,pixelFormat:n.pixelFormat,dataType:5121,wrapMode:33071,samplingMode:9729,flipped:!!n.flipped,maxAnisotropy:8,preMultiplyAlpha:n.preMultiplyAlpha},t),s=Object(j.b)(e);return this.drawStretchedTexture(e,r,a,s,o,i),this.requiresFrameUpdates?this.powerOfTwoStretchInfo={vao:s,sourceTexture:o,framebuffer:a}:(s.dispose(!0),o.dispose(),a.detachColorTexture(),e.bindFramebuffer(null),a.dispose()),i}},{key:"drawStretchedTexture",value:function(e,t,n,r,i,a){e.bindFramebuffer(n);var o=e.getViewport();e.setViewport(0,0,a.descriptor.width,a.descriptor.height);var s=t.program;e.bindProgram(s),s.setUniform4f("color",1,1,1,1),s.setUniform1i("tex",0),e.bindTexture(i,0),e.bindVAO(r),e.setPipelineState(t.pipeline),e.drawArrays(5,0,Object(O.e)(r,"geometry")),e.bindFramebuffer(null),e.setViewport(o.x,o.y,o.width,o.height)}},{key:"unload",value:function(){if(Object(l.h)(this.powerOfTwoStretchInfo)){var e=this.powerOfTwoStretchInfo,t=e.framebuffer,n=e.vao,r=e.sourceTexture;n.dispose(!0),r.dispose(),t.dispose(),this.glTexture=null,this.powerOfTwoStretchInfo=null}if(Object(l.h)(this.glTexture)&&(this.glTexture.dispose(),this.glTexture=null),Object(l.h)(this.loadingController)){var i=this.loadingController;this.loadingController=null,this.loadingPromise=null,i.abort()}this.events.emit("unloaded")}}],[{key:"getDataDimensions",value:function(e){return e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e}},{key:"estimateTexMemRequired",value:function(t,n){if(Object(l.g)(t))return 0;if(Object(u.c)(t)||Object(u.k)(t))return t.byteLength;var r=t instanceof Image||t instanceof ImageData||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement?e.getDataDimensions(t):n,i=r.width,a=r.height;return(n.mipmap?4/3:1)*i*a*(n.components||4)||0}}]),e}();A.idGen=new w.a,A.DDS_ENCODING="image/vnd-ms.dds";t.a=A},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(409);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(61),s=n(57),c=n(5),u=n(6),l=n(0),h=(n(15),n(23)),f=(n(14),n(18),n(1)),d=n(45),p=n(34),b=n(8),v=(n(12),n(21),n(22),n(36)),y=n(398),m=n(379),g=r=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).color=null,e.type="picture-marker",e.url=null,e.source=null,e.height=12,e.width=12,e.size=null,e}return Object(a.a)(n,[{key:"normalizeCtorArgs",value:function(e,t,n){if(e&&"string"!=typeof e&&null==e.imageData)return e;var r={};return e&&(r.url=e),null!=t&&(r.width=Object(v.j)(t)),null!=n&&(r.height=Object(v.j)(n)),r}},{key:"readHeight",value:function(e,t){return t.size||e}},{key:"readWidth",value:function(e,t){return t.size||e}},{key:"clone",value:function(){var e=new r({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",Object(h.a)(this.source)),e}},{key:"hash",value:function(){return"".concat(Object(o.a)(Object(s.a)(n.prototype),"hash",this).call(this),".").concat(this.height,".").concat(this.url,".").concat(this.width)}}]),n}(y.a);Object(l.a)([Object(f.b)({json:{write:!1}})],g.prototype,"color",void 0),Object(l.a)([Object(d.a)({esriPMS:"picture-marker"},{readOnly:!0})],g.prototype,"type",void 0),Object(l.a)([Object(f.b)(m.b)],g.prototype,"url",void 0),Object(l.a)([Object(f.b)(m.a)],g.prototype,"source",void 0),Object(l.a)([Object(f.b)({type:Number,cast:v.j,json:{write:!0}})],g.prototype,"height",void 0),Object(l.a)([Object(p.a)("height",["height","size"])],g.prototype,"readHeight",null),Object(l.a)([Object(f.b)({type:Number,cast:v.j,json:{write:!0}})],g.prototype,"width",void 0),Object(l.a)([Object(f.b)({json:{write:!1}})],g.prototype,"size",void 0);var O=g=r=Object(l.a)([Object(b.a)("esri.symbols.PictureMarkerSymbol")],g);t.a=O},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(4),c=n(431),u=n(175),l=n(444),h=n(355),f=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e.view))._resources=null,i}return Object(i.a)(n,[{key:"object",get:function(){return Object(s.h)(this._resources)?this._resources.object:null}},{key:"recreate",value:function(){this.attached&&this.createResources()}},{key:"recreateGeometry",value:function(){if(!Object(s.g)(this._resources)){var e=this._resources.object,t=this.view._stage;e.geometries.forEach((function(e){t.remove(2,e.id)})),e.removeAllGeometries(),this.createGeometries(e),this.visible||e.setVisible(this.visible),e.geometries.forEach((function(e){t.add(2,e)}))}}},{key:"createResources",value:function(){var e=this;this.destroyResources();var t=this.view._stage;if(t){var n=new l.a("element",{isPickable:!1});t.add(0,n),t.addToViewContent([n.id]);var r=new c.a({idHint:"element",castShadow:!1});this.createExternalResources(),this.createGeometries(r),r.geometries.forEach((function(e){t.add(2,e)})),this.forEachExternalResource((function(n){t.add(e._contentTypeFromResource(n),n)})),t.add(1,r),n.addObject(r),this.visible||r.setVisible(!1),this._resources={layer:n,object:r}}}},{key:"_contentTypeFromResource",value:function(e){return e instanceof u.a?2:e instanceof h.a?4:3}},{key:"destroyResources",value:function(){var e=this,t=this.view._stage;!Object(s.g)(this._resources)&&t&&(t.remove(1,this._resources.object.id),t.remove(0,this._resources.layer.id),this.forEachExternalResource((function(n){t.remove(e._contentTypeFromResource(n),n.id),n.dispose()})),this._resources.object.geometries.forEach((function(e){t.remove(2,e.id)})),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}},{key:"updateVisibility",value:function(e){Object(s.g)(this._resources)||this._resources.object.setVisible(e)}}]),n}(n(498).a)},function(e,t,n){"use strict";var r=n(2),i=n(5),a=n(6),o=n(0),s=(n(15),n(14),n(18),n(1)),c=n(8),u=(n(12),n(21),n(22),function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).type=null,e}return n}(n(27).a));Object(o.a)([Object(s.b)({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],u.prototype,"type",void 0);var l=u=Object(o.a)([Object(c.a)("esri.layers.support.FeatureReduction")],u);t.a=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(466);function i(e){var t={q:"id: "+e.id+" AND group: "+e.groupId,start:1,num:10,sortField:"title",authentication:e.authentication,httpMethod:"POST"};return Object(r.a)(t).then((function(t){if(t.total>0)return t.results.some((function(t){return t.id===e.id}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),i=n(3),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:29;Object(r.a)(this,e),this.name=t,this._counter=0,this._items=new Array(n)}return Object(i.a)(e,[{key:"record",value:function(e){this._items[++this._counter%this._items.length]=e}},{key:"median",get:function(){return this._items.slice().sort()[Math.floor(this._items.length/2)]}},{key:"average",get:function(){return this._items.reduce((function(e,t){return e+t}),0)/this._items.length}},{key:"last",get:function(){return this._items[this._counter%this._items.length]}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n(10),i=n(13),a=n(92),o=n(142),s=n(258);function c(e,t,n){if(!e||!e.read||!1===e.read.enabled||!e.read.source)return!1;var r=e.read.source;if("string"==typeof r){if(r===t)return!0;if(r.indexOf(".")>-1&&0===r.indexOf(t)&&Object(o.a)(r,n))return!0}else{var a,s=Object(i.a)(r);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c===t)return!0;if(c.indexOf(".")>-1&&0===c.indexOf(t)&&Object(o.a)(c,n))return!0}}catch(u){s.e(u)}finally{s.f()}}return!1}function u(e,t,n,r,a){var o=Object(s.c)(t[n],a);(function(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)})(o)&&(e[n]=!0);var u,l=Object(i.a)(Object.getOwnPropertyNames(t));try{for(l.s();!(u=l.n()).done;){var h=u.value;c(o=Object(s.c)(t[h],a),n,r)&&(e[h]=!0)}}catch(f){l.e(f)}finally{l.f()}}function l(e,t,n,r){var i=n.metadatas,a=Object(s.b)(i[t],"any",r),o=a&&a.default;if(void 0!==o){var c="function"==typeof o?o.call(e,t,r):o;void 0!==c&&n.set(t,c)}}var h={origin:"service"};function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;if(t&&"object"==typeof t){var r,c=Object(a.a)(e),f=c.metadatas,d={},p=Object(i.a)(Object.getOwnPropertyNames(t));try{for(p.s();!(r=p.n()).done;){var b=r.value;u(d,f,b,t,n)}}catch(k){p.e(k)}finally{p.f()}c.setDefaultOrigin(n.origin);var v,y=Object(i.a)(Object.getOwnPropertyNames(d));try{for(y.s();!(v=y.n()).done;){var m=v.value,g=Object(s.c)(f[m],n).read,O=g&&g.source,j=void 0;j=O&&"string"==typeof O?Object(o.c)(t,O):t[m],g&&g.reader&&(j=g.reader.call(e,j,t,n)),void 0!==j&&c.set(m,j)}}catch(k){y.e(k)}finally{y.f()}if(!n||!n.ignoreDefaults){var w,_=Object(i.a)(Object.getOwnPropertyNames(f));try{for(_.s();!(w=_.n()).done;){var x=w.value;d[x]||l(e,x,c,n)}}catch(k){_.e(k)}finally{_.f()}}c.setDefaultOrigin("user")}}function d(e,t,n){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h,o=Object(r.a)(Object(r.a)({},a),{},{messages:[]});n(o),null==(i=o.messages)||i.forEach((function(t){"warning"!==t.type||e.loaded?a&&a.messages&&a.messages.push(t):e.loadWarnings.push(t)}))}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(4)),l=(n(14),n(18),n(1)),h=n(45),f=n(8),d=(n(12),n(21),n(22),n(139)),p=n(471),b=n(168),v=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="extrude",r.size=1,r.material=null,r.castShadows=!0,r.edges=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:Object(u.h)(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}}]),n}(d.a);Object(c.a)([Object(h.a)({Extrude:"extrude"},{readOnly:!0})],v.prototype,"type",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],v.prototype,"size",void 0),Object(c.a)([Object(l.b)({type:b.a,json:{write:!0}})],v.prototype,"material",void 0),Object(c.a)([Object(l.b)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],v.prototype,"castShadows",void 0),Object(c.a)([Object(l.b)(p.a)],v.prototype,"edges",void 0);var y=v=r=Object(c.a)([Object(f.a)("esri.symbols.ExtrudeSymbol3DLayer")],v);t.a=y},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(4)),l=(n(14),n(18),n(1)),h=n(45),f=n(34),d=n(8),p=(n(12),n(21),n(22),n(139)),b=n(168),v=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).material=null,r.castShadows=!0,r.type="path",r.profile="circle",r.join="miter",r.cap="butt",r.width=void 0,r.height=void 0,r.anchor="center",r.profileRotation="all",r}return Object(a.a)(n,[{key:"size",get:function(){return this.width&&this.height?this.width===this.height?this.width:void 0:this.width?this.width:this.height?this.height:void 0},set:function(e){this.width=e,this.height=e}},{key:"readSize",value:function(e,t){return t.height||t.width?e:t.size}},{key:"clone",value:function(){return new r({enabled:this.enabled,material:Object(u.h)(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}}]),n}(p.a);Object(c.a)([Object(l.b)({type:b.a,json:{write:!0}})],v.prototype,"material",void 0),Object(c.a)([Object(l.b)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],v.prototype,"castShadows",void 0),Object(c.a)([Object(h.a)({Path:"path"},{readOnly:!0})],v.prototype,"type",void 0),Object(c.a)([Object(l.b)({type:Number})],v.prototype,"size",null),Object(c.a)([Object(f.a)("size")],v.prototype,"readSize",null),Object(c.a)([Object(l.b)({type:["circle","quad"],json:{write:!0,default:"circle"}})],v.prototype,"profile",void 0),Object(c.a)([Object(l.b)({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],v.prototype,"join",void 0),Object(c.a)([Object(l.b)({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],v.prototype,"cap",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],v.prototype,"width",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],v.prototype,"height",void 0),Object(c.a)([Object(l.b)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],v.prototype,"anchor",void 0),Object(c.a)([Object(l.b)({type:["heading","all"],json:{write:!0,default:"all"}})],v.prototype,"profileRotation",void 0);var y=v=r=Object(c.a)([Object(d.a)("esri.symbols.PathSymbol3DLayer")],v);t.a=y},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18)),h=n(1),f=n(45),d=n(8),p=(n(12),n(21),n(22),n(43)),b=n(139),v=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).color=y.clone(),r.type="water",r.waterbodySize="medium",r.waveDirection=null,r.waveStrength="moderate",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({color:Object(u.a)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}}]),n}(b.a);Object(c.a)([Object(h.b)({type:p.a,nonNullable:!0,json:{type:[l.a],write:function(e,t,n){return t[n]=e.toArray(1)},default:function(){return y.clone()},defaultEquals:function(e){return e.toCss(!0)===y.toCss(!0)}}})],v.prototype,"color",void 0),Object(c.a)([Object(f.a)({Water:"water"},{readOnly:!0})],v.prototype,"type",void 0),Object(c.a)([Object(h.b)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],v.prototype,"waterbodySize",void 0),Object(c.a)([Object(h.b)({type:Number,json:{write:!0,default:null}})],v.prototype,"waveDirection",void 0),Object(c.a)([Object(h.b)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],v.prototype,"waveStrength",void 0),v=r=Object(c.a)([Object(d.a)("esri.symbols.WaterSymbol3DLayer")],v);var y=new p.a([0,119,190]),m=v;t.a=m},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=n(142),u=n(1),l=n(8),h=n(177),f=n(412),d=n(37),p=n(60),b=n(29),v=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).updating=!1,e.handleId=0,e.handles=new p.a,e.scheduleHandleId=0,e.pendingPromises=new Set,e}return Object(i.a)(n,[{key:"destroy",value:function(){this.removeAll(),this.handles.destroy()}},{key:"add",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=0!=(1&i),o=++this.handleId;a||this.installSyncUpdatingWatch(e,t,o);var s=0!=(2&i)?Object(b.a)(e,t,n,a):e.watch(t,n,a);return this.handles.add(s,o),{remove:function(){r.handles.remove(o)}}}},{key:"addOnCollectionPropertyChange",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=0!=(2&i),o=++this.handleId;return this.handles.add([Object(b.b)(e,t,"after-changes",this.createSyncUpdatingCallback()),Object(b.b)(e,t,"change",n,a?function(e){n({added:e.items,removed:[],moved:[],target:e})}:void 0)],o),{remove:function(){r.handles.remove(o)}}}},{key:"addOnCollectionChange",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0!=(2&r),a=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",t)],a),i&&t({added:e.items,removed:[],moved:[],target:e}),{remove:function(){n.handles.remove(a)}}}},{key:"addPromise",value:function(e){var t=this;if(!e)return e;var n=++this.handleId;this.handles.add({remove:function(){t.pendingPromises.delete(e)&&(0!==t.pendingPromises.size||t.handles.has(y)||t._set("updating",!1))}},n),this.pendingPromises.add(e),this._set("updating",!0);var r=function(){return t.handles.remove(n)};return e.then(r,r),e}},{key:"removeAll",value:function(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}},{key:"installSyncUpdatingWatch",value:function(e,t,n){var r=this.createSyncUpdatingCallback(),i=Object(f.a)((function(){return Object(c.c)(e,t)}),r);return this.handles.add(i,n),i}},{key:"createSyncUpdatingCallback",value:function(){var e=this;return function(){e.handles.remove(y),++e.scheduleHandleId;var t=e.scheduleHandleId;e._get("updating")||e._set("updating",!0),e.handles.add(Object(h.b)((function(){t===e.scheduleHandleId&&(e._set("updating",e.pendingPromises.size>0),e.handles.remove(y))})),y)}}}]),n}(d.a);Object(s.a)([Object(u.b)({readOnly:!0})],v.prototype,"updating",void 0),v=Object(s.a)([Object(l.a)("esri.views.support.WatchUpdatingTracking")],v);var y=-42},function(e,t,n){"use strict";var r=n(2),i=n(5),a=n(6),o=n(0),s=(n(15),n(14),n(18),n(1)),c=n(8),u=(n(12),n(21),n(22),function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).altText=null,i.caption="",i.title="",i.type=null,i}return n}(n(27).a));Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],u.prototype,"altText",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],u.prototype,"caption",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],u.prototype,"title",void 0),Object(o.a)([Object(s.b)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],u.prototype,"type",void 0);var l=u=Object(o.a)([Object(c.a)("esri.popup.content.mixins.MediaInfo")],u);t.a=l},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(209)),f=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).image=null,r.type="toggle",r.value=!1,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}}]),n}(h.a);Object(c.a)([Object(u.b)()],f.prototype,"image",void 0),Object(c.a)([Object(u.b)()],f.prototype,"value",void 0);var d=f=r=Object(c.a)([Object(l.a)("esri.support.Action.ActionToggle")],f);t.a=d},function(e,t,n){"use strict";n.d(t,"b",(function(){return b}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(8),l=(n(12),n(21),n(22),n(39)),h=n(180),f=n(80),d=l.a.ofType(f.a),p=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).on("before-add",(function(e){e.item||e.preventDefault()})),i.on("after-add",(function(e){return i._own(e.item)})),i.on("after-remove",(function(e){e.item.layer=null})),i}return Object(i.a)(n,[{key:"destroy",value:function(){this._unownAll()}},{key:"owner",get:function(){return this._get("owner")},set:function(e){e!==this._get("owner")&&(this._unownAll(),this._set("owner",e),this._ownAll())}},{key:"_createNewInstance",value:function(e){return new d(e)}},{key:"_ownAll",value:function(){var e=this;this.items.forEach((function(t){return e._own(t)}))}},{key:"_own",value:function(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}},{key:"_unownAll",value:function(){var e=this;this.items.forEach((function(t){return e._unown(t)}))}},{key:"_unown",value:function(e){e.layer===this.owner&&(e.layer=null)}}]),n}(d);Object(s.a)([Object(c.b)()],p.prototype,"owner",null),p=Object(s.a)([Object(u.a)("esri.support.GraphicsCollection")],p);var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"graphics";return{type:p,cast:h.a,set:function(t){var n=Object(h.b)(t,this._get(e),p);n.owner=this,this._set(e,n)}}},v=p;t.a=v},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18)),h=n(1),f=n(8),d=n(35),p=(n(12),n(21),n(22),n(27)),b=n(48),v=(n(99),n(213)),y=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).dynamicDataSource=void 0,r.gdbVersion=null,r.geometryPrecision=void 0,r.historicMoment=null,r.maxAllowableOffset=void 0,r.objectIds=null,r.orderByFields=null,r.outFields=null,r.outSpatialReference=null,r.relationshipId=void 0,r.start=void 0,r.num=void 0,r.returnGeometry=!1,r.returnM=void 0,r.returnZ=void 0,r.where=null,r}return Object(a.a)(n,[{key:"_writeHistoricMoment",value:function(e,t){t.historicMoment=e&&e.getTime()}},{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}},{key:"clone",value:function(){return new r(Object(u.a)({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}}]),n}(p.a);Object(c.a)([Object(h.b)({type:v.a,json:{write:!0}})],y.prototype,"dynamicDataSource",void 0),Object(c.a)([Object(h.b)({type:String,json:{write:!0}})],y.prototype,"gdbVersion",void 0),Object(c.a)([Object(h.b)({type:Number,json:{write:!0}})],y.prototype,"geometryPrecision",void 0),Object(c.a)([Object(h.b)({type:Date})],y.prototype,"historicMoment",void 0),Object(c.a)([Object(d.a)("historicMoment")],y.prototype,"_writeHistoricMoment",null),Object(c.a)([Object(h.b)({type:Number,json:{write:!0}})],y.prototype,"maxAllowableOffset",void 0),Object(c.a)([Object(h.b)({type:[Number],json:{write:!0}})],y.prototype,"objectIds",void 0),Object(c.a)([Object(h.b)({type:[String],json:{write:!0}})],y.prototype,"orderByFields",void 0),Object(c.a)([Object(h.b)({type:[String],json:{write:!0}})],y.prototype,"outFields",void 0),Object(c.a)([Object(h.b)({type:b.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],y.prototype,"outSpatialReference",void 0),Object(c.a)([Object(h.b)({json:{write:!0}})],y.prototype,"relationshipId",void 0),Object(c.a)([Object(h.b)({type:Number,json:{read:{source:"resultOffset"}}})],y.prototype,"start",void 0),Object(c.a)([Object(d.a)("start"),Object(d.a)("num")],y.prototype,"writeStart",null),Object(c.a)([Object(h.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],y.prototype,"num",void 0),Object(c.a)([Object(h.b)({json:{write:!0}})],y.prototype,"returnGeometry",void 0),Object(c.a)([Object(h.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],y.prototype,"returnM",void 0),Object(c.a)([Object(h.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],y.prototype,"returnZ",void 0),Object(c.a)([Object(h.b)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],y.prototype,"where",void 0),(y=r=Object(c.a)([Object(f.a)("esri.tasks.support.RelationshipQuery")],y)).from=Object(l.m)(y);var m=y;t.a=m},function(e,t,n){"use strict";function r(e){var t={};for(var n in e)if("declaredClass"!==n){var i=e[n];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){t[n]=[];for(var a=0;a<i.length;a++)t[n][a]=r(i[a])}else"object"==typeof i?i.toJSON&&(t[n]=JSON.stringify(i)):t[n]=i}return t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(2),i=n(5),a=n(6),o=n(0),s=(n(15),n(14),n(18),n(1)),c=n(8),u=(n(12),n(21),n(22),function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).type=null,i}return n}(n(27).a));Object(o.a)([Object(s.b)({readOnly:!0,json:{read:!1,write:!0}})],u.prototype,"type",void 0);var l=u=Object(o.a)([Object(c.a)("esri.tasks.support.ColorRamp")],u);t.a=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(63);function i(e,t){var n=t;return"undefined"!==typeof window&&window.location&&window.location.host?n.params.referer=window.location.host:n.params.referer=r.b,Object(r.d)(e,n)}},function(e,t,n){var r=n(782);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(217),i=function(){function e(e){void 0===e&&(e=""),this.termStack=[],this.rangeStack=[],this.openGroups=0,this.q=e}return e.prototype.match=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.termStack=this.termStack.concat(e),this},e.prototype.in=function(e){var t="`in("+(e?'"'+e+'"':"")+")`";return this.hasRange||this.hasTerms?(e&&"*"!==e&&(this.q+=e+":"),this.commit()):(Object(r.a)(t+" was called with no call to `match(...)` or `from(...)`/`to(...)`. Your query was not modified."),this)},e.prototype.startGroup=function(){return this.commit(),this.openGroups>0&&(this.q+=" "),this.openGroups++,this.q+="(",this},e.prototype.endGroup=function(){return this.openGroups<=0?(Object(r.a)("`endGroup(...)` was called without calling `startGroup(...)` first. Your query was not modified."),this):(this.commit(),this.openGroups--,this.q+=")",this)},e.prototype.and=function(){return this.addModifier("and")},e.prototype.or=function(){return this.addModifier("or")},e.prototype.not=function(){return this.addModifier("not")},e.prototype.from=function(e){return this.hasTerms?(Object(r.a)("`from(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[0]=e,this)},e.prototype.to=function(e){return this.hasTerms?(Object(r.a)("`to(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[1]=e,this)},e.prototype.boost=function(e){return this.commit(),this.q+="^"+e,this},e.prototype.toParam=function(){return this.commit(),this.cleanup(),this.q},e.prototype.clone=function(){return this.commit(),this.cleanup(),new e(this.q+"")},e.prototype.addModifier=function(e){return this.currentModifer?(Object(r.a)("You have called `"+this.currentModifer+"()` after `"+e+"()`. Your current query was not modified."),this):(this.commit(),""===this.q&&"not"!==e?(Object(r.a)("You have called `"+e+"()` without calling another method to modify your query first. Try calling `match()` first."),this):(this.currentModifer=e,this.q+=""===this.q?"":" ",this.q+=e.toUpperCase()+" ",this))},e.prototype.hasWhiteSpace=function(e){return/\s/g.test(e)},e.prototype.formatTerm=function(e){return e instanceof Date?e.getTime():"string"===typeof e&&this.hasWhiteSpace(e)?'"'+e+'"':e},e.prototype.commit=function(){var e=this;return this.currentModifer=void 0,this.hasRange&&(this.q+="["+this.formatTerm(this.rangeStack[0])+" TO "+this.formatTerm(this.rangeStack[1])+"]",this.rangeStack=[void 0,void 0]),this.hasTerms&&(this.q+=this.termStack.map((function(t){return e.formatTerm(t)})).join(" "),this.termStack=[]),this},Object.defineProperty(e.prototype,"hasTerms",{get:function(){return this.termStack.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRange",{get:function(){return this.rangeStack.length&&this.rangeStack[0]&&this.rangeStack[1]},enumerable:!1,configurable:!0}),e.prototype.cleanup=function(){if(this.openGroups>0)for(Object(r.a)("Automatically closing "+this.openGroups+" group(s). You can use `endGroup(...)` to remove this warning.");this.openGroups>0;)this.q+=")",this.openGroups--;var e=this.q;this.q=e.replace(/( AND ?| NOT ?| OR ?)*$/,""),e!==this.q&&Object(r.a)("`startGroup(...)` was called without calling `endGroup(...)` first. Your query was not modified."),this.q=this.q.replace(/(\(\))*/,"")},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(34),l=n(8),h=(n(12),n(21),n(22),n(48)),f=(n(99),n(469)),d=n(298),p=function(e){var t=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).copyright=null,e.minScale=0,e.maxScale=0,e.spatialReference=null,e.tileInfo=null,e.tilemapCache=null,e}return Object(i.a)(n,[{key:"readMinScale",value:function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}},{key:"readMaxScale",value:function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}},{key:"supportsBlankTile",get:function(){return this.version>=10.2}},{key:"readTilemapCache",value:function(e,t){return t.capabilities&&t.capabilities.indexOf("Tilemap")>-1?new d.a({layer:this}):null}}]),n}(e);return Object(s.a)([Object(c.b)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),Object(s.a)([Object(c.b)()],t.prototype,"minScale",void 0),Object(s.a)([Object(u.a)("service","minScale")],t.prototype,"readMinScale",null),Object(s.a)([Object(c.b)()],t.prototype,"maxScale",void 0),Object(s.a)([Object(u.a)("service","maxScale")],t.prototype,"readMaxScale",null),Object(s.a)([Object(c.b)({type:h.a})],t.prototype,"spatialReference",void 0),Object(s.a)([Object(c.b)({readOnly:!0,dependsOn:["version"]})],t.prototype,"supportsBlankTile",null),Object(s.a)([Object(c.b)(f.b)],t.prototype,"tileInfo",void 0),Object(s.a)([Object(c.b)()],t.prototype,"tilemapCache",void 0),Object(s.a)([Object(u.a)("service","tilemapCache",["capabilities"])],t.prototype,"readTilemapCache",null),Object(s.a)([Object(c.b)()],t.prototype,"version",void 0),t=Object(s.a)([Object(l.a)("esri.layers.mixins.ArcGISCachedService")],t)}},function(e,t,n){"use strict";n.r(t);var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.default=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(13),i=n(2),a=n(3),o=n(14),s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(i.a)(this,e),this.eventType=t,this.keyModifiers=n}return Object(a.a)(e,[{key:"matches",value:function(e){if(e.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;var t,n=e.modifiers,i=Object(r.a)(this.keyModifiers);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(!n.has(a))return!1}}catch(o){i.e(o)}finally{i.f()}return!0}}]),e}(),c=o.a.getLogger("esri.views.input.InputHandler"),u=function(){function e(t){Object(i.a)(this,e),this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}return Object(a.a)(e,[{key:"incomingEventMatches",get:function(){if(!this._incomingEventMatches)for(var e in this._incomingEventMatches=[],this._incoming){var t,n=this._incoming[e],i=Object(r.a)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;this._incomingEventMatches.push(a.match)}}catch(o){i.e(o)}finally{i.f()}}return this._incomingEventMatches}},{key:"incomingEventTypes",get:function(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map((function(e){return e.eventType}))),this._incomingEventTypes}},{key:"outgoingEventTypes",get:function(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}},{key:"hasSideEffects",get:function(){return this._hasSideEffects}},{key:"hasPendingInputs",get:function(){return!1}},{key:"onInstall",value:function(e){var t=this;this._manager?c.error("This InputHandler has already been registered with an InputManager"):(e.setEventCallback((function(e){return t._handleEvent(e)})),e.setUninstallCallback((function(){return t._onUninstall()})),this._manager=e)}},{key:"onUninstall",value:function(){}},{key:"registerIncoming",value:function(e,t,n){var r,i=this;"function"==typeof t?(n=t,r=[]):r=t||[];var a="string"==typeof e?new s(e,r):e,o=function(){i._incomingEventTypes=null,i._incomingEventMatches=null},c=function(e){var t=i._incoming[e.match.eventType];if(t){var n=t.indexOf(e);t.splice(n,1),o(),i._manager&&i._manager.updateDependencies()}},u=new l(a,n,{onPause:c,onRemove:c,onResume:function(e){var t=i._incoming[e.match.eventType];t&&-1===t.indexOf(e)&&(t.push(e),o(),i._manager&&i._manager.updateDependencies())}}),h=this._incoming[a.eventType];return h||(h=[],this._incoming[a.eventType]=h),h.push(u),o(),this._manager&&this._manager.updateDependencies(),u}},{key:"registerOutgoing",value:function(e){var t=this;if(this._outgoing[e])throw Error("There is already a callback registered for this outgoing InputEvent: "+e);var n=new h(e,{onEmit:function(e,n,r,i){t._manager.emit(e.eventType,n,r,i)},onRemove:function(e){delete t._outgoing[e.eventType],t._manager.updateDependencies()}});return this._outgoing[e]=n,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),n}},{key:"startCapturingPointer",value:function(e){this._manager.setPointerCapture(e,!0)}},{key:"stopCapturingPointer",value:function(e){this._manager.setPointerCapture(e,!1)}},{key:"refreshHasPendingInputs",value:function(){this._manager.refreshHasPendingInputs()}},{key:"_onUninstall",value:function(){this._manager?(this.onUninstall(),this._manager=null):c.error("This InputHandler is not registered with an InputManager")}},{key:"_handleEvent",value:function(e){var t=this._incoming[e.type];if(t){var n,i=Object(r.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.match.matches(e)&&(a.callback(e),e.shouldStopPropagation()))break}}catch(o){i.e(o)}finally{i.f()}}}}]),e}(),l=function(){function e(t,n,r){Object(i.a)(this,e),this.match=t,this._callback=n,this._handler=r}return Object(a.a)(e,[{key:"pause",value:function(){this._handler.onPause(this)}},{key:"resume",value:function(){this._handler.onResume(this)}},{key:"remove",value:function(){this._handler.onRemove(this)}},{key:"callback",get:function(){return this._callback}}]),e}(),h=function(){function e(t,n){Object(i.a)(this,e),this.eventType=t,this._removed=!1,this._handler=n}return Object(a.a)(e,[{key:"emit",value:function(e,t,n){this._removed||this._handler.onEmit(this,e,t,n)}},{key:"remove",value:function(){this._removed=!0,this._handler.onRemove(this)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n(12),i=n(126);function a(e,t){return function(e){return e&&("service"===e.origin||"portal-item"===e.origin)&&e.layer&&("feature"===e.layer.type||"stream"===e.layer.type)}(t)&&!Object(r.s)(e)&&t.layer.parsedUrl?Object(r.x)(t.layer.parsedUrl.path,"images",e):Object(i.a)(e,t)}var o={json:{read:{source:["imageData","url"],reader:function(e,t,n){return t.imageData?Object(r.z)({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):a(t.url,n)}},write:{writer:function(e,t,n,a){!function(e,t,n,a){if(Object(r.u)(e)){var o=Object(r.i)(e);t.contentType=o.mediaType,t.imageData=o.data,n&&n.imageData===t.imageData&&n.url&&Object(i.f)(n.url,t,"url",a)}else Object(i.f)(e,t,"url",a)}(e,t,this.source,a)}}}},s={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(e,t,n){var r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=a(t.url,n)),r}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18)),l=n(1),h=n(45),f=n(8),d=(n(12),n(21),n(22),n(27)),p=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="map-layer",r}return Object(a.a)(n,[{key:"clone",value:function(){var e=this.mapLayerId,t=this.gdbVersion;return new r({mapLayerId:e,gdbVersion:t})}}]),n}(d.a);Object(c.a)([Object(h.a)({mapLayer:"map-layer"})],p.prototype,"type",void 0),Object(c.a)([Object(l.b)({type:u.a,json:{write:!0}})],p.prototype,"mapLayerId",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],p.prototype,"gdbVersion",void 0),p=r=Object(c.a)([Object(f.a)("esri.layers.support.source.MapLayerSource")],p)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));n(2);var r=n(195);function i(e){return"array"in e}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ground";if(Object(r.c)(t))return e.getElevation(t.x,t.y,t.z||0,t.spatialReference,n);if(i(t)){var a=t.offset;return e.getElevation(t.array[a++],t.array[a++],t.array[a]||0,e.spatialReference,n)}return e.getElevation(t[0],t[1],t[2]||0,e.spatialReference,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return f}));var r=n(14),i=n(18),a=n(12),o=n(39),s=n(314),c=n(255),u=r.a.getLogger("esri.support.basemapUtils");function l(){return{}}function h(e){for(var t in e){var n=e[t];!1===(null==n?void 0:n.destroyed)&&n.destroy(),delete e[t]}}function f(e,t){var n,r;if("string"==typeof e){if(!(e in s.a)){var a=Object.keys(s.a).map((function(e){return'"'.concat(e,'"')})).join(", ");return u.warn("Unable to find basemap definition for: ".concat(e,". Try one of these: ").concat(a)),null}t&&(r=t[e]),r||(r=c.default.fromId(e),t&&(t[e]=r))}else r=Object(i.m)(c.default,e);return null!=(n=r)&&n.destroyed&&(u.warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function d(e,t){return e===t||"equal"===g(p(e),p(t),{mustMatchReferences:!0})}function p(e){return e?!e.loaded&&e.resourceInfo?y(e.resourceInfo.data):{baseLayers:b(e.baseLayers),referenceLayers:b(e.referenceLayers)}:null}function b(e){return(o.a.isCollection(e)?e.toArray():e).map(v)}function v(e){return{type:e.type,url:w("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible}}function y(e){return e?{baseLayers:m(e.baseMapLayers.filter((function(e){return!e.isReference}))),referenceLayers:m(e.baseMapLayers.filter((function(e){return e.isReference})))}:null}function m(e){return e.map((function(e){return function(e){var t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;default:t="unknown"}return{type:t,url:w(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility}}(e)}))}function g(e,t,n){return null!=e!=(null!=t)?"not-equal":e?O(e.baseLayers,t.baseLayers)?O(e.referenceLayers,t.referenceLayers)?"equal":n.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function O(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!j(e[n],t[n]))return!1;return!0}function j(e,t){return e.type===t.type&&e.url===t.url&&e.minScale===t.minScale&&e.maxScale===t.maxScale&&e.visible===t.visible&&e.opacity===t.opacity}function w(e){return e?Object(a.B)(e).replace(/^\s*https?:/i,"").toLowerCase():""}},function(e,t,n){"use strict";n.r(t);var r=n(13),i=n(7),a=n.n(i),o=n(16),s=n(10),c=n(2),u=n(3),l=n(61),h=n(57),f=n(5),d=n(6),p=n(0),b=n(15),v=n(101),y=n(4),m=n(14),g=n(1),O=n(62),j=n(50),w=n(34),_=n(223),x=n(8),k=n(35),S=n(20),E=n(12),T=(n(21),n(22),n(17)),M=n(48),C=n(74),A=n(39),P=n(49),I=n(240),D=n(65),L=n(66),R=n(60),N=n(184),F=n(236),z=n(178),V=n(231),U=n(131),B=n(284),G=(n(158),n(384),n(342)),q=(n(432),n(435),n(433),n(350)),H=n(293),W=n(319),Y=n(423),J=n(507),K=n(287),X=n(18);var Q,Z=n(119),$=n(206),ee=(n(99),n(247)),te=n(129),ne=n(80),re=n(430),ie=n(347),ae=n(417),oe=0,se=m.a.getLogger("esri.layers.graphics.sources.MemorySource"),ce=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e))._idToClientGraphic=null,r.type="memory",r}return Object(u.a)(n,[{key:"load",value:function(e){var t=Object(y.h)(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Object(T.s)(this)}},{key:"destroy",value:function(){var e;null==(e=this._connection)||e.close(),this._connection=null}},{key:"workerGeometryType",get:function(){var e=this.layer&&this.layer.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?"polygon":e:null}},{key:"applyEdits",value:function(e){var t=this;return this.load().then((function(){return t._applyEdits(e)}))}},{key:"openPorts",value:function(){var e=this;return this.load().then((function(){return e._connection.openPorts()}))}},{key:"queryFeatures",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,i,o,s,c,u,l,h,f,d=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.load(n);case 3:return e.next=5,this._connection.invoke("queryFeatures",t?t.toJSON():null,n);case 5:if(i=e.sent,Object(ae.a)(t,this.layer.spatialReference,i),o=K.default.fromJSON(i),this._requiresClientGraphicMapping()){e.next=10;break}return e.abrupt("return",o);case 10:s=this.layer.objectIdField,c=Object(r.a)(o.features);try{for(c.s();!(u=c.n()).done;)l=u.value,h=l.attributes[s],(f=this._idToClientGraphic.get(h))&&(l.geometry=f.geometry)}catch(a){c.e(a)}finally{c.f()}return e.abrupt("return",(o.geometryType=this.layer.geometryType,o));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeaturesJSON",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},!this._requiresClientGraphicMapping()){e.next=3;break}return e.abrupt("return",Object(T.r)(new S.a("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)")));case 3:return e.next=5,this.load(n);case 5:return e.next=7,this._connection.invoke("queryFeatures",t?t.toJSON():null,n);case 7:return r=e.sent,e.abrupt("return",(Object(ae.a)(t,this.layer.spatialReference,r),r));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.load(n).then((function(){return t._connection.invoke("queryFeatureCount",e?e.toJSON():null,n)}))}},{key:"queryObjectIds",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.load(n).then((function(){return t._connection.invoke("queryObjectIds",e?e.toJSON():null,n)}))}},{key:"queryExtent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.load(n).then((function(){return t._connection.invoke("queryExtent",e?e.toJSON():null,n)})).then((function(e){return{count:e.count,extent:C.a.fromJSON(e.extent)}}))}},{key:"_applyEdits",value:function(e){var t=this;if(!this._connection)throw new S.a("feature-layer-source:edit-failure","Memory source not loaded");var n=this.layer.objectIdField,i=null,a=[],o=[],s=function(e){return"objectId"in e&&null!=e.objectId?e.objectId:"attributes"in e&&null!=e.attributes[n]?e.attributes[n]:null};if(e.addFeatures&&(i=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures){var c,u=Object(r.a)(e.deleteFeatures);try{for(u.s();!(c=u.n()).done;){var l=s(c.value);null!=l&&a.push(l)}}catch(v){u.e(v)}finally{u.f()}}var h=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures){var f,d=Object(r.a)(e.updateFeatures);try{for(d.s();!(f=d.n()).done;){var p=f.value;if(o.push(this._serializeFeature(p)),h){var b=s(p);null!=b&&h.set(b,p)}}}catch(v){d.e(v)}finally{d.f()}}return Object(ie.b)(i?i.features:null,o,this.layer.spatialReference),this._connection.invoke("applyEdits",{adds:i?i.features:[],updates:o,deletes:a}).then((function(e){var n=e.fullExtent,a=e.featureEditResults;if(t.fullExtent=n,i&&i.finish(a.uidToObjectId),t._idToClientGraphic){if(h){var o,s=Object(r.a)(a.updateResults);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c.success){var u=h.get(c.objectId);null!=u&&t._addIdToClientGraphic(u)}}}catch(v){s.e(v)}finally{s.f()}}var l,f=Object(r.a)(a.deleteResults);try{for(f.s();!(l=f.n()).done;){var d=l.value;d.success&&t._idToClientGraphic.delete(d.objectId)}}catch(v){f.e(v)}finally{f.f()}}return t._createEditsResult(a)}))}},{key:"_createEditsResult",value:function(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}},{key:"_createFeatureEditResult",value:function(e){var t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new S.a("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}},{key:"_prepareAddFeatures",value:function(e){for(var t=new Map,n=new Array(e.length),r=null,i=0;i<e.length;i++){var a=e[i],o=this._serializeFeature(a);!r&&Object(y.h)(a.geometry)&&(r=a.geometry.type),n[i]=o,t.set("".concat(o.uid),a)}var s=this;return{features:n,inferredGeometryType:r,finish:function(e){var n=s.sourceJSON.objectIdField;for(var r in e){var i=e[r],a=t.get(r);a&&(a.attributes||(a.attributes={}),-1===i?delete a.attributes[n]:a.attributes[n]=i,s._addIdToClientGraphic(a))}}}}},{key:"_addIdToClientGraphic",value:function(e){if(this._idToClientGraphic){var t=this.sourceJSON.objectIdField,n=e.attributes&&e.attributes[t];null!=n&&this._idToClientGraphic.set(n,e)}}},{key:"_requiresClientGraphicMapping",value:function(){var e=this.layer.geometryType||this.sourceJSON.geometryType;return this._geometryTypeRequiresClientGraphicMapping(e)}},{key:"_geometryRequiresClientGraphicMapping",value:function(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}},{key:"_geometryTypeRequiresClientGraphicMapping",value:function(e){return"mesh"===e||"multipatch"===e||"extent"===e}},{key:"_serializeFeature",value:function(e){var t=e.attributes,n=this._geometryForSerialization(e),r=(oe++).toString();return n?{uid:r,geometry:n.toJSON(),attributes:t}:{uid:r,attributes:t}}},{key:"_geometryForSerialization",value:function(e){var t=e.geometry;return Object(y.g)(t)?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?Z.a.fromExtent(t.extent):null:t}},{key:"_startWorker",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,i,o,s,c,u,l,h,f,d,p,v,y,m,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)("MemorySourceWorker",{strategy:Object(b.a)("feature-layers-workers")?"dedicated":"local",signal:t});case 2:return this._connection=e.sent,n=this.layer,i=n.fields,o=n.spatialReference,s=n.objectIdField,c=n.hasM,u=n.hasZ,l=n.timeInfo,h="defaults"===this.layer.originOf("spatialReference"),f=this._prepareAddFeatures(this.items),this.on("before-changes",(function(e){se.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),e.preventDefault()})),d={features:f.features,fields:i&&i.map((function(e){return e.toJSON()})),geometryType:$.c.toJSON(this.workerGeometryType),hasM:c,hasZ:u,objectIdField:s,spatialReference:h?null:o&&o.toJSON(),timeInfo:l?l.toJSON():null},e.next=8,this._connection.invoke("load",d,{signal:t});case 8:p=e.sent,v=Object(r.a)(p.warnings);try{for(v.s();!(y=v.n()).done;)m=y.value,se.warn(m.message,{layer:this.layer,warning:m})}catch(a){v.e(a)}finally{v.f()}p.featureErrors.length&&se.warn("Encountered ".concat(p.featureErrors.length," validation errors while loading features"),p.featureErrors),g=p.layerDefinition,this._geometryTypeRequiresClientGraphicMapping(f.inferredGeometryType)&&(g.geometryType=$.c.toJSON(f.inferredGeometryType)),"mesh"!==g.geometryType&&"mesh"!==this.layer.geometryType||(g.hasZ=!0),this.sourceJSON=g,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),f.finish(p.assignedObjectIds);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(te.a.LoadableMixin(Object(ee.b)(A.a)));Object(p.a)([(Q={Type:ne.a,ensureType:Object(X.m)(ne.a)},function(e,t){e[t]=Q})],ce.prototype,"itemType",void 0),Object(p.a)([Object(g.b)()],ce.prototype,"type",void 0),Object(p.a)([Object(g.b)({constructOnly:!0})],ce.prototype,"layer",void 0),Object(p.a)([Object(g.b)({readOnly:!0,dependsOn:["layer.geometryType"]})],ce.prototype,"workerGeometryType",null),Object(p.a)([Object(g.b)()],ce.prototype,"sourceJSON",void 0);var ue,le=ce=Object(p.a)([Object(x.a)("esri.layers.graphics.sources.MemorySource")],ce),he=n(288),fe=n(286),de=n(459),pe=n(283),be=n(424),ve=n(285),ye=n(510),me=n(567),ge=n(27),Oe=ue=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"clone",value:function(){var e=this.name,t=this.fields,n=this.isAscending,r=this.isUnique,i=this.description;return new ue({name:e,fields:t,isAscending:n,isUnique:r,description:i})}}]),n}(ge.a);Object(p.a)([Object(g.b)({constructOnly:!0})],Oe.prototype,"name",void 0),Object(p.a)([Object(g.b)({constructOnly:!0})],Oe.prototype,"fields",void 0),Object(p.a)([Object(g.b)({constructOnly:!0})],Oe.prototype,"isAscending",void 0),Object(p.a)([Object(g.b)({constructOnly:!0})],Oe.prototype,"isUnique",void 0),Object(p.a)([Object(g.b)({constructOnly:!0})],Oe.prototype,"description",void 0);Oe=ue=Object(p.a)([Object(x.a)("esri.layers.support.FeatureIndex")],Oe);var je=n(359),we=n(294),_e=n(509),xe=n(403),ke=n(502),Se=n(420),Ee=n(404),Te=n(578),Me=n(522),Ce=new j.a({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),Ae=new j.a({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"}),Pe=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).cardinality=null,r.composite=null,r.id=null,r.keyField=null,r.keyFieldInRelationshipTable=null,r.name=null,r.relatedTableId=null,r.relationshipTableId=null,r.role=null,r}return n}(ge.a);Object(p.a)([Object(g.b)({json:{read:Ce.read,write:Ce.write}})],Pe.prototype,"cardinality",void 0),Object(p.a)([Object(g.b)({json:{read:!0,write:!0}})],Pe.prototype,"composite",void 0),Object(p.a)([Object(g.b)({json:{read:!0,write:!0}})],Pe.prototype,"id",void 0),Object(p.a)([Object(g.b)({json:{read:!0,write:!0}})],Pe.prototype,"keyField",void 0),Object(p.a)([Object(g.b)({json:{read:!0,write:!0}})],Pe.prototype,"keyFieldInRelationshipTable",void 0),Object(p.a)([Object(g.b)({json:{read:!0,write:!0}})],Pe.prototype,"name",void 0),Object(p.a)([Object(g.b)({json:{read:!0,write:!0}})],Pe.prototype,"relatedTableId",void 0),Object(p.a)([Object(g.b)({json:{read:!0,write:!0}})],Pe.prototype,"relationshipTableId",void 0),Object(p.a)([Object(g.b)({json:{read:Ae.read,write:Ae.write}})],Pe.prototype,"role",void 0);var Ie=Pe=Object(p.a)([Object(x.a)("esri.layers.support.Relationship")],Pe),De=n(213),Le=n(568),Re=n(428),Ne=n(330),Fe=n(152),ze=n(370),Ve=new j.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),Ue={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Be="FeatureLayer",Ge=m.a.getLogger("esri.layers.FeatureLayer");function qe(e){return e&&e instanceof A.a}function He(e,t,n){return!!(e&&e.hasOwnProperty(t)?e[t]:n)}function We(e,t,n){return e&&e.hasOwnProperty(t)?e[t]:n}var Ye=Object(Te.a)();function Je(e,t,n){var r=!(null==n||!n.writeLayerSchema);return{enabled:r,ignoreOrigin:r}}var Ke=function(e){Object(f.a)(i,e);var t=Object(d.a)(i);function i(){var e;Object(c.a)(this,i);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r)))._handles=new R.a,e.capabilities=null,e.charts=null,e.copyright=null,e.displayField=null,e.definitionExpression=null,e.dynamicDataSource=null,e.editFieldsInfo=null,e.editingEnabled=!0,e.editingInfo=null,e.elevationInfo=null,e.featureReduction=null,e.fields=null,e.formTemplate=null,e.fullExtent=null,e.gdbVersion=null,e.geometryProperties=null,e.geometryType=null,e.hasM=void 0,e.hasZ=void 0,e.heightModelInfo=null,e.historicMoment=null,e.isTable=!1,e.labelsVisible=!0,e.labelingInfo=null,e.layerId=void 0,e.legendEnabled=!0,e.minScale=0,e.maxScale=0,e.globalIdField=null,e.objectIdField=null,e.outFields=null,e.path=null,e.popupEnabled=!0,e.popupTemplate=null,e.relationships=null,e.sourceJSON=null,e.returnM=void 0,e.returnZ=void 0,e.screenSizePerspectiveEnabled=!0,e.serviceDefinitionExpression=null,e.spatialReference=M.a.WGS84,e.templates=null,e.timeInfo=null,e.title=null,e.sublayerTitleMode="item-title",e.trackIdField=null,e.type="feature",e.typeIdField=null,e.types=null,e.indexes=new(A.a.ofType(Oe)),e.userIsAdmin=!1,e.version=void 0,e.visible=!0,e}return Object(u.a)(i,[{key:"destroy",value:function(){var e;null==(e=this.source)||e.destroy(),this._handles&&(this._handles.destroy(),this._handles=null)}},{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?Object(s.a)({url:e},t):e}},{key:"load",value:function(e){var t=this,n=Object(y.h)(e)?e.signal:null;if(!(this.portalItem&&this.portalItem.loaded&&this.source)){var r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch((function(e){return e})).then(Object(o.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.url||null!=t.layerId||!/FeatureServer|MapServer\/*$/i.test(t.url)){e.next=5;break}return e.next=3,t._fetchFirstLayerId(n);case 3:null!=(r=e.sent)&&(t.layerId=r);case 5:if(t.url||t._hasMemorySource()){e.next=7;break}throw new S.a("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");case 7:return e.t0=t,e.next=10,t.createGraphicsSource(n);case 10:return e.t1=e.sent,e.abrupt("return",e.t0._initLayerProperties.call(e.t0,e.t1));case 12:case"end":return e.stop()}}),e)}))));return this.addResolvingPromise(r),Object(T.s)(this)}this.addResolvingPromise(this.createGraphicsSource(n).then((function(e){return t._initLayerProperties(e)})))}},{key:"readCapabilities",value:function(e,t){return t=t.layerDefinition||t,{attachment:this._readAttachmentCapabilities(t.attachmentProperties),data:this._readDataCapabilities(t),metadata:this._readMetadataCapabilities(t),operations:this._readOperationsCapabilities(t.capabilities||e,t),query:this._readQueryCapabilities(t),queryRelated:this._readQueryRelatedCapabilities(t),editing:this._readEditingCapabilities(t)}}},{key:"createQueryVersion",get:function(){return this.definitionExpression,this.dynamicDataSource,this.timeExtent,this.timeOffset,this.geometryType,this.gdbVersion,this.historicMoment,this.returnZ,this.capabilities,this.returnM,(this._get("createQueryVersion")||0)+1}},{key:"readEditingEnabled",value:function(e,t){return this._readEditingEnabled(t,!1)}},{key:"readEditingEnabledFromWebMap",value:function(e,t,n){return this._readEditingEnabled(t,!0,n)}},{key:"writeEditingEnabled",value:function(e,t){this._writeEditingEnabled(e,t,!1)}},{key:"writeEditingEnabledToWebMap",value:function(e,t,n,r){this._writeEditingEnabled(e,t,!0,r)}},{key:"readEditingInfo",value:function(e,t){var n=t.editingInfo;return n?{lastEditDate:null!=n.lastEditDate?new Date(n.lastEditDate):null}:null}},{key:"readFeatureReduction",value:function(e,t){return Object(ke.a)(e,t)}},{key:"writeWebSceneFeatureReduction",value:function(e,t,n,r){Object(ke.c)(e,t,"layerDefinition.featureReduction",r)}},{key:"fieldsIndex",get:function(){return new Y.a(this.fields||[])}},{key:"readIsTable",value:function(e,t){return"Table"===(t=t&&t.layerDefinition||t).type||!t.geometryType}},{key:"writeIsTable",value:function(e,t,n,r){null!=r&&r.writeLayerSchema&&Object(v.c)(n,e?"Table":"Feature Layer",t)}},{key:"readMinScale",value:function(e,t){return t.effectiveMinScale||e||0}},{key:"readMaxScale",value:function(e,t){return t.effectiveMaxScale||e||0}},{key:"readGlobalIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){var n,i=Object(r.a)(t.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("esriFieldTypeGlobalID"===a.type)return a.name}}catch(o){i.e(o)}finally{i.f()}}}},{key:"readObjectIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){var n,i=Object(r.a)(t.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("esriFieldTypeOID"===a.type)return a.name}}catch(o){i.e(o)}finally{i.f()}}}},{key:"parsedUrl",get:function(){var e=this.url?Object(E.I)(this.url):null;return null!=e&&(null!=this.dynamicDataSource?e.path=Object(E.x)(e.path,"dynamicLayer"):null!=this.layerId&&(e.path=Object(E.x)(e.path,this.layerId.toString()))),e}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(e){Object(P.l)(e,this.fields),this._set("renderer",e)}},{key:"readRenderer",value:function(e,t,n){var r=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(r){var i=Object(W.b)(r,t,n)||void 0;return i||Ge.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:n}),i}if(t.defaultSymbol)return t.types&&t.types.length?new G.a({defaultSymbol:Xe(t.defaultSymbol,t,n),field:t.typeIdField,uniqueValueInfos:t.types.map((function(e){return{id:e.id,symbol:Xe(e.symbol,e,n)}}))}):new q.a({symbol:Xe(t.defaultSymbol,t,n)})}},{key:"source",set:function(e){var t=this._get("source");t!==e&&(qe(t)&&this._resetMemorySource(t),qe(e)&&this._initMemorySource(e),this._set("source",e))}},{key:"castSource",value:function(e){return e?Array.isArray(e)||e instanceof A.a?new le({layer:this,items:e}):e:null}},{key:"readSource",value:function(e,t){var n=K.default.fromJSON(t.featureSet);return new le({layer:this,items:n&&n.features||[]})}},{key:"readServiceDefinitionExpression",value:function(e,t){return t.definitionQuery||t.definitionExpression}},{key:"readTemplates",value:function(e,t){var n=t.editFieldsInfo,r=n&&n.creatorField,i=n&&n.editorField;return e=e&&e.map((function(e){return Se.a.fromJSON(e)})),this._fixTemplates(e,r),this._fixTemplates(e,i),e}},{key:"readTitle",value:function(e,t){var n=t.layerDefinition&&t.layerDefinition.name||t.name,r=t.title||t.layerDefinition&&t.layerDefinition.title;if(n){var i=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?Object(z.h)(this.url,n):n;var a=n;if(!a&&this.url){var o=Object(z.e)(this.url);Object(y.h)(o)&&(a=o.title)}if(!a)return;return"item-title-and-service-name"===this.sublayerTitleMode&&i&&i!==a&&(a=i+" - "+a),Object(z.a)(a)}if("item-title"===this.sublayerTitleMode&&r)return r}},{key:"readTitleFromWebMap",value:function(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}},{key:"readTypeIdField",value:function(e,t){var n=(t=t.layerDefinition||t).typeIdField;if(n){var r=Object(P.q)(t.fields,n);r&&(n=r.name)}return n}},{key:"readTypes",value:function(e,t){var n=this;e=(t=t.layerDefinition||t).types;var r=t.editFieldsInfo,i=r&&r.creatorField,a=r&&r.editorField;return e&&e.map((function(e){return e=Ee.a.fromJSON(e),n._fixTemplates(e.templates,i),n._fixTemplates(e.templates,a),e}))}},{key:"url",set:function(e){var t=Object(z.g)(this,e,Ge);this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId)}},{key:"writeUrl",value:function(e,t,n,r){Object(z.i)(this,e,null,t,r)}},{key:"readVersion",value:function(e,t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}},{key:"readVisible",value:function(e,t){return t.layerDefinition&&null!=t.layerDefinition.defaultVisibility?!!t.layerDefinition.defaultVisibility:null!=t.visibility?!!t.visibility:void 0}},{key:"addAttachment",value:function(e,t){var n=this;return this.load().then((function(){return n._checkAttachmentSupport(e)})).then((function(){if(!("addAttachment"in n.source))throw new S.a(Be,"Layer source does not support addAttachment capability");return n.source.addAttachment(e,t)}))}},{key:"updateAttachment",value:function(e,t,n){var r=this;return this.load().then((function(){return r._checkAttachmentSupport(e)})).then((function(){if(!("updateAttachment"in r.source))throw new S.a(Be,"Layer source does not support updateAttachment capability");return r.source.updateAttachment(e,t,n)}))}},{key:"applyEdits",value:function(){var e=Object(o.a)(a.a.mark((function e(t,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(null,718));case 2:return i=e.sent,e.next=5,this.load();case 5:return e.abrupt("return",i.applyEdits(this,this.source,t,r));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"on",value:function(e,t){return Object(l.a)(Object(h.a)(i.prototype),"on",this).call(this,e,t)}},{key:"createPopupTemplate",value:function(e){return Object(Re.a)(this,e)}},{key:"createGraphicsSource",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._hasMemorySource()){e.next=2;break}return e.abrupt("return",(this.emit("graphics-source-create",{graphicsSource:this.source}),this.source.load({signal:t})));case 2:return e.next=4,n.e(52).then(n.bind(null,1206));case 4:return r=e.sent,Object(T.u)(t),e.next=8,new r.default({layer:this}).load({signal:t});case 8:return i=e.sent,e.abrupt("return",(this.emit("graphics-source-create",{graphicsSource:i}),i));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createQuery",value:function(){var e=new Fe.a,t=this.get("capabilities.data");e.dynamicDataSource=this.dynamicDataSource,e.gdbVersion=this.gdbVersion,e.historicMoment=this.historicMoment,e.returnGeometry=!0,t&&(t.supportsZ&&null!=this.returnZ&&(e.returnZ=this.returnZ),t.supportsM&&null!=this.returnM&&(e.returnM=this.returnM)),e.outFields=["*"],e.where=this.definitionExpression||"1=1";var n=this.timeOffset,r=this.timeExtent;return e.timeExtent=null!=n&&null!=r?r.offset(-n.value,n.unit):r||null,e.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null,e}},{key:"deleteAttachments",value:function(e,t){var n=this;return this.load().then((function(){return n._checkAttachmentSupport(e)})).then((function(){if(!("deleteAttachments"in n.source))throw new S.a(Be,"Layer source does not support deleteAttachments capability");return n.source.deleteAttachments(e,t)}))}},{key:"fetchRecomputedExtents",value:function(e){var t=this;return this.load({signal:null==e?void 0:e.signal}).then((function(){if(t.source.fetchRecomputedExtents)return t.source.fetchRecomputedExtents(e);throw new S.a(Be,"Layer source does not support fetchUpdates capability")}))}},{key:"getFeatureType",value:function(e){var t=this.typeIdField,n=this.types;if(!t||!e)return null;var r=e.attributes?e.attributes[t]:void 0;if(null==r)return null;var i=null;return n.some((function(e){var t=e.id;return null!=t&&(t.toString()===r.toString()&&(i=e),!!i)})),i}},{key:"getFieldDomain",value:function(e,t){var n=t&&t.feature,r=this.getFeatureType(n);if(r){var i=r.domains&&r.domains[e];if(i&&"inherited"!==i.type)return i}return this._getLayerDomain(e)}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"queryAttachments",value:function(e,t){var n=this;return e=Ne.a.from(e),this.load().then((function(){if(!n.get("capabilities.data.supportsAttachment"))throw new S.a(Be,"this layer doesn't support attachments");var t=e,r=t.attachmentTypes,i=t.objectIds,a=t.globalIds,o=t.num,s=t.size,c=t.start,u=t.where;if(!n.get("capabilities.operations.supportsQueryAttachments")){var l=i&&i.length>1,h=r&&r.length,f=a&&a.length,d=s&&s.length;if(l||h||f||d||o||c||u)throw new S.a(Be,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",e)}if(!(i&&i.length||u))throw new S.a(Be,"'objectIds' or 'where' are required to perform attachment query",e);if(!("queryAttachments"in n.source))throw new S.a(Be,"Layer source does not support queryAttachments capability",e);return n.source.queryAttachments(e)}))}},{key:"queryFeatures",value:function(e,t){var n=this;return this.load().then((function(){return n.source.queryFeatures(Fe.a.from(e)||n.createQuery(),t)})).then((function(e){if(e&&e.features){var t,i=Object(r.a)(e.features);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.layer=a.sourceLayer=n}}catch(o){i.e(o)}finally{i.f()}}return e}))}},{key:"queryObjectIds",value:function(e,t){var n=this;return this.load().then((function(){if(n.source.queryObjectIds)return n.source.queryObjectIds(Fe.a.from(e)||n.createQuery(),t);throw new S.a(Be,"Layer source does not support queryObjectIds capability")}))}},{key:"queryFeatureCount",value:function(e,t){var n=this;return this.load().then((function(){if(n.source.queryFeatureCount)return n.source.queryFeatureCount(Fe.a.from(e)||n.createQuery(),t);throw new S.a(Be,"Layer source does not support queryFeatureCount capability")}))}},{key:"queryExtent",value:function(e,t){var n=this;return this.load().then((function(){if(n.source.queryExtent)return n.source.queryExtent(Fe.a.from(e)||n.createQuery(),t);throw new S.a(Be,"Layer source does not support queryExtent capability")}))}},{key:"queryRelatedFeatures",value:function(e,t){var n=this;return this.load().then((function(){if("queryRelatedFeatures"in n.source)return n.source.queryRelatedFeatures(ze.a.from(e),t);throw new S.a(Be,"Layer source does not support queryRelatedFeatures capability")}))}},{key:"queryRelatedFeaturesCount",value:function(e,t){var n=this;return this.load().then((function(){if("queryRelatedFeaturesCount"in n.source)return n.source.queryRelatedFeaturesCount(ze.a.from(e),t);throw new S.a(Be,"Layer source does not support queryRelatedFeaturesCount capability")}))}},{key:"read",value:function(e,t){var n=e.featureCollection;if(n){var r=n.layers;r&&1===r.length&&(Object(l.a)(Object(h.a)(i.prototype),"read",this).call(this,r[0],t),null!=n.showLegend&&Object(l.a)(Object(h.a)(i.prototype),"read",this).call(this,{showLegend:n.showLegend},t))}Object(l.a)(Object(h.a)(i.prototype),"read",this).call(this,e,t),t&&"service"===t.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}},{key:"write",value:function(e,t){var n,r,a=(t=Object(s.a)(Object(s.a)({},t),{},{writeLayerSchema:null!=(n=null==(r=t)?void 0:r.writeLayerSchema)?n:this._hasMemorySource()})).origin,o=t.layerContainerType,c=t.messages;if(this.isTable){if("web-scene"===a||"web-map"===a&&"tables"!==o)return c&&c.push(new S.a("layer:unsupported","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using a Table source cannot be written to web scenes and web maps"),{layer:this})),null;if(this._hasMemorySource())return c&&c.push(new S.a("layer:unsupported","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using an in-memory Table source cannot be written to web scenes and web maps"),{layer:this})),null}else if(this.loaded&&"web-map"===a&&"tables"===o)return c&&c.push(new S.a("layer:unsupported","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using a non-table source cannot be written to tables in web maps"),{layer:this})),null;return Object(l.a)(Object(h.a)(i.prototype),"write",this).call(this,e,t)}},{key:"_readEditingEnabled",value:function(e,t,n){var r,i=null==(r=e.layerDefinition)?void 0:r.capabilities;return i?this._hasEditingCapability(i):(i=e.capabilities,!(t&&"web-map"===(null==n?void 0:n.origin)&&!this._hasMemorySource()&&i)||this._hasEditingCapability(i))}},{key:"_hasEditingCapability",value:function(e){return e.toLowerCase().split(",").map((function(e){return e.trim()})).includes("editing")}},{key:"_writeEditingEnabled",value:function(e,t,n,r){e||(Object(v.c)("layerDefinition.capabilities","Query",t),!n||null!=r&&r.writeLayerSchema||(t.capabilities="Query"))}},{key:"_checkAttachmentSupport",value:function(e){var t=e.attributes,n=this.objectIdField;return this.get("capabilities.data.supportsAttachment")?e?t?t[n]?void 0:Object(T.r)(new S.a(Be,"feature is missing the identifying attribute ".concat(n))):Object(T.r)(new S.a(Be,"'attributes' are required on a feature to query attachments")):Object(T.r)(new S.a(Be,"A feature is required to add/delete/update attachments")):Object(T.r)(new S.a(Be,"this layer doesn't support attachments"))}},{key:"_getLayerDomain",value:function(e){var t=this.fieldsIndex.get(e);return t?t.domain:null}},{key:"_fetchFirstLayerId",value:function(e){return Object(D.default)(this.url,{query:Object(s.a)({f:"json"},this.customParameters),responseType:"json",signal:e}).then((function(e){var t=e.data;if(t)return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0}))}},{key:"_initLayerProperties",value:function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this._set("source",t),t.sourceJSON&&(this.sourceJSON=t.sourceJSON,this.read(t.sourceJSON,{origin:"service",url:this.parsedUrl})),this._verifySource(),this._verifyFields(),Object(P.l)(this.renderer,this.fields),Object(P.m)(this.timeInfo,this.fields),Object(Le.a)(this,{origin:"service"})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_verifyFields",value:function(){var e=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||-1!==e.search(/\/FeatureServer\//i)||this.fields&&this.fields.some((function(e){return"geometry"===e.type}))||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}},{key:"_fixTemplates",value:function(e,t){e&&e.forEach((function(e){var n=e.prototype&&e.prototype.attributes;n&&t&&delete n[t]}))}},{key:"_verifySource",value:function(){if(this._hasMemorySource()){if(this.url)throw new S.a("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new S.a("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}},{key:"_initMemorySource",value:function(e){var t=this;e.forEach((function(e){e.layer=t,e.sourceLayer=t})),this._handles.add([e.on("after-add",(function(e){e.item.layer=t,e.item.sourceLayer=t})),e.on("after-remove",(function(e){e.item.layer=null,e.item.sourceLayer=null}))],"fl-source")}},{key:"_resetMemorySource",value:function(e){e.forEach((function(e){e.layer=null,e.sourceLayer=null})),this._handles.remove("fl-source")}},{key:"_hasMemorySource",value:function(){return!(this.url||!this.source)}},{key:"_readAttachmentCapabilities",value:function(e){var t={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return e&&Array.isArray(e)&&e.forEach((function(e){var n=Ue[e.name];n&&(t[n]=!!e.isEnabled)})),t}},{key:"_readDataCapabilities",value:function(e){return{isVersioned:He(e,"isDataVersioned",!1),supportsAttachment:He(e,"hasAttachments",!1),supportsM:He(e,"hasM",!1),supportsZ:He(e,"hasZ",!1)}}},{key:"_readMetadataCapabilities",value:function(e){return{supportsAdvancedFieldProperties:He(e,"supportsFieldDescriptionProperty",!1)}}},{key:"_readOperationsCapabilities",value:function(e,t){var n=e?e.toLowerCase().split(",").map((function(e){return e.trim()})):[],r=-1!==n.indexOf("editing"),i=r&&-1!==n.indexOf("create"),a=r&&-1!==n.indexOf("delete"),o=r&&-1!==n.indexOf("update"),s=-1!==n.indexOf("changetracking");return r&&!(i||a||o)&&(i=a=o=!0),{supportsCalculate:He(t,"supportsCalculate",!1),supportsTruncate:He(t,"supportsTruncate",!1),supportsValidateSql:He(t,"supportsValidateSql",!1),supportsAdd:i,supportsDelete:a,supportsEditing:r,supportsChangeTracking:s,supportsQuery:-1!==n.indexOf("query"),supportsQueryAttachments:He(t.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:He(t,"supportsAttachmentsResizing",!1),supportsSync:-1!==n.indexOf("sync"),supportsUpdate:o,supportsExceedsLimitStatistics:He(t,"supportsExceedsLimitStatistics",!1)}}},{key:"_readQueryCapabilities",value:function(e){var t=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,r=e.archivingInfo,i=(e.supportedQueryFormats||"").split(",").reduce((function(e,t){var n=t.toLowerCase().trim();return n&&e.add(n),e}),new Set);return{supportsStatistics:He(t,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:He(t,"supportsPercentileStatistics",!1),supportsCentroid:He(t,"supportsReturningGeometryCentroid",!1),supportsDistance:He(t,"supportsQueryWithDistance",!1),supportsDistinct:He(t,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:He(t,"supportsReturningQueryExtent",!1),supportsGeometryProperties:He(t,"supportsReturningGeometryProperties",!1),supportsHavingClause:He(t,"supportsHavingClause",!1),supportsOrderBy:He(t,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:He(t,"supportsPagination",!1),supportsQuantization:He(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:He(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:He(e,"supportsReturningQueryGeometry",!1),supportsResultType:He(t,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:He(t,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:He(t,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:He(e,"useStandardizedQueries",!1),supportsQueryByOthers:He(n,"allowOthersToQuery",!0),supportsHistoricMoment:He(r,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:i.has("pbf"),supportsDisjointSpatialRelationship:He(t,"supportsDisjointSpatialRel",!1),supportsCacheHint:He(t,"supportsQueryWithCacheHint",!1),maxRecordCountFactor:We(e,"maxRecordCountFactor",void 0),maxRecordCount:We(e,"maxRecordCount",void 0),standardMaxRecordCount:We(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:We(e,"tileMaxRecordCount",void 0)}}},{key:"_readQueryRelatedCapabilities",value:function(e){var t=e.advancedQueryCapabilities,n=He(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:He(t,"supportsQueryRelatedPagination",!1),supportsCount:n,supportsOrderBy:n}}},{key:"_readEditingCapabilities",value:function(e){var t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:He(e,"allowGeometryUpdates",!0),supportsGlobalId:He(e,"supportsApplyEditsWithGlobalIds",!1),supportsRollbackOnFailure:He(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:He(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:He(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:He(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:He(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:He(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:He(t,"allowOthersToUpdate",!0)}}}]),i}(Object(fe.a)(Object(me.a)(Object(ve.a)(Object(be.a)(Object(he.a)(Object(B.a)(Object(pe.a)(Object(F.a)(Object(de.a)(N.a))))))))));Object(p.a)([Object(g.b)({readOnly:!0,json:{read:!1}})],Ke.prototype,"capabilities",void 0),Object(p.a)([Object(w.a)("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],Ke.prototype,"readCapabilities",null),Object(p.a)([Object(g.b)({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Ke.prototype,"charts",void 0),Object(p.a)([Object(g.b)({readOnly:!0,dependsOn:["definitionExpression","dynamicDataSource","timeExtent","timeOffset","geometryType","gdbVersion","historicMoment","returnZ","capabilities","returnM"]})],Ke.prototype,"createQueryVersion",null),Object(p.a)([Object(g.b)({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],Ke.prototype,"copyright",void 0),Object(p.a)([Object(g.b)({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],Ke.prototype,"displayField",void 0),Object(p.a)([Object(g.b)({type:String,json:{origins:{service:{read:!1,write:!1}},read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression"}}})],Ke.prototype,"definitionExpression",void 0),Object(p.a)([Object(g.b)({types:L.i,readOnly:!0})],Ke.prototype,"defaultSymbol",void 0),Object(p.a)([Object(g.b)({type:De.a})],Ke.prototype,"dynamicDataSource",void 0),Object(p.a)([Object(g.b)({readOnly:!0})],Ke.prototype,"editFieldsInfo",void 0),Object(p.a)([Object(g.b)({type:Boolean})],Ke.prototype,"editingEnabled",void 0),Object(p.a)([Object(w.a)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],Ke.prototype,"readEditingEnabled",null),Object(p.a)([Object(w.a)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],Ke.prototype,"readEditingEnabledFromWebMap",null),Object(p.a)([Object(k.a)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],Ke.prototype,"writeEditingEnabled",null),Object(p.a)([Object(k.a)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],Ke.prototype,"writeEditingEnabledToWebMap",null),Object(p.a)([Object(g.b)({readOnly:!0})],Ke.prototype,"editingInfo",void 0),Object(p.a)([Object(w.a)("editingInfo")],Ke.prototype,"readEditingInfo",null),Object(p.a)([Object(g.b)(U.b)],Ke.prototype,"elevationInfo",void 0),Object(p.a)([Object(g.b)({types:{key:"type",base:je.a,typeMap:{selection:xe.a,cluster:_e.a}},json:{write:{target:"layerDefinition.featureReduction"}}})],Ke.prototype,"featureReduction",void 0),Object(p.a)([Object(w.a)("featureReduction",["layerDefinition.featureReduction"])],Ke.prototype,"readFeatureReduction",null),Object(p.a)([Object(k.a)("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:ke.b}})],Ke.prototype,"writeWebSceneFeatureReduction",null),Object(p.a)([Object(g.b)(Object(s.a)(Object(s.a)({},Ye.fields),{},{json:{read:{source:"layerDefinition.fields"},origins:{service:{read:!0},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Je}}}}}))],Ke.prototype,"fields",void 0),Object(p.a)([Object(g.b)({readOnly:!0,dependsOn:["fields"]})],Ke.prototype,"fieldsIndex",null),Object(p.a)([Object(g.b)({type:J.a,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Ke.prototype,"formTemplate",void 0),Object(p.a)([Object(g.b)({type:C.a,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],Ke.prototype,"fullExtent",void 0),Object(p.a)([Object(g.b)()],Ke.prototype,"gdbVersion",void 0),Object(p.a)([Object(g.b)({readOnly:!0})],Ke.prototype,"geometryProperties",void 0),Object(p.a)([Object(g.b)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:Ve.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Je,writer:function(e,t,n){var r=e?Ve.toJSON(e):null;r&&Object(v.c)(n,r,t)}}}},read:{source:"layerDefinition.geometryType",reader:Ve.read}}})],Ke.prototype,"geometryType",void 0),Object(p.a)([Object(g.b)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],Ke.prototype,"hasM",void 0),Object(p.a)([Object(g.b)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],Ke.prototype,"hasZ",void 0),Object(p.a)([Object(g.b)({readOnly:!0,type:V.a})],Ke.prototype,"heightModelInfo",void 0),Object(p.a)([Object(g.b)({type:Date})],Ke.prototype,"historicMoment",void 0),Object(p.a)([Object(g.b)({json:{origins:{service:{read:!1},"portal-item":{read:!1}}}})],Ke.prototype,"id",void 0),Object(p.a)([Object(g.b)({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],Ke.prototype,"isTable",void 0),Object(p.a)([Object(w.a)("service","isTable",["type","geometryType"]),Object(w.a)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],Ke.prototype,"readIsTable",null),Object(p.a)([Object(k.a)("web-map","isTable")],Ke.prototype,"writeIsTable",null),Object(p.a)([Object(g.b)(U.c)],Ke.prototype,"labelsVisible",void 0),Object(p.a)([Object(g.b)({type:[we.a],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:Me.a},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:Me.a},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],Ke.prototype,"labelingInfo",void 0),Object(p.a)([Object(g.b)(U.f)],Ke.prototype,"opacity",void 0),Object(p.a)([Object(g.b)({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],Ke.prototype,"layerId",void 0),Object(p.a)([Object(g.b)(U.d)],Ke.prototype,"legendEnabled",void 0),Object(p.a)([Object(g.b)({type:["show","hide"]})],Ke.prototype,"listMode",void 0),Object(p.a)([Object(g.b)({type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}})],Ke.prototype,"minScale",void 0),Object(p.a)([Object(w.a)("service","minScale",["minScale","effectiveMinScale"])],Ke.prototype,"readMinScale",null),Object(p.a)([Object(g.b)({type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}})],Ke.prototype,"maxScale",void 0),Object(p.a)([Object(w.a)("service","maxScale",["maxScale","effectiveMaxScale"])],Ke.prototype,"readMaxScale",null),Object(p.a)([Object(g.b)({type:String})],Ke.prototype,"globalIdField",void 0),Object(p.a)([Object(w.a)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),Object(w.a)("service","globalIdField",["globalIdField","fields"])],Ke.prototype,"readGlobalIdFieldFromService",null),Object(p.a)([Object(g.b)({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Je}}}}})],Ke.prototype,"objectIdField",void 0),Object(p.a)([Object(w.a)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),Object(w.a)("service","objectIdField",["objectIdField","fields"])],Ke.prototype,"readObjectIdFieldFromService",null),Object(p.a)([Object(g.b)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],Ke.prototype,"operationalLayerType",void 0),Object(p.a)([Object(g.b)(Ye.outFields)],Ke.prototype,"outFields",void 0),Object(p.a)([Object(g.b)({readOnly:!0,dependsOn:["layerId","dynamicDataSource"]})],Ke.prototype,"parsedUrl",null),Object(p.a)([Object(g.b)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Ke.prototype,"path",void 0),Object(p.a)([Object(g.b)(U.g)],Ke.prototype,"popupEnabled",void 0),Object(p.a)([Object(g.b)({type:I.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Ke.prototype,"popupTemplate",void 0),Object(p.a)([Object(g.b)({readOnly:!0,dependsOn:["fields","title"]})],Ke.prototype,"defaultPopupTemplate",null),Object(p.a)([Object(g.b)({type:[Ie],readOnly:!0})],Ke.prototype,"relationships",void 0),Object(p.a)([Object(g.b)({types:H.a,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:H.b,write:{target:"layerDefinition.drawingInfo.renderer",writer:W.c}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:function(e,t,n){return{ignoreOrigin:null==n?void 0:n.writeLayerSchema}},writer:W.c}}})],Ke.prototype,"renderer",null),Object(p.a)([Object(w.a)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),Object(w.a)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],Ke.prototype,"readRenderer",null),Object(p.a)([Object(g.b)()],Ke.prototype,"sourceJSON",void 0),Object(p.a)([Object(g.b)({type:Boolean})],Ke.prototype,"returnM",void 0),Object(p.a)([Object(g.b)({type:Boolean})],Ke.prototype,"returnZ",void 0),Object(p.a)([Object(g.b)(U.i)],Ke.prototype,"screenSizePerspectiveEnabled",void 0),Object(p.a)([Object(g.b)()],Ke.prototype,"source",null),Object(p.a)([Object(O.a)("source")],Ke.prototype,"castSource",null),Object(p.a)([Object(w.a)("portal-item","source",["featureSet"]),Object(w.a)("web-map","source",["featureSet"])],Ke.prototype,"readSource",null),Object(p.a)([Object(g.b)({readOnly:!0})],Ke.prototype,"serviceDefinitionExpression",void 0),Object(p.a)([Object(w.a)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],Ke.prototype,"readServiceDefinitionExpression",null),Object(p.a)([Object(g.b)({type:M.a,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],Ke.prototype,"spatialReference",void 0),Object(p.a)([Object(g.b)({type:[Se.a]})],Ke.prototype,"templates",void 0),Object(p.a)([Object(w.a)("templates",["editFieldsInfo","creatorField","editorField","templates"])],Ke.prototype,"readTemplates",null),Object(p.a)([Object(g.b)({type:ye.a})],Ke.prototype,"timeInfo",void 0),Object(p.a)([Object(g.b)()],Ke.prototype,"title",void 0),Object(p.a)([Object(w.a)("service","title",["name"]),Object(w.a)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],Ke.prototype,"readTitle",null),Object(p.a)([Object(w.a)("web-map","title",["layerDefinition.name","title"])],Ke.prototype,"readTitleFromWebMap",null),Object(p.a)([Object(g.b)({type:String})],Ke.prototype,"sublayerTitleMode",void 0),Object(p.a)([Object(g.b)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],Ke.prototype,"trackIdField",void 0),Object(p.a)([Object(g.b)({json:{read:!1}})],Ke.prototype,"type",void 0),Object(p.a)([Object(g.b)({type:String})],Ke.prototype,"typeIdField",void 0),Object(p.a)([Object(w.a)("service","typeIdField"),Object(w.a)("typeIdField",["layerDefinition.typeIdField"])],Ke.prototype,"readTypeIdField",null),Object(p.a)([Object(g.b)({type:[Ee.a]})],Ke.prototype,"types",void 0),Object(p.a)([Object(w.a)("service","types",["types"]),Object(w.a)("types",["layerDefinition.types"])],Ke.prototype,"readTypes",null),Object(p.a)([Object(g.b)({readOnly:!0,json:{write:!1}})],Ke.prototype,"serverGens",void 0),Object(p.a)([Object(g.b)({type:A.a.ofType(Oe),readOnly:!0})],Ke.prototype,"indexes",void 0),Object(p.a)([Object(g.b)(U.j)],Ke.prototype,"url",null),Object(p.a)([Object(k.a)("url")],Ke.prototype,"writeUrl",null),Object(p.a)([Object(g.b)({readOnly:!0})],Ke.prototype,"userIsAdmin",void 0),Object(p.a)([Object(g.b)({json:{origins:{service:{read:!0}},read:!1}})],Ke.prototype,"version",void 0),Object(p.a)([Object(w.a)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],Ke.prototype,"readVersion",null),Object(p.a)([Object(g.b)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],Ke.prototype,"visible",void 0),Object(p.a)([Object(w.a)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],Ke.prototype,"readVisible",null),Ke=Object(p.a)([Object(x.a)("esri.layers.FeatureLayer")],Ke);var Xe=Object(_.b)({types:L.a}),Qe=Ke;t.default=Qe},function(e,t,n){"use strict";var r,i=n(38),a=n(7),o=n.n(a),s=n(10),c=n(16),u=n(2),l=n(3),h=n(5),f=n(6),d=n(0),p=(n(15),n(23)),b=n(4),v=n(14),y=n(18),m=n(1),g=n(62),O=n(50),j=n(45),w=n(34),_=n(8),x=n(35),k=(n(12),n(21),n(22),n(17)),S=n(144),E=n(49),T=n(66),M=n(343),C=n(158),A=n(249),P=n(402),I=n(310),D=v.a.getLogger("esri.renderers.ClassBreaksRenderer"),L=new O.a({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"}),R=Object(y.m)(P.a),N=r=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).backgroundFillSymbol=null,r.classBreakInfos=null,r.defaultLabel=null,r.defaultSymbol=null,r.field=null,r.isMaxInclusive=!0,r.legendOptions=null,r.normalizationField=null,r.normalizationTotal=null,r.type="class-breaks",r.valueExpression=null,r.valueExpressionTitle=null,r._set("classBreakInfos",[]),r}return Object(l.a)(n,[{key:"_cache",get:function(){return{compiledFunc:null}}},{key:"readClassBreakInfos",value:function(e,t,n){if(Array.isArray(e)){var r=t.minValue;return e.map((function(e){var t=new P.a;return t.read(e,n),null==t.minValue&&(t.minValue=r),null==t.maxValue&&(t.maxValue=t.minValue),r=t.maxValue,t}))}}},{key:"writeClassBreakInfos",value:function(e,t,n,r){var i=e.map((function(e){return e.write({},r)}));this._areClassBreaksConsecutive()&&i.forEach((function(e){return delete e.classMinValue})),t[n]=i}},{key:"castField",value:function(e){return null==e?e:"function"==typeof e?(D.error(".field: field must be a string value"),null):Object(y.l)(e)}},{key:"minValue",get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}},{key:"normalizationType",get:function(){var e=this._get("normalizationType"),t=!!this.normalizationField,n=null!=this.normalizationTotal;return t||n?(e=(t?"field":n&&"percent-of-total")||null,t&&n&&D.warn("warning: both normalizationField and normalizationTotal are set!")):"field"!==e&&"percent-of-total"!==e||(e=null),e},set:function(e){this._set("normalizationType",e)}},{key:"addClassBreakInfo",value:function(e,t,n){var r;r="number"==typeof e?new P.a({minValue:e,maxValue:t,symbol:Object(T.e)(n)}):R(Object(p.a)(e)),this.classBreakInfos.push(r),1===this.classBreakInfos.length&&this.notifyChange("minValue")}},{key:"removeClassBreakInfo",value:function(e,t){for(var n=this.classBreakInfos.length,r=0;r<n;r++){var i=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(r,1);break}}}},{key:"getBreakIndex",value:function(e,t){return this.valueExpression&&(Object(b.g)(t)||Object(b.g)(t.arcade))&&D.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}},{key:"getClassBreakInfo",value:function(){var e=Object(c.a)(o.a.mark((function e(t,n){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n,e.t0=this.valueExpression&&(Object(b.g)(n)||Object(b.g)(n.arcade)),!e.t0){e.next=11;break}return e.t1=s.a,e.t2=Object(s.a)({},r),e.t3={},e.next=8,Object(S.e)();case 8:e.t4=e.sent,e.t5={arcade:e.t4},r=(0,e.t1)(e.t2,e.t3,e.t5);case 11:return i=this.getBreakIndex(t,r),e.abrupt("return",-1!==i?this.classBreakInfos[i]:null);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSymbol",value:function(e,t){if(!this.valueExpression||!Object(b.g)(t)&&!Object(b.g)(t.arcade)){var n=this.getBreakIndex(e,t);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}D.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used")}},{key:"getSymbolAsync",value:function(){var e=Object(c.a)(o.a.mark((function e(t,n){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n,e.t0=this.valueExpression&&(Object(b.g)(n)||Object(b.g)(n.arcade)),!e.t0){e.next=11;break}return e.t1=s.a,e.t2=Object(s.a)({},r),e.t3={},e.next=8,Object(S.e)();case 8:e.t4=e.sent,e.t5={arcade:e.t4},r=(0,e.t1)(e.t2,e.t3,e.t5);case 11:return i=this.getBreakIndex(t,r),e.abrupt("return",i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){var e=[];return this.classBreakInfos.forEach((function(t){t.symbol&&e.push(t.symbol)})),this.defaultSymbol&&e.push(this.defaultSymbol),e}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){var e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),n="".concat(this.normalizationField,".").concat(this.normalizationType,".").concat(this.normalizationTotal);return"".concat(e,".").concat(t,".").concat(this.classBreakInfos.reduce((function(e,t){return e+t.getMeshHash()}),""),".").concat(n,".").concat(this.field,".").concat(this.valueExpression)}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}},{key:"clone",value:function(){return new r({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:Object(p.a)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:Object(p.a)(this.visualVariables),legendOptions:Object(p.a)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}},{key:"collectRequiredFields",value:function(){var e=Object(c.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[this.collectVVRequiredFields(t,n),this.collectSymbolFields(t,n)],e.next=3,Object(k.b)(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"collectSymbolFields",value:function(){var e=Object(c.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[].concat(Object(i.a)(this.getSymbols().map((function(e){return e.collectRequiredFields(t,n)}))),[Object(E.c)(t,n,this.valueExpression)]),Object(E.f)(t,n,this.field),Object(E.f)(t,n,this.normalizationField),e.next=5,Object(k.b)(r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getBreakIndexForExpression",value:function(e,t){var n=Object(b.o)(t,{}),r=n.viewingMode,i=n.scale,a=n.spatialReference,o=n.arcade,s=this._cache.compiledFunc,c=Object(b.n)(o).arcadeUtils;if(!s){var u=c.createSyntaxTree(this.valueExpression);s=c.createFunction(u),this._cache.compiledFunc=s}var l=c.executeFunction(s,c.createExecContext(e,c.getViewInfo({viewingMode:r,scale:i,spatialReference:a})));return this._getBreakIndexfromInfos(l)}},{key:"_getBreakIndexForField",value:function(e){var t=this.field,n=e.attributes,r=this.normalizationType,i=parseFloat(n[t]);if(r){var a=this.normalizationTotal,o=parseFloat(n[this.normalizationField]);if("log"===r)i=Math.log(i)*Math.LOG10E;else if("percent-of-total"!==r||isNaN(a)){if("field"===r&&!isNaN(o)){if(isNaN(i)||isNaN(o))return-1;i/=o}}else i=i/a*100}return this._getBreakIndexfromInfos(i)}},{key:"_getBreakIndexfromInfos",value:function(e){var t=this.isMaxInclusive;if(null!=e&&"number"==typeof e&&!isNaN(e))for(var n=0;n<this.classBreakInfos.length;n++){var r=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(r[0]<=e&&(t?e<=r[1]:e<r[1]))return n}return-1}},{key:"_areClassBreaksConsecutive",value:function(){for(var e=this.classBreakInfos,t=e.length,n=1;n<t;n++)if(e[n-1].maxValue!==e[n].minValue)return!1;return!0}}]),n}(Object(A.a)(C.a));Object(d.a)([Object(m.b)({readOnly:!0,dependsOn:["valueExpression"]})],N.prototype,"_cache",null),Object(d.a)([Object(m.b)(I.a)],N.prototype,"backgroundFillSymbol",void 0),Object(d.a)([Object(m.b)({type:[P.a]})],N.prototype,"classBreakInfos",void 0),Object(d.a)([Object(w.a)("classBreakInfos")],N.prototype,"readClassBreakInfos",null),Object(d.a)([Object(x.a)("classBreakInfos")],N.prototype,"writeClassBreakInfos",null),Object(d.a)([Object(m.b)({type:String,json:{write:!0}})],N.prototype,"defaultLabel",void 0),Object(d.a)([Object(m.b)(I.b)],N.prototype,"defaultSymbol",void 0),Object(d.a)([Object(m.b)({type:String,json:{write:!0}})],N.prototype,"field",void 0),Object(d.a)([Object(g.a)("field")],N.prototype,"castField",null),Object(d.a)([Object(m.b)({type:Boolean})],N.prototype,"isMaxInclusive",void 0),Object(d.a)([Object(m.b)({type:M.a,json:{write:!0}})],N.prototype,"legendOptions",void 0),Object(d.a)([Object(m.b)({type:Number,readOnly:!0,value:null,dependsOn:["classBreakInfos"],json:{read:!1,write:{overridePolicy:function(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],N.prototype,"minValue",null),Object(d.a)([Object(m.b)({type:String,json:{write:!0}})],N.prototype,"normalizationField",void 0),Object(d.a)([Object(m.b)({type:Number,cast:function(e){return Object(y.i)(e)},json:{write:!0}})],N.prototype,"normalizationTotal",void 0),Object(d.a)([Object(m.b)({type:L.apiValues,value:null,dependsOn:["normalizationField","normalizationTotal"],json:{type:L.jsonValues,read:L.read,write:L.write}})],N.prototype,"normalizationType",null),Object(d.a)([Object(j.a)({classBreaks:"class-breaks"})],N.prototype,"type",void 0),Object(d.a)([Object(m.b)({type:String,json:{write:!0}})],N.prototype,"valueExpression",void 0),Object(d.a)([Object(m.b)({type:String,json:{write:!0}})],N.prototype,"valueExpressionTitle",void 0);var F=N=r=Object(d.a)([Object(_.a)("esri.renderers.ClassBreaksRenderer")],N);t.a=F},function(e,t,n){"use strict";n.r(t);var r=n(7),i=n.n(r),a=n(16),o=n(10),s=n(2),c=n(3),u=n(5),l=n(6),h=n(0),f=(n(15),n(23)),d=n(4),p=n(14),b=n(18),v=n(1),y=n(34),m=n(8),g=n(20),O=n(12),j=(n(21),n(22),n(17)),w=n(27),_=n(74),x=n(84),k=n(129),S=n(121),E=n(62),T=n(37),M=p.a.getLogger("esri.portal.PortalItemResource"),C=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).portalItem=null,n}return Object(c.a)(r,[{key:"normalizeCtorArgs",value:function(e){return e&&e.portalItem&&e.path?Object(o.a)(Object(o.a)({},e),{},{path:this.normalizePath(e.path,e.portalItem)}):e}},{key:"path",set:function(e){Object(d.h)(e)&&Object(O.s)(e)?M.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}},{key:"_castPath",value:function(e){return this.normalizePath(e,this.portalItem)}},{key:"url",get:function(){return this.portalItem&&this.path?"".concat(this.portalItem.itemUrl,"/resources/").concat(this.path):null}},{key:"itemRelativeUrl",get:function(){return this.portalItem&&this.path?"./resources/".concat(this.path):null}},{key:"fetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",t=arguments.length>1?arguments[1]:void 0,n=this.url;if(Object(d.g)(n))throw new g.a("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(n,{responseType:e,signal:Object(d.f)(t,"signal")})}},{key:"update",value:function(){var e=Object(a.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(2).then(n.bind(null,1134));case 2:return e.abrupt("return",e.sent.addOrUpdateResource(this,"update",t,r));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"hasPath",value:function(){return Object(d.h)(this.path)}},{key:"normalizePath",value:function(e,t){return Object(d.g)(e)?e:(e=e.replace(/^\/+/,""),Object(d.h)(t)&&Object(O.s)(e)&&(e=Object(O.A)(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}}]),r}(T.a);Object(h.a)([Object(v.b)()],C.prototype,"portalItem",void 0),Object(h.a)([Object(v.b)({type:String,value:null})],C.prototype,"path",null),Object(h.a)([Object(E.a)("path")],C.prototype,"_castPath",null),Object(h.a)([Object(v.b)({type:String,readOnly:!0,dependsOn:["portalItem","path"]})],C.prototype,"url",null),Object(h.a)([Object(v.b)({type:String,readOnly:!0,dependsOn:["portalItem","path"]})],C.prototype,"itemRelativeUrl",null);var A=C=Object(h.a)([Object(m.a)("esri.portal.PortalItemResource")],C),P=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).created=null,r.rating=null,r}return n}(T.a);Object(h.a)([Object(v.b)()],P.prototype,"created",void 0),Object(h.a)([Object(v.b)()],P.prototype,"rating",void 0);var I,D=P=Object(h.a)([Object(m.a)("esri.portal.PortalRating")],P),L=I=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).access=null,n.accessInformation=null,n.applicationProxies=null,n.avgRating=null,n.categories=null,n.created=null,n.culture=null,n.description=null,n.extent=null,n.groupCategories=null,n.id=null,n.itemControl=null,n.licenseInfo=null,n.modified=null,n.name=null,n.numComments=null,n.numRatings=null,n.numViews=null,n.owner=null,n.ownerFolder=null,n.portal=null,n.screenshots=null,n.size=null,n.snippet=null,n.sourceJSON=null,n.tags=null,n.title=null,n.type=null,n.typeKeywords=null,n.url=null,n}return Object(c.a)(r,[{key:"destroy",value:function(){this.portal=null}},{key:"displayName",get:function(){var e=this.type,t=this.typeKeywords||[],n=e;return"Feature Service"===e||"Feature Collection"===e?n=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===e?n=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?n="Scene Layer":"Scene Package"===e?n="Scene Layer Package":"Stream Service"===e?n="Feature Layer":"Geoprocessing Service"===e&&this.portal&&this.portal.isPortal?n=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===e?n="Locator":"Geoenrichment Service"===e?n="GeoEnrichment Service":"Microsoft Powerpoint"===e?n="Microsoft PowerPoint":"GeoJson"===e?n="GeoJSON":"Globe Service"===e?n="Globe Layer":"Vector Tile Service"===e?n="Tile Layer":"netCDF"===e?n="NetCDF":"Map Service"===e?n=-1===t.indexOf("Spatiotemporal")&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&-1===t.indexOf("Relational")?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?n=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?n="Big Data File Share":"Compact Tile Package"===e&&(n="Tile Package (tpkx)"),n}},{key:"readExtent",value:function(e){return e&&e.length?new _.a(e[0][0],e[0][1],e[1][0],e[1][1]):null}},{key:"iconUrl",get:function(){var e,t=this.type&&this.type.toLowerCase()||"",n=this.typeKeywords||[],r=!1,i=!1,a=!1,o=!1,s=!1,c=!1;return t.indexOf("service")>0||"feature collection"===t||"kml"===t||"wms"===t||"wmts"===t||"wfs"===t?(r=n.indexOf("Hosted Service")>-1,"feature service"===t||"feature collection"===t||"kml"===t||"wfs"===t?(i=n.indexOf("Table")>-1,a=n.indexOf("Route Layer")>-1,o=n.indexOf("Markup")>-1,s=-1!==n.indexOf("Spatiotemporal"),c=-1!==n.indexOf("UtilityNetwork"),e=s&&i?"spatiotemporaltable":i?"table":a?"routelayer":o?"markup":s?"spatiotemporal":r?"featureshosted":c?"utilitynetwork":"features"):e="map service"===t||"wms"===t||"wmts"===t?r||n.indexOf("Tiled")>-1||"wmts"===t?"maptiles":"mapimages":"scene service"===t?n.indexOf("Line")>-1?"sceneweblayerline":n.indexOf("3DObject")>-1?"sceneweblayermultipatch":n.indexOf("Point")>-1?"sceneweblayerpoint":n.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":n.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":n.indexOf("Polygon")>-1?"sceneweblayerpolygon":n.indexOf("Building")>-1?"sceneweblayerbuilding":"sceneweblayer":"image service"===t?n.indexOf("Elevation 3D Layer")>-1?"elevationlayer":n.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===t?"streamlayer":"vector tile service"===t?"vectortile":"datastore catalog service"===t?"datastorecollection":"geocoding service"===t?"geocodeservice":"geoprocessing service"===t?n.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers":"knowledge graph service"===t?"knowledgegraph":"layers"):e="web map"===t||"cityengine web scene"===t?"maps":"web scene"===t?n.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===t||"mobile application"===t||"application"===t||"operation view"===t||"desktop application"===t?"apps":"map document"===t||"map package"===t||"published map"===t||"scene document"===t||"globe document"===t||"basemap package"===t||"mobile basemap package"===t||"mobile map package"===t||"project package"===t||"project template"===t||"pro map"===t||"layout"===t||"layer"===t&&n.indexOf("ArcGIS Pro")>-1||"explorer map"===t&&n.indexOf("Explorer Document")?"mapsgray":"service definition"===t||"csv"===t||"shapefile"===t||"cad drawing"===t||"geojson"===t||"360 vr experience"===t||"netcdf"===t||"administrative report"===t?"datafiles":"explorer add in"===t||"desktop add in"===t||"windows viewer add in"===t||"windows viewer configuration"===t?"appsgray":"arcgis pro add in"===t||"arcgis pro configuration"===t?"addindesktop":"rule package"===t||"file geodatabase"===t||"sqlite geodatabase"===t||"csv collection"===t||"kml collection"===t||"windows mobile package"===t||"map template"===t||"desktop application template"===t||"gml"===t||"arcpad package"===t||"code sample"===t||"form"===t||"document link"===t||"operations dashboard add in"===t||"rules package"===t||"image"===t||"workflow manager package"===t||"explorer map"===t&&n.indexOf("Explorer Mapping Application")>-1||n.indexOf("Document")>-1?"datafilesgray":"network analysis service"===t||"geoprocessing service"===t||"geodata service"===t||"geometry service"===t||"geoprocessing package"===t||"locator package"===t||"geoprocessing sample"===t||"workflow manager service"===t?"toolsgray":"layer"===t||"layer package"===t||"explorer layer"===t?"layersgray":"scene package"===t?"scenepackage":"mobile scene package"===t?"mobilescenepackage":"tile package"===t||"compact tile package"===t?"tilepackage":"task file"===t?"taskfile":"report template"===t?"report-template":"statistical data collection"===t?"statisticaldatacollection":"insights workbook"===t?"workbook":"insights model"===t?"insightsmodel":"insights page"===t?"insightspage":"insights theme"===t?"insightstheme":"hub initiative"===t?"hubinitiative":"hubpage"===t?"hubpage":"hub event"===t?"hubevent":"hub site application"===t?"hubsite":"relational database connection"===t?"relationaldatabaseconnection":"big data file share"===t?"datastorecollection":"image collection"===t?"imagecollection":"style"===t?"style":"desktop style"===t?"desktopstyle":"dashboard"===t?"dashboard":"raster function template"===t?"rasterprocessingtemplate":"vector tile package"===t?"vectortilepackage":"ortho mapping project"===t?"orthomappingproject":"ortho mapping template"===t?"orthomappingtemplate":"solution"===t?"solutions":"geopackage"===t?"geopackage":"deep learning package"===t?"deeplearningpackage":"real time analytic"===t?"realtimeanalytics":"big data analytic"===t?"bigdataanalytics":"feed"===t?"feed":"excalibur imagery project"===t?"excaliburimageryproject":"notebook"===t?"notebook":"storymap"===t?"storymap":"survey123 add in"===t?"survey123addin":"mission"===t?"mission":"mission report"===t?"missionreport":"quickcapture project"===t?"quickcaptureproject":"pro report"===t?"proreport":"urban model"===t?"urbanmodel":"web experience"===t?"experiencebuilder":"web experience template"===t?"webexperiencetemplate":"workflow"===t?"workflow":"insights script"===t?"insightsscript":"kernel gateway connection"===t?"kernelgatewayconnection":"hub initiative template"===t?"hubinitiativetemplate":"storymap theme"===t?"storymaptheme":"maps",e?Object(x.a)("esri/images/portal/"+e+"16.png"):null}},{key:"isLayer",get:function(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}},{key:"itemUrl",get:function(){var e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}},{key:"thumbnailUrl",get:function(){var e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl("".concat(e,"/info/").concat(t,"?f=json")):null}},{key:"userItemUrl",get:function(){var e=this.get("portal.restUrl");if(!e)return null;var t=this.owner||this.get("portal.user.username");return t?"".concat(e,"/content/users/").concat(this.ownerFolder?"".concat(t,"/").concat(this.ownerFolder):t,"/items/").concat(this.id):null}},{key:"load",value:function(e){var t=this;this.portal||(this.portal=S.a.getDefault());var n=this.portal.load(e).then((function(){return t.sourceJSON?t.sourceJSON:t.id&&t.itemUrl?t.portal._request(t.itemUrl,{signal:Object(d.h)(e)?e.signal:null}):{}})).then((function(e){t.sourceJSON=e,t.read(e)}));return this.addResolvingPromise(n),Object(j.s)(this)}},{key:"addRating",value:function(e){var t={method:"post",query:{}};return e instanceof D&&(e=e.rating),isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then((function(){return new D({rating:e,created:new Date})}))}},{key:"clone",value:function(){var e={access:this.access,accessInformation:this.accessInformation,applicationProxies:Object(f.a)(this.applicationProxies),avgRating:this.avgRating,categories:Object(f.a)(this.categories),created:Object(f.a)(this.created),culture:this.culture,description:this.description,extent:Object(f.a)(this.extent),groupCategories:Object(f.a)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:Object(f.a)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:Object(f.a)(this.screenshots),size:this.size,snippet:this.snippet,tags:Object(f.a)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:Object(f.a)(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new I({sourceJSON:this.sourceJSON}).set(e)}},{key:"createPostQuery",value:function(){var e=this.toJSON();for(var t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}},{key:"deleteRating",value:function(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then((function(){}))}},{key:"fetchData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",t=arguments.length>1?arguments[1]:void 0;return this.portal._request(this.itemUrl+"/data",Object(o.a)({responseType:e},t))}},{key:"fetchRating",value:function(e){return this.portal._request(this.itemUrl+"/rating",e).then((function(e){return null!=e.rating?(e.created=new Date(e.created),new D(e)):null}))}},{key:"fetchRelatedItems",value:function(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",Object(o.a)({query:e},t),I)}},{key:"getThumbnailUrl",value:function(e){var t=this.thumbnailUrl;return t&&e&&(t+="&w=".concat(e)),t}},{key:"reload",value:function(){var e=this;return this.portal._request(this.itemUrl,{cacheBust:!0}).then((function(t){return e.sourceJSON=t,e.read(t),e}))}},{key:"update",value:function(e){var t=this;return this.id?this.load().then((function(){return t.portal._signIn()})).then((function(){var n=e&&e.data,r={method:"post"};for(var i in r.query=t.createPostQuery(),r.query)null===r.query[i]&&(r.query[i]="");return r.query.clearEmptyFields=!0,null!=n&&("string"==typeof n?r.query.text=n:"object"==typeof n&&(r.query.text=JSON.stringify(n))),t.portal._request("".concat(t.userItemUrl,"/update"),r).then((function(){return t.reload()}))})):Object(j.r)(new g.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}},{key:"updateThumbnail",value:function(e){var t=this;return this.id?this.load().then((function(){return t.portal._signIn()})).then((function(){var n=e.thumbnail,r=e.filename,i={method:"post"};if("string"==typeof n)Object(O.u)(n)?i.query={data:n}:i.query={url:Object(O.y)(n)},Object(d.h)(r)&&(i.query.filename=r);else{var a=new FormData;Object(d.h)(r)?a.append("file",n,r):a.append("file",n),i.body=a}return t.portal._request("".concat(t.userItemUrl,"/updateThumbnail"),i).then((function(){return t.reload()}))})):Object(j.r)(new g.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}},{key:"fetchResources",value:function(){var e=Object(a.a)(i.a.mark((function e(){var t,r,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},r=a.length>1?a[1]:void 0,e.next=4,n.e(2).then(n.bind(null,1134));case 4:return e.abrupt("return",e.sent.fetchResources(this,t,r));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addResource",value:function(){var e=Object(a.a)(i.a.mark((function e(t,r,a){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(2).then(n.bind(null,1134));case 2:return o=e.sent,e.abrupt("return",(t.portalItem=this,o.addOrUpdateResource(t,"add",r,a)));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"removeResource",value:function(){var e=Object(a.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(2).then(n.bind(null,1134));case 2:if(a=e.sent,!t.portalItem||t.portalItem.itemUrl===this.itemUrl){e.next=5;break}throw new g.a("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");case 5:return e.abrupt("return",a.removeResource(this,t,r));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeAllResources",value:function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(2).then(n.bind(null,1134));case 2:return e.abrupt("return",e.sent.removeAllResources(this,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resourceFromPath",value:function(e){return new A({portalItem:this,path:e})}},{key:"toJSON",value:function(){var e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return Object(f.c)(t)}},{key:"_getPostQuery",value:function(){var e=this.toJSON();for(var t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}}],[{key:"from",value:function(e){return Object(b.d)(I,e)}},{key:"fromJSON",value:function(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new I({sourceJSON:e})}}]),r}(Object(w.b)(k.a));Object(h.a)([Object(v.b)({type:["private","shared","org","public"]})],L.prototype,"access",void 0),Object(h.a)([Object(v.b)()],L.prototype,"accessInformation",void 0),Object(h.a)([Object(v.b)({json:{read:{source:"appProxies"}}})],L.prototype,"applicationProxies",void 0),Object(h.a)([Object(v.b)()],L.prototype,"avgRating",void 0),Object(h.a)([Object(v.b)()],L.prototype,"categories",void 0),Object(h.a)([Object(v.b)({type:Date})],L.prototype,"created",void 0),Object(h.a)([Object(v.b)()],L.prototype,"culture",void 0),Object(h.a)([Object(v.b)()],L.prototype,"description",void 0),Object(h.a)([Object(v.b)({dependsOn:["type","typeKeywords"],readOnly:!0})],L.prototype,"displayName",null),Object(h.a)([Object(v.b)({type:_.a})],L.prototype,"extent",void 0),Object(h.a)([Object(y.a)("extent")],L.prototype,"readExtent",null),Object(h.a)([Object(v.b)()],L.prototype,"groupCategories",void 0),Object(h.a)([Object(v.b)({dependsOn:["type","typeKeywords"],readOnly:!0})],L.prototype,"iconUrl",null),Object(h.a)([Object(v.b)()],L.prototype,"id",void 0),Object(h.a)([Object(v.b)({dependsOn:["type"],readOnly:!0})],L.prototype,"isLayer",null),Object(h.a)([Object(v.b)()],L.prototype,"itemControl",void 0),Object(h.a)([Object(v.b)({dependsOn:["portal.restUrl","id"],readOnly:!0})],L.prototype,"itemUrl",null),Object(h.a)([Object(v.b)()],L.prototype,"licenseInfo",void 0),Object(h.a)([Object(v.b)({type:Date})],L.prototype,"modified",void 0),Object(h.a)([Object(v.b)()],L.prototype,"name",void 0),Object(h.a)([Object(v.b)()],L.prototype,"numComments",void 0),Object(h.a)([Object(v.b)()],L.prototype,"numRatings",void 0),Object(h.a)([Object(v.b)()],L.prototype,"numViews",void 0),Object(h.a)([Object(v.b)()],L.prototype,"owner",void 0),Object(h.a)([Object(v.b)()],L.prototype,"ownerFolder",void 0),Object(h.a)([Object(v.b)({type:S.a})],L.prototype,"portal",void 0),Object(h.a)([Object(v.b)()],L.prototype,"screenshots",void 0),Object(h.a)([Object(v.b)()],L.prototype,"size",void 0),Object(h.a)([Object(v.b)()],L.prototype,"snippet",void 0),Object(h.a)([Object(v.b)()],L.prototype,"sourceJSON",void 0),Object(h.a)([Object(v.b)()],L.prototype,"tags",void 0),Object(h.a)([Object(v.b)()],L.prototype,"thumbnail",void 0),Object(h.a)([Object(v.b)({dependsOn:["itemUrl","thumbnail","portal.credential.token"],readOnly:!0})],L.prototype,"thumbnailUrl",null),Object(h.a)([Object(v.b)()],L.prototype,"title",void 0),Object(h.a)([Object(v.b)()],L.prototype,"type",void 0),Object(h.a)([Object(v.b)()],L.prototype,"typeKeywords",void 0),Object(h.a)([Object(v.b)()],L.prototype,"url",void 0),Object(h.a)([Object(v.b)({dependsOn:["portal.restUrl","portal.user.username","owner","ownerFolder","id"],readOnly:!0})],L.prototype,"userItemUrl",null);var R=L=I=Object(h.a)([Object(m.a)("esri.portal.PortalItem")],L);t.default=R},function(e,t,n){"use strict";n.r(t),n.d(t,"getAllSizes",(function(){return S})),n.d(t,"getColor",(function(){return v})),n.d(t,"getOpacity",(function(){return y})),n.d(t,"getRotationAngle",(function(){return m})),n.d(t,"getSize",(function(){return g})),n.d(t,"getSizeForValue",(function(){return w})),n.d(t,"getSizeFromNumberOrVariable",(function(){return O})),n.d(t,"getSizeRangeAtScale",(function(){return _})),n.d(t,"getVisualVariableValues",(function(){return x})),n.d(t,"viewScaleRE",(function(){return b}));var r=n(13),i=n(32),a=n(186),o=n(4),s=n(14),c=n(43),u=n(80),l=n(307),h=n(163),f=s.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),d=new u.a,p=Math.PI,b=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function v(e,t,n){var r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"color"===e.type}))[0]:e;if(r)if("esri.renderers.visualVariables.ColorVariable"===r.declaredClass){var i="number"==typeof t,a=i?null:t,s=a&&a.attributes,u=i?t:null,l=r.field,h=r.cache,d=h.ipData,p=h.hasExpression,b=r.cache.compiledFunc;if(!l&&!p){var v=r.stops;return v&&v[0]&&v[0].color}if("number"!=typeof u)if(p){if(!Object(o.h)(n)||!Object(o.h)(n.arcade))return void f.error("Use of arcade expressions requires an arcade context");var y={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},m=n.arcade.arcadeUtils,g=m.getViewInfo(y),O=m.createExecContext(a,g);if(!b){var j=m.createSyntaxTree(r.valueExpression);b=m.createFunction(j),r.cache.compiledFunc=b}u=m.executeFunction(b,O)}else s&&(u=s[l]);var w=r.normalizationField,_=s?parseFloat(s[w]):void 0;if(null!=u&&(!w||i||!isNaN(_)&&0!==_)){isNaN(_)||i||(u/=_);var x=k(u,d);if(x){var S=x[0],E=x[1],T=S===E?r.stops[S].color:c.a.blendColors(r.stops[S].color,r.stops[E].color,x[2],Object(o.h)(n)?n.color:void 0);return new c.a(T)}}}else f.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable")}function y(e,t,n){var r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"opacity"===e.type}))[0]:e;if(r)if("esri.renderers.visualVariables.OpacityVariable"===r.declaredClass){var i="number"==typeof t,a=i?null:t,s=a&&a.attributes,c=i?t:null,u=r.field,l=r.cache,h=l.ipData,d=l.hasExpression,p=r.cache.compiledFunc;if(!u&&!d){var b=r.stops;return b&&b[0]&&b[0].opacity}if("number"!=typeof c)if(d){if(Object(o.g)(n)||Object(o.g)(n.arcade))return void f.error("Use of arcade expressions requires an arcade context");var v={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},y=n.arcade.arcadeUtils,m=y.getViewInfo(v),g=y.createExecContext(a,m);if(!p){var O=y.createSyntaxTree(r.valueExpression);p=y.createFunction(O),r.cache.compiledFunc=p}c=y.executeFunction(p,g)}else s&&(c=s[u]);var j=r.normalizationField,w=s?parseFloat(s[j]):void 0;if(null!=c&&(!j||i||!isNaN(w)&&0!==w)){isNaN(w)||i||(c/=w);var _=k(c,h);if(_){var x=_[0],S=_[1];if(x===S)return r.stops[x].opacity;var E=r.stops[x].opacity;return E+(r.stops[S].opacity-E)*_[2]}}}else f.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable")}function m(e,t,n){var r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"rotation"===e.type}))[0]:e;if(r){if("esri.renderers.visualVariables.RotationVariable"===r.declaredClass){var i=r.axis||"heading",a="heading"===i&&"arithmetic"===r.rotationType?90:0,s="heading"===i&&"arithmetic"===r.rotationType?-1:1,c="number"==typeof t?null:t,u=c&&c.attributes,l=r.field,h=r.cache.hasExpression,d=r.cache.compiledFunc,p=0;if(!l&&!h)return p;if(h){if(Object(o.g)(n)||Object(o.g)(n.arcade))return void f.error("Use of arcade expressions requires an arcade context");var b={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},v=n.arcade.arcadeUtils,y=v.getViewInfo(b),m=v.createExecContext(c,y);if(!d){var g=v.createSyntaxTree(r.valueExpression);d=v.createFunction(g),r.cache.compiledFunc=d}p=v.executeFunction(d,m)}else u&&(p=u[l]||0);return p="number"!=typeof p||isNaN(p)?null:a+s*p}f.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable")}}function g(e,t,n){var r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"size"===e.type}))[0]:e;if(r){if("esri.renderers.visualVariables.SizeVariable"===r.declaredClass){var i=w(function(e,t,n){var r="number"==typeof t,i=r?null:t,a=i&&i.attributes,s=r?t:null,c=e.cache.isScaleDriven,u=e.cache.compiledFunc;if(c){var l=Object(o.h)(n)?n.scale:void 0,d=Object(o.h)(n)?n.view:void 0;s=null==l||"3d"===d?function(e){var t=null,n=null,r=e.stops;return r?(t=r[0].value,n=r[r.length-1].value):(t=e.minDataValue||0,n=e.maxDataValue||0),(t+n)/2}(e):l}else if(!r)switch(e.inputValueType){case"expression":if(Object(o.g)(n)||Object(o.g)(n.arcade))return void f.error("Use of arcade expressions requires an arcade context");var p={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},b=n.arcade.arcadeUtils,v=b.getViewInfo(p),y=b.createExecContext(i,v);if(!u){var m=b.createSyntaxTree(e.valueExpression);u=b.createFunction(m),e.cache.compiledFunc=u}s=b.executeFunction(u,y);break;case"field":a&&(s=a[e.field]);break;case"unknown":s=null}if(!Object(h.d)(s))return null;if(r||!e.normalizationField)return s;var g=a?parseFloat(a[e.normalizationField]):null;return Object(h.d)(g)&&0!==g?s/g:null}(r,t,n),r,t,n,r.cache.ipData);return null==i||isNaN(i)?0:i}f.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable")}}function O(e,t,n){return null==e?null:Object(h.c)(e)?g(e,t,n):Object(h.d)(e)?e:null}function j(e,t,n){return Object(h.d)(n)&&e>n?n:Object(h.d)(t)&&e<t?t:e}function w(e,t,n,r,a){switch(t.transformationType){case"additive":return function(e,t,n,r){return e+(O(t.minSize,n,r)||t.minDataValue)}(e,t,n,r);case"constant":return function(e,t,n){var r=e.stops,i=r&&r.length&&r[0].size;return null==i&&(i=e.minSize),O(i,t,n)}(t,n,r);case"clamped-linear":return function(e,t,n,r){var i=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),a=O(t.minSize,n,r),s=O(t.maxSize,n,r),c=Object(o.h)(r)?r.shape:void 0;if(e<=t.minDataValue)return a;if(e>=t.maxDataValue)return s;if("area"===t.scaleBy&&c){var u="circle"===c,l=u?p*Math.pow(a/2,2):a*a,h=l+i*((u?p*Math.pow(s/2,2):s*s)-l);return u?2*Math.sqrt(h/p):Math.sqrt(h)}return a+i*(s-a)}(e,t,n,r);case"proportional":return function(e,t,n,r){var i=Object(o.h)(r)?r.shape:void 0,a=e/t.minDataValue,s=O(t.minSize,n,r),c=O(t.maxSize,n,r);return j("circle"===i?2*Math.sqrt(a*Math.pow(s/2,2)):"square"===i||"diamond"===i||"image"===i?Math.sqrt(a*Math.pow(s,2)):a*s,s,c)}(e,t,n,r);case"stops":return function(e,t,n,r,a){var o=k(e,a),s=Object(i.a)(o,3),c=s[0],u=s[1],l=s[2];if(c===u)return O(t.stops[c].size,n,r);var h=O(t.stops[c].size,n,r);return h+(O(t.stops[u].size,n,r)-h)*l}(e,t,n,r,a);case"real-world-size":return function(e,t,n,r){var i=(Object(o.h)(r)&&r.resolution?r.resolution:1)*l.a[t.valueUnit],a=O(t.minSize,n,r),s=O(t.maxSize,n,r),c=t.valueRepresentation;return j("area"===c?2*Math.sqrt(e/p)/i:"radius"===c||"distance"===c?2*e/i:e/i,a,s)}(e,t,n,r);case"identity":return e;case"unknown":return null}}function _(e,t,n){if(!(e.cache.isScaleDriven&&"3d"===n||t))return null;var r={scale:t,view:n},i=O(e.minSize,d,r),a=O(e.maxSize,d,r);if(null!=i||null!=a){if(i>a){var o=a;a=i,i=o}return{minSize:i,maxSize:a}}}function x(e,t,n){if(e.visualVariables){var i,a=[],o=[],s=[],c=[],u=[],l=Object(r.a)(e.visualVariables);try{for(l.s();!(i=l.n()).done;){var h=i.value;switch(h.type){case"color":o.push(h);break;case"opacity":s.push(h);break;case"rotation":u.push(h);break;case"size":c.push(h)}}}catch(f){l.e(f)}finally{l.f()}return o.forEach((function(e){var r=v(e,t,n);a.push({variable:e,value:r})})),s.forEach((function(e){var r=y(e,t,n);a.push({variable:e,value:r})})),u.forEach((function(e){var r=m(e,t,n);a.push({variable:e,value:r})})),c.forEach((function(e){var r=g(e,t,n);a.push({variable:e,value:r})})),a.filter((function(e){return null!=e.value}))}}function k(e,t){if(t){var n=0,r=t.length-1;return t.some((function(t,i){return e<t?(r=i,!0):(n=i,!1)})),[n,r,(e-t[n])/(t[r]-t[n])]}}function S(e,t,n){var i,o=["proportional","proportional","proportional"],s=Object(r.a)(e);try{for(s.s();!(i=s.n()).done;){var c=i.value,u=c.useSymbolValue?"symbol-value":g(c,t,n);switch(c.axis){case"width":o[0]=u;break;case"depth":o[1]=u;break;case"height":o[2]=u;break;case"width-and-depth":o[0]=u,o[1]=u;break;case"all":case void 0:case null:o[0]=u,o[1]=u,o[2]=u;break;default:Object(a.a)(c.axis)}}}catch(l){s.e(l)}finally{s.f()}return o}},function(e,t,n){"use strict";var r=n(32),i=n(2),a=n(3),o=n(145),s=function(){function e(t,n,r,a){Object(i.a)(this,e),this.set(t,n,r,a)}return Object(a.a)(e,[{key:"key",get:function(){return this}},{key:"id",get:function(){return this.toString()},set:function(e){this.set(e)}},{key:"acquire",value:function(e,t,n,r){this.set(e,t,n,r)}},{key:"contains",value:function(e){var t=e.level-this.level;return this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}},{key:"equals",value:function(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}},{key:"clone",value:function(){return new e(this)}},{key:"release",value:function(){this.level=0,this.row=0,this.col=0,this.world=0}},{key:"set",value:function(e,t,n,i){if(null==e)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof e)this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if("string"==typeof e){var a=e.split("/"),o=Object(r.a)(a,4),s=o[0],c=o[1],u=o[2],l=o[3];this.level=parseFloat(s),this.row=parseFloat(c),this.col=parseFloat(u),this.world=parseFloat(l)}else this.level=+e,this.row=+t,this.col=+n,this.world=+i||0;return this}},{key:"toString",value:function(){return"".concat(this.level,"/").concat(this.row,"/").concat(this.col,"/").concat(this.world)}},{key:"getParentKey",value:function(){return this.level<=0?null:new e(this.level-1,this.row>>1,this.col>>1,this.world)}},{key:"getChildKeys",value:function(){var t=this.level+1,n=this.row<<1,r=this.col<<1,i=this.world;return[new e(t,n,r,i),new e(t,n,r+1,i),new e(t,n+1,r,i),new e(t,n+1,r+1,i)]}},{key:"compareRowMajor",value:function(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}}],[{key:"getId",value:function(e,t,n,r){return"object"==typeof e?"".concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.world):"".concat(e,"/").concat(t,"/").concat(n,"/").concat(r)}}]),e}();s.pool=new o.a(s,null,null,25,50),t.a=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return g}));var r,i,a,o,s,c,u,l,h,f,d=n(30),p=n(44),b=n(31),v=n(237),y=n(575),m=n(445),g=Object(p.f)(6);function O(e){var t=new v.a;return t.extensions.add("GL_OES_standard_derivatives"),t.include(y.a),t.include(m.a,e),t.fragment.uniforms.add("angleCutoff","vec2"),t.fragment.uniforms.add("globalAlpha","float"),e.heightManifoldEnabled&&t.fragment.uniforms.add("heightPlane","vec4"),e.pointDistanceEnabled&&t.fragment.uniforms.add("pointDistanceSphere","vec4"),e.lineVerticalPlaneEnabled&&t.fragment.uniforms.add("lineVerticalPlane","vec4").add("lineVerticalStart","vec3").add("lineVerticalEnd","vec3"),(e.heightManifoldEnabled||e.pointDistanceEnabled||e.lineVerticalPlaneEnabled)&&t.fragment.uniforms.add("maxPixelDistance","float"),e.intersectsLineEnabled&&t.fragment.uniforms.add("intersectsLineStart","vec3").add("intersectsLineEnd","vec3").add("intersectsLineDirection","vec3").add("intersectsLineRadius","float").add("perScreenPixelRatio","float"),(e.lineVerticalPlaneEnabled||e.heightManifoldEnabled)&&t.fragment.code.add(Object(b.a)(r||(r=Object(d.a)(["\n      float planeDistancePixels(vec4 plane, vec3 pos) {\n        float dist = dot(plane.xyz, pos) + plane.w;\n        float width = fwidth(dist);\n        dist /= min(width, maxPixelDistance);\n        return abs(dist);\n      }"])))),e.pointDistanceEnabled&&t.fragment.code.add(Object(b.a)(i||(i=Object(d.a)(["\n    float sphereDistancePixels(vec4 sphere, vec3 pos) {\n      float dist = distance(sphere.xyz, pos) - sphere.w;\n      float width = fwidth(dist);\n      dist /= min(width, maxPixelDistance);\n      return abs(dist);\n    }\n    "])))),e.intersectsLineEnabled&&t.fragment.code.add(Object(b.a)(a||(a=Object(d.a)(["\n    float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\n      float dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\n      return abs(dist) - radius;\n    }\n    "])))),(e.lineVerticalPlaneEnabled||e.intersectsLineEnabled)&&t.fragment.code.add(Object(b.a)(o||(o=Object(d.a)(["\n    bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\n      vec3 dir = end - start;\n      float t2 = dot(dir, pos - start);\n      float l2 = dot(dir, dir);\n      return t2 >= 0.0 && t2 <= l2;\n    }\n    "])))),t.fragment.code.add(Object(b.a)(s||(s=Object(d.a)(["\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    vec4 color = vec4(0, 0, 0, 0);\n  "])))),e.heightManifoldEnabled&&t.fragment.code.add(Object(b.a)(c||(c=Object(d.a)(["\n    {\n      float heightManifoldAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));\n      vec4 heightManifoldColor = laserlineProfile(planeDistancePixels(heightPlane, pos));\n      color = max(color, heightManifoldColor * heightManifoldAlpha);\n    }\n    "])))),e.pointDistanceEnabled&&t.fragment.code.add(Object(b.a)(u||(u=Object(d.a)(["\n    {\n      // distance to sphere\n      float pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);\n      vec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);\n      float pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\n\n      color = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);\n    }\n    "])))),e.lineVerticalPlaneEnabled&&t.fragment.code.add(Object(b.a)(l||(l=Object(d.a)(["\n    {\n      if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\n        float lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);\n\n        vec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);\n        float lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\n\n        color = max(color, lineVerticalColor * lineVerticalAlpha);\n      }\n    }\n    "])))),e.intersectsLineEnabled&&t.fragment.code.add(Object(b.a)(h||(h=Object(d.a)(["\n    {\n      if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\n        float intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\n        vec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);\n        float intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\n\n        color = max(color, intersectsLineColor * intersectsLineAlpha);\n      }\n    }\n    "])))),t.fragment.code.add(Object(b.a)(f||(f=Object(d.a)(["\n    gl_FragColor = laserlineOutput(color * depthDiscontinuityAlpha);\n  }\n  "])))),t}var j=Object.freeze({__proto__:null,defaultAngleCutoff:g,build:O})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return a}));var r=n(13),i=(n(10),n(15),n(4));function a(e,t){return e.vertexBuffers[t].size/o(e.layout[t])}function o(e){return e[0].stride}function s(e,t,n,i,a){var o=e.gl,s=e.capabilities.instancing;e.bindBuffer(n);var c,u=Object(r.a)(i);try{for(u.s();!(c=u.n()).done;){var l=c.value,h=t[l.name],f=(a||(0+l.baseInstance?l.baseInstance:0))*l.stride;if(void 0===h&&console.error("There is no location for vertex attribute '".concat(l.name,"' defined.")),l.baseInstance&&!l.divisor&&console.error("Vertex attribute '".concat(l.name,"' uses baseInstanceOffset without divisor.")),l.count<=4)o.vertexAttribPointer(h,l.count,l.type,l.normalized,l.stride,l.offset+f),o.enableVertexAttribArray(h),l.divisor&&l.divisor>0&&s&&s.vertexAttribDivisor(h,l.divisor);else if(9===l.count)for(var d=0;d<3;d++)o.vertexAttribPointer(h+d,3,l.type,l.normalized,l.stride,l.offset+12*d+f),o.enableVertexAttribArray(h+d),l.divisor&&l.divisor>0&&s&&s.vertexAttribDivisor(h+d,l.divisor);else if(16===l.count)for(var p=0;p<4;p++)o.vertexAttribPointer(h+p,4,l.type,l.normalized,l.stride,l.offset+16*p+f),o.enableVertexAttribArray(h+p),l.divisor&&l.divisor>0&&s&&s.vertexAttribDivisor(h+p,l.divisor);else console.error("Unsupported vertex attribute element count: "+l.count)}}catch(b){u.e(b)}finally{u.f()}}function c(e,t,n,i){var a=e.gl,o=e.capabilities.instancing;e.bindBuffer(n);var s,c=Object(r.a)(i);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=t[u.name];if(u.count<=4)a.disableVertexAttribArray(l),u.divisor&&u.divisor>0&&o&&o.vertexAttribDivisor(l,0);else if(9===u.count)for(var h=0;h<3;h++)a.disableVertexAttribArray(l+h),u.divisor&&u.divisor>0&&o&&o.vertexAttribDivisor(l+h,0);else if(16===u.count)for(var f=0;f<4;f++)a.disableVertexAttribArray(l+f),u.divisor&&u.divisor>0&&o&&o.vertexAttribDivisor(l+f,0);else console.error("Unsupported vertex attribute element count: "+u.count)}}catch(d){c.e(d)}finally{c.f()}e.unbindBuffer(34962)}function u(e){if(Object(i.g)(e))return 0;if("colorAttachment"in e)return e.glName?u(e.colorAttachment)+u(e.depthStencilAttachment):0;if("descriptor"in e)return e.glName?u(e.descriptor):0;var t=e.internalFormat||"pixelFormat"in e&&e.pixelFormat;if(!t)return 0;var n="hasMipmap"in e&&e.hasMipmap?1.3:1,r=e.width*e.height;return function(e){switch(e){case 6406:case 6409:return 1;case 6410:return 2;case 6407:return 3;case 6408:case 34041:return 4;case 33325:return 2;case 33326:case 35898:case 33327:return 4;case 33328:case 34842:return 8;case 34836:return 16;case 33189:return 2;case 34041:return 4;case 32854:return 2;case 36168:return 1}return 0}(t)*r*n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledMultiRowActions=t.StyledSubNavActions=t.StyledSubNavTitle=t.StyledSubNavList=t.StyledSubNavLink=t.StyledSubNavContent=t.StyledSubNav=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(203)),i=n(176),a=n(772),o=n(291),s=n(193),c=n(632);var u=r.default.header.withConfig({displayName:"StyledSubNav",componentId:"rv6lg3-0"})(["position:relative;display:flex;width:100%;",""],(function(e){return e.legacy?(0,r.css)(["flex-wrap:wrap;background-color:",";",""],e.blue?e.theme.palette.darkerBlue:e.theme.palette.lightestGray,e.backgroundImage&&(0,s.backgroundGradient)(e.backgroundImage,e.gradientFromColor,e.gradientToColor,e.overlayGradient)):(0,r.css)(["background-color:",";"],e.theme.palette[e.backgroundColor]||e.backgroundColor)}));t.StyledSubNav=u,u.defaultProps={theme:i.CalciteTheme};var l=r.default.div.withConfig({displayName:"StyledSubNavContent",componentId:"rv6lg3-1"})(["display:flex;justify-content:space-between;",""],(function(e){return e.legacy?(0,r.css)(["flex-direction:column;flex:1 0 200px;"]):(0,r.css)(["width:",";max-width:",";height:56px;margin:0 auto;padding:0 1rem;"],e.contentWidth||e.theme.contentWidth,e.contentMaxWidth||e.theme.contentMaxWidth)}));t.StyledSubNavContent=l,l.defaultProps={theme:i.CalciteTheme};var h=(0,r.default)(o.CalciteA).withConfig({displayName:"StyledSubNavLink",componentId:"rv6lg3-2"})(["font-family:",";transition:background-color ",",color ",";box-sizing:border-box;display:inline-block;",";"," ",""],(function(e){return e.theme.avenirFamily}),(0,s.transition)(),(0,s.transition)("150ms"),(0,s.fontSize)(-1),(function(e){return e.disabled&&(0,r.css)(["opacity:0.5;pointer-events:none;"])}),(function(e){return e.legacy?(0,r.css)(["padding:0.25em 0.75em;margin:0 0 0 0.25em;color:",";background-color:",";border-radius:"," "," 0 0;html[dir='rtl'] &{margin:0 0.25em 0 0;}&:hover,&:focus{background-color:",";color:",";text-decoration:none;",";}"," .active > &,.active > &:hover,.active > &:focus{background-color:",";color:",";}"],e.theme.palette.offWhite,e.theme.palette.transparentOffBlack,e.theme.borderRadius,e.theme.borderRadius,e.theme.palette.transparentDarkerGray,e.theme.palette.white,(0,s.subNavUnderline)(e),e.active&&(0,r.css)(["&,&:hover,&:focus{background-color:",";color:",";}"],e.theme.palette.white,e.theme.palette.offBlack),e.theme.palette.white,e.theme.palette.offBlack):(0,r.css)(["display:flex;align-items:center;box-sizing:border-box;color:",";border-bottom:4px solid transparent;padding-right:",";padding-left:",";"," &:hover,&:focus,.active > &,.active > &:hover,.active > &:focus{","}"],e.theme.palette.white,e.theme.baseline,e.theme.baseline,e.active&&(0,r.css)(["&,&:hover,&:focus{","}"],(0,s.subNavLinkActive)(e)),(0,s.subNavLinkActive)(e))}));t.StyledSubNavLink=h,h.defaultProps={theme:i.CalciteTheme};var f=r.default.nav.withConfig({displayName:"StyledSubNavList",componentId:"rv6lg3-3"})(["display:flex;margin-top:0em;box-sizing:border-box;padding-left:0.25em;html[dir='rtl'] &{padding-left:0;padding-right:0.25em;}",""],(function(e){return!e.legacy&&(0,r.css)(["margin-left:auto;html[dir='rtl'] &{margin-left:0;margin-right:auto;}"])}));t.StyledSubNavList=f,f.defaultProps={theme:i.CalciteTheme};var d=(0,r.default)(o.CalciteH1).withConfig({displayName:"StyledSubNavTitle",componentId:"rv6lg3-4"})(["box-sizing:border-box;",""],(function(e){return e.legacy?(0,r.css)(["",";line-height:1.25;padding-left:0.25em;margin-top:",";margin-bottom:",";",";html[dir='rtl'] &{padding-left:0;padding-right:0.25em;}"],(0,s.fontSize)(4),(0,s.unitCalc)(e.theme.baseline,2,"/"),(0,s.unitCalc)(e.theme.baseline,2,"/"),e.blue&&(0,r.css)(["color:",";"],e.theme.palette.white)):(0,r.css)(["",";display:flex;align-items:center;color:",";margin-bottom:0;",",","{color:",";",";&::before{color:",";}}","{",";}html[dir='rtl'] &{padding-left:0;padding-right:",";}"],(0,s.fontSize)(2),e.theme.palette.white,a.StyledSpanCrumb,a.StyledCrumb,e.theme.palette.white,(0,c.linkColor)(e.theme.palette.white,e.theme.palette.lightestGray),e.theme.palette.white,a.StyledBreadcrumbs,(0,s.fontSize)(1),(0,s.unitCalc)(e.theme.baseline,3,"/"))}));t.StyledSubNavTitle=d,d.defaultProps={theme:i.CalciteTheme};var p=r.default.nav.withConfig({displayName:"StyledSubNavActions",componentId:"rv6lg3-5"})(["margin:0.5em;display:flex;justify-content:flex-end;align-items:center;"]);t.StyledSubNavActions=p,p.defaultProps={theme:i.CalciteTheme};var b=r.default.div.withConfig({displayName:"StyledMultiRowActions",componentId:"rv6lg3-6"})(["display:flex;flex-direction:column;"]);t.StyledMultiRowActions=b,b.defaultProps={theme:i.CalciteTheme}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSignOutButton=t.StyledSwitchAccountButton=t.StyledArcgisAccountMenuItem=t.StyledArcgisAccountSignInMenu=t.StyledArcgisAccountContentMenu=t.StyledArcgisAccountContentGroup=t.StyledArcgisAccountContentId=t.StyledArcgisAccountContentName=t.StyledArcgisAccountContentInfo=t.StyledArcgisAccountContent=t.StyledArcgisAccountMenu=t.StyledArcgisAccountControlUsername=t.StyledArcgisAccountControlFriendlyName=t.StyledArcgisAccountControlNames=t.StyledArcgisAccountControlAvatar=t.StyledArcgisAccountControl=void 0;var r,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(203)),a=n(193),o=n(176),s=(r=n(322))&&r.__esModule?r:{default:r};var c=i.default.div.withConfig({displayName:"StyledArcgisAccountControl",componentId:"sc-1olvy1r-0"})(["display:flex;align-items:center;color:",";cursor:pointer;height:62px;max-width:260px;padding:"," "," "," ",";box-sizing:border-box;border-left:1px solid ",";transition:all 225ms cubic-bezier(0.4,0,0.2,1);html[dir='rtl'] &{padding:"," "," "," ",";border-left:initial;border-right:1px solid ",";}&:hover{color:",";box-shadow:inset 0 -3px 0 0 ",";}&:active{color:",";box-shadow:inset 0 -3px 0 0 ",";}",";"],(function(e){return e.theme.palette.darkestGray}),(function(e){return(0,a.unitCalc)(e.theme.baseline,2,"/")}),(function(e){return e.theme.baseline}),(function(e){return(0,a.unitCalc)(e.theme.baseline,2,"/")}),(function(e){return(0,a.unitCalc)(e.theme.baseline,1.5,"/")}),(function(e){return e.theme.palette.lighterGray}),(function(e){return(0,a.unitCalc)(e.theme.baseline,2,"/")}),(function(e){return(0,a.unitCalc)(e.theme.baseline,1.5,"/")}),(function(e){return(0,a.unitCalc)(e.theme.baseline,2,"/")}),(function(e){return e.theme.baseline}),(function(e){return e.theme.palette.lighterGray}),(function(e){return e.theme.palette.black}),(function(e){return e.theme.palette.lighterBlue}),(function(e){return e.theme.palette.black}),(function(e){return e.theme.palette.blue}),(function(e){return e.open&&(0,i.css)(["&,&:hover{color:",";box-shadow:inset 0 -3px 0 0 ",";}"],(function(e){return e.theme.palette.black}),(function(e){return e.theme.palette.blue}))}));t.StyledArcgisAccountControl=c,c.defaultProps={theme:o.CalciteTheme};var u=i.default.div.withConfig({displayName:"StyledArcgisAccountControlAvatar",componentId:"sc-1olvy1r-1"})(["margin-right:",";html[dir='rtl'] &{margin-right:initial;margin-left:",";}"],(function(e){return(0,a.unitCalc)(e.theme.baseline,2,"/")}),(function(e){return(0,a.unitCalc)(e.theme.baseline,2,"/")}));t.StyledArcgisAccountControlAvatar=u,u.defaultProps={theme:o.CalciteTheme};var l=i.default.div.withConfig({displayName:"StyledArcgisAccountControlNames",componentId:"sc-1olvy1r-2"})(["flex:1 0 50px;display:flex;flex-direction:column;"]);t.StyledArcgisAccountControlNames=l,l.defaultProps={theme:o.CalciteTheme};var h=i.default.span.withConfig({displayName:"StyledArcgisAccountControlFriendlyName",componentId:"sc-1olvy1r-3"})(["font-weight:600;",";line-height:20px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;max-width:170px;"],(0,a.fontSize)(-1));t.StyledArcgisAccountControlFriendlyName=h,h.defaultProps={theme:o.CalciteTheme};var f=i.default.span.withConfig({displayName:"StyledArcgisAccountControlUsername",componentId:"sc-1olvy1r-4"})(["font-weight:300;",";line-height:16px;"],(0,a.fontSize)(-2));t.StyledArcgisAccountControlUsername=f,f.defaultProps={theme:o.CalciteTheme};var d=i.default.div.withConfig({displayName:"StyledArcgisAccountMenu",componentId:"sc-1olvy1r-5"})(["background:",";box-shadow:",";border-radius:",";"],(function(e){return e.theme.palette.white}),(function(e){return e.theme.boxShadow}),(function(e){return e.theme.borderRadius}));t.StyledArcgisAccountMenu=d,d.defaultProps={theme:o.CalciteTheme};var p=i.default.div.withConfig({displayName:"StyledArcgisAccountContent",componentId:"sc-1olvy1r-6"})(["display:flex;min-height:210px;padding-top:",";"],(function(e){return(0,a.unitCalc)(e.theme.baseline,2,"*")}));t.StyledArcgisAccountContent=p,p.defaultProps={theme:o.CalciteTheme};var b=i.default.div.withConfig({displayName:"StyledArcgisAccountContentInfo",componentId:"sc-1olvy1r-7"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1 0 50px;"]);t.StyledArcgisAccountContentInfo=b,b.defaultProps={theme:o.CalciteTheme};var v=i.default.span.withConfig({displayName:"StyledArcgisAccountContentName",componentId:"sc-1olvy1r-8"})(["",";font-weight:600;word-break:break-word;text-align:center;display:inline-block;margin-bottom:",";"],(0,a.fontSize)(1),(function(e){return(0,a.unitCalc)(e.theme.baseline,2,"/")}));t.StyledArcgisAccountContentName=v,v.defaultProps={theme:o.CalciteTheme};var y=i.default.span.withConfig({displayName:"StyledArcgisAccountContentId",componentId:"sc-1olvy1r-9"})(["",";font-weight:300;line-height:20px;"],(0,a.fontSize)(-2));t.StyledArcgisAccountContentId=y,y.defaultProps={theme:o.CalciteTheme};var m=i.default.span.withConfig({displayName:"StyledArcgisAccountContentGroup",componentId:"sc-1olvy1r-10"})(["",";font-weight:300;line-height:20px;margin-bottom:",";text-align:center;padding:0 ",";"],(0,a.fontSize)(-2),(function(e){return(0,a.unitCalc)(e.theme.baseline,1.5,"*")}),(function(e){return(0,a.unitCalc)(e.theme.baseline,4,"/")}));t.StyledArcgisAccountContentGroup=m,m.defaultProps={theme:o.CalciteTheme};var g=i.default.div.withConfig({displayName:"StyledArcgisAccountContentMenu",componentId:"sc-1olvy1r-11"})(["flex:1 0 30px;padding-left:",";padding-right:",";display:flex;flex-direction:column;align-items:flex-start;html[dir='rtl'] &{padding-left:",";padding-right:",";}"],(function(e){return(0,a.unitCalc)(e.theme.baseline,2,"/")}),(function(e){return e.theme.baseline}),(function(e){return e.theme.baseline}),(function(e){return(0,a.unitCalc)(e.theme.baseline,2,"/")}));t.StyledArcgisAccountContentMenu=g,g.defaultProps={theme:o.CalciteTheme};var O=i.default.div.withConfig({displayName:"StyledArcgisAccountSignInMenu",componentId:"sc-1olvy1r-12"})(["display:flex;"]);t.StyledArcgisAccountSignInMenu=O,O.defaultProps={theme:o.CalciteTheme};var j=i.default.a.withConfig({displayName:"StyledArcgisAccountMenuItem",componentId:"sc-1olvy1r-13"})(["cursor:pointer;text-decoration:none;color:",";display:block;",";line-height:20px;font-weight:300;padding:5px 0;position:relative;&::after{right:-8px;opacity:0;position:absolute;width:12px;height:12px;transition:opacity 0.25s,transform 0.25s;background-color:",";",";top:calc(50% - 20px / 2);}&:hover{color:",";&::after{opacity:1;transform:translateX(10px);html[dir='rtl'] &{transform:translateX(-10px);}}}"],(function(e){return e.theme.palette.blue}),(0,a.fontSize)(0),(function(e){return e.theme.palette.white}),(function(e){return e&&(0,i.css)(["content:",";html[dir='rtl'] &{right:auto;left:-8px;content:",";}"],"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpolygon points='8 13.3 13.3 8 0 8 0 7 13.3 7 8 1.7 8 0.3 15.2 7.5 8 14.7' fill='".concat(e.theme.palette.darkBlue.replace("#","%23"),"' %3E%3C/polygon%3E%3C/svg%3E\")"),"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpolygon points='8 13.3 8 14.7 0.8 7.5 8 0.3 8 1.7 2.7 7 16 7 16 8 2.7 8' fill='".concat(e.theme.palette.darkBlue.replace("#","%23"),"' %3E%3C/polygon%3E%3C/svg%3E\")"))}),(function(e){return e.theme.palette.darkBlue}));t.StyledArcgisAccountMenuItem=j,j.defaultProps={theme:o.CalciteTheme};var w=(0,i.default)(s.default).withConfig({displayName:"StyledSwitchAccountButton",componentId:"sc-1olvy1r-14"})(["flex:1 0 50px;white-space:normal;border-radius:0 0 0 ",";"],(function(e){return e.theme.borderRadius}));t.StyledSwitchAccountButton=w,w.defaultProps={theme:o.CalciteTheme};var _=(0,i.default)(s.default).withConfig({displayName:"StyledSignOutButton",componentId:"sc-1olvy1r-15"})(["flex:1 0 50px;white-space:normal;margin-left:0;border-radius:0 0 "," 0;"],(function(e){return e.theme.borderRadius}));t.StyledSignOutButton=_,_.defaultProps={theme:o.CalciteTheme}},function(e,t,n){"use strict";var r=n(634),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),a=Object.prototype.toString,o=Array.prototype.concat,s=Object.defineProperty,c=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),u=function(e,t,n,r){var i;(!(t in e)||"function"===typeof(i=r)&&"[object Function]"===a.call(i)&&r())&&(c?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},l=function(e,t){var n=arguments.length>2?arguments[2]:{},a=r(t);i&&(a=o.call(a,Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;s+=1)u(e,a[s],t[a[s]],n[a[s]])};l.supportsDescriptors=!!c,e.exports=l},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18)),l=n(1),h=n(8),f=(n(12),n(21),n(22),n(27)),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).level=0,r.levelValue=null,r.resolution=0,r.scale=0,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}}]),n}(f.a);Object(c.a)([Object(l.b)({type:u.a,json:{write:!0}})],d.prototype,"level",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],d.prototype,"levelValue",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],d.prototype,"resolution",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],d.prototype,"scale",void 0);var p=d=r=Object(c.a)([Object(h.a)("esri.layers.support.LOD")],d);t.a=p},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(8),f=(n(12),n(21),n(22),n(159)),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).creator=null,r.destroyer=null,r.outFields=null,r.type="custom",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?Object(u.a)(this.outFields):null})}}]),n}(f.a);Object(c.a)([Object(l.b)()],d.prototype,"creator",void 0),Object(c.a)([Object(l.b)()],d.prototype,"destroyer",void 0),Object(c.a)([Object(l.b)()],d.prototype,"outFields",void 0),Object(c.a)([Object(l.b)({type:["custom"],readOnly:!0})],d.prototype,"type",void 0);var p=d=r=Object(c.a)([Object(h.a)("esri.popup.content.CustomContent")],d);t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(8),l=(n(12),n(21),n(22),function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).selfEnabled=!1,e.selfEnabledToggled=!1,e}return Object(i.a)(n,[{key:"effectiveSelfEnabled",get:function(){return this.selfEnabledToggled?!this.selfEnabled:this.selfEnabled}}]),n}(n(37).a));Object(s.a)([Object(c.b)()],l.prototype,"selfEnabled",void 0),Object(s.a)([Object(c.b)()],l.prototype,"selfEnabledToggled",void 0),Object(s.a)([Object(c.b)({readOnly:!0})],l.prototype,"effectiveSelfEnabled",null),l=Object(s.a)([Object(u.a)("esri.views.interactive.snapping.SnappingOptions")],l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var r=n(13),i=(n(15),n(111)),a=(n(23),n(4)),o=n(97),s=(n(80),n(195));function c(e){return"declaredClass"in e}function u(e){return"declaredClass"in e}function l(e){return Object(a.g)(e)?null:c(e)?e:Object(o.a)(function(e){var t=e.spatialReference.toJSON();switch(e.type){case"point":return{x:e.x,y:e.y,z:e.z,m:e.m,spatialReference:t};case"polygon":var n=e.rings,r=e.hasZ,i=e.hasM;return{rings:h(n),hasZ:r,hasM:i,spatialReference:t};case"polyline":var a=e.paths,o=e.hasZ,s=e.hasM;return{paths:h(a),hasZ:o,hasM:s,spatialReference:t};case"extent":return{xmin:e.xmin,xmax:e.xmax,ymin:e.ymin,ymax:e.ymax,zmin:e.zmin,zmax:e.zmax,mmin:e.mmin,mmax:e.mmax,hasZ:e.hasZ,hasM:e.hasM,spatialReference:t};case"multipoint":var c=e.points,u=e.hasZ,l=e.hasM;return{points:d(c)?f(c):c,hasZ:u,hasM:l,spatialReference:t};default:return}}(e))}function h(e){return function(e){var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(0!==i.length)return d(i)}}catch(a){n.e(a)}finally{n.f()}return!1}(e)?e.map((function(e){return f(e)})):e}function f(e){return e.map((function(e){return Object(i.n)(e)}))}function d(e){return e.length&&(Object(i.d)(e[0])||Object(i.e)(e[0]))}function p(e,t){if(!e)return null;var n;if(u(e)){if(null==t)return e.clone();if(u(t))return t.copy(e)}return null!=t?((n=t).x=e.x,n.y=e.y,n.spatialReference=e.spatialReference,e.hasZ?(n.z=e.z,n.hasZ=e.hasZ):(n.z=null,n.hasZ=!1),e.hasM?(n.m=e.m,n.hasM=!0):(n.m=null,n.hasM=!1)):(n=Object(s.d)(e.x,e.y,e.z,e.spatialReference),e.hasM&&(n.m=e.m,n.hasM=!0)),n}},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(8),l=(n(12),n(21),n(22),n(130)),h=n(134),f=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).outline=null,i.type=null,i}return Object(i.a)(n,[{key:"hash",value:function(){return"".concat(this.type,".").concat(this.outline&&this.outline.hash())}}]),n}(l.a);Object(s.a)([Object(c.b)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":h.default}},json:{default:null,write:!0}})],f.prototype,"outline",void 0),Object(s.a)([Object(c.b)({type:["simple-fill","picture-fill"],readOnly:!0})],f.prototype,"type",void 0);var d=f=Object(s.a)([Object(u.a)("esri.symbols.FillSymbol")],f);t.a=d},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(8),l=(n(12),n(21),n(22),n(130)),h=n(36),f=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).angle=0,i.type=null,i.xoffset=0,i.yoffset=0,i.size=9,i}return Object(i.a)(n,[{key:"hash",value:function(){return"".concat(this.type,".").concat(this.angle,".").concat(this.size,".").concat(this.xoffset,".").concat(this.yoffset)}}]),n}(l.a);Object(s.a)([Object(c.b)({type:Number,json:{read:function(e){return e&&-1*e},write:function(e,t){return t.angle=e&&-1*e}}})],f.prototype,"angle",void 0),Object(s.a)([Object(c.b)({type:["simple-marker","picture-marker"],readOnly:!0})],f.prototype,"type",void 0),Object(s.a)([Object(c.b)({type:Number,cast:h.j,json:{write:!0}})],f.prototype,"xoffset",void 0),Object(s.a)([Object(c.b)({type:Number,cast:h.j,json:{write:!0}})],f.prototype,"yoffset",void 0),Object(s.a)([Object(c.b)({type:Number,cast:function(e){return"auto"===e?e:Object(h.j)(e)},json:{write:!0}})],f.prototype,"size",void 0);var d=f=Object(s.a)([Object(u.a)("esri.symbols.MarkerSymbol")],f);t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=0;function i(){return r++}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return b}));var r=n(32);n(97);var i=function(e,t,n){return[t,n]},a=function(e,t,n){return[t,n,e[2]]},o=function(e,t,n){return[t,n,e[2],e[3]]};function s(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:[e.tolerance,e.tolerance],translate:[e.extent.xmin,e.extent.ymax]}:null}function c(e,t){var n=e.scale,r=e.translate;return t*n[0]+r[0]}function u(e,t){var n=e.scale;return e.translate[1]-t*n[1]}function l(e,t,n){var i=new Array(n.length);if(!n.length)return i;var a=Object(r.a)(e.scale,2),o=a[0],s=a[1],l=c(e,n[0][0]),h=u(e,n[0][1]);i[0]=t(n[0],l,h);for(var f=1;f<n.length;f++){var d=n[f];l+=d[0]*o,h-=d[1]*s,i[f]=t(d,l,h)}return i}function h(e,t,n){for(var r=new Array(n.length),i=0;i<n.length;i++)r[i]=l(e,t,n[i]);return r}function f(e,t,n,r,s){return t.points=function(e,t,n,r){return l(e,n?r?o:a:r?a:i,t)}(e,n.points,r,s),t}function d(e,t,n,r,i){return t.x=c(e,n.x),t.y=u(e,n.y),t!==n&&(r&&(t.z=n.z),i&&(t.m=n.m)),t}function p(e,t,n,r,s){return t.rings=function(e,t,n,r){return h(e,n?r?o:a:r?a:i,t)}(e,n.rings,r,s),t}function b(e,t,n,r,s){return t.paths=function(e,t,n,r){return h(e,n?r?o:a:r?a:i,t)}(e,n.paths,r,s),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,i,a,o,s,c,u,l,h=n(30),f=n(31),d=n(297);function p(e,t){var n=e;n.include(d.a),n.attributes.add("position","vec3"),n.attributes.add("normal","vec3"),n.attributes.add("auxpos1","vec4"),n.vertex.uniforms.add("proj","mat4"),n.vertex.uniforms.add("view","mat4"),n.vertex.uniforms.add("viewNormal","mat4"),n.vertex.uniforms.add("viewport","vec4"),n.vertex.uniforms.add("camPos","vec3"),n.vertex.uniforms.add("polygonOffset","float"),n.vertex.uniforms.add("cameraGroundRelative","float"),n.vertex.uniforms.add("pixelRatio","float"),n.vertex.uniforms.add("perDistancePixelRatio","float"),n.vertex.uniforms.add("uRenderTransparentlyOccludedHUD","float"),t.verticalOffsetEnabled&&n.vertex.uniforms.add("verticalOffset","vec4"),t.screenSizePerspectiveEnabled&&n.vertex.uniforms.add("screenSizePerspectiveAlignment","vec4"),n.vertex.uniforms.add("hudVisibilityTexture","sampler2D"),n.vertex.defines.addFloat("SMALL_OFFSET_ANGLE",.984807753012208),n.vertex.code.add(Object(f.a)(r||(r=Object(h.a)(["\n    struct ProjectHUDAux {\n      vec3 posModel;\n      vec3 posView;\n      vec3 vnormal;\n\n      float distanceToCamera;\n      float absCosAngle;\n    };\n  "])))),n.vertex.code.add(Object(f.a)(i||(i=Object(h.a)(["\n    float applyHUDViewDependentPolygonOffset(float pointGroundDistance, float absCosAngle, inout vec3 posView) {\n      float pointGroundSign = sign(pointGroundDistance);\n\n      if (pointGroundSign == 0.0) {\n        pointGroundSign = cameraGroundRelative;\n      }\n\n      // cameraGroundRelative is -1 if camera is below ground, 1 if above ground\n      // groundRelative is 1 if both camera and symbol are on the same side of the ground, -1 otherwise\n      float groundRelative = cameraGroundRelative * pointGroundSign;\n\n      // view angle dependent part of polygon offset emulation\n      // we take the absolute value because the sign that is dropped is\n      // instead introduced using the ground-relative position of the symbol and the camera\n      if (polygonOffset > .0) {\n        float cosAlpha = clamp(absCosAngle, 0.01, 1.0);\n\n        float tanAlpha = sqrt(1.0 - cosAlpha * cosAlpha) / cosAlpha;\n        float factor = (1.0 - tanAlpha / viewport[2]);\n\n        // same side of the terrain\n        if (groundRelative > 0.0) {\n          posView *= factor;\n        }\n        // opposite sides of the terrain\n        else {\n          posView /= factor;\n        }\n      }\n\n      return groundRelative;\n    }\n  "])))),t.isDraped||n.vertex.code.add(Object(f.a)(a||(a=Object(h.a)(["\n    void applyHUDVerticalGroundOffset(vec3 normalModel, inout vec3 posModel, inout vec3 posView) {\n      float distanceToCamera = length(posView);\n\n      // Compute offset in world units for a half pixel shift\n      float pixelOffset = distanceToCamera * perDistancePixelRatio * 0.5;\n\n      // Apply offset along normal in the direction away from the ground surface\n      vec3 modelOffset = normalModel * cameraGroundRelative * pixelOffset;\n\n      // Apply the same offset also on the view space position\n      vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\n\n      posModel += modelOffset;\n      posView += viewOffset;\n    }\n  "])))),n.vertex.code.add(Object(f.a)(o||(o=Object(h.a)(["\n    vec4 projectPositionHUD(out ProjectHUDAux aux) {\n      // centerOffset is in view space and is used to implement world size offsetting\n      // of labels with respect to objects. It also pulls the label towards the viewer\n      // so that the label is visible in front of the object.\n      vec3 centerOffset = auxpos1.xyz;\n\n      // The pointGroundDistance is the distance of the geometry to the ground and is\n      // negative if the point is below the ground, or positive if the point is above\n      // ground.\n      float pointGroundDistance = auxpos1.w;\n\n      aux.posModel = position;\n      aux.posView = (view * vec4(aux.posModel, 1.0)).xyz;\n      aux.vnormal = normal;\n      ","\n\n      // Screen sized offset in world space, used for example for line callouts\n      // Note: keep this implementation in sync with the CPU implementation, see\n      //   - MaterialUtil.verticalOffsetAtDistance\n      //   - HUDMaterial.applyVerticalOffsetTransformation\n\n      aux.distanceToCamera = length(aux.posView);\n\n      vec3 viewDirObjSpace = normalize(camPos - aux.posModel);\n      float cosAngle = dot(aux.vnormal, viewDirObjSpace);\n\n      aux.absCosAngle = abs(cosAngle);\n\n      ","\n\n      ","\n\n      ","\n\n      float groundRelative = applyHUDViewDependentPolygonOffset(pointGroundDistance, aux.absCosAngle, aux.posView);\n\n      ","\n\n      vec4 posProj = proj * vec4(aux.posView, 1.0);\n\n      ","\n\n      ","\n\n      // constant part of polygon offset emulation\n      posProj.z -= groundRelative * polygonOffset * posProj.w;\n      return posProj;\n    }\n  "])),t.isDraped?"":"applyHUDVerticalGroundOffset(aux.vnormal, aux.posModel, aux.posView);",t.screenSizePerspectiveEnabled&&(t.verticalOffsetEnabled||1===t.screenCenterOffsetUnitsEnabled)?"vec4 perspectiveFactor = screenSizePerspectiveScaleFactor(aux.absCosAngle, aux.distanceToCamera, screenSizePerspectiveAlignment);":"",t.verticalOffsetEnabled?t.screenSizePerspectiveEnabled?"float verticalOffsetScreenHeight = applyScreenSizePerspectiveScaleFactorFloat(verticalOffset.x, perspectiveFactor);":"float verticalOffsetScreenHeight = verticalOffset.x;":"",t.verticalOffsetEnabled?Object(f.a)(s||(s=Object(h.a)(["\n            float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * aux.distanceToCamera, verticalOffset.z, verticalOffset.w);\n            vec3 modelOffset = aux.vnormal * worldOffset;\n            aux.posModel += modelOffset;\n            vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\n            aux.posView += viewOffset;\n            // Since we elevate the object, we need to take that into account\n            // in the distance to ground\n            pointGroundDistance += worldOffset;"]))):"",1!==t.screenCenterOffsetUnitsEnabled?Object(f.a)(c||(c=Object(h.a)(["\n            // Apply x/y in view space, but z in screen space (i.e. along posView direction)\n            aux.posView += vec3(centerOffset.x, centerOffset.y, 0.0);\n\n            // Same material all have same z != 0.0 condition so should not lead to\n            // branch fragmentation and will save a normalization if it's not needed\n            if (centerOffset.z != 0.0) {\n              aux.posView -= normalize(aux.posView) * centerOffset.z;\n            }\n          "]))):"",1===t.screenCenterOffsetUnitsEnabled?t.screenSizePerspectiveEnabled?"float centerOffsetY = applyScreenSizePerspectiveScaleFactorFloat(centerOffset.y, perspectiveFactor);":"float centerOffsetY = centerOffset.y;":"",1===t.screenCenterOffsetUnitsEnabled?"posProj.xy += vec2(centerOffset.x, centerOffsetY) * pixelRatio * 2.0 / viewport.zw * posProj.w;":"")),n.vertex.code.add(Object(f.a)(u||(u=Object(h.a)(["\n    bool testVisibilityHUD(vec4 posProj) {\n      // For occlusion testing, use the nearest pixel center to avoid\n      // subpixel filtering messing up the color we use to test for\n      vec4 posProjCenter = alignToPixelCenter(posProj, viewport.zw);\n\n      vec4 occlusionPixel = texture2D(hudVisibilityTexture, .5 + .5 * posProjCenter.xy / posProjCenter.w);\n\n      // the red pixel here indicates that the occlusion pixel passed the depth test against solid geometry and was written\n      // the green pixel stores transparency of transparent geometry (1.0 -> fully transparent)\n      // note that we also check against green == 0.0, i.e. transparent geometry that has opaque parts\n\n      // thus we render visible pixels that are occluded by semi-transparent (but not fully transparent!) geometry here\n      if (uRenderTransparentlyOccludedHUD > 0.5) {\n        // multiplying by uRenderTransparentlyOccludedHUD allows us to ignore the second condition if\n        // uRenderTransparentlyOccludedHUD = 0.75\n        return occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g * uRenderTransparentlyOccludedHUD < 1.0;\n      }\n\n      // and visible pixels that are not occluded by semi-transparent geometry here\n      return occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g == 1.0;\n    }\n  "]))))}(l=p||(p={})).bindUniforms=function(e,t){e.setUniform1f("uRenderTransparentlyOccludedHUD",0===t.renderTransparentlyOccludedHUD?1:1===t.renderTransparentlyOccludedHUD?0:.75)},l.bindVisibilityTexture=function(e,t,n){t.setUniform1i("hudVisibilityTexture",4),e.bindTexture(n.hudVisibilityTexture,4),e.setActiveTexture(0)}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(27)),f=n(66),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).description=null,r.label=null,r.minValue=null,r.maxValue=0,r.symbol=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}},{key:"getMeshHash",value:function(){var e=JSON.stringify(this.symbol);return"".concat(this.minValue,".").concat(this.maxValue,".").concat(e)}}]),n}(h.a);Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],d.prototype,"description",void 0),Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],d.prototype,"label",void 0),Object(c.a)([Object(u.b)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],d.prototype,"minValue",void 0),Object(c.a)([Object(u.b)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],d.prototype,"maxValue",void 0),Object(c.a)([Object(u.b)({types:f.a,json:{origins:{"web-scene":{types:f.b,write:f.k}},write:f.k}})],d.prototype,"symbol",void 0);var p=d=r=Object(c.a)([Object(l.a)("esri.renderers.support.ClassBreakInfo")],d);t.a=p},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(359)),f=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="selection",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r}}]),n}(h.a);Object(c.a)([Object(u.b)({type:["selection"]})],f.prototype,"type",void 0);var d=f=r=Object(c.a)([Object(l.a)("esri.layers.support.FeatureReductionSelection")],f);t.a=d},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(23)),u=(n(14),n(18),n(1)),l=n(34),h=n(8),f=n(35),d=(n(12),n(21),n(22),n(27)),p=n(269),b=n(323),v=n(266),y=(n(146),n(420)),m=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).id=null,i.name=null,i.domains=null,i.templates=null,i}return Object(i.a)(n,[{key:"readDomains",value:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];switch(r.type){case"range":t[n]=v.a.fromJSON(r);break;case"codedValue":t[n]=p.a.fromJSON(r);break;case"inherited":t[n]=b.a.fromJSON(r)}}return t}},{key:"writeDomains",value:function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]&&e[r].toJSON());Object(c.c)(n),t.domains=n}},{key:"readTemplates",value:function(e){return e&&e.map((function(e){return new y.a(e)}))}},{key:"writeTemplates",value:function(e,t){t.templates=e&&e.map((function(e){return e.toJSON()}))}}]),n}(d.a);Object(s.a)([Object(u.b)({json:{write:!0}})],m.prototype,"id",void 0),Object(s.a)([Object(u.b)({json:{write:!0}})],m.prototype,"name",void 0),Object(s.a)([Object(u.b)({json:{write:!0}})],m.prototype,"domains",void 0),Object(s.a)([Object(l.a)("domains")],m.prototype,"readDomains",null),Object(s.a)([Object(f.a)("domains")],m.prototype,"writeDomains",null),Object(s.a)([Object(u.b)({json:{write:!0}})],m.prototype,"templates",void 0),Object(s.a)([Object(l.a)("templates")],m.prototype,"readTemplates",null),Object(s.a)([Object(f.a)("templates")],m.prototype,"writeTemplates",null);var g=m=Object(s.a)([Object(h.a)("esri.layers.support.FeatureType")],m);t.a=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(100))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(19)),o=n(439),s=n(390);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=function(e){var t=e.children,n=u(e,["children"]),r=(0,a.useContext)(o.SubNavContext).legacy;return a.default.createElement(s.StyledSubNavList,c({},n,{legacy:r}),t)};l.propTypes={children:i.default.node},l.defaultProps={},l.displayName="SubNavList";var h=l;t.default=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(46),i=n(63);function a(e){var t=Object(r.a)(e)+"/community/groups/"+e.id+"/updateUsers",n={authentication:e.authentication,params:{}};return"admin"===e.newMemberType?n.params.admins=e.users:n.params.users=e.users,Object(i.d)(t,n)}},function(e,t,n){"use strict";function r(){var e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}n.d(t,"a",(function(){return r}));Object.freeze({__proto__:null,create:r,clone:function(e){var t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},fromValues:function(e,t,n,r,i,a,o,s,c){var u=new Float32Array(9);return u[0]=e,u[1]=t,u[2]=n,u[3]=r,u[4]=i,u[5]=a,u[6]=o,u[7]=s,u[8]=c,u},createView:function(e,t){return new Float32Array(e,t,9)}})},function(e,t,n){"use strict";n.r(t),n.d(t,"fetchStyle",(function(){return g})),n.d(t,"fetchSymbolFromStyle",(function(){return j})),n.d(t,"resolveWebStyleSymbol",(function(){return O})),n.d(t,"styleNameFromItem",(function(){return _}));var r=n(10),i=n(13),a=n(20),o=n(12),s=n(126),c=n(17),u=n(65),l=n(216),h=n(121),f=n(332),d=n(328),p=n(66),b=n(501),v=n(15);function y(e){return!!Object(v.a)("enable-feature:".concat(e))}var m={};function g(e,t,n){return e.styleUrl?function(e,t){return x(e,t).then((function(t){return{data:t.data,baseUrl:Object(o.E)(e),styleUrl:e}}))}(e.styleUrl,n):e.styleName?function(e,t,n){var r,o=t.portal||h.a.getDefault(),s="".concat(o.url," - ").concat(o.user&&o.user.username," - ").concat(e);return m[s]||(m[s]=function(e,t,n){return t.load(n).then((function(){var r=new l.a({disableExtraQuery:!0,query:"owner:".concat(k," AND type:").concat(S,' AND typekeywords:"').concat(e,'"')});return t.queryItems(r,n)})).then((function(t){var r=t.results,o=null,s=e.toLowerCase();if(r&&Array.isArray(r)){var c,u=Object(i.a)(r);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(l.typeKeywords.some((function(e){return e.toLowerCase()===s}))&&l.type===S&&l.owner===k){o=l;break}}}catch(h){u.e(h)}finally{u.f()}}if(!o)throw new a.a("symbolstyleutils:style-not-found","The style '".concat(e,"' could not be found"),{styleName:e});return o.load(n)}))}(e,o,n).then((function(e){return r=e,e.fetchData()})).then((function(t){return{data:t,baseUrl:r.itemUrl,styleName:e}}))),m[s]}(e.styleName,t,n):Object(c.r)(new a.a("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function O(e,t,n,r){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,n){var r=E.replace(/\{SymbolName\}/gi,e.name);return x(r,n).then((function(e){var n=w(e.data);return Object(p.f)(n,{portal:t.portal,url:Object(o.I)(Object(o.E)(r)),origin:"portal-item"})}))}(e,t,r):g(e,t,r).then((function(i){return j(i,e.name,t,n,r)})):Object(c.r)(new a.a("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function j(e,t,n,r,u){var l=e.data,h={portal:n.portal,url:Object(o.I)(e.baseUrl),origin:"portal-item"},v=l.items.find((function(e){return e.name===t}));if(!v)return Object(c.r)(new a.a("symbolstyleutils:symbol-name-not-found","The symbol name '".concat(t,"' could not be found"),{symbolName:t}));var m=Object(s.a)(function(e,t){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!y("force-wosr")){var n,r=Object(i.a)(e.formatInfos);try{for(r.s();!(n=r.n()).done;){var a=n.value;if("gltf"===a.type)return a.href}}catch(o){r.e(o)}finally{r.f()}}return e.webRef}(v,r),h),g=v.thumbnail&&v.thumbnail.href,O=v.thumbnail&&v.thumbnail.imageData;Object(b.b)()&&(m=Object(b.a)(m),g=Object(b.a)(g));var j={portal:n.portal,url:Object(o.I)(Object(o.E)(m)),origin:"portal-item"};return x(m,u).then((function(i){var a="cimRef"===r?w(i.data):i.data,o=Object(p.f)(a,j);if(o&&Object(p.h)(o)){if(g){var c=Object(s.a)(g,h);o.thumbnail=new d.a({url:c})}else O&&(o.thumbnail=new d.a({url:"data:image/png;base64,".concat(O)}));e.styleUrl?o.styleOrigin=new f.a({portal:n.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(o.styleOrigin=new f.a({portal:n.portal,styleName:e.styleName,name:t}))}return o}))}function w(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function _(e){var t,n=Object(i.a)(e.typeKeywords);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(/^Esri.*Style$/.test(r)&&"Esri Style"!==r)return r}}catch(a){n.e(a)}finally{n.f()}}function x(e,t){var n=Object(r.a)({responseType:"json",query:{f:"json"}},t);return Object(u.default)(Object(o.B)(e),n)}var k="esri_en",S="Style",E="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(744)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),i=n(3),a=n(61),o=n(57),s=n(5),c=n(6),u=n(4),l=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments))._set=new Set,e}return Object(i.a)(n,[{key:"destroy",value:function(){Object(a.a)(Object(o.a)(n.prototype),"destroy",this).call(this),this._set=Object(u.l)(this._set)}},{key:"acquire",value:function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var s=(e=Object(a.a)(Object(o.a)(n.prototype),"acquire",this)).call.apply(e,[this].concat(r));return this._set.delete(s),s}},{key:"release",value:function(e){e&&!this._set.has(e)&&(Object(a.a)(Object(o.a)(n.prototype),"release",this).call(this,e),this._set.add(e))}},{key:"_dispose",value:function(e){this._set.delete(e),Object(a.a)(Object(o.a)(n.prototype),"_dispose",this).call(this,e)}}]),n}(n(145).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(13),i=n(2),a=n(3),o=n(218),s=function(){function e(t){Object(i.a)(this,e),this.notify=t,this._accessedProperties=new Set,this._observationHandles=[]}return Object(a.a)(e,[{key:"destroy",value:function(){this._accessedProperties.clear(),this.clearObservationHandles()}},{key:"onPropertyAccessed",value:function(e){this._accessedProperties.add(e)}},{key:"onTrackingEnd",value:function(){var e=this;this._accessedProperties.forEach((function(t){e._observationHandles.push(t.observe(e))})),this._accessedProperties.clear()}},{key:"clearObservationHandles",value:function(){var e,t=Object(r.a)(this._observationHandles);try{for(t.s();!(e=t.n()).done;){e.value.remove()}}catch(n){t.e(n)}finally{t.f()}this._observationHandles.length=0}}]),e}();function c(e,t){var n=new s((function(){if(n&&!i){var a=r;n.clearObservationHandles(),i=!0,r=Object(o.b)(n,e),i=!1,t(a,r)}})),r=null,i=!1;return i=!0,r=Object(o.b)(n,e),i=!1,{remove:function(){n&&(n.destroy(),n=null,r=null)}}}function u(e,t){var n=new s((function(){t(r,i)})),r=null;function i(){return n?(n.clearObservationHandles(),r=Object(o.b)(n,e)):null}return i(),{remove:function(){n&&(n.destroy(),n=null),r=null}}}},function(e,t,n){"use strict";var r,i=n(7),a=n.n(i),o=n(16),s=n(2),c=n(3),u=n(5),l=n(6),h=n(0),f=(n(15),n(23)),d=n(125),p=(n(14),n(18),n(1)),b=n(45),v=n(34),y=n(8),m=n(35),g=(n(12),n(21),n(22),n(17)),O=n(49),j=n(130),w=r=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).data=null,r.type="cim",r}return Object(c.a)(n,[{key:"readData",value:function(e,t){return t}},{key:"writeData",value:function(e,t){if(e)for(var n in e)t[n]=e[n]}},{key:"collectRequiredFields",value:function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CIMSymbolReference"!==this.data.type){e.next=6;break}if(!(r=this.data.primitiveOverrides)){e.next=6;break}return i=r.map((function(e){var r=e.valueExpressionInfo;return Object(O.c)(t,n,r.expression)})),e.next=6,Object(g.b)(i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clone",value:function(){return new r({data:Object(f.a)(this.data)})}},{key:"hash",value:function(){return Object(d.b)(JSON.stringify(this.data)).toString()}}]),n}(j.a);Object(h.a)([Object(p.b)({json:{write:!1}})],w.prototype,"color",void 0),Object(h.a)([Object(p.b)({json:{write:!0}})],w.prototype,"data",void 0),Object(h.a)([Object(v.a)("data",["symbol"])],w.prototype,"readData",null),Object(h.a)([Object(m.a)("data")],w.prototype,"writeData",null),Object(h.a)([Object(b.a)({CIMSymbolReference:"cim"},{readOnly:!0})],w.prototype,"type",void 0);var _=w=r=Object(h.a)([Object(y.a)("esri.symbols.CIMSymbol")],w);t.a=_},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(4)),l=(n(14),n(18),n(1)),h=n(8),f=(n(12),n(21),n(22),n(27)),d=n(43),p=n(36),b=n(123),v=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).color=new d.a([0,0,0,1]),e.size=Object(p.h)(1),e.stipplePattern=null,e.stippleOffColor=null,e}return Object(a.a)(n,[{key:"clone",value:function(){return new r({color:Object(u.h)(this.color)?this.color.clone():null,size:this.size,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})}}]),n}(f.a);Object(c.a)([Object(l.b)(b.a)],v.prototype,"color",void 0),Object(c.a)([Object(l.b)(b.b)],v.prototype,"size",void 0),Object(c.a)([Object(l.b)(b.c)],v.prototype,"stipplePattern",void 0),Object(c.a)([Object(l.b)({type:d.a})],v.prototype,"stippleOffColor",void 0);var y=v=r=Object(c.a)([Object(h.a)("esri.symbols.support.Symbol3DOutline")],v);t.a=y},function(e,t,n){"use strict";function r(e){return e.split(",").map((function(e){return e.trim()}))}function i(e,t){return e.map((function(e){return function(e,t){return 0===e.indexOf(t)?e:"".concat(t,".").concat(e)}(e,t)}))}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}))},function(e,t,n){"use strict";var r=n(2),i=n(5),a=n(6),o=n(0),s=(n(15),n(14),n(18),n(1)),c=n(8),u=(n(12),n(21),n(22),function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).visible=!1,i}return n}(n(490).a));Object(o.a)([Object(s.b)()],u.prototype,"visible",void 0);var l=u=Object(o.a)([Object(c.a)("esri.widgets.CompassViewModel")],u);t.a=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(13),i=n(347);function a(e,t,n){if(n&&n.features&&n.hasZ){var a=Object(i.a)(n.geometryType,t,e.outSpatialReference);if(a){var o,s=Object(r.a)(n.features);try{for(s.s();!(o=s.n()).done;){a(o.value.geometry)}}catch(c){s.e(c)}finally{s.f()}}}}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18)),h=n(1),f=n(45),d=n(8),p=(n(12),n(21),n(22),n(43)),b=n(372),v=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).algorithm=null,r.fromColor=null,r.toColor=null,r.type="algorithmic",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({fromColor:Object(u.a)(this.fromColor),toColor:Object(u.a)(this.toColor),algorithm:this.algorithm})}}]),n}(b.a);Object(c.a)([Object(f.a)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],v.prototype,"algorithm",void 0),Object(c.a)([Object(h.b)({type:p.a,json:{type:[l.a],write:!0}})],v.prototype,"fromColor",void 0),Object(c.a)([Object(h.b)({type:p.a,json:{type:[l.a],write:!0}})],v.prototype,"toColor",void 0),Object(c.a)([Object(h.b)({type:["algorithmic"]})],v.prototype,"type",void 0);var y=v=r=Object(c.a)([Object(d.a)("esri.tasks.support.AlgorithmicColorRamp")],v);t.a=y},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(27)),f=n(66),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).description=null,r.label=null,r.symbol=null,r.value=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}},{key:"getMeshHash",value:function(){var e=JSON.stringify(this.symbol&&this.symbol.toJSON());return"".concat(this.value,".").concat(e)}}]),n}(h.a);Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],d.prototype,"description",void 0),Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],d.prototype,"label",void 0),Object(c.a)([Object(u.b)({types:f.a,json:{origins:{"web-scene":{types:f.b,write:f.k}},write:f.k}})],d.prototype,"symbol",void 0),Object(c.a)([Object(u.b)({type:[String,Number],json:{type:String,write:{writer:function(e,t){t.value=null==e?void 0:e.toString()}}}})],d.prototype,"value",void 0);var p=d=r=Object(c.a)([Object(l.a)("esri.renderers.support.UniqueValueInfo")],d);t.a=p},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(23)),u=(n(14),n(18),n(1)),l=n(50),h=n(8),f=n(35),d=(n(12),n(21),n(22),n(27)),p=new l.a({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"}),b=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).name=null,i.description=null,i.drawingTool=null,i.prototype=null,i.thumbnail=null,i}return Object(i.a)(n,[{key:"writeDrawingTool",value:function(e,t){t.drawingTool=p.toJSON(e)}},{key:"writePrototype",value:function(e,t){t.prototype=Object(c.c)(Object(c.a)(e),!0)}},{key:"writeThumbnail",value:function(e,t){t.thumbnail=Object(c.c)(Object(c.a)(e))}}]),n}(d.a);Object(s.a)([Object(u.b)({json:{write:!0}})],b.prototype,"name",void 0),Object(s.a)([Object(u.b)({json:{write:!0}})],b.prototype,"description",void 0),Object(s.a)([Object(u.b)({json:{read:p.read,write:p.write}})],b.prototype,"drawingTool",void 0),Object(s.a)([Object(f.a)("drawingTool")],b.prototype,"writeDrawingTool",null),Object(s.a)([Object(u.b)({json:{write:!0}})],b.prototype,"prototype",void 0),Object(s.a)([Object(f.a)("prototype")],b.prototype,"writePrototype",null),Object(s.a)([Object(u.b)({json:{write:!0}})],b.prototype,"thumbnail",void 0),Object(s.a)([Object(f.a)("thumbnail")],b.prototype,"writeThumbnail",null);var v=b=Object(s.a)([Object(h.a)("esri.layers.support.FeatureTemplate")],b);t.a=v},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(15),i=n(20),a=n(17),o=n(120),s=n(65),c=n(320),u=(n(171),n(276)),l=n(200),h=Object(u.a)();function f(e,t,n){var r=Math.ceil(t[0]),i=Math.ceil(t[1]);if(!e.some((function(e){return!!e.length})))return null;var a=n&&n.node||document.createElement("div");return null!=n.opacity&&(a.style.opacity=n.opacity.toString()),h.append(a,l.g.bind(null,e,r,i,n)),a}function d(e,t,n,r,i){switch(i){case"multiply":e[t+0]*=n[0],e[t+1]*=n[1],e[t+2]*=n[2],e[t+3]*=n[3];break;default:var a=Object(c.b)({r:e[t+0],g:e[t+1],b:e[t+2]});a.h=r.h,a.s=r.s,a.v=a.v/100*r.v;var o=Object(c.d)(a);e[t+0]=o.r,e[t+1]=o.g,e[t+2]=o.b,e[t+3]*=n[3]}}function p(e,t,n,u,l){return(h=e,f=t,p=l,h?Object(s.default)(h,{responseType:"image"}).then((function(e){var t=e.data,n=t.width,r=t.height,i=n/r,a=f;if(p){var o=Math.max(n,r);a=Math.min(a,o)}return{image:t,width:i<=1?Math.ceil(a*i):a,height:i<=1?a:Math.ceil(a/i)}})):Object(a.r)(new i.a("renderUtils: imageDataSize","href not provided."))).then((function(i){var a=i.width?i.width:t,s=i.height?i.height:t;if(i.image&&function(e,t){return!(!e||"ignore"===t||"multiply"===t&&255===e.r&&255===e.g&&255===e.b&&1===e.a)}(n,u)){var l=i.image.width,h=i.image.height;(Object(r.a)("edge")||Object(r.a)("ie"))&&/\.svg$/i.test(e)&&(l-=1,h-=1);var f=function(e,t){e=Math.ceil(e),t=Math.ceil(t);var n=document.createElement("canvas");n.width=e,n.height=t,n.style.width=e+"px",n.style.height=t+"px";var r=n.getContext("2d");return r.clearRect(0,0,e,t),r}(a,s);f.drawImage(i.image,0,0,l,h,0,0,a,s);for(var p=f.getImageData(0,0,a,s),b=[n.r/255,n.g/255,n.b/255,n.a],v=Object(c.b)(n),y=0;y<p.data.length;y+=4)d(p.data,y,b,v,u);f.putImageData(p,0,0),e=f.canvas.toDataURL("image/png")}else{var m=o.b&&o.b.findCredential(e);if(m&&m.token){var g=-1===e.indexOf("?")?"?":"&";e="".concat(e).concat(g,"token=").concat(m.token)}}return{url:e,width:a,height:s}})).catch((function(){return{url:e,width:t,height:t}}));var h,f,p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(100))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(19)),o=n(439),s=n(390);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=function(e){var t=e.children,n=e.active,r=u(e,["children","active"]),i=(0,a.useContext)(o.SubNavContext),l=i.legacy,h=i.backgroundColor;return a.default.createElement(s.StyledSubNavLink,c({active:n,legacy:l,backgroundColor:h},r),t)};l.propTypes={children:i.default.node,active:i.default.bool},l.defaultProps={active:void 0},l.displayName="SubNavLink";var h=l;t.default=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(13),i=n(2),a=n(3);function o(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function s(e){return e.toLowerCase().trim()}var c=function(){function e(t){if(Object(i.a)(this,e),this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],t){var n,a=[],c=Object(r.a)(t);try{for(c.s();!(n=c.n()).done;){var u=n.value,l=u&&u.name;if(l){var h=s(l);this._fieldsMap.set(l,u),this._fieldsMap.set(h,u),a.push(h),o(u)&&(this.dateFields.push(u),this._dateFieldsSet.add(u))}}}catch(f){c.e(f)}finally{c.f()}a.sort(),this.uid=a.join(",")}}return Object(a.a)(e,[{key:"destroy",value:function(){this._fieldsMap.clear()}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"get",value:function(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(s(e)):void 0}},{key:"isDateField",value:function(e){return this._dateFieldsSet.has(this.get(e))}},{key:"normalizeFieldName",value:function(e){var t=this.get(e);if(t)return t.name}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(8),l=(n(12),n(21),n(22),function(e){var t=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).refreshInterval=0,e}return Object(i.a)(n,[{key:"refresh",value:function(){this.emit("refresh")}}]),n}(e);return Object(s.a)([Object(c.b)({type:Number,cast:function(e){return e>=.1?e:e<=0?0:.1},json:{write:!0,origins:{"web-document":{write:!0}}}})],t.prototype,"refreshInterval",void 0),t=Object(s.a)([Object(u.a)("esri.layers.mixins.RefreshableLayer")],t)})},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return g}));var r=n(2),i=n(3),a=n(10),o=n(13),s=n(23),c=n(4),u=(n(95),n(79)),l=n(44),h=n(36),f=n(561);function d(e,t){return e.events.on("drag",function(e,t){var n=null,r=null;return function(i){if("cancel"!==i.action){var a={action:i.action,screenStart:i.start,screenEnd:i.screenPoint};"start"===i.action&&Object(c.g)(n)&&(n=new _,r=new _,t(e,n,r,i.pointerType,a)),Object(c.h)(n)&&n.execute(a),"end"===i.action&&Object(c.h)(n)&&(n=null,r=null)}else Object(c.h)(r)&&(r.execute({action:"cancel"}),n=null,r=null)}}(e,t))}function p(e,t){var n=[e.x,e.y,e.z],r=t,i=[Math.cos(r),Math.sin(r)],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]);if(0===a)return null;i[0]/=a,i[1]/=a;var o=function(e){var t=(e.x-n[0])*i[0]+(e.y-n[1])*i[1];e.x=n[0]+t*i[0],e.y=n[1]+t*i[1]};return function(e){return o(e.mapStart),o(e.mapEnd),e}}function b(e){return function(e,t){var n=null,r=Object(c.h)(e[t])?e[t].spatialReference:null;return function(i){var o,s;if("start"===i.action&&Object(c.h)(e[t])&&(o=e[t],s=i.mapStart.spatialReference,n=Object(c.g)(o)||"mesh"===o.type?null:o.spatialReference.equals(s)?o.clone():Object(u.a)(o,s)?Object(u.d)(o,s):null),Object(c.g)(n))return null;var l=i.mapEnd.x-i.mapStart.x,h=i.mapEnd.y-i.mapStart.y,d=i.mapEnd.z-i.mapStart.z,p=Object(f.d)(n.clone(),l,h,d);return p.spatialReference.equals(r)?e[t]=p:e[t]=Object(u.d)(p,r),Object(a.a)(Object(a.a)({},i),{},{translationX:l,translationY:h,translationZ:d})}}(e,"geometry")}function v(e){var t=e.map((function(e){return Object(c.n)(b(e))})).filter((function(e){return Object(c.h)(e)}));return function(e){var n=e.mapEnd.x-e.mapStart.x,r=e.mapEnd.y-e.mapStart.y,i=e.mapEnd.z-e.mapStart.z;return t.forEach((function(t){return t(e)})),Object(a.a)(Object(a.a)({},e),{},{translationX:n,translationY:r,translationZ:i})}}function y(e){return function(e,t){var n,r=new Map,i=Object(o.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.set(a,Object(s.a)(e[a]))}}catch(c){i.e(c)}finally{i.f()}return function(t){return r.forEach((function(t,n){e[n]=t})),t}}(e,["geometry"])}function m(e){var t=e.map((function(e){return Object(c.n)(y(e))})).filter((function(e){return Object(c.h)(e)}));return function(e){return t.forEach((function(t){return t(e)})),e}}function g(e){var t=Object(c.h)(e.symbol)?e.symbol.clone():null;return function(n){return e.symbol=t,n}}function O(){var e=0,t=0,n=0;return function(r){"start"===r.action&&(e=r.mapStart.x,t=r.mapStart.y,n=r.mapStart.z);var i=r.mapEnd.x-e,o=r.mapEnd.y-t,s=r.mapEnd.z-n;return e=r.mapEnd.x,t=r.mapEnd.y,n=r.mapEnd.z,Object(a.a)(Object(a.a)({},r),{},{mapDeltaX:i,mapDeltaY:o,mapDeltaZ:s,mapDeltaSpatialReference:r.mapStart.spatialReference})}}function j(){var e=0,t=0;return function(n){"start"===n.action&&(e=n.screenStart.x,t=n.screenStart.y);var r=n.screenEnd.x-e,i=n.screenEnd.y-t;return e=n.screenEnd.x,t=n.screenEnd.y,Object(a.a)(Object(a.a)({},n),{},{screenDeltaX:r,screenDeltaY:i})}}function w(e,t){var n=null,r=0,i=0;return function(a){if("start"===a.action&&((n=e.toScreen(t)).x<0||n.x>e.width||n.y<0||n.y>e.height?n=null:(r=a.screenStart.x-n.x,i=a.screenStart.y-n.y)),null==n)return null;var o=Object(l.d)(a.screenEnd.x-r,0,e.width),s=Object(l.d)(a.screenEnd.y-i,0,e.height),c=Object(h.e)(o,s);return a.screenStart=n,a.screenEnd=c,a}}var _=function(){function e(){Object(r.a)(this,e),this.execute=function(){}}return Object(i.a)(e,[{key:"next",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new e;return Object(c.h)(t)&&(this.execute=function(e){var r=t(e);Object(c.h)(r)&&n.execute(r)}),n}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return v}));var r=n(28),i=n(13),a=n(4),o=n(92),s=n(37),c=n(39),u=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function l(e){return e instanceof s.a}function h(e){return e instanceof c.a?Object.keys(e.items):l(e)?Object(o.a)(e).keys():e?Object.keys(e):[]}function f(e,t){return e instanceof c.a?e.items[t]:e[t]}function d(e){return e?e.declaredClass:null}function p(e,t){var n=e.diff;if(n&&"function"==typeof n)return n(e,t);var o=h(e),s=h(t);if(0!==o.length||0!==s.length){if(!o.length||!s.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};var c,b=s.filter((function(e){return-1===o.indexOf(e)})),v=o.filter((function(e){return-1===s.indexOf(e)})),y=o.filter((function(n){return s.indexOf(n)>-1&&f(e,n)!==f(t,n)})).concat(b,v).sort(),m=d(e);if(m&&u.indexOf(m)>-1&&y.length)return{type:"complete",oldValue:e,newValue:t};var g,O=l(e)&&l(t),j=Object(i.a)(y);try{for(j.s();!(g=j.n()).done;){var w=g.value,_=f(e,w),x=f(t,w),k=void 0;(O||"function"!=typeof _&&"function"!=typeof x)&&_!==x&&(null==_&&null==x||(k=n&&n[w]&&"function"==typeof n[w]?n[w](_,x):"object"==typeof _&&"object"==typeof x&&d(_)===d(x)?p(_,x):{type:"complete",oldValue:_,newValue:x},Object(a.h)(k)&&(Object(a.h)(c)?c.diff[w]=k:c={type:"partial",diff:Object(r.a)({},w,k)})))}}catch(S){j.e(S)}finally{j.f()}return c}}function b(e,t){if(Object(a.g)(e))return!1;var n,r=t.split("."),o=e,s=Object(i.a)(r);try{for(s.s();!(n=s.n()).done;){var c=n.value;if("complete"===o.type)return!0;if("partial"!==o.type)return!1;var u=o.diff[c];if(!u)return!1;o=u}}catch(l){s.e(l)}finally{s.f()}return!0}function v(e,t){var n,r=Object(i.a)(t);try{for(r.s();!(n=r.n()).done;){if(b(e,n.value))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}function y(e,t){if("function"!=typeof e&&"function"!=typeof t&&(e||t))return!e||!t||"object"==typeof e&&"object"==typeof t&&d(e)!==d(t)?{type:"complete",oldValue:e,newValue:t}:p(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n(7),i=n.n(r),a=(n(32),n(16)),o=n(13),s=n(106),c=n(4),u=n(14),l=n(20),h=n(17),f=n(54),d=n(48),p=n(79),b=n(119),v=n(127),y=n(10),m=n(12),g=n(97),O=(n(99),n(65));function j(e,t,n,r){return w.apply(this,arguments)}function w(){return(w=Object(a.a)(i.a.mark((function e(t,n,r,a){var o,s,c,u,l,h,f,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="string"==typeof t?Object(m.I)(t):t,s=n[0].spatialReference,c=Object(y.a)(Object(y.a)({},a),{},{query:Object(y.a)(Object(y.a)({},o.query),{},{f:"json",sr:JSON.stringify(s),target:JSON.stringify({geometryType:Object(g.c)(n[0]),geometries:n}),cutter:JSON.stringify(r)})}),e.next=5,Object(O.default)(o.path+"/cut",c);case 5:return u=e.sent,l=u.data,h=l.cutIndexes,f=l.geometries,d=void 0===f?[]:f,e.abrupt("return",{cutIndexes:h,geometries:d.map((function(e){var t=Object(g.a)(e);return t.spatialReference=s,t}))});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t,n){return x.apply(this,arguments)}function x(){return(x=Object(a.a)(i.a.mark((function e(t,n,r){var a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="string"==typeof t?Object(m.I)(t):t,o=n[0].spatialReference,s=Object(g.c)(n[0]),c=Object(y.a)(Object(y.a)({},r),{},{query:Object(y.a)(Object(y.a)({},a.query),{},{f:"json",sr:o.wkid?o.wkid:JSON.stringify(o),geometries:JSON.stringify(k(n))})}),e.t0=function(e,t,n){var r=Object(g.b)(t);return e.map((function(e){var t=r.fromJSON(e);return t.spatialReference=n,t}))},e.next=4,Object(O.default)(a.path+"/simplify",c);case 4:return e.t1=e.sent.data,e.t2=s,e.t3=o,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return{geometryType:Object(g.c)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}var S=u.a.getLogger("esri.geometry.support.normalizeUtils"),E={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new v.a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:d.a.WebMercator}),minus180Line:new v.a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:d.a.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new v.a({paths:[[[180,-180],[180,180]]],spatialReference:d.a.WGS84}),minus180Line:new v.a({paths:[[[-180,-180],[-180,180]]],spatialReference:d.a.WGS84})}};function T(e){return"polygon"===e.type}function M(e){return"polyline"===e[0].type}function C(e){return T(e)?e.rings:e.paths}function A(e,t){return Math.ceil((e-t)/(2*t))}function P(e,t){var n,r=C(e),i=Object(o.a)(r);try{for(i.s();!(n=i.n()).done;){var a,s=n.value,c=Object(o.a)(s);try{for(c.s();!(a=c.n()).done;){a.value[0]+=t}}catch(u){c.e(u)}finally{c.f()}}}catch(u){i.e(u)}finally{i.f()}return e}function I(e,t,n){if(t){var r=function(e,t){if(!(e instanceof v.a||e instanceof b.a)){var n="straightLineDensify: the input geometry is neither polyline nor polygon";throw S.error(n),new l.a(n)}var r,i=C(e),a=[],s=Object(o.a)(i);try{for(s.s();!(r=s.n()).done;){var c=r.value,u=[];a.push(u),u.push([c[0][0],c[0][1]]);for(var h=0;h<c.length-1;h++){var f=c[h][0],d=c[h][1],p=c[h+1][0],y=c[h+1][1],m=Math.sqrt((p-f)*(p-f)+(y-d)*(y-d)),g=(y-d)/m,O=(p-f)/m,j=m/t;if(j>1){for(var w=1;w<=j-1;w++){var _=w*t,x=O*_+f,k=g*_+d;u.push([x,k])}var E=(m+Math.floor(j-1)*t)/2,M=O*E+f,A=g*E+d;u.push([M,A])}u.push([p,y])}}}catch(P){s.e(P)}finally{s.f()}return T(e)?new b.a({rings:a,spatialReference:e.spatialReference}):new v.a({paths:a,spatialReference:e.spatialReference})}(e,1e6);e=Object(p.e)(r,!0)}return n&&(e=P(e,n)),e}function D(e,t,n){if(Array.isArray(e)){var r=e[0];if(r>t){var i=A(r,t);e[0]=r+i*(-2*t)}else if(r<n){var a=A(r,n);e[0]=r+a*(-2*n)}}else{var o=e.x;if(o>t){var s=A(o,t);e=e.clone().offset(s*(-2*t),0)}else if(o<n){var c=A(o,n);e=e.clone().offset(c*(-2*n),0)}}return e}function L(e,t,n){return R.apply(this,arguments)}function R(){return(R=Object(a.a)(i.a.mark((function e(t,n,r){var a,u,l,d,y,m,g,O,w,x,k,S,T,R,N,F,z,V,U,B,G,q,H,W,Y,J,K,X,Q,Z,$,ee,te,ne,re,ie,ae,oe,se,ce;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",L([t],n));case 2:a=n?n.url:s.a.geometryServiceUrl,x=0,k=[],S=[],T=Object(o.a)(t);try{for(T.s();!(R=T.n()).done;)N=R.value,Object(c.g)(N)?S.push(N):(u||(u=N.spatialReference,l=Object(f.d)(u),d=u.isWebMercator,y=E[g=d?102100:4326].maxX,m=E[g].minX,O=E[g].plus180Line,w=E[g].minus180Line),l?"mesh"===N.type?S.push(N):"point"===N.type?S.push(D(N.clone(),y,m)):"multipoint"===N.type?((F=N.clone()).points=F.points.map((function(e){return D(e,y,m)})),S.push(F)):"extent"===N.type?(z=N.clone()._normalize(!1,!1,l),S.push(z.rings?new b.a(z):z)):N.extent?(V=N.extent,U=A(V.xmin,m)*(2*y),B=0===U?N.clone():P(N.clone(),U),V.offset(U,0),V.intersects(O)&&V.xmax!==y?(x=V.xmax>x?V.xmax:x,B=I(B,d),k.push(B),S.push("cut")):V.intersects(w)&&V.xmin!==m?(x=V.xmax*(2*y)>x?V.xmax*(2*y):x,B=I(B,d,360),k.push(B),S.push("cut")):S.push(B)):S.push(N.clone()):S.push(N))}catch(i){T.e(i)}finally{T.f()}for(G=A(x,y),q=-90,H=G,W=new v.a;G>0;)Y=360*G-180,W.addPath([[Y,q],[Y,-1*q]]),q*=-1,G--;if(!(k.length>0&&H>0)){e.next=28;break}return e.t0=function(e,t){for(var n=-1,r=function(r){for(var a=t.cutIndexes[r],s=t.geometries[r],c=C(s),u=function(e){var t=c[e];t.some((function(n){if(n[0]<180)return!0;for(var r=0,i=0;i<t.length;i++){var a=t[i][0];r=a>r?a:r}for(var o=-360*A(r=Number(r.toFixed(9)),180),c=0;c<t.length;c++){var u=s.getPoint(e,c);s.setPoint(e,c,u.clone().offset(o,0))}return!0}))},l=0;l<c.length;l++)u(l);if(a===n){if("polygon"===e[0].type){var h,f=Object(o.a)(C(s));try{for(f.s();!(h=f.n()).done;){var d=h.value;e[a]=e[a].addRing(d)}}catch(i){f.e(i)}finally{f.f()}}else if(M(e)){var p,b=Object(o.a)(C(s));try{for(b.s();!(p=b.n()).done;){var v=p.value;e[a]=e[a].addPath(v)}}catch(i){b.e(i)}finally{b.f()}}}else n=a,e[a]=s},a=0;a<t.cutIndexes.length;a++)r(a);return e},e.t1=k,e.next=15,j(a,k,W,r);case 15:for(e.t2=e.sent,J=(0,e.t0)(e.t1,e.t2),K=[],X=[],Q=0;Q<S.length;Q++)"cut"!==(Z=S[Q])?X.push(Z):($=J.shift(),ee=t[Q],Object(c.h)(ee)&&"polygon"===ee.type&&ee.rings&&ee.rings.length>1&&$.rings.length>=ee.rings.length?(K.push($),X.push("simplify")):X.push(d?Object(p.b)($):$));if(K.length){e.next=22;break}return e.abrupt("return",X);case 22:return e.next=24,_(a,K,r);case 24:for(te=e.sent,ne=[],re=0;re<X.length;re++)"simplify"!==(ie=X[re])?ne.push(ie):ne.push(d?Object(p.b)(te.shift()):te.shift());return e.abrupt("return",ne);case 28:for(ae=[],oe=0;oe<S.length;oe++)"cut"!==(se=S[oe])?ae.push(se):(ce=k.shift(),ae.push(!0===d?Object(p.b)(ce):ce));return e.abrupt("return",Object(h.s)(ae));case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(49),i=(n(159),n(251)),a=(n(394),n(308)),o=n(252),s=n(228),c=(n(267),n(225),n(240)),u=["oid","global-id"],l=["oid","global-id","guid"];function h(e,t){var n=e.displayField,a=e.editFieldsInfo,o=e.fields,u=e.objectIdField,l=e.title;if(!o)return null;var h=y({editFieldsInfo:a,fields:o,objectIdField:u},t);if(!h.length)return null;var f=function(e){var t=Object(r.n)(e),n=e.titleBase;return t?"".concat(n,": {").concat(t.trim(),"}"):n}({titleBase:l,fields:o,displayField:n}),d=[new s.a,new i.a];return new c.a({title:f,content:d,fieldInfos:h})}var f=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],d=function(e,t){var n=t.editFieldsInfo,r=t.objectIdField,i=t.visibleFieldNames;return i?i.has(e.name):!b(e.name,n)&&(!r||e.name!==r)&&!(u.indexOf(e.type)>-1)&&!f.some((function(t){return t.test(e.name)}))};function p(e,t){return"oid"===e.type?-1:"oid"===t.type?1:g(e)?-1:g(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function b(e,t){if(!e||!t)return!1;var n=t.creationDateField,r=t.creatorField,i=t.editDateField,a=t.editorField;return-1!==[n&&n.toLowerCase(),r&&r.toLowerCase(),i&&i.toLowerCase(),a&&a.toLowerCase()].indexOf(e.toLowerCase())}function v(e,t){return e.editable&&-1===l.indexOf(e.type)&&!b(e.name,t)}function y(e,t){var n=e.editFieldsInfo,r=e.fields,i=e.objectIdField;return function(e,t){var n=e;return t&&(e=e.filter((function(e){return-1===t.indexOf(e.type)}))),e===n&&(e=e.slice()),e.sort(p),e}(r,(null==t?void 0:t.ignoreFieldTypes)||O).map((function(e){return new o.a({fieldName:e.name,isEditable:v(e,n),label:e.alias,format:m(e),visible:d(e,{editFieldsInfo:n,objectIdField:i,visibleFieldNames:null==t?void 0:t.visibleFieldNames})})}))}function m(e){switch(e.type){case"small-integer":case"integer":case"single":return new a.a({digitSeparator:!0,places:0});case"double":return new a.a({digitSeparator:!0,places:2});case"date":return new a.a({dateFormat:"long-month-day-year"});default:return null}}function g(e){return"name"===(e.name&&e.name.toLowerCase())||("name"===(e.alias&&e.alias.toLowerCase())||void 0)}var O=["geometry","blob","raster","guid","xml"]},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(61),s=n(57),c=n(5),u=n(6),l=n(0),h=(n(15),n(4)),f=(n(14),n(18),n(1)),d=n(50),p=n(34),b=n(8),v=n(35),y=(n(12),n(21),n(22),n(27)),m=n(7),g=n.n(m),O=n(16),j=n(49),w=r=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"collectRequiredFields",value:function(){var e=Object(O.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(j.c)(t,n,this.expression));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clone",value:function(){return new r({expression:this.expression,title:this.title})}}]),n}(y.a);Object(l.a)([Object(f.b)({type:String,json:{write:!0}})],w.prototype,"expression",void 0),Object(l.a)([Object(f.b)({type:String,json:{write:!0}})],w.prototype,"title",void 0);var _,x=w=r=Object(l.a)([Object(b.a)("esri.layers.support.FeatureExpressionInfo")],w),k=n(326),S=Object(d.b)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),E=new d.a({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"}),T=_=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).offset=null,e}return Object(a.a)(n,[{key:"readFeatureExpressionInfo",value:function(e,t){return null!=e?e:t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0}},{key:"writeFeatureExpressionInfo",value:function(e,t,n,r){t[n]=e.write(null,r),"0"===e.expression&&(t.featureExpression={value:0})}},{key:"mode",get:function(){return this._isOverridden("mode")?this._get("mode"):Object(h.h)(this.offset)||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(e){this._override("mode",e)}},{key:"unit",set:function(e){this._set("unit",e)}},{key:"write",value:function(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?Object(o.a)(Object(s.a)(n.prototype),"write",this).call(this,e,t):null}},{key:"clone",value:function(){return new _({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}}]),n}(y.a);Object(l.a)([Object(f.b)({type:x,json:{write:!0}})],T.prototype,"featureExpressionInfo",void 0),Object(l.a)([Object(p.a)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],T.prototype,"readFeatureExpressionInfo",null),Object(l.a)([Object(v.a)("featureExpressionInfo",{featureExpressionInfo:{type:x},"featureExpression.value":{type:[0]}})],T.prototype,"writeFeatureExpressionInfo",null),Object(l.a)([Object(f.b)({type:S.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{type:S.jsonValues,read:S.read,write:{writer:S.write,isRequired:!0}}})],T.prototype,"mode",null),Object(l.a)([Object(f.b)({type:Number,json:{write:!0}})],T.prototype,"offset",void 0),Object(l.a)([Object(f.b)({type:k.b,json:{type:String,read:E.read,write:E.write}})],T.prototype,"unit",null);var M=T=_=Object(l.a)([Object(b.a)("esri.layers.support.ElevationInfo")],T);t.a=M},function(e,t,n){"use strict";n.d(t,"a",(function(){return Oe})),n.d(t,"b",(function(){return ye}));var r,i,a=n(10),o=n(7),s=n.n(o),c=n(16),u=n(15),l=n(20),h=n(17),f=n(13),d=n(2),p=n(3),b=n(4),v=n(122),y={geometryEngineWorker:function(){return n.e(37).then(n.bind(null,1207))},CSVSourceWorker:function(){return Promise.all([n.e(1),n.e(4),n.e(51)]).then(n.bind(null,1238))},EdgeProcessingWorker:function(){return n.e(45).then(n.bind(null,1231))},ElevationSamplerWorker:function(){return n.e(44).then(n.bind(null,1239))},GeoJSONSourceWorker:function(){return Promise.all([n.e(1),n.e(4),n.e(34)]).then(n.bind(null,1208))},LercWorker:function(){return n.e(43).then(n.bind(null,1209))},MemorySourceWorker:function(){return Promise.all([n.e(1),n.e(4),n.e(41)]).then(n.bind(null,1210))},PBFDecoderWorker:function(){return n.e(125).then(n.bind(null,1240))},Pipeline:function(){return Promise.all([n.e(1),n.e(4),n.e(26)]).then(n.bind(null,1226))},PointCloudWorker:function(){return n.e(31).then(n.bind(null,1232))},RasterWorker:function(){return Promise.all([n.e(7),n.e(117)]).then(n.bind(null,1211))},SceneLayerWorker:function(){return n.e(124).then(n.bind(null,1241))},WorkerTileHandler:function(){return Promise.all([n.e(14),n.e(123)]).then(n.bind(null,1228))}};(i=r||(r={}))[i.HANDSHAKE=0]="HANDSHAKE",i[i.CONFIGURE=1]="CONFIGURE",i[i.CONFIGURED=2]="CONFIGURED",i[i.OPEN=3]="OPEN",i[i.OPENED=4]="OPENED",i[i.RESPONSE=5]="RESPONSE",i[i.INVOKE=6]="INVOKE",i[i.ABORT=7]="ABORT",i[i.CLOSE=8]="CLOSE",i[i.OPEN_PORT=9]="OPEN_PORT",i[i.ON=10]="ON";var m=0;function g(){return m++}function O(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function j(e,t,n,i){var a;t.type!==r.OPEN_PORT?t.type===r.INVOKE||t.type===r.RESPONSE?(!function(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}(n)?(a=_(i),t.data=n):(a=_(n.transferList),t.data=n.result),a?e.postMessage(t,a):e.postMessage(t)):e.postMessage(t):e.postMessage(t,[t.port])}function w(e){if(!e)return null;var t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function _(e){if(!e||!e.length)return null;if(Object(u.a)("esri-workers-arraybuffer-transfer"))return e;var t=e.filter((function(e){return!((t=e)instanceof ArrayBuffer||t&&t.constructor&&"ArrayBuffer"===t.constructor.name);var t}));return t.length?t:null}var x=n(513),k=r.CLOSE,S=r.ABORT,E=r.INVOKE,T=r.RESPONSE,M=r.OPEN_PORT,C=r.ON,A=function(){function e(t){Object(d.a)(this,e),this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}return Object(p.a)(e,[{key:"push",value:function(e){e.type===r.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}},{key:"clear",value:function(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}},{key:"_process",value:function(){this._timer=null;var e,t=Object(f.a)(this._invokeMessages);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._cancelledJobIds.has(n.jobId)||this._invoke(n)}}catch(r){t.e(r)}finally{t.f()}this._cancelledJobIds.clear(),this._invokeMessages.length=0}}]),e}(),P=function(){function e(t,n){var r=this;Object(d.a)(this,e),this._port=t,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new A((function(e){return r._onInvokeMessage(e)})),this._messageQueue=new Array,this._client=n.client,this._onMessage=this._onMessage.bind(this),this._channel=n.channel,n.scheduler&&(this._frameTask=n.scheduler.registerTask(x.a.REMOTE_CLIENT,(function(e){return r._update(e)}),(function(){return r._messageQueue.length>0}))),this._port.addEventListener("message",this._onMessage),this._port.start()}return Object(p.a)(e,[{key:"close",value:function(){this._post({type:k}),this._close()}},{key:"isBusy",value:function(){return this._outJobs.size>0}},{key:"invoke",value:function(e,t,n){var r=this,i=n&&n.signal,a=n&&n.transferList;if(!this._port)return Object(h.r)(new l.a("worker:port-closed","Cannot call invoke('".concat(e,"'), port is closed"),{methodName:e,data:t}));var o=g();return Object(h.c)((function(n,s){var c=Object(h.q)(i,(function(){var e,t=r._outJobs.get(o);t&&(r._outJobs.delete(o),null==(e=t.abortHandle)||e.remove(),r._post({type:S,jobId:o}),s(Object(h.e)()))})),u={resolve:n,reject:s,abortHandle:c,debugInfo:e};r._outJobs.set(o,u),r._post({type:E,jobId:o,methodName:e,abortable:null!=i},t,a)}))}},{key:"on",value:function(e,t){var n=new MessageChannel;function i(e){t(e.data)}return this._port.postMessage({type:r.ON,eventType:e,port:n.port2},[n.port2]),n.port1.addEventListener("message",i),n.port1.start(),{remove:function(){n.port1.postMessage({type:r.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",i)}}}},{key:"openPort",value:function(){var e=new MessageChannel;return this._post({type:M,port:e.port2}),e.port1}},{key:"_close",value:function(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((function(e){var t;null==(t=e.abortHandle)||t.remove(),e.reject(Object(h.e)("Worker closing, aborting job calling '".concat(e.debugInfo,"'")))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=null,this._frameTask=Object(b.m)(this._frameTask)}},{key:"_onMessage",value:function(e){Object(b.h)(this._frameTask)?this._messageQueue.push(e):this._processMessage(e)}},{key:"_processMessage",value:function(e){var t=w(e);if(t)switch(t.type){case T:this._onResponseMessage(t);break;case E:this._invokeQueue.push(t);break;case S:this._onAbortMessage(t);break;case k:this._onCloseMessage();break;case M:this._onOpenPortMessage(t);break;case C:this._onOnMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,n=e.jobId,r=t.get(n);this._invokeQueue.push(e),r&&(r.controller&&r.controller.abort(),t.delete(n))}},{key:"_onCloseMessage",value:function(){var t=this._client;this._close(),t&&"destroy"in t&&e.clients.get(this)===t&&t.destroy(),e.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}},{key:"_onInvokeMessage",value:function(e){var t,n=this,r=e.methodName,i=e.jobId,a=e.data,o=e.abortable?Object(h.d)():null,s=this._inJobs,c=this._client,u=c[r];try{if(!u&&r&&-1!==r.indexOf("."))for(var l=r.split("."),f=0;f<l.length-1;f++)u=(c=c[l[f]])[l[f+1]];if("function"!=typeof u)throw new TypeError("".concat(r," is not a function"));t=u.call(c,a,{client:this,signal:o?o.signal:null})}catch(e){return void this._post({type:T,jobId:i,error:O(e)})}Object(h.n)(t)?(s.set(i,{controller:o,promise:t}),t.then((function(e){s.has(i)&&(s.delete(i),n._post({type:T,jobId:i},e))}),(function(e){s.has(i)&&(s.delete(i),Object(h.l)(e)||n._post({type:T,jobId:i,error:O(e||{message:"Error encountered at method ".concat(r)})}))}))):this._post({type:T,jobId:i},t)}},{key:"_onOpenPortMessage",value:function(t){new e(t.port,{client:this._client})}},{key:"_onOnMessage",value:function(e){var t=e.port,n=this._client.on(e.eventType,(function(e){t.postMessage(e)})),i=Object(v.c)(e.port,"message",(function(e){w(e).type===r.CLOSE&&(i.remove(),n.remove(),t.close())}))}},{key:"_onResponseMessage",value:function(e){var t,n=e.jobId,r=e.error,i=e.data,a=this._outJobs;if(a.has(n)){var o=a.get(n);a.delete(n),null==(t=o.abortHandle)||t.remove(),r?o.reject(l.a.fromJSON(JSON.parse(r))):o.resolve(i)}}},{key:"_update",value:function(e){for(;!e.done&&this._messageQueue.length>0;)this._processMessage(this._messageQueue.shift()),e.madeProgress()}},{key:"_post",value:function(e,t,n){return j(this._port,e,t,n)}}],[{key:"connect",value:function(t){var n,r=new MessageChannel;n="function"==typeof t?new t:"default"in t&&"function"==typeof t.default?new t.default:t;var i=new e(r.port1,{channel:r,client:n});return"object"==typeof n&&"remoteClient"in n&&(n.remoteClient=i),e.clients.set(i,n),r.port2}},{key:"loadWorker",value:function(e){var t=y[e];return t?t():Object(h.s)(null)}}]),e}();P.clients=new Map;var I=P,D=n(14),L=n(95),R=D.a.getLogger("esri.core.workers.Connection"),N=function(){function e(){Object(d.a)(this,e),this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}return Object(p.a)(e,[{key:"destroy",value:function(){this.close()}},{key:"closed",get:function(){return!this._clients||!this._clients.length}},{key:"open",value:function(e,t){var n=this;return Object(h.c)((function(r,i){var a=!0,o=function(e){Object(h.u)(t.signal),a&&(a=!1,e())};n._clients.length=e.length,n._clientPromises.length=e.length;for(var s=function(a){var s=e[a];Object(h.o)(s)?n._clientPromises[a]=s.then((function(e){return n._clients[a]=new I(e,t),o(r),n._clients[a]}),(function(){return o(i),null})):(n._clients[a]=new I(s,t),n._clientPromises[a]=Object(h.s)(n._clients[a]),o(r))},c=0;c<e.length;++c)s(c)}))}},{key:"broadcast",value:function(e,t,n){for(var r=new Array(this._clientPromises.length),i=0;i<this._clientPromises.length;++i){var a=this._clientPromises[i];r[i]=a.then((function(r){return r.invoke(e,t,n)}))}return r}},{key:"close",value:function(){var e,t=Object(f.a)(this._clientPromises);try{for(t.s();!(e=t.n()).done;){e.value.then((function(e){return e.close()}))}}catch(n){t.e(n)}finally{t.f()}this._clients.length=0,this._clientPromises.length=0}},{key:"getAvailableClient",value:function(){for(var e,t=0;t<this._clients.length;++t){var n=this._clients[t];if(n){if(!n.isBusy())return Object(h.s)(n)}else(e=e||[]).push(this._clientPromises[t])}return e?Object(h.j)(e):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Object(h.s)(this._clients[this._clientIdx]))}},{key:"invoke",value:function(e,t,n){var r=null;return Array.isArray(n)?(R.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),r={transferList:n}):r=n,this.closed?Object(h.r)(new Error("Connection closed")):this.getAvailableClient().then((function(n){return n.invoke(e,t,r)}))}},{key:"on",value:function(e,t){var n=this;return Object(h.b)(this._clientPromises).then((function(){return Object(L.b)(n._clients.map((function(n){return n.on(e,t)})))}))}},{key:"openPorts",value:function(){var e=this;return Object(h.c)((function(t){for(var n=new Array(e._clientPromises.length),r=n.length,i=function(i){e._clientPromises[i].then((function(e){n[i]=e.openPort(),0==--r&&t(n)}))},a=0;a<e._clientPromises.length;++a)i(a)}))}},{key:"test",get:function(){return{numClients:this._clients.length}}}]),e}(),F=n(120),z=n(106),V=n(12),U=n(96),B=n(84),G=(n(153),n(65),{});var q=function(e){var t,n={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:Object(a.a)({},e.has),map:Object(a.a)({},e.map),packages:e.packages&&e.packages.concat()||[],paths:Object(a.a)({},e.paths)};return e.hasOwnProperty("async")||(n.async=!0),e.hasOwnProperty("isDebug")||(n.isDebug=!1),e.baseUrl||(n.baseUrl=G.baseUrl),null==(t=G.packages)||t.forEach((function(e){!function(e,t){var n,r=Object(f.a)(e);try{for(r.s();!(n=r.n()).done;){if(n.value.name===t.name)return}}catch(i){r.e(i)}finally{r.f()}e.push(t)}(n.packages,e)})),n},H=n(58),W=function e(){var t=this;Object(d.a)(this,e);var n=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((function(e){t[e]=function(){return n[e].apply(n,arguments)}}))},Y=H.a.MutationObserver||H.a.WebKitMutationObserver,J=function(){var e;if(H.a.process&&H.a.process.nextTick)e=function(e){H.a.process.nextTick(e)};else if(H.a.Promise)e=function(e){H.a.Promise.resolve().then(e)};else if(Y){var t=[],n=document.createElement("div");new Y((function(){for(;t.length>0;)t.shift()()})).observe(n,{attributes:!0}),e=function(e){t.push(e),n.setAttribute("queueStatus","1")}}return e}(),K=function(){var e=H.a.MessageEvent;try{new e("message",{data:null})}catch(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,r=t.bubbles,i=void 0!==r&&r,a=t.cancelable,o=void 0!==a&&a,s=document.createEvent("Event");return s.initEvent(e,i,o),s.data=n,s}}return function(t,n){return new e(t,n)}}(),X=function(){function e(){Object(d.a)(this,e),this._dispatcher=new W,this._isInitialized=!1,this._workerPostMessage({type:r.HANDSHAKE})}return Object(p.a)(e,[{key:"terminate",value:function(){}},{key:"onmessage",get:function(){return this._onmessageHandler},set:function(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},set:function(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}},{key:"postMessage",value:function(e){var t=this;J((function(){t._workerMessageHandler(K("message",{data:e}))}))}},{key:"dispatchEvent",value:function(e){return this._dispatcher.dispatchEvent(e)}},{key:"addEventListener",value:function(e,t,n){this._dispatcher.addEventListener(e,t,n)}},{key:"removeEventListener",value:function(e,t,n){this._dispatcher.removeEventListener(e,t,n)}},{key:"_workerPostMessage",value:function(e){var t=this;J((function(){t.dispatchEvent(K("message",{data:e}))}))}},{key:"_workerMessageHandler",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var i,a,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=w(t))){e.next=19;break}e.t0=i.type,e.next=e.t0===r.CONFIGURE?5:e.t0===r.OPEN?7:19;break;case 5:return this._isInitialized||this._workerPostMessage({type:r.CONFIGURED}),e.abrupt("break",19);case 7:return a=i.modulePath,o=i.jobId,e.next=10,I.loadWorker(a);case 10:if(c=e.sent,e.t1=c,e.t1){e.next=16;break}return e.next=15,n(624)(a);case 15:c=e.sent;case 16:return u=I.connect(c),this._workerPostMessage({type:r.OPENED,jobId:o,data:u}),e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Q=D.a.getLogger("esri.core.workers");u.a.add("esri-workers-arraybuffer-transfer",!Object(u.a)("safari")||Object(u.a)("safari")>=12);var Z,$=r.CONFIGURED,ee=r.CONFIGURE,te=r.HANDSHAKE;try{Z=URL.createObjectURL(new Blob(['var esriConfig,workerPath,globalId=0,outgoing=new Map,configured=!1,HANDSHAKE=0,CONFIGURE=1,CONFIGURED=2,OPEN=3,OPENED=4,RESPONSE=5,INVOKE=6,ABORT=7;function createAbortError(){var e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,r,t){var o=t&&t.signal,n=globalId++;return new Promise((function(t,a){if(o){if(o.aborted)return a(createAbortError());o.addEventListener("abort",(function(){outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),a(createAbortError()))}))}outgoing.set(n,{resolve:t,reject:a}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!=o,data:r})}))}function messageHandler(e){var r=receiveMessage(e);if(r){var t=r.jobId;switch(r.type){case CONFIGURE:var o=r.configure;if(configured)return;configured=!0,esriConfig=o.esriConfig,workerPath=esriConfig.workers.workerPath,self.dojoConfig=o.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(o.loaderConfig)),self.postMessage({type:CONFIGURED});break;case OPEN:var n;function a(e){var r=n.connect(e);self.postMessage({type:OPENED,jobId:t,data:r},[r])}"function"==typeof define&&define.amd?require([workerPath],(function(e){(n=e.default||e).loadWorker(r.modulePath).then((function(e){return e||new Promise((function(e){require([r.modulePath],e)}))})).then(a)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((function(e){return(n=e.default).loadWorker(r.modulePath)})).then((function(e){return e||System.import(r.modulePath)})).then(a):(self.RemoteClient||importScripts(workerPath),(n=self.RemoteClient.default||self.RemoteClient).loadWorker(r.modulePath).then(a));break;case RESPONSE:if(outgoing.has(t)){var i=outgoing.get(t);outgoing.delete(t),r.error?i.reject(JSON.parse(r.error)):i.resolve(r.data)}}}}self.addEventListener("message",messageHandler),self.postMessage({type:HANDSHAKE});'],{type:"text/javascript"}))}catch(ke){}var ne="Failed to create Worker. Fallback to execute module in main thread";function re(){return ie.apply(this,arguments)}function ie(){return(ie=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(u.a)("esri-workers")){e.next=2;break}return e.abrupt("return",ae(new X));case 2:if(Z)try{t=new Worker(Z)}catch(ke){Q.warn(ne,event),t=new X}else Q.warn(ne,event),t=new X;return e.abrupt("return",ae(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.c)((function(e){function n(i){var o=w(i);if(o)switch(o.type){case te:!function(e){var t;if(null!=z.a.default){var n=Object(a.a)({},z.a);delete n.default,t=JSON.parse(JSON.stringify(n))}else t=JSON.parse(JSON.stringify(z.a));t.assetsPath=Object(V.y)(t.assetsPath),t.locale=Object(U.b)(),t.has={"csp-restrictions":Object(u.a)("csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":Object(u.a)("esri-2d-update-debug"),"esri-atomics":Object(u.a)("esri-atomics"),"esri-secure-context":Object(u.a)("esri-secure-context"),"esri-shared-array-buffer":Object(u.a)("esri-shared-array-buffer"),"esri-tiles-debug":Object(u.a)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":Object(u.a)("esri-workers-arraybuffer-transfer"),"host-webworker":1},t.workers.loaderUrl&&(t.workers.loaderUrl=Object(V.y)(t.workers.loaderUrl)),t.workers.workerPath?t.workers.workerPath=Object(V.y)(t.workers.workerPath):t.workers.workerPath=Object(V.y)(Object(B.a)("esri/core/workers/RemoteClient.js"));var r=z.a.workers.loaderConfig,i=q({baseUrl:null==r?void 0:r.baseUrl,locale:Object(U.b)(),has:Object(a.a)({"csp-restrictions":Object(u.a)("csp-restrictions"),"dojo-test-sniff":0,"host-webworker":1},null==r?void 0:r.has),map:Object(a.a)({},null==r?void 0:r.map),paths:Object(a.a)({},null==r?void 0:r.paths),packages:(null==r?void 0:r.packages)||[]});e.postMessage({type:ee,configure:{esriConfig:t,loaderConfig:i}})}(t);break;case $:t.removeEventListener("message",n),t.removeEventListener("error",r),e(t)}}function r(e){e.preventDefault(),t.removeEventListener("message",n),t.removeEventListener("error",r),Q.warn("Failed to create Worker. Fallback to execute module in main thread",e),(t=new X).addEventListener("message",n),t.addEventListener("error",r)}t.addEventListener("message",n),t.addEventListener("error",r)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=D.a.getLogger("esri.core.workers"),ce=r.ABORT,ue=r.INVOKE,le=r.OPEN,he=r.OPENED,fe=r.RESPONSE,de=function(){function e(t,n){Object(d.a)(this,e),this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=n,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",(function(e){e.preventDefault(),se.error(e)}))}return Object(p.a)(e,[{key:"terminate",value:function(){this.worker.terminate()}},{key:"open",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n,r,i,a=this,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=n.signal,i=g(),e.abrupt("return",Object(h.c)((function(e,n){var o={resolve:e,reject:n,abortHandle:Object(h.q)(r,(function(){a._outJobs.delete(i),a._post({type:ce,jobId:i})}))};a._outJobs.set(i,o),a._post({type:le,jobId:i,modulePath:t})})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_onMessage",value:function(e){var t=w(e);if(t)switch(t.type){case he:this._onOpenedMessage(t);break;case fe:this._onResponseMessage(t);break;case ce:this._onAbortMessage(t);break;case ue:this._onInvokeMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,n=e.jobId,r=t.get(n);r&&(r.controller&&r.controller.abort(),t.delete(n))}},{key:"_onInvokeMessage",value:function(e){var t,n=this,r=e.methodName,i=e.jobId,a=e.data,o=e.abortable?Object(h.d)():null,s=this._inJobs,c=F.e[r];try{if("function"!=typeof c)throw new TypeError("".concat(r," is not a function"));t=c.call(null,a,{signal:o?o.signal:null})}catch(e){return void this._post({type:fe,jobId:i,error:O(e)})}Object(h.n)(t)?(s.set(i,{controller:o,promise:t}),t.then((function(e){s.has(i)&&(s.delete(i),n._post({type:fe,jobId:i},e))}),(function(e){s.has(i)&&(s.delete(i),e||(e={message:"Error encountered at method"+r}),Object(h.l)(e)||n._post({type:fe,jobId:i,error:O(e||{message:"Error encountered at method ".concat(r)})}))}))):this._post({type:fe,jobId:i},t)}},{key:"_onOpenedMessage",value:function(e){var t,n=e.jobId,r=e.data,i=this._outJobs.get(n);i&&(this._outJobs.delete(n),null==(t=i.abortHandle)||t.remove(),i.resolve(r))}},{key:"_onResponseMessage",value:function(e){var t,n=e.jobId,r=e.error,i=e.data,a=this._outJobs.get(n);a&&(this._outJobs.delete(n),null==(t=a.abortHandle)||t.remove(),r?a.reject(l.a.fromJSON(JSON.parse(r))):a.resolve(i))}},{key:"_post",value:function(e,t,n){return j(this.worker,e,t,n)}}],[{key:"create",value:function(){var t=Object(c.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re();case 2:return r=t.sent,t.abrupt("return",new e(r,n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),pe=Object(u.a)("esri-workers-debug")?1:Object(u.a)("host-browser")?navigator.hardwareConcurrency-1:0;pe||(pe=Object(u.a)("safari")&&Object(u.a)("mac")||Object(u.a)("trident")?7:2);var be=0,ve=[];function ye(e,t){return me(e,{client:t})}function me(e,t){return ge.apply(this,arguments)}function ge(){return(ge=Object(c.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new N,e.next=3,r.open(t,n);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){return je.apply(this,arguments)}function je(){return(je=Object(c.a)(s.a.mark((function e(t){var r,i,o,c,f,d,p,b,v,y=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=y.length>1&&void 0!==y[1]?y[1]:{},"string"==typeof t){e.next=3;break}throw new l.a("workers:undefined-module","modulePath is missing");case 3:if(i=r.strategy||"distributed",Object(u.a)("host-webworker")&&!Object(u.a)("esri-workers")&&(i="local"),"local"!==i){e.next=16;break}return e.next=7,I.loadWorker(t);case 7:if(o=e.sent,e.t0=o,e.t0){e.next=13;break}return e.next=12,n(624)(t);case 12:o=e.sent;case 13:return Object(h.u)(r.signal),c=r.client||o,e.abrupt("return",me([I.connect(o)],Object(a.a)(Object(a.a)({},r),{},{client:c})));case 16:return e.next=18,_e();case 18:if(Object(h.u)(r.signal),"dedicated"!==i){e.next=28;break}return f=be++%pe,e.t1=me,e.next=24,ve[f].open(t,r);case 24:return e.t2=e.sent,e.t3=[e.t2],e.t4=r,e.abrupt("return",(0,e.t1)(e.t3,e.t4));case 28:if(!(r.maxNumWorkers&&r.maxNumWorkers>0)){e.next=34;break}if(!((d=Math.min(r.maxNumWorkers,pe))<pe)){e.next=34;break}for(p=new Array(d),b=0;b<d;++b)v=be++%pe,p[b]=ve[v].open(t,r);return e.abrupt("return",me(p,r));case 34:return e.abrupt("return",me(ve.map((function(e){return e.open(t,r)})),r));case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var we=null;function _e(){return xe.apply(this,arguments)}function xe(){return(xe=Object(c.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!we){e.next=2;break}return e.abrupt("return",we);case 2:for(Object(h.d)(),t=[],n=function(e){var n=de.create(e).then((function(t){return ve[e]=t,t}));t.push(n)},r=0;r<pe;r++)n(r);return e.abrupt("return",we=Object(h.b)(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";var r=n(5),i=n(6),a=n(13),o=n(2),s=n(3),c=n(4),u=n(24),l=n(9),h=n(289),f=n(87),d=n(117),p=n(26),b=n(187),v=n(145),y=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"acquire",value:function(t,n,r,i,a,o){this.id=e._idGen.gen(t&&t.id),this.geometry=t,this.material=n,this.transformation=r,this.instanceParameters=i,this.origin=a,this.shaderTransformation=o}},{key:"getStaticTransformation",value:function(){return this.transformation}},{key:"getShaderTransformation",value:function(){return this.shaderTransformation?this.shaderTransformation(this.transformation):this.transformation}},{key:"computeAttachmentOrigin",value:function(e){return!!(this.material.computeAttachmentOrigin?this.material.computeAttachmentOrigin(this.geometry,e):this.geometry.computeAttachmentOrigin(e))&&(Object(l.j)(e,e,this.getStaticTransformation()),!0)}}]),e}();y._idGen=new b.a,y.pool=new v.a(y);var m=y,g=n(536),O=n(222),j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(this,e),this._objectTransformation=Object(d.b)(),this._bvObjectSpace=new _,this._bvWorldSpace=new _,this._bvDirty=!0,this._hasVolatileTransformation=!1,this._visible=!0,this.id=e._idGen.gen(t.idHint),this.castShadow=null==t.castShadow||t.castShadow,this.metadata=t.metadata,this.metadata&&this.metadata.isElevationSource&&(this.metadata.lastValidElevationBB=new w),this.objectTransformation=Object(d.b)(),this._initializeGeometryRecords(t.geometries,t.materials,t.transformations,t.origins)}return Object(s.a)(e,[{key:"geometryRecords",get:function(){return this._geometryRecords}},{key:"geometries",get:function(){return this._geometries}},{key:"objectTransformation",get:function(){return this._objectTransformation},set:function(e){Object(f.c)(this._objectTransformation,e),this._invalidateBoundingVolume(),this._notifyDirty("objTransformation")}},{key:"dispose",value:function(){var e,t=Object(a.a)(this._geometryRecords);try{for(t.s();!(e=t.n()).done;){var n=e.value;m.pool.release(n)}}catch(r){t.e(r)}finally{t.f()}this._geometryRecords=null,this._geometries=null}},{key:"_initializeGeometryRecords",value:function(e,t,n,r){if(!Array.isArray(e))return this._geometryRecords=[],void(this._geometries=[]);Object(p.b)(t.length===e.length,"Object3D: materials don't match geometries"),Object(p.b)(n.length===e.length,"Object3D: transformations don't match geometries"),this._geometryRecords=new Array(e.length),this._geometries=e.slice();for(var i=0;i<e.length;i++){this._geometryRecords[i]=m.pool.acquire(e[i],t[i],Object(d.c)(n[i]),{highlights:null,occludees:null,visible:!0},r&&r[i])}this._hasVolatileTransformation=!1}},{key:"parentLayer",get:function(){return this._parentLayer},set:function(e){Object(p.b)(null==this._parentLayer||null==e,"Object3D can only be added to a single Layer"),this._parentLayer=e}},{key:"getNumGeometryRecords",value:function(){return this._geometryRecords.length}},{key:"getGeometryRecord",value:function(e){return Object(p.b)(e>=0&&e<this._geometryRecords.length,"Object3d.getGeometryDataByIndex: index out of range"),this._geometryRecords[e]}},{key:"addGeometry",value:function(e,t,n,r,i,a){n=n||d.a,this._geometries.push(e);var o=m.pool.acquire(e,t,n,r||{highlights:null,occludees:null,visible:!0},i,a);return this._geometryRecords.push(o),this._hasVolatileTransformation=this._geometryRecords.some((function(e){return!!e.shaderTransformation})),this._notifyDirty("objGeometryAdded",o),this._invalidateBoundingVolume(),o}},{key:"removeGeometry",value:function(e){var t=this._geometryRecords.splice(e,1)[0];return m.pool.release(t),this._hasVolatileTransformation=this._geometryRecords.some((function(e){return!!e.shaderTransformation})),this._geometries.splice(e,1),this._notifyDirty("objGeometryRemoved",t),this._invalidateBoundingVolume(),t}},{key:"removeAllGeometries",value:function(){for(;this.getNumGeometryRecords()>0;)this.removeGeometry(0)}},{key:"geometryVertexAttrsUpdated",value:function(e){this._notifyDirty("vertexAttrsUpdated",this._geometryRecords[e]),this._invalidateBoundingVolume()}},{key:"isVisible",get:function(){return this._visible}},{key:"setVisible",value:function(e){this._visible=e;var t,n=Object(a.a)(this._geometryRecords);try{for(n.s();!(t=n.n()).done;){t.value.instanceParameters.visible=this._visible}}catch(r){n.e(r)}finally{n.f()}this._notifyDirty("visibilityChanged")}},{key:"maskOccludee",value:function(){var e,t=Object(g.a)(1),n=Object(a.a)(this._geometryRecords);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.instanceParameters.occludees=Object(O.b)(r.instanceParameters.occludees,t)}}catch(i){n.e(i)}finally{n.f()}return this._notifyDirty("occlusionChanged"),t}},{key:"removeOcclude",value:function(e){var t,n=Object(a.a)(this._geometryRecords);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.instanceParameters.occludees=Object(O.f)(r.instanceParameters.occludees,e)}}catch(i){n.e(i)}finally{n.f()}this._notifyDirty("occlusionChanged")}},{key:"highlight",value:function(){var e,t=Object(g.a)(0),n=Object(a.a)(this._geometryRecords);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.instanceParameters.highlights=Object(O.b)(r.instanceParameters.highlights,t)}}catch(i){n.e(i)}finally{n.f()}return this._notifyDirty("highlightChanged"),t}},{key:"removeHighlight",value:function(e){var t,n=Object(a.a)(this._geometryRecords);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.instanceParameters.highlights=Object(O.f)(r.instanceParameters.highlights,e)}}catch(i){n.e(i)}finally{n.f()}this._notifyDirty("highlightChanged")}},{key:"getCombinedStaticTransformation",value:function(e,t){return Object(f.l)(Object(c.o)(t,Object(d.b)()),this.objectTransformation,e.getStaticTransformation())}},{key:"getCombinedShaderTransformation",value:function(e,t){return t=t||Object(d.b)(),Object(f.l)(t,this.objectTransformation,e.getShaderTransformation()),t}},{key:"hasVolativeTransformation",value:function(){return this._hasVolatileTransformation}},{key:"getBBMin",value:function(e){return this._validateBoundingVolume(),e?this._bvObjectSpace.bbMin:this._bvWorldSpace.bbMin}},{key:"getBBMax",value:function(e){return this._validateBoundingVolume(),e?this._bvObjectSpace.bbMax:this._bvWorldSpace.bbMax}},{key:"getCenter",value:function(e){return this._validateBoundingVolume(),e?this._bvObjectSpace.center:this._bvWorldSpace.center}},{key:"getBSRadius",value:function(e){return this._validateBoundingVolume(),e?this._bvObjectSpace.bsRadius:this._bvWorldSpace.bsRadius}},{key:"_validateBoundingVolume",value:function(){if(this._bvDirty||this._hasVolatileTransformation){this._bvObjectSpace.init(),this._bvWorldSpace.init();for(var e=0;e<this._geometryRecords.length;++e){var t=this._geometries[e],n=this._geometryRecords[e],r=t.boundingInfo;this._calculateTransformedBoundingVolume(r,this._bvObjectSpace,n.getShaderTransformation()),this._calculateTransformedBoundingVolume(r,this._bvWorldSpace,this.getCombinedShaderTransformation(n))}Object(l.f)(this._bvObjectSpace.center,this._bvObjectSpace.bbMin,this._bvObjectSpace.bbMax,.5),Object(l.f)(this._bvWorldSpace.center,this._bvWorldSpace.bbMin,this._bvWorldSpace.bbMax,.5);for(var i=Object(u.e)(),a=Object(u.e)(),o=Object(h.f)(this.objectTransformation),s=0;s<this._geometryRecords.length;++s){var c=this._geometries[s],f=this._geometryRecords[s].getShaderTransformation(),d=Object(h.f)(f),p=c.boundingInfo;Object(l.j)(i,p.getCenter(),f);var b=Object(l.l)(i,this._bvObjectSpace.center),v=p.getBSRadius()*d;this._bvObjectSpace.bsRadius=Math.max(this._bvObjectSpace.bsRadius,b+v),Object(l.j)(a,i,this.objectTransformation);var y=Object(l.l)(a,this._bvWorldSpace.center),m=v*o;this._bvWorldSpace.bsRadius=Math.max(this._bvWorldSpace.bsRadius,y+m)}this._bvDirty=!1}}},{key:"_calculateTransformedBoundingVolume",value:function(e,t,n){var r=e.getBBMin(),i=e.getBBMax(),a=Object(u.d)(r),o=Object(u.d)(i);Object(l.j)(a,a,n),Object(l.j)(o,o,n);for(var s=0;s<3;++s)t.bbMin[s]=Math.min(t.bbMin[s],a[s],o[s]),t.bbMax[s]=Math.max(t.bbMax[s],a[s],o[s]);for(var c=0;c<3;++c){Object(l.h)(a,r),Object(l.h)(o,i),a[c]=i[c],o[c]=r[c],Object(l.j)(a,a,n),Object(l.j)(o,o,n);for(var h=0;h<3;++h)t.bbMin[h]=Math.min(t.bbMin[h],a[h],o[h]),t.bbMax[h]=Math.max(t.bbMax[h],a[h],o[h])}}},{key:"_invalidateBoundingVolume",value:function(){this._bvDirty=!0,this._parentLayer&&this._parentLayer.notifyObjectBBChanged(this,{center:this._bvWorldSpace.center,radius:this._bvWorldSpace.bsRadius})}},{key:"_notifyDirty",value:function(e,t,n,r){if(this._parentLayer){n=n||1;var i=r||this;this._parentLayer.notifyDirty(e,t,n,i)}}},{key:"test",get:function(){var e=this;return{hasGeometry:function(t){return e._geometries.indexOf(t)>-1},getGeometryIndex:function(t){return e._geometries.indexOf(t)}}}}]),e}();j._idGen=new b.a;var w=function(){function e(){Object(o.a)(this,e),this.bbMin=Object(u.g)(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this.bbMax=Object(u.g)(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)}return Object(s.a)(e,[{key:"isEmpty",value:function(){return this.bbMax[0]<this.bbMin[0]&&this.bbMax[1]<this.bbMin[1]&&this.bbMax[2]<this.bbMin[2]}}]),e}(),_=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).center=Object(u.e)(),e.bsRadius=0,e}return Object(s.a)(n,[{key:"init",value:function(){Object(l.t)(this.bbMin,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),Object(l.t)(this.bbMax,-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),Object(l.t)(this.center,0,0,0),this.bsRadius=0}},{key:"getCenter",value:function(){return this.center}},{key:"getBSRadius",value:function(){return this.bsRadius}}]),n}(w);t.a=j},function(e,t,n){"use strict";n.r(t);var r,i=n(38),a=n(10),o=n(32),s=n(7),c=n.n(s),u=n(13),l=n(16),h=n(2),f=n(3),d=n(61),p=n(57),b=n(5),v=n(6),y=n(0),m=(n(15),n(23)),g=n(4),O=n(125),j=n(14),w=(n(18),n(1)),_=n(8),x=n(35),k=n(20),S=(n(12),n(21),n(22),n(17)),E=n(144),T=n(49),M=n(43),C=n(413),A=n(65),P=n(158),I=n(249),D=n(458),L=j.a.getLogger("esri.renderers.DictionaryRenderer"),R=r=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e))._ongoingRequests=new Map,r._symbolCache=new D.a(100),r.config=null,r.fieldMap=null,r.scaleExpression=null,r.scaleExpressionTitle=null,r.url=null,r.type="dictionary",r}return Object(f.a)(n,[{key:"writeData",value:function(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}},{key:"writeVisualVariables",value:function(e,t,r,i){null!=i&&i.origin||Object(d.a)(Object(p.a)(n.prototype),"writeVisualVariables",this).call(this,e,t,r,i)}},{key:"clone",value:function(){return new r({config:Object(m.a)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:Object(m.a)(this.fieldMap),url:Object(m.a)(this.url),visualVariables:Object(m.a)(this.visualVariables)})}},{key:"getSymbolAsync",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,s,l,h,f,d,p,b,v,y,m,g,j,w,_,x,k,E,T,C,A,P,I=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(n)),e.prev=1,e.next=4,this._dictionaryPromise;case 4:r=e.sent,e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(1),!Object(S.l)(e.t0)){e.next=11;break}return e.abrupt("return",(this._dictionaryPromise=null,null));case 11:if(i={},this.fieldMap){a=Object(u.a)(this._symbolFields);try{for(a.s();!(o=a.n()).done;)s=o.value,(l=this.fieldMap[s])&&null!==t.attributes[l]&&void 0!==t.attributes[l]?(h=""+t.attributes[l],i[s]=h):i[s]=""}catch(c){a.e(c)}finally{a.f()}}if((f=r(i,n))&&"string"==typeof f){e.next=16;break}return e.abrupt("return",null);case 16:if(d=Object(O.b)(f).toString(),!(p=this._symbolCache.get(d))){e.next=19;break}return e.abrupt("return",(p.catch((function(){I._symbolCache.pop(d)})),p));case 19:b=f.split(";"),v=[],y=[],m=Object(u.a)(b);try{for(m.s();!(g=m.n()).done;)if((j=g.value)&&0!==j.length)if(-1===j.indexOf("po:"))if(-1!==j.indexOf("|")){w=Object(u.a)(j.split("|"));try{for(w.s();!(_=w.n()).done;)x=_.value,this._itemNames.has(x)&&v.push(x)}catch(c){w.e(c)}finally{w.f()}}else this._itemNames.has(j)&&v.push(j);else 3===(k=j.substr(3).split("|")).length&&(E=k[0],T=k[1],C=k[2],"DashTemplate"===T?C=C.split(" ").map((function(e){return Number(e)})):"Color"===T?(A=new M.a(C).toRgba(),C=[A[0],A[1],A[2],255*A[3]]):C=Number(C),y.push({primitiveName:E,propertyName:T,value:C}))}catch(c){m.e(c)}finally{m.f()}return P=this._cimPartsToCIMSymbol(v,y,n),e.abrupt("return",(this._symbolCache.put(d,P,1),P));case 24:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"collectRequiredFields",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,n);case 2:if(e.t0=this.scaleExpression,!e.t0){e.next=6;break}return e.next=6,Object(T.c)(t,n,this.scaleExpression);case 6:for(i in r=n.map((function(e){return e.name})),this.fieldMap)r.indexOf(this.fieldMap[i])<0||t.add(this.fieldMap[i]);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"arcadeRequired",get:function(){return!0}},{key:"fetchResources",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r,i,s,l,h,f,d,p,b,v,y,m,O,j,w,_,x=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._dictionaryPromise){e.next=2;break}return e.abrupt("return",this._dictionaryPromise);case 2:if(this.url){e.next=4;break}return e.abrupt("return",void L.error("no valid URL!"));case 4:return n=Object(g.h)(t)?t.abortOptions:null,r=Object(A.default)(this.url+"/resources/styles/dictionary-info.json",Object(a.a)({responseType:"json",query:{f:"json"}},n)),e.next=8,Object(S.b)([r,Object(E.e)()]);case 8:if(i=e.sent,s=Object(o.a)(i,1),l=s[0].data){e.next=13;break}throw this._dictionaryPromise=null,new k.a("esri.renderers.DictionaryRenderer","Bad dictionary data!");case 13:if(h=l.expression,f=l.authoringInfo,this._refSymbolUrlTemplate=this.url+"/"+l.cimRefTemplateUrl,this._itemNames=new Set(l.itemsNames),this._symbolFields=f.symbol,d={},this.config)for(b in p=this.config)d[b]=p[b];v=Object(u.a)(f.configuration);try{for(v.s();!(y=v.n()).done;)m=y.value,d.hasOwnProperty(m.name)||(d[m.name]=m.value)}catch(c){v.e(c)}finally{v.f()}if(O=[],Object(g.h)(t)&&t.fields&&this.fieldMap){j=Object(u.a)(this._symbolFields);try{for(_=function(){var e=w.value,n=x.fieldMap[e],r=t.fields.filter((function(e){return e.name===n}));r.length>0&&O.push(Object(a.a)(Object(a.a)({},r[0]),{},{name:e}))},j.s();!(w=j.n()).done;)_()}catch(c){j.e(c)}finally{j.f()}}return e.abrupt("return",(this._dictionaryPromise=Object(E.b)(h,Object(g.h)(t)?t.spatialReference:null,O,d).then((function(e){var t={scale:0};return function(n,r){var i=e.repurposeFeature({geometry:null,attributes:n});return t.scale=Object(g.h)(r)?r.scale:void 0,e.evaluate({$feature:i,$view:t})}})).catch((function(e){return L.error("Creating dictinoary expression failed:",e),null})),this._dictionaryPromise));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSymbol",value:function(){return null}},{key:"getSymbols",value:function(){return[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return"".concat(this.url,"-").concat(JSON.stringify(this.fieldMap))}},{key:"getSymbolFields",value:function(){return this._symbolFields}},{key:"_getSymbolPart",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ongoingRequests.has(t)){e.next=2;break}return e.abrupt("return",this._ongoingRequests.get(t).then((function(e){return e.data})));case 2:return r=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),i=Object(A.default)(r,Object(a.a)({responseType:"json",query:{f:"json"}},n)),this._ongoingRequests.set(t,i),e.prev=4,e.next=7,i;case 7:return e.abrupt("return",e.sent.data);case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",(this._ongoingRequests.delete(t),Object(S.r)(e.t0)));case 13:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_combineSymbolParts",value:function(e,t){if(!e||0===e.length)return null;if(1===e.length)return{type:"CIMSymbolReference",symbol:e[0],primitiveOverrides:t};var n=Object(a.a)({},e[0]);n.symbolLayers=[];var r,o=Object(u.a)(e);try{for(o.s();!(r=o.n()).done;){var s,c=r.value;(s=n.symbolLayers).unshift.apply(s,Object(i.a)(c.symbolLayers))}}catch(l){o.e(l)}finally{o.f()}return{type:"CIMSymbolReference",symbol:n,primitiveOverrides:t}}},{key:"_cimPartsToCIMSymbol",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=new Array(t.length),a=0;a<t.length;a++)i[a]=this._getSymbolPart(t[a],r);return e.next=4,Object(S.b)(i);case 4:return o=e.sent,e.abrupt("return",new C.a({data:this._combineSymbolParts(o,n)}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(Object(I.a)(P.a));Object(y.a)([Object(w.b)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],R.prototype,"config",void 0),Object(y.a)([Object(w.b)({type:Object,json:{write:!0}})],R.prototype,"fieldMap",void 0),Object(y.a)([Object(w.b)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],R.prototype,"scaleExpression",void 0),Object(y.a)([Object(x.a)("scaleExpression")],R.prototype,"writeData",null),Object(y.a)([Object(w.b)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy:function(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],R.prototype,"scaleExpressionTitle",void 0),Object(y.a)([Object(w.b)({type:String,json:{write:!0}})],R.prototype,"url",void 0),Object(y.a)([Object(x.a)("visualVariables")],R.prototype,"writeVisualVariables",null);var N=R=r=Object(y.a)([Object(_.a)("esri.renderers.DictionaryRenderer")],R);t.default=N},function(e,t,n){"use strict";var r,i=n(7),a=n.n(i),o=n(16),s=n(2),c=n(3),u=n(5),l=n(6),h=n(0),f=(n(15),n(23)),d=(n(14),n(18),n(1)),p=n(45),b=n(8),v=(n(12),n(21),n(22),n(49)),y=n(43),m=n(158),g=n(335),O=r=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).blurRadius=10,r.colorStops=[new g.a({ratio:0,color:new y.a("rgba(255, 140, 0, 0)")}),new g.a({ratio:.75,color:new y.a("rgba(255, 140, 0, 1)")}),new g.a({ratio:.9,color:new y.a("rgba(255, 0,   0, 1)")})],r.field=null,r.fieldOffset=0,r.maxPixelIntensity=100,r.minPixelIntensity=0,r.type="heatmap",r}return Object(c.a)(n,[{key:"collectRequiredFields",value:function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=this.field)&&"string"==typeof r&&Object(v.f)(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAttributeHash",value:function(){return null}},{key:"getMeshHash",value:function(){return"".concat(JSON.stringify(this.colorStops),".").concat(this.blurRadius,".").concat(this.field)}},{key:"clone",value:function(){return new r({blurRadius:this.blurRadius,colorStops:Object(f.a)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}}]),n}(m.a);Object(h.a)([Object(d.b)({type:Number,json:{write:!0}})],O.prototype,"blurRadius",void 0),Object(h.a)([Object(d.b)({type:[g.a],json:{write:!0}})],O.prototype,"colorStops",void 0),Object(h.a)([Object(d.b)({type:String,json:{write:!0}})],O.prototype,"field",void 0),Object(h.a)([Object(d.b)({type:Number,json:{write:{overridePolicy:function(e,t,n){return{enabled:null==n}}}}})],O.prototype,"fieldOffset",void 0),Object(h.a)([Object(d.b)({type:Number,json:{write:!0}})],O.prototype,"maxPixelIntensity",void 0),Object(h.a)([Object(d.b)({type:Number,json:{write:!0}})],O.prototype,"minPixelIntensity",void 0),Object(h.a)([Object(p.a)({heatmap:"heatmap"})],O.prototype,"type",void 0);var j=O=r=Object(h.a)([Object(b.a)("esri.renderers.HeatmapRenderer")],O);t.a=j},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d}));var r=n(38),i=n(7),a=n.n(i),o=n(16),s=n(4),c=n(39),u=n(129),l=n(318);function h(e,t){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:return e.abrupt("return",d(t,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(a.a.mark((function e(t,n){var i,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],n((function e(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var o=0,l=n;o<l.length;o++){var h=l[o];Object(s.g)(h)||(Array.isArray(h)?e.apply(void 0,Object(r.a)(h)):c.a.isCollection(h)?h.forEach((function(t){return e(t)})):u.a.isLoadable(h)&&i.push(h))}})),h=null,e.next=5,Object(l.b)(i,function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t1=!1,e.next=3,Object(l.c)("loadAll"in(n=t)&&"function"==typeof n.loadAll?t.loadAll():t.load());case 3:if(e.t2=e.sent.ok,e.t0=e.t1!==e.t2,e.t0){e.next=7;break}e.t0=h;case 7:if(e.t3=e.t0,e.t3){e.next=10;break}h=t;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:if(!h){e.next=7;break}throw h.loadError;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";var r,i=n(13),a=n(7),o=n.n(a),s=n(16),c=n(2),u=n(3),l=n(5),h=n(6),f=n(0),d=(n(15),n(23)),p=n(14),b=n(18),v=n(1),y=n(41),m=n(45),g=n(8),O=(n(12),n(21),n(22),n(49)),j=n(43),w=n(134),_=n(170),x=n(158),k=n(249),S=n(62),E=n(27),T=p.a.getLogger("esri.renderers.support.AttributeColorInfo"),M=r=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).color=null,r.field=null,r.label=null,r.valueExpression=null,r.valueExpressionTitle=null,r}return Object(u.a)(n,[{key:"castField",value:function(e){return null==e?e:"function"==typeof e?(T.error(".field: field must be a string value"),null):Object(b.l)(e)}},{key:"getAttributeHash",value:function(){return"".concat(this.field,"-").concat(this.valueExpression)}},{key:"clone",value:function(){return new r({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}}]),n}(E.a);Object(f.a)([Object(v.b)({type:j.a,json:{type:[Number],write:!0}})],M.prototype,"color",void 0),Object(f.a)([Object(v.b)({type:String,json:{write:!0}})],M.prototype,"field",void 0),Object(f.a)([Object(S.a)("field")],M.prototype,"castField",null),Object(f.a)([Object(v.b)({type:String,json:{write:!0}})],M.prototype,"label",void 0),Object(f.a)([Object(v.b)({type:String,json:{write:!0}})],M.prototype,"valueExpression",void 0),Object(f.a)([Object(v.b)({type:String,json:{write:!0}})],M.prototype,"valueExpressionTitle",void 0);var C,A=M=r=Object(f.a)([Object(g.a)("esri.renderers.support.AttributeColorInfo")],M),P=C=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).unit=null,e}return Object(u.a)(n,[{key:"clone",value:function(){return new C({unit:this.unit})}}]),n}(E.a);Object(f.a)([Object(v.b)({type:String,json:{write:!0}})],P.prototype,"unit",void 0);var I,D=P=C=Object(f.a)([Object(g.a)("esri.renderers.support.DotDensityLegendOptions")],P),L=I=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).attributes=null,r.backgroundColor=new j.a([0,0,0,0]),r.blendDots=!0,r.dotBlendingEnabled=!0,r.dotShape="square",r.dotSize=1,r.legendOptions=null,r.outline=new w.default,r.dotValue=null,r.referenceDotValue=null,r.referenceScale=null,r.seed=1,r.type="dot-density",r}return Object(u.a)(n,[{key:"calculateDotValue",value:function(e){if(null==this.referenceScale)return this.dotValue;var t=e/this.referenceScale*this.dotValue;return t<1?1:t}},{key:"getSymbol",value:function(){return new _.default({outline:this.outline})}},{key:"getSymbolAsync",value:function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSymbol());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSymbols",value:function(){return[this.getSymbol()]}},{key:"getAttributeHash",value:function(){return this.attributes&&this.attributes.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return JSON.stringify(this.outline)}},{key:"clone",value:function(){return new I({attributes:Object(d.a)(this.attributes),backgroundColor:Object(d.a)(this.backgroundColor),dotBlendingEnabled:Object(d.a)(this.dotBlendingEnabled),dotShape:Object(d.a)(this.dotShape),dotSize:Object(d.a)(this.dotSize),dotValue:Object(d.a)(this.dotValue),legendOptions:Object(d.a)(this.legendOptions),outline:Object(d.a)(this.outline),referenceScale:Object(d.a)(this.referenceScale),visualVariables:Object(d.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}},{key:"getControllerHash",value:function(){return"".concat(this.attributes.map((function(e){return e.field||e.valueExpression||""})),"-").concat(this.outline&&JSON.stringify(this.outline.toJSON())||"")}},{key:"collectRequiredFields",value:function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,n);case 2:r=Object(i.a)(this.attributes),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=14;break}if(s=a.value,e.t0=s.valueExpression,!e.t0){e.next=11;break}return e.next=11,Object(O.c)(t,n,s.valueExpression);case 11:s.field&&t.add(s.field);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(3),r.e(e.t1);case 19:return e.prev=19,r.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[3,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Object(k.a)(x.a));Object(f.a)([Object(v.b)({type:[A],json:{write:!0}})],L.prototype,"attributes",void 0),Object(f.a)([Object(v.b)({type:j.a,json:{write:!0}})],L.prototype,"backgroundColor",void 0),Object(f.a)([Object(v.b)({type:Boolean}),Object(y.a)("dotBlendingEnabled")],L.prototype,"blendDots",void 0),Object(f.a)([Object(v.b)({type:Boolean,json:{write:!0}})],L.prototype,"dotBlendingEnabled",void 0),Object(f.a)([Object(v.b)({type:String,json:{write:!1}})],L.prototype,"dotShape",void 0),Object(f.a)([Object(v.b)({type:Number,json:{write:!1}})],L.prototype,"dotSize",void 0),Object(f.a)([Object(v.b)({type:D,json:{write:!0}})],L.prototype,"legendOptions",void 0),Object(f.a)([Object(v.b)({type:w.default,json:{default:null,write:!0}})],L.prototype,"outline",void 0),Object(f.a)([Object(v.b)({type:Number,json:{write:!0}})],L.prototype,"dotValue",void 0),Object(f.a)([Object(v.b)({type:Number}),Object(y.a)("dotValue")],L.prototype,"referenceDotValue",void 0),Object(f.a)([Object(v.b)({type:Number,json:{write:!0}})],L.prototype,"referenceScale",void 0),Object(f.a)([Object(v.b)({type:Number,json:{write:!0}})],L.prototype,"seed",void 0),Object(f.a)([Object(m.a)({dotDensity:"dot-density"})],L.prototype,"type",void 0);var R=L=I=Object(f.a)([Object(g.a)("esri.renderers.DotDensityRenderer")],L);t.a=R},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i,a=n(30),o=n(31),s=n(348);function c(e,t){e.fragment.include(s.a),3===t.output?(e.extensions.add("GL_OES_standard_derivatives"),e.fragment.code.add(Object(o.a)(r||(r=Object(a.a)(["\n      float _calculateFragDepth(const in float depth) {\n        // calc polygon offset\n        const float SLOPE_SCALE = 2.0;\n        const float BIAS = 2.0 * .000015259;    // 1 / (2^16 - 1)\n        float m = max(abs(dFdx(depth)), abs(dFdy(depth)));\n        float result = depth + SLOPE_SCALE * m + BIAS;\n        return clamp(result, .0, .999999);\n      }\n\n      void outputDepth(float _linearDepth) {\n        gl_FragColor = float2rgba(_calculateFragDepth(_linearDepth));\n      }\n    "]))))):1===t.output&&e.fragment.code.add(Object(o.a)(i||(i=Object(a.a)(["\n      void outputDepth(float _linearDepth) {\n        gl_FragColor = float2rgba(_linearDepth);\n      }\n    "]))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(32),i=n(13);function a(e,t){var n,a=Object(i.a)(e);try{for(a.s();!(n=a.n()).done;){var o=Object(r.a)(n.value,2),s=o[0];if(t(o[1],s))return!0}}catch(c){a.e(c)}finally{a.f()}return!1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return O}));var r=n(32),i=n(13),a=n(189);function o(e,t){return Object(a.e)(e,t)}function s(e,t){var n,r,i,a=e.hasZ&&t.hasZ;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(r=t.ymin,e.ymax<r)return!1}else if(r=e.ymin,t.ymax<r)return!1;if(a&&t.hasZ)if(e.zmin<=t.zmin){if(i=t.zmin,e.zmax<i)return!1}else if(i=e.zmin,t.zmax<i)return!1;return!0}function c(e,t){var n,r=t.points,o=t.hasZ?a.b:a.a,s=Object(i.a)(r);try{for(s.s();!(n=s.n()).done;){if(o(e,n.value))return!0}}catch(c){s.e(c)}finally{s.f()}return!1}var u=[0,0],l=[0,0],h=[0,0],f=[0,0],d=[u,l,h,f],p=[[h,u],[u,l],[l,f],[f,h]];function b(e,t){u[0]=e.xmin,u[1]=e.ymax,l[0]=e.xmax,l[1]=e.ymax,h[0]=e.xmin,h[1]=e.ymin,f[0]=e.xmax,f[1]=e.ymin;var n,r=Object(i.a)(d);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(Object(a.f)(t,o))return!0}}catch(O){r.e(O)}finally{r.f()}var s,c=Object(i.a)(t.rings);try{for(c.s();!(s=c.n()).done;){var b=s.value;if(b.length){var v=b[0];if(Object(a.a)(e,v))return!0;for(var y=1;y<b.length;y++){var m=b[y];if(Object(a.a)(e,m)||g(v,m,p))return!0;v=m}}}}catch(O){c.e(O)}finally{c.f()}return!1}function v(e,t){u[0]=e.xmin,u[1]=e.ymax,l[0]=e.xmax,l[1]=e.ymax,h[0]=e.xmin,h[1]=e.ymin,f[0]=e.xmax,f[1]=e.ymin;var n,r=t.paths,o=Object(i.a)(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(r.length){var c=s[0];if(Object(a.a)(e,c))return!0;for(var d=1;d<s.length;d++){var b=s[d];if(Object(a.a)(e,b)||g(c,b,p))return!0;c=b}}}}catch(v){o.e(v)}finally{o.f()}return!1}var y=[0,0];function m(e){for(var t=0;t<e.length;t++){for(var n=e[t],r=0;r<n.length-1;r++)for(var i=n[r],a=n[r+1],o=t+1;o<e.length;o++)for(var s=0;s<e[o].length-1;s++){var c=e[o][s],u=e[o][s+1];if(O(i,a,c,u,y)&&!(y[0]===i[0]&&y[1]===i[1]||y[0]===c[0]&&y[1]===c[1]||y[0]===a[0]&&y[1]===a[1]||y[0]===u[0]&&y[1]===u[1]))return!0}var l=n.length;if(!(l<=4))for(var h=0;h<l-3;h++){var f=l-1;0===h&&(f=l-2);for(var d=n[h],p=n[h+1],b=h+2;b<f;b++){var v=n[b],m=n[b+1];if(O(d,p,v,m,y)&&!(y[0]===d[0]&&y[1]===d[1]||y[0]===v[0]&&y[1]===v[1]||y[0]===p[0]&&y[1]===p[1]||y[0]===m[0]&&y[1]===m[1]))return!0}}}return!1}function g(e,t,n){for(var r=0;r<n.length;r++)if(O(e,t,n[r][0],n[r][1]))return!0;return!1}function O(e,t,n,i,a){var o=Object(r.a)(e,2),s=o[0],c=o[1],u=Object(r.a)(t,2),l=u[0],h=u[1],f=Object(r.a)(n,2),d=f[0],p=f[1],b=Object(r.a)(i,2),v=b[0]-d,y=s-d,m=l-s,g=b[1]-p,O=c-p,j=h-c,w=g*m-v*j;if(0===w)return!1;var _=(v*O-g*y)/w,x=(m*O-j*y)/w;return _>=0&&_<=1&&x>=0&&x<=1&&(a&&(a[0]=s+_*(l-s),a[1]=c+_*(h-c)),!0)}function j(e){switch(e){case"esriGeometryEnvelope":case"extent":return s;case"esriGeometryMultipoint":case"multipoint":return c;case"esriGeometryPoint":case"point":return o;case"esriGeometryPolygon":case"polygon":return b;case"esriGeometryPolyline":case"polyline":return v;case"mesh":return s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubNavContext=t.default=void 0;var r,i=(r=n(100))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(19)),o=n(193),s=n(390);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=(0,a.createContext)({legacy:void 0,blue:void 0,backgroundColor:"blue"});t.SubNavContext=l,l.displayName="SubNavContext";var h=function(e){var t=e.children,n=e.blue,r=e.backgroundColor,i=e.legacy,h=u(e,["children","blue","backgroundColor","legacy"]),f=(0,o.useContextState)({legacy:i,blue:n,backgroundColor:r});return a.default.createElement(l.Provider,{value:f},a.default.createElement(s.StyledSubNav,c({backgroundColor:f.backgroundColor,legacy:f.legacy,blue:f.blue},h),a.default.createElement(s.StyledSubNavContent,{legacy:f.legacy},a.Children.toArray(t).filter((function(e){return"SubNavTitle"===(0,o.getChildType)(e)||"SubNavList"===(0,o.getChildType)(e)}))),i&&a.Children.toArray(t).filter((function(e){return"SubNavActions"===(0,o.getChildType)(e)}))))};t.default=h,h.propTypes={children:i.default.node,backgroundColor:i.default.string,backgroundImage:i.default.node,overlayGradient:i.default.bool,gradientFromColor:i.default.string,gradientToColor:i.default.string,legacy:i.default.bool,blue:i.default.bool,contentWidth:i.default.string,contentMaxWidth:i.default.string},h.defaultProps={backgroundColor:"blue",overlayGradient:!0},h.displayName="SubNav"},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return f}));var r=n(10),i=n(32),a=n(125),o=n(96),s={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function c(e){e||(e=Object(o.b)());var t=e in s;if(!t){var n=e.split("-");n.length>1&&n[0]in s&&(e=n[0],t=!0),t||(e="en")}var r=Object(i.a)(s[e],3),a=r[0],c=r[1],u=r[2];return{decimal:a,group:c,pattern:void 0===u?"#,##0.###":u}}function u(e,t){var n=c((t=Object(r.a)({},t)).locale);t.customs=n;var i=t.pattern||n.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,n){var r=(n=n||{}).customs.group,i=n.customs.decimal,a=t.split(";"),o=a[0];if(-1!==(t=a[e<0?1:0]||"-"+o).indexOf("%"))e*=100;else if(-1!==t.indexOf("\u2030"))e*=1e3;else{if(-1!==t.indexOf("\xa4"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}var s=l,c=o.match(s);if(!c)throw new Error("unable to find a number expression in pattern: "+t);return!1===n.fractional&&(n.places=0),t.replace(s,function(e,t,n){!0===(n=n||{}).places&&(n.places=0),n.places===1/0&&(n.places=6);var r=t.split("."),i="string"==typeof n.places&&n.places.indexOf(","),a=n.places;i?a=n.places.substring(i+1):a>=0||(a=(r[1]||[]).length),n.round<0||(e=Number(e.toFixed(Number(a))));var o=String(Math.abs(e)).split("."),s=o[1]||"";if(r[1]||n.places){i&&(n.places=n.places.substring(0,i));var c=void 0!==n.places?n.places:r[1]&&r[1].lastIndexOf("0")+1;c>s.length&&(o[1]=s.padEnd(Number(c),"0")),a<s.length&&(o[1]=s.substr(0,Number(a)))}else o[1]&&o.pop();var u=r[0].replace(",",""),l=u.indexOf("0");-1!==l&&((l=u.length-l)>o[0].length&&(o[0]=o[0].padStart(l,"0")),-1===u.indexOf("#")&&(o[0]=o[0].substr(o[0].length-l)));var h,f,d=r[0].lastIndexOf(",");if(-1!==d){h=r[0].length-d-1;var p=r[0].substr(0,d);-1!==(d=p.lastIndexOf(","))&&(f=p.length-d-1)}for(var b=[],v=o[0];v;){var y=v.length-h;b.push(y>0?v.substr(y):v),v=y>0?v.slice(0,y):"",f&&(h=f,f=void 0)}return o[0]=b.reverse().join(n.group||","),o.join(n.decimal||".")}(e,c[0],{decimal:i,group:r,places:n.places,round:n.round}))}(e,i,t)}var l=/[#0,]*[#0](?:\.0*#*)?/;function h(e){var t=c((e=e||{}).locale),n=e.pattern||t.pattern,r=t.group,i=t.decimal,o=1;if(-1!==n.indexOf("%"))o/=100;else if(-1!==n.indexOf("\u2030"))o/=1e3;else if(-1!==n.indexOf("\xa4"))throw new Error("currency notation not supported");var s=n.split(";");return 1===s.length&&s.push("-"+s[0]),{regexp:p(s,(function(t){return(t="(?:"+Object(a.a)(t,".")+")").replace(l,(function(t){var n={signed:!1,separator:e.strict?r:[r,""],fractional:e.fractional,decimal:i,exponent:!1},a=t.split("."),s=e.places;1===a.length&&1!==o&&(a[1]="###"),1===a.length||0===s?n.fractional=!1:(void 0===s&&(s=e.pattern?a[1].lastIndexOf("0")+1:1/0),s&&null==e.fractional&&(n.fractional=!0),!e.places&&s<a[1].length&&(s+=","+a[1].length),n.places=s);var c=a[0].split(",");return c.length>1&&(n.groupSize=c.pop().length,c.length>1&&(n.groupSize2=c.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=d(e),n=p(e.fractional,(function(t){var n="";return t&&0!==e.places&&(n="\\"+e.decimal,e.places===1/0?n="(?:"+n+"\\d+)?":n+="\\d{"+e.places+"}"),n}),!0),r=t+n;return n&&(r="(?:(?:"+r+")|(?:"+n+"))"),r+p(e.exponent,(function(t){return t?"([eE]"+d({signed:e.eSigned})+")":""}))}(n)+")"}))}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:r,decimal:i,factor:o}}function f(e,t){var n=h(t),r=new RegExp("^"+n.regexp+"$").exec(e);if(!r)return NaN;var i=r[1];if(!r[1]){if(!r[2])return NaN;i=r[2],n.factor*=-1}return i=i.replace(new RegExp("["+n.group+"\\s\\xa0]","g"),"").replace(n.decimal,"."),Number(i)*n.factor}function d(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",p(e.signed,(function(e){return e?"[-+]":""}),!0)+p(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=Object(a.a)(t))?t="\\s":"\xa0"===t&&(t="\\s\\xa0");var n=e.groupSize,r=e.groupSize2;if(r){var i="(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*["+t+"]\\d{"+n+"})";return n-r>0?"(?:"+i+"|(?:0|[1-9]\\d{0,"+(n-1)+"}))":i}return"(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*)"}),!0)}var p=function(e,t,n){if(!(e instanceof Array))return t(e);for(var r=[],i=0;i<e.length;i++)r.push(t(e[i]));return b(r.join("|"),n)},b=function(e,t){return"("+(t?"?:":"")+e+")"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=1,n=(0,r.default)(e),a=n.getUTCDay(),o=(a<t?7:0)+a-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var n=t||{},o=n.locale,s=o&&o.options&&o.options.weekStartsOn,c=null==s?0:(0,r.default)(s),u=null==n.weekStartsOn?c:(0,r.default)(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,i.default)(e),h=l.getUTCDay(),f=(h<u?7:0)+h-u;return l.setUTCDate(l.getUTCDate()-f),l.setUTCHours(0,0,0,0),l};var r=o(n(110)),i=o(n(75)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var a=n>0?(r+i(t))%r:i(t);return n*r+a};var r=6e4;function i(e){return e.getTime()%r}e.exports=t.default},function(e,t,n){"use strict";var r=n(38),i=n(2),a=n(3),o=n(5),s=n(6),c=n(86),u=n(24),l=n(187),h=n(13),f=n(145),d=n(140),p=n(9),b=n(55),v=n(26),y=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(i.a)(this,e),this.center=Object(u.e)(),this.initFrom(t,n,r,0)}return Object(a.a)(e,[{key:"init",value:function(e){return this.initFrom(e.node,e.center,e.halfSize,e.depth)}},{key:"initFrom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.halfSize,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.depth;return this.node=t||e.createEmptyNode(),n&&Object(p.h)(this.center,n),this.halfSize=r,this.depth=i,this}},{key:"advance",value:function(t){var n=this.node.children[t];n||(n=e.createEmptyNode(),this.node.children[t]=n),this.node=n,this.halfSize/=2,this.depth++;var r=x[t];return this.center[0]+=r[0]*this.halfSize,this.center[1]+=r[1]*this.halfSize,this.center[2]+=r[2]*this.halfSize,this}},{key:"advanceTo",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];;){if(this.isTerminalFor(e))return t&&t(this,-1),!0;if(this.isLeaf()&&!n)return t&&t(this,-1),!1;this.isLeaf()&&(this.node.residents=null);var r=this._childIndex(e);t&&t(this,r),this.advance(r)}}},{key:"isLeaf",value:function(){return null!=this.node.residents}},{key:"isTerminalFor",value:function(e){return e.radius>this.halfSize/2}},{key:"_childIndex",value:function(e){for(var t=e.center,n=this.center,r=0,i=0;i<3;i++)n[i]<t[i]&&(r|=1<<i);return r}}],[{key:"createEmptyNode",value:function(){return{children:[null,null,null,null,null,null,null,null],terminals:new d.a({shrink:!0}),residents:new d.a({shrink:!0})}}},{key:"acquire",value:function(){return e._pool.acquire()}},{key:"release",value:function(t){e._pool.release(t)}},{key:"clearPool",value:function(){e._pool.prune()}}]),e}();function m(e,t,n){e[0]=Math.min(e[0],t[0]-n),e[1]=Math.min(e[1],t[1]-n),e[2]=Math.min(e[2],t[2]-n)}function g(e,t,n){e[0]=Math.max(e[0],t[0]+n),e[1]=Math.max(e[1],t[1]+n),e[2]=Math.max(e[2],t[2]+n)}function O(e,t,n){return(n=n||e)[0]=e[0]+t,n[1]=e[1]+t,n[2]=e[2]+t,n}function j(e,t,n){return!b.b.intersectsSphere(n.planes,b.f.wrap(t,e))}function w(e,t){for(var n=1/0,r=null,i=0;i<8;++i){var a=_(e,t,k[i]);a<n&&(n=a,r=k[i])}return r}function _(e,t,n){return t*(e[0]*n[0]+e[1]*n[1]+e[2]*n[2])}y._pool=new f.a(y);var x=[Object(u.g)(-1,-1,-1),Object(u.g)(1,-1,-1),Object(u.g)(-1,1,-1),Object(u.g)(1,1,-1),Object(u.g)(-1,-1,1),Object(u.g)(1,-1,1),Object(u.g)(-1,1,1),Object(u.g)(1,1,1)],k=[Object(u.g)(-1,-1,-1),Object(u.g)(-1,-1,1),Object(u.g)(-1,1,-1),Object(u.g)(-1,1,1),Object(u.g)(1,-1,-1),Object(u.g)(1,-1,1),Object(u.g)(1,1,-1),Object(u.g)(1,1,1)],S=Math.sqrt(3),E=[null];function T(e){return Array.isArray(e)?e:(E[0]=e,E)}var M=Object(u.e)(),C=Object(u.e)(),A=Object(u.e)(),P=Object(u.e)(),I=new d.a,D={center:Object(u.e)(),radius:0},L={center:Object(u.e)(),radius:0},R={center:Object(u.e)(),radius:0},N={center:Object(u.e)(),radius:0},F=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],z=new d.a,V=new d.a,U=function(){function e(t,n){Object(i.a)(this,e),this._objectToBoundingSphere=t,this._maximumObjectsPerNode=10,this._maximumDepth=20,this._degenerateObjects=new Set,this._objectCount=0,n&&(void 0!==n.maximumObjectsPerNode&&(this._maximumObjectsPerNode=n.maximumObjectsPerNode),void 0!==n.maximumDepth&&(this._maximumDepth=n.maximumDepth)),this._root=new y(null,Object(u.g)(0,0,0),0)}return Object(a.a)(e,[{key:"center",get:function(){return this._root.center}},{key:"size",get:function(){return 2*this._root.halfSize}},{key:"root",get:function(){return this._root.node}},{key:"maximumObjectsPerNode",get:function(){return this._maximumObjectsPerNode}},{key:"maximumDepth",get:function(){return this._maximumDepth}},{key:"objectCount",get:function(){return this._objectCount}},{key:"destroy",value:function(){this._degenerateObjects.clear(),this._root=null,y.clearPool(),E[0]=null,I.prune(),z.prune(),V.prune()}},{key:"add",value:function(e,t){var n=T(e);t=null==t?n.length:t,this._objectCount+=t,this._grow(n,t);for(var r=y.acquire(),i=0;i<t;i++){var a=n[i];this._isDegenerate(a)?this._degenerateObjects.add(a):(r.init(this._root),this._add(a,r))}y.release(r)}},{key:"remove",value:function(e,t){var n=T(e);this._objectCount-=n.length;var r,i=y.acquire(),a=Object(h.a)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=t||this._boundingSphereFromObject(o,D);this._isValidRadius(s.radius)?(i.init(this._root),this._remove(o,s,i)):this._degenerateObjects.delete(o)}}catch(c){a.e(c)}finally{a.f()}y.release(i),this._shrink()}},{key:"update",value:function(e,t){!this._isValidRadius(t.radius)&&this._isDegenerate(e)||(this.remove(e,t),this.add(e))}},{key:"forEachAlongRay",value:function(e,t,n){var r=this,i=b.e.wrap(e,t);this._forEachNode(this._root,(function(e){if(!r._intersectsNode(i,e))return!1;var t=e.node;return t.terminals.forAll((function(e){r._intersectsObject(i,e)&&n(e)})),null!==t.residents&&t.residents.forAll((function(e){r._intersectsObject(i,e)&&n(e)})),!0}))}},{key:"forEachAlongRayWithVerticalOffset",value:function(e,t,n,r){var i=this,a=b.e.wrap(e,t);this._forEachNode(this._root,(function(e){if(!i._intersectsNodeWithOffset(a,e,r))return!1;var t=e.node;return t.terminals.forAll((function(e){i._intersectsObjectWithOffset(a,e,r)&&n(e)})),null!==t.residents&&t.residents.forAll((function(e){i._intersectsObjectWithOffset(a,e,r)&&n(e)})),!0}))}},{key:"forEach",value:function(e){this._forEachNode(this._root,(function(t){var n=t.node;return n.terminals.forAll(e),null!==n.residents&&n.residents.forAll(e),!0})),this._degenerateObjects.forEach(e)}},{key:"forEachDegenerateObject",value:function(e){this._degenerateObjects.forEach(e)}},{key:"findClosest",value:function(e,t,n,r,i){return this._findClosest(e,"front-to-back"===t?1:-1,n,r,i)}},{key:"forEachInDepthRange",value:function(e,t,n,r,i,a,o,s){this._forEachInDepthRange(e,t,"front-to-back"===n?1:-1,r,i,a,o,s)}},{key:"forEachNode",value:function(e){this._forEachNode(this._root,(function(t){return e(t.node,t.center,2*t.halfSize)}))}},{key:"_intersectsNode",value:function(e,t){return O(t.center,2*-t.halfSize,A),O(t.center,2*t.halfSize,P),Object(v.k)(e.origin,e.direction,A,P)}},{key:"_intersectsNodeWithOffset",value:function(e,t,n){return O(t.center,2*-t.halfSize,A),O(t.center,2*t.halfSize,P),n.applyToMinMax(A,P),Object(v.k)(e.origin,e.direction,A,P)}},{key:"_intersectsObject",value:function(e,t){var n=this._objectToBoundingSphere.getRadius(t);return!(n>0)||b.f.intersectsRay(b.f.wrap(n,this._objectToBoundingSphere.getCenter(t)),e)}},{key:"_intersectsObjectWithOffset",value:function(e,t,n){var r=this._objectToBoundingSphere.getRadius(t);return!(r>0)||b.f.intersectsRay(n.applyToBoundingSphere(r,this._objectToBoundingSphere.getCenter(t)),e)}},{key:"_forEachNode",value:function(e,t){for(var n=y.acquire().init(e),r=[n];0!==r.length;){if(t(n=r.pop())&&!n.isLeaf())for(var i=0;i<n.node.children.length;i++)n.node.children[i]&&r.push(y.acquire().init(n).advance(i));y.release(n)}}},{key:"_forEachNodeDepthOrdered",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=y.acquire().init(e),a=[i];for(function(e,t,n){if(!z.length)for(var r=0;r<8;++r)z.push({index:0,distance:0});for(var i=0;i<8;++i){var a=x[i];z.data[i].index=i,z.data[i].distance=_(e,t,a)}z.sort((function(e,t){return e.distance-t.distance})),n.clear();for(var o=0;o<8;++o)n.push(z.data[o].index)}(n,r,V);0!==a.length;){if(t(i=a.pop())&&!i.isLeaf())for(var o=7;o>=0;--o){var s=V.data[o];s>=i.node.children.length||i.node.children[s]&&a.push(y.acquire().init(i).advance(s))}y.release(i)}}},{key:"_findClosest",value:function(e,t,n,r,i){var a=this,o=1/0,s=1/0,c=null,u=w(e,t),l=0,h=function(i){if(++l,!r||r(i)){var u=a._objectToBoundingSphere.getCenter(i),h=a._objectToBoundingSphere.getRadius(i);if(!n||!j(u,h,n)){var f=_(e,t,u),d=f-h;d<o&&(o=d,s=f+h,c=i)}}};return this._forEachNodeDepthOrdered(this._root,(function(r){if(null!=i&&l>=i)return!1;if(n&&j(r.center,r.halfSize*S,n))return!1;if(Object(p.b)(C,u,r.halfSize),Object(p.c)(C,C,r.center),_(e,t,C)>s)return!1;var a=r.node;return a.terminals.forAll((function(e){h(e)})),null!==a.residents&&a.residents.forAll((function(e){h(e)})),!0}),e,t),c}},{key:"_forEachInDepthRange",value:function(e,t,n,r,i,a,o,s){var c=this,u=-1/0,l=1/0,h={setRange:function(e){1===n?(u=Math.max(u,e.near),l=Math.min(l,e.far)):(u=Math.max(u,-e.far),l=Math.min(l,-e.near))}};h.setRange(r);var f=_(t,n,e),d=w(t,n),b=w(t,-1*n),v=0,y=function(e){if(++v,!o||o(e)){var r=c._objectToBoundingSphere.getCenter(e),s=c._objectToBoundingSphere.getRadius(e),d=_(t,n,r)-f;d-s>l||d+s<u||a&&j(r,s,a)||i(e,h)}};this._forEachNodeDepthOrdered(this._root,(function(e){if(null!=s&&v>=s)return!1;if(a&&j(e.center,e.halfSize*S,a))return!1;if(Object(p.b)(C,d,e.halfSize),Object(p.c)(C,C,e.center),_(t,n,C)-f>l)return!1;if(Object(p.b)(C,b,e.halfSize),Object(p.c)(C,C,e.center),_(t,n,C)-f<u)return!1;var r=e.node;return r.terminals.forAll((function(e){y(e)})),null!==r.residents&&r.residents.forAll((function(e){y(e)})),!0}),t,n)}},{key:"_remove",value:function(e,t,n){I.clear();var r=n.advanceTo(t,(function(e,t){I.push(e.node),I.push(t)}))?n.node.terminals:n.node.residents;if(r.removeUnordered(e),0===r.length)for(var i=I.length-2;i>=0;i-=2){var a=I.data[i],o=I.data[i+1];if(!this._purge(a,o))break}}},{key:"_nodeIsEmpty",value:function(e){if(0!==e.terminals.length)return!1;if(null!==e.residents)return 0===e.residents.length;for(var t=0;t<e.children.length;t++)if(e.children[t])return!1;return!0}},{key:"_purge",value:function(e,t){return t>=0&&(e.children[t]=null),!!this._nodeIsEmpty(e)&&(null===e.residents&&(e.residents=new d.a({shrink:!0})),!0)}},{key:"_add",value:function(e,t){t.advanceTo(this._boundingSphereFromObject(e,D))?t.node.terminals.push(e):(t.node.residents.push(e),t.node.residents.length>this._maximumObjectsPerNode&&t.depth<this._maximumDepth&&this._split(t))}},{key:"_split",value:function(e){var t=e.node.residents;e.node.residents=null;for(var n=0;n<t.length;n++){var r=y.acquire().init(e);this._add(t.data[n],r),y.release(r)}}},{key:"_grow",value:function(e,t){var n=this;if(0!==t){var r=this._boundingSphereFromObjects(e,t,(function(e,t){return n._boundingSphereFromObject(e,t)}),L);if(this._isValidRadius(r.radius)&&!this._fitsInsideTree(r))if(this._nodeIsEmpty(this._root.node))Object(p.h)(this._root.center,r.center),this._root.halfSize=1.25*r.radius;else{var i=y.acquire();this._rootBoundsForRootAsSubNode(r,i),this._placingRootViolatesMaxDepth(i)?this._rebuildTree(r,i):this._growRootAsSubNode(i),y.release(i)}}}},{key:"_rebuildTree",value:function(e,t){var n=this;Object(p.h)(R.center,t.center),R.radius=t.halfSize;var r=this._boundingSphereFromObjects([e,R],2,(function(e){return e}),N),i=y.acquire().init(this._root);this._root.initFrom(null,r.center,1.25*r.radius),this._forEachNode(i,(function(e){return n.add(e.node.terminals.data,e.node.terminals.length),null!==e.node.residents&&n.add(e.node.residents.data,e.node.residents.length),!0})),y.release(i)}},{key:"_placingRootViolatesMaxDepth",value:function(e){var t=0;return this._forEachNode(this._root,(function(e){return t=Math.max(t,e.depth),!0})),t+Math.log(e.halfSize/this._root.halfSize)*Math.LOG2E>this._maximumDepth}},{key:"_rootBoundsForRootAsSubNode",value:function(e,t){for(var n=e.radius,r=e.center,i=-1/0,a=this._root.center,o=this._root.halfSize,s=0;s<3;s++){var c=a[s]-o-(r[s]-n),u=r[s]+n-(a[s]+o),l=Math.max(0,Math.ceil(c/(2*o))),h=Math.max(0,Math.ceil(u/(2*o)))+1,f=Math.pow(2,Math.ceil(Math.log(l+h)*Math.LOG2E));i=Math.max(i,f),F[s].min=l,F[s].max=h}for(var d=0;d<3;d++){var p=F[d].min,b=F[d].max,v=(i-(p+b))/2;p+=Math.ceil(v),b+=Math.floor(v);var y=a[d]-o-p*o*2;M[d]=y+(b+p)*o}return t.initFrom(null,M,i*o,0)}},{key:"_growRootAsSubNode",value:function(e){var t=this._root.node;Object(p.h)(L.center,this._root.center),L.radius=this._root.halfSize,this._root.init(e),e.advanceTo(L,null,!0),e.node.children=t.children,e.node.residents=t.residents,e.node.terminals=t.terminals}},{key:"_shrink",value:function(){for(;;){var e=this._findShrinkIndex();if(-1===e)break;this._root.advance(e),this._root.depth=0}}},{key:"_findShrinkIndex",value:function(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;for(var e=null,t=this._root.node.children,n=0,r=0;r<t.length&&null==e;)e=t[n=r++];for(;r<t.length;)if(t[r++])return-1;return n}},{key:"_isDegenerate",value:function(e){var t=this._objectToBoundingSphere.getRadius(e);return!this._isValidRadius(t)}},{key:"_isValidRadius",value:function(e){return!isNaN(e)&&e!==-1/0&&e!==1/0&&e>0}},{key:"_fitsInsideTree",value:function(e){var t=this._root.center,n=this._root.halfSize,r=e.center;return e.radius<=n&&r[0]>=t[0]-n&&r[0]<=t[0]+n&&r[1]>=t[1]-n&&r[1]<=t[1]+n&&r[2]>=t[2]-n&&r[2]<=t[2]+n}},{key:"_boundingSphereFromObject",value:function(e,t){return Object(p.h)(t.center,this._objectToBoundingSphere.getCenter(e)),t.radius=this._objectToBoundingSphere.getRadius(e),t}},{key:"_boundingSphereFromObjects",value:function(e,t,n,r){if(1===t){var i=n(e[0],L);Object(p.h)(r.center,i.center),r.radius=i.radius}else{A[0]=1/0,A[1]=1/0,A[2]=1/0,P[0]=-1/0,P[1]=-1/0,P[2]=-1/0;for(var a=0;a<t;a++){var o=n(e[a],L);this._isValidRadius(o.radius)&&(m(A,o.center,o.radius),g(P,o.center,o.radius))}Object(p.f)(r.center,A,P,.5),r.radius=Math.max(P[0]-A[0],P[1]-A[1],P[2]-A[2])/2}return r}}]),e}(),B=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r,a){var o;return Object(i.a)(this,n),(o=t.call(this))._parentStages=new Map,o._objects=new Set,o.id=n._idGen.gen(e),o.apiLayerUid=a,o.name=e,r=r||{},o.group=r.group||"",o.isVisible=null==r.isVisible||r.isVisible,o.isPickable=null==r.isPickable||r.isPickable,o.isSliceable=!1,o.translation=r.translation?Object(u.d)(r.translation):Object(u.e)(),o}return Object(a.a)(n,[{key:"addParentStage",value:function(e){if(!this._parentStages.has(e)){var t=this.on("dirty",(function(t){e.notifyDirty(t.origin,t.dirtyType,t.subObject)}));this._parentStages.set(e,t)}}},{key:"removeParentStage",value:function(e){var t=this._parentStages.get(e);t&&(t.remove(),this._parentStages.delete(e)),this.invalidateSpatialQueryAccelerator()}},{key:"getName",value:function(){return this.name}},{key:"getGroup",value:function(){return this.group}},{key:"getTranslation",value:function(){return this.translation}},{key:"getObjectIds",value:function(){return Array.from(this._objects,(function(e){return e.id}))}},{key:"getObjects",value:function(){return Object(r.a)(this._objects)}},{key:"addObject",value:function(e){this._objects.add(e),e.parentLayer=this,this.notifyDirty("layerObjectAdded",e),this._octree&&this._octree.add(e)}},{key:"hasObject",value:function(e){return this._objects.has(e)}},{key:"removeObject",value:function(e){return!!this._objects.delete(e)&&(e.parentLayer=null,this.notifyDirty("layerObjectRemoved",e),this._octree&&this._octree.remove(e),!0)}},{key:"notifyObjectBBChanged",value:function(e,t){this._octree&&this._octree.update(e,t)}},{key:"getSpatialQueryAccelerator",value:function(){return!this._octree&&this._objects.size>50&&this._createOctree(),this._octree}},{key:"shaderTransformationChanged",value:function(){this.notifyDirty("shaderTransformationChanged",null)}},{key:"invalidateSpatialQueryAccelerator",value:function(){this._octree&&(this._octree.destroy(),this._octree=null)}},{key:"notifyDirty",value:function(e,t,n,r){var i={origin:r||this,dirtyType:e,subObject:t};this.emit("dirty",i)}},{key:"_createOctree",value:function(){this._octree=new U({getRadius:function(e){return e.getBSRadius()},getCenter:function(e){return e.getCenter()}}),this._octree.add(Object(r.a)(this._objects))}}]),n}(c.a);B._idGen=new l.a;t.a=B},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,i,a,o,s,c,u,l=n(30),h=n(31),f=n(616);function d(e){e.fragment.uniforms.add("projInfo","vec4"),e.fragment.uniforms.add("zScale","vec2"),e.fragment.code.add(Object(h.a)(r||(r=Object(l.a)(["\n    vec3 reconstructPosition(vec2 fragCoord, float depth) {\n      return vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);\n    }\n  "]))))}function p(e,t){e.extensions.add("GL_OES_standard_derivatives"),e.include(f.a),e.include(d),e.fragment.uniforms.add("glowColor","vec3"),e.fragment.uniforms.add("glowWidth","float"),e.fragment.uniforms.add("glowFalloff","float"),e.fragment.uniforms.add("innerColor","vec3"),e.fragment.uniforms.add("innerWidth","float"),e.fragment.uniforms.add("depthMap","sampler2D"),e.fragment.uniforms.add("nearFar","vec2"),e.fragment.uniforms.add("frameColor","sampler2D"),t.contrastControlEnabled&&e.fragment.uniforms.add("globalAlphaContrastBoost","float"),e.fragment.code.add(Object(h.a)(i||(i=Object(l.a)(["\n  vec4 blendPremultiplied(vec4 source, vec4 dest) {\n    float oneMinusSourceAlpha = 1.0 - source.a;\n\n    return vec4(\n      source.rgb + dest.rgb * oneMinusSourceAlpha,\n      source.a + dest.a * oneMinusSourceAlpha\n    );\n  }\n  "])))),e.fragment.code.add(Object(h.a)(a||(a=Object(l.a)(["\n  vec4 premultipliedColor(vec3 rgb, float alpha) {\n    return vec4(rgb * alpha, alpha);\n  }\n  "])))),e.fragment.code.add(Object(h.a)(o||(o=Object(l.a)(["\n  vec4 laserlineProfile(float dist) {\n    if (dist > glowWidth) {\n      return vec4(0.0);\n    }\n\n    float innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));\n    float glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\n\n    return blendPremultiplied(\n      premultipliedColor(innerColor, innerAlpha),\n      premultipliedColor(glowColor, glowAlpha)\n    );\n  }\n  "])))),e.fragment.code.add(Object(h.a)(s||(s=Object(l.a)(["\n  bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {\n    float depth = linearDepthFromTexture(depthMap, uv, nearFar);\n\n    if (-depth == nearFar[0]) {\n      return false;\n    }\n\n    pos = reconstructPosition(gl_FragCoord.xy, depth);\n    normal = normalize(cross(dFdx(pos), dFdy(pos)));\n\n    float ddepth = fwidth(depth);\n    depthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);\n\n    return true;\n  }\n  "])))),t.contrastControlEnabled?e.fragment.code.add(Object(h.a)(c||(c=Object(l.a)(["\n    float rgbToLuminance(vec3 color) {\n      return dot(vec3(0.2126, 0.7152, 0.0722), color);\n    }\n\n    vec4 laserlineOutput(vec4 color) {\n      float backgroundLuminance = rgbToLuminance(texture2D(frameColor, uv).rgb);\n      float alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\n\n      return color * alpha;\n    }\n    "])))):e.fragment.code.add(Object(h.a)(u||(u=Object(l.a)(["\n    vec4 laserlineOutput(vec4 color) {\n      return color * globalAlpha;\n    }\n    "]))))}},function(e,t,n){"use strict";var r=n(104);t.a=function(e,t){var n;void 0===t&&(t=!0);var i=new Promise((function(r){n=setTimeout(r,e,t)}));return i[r.a]=function(){clearTimeout(n)},i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f}));var r=n(316),i=[];function a(e,t,n,r){return{xmin:e,ymin:t,xmax:n,ymax:r}}function o(e,t,n,r,i,a){return{xmin:e,ymin:t,zmin:n,xmax:r,ymax:i,zmax:a}}function s(e,t,n,r,i,a){return{xmin:e,ymin:t,mmin:n,xmax:r,ymax:i,mmax:a}}function c(e,t,n,r,i,a,o,s){return{xmin:e,ymin:t,zmin:n,mmin:r,xmax:i,ymax:a,zmax:o,mmax:s}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?n?c(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):o(e[0],e[1],e[2],e[3],e[4],e[5]):n?s(e[0],e[1],e[2],e[3],e[4],e[5]):a(e[0],e[1],e[2],e[3])}function l(e){return e?void 0!==(t=e).xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?e:function(e){return void 0!==e.x&&void 0!==e.y}(e)?function(e){var t=e.x,n=e.y,r=e.z,i=e.m,u=null!=i;return null!=r?u?c(t,n,r,i,t,n,r,i):o(t,n,r,t,n,r):u?s(t,n,i,t,n,i):a(t,n,t,n)}(e):function(e){return void 0!==e.rings}(e)?h(e):function(e){return void 0!==e.paths}(e)?f(e):function(e){return void 0!==e.points}(e)?function(e){var t=e.hasZ,n=e.hasM,a=e.points;return u(Object(r.c)(i,a,t,n),t,n)}(e):null:null;var t}function h(e){var t=e.hasZ,n=e.hasM,a=e.rings,o=Object(r.d)(i,a,t,n);return o?u(o,t,n):null}function f(e){var t=e.hasZ,n=e.hasM,a=e.paths,o=Object(r.d)(i,a,t,n);return o?u(o,t,n):null}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(50),f=n(8),d=n(35),p=(n(12),n(21),n(22),n(27)),b=new h.a({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"}),v=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).maxPointCount=void 0,r.maxRecordCount=void 0,r.maxVertexCount=void 0,r.onStatisticField=null,r.outStatisticFieldName=null,r.statisticType=null,r.statisticParameters=null,r}return Object(a.a)(n,[{key:"writeStatisticParameters",value:function(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=Object(u.a)(e))}},{key:"clone",value:function(){return new r({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:Object(u.a)(this.statisticParameters)})}}]),n}(p.a);Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],v.prototype,"maxPointCount",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],v.prototype,"maxRecordCount",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],v.prototype,"maxVertexCount",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],v.prototype,"onStatisticField",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],v.prototype,"outStatisticFieldName",void 0),Object(c.a)([Object(l.b)({type:String,json:{read:{source:"statisticType",reader:b.read},write:{target:"statisticType",writer:b.write}}})],v.prototype,"statisticType",void 0),Object(c.a)([Object(l.b)({type:Object})],v.prototype,"statisticParameters",void 0),Object(c.a)([Object(d.a)("statisticParameters")],v.prototype,"writeStatisticParameters",null);var y=v=r=Object(c.a)([Object(f.a)("esri.tasks.support.StatisticDefinition")],v);t.a=y},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(27)),f=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).name=null,r.title=null,r.expression=null,r.returnType=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],f.prototype,"name",void 0),Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],f.prototype,"title",void 0),Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],f.prototype,"expression",void 0),Object(c.a)([Object(u.b)({type:["string","number"],json:{write:!0}})],f.prototype,"returnType",void 0);var d=f=r=Object(c.a)([Object(l.a)("esri.popup.ExpressionInfo")],f);t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(7),i=n.n(r),a=n(16),o=n(96),s=new Map([["ar",function(){return Promise.all([n.e(0),n.e(142)]).then(n.t.bind(null,898,7))}],["ar-dz",function(){return Promise.all([n.e(0),n.e(136)]).then(n.t.bind(null,899,7))}],["ar-kw",function(){return Promise.all([n.e(0),n.e(137)]).then(n.t.bind(null,900,7))}],["ar-ly",function(){return Promise.all([n.e(0),n.e(138)]).then(n.t.bind(null,901,7))}],["ar-ma",function(){return Promise.all([n.e(0),n.e(139)]).then(n.t.bind(null,902,7))}],["ar-sa",function(){return Promise.all([n.e(0),n.e(140)]).then(n.t.bind(null,903,7))}],["ar-tn",function(){return Promise.all([n.e(0),n.e(141)]).then(n.t.bind(null,904,7))}],["bs",function(){return Promise.all([n.e(0),n.e(143)]).then(n.t.bind(null,905,7))}],["ca",function(){return Promise.all([n.e(0),n.e(144)]).then(n.t.bind(null,906,7))}],["cs",function(){return Promise.all([n.e(0),n.e(145)]).then(n.t.bind(null,907,7))}],["da",function(){return Promise.all([n.e(0),n.e(146)]).then(n.t.bind(null,908,7))}],["de",function(){return Promise.all([n.e(0),n.e(149)]).then(n.t.bind(null,909,7))}],["de-at",function(){return Promise.all([n.e(0),n.e(147)]).then(n.t.bind(null,910,7))}],["de-ch",function(){return Promise.all([n.e(0),n.e(148)]).then(n.t.bind(null,911,7))}],["el",function(){return Promise.all([n.e(0),n.e(150)]).then(n.t.bind(null,912,7))}],["en-au",function(){return Promise.all([n.e(0),n.e(151)]).then(n.t.bind(null,913,7))}],["en-ca",function(){return Promise.all([n.e(0),n.e(152)]).then(n.t.bind(null,914,7))}],["en-gb",function(){return Promise.all([n.e(0),n.e(153)]).then(n.t.bind(null,915,7))}],["en-ie",function(){return Promise.all([n.e(0),n.e(154)]).then(n.t.bind(null,916,7))}],["en-il",function(){return Promise.all([n.e(0),n.e(155)]).then(n.t.bind(null,917,7))}],["en-in",function(){return Promise.all([n.e(0),n.e(156)]).then(n.t.bind(null,918,7))}],["en-nz",function(){return Promise.all([n.e(0),n.e(157)]).then(n.t.bind(null,919,7))}],["en-sg",function(){return Promise.all([n.e(0),n.e(158)]).then(n.t.bind(null,920,7))}],["es",function(){return Promise.all([n.e(0),n.e(162)]).then(n.t.bind(null,921,7))}],["es-do",function(){return Promise.all([n.e(0),n.e(159)]).then(n.t.bind(null,922,7))}],["es-mx",function(){return Promise.all([n.e(0),n.e(160)]).then(n.t.bind(null,923,7))}],["es-us",function(){return Promise.all([n.e(0),n.e(161)]).then(n.t.bind(null,924,7))}],["et",function(){return Promise.all([n.e(0),n.e(163)]).then(n.t.bind(null,925,7))}],["fi",function(){return Promise.all([n.e(0),n.e(164)]).then(n.t.bind(null,926,7))}],["fr",function(){return Promise.all([n.e(0),n.e(167)]).then(n.t.bind(null,927,7))}],["fr-ca",function(){return Promise.all([n.e(0),n.e(165)]).then(n.t.bind(null,928,7))}],["fr-ch",function(){return Promise.all([n.e(0),n.e(166)]).then(n.t.bind(null,929,7))}],["he",function(){return Promise.all([n.e(0),n.e(168)]).then(n.t.bind(null,930,7))}],["hr",function(){return Promise.all([n.e(0),n.e(169)]).then(n.t.bind(null,931,7))}],["hu",function(){return Promise.all([n.e(0),n.e(170)]).then(n.t.bind(null,932,7))}],["id",function(){return Promise.all([n.e(0),n.e(171)]).then(n.t.bind(null,933,7))}],["it",function(){return Promise.all([n.e(0),n.e(173)]).then(n.t.bind(null,934,7))}],["it-ch",function(){return Promise.all([n.e(0),n.e(172)]).then(n.t.bind(null,935,7))}],["ja",function(){return Promise.all([n.e(0),n.e(174)]).then(n.t.bind(null,936,7))}],["ko",function(){return Promise.all([n.e(0),n.e(175)]).then(n.t.bind(null,937,7))}],["lt",function(){return Promise.all([n.e(0),n.e(176)]).then(n.t.bind(null,938,7))}],["lv",function(){return Promise.all([n.e(0),n.e(177)]).then(n.t.bind(null,939,7))}],["nb",function(){return Promise.all([n.e(0),n.e(178)]).then(n.t.bind(null,940,7))}],["nl",function(){return Promise.all([n.e(0),n.e(180)]).then(n.t.bind(null,941,7))}],["nl-be",function(){return Promise.all([n.e(0),n.e(179)]).then(n.t.bind(null,942,7))}],["pl",function(){return Promise.all([n.e(0),n.e(181)]).then(n.t.bind(null,943,7))}],["pt",function(){return Promise.all([n.e(0),n.e(183)]).then(n.t.bind(null,944,7))}],["pt-br",function(){return Promise.all([n.e(0),n.e(182)]).then(n.t.bind(null,945,7))}],["ro",function(){return Promise.all([n.e(0),n.e(184)]).then(n.t.bind(null,946,7))}],["ru",function(){return Promise.all([n.e(0),n.e(185)]).then(n.t.bind(null,947,7))}],["sk",function(){return Promise.all([n.e(0),n.e(186)]).then(n.t.bind(null,948,7))}],["sl",function(){return Promise.all([n.e(0),n.e(187)]).then(n.t.bind(null,949,7))}],["sr",function(){return Promise.all([n.e(0),n.e(189)]).then(n.t.bind(null,950,7))}],["sr-cyrl",function(){return Promise.all([n.e(0),n.e(188)]).then(n.t.bind(null,951,7))}],["sv",function(){return Promise.all([n.e(0),n.e(190)]).then(n.t.bind(null,952,7))}],["th",function(){return Promise.all([n.e(0),n.e(191)]).then(n.t.bind(null,953,7))}],["tr",function(){return Promise.all([n.e(0),n.e(192)]).then(n.t.bind(null,954,7))}],["uk",function(){return Promise.all([n.e(0),n.e(193)]).then(n.t.bind(null,955,7))}],["vi",function(){return Promise.all([n.e(0),n.e(194)]).then(n.t.bind(null,956,7))}],["zh-cn",function(){return Promise.all([n.e(0),n.e(195)]).then(n.t.bind(null,957,7))}],["zh-hk",function(){return Promise.all([n.e(0),n.e(196)]).then(n.t.bind(null,958,7))}],["zh-mo",function(){return Promise.all([n.e(0),n.e(197)]).then(n.t.bind(null,959,7))}],["zh-tw",function(){return Promise.all([n.e(0),n.e(198)]).then(n.t.bind(null,960,7))}]]);function c(){return u.apply(this,arguments)}function u(){return(u=Object(a.a)(i.a.mark((function e(){var t,r,a,c,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:Object(o.b)(),e.next=3,n.e(0).then(n.t.bind(null,894,7));case 3:if(r=e.sent.default,(a=s.has(t))||(c=t.split("-")).length>1&&s.has(c[0])&&(t=c[0],a=!0),!a){e.next=11;break}return e.next=9,s.get(t)();case 9:e.next=12;break;case 11:t="en";case 12:return t!==r.locale()&&r.locale(t),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(32),i=n(13),a=n(2),o=n(3),s=n(140),c=function(){function e(t,n,r){Object(a.a)(this,e),this._namespace=t,this._storage=n,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",r&&(this._storage.registerRemoveFunc(this._namespace,r),this._removeFunc=!0)}return Object(o.a)(e,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}},{key:"resetHitRate",value:function(){this._hit=this._miss=0}},{key:"destroy",value:function(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)}},{key:"put",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this._namespace+e,t,n,r)}},{key:"get",value:function(e){var t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"pop",value:function(e){var t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"updateSize",value:function(e,t,n){this._storage.updateSize(this._namespace+e,t,n)}},{key:"clear",value:function(){this._storage.clear(this._namespace)}},{key:"clearAll",value:function(){this._storage.clearAll()}},{key:"getStats",value:function(){return this._storage.getStats()}},{key:"resetStats",value:function(){this._storage.resetStats()}}]),e}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;Object(a.a)(this,e),this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new s.a}return Object(o.a)(e,[{key:"register",value:function(e){this._users.push(e)}},{key:"deregister",value:function(e){this._users.removeUnordered(e)}},{key:"registerRemoveFunc",value:function(e,t){this._removeFuncs.push([e,t])}},{key:"deregisterRemoveFunc",value:function(e){this._removeFuncs=this._removeFuncs.filter((function(t){return t[0]!==e}))}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}},{key:"put",value:function(e,t,n,r){var i=this._db.get(e);if(i&&(this._size-=i.size,this._db.delete(e),i.entry!==t&&this._notifyRemoved(e,i.entry)),n>this._maxSize)this._notifyRemoved(e,t);else if(void 0!==t)if(!n||n<0)console.warn("Refusing to cache entry with invalid size "+n);else{var a=1+Math.max(r,-3)- -3;this._db.set(e,{entry:t,size:n,lifetime:a,lives:a}),this._size+=n,this._checkSizeLimit()}else console.warn("Refusing to cache undefined entry ")}},{key:"updateSize",value:function(e,t,n){var r=this._db.get(e);r&&r.entry===t&&(this._size-=r.size,n>this._maxSize?this._notifyRemoved(e,t):(r.size=n,this._size+=n,this._checkSizeLimit()))}},{key:"pop",value:function(e){var t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}},{key:"get",value:function(e){var t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}},{key:"getStats",value:function(){var e=this,t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},n={},r=new Array;this._db.forEach((function(t,i){var a=t.lifetime;r[a]=(r[a]||0)+t.size,e._users.forAll((function(e){var r=e.namespace;if(i.startsWith(r)){var a=n[r]||0;n[r]=a+t.size}}))}));var i={};this._users.forAll((function(e){var t=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){var r=n[t]||0;n[t]=r,i[t]=Math.round(100*e.hitRate)+"%"}else i[t]="0%"}));var a=Object.keys(n);a.forEach((function(t){return n[t]=n[t]/e._size*100})),a.sort((function(e,t){return n[t]-n[e]})),a.forEach((function(e){return t[e]=Math.round(n[e])+"% / "+i[e]}));for(var o=r.length-1;o>=0;--o){var s=r[o];s&&(t["Priority "+(o+-3-1)]=Math.round(s/this.size*100)+"%")}return t}},{key:"resetStats",value:function(){this._hit=this._miss=0,this._users.forAll((function(e){return e.resetHitRate()}))}},{key:"clear",value:function(e){var t=this;this._db.forEach((function(n,r){r.startsWith(e)&&(t._size-=n.size,t._db.delete(r),t._notifyRemoved(r,n.entry))}))}},{key:"clearAll",value:function(){var e=this;this._db.forEach((function(t,n){return e._notifyRemoved(n,t.entry)})),this._size=0,this._db.clear()}},{key:"_getHitRate",value:function(){return this._hit/(this._hit+this._miss)}},{key:"_notifyRemoved",value:function(e,t){this._removeFuncs.forEach((function(n){e.startsWith(n[0])&&n[1](t)}))}},{key:"_checkSizeLimit",value:function(){if(!(this._size<=this._maxSize)){var e,t=Object(i.a)(this._db);try{for(t.s();!(e=t.n()).done;){var n=Object(r.a)(e.value,2),a=n[0],o=n[1];if(this._db.delete(a),o.lives<=1?(this._size-=o.size,this._notifyRemoved(a,o.entry)):(--o.lives,this._db.set(a,o)),this._size<=.9*this.maxSize)return}}catch(s){t.e(s)}finally{t.f()}}}}]),e}()},function(e,t,n){"use strict";var r=n(2),i=n(3),a=function(){function e(){Object(r.a)(this,e),this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}return Object(i.a)(e,[{key:"weakClone",value:function(){var t=new e;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}]),e}();t.a=a},function(e,t,n){"use strict";n.r(t),n.d(t,"buffer",(function(){return E})),n.d(t,"clip",(function(){return s})),n.d(t,"contains",(function(){return u})),n.d(t,"convexHull",(function(){return j})),n.d(t,"crosses",(function(){return l})),n.d(t,"cut",(function(){return c})),n.d(t,"densify",(function(){return N})),n.d(t,"difference",(function(){return w})),n.d(t,"disjoint",(function(){return v})),n.d(t,"distance",(function(){return h})),n.d(t,"equals",(function(){return f})),n.d(t,"extendedSpatialReferenceInfo",(function(){return o})),n.d(t,"flipHorizontal",(function(){return D})),n.d(t,"flipVertical",(function(){return L})),n.d(t,"generalize",(function(){return R})),n.d(t,"geodesicArea",(function(){return U})),n.d(t,"geodesicBuffer",(function(){return T})),n.d(t,"geodesicDensify",(function(){return F})),n.d(t,"geodesicLength",(function(){return B})),n.d(t,"intersect",(function(){return x})),n.d(t,"intersects",(function(){return d})),n.d(t,"isSimple",(function(){return g})),n.d(t,"nearestCoordinate",(function(){return M})),n.d(t,"nearestVertex",(function(){return C})),n.d(t,"nearestVertices",(function(){return A})),n.d(t,"offset",(function(){return S})),n.d(t,"overlaps",(function(){return y})),n.d(t,"planarArea",(function(){return z})),n.d(t,"planarLength",(function(){return V})),n.d(t,"relate",(function(){return m})),n.d(t,"rotate",(function(){return I})),n.d(t,"simplify",(function(){return O})),n.d(t,"symmetricDifference",(function(){return _})),n.d(t,"touches",(function(){return p})),n.d(t,"union",(function(){return k})),n.d(t,"within",(function(){return b}));var r=n(98),i=n(109);function a(e){return Array.isArray(e)?e[0].spatialReference:e&&e.spatialReference}function o(e){return r.a.extendedSpatialReferenceInfo(e)}function s(e,t){return r.a.clip(i.hydratedAdapter,a(e),e,t)}function c(e,t){return r.a.cut(i.hydratedAdapter,a(e),e,t)}function u(e,t){return r.a.contains(i.hydratedAdapter,a(e),e,t)}function l(e,t){return r.a.crosses(i.hydratedAdapter,a(e),e,t)}function h(e,t,n){return r.a.distance(i.hydratedAdapter,a(e),e,t,n)}function f(e,t){return r.a.equals(i.hydratedAdapter,a(e),e,t)}function d(e,t){return r.a.intersects(i.hydratedAdapter,a(e),e,t)}function p(e,t){return r.a.touches(i.hydratedAdapter,a(e),e,t)}function b(e,t){return r.a.within(i.hydratedAdapter,a(e),e,t)}function v(e,t){return r.a.disjoint(i.hydratedAdapter,a(e),e,t)}function y(e,t){return r.a.overlaps(i.hydratedAdapter,a(e),e,t)}function m(e,t,n){return r.a.relate(i.hydratedAdapter,a(e),e,t,n)}function g(e){return r.a.isSimple(i.hydratedAdapter,a(e),e)}function O(e){return r.a.simplify(i.hydratedAdapter,a(e),e)}function j(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.convexHull(i.hydratedAdapter,a(e),e,t)}function w(e,t){return r.a.difference(i.hydratedAdapter,a(e),e,t)}function _(e,t){return r.a.symmetricDifference(i.hydratedAdapter,a(e),e,t)}function x(e,t){return r.a.intersect(i.hydratedAdapter,a(e),e,t)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.a.union(i.hydratedAdapter,a(e),e,t)}function S(e,t,n,o,s,c){return r.a.offset(i.hydratedAdapter,a(e),e,t,n,o,s,c)}function E(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r.a.buffer(i.hydratedAdapter,a(e),e,t,n,o)}function T(e,t,n,o,s,c){return r.a.geodesicBuffer(i.hydratedAdapter,a(e),e,t,n,o,s,c)}function M(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r.a.nearestCoordinate(i.hydratedAdapter,a(e),e,t,n)}function C(e,t){return r.a.nearestVertex(i.hydratedAdapter,a(e),e,t)}function A(e,t,n,o){return r.a.nearestVertices(i.hydratedAdapter,a(e),e,t,n,o)}function P(e){return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?e.extent.center:null}function I(e,t,n){var i;if(null==e)throw new Error("Illegal Argument Exception");var a=e.spatialReference;if(null==(n=null!=(i=n)?i:P(e)))throw new Error("Illegal Argument Exception");var o=e.constructor.fromJSON(r.a.rotate(e,t,n));return o.spatialReference=a,o}function D(e,t){var n;if(null==e)throw new Error("Illegal Argument Exception");var i=e.spatialReference;if(null==(t=null!=(n=t)?n:P(e)))throw new Error("Illegal Argument Exception");var a=e.constructor.fromJSON(r.a.flipHorizontal(e,t));return a.spatialReference=i,a}function L(e,t){var n;if(null==e)throw new Error("Illegal Argument Exception");var i=e.spatialReference;if(null==(t=null!=(n=t)?n:P(e)))throw new Error("Illegal Argument Exception");var a=e.constructor.fromJSON(r.a.flipVertical(e,t));return a.spatialReference=i,a}function R(e,t,n,o){return r.a.generalize(i.hydratedAdapter,a(e),e,t,n,o)}function N(e,t,n){return r.a.densify(i.hydratedAdapter,a(e),e,t,n)}function F(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return r.a.geodesicDensify(i.hydratedAdapter,a(e),e,t,n,o)}function z(e,t){return r.a.planarArea(i.hydratedAdapter,a(e),e,t)}function V(e,t){return r.a.planarLength(i.hydratedAdapter,a(e),e,t)}function U(e,t,n){return r.a.geodesicArea(i.hydratedAdapter,a(e),e,t,n)}function B(e,t,n){return r.a.geodesicLength(i.hydratedAdapter,a(e),e,t,n)}},function(e,t,n){"use strict";function r(){return[1,0,0,1,0,0]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));Object.freeze({__proto__:null,create:r,clone:i,fromValues:function(e,t,n,r,i,a){return[e,t,n,r,i,a]},createView:function(e,t){return new Float64Array(e,t,6)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(2),i=n(3),a=n(4),o=n(36),s=n(174),c=n(195),u=function(){function e(t,n,i){Object(r.a)(this,e),this.elevationInfo=t,this.defaultZ=n,this.view=i}return Object(i.a)(e,[{key:"screenToMap",value:function(e){if(Object(a.h)(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(Object(o.f)(e.x,e.y),this.elevationInfo,this.defaultZ);var t=this.view.sceneIntersectionHelper.intersectElevationFromScreen(Object(o.f)(e.x,e.y),this.elevationInfo,0);return Object(a.h)(t)&&(t.z=void 0),t}},{key:"mapToScreen",value:function(e){var t=Object(c.d)(e.x,e.y,Object(s.a)(this.view,e,this.elevationInfo),e.spatialReference);return this.view.toScreen(t)}}]),e}(),l=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(r.a)(this,e),this.view=t,this.elevationInfo=n,this.exclude=i}return Object(i.a)(e,[{key:"screenToMap",value:function(e){var t=this.view.toMap(e,{exclude:this.exclude});return Object(a.h)(t)&&(t.z=Object(s.f)(t,this.view,this.elevationInfo)),t}},{key:"mapToScreen",value:function(e){var t=e;return Object(a.h)(this.elevationInfo)&&(t=Object(c.d)(e.x,e.y,Object(s.a)(this.view,e,this.elevationInfo),e.spatialReference)),this.view.toScreen(t)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r,i,a,o=n(30),s=n(31);function c(e){var t=e;t.vertex.code.add(Object(s.a)(r||(r=Object(o.a)(["\n  void main(void) {\n    vec4 posProjCenter;\n    if (dot(position, position) > 0.0) {\n      // Render single point to center of the pixel to avoid subpixel\n      // filtering to affect the marker color\n      ProjectHUDAux projectAux;\n      vec4 posProj = projectPositionHUD(projectAux);\n      posProjCenter = alignToPixelCenter(posProj, viewport.zw);\n\n      vec3 vpos = projectAux.posModel;\n      if (rejectBySlice(vpos)) {\n        // Project out of clip space\n        posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n      }\n    }\n    else {\n      // Project out of clip space\n      posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n\n    gl_Position = posProjCenter;\n    gl_PointSize = 1.0;\n  }\n  "])))),t.fragment.uniforms.add("color","vec4"),t.fragment.code.add(Object(s.a)(i||(i=Object(o.a)(["\n  void main() {\n    gl_FragColor = color;\n  }\n  "]))))}(a||(a={})).bindUniforms=function(e){e.setUniform4f("color",1,1,1,1)}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=n(35),f=n(20),d=(n(12),n(21),n(22),n(253)),p=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).axis=null,r.type="rotation",r.rotationType="geographic",r.valueExpressionTitle=null,r}return Object(a.a)(n,[{key:"cache",get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"writeValueExpressionTitleWebScene",value:function(e,t,n,r){if(r&&r.messages){var i="visualVariables[".concat(this.index,"]");r.messages.push(new f.a("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:i+".valueExpressionTitle",context:r}))}}},{key:"clone",value:function(){return new r({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}}]),n}(d.a);Object(c.a)([Object(u.b)({readOnly:!0,dependsOn:["valueExpression"]})],p.prototype,"cache",null),Object(c.a)([Object(u.b)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],p.prototype,"axis",void 0),Object(c.a)([Object(u.b)({type:["rotation"],json:{type:["rotationInfo"]}})],p.prototype,"type",void 0),Object(c.a)([Object(u.b)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],p.prototype,"rotationType",void 0),Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],p.prototype,"valueExpressionTitle",void 0),Object(c.a)([Object(h.a)("web-scene","valueExpressionTitle")],p.prototype,"writeValueExpressionTitleWebScene",null);var b=p=r=Object(c.a)([Object(l.a)("esri.renderers.visualVariables.RotationVariable")],p);t.a=b},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(3),a=n(451),o=function(){function e(t,n){Object(r.a)(this,e),this._storage=new a.b,this._storage.maxSize=t,n&&this._storage.registerRemoveFunc("",n)}return Object(i.a)(e,[{key:"put",value:function(e,t,n){this._storage.put(e,t,n,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.clearAll()}},{key:"maxSize",get:function(){return this._storage.maxSize},set:function(e){this._storage.maxSize=e}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(5),a=n(6),o=n(0),s=(n(15),n(14),n(18),n(1)),c=n(8),u=(n(12),n(21),n(22),function(e){var t=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).customParameters=null,e}return n}(e);return Object(o.a)([Object(s.b)({json:{write:!0,origins:{"web-scene":{write:!1}}}})],t.prototype,"customParameters",void 0),t=Object(o.a)([Object(c.a)("esri.layers.mixins.CustomParametersMixin")],t)})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));var r=n(13);function i(e,t,n){return t.flatten((function(e){return e.sublayers})).length!==e.length||(!!e.some((function(e){return e.originIdOf("minScale")>n||e.originIdOf("maxScale")>n||e.originIdOf("renderer")>n||e.originIdOf("labelingInfo")>n||e.originIdOf("opacity")>n||e.originIdOf("labelsVisible")>n||e.originIdOf("source")>n}))||!o(e,t))}function a(e,t,n){return!!e.some((function(e){var t=e.source;return!(!t||"map-layer"===t.type&&t.mapLayerId===e.id&&(!t.gdbVersion||t.gdbVersion===n.gdbVersion))||e.originIdOf("renderer")>2||e.originIdOf("labelingInfo")>2||e.originIdOf("opacity")>2||e.originIdOf("labelsVisible")>2}))||!o(e,t)}function o(e,t){if(!e||!e.length)return!0;var n=t.slice().reverse().flatten((function(e){var t=e.sublayers;return t&&t.toArray().reverse()})).map((function(e){return e.id})).toArray();if(e.length>n.length)return!1;var i,a=0,o=n.length,s=Object(r.a)(e);try{for(s.s();!(i=s.n()).done;){for(var c=i.value.id;a<o&&n[a]!==c;)a++;if(a>=o)return!1}}catch(u){s.e(u)}finally{s.f()}return!0}function s(e){return!!e&&e.some((function(e){return null!=e.minScale||e.layerDefinition&&null!=e.layerDefinition.minScale}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(268),i=n(324);function a(e,t){var n=Object(r.b)(e)||t,a=Object(r.a)(e);if(n){var o=new FormData;return Object.keys(a).forEach((function(e){if("undefined"!==typeof Blob&&a[e]instanceof Blob){var t=a.fileName||a[e].name||e;o.append(e,a[e],t)}else o.append(e,a[e])})),o}return Object(i.b)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(63);function i(e,t,n){void 0===n&&(n="https://www.arcgis.com/sharing/rest");var i=n+"/oauth2/validateAppAccess",a={method:"POST",params:{f:"json",client_id:t,token:e}};return Object(r.d)(i,a)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(25),i=n(63),a=n(46),o=n(102);function s(e){return Object(o.a)(e).then((function(t){var n=e.folderId?Object(a.a)(e)+"/content/users/"+t+"/"+e.folderId+"/items/"+e.item.id+"/update":Object(a.a)(e)+"/content/users/"+t+"/items/"+e.item.id+"/update";return e.params=Object(r.a)(Object(r.a)({},e.params),Object(o.b)(e.item)),Object(i.d)(n,e)}))}function c(e){return Object(o.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/updateinfo";return e.params=Object(r.a)({folderName:e.folderName,file:e.file},e.params),Object(i.d)(n,e)}))}function u(e){return Object(o.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/updateResources";return e.params=Object(r.a)({file:e.resource,fileName:e.name,text:e.content},e.params),"undefined"!==typeof e.private&&(e.params.access=e.private?"private":"inherit"),Object(i.d)(n,e)}))}function l(e){return Object(o.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.itemId+"/move",o=e.folderId;return o||(o="/"),e.params=Object(r.a)({folder:o},e.params),Object(i.d)(n,e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=/[\x00-\x1F\x7F-\x9F\xA0]/g;function i(e){return e.replace(r,"")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return h}));var r=n(25),i=n(63),a=n(259),o=n(46);function s(e,t){var n=Object(o.a)(t)+"/community/groups/"+e,a=Object(r.a)({httpMethod:"GET"},t);return Object(i.d)(n,a)}function c(e,t){var n=Object(o.a)(t)+"/community/groups/"+e+"/categorySchema",a=Object(r.a)({httpMethod:"GET"},t);return Object(i.d)(n,a)}function u(e,t){var n=Object(o.a)(t)+"/content/groups/"+e,a=Object(r.a)(Object(r.a)({httpMethod:"GET"},{params:{start:1,num:100}}),t);return t&&t.paging&&(a.params=Object(r.a)({},t.paging)),Object(i.d)(n,a)}function l(e,t){var n=Object(o.a)(t)+"/community/groups/"+e+"/users",a=Object(r.a)({httpMethod:"GET"},t);return Object(i.d)(n,a)}function h(e,t){var n=Object(o.a)(t)+"/community/groups/"+e+"/userlist",r=Object(a.a)(t||{},["name","num","start","sortField","sortOrder","joined","memberType"],{httpMethod:"GET"});return Object(i.d)(n,r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(331);function i(e){return Object(r.a)(e,"item")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(25),i=n(63),a=n(46),o=n(304);function s(e){var t=e.id,n=Object(a.a)(e)+"/community/groups/"+t+"/addUsers",o=Object.assign({},e,{admins:void 0,users:void 0}),s=Object(r.d)(c("users",e.users,o),c("admins",e.admins,o)).map((function(e){return function(e,t){return Object(i.d)(e,t).catch((function(e){return{errors:[e]}}))}(n,e)}));return Promise.all(s).then(u)}function c(e,t,n){return!t||t.length<1?[]:Object(o.a)(t,25).map((function(t){return function(e,t,n){var i,a;return Object.assign({},n,((i={})[e]=t,i.params=Object(r.a)(Object(r.a)({},n.params),((a={})[e]=t,a)),i))}(e,t,n)}))}function u(e){var t=e.filter((function(e){return e.notAdded})).reduce((function(e,t){return e.concat(t.notAdded)}),[]),n=e.filter((function(e){return e.errors})).reduce((function(e,t){return e.concat(t.errors)}),[]),r={notAdded:t};return n.length>0&&(r.errors=n),r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(25),i=n(63),a=n(46),o=n(304);function s(e){var t=e.id,n=e.users,s=Object(a.a)(e)+"/community/groups/"+t+"/removeUsers",c=Object(o.a)(n,25).map((function(t){return function(t){var n=Object(r.a)(Object(r.a)({},e),{users:t,params:{users:t}});return Object(i.d)(s,n).catch((function(e){return{errors:[e]}}))}(t)}));return Promise.all(c).then((function(e){var t=function(t){return e.filter((function(e){return e[t]})).reduce((function(e,n){return e.concat(n[t])}),[])},n=t("errors"),i={notRemoved:t("notRemoved")};return n.length?Object(r.a)(Object(r.a)({},i),{errors:n}):i}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(10),i=n(143),a={type:i.a,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:o}}}}};function o(e,t,n,a){if(!e)return null;var o=t.minScale,s=t.maxScale,c=t.minLOD,u=t.maxLOD;if(null!=c&&null!=u)return a&&a.ignoreMinMaxLOD?i.a.fromJSON(e):i.a.fromJSON(Object(r.a)(Object(r.a)({},e),{},{lods:e.lods.filter((function(e){var t=e.level;return null!=t&&t>=c&&t<=u}))}));if(0!==o&&0!==s){var l=function(e){return Math.round(1e4*e)/1e4},h=o?l(o):1/0,f=s?l(s):-1/0;return i.a.fromJSON(Object(r.a)(Object(r.a)({},e),{},{lods:e.lods.filter((function(e){var t=l(e.scale);return t<=h&&t>=f}))}))}return i.a.fromJSON(e)}},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14)),u=(n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(27)),f=n(97),d=c.a.getLogger("esri.tasks.support.ProjectParameters"),p=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).geometries=null,i.outSpatialReference=null,i.transformation=null,i.transformForward=null,i}return Object(i.a)(n,[{key:"outSR",get:function(){return d.warn("ProjectParameters.outSR is deprecated. Use outSpatialReference instead."),this.outSpatialReference},set:function(e){d.warn("ProjectParameters.outSR is deprecated. Use outSpatialReference instead."),this.outSpatialReference=e}},{key:"toJSON",value:function(){var e=this.geometries.map((function(e){return e.toJSON()})),t=this.geometries[0],n={};return n.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),n.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),n.geometries=JSON.stringify({geometryType:Object(f.c)(t),geometries:e}),this.transformation&&(n.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(n.transformForward=this.transformForward),n}}]),n}(h.a);Object(s.a)([Object(u.b)()],p.prototype,"geometries",void 0),Object(s.a)([Object(u.b)({json:{read:{source:"outSR"}}})],p.prototype,"outSpatialReference",void 0),Object(s.a)([Object(u.b)({json:{read:!1}})],p.prototype,"outSR",null),Object(s.a)([Object(u.b)()],p.prototype,"transformation",void 0),Object(s.a)([Object(u.b)()],p.prototype,"transformForward",void 0);var b=p=Object(s.a)([Object(l.a)("esri.tasks.support.ProjectParameters")],p);t.a=b},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(10),i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(8),f=(n(12),n(21),n(22),n(27)),d=n(43),p=n(36),b=n(123),v=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).color=new d.a([0,0,0,1]),r.extensionLength=0,r.size=Object(p.h)(1),r}return Object(a.a)(n,[{key:"clone",value:function(){}},{key:"cloneProperties",value:function(){return{color:Object(u.a)(this.color),size:this.size,extensionLength:this.extensionLength}}}]),n}(f.a);Object(c.a)([Object(l.b)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],v.prototype,"type",void 0),Object(c.a)([Object(l.b)(b.a)],v.prototype,"color",void 0),Object(c.a)([Object(l.b)(Object(r.a)(Object(r.a)({},b.b),{},{json:{write:{overridePolicy:function(e){return{enabled:!!e}}}}}))],v.prototype,"extensionLength",void 0),Object(c.a)([Object(l.b)(b.b)],v.prototype,"size",void 0);var y,m=v=Object(c.a)([Object(h.a)("esri.symbols.edges.Edges3D")],v),g=n(45),O=y=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="sketch",r}return Object(a.a)(n,[{key:"clone",value:function(){return new y(this.cloneProperties())}}]),n}(m);Object(c.a)([Object(g.a)({sketch:"sketch"},{readOnly:!0})],O.prototype,"type",void 0);var j,w=O=y=Object(c.a)([Object(h.a)("esri.symbols.edges.SketchEdges3D")],O),_=j=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="solid",r}return Object(a.a)(n,[{key:"clone",value:function(){return new j(this.cloneProperties())}}]),n}(m);Object(c.a)([Object(g.a)({solid:"solid"},{readOnly:!0})],_.prototype,"type",void 0);var x={types:{key:"type",base:m,typeMap:{solid:_=j=Object(c.a)([Object(h.a)("esri.symbols.support.SolidEdges3D")],_),sketch:w}},json:{write:!0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(245),i=n(149),a=n(112),o=n(230),s=[{name:"position",count:2,type:5126,offset:0,stride:8,normalized:!1}],c=[{name:"position",count:2,type:5126,offset:0,stride:16,normalized:!1},{name:"uv0",count:2,type:5126,offset:8,stride:16,normalized:!1}];function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=null;switch(t){case c:l=new Float32Array([a,a,0,0,u,a,1,0,a,u,0,1,u,u,1,1]);break;case s:default:l=new Float32Array([a,a,u,a,a,u,u,u])}return new o.a(e,n,{geometry:t},{geometry:i.a.createVertex(e,35044,l)})}function l(e){return new a.a(e,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1},new Uint8Array([255,255,255,255]))}},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(101),o=function(){function e(t,n,i){var o;Object(r.a)(this,e),this.name=t,this.details=i,this.message=void 0,this instanceof e&&(this.message=n&&(o=i,n.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,t){if(""===t)return"$";var n=Object(a.b)(t,o),r=null==n?"":n;if(void 0===r)throw new Error('could not find key "'.concat(t,'" in template'));return r.toString()})))||"")}return Object(i.a)(e,[{key:"toString",value:function(){return"["+this.name+"]: "+this.message}}]),e}();t.a=o},function(e,t,n){"use strict";var r=n(58);var i,a=(i=r.a,{setTimeout:function(e,t){var n=i.setTimeout(e,t);return{remove:function(){return i.clearTimeout(n)}}}});t.a=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(15),i=n(4),a=n(17);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;return Object(a.c)((function(c,u){if(Object(a.m)(o))u(s());else{var l=function(){d(),u(new Error("Unable to load ".concat(t)))},h=function(){var t=e;d(),c(t)},f=function(){if(e){var t=e;d(),t.src="",u(s())}},d=function(){Object(r.a)("esri-image-decode")||(e.removeEventListener("error",l),e.removeEventListener("load",h)),l=null,h=null,e=null,Object(i.h)(o)&&o.removeEventListener("abort",f),f=null,n&&URL.revokeObjectURL(t)};Object(i.h)(o)&&o.addEventListener("abort",f),Object(r.a)("esri-image-decode")?e.decode().then(h,l):(e.addEventListener("error",l),e.addEventListener("load",h))}}))}function s(){try{return new DOMException("Aborted","AbortError")}catch(t){var e=new Error;return e.name="AbortError",e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(13),i=(n(15),n(14)),a=n(142);function o(e,t,n){if(e&&t)if("object"==typeof t){var i,s=Object(r.a)(Object.getOwnPropertyNames(t));try{for(s.s();!(i=s.n()).done;){var c=i.value;o(e,c,t[c])}}catch(h){s.e(h)}finally{s.f()}}else{if(-1!==t.indexOf(".")){var u=t.split("."),l=u.splice(u.length-1,1)[0];return void o(Object(a.b)(e,u),l,n)}e[t]=n}}i.a.getLogger("esri.core.accessorSupport.set")},function(e,t,n){"use strict";function r(e){return!!e&&e.prototype&&e.prototype.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(32),i=n(137);function a(e){return e?o(e.rings,e.hasZ):null}function o(e,t){if(!e||!e.length)return null;for(var n=[],r=[],a=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0],o=0,c=e.length;o<c;o++){var u=s(e[o],t,a);u&&r.push(u)}if(r.sort((function(e,n){var r=e[2]-n[2];return 0===r&&t&&(r=e[4]-n[4]),r})),r.length){var l=6*r[0][2];n[0]=r[0][0]/l,n[1]=r[0][1]/l,t&&(l=6*r[0][4],n[2]=0!==l?r[0][3]/l:0),(n[0]<a[0]||n[0]>a[1]||n[1]<a[2]||n[1]>a[3]||t&&(n[2]<a[4]||n[2]>a[5]))&&(n.length=0)}if(!n.length){var h=e[0]&&e[0].length?function(e,t){for(var n=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0],a=0,o=0,s=0,c=0,u=0,l=e.length;u<l-1;u++){var h=e[u],f=e[u+1];if(h&&f){n[0]=h[0],n[1]=h[1],r[0]=f[0],r[1]=f[1],t&&h.length>2&&f.length>2&&(n[2]=h[2],r[2]=f[2]);var d=Object(i.b)(n,r);if(d){a+=d;var p=Object(i.c)(h,f);o+=d*p[0],s+=d*p[1],t&&p.length>2&&(c+=d*p[2])}}}return a>0?t?[o/a,s/a,c/a]:[o/a,s/a]:e.length?e[0]:null}(e[0],t):null;if(!h)return null;n[0]=h[0],n[1]=h[1],t&&h.length>2&&(n[2]=h[2])}return n}function s(e,t,n){for(var i=0,a=0,o=0,s=0,c=0,u=0;u<e.length;u++){var l=e[u],h=Object(r.a)(l,3),f=h[0],d=h[1],p=h[2],b=e[(u+1)%e.length],v=Object(r.a)(b,3),y=v[0],m=v[1],g=v[2],O=f*m-y*d;s+=O,i+=(f+y)*O,a+=(d+m)*O,t&&l.length>2&&b.length>2&&(o+=(p+g)*(O=f*g-y*p),c+=O),f<n[0]&&(n[0]=f),f>n[1]&&(n[1]=f),d<n[2]&&(n[2]=d),d>n[3]&&(n[3]=d),t&&(p<n[4]&&(n[4]=p),p>n[5]&&(n[5]=p))}if(s>0&&(s*=-1),c>0&&(c*=-1),!s)return null;var j=[i,a,.5*s];return t&&(j[3]=o,j[4]=.5*c),j}},function(e,t,n){"use strict";n.d(t,"b",(function(){return O}));var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(50),h=n(45),f=n(34),d=n(8),p=n(35),b=n(12),v=(n(21),n(22),n(126)),y=n(27),m=Object(l.b)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"}),g=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(a.a)(n,[{key:"readHref",value:function(e,t,n){return e?Object(v.a)(e,n):t.dataURI}},{key:"writeHref",value:function(e,t,n,r){e&&(Object(b.u)(e)?t.dataURI=e:(t.href=Object(v.e)(e,r),Object(b.s)(t.href)&&(t.href=Object(b.B)(t.href))))}},{key:"clone",value:function(){return new r({href:this.href,primitive:this.primitive})}}]),n}(y.a);Object(c.a)([Object(u.b)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],g.prototype,"href",void 0),Object(c.a)([Object(f.a)("href")],g.prototype,"readHref",null),Object(c.a)([Object(p.a)("href",{href:{type:String},dataURI:{type:String}})],g.prototype,"writeHref",null),Object(c.a)([Object(h.a)(m)],g.prototype,"primitive",void 0),g=r=Object(c.a)([Object(d.a)("esri.symbols.support.IconSymbol3DLayerResource")],g);var O="circle",j=g;t.a=j},function(e,t,n){"use strict";n.d(t,"b",(function(){return y}));var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(50),h=n(45),f=n(8),d=(n(12),n(21),n(22),n(126)),p=n(27),b=Object(l.b)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"}),v=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"clone",value:function(){return new r({href:this.href,primitive:this.primitive})}}]),n}(p.a);Object(c.a)([Object(u.b)({type:String,json:{read:d.d,write:d.f}})],v.prototype,"href",void 0),Object(c.a)([Object(h.a)(b)],v.prototype,"primitive",void 0),v=r=Object(c.a)([Object(f.a)("esri.symbols.support.ObjectSymbol3DLayerResource")],v);var y="sphere",m=v;t.a=m},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(50),i=Object(r.b)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),a=(i.toJSON.bind(i),i.fromJSON.bind(i))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(367),i=n(483),a=n(485),o=n(511),s=n(486),c=n(487),u={base:r.a,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":i.a,"column-chart":a.a,"line-chart":s.a,"pie-chart":c.a,image:o.a}}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(305)),f=n(299),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="bar-chart",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:f.a.write}})],d.prototype,"type",void 0);var p=d=r=Object(c.a)([Object(l.a)("esri.popup.content.BarChartMediaInfo")],d);t.a=p},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(41),h=n(8),f=(n(12),n(21),n(22),n(37)),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).tooltip=null,r.value=null,r.x=null,r.y=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({tooltip:this.tooltip,value:this.value})}}]),n}(f.a);Object(c.a)([Object(u.b)()],d.prototype,"tooltip",void 0),Object(c.a)([Object(u.b)()],d.prototype,"value",void 0),Object(c.a)([Object(l.a)("value")],d.prototype,"x",void 0),Object(c.a)([Object(l.a)("tooltip")],d.prototype,"y",void 0);var p=d=r=Object(c.a)([Object(h.a)("esri.popup.content.support.ChartMediaInfoValueSeries")],d);t.a=p},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(305)),f=n(299),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="column-chart",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:f.a.write}})],d.prototype,"type",void 0);var p=d=r=Object(c.a)([Object(l.a)("esri.popup.content.ColumnChartMediaInfo")],d);t.a=p},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(305)),f=n(299),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="line-chart",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:f.a.write}})],d.prototype,"type",void 0);var p=d=r=Object(c.a)([Object(l.a)("esri.popup.content.LineChartMediaInfo")],d);t.a=p},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(305)),f=n(299),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="pie-chart",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:f.a.write}})],d.prototype,"type",void 0);var p=d=r=Object(c.a)([Object(l.a)("esri.popup.content.PieChartMediaInfo")],d);t.a=p},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(27)),f=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).field=null,r.order=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({field:this.field,order:this.order})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],f.prototype,"field",void 0),Object(c.a)([Object(u.b)({type:["asc","desc"],json:{write:!0}})],f.prototype,"order",void 0);var d=f=r=Object(c.a)([Object(l.a)("esri.popup.support.RelatedRecordsInfoFieldOrder")],f);t.a=d},function(e,t,n){"use strict";var r=n(28),i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(41),h=n(8),f=(n(12),n(21),n(22),n(17)),d=n(29),p=(n(64),n(33)),b=n(11),v=n(94),y=n(416),m=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r))._animationDelay=500,a._animationPromise=null,a.location=null,a.view=null,a.viewModel=new y.a,a.visible=!1,a}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this;this.own([Object(d.d)(this,"visible",(function(t){return e._visibleChange(t)}))])}},{key:"destroy",value:function(){this._animationPromise=null}},{key:"show",value:function(e){var t=this,n=e.location,r=e.promise;n&&(this.viewModel.location=n),this.visible=!0;r&&r.catch((function(){})).then((function(){return t.hide()}))}},{key:"hide",value:function(){this.visible=!1}},{key:"render",value:function(){var e,t=this.visible,n=!!this.viewModel.screenLocation,i=(e={},Object(r.a)(e,"esri-spinner--start",t&&n),Object(r.a)(e,"esri-spinner--finish",!t&&n),e),a=this._getPositionStyles();return Object(b.a)("div",{class:this.classes("esri-spinner",i),styles:a})}},{key:"_visibleChange",value:function(e){var t=this;if(e)this.viewModel.screenLocationEnabled=!0;else{var n=Object(f.a)(this._animationDelay);this._animationPromise=n,n.catch((function(){})).then((function(){t._animationPromise===n&&(t.viewModel.screenLocationEnabled=!1,t._animationPromise=null)}))}}},{key:"_getPositionStyles",value:function(){var e=this.viewModel,t=e.screenLocation,n=e.view;if(!n||!t)return{};var r=n.padding;return{left:t.x-r.left+"px",top:t.y-r.top+"px"}}}]),n}(v.a);Object(c.a)([Object(l.a)("viewModel.location")],m.prototype,"location",void 0),Object(c.a)([Object(l.a)("viewModel.view")],m.prototype,"view",void 0),Object(c.a)([Object(u.b)({type:y.a}),Object(p.a)(["viewModel.screenLocation","viewModel.screenLocationEnabled"])],m.prototype,"viewModel",void 0),Object(c.a)([Object(l.a)("viewModel.visible")],m.prototype,"visible",void 0);var g=m=Object(c.a)([Object(h.a)("esri.widgets.Spinner")],m);t.a=g},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(40),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(86)),f=n(60),d=n(29),p=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o)))._anchorHandles=new f.a,e.location=null,e.screenLocation=null,e.screenLocationEnabled=!1,e.view=null,e._anchorHandles.add([Object(d.d)(Object(a.a)(e),["screenLocationEnabled","location","view.size","view.stationary"],(function(){return e._updateScreenPointAndHandle()})),Object(d.d)(Object(a.a)(e),["view","view.ready"],(function(){return e._wireUpView()}))]),e}return Object(i.a)(n,[{key:"destroy",value:function(){this.view=null,this._anchorHandles&&this._anchorHandles.destroy(),this._anchorHandles=null,this._viewpointHandle=null}},{key:"_wireUpView",value:function(){var e=this,t="view";if(this._anchorHandles.remove(t),this._viewpointHandle=null,this.get("view.ready")){this._setScreenLocation();var n=this.view,r="3d"===n.type?"camera":"viewpoint",i=Object(d.c)(n,r,(function(){return e._viewpointChange()}));this._anchorHandles.add(i,t),this._viewpointHandle=i,this._toggleWatchingViewpoint()}}},{key:"_viewpointChange",value:function(){this._setScreenLocation(),this.emit("view-change")}},{key:"_updateScreenPointAndHandle",value:function(){this._setScreenLocation(),this._toggleWatchingViewpoint()}},{key:"_toggleWatchingViewpoint",value:function(){var e=this._viewpointHandle,t=this.location,n=this.screenLocationEnabled;e&&(t&&n?e.resume():e.pause())}},{key:"_setScreenLocation",value:function(){var e=this.location,t=this.view,n=this.screenLocationEnabled,r=this.get("view.ready"),i=n&&e&&r?t.toScreen(e):null;this._set("screenLocation",i)}}]),n}(h.a.EventedAccessor);Object(c.a)([Object(u.b)()],p.prototype,"location",void 0),Object(c.a)([Object(u.b)({readOnly:!0})],p.prototype,"screenLocation",void 0),Object(c.a)([Object(u.b)()],p.prototype,"screenLocationEnabled",void 0),Object(c.a)([Object(u.b)()],p.prototype,"view",void 0);var b=p=Object(c.a)([Object(l.a)("esri.widgets.support.AnchorElementViewModel")],p);t.a=b},function(e,t,n){"use strict";function r(e,t){return t?"xoffset"in t&&t.xoffset?Math.max(e,Math.abs(t.xoffset)):"yoffset"in t&&t.yoffset?Math.max(e,Math.abs(t.yoffset||0)):e:e}function i(e,t){return"number"==typeof e?e:e&&e.stops&&e.stops.length?function(e){for(var t=0,n=0,r=0;r<e.length;r++){var i=e[r].size;"number"==typeof i&&(t+=i,n++)}return t/n}(e.stops):t}function a(e){var t=e&&e.renderer,n="touch"===(e&&e.event&&e.event.pointerType)?9:6;if(!t)return n;var a="visualVariables"in t?function(e,t){if(!t)return e;var n=t.filter((function(e){return"size"===e.type})).map((function(t){var n=t.maxSize,r=t.minSize;return(i(n,e)+i(r,e))/2})),r=0,a=n.length;if(0===a)return e;for(var o=0;o<a;o++)r+=n[o];var s=Math.floor(r/a);return Math.max(s,e)}(n,t.visualVariables):n;if("simple"===t.type)return r(a,t.symbol);if("unique-value"===t.type){var o=a;return t.uniqueValueInfos.forEach((function(e){o=r(o,e.symbol)})),o}if("class-breaks"===t.type){var s=a;return t.classBreakInfos.forEach((function(e){s=r(s,e.symbol)})),s}return t.type,a}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(4);function r(e){return e&&"function"==typeof e.highlight}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(8),l=(n(12),n(21),n(22),function(e){var t=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).goToOverride=null,e.view=null,e}return Object(i.a)(n,[{key:"callGoTo",value:function(e){var t=this.view;return this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}}]),n}(e);return Object(s.a)([Object(c.b)()],t.prototype,"goToOverride",void 0),Object(s.a)([Object(c.b)()],t.prototype,"view",void 0),t=Object(s.a)([Object(u.a)("esri.widgets.support.GoTo")],t)})},function(e,t,n){"use strict";var r,i=n(10),a=n(2),o=n(3),s=n(61),c=n(57),u=n(5),l=n(6),h=n(0),f=(n(15),n(14),n(18),n(1)),d=n(8),p=(n(12),n(21),n(22),n(270)),b=n(79),v=n(56),y=n(119),m=n(224),g=n(70),O=n(495),j=r=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).center=null,e.geodesic=!1,e.numberOfPoints=60,e.radius=1e3,e.radiusUnit="meters",e}return Object(o.a)(n,[{key:"normalizeCtorArgs",value:function(e,t){var r;if(e&&e.center)r=e;else{if(e&&e.rings)return Object(s.a)(Object(c.a)(n.prototype),"normalizeCtorArgs",this).call(this,e,t);r={center:e}}return Object(i.a)(Object(i.a)(Object(i.a)({},Object(s.a)(Object(c.a)(n.prototype),"normalizeCtorArgs",this).call(this)),r),t)}},{key:"initialize",value:function(){var e=this.center,t=this.numberOfPoints;if(this.hasZ=e&&e.hasZ,0===this.rings.length&&e){var n,r=Object(g.a)(this.radius,this.radiusUnit,"meters"),i=e.spatialReference,a="geographic";if(i.isWebMercator?a="webMercator":(null!=p.a[i.wkid]||i.wkt&&0===i.wkt.indexOf("PROJCS"))&&(a="projected"),this.geodesic){var o;switch(a){case"webMercator":o=Object(b.e)(e);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":o=e}n=this._createGeodesicCircle(o,r,t),"webMercator"===a&&(n=Object(b.b)(n))}else{var s;"webMercator"===a||"projected"===a?s=r/this._convert2Meters(1,e.spatialReference):"geographic"===a&&(s=Object(g.g)(r,"meters",Object(m.e)(e.spatialReference).radius)),n=this._createPlanarCircle(e,s,t)}this.spatialReference=n.spatialReference,this.addRing(n.rings[0])}}},{key:"clone",value:function(){var e=this.center,t=this.numberOfPoints,n=this.radius,i=this.radiusUnit,a=this.geodesic;return new r({center:e.clone(),numberOfPoints:t,radius:n,radiusUnit:i,geodesic:a})}},{key:"_createGeodesicCircle",value:function(e,t,n){for(var r=0,i=[];r<360;){var a=[0,0],o=[e.x,e.y];Object(O.a)(a,o,r,t),this.hasZ&&a.push(e.z),i.push(a),r+=360/n}return i.push(i[0]),new y.a(i)}},{key:"_createPlanarCircle",value:function(e,t,n){for(var r=0,i=[];r<2*Math.PI;){var a=[e.x+Math.cos(-r)*t,e.y+Math.sin(-r)*t];this.hasZ&&a.push(e.z),i.push(a),r+=Math.PI/(n/2)}return i.push(i[0]),new y.a({spatialReference:e.spatialReference,rings:[i]})}},{key:"_convert2Meters",value:function(e,t){var n;if(null!=p.a[t.wkid])n=p.a.values[p.a[t.wkid]];else{var r=t.wkt,i=r.lastIndexOf(",")+1,a=r.lastIndexOf("]]");n=parseFloat(r.substring(i,a))}return e*n}}]),n}(y.a);Object(h.a)([Object(f.b)({type:v.a})],j.prototype,"center",void 0),Object(h.a)([Object(f.b)()],j.prototype,"geodesic",void 0),Object(h.a)([Object(f.b)()],j.prototype,"numberOfPoints",void 0),Object(h.a)([Object(f.b)()],j.prototype,"radius",void 0),Object(h.a)([Object(f.b)()],j.prototype,"radiusUnit",void 0);var w=j=r=Object(h.a)([Object(d.a)("esri.geometry.Circle")],j);t.a=w},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return l}));n(13);var r=n(20),i=n(48),a=(n(56),n(119),n(127),n(99),n(70)),o=n(151);function s(e){if(!e)return null;if(e.isGeographic&&e.wkid){var t=o.c[e.wkid];if(t)return t}if(e.wkt){var n=o.a.exec(e.wkt);if(!n||2!==n.length)return null;var r=n[1].split(",");if(!r||r.length<3)return null;var i=parseFloat(r[1]),a=parseFloat(r[2]);return isNaN(i)||isNaN(a)?null:{a:i,f:0===a?0:1/a}}return null}function c(e){var t=s(e||i.a.WGS84);if(function(e){return"b"in e&&"eSq"in e&&"radius"in e}(t))return t;var n=t.a*(1-t.f);return Object.assign(t,{b:n,eSq:1-Math.pow(n/t.a,2),radius:(2*t.a+n)/3,densificationRatio:1e4/((2*t.a+n)/3)})}function u(e){return null!==s(e)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"meters",n=e,i=e;if(!n&&!i)throw new r.a("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(n?n.some((function(e){return!u(e.spatialReference)})):i.some((function(e){return!u(e.spatialReference)})))throw new r.a("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var o=[],s=0;s<e.length;s++){for(var c=e[s],l=c.spatialReference,h="polyline"===c.type?c.paths:c.rings,d=0,p=0;p<h.length;p++){for(var b=h[p],v=0,y=1;y<b.length;y++){var m=b[y-1][0],g=b[y][0],O=b[y-1][1],j=b[y][1];if(O!==j||m!==g){var w={distance:null};f(w,[m,O],[g,j],l),v+=w.distance}}d+=v}d=Object(a.a)(d,"meters",t),o.push(d)}return o}function h(e,t,n,r,i){for(var a,s,u,l=t[0],h=t[1],f=l*o.d,d=h*o.d,p=n*o.d,b=c(i),v=b.a,y=b.b,m=b.f,g=Math.sin(p),O=Math.cos(p),j=(1-m)*Math.tan(d),w=1/Math.sqrt(1+j*j),_=j*w,x=Math.atan2(j,O),k=w*g,S=k*k,E=1-S,T=E*(v*v-y*y)/(y*y),M=1+T/16384*(4096+T*(T*(320-175*T)-768)),C=T/1024*(256+T*(T*(74-47*T)-128)),A=r/(y*M),P=2*Math.PI;Math.abs(A-P)>1e-12;)u=Math.cos(2*x+A),P=A,A=r/(y*M)+C*(a=Math.sin(A))*(u+C/4*((s=Math.cos(A))*(2*u*u-1)-C/6*u*(4*a*a-3)*(4*u*u-3)));var I=_*a-w*s*O,D=Math.atan2(_*s+w*a*O,(1-m)*Math.sqrt(S+I*I)),L=Math.atan2(a*g,w*s-_*a*O),R=m/16*E*(4+m*(4-3*E)),N=D/o.d,F=(f+(L-(1-R)*m*k*(A+R*a*(u+R*s*(2*u*u-1)))))/o.d;return e.splice(0,e.length),e.push(F,N),e}function f(e,t,n,r){var i,a,s,u,l,h,f,d,p,b,v=t[0]*o.d,y=t[1]*o.d,m=n[0]*o.d,g=n[1]*o.d,O=c(r),j=O.a,w=O.b,_=O.f,x=O.radius,k=m-v,S=Math.atan((1-_)*Math.tan(y)),E=Math.atan((1-_)*Math.tan(g)),T=Math.sin(S),M=Math.cos(S),C=Math.sin(E),A=Math.cos(E),P=1e3,I=k;do{if(f=Math.sin(I),d=Math.cos(I),0===(s=Math.sqrt(A*f*(A*f)+(M*C-T*A*d)*(M*C-T*A*d))))return{distance:0};l=T*C+M*A*d,h=Math.atan2(s,l),u=l-2*T*C/(a=1-(p=M*A*f/s)*p),isNaN(u)&&(u=0),i=I,I=k+(1-(b=_/16*a*(4+_*(4-3*a))))*_*p*(h+b*s*(u+b*l*(2*u*u-1)))}while(Math.abs(I-i)>1e-12&&--P>0);if(0===P){var D=x,L=Math.acos(Math.sin(y)*Math.sin(g)+Math.cos(y)*Math.cos(g)*Math.cos(m-v))*D,R=m-v,N=Math.sin(R)*Math.cos(g),F=Math.cos(y)*Math.sin(g)-Math.sin(y)*Math.cos(g)*Math.cos(R);return{azimuth:Math.atan2(N,F)/o.d,distance:L}}var z=a*(j*j-w*w)/(w*w),V=z/1024*(256+z*(z*(74-47*z)-128)),U=w*(1+z/16384*(4096+z*(z*(320-175*z)-768)))*(h-V*s*(u+V/4*(l*(2*u*u-1)-V/6*u*(4*s*s-3)*(4*u*u-3)))),B=Math.atan2(A*Math.sin(I),M*C-T*A*Math.cos(I)),G=Math.atan2(M*Math.sin(I),M*C*Math.cos(I)-T*A);return e.azimuth=B/o.d,e.distance=U,e.reverseAzimuth=G/o.d,e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(2),i=n(3),a=n(54),o=n(56),s=(n(99),n(24)),c=n(9),u=n(72),l=n(116),h=n(53),f=n(90),d=function(){function e(t,n){Object(r.a)(this,e),this.spatialReference=t,this.viewingMode=n,this._unnormalizationInfo=m(t,n)}return Object(i.a)(e,[{key:"tag",value:function(e){return e}},{key:"createNew",value:function(){return this.tag(Object(u.a)())}},{key:"fromPoint",value:function(e){return this.tag(Object(u.d)(e.x,e.y))}},{key:"fromArray",value:function(e){return this.tag(Object(u.d)(e[0],e[1]))}},{key:"toArray",value:function(e){return[e[0],e[1]]}},{key:"clone",value:function(e){return this.tag(Object(u.c)(e))}},{key:"toPoint",value:function(e,t){return t.x=e[0],t.y=e[1],t.hasZ=!1,t.hasM=!1,t.spatialReference=this.spatialReference,t}},{key:"createPoint",value:function(e){return new o.a({x:e[0],y:e[1],z:void 0,m:void 0,spatialReference:this.spatialReference})}},{key:"createPointFromArray",value:function(e){return new o.a({x:e[0],y:e[1],z:void 0,m:void 0,spatialReference:this.spatialReference})}},{key:"createDehydratedPoint",value:function(e){return{x:e[0],y:e[1],z:void 0,m:void 0,hasZ:!1,hasM:!1,spatialReference:this.spatialReference,type:"point"}}},{key:"lerp",value:function(e,t,n,r){return Object(h.m)(r,e,t,n)}},{key:"addDelta",value:function(e,t,n){e[0]+=t,e[1]+=n}},{key:"pointToArray",value:function(e){return[e.x,e.y]}},{key:"zFromArray",value:function(e){}},{key:"hasZ",value:function(){return!1}},{key:"unnormalize",value:function(e){y(e,this._unnormalizationInfo)}},{key:"fromXYZ",value:function(e){return this.tag(Object(u.d)(e[0],e[1]))}},{key:"toXYZ",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(s.g)(e[0],e[1],t)}}]),e}(),p=function(){function e(t,n,i){Object(r.a)(this,e),this.valueType=t,this.spatialReference=n,this._unnormalizationInfo=m(n,i)}return Object(i.a)(e,[{key:"tag",value:function(e){return e}},{key:"createNew",value:function(){return this.tag(Object(s.e)())}},{key:"fromPoint",value:function(e){return this.tag(Object(s.g)(e.x,e.y,0===this.valueType?e.z:e.m))}},{key:"fromArray",value:function(e){return this.tag(Object(s.g)(e[0],e[1],e[2]||0))}},{key:"toArray",value:function(e){return[e[0],e[1],e[2]]}},{key:"clone",value:function(e){return this.tag(Object(s.f)(e))}},{key:"toPoint",value:function(e,t){return t.x=e[0],t.y=e[1],0===this.valueType?(t.z=e[2],t.hasZ=!0,t.hasM=!1):(t.m=e[2],t.hasZ=!1,t.hasM=!0),t.spatialReference=this.spatialReference,t}},{key:"createPoint",value:function(e){return new o.a({x:e[0],y:e[1],z:0===this.valueType?e[2]:void 0,m:1===this.valueType?e[2]:void 0,spatialReference:this.spatialReference})}},{key:"createPointFromArray",value:function(e){return new o.a({x:e[0],y:e[1],z:0===this.valueType?e[2]:void 0,m:1===this.valueType?e[2]:void 0,spatialReference:this.spatialReference})}},{key:"createDehydratedPoint",value:function(e){var t=0===this.valueType,n=1===this.valueType;return{x:e[0],y:e[1],z:t?e[2]:void 0,m:n?e[2]:void 0,hasZ:t,hasM:n,spatialReference:this.spatialReference,type:"point"}}},{key:"lerp",value:function(e,t,n,r){return Object(c.f)(r,e,t,n)}},{key:"addDelta",value:function(e,t,n,r){e[0]+=t,e[1]+=n,0===this.valueType&&(e[2]+=r)}},{key:"pointToArray",value:function(e){return 0===this.valueType?[e.x,e.y,e.z]:[e.x,e.y,e.m]}},{key:"zFromArray",value:function(e){return 0===this.valueType?e[2]:void 0}},{key:"hasZ",value:function(){return 0===this.valueType}},{key:"unnormalize",value:function(e){y(e,this._unnormalizationInfo)}},{key:"fromXYZ",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.tag(Object(s.g)(e[0],e[1],0===this.valueType?e.length>2?e[2]:t:n))}},{key:"toXYZ",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.tag(Object(s.g)(e[0],e[1],0===this.valueType?e[2]:t))}}]),e}(),b=function(){function e(t,n){Object(r.a)(this,e),this.spatialReference=t,this._unnormalizationInfo=m(t,n)}return Object(i.a)(e,[{key:"tag",value:function(e){return e}},{key:"createNew",value:function(){return this.tag(Object(l.c)())}},{key:"fromPoint",value:function(e){return this.tag(Object(l.d)(e.x,e.y,e.z,e.m))}},{key:"fromArray",value:function(e){return this.tag(Object(l.d)(e[0],e[1],e[2]||0,e[3]||0))}},{key:"toArray",value:function(e){return[e[0],e[1],e[2],e[3]]}},{key:"clone",value:function(e){return this.tag(Object(l.g)(e))}},{key:"toPoint",value:function(e,t){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.hasZ=!0,t.hasM=!0,t.spatialReference=this.spatialReference,t}},{key:"createPoint",value:function(e){return new o.a({x:e[0],y:e[1],z:e[2],m:e[3],spatialReference:this.spatialReference})}},{key:"createPointFromArray",value:function(e){return new o.a({x:e[0],y:e[1],z:e[2],m:e[3],spatialReference:this.spatialReference})}},{key:"createDehydratedPoint",value:function(e){return{x:e[0],y:e[1],z:e[2],m:e[3],hasZ:!0,hasM:!0,spatialReference:this.spatialReference,type:"point"}}},{key:"lerp",value:function(e,t,n,r){return Object(f.j)(r,e,t,n)}},{key:"addDelta",value:function(e,t,n,r){e[0]+=t,e[1]+=n,e[2]+=r}},{key:"pointToArray",value:function(e){return[e.x,e.y,e.z,e.m]}},{key:"zFromArray",value:function(e){return e[2]}},{key:"hasZ",value:function(){return!0}},{key:"unnormalize",value:function(e){y(e,this._unnormalizationInfo)}},{key:"fromXYZ",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.tag(Object(l.d)(e[0],e[1],e.length>2?e[2]:t,n))}},{key:"toXYZ",value:function(e){return Object(s.g)(e[0],e[1],e[2])}}]),e}();function v(e,t,n,r){return e&&t?new b(n,r):t?new p(1,n,r):e?new p(0,n,r):new d(n,r)}function y(e,t){if(t.supported){var n=1/0,r=-1/0,i=t.upperBoundX-t.lowerBoundX;e.forEach((function(e){for(var a=e.pos[0];a<t.lowerBoundX;)a+=i;for(;a>t.upperBoundX;)a-=i;n=Math.min(n,a),r=Math.max(r,a),e.pos[0]=a}));var a=r-n;i-a<a&&e.forEach((function(e){e.pos[0]<0&&(e.pos[0]+=i)}))}}function m(e,t){var n=Object(a.d)(e);return"global"===t&&n?{supported:!0,lowerBoundX:n.valid[0],upperBoundX:n.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return y}));var r=n(24),i=n(9),a=n(161),o=n(53),s=n(51),c=n(183);function u(e){return e?{p0:Object(r.d)(e.p0),p1:Object(r.d)(e.p1),p2:Object(r.d)(e.p2)}:{p0:Object(r.e)(),p1:Object(r.e)(),p2:Object(r.e)()}}function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u();return Object(i.h)(r.p0,e),Object(i.h)(r.p1,t),Object(i.h)(r.p2,n),r}function h(e,t,n){var r=Object(o.i)(e,t),i=Object(o.i)(t,n),a=Object(o.i)(n,e),s=(r+i+a)/2,c=s*(s-r)*(s-i)*(s-a);return c<=0?0:Math.sqrt(c)}function f(e,t,n){return Object(i.g)(b,t,e),Object(i.g)(v,n,e),Object(i.m)(Object(i.d)(b,b,v))/2}var d=new a.a(c.a),p=new a.a((function(){return{p0:null,p1:null,p2:null}})),b=Object(r.e)(),v=Object(r.e)(),y=Object.freeze({__proto__:null,create:u,wrap:function(e,t,n){var r=p.get();return r.p0=e,r.p1=t,r.p2=n,r},copy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u();return l(e.p0,e.p1,e.p2,t)},fromValues:l,distance2:function(e,t){var n=e.p0,r=e.p1,a=e.p2,o=Object(i.g)(s.c.get(),r,n),u=Object(i.g)(s.c.get(),a,r),l=Object(i.g)(s.c.get(),n,a),h=Object(i.g)(s.c.get(),t,n),f=Object(i.g)(s.c.get(),t,r),p=Object(i.g)(s.c.get(),t,a),b=Object(i.d)(o,o,l),v=Object(i.e)(Object(i.d)(s.c.get(),o,b),h),y=Object(i.e)(Object(i.d)(s.c.get(),u,b),f),m=Object(i.e)(Object(i.d)(s.c.get(),l,b),p);if(v>0&&y>0&&m>0){var g=Object(i.e)(b,h);return g*g/Object(i.e)(b,b)}var O=Object(c.b)(Object(c.c)(n,o,d.get()),t),j=Object(c.b)(Object(c.c)(r,u,d.get()),t),w=Object(c.b)(Object(c.c)(a,l,d.get()),t);return Math.min(O,j,w)},intersectRay:function(e,t,n){var r=1e-5,a=t.direction,o=t.origin,s=e.p0,c=e.p1,u=e.p2,l=c[0]-s[0],h=c[1]-s[1],f=c[2]-s[2],d=u[0]-s[0],p=u[1]-s[1],b=u[2]-s[2],v=a[1]*b-p*a[2],y=a[2]*d-b*a[0],m=a[0]*p-d*a[1],g=l*v+h*y+f*m;if(g>-r&&g<r)return!1;var O=1/g,j=o[0]-s[0],w=o[1]-s[1],_=o[2]-s[2],x=O*(j*v+w*y+_*m);if(x<0||x>1)return!1;var k=w*f-h*_,S=_*l-f*j,E=j*h-l*w,T=O*(a[0]*k+a[1]*S+a[2]*E);return!(T<0||x+T>1)&&(n&&(Object(i.b)(n,a,O*(d*k+p*S+b*E)),Object(i.c)(n,o,n)),!0)},areaPoints2d:h,area2d:function(e){return h(e.p0,e.p1,e.p2)},areaPoints3d:f})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),i=n(3),a=function(){function e(t){var n=this;Object(r.a)(this,e),this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t,this.view.watch("ready",(function(e){n._resourcesCreated&&(e?n._createResources():n._destroyResources())}))}return Object(i.a)(e,[{key:"applyProps",value:function(e){var t=!1;for(var n in e)n in this?"attached"===n?t=e[n]:this[n]=e[n]:console.error("Cannot set unknown property",n);this.attached=t}},{key:"destroy",value:function(){this.attached=!1}},{key:"attached",get:function(){return this._attached},set:function(e){e!==this._attached&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}},{key:"visible",get:function(){return this._visible},set:function(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}},{key:"_createResources",value:function(){this.createResources(),this._resourcesCreated=!0,this.visible||this.updateVisibility(!1)}},{key:"_destroyResources",value:function(){this.destroyResources(),this._resourcesCreated=!1}}]),e}()},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(343)),f=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).showLegend=null,e}return Object(a.a)(n,[{key:"clone",value:function(){return new r({title:this.title,showLegend:this.showLegend})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:Boolean,json:{write:!0}})],f.prototype,"showLegend",void 0);var d=f=r=Object(c.a)([Object(l.a)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],f);t.a=d},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(499)),f=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).customValues=null,e}return Object(a.a)(n,[{key:"clone",value:function(){return new r({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:[Number],json:{write:!0}})],f.prototype,"customValues",void 0);var d=f=r=Object(c.a)([Object(l.a)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],f);t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(58);function i(e){return e=e||r.a.location.hostname,l.some((function(t){var n;return null!=(null==(n=e)?void 0:n.match(t))}))}function a(e,t){return e&&(t=t||r.a.location.hostname)?null!=t.match(o)||null!=t.match(c)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(s)||null!=t.match(u)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}var o=/^devext.arcgis.com$/,s=/^qaext.arcgis.com$/,c=/^[\w-]*\.mapsdevext.arcgis.com$/,u=/^[\w-]*\.mapsqa.arcgis.com$/,l=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,o,s,/^jsapps.esri.com$/,c,u]},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(101),i=n(20),a=n(359),o=n(509),s=n(403),c={key:"type",base:a.a,typeMap:{selection:s.a}};function u(e,t){var n=(t=t.layerDefinition||t).featureReduction;if(n)switch(n.type){case"selection":return s.a.fromJSON(n);case"cluster":return o.a.fromJSON(n)}return null}function l(e,t,n,a){var o=function(e,t,n){return e?"selection"!==e.type?(n.messages&&n.messages.push(new i.a("featureReduction:unsupported","FeatureReduction of type '".concat(e.declaredClass,"' are not supported in scenes."),{featureReduction:e,context:n})),null):e.write(t,n):null}(e,{},a);o&&Object(r.c)(n,o,t)}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(100)),i=o(n(19)),a=n(351);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.children,n=s(e,["children"]);return i.default.createElement(a.StyledTopNavActions,n,t)};c.propTypes={children:r.default.node},c.defaultProps={},c.displayName="TopNavActionsList";var u=c;t.default=u},function(e,t,n){!function(e){"use strict";var t="4.17",n="next";function r(e){if(e.toLowerCase()===n)return n;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function i(e){return void 0===e&&(e=t),"https://js.arcgis.com/"+e+"/"}function a(e){void 0===e&&(e=t);var a=i(e),o=r(e);return o!==n&&3===o.major?a+(o.minor<=10?"js/":"")+"esri/css/esri.css":a+"esri/themes/light/main.css"}function o(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function s(e,t){if(t){var n=document.querySelector(t);n.parentNode.insertBefore(e,n)}else document.head.appendChild(e)}function c(e){return document.querySelector('link[href*="'+e+'"]')}function u(e){return!e||r(e)?a(e):e}function l(e,t){var n=u(e),r=c(n);return r||s(r=o(n),t),r}var h={Promise:"undefined"!==typeof window?window.Promise:void 0},f={};function d(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function p(e,t,n){var r;n&&(r=b(e,n));var i=function n(){t(e),e.removeEventListener("load",n,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",i,!1)}function b(e,t){var n=function n(r){t(r.error||new Error("There was an error attempting to load "+e.src)),e.removeEventListener("error",n,!1)};return e.addEventListener("error",n,!1),n}function v(e){void 0===e&&(e={}),f=e}function y(){return document.querySelector("script[data-esri-loader]")}function m(){var e=window.require;return e&&e.on}function g(e){void 0===e&&(e={});var t={};[f,e].forEach((function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}));var n=t.version,r=t.url||i(n);return new h.Promise((function(e,i){var a=y();if(a){var o=a.getAttribute("src");o!==r?i(new Error("The ArcGIS API for JavaScript is already loaded ("+o+").")):m()?e(a):p(a,e,i)}else if(m())i(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=t.css;s&&l(!0===s?n:s,t.insertCssBefore),t.dojoConfig&&(window.dojoConfig=t.dojoConfig),p(a=d(r),(function(){a.setAttribute("data-esri-loader","loaded"),e(a)}),i),document.body.appendChild(a)}}))}function O(e){return new h.Promise((function(t,n){var r=window.require.on("error",n);window.require(e,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r.remove(),t(e)}))}))}function j(e,t){if(void 0===t&&(t={}),m())return O(e);var n=y(),r=n&&n.getAttribute("src");return!t.url&&r&&(t.url=r),g(t).then((function(){return O(e)}))}var w={getScript:y,isLoaded:m,loadModules:j,loadScript:g,loadCss:l,setDefaultOptions:v,utils:h};e.getScript=y,e.isLoaded=m,e.loadModules=j,e.loadScript=g,e.loadCss=l,e.setDefaultOptions=v,e.utils=h,e.default=w,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ct}));var r=n(32),i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14)),l=(n(18),n(1)),h=n(8),f=(n(12),n(21),n(22),n(177),n(29)),d=(n(257),n(37)),p=n(39),b=n(366),v=(n(171),n(276)),y=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).items=new p.a,e._watchUpdatingTracking=new b.a,e._callbacks=new Map,e._projector=Object(v.a)(),e._hiddenProjector=Object(v.a)(),e}return Object(a.a)(n,[{key:"needsRender",get:function(){return this.items.length>0}},{key:"initialize",value:function(){var e=this,t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(this.items,(function(t){t.added.map((function(t){var n=function(){return t.render()};e._callbacks.set(t,n),e._projector.append(e.surface,n)})),t.removed.map((function(t){var n=e._projector.detach(e._callbacks.get(t));e.surface.removeChild(n.domNode),e._callbacks.delete(t)}))}))}},{key:"addItem",value:function(e){this.items.add(e)}},{key:"removeItem",value:function(e){this.items.remove(e)}},{key:"destroy",value:function(){var e=this;this.items.removeAll(),this._callbacks.forEach((function(t){return e._projector.detach(t)})),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}},{key:"render",value:function(){this._projector.renderNow()}},{key:"computeBoundingRect",value:function(e){var t=this._hiddenSurface,n=this._hiddenProjector,r=null,i=function(){return r=e.render()};n.append(t,i),n.renderNow();var a={left:0,top:0,right:0,bottom:0};if(r&&r.domNode){var o=r.domNode.getBoundingClientRect();a.left=o.left,a.top=o.top,a.right=o.right,a.bottom=o.bottom}for(n.detach(i);t.firstChild;)t.removeChild(t.firstChild);return a}},{key:"overlaps",value:function(e,t){var n=this.computeBoundingRect(e),r=this.computeBoundingRect(t);return Math.max(n.left,r.left)<=Math.min(n.right,r.right)&&Math.max(n.top,r.top)<=Math.min(n.bottom,r.bottom)}},{key:"hasVisibleItems",get:function(){return this.items.some((function(e){return e.visible}))}},{key:"renderCanvas",value:function(e){if(this.items.some((function(e){return e.visible}))){var t=e.getContext("2d");t.save(),t.font="10px ".concat(getComputedStyle(this.surface).fontFamily),this.items.forEach((function(e){t.save(),e.renderCanvas(t),t.restore()})),t.restore()}}}]),n}(d.a);Object(c.a)([Object(l.b)({readOnly:!0})],y.prototype,"surface",void 0),Object(c.a)([Object(l.b)({readOnly:!0})],y.prototype,"items",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["items.length"]})],y.prototype,"needsRender",null),Object(c.a)([Object(l.b)({readOnly:!0})],y.prototype,"_watchUpdatingTracking",void 0),Object(c.a)([Object(l.b)({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],y.prototype,"updating",void 0);y=Object(c.a)([Object(h.a)("esri.views.overlay.ViewOverlay")],y);var m=n(28),g=n(10),O=n(40),j=n(41),w=n(62),_=n(295),x=n(122),k=n(128),S=(n(153),n(60));function E(e,t,n,r){var i=null,a=1e3;"number"==typeof t?(a=t,r=n):(i=null!=t?t:null,a=n);var o,s=0,c=function(){s=0,e.apply(r,o)},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i&&i.apply(r,t),o=t,a?s||(s=setTimeout(c,a)):c()};return u.remove=function(){s&&(clearTimeout(s),s=0)},u.forceUpdate=function(){s&&(clearTimeout(s),c())},u.hasPendingUpdates=function(){return!!s},u}var T=n(64),M=n(82),C=n(88),A=n(33),P=n(207),I=n(11),D=n(94),L=n(212),R=function(e){var t=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).renderNodeContent=function(t){return Object(L.b)(t)&&!t.destroyed?Object(I.a)("div",{key:t},t.render()):t instanceof HTMLElement?Object(I.a)("div",{key:t,bind:t,afterCreate:e._attachToNode}):Object(L.a)(t)?Object(I.a)("div",{key:t,bind:t.domNode,afterCreate:e._attachToNode}):null},e}return Object(a.a)(n,[{key:"_attachToNode",value:function(e){e.appendChild(this)}}]),n}(e);return t=Object(c.a)([Object(h.a)("esri.widgets.Feature.ContentMixin")],t)},N=n(508),F=n(71),z=n(7),V=n.n(z),U=n(16),B=n(80),G=n(105),q=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._loadingPromise=null,r.created=null,r.creator=null,r.destroyer=null,r.graphic=null,r.handles.add(Object(f.a)(Object(O.a)(r),"creator",(function(e){r._destroyContent(),r._createContent(e)}))),r}return Object(a.a)(n,[{key:"destroy",value:function(){this._destroyContent()}},{key:"state",get:function(){return this._loadingPromise?"loading":"ready"}},{key:"_destroyContent",value:function(){var e=this.created,t=this.graphic,n=this.destroyer;e&&(Object(F.m)(n,{graphic:t}).catch((function(){return null})),this._set("created",null))}},{key:"_createContent",value:function(){var e=Object(U.a)(V.a.mark((function e(t){var n,r,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.graphic,r=Object(F.m)(t,{graphic:n}).catch((function(){return null})),this._loadingPromise=r,this.notifyChange("state"),e.next=4,r;case 4:i=e.sent,r===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",i));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Object(G.b)(d.a));Object(c.a)([Object(l.b)({readOnly:!0})],q.prototype,"created",void 0),Object(c.a)([Object(l.b)()],q.prototype,"creator",void 0),Object(c.a)([Object(l.b)()],q.prototype,"destroyer",void 0),Object(c.a)([Object(l.b)({type:B.a})],q.prototype,"graphic",void 0),Object(c.a)([Object(l.b)({readOnly:!0})],q.prototype,"state",null);var H=q=Object(c.a)([Object(h.a)("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],q),W=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r)).creator=null,a.graphic=null,a.viewModel=null,a._addTargetToAnchors=function(e){Array.from(e.querySelectorAll("a")).forEach((function(e){Object(F.r)(e.href)&&!e.hasAttribute("target")&&e.setAttribute("target","_blank")}))},a}return Object(a.a)(n,[{key:"renderLoading",value:function(){return Object(I.a)("div",{class:"esri-feature-content__loader-container",key:"loader"},Object(I.a)("div",{class:"esri-feature-content__loader"}))}},{key:"renderCreated",value:function(){var e,t=null==(e=this.viewModel)?void 0:e.created;return t?t instanceof HTMLElement?Object(I.a)("div",{key:t,bind:t,afterCreate:this._attachToNode}):Object(L.b)(t)?Object(I.a)("div",{key:t},!t.destroyed&&t.render()):Object(I.a)("div",{key:t,innerHTML:t,afterCreate:this._addTargetToAnchors}):null}},{key:"render",value:function(){var e,t=null==(e=this.viewModel)?void 0:e.state;return Object(I.a)("div",{class:"esri-feature-content"},"loading"===t?this.renderLoading():this.renderCreated())}},{key:"_attachToNode",value:function(e){e.appendChild(this)}}]),n}(D.a);Object(c.a)([Object(j.a)("viewModel.creator")],W.prototype,"creator",void 0),Object(c.a)([Object(j.a)("viewModel.graphic")],W.prototype,"graphic",void 0),Object(c.a)([Object(A.a)(["viewModel.created","viewModel.state"]),Object(l.b)({type:H})],W.prototype,"viewModel",void 0);var Y=W=Object(c.a)([Object(h.a)("esri.widgets.Feature.FeatureContent")],W),J=n(252),K=n(449),X=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).attributes=null,r.expressionInfos=null,r.fieldInfos=null,r}return Object(a.a)(n,[{key:"formattedFieldInfos",get:function(){var e=this.expressionInfos,t=this.fieldInfos,n=[];return null==t||t.forEach((function(t){if(!t.hasOwnProperty("visible")||t.visible){var r=t.clone();r.label=Object(F.i)(r,e),n.push(r)}})),n}}]),n}(d.a);Object(c.a)([Object(l.b)()],X.prototype,"attributes",void 0),Object(c.a)([Object(l.b)({type:[K.a]})],X.prototype,"expressionInfos",void 0),Object(c.a)([Object(l.b)({type:[J.a]})],X.prototype,"fieldInfos",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["expressionInfos","fieldInfos"]})],X.prototype,"formattedFieldInfos",null);var Q=X=Object(c.a)([Object(h.a)("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],X),Z=n(125),$=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];var ee=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r)).attributes=null,a.expressionInfos=null,a.fieldInfos=null,a.viewModel=new Q,a.messages=null,a.messagesURIUtils=null,a}return Object(a.a)(n,[{key:"renderFieldInfo",value:function(e,t){var n=this.viewModel.attributes,r=e.fieldName,i=e.label||r,a=n?null==n[r]?"":n[r]:"",o=!(!e.format||!e.format.dateFormat),s="number"!=typeof a||o?function(e,t){if("string"!=typeof t||!t)return t;var n=function(e){var t=null;return $.some((function(n){return n.pattern.test(e)&&(t=n),!!t})),t}(t);if(!n)return t;var r=t.match(n.pattern),i=r&&r[2],a=Object(Z.c)(Object(Z.c)(n.label,{messages:e,hierPart:i}),{appName:n.appName}),o=n.target?' target="'.concat(n.target,'"'):"",s="_blank"===n.target?' rel="noreferrer"':"";return t.replace(n.pattern,"<a".concat(o,' href="$1"').concat(s,">").concat(a,"</a>"))}(this.messagesURIUtils,a):this._forceLTR(a),c=Object(m.a)({},"esri-feature-fields__field-data--date",o);return Object(I.a)("tr",{key:"fields-element-info-row-".concat(r,"-").concat(t)},Object(I.a)("th",{key:"fields-element-info-row-header-".concat(r,"-").concat(t),class:"esri-feature-fields__field-header",innerHTML:i}),Object(I.a)("td",{key:"fields-element-info-row-data-".concat(r,"-").concat(t),class:this.classes("esri-feature-fields__field-data",c),innerHTML:s}))}},{key:"renderFields",value:function(){var e=this,t=this.viewModel.formattedFieldInfos;return t.length?Object(I.a)("table",{class:"esri-widget__table",summary:this.messages.fieldsSummary},Object(I.a)("tbody",null,t.map((function(t,n){return e.renderFieldInfo(t,n)})))):null}},{key:"render",value:function(){return Object(I.a)("div",{class:"esri-feature-fields"},this.renderFields())}},{key:"_forceLTR",value:function(e){return"&lrm;".concat(e)}}]),n}(D.a);Object(c.a)([Object(j.a)("viewModel.attributes")],ee.prototype,"attributes",void 0),Object(c.a)([Object(j.a)("viewModel.expressionInfos")],ee.prototype,"expressionInfos",void 0),Object(c.a)([Object(j.a)("viewModel.fieldInfos")],ee.prototype,"fieldInfos",void 0),Object(c.a)([Object(l.b)({type:Q}),Object(A.a)(["viewModel.attributes","viewModel.formattedFieldInfos"])],ee.prototype,"viewModel",void 0),Object(c.a)([Object(l.b)(),Object(A.a)(),Object(C.a)("esri/widgets/Feature/t9n/Feature")],ee.prototype,"messages",void 0),Object(c.a)([Object(l.b)(),Object(A.a)(),Object(C.a)("esri/widgets/support/t9n/uriUtils")],ee.prototype,"messagesURIUtils",void 0);var te=ee=Object(c.a)([Object(h.a)("esri.widgets.Feature.FeatureFields")],ee),ne=n(38),re=n(484),ie=n(20),ae=n(17),oe=n(49),se=n(65),ce=n(448),ue=n(152),le=n(580),he=u.a.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),fe=new Map;function de(e){if(!Object(F.o)(e))return null;var t=e.split("/").slice(1),n=Object(r.a)(t,2);return{layerId:n[0],fieldName:n[1]}}function pe(e){var t,n=e.originRelationship,r=e.relationships,i=e.layerId;return r&&r.some((function(e){return"".concat(e.relatedTableId)===i&&e.id===n.id&&(t=e),!!t})),t}function be(e,t){if(t&&e){var n=e.features,r=e.statsFeatures,i=n&&n.value;t.relatedFeatures=i?i.features:[];var a=r&&r.value;t.relatedStatsFeatures=a?a.features:[]}}function ve(e,t){var n=e.relatedInfos,r=e.layer,i={};return n.forEach((function(e,n){var a=e.relation;if(!a){var o=new ie.a("relation-required","A relation is required on a layer to retrieve related records.");throw he.error(o),o}var s=a.relatedTableId;if("number"!=typeof s){var c=new ie.a("A related table ID is required on a layer to retrieve related records.");throw he.error(c),c}var u="".concat(r.url,"/").concat(s),l=fe.get(u),h=l||function(e,t){return Object(se.default)(e,{query:{f:"json"},signal:t&&t.signal})}(u,t);l||fe.set(u,h),i[n]=h})),Object(ae.i)(i)}function ye(e,t){var n=e.graphic,r=e.relatedInfos,i=e.layer,a={};return r.forEach((function(e,r){e.layerInfo&&(a[r]=function(){var e=Object(U.a)(V.a.mark((function e(t,n,r,i){var a,o,s,c,u,l,h,f,d,p,b,v;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.layerId.toString(),s=n.layerInfo,c=n.queryTask,u=n.relation,!(l=null==(a=pe({originRelationship:u,relationships:s.relationships,layerId:o}))?void 0:a.keyField)){e.next=4;break}return h=Object(oe.v)(Object(oe.q)(s.fields,l)),f=function(e,t){var n=t.toLowerCase();for(var r in e)if(r.toLowerCase()===n)return e[r];return null}(t.attributes,u.keyField),d=h?"".concat(l,"=").concat(f):"".concat(l,"='").concat(f,"'"),p=c.execute(new ue.a({where:d,outFields:n.relatedFields}),i),b=n.outStatistics&&n.outStatistics.length>0&&s.supportsStatistics?c.execute(new ue.a({where:d,outFields:n.relatedFields,outStatistics:n.outStatistics}),i):null,v={features:p},e.abrupt("return",(b&&(v.statsFeatures=b),Object(ae.i)(v)));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(n,e,i,t))})),Object(ae.i)(a)}var me=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).activeMediaInfoIndex=0,r.attributes=null,r.fieldInfoMap=null,r.formattedAttributes=null,r.layer=null,r.mediaInfos=null,r.popupTemplate=null,r.relatedInfos=null,r}return Object(a.a)(n,[{key:"activeMediaInfo",get:function(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}},{key:"formattedMediaInfos",get:function(){return this._formatMediaInfos()||[]}},{key:"formattedMediaInfoCount",get:function(){return this.formattedMediaInfos.length}},{key:"setActiveMedia",value:function(e){this._setContentElementMedia(e)}},{key:"next",value:function(){this._pageContentElementMedia(1)}},{key:"previous",value:function(){this._pageContentElementMedia(-1)}},{key:"_setContentElementMedia",value:function(e){var t=this.formattedMediaInfoCount,n=(e+t)%t;this.activeMediaInfoIndex=n}},{key:"_pageContentElementMedia",value:function(e){var t=this.activeMediaInfoIndex+e;this._setContentElementMedia(t)}},{key:"_formatMediaInfos",value:function(){var e=this,t=this.attributes,n=this.mediaInfos,r=this.formattedAttributes,i=this.fieldInfoMap,a=this.layer,o=Object(g.a)(Object(g.a)({},r),t);return null==n?void 0:n.map((function(n){if(!n)return null;var s=n.title?Object(F.p)(n.title,o,a):"";n.title=s?Object(F.s)({formattedAttributes:r,template:s,fieldInfoMap:i}):"";var c=n.caption?Object(F.p)(n.caption,o,a):"";n.caption=c?Object(F.s)({formattedAttributes:r,template:c,fieldInfoMap:i}):"";var u=n.altText?Object(F.p)(n.altText,o,a):"";if(n.altText=u?Object(F.s)({formattedAttributes:r,template:u,fieldInfoMap:i}):"","image"===n.type){var l=n.value;return e._setImageValue({value:l,formattedAttributes:r,layer:a}),n.value.sourceURL?n:void 0}if("pie-chart"===n.type||"line-chart"===n.type||"column-chart"===n.type||"bar-chart"===n.type){var h=n.value;return e._setChartValue({value:h,chartType:n.type,attributes:t,formattedAttributes:r,layer:a}),n}return null})).filter(Boolean)}},{key:"_setImageValue",value:function(e){var t=this.fieldInfoMap,n=e.value,r=e.formattedAttributes,i=e.layer,a=n.linkURL,o=n.sourceURL;if(o){var s=Object(F.c)(o,i);n.sourceURL=Object(F.s)({formattedAttributes:r,template:s,fieldInfoMap:t})}if(a){var c=Object(F.c)(a,i);n.linkURL=Object(F.s)({formattedAttributes:r,template:c,fieldInfoMap:t})}}},{key:"_setChartValue",value:function(e){var t=this,n=e.value,r=e.attributes,i=e.formattedAttributes,a=e.chartType,o=e.layer,s=this.popupTemplate,c=this.relatedInfos,u=n.fields,l=n.normalizeField;if(n.fields=Object(F.k)(u,o),l&&(n.normalizeField=Object(F.j)(l,o)),u.some((function(e){return!!(null!=i[e]||Object(F.o)(e)&&c.size)}))){var h=null==s?void 0:s.fieldInfos;u.forEach((function(e){if(Object(F.o)(e))n.series=[].concat(Object(ne.a)(n.series),Object(ne.a)(t._getRelatedChartInfos({fieldInfos:h,fieldName:e,formattedAttributes:i,chartType:a,value:n})));else{var o=t._getChartOption({value:n,attributes:r,chartType:a,formattedAttributes:i,fieldName:e,fieldInfos:h});n.series.push(o)}}))}}},{key:"_getRelatedChartInfos",value:function(e){var t,n=this,r=e.fieldInfos,i=e.fieldName,a=e.formattedAttributes,o=e.chartType,s=e.value,c=[],u=de(i),l=u.layerId,h=u.fieldName,f=null==(t=this.relatedInfos)?void 0:t.get(l.toString());if(!f)return c;var d=f.relatedFeatures,p=f.relation;if(!p||!d)return c;var b=p.cardinality;return d.forEach((function(e){var t=e.attributes;t&&Object.keys(t).forEach((function(e){e===h&&c.push(n._getChartOption({value:s,attributes:t,formattedAttributes:a,fieldName:i,chartType:o,relatedFieldName:e,fieldInfos:r}))}))})),"one-to-many"===b||"many-to-many"===b?c:[c[0]]}},{key:"_getTooltip",value:function(e){var t=e.label,n=e.value;return"pie-chart"===e.chartType?t:"".concat(t,": ").concat(n)}},{key:"_getChartOption",value:function(e){var t,n=e.value,r=e.attributes,i=e.formattedAttributes,a=e.fieldName,o=e.relatedFieldName,s=e.fieldInfos,c=e.chartType,u=this.layer,l=n.normalizeField,h=n.tooltipField,f=l?Object(F.o)(l)?r[de(l).fieldName]:r[l]:null,d=o&&void 0!==r[o]?r[o]:void 0!==r[a]?r[a]:i[a],p=void 0===d?null:d&&f?d/f:d,b=new re.a({value:p});if(Object(F.o)(a)){var v=de(a),y=de(h),m=y?y.fieldName:null,g=Object(F.f)(p,{fieldInfos:s,fieldName:o,layer:u,preventPlacesFormatting:!!f}),O=v?v.label||v.fieldName:o,j=m&&void 0!==r[m]?r[m]:O;return b.tooltip=this._getTooltip({label:j,value:g,chartType:c}),b}var w=Object(F.h)(s,a),_=Object(F.j)(a,u),x=h&&void 0!==i[h]?i[h]:Object(F.i)(w||new J.a({fieldName:_}),null==(t=this.popupTemplate)?void 0:t.expressionInfos),k=i[_];return b.tooltip=this._getTooltip({label:x,value:k,chartType:c}),b}}]),n}(d.a);Object(c.a)([Object(l.b)()],me.prototype,"activeMediaInfoIndex",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["formattedMediaInfos","activeMediaInfoIndex"]})],me.prototype,"activeMediaInfo",null),Object(c.a)([Object(l.b)()],me.prototype,"attributes",void 0),Object(c.a)([Object(l.b)()],me.prototype,"fieldInfoMap",void 0),Object(c.a)([Object(l.b)()],me.prototype,"formattedAttributes",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["attributes","fieldInfoMap","formattedAttributes","mediaInfos","popupTemplate","layer","relatedInfos"]})],me.prototype,"formattedMediaInfos",null),Object(c.a)([Object(l.b)()],me.prototype,"layer",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["formattedMediaInfos"]})],me.prototype,"formattedMediaInfoCount",null),Object(c.a)([Object(l.b)()],me.prototype,"mediaInfos",void 0),Object(c.a)([Object(l.b)()],me.prototype,"popupTemplate",void 0),Object(c.a)([Object(l.b)()],me.prototype,"relatedInfos",void 0);var ge,Oe,je=me=Object(c.a)([Object(h.a)("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],me),we=je,_e=n(13),xe=n(96),ke=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],Se=[].concat(ke.slice(30,39),ke.slice(28,30).reverse()),Ee=[{name:"default",colors:Se},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}],Te=new Map([["ar",function(){return n.e(64).then(n.bind(null,1162)).then((function(e){return e.a}))}],["bs-ba",function(){return n.e(65).then(n.bind(null,1163)).then((function(e){return e.b}))}],["ca-es",function(){return n.e(66).then(n.bind(null,1164)).then((function(e){return e.c}))}],["cs-cz",function(){return n.e(67).then(n.bind(null,1165)).then((function(e){return e.c}))}],["da-dk",function(){return n.e(68).then(n.bind(null,1166)).then((function(e){return e.d}))}],["de-de",function(){return n.e(70).then(n.bind(null,1167)).then((function(e){return e.d}))}],["de-ch",function(){return n.e(69).then(n.bind(null,1168)).then((function(e){return e.d}))}],["el-gr",function(){return n.e(71).then(n.bind(null,1169)).then((function(e){return e.e}))}],["en-us",function(){return n.e(73).then(n.bind(null,1170)).then((function(e){return e.e}))}],["en-ca",function(){return n.e(72).then(n.bind(null,1171)).then((function(e){return e.e}))}],["es-es",function(){return n.e(74).then(n.bind(null,1172)).then((function(e){return e.e}))}],["et-ee",function(){return n.e(75).then(n.bind(null,1173)).then((function(e){return e.e}))}],["fi-fi",function(){return n.e(76).then(n.bind(null,1174)).then((function(e){return e.f}))}],["fr-fr",function(){return n.e(77).then(n.bind(null,1175)).then((function(e){return e.f}))}],["he-il",function(){return n.e(78).then(n.bind(null,1176)).then((function(e){return e.h}))}],["hr-hr",function(){return n.e(79).then(n.bind(null,1177)).then((function(e){return e.h}))}],["hu-hu",function(){return n.e(80).then(n.bind(null,1178)).then((function(e){return e.h}))}],["id-id",function(){return n.e(82).then(n.bind(null,1179)).then((function(e){return e.i}))}],["it-it",function(){return n.e(84).then(n.bind(null,1180)).then((function(e){return e.i}))}],["ja-jp",function(){return n.e(85).then(n.bind(null,1181)).then((function(e){return e.j}))}],["ko-kr",function(){return n.e(86).then(n.bind(null,1182)).then((function(e){return e.k}))}],["lt-lt",function(){return n.e(87).then(n.bind(null,1183)).then((function(e){return e.l}))}],["lv-lv",function(){return n.e(88).then(n.bind(null,1184)).then((function(e){return e.l}))}],["nb-no",function(){return n.e(89).then(n.bind(null,1185)).then((function(e){return e.n}))}],["nl-nl",function(){return n.e(90).then(n.bind(null,1186)).then((function(e){return e.n}))}],["pl-pl",function(){return n.e(92).then(n.bind(null,1187)).then((function(e){return e.p}))}],["pt-br",function(){return n.e(93).then(n.bind(null,1188)).then((function(e){return e.p}))}],["pt-pt",function(){return n.e(94).then(n.bind(null,1189)).then((function(e){return e.p}))}],["ro-ro",function(){return n.e(95).then(n.bind(null,1190)).then((function(e){return e.r}))}],["ru-ru",function(){return n.e(96).then(n.bind(null,1191)).then((function(e){return e.r}))}],["sl-sl",function(){return n.e(97).then(n.bind(null,1192)).then((function(e){return e.s}))}],["sr-rs",function(){return n.e(98).then(n.bind(null,1193)).then((function(e){return e.s}))}],["sv-se",function(){return n.e(99).then(n.bind(null,1194)).then((function(e){return e.s}))}],["th-th",function(){return n.e(100).then(n.bind(null,1195)).then((function(e){return e.t}))}],["tr-tr",function(){return n.e(101).then(n.bind(null,1196)).then((function(e){return e.t}))}],["uk-ua",function(){return n.e(102).then(n.bind(null,1197)).then((function(e){return e.u}))}],["vi-vn",function(){return n.e(103).then(n.bind(null,1198)).then((function(e){return e.v}))}],["zh-cn",function(){return n.e(104).then(n.bind(null,1199)).then((function(e){return e.z}))}],["zh-hk",function(){return n.e(20).then(n.bind(null,1200)).then((function(e){return e.z}))}],["zh-tw",function(){return n.e(20).then(n.bind(null,1200)).then((function(e){return e.z}))}]]);function Me(e){return e?Te.has(e.toLowerCase())?e.toLowerCase():function(e){var t,n=e.split("-")[0].toLowerCase(),r=null,i=Object(_e.a)(Te.keys());try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.startsWith(n)){r=a;break}}}catch(o){i.e(o)}finally{i.f()}return r}(e)||"en-us":"en-us"}function Ce(){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(U.a)(V.a.mark((function e(){var t,i,a,o,s,c=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Me(t=c.length>0&&void 0!==c[0]?c[0]:Object(xe.b)()),!ge||t!==Oe){e.next=3;break}return e.abrupt("return",ge);case 3:return ge=n.e(83).then(n.bind(null,1201)).then((function(e){return e.i})),Oe=t,e.prev=4,e.next=7,Object(ae.b)([ge,Te.get(Oe)()]);case 7:i=e.sent,a=Object(r.a)(i,2),o=a[0],s=a[1],Oe===t&&(o.am4core.options.defaultLocale=s.default),o.am4core.options.suppressWarnings=!0,o.am4core.options.autoDispose=!0,e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(4),e.abrupt("return",(ge=null,Oe=null,null));case 17:return e.abrupt("return",ge);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}var Pe="esri-feature-media__button",Ie="esri-feature-media__icon",De="esri-icon-left-triangle-arrow",Le="esri-icon-right-triangle-arrow",Re=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r))._refreshTimer=null,a._refreshIntervalInfo=null,a.attributes=null,a.activeMediaInfoIndex=null,a.fieldInfoMap=null,a.layer=null,a.mediaInfos=null,a.popupTemplate=null,a.relatedInfos=null,a.viewModel=new we,a.messages=null,a}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this;this.own(Object(f.a)(this,["viewModel.activeMediaInfo","viewModel.activeMediaInfoIndex"],(function(){return e._setupMediaRefreshTimer()})))}},{key:"destroy",value:function(){this._clearMediaRefreshTimer()}},{key:"render",value:function(){return Object(I.a)("div",{bind:this,class:"esri-feature-media",onkeyup:this._handleMediaKeyup},this.renderMedia())}},{key:"renderMedia",value:function(){return this.viewModel.formattedMediaInfoCount?Object(I.a)("div",{key:"media-element-container",class:"esri-feature-media__container"},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}},{key:"renderImageMediaInfo",value:function(e){var t=this._refreshIntervalInfo,n=this.viewModel,r=n.activeMediaInfoIndex,i=n.formattedMediaInfoCount,a=e.value,o=e.refreshInterval,s=e.altText,c=e.title,u=e.type,l=a.sourceURL,h=a.linkURL,f=Object(F.r)(h)?"_blank":"_self",d="_blank"===f?"noreferrer":"",p=o?t:null,b=p?p.timestamp:0,v=p?p.sourceURL:l,y=Object(I.a)("img",{alt:s||c,key:"media-".concat(u,"-").concat(r,"-").concat(i,"-").concat(b),src:v});return(h?Object(I.a)("a",{title:c,href:h,rel:d,target:f},y):null)||y}},{key:"renderChartMediaInfo",value:function(e){var t=this.viewModel,n=t.activeMediaInfoIndex,r=t.formattedMediaInfoCount;return Object(I.a)("div",{key:"media-".concat(e.type,"-").concat(n,"-").concat(r),bind:this,class:"esri-feature-media__chart",afterCreate:this._getChartDependencies})}},{key:"renderMediaInfoType",value:function(){var e=this.viewModel.activeMediaInfo;return e?"image"===e.type?this.renderImageMediaInfo(e):-1!==e.type.indexOf("chart")?this.renderChartMediaInfo(e):null:null}},{key:"renderMediaInfo",value:function(){var e=this.viewModel.activeMediaInfo,t=e.title?Object(I.a)("div",{key:"media-title",class:"esri-feature-media__item-title",innerHTML:e.title}):null,n=e.caption?Object(I.a)("div",{key:"media-caption",class:"esri-feature-media__item-caption",innerHTML:e.caption}):null;return Object(I.a)("div",{key:"media-container",class:"esri-feature-media__item-container"},t,n,Object(I.a)("div",{key:"media-item-container",class:"esri-feature-media__item"},this.renderMediaInfoType()))}},{key:"renderMediaPageButton",value:function(e){if(this.viewModel.formattedMediaInfoCount<2)return null;var t="previous"===e,n=t?this.messages.previous:this.messages.next,r=t?this.classes(Pe,"esri-feature-media__previous"):this.classes(Pe,"esri-feature-media__next"),i=t?this.classes(Ie,"esri-feature-media__previous-icon",De):this.classes(Ie,"esri-feature-media__next-icon",Le),a=t?this.classes(Ie,"esri-feature-media__previous-icon--rtl",Le):this.classes(Ie,"esri-feature-media__next-icon--rtl",De),o=t?"media-previous":"media-next",s=t?this._previous:this._next;return Object(I.a)("button",{type:"button",key:o,title:n,"aria-label":n,tabIndex:0,class:r,bind:this,onclick:s},Object(I.a)("span",{"aria-hidden":"true",class:i}),Object(I.a)("span",{"aria-hidden":"true",class:a}))}},{key:"_next",value:function(){this.viewModel.next()}},{key:"_previous",value:function(){this.viewModel.previous()}},{key:"_getChartDependencies",value:function(){var e=Object(U.a)(V.a.mark((function e(t){var n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce();case 2:n=e.sent,r=this.viewModel.activeMediaInfo,this._renderChart({chartDiv:t,mediaInfo:r,chartsModule:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_handleMediaKeyup",value:function(e){var t=Object(x.a)(e);"ArrowLeft"===t&&(e.stopPropagation(),this.viewModel.previous()),"ArrowRight"===t&&(e.stopPropagation(),this.viewModel.next())}},{key:"_renderChart",value:function(e){var t=e.chartsModule,n=e.chartDiv,r=e.mediaInfo,i=r.value,a=r.type,o=t.am4core,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=Ee.find((function(e){return e.name===t}));return n?n.colors.map((function(t){return e.color(t)})):null}(o);Object(T.d)()&&o.useTheme(t.am4themes_dark),o.useTheme(t.am4themes_animated),o.useTheme((function(e){e instanceof o.ColorSet&&s&&(e.list=s)}));var c="pie-chart"===a?this._createPieChart(e):this._createXYChart(e);n.setAttribute("aria-label",r.altText||r.title),c.data=i.series.map((function(e){return{tooltip:e.tooltip,value:e.value}})).filter((function(e){return"pie-chart"!==a||e.value>0}))}},{key:"_customizeChartTooltip",value:function(e,t){e.label.wrap=!0,e.label.maxWidth=200,e.autoTextColor=!1,e.getFillFromObject=!1,e.label.fill=t.color("#ffffff"),e.background.fill=t.color({r:0,g:0,b:0,a:.7})}},{key:"_createPieChart",value:function(e){var t=e.chartDiv,n=e.chartsModule,r=n.am4core,i=n.am4charts,a=r.create(t,i.PieChart);a.rtl=Object(T.e)();var o=a.series.push(new i.PieSeries);return o.labels.template.disabled=!0,o.ticks.template.disabled=!0,o.dataFields.value="value",o.dataFields.category="tooltip",this._customizeChartTooltip(o.tooltip,r),a}},{key:"_getMinSeriesValue",value:function(e){var t=0;return e.forEach((function(e){return t=Math.min(e.value,t)})),t}},{key:"_createColumnChart",value:function(e,t){var n=t.chartsModule,r=t.mediaInfo.value,i=n.am4core,a=n.am4charts,o=e.xAxes.push(new a.CategoryAxis);o.dataFields.category="tooltip",o.renderer.labels.template.disabled=!0,this._customizeChartTooltip(o.tooltip,i),o.tooltip.events.on("sizechanged",(function(){o.tooltip.dy=-o.tooltip.contentHeight}));var s=e.yAxes.push(new a.ValueAxis),c=s.renderer.labels.template;s.renderer.minLabelPosition=.05,s.renderer.maxLabelPosition=.95,s.min=this._getMinSeriesValue(r.series),this._customizeChartTooltip(s.tooltip,i),c.wrap=!0;var u=e.series.push(new a.ColumnSeries);u.dataFields.valueY="value",u.dataFields.categoryX="tooltip",e.cursor=new a.XYCursor,r.series.length>15&&(e.scrollbarX=new i.Scrollbar)}},{key:"_createBarChart",value:function(e,t){var n=t.chartsModule,r=t.mediaInfo.value,i=n.am4core,a=n.am4charts,o=e.yAxes.push(new a.CategoryAxis);o.dataFields.category="tooltip",o.renderer.inversed=!0,o.renderer.labels.template.disabled=!0,this._customizeChartTooltip(o.tooltip,i),o.tooltip.events.on("sizechanged",(function(){o.tooltip.dx=o.tooltip.contentWidth}));var s=e.xAxes.push(new a.ValueAxis),c=s.renderer.labels.template;s.renderer.minLabelPosition=.05,s.renderer.maxLabelPosition=.95,s.min=this._getMinSeriesValue(r.series),this._customizeChartTooltip(s.tooltip,i),c.wrap=!0;var u=e.series.push(new a.ColumnSeries);u.dataFields.valueX="value",u.dataFields.categoryY="tooltip",e.cursor=new a.XYCursor,r.series.length>15&&(e.scrollbarY=new i.Scrollbar)}},{key:"_createLineChart",value:function(e,t){var n=t.chartsModule,r=t.mediaInfo.value,i=n.am4core,a=n.am4charts,o=e.xAxes.push(new a.CategoryAxis);o.dataFields.category="tooltip",o.renderer.labels.template.disabled=!0,this._customizeChartTooltip(o.tooltip,i),o.tooltip.events.on("sizechanged",(function(){o.tooltip.dy=-o.tooltip.contentHeight}));var s=e.yAxes.push(new a.ValueAxis),c=s.renderer.labels.template;s.renderer.minLabelPosition=.05,s.renderer.maxLabelPosition=.95,s.min=this._getMinSeriesValue(r.series),this._customizeChartTooltip(s.tooltip,i),c.wrap=!0;var u=e.series.push(new a.LineSeries);u.dataFields.categoryX="tooltip",u.dataFields.valueY="value",e.cursor=new a.XYCursor,r.series.length>15&&(e.scrollbarX=new i.Scrollbar)}},{key:"_createXYChart",value:function(e){var t=e.chartDiv,n=e.chartsModule,r=e.mediaInfo.type,i=n.am4core,a=n.am4charts,o=i.create(t,a.XYChart);return o.rtl=Object(T.e)(),"column-chart"===r&&this._createColumnChart(o,e),"bar-chart"===r&&this._createBarChart(o,e),"line-chart"===r&&this._createLineChart(o,e),o}},{key:"_clearMediaRefreshTimer",value:function(){var e=this._refreshTimer;e&&(clearTimeout(e),this._refreshTimer=null)}},{key:"_updateMediaInfoTimestamp",value:function(e){var t=Date.now();this._refreshIntervalInfo={timestamp:t,sourceURL:this._getImageSource(e,t)},this.scheduleRender()}},{key:"_setupMediaRefreshTimer",value:function(){this._clearMediaRefreshTimer();var e=this.viewModel.activeMediaInfo;e&&"image"===e.type&&e.refreshInterval&&this._setRefreshTimeout(e)}},{key:"_setRefreshTimeout",value:function(e){var t=this,n=e.refreshInterval,r=e.value;if(n){var i=6e4*n;this._updateMediaInfoTimestamp(r.sourceURL);var a=setInterval((function(){t._updateMediaInfoTimestamp(r.sourceURL)}),i);this._refreshTimer=a}}},{key:"_getImageSource",value:function(e,t){var n=-1!==e.indexOf("?")?"&":"?",i=e.split("#"),a=Object(r.a)(i,2),o=a[0],s=a[1],c=void 0===s?"":s;return"".concat(o).concat(n,"timestamp=").concat(t).concat(c?"#":"").concat(c)}}]),n}(D.a);Object(c.a)([Object(j.a)("viewModel.attributes")],Re.prototype,"attributes",void 0),Object(c.a)([Object(j.a)("viewModel.activeMediaInfoIndex")],Re.prototype,"activeMediaInfoIndex",void 0),Object(c.a)([Object(j.a)("viewModel.fieldInfoMap")],Re.prototype,"fieldInfoMap",void 0),Object(c.a)([Object(j.a)("viewModel.layer")],Re.prototype,"layer",void 0),Object(c.a)([Object(j.a)("viewModel.mediaInfos")],Re.prototype,"mediaInfos",void 0),Object(c.a)([Object(j.a)("viewModel.popupTemplate")],Re.prototype,"popupTemplate",void 0),Object(c.a)([Object(j.a)("viewModel.relatedInfos")],Re.prototype,"relatedInfos",void 0),Object(c.a)([Object(l.b)({type:we}),Object(A.a)(["viewModel.formattedMediaInfos","viewModel.activeMediaInfoIndex","viewModel.activeMediaInfo"])],Re.prototype,"viewModel",void 0),Object(c.a)([Object(l.b)(),Object(A.a)(),Object(C.a)("esri/widgets/Feature/t9n/Feature")],Re.prototype,"messages",void 0);var Ne=Re=Object(c.a)([Object(h.a)("esri.widgets.Feature.FeatureMedia")],Re),Fe=n(4),ze=n(225),Ve=n(329),Ue=["$datastore","$map","$layer"],Be=u.a.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");function Ge(e){return qe.apply(this,arguments)}function qe(){return(qe=Object(U.a)(V.a.mark((function e(t){var n,r,i,a,o,s,c,u,l,h,f,d,p,b;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.expressionAttributes,r=t.info,i=t.arcadeUtils,a=t.spatialReference,o=t.map,s=t.graphic,c="expression/".concat(r.name),u=i.createSyntaxTree(r.expression),l=Ue.filter((function(e){return i.hasVariable(u,e)})),e.next=4,i.loadScriptDependencies(u,!0,l);case 4:return h=i.getViewInfo({spatialReference:a}),(f=i.createExecContext(s,h)).useAsync=!0,function(e){var t=e.arcadeUtils,n=e.context,r=e.viewInfo,i=e.map,a=e.graphic;e.featureSetVars.forEach((function(e){var o=e.toLowerCase(),s={map:i,spatialReference:r.sr};"$map"===o&&(n.vars[o]=t.convertMapToFeatureSetCollection(s)),"$layer"===o&&(n.vars[o]=t.convertFeatureLayerToFeatureSet(a.sourceLayer,r.sr)),"$datastore"===o&&(n.vars[o]=t.convertServiceUrlToWorkspace(a.sourceLayer.url,r.sr))}))}({arcadeUtils:i,featureSetVars:l,context:f,viewInfo:h,map:o,graphic:s}),d=i.createFunction(u,f),e.next=9,i.executeAsyncFunction(d,f).catch((function(e){return Be.error("arcade-execution-error",{error:e,graphic:s,expressionInfo:r})}));case 9:p=e.sent,n[c]="string"==typeof p?Object(F.a)(Object(F.n)(p)):Array.isArray(p)?function(e){return'<ul class="esri-widget__list">'.concat(e.map((function(e){return"<li>".concat("string"==typeof e?Object(F.a)(Object(F.n)(e)):e,"</li>")})).join(""),"</ul>")}(p):p&&"esri.arcade.Dictionary"===p.declaredClass?'<table class="esri-widget__table">'.concat((b=p).keys().map((function(e){var t=b.field(e);return"<tr><th>".concat(e,"</th><td>").concat("string"==typeof t?Object(F.a)(Object(F.n)(t)):t,"</td></tr>")})).join(""),"</table>"):p;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e){return We.apply(this,arguments)}function We(){return(We=Object(U.a)(V.a.mark((function e(t){var r,i,a,o,s,c,u,l,h,f,d;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.popupTemplate,i=t.spatialReference,a=t.graphic,o=t.map,s=r.expressionInfos,c=[],u={},s&&s.length){e.next=4;break}return e.abrupt("return",u);case 4:return e.next=6,n.e(11).then(n.bind(null,967));case 6:l=e.sent,h=Object(_e.a)(s);try{for(h.s();!(f=h.n()).done;)d=f.value,c.push(Ge({expressionAttributes:u,info:d,arcadeUtils:l,spatialReference:i,map:o,graphic:a}))}catch(p){h.e(p)}finally{h.f()}return e.next=11,Object(ae.i)(c);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ye=u.a.getLogger("esri.widgets.FeatureViewModel"),Je=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._handles=new S.a,r._featureAbortController=null,r.graphicChangedThrottled=E(r.graphicChanged,1,Object(O.a)(r)),r.content=null,r.contentViewModels=[],r.defaultPopupTemplateEnabled=!1,r.formattedAttributes=null,r.lastEditInfo=null,r.relatedInfos=new Map,r.title="",r.view=null,r._handles.add(Object(f.a)(Object(O.a)(r),["graphic","_effectivePopupTemplate"],(function(){return r.graphicChangedThrottled()}))),r}return Object(a.a)(n,[{key:"destroy",value:function(){this._clear(),this._cancelFeatureQuery(),this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}},{key:"_effectivePopupTemplate",get:function(){return Object(Fe.h)(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}},{key:"_fieldInfoMap",get:function(){return Object(F.b)(Object(F.g)(this._effectivePopupTemplate),this._sourceLayer)}},{key:"_sourceLayer",get:function(){return Object(F.l)(this.graphic)}},{key:"graphic",set:function(e){this._set("graphic",e?e.clone():null)}},{key:"spatialReference",get:function(){return this.get("view.spatialReference")||null},set:function(e){void 0!==e?this._override("spatialReference",e):this._clearOverride("spatialReference")}},{key:"map",get:function(){return this.get("view.map")||null},set:function(e){void 0!==e?this._override("map",e):this._clearOverride("map")}},{key:"waitingForContent",get:function(){return!!this._featureAbortController}},{key:"setActiveMedia",value:function(e,t){var n=this.contentViewModels[e];n instanceof we&&n.setActiveMedia(t)}},{key:"nextMedia",value:function(e){var t=this.contentViewModels[e];t instanceof we&&t.next()}},{key:"previousMedia",value:function(e){var t=this.contentViewModels[e];t instanceof we&&t.previous()}},{key:"_clear",value:function(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}},{key:"graphicChanged",value:function(){var e=Object(U.a)(V.a.mark((function e(){var t,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._cancelFeatureQuery(),this._clear(),t=this.graphic){e.next=4;break}return e.abrupt("return");case 4:return n=Object(ae.d)(),this._featureAbortController=n,e.prev=6,e.next=9,this._queryFeature({signal:n.signal});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),Ye.error("error","error loading popupTemplate for graphic",{error:e.t0,graphic:t});case 14:this._featureAbortController===n&&(this._featureAbortController=null);case 15:case"end":return e.stop()}}),e,this,[[6,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"_cancelFeatureQuery",value:function(){var e=this._featureAbortController;e&&e.abort(),this._featureAbortController=null}},{key:"_compileContent",value:function(e){var t=this;if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.map((function(e,n){return"attachments"===e.type?t._compileAttachments(e,n):"custom"===e.type?t._compileCustom(e,n):"fields"===e.type?t._compileFields(e,n):"media"===e.type?t._compileMedia(e,n):"text"===e.type?t._compileText(e,n):void 0})):"string"==typeof e?this._compileText(new ze.a({text:e}),0).text:e}},{key:"_destroyContentViewModels",value:function(){this.contentViewModels.forEach((function(e){return e&&!e.destroyed&&e.destroy()})),this._set("contentViewModels",[])}},{key:"_compileAttachments",value:function(e,t){var n=this.graphic;return this.contentViewModels[t]=new Ve.a({graphic:n}),e}},{key:"_compileCustom",value:function(e,t){var n=this.graphic,r=e.creator,i=e.destroyer;return this.contentViewModels[t]=new H({graphic:n,creator:r,destroyer:i}),e}},{key:"_compileFields",value:function(e,t){var n=this._effectivePopupTemplate,r=this.formattedAttributes,i=e.clone(),a=(null==e?void 0:e.fieldInfos)||(null==n?void 0:n.fieldInfos),o=null==n?void 0:n.expressionInfos,s=Object(g.a)(Object(g.a)({},r.global),r.content[t]),c=new Q({attributes:s,expressionInfos:o,fieldInfos:a});return this.contentViewModels[t]=c,i.fieldInfos=c.formattedFieldInfos.slice(0),i}},{key:"_compileMedia",value:function(e,t){var n=this.graphic,r=this._fieldInfoMap,i=this._effectivePopupTemplate,a=this.relatedInfos,o=this._sourceLayer,s=n.attributes,c=this.formattedAttributes.global,u=e.clone(),l=u.mediaInfos,h=new we({activeMediaInfoIndex:u.activeMediaInfoIndex||0,attributes:s,layer:o,fieldInfoMap:r,formattedAttributes:c,mediaInfos:l,popupTemplate:i,relatedInfos:a});return u.mediaInfos=h.formattedMediaInfos.slice(0),this.contentViewModels[t]=h,u}},{key:"_compileText",value:function(e,t){var n=e.clone(),r=this.graphic,i=this._fieldInfoMap,a=this._sourceLayer;if(n&&n.text){var o=r.attributes,s=this.formattedAttributes.global,c=Object(F.p)(n.text,Object(g.a)(Object(g.a)({},s),o),a);n.text=Object(F.s)({formattedAttributes:s,template:c,fieldInfoMap:i})}return this.contentViewModels[t]=new H({graphic:r,creator:n.text}),n}},{key:"_compileLastEditInfo",value:function(){var e=this._effectivePopupTemplate,t=this._sourceLayer,n=this.graphic;if(e){var r=e.lastEditInfoEnabled,i=null==t?void 0:t.editFieldsInfo;return r&&i?Object(F.e)(i,n.attributes):void 0}}},{key:"_compileTitle",value:function(e){var t=this._fieldInfoMap,n=this._sourceLayer,r=this.graphic.attributes,i=this.formattedAttributes.global;if(e){var a=Object(F.p)(e,Object(g.a)(Object(g.a)({},i),r),n);return Object(F.s)({formattedAttributes:i,template:a,fieldInfoMap:t})}return""}},{key:"_getTitle",value:function(){var e=Object(U.a)(V.a.mark((function e(){var t,n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._effectivePopupTemplate,n=this.graphic,r=null==t?void 0:t.title,e.abrupt("return",Object(F.m)(r,{graphic:n}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getContent",value:function(){var e=Object(U.a)(V.a.mark((function e(){var t,n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._effectivePopupTemplate,n=this.graphic,r=null==t?void 0:t.content,e.abrupt("return",Object(F.m)(r,{graphic:n}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_queryFeature",value:function(){var e=Object(U.a)(V.a.mark((function e(t){var n,r,i,a,o,s,c,u,l,h,f;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._featureAbortController,r=this._sourceLayer,i=this.graphic,a=this._effectivePopupTemplate,o=this.spatialReference,s=this.map,e.next=8,Object(ae.i)({content:this._getContent(),title:this._getTitle()});case 8:if(c=e.sent,u=c.content.value,l=c.title.value,n===this._featureAbortController&&i){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,Object(ae.i)({checkForRelatedFeatures:this._checkForRelatedFeatures(t),expressionAttributes:He({popupTemplate:this._effectivePopupTemplate,spatialReference:o,graphic:i,map:s}),queryUpdatedFeature:Object(F.q)({graphic:i,popupTemplate:a,layer:r},t)});case 15:h=e.sent,f=h.expressionAttributes.value,n===this._featureAbortController&&i&&(this._set("formattedAttributes",this._createFormattedAttributes(u,f)),this._set("title",this._compileTitle(l)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(u)||null));case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createFormattedAttributes",value:function(e,t){var n=this._effectivePopupTemplate,r=this.graphic,i=this.relatedInfos,a=this._sourceLayer,o=this._fieldInfoMap,s=null==n?void 0:n.fieldInfos,c=Object(g.a)(Object(g.a)({},r.attributes),t),u={global:Object(F.d)({fieldInfos:s,graphic:r,attributes:c,layer:a,fieldInfoMap:o,relatedInfos:i}),content:[]};return Array.isArray(e)&&e.forEach((function(e,t){"fields"===e.type&&e.fieldInfos&&(u.content[t]=Object(F.d)({fieldInfos:e.fieldInfos,graphic:r,attributes:c,layer:a,fieldInfoMap:o,relatedInfos:i}))})),u}},{key:"_checkForRelatedFeatures",value:function(e){var t=this.graphic,n=this._effectivePopupTemplate;return this._queryRelatedInfos(t,Object(F.g)(n),e)}},{key:"_queryRelatedInfos",value:function(){var e=Object(U.a)(V.a.mark((function e(t,n,r){var i,a,o,s,c,u,l=this;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.relatedInfos,a=this._sourceLayer,i.clear(),!Object(Fe.h)(a.associatedLayer)){e.next=8;break}return e.next=5,a.associatedLayer.load(r);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=a;case 9:if(o=e.t0){e.next=12;break}return e.abrupt("return");case 12:if((s=n.filter((function(e){return e&&Object(F.o)(e.fieldName)})))&&s.length){e.next=15;break}return e.abrupt("return");case 15:return n.forEach((function(e){return l._configureRelatedInfo(e,o)})),e.next=18,ve({relatedInfos:i,layer:o},r);case 18:return c=e.sent,Object.keys(c).forEach((function(e){var t,n=i.get(e.toString()),r=null==(t=c[e])?void 0:t.value;n&&r&&(n.layerInfo=r.data)})),e.next=22,ye({graphic:t,relatedInfos:i,layer:o},r);case 22:u=e.sent,Object.keys(u).forEach((function(e){var t;be(null==(t=u[e])?void 0:t.value,i.get(e.toString()))}));case 24:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_configureRelatedInfo",value:function(e,t){var n=this.relatedInfos,r=de(e.fieldName);if(r){var i=r.layerId,a=r.fieldName;if(i){var o=n.get(i.toString())||function(e,t){var n=function(e,t){if(!t.relationships)return null;var n=null;return t.relationships.some((function(t){return t.id===parseInt(e,10)&&(n=t,!0)})),n}(e,t);if(n){var r="".concat(t.url,"/").concat(n.relatedTableId);return{url:r,queryTask:new le.a({url:r,sourceSpatialReference:t.spatialReference}),relation:n,relatedFields:[],outStatistics:[]}}}(i,t);o&&(function(e){var t=e.relatedInfo,n=e.fieldName,r=e.fieldInfo;if(t.relatedFields.push(n),r.statisticType){var i=new ce.a({statisticType:r.statisticType,onStatisticField:n,outStatisticFieldName:n});t.outStatistics.push(i)}}({relatedInfo:o,fieldName:a,fieldInfo:e}),this.relatedInfos.set(i,o))}}}}]),n}(d.a);Object(c.a)([Object(l.b)()],Je.prototype,"_featureAbortController",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["graphic","graphic.sourceLayer.popupTemplate.title","graphic.sourceLayer.popupTemplate.content","graphic.sourceLayer.popupTemplate.expressionInfos","graphic.sourceLayer.popupTemplate.fieldInfos","graphic.sourceLayer.popupTemplate.lastEditInfoEnabled","graphic.sourceLayer.popupTemplate.outFields","graphic.sourceLayer.popupTemplate.relatedRecordsInfo","graphic.popupTemplate.title","graphic.popupTemplate.content","graphic.popupTemplate.expressionInfos","graphic.popupTemplate.fieldInfos","graphic.popupTemplate.lastEditInfoEnabled","graphic.popupTemplate.outFields","graphic.popupTemplate.relatedRecordsInfo","defaultPopupTemplateEnabled"]})],Je.prototype,"_effectivePopupTemplate",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["_effectivePopupTemplate","_sourceLayer"]})],Je.prototype,"_fieldInfoMap",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["graphic.layer","graphic.sourceLayer"]})],Je.prototype,"_sourceLayer",null),Object(c.a)([Object(l.b)({readOnly:!0})],Je.prototype,"content",void 0),Object(c.a)([Object(l.b)({readOnly:!0})],Je.prototype,"contentViewModels",void 0),Object(c.a)([Object(l.b)({type:Boolean})],Je.prototype,"defaultPopupTemplateEnabled",void 0),Object(c.a)([Object(l.b)({readOnly:!0})],Je.prototype,"formattedAttributes",void 0),Object(c.a)([Object(l.b)({type:B.a,value:null})],Je.prototype,"graphic",null),Object(c.a)([Object(l.b)({readOnly:!0})],Je.prototype,"lastEditInfo",void 0),Object(c.a)([Object(l.b)()],Je.prototype,"relatedInfos",void 0),Object(c.a)([Object(l.b)({dependsOn:["view"]})],Je.prototype,"spatialReference",null),Object(c.a)([Object(l.b)({readOnly:!0})],Je.prototype,"title",void 0),Object(c.a)([Object(l.b)({dependsOn:["view"]})],Je.prototype,"map",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["_featureAbortController"]})],Je.prototype,"waitingForContent",null),Object(c.a)([Object(l.b)()],Je.prototype,"view",void 0);var Ke=Je=Object(c.a)([Object(h.a)("esri.widgets.FeatureViewModel")],Je),Xe="esri-feature__content-element",Qe={title:!0,content:!0,lastEditedInfo:!0},Ze=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r))._contentWidgets=[],a.graphic=null,a.defaultPopupTemplateEnabled=!1,a.label=void 0,a.messages=null,a.messagesURIUtils=null,a.spatialReference=null,a.title=null,a.visibleElements=Object(g.a)({},Qe),a.map=null,a.view=null,a.viewModel=new Ke,a}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this;this.own(Object(f.a)(this,"viewModel.contentViewModels",(function(){return e._setupContentWidgets()})))}},{key:"destroy",value:function(){this._destroyContentWidgets()}},{key:"castVisibleElements",value:function(e){return Object(g.a)(Object(g.a)({},Qe),e)}},{key:"render",value:function(){var e=this.viewModel.waitingForContent;return Object(I.a)("div",{class:this.classes("esri-feature","esri-widget")},Object(I.a)("div",{class:"esri-feature__size-container"},this.renderTitle(),e?this.renderLoading():this.renderContentContainer()))}},{key:"setActiveMedia",value:function(e,t){this.viewModel.setActiveMedia(e,t)}},{key:"nextMedia",value:function(e){this.viewModel.nextMedia(e)}},{key:"previousMedia",value:function(e){this.viewModel.previousMedia(e)}},{key:"renderLoading",value:function(){return Object(I.a)("div",{key:"loading-container",class:"esri-feature__loading-container"},Object(I.a)("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}},{key:"renderContentContainer",value:function(){return this.visibleElements.content?Object(I.a)("div",{class:"esri-feature__main-container"},[this.renderContent(),this.renderLastEditInfo()]):null}},{key:"renderTitle",value:function(){var e=this.visibleElements,t=this.title;return e.title?Object(I.a)("h4",{class:"esri-feature__title",innerHTML:t}):null}},{key:"renderContent",value:function(){var e=this.viewModel.content;if(!e)return null;if(Array.isArray(e))return e.length?Object(I.a)("div",{key:"content-content-elements"},e.map(this.renderContentElement,this)):null;if("string"==typeof e){var t=this._contentWidgets[0];return!t||t.destroyed?null:Object(I.a)("div",{key:"content-content"},t.render())}return this.renderNodeContent(e)}},{key:"renderContentElement",value:function(e,t){var n=this.visibleElements;if("boolean"!=typeof n.content&&!n.content[e.type])return null;switch(e.type){case"attachments":return this.renderAttachments(t);case"custom":return this.renderCustom(e,t);case"fields":return this.renderFields(t);case"media":return this.renderMedia(t);case"text":return this.renderText(e,t);default:return null}}},{key:"renderAttachments",value:function(e){var t=this._contentWidgets[e];if(!t||t.destroyed)return null;var n=t.viewModel,r=n.state,i=n.attachmentInfos;return"loading"===r||i.length>0?Object(I.a)("div",{key:this._buildKey("attachments-element",e),class:this.classes("esri-feature__attachments",Xe)},Object(I.a)("h2",null,this.messages.attach),t.render()):null}},{key:"renderCustom",value:function(e,t){var n=e.creator,r=this._contentWidgets[t];return!r||r.destroyed?null:n?Object(I.a)("div",{key:this._buildKey("custom-element",t),class:Xe},r.render()):null}},{key:"renderFields",value:function(e){var t=this._contentWidgets[e];return!t||t.destroyed?null:Object(I.a)("div",{key:this._buildKey("fields-element",e),class:Xe},t.render())}},{key:"renderMedia",value:function(e){var t=this._contentWidgets[e];return!t||t.destroyed?null:Object(I.a)("div",{key:this._buildKey("media-element",e),class:Xe},t.render())}},{key:"renderLastEditInfo",value:function(){var e=this.visibleElements,t=this.messages,n=this.viewModel.lastEditInfo;if(!n||!e.lastEditedInfo)return null;var r=n.date,i=n.user,a="edit"===n.type?i?t.lastEditedByUser:t.lastEdited:i?t.lastCreatedByUser:t.lastCreated,o=Object(k.a)(a,{date:r,user:i});return Object(I.a)("div",{key:"edit-info-element",class:this.classes("esri-feature__last-edited-info",Xe)},o)}},{key:"renderText",value:function(e,t){var n=e.text,r=this._contentWidgets[t];return!r||r.destroyed?null:n?Object(I.a)("div",{key:this._buildKey("text-element",t),class:this.classes(Xe,"esri-feature__text")},r.render()):null}},{key:"_buildKey",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"".concat(e,"__").concat(this.get("viewModel.graphic.uid")||"0","-").concat(n.join("-"))}},{key:"_destroyContentWidgets",value:function(){this._contentWidgets.forEach((function(e){e.viewModel=null,e&&!e.destroyed&&e.destroy()})),this._contentWidgets=[]}},{key:"_setupContentWidgets",value:function(){var e=this;this._destroyContentWidgets();var t=this.get("viewModel.content"),n=this.viewModel.contentViewModels;if(Array.isArray(t))t.forEach((function(t,r){"attachments"===t.type&&(e._contentWidgets[r]=new N.a({displayType:t.displayType,viewModel:n[r]})),"fields"===t.type&&(e._contentWidgets[r]=new te({viewModel:n[r]})),"media"===t.type&&(e._contentWidgets[r]=new Ne({viewModel:n[r]})),"text"===t.type&&(e._contentWidgets[r]=new Y({viewModel:n[r]})),"custom"===t.type&&(e._contentWidgets[r]=new Y({viewModel:n[r]}))}),this);else{var r=n[0];r&&!r.destroyed&&(this._contentWidgets[0]=new Y({viewModel:r}))}this.scheduleRender()}}]),n}(R(D.a));Object(c.a)([Object(j.a)("viewModel.graphic")],Ze.prototype,"graphic",void 0),Object(c.a)([Object(j.a)("viewModel.defaultPopupTemplateEnabled")],Ze.prototype,"defaultPopupTemplateEnabled",void 0),Object(c.a)([Object(l.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ze.prototype,"label",void 0),Object(c.a)([Object(l.b)(),Object(A.a)(),Object(C.a)("esri/widgets/Feature/t9n/Feature")],Ze.prototype,"messages",void 0),Object(c.a)([Object(l.b)(),Object(A.a)(),Object(C.a)("esri/widgets/support/t9n/uriUtils")],Ze.prototype,"messagesURIUtils",void 0),Object(c.a)([Object(j.a)("viewModel.spatialReference")],Ze.prototype,"spatialReference",void 0),Object(c.a)([Object(j.a)("viewModel.title")],Ze.prototype,"title",void 0),Object(c.a)([Object(l.b)(),Object(A.a)()],Ze.prototype,"visibleElements",void 0),Object(c.a)([Object(w.a)("visibleElements")],Ze.prototype,"castVisibleElements",null),Object(c.a)([Object(j.a)("viewModel.map")],Ze.prototype,"map",void 0),Object(c.a)([Object(j.a)("viewModel.view")],Ze.prototype,"view",void 0),Object(c.a)([Object(l.b)({type:Ke}),Object(A.a)(["viewModel.waitingForContent","viewModel.content","viewModel.lastEditInfo","viewModel.contentViewModels"])],Ze.prototype,"viewModel",void 0);var $e=Ze=Object(c.a)([Object(h.a)("esri.widgets.Feature")],Ze),et=n(489),tt=n(79),nt=n(56),rt=(n(99),n(209)),it=n(271),at=n(368),ot=n(184),st=n(47),ct=n(490),ut=n(492),lt=new it.a({id:"zoom-to-feature",title:"{messages.zoom}",className:"esri-icon-zoom-in-magnifying-glass"}),ht=new it.a({id:"remove-selected-feature",title:"{messages.remove}",className:"esri-icon-trash"}),ft=n(493),dt=p.a.ofType({key:"type",defaultKeyValue:"button",base:rt.a,typeMap:{button:it.a,toggle:at.a}}),pt=u.a.getLogger("esri.widgets.Popup.PopupViewModel"),bt=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._handles=new S.a,r._pendingPromises=new Set,r._zoomToLocation=null,r._fetchFeaturesController=null,r.actions=new dt([lt.clone()]),r.defaultPopupTemplateEnabled=!1,r.autoCloseEnabled=!1,r.autoOpenEnabled=!0,r.content=null,r.featureViewModels=[],r.highlightEnabled=!0,r.title=null,r.updateLocationEnabled=!1,r.view=null,r.visible=!1,r.zoomFactor=4,r}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this;this._handles.add([Object(f.a)(this,["autoOpenEnabled","view"],(function(){return e._autoOpenEnabledChange()})),this.on("view-change",(function(){return e._autoClose()})),Object(f.d)(this,["highlightEnabled","selectedFeature","visible","view"],(function(){return e._highlightFeature()})),Object(f.d)(this,"view.animation.state",(function(t){return e._animationStateChange(t)})),Object(f.d)(this,"location",(function(t){return e._locationChange(t)})),Object(f.d)(this,"selectedFeature",(function(t){return e._selectedFeatureChange(t)})),this.on("trigger-action",(function(t){return function(e){var t=e.event,n=e.view,r=t.action,i=n&&n.popup;if(!r)return Object(ae.r)(new ie.a("trigger-action:missing-arguments","Event has no action"));if(!i)return Object(ae.r)(new ie.a("trigger-action:missing-arguments","view.popup is missing"));var a=r.disabled,o=r.id;if(!o)return Object(ae.r)(new ie.a("trigger-action:invalid-action","action.id is missing"));if(a)return Object(ae.r)(new ie.a("trigger-action:invalid-action","Action is disabled"));if(o===lt.id)return i.viewModel.zoomToLocation();if(o===ht.id){i.close();var s=i.selectedFeature;if(!s)return Object(ae.r)(new ie.a("trigger-action:".concat(ht.id),"selectedFeature is required",{selectedFeature:s}));var c=s.sourceLayer;return c?c.remove(s):n.graphics.remove(s),Object(ae.s)()}return Object(ae.s)()}({event:t,view:e.view})})),Object(f.f)(this,"waitingForResult",(function(){return e._waitingForResultChange()})),Object(f.d)(this,["features","view","view.map","view.spatialReference"],(function(){return e._updateFeatureVMs()}))])}},{key:"destroy",value:function(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.view=null}},{key:"active",get:function(){return!(!this.visible||this.waitingForResult)}},{key:"allActions",get:function(){var e=this._get("allActions")||new dt;e.removeAll();var t=this.selectedFeature&&("function"==typeof this.selectedFeature.getEffectivePopupTemplate&&this.selectedFeature.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled)||this.selectedFeature.popupTemplate),n=t&&t.actions,r=t&&t.overwriteActions?n:n?n.concat(this.actions):this.actions;return r&&r.filter(Boolean).forEach((function(t){return e.add(t)})),e}},{key:"featureCount",get:function(){return this.features.length}},{key:"features",get:function(){return this._get("features")||[]},set:function(e){var t=e||[];this._set("features",t);var n=this.pendingPromisesCount,r=this.promiseCount,i=this.selectedFeatureIndex,a=r&&t.length;a&&n&&-1===i?this.selectedFeatureIndex=0:a&&-1!==i||(this.selectedFeatureIndex=t.length?0:-1)}},{key:"location",get:function(){return this._get("location")||null},set:function(e){var t=this.get("view.spatialReference.isWebMercator");e&&e.get("spatialReference.isWGS84")&&t&&(e=Object(tt.b)(e)),this._set("location",e)}},{key:"pendingPromisesCount",get:function(){return this._pendingPromises.size}},{key:"waitingForResult",get:function(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}},{key:"promiseCount",get:function(){return this.promises.length}},{key:"promises",get:function(){return this._get("promises")||[]},set:function(e){var t=this;if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",e),(e=e.slice(0)).forEach((function(e){t._pendingPromises.add(e),e.then((function(n){t._pendingPromises.has(e)&&t._updateFeatures(n),t._updatePendingPromises(e)}),(function(){return t._updatePendingPromises(e)}))})),this.notifyChange("pendingPromisesCount")}},{key:"selectedFeature",get:function(){var e=this.features,t=this.selectedFeatureIndex;return-1===t?null:e[t]||null}},{key:"selectedFeatureIndex",get:function(){var e=this._get("selectedFeatureIndex");return"number"==typeof e?e:-1},set:function(e){var t=this.featureCount;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this._set("selectedFeatureIndex",e)}},{key:"selectedFeatureViewModel",get:function(){return this.featureViewModels[this.selectedFeatureIndex]||null}},{key:"state",get:function(){return this.get("view.ready")?"ready":"disabled"}},{key:"centerAtLocation",value:function(){var e=this.view,t=this._getSelectedTarget();if(!t){var n=new ie.a("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:t,view:e});return pt.error(n),Object(ae.r)(n)}return this.callGoTo({target:{target:t,scale:e.scale}})}},{key:"clear",value:function(){this.set({promises:[],features:[],content:null,title:null,location:null})}},{key:"fetchFeatures",value:function(e,t){var n=this.view;if(!n||!e){var r=new ie.a("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:e,view:n});return pt.error(r),Object(ae.r)(r)}return n.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}},{key:"open",value:function(e){var t=Object(g.a)(Object(g.a)({updateLocationEnabled:!1,promises:[],fetchFeatures:!1},e),{},{visible:!0}),n=t.fetchFeatures;delete t.fetchFeatures,n&&this._setFetchFeaturesPromises(t.location),this.set(t)}},{key:"triggerAction",value:function(e){var t=this.allActions.getItemAt(e);t&&!t.disabled&&this.emit("trigger-action",{action:t})}},{key:"next",value:function(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}},{key:"previous",value:function(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}},{key:"zoomToLocation",value:function(){var e=this,t=this.location,n=this.selectedFeature,r=this.view,i=this.zoomFactor,a=this._getSelectedTarget();if(!a){var o=new ie.a("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:a,view:r});return pt.error(o),Object(ae.r)(o)}var s=r.scale/i,c=this.get("selectedFeature.geometry")||t,u=c&&"point"===c.type&&this._isZoomScreenSize(n);lt.active=!0,lt.disabled=!0;var l=this.callGoTo({target:{target:a,scale:u?s:void 0}}).catch((function(){lt.active=!1,lt.disabled=!1,e._zoomToLocation=null})).then((function(){u&&(e.location=c)}));return this._zoomToLocation=l,l}},{key:"_animationStateChange",value:function(e){this._zoomToLocation||(lt.disabled="waiting-for-target"===e)}},{key:"_locationChange",value:function(e){var t=this.selectedFeature;this.updateLocationEnabled&&e&&(!t||t.geometry)&&this.centerAtLocation()}},{key:"_selectedFeatureChange",value:function(e){var t=this;if(e){var n=this.location,r=this.updateLocationEnabled,i=this.view;!r&&n||!e.geometry?r&&!e.geometry&&this.centerAtLocation().then((function(){t.location=i.center.clone()})):this.location=Object(Fe.n)(this._getPointFromGeometry(e.geometry))}}},{key:"_waitingForResultChange",value:function(){!this.featureCount&&this.promises&&(this.visible=!1)}},{key:"_setFetchFeaturesPromises",value:function(e){var t=this;return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then((function(e){var n=e.clientOnlyGraphics,r=e.promisesPerLayerView,i=Object(ae.s)(n),a=r.map((function(e){return e.promise}));t.promises=[i].concat(Object(ne.a)(a))}))}},{key:"_destroyFeatureVMs",value:function(){this.featureViewModels.forEach((function(e){return e&&!e.destroyed&&e.destroy()})),this._set("featureViewModels",[])}},{key:"_updateFeatureVMs",value:function(){var e=this,t=this.features,n=this.featureViewModels;if(this._destroyFeatureVMs(),t&&t.length){var r=n.slice(0),i=[];t.forEach((function(t,n){if(t){var a=null;if(r.some((function(e,n){return e&&e.graphic===t&&(a=e,r.splice(n,1)),!!a})),a)i[n]=a;else{var o,s,c=new Ke({defaultPopupTemplateEnabled:e.defaultPopupTemplateEnabled,graphic:t,spatialReference:null==(o=e.view)?void 0:o.spatialReference,map:null==(s=e.view)?void 0:s.map});i[n]=c}}})),r.forEach((function(e){return e&&!e.destroyed&&e.destroy()})),this._set("featureViewModels",i)}}},{key:"_getScreenPoint",value:function(e){var t=this.view;return t&&e&&"function"==typeof t.toScreen?t.toScreen(e):null}},{key:"_getSelectedTarget",value:function(){var e=this.selectedFeature,t=this.location,n=this.view;return n?"3d"===n.type?e||t:this.get("selectedFeature.geometry")||t:null}},{key:"_autoOpenEnabledChange",value:function(){var e=this,t="auto-fetch-features",n=this._handles,r=this.autoOpenEnabled;if(n.remove(t),r&&this.view){var i=this.view.on("click",(function(t){"mouse"===t.pointerType&&0!==t.button||e._fetchFeaturesAndOpen(t)}),st.a.WIDGET);n.add(i,t)}}},{key:"_cancelFetchingFeatures",value:function(){var e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}},{key:"_fetchFeaturesWithController",value:function(e,t){var n=this;this._cancelFetchingFeatures();var r=Object(ae.d)(),i=r.signal;this._fetchFeaturesController=r,this.notifyChange("waitingForResult");var a=this.fetchFeatures(e,{signal:i,event:t});return a.catch((function(){})).then((function(){n._fetchFeaturesController=null,n.notifyChange("waitingForResult")})),a}},{key:"_fetchFeaturesAndOpen",value:function(e){var t=e.screenPoint,n=e.mapPoint,r=this.view;this._fetchFeaturesWithController(t,e).then((function(e){var t=e.clientOnlyGraphics,i=e.promisesPerLayerView,a=e.location,o=[Object(ae.s)(t)].concat(Object(ne.a)(i.map((function(e){return e.promise}))));return r.popup.open({location:a||n,promises:o}),e}))}},{key:"_updatePendingPromises",value:function(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange("pendingPromisesCount"))}},{key:"_autoClose",value:function(){this.autoCloseEnabled&&(this.visible=!1)}},{key:"_isZoomScreenSize",value:function(e){var t=this.view;if("3d"!==t.type||!e||"esri.Graphic"!==e.declaredClass)return!0;var n=t.getViewForGraphic(e);if(n&&"whenGraphicBounds"in n){var r=!1;return n.whenGraphicBounds(e,{useViewElevation:!0}).then((function(e){r=!e||!e.boundingBox||e.boundingBox[0]===e.boundingBox[3]&&e.boundingBox[1]===e.boundingBox[4]&&e.boundingBox[2]===e.boundingBox[5]})).catch((function(){var t=new ie.a("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:e});pt.error(t)})),r}return!0}},{key:"_getPointFromGeometry",value:function(e){return Object(Fe.g)(e)?null:"point"===e.type?e:"extent"===e.type?e.center:"polygon"===e.type?e.centroid:"multipoint"===e.type||"polyline"===e.type?e.extent.center:null}},{key:"_getLayerView",value:function(){var e=Object(U.a)(V.a.mark((function e(t,n){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.when();case 2:return e.abrupt("return",t.whenLayerView(n));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_highlightFeature",value:function(){var e=Object(U.a)(V.a.mark((function e(){var t,n,r,i,a,o,s,c,u,l,h,f;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="highlight",this._handles.remove(t),n=this.selectedFeature,r=this.highlightEnabled,i=this.view,a=this.visible,n&&i&&r&&a){e.next=5;break}return e.abrupt("return");case 5:if((o=n.layer)&&o instanceof ot.a){e.next=8;break}return e.abrupt("return");case 8:return s=this._getLayerView(i,o),this._highlightPromise=s,e.next=12,s;case 12:if((c=e.sent)&&Object(ut.a)(c)&&this._highlightPromise===s&&this.selectedFeature&&this.highlightEnabled&&this.visible){e.next=15;break}return e.abrupt("return");case 15:u="objectIdField"in o&&o.objectIdField,l=n.attributes,h=l&&u&&l[u],f=c.highlight(h||n),this._handles.add(f,t);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_updateFeatures",value:function(e){var t=this.features;if(e&&e.length)if(t.length){var n=e.filter((function(e){return-1===t.indexOf(e)}));this.features=t.concat(n)}else this.features=e}}]),n}(Object(ft.a)(ct.a));Object(c.a)([Object(l.b)({type:dt})],bt.prototype,"actions",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["visible","waitingForResult"]})],bt.prototype,"active",null),Object(c.a)([Object(l.b)({dependsOn:["actions.length","selectedFeature.sourceLayer.popupTemplate.actions.length","selectedFeature.sourceLayer.popupTemplate.overwriteActions","selectedFeature.popupTemplate.actions.length","selectedFeature.popupTemplate.overwriteActions"],readOnly:!0})],bt.prototype,"allActions",null),Object(c.a)([Object(l.b)({type:Boolean})],bt.prototype,"defaultPopupTemplateEnabled",void 0),Object(c.a)([Object(l.b)()],bt.prototype,"autoCloseEnabled",void 0),Object(c.a)([Object(l.b)()],bt.prototype,"autoOpenEnabled",void 0),Object(c.a)([Object(l.b)()],bt.prototype,"content",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["features"]})],bt.prototype,"featureCount",null),Object(c.a)([Object(l.b)()],bt.prototype,"features",null),Object(c.a)([Object(l.b)({readOnly:!0})],bt.prototype,"featureViewModels",void 0),Object(c.a)([Object(l.b)()],bt.prototype,"highlightEnabled",void 0),Object(c.a)([Object(l.b)({type:nt.a})],bt.prototype,"location",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["promises"]})],bt.prototype,"pendingPromisesCount",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["featureCount","pendingPromisesCount"]})],bt.prototype,"waitingForResult",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["promises"]})],bt.prototype,"promiseCount",null),Object(c.a)([Object(l.b)()],bt.prototype,"promises",null),Object(c.a)([Object(l.b)({value:null,readOnly:!0,dependsOn:["features","selectedFeatureIndex","updateLocationEnabled"]})],bt.prototype,"selectedFeature",null),Object(c.a)([Object(l.b)({value:-1})],bt.prototype,"selectedFeatureIndex",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["featureViewModels","selectedFeatureIndex"]})],bt.prototype,"selectedFeatureViewModel",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["view.ready"]})],bt.prototype,"state",null),Object(c.a)([Object(l.b)()],bt.prototype,"title",void 0),Object(c.a)([Object(l.b)()],bt.prototype,"updateLocationEnabled",void 0),Object(c.a)([Object(l.b)()],bt.prototype,"view",void 0),Object(c.a)([Object(l.b)()],bt.prototype,"visible",void 0),Object(c.a)([Object(l.b)()],bt.prototype,"zoomFactor",void 0),Object(c.a)([Object(l.b)()],bt.prototype,"centerAtLocation",null),Object(c.a)([Object(l.b)()],bt.prototype,"zoomToLocation",null);var vt=bt=Object(c.a)([Object(h.a)("esri.widgets.Popup.PopupViewModel")],bt),yt="esri-icon-left-triangle-arrow",mt="esri-icon-right-triangle-arrow",gt="esri-icon-loading-indicator",Ot="esri-rotating",jt="esri-popup--shadow",wt="esri-popup__header-container",_t="esri-popup__button",xt="esri-popup__icon",kt={buttonEnabled:!0,position:"auto",breakpoint:{width:544}};function St(e,t){return void 0===t?"esri-popup__".concat(e):"esri-popup__".concat(e,"-").concat(t)}var Et=u.a.getLogger("esri.widgets.Popup"),Tt={closeButton:!0,featureNavigation:!0},Mt=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r))._blurClose=!1,a._blurContainer=!1,a._containerNode=null,a._mainContainerNode=null,a._featureMenuNode=null,a._actionsMenuNode=null,a._focusClose=!1,a._focusContainer=!1,a._focusDockButton=!1,a._focusFeatureMenuButton=!1,a._focusActionsMenuButton=!1,a._focusFirstFeature=!1,a._focusFirstAction=!1,a._handles=new S.a,a._pointerOffsetInPx=16,a._spinner=null,a._feature=null,a._displaySpinnerThrottled=E((function(){return a._displaySpinner()}),0),a.actions=null,a.alignment="auto",a.autoCloseEnabled=null,a.autoOpenEnabled=null,a.defaultPopupTemplateEnabled=null,a.content=null,a.collapsed=!1,a.collapseEnabled=!0,a.dockEnabled=!1,a.featureCount=null,a.featureMenuOpen=!1,a.features=null,a.goToOverride=null,a.highlightEnabled=null,a.location=null,a.label=void 0,a.maxInlineActions=3,a.messages=null,a.messagesCommon=null,a.promises=null,a.selectedFeature=null,a.selectedFeatureIndex=null,a.spinnerEnabled=!0,a.title=null,a.updateLocationEnabled=null,a.view=null,a.viewModel=new vt,a.visible=null,a.visibleElements=Object(g.a)({},Tt),a._addSelectedFeatureIndexHandle(),a.own([Object(f.d)(Object(O.a)(a),"viewModel.screenLocation",(function(){return a._positionContainer()})),Object(f.d)(Object(O.a)(a),["viewModel.active","dockEnabled"],(function(){return a._toggleScreenLocationEnabled()})),Object(f.d)(Object(O.a)(a),"viewModel.screenLocation",(function(e,t){!!e!=!!t&&a.reposition()})),Object(f.d)(Object(O.a)(a),["viewModel.view.padding","viewModel.view.size","viewModel.active","viewModel.location","alignment"],(function(){return a.reposition()})),Object(f.d)(Object(O.a)(a),"spinnerEnabled",(function(e){return a._spinnerEnabledChange(e)})),Object(f.d)(Object(O.a)(a),"viewModel.view.size",(function(e,t){return a._updateDockEnabledForViewSize(e,t)})),Object(f.d)(Object(O.a)(a),"viewModel.view",(function(e,t){return a._viewChange(e,t)})),Object(f.d)(Object(O.a)(a),"viewModel.view.ready",(function(e,t){return a._viewReadyChange(e,t)})),Object(f.d)(Object(O.a)(a),["viewModel.waitingForResult","viewModel.location"],(function(){a._hideSpinner(),a._displaySpinnerThrottled()})),Object(f.d)(Object(O.a)(a),"selectedFeatureWidget.viewModel.title",(function(e){return a._setTitleFromFeatureWidget(e)})),Object(f.d)(Object(O.a)(a),["selectedFeatureWidget.viewModel.content","selectedFeatureWidget.viewModel.waitingForContent"],(function(){return a._setContentFromFeatureWidget()})),Object(f.f)(Object(O.a)(a),"collapsed",(function(){var e,t;"xsmall"===(null==(e=a.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint)&&a.viewModel.active&&a.collapseEnabled&&a.viewModel.centerAtLocation()})),Object(f.b)(Object(O.a)(a),"viewModel.allActions","change",(function(){return a._watchActions()})),Object(f.a)(Object(O.a)(a),"viewModel.allActions",(function(){return a._watchActions()}))]),a}return Object(a.a)(n,[{key:"destroy",value:function(){this._destroySelectedFeatureWidget(),this._destroySpinner(),this._handles&&this._handles.destroy(),this._handles=null}},{key:"actionsMenuId",get:function(){return"".concat(this.id,"-actions-menu")}},{key:"actionsMenuButtonId",get:function(){return"".concat(this.id,"-actions-menu-button")}},{key:"featureMenuId",get:function(){return"".concat(this.id,"-feature-menu")}},{key:"titleId",get:function(){return"".concat(this.id,"-popup-title")}},{key:"contentId",get:function(){return"".concat(this.id,"-popup-content")}},{key:"hasContent",get:function(){var e,t,n,r,i;return!!(this.selectedFeatureWidget?(null==(e=this.selectedFeatureWidget)||null==(t=e.viewModel)?void 0:t.waitingForContent)||(null==(n=this.selectedFeatureWidget)||null==(r=n.viewModel)?void 0:r.content):null==(i=this.viewModel)?void 0:i.content)}},{key:"featureNavigationVisible",get:function(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}},{key:"collapsible",get:function(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}},{key:"featureMenuVisible",get:function(){return this.featureNavigationVisible&&this.featureMenuOpen}},{key:"contentCollapsed",get:function(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}},{key:"dividedActions",get:function(){return this._divideActions()}},{key:"actionsMenuOpen",get:function(){return!!this.viewModel.active&&this._get("actionsMenuOpen")},set:function(e){this._set("actionsMenuOpen",!!e)}},{key:"currentAlignment",get:function(){return this._getCurrentAlignment()}},{key:"currentDockPosition",get:function(){return this._getCurrentDockPosition()}},{key:"dockOptions",get:function(){return this._get("dockOptions")||kt},set:function(e){var t=Object(g.a)({},kt),n=this.get("viewModel.view.breakpoints"),r={};n&&(r.width=n.xsmall,r.height=n.xsmall);var i=Object(g.a)(Object(g.a)({},t),e),a=Object(g.a)(Object(g.a)({},t.breakpoint),r),o=i.breakpoint;!0===o?i.breakpoint=a:"object"==typeof o&&(i.breakpoint=Object(g.a)(Object(g.a)({},a),o)),this._set("dockOptions",i),this._setCurrentDockPosition(),this.reposition()}},{key:"featureNavigationEnabled",set:function(e){Object(_.b)(Et,"featureNavigationEnabled",{replacement:"visibleElements.featureNavigation",version:"4.15"}),this.visibleElements=Object(g.a)(Object(g.a)({},this.visibleElements),{},{featureNavigation:e})}},{key:"selectedFeatureWidget",get:function(){var e=this._feature,t=this.visibleElements,n=this.viewModel.selectedFeatureViewModel,r=Object(g.a)(Object(g.a)({},t),{},{title:!1});return n?(e?(e.viewModel=n,e.visibleElements=r):this._feature=new $e({viewModel:n,visibleElements:r}),this._feature):null}},{key:"castVisibleElements",value:function(e){return Object(g.a)(Object(g.a)({},Tt),e)}},{key:"blur",value:function(){this.viewModel.active||Et.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}},{key:"clear",value:function(){this.viewModel.clear()}},{key:"close",value:function(){this.visible=!1}},{key:"fetchFeatures",value:function(e,t){return this.viewModel.fetchFeatures(e,t)}},{key:"focus",value:function(){this.viewModel.active||Et.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}},{key:"next",value:function(){return this.viewModel.next()}},{key:"open",value:function(e){var t,n;this._handles.remove("selected-index");var r=!!e&&!!e.featureMenuOpen,i=!!e&&!!e.actionsMenuOpen,a={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:i,featureMenuOpen:r};"xsmall"===(null==(t=this.viewModel)||null==(n=t.view)?void 0:n.widthBreakpoint)&&(a.collapsed=!0),this.set(a),this.viewModel.open(e),this._addSelectedFeatureIndexHandle()}},{key:"previous",value:function(){return this.viewModel.previous()}},{key:"reposition",value:function(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}},{key:"triggerAction",value:function(e){this.viewModel.triggerAction(e)}},{key:"render",value:function(){var e,t,n,r,i,a=this.actionsMenuOpen,o=this.dockEnabled,s=this.featureMenuVisible,c=this.dividedActions,u=this.currentAlignment,l=this.currentDockPosition,h=this.viewModel.active,f=c.menuActions,d=h&&f.length>1&&a,p=h&&o,b=h&&!o,v=null==(t=this.selectedFeature)||null==(n=t.layer)?void 0:n.title,y=null==(r=this.selectedFeature)||null==(i=r.layer)?void 0:i.id,g=(e={},Object(m.a)(e,"esri-popup--aligned-top-center","top-center"===u),Object(m.a)(e,"esri-popup--aligned-bottom-center","bottom-center"===u),Object(m.a)(e,"esri-popup--aligned-top-left","top-left"===u),Object(m.a)(e,"esri-popup--aligned-bottom-left","bottom-left"===u),Object(m.a)(e,"esri-popup--aligned-top-right","top-right"===u),Object(m.a)(e,"esri-popup--aligned-bottom-right","bottom-right"===u),Object(m.a)(e,"esri-popup--is-docked",p),Object(m.a)(e,jt,b),Object(m.a)(e,"esri-popup--is-docked-top-left","top-left"===l),Object(m.a)(e,"esri-popup--is-docked-top-center","top-center"===l),Object(m.a)(e,"esri-popup--is-docked-top-right","top-right"===l),Object(m.a)(e,"esri-popup--is-docked-bottom-left","bottom-left"===l),Object(m.a)(e,"esri-popup--is-docked-bottom-center","bottom-center"===l),Object(m.a)(e,"esri-popup--is-docked-bottom-right","bottom-right"===l),Object(m.a)(e,"esri-popup--feature-menu-open",s),Object(m.a)(e,"esri-popup--actions-menu-open",d),e);return Object(I.a)("div",{class:this.classes("esri-popup",g),role:"presentation","data-layer-title":v,"data-layer-id":y,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},h?[this.renderMainContainer(),this.renderPointer()]:null)}},{key:"renderLoadingIcon",value:function(){return Object(I.a)("span",{"aria-hidden":"true",class:this.classes(xt,gt,Ot)})}},{key:"renderNavigationLoading",value:function(){var e=this.messagesCommon;return this.viewModel.pendingPromisesCount?Object(I.a)("div",{key:St("loading-container"),role:"presentation",class:"esri-popup__loading-container","aria-label":e.loading,title:e.loading},this.renderLoadingIcon()):null}},{key:"renderPreviousIcon",value:function(){var e,t=Object(T.e)(),n=(e={},Object(m.a)(e,mt,t),Object(m.a)(e,"esri-popup__pagination-previous-icon--rtl",t),Object(m.a)(e,yt,!t),Object(m.a)(e,"esri-popup__pagination-previous-icon",!t),e);return Object(I.a)("span",{"aria-hidden":"true",class:this.classes(xt,n)})}},{key:"renderPreviousButton",value:function(){var e=this.messages;return Object(I.a)("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(_t,"esri-popup__pagination-previous"),"aria-label":e.previous,title:e.previous},this.renderPreviousIcon())}},{key:"renderNextIcon",value:function(){var e,t=Object(T.e)(),n=(e={},Object(m.a)(e,yt,t),Object(m.a)(e,"esri-popup__pagination-next-icon--rtl",t),Object(m.a)(e,mt,!t),Object(m.a)(e,"esri-popup__pagination-next-icon",!t),e);return Object(I.a)("span",{"aria-hidden":"true",class:this.classes(xt,n)})}},{key:"renderNextButton",value:function(){var e=this.messages;return Object(I.a)("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(_t,"esri-popup__pagination-next"),"aria-label":e.next,title:e.next},this.renderNextIcon())}},{key:"renderFeatureMenuButton",value:function(){var e=this.featureMenuOpen,t=this.featureMenuId,n=this.messagesCommon,r=this.viewModel,i=r.featureCount,a=r.selectedFeatureIndex;return Object(I.a)("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(_t,"esri-popup__feature-menu-button"),"aria-haspopup":"true","aria-controls":t,"aria-expanded":e,"aria-label":n.menu,title:n.menu},this._getPageText(i,a))}},{key:"renderNavigationButtons",value:function(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}},{key:"renderDockIcon",value:function(){var e,t=this.dockEnabled,n=this._wouldDockTo(),r=(e={},Object(m.a)(e,"esri-icon-minimize",t),Object(m.a)(e,"esri-popup__icon--dock-icon",!t),Object(m.a)(e,"esri-icon-dock-right",!t&&("top-right"===n||"bottom-right"===n)),Object(m.a)(e,"esri-icon-dock-left",!t&&("top-left"===n||"bottom-left"===n)),Object(m.a)(e,"esri-icon-maximize",!t&&"top-center"===n),Object(m.a)(e,"esri-icon-dock-bottom",!t&&"bottom-center"===n),e);return Object(I.a)("span",{"aria-hidden":"true",class:this.classes(r,xt)})}},{key:"renderDockButton",value:function(){var e,t,n,r=this.dockEnabled,i=this.messages,a=null==(e=this.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint,o=r?i.undock:i.dock;return"xsmall"!==a&&null!=(n=this.dockOptions)&&n.buttonEnabled?Object(I.a)("div",{role:"button","aria-label":o,title:o,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(_t,"esri-popup__button--dock")},this.renderDockIcon()):null}},{key:"renderTitle",value:function(){var e=this.viewModel.title,t=this.titleId,n=this.collapsible,r=this.contentCollapsed,i=this.messagesCommon,a=Object(m.a)({},"esri-popup__header-container--button",n),o=Object(I.a)("h2",{class:"esri-popup__header-title",innerHTML:e}),s=n?Object(I.a)("button",{key:"".concat(e,"--collapsible"),id:t,title:r?i.expand:i.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(wt,a),"aria-expanded":r?"false":"true",onclick:this._toggleCollapsed},o):Object(I.a)("div",{key:e,id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(wt,a)},o);return e?s:null}},{key:"renderCloseIcon",value:function(){return Object(I.a)("span",{"aria-hidden":"true",class:this.classes(xt,"esri-icon-close")})}},{key:"renderCloseButton",value:function(){var e=this.visibleElements,t=this.messagesCommon;return e.closeButton?Object(I.a)("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:_t,"aria-label":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}},{key:"renderHeader",value:function(){return Object(I.a)("header",{class:"esri-popup__header"},this.renderTitle(),Object(I.a)("div",{class:"esri-popup__header-buttons"},this.renderDockButton(),this.renderCloseButton()))}},{key:"renderContentContainer",value:function(){var e=this.contentId,t=this.hasContent,n=this.contentCollapsed,r=this.viewModel.content;return t&&!n?Object(I.a)("article",{key:r,enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:"esri-popup__content"},this.renderContent()):null}},{key:"renderActionsMenuButton",value:function(){var e=this.actionsMenuId,t=this.actionsMenuButtonId,n=this.actionsMenuOpen,r=this.dividedActions,i=this.messagesCommon,a=n?i.close:i.open;return r.menuActions.length?Object(I.a)("div",{key:St("actions-menu-button"),class:this.classes(_t,"esri-popup__actions-menu-button"),role:"button",id:t,"aria-haspopup":"true","aria-controls":n?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":a,title:a},Object(I.a)("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null}},{key:"renderMenuActions",value:function(){var e=this,t=this.actionsMenuId,n=this.actionsMenuButtonId,r=this.actionsMenuOpen,i=this.dividedActions,a=i.menuActions,o=i.inlineActions;return a.length&&r?Object(I.a)("ul",{id:t,role:"menu","aria-labelledby":n,key:St("actions"),class:"esri-popup__actions",bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},a.toArray().map((function(t,n){return e.renderAction({action:t,index:n+o.length,type:"menu-item"})}))):null}},{key:"renderInlineActions",value:function(){var e=this,t=this.dividedActions.inlineActions;return!!t.length&&t.toArray().map((function(t,n){return e.renderAction({action:t,index:n,type:"inline"})}))}},{key:"renderInlineActionsContainer",value:function(){var e=this.dividedActions,t=e.inlineActions,n=e.menuActions,r=!!t.length,i=!!n.length;return r||i?Object(I.a)("div",{key:"inline-actions-container","data-inline-actions":r.toString(),"data-menu-actions":i.toString(),class:"esri-popup__inline-actions-container"},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}},{key:"renderNavigation",value:function(){return this.featureNavigationVisible?Object(I.a)("section",{key:St("navigation"),class:this.classes("esri-popup__navigation")},this.renderNavigationButtons()):null}},{key:"renderFooter",value:function(){var e,t=this.featureNavigationVisible,n=this.dividedActions,r=n.inlineActions,i=n.menuActions,a=!!r.length,o=!!i.length,s=(e={},Object(m.a)(e,"esri-popup__footer--has-pagination",t),Object(m.a)(e,"esri-popup__footer--has-actions",a),Object(m.a)(e,"esri-popup__footer--has-actions-menu",o),e);return t||a?Object(I.a)("div",{key:St("feature-buttons"),class:this.classes("esri-popup__footer",s)},this.renderInlineActionsContainer(),this.renderNavigation()):null}},{key:"renderFeatureMenuContainer",value:function(){var e=this.messages,t=this.viewModel.featureViewModels,n=Object(k.a)(e.selectedFeatures,{total:t.length});return Object(I.a)("section",{key:St("menu"),class:"esri-popup__feature-menu"},Object(I.a)("h2",{class:"esri-popup__feature-menu-header"},n),Object(I.a)("nav",{class:"esri-popup__feature-menu-viewport",afterCreate:this._featureMenuViewportNodeUpdated,afterUpdate:this._featureMenuViewportNodeUpdated},this.renderFeatureMenu()))}},{key:"renderPointer",value:function(){return this.dockEnabled?null:Object(I.a)("div",{key:St("pointer"),class:"esri-popup__pointer",role:"presentation"},Object(I.a)("div",{class:this.classes("esri-popup__pointer-direction",jt)}))}},{key:"renderMainContainer",value:function(){var e,t=this.dockEnabled,n=this.currentAlignment,r=this.currentDockPosition,i=this.titleId,a=this.contentId,o=this.collapsible,s=this.hasContent,c=this.contentCollapsed,u=this.visibleElements,l=this.viewModel.title,h="bottom-left"===n||"bottom-center"===n||"bottom-right"===n||"top-left"===r||"top-center"===r||"top-right"===r,f="top-left"===n||"top-center"===n||"top-right"===n||"bottom-left"===r||"bottom-center"===r||"bottom-right"===r,d=(e={},Object(m.a)(e,jt,t),Object(m.a)(e,"esri-popup--is-collapsible",o),Object(m.a)(e,"esri-popup--is-collapsed",c),e);return Object(I.a)("div",{class:this.classes("esri-popup__main-container","esri-widget",d),tabIndex:u.closeButton?null:-1,role:"dialog","aria-labelledby":l?i:"","aria-describedby":s&&!c?a:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},h?this.renderFooter():null,h?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),f?this.renderFooter():null,f?this.renderFeatureMenuContainer():null)}},{key:"renderContent",value:function(){var e,t=null==(e=this.viewModel)?void 0:e.content;return t?"string"==typeof t?Object(I.a)("div",{key:t,innerHTML:t}):this.renderNodeContent(t):null}},{key:"renderActionText",value:function(e){return Object(I.a)("span",{key:"text",class:"esri-popup__action-text"},e)}},{key:"renderActionIcon",value:function(e){var t,n=this._getActionClass(e),r=this._getActionImage(e),i=(t={},Object(m.a)(t,gt,e.active),Object(m.a)(t,Ot,e.active),Object(m.a)(t,xt,!!n),Object(m.a)(t,"esri-popup__action-image",!e.active&&!!r),t);return n&&(i[n]=!e.active),Object(I.a)("span",{key:"icon","aria-hidden":"true",class:this.classes(xt,i),styles:this._getIconStyles(r)})}},{key:"renderAction",value:function(e){var t,n=e.action,r=e.index,i=e.type,a=this._getActionTitle(n),o=(t={},Object(m.a)(t,"esri-popup__action","toggle"!==n.type),Object(m.a)(t,"esri-popup__action-toggle","toggle"===n.type),Object(m.a)(t,"esri-popup__action-toggle--on","toggle"===n.type&&n.value),Object(m.a)(t,"esri-popup__button--disabled",n.disabled),t),s=[this.renderActionIcon(n),this.renderActionText(a)],c="menu-item"===i?Object(I.a)("li",{key:n.uid,role:"menuitem",tabIndex:0,title:a,"aria-label":a,class:this.classes(_t,o),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":r,onclick:this._triggerAction,onkeydown:this._triggerAction},s):Object(I.a)("div",{key:n.uid,role:"button",tabIndex:0,title:a,"aria-label":a,class:this.classes(_t,o),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":r,onclick:this._triggerAction,onkeydown:this._triggerAction},s);return n.visible?c:null}},{key:"renderFeatureMenuItem",value:function(e,t){var n=this.messages,r=this.messagesCommon,i=this.viewModel,a=i.selectedFeatureIndex,o=e===i.selectedFeatureViewModel,s=Object(m.a)({},"esri-popup__feature-menu-item--selected",o),c=o?Object(I.a)("span",{key:St("feature-menu-selected-feature-".concat(a)),title:n.selectedFeature,"aria-label":n.selectedFeature,class:"esri-icon-check-mark"}):null,u=Object(I.a)("span",{innerHTML:e.title||r.untitled});return Object(I.a)("li",{role:"menuitem",tabIndex:-1,key:St("feature-menu-feature-".concat(a)),class:this.classes(s,"esri-popup__feature-menu-item"),bind:this,"data-feature-index":t,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},Object(I.a)("span",{class:"esri-popup__feature-menu-title"},u,c))}},{key:"renderFeatureMenu",value:function(){var e=this,t=this.featureMenuId,n=this.viewModel.featureViewModels;return n.length>1?Object(I.a)("ol",{class:"esri-popup__feature-menu-list",id:t,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},n.map((function(t,n){return e.renderFeatureMenuItem(t,n)}))):null}},{key:"_getActionTitle",value:function(e){var t=this.messages,n=this.selectedFeature,r=this.messagesCommon,i=e.id,a=null==n?void 0:n.attributes,o="zoom-to-feature"===i?Object(k.a)(e.title,{messages:t}):"remove-selected-feature"===i?Object(k.a)(e.title,{messages:r}):e.title;return o&&a?Object(k.a)(o,a):o}},{key:"_getActionClass",value:function(e){var t=this.selectedFeature,n=null==t?void 0:t.attributes,r=e.className,i=e.image||r?r:"esri-icon-default-action";return i&&n?Object(k.a)(i,n):i}},{key:"_getActionImage",value:function(e){var t=this.selectedFeature,n=null==t?void 0:t.attributes,r=e.image;return r&&n?Object(k.a)(r,n):r}},{key:"_createFeatureUpdatedAnimation",value:function(){return Object(T.b)("enter","esri-popup--feature-updated")}},{key:"_getInlineActionCount",value:function(){var e=this.maxInlineActions,t=this.featureNavigationVisible;if("number"!=typeof e)return null;var n=Math.round(e);return Math.max(t?n-1:n,0)}},{key:"_watchActions",value:function(){var e=this,t=this.viewModel.allActions;this.notifyChange("dividedActions");var n="actions";this._handles.remove(n),t&&t.forEach((function(t){e._handles.add(Object(f.d)(t,["active","className","disabled","id","title","image","visible"],(function(){return e.scheduleRender()})),n)}))}},{key:"_divideActions",value:function(){var e=this.viewModel.allActions,t=this._getInlineActionCount(),n=null===t,r=0===t;return{inlineActions:n?e.slice(0):r?new p.a:e.slice(0,t),menuActions:n?new p.a:r?e.slice(0):e.slice(t)}}},{key:"_featureMenuOpenChanged",value:function(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}},{key:"_actionsMenuOpenChanged",value:function(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}},{key:"_setTitleFromFeatureWidget",value:function(e){this.selectedFeatureWidget&&(this.viewModel.title=e||"")}},{key:"_setContentFromFeatureWidget",value:function(){var e=this.selectedFeatureWidget;e&&(this.viewModel.content=e)}},{key:"_handleFeatureMenuKeyup",value:function(e){"Escape"===Object(x.a)(e)&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}},{key:"_handleActionMenuKeyup",value:function(e){"Escape"===Object(x.a)(e)&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}},{key:"_handleFeatureMenuItemKeyup",value:function(e){var t=Object(x.a)(e),n=this._featureMenuNode,r=e.currentTarget["data-feature-index"];if(n){var i=n.querySelectorAll("li"),a=i.length;"ArrowUp"!==t?"ArrowDown"!==t?"Home"!==t?"End"!==t||(e.stopPropagation(),i[i.length-1].focus()):(e.stopPropagation(),i[0].focus()):(e.stopPropagation(),i[(r+1+a)%a].focus()):(e.stopPropagation(),i[(r-1+a)%a].focus())}}},{key:"_handleActionMenuItemKeyup",value:function(e){var t=Object(x.a)(e),n=this._actionsMenuNode,r=e.currentTarget["data-action-index"];if(n){var i=n.querySelectorAll("li"),a=i.length;"ArrowUp"!==t?"ArrowDown"!==t?"Home"!==t?"End"!==t||(e.stopPropagation(),i[i.length-1].focus()):(e.stopPropagation(),i[0].focus()):(e.stopPropagation(),i[(r+1+a)%a].focus()):(e.stopPropagation(),i[(r-1+a)%a].focus())}}},{key:"_handleMainKeyup",value:function(e){var t=Object(x.a)(e);"ArrowLeft"===t&&(e.stopPropagation(),this.previous()),"ArrowRight"===t&&(e.stopPropagation(),this.next())}},{key:"_spinnerEnabledChange",value:function(e){if(this._destroySpinner(),e){var t=this.get("viewModel.view");this._createSpinner(t)}}},{key:"_hideSpinner",value:function(){var e=this._spinner;e&&(e.location=null,e.hide())}},{key:"_displaySpinner",value:function(){var e=this._spinner;if(e){var t=this.viewModel,n=t.location;t.waitingForResult?e.show({location:n}):e.hide()}}},{key:"_getIconStyles",value:function(e){return{"background-image":e?"url(".concat(e,")"):""}}},{key:"_addSelectedFeatureIndexHandle",value:function(){var e=this,t=Object(f.d)(this,"viewModel.selectedFeatureIndex",(function(t,n){return e._selectedFeatureIndexUpdated(t,n)}));this._handles.add(t,"selected-index")}},{key:"_selectedFeatureIndexUpdated",value:function(e,t){this.featureCount&&e!==t&&-1!==e&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}},{key:"_destroySelectedFeatureWidget",value:function(){var e=this._feature;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}},{key:"_isScreenLocationWithinView",value:function(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}},{key:"_isOutsideView",value:function(e){var t=e.popupHeight,n=e.popupWidth,r=e.screenLocation,i=e.side,a=e.view;if(isNaN(n)||isNaN(t)||!a||!r)return!1;var o=a.padding;return"right"===i&&r.x+n/2>a.width-o.right||"left"===i&&r.x-n/2<o.left||"top"===i&&r.y-t<o.top||"bottom"===i&&r.y+t>a.height-o.bottom}},{key:"_calculateAutoAlignment",value:function(e){if("auto"!==e)return e;var t=this._pointerOffsetInPx,n=this._containerNode,r=this._mainContainerNode,i=this.viewModel,a=i.screenLocation,o=i.view;if(!a||!o||!n)return"top-center";if(!this._isScreenLocationWithinView(a,o))return this._get("currentAlignment")||"top-center";function s(e){return parseInt(e.replace(/[^-\d\.]/g,""),10)}var c=r?window.getComputedStyle(r,null):null,u=c?s(c.getPropertyValue("max-height")):0,l=c?s(c.getPropertyValue("height")):0,h=n.getBoundingClientRect(),f=h.height,d=h.width+t,p=Math.max(f,u,l)+t,b=this._isOutsideView({popupHeight:p,popupWidth:d,screenLocation:a,side:"right",view:o}),v=this._isOutsideView({popupHeight:p,popupWidth:d,screenLocation:a,side:"left",view:o}),y=this._isOutsideView({popupHeight:p,popupWidth:d,screenLocation:a,side:"top",view:o}),m=this._isOutsideView({popupHeight:p,popupWidth:d,screenLocation:a,side:"bottom",view:o});return v?y?"bottom-right":"top-right":b?y?"bottom-left":"top-left":y?m?"top-center":"bottom-center":"top-center"}},{key:"_callCurrentAlignment",value:function(e){return"function"==typeof e?e.call(this):e}},{key:"_getCurrentAlignment",value:function(){var e=this.alignment;return this.dockEnabled||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}},{key:"_setCurrentAlignment",value:function(){this._set("currentAlignment",this._getCurrentAlignment())}},{key:"_setCurrentDockPosition",value:function(){this._set("currentDockPosition",this._getCurrentDockPosition())}},{key:"_calculatePositionResult",value:function(e){var t=["left","right"];return Object(T.e)()&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}},{key:"_callDockPosition",value:function(e){return"function"==typeof e?e.call(this):e}},{key:"_getDockPosition",value:function(){var e;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(e=this.dockOptions)?void 0:e.position)))}},{key:"_getCurrentDockPosition",value:function(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}},{key:"_wouldDockTo",value:function(){return this.dockEnabled?null:this._getDockPosition()}},{key:"_calculateAutoDockPosition",value:function(e){var t;if("auto"!==e)return e;var n=null==(t=this.viewModel)?void 0:t.view,r=Object(T.e)()?"top-left":"top-right";if(!n)return r;var i=n.padding||{left:0,right:0,top:0,bottom:0},a=n.width-i.left-i.right,o=n.breakpoints;return o&&a<=o.xsmall?"bottom-center":r}},{key:"_positionContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._containerNode;if(e&&(this._containerNode=e),e){var t=this.viewModel.screenLocation,n=e.getBoundingClientRect(),r=n.width,i=this._calculatePositionStyle(t,r);i&&(e.style.top=i.top,e.style.left=i.left,e.style.bottom=i.bottom,e.style.right=i.right)}}},{key:"_calculateFullWidth",value:function(e){var t=this.currentAlignment,n=this._pointerOffsetInPx;return"top-left"===t||"bottom-left"===t||"top-right"===t||"bottom-right"===t?e+n:e}},{key:"_calculateAlignmentPosition",value:function(e,t,n,r){var i=this.currentAlignment,a=this._pointerOffsetInPx,o=r/2,s=n.height-t,c=n.width-e,u=this.view.padding;return"bottom-center"===i?{top:t+a-u.top,left:e-o-u.left}:"top-left"===i?{bottom:s+a-u.bottom,right:c+a-u.right}:"bottom-left"===i?{top:t+a-u.top,right:c+a-u.right}:"top-right"===i?{bottom:s+a-u.bottom,left:e+a-u.left}:"bottom-right"===i?{top:t+a-u.top,left:e+a-u.left}:"top-center"===i?{bottom:s+a-u.bottom,left:e-o-u.left}:void 0}},{key:"_calculatePositionStyle",value:function(e,t){var n=this.dockEnabled,r=this.view;if(r){if(n)return{left:"",top:"",right:"",bottom:""};if(e&&t){var i=this._calculateFullWidth(t),a=this._calculateAlignmentPosition(e.x,e.y,r,i);return a?{top:void 0!==a.top?"".concat(a.top,"px"):"auto",left:void 0!==a.left?"".concat(a.left,"px"):"auto",bottom:void 0!==a.bottom?"".concat(a.bottom,"px"):"auto",right:void 0!==a.right?"".concat(a.right,"px"):"auto"}:void 0}}}},{key:"_viewChange",value:function(e,t){e&&t&&(this.close(),this.clear())}},{key:"_viewReadyChange",value:function(e,t){if(e){var n=this.get("viewModel.view");this._wireUpView(n)}else t&&(this.close(),this.clear())}},{key:"_wireUpView",value:function(e){(this._destroySpinner(),e)&&(this.spinnerEnabled&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions))}},{key:"_dockingThresholdCrossed",value:function(e,t,n){var i=Object(r.a)(e,2),a=i[0],o=i[1],s=Object(r.a)(t,2),c=s[0],u=s[1],l=n.width,h=n.height;return a<=l&&c>l||a>l&&c<=l||o<=h&&u>h||o>h&&u<=h}},{key:"_updateDockEnabledForViewSize",value:function(e,t){if(e&&t){var n=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},r=n.left+n.right,i=n.top+n.bottom,a=[],o=[];a[0]=e[0]-r,a[1]=e[1]-i,o[0]=t[0]-r,o[1]=t[1]-i;var s=this.dockOptions,c=s.breakpoint;this._dockingThresholdCrossed(a,o,c)&&this._setDockEnabledForViewSize(s),this._setCurrentDockPosition()}}},{key:"_focusDockButtonNode",value:function(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}},{key:"_closeButtonNodeUpdated",value:function(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}},{key:"_mainContainerNodeUpdated",value:function(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}},{key:"_featureMenuNodeUpdated",value:function(e){if(this._featureMenuNode=e,e&&this._focusFirstFeature){this._focusFirstFeature=!1;var t=e.querySelectorAll("li");t.length&&t[0].focus()}}},{key:"_actionsMenuNodeUpdated",value:function(e){if(this._actionsMenuNode=e,e&&this._focusFirstAction){this._focusFirstAction=!1;var t=e.querySelectorAll("li");t.length&&t[0].focus()}}},{key:"_focusFeatureMenuButtonNode",value:function(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}},{key:"_focusActionsMenuButtonNode",value:function(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}},{key:"_featureMenuViewportNodeUpdated",value:function(e){e&&(e.scrollTop=0)}},{key:"_toggleScreenLocationEnabled",value:function(){var e=this.dockEnabled,t=this.viewModel;if(t){var n=t.active&&!e;t.screenLocationEnabled=n}}},{key:"_shouldDockAtCurrentViewSize",value:function(e){var t,n,r=e.breakpoint,i=null==(t=this.viewModel)||null==(n=t.view)?void 0:n.ui;if(!i)return!1;var a=i.width,o=i.height;if(isNaN(a)||isNaN(o))return!1;var s=r.hasOwnProperty("width")&&a<=r.width,c=r.hasOwnProperty("height")&&o<=r.height;return s||c}},{key:"_setDockEnabledForViewSize",value:function(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}},{key:"_getPageText",value:function(e,t){return this.featureNavigationVisible?Object(k.a)(this.messages.pageText,{index:t+1,total:e}):null}},{key:"_destroySpinner",value:function(){var e=this._spinner,t=this.view;e&&(t&&t.ui&&t.ui.remove(this._spinner,"popup-spinner"),e.destroy(),this._spinner=null)}},{key:"_createSpinner",value:function(e){e&&(this._spinner=new et.a({view:e}),e.ui.add(this._spinner,{key:"popup-spinner",position:"manual"}))}},{key:"_toggleCollapsed",value:function(){this.collapsed=!this.collapsed}},{key:"_close",value:function(){this.close(),this.view&&this.view.focus()}},{key:"_toggleDockEnabled",value:function(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}},{key:"_toggleFeatureMenu",value:function(){var e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}},{key:"_toggleActionsMenu",value:function(){var e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}},{key:"_triggerAction",value:function(e){var t=e.currentTarget["data-action-index"],n=this.viewModel.allActions.getItemAt(t);n&&"toggle"===n.type&&(n.value=!n.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(t)}},{key:"_selectFeature",value:function(e){var t=e.currentTarget["data-feature-index"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}},{key:"_next",value:function(){this.next()}},{key:"_previous",value:function(){this.previous()}}]),n}(R(D.a));Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["id"]}),Object(A.a)()],Mt.prototype,"actionsMenuId",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["id"]}),Object(A.a)()],Mt.prototype,"actionsMenuButtonId",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["id"]}),Object(A.a)()],Mt.prototype,"featureMenuId",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["id"]}),Object(A.a)()],Mt.prototype,"titleId",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["id"]}),Object(A.a)()],Mt.prototype,"contentId",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["selectedFeatureWidget","selectedFeatureWidget.viewModel","selectedFeatureWidget.viewModel.waitingForContent","selectedFeatureWidget.viewModel.content","viewModel.content"]}),Object(A.a)()],Mt.prototype,"hasContent",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["viewModel.active","viewModel.featureCount","visibleElements.featureNavigation"]}),Object(A.a)()],Mt.prototype,"featureNavigationVisible",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["collapseEnabled","viewModel.title","hasContent"]}),Object(A.a)()],Mt.prototype,"collapsible",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["featureNavigationVisible","featureMenuOpen"]}),Object(A.a)()],Mt.prototype,"featureMenuVisible",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["collapsible","featureMenuVisible","collapsed"]}),Object(A.a)()],Mt.prototype,"contentCollapsed",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["featureNavigationVisible","maxInlineActions","viewModel.allActions","viewModel.allActions.length"]}),Object(A.a)()],Mt.prototype,"dividedActions",null),Object(c.a)([Object(j.a)("viewModel.actions"),Object(A.a)()],Mt.prototype,"actions",void 0),Object(c.a)([Object(l.b)({dependsOn:["viewModel.active"]}),Object(A.a)()],Mt.prototype,"actionsMenuOpen",null),Object(c.a)([Object(l.b)()],Mt.prototype,"alignment",void 0),Object(c.a)([Object(j.a)("viewModel.autoCloseEnabled")],Mt.prototype,"autoCloseEnabled",void 0),Object(c.a)([Object(j.a)("viewModel.autoOpenEnabled")],Mt.prototype,"autoOpenEnabled",void 0),Object(c.a)([Object(j.a)("viewModel.defaultPopupTemplateEnabled")],Mt.prototype,"defaultPopupTemplateEnabled",void 0),Object(c.a)([Object(j.a)("viewModel.content"),Object(A.a)()],Mt.prototype,"content",void 0),Object(c.a)([Object(l.b)(),Object(A.a)()],Mt.prototype,"collapsed",void 0),Object(c.a)([Object(l.b)(),Object(A.a)()],Mt.prototype,"collapseEnabled",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["dockEnabled","alignment","viewModel.active"]}),Object(A.a)()],Mt.prototype,"currentAlignment",null),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["viewModel.view.ready","dockEnabled","dockOptions","viewModel.active"]}),Object(A.a)()],Mt.prototype,"currentDockPosition",null),Object(c.a)([Object(l.b)(),Object(A.a)()],Mt.prototype,"dockOptions",null),Object(c.a)([Object(l.b)(),Object(A.a)()],Mt.prototype,"dockEnabled",void 0),Object(c.a)([Object(j.a)("viewModel.featureCount"),Object(A.a)()],Mt.prototype,"featureCount",void 0),Object(c.a)([Object(l.b)(),Object(A.a)()],Mt.prototype,"featureMenuOpen",void 0),Object(c.a)([Object(j.a)("viewModel.features"),Object(A.a)()],Mt.prototype,"features",void 0),Object(c.a)([Object(l.b)(),Object(A.a)()],Mt.prototype,"featureNavigationEnabled",null),Object(c.a)([Object(j.a)("viewModel.goToOverride")],Mt.prototype,"goToOverride",void 0),Object(c.a)([Object(j.a)("viewModel.highlightEnabled")],Mt.prototype,"highlightEnabled",void 0),Object(c.a)([Object(j.a)("viewModel.location"),Object(A.a)()],Mt.prototype,"location",void 0),Object(c.a)([Object(l.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Mt.prototype,"label",void 0),Object(c.a)([Object(l.b)(),Object(A.a)()],Mt.prototype,"maxInlineActions",void 0),Object(c.a)([Object(l.b)(),Object(A.a)(),Object(C.a)("esri/widgets/Popup/t9n/Popup")],Mt.prototype,"messages",void 0),Object(c.a)([Object(l.b)(),Object(A.a)(),Object(C.a)("esri/t9n/common")],Mt.prototype,"messagesCommon",void 0),Object(c.a)([Object(j.a)("viewModel.promises")],Mt.prototype,"promises",void 0),Object(c.a)([Object(j.a)("viewModel.selectedFeature"),Object(A.a)()],Mt.prototype,"selectedFeature",void 0),Object(c.a)([Object(j.a)("viewModel.selectedFeatureIndex"),Object(A.a)()],Mt.prototype,"selectedFeatureIndex",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["viewModel.selectedFeatureViewModel","visibleElements"]}),Object(A.a)()],Mt.prototype,"selectedFeatureWidget",null),Object(c.a)([Object(l.b)()],Mt.prototype,"spinnerEnabled",void 0),Object(c.a)([Object(j.a)("viewModel.title"),Object(A.a)()],Mt.prototype,"title",void 0),Object(c.a)([Object(j.a)("viewModel.updateLocationEnabled")],Mt.prototype,"updateLocationEnabled",void 0),Object(c.a)([Object(j.a)("viewModel.view")],Mt.prototype,"view",void 0),Object(c.a)([Object(l.b)({type:vt}),Object(A.a)(["viewModel.active","viewModel.view.widthBreakpoint","viewModel.allActions","viewModel.screenLocation","viewModel.screenLocationEnabled","viewModel.state","viewModel.pendingPromisesCount","viewModel.promiseCount","viewModel.waitingForResult"]),Object(P.a)(["triggerAction","trigger-action"])],Mt.prototype,"viewModel",void 0),Object(c.a)([Object(j.a)("viewModel.visible"),Object(A.a)()],Mt.prototype,"visible",void 0),Object(c.a)([Object(l.b)(),Object(A.a)()],Mt.prototype,"visibleElements",void 0),Object(c.a)([Object(w.a)("visibleElements")],Mt.prototype,"castVisibleElements",null),Object(c.a)([Object(M.a)()],Mt.prototype,"_close",null),Object(c.a)([Object(M.a)()],Mt.prototype,"_toggleDockEnabled",null),Object(c.a)([Object(M.a)()],Mt.prototype,"_toggleFeatureMenu",null),Object(c.a)([Object(M.a)()],Mt.prototype,"_toggleActionsMenu",null),Object(c.a)([Object(M.a)()],Mt.prototype,"_triggerAction",null),Object(c.a)([Object(M.a)()],Mt.prototype,"_selectFeature",null),Object(c.a)([Object(M.a)()],Mt.prototype,"_next",null),Object(c.a)([Object(M.a)()],Mt.prototype,"_previous",null);Mt=Object(c.a)([Object(h.a)("esri.widgets.Popup")],Mt);function Ct(e){return e&&"focus"in e}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(1)),h=n(62),f=n(34),d=n(8),p=n(35),b=(n(12),n(21),n(22),n(27)),v=n(18),y=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).expression=null,r.name=null,r.returnType="boolean",r.title=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}}]),n}(b.a);Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],y.prototype,"expression",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],y.prototype,"name",void 0),Object(c.a)([Object(l.b)({type:["boolean"],json:{write:!0}})],y.prototype,"returnType",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],y.prototype,"title",void 0);var m,g=y=r=Object(c.a)([Object(d.a)("esri.form.ExpressionInfo")],y),O=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type=null,r}return n}(function(e){var t=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).description=null,e.label=null,e.visibilityExpression=null,e}return n}(e);return Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],t.prototype,"description",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],t.prototype,"label",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],t.prototype,"visibilityExpression",void 0),t=Object(c.a)([Object(d.a)("esri.form.elements.ElementMixin")],t),t}(b.a));Object(c.a)([Object(l.b)()],O.prototype,"type",void 0),O=Object(c.a)([Object(d.a)("esri.form.elements.Element")],O);var j=m=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new m({type:this.type})}}]),n}(b.a);Object(c.a)([Object(l.b)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],j.prototype,"type",void 0);var w,_=j=m=Object(c.a)([Object(d.a)("esri.form.elements.inputs.AttachmentInput")],j),x=w=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).attachmentKeyword=null,r.editable=!0,r.input=null,r.type="attachment",r}return Object(a.a)(n,[{key:"clone",value:function(){return new w({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}}]),n}(O);Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],x.prototype,"attachmentKeyword",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{default:!0,write:!0}})],x.prototype,"editable",void 0),Object(c.a)([Object(l.b)({type:_,json:{read:{source:"inputType"},write:{target:"inputType"}}})],x.prototype,"input",void 0),Object(c.a)([Object(l.b)({type:["attachment"],json:{read:!1,write:!0}})],x.prototype,"type",void 0);var k=x=w=Object(c.a)([Object(d.a)("esri.form.elements.AttachmentElement")],x),S=n(146),E=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type=null,r}return n}(b.a);Object(c.a)([Object(l.b)()],E.prototype,"type",void 0);var T,M=E=Object(c.a)([Object(d.a)("esri.form.elements.inputs.Input")],E),C=T=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="barcode-scanner",r}return Object(a.a)(n,[{key:"clone",value:function(){return new T}}]),n}(M);Object(c.a)([Object(l.b)({type:["barcode-scanner"],json:{read:!1,write:!0}})],C.prototype,"type",void 0);var A,P=C=T=Object(c.a)([Object(d.a)("esri.form.elements.inputs.BarcodeScannerInput")],C),I=A=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="combo-box",r}return Object(a.a)(n,[{key:"clone",value:function(){return new A}}]),n}(M);Object(c.a)([Object(l.b)({type:["combo-box"],json:{read:!1,write:!0}})],I.prototype,"type",void 0);var D,L=I=A=Object(c.a)([Object(d.a)("esri.form.elements.inputs.ComboBoxInput")],I);function R(e){return null!=e?new Date(e):null}function N(e){return e?e.getTime():null}var F=D=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).includeTime=!1,r.max=null,r.min=null,r.type="datetime-picker",r}return Object(a.a)(n,[{key:"readMax",value:function(e,t){return R(t.max)}},{key:"writeMax",value:function(e,t){t.max=N(e)}},{key:"readMin",value:function(e,t){return R(t.min)}},{key:"writeMin",value:function(e,t){t.min=N(e)}},{key:"clone",value:function(){return new D({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}}]),n}(M);Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0,default:!1}})],F.prototype,"includeTime",void 0),Object(c.a)([Object(l.b)({type:Date,json:{type:Number,write:!0}})],F.prototype,"max",void 0),Object(c.a)([Object(f.a)("max")],F.prototype,"readMax",null),Object(c.a)([Object(p.a)("max")],F.prototype,"writeMax",null),Object(c.a)([Object(l.b)({type:Date,json:{type:Number,write:!0}})],F.prototype,"min",void 0),Object(c.a)([Object(f.a)("min")],F.prototype,"readMin",null),Object(c.a)([Object(p.a)("min")],F.prototype,"writeMin",null),Object(c.a)([Object(l.b)({type:["datetime-picker"],json:{read:!1,write:!0}})],F.prototype,"type",void 0);var z,V=F=D=Object(c.a)([Object(d.a)("esri.form.elements.inputs.DateTimePickerInput")],F),U=z=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="radio-buttons",r}return Object(a.a)(n,[{key:"clone",value:function(){return new z}}]),n}(M);Object(c.a)([Object(l.b)({type:["radio-buttons"],json:{read:!1,write:!0}})],U.prototype,"type",void 0);var B,G=U=z=Object(c.a)([Object(d.a)("esri.form.elements.inputs.RadioButtonsInput")],U),q=B=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).maxLength=null,r.minLength=0,r.type=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new B({maxLength:this.maxLength,minLength:this.minLength,type:this.type})}}]),n}(M);Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],q.prototype,"maxLength",void 0),Object(c.a)([Object(l.b)({type:Number,json:{default:0,write:!0}})],q.prototype,"minLength",void 0),Object(c.a)([Object(l.b)()],q.prototype,"type",void 0);var H=q=B=Object(c.a)([Object(d.a)("esri.form.elements.inputs.support.TextInput")],q),W=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="text-area",r}return n}(H);Object(c.a)([Object(l.b)({type:["text-area"],json:{read:!1,write:!0}})],W.prototype,"type",void 0);var Y=W=Object(c.a)([Object(d.a)("esri.form.elements.inputs.TextAreaInput")],W),J=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="text-box",r}return n}(H);Object(c.a)([Object(l.b)({type:["text-box"],json:{read:!1,write:!0}})],J.prototype,"type",void 0);var K,X={base:M,key:"type",typeMap:{"barcode-scanner":P,"combo-box":L,"datetime-picker":V,"radio-buttons":G,"text-area":Y,"text-box":J=Object(c.a)([Object(d.a)("esri.form.elements.inputs.TextBoxInput")],J)}},Q=K=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).domain=null,r.editable=!0,r.fieldName=null,r.hint=null,r.input=null,r.requiredExpression=null,r.type="field",r}return Object(a.a)(n,[{key:"clone",value:function(){return new K({description:this.description,domain:this.domain,editable:this.editable,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,visibilityExpression:this.visibilityExpression})}}]),n}(O);Object(c.a)([Object(l.b)({types:S.d,json:{read:{reader:S.b},write:!0}})],Q.prototype,"domain",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{default:!0,write:!0}})],Q.prototype,"editable",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],Q.prototype,"fieldName",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],Q.prototype,"hint",void 0),Object(c.a)([Object(l.b)({types:X,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Q.prototype,"input",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],Q.prototype,"requiredExpression",void 0),Object(c.a)([Object(l.b)({type:String,json:{read:!1,write:!0}})],Q.prototype,"type",void 0);var Z,$=Q=K=Object(c.a)([Object(d.a)("esri.form.elements.FieldElement")],Q),ee=n(488),te=Z=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).displayCount=null,r.displayType="list",r.editable=!0,r.orderByFields=null,r.relationshipId=null,r.type="relationship",r}return Object(a.a)(n,[{key:"clone",value:function(){return new Z({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:Object(u.a)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}}]),n}(O);Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],te.prototype,"displayCount",void 0),Object(c.a)([Object(l.b)({type:["list"],json:{write:!0}})],te.prototype,"displayType",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{default:!0,write:!0}})],te.prototype,"editable",void 0),Object(c.a)([Object(l.b)({type:[ee.a],json:{write:!0}})],te.prototype,"orderByFields",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:!0}})],te.prototype,"relationshipId",void 0),Object(c.a)([Object(l.b)({type:["relationship"],json:{read:!1,write:!0}})],te.prototype,"type",void 0);var ne,re=te=Z=Object(c.a)([Object(d.a)("esri.form.elements.RelationshipElement")],te);function ie(e){return{typesWithGroup:{base:O,key:"type",typeMap:{attachment:k,field:$,group:e,relationship:re}},typesWithoutGroup:{base:O,key:"type",typeMap:{attachment:k,field:$,relationship:re}}}}function ae(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return null;var r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((function(e){return r[e.type]})).map((function(e){return r[e.type].fromJSON(e)}))}function oe(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return null;var r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((function(e){return r[e.type]})).map((function(e){return e.toJSON()}))}function se(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e?e.map((function(e){return Object(v.k)(n?t.typesWithGroup:t.typesWithoutGroup,e)})):null}var ce=ne=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).elements=null,r.initialState="expanded",r.type="group",r}return Object(a.a)(n,[{key:"castElements",value:function(e){return se(e,le,!1)}},{key:"readElements",value:function(e,t){return ae(t.formElements,le,!1)}},{key:"writeElements",value:function(e,t){t.formElements=oe(e,le,!1)}},{key:"clone",value:function(){return new ne({description:this.description,elements:Object(u.a)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}}]),n}(O);Object(c.a)([Object(l.b)({json:{write:!0}})],ce.prototype,"elements",void 0),Object(c.a)([Object(h.a)("elements")],ce.prototype,"castElements",null),Object(c.a)([Object(f.a)("elements",["formElements"])],ce.prototype,"readElements",null),Object(c.a)([Object(p.a)("elements")],ce.prototype,"writeElements",null),Object(c.a)([Object(l.b)({type:["collapsed","expanded"],json:{default:"expanded",write:!0}})],ce.prototype,"initialState",void 0),Object(c.a)([Object(l.b)({type:String,json:{read:!1,write:!0}})],ce.prototype,"type",void 0);var ue,le=ie(ce=ne=Object(c.a)([Object(d.a)("esri.form.elements.GroupElement")],ce)),he=ie(ce),fe=ue=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).description=null,r.elements=null,r.expressionInfos=null,r.title=null,r}return Object(a.a)(n,[{key:"castElements",value:function(e){return se(e,he)}},{key:"readElements",value:function(e,t){return ae(t.formElements,he)}},{key:"writeElements",value:function(e,t){t.formElements=oe(e,he)}},{key:"clone",value:function(){return new ue({description:this.description,expressionInfos:Object(u.a)(this.expressionInfos),elements:Object(u.a)(this.elements),title:this.title})}}]),n}(b.a);Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],fe.prototype,"description",void 0),Object(c.a)([Object(l.b)({json:{write:!0}})],fe.prototype,"elements",void 0),Object(c.a)([Object(h.a)("elements")],fe.prototype,"castElements",null),Object(c.a)([Object(f.a)("elements",["formElements"])],fe.prototype,"readElements",null),Object(c.a)([Object(p.a)("elements")],fe.prototype,"writeElements",null),Object(c.a)([Object(l.b)({type:[g],json:{write:!0}})],fe.prototype,"expressionInfos",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],fe.prototype,"title",void 0);var de=fe=ue=Object(c.a)([Object(d.a)("esri.form.FormTemplate")],fe);t.a=de},function(e,t,n){"use strict";var r=n(28),i=n(10),a=n(2),o=n(3),s=n(5),c=n(6),u=n(0),l=(n(15),n(14),n(1)),h=n(41),f=n(62),d=n(8),p=n(20),b=(n(12),n(21),n(22),n(29)),v=n(125),y=n(133),m=n(44);n(70);var g=["B","kB","MB","GB","TB"];var O=n(64),j=n(88),w=n(33),_=n(11),x=n(94),k=n(329),S=n(84),E=Object(S.a)("esri/themes/base/images/files/");var T={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},M="esri-attachments__item-button",C="esri-attachments__form-node",A="esri-attachments__file-fieldset",P="esri-attachments__file-label",I="esri-attachments__file-name",D="esri-attachments__file-input",L="esri-attachments__metadata-fieldset",R="esri-button",N="esri-button--disabled",F="esri-button--secondary",z="esri-button--tertiary",V="esri-button--third",U="esri-button--small",B="esri-button--half",G=window.CSS,q=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var o;return Object(a.a)(this,n),(o=t.call(this,e,r)).abilities=null,o.displayType="list",o.graphic=null,o.label=void 0,o.messages=null,o.messagesUnits=null,o.selectedFile=null,o.submitting=!1,o.viewModel=new k.a,o.visibleElements=Object(i.a)({},T),o._supportsImageOrientation=G&&G.supports&&G.supports("image-orientation","from-image"),o._addAttachmentForm=null,o._updateAttachmentForm=null,o}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this;this.own(Object(b.b)(this,"viewModel.attachmentInfos","change",(function(){return e.scheduleRender()})),Object(b.a)(this,"viewModel.mode",(function(){return e._modeChanged()})))}},{key:"castVisibleElements",value:function(e){return Object(i.a)(Object(i.a)({},T),e)}},{key:"addAttachment",value:function(){var e=this,t=this._addAttachmentForm,n=this.viewModel;return this._set("submitting",!0),this._set("error",null),n.addAttachment(t).then((function(t){return e._set("submitting",!1),e._set("error",null),n.mode="view",t})).catch((function(t){throw e._set("submitting",!1),e._set("error",new p.a("attachments:add-attachment",e.messages.addErrorMessage,t)),t}))}},{key:"deleteAttachment",value:function(e){var t=this,n=this.viewModel;return this._set("submitting",!0),this._set("error",null),n.deleteAttachment(e).then((function(e){return t._set("submitting",!1),t._set("error",null),n.mode="view",e})).catch((function(e){throw t._set("submitting",!1),t._set("error",new p.a("attachments:delete-attachment",t.messages.deleteErrorMessage,e)),e}))}},{key:"updateAttachment",value:function(){var e=this,t=this.viewModel,n=this._updateAttachmentForm;return this._set("submitting",!0),this._set("error",null),t.updateAttachment(n).then((function(n){return e._set("submitting",!1),e._set("error",null),t.mode="view",n})).catch((function(t){throw e._set("submitting",!1),e._set("error",new p.a("attachments:update-attachment",e.messages.updateErrorMessage,t)),t}))}},{key:"render",value:function(){var e=this.submitting,t=this.viewModel.state;return Object(_.a)("div",{class:this.classes("esri-attachments","esri-widget")},e?this.renderProgressBar():null,"loading"===t?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}},{key:"renderErrorMessage",value:function(){var e=this.error,t=this.visibleElements;return e&&t.errorMessage?Object(_.a)("div",{key:"error-message",class:"esri-attachments__error-message"},e.message):null}},{key:"renderAttachments",value:function(){var e=this.viewModel,t=e.mode,n=e.activeAttachmentInfo;return"add"===t?this.renderAddForm():"edit"===t?this.renderDetailsForm(n):this.renderAttachmentContainer()}},{key:"renderLoading",value:function(){return Object(_.a)("div",{class:"esri-attachments__loader-container",key:"loader"},Object(_.a)("div",{class:"esri-attachments__loader"}))}},{key:"renderProgressBar",value:function(){return this.visibleElements.progressBar?Object(_.a)("div",{class:"esri-attachments__progress-bar",key:"progress-bar"}):null}},{key:"renderAddForm",value:function(){var e=this.submitting,t=this.selectedFile,n=e||!t,i=this.visibleElements.cancelAddButton?Object(_.a)("button",{type:"button",bind:this,disabled:e,onclick:this._cancelForm,class:this.classes(R,z,U,B,e&&N)},this.messages.cancel):null,a=this.visibleElements.addSubmitButton?Object(_.a)("button",{type:"submit",disabled:n,class:this.classes(R,F,U,B,Object(r.a)({},N,n))},this.messages.add):null,o=t?Object(_.a)("span",{key:"file-name",class:I},t.name):null,s=Object(_.a)("form",{bind:this,afterCreate:O.g,afterRemoved:O.c,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},Object(_.a)("fieldset",{class:A},o,Object(_.a)("label",{class:this.classes(P,R,F)},t?this.messages.changeFile:this.messages.selectFile,Object(_.a)("input",{class:D,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),a,i);return Object(_.a)("div",{key:"add-form-container",class:C},s)}},{key:"renderDetailsForm",value:function(e){var t=this,n=this.visibleElements,i=this.viewModel,a=this.selectedFile,o=this.submitting,s=e.contentType,c=e.size,u=e.url,l=i.abilities,h=o||!a,f=l.editing&&l.operations.delete&&n.deleteButton?Object(_.a)("button",{key:"delete-button",type:"button",disabled:o,bind:this,onclick:function(n){return t._submitDeleteAttachment(n,e)},class:this.classes(R,U,z,"esri-attachments__delete-button",Object(r.a)({},N,o))},this.messages.delete):null,d=l.editing&&l.operations.update&&n.updateButton?Object(_.a)("button",{disabled:h,key:"update-button",type:"submit",class:this.classes(R,U,V,Object(r.a)({},N,h))},this.messages.update):null,p=this.visibleElements.cancelUpdateButton?Object(_.a)("button",{disabled:o,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(R,U,z,V,Object(r.a)({},N,o))},this.messages.cancel):null,b=a?Object(_.a)("span",{key:"file-name",class:I},a.name):null,j=l.editing&&l.operations.update?Object(_.a)("fieldset",{key:"file",class:A},b,Object(_.a)("label",{class:this.classes(P,R,F)},this.messages.changeFile,Object(_.a)("input",{class:D,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,w=Object(_.a)("fieldset",{key:"size",class:L},Object(_.a)("label",null,function(e,t){var n=0===t?0:Math.floor(Math.log(t)/Math.log(1024));n=Object(m.d)(n,0,g.length-1);var r=Object(y.b)(t/Math.pow(1024,n),{maximumFractionDigits:2});return Object(v.c)(e.units.bytes[g[n]],{fileSize:r})}(this.messagesUnits,c))),x=Object(_.a)("fieldset",{key:"content-type",class:L},Object(_.a)("label",null,s)),k=Object(_.a)("form",{bind:this,afterCreate:O.g,afterRemoved:O.c,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},Object(_.a)("div",{class:"esri-attachments__metadata"},w,x),j,Object(_.a)("div",{class:"esri-attachments__actions"},f,p,d));return Object(_.a)("div",{key:"edit-form-container",class:C},Object(_.a)("a",{class:"esri-attachments__item-link",href:u,rel:"noreferrer",target:"_blank",alt:name},this.renderImageMask({attachmentInfo:e,size:400}),Object(_.a)("div",{class:"esri-attachments__item-link-overlay"},Object(_.a)("span",{class:"esri-attachments__item-link-overlay-icon"},Object(_.a)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},Object(_.a)("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),Object(_.a)("path",{fill:"none",d:"M0 0h32v32H0z"}))))),k)}},{key:"renderImageMask",value:function(e){var t=e.attachmentInfo,n=e.size,i=this.viewModel.supportsResizeAttachments,a=t.contentType,o=t.url,s=i&&function(e){var t=e.toLowerCase();return"image/bmp"===t||"image/emf"===t||"image/exif"===t||"image/gif"===t||"image/x-icon"===t||"image/jpeg"===t||"image/png"===t||"image/tiff"===t||"image/x-wmf"===t}(a),c=this._getCSSTransform(t,s),u=c?{transform:c,"image-orientation":"none"}:{},l=-1===o.indexOf("?")?"?":"&",h=s?"".concat(o).concat(l,"w=").concat(n):function(e){return e?"text/plain"===e?"".concat(E,"text-32.svg"):"application/pdf"===e?"".concat(E,"pdf-32.svg"):"text/csv"===e?"".concat(E,"csv-32.svg"):"application/gpx+xml"===e?"".concat(E,"gpx-32.svg"):"application/x-dwf"===e?"".concat(E,"cad-32.svg"):"application/postscript"===e||"application/json"===e||"text/xml"===e||"model/vrml"===e?"".concat(E,"code-32.svg"):"application/x-zip-compressed"===e||"application/x-7z-compressed"===e||"application/x-gzip"===e||"application/x-tar"===e||"application/x-gtar"===e||"application/x-bzip2"===e||"application/gzip"===e||"application/x-compress"===e||"application/x-apple-diskimage"===e||"application/x-rar-compressed"===e||"application/zip"===e?"".concat(E,"zip-32.svg"):-1!==e.indexOf("image/")?"".concat(E,"image-32.svg"):-1!==e.indexOf("audio/")?"".concat(E,"sound-32.svg"):-1!==e.indexOf("video/")?"".concat(E,"video-32.svg"):-1!==e.indexOf("msexcel")||-1!==e.indexOf("ms-excel")||-1!==e.indexOf("spreadsheetml")?"".concat(E,"excel-32.svg"):-1!==e.indexOf("msword")||-1!==e.indexOf("ms-word")||-1!==e.indexOf("wordprocessingml")?"".concat(E,"word-32.svg"):-1!==e.indexOf("powerpoint")||-1!==e.indexOf("presentationml")?"".concat(E,"report-32.svg"):"".concat(E,"generic-32.svg"):"".concat(E,"generic-32.svg")}(a),f=Object(r.a)({},"esri-attachments__item-mask--icon",!s),d=Object(r.a)({},"esri-attachments__image--resizable",i);return Object(_.a)("div",{class:this.classes(f,"esri-attachments__item-mask")},Object(_.a)("img",{styles:u,alt:"",src:h,class:this.classes(d,"esri-attachments__image")}))}},{key:"renderAttachmentInfo",value:function(e){var t=this,n=e.attachmentInfo,r=e.displayType,i=this.viewModel.abilities,a=n.name,o=n.url,s=this.renderImageMask({attachmentInfo:n,size:"list"===r?48:400}),c=i.editing?Object(_.a)("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-chevron-icon",Object(O.e)()?"esri-icon-left":"esri-icon-right")}):null,u=[s,Object(_.a)("label",{class:"esri-attachments__label"},Object(_.a)("span",{class:"esri-attachments__filename"},a||this.messages.noTitle),c)],l=i.editing?Object(_.a)("button",{key:"details-button",bind:this,class:M,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":n.id,onclick:function(){return t._startEditAttachment(n)},type:"button"},u):Object(_.a)("a",{key:"details-link",class:M,href:o,target:"_blank"},u);return Object(_.a)("li",{class:"esri-attachments__item",key:n},l)}},{key:"renderAttachmentContainer",value:function(){var e,t=this,n=this.displayType,i=this.viewModel,a=this.visibleElements,o=i.attachmentInfos,s=i.abilities,c=o&&o.length,u=(e={},Object(r.a)(e,"esri-attachments__container--list","preview"!==n),Object(r.a)(e,"esri-attachments__container--preview","preview"===n),e),l=s.editing&&s.operations.add&&a.addButton?Object(_.a)("button",{bind:this,onclick:function(){return t._startAddAttachment()},class:this.classes(R,z,"esri-attachments__add-attachment-button"),type:"button"},Object(_.a)("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-add-icon","esri-icon-plus")}),this.messages.add):null,h=c?Object(_.a)("ul",{class:"esri-attachments__items"},o.toArray().map((function(e){return t.renderAttachmentInfo({attachmentInfo:e,displayType:n})}))):Object(_.a)("div",{class:"esri-widget__content--empty"},this.messages.noAttachments);return Object(_.a)("div",{key:"attachments-container",class:this.classes("esri-attachments__container",u)},h,l)}},{key:"_modeChanged",value:function(){this._set("error",null),this._set("selectedFile",null)}},{key:"_handleFileInputChange",value:function(e){var t=e.target,n=t&&t.files&&t.files.item(0);this._set("selectedFile",n)}},{key:"_submitDeleteAttachment",value:function(e,t){e.preventDefault(),this.deleteAttachment(t)}},{key:"_submitAddAttachment",value:function(e){e.preventDefault(),this.addAttachment()}},{key:"_submitUpdateAttachment",value:function(e){e.preventDefault(),this.updateAttachment()}},{key:"_startEditAttachment",value:function(e){var t=this.viewModel;t.activeAttachmentInfo=e,t.mode="edit"}},{key:"_startAddAttachment",value:function(){this.viewModel.mode="add"}},{key:"_cancelForm",value:function(e){e.preventDefault(),this.viewModel.mode="view"}},{key:"_getCSSTransform",value:function(e,t){var n=e.orientationInfo;return!this._supportsImageOrientation&&t&&n?[n.rotation?"rotate(".concat(n.rotation,"deg)"):"",n.mirrored?"scaleX(-1)":""].join(" "):""}}]),n}(x.a);Object(u.a)([Object(h.a)("viewModel.abilities")],q.prototype,"abilities",void 0),Object(u.a)([Object(l.b)(),Object(w.a)()],q.prototype,"displayType",void 0),Object(u.a)([Object(h.a)("viewModel.graphic")],q.prototype,"graphic",void 0),Object(u.a)([Object(l.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],q.prototype,"label",void 0),Object(u.a)([Object(l.b)(),Object(w.a)(),Object(j.a)("esri/widgets/Attachments/t9n/Attachments")],q.prototype,"messages",void 0),Object(u.a)([Object(l.b)(),Object(w.a)(),Object(j.a)("esri/core/t9n/Units")],q.prototype,"messagesUnits",void 0),Object(u.a)([Object(l.b)({readOnly:!0})],q.prototype,"selectedFile",void 0),Object(u.a)([Object(w.a)(),Object(l.b)({readOnly:!0})],q.prototype,"submitting",void 0),Object(u.a)([Object(w.a)(),Object(l.b)({readOnly:!0})],q.prototype,"error",void 0),Object(u.a)([Object(l.b)({type:k.a}),Object(w.a)(["viewModel.activeAttachmentInfo","viewModel.mode","viewModel.state","viewModel.supportsResizeAttachments","viewModel.attachmentInfos","viewModel.graphic","viewModel.abilities","viewModel.abilities.editing","viewModel.abilities.operations"])],q.prototype,"viewModel",void 0),Object(u.a)([Object(l.b)(),Object(w.a)()],q.prototype,"visibleElements",void 0),Object(u.a)([Object(f.a)("visibleElements")],q.prototype,"castVisibleElements",null);var H=q=Object(u.a)([Object(d.a)("esri.widgets.Attachments")],q);t.a=H},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(8),f=(n(12),n(21),n(22),n(27)),d=n(240),p=n(36),b=n(131),v=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).statisticType=null,e.onStatisticField=null,e.onStatisticValueExpression=null,e}return Object(a.a)(n,[{key:"clone",value:function(){return new r({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}}]),n}(f.a);Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],v.prototype,"statisticType",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],v.prototype,"onStatisticField",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],v.prototype,"onStatisticValueExpression",void 0);var y,m=v=r=Object(c.a)([Object(h.a)("esri.layers.support.OutStatistic")],v),g=y=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).name=null,e}return Object(a.a)(n,[{key:"clone",value:function(){return new y({name:this.name,outStatistic:this.outStatistic.clone()})}}]),n}(f.a);Object(c.a)([Object(l.b)({type:String,json:{write:!0}})],g.prototype,"name",void 0),Object(c.a)([Object(l.b)({type:m,json:{write:!0}})],g.prototype,"outStatistic",void 0);var O,j=g=y=Object(c.a)([Object(h.a)("esri.layers.support.AggregateField")],g),w=n(294),_=O=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="cluster",r.clusterRadius=Object(p.j)("80px"),r.clusterMinSize=Object(p.j)("12px"),r.clusterMaxSize=Object(p.j)("50px"),r.popupEnabled=!0,r.popupTemplate=null,r.labelingInfo=null,r.labelsVisible=!0,r.fields=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new O({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:Object(u.a)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:Object(u.a)(this.fields),popupEnabled:this.popupEnabled,popupTemplate:Object(u.a)(this.popupTemplate)})}}]),n}(f.a);Object(c.a)([Object(l.b)({type:["cluster"],readOnly:!0,json:{write:!0}})],_.prototype,"type",void 0),Object(c.a)([Object(l.b)({type:Number,cast:function(e){return"auto"===e?e:Object(p.j)(e)},json:{write:!0}})],_.prototype,"clusterRadius",void 0),Object(c.a)([Object(l.b)({type:Number,cast:p.j,json:{write:!0}})],_.prototype,"clusterMinSize",void 0),Object(c.a)([Object(l.b)({type:Number,cast:p.j,json:{write:!0}})],_.prototype,"clusterMaxSize",void 0),Object(c.a)([Object(l.b)(b.g)],_.prototype,"popupEnabled",void 0),Object(c.a)([Object(l.b)({type:d.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],_.prototype,"popupTemplate",void 0),Object(c.a)([Object(l.b)({type:[w.a],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],_.prototype,"labelingInfo",void 0),Object(c.a)([Object(l.b)(b.c)],_.prototype,"labelsVisible",void 0),Object(c.a)([Object(l.b)({type:[j],json:{write:!0}})],_.prototype,"fields",void 0);var x=_=O=Object(c.a)([Object(h.a)("esri.layers.support.FeatureReductionCluster")],_);t.a=x},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(34),f=n(8),d=n(35),p=(n(12),n(21),n(22),n(27)),b=n(164),v=n(194),y=n(336),m=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).respectsDaylightSaving=!1,r.timezone=null,r}return Object(a.a)(n,[{key:"readRespectsDaylightSaving",value:function(e,t){return void 0!==t.respectsDaylightSaving?t.respectsDaylightSaving:void 0!==t.respectDaylightSaving&&t.respectDaylightSaving}},{key:"clone",value:function(){var e=this.respectsDaylightSaving,t=this.timezone;return new r({respectsDaylightSaving:e,timezone:t})}}]),n}(p.a);Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0}})],m.prototype,"respectsDaylightSaving",void 0),Object(c.a)([Object(h.a)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],m.prototype,"readRespectsDaylightSaving",null),Object(c.a)([Object(l.b)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],m.prototype,"timezone",void 0);var g,O=m=r=Object(c.a)([Object(f.a)("esri.layers.support.TimeReference")],m),j=g=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).cumulative=!1,r.endField=null,r.fullTimeExtent=null,r.hasLiveData=!1,r.interval=null,r.startField=null,r.timeReference=null,r.trackIdField=null,r.useTime=!0,r}return Object(a.a)(n,[{key:"readFullTimeExtent",value:function(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;var n=new Date(t.timeExtent[0]),r=new Date(t.timeExtent[1]);return new v.a({start:n,end:r})}},{key:"writeFullTimeExtent",value:function(e,t){e&&e.start&&e.end?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}},{key:"readInterval",value:function(e,t){return t.timeInterval&&t.timeIntervalUnits?new y.a({value:t.timeInterval,unit:b.c.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new y.a({value:t.defaultTimeInterval,unit:b.c.fromJSON(t.defaultTimeIntervalUnits)}):null}},{key:"writeInterval",value:function(e,t){if(e){var n=e.toJSON();t.timeInterval=n.value,t.timeIntervalUnits=n.unit}else t.timeInterval=null,t.timeIntervalUnits=null}},{key:"clone",value:function(){var e=this.cumulative,t=this.endField,n=this.hasLiveData,r=this.interval,i=this.startField,a=this.timeReference,o=this.fullTimeExtent,s=this.trackIdField,c=this.useTime;return new g({cumulative:e,endField:t,hasLiveData:n,interval:r,startField:i,timeReference:Object(u.a)(a),fullTimeExtent:Object(u.a)(o),trackIdField:s,useTime:c})}}]),n}(p.a);Object(c.a)([Object(l.b)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],j.prototype,"cumulative",void 0),Object(c.a)([Object(l.b)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],j.prototype,"endField",void 0),Object(c.a)([Object(l.b)({type:v.a,json:{write:{enabled:!0,allowNull:!0}}})],j.prototype,"fullTimeExtent",void 0),Object(c.a)([Object(h.a)("fullTimeExtent",["timeExtent"])],j.prototype,"readFullTimeExtent",null),Object(c.a)([Object(d.a)("fullTimeExtent")],j.prototype,"writeFullTimeExtent",null),Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0}})],j.prototype,"hasLiveData",void 0),Object(c.a)([Object(l.b)({type:y.a,json:{write:{enabled:!0,allowNull:!0}}})],j.prototype,"interval",void 0),Object(c.a)([Object(h.a)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],j.prototype,"readInterval",null),Object(c.a)([Object(d.a)("interval")],j.prototype,"writeInterval",null),Object(c.a)([Object(l.b)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],j.prototype,"startField",void 0),Object(c.a)([Object(l.b)({type:O,json:{write:{enabled:!0,allowNull:!0}}})],j.prototype,"timeReference",void 0),Object(c.a)([Object(l.b)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],j.prototype,"trackIdField",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],j.prototype,"useTime",void 0);var w=j=g=Object(c.a)([Object(f.a)("esri.layers.support.TimeInfo")],j);t.a=w},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(367)),f=n(27),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).linkURL=null,r.sourceURL=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({linkURL:this.linkURL,sourceURL:this.sourceURL})}}]),n}(f.a);Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],d.prototype,"linkURL",void 0),Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],d.prototype,"sourceURL",void 0);var p,b=d=r=Object(c.a)([Object(l.a)("esri.popup.content.support.ImageMediaInfoValue")],d),v=p=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).refreshInterval=null,r.type="image",r.value=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new p({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:Number,json:{write:!0}})],v.prototype,"refreshInterval",void 0),Object(c.a)([Object(u.b)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],v.prototype,"type",void 0),Object(c.a)([Object(u.b)({type:b,json:{write:!0}})],v.prototype,"value",void 0);var y=v=p=Object(c.a)([Object(l.a)("esri.popup.content.ImageMediaInfo")],v);t.a=y},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18)),l=n(1),h=n(8),f=(n(12),n(21),n(22),n(27));var d={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}},p=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).contentType=null,r.exifInfo=null,r.id=null,r.globalId=null,r.keywords=null,r.name=null,r.parentGlobalId=null,r.parentObjectId=null,r.size=null,r.url=null,r}return Object(a.a)(n,[{key:"orientationInfo",get:function(){var e=function(e){var t=e.exifInfo,n=e.exifName,r=e.tagName;if(!t||!n||!r)return null;var i=t.find((function(e){return e.name===n}));return i?function(e){var t=e.tagName,n=e.tags;if(!n||!t)return null;var r=n.find((function(e){return e.name===t}));return r&&r.value||null}({tagName:r,tags:i.tags}):null}({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:this.exifInfo});return d[e]||null}},{key:"clone",value:function(){return new r({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}}]),n}(f.a);Object(c.a)([Object(l.b)({type:String})],p.prototype,"contentType",void 0),Object(c.a)([Object(l.b)()],p.prototype,"exifInfo",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["exifInfo"]})],p.prototype,"orientationInfo",null),Object(c.a)([Object(l.b)({type:u.a})],p.prototype,"id",void 0),Object(c.a)([Object(l.b)({type:String})],p.prototype,"globalId",void 0),Object(c.a)([Object(l.b)({type:String})],p.prototype,"keywords",void 0),Object(c.a)([Object(l.b)({type:String})],p.prototype,"name",void 0),Object(c.a)([Object(l.b)({json:{read:!1}})],p.prototype,"parentGlobalId",void 0),Object(c.a)([Object(l.b)({json:{read:!1}})],p.prototype,"parentObjectId",void 0),Object(c.a)([Object(l.b)({type:u.a})],p.prototype,"size",void 0),Object(c.a)([Object(l.b)({json:{read:!1}})],p.prototype,"url",void 0);var b=p=r=Object(c.a)([Object(h.a)("esri.layers.support.AttachmentInfo")],p);t.a=b},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(5),i=n(6),a=n(2),o=n(3),s=n(28),c=n(0),u=(n(15),n(4)),l=n(14),h=(n(18),n(1)),f=n(8),d=(n(12),n(21),n(22),n(361)),p=n(140),b=n(17),v=n(37),y=n(29),m=n(623),g=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).SCHEDULER_LOG_SLOW_TASKS=!1,e}return n}(v.a);Object(c.a)([Object(h.b)()],g.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);var O,j,w,_=new(g=Object(c.a)([Object(f.a)("esri.views.support.DebugFlags")],g)),x=l.a.getLogger("esri.views.support.Scheduler");(w=j||(j={})).REMOTE_CLIENT="remote client",w.STREAM_DATA_LOADER="stream loader",w.ELEVATION_QUERY="elevation query",w.TERRAIN_SURFACE="terrain surface",w.SURFACE_GEOMETRY_UPDATES="surface geometry updates",w.GRAPHICS_CORE="Graphics3D",w.I3S_CONTROLLER="I3S",w.POINT_CLOUD_LAYER="point cloud",w.FEATURE_TILE_FETCHER="feature fetcher",w.FEATURE_FETCH_QUEUE="feature fetch queue",w.LABELER="labeler",w.GRAPHICS_DECONFLICTOR="graphics deconflictor",w.FILTER_VISIBILITY="Graphics3D filter visibility",w.FEATURE_QUERY_ENGINE="feature query",w.SCALE_VISIBILITY="Graphics3D scale visibility",w.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",w.POINT_OF_INTEREST_FREQUENT="POI frequent",w.POINT_OF_INTEREST_INFREQUENT="POI infrequent",w.FEATURE_TILE_TREE="feature tile tree",w.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",w.ELEVATION_ALIGNMENT="elevation alignment",w.TEXT_TEXTURE_ATLAS="text texture atlas",w.TEXTURE_UNLOAD="texture unload",w.OVERLAY_MANAGER="overlay manager",w.LINE_OF_SIGHT_TOOL="line of sight tool",w.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",w.ELEVATION_PROFILE="elevation profile",w[w.TEST_PRIO=1]="TEST_PRIO";var k,S,E=(O={},Object(s.a)(O,j.REMOTE_CLIENT,1),Object(s.a)(O,j.STREAM_DATA_LOADER,1),Object(s.a)(O,j.FEATURE_FETCH_QUEUE,1),Object(s.a)(O,j.ELEVATION_QUERY,1),Object(s.a)(O,j.TERRAIN_SURFACE,2),Object(s.a)(O,j.SURFACE_GEOMETRY_UPDATES,2),Object(s.a)(O,j.GRAPHICS_CORE,3),Object(s.a)(O,j.I3S_CONTROLLER,4),Object(s.a)(O,j.POINT_CLOUD_LAYER,4),Object(s.a)(O,j.FEATURE_TILE_FETCHER,4),Object(s.a)(O,j.LABELER,8),Object(s.a)(O,j.GRAPHICS_DECONFLICTOR,8),Object(s.a)(O,j.FILTER_VISIBILITY,8),Object(s.a)(O,j.FEATURE_QUERY_ENGINE,8),Object(s.a)(O,j.SCALE_VISIBILITY,8),Object(s.a)(O,j.FRUSTUM_VISIBILITY,8),Object(s.a)(O,j.POINT_OF_INTEREST_FREQUENT,6),Object(s.a)(O,j.POINT_OF_INTEREST_INFREQUENT,30),Object(s.a)(O,j.FEATURE_TILE_TREE,16),Object(s.a)(O,j.FEATURE_TILE_TREE_ACTIVE,1),Object(s.a)(O,j.ELEVATION_ALIGNMENT,12),Object(s.a)(O,j.TEXT_TEXTURE_ATLAS,12),Object(s.a)(O,j.TEXTURE_UNLOAD,12),Object(s.a)(O,j.OVERLAY_MANAGER,12),Object(s.a)(O,j.LINE_OF_SIGHT_TOOL,16),Object(s.a)(O,j.LINE_OF_SIGHT_TOOL_INTERACTIVE,1),O);function T(e){return e in E?E[e]:"number"==typeof e?e:1}!function(e){e.Scheduler=function(){function e(t){var r,i=this;for(var o in Object(a.a)(this,e),this._now=t,this.updating=!0,this.performanceInfo={total:new d.a("total"),tasks:new Array},this._budget=null,this._state=1,this._tasks=new p.a,this._runQueue=new p.a,this._load=0,this._idleStateCallbacks=new p.a,this._idleUpdatesStartFired=!1,this._maxReschedule=C,this._forceTask=!1,this._safetyBudget=0,this._debug=!1,this._debugHandle=Object(y.a)(_,"SCHEDULER_LOG_SLOW_TASKS",(function(e){return i._debug=e})),this._budget=new n(t),P.length=0,j)A.set(j[o],this.performanceInfo.tasks.length),this.performanceInfo.tasks.push(new d.a(j[o])),P.push(0);var s=this;this._test={get state(){return Object(u.g)(r)?s._state:r},set state(e){r=e},FRAME_SAFETY_BUDGET:5,INTERACTING_BUDGET:33.333333333333336,IDLE_BUDGET:100,get budget(){return s._budget.budget},usedBudget:0,updateTask:function(e){return i._updateTask(e)},getState:function(e){return i._getState(e)},getRuntime:function(e){return i._getRuntime(e)},resetRuntimes:function(){return i._resetRuntimes()},getRunning:function(){return i._getRunning()}}}return Object(o.a)(e,[{key:"destroy",value:function(){this._debugHandle&&this._debugHandle.remove()}},{key:"registerTask",value:function(e,n,r){var i=T(e),a=new t(this,e,n,r,i);return this._tasks.push(a),a}},{key:"registerIdleStateCallbacks",value:function(e,t){var n=this,r={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(r),2===this.state&&this._idleUpdatesStartFired&&r.idleBegin();var i=this;return{remove:function(){return n._removeIdleStateCallbacks(r)},set idleBegin(e){i._idleUpdatesStartFired&&(r.idleEnd(),2===i._state&&e()),r.idleBegin=e},set idleEnd(e){r.idleEnd=e}}}},{key:"now",get:function(){return this._now()}},{key:"load",get:function(){return this._load}},{key:"state",get:function(){return Object(u.g)(this._test.state)?this._state:this._test.state},set:function(e){this._state!==e&&(this._state=e,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((function(e){return e.idleEnd()}))))}},{key:"updateBudget",value:function(e){this._test.usedBudget=0,this._safetyBudget=5;var t=e.frameDuration,n=1;switch(this.state){case 2:this._safetyBudget=0,t=Math.max(100,e.frameDuration),n=30;break;case 1:t=Math.max(33.333333333333336,e.frameDuration)}return t-=e.elapsedFrameTime+this._safetyBudget,2!==this.state&&t<0&&!this._forceTask?(this._forceTask=!0,!1):(t=Math.max(t,n),this._budget.reset(t,this.state),this._maxReschedule=C,this._updateLoad(),this._schedule())}},{key:"frame",value:function(){switch(this._forceTask=!1,this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((function(e){return e.idleBegin()}))),this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}},{key:"_removeIdleStateCallbacks",value:function(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}},{key:"removeTask",value:function(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e)}},{key:"_updateTask",value:function(e){this._tasks.forAll((function(t){t.name===e&&t.setPriority(e)}))}},{key:"_getState",value:function(e){if(this._runQueue.some((function(t){return t.name===e})))return S.SCHEDULED;var t=S.IDLE;return this._tasks.forAll((function(n){n.name===e&&n.needsUpdate&&(n.schedulePriority<=1?t=S.READY:t!==S.READY&&(t=S.WAITING))})),t}},{key:"_getRuntime",value:function(e){var t=0;return this._tasks.forAll((function(n){n.name===e&&(t+=n.runtime)})),t}},{key:"_resetRuntimes",value:function(){this._tasks.forAll((function(e){return e.runtime=0}))}},{key:"_getRunning",value:function(){var e=new Map;if(this._tasks.forAll((function(t){t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;var t="";return e.forEach((function(e,n){t+=e>1?" ".concat(e,"x ").concat(n):" ".concat(n)})),t}},{key:"_runIdle",value:function(){this._run()}},{key:"_runInteracting",value:function(){this._run()}},{key:"_runAnimating",value:function(){this._run()}},{key:"_updateLoad",value:function(){var e=this._tasks.reduce((function(e,t){return t.needsUpdate?++e:e}),0);this._load=.9*this._load+e*(1-.9)}},{key:"_schedule",value:function(){var e=this;if(this._maxReschedule<=0)return!1;var t=function(){var t=!1,n=0;if(e._tasks.forAll((function(r){if(0!==r.schedulePriority&&r.needsUpdate)switch(t=!0,n=Math.max(n,r.priority),r.schedulePriority){case 1:r.schedulePriority=0,e._runQueue.push(r);break;default:--r.schedulePriority}})),!t)return{v:(e.updating=!1,!1)};e._maxReschedule===C&&(e._maxReschedule=n),--e._maxReschedule};for(this._runQueue.filterInPlace((function(e){return!!e.needsUpdate||(e.schedulePriority=e.priority,!1)}));0===this._runQueue.length;){var n=t();if("object"===typeof n)return n.v}return this.updating=!0,!0}},{key:"_run",value:function(){for(var e=this._budget.now(),t=0;t<P.length;++t)P[t]=0;do{for(;this._runQueue.length>0;){var n=this._budget.now(),r=this._runQueue.pop();this._budget.resetProgress();try{r.processQueue(this._budget),!this._budget.done&&r.needsUpdate&&r.update(this._budget)}catch(e){x.error('Exception in task "'.concat(r.name,'"'),e)}r.schedulePriority=r.priority;var i=this._budget.now()-n;if(r.runtime+=i,P[A.get(r.task)]+=i,this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",r.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return void this._recordFrameTaskTimes(P,this._budget.now()-e)}}while(this._schedule());this._recordFrameTaskTimes(P,this._budget.now()-e)}},{key:"_recordFrameTaskTimes",value:function(e,t){for(var n=0;n<e.length;++n)this.performanceInfo.tasks[n].record(e[n]);this.performanceInfo.total.record(t)}},{key:"test",get:function(){return this._test}}]),e}();var t=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r,i,o,s){var c;return Object(a.a)(this,n),(c=t.call(this,{}))._scheduler=e,c.name=r,c.update=i,c._needsUpdateCB=o,c._priority=s,c.runtime=0,c._queue=new m.a,c.updating=!1,c.schedulePriority=c._priority,c}return Object(o.a)(n,[{key:"normalizeCtorArgs",value:function(){return{}}},{key:"remove",value:function(){this.processQueue(M),this._scheduler.removeTask(this)}},{key:"priority",get:function(){return this._priority}},{key:"setPriority",value:function(e){this.name=e,this._priority=T(e),0!==this.schedulePriority&&(this.schedulePriority=this._priority)}},{key:"task",get:function(){return this.name},set:function(e){this.setPriority(e)}},{key:"needsUpdate",get:function(){return this._queue.length>0||this._needsUpdateCB()}},{key:"schedule",value:function(e,t){return this.updating=!0,this._queue.push(e,t)}},{key:"reschedule",value:function(e,t){return this.updating=!0,this._queue.unshift(e,t)}},{key:"processQueue",value:function(e){for(;!e.done&&this._queue.process();)e.madeProgress();0===this._queue.length&&(this.updating=!1)}}]),n}(v.a);Object(c.a)([Object(h.b)()],t.prototype,"updating",void 0),t=Object(c.a)([Object(f.a)("esri.views.support.SchedulerTask")],t);var n=function(){function e(t){Object(a.a)(this,e),this.now=t,this._begin=0,this._budget=0,this._state=2,this._didWork=!1,this._enabled=!0}return Object(o.a)(e,[{key:"run",value:function(e){return!this.done&&(!0===e()&&(this._didWork=!0),!0)}},{key:"done",get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}},{key:"budget",get:function(){return this._budget}},{key:"madeProgress",value:function(){this._didWork=!0}},{key:"state",get:function(){return this._state}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}},{key:"reset",value:function(e,t){this._begin=this.now(),this._budget=e,this._state=t,this._didWork=!1}},{key:"remaining",get:function(){return Math.max(this._budget-this.elapsed,0)}},{key:"elapsed",get:function(){return this.now()-this._begin}},{key:"resetProgress",value:function(){this._didWork=!1}},{key:"hasProgressed",get:function(){return this._didWork}}]),e}();e.Budget=n}(k||(k={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(S||(S={}));var M=function(){var e=new k.Budget((function(){return performance.now()}));return e.enabled=!1,e}(),C=(new(function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"remove",value:function(){}},{key:"schedule",value:function(e){return Object(b.w)(e())}},{key:"reschedule",value:function(e){return Object(b.w)(e())}}]),e}()),Number.MAX_SAFE_INTEGER),A=new Map,P=new Array},function(e,t,n){var r,i;!function(a){if(void 0===(i="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=a(),!!0){var o=window.Cookies,s=window.Cookies=a();s.noConflict=function(){return window.Cookies=o,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function a(t,n,a){if("undefined"!==typeof document){"number"===typeof(a=e({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(u){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,!0!==a[c]&&(s+="="+a[c].split(";")[0]));return document.cookie=t+"="+n+s}}function o(e,n){if("undefined"!==typeof document){for(var i={},a=document.cookie?document.cookie.split("; "):[],o=0;o<a.length;o++){var s=a[o].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(l){}if(i[u]=c,e===u)break}catch(l){}}return e?i[e]:i}}return i.set=a,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,n){a(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return Y})),n.d(t,"b",(function(){return ee})),n.d(t,"c",(function(){return J})),n.d(t,"d",(function(){return X})),n.d(t,"e",(function(){return G})),n.d(t,"f",(function(){return K})),n.d(t,"g",(function(){return $})),n.d(t,"h",(function(){return Q})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return x})),n.d(t,"k",(function(){return U})),n.d(t,"l",(function(){return F})),n.d(t,"m",(function(){return he})),n.d(t,"n",(function(){return re})),n.d(t,"o",(function(){return oe})),n.d(t,"p",(function(){return le})),n.d(t,"q",(function(){return te})),n.d(t,"r",(function(){return ne})),n.d(t,"s",(function(){return O})),n.d(t,"t",(function(){return j})),n.d(t,"u",(function(){return ce})),n.d(t,"v",(function(){return se}));var r=n(38),i=n(32),a=n(13),o=n(14),s=n(20),c=n(97),u=n(262),l=n(452),h=n(185);function f(e,t){return e?t?4:3:t?3:2}var d=o.a.getLogger("esri.tasks.support.optimizedFeatureSet"),p={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},b=function(e,t,n,r,i,a){e[n]=i,e[n+1]=a},v=function(e,t,n,r,i,a){e[n]=i,e[n+1]=a,e[n+2]=t[r+2]},y=function(e,t,n,r,i,a){e[n]=i,e[n+1]=a,e[n+2]=t[r+3]},m=function(e,t,n,r,i,a){e[n]=i,e[n+1]=a,e[n+2]=t[r+2],e[n+3]=t[r+3]};function g(e,t,n,r){if(e){if(n)return t&&r?m:v;if(t&&r)return y}else if(t&&r)return v;return b}function O(e,t){var n=e.scale,r=e.translate;return Math.round((t-r[0])/n[0])}function j(e,t){var n=e.scale,r=e.translate;return Math.round((r[1]-t)/n[1])}function w(e,t){var n=e.scale,r=e.translate;return t*n[0]+r[0]}function _(e,t){var n=e.scale;return e.translate[1]-t*n[1]}function x(e,t,n){return e?t?n?A(e):E(e):n?M(e):k(e):null}function k(e){var t=e.coords;return{x:t[0],y:t[1]}}function S(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function E(e){var t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function T(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function M(e){var t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function C(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function A(e){var t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function P(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function I(e,t){return e&&t?P:e?T:t?C:S}function D(e,t,n,r,i){var o,s=I(n,r),c=Object(a.a)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=l.geometry,d=l.attributes,p=void 0;f&&(p=s(new h.a,f)),e.push(new u.a(p,d,null,d[i]))}}catch(b){c.e(b)}finally{c.f()}return e}function L(e,t,n){if(!e)return null;for(var r=f(t,n),i=[],a=0;a<e.coords.length;a+=r){for(var o=[],s=0;s<r;s++)o.push(e.coords[a+s]);i.push(o)}return t?n?{points:i,hasZ:t,hasM:n}:{points:i,hasZ:t}:n?{points:i,hasM:n}:{points:i}}function R(e,t,n,r,i){var o,s=f(n,r),c=Object(a.a)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,d=l.geometry,p=l.attributes,b=void 0;d&&(b=N(new h.a,d,s)),e.push(new u.a(b,p,null,p[i]))}}catch(v){c.e(v)}finally{c.f()}return e}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f(t.hasZ,t.hasM);e.lengths[0]=t.points.length;var r,i=e.coords,o=0,s=Object(a.a)(t.points);try{for(s.s();!(r=s.n()).done;)for(var c=r.value,u=0;u<n;u++)i[o++]=c[u]}catch(l){s.e(l)}finally{s.f()}return e}function F(e,t,n){if(!e)return null;var r,i=f(t,n),o=e.coords,s=e.lengths,c=[],u=0,l=Object(a.a)(s);try{for(l.s();!(r=l.n()).done;){for(var h=r.value,d=[],p=0;p<h;p++){for(var b=[],v=0;v<i;v++)b.push(o[u++]);d.push(b)}c.push(d)}}catch(y){l.e(y)}finally{l.f()}return t?n?{paths:c,hasZ:t,hasM:n}:{paths:c,hasZ:t}:n?{paths:c,hasM:n}:{paths:c}}function z(e,t,n,r,i){var o,s=f(n,r),c=Object(a.a)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,d=l.geometry,p=l.attributes,b=void 0;d&&(b=V(new h.a,d,s)),e.push(new u.a(b,p,null,p[i]))}}catch(v){c.e(v)}finally{c.f()}return e}function V(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f(t.hasZ,t.hasM),i=e.lengths,o=e.coords,s=0,c=Object(a.a)(t.paths);try{for(c.s();!(n=c.n()).done;){var u,l=n.value,h=Object(a.a)(l);try{for(h.s();!(u=h.n()).done;)for(var d=u.value,p=0;p<r;p++)o[s++]=d[p]}catch(b){h.e(b)}finally{h.f()}i.push(l.length)}}catch(b){c.e(b)}finally{c.f()}return e}function U(e,t,n){if(!e)return null;var r,i=f(t,n),o=e.coords,s=e.lengths,c=[],u=0,l=Object(a.a)(s);try{for(l.s();!(r=l.n()).done;){for(var h=r.value,d=[],p=0;p<h;p++){for(var b=[],v=0;v<i;v++)b.push(o[u++]);d.push(b)}c.push(d)}}catch(y){l.e(y)}finally{l.f()}return t?n?{rings:c,hasZ:t,hasM:n}:{rings:c,hasZ:t}:n?{rings:c,hasM:n}:{rings:c}}function B(e,t,n,r,i){var o,s=Object(a.a)(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=c.geometry,f=c.centroid,d=c.attributes,p=void 0;l&&(p=G(new h.a,l,n,r)),f?e.push(new u.a(p,d,S(new h.a,f),d[i])):e.push(new u.a(p,d,null,d[i]))}}catch(b){s.e(b)}finally{s.f()}return e}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.hasZ,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.hasM;return q(e,t.rings,n,r),e}function q(e,t,n,r){var i=f(n,r),o=e.lengths,s=e.coords,c=0;o.length=s.length=0;var u,l=Object(a.a)(t);try{for(l.s();!(u=l.n()).done;){var h,d=u.value,p=Object(a.a)(d);try{for(p.s();!(h=p.n()).done;)for(var b=h.value,v=0;v<i;v++)s[c++]=b[v]}catch(y){p.e(y)}finally{p.f()}o.push(d.length)}}catch(y){l.e(y)}finally{l.f()}return e}var H=[],W=[];function Y(e,t,n,r,a){H[0]=e;var o=J(W,H,t,n,r,a),s=Object(i.a)(o,1)[0];return H.length=W.length=0,s}function J(e,t,n,r,i,o){if(e.length=0,!n){var c,l=Object(a.a)(t);try{for(l.s();!(c=l.n()).done;){var h=c.value,f=h.attributes[o];e.push(new u.a(null,h.attributes,null,f))}}catch(p){l.e(p)}finally{l.f()}return e}switch(n){case"esriGeometryPoint":return D(e,t,r,i,o);case"esriGeometryMultipoint":return R(e,t,r,i,o);case"esriGeometryPolyline":return z(e,t,r,i,o);case"esriGeometryPolygon":return B(e,t,r,i,o);default:d.error("convertToFeatureSet:unknown-geometry",new s.a("Unable to parse unknown geometry type '".concat(n,"'"))),e.length=0}return e}function K(e,t,n,r){W[0]=e,Z(H,W,t,n,r);var i=H[0];return H.length=W.length=0,i}function X(e,t,n){if(!e)return null;var r=new h.a;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==n&&(n=e.hasM),Object(c.f)(e)?I(null!=t?t:null!=e.z,null!=n?n:null!=e.m)(r,e):Object(c.g)(e)?G(r,e,t,n):Object(c.h)(e)?V(r,e,f(t,n)):Object(c.e)(e)?N(r,e,f(t,n)):void d.error("convertFromGeometry:unknown-geometry",new s.a("Unable to parse unknown geometry type '".concat(e,"'")))}function Q(e,t,n,r){var i=e&&("coords"in e?e:e.geometry);if(!i)return null;switch(t){case"esriGeometryPoint":var a=k;return n&&r?a=A:n?a=E:r&&(a=M),a(i);case"esriGeometryMultipoint":return L(i,n,r);case"esriGeometryPolyline":return F(i,n,r);case"esriGeometryPolygon":return U(i,n,r);default:return void d.error("convertToGeometry:unknown-geometry",new s.a("Unable to parse unknown geometry type '".concat(t,"'")))}}function Z(e,t,n,r,i){switch(e.length=0,n){case"esriGeometryPoint":return function(e,t,n,r){var i=k;n&&r?i=A:n?i=E:r&&(i=M);var o,s=Object(a.a)(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,u=c.geometry,l=c.attributes,h=u?i(u):null;e.push({attributes:l,geometry:h})}}catch(f){s.e(f)}finally{s.f()}return e}(e,t,r,i);case"esriGeometryMultipoint":return function(e,t,n,r){var i,o=Object(a.a)(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,c=s.geometry,u=s.attributes,l=void 0;c&&(l=L(c,n,r)),e.push({attributes:u,geometry:l})}}catch(h){o.e(h)}finally{o.f()}return e}(e,t,r,i);case"esriGeometryPolyline":return function(e,t,n,r){var i,o=Object(a.a)(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,c=s.geometry,u=s.attributes,l=void 0;c&&(l=F(c,n,r)),e.push({attributes:u,geometry:l})}}catch(h){o.e(h)}finally{o.f()}return e}(e,t,r,i);case"esriGeometryPolygon":return function(e,t,n,r){var i,o=Object(a.a)(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,c=s.geometry,u=s.attributes,l=s.centroid,h=void 0;if(c&&(h=U(c,n,r)),l){var f=k(l);e.push({attributes:u,centroid:f,geometry:h})}else e.push({attributes:u,geometry:h})}}catch(d){o.e(d)}finally{o.f()}return e}(e,t,r,i);default:d.error("convertToFeatureSet:unknown-geometry",new s.a("Unable to parse unknown geometry type '".concat(n,"'")))}return e}function $(e){var t=e.objectIdFieldName,n=e.spatialReference,r=e.transform,i=e.fields,a=e.hasM,o=e.hasZ,s=e.features,c=e.geometryType,u=e.exceededTransferLimit,l=e.uniqueIdField,h=e.queryGeometry,f=e.queryGeometryType,d={features:Z([],s,c,o,a),fields:i,geometryType:c,objectIdFieldName:t,spatialReference:n,uniqueIdField:l,queryGeometry:Q(h,f,!1,!1)};return r&&(d.transform=r),u&&(d.exceededTransferLimit=u),a&&(d.hasM=a),o&&(d.hasZ=o),d}function ee(e,t){var n=new l.a,r=e.hasM,i=e.hasZ,a=e.features,o=e.objectIdFieldName,c=e.spatialReference,u=e.geometryType,h=e.exceededTransferLimit,f=e.transform,p=e.fields;return p&&(n.fields=p),n.geometryType=u,n.objectIdFieldName=o||t,n.spatialReference=c,n.objectIdFieldName?(a&&J(n.features,a,u,i,r,n.objectIdFieldName),h&&(n.exceededTransferLimit=h),r&&(n.hasM=r),i&&(n.hasZ=i),f&&(n.transform=f),n):(d.error(new s.a("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n)}function te(e,t){var n=t.geometryType,r=t.features,i=t.hasM,a=t.hasZ;if(!e)return t;for(var o=0;o<r.length;o++){var s=r[o],c=s.weakClone();c.geometry=new h.a,ne(c.geometry,s.geometry,i,a,n,e),s.centroid&&(c.centroid=new h.a,ne(c.centroid,s.centroid,i,a,"esriGeometryPoint",e)),r[o]=c}return t.transform=e,t}function ne(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:r;if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;var u=p[i],l=t.coords,h=t.lengths,d=f(n,r),b=f(n&&s,r&&c),v=g(n,r,s,c);if(!h.length)return v(e.coords,l,0,0,O(o,l[0]),j(o,l[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=d,e;var y,m,w,_,x,k=0,S=0,E=S,T=Object(a.a)(h);try{for(T.s();!(x=T.n()).done;){var M=x.value;if(!(M<u)){var C=0;S=E,w=y=O(o,l[k]),_=m=j(o,l[k+1]),v(e.coords,l,S,k,w,_),C++,k+=d,S+=b;for(var A=1;A<M;A++,k+=d)w=O(o,l[k]),_=j(o,l[k+1]),w===y&&_===m||(v(e.coords,l,S,k,w-y,_-m),S+=b,C++,y=w,m=_);C>=u&&(e.lengths.push(C),E=S)}}}catch(P){T.e(P)}finally{T.f()}return e.coords.length=E,e.coords.length?e:null}function re(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:r;if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;var u=p[i],l=t.coords,h=t.lengths,d=f(n,r),b=f(n&&s,r&&c),v=g(n,r,s,c);if(!h.length)return v(e.coords,l,0,0,l[0],l[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=d,e;var y,m=0,O=o*o,j=Object(a.a)(h);try{for(j.s();!(y=j.n()).done;){var w=y.value;if(w<u)m+=w*d;else{var _=e.coords.length/b,x=m,k=m+(w-1)*d;v(e.coords,l,e.coords.length,x,l[x],l[x+1]),ae(e.coords,l,d,O,v,x,k),v(e.coords,l,e.coords.length,k,l[k],l[k+1]);var S=e.coords.length/b-_;S>=u?e.lengths.push(S):e.coords.length=_*b,m+=w*d}}}catch(E){j.e(E)}finally{j.f()}return e.coords.length?e:null}function ie(e,t,n,r){var i=e[t],a=e[t+1],o=e[n],s=e[n+1],c=e[r],u=e[r+1],l=o,h=s,f=c-l,d=u-h;if(0!==f||0!==d){var p=((i-l)*f+(a-h)*d)/(f*f+d*d);p>1?(l=c,h=u):p>0&&(l+=f*p,h+=d*p)}return(f=i-l)*f+(d=a-h)*d}function ae(e,t,n,r,i,a,o){for(var s,c=r,u=0,l=a+n;l<o;l+=n)(s=ie(t,l,a,o))>c&&(u=l,c=s);c>r&&(u-a>n&&ae(e,t,n,r,i,a,u),i(e,t,e.length,u,t[u],t[u+1]),o-u>n&&ae(e,t,n,r,i,u,o))}function oe(e,t,n,r){if(!t||!t.coords||!t.coords.length)return null;var i=f(n,r),a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY;if(t&&t.coords)for(var u=t.coords,l=0;l<u.length;l+=i){var h=u[l],d=u[l+1];a=Math.min(a,h),s=Math.max(s,h),o=Math.min(o,d),c=Math.max(c,d)}return e[0]=a,e[1]=o,e[2]=s,e[3]=c,e}function se(e,t,n,r,a){var o=t.coords,s=t.lengths,c=n?r?m:v:r?v:b,u=f(n,r);if(!o.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!s.length)return c(e.coords,o,0,0,w(a,o[0]),_(a,o[1])),e!==t&&(e.lengths.length=0,e.coords.length=u),e;for(var l=Object(i.a)(a.scale,2),h=l[0],d=l[1],p=0,y=0;y<s.length;y++){var g=s[y];e.lengths[y]=g;var O=w(a,o[p]),j=_(a,o[p+1]);c(e.coords,o,p,p,O,j),p+=u;for(var x=1;x<g;x++,p+=u)O+=o[p]*h,j-=o[p+1]*d,c(e.coords,o,p,p,O,j)}return e!==t&&(e.lengths.length=s.length,e.coords.length=o.length),e}function ce(e,t,n,i,a,o){var s,c=f(n,i),u=g(n,i,a,o),l=t.coords;e.coords.length=0,e.lengths.length=0,(s=e.lengths).push.apply(s,Object(r.a)(t.lengths));for(var h=0;h<l.length;h+=c)u(e.coords,l,e.coords.length,h,l[h],l[h+1]);return e}function ue(e,t,n,r){for(var i=0,a=e[r*t],o=e[r*(t+1)],s=1;s<n;s++){var c=a+e[r*(t+s)],u=o+e[r*(t+s)+1],l=(c-a)*(u+o);a=c,o=u,i+=l}return.5*i}function le(e,t){for(var n=e.coords,r=e.lengths,i=0,a=0,o=0;o<r.length;o++)a+=ue(n,i,r[o],t),i+=o;return Math.abs(a)}function he(e,t){for(var n=e.clone(),r=e.coords,i=e.lengths,a=0,o=0;o<i.length;o++){for(var s=i[o],c=r[t*a],u=r[t*a+1],l=1;l<s;l++){var h=c+r[t*(a+l)],f=u+r[t*(a+l)+1];n.coords[t*(a+l)]=h,n.coords[t*(a+l)+1]=f,c=h,u=f}a+=s}return n}},function(e,t,n){"use strict";var r=n(2),i=n(3),a=(n(15),n(4)),o=n(107),s=33984,c=function(){function e(){for(Object(r.a)(this,e),this._current=new Array,this._max=new Array,this._allocations=new Map;this._current.length<6;)this._current.push(0),this._max.push(0)}return Object(i.a)(e,[{key:"resetMax",value:function(){for(this._max.length=0;this._max.length<this._current.length;)this._max.push(0)}},{key:"increment",value:function(e,t){var n=++this._current[e];this._max[e]=Math.max(n,this._max[e])}},{key:"decrement",value:function(e,t){--this._current[e]}},{key:"max",get:function(){return this._max}},{key:"current",get:function(){return this._current}},{key:"printResourceCount",value:function(){if(console.log("Live objects:"),console.log("Textures: ".concat(this._current[0])),console.log("Buffers: ".concat(this._current[1])),console.log("VAOs: ".concat(this._current[2])),console.log("Programs: ".concat(this._current[3])),console.log("Framebuffers: ".concat(this._current[4])),console.log("Renderbuffers: ".concat(this._current[5])),this._allocations.size>0){console.log("".concat(this._allocations.size," live object allocations:"));var e=new Map;this._allocations.forEach((function(t){var n;e.set(t,(null!=(n=e.get(t))?n:0)+1)})),e.forEach((function(e,t){return console.log(e," : ",t)}))}}}]),e}(),u=n(162),l=n(13),h=function e(t,n,i,a,o,s,c,u){Object(r.a)(this,e),this.createQuery=t,this.resultAvailable=n,this.getResult=i,this.disjoint=a,this.beginTimeElapsed=o,this.endTimeElapsed=s,this.createTimestamp=c,this.timestampBits=u};function f(e,t){var n,r,i,a,o,s,c,l,f,p,b=t&&t.disabledExtensions||{},v=t&&t.debugWebGLExtensions||{},y=null,m=null,g=null,O=null;return{get drawBuffers(){return p||(p=function(e,t){if(t.disjointTimerQuery)return null;if(Object(u.a)(e))return{drawBuffers:e.drawBuffers.bind(e),MAX_DRAW_BUFFERS:e.MAX_DRAW_BUFFERS,MAX_COLOR_ATTACHMENTS:e.MAX_COLOR_ATTACHMENTS};if(t.drawBuffers)return null;var n=e.getExtension("WEBGL_draw_buffers");return n?{drawBuffers:n.drawBuffersWEBGL.bind(n),MAX_DRAW_BUFFERS:n.MAX_DRAW_BUFFERS_WEBGL,MAX_COLOR_ATTACHMENTS:n.MAX_COLOR_ATTACHMENTS_WEBGL}:null}(e,b)),p},get instancing(){return n||(n=function(e){if(Object(u.a)(e))return{drawArraysInstanced:e.drawArraysInstanced.bind(e),drawElementsInstanced:e.drawElementsInstanced.bind(e),vertexAttribDivisor:e.vertexAttribDivisor.bind(e)};var t=e.getExtension("ANGLE_instanced_arrays");return t?{drawArraysInstanced:t.drawArraysInstancedANGLE.bind(t),drawElementsInstanced:t.drawElementsInstancedANGLE.bind(t),vertexAttribDivisor:t.vertexAttribDivisorANGLE.bind(t)}:null}(e)),n},get vao(){return r||(r=function(e,t){if(Object(u.a)(e))return{createVertexArray:e.createVertexArray.bind(e),deleteVertexArray:e.deleteVertexArray.bind(e),bindVertexArray:e.bindVertexArray.bind(e)};if(t.vao)return null;var n=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object");return n?{createVertexArray:n.createVertexArrayOES.bind(n),deleteVertexArray:n.deleteVertexArrayOES.bind(n),bindVertexArray:n.bindVertexArrayOES.bind(n)}:null}(e,b)),r},get compressedTextureS3TC(){return i||(i=function(e,t){if(t.compressedTextureS3TC)return null;var n=e.getExtension("WEBGL_compressed_texture_s3tc");return n?{COMPRESSED_RGB_S3TC_DXT1:n.COMPRESSED_RGB_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT1:n.COMPRESSED_RGBA_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT3:n.COMPRESSED_RGBA_S3TC_DXT3_EXT,COMPRESSED_RGBA_S3TC_DXT5:n.COMPRESSED_RGBA_S3TC_DXT5_EXT}:null}(e,b)),i},get textureFilterAnisotropic(){return a||(a=function(e,t){if(t.textureFilterAnisotropic)return null;var n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");return n?{MAX_TEXTURE_MAX_ANISOTROPY:n.MAX_TEXTURE_MAX_ANISOTROPY_EXT,TEXTURE_MAX_ANISOTROPY:n.TEXTURE_MAX_ANISOTROPY_EXT}:null}(e,b)),a},get disjointTimerQuery(){return o||(o=function(e,t){if(t.disjointTimerQuery)return null;var n=e.getExtension("EXT_disjoint_timer_query_webgl2");return n&&Object(u.a)(e)?new h((function(){return e.createQuery()}),(function(t){return e.getQueryParameter(t,e.QUERY_RESULT_AVAILABLE)}),(function(t){return e.getQueryParameter(t,e.QUERY_RESULT)}),(function(){return e.getParameter(n.GPU_DISJOINT_EXT)}),(function(t){return e.beginQuery(n.TIME_ELAPSED_EXT,t)}),(function(){return e.endQuery(n.TIME_ELAPSED_EXT)}),(function(e){return n.queryCounterEXT(e,n.TIMESTAMP_EXT)}),(function(){return e.getQuery(n.TIMESTAMP_EXT,n.QUERY_COUNTER_BITS_EXT)})):(n=e.getExtension("EXT_disjoint_timer_query"))?new h((function(){return n.createQueryEXT()}),(function(e){return n.getQueryObjectEXT(e,n.QUERY_RESULT_AVAILABLE_EXT)}),(function(e){return n.getQueryObjectEXT(e,n.QUERY_RESULT_EXT)}),(function(){return e.getParameter(n.GPU_DISJOINT_EXT)}),(function(e){return n.beginQueryEXT(n.TIME_ELAPSED_EXT,e)}),(function(){return n.endQueryEXT(n.TIME_ELAPSED_EXT)}),(function(e){return n.queryCounterEXT(e,n.TIMESTAMP_EXT)}),(function(){return n.getQueryEXT(n.TIMESTAMP_EXT,n.QUERY_COUNTER_BITS_EXT)})):null}(e,b)),o},get textureFloat(){return s||(s=function(e,t){if(Object(u.a)(e))return{textureFloat:!0,textureFloatLinear:!t.textureFloatLinear&&!!e.getExtension("OES_texture_float_linear"),textureHalfFloat:!0,textureHalfFloatLinear:!t.textureHalfFloatLinear&&!!e.getExtension("OES_texture_half_float_linear"),HALF_FLOAT:e.HALF_FLOAT};if(e instanceof WebGLRenderingContext){var n=!t.textureHalfFloat&&e.getExtension("OES_texture_half_float");return{textureFloat:!t.textureFloat&&!!e.getExtension("OES_texture_float"),textureFloatLinear:!t.textureFloatLinear&&!!e.getExtension("OES_texture_float_linear"),textureHalfFloat:!!n,textureHalfFloatLinear:!t.textureHalfFloatLinear&&!!e.getExtension("OES_texture_half_float_linear"),HALF_FLOAT:n?n.HALF_FLOAT_OES:void 0}}return null}(e,b)),s},get colorBufferFloat(){return c||(c=function(e,t){if(Object(u.a)(e)){var n=!t.colorBufferFloat&&e.getExtension("EXT_color_buffer_half_float"),r=!t.colorBufferFloat&&e.getExtension("EXT_color_buffer_float");return n||r?{textureFloat:!!r,textureHalfFloat:!!n,R16F:e.R16F,RG16F:e.RG16F,RGBA16F:e.RGBA16F,R32F:e.R32F,RG32F:e.RG32F,RGBA32F:e.RGBA32F,R11F_G11F_B10F:e.R11F_G11F_B10F,RGB16F:e.RGB16F}:null}if(e instanceof WebGLRenderingContext){var i=!t.colorBufferFloat&&e.getExtension("EXT_color_buffer_half_float"),a=!t.colorBufferFloat&&e.getExtension("WEBGL_color_buffer_float");return i||a?{textureFloat:!!a,textureHalfFloat:!!i,RGBA16F:i?i.RGBA16F_EXT:void 0,RGB16F:i?i.RGB16F_EXT:void 0,RGBA32F:a?a.RGBA32F_EXT:void 0}:null}return null}(e,b)),c},get blendMinMax(){return l||(l=function(e,t){if(Object(u.a)(e))return{MIN:e.MIN,MAX:e.MAX};if(t.blendMinMax)return null;var n=e.getExtension("EXT_blend_minmax");return n?{MIN:n.MIN_EXT,MAX:n.MAX_EXT}:null}(e,b)),l},get depthTexture(){return null===y&&(y=d(e,b,"depthTexture",!0,["WEBGL_depth_texture","MOZ_WEBGL_depth_texture","WEBKIT_WEBGL_depth_texture"])),y},get standardDerivatives(){return null===m&&(m=d(e,b,"standardDerivatives",!0,["OES_standard_derivatives"])),m},get shaderTextureLOD(){return null===g&&(g=d(e,b,"shaderTextureLOD",!0,["EXT_shader_texture_lod"])),g},get fragDepth(){return null===O&&(O=d(e,b,"fragDepth",!0,["EXT_frag_depth"])),O},get loseContext(){return f||(f=function(e,t){var n=t.loseContext&&e.getExtension("WEBGL_lose_context");return n?{loseRenderingContext:function(){return n.loseContext()}}:null}(e,v)),f}}}function d(e,t,n,r,i){if(r&&Object(u.a)(e))return!0;if(t[n])return!1;var a,o=Object(l.a)(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(e.getExtension(s))return!0}}catch(c){o.e(c)}finally{o.f()}return!1}var p=function(){function e(t,n){var i=this;Object(r.a)(this,e),this.gl=null,this.instanceCounter=new c,this._blendEnabled=!1,this._blendColorState={r:0,g:0,b:0,a:0},this._blendFunctionState={srcRGB:1,dstRGB:0,srcAlpha:1,dstAlpha:0},this._blendEquationState={mode:32774,modeAlpha:32774},this._colorMaskState={r:!0,g:!0,b:!0,a:!0},this._polygonCullingEnabled=!1,this._cullFace=1029,this._frontFace=2305,this._scissorTestEnabled=!1,this._scissorRect={x:0,y:0,width:0,height:0},this._depthTestEnabled=!1,this._depthFunction=513,this._clearDepth=1,this._depthWriteEnabled=!0,this._depthRange={zNear:0,zFar:1},this._viewport=null,this._stencilTestEnabled=!1,this._polygonOffsetFillEnabled=!1,this._polygonOffset=[0,0],this._stencilFunction={face:1032,func:519,ref:0,mask:1},this._clearStencil=0,this._stencilWriteMask=1,this._stencilOperation={face:1032,fail:7680,zFail:7680,zPass:7680},this._clearColor={r:0,g:0,b:0,a:0},this._activeShaderProgram=null,this._activeVertexBuffer=null,this._activeIndexBuffer=null,this._activeFramebuffer=null,this._activeRenderbuffer=null,this._activeTextureUnit=0,this._textureUnitMap={},this._numOfDrawCalls=0,this._numOfTriangles=0,this.contextVersion=Object(u.a)(t)?"webgl2":"webgl",this.gl=t,t instanceof WebGLRenderingContext&&this.gl.getExtension("OES_element_index_uint"),this._capabilities=f(t,n);var a=this.gl.getParameter(this.gl.VIEWPORT);this._viewport={x:a[0],y:a[1],width:a[2],height:a[3]},this._stateTracker=new o.a({setBlending:function(e){if(e){i.setBlendingEnabled(!0),i.setBlendEquationSeparate(e.opRgb,e.opAlpha),i.setBlendFunctionSeparate(e.srcRgb,e.dstRgb,e.srcAlpha,e.dstAlpha);var t=e.color;i.setBlendColor(t.r,t.g,t.b,t.a)}else i.setBlendingEnabled(!1)},setCulling:function(e){e?(i.setFaceCullingEnabled(!0),i.setCullFace(e.face),i.setFrontFace(e.mode)):i.setFaceCullingEnabled(!1)},setPolygonOffset:function(e){e?(i.setPolygonOffsetFillEnabled(!0),i.setPolygonOffset(e.factor,e.units)):i.setPolygonOffsetFillEnabled(!1)},setDepthTest:function(e){e?(i.setDepthTestEnabled(!0),i.setDepthFunction(e.func)):i.setDepthTestEnabled(!1)},setStencilTest:function(e){if(e){i.setStencilTestEnabled(!0);var t=e.function;i.setStencilFunction(t.func,t.ref,t.mask);var n=e.operation;i.setStencilOp(n.fail,n.zFail,n.zPass)}else i.setStencilTestEnabled(!1)},setDepthWrite:function(e){e?(i.setDepthWriteEnabled(!0),i.setDepthRange(e.zNear,e.zFar)):i.setDepthWriteEnabled(!1)},setColorWrite:function(e){e?i.setColorMask(e.r,e.g,e.b,e.a):i.setColorMask(!1,!1,!1,!1)},setStencilWrite:function(e){e?i.setStencilWriteMask(e.mask):i.setStencilWriteMask(0)}}),this.enforceState()}return Object(i.a)(e,[{key:"contextAttributes",get:function(){return this.gl.getContextAttributes()}},{key:"parameters",get:function(){if(!this._parameters){var e=this.capabilities.textureFilterAnisotropic;this._parameters={versionString:this.gl.getParameter(this.gl.VERSION),maxVertexTextureImageUnits:this.gl.getParameter(this.gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxVertexAttributes:this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS),maxMaxAnisotropy:e?this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY):void 0,maxTextureImageUnits:this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),maxTextureSize:this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE)}}return this._parameters}},{key:"dispose",value:function(){this.bindVAO(null),this.unbindBuffer(34962),this.unbindBuffer(34963),this._textureUnitMap={},this.gl=null,this._capabilities=null}},{key:"setPipelineState",value:function(e){this._stateTracker.setPipeline(e)}},{key:"setBlendingEnabled",value:function(e){this._blendEnabled!==e&&(!0===e?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this._blendEnabled=e,this._stateTracker.invalidateBlending())}},{key:"setBlendColor",value:function(e,t,n,r){e===this._blendColorState.r&&t===this._blendColorState.g&&n===this._blendColorState.b&&r===this._blendColorState.a||(this.gl.blendColor(e,t,n,r),this._blendColorState.r=e,this._blendColorState.g=t,this._blendColorState.b=n,this._blendColorState.a=r,this._stateTracker.invalidateBlending())}},{key:"setBlendFunction",value:function(e,t){e===this._blendFunctionState.srcRGB&&t===this._blendFunctionState.dstRGB||(this.gl.blendFunc(e,t),this._blendFunctionState.srcRGB=e,this._blendFunctionState.srcAlpha=e,this._blendFunctionState.dstRGB=t,this._blendFunctionState.dstAlpha=t,this._stateTracker.invalidateBlending())}},{key:"setBlendFunctionSeparate",value:function(e,t,n,r){this._blendFunctionState.srcRGB===e&&this._blendFunctionState.srcAlpha===n&&this._blendFunctionState.dstRGB===t&&this._blendFunctionState.dstAlpha===r||(this.gl.blendFuncSeparate(e,t,n,r),this._blendFunctionState.srcRGB=e,this._blendFunctionState.srcAlpha=n,this._blendFunctionState.dstRGB=t,this._blendFunctionState.dstAlpha=r,this._stateTracker.invalidateBlending())}},{key:"setBlendEquation",value:function(e){this._blendEquationState.mode!==e&&(this.gl.blendEquation(e),this._blendEquationState.mode=e,this._blendEquationState.modeAlpha=e,this._stateTracker.invalidateBlending())}},{key:"setBlendEquationSeparate",value:function(e,t){this._blendEquationState.mode===e&&this._blendEquationState.modeAlpha===t||(this.gl.blendEquationSeparate(e,t),this._blendEquationState.mode=e,this._blendEquationState.modeAlpha=t,this._stateTracker.invalidateBlending())}},{key:"setColorMask",value:function(e,t,n,r){this._colorMaskState.r===e&&this._colorMaskState.g===t&&this._colorMaskState.b===n&&this._colorMaskState.a===r||(this.gl.colorMask(e,t,n,r),this._colorMaskState.r=e,this._colorMaskState.g=t,this._colorMaskState.b=n,this._colorMaskState.a=r,this._stateTracker.invalidateColorWrite())}},{key:"setClearColor",value:function(e,t,n,r){this._clearColor.r===e&&this._clearColor.g===t&&this._clearColor.b===n&&this._clearColor.a===r||(this.gl.clearColor(e,t,n,r),this._clearColor.r=e,this._clearColor.g=t,this._clearColor.b=n,this._clearColor.a=r)}},{key:"setFaceCullingEnabled",value:function(e){this._polygonCullingEnabled!==e&&(!0===e?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this._polygonCullingEnabled=e,this._stateTracker.invalidateCulling())}},{key:"setPolygonOffsetFillEnabled",value:function(e){this._polygonOffsetFillEnabled!==e&&(!0===e?this.gl.enable(this.gl.POLYGON_OFFSET_FILL):this.gl.disable(this.gl.POLYGON_OFFSET_FILL),this._polygonOffsetFillEnabled=e,this._stateTracker.invalidatePolygonOffset())}},{key:"setPolygonOffset",value:function(e,t){this._polygonOffset[0]===e&&this._polygonOffset[1]===t||(this._polygonOffset[0]=e,this._polygonOffset[1]=t,this.gl.polygonOffset(e,t),this._stateTracker.invalidatePolygonOffset())}},{key:"setCullFace",value:function(e){this._cullFace!==e&&(this.gl.cullFace(e),this._cullFace=e,this._stateTracker.invalidateCulling())}},{key:"setFrontFace",value:function(e){this._frontFace!==e&&(this.gl.frontFace(e),this._frontFace=e,this._stateTracker.invalidateCulling())}},{key:"setScissorTestEnabled",value:function(e){this._scissorTestEnabled!==e&&(!0===e?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this._scissorTestEnabled=e)}},{key:"setScissorRect",value:function(e,t,n,r){this._scissorRect.x===e&&this._scissorRect.y===t&&this._scissorRect.width===n&&this._scissorRect.height===r||(this.gl.scissor(e,t,n,r),this._scissorRect.x=e,this._scissorRect.y=t,this._scissorRect.width=n,this._scissorRect.height=r)}},{key:"setDepthTestEnabled",value:function(e){this._depthTestEnabled!==e&&(!0===e?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this._depthTestEnabled=e,this._stateTracker.invalidateDepthTest())}},{key:"setClearDepth",value:function(e){this._clearDepth!==e&&(this.gl.clearDepth(e),this._clearDepth=e)}},{key:"setDepthFunction",value:function(e){this._depthFunction!==e&&(this.gl.depthFunc(e),this._depthFunction=e,this._stateTracker.invalidateDepthTest())}},{key:"setDepthWriteEnabled",value:function(e){this._depthWriteEnabled!==e&&(this.gl.depthMask(e),this._depthWriteEnabled=e,this._stateTracker.invalidateDepthWrite())}},{key:"setDepthRange",value:function(e,t){this._depthRange.zNear===e&&this._depthRange.zFar===t||(this.gl.depthRange(e,t),this._depthRange.zNear=e,this._depthRange.zFar=t,this._stateTracker.invalidateDepthWrite())}},{key:"setStencilTestEnabled",value:function(e){this._stencilTestEnabled!==e&&(!0===e?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this._stencilTestEnabled=e,this._stateTracker.invalidateStencilTest())}},{key:"setClearStencil",value:function(e){e!==this._clearStencil&&(this.gl.clearStencil(e),this._clearStencil=e)}},{key:"setStencilFunction",value:function(e,t,n){this._stencilFunction.func===e&&this._stencilFunction.ref===t&&this._stencilFunction.mask===n||(this.gl.stencilFunc(e,t,n),this._stencilFunction.face=1032,this._stencilFunction.func=e,this._stencilFunction.ref=t,this._stencilFunction.mask=n,this._stateTracker.invalidateStencilTest())}},{key:"setStencilFunctionSeparate",value:function(e,t,n,r){this._stencilFunction.face===e&&this._stencilFunction.func===t&&this._stencilFunction.ref===n&&this._stencilFunction.mask===r||(this.gl.stencilFuncSeparate(e,t,n,r),this._stencilFunction.face=e,this._stencilFunction.func=t,this._stencilFunction.ref=n,this._stencilFunction.mask=r,this._stateTracker.invalidateStencilTest())}},{key:"setStencilWriteMask",value:function(e){this._stencilWriteMask!==e&&(this.gl.stencilMask(e),this._stencilWriteMask=e,this._stateTracker.invalidateStencilWrite())}},{key:"setStencilOp",value:function(e,t,n){this._stencilOperation.fail===e&&this._stencilOperation.zFail===t&&this._stencilOperation.zPass===n||(this.gl.stencilOp(e,t,n),this._stencilOperation.face=1032,this._stencilOperation.fail=e,this._stencilOperation.zFail=t,this._stencilOperation.zPass=n,this._stateTracker.invalidateStencilTest())}},{key:"setStencilOpSeparate",value:function(e,t,n,r){this._stencilOperation.face===e&&this._stencilOperation.fail===t&&this._stencilOperation.zFail===n&&this._stencilOperation.zPass===r||(this.gl.stencilOpSeparate(e,t,n,r),this._stencilOperation.face=e,this._stencilOperation.face=e,this._stencilOperation.fail=t,this._stencilOperation.zFail=n,this._stencilOperation.zPass=r,this._stateTracker.invalidateStencilTest())}},{key:"setActiveTexture",value:function(e){var t=this._activeTextureUnit;return e>=0&&e!==this._activeTextureUnit&&(this.gl.activeTexture(s+e),this._activeTextureUnit=e),t}},{key:"clear",value:function(e){e&&this.gl.clear(e)}},{key:"clearSafe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;e&&(16384&e&&this.setColorMask(!0,!0,!0,!0),256&e&&this.setDepthWriteEnabled(!0),1024&e&&this.setStencilWriteMask(t),this.gl.clear(e))}},{key:"drawArrays",value:function(e,t,n){this.gl.drawArrays(e,t,n)}},{key:"drawElements",value:function(e,t,n,r){5123!==n?5125===n&&this.gl.drawElements(e,t,n,r):this.gl.drawElements(e,t,n,r)}},{key:"logIno",value:function(){}},{key:"capabilities",get:function(){return this._capabilities}},{key:"setViewport",value:function(e,t,n,r){var i=this._viewport;i.x===e&&i.y===t&&i.width===n&&i.height===r||(i.x=e,i.y=t,i.width=n,i.height=r,this.gl.viewport(e,t,n,r))}},{key:"getViewport",value:function(){return{x:this._viewport.x,y:this._viewport.y,width:this._viewport.width,height:this._viewport.height}}},{key:"bindProgram",value:function(e){if(!e)return this.gl.useProgram(null),void(this._activeShaderProgram=null);this._activeShaderProgram!==e&&(e.initialize(),this.gl.useProgram(e.glName),this._activeShaderProgram=e)}},{key:"bindTexture",value:function(t,n){-1===e._MAX_TEXTURE_IMAGE_UNITS&&(e._MAX_TEXTURE_IMAGE_UNITS=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS)),(n>=e._MAX_TEXTURE_IMAGE_UNITS||n<0)&&console.error("Input texture unit is out of range of available units!");var r=this._textureUnitMap[n];if(this.setActiveTexture(n),null==t||null==t.glName)return null!=r&&(this.gl.bindTexture(r.descriptor.target,null),r.setBoundToUnit(n,!1)),void(this._textureUnitMap[n]=null);r&&r.id===t.id?t.applyChanges():(r&&r.setBoundToUnit(n,!1),this.gl.bindTexture(t.descriptor.target,t.glName),t.setBoundToUnit(n,!0),t.applyChanges(),this._textureUnitMap[n]=t)}},{key:"bindFramebuffer",value:function(e){if(Object(a.g)(e))return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),void(this._activeFramebuffer=null);this._activeFramebuffer!==e&&(e.initialize()||this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e.glName),this._activeFramebuffer=e)}},{key:"bindBuffer",value:function(t){t&&(34962===t.bufferType?this._activeVertexBuffer=e._bindBuffer(this.gl,t,t.bufferType,this._activeVertexBuffer):this._activeIndexBuffer=e._bindBuffer(this.gl,t,t.bufferType,this._activeIndexBuffer))}},{key:"bindRenderbuffer",value:function(e){var t=this.gl;e||(t.bindRenderbuffer(t.RENDERBUFFER,null),this._activeRenderbuffer=null),this._activeRenderbuffer!==e&&(t.bindRenderbuffer(t.RENDERBUFFER,e.glName),this._activeRenderbuffer=e)}},{key:"unbindBuffer",value:function(t){34962===t?this._activeVertexBuffer=e._bindBuffer(this.gl,null,t,this._activeVertexBuffer):this._activeIndexBuffer=e._bindBuffer(this.gl,null,t,this._activeIndexBuffer)}},{key:"bindVAO",value:function(e){e?this._activeVertexArrayObject&&this._activeVertexArrayObject.id===e.id||(e.bind(),this._activeVertexArrayObject=e):this._activeVertexArrayObject&&(this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null)}},{key:"getBoundTexture",value:function(e){return this._textureUnitMap[e]}},{key:"getBoundFramebufferObject",value:function(){return this._activeFramebuffer}},{key:"getBoundVAO",value:function(){return this._activeVertexArrayObject}},{key:"resetState",value:function(){this.bindProgram(null),this.bindVAO(null),this.bindFramebuffer(null),this.unbindBuffer(34962),this.unbindBuffer(34963);for(var e=0;e<this.parameters.maxTextureImageUnits;e++)this.bindTexture(null,e);this.setBlendingEnabled(!1),this.setBlendFunction(1,0),this.setBlendEquation(32774),this.setBlendColor(0,0,0,0),this.setFaceCullingEnabled(!1),this.setCullFace(1029),this.setFrontFace(2305),this.setPolygonOffsetFillEnabled(!1),this.setPolygonOffset(0,0),this.setScissorTestEnabled(!1),this.setScissorRect(0,0,this.gl.canvas.width,this.gl.canvas.height),this.setDepthTestEnabled(!1),this.setDepthFunction(513),this.setDepthRange(0,1),this.setStencilTestEnabled(!1),this.setStencilFunction(519,0,0),this.setStencilOp(7680,7680,7680),this.setClearColor(0,0,0,0),this.setClearDepth(1),this.setClearStencil(0),this.setColorMask(!0,!0,!0,!0),this.setStencilWriteMask(4294967295),this.setDepthWriteEnabled(!0),this.setViewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}},{key:"enforceState",value:function(){var e=this.gl,t=this.capabilities.vao;t&&t.bindVertexArray(null);for(var n=0;n<this.parameters.maxVertexAttributes;n++)e.disableVertexAttribArray(n);if(this._activeVertexBuffer?e.bindBuffer(this._activeVertexBuffer.bufferType,this._activeVertexBuffer.glName):e.bindBuffer(34962,null),this._activeIndexBuffer?e.bindBuffer(this._activeIndexBuffer.bufferType,this._activeIndexBuffer.glName):e.bindBuffer(34963,null),t&&this._activeVertexArrayObject){var r=this._activeVertexArrayObject;this._activeVertexArrayObject&&(this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null),this.bindVAO(r)}e.bindFramebuffer(e.FRAMEBUFFER,this._activeFramebuffer?this._activeFramebuffer.glName:null),e.useProgram(this._activeShaderProgram?this._activeShaderProgram.glName:null),e.blendColor(this._blendColorState.r,this._blendColorState.g,this._blendColorState.b,this._blendColorState.a),e.bindRenderbuffer(e.RENDERBUFFER,this._activeRenderbuffer?this._activeRenderbuffer.glName:null),!0===this._blendEnabled?e.enable(this.gl.BLEND):e.disable(this.gl.BLEND),e.blendEquationSeparate(this._blendEquationState.mode,this._blendEquationState.modeAlpha),e.blendFuncSeparate(this._blendFunctionState.srcRGB,this._blendFunctionState.dstRGB,this._blendFunctionState.srcAlpha,this._blendFunctionState.dstAlpha),e.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a),e.clearDepth(this._clearDepth),e.clearStencil(this._clearStencil),e.colorMask(this._colorMaskState.r,this._colorMaskState.g,this._colorMaskState.b,this._colorMaskState.a),e.cullFace(this._cullFace),e.depthFunc(this._depthFunction),e.depthRange(this._depthRange.zNear,this._depthRange.zFar),!0===this._depthTestEnabled?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),e.depthMask(this._depthWriteEnabled),e.frontFace(this._frontFace),e.lineWidth(1),!0===this._polygonCullingEnabled?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),e.polygonOffset(this._polygonOffset[0],this._polygonOffset[1]),!0===this._polygonOffsetFillEnabled?e.enable(e.POLYGON_OFFSET_FILL):e.disable(e.POLYGON_OFFSET_FILL),e.scissor(this._scissorRect.x,this._scissorRect.y,this._scissorRect.width,this._scissorRect.height),!0===this._scissorTestEnabled?e.enable(e.SCISSOR_TEST):e.disable(e.SCISSOR_TEST),e.stencilFunc(this._stencilFunction.func,this._stencilFunction.ref,this._stencilFunction.mask),e.stencilOpSeparate(this._stencilOperation.face,this._stencilOperation.fail,this._stencilOperation.zFail,this._stencilOperation.zPass),!0===this._stencilTestEnabled?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),e.stencilMask(this._stencilWriteMask);for(var i=0;i<this.parameters.maxTextureImageUnits;i++){e.activeTexture(s+i),e.bindTexture(3553,null);var a=this._textureUnitMap[i];a&&e.bindTexture(a.descriptor.target,a.glName)}e.activeTexture(s+this._activeTextureUnit),e.viewport(this._viewport.x,this._viewport.y,this._viewport.width,this._viewport.height)}}],[{key:"_bindBuffer",value:function(e,t,n,r){return t?r!==t&&e.bindBuffer(n,t.glName):e.bindBuffer(n,null),t}}]),e}();p._MAX_TEXTURE_IMAGE_UNITS=-1},function(e,t,n){"use strict";function r(){var e=new Float32Array(6);return e[0]=1,e[3]=1,e}function i(e,t,n,r){var i=t[r],a=t[r+1];e[r]=n[0]*i+n[2]*a+n[4],e[r+1]=n[1]*i+n[3]*a+n[5]}function a(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2,s=a||t.length/o,c=r;c<s;c++)i(e,t,n,c*o)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));Object.freeze({__proto__:null,create:r,clone:function(e){var t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},fromValues:function(e,t,n,r,i,a){var o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o[4]=i,o[5]=a,o},createView:function(e,t){return new Float32Array(e,t,6)},transform:i,transformMany:a})},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return C}));var r=n(24),i=n(67),a=n(9),o=n(263),s=n(292),c=n(90);function u(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function l(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>i.a?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function h(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],c=n[1],u=n[2],l=n[3];return e[0]=r*l+o*s+i*u-a*c,e[1]=i*l+o*c+a*s-r*u,e[2]=a*l+o*u+r*c-i*s,e[3]=o*l-r*s-i*c-a*u,e}function f(e,t,n,r){var a,o,s,c,u,l=t[0],h=t[1],f=t[2],d=t[3],p=n[0],b=n[1],v=n[2],y=n[3];return(o=l*p+h*b+f*v+d*y)<0&&(o=-o,p=-p,b=-b,v=-v,y=-y),1-o>i.a?(a=Math.acos(o),s=Math.sin(a),c=Math.sin((1-r)*a)/s,u=Math.sin(r*a)/s):(c=1-r,u=r),e[0]=c*l+u*p,e[1]=c*h+u*b,e[2]=c*f+u*v,e[3]=c*d+u*y,e}function d(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=a*s,e}function p(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function b(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*o+o]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*a+o]-t[3*o+a])*n,e[a]=(t[3*a+i]+t[3*i+a])*n,e[o]=(t[3*o+i]+t[3*i+o])*n}return e}var v=c.c,y=c.l,m=c.a,g=h,O=c.b,j=c.d,w=c.j,_=c.e,x=_,k=c.f,S=k,E=c.k,T=c.g,M=c.h;function C(e,t,n){var r=Object(a.e)(t,n);return r<-.999999?(Object(a.d)(A,P,t),Object(a.k)(A)<1e-6&&Object(a.d)(A,I,t),Object(a.o)(A,A),u(e,A,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(Object(a.d)(A,t,n),e[0]=A[0],e[1]=A[1],e[2]=A[2],e[3]=1+r,E(e,e))}var A=Object(r.e)(),P=Object(r.g)(1,0,0),I=Object(r.g)(0,1,0);var D=Object(s.a)(),L=Object(s.a)();var R=Object(o.a)();Object.freeze({__proto__:null,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},setAxisAngle:u,getAxisAngle:l,multiply:h,rotateX:function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*s,e[1]=i*c+a*s,e[2]=a*c-i*s,e[3]=o*c-r*s,e},rotateY:function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c-a*s,e[1]=i*c+o*s,e[2]=a*c+r*s,e[3]=o*c-i*s,e},rotateZ:function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c+i*s,e[1]=i*c-r*s,e[2]=a*c+o*s,e[3]=o*c-a*s,e},calculateW:function(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e},slerp:f,random:function(e){var t=Object(i.b)(),n=Object(i.b)(),r=Object(i.b)(),a=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*n),e[1]=a*Math.cos(2*Math.PI*n),e[2]=o*Math.sin(2*Math.PI*r),e[3]=o*Math.cos(2*Math.PI*r),e},invert:d,conjugate:p,fromMat3:b,fromEuler:function(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var a=Math.sin(t),o=Math.cos(t),s=Math.sin(n),c=Math.cos(n),u=Math.sin(r),l=Math.cos(r);return e[0]=a*c*l-o*s*u,e[1]=o*s*l+a*c*u,e[2]=o*c*u-a*s*l,e[3]=o*c*l+a*s*u,e},str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},copy:v,set:y,add:m,mul:g,scale:O,dot:j,lerp:w,length:_,len:x,squaredLength:k,sqrLen:S,normalize:E,exactEquals:T,equals:M,rotationTo:C,sqlerp:function(e,t,n,r,i,a){return f(D,t,i,a),f(L,n,r,a),f(e,D,L,2*a*(1-a)),e},setAxes:function(e,t,n,r){var i=R;return i[0]=n[0],i[3]=n[1],i[6]=n[2],i[1]=r[0],i[4]=r[1],i[7]=r[2],i[2]=-t[0],i[5]=-t[1],i[8]=-t[2],E(e,b(e,i))}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n(372),i=n(418),a=n(538),o={key:"type",base:r.a,typeMap:{algorithmic:i.a,multipart:a.a}};function s(e){return e&&e.type?"algorithmic"===e.type?i.a.fromJSON(e):"multipart"===e.type?a.a.fromJSON(e):null:null}},,function(e,t,n){"use strict";function r(e,t){if(t&&e&&e.map){var n=e.map;n.layers.find((function(e){return e===t}))||n.add(t)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(294),i=/\[([^\[\]]+)\]/gi;function a(e,t,n){var a=this;return e?e.map((function(e){var o=new r.a;if(o.read(e,n),o.labelExpression){var s=t.fields||t.layerDefinition&&t.layerDefinition.fields||a.fields;o.labelExpression=o.labelExpression.replace(i,(function(e,t){return"[".concat(function(e,t){if(!t)return e;for(var n=e.toLowerCase(),r=0;r<t.length;r++){var i=t[r].name;if(i.toLowerCase()===n)return i}return e}(t,s),"]")}))}return o})):null}},function(e,t,n){"use strict";var r=n(786);e.exports=Function.prototype.bind||r},function(e,t,n){"use strict";var r=n(523),i=n(637),a=i("%Function.prototype.apply%"),o=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(o,a),c=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(f){u=null}e.exports=function(e){var t=s(r,o,arguments);if(c&&u){var n=c(t,"length");n.configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var h=function(){return s(r,a,arguments)};u?u(e.exports,"apply",{value:h}):e.exports.apply=h},function(e,t,n){"use strict";n.r(t);var r=n(644);n.d(t,"ApplicationSession",(function(){return r.a}));var i=n(715);n.d(t,"UserSession",(function(){return i.a}));var a=n(303);n.d(t,"fetchToken",(function(){return a.a}));var o=n(373);n.d(t,"generateToken",(function(){return o.a}));var s=n(645);for(var c in s)["default","ApplicationSession","UserSession","fetchToken","generateToken"].indexOf(c)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(c);var u=n(646);n.d(t,"exchangeToken",(function(){return u.a})),n.d(t,"platformSelf",(function(){return u.b}));var l=n(462);n.d(t,"validateAppAccess",(function(){return l.a}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,i.default)(e).getTime(),o=(0,r.default)(t);return new Date(n+o)};var r=o(n(110)),i=o(n(75)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(1,arguments);var n=(0,i.default)(e,t),s=n.getUTCFullYear(),c=t||{},u=c.locale,l=u&&u.options&&u.options.firstWeekContainsDate,h=null==l?1:(0,r.default)(l),f=null==c.firstWeekContainsDate?h:(0,r.default)(c.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=new Date(0);d.setUTCFullYear(s+1,0,f),d.setUTCHours(0,0,0,0);var p=(0,a.default)(d,t),b=new Date(0);b.setUTCFullYear(s,0,f),b.setUTCHours(0,0,0,0);var v=(0,a.default)(b,t);return n.getTime()>=p.getTime()?s+1:n.getTime()>=v.getTime()?s:s-1};var r=s(n(110)),i=s(n(75)),a=s(n(442)),o=s(n(59));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,i.default)(e),o=(0,r.default)(t);if(isNaN(o))return new Date(NaN);if(!o)return n;return n.setDate(n.getDate()+o),n};var r=o(n(110)),i=o(n(75)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,i.default)(e),o=(0,r.default)(t);if(isNaN(o))return new Date(NaN);if(!o)return n;var s=n.getDate(),c=new Date(n.getTime());c.setMonth(n.getMonth()+o+1,0);var u=c.getDate();return s>=u?c:(n.setFullYear(c.getFullYear(),c.getMonth(),s),n)};var r=o(n(110)),i=o(n(75)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(1,arguments),(0,r.default)(e,{weekStartsOn:1})};var r=a(n(531)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var n=t||{},o=n.locale,s=o&&o.options&&o.options.weekStartsOn,c=null==s?0:(0,i.default)(s),u=null==n.weekStartsOn?c:(0,i.default)(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,r.default)(e),h=l.getDay(),f=(h<u?7:0)+h-u;return l.setDate(l.getDate()-f),l.setHours(0,0,0,0),l};var r=o(n(75)),i=o(n(110)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e);return t.setHours(0,0,0,0),t};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(37)),f=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).x=0,e.y=0,e}return Object(a.a)(n,[{key:"clone",value:function(){return new r({x:this.x,y:this.y})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:Number})],f.prototype,"x",void 0),Object(c.a)([Object(u.b)({type:Number})],f.prototype,"y",void 0);var d=f=r=Object(c.a)([Object(l.a)("esri.symbols.support.Symbol3DAnchorPosition2D")],f);t.b=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(3),a=n(4),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.values().next().value};Object(r.a)(this,e),this._peeker=t,this._items=new Set}return Object(i.a)(e,[{key:"length",get:function(){return this._items.size}},{key:"clear",value:function(){this._items.clear()}},{key:"peek",value:function(){if(0!==this._items.size)return this._peeker(this._items)}},{key:"push",value:function(e){this.contains(e)||this._items.add(e)}},{key:"contains",value:function(e){return this._items.has(e)}},{key:"pop",value:function(){if(0!==this.length){var e=this.peek();return this._items.delete(Object(a.c)(e)),e}}},{key:"remove",value:function(e){this._items.delete(e)}},{key:"filter",value:function(e){var t=this;return this._items.forEach((function(n){e(n)||t._items.delete(n)})),this}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n(10),i=n(13),a=n(12),o=n(120),s=n(65),c=n(371),u=n(512);function l(e){var t=e.toJSON();return t.attachmentTypes&&(t.attachmentTypes=t.attachmentTypes.join(",")),t.keywords&&(t.keywords=t.keywords.join(",")),t.globalIds&&(t.globalIds=t.globalIds.join(",")),t.objectIds&&(t.objectIds=t.objectIds.join(",")),t.size&&(t.size=t.size.join(",")),t}function h(e,t){var n,r={},s=Object(i.a)(e);try{for(s.s();!(n=s.n()).done;){var c,l=n.value,h=l.parentObjectId,f=l.parentGlobalId,d=l.attachmentInfos,p=Object(i.a)(d);try{for(p.s();!(c=p.n()).done;){var b=c.value,v=b.id,y=Object(a.b)(Object(o.a)("".concat(t,"/").concat(h,"/attachments/").concat(v))),m=u.a.fromJSON(b);m.set({url:y,parentObjectId:h,parentGlobalId:f}),r[h]?r[h].push(m):r[h]=[m]}}catch(g){p.e(g)}finally{p.f()}}}catch(g){s.e(g)}finally{s.f()}return r}function f(e,t,n){var i={query:Object(c.a)(Object(r.a)(Object(r.a)({},e.query),{},{f:"json"},l(t)))};return n&&(i=Object(r.a)(Object(r.a)(Object(r.a)({},n),i),{},{query:Object(r.a)(Object(r.a)({},n.query),i.query)})),Object(s.default)(e.path+"/queryAttachments",i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(2),n(3);var r=new(n(187).a);function i(e){var t=0===e?"highlight":"occludee";return{id:r.gen(t),channel:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(15);var r=n(4),i=n(494),a=n(174);function o(e){var t;if("graphics"!==(null==(t=e.layer)?void 0:t.type))return 1;var n=e.geometry;if(Object(r.g)(n))return 2;switch(n.type){case"polygon":if(n instanceof i.a)return 3;break;case"polyline":break;case"point":case"multipoint":case"extent":case"mesh":default:return 3}return"on-the-ground"!==Object(a.e)(e)&&Object(a.g)(e)?4:0}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(8),f=(n(12),n(21),n(22),n(372)),d=n(418),p=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).colorRamps=null,r.type="multipart",r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({colorRamps:Object(u.a)(this.colorRamps)})}}]),n}(f.a);Object(c.a)([Object(l.b)({type:[d.a],json:{write:!0}})],p.prototype,"colorRamps",void 0),Object(c.a)([Object(l.b)({type:["multipart"]})],p.prototype,"type",void 0);var b=p=r=Object(c.a)([Object(h.a)("esri.tasks.support.MultipartColorRamp")],p);t.a=b},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(23),i=n(101),a=n(4),o=n(282),s=n(20),c=new Set(["bing-maps","open-street-map","tile","unknown","unsupported","vector-tile","web-tile"]),u=new Set(["csv","feature","geo-rss","group","kml","tile","unknown","unsupported","vector-tile","web-tile"]);function l(e){return!("feature"!==e.type||e.url||!e.source||"memory"!==e.source.type)}function h(e,t){if(t.restrictedWebMapWriting){var n=function(e){return"basemap"===e.layerContainerType?c:"operational-layers"===e.layerContainerType?u:null}(t);return!Object(a.h)(n)||n.has(e.type)&&!l(e)}return!0}function f(e,t,n){if(!("write"in e)||!e.write)return n&&n.messages&&n.messages.push(new s.a("layer:unsupported","Layers (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' cannot be persisted"),{layer:e})),null;if(h(e,n)){var c={};return e.write(c,n)?c:null}return Object(a.h)(t)&&function(e,t){if(function(e,t){if(l(e)){var n=Object(i.b)("featureCollection.layers",t),r=n&&n[0]&&n[0].layerDefinition;r&&("maxScale"in e&&(r.maxScale=Object(o.b)(e.maxScale)),"minScale"in e&&(r.minScale=Object(o.b)(e.minScale)))}else"group"!==e.type&&("maxScale"in e&&(t.maxScale=Object(o.b)(e.maxScale)),"minScale"in e&&(t.minScale=Object(o.b)(e.minScale)))}(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=Object(o.b)(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type)if(l(e)){var n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}(e,t=Object(r.a)(t)),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"getPatternDescriptor",(function(){return T})),n.d(t,"getSymbolLayerFill",(function(){return E})),n.d(t,"previewSymbol3D",(function(){return D}));var r=n(7),i=n.n(r),a=n(10),o=n(16),s=(n(15),n(4)),c=n(14),u=n(20),l=n(17),h=n(36),f=n(479),d=n(84),p=n(480),b=n(320),v=n(408),y=n(272),m=n(181),g=n(156),O=n(421),j=Object(d.a)("esri/symbols/patterns/"),w=Object(d.a)("esri/images/Legend/legend3dsymboldefault.png"),_=c.a.getLogger("esri.symbols.support.previewSymbol3D");function x(e){var t=e.outline,n=Object(s.h)(e.material)?e.material.color:null,r=Object(s.h)(n)?n.toRgba().toString():null;if(Object(s.g)(t))return"fill"===e.type&&"255,255,255,1"===r?{color:"#bdc3c7",width:.75}:null;var i=Object(h.g)(t.size)||0;return{color:"rgba("+(Object(s.h)(t.color)?t.color.toRgba():"255,255,255,1")+")",width:Math.min(i,80)}}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.a,r=Object(b.b)(e),i=r.h,a=r.s/t,o=100-(100-r.v)/t,s=Object(b.d)({h:i,s:a,v:o}),c=s.r,u=s.g,l=s.b;return[c,u,l,n]}function S(e){return"water"===e.type?Object(s.g)(e.color)?null:e.color:Object(s.g)(e.material)||Object(s.g)(e.material.color)?null:e.material.color}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=S(e);if(!n){var r=y.a.r,i=Object(g.b)(r,t);return[i,i,i,100]}for(var a=n.toRgba(),o=0;o<3;o++)a[o]=Object(g.b)(a[o],t);return a}function T(e,t){return M.apply(this,arguments)}function M(){return(M=Object(o.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("none"!==(r=t.style)){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,Object(y.c)("".concat(j).concat(r,".png"),n.toCss(!0));case 5:return e.t0=e.sent,e.abrupt("return",{type:"pattern",x:0,y:0,src:e.t0,width:5,height:5});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return e.outline?x(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function A(e,t){var n=S(e);if(!n)return null;var r="rgba(";return r+=Object(g.b)(n.r,t)+",",r+=Object(g.b)(n.g,t)+",",(r+=Object(g.b)(n.b,t)+",")+n.a+");"}function P(e,t){var n=A(e,t);return n?{color:n,width:Math.min(e.size?Object(h.g)(e.size):.75,80)}:{}}function I(e,t,n){var r=.75*n;return{type:"linear",x1:r?.25*r:0,y1:r?.5*r:0,x2:r||4,y2:r?.5*r:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function D(e,t){if(0===e.symbolLayers.length)return Object(l.r)(new u.a("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));var n=null;switch(e.type){case"point-3d":n=function(e,t){var n,r=t&&t.size?Object(h.g)(t.size):null,i=t&&t.maxSize?Object(h.g)(t.maxSize):null,a=t&&t.disableUpsampling,o=e.symbolLayers,s=[],c=0,u=0,d=o.getItemAt(o.length-1);return d&&"icon"===d.type&&(n=d.size&&Object(h.g)(d.size)),o.forEach((function(o){if("icon"===o.type||"object"===o.type){var d="icon"===o.type?o.size&&Object(h.g)(o.size):0,b=r||d?Math.ceil(Math.min(r||d,i||120)):22;if(o&&o.resource&&o.resource.href){var y=function(e,t){var n=t&&t.resource,r=n&&n.href;return e.thumbnail&&e.thumbnail.url?Object(l.s)(e.thumbnail.url):r&&"object"!==t.type?Object(l.s)(Object(m.d)(e,t)):e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?Object(v.resolveWebStyleSymbol)(e.styleOrigin,{portal:e.styleOrigin.portal},"webRef").catch((function(e){return e})).then((function(e){return e&&e.thumbnail&&e.thumbnail.url||w})):Object(l.s)(w)}(e,o).then((function(e){var t=o.get("material.color"),n=function(e){return"icon"===e.type?"multiply":"tint"}(o);return Object(O.b)(e,b,t,n,a)})).then((function(e){var t=e.width,n=e.height;return c=Math.max(c,t),u=Math.max(u,n),[{shape:{type:"image",x:0,y:0,width:t,height:n,src:e.url},fill:null,stroke:null}]}));s.push(y)}else{var j,_=b;"icon"===o.type&&n&&r&&(_=b*(d/n));var k="tall"===(null==t?void 0:t.symbolConfig)||(null==t||null==(j=t.symbolConfig)?void 0:j.isTall)||"object"===o.type&&function(e){var t=e.depth,n=e.height,r=e.width;return r&&t&&n&&r===t&&r<n}(o);c=Math.max(c,k?20:_),u=Math.max(u,_),s.push(Object(l.s)(function(e,t,n){var r=[];if(!e)return r;switch(e.type){case"icon":var i=t,a=t;switch(e.resource&&e.resource.primitive||f.b){case"circle":r.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:E(e,0),stroke:x(e)});break;case"square":r.push({shape:{type:"path",path:[{command:"M",values:[0,a]},{command:"L",values:[0,0]},{command:"L",values:[i,0]},{command:"L",values:[i,a]},{command:"Z",values:[]}]},fill:E(e,0),stroke:x(e)});break;case"triangle":r.push({shape:{type:"path",path:[{command:"M",values:[0,a]},{command:"L",values:[.5*i,0]},{command:"L",values:[i,a]},{command:"Z",values:[]}]},fill:E(e,0),stroke:x(e)});break;case"cross":r.push({shape:{type:"path",path:[{command:"M",values:[.5*i,0]},{command:"L",values:[.5*i,a]},{command:"M",values:[0,.5*a]},{command:"L",values:[i,.5*a]}]},stroke:C(e)});break;case"x":r.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[i,a]},{command:"M",values:[i,0]},{command:"L",values:[0,a]}]},stroke:C(e)});break;case"kite":r.push({shape:{type:"path",path:[{command:"M",values:[0,.5*a]},{command:"L",values:[.5*i,0]},{command:"L",values:[i,.5*a]},{command:"L",values:[.5*i,a]},{command:"Z",values:[]}]},fill:E(e,0),stroke:x(e)})}break;case"object":switch(e.resource&&e.resource.primitive||p.b){case"cone":var o=I(E(e,0),E(e,-.6),n?20:t),s=Object(g.c)(t,n);r.push({shape:s[0],fill:o}),r.push({shape:s[1],fill:o});break;case"inverted-cone":var c=E(e,0),u=I(c,E(e,-.6),t),l=Object(g.h)(t);r.push({shape:l[0],fill:u}),r.push({shape:l[1],fill:c});break;case"cube":var h=Object(g.d)(t,n);r.push({shape:h[0],fill:E(e,0)}),r.push({shape:h[1],fill:E(e,-.3)}),r.push({shape:h[2],fill:E(e,-.5)});break;case"cylinder":var d=I(E(e,0),E(e,-.6),n?20:t),b=Object(g.e)(t,n);r.push({shape:b[0],fill:d}),r.push({shape:b[1],fill:d}),r.push({shape:b[2],fill:E(e,0)});break;case"diamond":var v=Object(g.f)(t);r.push({shape:v[0],fill:E(e,-.3)}),r.push({shape:v[1],fill:E(e,0)}),r.push({shape:v[2],fill:E(e,-.3)}),r.push({shape:v[3],fill:E(e,-.7)});break;case"sphere":var y=I(E(e,0),E(e,-.6));y.x1=0,y.y1=0,y.x2=.25*t,y.y2=.25*t,r.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:y});break;case"tetrahedron":var m=Object(g.j)(t);r.push({shape:m[0],fill:E(e,-.3)}),r.push({shape:m[1],fill:E(e,0)}),r.push({shape:m[2],fill:E(e,-.6)})}}return r}(o,_,k)))}}})),Object(l.i)(s).then((function(e){var n=[];return e.forEach((function(e){e.value?n.push(e.value):e.error&&_.warn("error while building swatchInfo!",e.error)})),Object(O.a)(n,[c,u],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}(e,t);break;case"line-3d":n=function(e,t){var n,r=e.symbolLayers,i=[],o=Object(m.f)(e),s=t&&t.size?Object(h.g)(t.size):null,c=(t&&t.maxSize?Object(h.g)(t.maxSize):null)||80,u=0,f=0;return r.forEach((function(e,t){if(e&&("line"===e.type||"path"===e.type)){var r=[];switch(e.type){case"line":var o=P(e,0),l=o&&o.width||0;0===t&&(n=l);var h=Math.min(s||l,c),d=0===t?h:s?h*(l/n):h,p=d>20?2*d:40;f=Math.max(f,d),u=Math.max(u,p),o.width=d,r.push({shape:{type:"path",path:[{command:"M",values:[0,.5*f]},{command:"L",values:[u,.5*f]}]},stroke:o});break;case"path":var b=Math.min(s||22,c),v=E(e,0),y=E(e,-.2),m=A(e,-.4),O=m?{color:m,width:1}:{};if("quad"===e.profile){var j=e.width||e.size,w=e.height||e.size,_=Object(g.i)(j&&w?j/w:1),x=Object(a.a)(Object(a.a)({},O),{},{join:"bevel"});r.push({shape:_[0],fill:y,stroke:x}),r.push({shape:_[1],fill:y,stroke:x}),r.push({shape:_[2],fill:v,stroke:x})}else r.push({shape:g.l.pathSymbol3DLayer[0],fill:y,stroke:O}),r.push({shape:g.l.pathSymbol3DLayer[1],fill:v,stroke:O});f=Math.max(f,b),u=f}i.push(r)}})),Object(l.s)(Object(O.a)(i,[u,f],{node:t&&t.node,scale:o,opacity:t&&t.opacity}))}(e,t);break;case"polygon-3d":case"mesh-3d":n=function(){var e=Object(o.a)(i.a.mark((function e(t,n){var r,o,c,u,f,d,p,b,v,y,m,j,w,_,M,C,A,I,D,L,R,N,F,z,V,U,B,G,q,H,W;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="mesh-3d"===t.type,o=t.symbolLayers,c=n&&n.size?Object(h.g)(n.size):null,u=n&&n.maxSize?Object(h.g)(n.maxSize):null,f=c||22,d=[],p=0,b=0,v=!1,y=0;case 3:if(!(y<o.length)){e.next=39;break}if(m=o.getItemAt(y),j=[],!r||"fill"===m.type){e.next=7;break}return e.abrupt("continue",36);case 7:w=g.l.fill[0],e.t0=m.type,e.next="fill"===e.t0?11:"line"===e.t0?22:"extrude"===e.t0?25:"water"===e.t0?30:35;break;case 11:if(_=x(m),M=Math.min(f,u||120),p=Math.max(p,M),b=Math.max(b,M),v=!0,C=E(m,0),A="pattern"in m&&m.pattern,I=S(m),e.t1=!r&&Object(s.h)(A)&&"style"===A.type&&"solid"!==A.style&&I,!e.t1){e.next=20;break}return e.next=19,T(A,I);case 19:C=e.sent;case 20:return j.push({shape:w,fill:C,stroke:_}),e.abrupt("break",35);case 22:return D={stroke:P(m,0),shape:w},p=Math.max(p,22),b=Math.max(b,22),j.push(D),e.abrupt("break",35);case 25:return L=Object(a.a)({join:"round"},P(m,-.4)),R=E(m,0),N=E(m,-.2),F=Math.min(f,u||120),z=Object(g.g)(F),L.width=1,j.push({shape:z[0],fill:N,stroke:L}),j.push({shape:z[1],fill:N,stroke:L}),j.push({shape:z[2],fill:R,stroke:L}),22,V=22*.7+.5*F,p=Math.max(p,22),b=Math.max(b,V),e.abrupt("break",35);case 30:return U=S(m),B=k(U),G=k(U,2),q=k(U,3),H=Object(g.k)(),v=!0,j.push({shape:H[0],fill:B}),j.push({shape:H[1],fill:G}),j.push({shape:H[2],fill:q}),W=Math.min(f,u||120),p=Math.max(p,W),b=Math.max(b,W),e.abrupt("break",35);case 35:d.push(j);case 36:y++,e.next=3;break;case 39:return e.abrupt("return",Object(l.s)(Object(O.a)(d,[p,b],{node:n&&n.node,scale:v,opacity:n&&n.opacity})));case 40:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(e,t)}return n||Object(l.r)(new u.a("symbolPreview: swatchInfo3D","symbol not supported."))}},function(e,t,n){"use strict";function r(e){return"string"!==typeof e||"/"===(e=e.trim())[e.length-1]&&(e=e.slice(0,-1)),e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(100)),i=o(n(19)),a=n(351);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){e.children;var t=e.src,n=e.alt,r=e.imageStyle,o=s(e,["children","src","alt","imageStyle"]);return i.default.createElement(a.StyledTopNavBrandLink,o,i.default.createElement(a.StyledTopNavBrandImg,{src:t,alt:n,style:r}))};c.propTypes={src:r.default.node,alt:r.default.node,imageStyle:r.default.object},c.defaultProps={alt:"Logo"},c.displayName="TopNavBrand";var u=c;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(100)),i=o(n(19)),a=n(351);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.children,n=s(e,["children"]);return i.default.createElement(a.StyledTopNavTitle,n,t)};c.propTypes={children:r.default.node,href:r.default.string},c.defaultProps={},c.displayName="TopNavTitle";var u=c;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(100)),i=o(n(19)),a=n(351);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.children,n=s(e,["children"]);return i.default.createElement(a.StyledTopNavList,n,t)};c.propTypes={children:r.default.node},c.defaultProps={},c.displayName="TopNavList";var u=c;t.default=u},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=!0,i=200},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(136),i=n(182),a=n(19),o=n.n(a),s=n(219),c=(n(100),n(69)),u=n(155),l=n(201),h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return o.a.createElement(r.c,{history:this.history,children:this.props.children})},t}(o.a.Component);o.a.Component;var f=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},b=o.a.forwardRef;"undefined"===typeof b&&(b=p);var v=b((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=Object(u.a)(e,["innerRef","navigate","onClick"]),s=a.target,l=Object(c.a)({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==b&&t||n,o.a.createElement("a",l)}));var y=b((function(e,t){var n=e.component,i=void 0===n?v:n,a=e.replace,s=e.to,h=e.innerRef,y=Object(u.a)(e,["component","replace","to","innerRef"]);return o.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=d(f(s,e.location),e.location),u=r?n.createHref(r):"",v=Object(c.a)({},y,{href:u,navigate:function(){var t=f(s,e.location);(a?n.replace:n.push)(t)}});return p!==b?v.ref=t||h:v.innerRef=h,o.a.createElement(i,v)}))})),m=function(e){return e},g=o.a.forwardRef;"undefined"===typeof g&&(g=m);g((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.activeClassName,s=void 0===a?"active":a,h=e.activeStyle,p=e.className,b=e.exact,v=e.isActive,O=e.location,j=e.sensitive,w=e.strict,_=e.style,x=e.to,k=e.innerRef,S=Object(u.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=O||e.location,a=d(f(x,n),n),u=a.pathname,E=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),T=E?Object(r.e)(n.pathname,{path:E,exact:b,sensitive:j,strict:w}):null,M=!!(v?v(T,n):T),C=M?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,s):p,A=M?Object(c.a)({},_,{},h):_,P=Object(c.a)({"aria-current":M&&i||null,className:C,style:A,to:a},S);return m!==g?P.ref=t||k:P.innerRef=k,o.a.createElement(y,P)}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return kt}));var r,i,a=n(10),o=n(2),s=n(3),c=n(5),u=n(6),l=n(0),h=(n(15),n(14)),f=n(18),d=n(1),p=n(8),b=(n(12),n(21),n(22),n(37)),v=n(131),y=n(105),m=n(460),g=n(7),O=n.n(g),j=n(16),w=n(40),_=n(61),x=n(57),k=n(4),S=n(41),E=n(20),T=n(17),M=n(177),C=n(54),A=n(48),P=n(74),I=n(86),D=n(39),L=n(247),R=n(129),N=n(264),F=n(62),z=n(255),V=n(13),U=n(186),B=n(23),G=n(35),q=n(27),H=n(43),W=n(214),Y=n(180),J=n(434),K=n(45),X=r=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).type="none",r}return Object(s.a)(n,[{key:"clone",value:function(){return new r({type:this.type})}}]),n}(q.a);Object(l.a)([Object(K.a)({none:"none",stayAbove:"stay-above"})],X.prototype,"type",void 0),X=r=Object(l.a)([Object(p.a)("esri.ground.NavigationConstraint")],X);var Q=h.a.getLogger("esri.Ground"),Z=i=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(e){var n;Object(o.a)(this,r),(n=t.call(this,e)).opacity=1,n.surfaceColor=null,n.navigationConstraint=null,n.layers=new D.a;return n.layers.on("after-add",(function(e){return function(e){e.parent&&e.parent!==Object(w.a)(n)&&"remove"in e.parent&&e.parent.remove(e),e.parent=Object(w.a)(n),"elevation"!==e.type&&"base-elevation"!==e.type&&Q.error("Layer '".concat(e.title,", id:").concat(e.id,"' of type '").concat(e.type,"' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported."))}(e.item)})),n.layers.on("after-remove",(function(e){e.item.parent=null})),n}return Object(s.a)(r,[{key:"initialize",value:function(){this.when().catch((function(e){Q.error("#load()","Failed to load ground",e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}},{key:"destroy",value:function(){var e,t=this.layers.removeAll(),n=Object(V.a)(t);try{for(n.s();!(e=n.n()).done;){e.value.destroy()}}catch(r){n.e(r)}finally{n.f()}this.layers.destroy()}},{key:"normalizeCtorArgs",value:function(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=Object(a.a)({},e)).resourceInfo),e}},{key:"layers",set:function(e){this._set("layers",Object(Y.b)(e,this._get("layers")))}},{key:"writeLayers",value:function(e,t,n,r){var i=[];e?(r=Object(a.a)(Object(a.a)({},r),{},{layerContainerType:"ground"}),e.forEach((function(e){if("write"in e){var t={};Object(U.b)(e)().write(t,r)&&i.push(t)}else r&&r.messages&&r.messages.push(new E.a("layer:unsupported","Layers (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' cannot be persisted in the ground"),{layer:e}))})),t.layers=i):t.layers=i}},{key:"load",value:function(e){return this.addResolvingPromise(this._loadFromSource(e)),Object(T.s)(this)}},{key:"loadAll",value:function(){var e=this;return Object(J.a)(this,(function(t){t(e.layers)}))}},{key:"queryElevation",value:function(){var e=Object(j.a)(O.a.mark((function e(t,r){var i,a,o,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load({signal:null==r?void 0:r.signal});case 2:return e.next=4,n.e(6).then(n.bind(null,1234));case 4:return i=e.sent,a=i.ElevationQuery,Object(T.u)(r),o=new a,s=this.layers.filter($).toArray(),e.abrupt("return",o.queryAll(s,t,r));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createElevationSampler",value:function(){var e=Object(j.a)(O.a.mark((function e(t,r){var i,a,o,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load({signal:null==r?void 0:r.signal});case 2:return e.next=4,n.e(6).then(n.bind(null,1234));case 4:return i=e.sent,a=i.ElevationQuery,Object(T.u)(r),o=new a,s=this.layers.filter($).toArray(),e.abrupt("return",o.createSamplerAll(s,t,r));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clone",value:function(){var e={opacity:this.opacity,surfaceColor:Object(B.a)(this.surfaceColor),navigationConstraint:Object(B.a)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new i({resourceInfo:this.resourceInfo}).set(e)}},{key:"read",value:function(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),Object(_.a)(Object(x.a)(r.prototype),"read",this).call(this,e,t)}},{key:"_loadFromSource",value:function(e){var t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Object(T.s)(null)}},{key:"_loadLayersFromJSON",value:function(e,t,r){var i=this,a=t&&t.origin||"web-scene",o=t&&t.portal||null,s=t&&t.url||null;return n.e(16).then(n.bind(null,970)).then((function(t){var n=t.populateOperationalLayers;Object(T.u)(r);var c=[];if(e.layers&&Array.isArray(e.layers)){var u={context:{origin:a,url:s,portal:o,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};c.push(n(i.layers,e.layers,u))}return Object(T.i)(c)})).then((function(){}))}}]),r}(Object(q.b)(R.a));function $(e){return"elevation"===e.type||function(e){return e&&"createElevationSampler"in e}(e)}Object(l.a)([Object(d.b)({json:{read:!1}})],Z.prototype,"layers",null),Object(l.a)([Object(G.a)("layers")],Z.prototype,"writeLayers",null),Object(l.a)([Object(d.b)({readOnly:!0})],Z.prototype,"resourceInfo",void 0),Object(l.a)([Object(d.b)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:f.a,read:{reader:W.b,source:"transparency"},write:{writer:function(e,t){t.transparency=Object(W.a)(e)},target:"transparency"}}})],Z.prototype,"opacity",void 0),Object(l.a)([Object(d.b)({type:H.a,json:{type:[f.a],write:function(e,t){t.surfaceColor=e.toJSON().slice(0,3)}}})],Z.prototype,"surfaceColor",void 0),Object(l.a)([Object(d.b)({type:X,json:{write:!0}})],Z.prototype,"navigationConstraint",void 0);var ee=Z=i=Object(l.a)([Object(p.a)("esri.Ground")],Z),te=n(382),ne=h.a.getLogger("esri.support.groundUtils"),re={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var ie=n(625),ae=n(626),oe=h.a.getLogger("esri.Map"),se=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).allLayers=new N.a({root:Object(w.a)(r),rootCollectionNames:["basemap.baseLayers","ground.layers","layers","basemap.referenceLayers"],getChildrenFunction:function(e){return e.layers}}),r.allTables=r._createTablesFlattener(Object(w.a)(r)),r.basemap=null,r.ground=new ee,r._basemapCache=Object(te.b)(),r}return Object(s.a)(n,[{key:"destroy",value:function(){var e,t;this.allLayers.destroy(),this.allTables.destroy(),null==(e=this.ground)||e.destroy(),null==(t=this.basemap)||t.destroy(),Object(te.c)(this._basemapCache),this._basemapCache=null}},{key:"castBasemap",value:function(e){return Object(te.d)(e,this._basemapCache)}},{key:"castGround",value:function(e){return function(e){var t;return"string"==typeof e?e in re?t=new ee({resourceInfo:{data:{layers:[re[e]]}}}):ne.warn("Unable to find ground definition for: ".concat(e,'. Try "world-elevation"')):t=Object(f.m)(ee,e),t}(e)||(oe.error("Map.ground may not be set to null or undefined"),this._get("ground"))}},{key:"findLayerById",value:function(e){return this.allLayers.find((function(t){return t.id===e}))}},{key:"findTableById",value:function(e){return this.allTables.find((function(t){return t.id===e}))}},{key:"_createTablesFlattener",value:function(e){var t=this;return new N.a({root:e,rootCollectionNames:["tables","layers"],getChildrenFunction:function(e){return e&&"group"===e.type?t._createTablesFlattener(e):null},itemFilterFunction:function(e){return t._isMapOrGroupLayer(e.parent)&&e.parent.tables.includes(e)}})}},{key:"_isMapOrGroupLayer",value:function(e){return e&&(e===this||this._isGroupLayer(e))}},{key:"_isGroupLayer",value:function(e){return e&&"group"===e.type}}]),n}(Object(ae.a)(Object(ie.a)(I.a.EventedMixin(b.a))));Object(l.a)([Object(d.b)({readOnly:!0,dependsOn:[],autoTracked:!1})],se.prototype,"allLayers",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],se.prototype,"allTables",void 0),Object(l.a)([Object(d.b)({type:z.default})],se.prototype,"basemap",void 0),Object(l.a)([Object(F.a)("basemap")],se.prototype,"castBasemap",null),Object(l.a)([Object(d.b)({type:ee,nonNullable:!0})],se.prototype,"ground",void 0),Object(l.a)([Object(F.a)("ground")],se.prototype,"castGround",null);var ce=se=Object(l.a)([Object(p.a)("esri.Map")],se),ue=n(194),le=n(29),he=n(231),fe=n(369),de=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).view=null,r.baseLayerViews=new D.a,r.referenceLayerViews=new D.a,r._loadingHandle=Object(le.a)(Object(w.a)(r),"view.map.basemap",(function(e){e&&e.load().catch((function(){}))})),r}return Object(s.a)(n,[{key:"destroy",value:function(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}},{key:"suspended",get:function(){return!this.view||this.view.suspended}},{key:"updating",get:function(){return(!this.view||!this.view.suspended)&&!(!(this.view&&this.view.map&&this.view.map.basemap)||this.view.map.basemap.loaded)}}]),n}(b.a);Object(l.a)([Object(d.b)({constructOnly:!0})],de.prototype,"view",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],de.prototype,"baseLayerViews",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],de.prototype,"referenceLayerViews",void 0),Object(l.a)([Object(d.b)({readOnly:!0,dependsOn:["view.suspended"]})],de.prototype,"suspended",null),Object(l.a)([Object(d.b)({type:Boolean,readOnly:!0,dependsOn:["view.suspended","view.map.basemap.loaded"]})],de.prototype,"updating",null),de=Object(l.a)([Object(p.a)("esri.views.BasemapView")],de);var pe=n(32),be=n(38),ve=n(366),ye=n(437),me=h.a.getLogger("esri.views.LayerViewManager"),ge=function(){function e(t,n,r){var i=this;Object(o.a)(this,e),this.layer=t,this.view=n,this.layerViewImporter=r,this._controller=Object(T.d)(),this._deferred=Object(T.f)(),this._started=!1,this.done=!1,Object(T.p)(this._controller.signal,(function(){var e=new E.a("cancelled:layerview-create","layerview creation cancelled",{layer:t});i._deferred.reject(e)}))}return Object(s.a)(e,[{key:"promise",get:function(){return this._deferred.promise}},{key:"destroy",value:function(){this._controller.abort();var e=this.layerView;if(e){var t=this.layer,n=this.view;t.emit("layerview-destroy",{view:n,layerView:e}),n.emit("layerview-destroy",{layer:t,layerView:e}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}}},{key:"start",value:function(){var e=Object(j.a)(O.a.mark((function e(){var t,n,r,i,a,o,s,c,u,l=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._started){e.next=2;break}return e.abrupt("return");case 2:return this._started=!0,t=this._controller.signal,n=this.layer,r=this.view,this._map=r.map,e.prev=5,e.next=8,n.load({signal:t});case 8:if(e.t0="prefetchResources"in n,!e.t0){e.next=12;break}return e.next=12,n.prefetchResources({signal:t});case 12:if(!n.createLayerView){e.next=18;break}return e.next=15,n.createLayerView(r,{signal:t});case 15:o=e.sent,e.next=24;break;case 18:if(this.layerViewImporter.hasLayerViewModule(n)){e.next=20;break}throw new E.a("layer:view-not-supported","No layerview implementation was found");case 20:return e.next=22,this.layerViewImporter.importLayerView(n);case 22:c=e.sent,Object(T.u)(t),o="default"in c?new c.default({layer:n,view:r}):new c({layer:n,view:r});case 24:return u=function(){s=Object(k.m)(s),o.destroy(),o.layer=null,o.parent=null,o.view=null,l.done=!0},s=Object(T.p)(t,u),Object(T.u)(t),e.prev=26,e.next=29,o.when();case 29:e.next=34;break;case 31:throw e.prev=31,e.t1=e.catch(26),u(),e.t1;case 34:if(null==(i=this._map)||null==(a=i.allLayers)?void 0:a.includes(n)){e.next=36;break}return e.abrupt("return",(u(),void this._deferred.reject(new E.a("view:no-layerview-for-layer","The layer has been removed from the map",{layer:n}))));case 36:this.layerView=o,n.emit("layerview-create",{view:r,layerView:o}),r.emit("layerview-create",{layer:n,layerView:o}),this.done=!0,this._deferred.resolve(o),e.next=42;break;case 39:e.prev=39,e.t2=e.catch(5),n.emit("layerview-create-error",{view:r,error:e.t2}),r.emit("layerview-create-error",{layer:n,error:e.t2}),this.done=!0,this._deferred.reject(new E.a("layerview:create-error","layerview creation failed",{layer:n,error:e.t2}));case 42:case"end":return e.stop()}}),e,this,[[5,39],[26,31]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Oe=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e))._layerLayerViewInfoMap=new Map,r._watchUpdatingTracking=new ve.a,r.supportsGround=!0,r._preloadLayerViewModules=function(){var e,t=null==(e=r.view.map)?void 0:e.allLayers;if(t){var n,i=Object(V.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.layerViewImporter.hasLayerViewModule(a)&&r.layerViewImporter.importLayerView(a)}}catch(o){i.e(o)}finally{i.f()}}},r._reschedule=function(){return Object(k.g)(r._workPromise)&&(r._workPromise=Object(T.f)()),r.handles.remove("reschedule"),r.handles.add(Object(M.b)(r._doWork),"reschedule"),r._workPromise.promise},r._doWork=function(){var e,t,n,i=r.view.map;if(r._map!==i&&(r.clear(),r._map=i),Object(k.g)(r._workPromise))r.notifyChange("updating");else{r.handles.remove("reschedule"),r.handles.remove("collection-change");var a=new N.a({root:Object(w.a)(r),rootCollectionNames:r._rootCollectionNames,getChildrenFunction:function(e){return e.layers}});if(!a)return r._workPromise.resolve(),void(r._workPromise=null);var o,s=Object(V.a)(a);try{for(s.s();!(o=s.n()).done;){var c=o.value;r._createLayerView(c)}}catch(v){s.e(v)}finally{s.f()}r._refreshCollections();var u,l=Object(V.a)(r._layerLayerViewInfoMap);try{for(l.s();!(u=l.n()).done;){var h=Object(pe.a)(u.value,2),f=h[0],d=h[1];a.includes(f)||(r._layerLayerViewInfoMap.delete(d.layer),d.destroy())}}catch(v){l.e(v)}finally{l.f()}var p=a.filter((function(e){return"group"===e.type})).map((function(e){return e.layers})),b=[null==i||null==(e=i.ground)?void 0:e.layers,null==i||null==(t=i.basemap)?void 0:t.baseLayers,null==i||null==(n=i.basemap)?void 0:n.referenceLayers,null==i?void 0:i.layers].concat(Object(be.a)(p)).filter((function(e){return!!e}));r.handles.add(b.map((function(e){return r._watchUpdatingTracking.addOnCollectionChange(e,r._reschedule)})),"collection-change"),r._workPromise.resolve(),r._workPromise=null}},r}return Object(s.a)(n,[{key:"initialize",value:function(){this.handles.add([Object(le.b)(this,"view.map.allLayers","change",this._preloadLayerViewModules,this._preloadLayerViewModules),Object(le.a)(this.view,["map.basemap","map.ground","map.layers","ready"],this._reschedule,!0)]),this._preloadLayerViewModules(),this._reschedule()}},{key:"destroy",value:function(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}},{key:"_layersToLayerViews",get:function(){var e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}},{key:"_rootCollectionNames",get:function(){return Array.from(this._layersToLayerViews.keys())}},{key:"updating",get:function(){return!(!Object(k.h)(this._workPromise)&&!this._watchUpdatingTracking.updating)||Object(ye.a)(this._layerLayerViewInfoMap,(function(e){return!e.done}))}},{key:"clear",value:function(){if(!this.destroyed){var e,t=Object(V.a)(this._layerLayerViewInfoMap.values());try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}},{key:"whenLayerView",value:function(){var e=Object(j.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._reschedule();case 2:return e.abrupt("return",this._layerLayerViewInfoMap.has(t)?this._layerLayerViewInfoMap.get(t).promise:Object(T.r)(new E.a("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_refreshCollections",value:function(){var e,t=Object(V.a)(this._layersToLayerViews);try{for(t.s();!(e=t.n()).done;){var n=Object(pe.a)(e.value,2),r=n[0],i=n[1];this._populateLayerViewsOwners(this.get(r),this.get(i),this.view)}}catch(a){t.e(a)}finally{t.f()}this.notifyChange("updating")}},{key:"_populateLayerViewsOwners",value:function(e,t,n){if(e&&t){var r,i=0,a=Object(V.a)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=this._layerLayerViewInfoMap.get(o);if(s&&s.layerView){var c=s.layerView;c.layer=o,c.parent=n,t.getItemAt(i)!==c&&t.splice(i,0,c),o.layers&&this._populateLayerViewsOwners(o.layers,c.layerViews,c),i+=1}}}catch(u){a.e(u)}finally{a.f()}i<t.length&&t.splice(i,t.length)}else t&&t.removeAll()}},{key:"_createLayerView",value:function(e){var t=this;if(this._layerLayerViewInfoMap.has(e))return this.view.ready&&this._layerLayerViewInfoMap.get(e).start(),void this.notifyChange("updating");e.load().catch((function(){})),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);var n=new ge(e,this.view,this.layerViewImporter);n.promise.then((function(){return t._refreshCollections()}),(function(n){var r,i;n&&(Object(T.l)(n)||"cancelled:layerview-create"===n.name)||me.error("Failed to create layerview for layer title:'".concat(null!=(r=e.title)?r:"no title","', id:'").concat(null!=(i=e.id)?i:"no id","' of type '").concat(e.type,"'."),{layer:e,error:n}),t._refreshCollections()})),this._layerLayerViewInfoMap.set(e,n),this.view.ready&&n.start(),this.notifyChange("updating")}}]),n}(y.a);Object(l.a)([Object(d.b)()],Oe.prototype,"_workPromise",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],Oe.prototype,"_watchUpdatingTracking",void 0),Object(l.a)([Object(d.b)({dependsOn:["supportsGround"],readOnly:!0})],Oe.prototype,"_layersToLayerViews",null),Object(l.a)([Object(d.b)({dependsOn:["_layersToLayerViews"],readOnly:!0})],Oe.prototype,"_rootCollectionNames",null),Object(l.a)([Object(d.b)()],Oe.prototype,"layerViewImporter",void 0),Object(l.a)([Object(d.b)()],Oe.prototype,"supportsGround",void 0),Object(l.a)([Object(d.b)({readOnly:!0,dependsOn:["_workPromise","_watchUpdatingTracking.updating"]})],Oe.prototype,"updating",null),Object(l.a)([Object(d.b)({constructOnly:!0})],Oe.prototype,"view",void 0);var je=Oe=Object(l.a)([Object(p.a)("esri.views.LayerViewManager")],Oe),we=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).factor=1.5,r.offsetX=0,r.offsetY=0,r.position=null,r.size=120,r.mask=null,r.maskEnabled=!0,r.overlay=null,r.overlayEnabled=!0,r.visible=!1,r}return Object(s.a)(n,[{key:"version",get:function(){return this.factor,this.offsetX,this.offsetY,this.position,this.visible,this.size,this.mask,this.maskEnabled,this.overlay,this.overlayEnabled,(this._get("version")||0)+1}}]),n}(b.a);Object(l.a)([Object(d.b)({type:Number})],we.prototype,"factor",void 0),Object(l.a)([Object(d.b)({type:Number})],we.prototype,"offsetX",void 0),Object(l.a)([Object(d.b)({type:Number})],we.prototype,"offsetY",void 0),Object(l.a)([Object(d.b)()],we.prototype,"position",void 0),Object(l.a)([Object(d.b)({type:Number,range:{min:0}})],we.prototype,"size",void 0),Object(l.a)([Object(d.b)()],we.prototype,"mask",void 0),Object(l.a)([Object(d.b)()],we.prototype,"maskEnabled",void 0),Object(l.a)([Object(d.b)()],we.prototype,"overlay",void 0),Object(l.a)([Object(d.b)()],we.prototype,"overlayEnabled",void 0),Object(l.a)([Object(d.b)({readOnly:!0,dependsOn:["factor","offsetX","offsetY","position","visible","mask","overlay","maskEnabled","overlayEnabled","size"]})],we.prototype,"version",null),Object(l.a)([Object(d.b)({type:Boolean})],we.prototype,"visible",void 0);var _e=we=Object(l.a)([Object(p.a)("esri.views.Magnifier")],we),xe=n(60);function ke(e){return"refresh"in e}var Se=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments))._handles=new xe.a,e._currentTick=0,e}return Object(s.a)(n,[{key:"initialize",value:function(){var e=this;this._handles.add([this.view.allLayerViews.on("after-changes",(function(){e.notifyChange("tickInterval"),e._handles.remove("layerViewsUpdating"),e._handles.add(e._getLayerViewHandles(),"layerViewsUpdating")})),this.watch("tickInterval",(function(){return e._restartTicking()})),this.watch("view.ready",(function(){return e._restartTicking()}))]),this._restartTicking()}},{key:"destroy",value:function(){this._handles&&(this._handles.destroy(),this._handles=null,this._intervalID&&clearInterval(this._intervalID),this._currentTick=0)}},{key:"tickInterval",get:function(){var e=this.view.allLayerViews.filter((function(e){return ke(e)}));return this._getCommonInterval(e)}},{key:"_restartTicking",value:function(){var e=this;this._currentTick=0,this._intervalID&&clearInterval(this._intervalID),this.get("view.ready")&&this.tickInterval&&(this._intervalID=setInterval((function(){var t=Date.now();e._currentTick+=e.tickInterval,e.view.allLayerViews.forEach((function(n){if(ke(n)){var r=Math.round(6e4*n.refreshInterval),i=e._currentTick%r==0,a=t-n.refreshTimestamp<5400;r&&i&&!a&&n.refresh(t)}}))}),this.tickInterval))}},{key:"_getLayerViewHandles",value:function(){var e=this,t=[],n=function(){return e.notifyChange("tickInterval")};return this.view.allLayerViews.forEach((function(e){ke(e)&&e.layer&&t.push(e.watch("refreshInterval",n),e.layer.on("refresh",(function(){e.refresh(Date.now())})))})),t}},{key:"_getCommonInterval",value:function(e){var t=function e(t,n){return isNaN(t)||isNaN(n)?0:n<=0?t:e(n,t%n)};return e.toArray().reduce((function(e,n){return t(Math.round(6e4*n.refreshInterval),e)}),0)}}]),n}(b.a);Object(l.a)([Object(d.b)()],Se.prototype,"view",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],Se.prototype,"tickInterval",null);var Ee=Se=Object(l.a)([Object(p.a)("esri.views.RefreshManager")],Se),Te=n(44),Me=n(36),Ce=n(378),Ae=n(47),Pe=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],Ie={};function De(e){return!!Ie[e]}Pe.forEach((function(e){Ie[e]=!0}));var Le=function(){function e(t){Object(o.a)(this,e),this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=t,this.inputManager=null}return Object(s.a)(e,[{key:"connect",value:function(e){var t=this;e&&this.disconnect(),this.inputManager=e,this.handlers.forEach((function(e,n){var r=e.handler,i=e.priority;return t.inputManager.installHandlers(n,[r],i)}))}},{key:"disconnect",value:function(){var e=this;this.inputManager&&this.handlers.forEach((function(t,n){return e.inputManager.uninstallHandlers(n)})),this.inputManager=null}},{key:"destroy",value:function(){this.disconnect(),this.handlers.clear(),this.view=null}},{key:"on",value:function(e,t,n,r){var i,a,o=this,s=Array.isArray(e)?e:e.split(",");if(!function(e){var t,n=Object(V.a)(e);try{for(n.s();!(t=n.n()).done;){if(!De(t.value))return!1}}catch(r){n.e(r)}finally{n.f()}return!0}(s))return s.some(De)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;Array.isArray(t)?a=t:(i=t,a=[]),"function"==typeof n?i=n:r=n,r=null!=r?r:Ae.a.DEFAULT;var c=this.createUniqueGroupName(),u=new Re(this.view,s,a,i);this.handlers.set(c,{handler:u,priority:r});var l,h=Object(V.a)(s);try{for(h.s();!(l=h.n()).done;){var f=l.value,d=this.handlerCounts.get(f)||0;this.handlerCounts.set(f,d+1)}}catch(p){h.e(p)}finally{h.f()}return this.inputManager&&this.inputManager.installHandlers(c,[u],r),{remove:function(){return o.removeHandler(c,s)}}}},{key:"hasHandler",value:function(e){return!!this.handlerCounts.get(e)}},{key:"removeHandler",value:function(e,t){if(this.handlers.has(e)){this.handlers.delete(e);var n,r=Object(V.a)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=this.handlerCounts.get(i);void 0===a?console.error("Trying to remove handler for event that has no handlers registered: ",i):1===a?this.handlerCounts.delete(i):this.handlerCounts.set(i,a-1)}}catch(o){r.e(o)}finally{r.f()}}this.inputManager&&this.inputManager.uninstallHandlers(e)}},{key:"createUniqueGroupName",value:function(){return this.counter+=1,"viewEvents_".concat(this.counter)}}]),e}(),Re=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e,r,i,a){var s;Object(o.a)(this,n),(s=t.call(this,!0)).view=e;var c,u=Object(V.a)(r);try{for(u.s();!(c=u.n()).done;){switch(c.value){case"click":s.registerIncoming("click",i,(function(e){return a(s.wrapClick(e))}));break;case"double-click":s.registerIncoming("double-click",i,(function(e){return a(s.wrapDoubleClick(e))}));break;case"immediate-click":s.registerIncoming("immediate-click",i,(function(e){return a(s.wrapImmediateClick(e))}));break;case"immediate-double-click":s.registerIncoming("immediate-double-click",i,(function(e){return a(s.wrapImmediateDoubleClick(e))}));break;case"hold":s.registerIncoming("hold",i,(function(e){return a(s.wrapHold(e))}));break;case"drag":s.registerIncoming("drag",i,(function(e){var t=s.wrapDrag(e);t&&a(t)}));break;case"key-down":s.registerIncoming("key-down",i,(function(e){return a(s.wrapKeyDown(e))}));break;case"key-up":s.registerIncoming("key-up",i,(function(e){return a(s.wrapKeyUp(e))}));break;case"pointer-down":s.registerIncoming("pointer-down",i,(function(e){return a(s.wrapPointer(e,"pointer-down"))}));break;case"pointer-move":s.registerIncoming("pointer-move",i,(function(e){return a(s.wrapPointer(e,"pointer-move"))}));break;case"pointer-up":s.registerIncoming("pointer-up",i,(function(e){return a(s.wrapPointer(e,"pointer-up"))}));break;case"pointer-drag":s.registerIncoming("pointer-drag",i,(function(e){return a(s.wrapPointerDrag(e))}));break;case"mouse-wheel":s.registerIncoming("mouse-wheel",i,(function(e){return a(s.wrapMouseWheel(e))}));break;case"pointer-enter":s.registerIncoming("pointer-enter",i,(function(e){return a(s.wrapPointer(e,"pointer-enter"))}));break;case"pointer-leave":s.registerIncoming("pointer-leave",i,(function(e){return a(s.wrapPointer(e,"pointer-leave"))}));break;case"gamepad":s.registerIncoming("gamepad",i,(function(e){a(s.wrapGamepad(e))}));break;case"focus":s.registerIncoming("focus",i,(function(e){a(s.wrapFocus(e))}));break;case"blur":s.registerIncoming("blur",i,(function(e){a(s.wrapBlur(e))}))}}}catch(l){u.e(l)}finally{u.f()}return s}return Object(s.a)(n,[{key:"wrapFocus",value:function(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapBlur",value:function(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapClick",value:function(e){var t=e.data,n=t.pointerType,r=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,c=t.eventId,u=e.cancelable;return{type:"click",pointerType:n,button:r,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,screenPoint:Object(Me.e)(a,o),mapPoint:this.getMapPoint(a,o),eventId:c,cancelable:u,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapDoubleClick",value:function(e){var t=e.data,n=t.pointerType,r=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,c=t.eventId,u=e.cancelable;return{type:"double-click",pointerType:n,button:r,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,mapPoint:this.getMapPoint(a,o),eventId:c,cancelable:u,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapImmediateClick",value:function(e){var t=e.data,n=t.pointerType,r=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,c=t.eventId,u=s.pointerId,l=e.cancelable;return{type:"immediate-click",pointerId:u,pointerType:n,button:r,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,mapPoint:this.getMapPoint(a,o),eventId:c,cancelable:l,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapImmediateDoubleClick",value:function(e){var t=e.data,n=t.pointerType,r=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,c=t.eventId,u=s.pointerId,l=e.cancelable;return{type:"immediate-double-click",pointerId:u,pointerType:n,button:r,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,mapPoint:this.getMapPoint(a,o),eventId:c,cancelable:l,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapHold",value:function(e){var t=e.data,n=t.pointerType,r=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,c=e.cancelable;return{type:"hold",pointerType:n,button:r,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,mapPoint:this.getMapPoint(a,o),cancelable:c,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"getMapPoint",value:function(e,t){return this.view.toMap(Object(Me.e)(e,t),{exclude:[]})}},{key:"wrapDrag",value:function(e){var t=e.data,n=t.center,r=n.x,i=n.y,a=t.action,o=t.pointerType,s=t.button;if("start"===a&&(this.latestDragStart=t),this.latestDragStart){var c=t.pointer.native,u=t.buttons,l=e.cancelable,h=e.timestamp,f={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return"end"===a&&(this.latestDragStart=void 0),{type:"drag",action:a,x:r,y:i,origin:f,pointerType:o,button:s,buttons:u,radius:t.radius,angle:Object(Te.p)(t.angle),native:c,timestamp:h,cancelable:l,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}}},{key:"wrapKeyDown",value:function(e){var t=e.data,n=t.key,r=t.repeat,i=t.native,a=e.cancelable;return{type:"key-down",key:n,repeat:r,native:i,timestamp:e.timestamp,cancelable:a,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapKeyUp",value:function(e){var t=e.data,n=t.key,r=t.native,i=e.cancelable;return{type:"key-up",key:n,native:r,timestamp:e.timestamp,cancelable:i,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapPointer",value:function(e,t){var n=e.data,r=n.x,i=n.y,a=n.button,o=n.buttons,s=n.native,c=n.eventId,u=s.pointerId,l=s.pointerType,h=e.cancelable;return{type:t,x:r,y:i,pointerId:u,pointerType:l,button:a,buttons:o,native:s,timestamp:e.timestamp,eventId:c,cancelable:h,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapPointerDrag",value:function(e){var t=e.data.currentEvent,n=t.x,r=t.y,i=t.buttons,a=t.native,o=t.eventId,s=e.data.startEvent.button,c=e.data.startEvent.native.pointerId,u=e.data.startEvent.native.pointerType,l=e.data.action,h={x:e.data.startEvent.x,y:e.data.startEvent.y},f=e.cancelable;return{type:"pointer-drag",x:n,y:r,pointerId:c,pointerType:u,button:s,buttons:i,action:l,origin:h,native:a,timestamp:e.timestamp,eventId:o,cancelable:f,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapMouseWheel",value:function(e){var t=e.cancelable,n=e.data,r=e.timestamp;return{type:"mouse-wheel",x:n.x,y:n.y,deltaY:n.deltaY,native:n.native,timestamp:r,cancelable:t,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapGamepad",value:function(e){var t=e.data,n=t.action,r=t.state,i=t.device,a=e.cancelable;return{type:"gamepad",device:i,timestamp:e.timestamp,action:n,buttons:r.buttons,axes:r.axes,cancelable:a,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}}]),n}(Ce.a),Ne=n(199),Fe=n(103);function ze(e){return"mouse"===e}function Ve(e){return"mouse"!==e.pointerType||0===e.button}function Ue(e){return!!e.native.shiftKey}var Be={manipulator:null,tool:null},Ge=function(){function e(){Object(o.a)(this,e),this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToActiveTool=null,this._cursor=null}return Object(s.a)(e,[{key:"cursor",get:function(){return this._cursor}},{key:"handleInputEvent",value:function(e,t){var n=function(){return e.stopPropagation()};switch(e.type){case"pointer-move":ze(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(n(),"end"===e.action&&(this._stopDrag=!1));break;case"pointer-down":if(!Ve(e)||Ue(e))break;var r=Object(Fe.a)(e),i=this._intersect(r,e.pointerType,t.forEachTool);if(Object(k.g)(i))break;var a=this._findToolAndManipulatorByKey(i,t.forEachTool,Be),o=Object(k.b)(a,(function(e){return e.manipulator})),s=Object(k.b)(a,(function(e){return e.tool}));!(Object(k.h)(o)&&Object(k.h)(s)&&o.interactive)||o.grabbable&&o.grabbableForEvent(e)||!o.grabbing||o.dragging||this._ungrabManipulatorBeforeDragging(o,s,e),Object(k.h)(o)&&o.interactive&&o.grabbable&&o.grabbableForEvent(e)&&!o.grabbing&&(this._grabbedManipulators.set(e.pointerId,{key:i,start:r}),1===this._grabbedManipulators.size&&(this._revertToActiveTool=t.activeTool,t.setActiveTool(i.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",screenPoint:r}),n());break;case"pointer-up":this._handlePointerEnd(e,t);break;case"pointer-drag":if(!Ve(e))break;var c=this._grabbedManipulators.get(e.pointerId),u=this._draggedManipulators.get(e.pointerId),l=Object(k.b)(c||u,(function(e){return e.key})),h=this._findManipulatorByKey(l,t.forEachTool);if(Object(k.g)(h))break;var f=Object(Fe.a)(e);f.x=Object(Te.d)(f.x,0,t.view.width),f.y=Object(Te.d)(f.y,0,t.view.height);var d=Object(k.n)(c||u).start;switch(e.action){case"start":case"update":"update"!==e.action&&1!==this._grabbedManipulators.size||(h.dragging=!0,u?h.events.emit("drag",{action:"update",start:d,screenPoint:f}):h.events.emit("drag",{action:"start",start:d,screenPoint:f,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{key:Object(k.n)(l),start:d}));break;case"end":h.dragging=!1,u&&h.events.emit("drag",{action:"end",start:d,screenPoint:f}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,t)}n();break;case"immediate-click":var p=Object(Fe.a)(e),b=this._intersect(p,e.pointerType,t.forEachTool),v=this._findToolAndManipulatorByKey(b,t.forEachTool,Be);if(Ue(e)||t.forEachTool((function(e){if((!Object(k.h)(v)||v.tool!==e||!e.selectionManagementDisabled)&&e.manipulators){var t=!1;e.manipulators.forEach((function(e){var n=e.manipulator;n.selected&&(n.selected=!1,t=!0)})),t&&e.manipulatorSelectionChanged&&e.manipulatorSelectionChanged()}})),Object(k.g)(v))break;var y=v.manipulator,m=v.tool;if(!y.interactive)break;y.selectable&&!m.selectionManagementDisabled&&(y.selected=!y.selected,m.manipulatorSelectionChanged&&m.manipulatorSelectionChanged());var g=e.native.shiftKey;y.events.emit("immediate-click",{screenPoint:p,button:e.button,pointerType:e.pointerType,shiftKey:g,stopPropagation:n});break;case"click":var O=Object(Fe.a)(e),j=this._intersect(O,e.pointerType,t.forEachTool),w=this._findManipulatorByKey(j,t.forEachTool);if(Object(k.g)(w)||!w.interactive)break;var _=e.native.shiftKey;w.events.emit(e.type,{screenPoint:O,button:e.button,pointerType:e.pointerType,shiftKey:_}),n();break;case"double-click":var x=Object(Fe.a)(e),S=this._intersect(x,e.pointerType,t.forEachTool),E=this._findManipulatorByKey(S,t.forEachTool);if(Object(k.g)(E)||!E.interactive)break;var T=e.native.shiftKey;E.events.emit("double-click",{screenPoint:x,button:e.button,pointerType:e.pointerType,shiftKey:T,stopPropagation:n});break;case"immediate-double-click":var M=Object(Fe.a)(e),C=this._intersect(M,e.pointerType,t.forEachTool),A=this._findManipulatorByKey(C,t.forEachTool);if(Object(k.g)(A)||!A.interactive)break;var P=e.native.shiftKey;A.events.emit("immediate-double-click",{screenPoint:M,button:e.button,pointerType:e.pointerType,shiftKey:P,stopPropagation:n})}this._updateCursor(t.forEachTool)}},{key:"_ungrabManipulatorBeforeDragging",value:function(e,t,n){var r=this;e.grabbing=!1,e.events.emit("grab-changed",{action:"end",screenPoint:Object(Fe.a)(n)}),this._grabbedManipulators.forEach((function(n,i){var a=n.key;a.tool===t&&t.manipulators.findById(a.manipulatorId)===e&&r._grabbedManipulators.delete(i)}))}},{key:"_handlePointerEnd",value:function(e,t){var n=Object(k.b)(this._grabbedManipulators.get(e.pointerId),(function(e){return e.key})),r=this._findManipulatorByKey(n,t.forEachTool);if(Object(k.h)(r)&&!r.dragging){var i=Object(k.h)(t.creatingTool)&&t.creatingTool===Object(k.n)(n).tool;1!==this._grabbedManipulators.size||0!==this._draggedManipulators.size||i||(t.setActiveTool(this._revertToActiveTool),this._revertToActiveTool=null),r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",screenPoint:Object(Fe.a)(e)})),this._grabbedManipulators.delete(e.pointerId)}}},{key:"_cursorFromMap",value:function(e,t){var n=this,r=null;return Object(ye.a)(e,(function(e){var i=e.key,a=n._findManipulatorByKey(i,t);return!!(Object(k.h)(a)&&a.interactive&&"cursor"in a&&a.cursor)&&(r=a.cursor,!0)})),r}},{key:"_updateCursor",value:function(e){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators,e)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators,e)||"pointer":this._cursor=null}},{key:"clearPointers",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0,a=function(t){return t.tool===e&&(Object(k.g)(i)||t.manipulatorId===i)};this._grabbedManipulators.forEach((function(e,r){var i=e.key;if(a(i)){n._grabbedManipulators.delete(r);var o=n._findManipulatorByKey(i,t);Object(k.h)(o)&&(o.grabbing=!1,o.events.emit("grab-changed",{action:"end",screenPoint:null}))}})),this._draggedManipulators.forEach((function(e,r){var i=e.key;if(a(i)){n._draggedManipulators.delete(r);var o=n._findManipulatorByKey(i,t);Object(k.h)(o)&&(o.dragging=!1,o.events.emit("drag",{action:"cancel"}))}})),r&&this._hoveredManipulators.forEach((function(e,r){var i=e.key;if(a(i)){n._hoveredManipulators.delete(r);var o=n._findManipulatorByKey(i,t);Object(k.h)(o)&&(o.hovering=!1)}})),this._updateCursor(t)}},{key:"_intersect",value:function(e,t,n){var r=null;return n((function(n){if(null==n.manipulators||!Object(Ne.a)(n))return!1;var i=n.manipulators.intersect(e,t);return!Object(k.g)(i)&&(r={manipulatorId:i,tool:n},!0)})),r}},{key:"updateHoveredStateFromKnownPointers",value:function(e){var t=this;this._pointerLocations.forEach((function(n,r){t._updateHoveredStateForPointerAtScreenPosition(Object(Me.e)(n.x,n.y),r,n.pointerType,e)}))}},{key:"handleHoverEvent",value:function(e,t){"pointer-up"!==e.type&&"immediate-click"!==e.type&&"pointer-move"!==e.type||!ze(e.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Object(Fe.a)(e),e.pointerId,e.pointerType,t)}},{key:"_updateHoveredStateForPointerAtScreenPosition",value:function(e,t,n,r){var i=this._intersect(e,n,r),a=this._findManipulatorByKey(i,r),o=Object(k.b)(this._hoveredManipulators.get(t),(function(e){return e.key})),s=this._findManipulatorByKey(o,r);Object(k.h)(a)&&!a.interactive&&(a=null),s!==a&&(Object(k.h)(s)&&(s.hovering=!1),Object(k.h)(a)?(a.hovering=!0,this._hoveredManipulators.set(t,{key:Object(k.n)(i)})):this._hoveredManipulators.delete(t),this._updateCursor(r))}},{key:"_findManipulatorByKey",value:function(e,t){return this._findToolAndManipulatorByKey(e,t,Be)?Be.manipulator:null}},{key:"_findToolAndManipulatorByKey",value:function(e,t,n){return Object(k.g)(e)?null:(n.tool=null,n.manipulator=null,t((function(t){if(t!==e.tool||null==t.manipulators||!Object(Ne.a)(t))return!1;var r=t.manipulators.findById(e.manipulatorId);return!!Object(k.h)(r)&&(n.manipulator=r,n.tool=t,!0)})),n.manipulator?n:null)}}]),e}(),qe=h.a.getLogger("esri.views.ToolViewManager"),He=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e))._handles=new xe.a,r._creatingTool=null,r._manipulatorState=new Ge,r.tools=Object(Ne.c)(),r.cursor=null,r._forEachTool=function(e){if(!Object(k.h)(r._creatingTool)||!e(r._creatingTool)){var t,n=Object(V.a)(r.tools.items);try{for(n.s();!(t=n.n()).done;){if(e(t.value))return}}catch(i){n.e(i)}finally{n.f()}}},r}return Object(s.a)(n,[{key:"initialize",value:function(){var e=this;this._handles.add([this.view.on(Pe,(function(t){e._handleInputEvent(t)}),Ae.a.TOOL),this.tools.on("before-add",(function(t){var n=t.item;null==n||e.tools.includes(n)?t.preventDefault():null==n.created||n.created||(qe.error("tools","Tool can not be added to view before it has been created"),t.preventDefault())})),this.tools.on("before-remove",(function(t){var n=t.item;e._manipulatorState.clearPointers(n,e._forEachTool)})),this.tools.on("change",(function(){e._refreshToolWatchers()}))])}},{key:"destroy",value:function(){this._forEachTool((function(e){return e.destroy()})),this._handles.destroy(),this._handles=null}},{key:"activeTool",set:function(e){var t=this;!Object(k.h)(e)||this.view.ready?(Object(Ne.e)(this,e,(function(n){t._set("activeTool",n),t._removeIncompleteTools(e),t._forEachTool((function(e){var n=Object(k.g)(t.activeTool)||e===t.activeTool;e.setEditableFlag&&e.setEditableFlag(1,n);var r=Object(Ne.a)(e);!Object(k.g)(t.activeTool)&&r||t._manipulatorState.clearPointers(e,t._forEachTool,!r)})),t._updateCursor()})),this._creatingTool!==e&&this._rejectCreatingTool()):qe.error("#activeTool=","cannot set active tool while view is not ready")}},{key:"createTool",value:function(){var e=Object(j.a)(O.a.mark((function e(t,n,r){var i,o,s,c=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.view.whenReady();case 2:if(i="Tool creation was interrupted by another tool being created",!Object(T.m)(r)){e.next=5;break}throw Object(T.e)(i);case 5:return o=new t(Object(a.a)(Object(a.a)({},Object(Ne.b)(n)),{},{view:this.view})),s=Object(T.p)(r,(function(){return c.activeTool=null})),this._rejectCreatingTool(i),this._creatingTool=o,o.attach(),this._refreshToolWatchers(),Object(Ne.d)(o,!0),e.next=13,o.when();case 13:return Object(k.h)(s)&&s.remove(),this._creatingTool=null,this.tools.add(o),o instanceof b.a&&null!=o.completed&&Object(le.j)(o,"completed").then((function(){Object(Ne.d)(o,!1)})),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"attach",value:function(){var e=this;this._forEachTool((function(e){return e.attach()})),"3d"===this.view.type?this._handles.add([this.view.state.watch("camera",(function(){e.forEachManipulator((function(e){null!=e.onViewChange&&e.onViewChange()}))})),this.view.elevationProvider.on("elevation-change",(function(t){e.forEachManipulator((function(e){null!=e.onElevationChange&&e.onElevationChange(t)}))}))],"manipulators"):this._handles.add(this.view.watch("extent",(function(){e.forEachManipulator((function(e){null!=e.onViewChange&&e.onViewChange()}))})))}},{key:"detach",value:function(){this.activeTool=null,this._forEachTool((function(e){e.detach(),e.destroy()})),this.tools.removeAll(),this._handles.remove("manipulators")}},{key:"forEachManipulator",value:function(e){this._forEachTool((function(t){t.manipulators&&t.manipulators.forEach((function(n){var r=n.manipulator;return e(r,t)}))}))}},{key:"_handleInputEvent",value:function(e){var t=this,n=!1,r=Object(a.a)(Object(a.a)({},e),{},{stopPropagation:function(){n=!0,e.stopPropagation()}});Object(k.h)(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r):this._forEachTool((function(e){!n&&!1!==e.visible&&e.handleInputEvent&&e.handleInputEvent(r)})),!n&&"key-down"===e.type&&"Escape"===e.key&&this.activeTool&&(e.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:function(e){t.activeTool=e},creatingTool:this._creatingTool,view:this.view}),!n&&Object(k.h)(this.activeTool)&&this.activeTool.handleInputEventAfter&&this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this._forEachTool),this._updateCursor()}},{key:"_refreshToolWatchers",value:function(){var e=this;this._handles.remove("tools"),this._forEachTool((function(t){if(t instanceof b.a){var n=Object(le.d)(t,["cursor","visible","editable"],(function(){Object(Ne.a)(t)||e._manipulatorState.clearPointers(t,e._forEachTool),e._updateCursor()}));e._handles.add(n,"tools")}t.manipulators&&e._handles.add(t.manipulators.on("change",(function(n){n.removed.forEach((function(n){var r=n.id;e._manipulatorState.clearPointers(t,e._forEachTool,!0,r)})),e._manipulatorState.updateHoveredStateFromKnownPointers(e._forEachTool),e._updateCursor()})),"tools")})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}},{key:"_updateCursor",value:function(){var e=null;this._forEachTool((function(t){return null!=t.cursor&&!1!==t.visible&&(e=t.cursor,!0)})),e||(e=this._manipulatorState.cursor),this._get("cursor")!==e&&this._set("cursor",e)}},{key:"_rejectCreatingTool",value:function(e){var t=this._creatingTool;Object(k.g)(t)||(this._manipulatorState.clearPointers(t,this._forEachTool),t.rejectCreation&&t.rejectCreation(Object(T.e)(e)),t.destroy(),this._creatingTool=null,this._refreshToolWatchers())}},{key:"_removeIncompleteTools",value:function(e){var t=this;this.tools.filter((function(t){return(Object(k.g)(e)||t!==e)&&null!=t.completed&&!t.completed})).forEach((function(e){t.tools.remove(e)}))}}]),n}(b.a);Object(l.a)([Object(d.b)({constructOnly:!0,nonNullable:!0})],He.prototype,"view",void 0),Object(l.a)([Object(d.b)({value:null})],He.prototype,"activeTool",null),Object(l.a)([Object(d.b)({readOnly:!0,type:D.a})],He.prototype,"tools",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],He.prototype,"cursor",void 0);var We=He=Object(l.a)([Object(p.a)("esri.views.ToolViewManager")],He),Ye=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).nativeIndex=null,r._detectedDeviceType="unknown","standard"===e.mapping?r._detectedDeviceType="standard":Je.test(e.id)?r._detectedDeviceType="spacemouse":r._detectedDeviceType="unknown",r.nativeIndex=e.index,r}return Object(s.a)(n,[{key:"native",get:function(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}},{key:"deviceType",get:function(){return this._detectedDeviceType}},{key:"axisThreshold",get:function(){return Ke[this.deviceType]}}]),n}(b.a);Object(l.a)([Object(d.b)({nonNullable:!0,readOnly:!0})],Ye.prototype,"nativeIndex",void 0),Object(l.a)([Object(d.b)({type:String,readOnly:!0})],Ye.prototype,"deviceType",null),Object(l.a)([Object(d.b)({type:Number,readOnly:!0})],Ye.prototype,"axisThreshold",null),Ye=Object(l.a)([Object(p.a)("esri.views.input.gamepad.GamepadInputDevice")],Ye);var Je=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),Ke={standard:.15,spacemouse:.025,unknown:0},Xe=Ye,Qe=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).devices=new D.a,e.enabledFocusMode="document",e}return n}(b.a);Object(l.a)([Object(d.b)({type:D.a.ofType(Xe),readOnly:!0})],Qe.prototype,"devices",void 0),Object(l.a)([Object(d.b)({type:["document","view","none"]})],Qe.prototype,"enabledFocusMode",void 0);var Ze=Qe=Object(l.a)([Object(p.a)("esri.views.input.gamepad.GamepadSettings")],Qe),$e=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).gamepad=new Ze,e}return n}(b.a);Object(l.a)([Object(d.b)({readOnly:!0})],$e.prototype,"gamepad",void 0);var et=$e=Object(l.a)([Object(p.a)("esri.views.input.Input")],$e),tt=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).enabled=!0,r.device=null,r.mode="pan",r.tiltDirection="forward-down",r.velocityFactor=1,r}return n}(b.a);Object(l.a)([Object(d.b)({type:Boolean,nonNullable:!0})],tt.prototype,"enabled",void 0),Object(l.a)([Object(d.b)({type:Xe})],tt.prototype,"device",void 0),Object(l.a)([Object(d.b)({type:["pan","zoom"],nonNullable:!0})],tt.prototype,"mode",void 0),Object(l.a)([Object(d.b)({type:["forward-down","forward-up"],nonNullable:!0})],tt.prototype,"tiltDirection",void 0),Object(l.a)([Object(d.b)({type:Number,nonNullable:!0})],tt.prototype,"velocityFactor",void 0);var nt=tt=Object(l.a)([Object(p.a)("esri.views.navigation.gamepad.GamepadSettings")],tt),rt=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).browserTouchPanEnabled=!0,r.gamepad=new nt,r.momentumEnabled=!0,r.mouseWheelZoomEnabled=!0,r}return n}(b.a);Object(l.a)([Object(d.b)({type:Boolean})],rt.prototype,"browserTouchPanEnabled",void 0),Object(l.a)([Object(d.b)({type:nt,nonNullable:!0})],rt.prototype,"gamepad",void 0),Object(l.a)([Object(d.b)({type:Boolean})],rt.prototype,"momentumEnabled",void 0),Object(l.a)([Object(d.b)({type:Boolean})],rt.prototype,"mouseWheelZoomEnabled",void 0);var it=rt=Object(l.a)([Object(p.a)("esri.views.navigation.Navigation")],rt),at=n(154),ot=n(79),st=n(178);function ct(e){var t=e.url&&Object(st.e)(e.url);return null==(e.spatialReference&&e.spatialReference.vcsWkid)&&Object(k.h)(t)&&"ImageServer"===t.serverType||!ut(e)||!e.heightModelInfo?ht(e)?he.a.deriveUnitFromSR(pt,e.spatialReference):null:e.heightModelInfo}function ut(e){return"heightModelInfo"in e}function lt(e){if("unknown"===e.type||!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"ogc-feature":return!0;case"imagery":case"map-image":case"map-notes":case"tile":case"vector-tile":case"scene":case null:default:return!1}}function ht(e){return lt(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):ft(e)}function ft(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"geojson":case"feature":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"map-image":case"map-notes":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wms":case"wmts":case null:return!1}return!1}var dt,pt=new he.a({heightModel:"gravity-related-height"}),bt=h.a.getLogger("esri.views.support.DefaultsFromMap"),vt=dt=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){var e;return Object(o.a)(this,r),(e=t.apply(this,arguments))._handles=new xe.a,e._waitTask=null,e._extentProjectController=null,e._spatialReferenceCandidates=null,e._extentCandidates=null,e.logDebugInformation=!1,e.isSpatialReferenceDone=!1,e.isTileInfoDone=!1,e.isHeightModelInfoSearching=!1,e.spatialReference=null,e.extent=null,e.heightModelInfo=null,e.vcsWkid=null,e.latestVcsWkid=null,e.mapCollectionPaths=dt.DefaultMapCollectionPaths.slice(),e.tileInfo=null,e}return Object(s.a)(r,[{key:"initialize",value:function(){var e=this;this.watch("mapCollectionPaths",(function(){e._running&&(e.reset(),e.start())}))}},{key:"destroy",value:function(){this._set("view",null),this._handles&&(this._handles.destroy(),this._handles=null),this._cancelLoading()}},{key:"_running",get:function(){return!!(this._handles&&this._handles.size>0)}},{key:"reset",value:function(){this._handles.removeAll(),this._set("isSpatialReferenceDone",!1),this._set("isTileInfoDone",!1),this._set("isHeightModelInfoSearching",!1),this._set("spatialReference",null),this._set("extent",null),this._set("heightModelInfo",null),this._set("vcsWkid",null),this._set("latestVcsWkid",null),this._set("tileInfo",null),this._spatialReferenceCandidates=null,this._extentCandidates=null}},{key:"start",value:function(){var e=this;this._handles.removeAll();var t,n=this._updateLayerChange.bind(this),r=Object(V.a)(this.mapCollectionPaths);try{for(r.s();!(t=r.n()).done;){var i=t.value;this._handles.add(Object(le.b)(this.view,"map.".concat(i),"change",n,n,n,!0))}}catch(a){r.e(a)}finally{r.f()}this._handles.add(Object(le.e)(this,"isSpatialReferenceDone",(function(){return e._updateTileInfo()}),!0))}},{key:"_ownerNameFromCollectionName",value:function(e){var t=e.lastIndexOf(".");return-1===t?"view":"view."+e.slice(0,t)}},{key:"_ensureLoadedOwnersFromCollectionName",value:function(e){for(var t,n=this._ownerNameFromCollectionName(e).split("."),r=0;r<n.length&&(t=this.get(n.slice(0,r+1).join(".")));r++)if(t.load&&!t.isFulfilled())return{collectionName:e,owner:null,loading:t.load().catch((function(){}))};return{collectionName:e,owner:t}}},{key:"_cancelLoading",value:function(){this._waitTask=null,this._extentProjectController&&(this._extentProjectController.abort(),this._extentProjectController=null)}},{key:"_updateWhen",value:function(e){var t=this,n=!0,r=!1,i=e.catch((function(){})).then((function(){n?r=!0:i===t._waitTask&&t._update()}));return n=!1,r||(this._waitTask=i),r}},{key:"_updateLayerChange",value:function(){this.isSpatialReferenceDone&&!this.spatialReference&&this._set("isSpatialReferenceDone",!1),this._update()}},{key:"_update",value:function(){var e=this;if(this._cancelLoading(),this.view){if(!this.isSpatialReferenceDone){this._debugLog("Starting search for spatial reference...");var t=this._processMapCollections((function(t){return e._processSpatialReferenceSource(t)}));if(this._debugLog("Search ended with status '".concat(mt(t),"'")),0!==t){var n=null,r=this._spatialReferenceCandidates;if(!r||r.length<1?(n=this.defaultSpatialReference,this._debugLog("No spatial reference found, locking to default (".concat(yt(n),")"))):(this.defaultSpatialReference&&r.length>1&&r.findIndex((function(t){return t.equals(e.defaultSpatialReference)}))>-1&&(r=[this.defaultSpatialReference]),n=r[0],this._debugLog("Locking to ".concat(yt(n)))),this._set("spatialReference",n),n)if(this.extent)this._set("isSpatialReferenceDone",!0);else{var i=this.logDebugInformation;this.logDebugInformation=!1,this._processMapCollections((function(t){return e._findExtent(t,n)})),this.logDebugInformation=i,this._projectExtentCandidate().catch((function(){})).then((function(){return e._set("isSpatialReferenceDone",!0)}))}else this._set("isSpatialReferenceDone",!0)}}if(null==this.heightModelInfo&&this.view.isHeightModelInfoRequired){this._debugLog("Starting search for height model info...");var a=this._processMapCollections((function(t){return e._processHeightModelInfoSource(t)}),(function(e){return function(e){return null!=e.layers||ft(e)||lt(e)||ut(e)}(e)}));this._debugLog("Search ended with status ".concat(mt(a))),this._set("isHeightModelInfoSearching",0===a)}this._updateTileInfo()}}},{key:"_processMapCollections",value:function(e,t){var n=this;this._preloadMapCollections(t);var r=2;return this._forAllMapCollectionSources((function(e){if(2!==r)return!1;var t=e.collectionName;return n._debugLog("Processing collection ".concat(t,"...")),!(e.loading&&!n._updateWhen(e.loading))||(n._debugLog("Collection ".concat(e.collectionName," owner is loading -> wait")),r=0,!1)}),(function(i){return 2===r&&(null==t||t(i)?!i.load||i.isFulfilled()||n._updateWhen(i.load())?!((!i.load||i.isResolved())&&e(i))||(r=1,!1):(n._debugLog("Source ".concat(i.id," is loading -> wait")),r=0,!1):(n._debugLog("Source ".concat(i.id," is skipped due to predicate")),!1))})),r}},{key:"_preloadMapCollections",value:function(e){var t=this,n=10,r=this.logDebugInformation;this.logDebugInformation=!1,this._forAllMapCollectionSources((function(){return!0}),(function(i){return 0!==n&&(!(null!=e&&!e(i))&&(i.load&&!i.isFulfilled()&&(t.logDebugInformation=r,t._debugLog("Pre-loading source ".concat(i.id)),t.logDebugInformation=!1,i.load().catch((function(){})),n--),!0))})),this.logDebugInformation=r}},{key:"_forAllMapCollectionSources",value:function(e,t){var n,r=Object(V.a)(this.mapCollectionPaths);try{for(r.s();!(n=r.n()).done;){var i=n.value,a="map.".concat(i),o=this._ensureLoadedOwnersFromCollectionName(a);if(!1!==e(o)){var s=o.owner;if(!s||s.isRejected&&s.isRejected())this._debugLog("Collection ".concat(a," owner is invalid or rejected -> skip"));else{var c=this.view.get(a);c?this._forEachSource(c,t):this._debugLog("Collection ".concat(a," does not exist -> skip"))}}}}catch(u){r.e(u)}finally{r.f()}}},{key:"_forEachSource",value:function(e,t){var n,r=Object(V.a)(e.items);try{for(r.s();!(n=r.n()).done;){var i=n.value;!1!==t(i)&&"layers"in i&&i.layers&&this._forEachSource(i.layers,t)}}catch(a){r.e(a)}finally{r.f()}}},{key:"_processSpatialReferenceSource",value:function(e){var t=this._getSupportedSpatialReferences(e);return 0!==t.length&&(this._spatialReferenceCandidates?(t=Object(at.e)(t,this._spatialReferenceCandidates,(function(e,t){return e.equals(t)}))).length>0?this._spatialReferenceCandidates=t:this._debugLog("Layer ".concat(e.id," is ignored because its supported spatial\n          references are not compatible with the previous candidates")):this._spatialReferenceCandidates=t,1===this._spatialReferenceCandidates.length)}},{key:"_findExtent",value:function(e,t){var n="fullExtents"in e&&e.fullExtents||(e.fullExtent?[e.fullExtent]:[]),r=n.find((function(e){return e.spatialReference.equals(t)}));if(r)return this._set("extent",r),!0;if(this._getSupportedSpatialReferences(e).length>0){var i=n.map((function(t){return{extent:t,layer:e}})),a=this._extentCandidates||[];this._extentCandidates=a.concat(i)}return!1}},{key:"_projectExtentCandidate",value:function(){var e=Object(j.a)(O.a.mark((function e(){var t,r,i,a,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._extentCandidates&&this._extentCandidates.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this.spatialReference,!(r=this._extentCandidates.find((function(e){return Object(ot.a)(e.extent.spatialReference,t)})))){e.next=7;break}this._set("extent",Object(ot.d)(r.extent,t)),e.next=22;break;case 7:return i=this._extentCandidates[0],this._extentProjectController=Object(T.d)(),e.next=11,Promise.resolve().then(n.bind(null,729));case 11:return a=e.sent,e.prev=12,e.next=15,a.projectGeometry(i.extent,t,i.layer.portalItem,this._extentProjectController.signal);case 15:o=e.sent,this._set("extent",o),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(12);case 21:this._extentProjectController=null;case 22:case"end":return e.stop()}}),e,this,[[12,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"_getSupportedSpatialReferences",value:function(e){var t=this,n="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(0===n.length)return this._debugLog("Layer ".concat(e.id," is ignored because it does not have any spatial references")),[];var r=n.filter((function(n){return t.view.isSpatialReferenceSupported(n,e,(function(e){return t._debugLog(e)}))}));return 0===r.length?this._debugLog("Layer ".concat(e.id," has spatial references but none of them are supported (or layer doesn't require locking)")):this._debugLog("Layer ".concat(e.id," has spatial references. Resulting candidate set: ").concat(r.map(yt).join(", "))),r}},{key:"_processHeightModelInfoSource",value:function(e){var t=ct(e);return!!t&&(this._set("heightModelInfo",t),this._set("isHeightModelInfoSearching",!1),e.spatialReference&&(this._set("vcsWkid",e.spatialReference.vcsWkid),this._set("latestVcsWkid",e.spatialReference.latestVcsWkid)),!0)}},{key:"_updateTileInfo",value:function(){if(null==this.tileInfo)if(this.view.isTileInfoRequired()){if(this.isSpatialReferenceDone){var e=this.get("view.map");if(e){var t=e.basemap,n=e.get("layers.0"),r=null;if(t&&"failed"!==t.loadStatus){if(!t.loaded)return this._updateWhen(t.load()),void this._debugLog("updateTileInfo: basemap still loading");var i=t&&t.get("baseLayers.0");if(i&&"failed"!==i.loadStatus){if(!i.loaded)return this._updateWhen(i.load()),void this._debugLog("updateTileInfo: first basemap layer still loading");r="tileInfo"in i&&i.tileInfo}else{if(!n||"failed"===n.loadStatus)return this._debugLog("updateTileInfo: no tileInfo"),void this._set("isTileInfoDone",!0);if(!n.loaded)return this._updateWhen(n.load()),void this._debugLog("updateTileInfo: first operational layer still loading");r="tileInfo"in n&&n.tileInfo}}else if(n&&"failed"!==n.loadStatus){if(!n.loaded)return this._updateWhen(n.load()),void this._debugLog("updateTileInfo: first operational layer still loading");r="tileInfo"in n&&n.tileInfo}r&&!r.spatialReference.equals(this.spatialReference)&&(r=null),this._debugLog("updateTileInfo: setting ".concat(r)),this._set("tileInfo",r),this._set("isTileInfoDone",!0)}else this._debugLog("updateTileInfo: no map")}}else this._set("isTileInfoDone",!0)}},{key:"_debugLog",value:function(e){this.logDebugInformation&&bt.info(e)}}]),r}(b.a);function yt(e){return e?JSON.stringify(e.toJSON()):"undefined"}function mt(e){switch(e){case 0:return"Waiting";case 1:return"Found";case 2:return"Exhausted"}}vt.DefaultMapCollectionPaths=["basemap.baseLayers","layers","ground.layers","basemap.referenceLayers"],Object(l.a)([Object(d.b)()],vt.prototype,"logDebugInformation",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],vt.prototype,"isSpatialReferenceDone",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],vt.prototype,"isTileInfoDone",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],vt.prototype,"isHeightModelInfoSearching",void 0),Object(l.a)([Object(d.b)({constructOnly:!0})],vt.prototype,"view",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],vt.prototype,"spatialReference",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],vt.prototype,"extent",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],vt.prototype,"heightModelInfo",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],vt.prototype,"vcsWkid",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],vt.prototype,"latestVcsWkid",void 0),Object(l.a)([Object(d.b)()],vt.prototype,"mapCollectionPaths",void 0),Object(l.a)([Object(d.b)()],vt.prototype,"defaultSpatialReference",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],vt.prototype,"tileInfo",void 0);var gt,Ot=vt=dt=Object(l.a)([Object(p.a)("esri.views.support.DefaultsFromMap")],vt),jt=h.a.getLogger("esri.views.View"),wt=gt=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e))._userSpatialReference=null,r._cursor=null,r.allLayerViews=new N.a({root:Object(w.a)(r),rootCollectionNames:["basemapView.baseLayerViews","groundView?.layerViews","layerViews","basemapView.referenceLayerViews"],getChildrenFunction:function(e){return e.layerViews}}),r.animation=null,r.basemapView=null,r.defaultsFromMap=new Ot({view:Object(w.a)(r)}),r.fatalError=null,r.extent=null,r.graphics=new fe.a,r.navigating=!1,r.layerViews=new D.a,r.magnifier=new _e,r.padding={left:0,top:0,right:0,bottom:0},r.ready=!1,r.spatialReferenceWarningDelay=1e3,r.supportsGround=!0,r.timeExtent=null,r.type=null,r.scale=null,r.updating=!1,r.initialExtentRequired=!0,r.renderContext=null,r.input=new et,r.navigation=new it,r.layerViewManager=null,r.refreshManager=null,r.isHeightModelInfoRequired=!1,r.width=null,r.height=null,r.resizing=!1,r.suspended=!1,r.viewEvents=new Le(Object(w.a)(r)),r.persistableViewModels=new D.a,r._isValid=!1,r._readyCycleForced=!1,r.handles.add(r.watch("preconditionsReady",(function(e){e?(r._currentSpatialReference=r.spatialReference,gt.views.add(Object(w.a)(r))):(r._currentSpatialReference=null,gt.views.remove(Object(w.a)(r))),r.notifyChange("spatialReference"),!e&&r.ready?(r.layerViewManager.clear(),r.toolViewManager.detach(),r._teardown()):e&&!r.ready&&(r._startup(),r.toolViewManager.attach())}),!0)),r}return Object(s.a)(n,[{key:"initialize",value:function(){var e,t=this;this.addResolvingPromise(this.validate().then((function(){return t._isValid=!0,Object(le.j)(t,"ready")}))),this.basemapView=new de({view:this}),this.layerViewManager=new je({view:this,layerViewImporter:{importLayerView:function(e){return t.importLayerView(e)},hasLayerViewModule:function(e){return t.hasLayerViewModule(e)}},supportsGround:this.supportsGround}),this.refreshManager=new Ee({view:this}),this.toolViewManager=new We({view:this}),this._resetInitialViewPropertiesFromContent(),Object(le.a)(this.defaultsFromMap,"isSpatialReferenceDone",(function(n){var r=!!(t.map&&t.map.allLayers.length>0);if(n&&!t.spatialReference&&r||!e){if(n&&!t.spatialReference&&r&&!e){var i=e=Object(T.a)(t.spatialReferenceWarningDelay);e.then((function(){i===e&&jt.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")})).catch((function(){}))}}else e=null}),!0)}},{key:"destroy",value:function(){if(!this.destroyed){this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics.destroy(),this.graphics=null,this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.toolViewManager.destroy(),this.toolViewManager=null,this.refreshManager.destroy(),this.refreshManager=null,this.layerViewManager.destroy(),this.layerViewManager=null,this.basemapView.destroy(),this.basemapView=null,this.invalidate(),this._emitter.clear(),this.handles.removeAll();var e=this.map;this.map=null,null==e||e.destroy()}}},{key:"_startup",value:function(){this._set("ready",!0)}},{key:"_teardown",value:function(){this._set("ready",!1)}},{key:"whenReady",value:function(){return Object(T.s)()}},{key:"toMap",value:function(){return jt.error("#toMap()","Not implemented on this instance of View"),null}},{key:"heightModelInfo",get:function(){return this.getDefaultHeightModelInfo()}},{key:"interacting",get:function(){return this.navigating}},{key:"preconditionsReady",get:function(){return!!(!this.fatalError&&this._isValid&&!this._readyCycleForced&&this.map&&(!R.a.isLoadable(this.map)||this.map.loaded)&&0!==this.width&&0!==this.height&&this.spatialReference&&this.isSpatialReferenceSupported(this.spatialReference)&&(this._currentSpatialReference||!this.initialExtentRequired||this.initialExtent||this.defaultsFromMap&&this.defaultsFromMap.isSpatialReferenceDone)&&this.defaultsFromMap&&this.defaultsFromMap.isTileInfoDone)}},{key:"map",set:function(e){var t;e!==this._get("map")&&(null!=(t=e)&&t.destroyed&&(jt.warn("#map","The provided map is already destroyed",{map:e}),e=null),R.a.isLoadable(e)&&e.load().catch((function(){})),this.initialized&&(this.forceReadyCycle(),this._resetInitialViewPropertiesFromContent()),this._set("map",e))}},{key:"spatialReference",get:function(){var e=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return e&&this.isHeightModelInfoRequired&&this.defaultsFromMap&&((e=e.clone()).vcsWkid=this.defaultsFromMap.vcsWkid,e.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),e},set:function(e){this._userSpatialReference=e,this._set("spatialReference",e)}},{key:"stationary",get:function(){return!this.animation&&!this.navigating&&!this.resizing}},{key:"initialExtent",get:function(){return this.defaultsFromMap&&this.defaultsFromMap.extent}},{key:"cursor",get:function(){var e=this.toolViewManager?this.toolViewManager.cursor:null;return Object(k.h)(e)?e:this._cursor||"default"},set:function(e){this._cursor=e,this.notifyChange("cursor")}},{key:"size",get:function(){return[this.width,this.height]}},{key:"whenLayerView",value:function(e){return this.layerViewManager.whenLayerView(e)}},{key:"getDefaultSpatialReference",value:function(){return this.get("defaultsFromMap.spatialReference")}},{key:"getDefaultHeightModelInfo",value:function(){return this.get("map.supportsHeightModelInfo")&&this.get("map.heightModelInfo")||this.get("defaultsFromMap.heightModelInfo")||null}},{key:"importLayerView",value:function(e){throw new E.a("importLayerView() not implemented")}},{key:"hasLayerViewModule",value:function(e){return!1}},{key:"validate",value:function(){var e=Object(j.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"invalidate",value:function(){this._isValid=!1}},{key:"isSpatialReferenceSupported",value:function(e,t,n){return!0}},{key:"isTileInfoRequired",value:function(){return!1}},{key:"when",value:function(e,t){return this.isResolved()&&!this.ready&&jt.warn("#when()",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, "ready").then(...) instead.'),Object(_.a)(Object(x.a)(n.prototype),"when",this).call(this,e,t)}},{key:"forceReadyCycle",value:function(){var e=this;this.ready&&(this._readyCycleForced=!0,Object(le.g)(this,"preconditionsReady",(function(){return e._readyCycleForced=!1})))}},{key:"createTool",value:function(e,t,n){return this.toolViewManager.createTool(e,t,n)}},{key:"tryFatalErrorRecovery",value:function(){this.fatalError=null}},{key:"_resetInitialViewPropertiesFromContent",value:function(){var e=this;if(this.defaultsFromMap){var t=function(){return e.defaultsFromMap&&e.defaultsFromMap.start()};this.defaultsFromMap.reset(),this._currentSpatialReference=null,this.notifyChange("spatialReference"),this.handles.remove("defaultsFromMap"),this.handles.add([Object(le.d)(this,"spatialReference",(function(e,n){Object(C.c)(e,n)||t()})),Object(le.d)(this,"initialExtentRequired",t),Object(M.b)(t)],"defaultsFromMap")}}}]),n}(Object(y.b)(I.a.EventedMixin(Object(L.b)(b.a))));wt.views=new D.a,Object(l.a)([Object(S.a)("toolViewManager.activeTool")],wt.prototype,"activeTool",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],wt.prototype,"allLayerViews",void 0),Object(l.a)([Object(d.b)()],wt.prototype,"animation",void 0),Object(l.a)([Object(d.b)()],wt.prototype,"basemapView",void 0),Object(l.a)([Object(d.b)()],wt.prototype,"defaultsFromMap",void 0),Object(l.a)([Object(d.b)()],wt.prototype,"fatalError",void 0),Object(l.a)([Object(d.b)({type:P.a})],wt.prototype,"extent",void 0),Object(l.a)([Object(d.b)(Object(fe.b)())],wt.prototype,"graphics",void 0),Object(l.a)([Object(d.b)({readOnly:!0,type:he.a,dependsOn:["map.heightModelInfo?","defaultsFromMap.heightModelInfo"],autoTracked:!1})],wt.prototype,"heightModelInfo",null),Object(l.a)([Object(d.b)({readOnly:!0,dependsOn:["navigating"]})],wt.prototype,"interacting",null),Object(l.a)([Object(d.b)({readOnly:!0})],wt.prototype,"navigating",void 0),Object(l.a)([Object(d.b)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","initialExtentRequired","initialExtent","defaultsFromMap.isSpatialReferenceDone","defaultsFromMap.isTileInfoDone"],autoTracked:!1})],wt.prototype,"preconditionsReady",null),Object(l.a)([Object(d.b)({type:D.a,readOnly:!0})],wt.prototype,"layerViews",void 0),Object(l.a)([Object(d.b)({type:_e})],wt.prototype,"magnifier",void 0),Object(l.a)([Object(d.b)({value:null,type:ce})],wt.prototype,"map",null),Object(l.a)([Object(d.b)()],wt.prototype,"padding",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],wt.prototype,"ready",void 0),Object(l.a)([Object(d.b)({type:A.a,dependsOn:["defaultsFromMap.spatialReference","defaultsFromMap.vcsWkid","defaultsFromMap.latestVcsWkid"]})],wt.prototype,"spatialReference",null),Object(l.a)([Object(d.b)()],wt.prototype,"spatialReferenceWarningDelay",void 0),Object(l.a)([Object(d.b)({dependsOn:["animation","navigating","resizing"]})],wt.prototype,"stationary",null),Object(l.a)([Object(d.b)({readOnly:!0})],wt.prototype,"supportsGround",void 0),Object(l.a)([Object(d.b)({type:ue.a})],wt.prototype,"timeExtent",void 0),Object(l.a)([Object(S.a)("toolViewManager.tools")],wt.prototype,"tools",void 0),Object(l.a)([Object(d.b)()],wt.prototype,"toolViewManager",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],wt.prototype,"type",void 0),Object(l.a)([Object(d.b)({type:Number})],wt.prototype,"scale",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],wt.prototype,"updating",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],wt.prototype,"initialExtentRequired",void 0),Object(l.a)([Object(d.b)({readOnly:!0,type:P.a,dependsOn:["defaultsFromMap.extent"]})],wt.prototype,"initialExtent",null),Object(l.a)([Object(d.b)({dependsOn:["toolViewManager.cursor"]})],wt.prototype,"cursor",null),Object(l.a)([Object(d.b)()],wt.prototype,"renderContext",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],wt.prototype,"input",void 0),Object(l.a)([Object(d.b)({type:it,nonNullable:!0})],wt.prototype,"navigation",void 0),Object(l.a)([Object(d.b)()],wt.prototype,"layerViewManager",void 0),Object(l.a)([Object(d.b)()],wt.prototype,"width",void 0),Object(l.a)([Object(d.b)()],wt.prototype,"height",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],wt.prototype,"resizing",void 0),Object(l.a)([Object(d.b)({value:null,dependsOn:["width","height"],readOnly:!0})],wt.prototype,"size",null),Object(l.a)([Object(d.b)({readOnly:!0})],wt.prototype,"suspended",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],wt.prototype,"viewEvents",void 0),Object(l.a)([Object(d.b)({readOnly:!0})],wt.prototype,"persistableViewModels",void 0),Object(l.a)([Object(d.b)()],wt.prototype,"_isValid",void 0),Object(l.a)([Object(d.b)()],wt.prototype,"_readyCycleForced",void 0),Object(l.a)([Object(d.b)()],wt.prototype,"_currentSpatialReference",void 0);var _t=wt=gt=Object(l.a)([Object(p.a)("esri.views.View")],wt),xt={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"},kt=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments))._scale=null,e.view=null,e}return Object(s.a)(n,[{key:"destroy",value:function(){this.layer=this.view=null}},{key:"dynamicLayers",get:function(){if(!this.hasDynamicLayers)return null;var e=this.visibleSublayers.map((function(e){return e.toExportImageJSON()}));return e.length?JSON.stringify(e):null}},{key:"hasDynamicLayers",get:function(){return this.layer&&Object(m.a)(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}},{key:"layer",set:function(e){var t=this;this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.allSublayers.on("change",(function(){return t.notifyChange("visibleSublayers")})),e.on("sublayer-update",(function(e){return t.notifyChange(xt[e.propertyName])}))],"layer"))}},{key:"layers",get:function(){var e=this.visibleSublayers;return e?e.length?"show:"+e.map((function(e){return e.id})).join(","):"show:-1":null}},{key:"layerDefs",get:function(){var e=this.visibleSublayers.filter((function(e){return null!=e.definitionExpression}));return e.length?JSON.stringify(e.reduce((function(e,t){return e[t.id]=t.definitionExpression,e}),{})):null}},{key:"scale",get:function(){return null!=this._scale?this._scale:this.view&&this.view.scale||0},set:function(e){this.view||(this._scale=e,this.notifyChange("scale"))}},{key:"version",get:function(){var e=this;e.layers,e.layerDefs,e.dynamicLayers,e.timeExtent;var t=e.layer;return t&&(t.dpi,t.imageFormat,t.imageTransparency,t.gdbVersion),(this._get("version")||0)+1},set:function(e){this._set("version",e)}},{key:"visibleSublayers",get:function(){var e=this,t=[];if(!this.layer)return t;var n=this.layer.sublayers;n&&n.forEach((function n(r){var i=e.scale,a=0===i,o=0===r.minScale||i<=r.minScale,s=0===r.maxScale||i>=r.maxScale;r.visible&&(a||o&&s)&&(r.sublayers?r.sublayers.forEach(n):t.unshift(r))}));var r=this._get("visibleSublayers");return!r||r.length!==t.length||r.some((function(e,n){return t[n]!==e}))?t:r}},{key:"toJSON",value:function(){var e=this.layer,t={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?t.dynamicLayers=this.dynamicLayers:t=Object(a.a)(Object(a.a)({},t),{},{layers:this.layers,layerDefs:this.layerDefs}),t}}]),n}(Object(y.b)(b.a));Object(l.a)([Object(d.b)({readOnly:!0,dependsOn:["hasDynamicLayers","visibleSublayers"]})],kt.prototype,"dynamicLayers",null),Object(l.a)([Object(d.b)({readOnly:!0,dependsOn:["visibleSublayers","layer.serviceSublayers","layer.capabilities"]})],kt.prototype,"hasDynamicLayers",null),Object(l.a)([Object(d.b)()],kt.prototype,"layer",null),Object(l.a)([Object(d.b)({readOnly:!0,dependsOn:["visibleSublayers"]})],kt.prototype,"layers",null),Object(l.a)([Object(d.b)({readOnly:!0,dependsOn:["visibleSublayers"]})],kt.prototype,"layerDefs",null),Object(l.a)([Object(d.b)({type:Number,dependsOn:["view.scale"]})],kt.prototype,"scale",null),Object(l.a)([Object(d.b)(v.a)],kt.prototype,"timeExtent",void 0),Object(l.a)([Object(d.b)({dependsOn:["layers","layerDefs","dynamicLayers","layer.dpi","layer.imageFormat","layer.imageTransparency","layer.gdbVersion","timeExtent"]})],kt.prototype,"version",null),Object(l.a)([Object(d.b)({type:_t})],kt.prototype,"view",void 0),Object(l.a)([Object(d.b)({readOnly:!0,dependsOn:["layer.sublayers","scale"]})],kt.prototype,"visibleSublayers",null),kt=Object(l.a)([Object(p.a)("esri.layers.mixins.ExportImageParameters")],kt)},function(e,t,n){"use strict";(function(e,r){var i,a=n(716);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var o=Object(a.a)(i);t.a=o}).call(this,n(317),n(742)(e))},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18)),u=n(1),l=n(8),h=n(20),f=(n(12),n(21),n(22),n(27)),d=n(216),p=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).access=null,i.created=null,i.description=null,i.id=null,i.isInvitationOnly=!1,i.modified=null,i.owner=null,i.portal=null,i.snippet=null,i.sortField=null,i.sortOrder=null,i.tags=null,i.title=null,i}return Object(i.a)(n,[{key:"thumbnailUrl",get:function(){var e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl("".concat(e,"/info/").concat(t,"?f=json")):null}},{key:"url",get:function(){var e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}},{key:"fetchCategorySchema",value:function(e){var t=this;return this.portal._request(this.url+"/categorySchema",e).then((function(n){var r=n.categorySchema||[];return r.some((function(e){return"contentCategorySetsGroupQuery.LivingAtlas"===e.source}))?t._fetchCategorySchemaSet("LivingAtlas",e):r}))}},{key:"fetchMembers",value:function(e){return this.portal._request(this.url+"/users",e)}},{key:"getThumbnailUrl",value:function(e){var t=this.thumbnailUrl;return t&&e&&(t+="&w=".concat(e)),t}},{key:"toJSON",value:function(){throw new h.a("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}},{key:"queryItems",value:function(e,t){var n=Object(c.m)(d.a,e);return parseFloat(this.portal.currentVersion)>5?(n=n||new d.a,this.portal._queryPortal("/content/groups/".concat(this.id,"/search"),n,"PortalItem",t)):((n=n?n.clone():new d.a).query="group:"+this.id+(n.query?" "+n.query:""),this.portal.queryItems(n,t))}},{key:"_fetchCategorySchemaSet",value:function(e,t){var n=this;return this.portal._fetchSelf(this.portal.authMode,!0,t).then((function(e){var r=e.contentCategorySetsGroupQuery;if(r){var i=new d.a;return i.disableExtraQuery=!0,i.num=1,i.query=r,n.portal.queryGroups(i,t)}throw new h.a("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((function(n){if(n.total){var r=n.results[0],i=new d.a;return i.num=1,i.query='typekeywords:"'.concat(e,'"'),r.queryItems(i,t)}throw new h.a("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((function(e){return e.total?e.results[0].fetchData("json",t).then((function(e){var t=e&&e.categorySchema;return t&&t.length?t:[]})):[]}))}}]),n}(f.a);Object(s.a)([Object(u.b)()],p.prototype,"access",void 0),Object(s.a)([Object(u.b)({type:Date})],p.prototype,"created",void 0),Object(s.a)([Object(u.b)()],p.prototype,"description",void 0),Object(s.a)([Object(u.b)()],p.prototype,"id",void 0),Object(s.a)([Object(u.b)()],p.prototype,"isInvitationOnly",void 0),Object(s.a)([Object(u.b)({type:Date})],p.prototype,"modified",void 0),Object(s.a)([Object(u.b)()],p.prototype,"owner",void 0),Object(s.a)([Object(u.b)()],p.prototype,"portal",void 0),Object(s.a)([Object(u.b)()],p.prototype,"snippet",void 0),Object(s.a)([Object(u.b)()],p.prototype,"sortField",void 0),Object(s.a)([Object(u.b)()],p.prototype,"sortOrder",void 0),Object(s.a)([Object(u.b)()],p.prototype,"tags",void 0),Object(s.a)([Object(u.b)()],p.prototype,"thumbnail",void 0),Object(s.a)([Object(u.b)({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],p.prototype,"thumbnailUrl",null),Object(s.a)([Object(u.b)()],p.prototype,"title",void 0),Object(s.a)([Object(u.b)({dependsOn:["portal.restUrl"],readOnly:!0})],p.prototype,"url",null);var b=p=Object(s.a)([Object(l.a)("esri.portal.PortalGroup")],p);t.default=b},function(e,t,n){e.exports=function e(t){"use strict";var n=/^\0+/g,r=/[\0\r\f]/g,i=/: */g,a=/zoo|gra/,o=/([,: ])(transform)/g,s=/,+\s*(?![^(]*[)])/g,c=/ +\s*(?![^(]*[)])/g,u=/ *[\0] */g,l=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,f=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,d=/\W+/g,p=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,v=/:(read-only)/g,y=/\s+(?=[{\];=:>])/g,m=/([[}=:>])\s+/g,g=/(\{[^{]+?);(?=\})/g,O=/\s{2,}/g,j=/([^\(])(:+) */g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,k=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,M="-webkit-",C="-moz-",A="-ms-",P=59,I=125,D=123,L=40,R=41,N=91,F=93,z=10,V=13,U=9,B=64,G=32,q=38,H=45,W=95,Y=42,J=44,K=58,X=39,Q=34,Z=47,$=62,ee=43,te=126,ne=0,re=12,ie=11,ae=107,oe=109,se=115,ce=112,ue=111,le=105,he=99,fe=100,de=112,pe=1,be=1,ve=0,ye=1,me=1,ge=1,Oe=0,je=0,we=0,_e=[],xe=[],ke=0,Se=null,Ee=-2,Te=-1,Me=0,Ce=1,Ae=2,Pe=3,Ie=0,De=1,Le="",Re="",Ne="";function Fe(e,t,i,a,o){for(var s,c,l=0,h=0,f=0,d=0,y=0,m=0,g=0,O=0,w=0,x=0,k=0,S=0,E=0,T=0,W=0,Oe=0,xe=0,Se=0,Ee=0,Te=i.length,Ve=Te-1,We="",Ye="",Je="",Ke="",Xe="",Qe="";W<Te;){if(g=i.charCodeAt(W),W===Ve&&h+d+f+l!==0&&(0!==h&&(g=h===Z?z:Z),d=f=l=0,Te++,Ve++),h+d+f+l===0){if(W===Ve&&(Oe>0&&(Ye=Ye.replace(r,"")),Ye.trim().length>0)){switch(g){case G:case U:case P:case V:case z:break;default:Ye+=i.charAt(W)}g=P}if(1===xe)switch(g){case D:case I:case P:case Q:case X:case L:case R:case J:xe=0;case U:case V:case z:case G:break;default:for(xe=0,Ee=W,y=g,W--,g=P;Ee<Te;)switch(i.charCodeAt(Ee++)){case z:case V:case P:++W,g=y,Ee=Te;break;case K:Oe>0&&(++W,g=y);case D:Ee=Te}}switch(g){case D:for(y=(Ye=Ye.trim()).charCodeAt(0),k=1,Ee=++W;W<Te;){switch(g=i.charCodeAt(W)){case D:k++;break;case I:k--;break;case Z:switch(m=i.charCodeAt(W+1)){case Y:case Z:W=He(m,W,Ve,i)}break;case N:g++;case L:g++;case Q:case X:for(;W++<Ve&&i.charCodeAt(W)!==g;);}if(0===k)break;W++}switch(Je=i.substring(Ee,W),y===ne&&(y=(Ye=Ye.replace(n,"").trim()).charCodeAt(0)),y){case B:switch(Oe>0&&(Ye=Ye.replace(r,"")),m=Ye.charCodeAt(1)){case fe:case oe:case se:case H:s=t;break;default:s=_e}if(Ee=(Je=Fe(t,s,Je,m,o+1)).length,we>0&&0===Ee&&(Ee=Ye.length),ke>0&&(s=ze(_e,Ye,Se),c=qe(Pe,Je,s,t,be,pe,Ee,m,o,a),Ye=s.join(""),void 0!==c&&0===(Ee=(Je=c.trim()).length)&&(m=0,Je="")),Ee>0)switch(m){case se:Ye=Ye.replace(_,Ge);case fe:case oe:case H:Je=Ye+"{"+Je+"}";break;case ae:Je=(Ye=Ye.replace(p,"$1 $2"+(De>0?Le:"")))+"{"+Je+"}",Je=1===me||2===me&&Be("@"+Je,3)?"@"+M+Je+"@"+Je:"@"+Je;break;default:Je=Ye+Je,a===de&&(Ke+=Je,Je="")}else Je="";break;default:Je=Fe(t,ze(t,Ye,Se),Je,a,o+1)}Xe+=Je,S=0,xe=0,T=0,Oe=0,Se=0,E=0,Ye="",Je="",g=i.charCodeAt(++W);break;case I:case P:if((Ee=(Ye=(Oe>0?Ye.replace(r,""):Ye).trim()).length)>1)switch(0===T&&((y=Ye.charCodeAt(0))===H||y>96&&y<123)&&(Ee=(Ye=Ye.replace(" ",":")).length),ke>0&&void 0!==(c=qe(Ce,Ye,t,e,be,pe,Ke.length,a,o,a))&&0===(Ee=(Ye=c.trim()).length)&&(Ye="\0\0"),y=Ye.charCodeAt(0),m=Ye.charCodeAt(1),y){case ne:break;case B:if(m===le||m===he){Qe+=Ye+i.charAt(W);break}default:if(Ye.charCodeAt(Ee-1)===K)break;Ke+=Ue(Ye,y,m,Ye.charCodeAt(2))}S=0,xe=0,T=0,Oe=0,Se=0,Ye="",g=i.charCodeAt(++W)}}switch(g){case V:case z:if(h+d+f+l+je===0)switch(x){case R:case X:case Q:case B:case te:case $:case Y:case ee:case Z:case H:case K:case J:case P:case D:case I:break;default:T>0&&(xe=1)}h===Z?h=0:ye+S===0&&a!==ae&&Ye.length>0&&(Oe=1,Ye+="\0"),ke*Ie>0&&qe(Me,Ye,t,e,be,pe,Ke.length,a,o,a),pe=1,be++;break;case P:case I:if(h+d+f+l===0){pe++;break}default:switch(pe++,We=i.charAt(W),g){case U:case G:if(d+l+h===0)switch(O){case J:case K:case U:case G:We="";break;default:g!==G&&(We=" ")}break;case ne:We="\\0";break;case re:We="\\f";break;case ie:We="\\v";break;case q:d+h+l===0&&ye>0&&(Se=1,Oe=1,We="\f"+We);break;case 108:if(d+h+l+ve===0&&T>0)switch(W-T){case 2:O===ce&&i.charCodeAt(W-3)===K&&(ve=O);case 8:w===ue&&(ve=w)}break;case K:d+h+l===0&&(T=W);break;case J:h+f+d+l===0&&(Oe=1,We+="\r");break;case Q:case X:0===h&&(d=d===g?0:0===d?g:d);break;case N:d+h+f===0&&l++;break;case F:d+h+f===0&&l--;break;case R:d+h+l===0&&f--;break;case L:if(d+h+l===0){if(0===S)switch(2*O+3*w){case 533:break;default:k=0,S=1}f++}break;case B:h+f+d+l+T+E===0&&(E=1);break;case Y:case Z:if(d+l+f>0)break;switch(h){case 0:switch(2*g+3*i.charCodeAt(W+1)){case 235:h=Z;break;case 220:Ee=W,h=Y}break;case Y:g===Z&&O===Y&&Ee+2!==W&&(33===i.charCodeAt(Ee+2)&&(Ke+=i.substring(Ee,W+1)),We="",h=0)}}if(0===h){if(ye+d+l+E===0&&a!==ae&&g!==P)switch(g){case J:case te:case $:case ee:case R:case L:if(0===S){switch(O){case U:case G:case z:case V:We+="\0";break;default:We="\0"+We+(g===J?"":"\0")}Oe=1}else switch(g){case L:T+7===W&&108===O&&(T=0),S=++k;break;case R:0==(S=--k)&&(Oe=1,We+="\0")}break;case U:case G:switch(O){case ne:case D:case I:case P:case J:case re:case U:case G:case z:case V:break;default:0===S&&(Oe=1,We+="\0")}}Ye+=We,g!==G&&g!==U&&(x=g)}}w=O,O=g,W++}if(Ee=Ke.length,we>0&&0===Ee&&0===Xe.length&&0===t[0].length==0&&(a!==oe||1===t.length&&(ye>0?Re:Ne)===t[0])&&(Ee=t.join(",").length+2),Ee>0){if(s=0===ye&&a!==ae?function(e){for(var t,n,i=0,a=e.length,o=Array(a);i<a;++i){for(var s=e[i].split(u),c="",l=0,h=0,f=0,d=0,p=s.length;l<p;++l)if(!(0===(h=(n=s[l]).length)&&p>1)){if(f=c.charCodeAt(c.length-1),d=n.charCodeAt(0),t="",0!==l)switch(f){case Y:case te:case $:case ee:case G:case L:break;default:t=" "}switch(d){case q:n=t+Re;case te:case $:case ee:case G:case R:case L:break;case N:n=t+n+Re;break;case K:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(ge>0){n=t+n.substring(8,h-1);break}default:(l<1||s[l-1].length<1)&&(n=t+Re+n)}break;case J:t="";default:n=h>1&&n.indexOf(":")>0?t+n.replace(j,"$1"+Re+"$2"):t+n+Re}c+=n}o[i]=c.replace(r,"").trim()}return o}(t):t,ke>0&&void 0!==(c=qe(Ae,Ke,s,e,be,pe,Ee,a,o,a))&&0===(Ke=c).length)return Qe+Ke+Xe;if(Ke=s.join(",")+"{"+Ke+"}",me*ve!=0){switch(2!==me||Be(Ke,2)||(ve=0),ve){case ue:Ke=Ke.replace(v,":"+C+"$1")+Ke;break;case ce:Ke=Ke.replace(b,"::"+M+"input-$1")+Ke.replace(b,"::"+C+"$1")+Ke.replace(b,":"+A+"input-$1")+Ke}ve=0}}return Qe+Ke+Xe}function ze(e,t,n){var r=t.trim().split(l),i=r,a=r.length,o=e.length;switch(o){case 0:case 1:for(var s=0,c=0===o?"":e[0]+" ";s<a;++s)i[s]=Ve(c,i[s],n,o).trim();break;default:s=0;var u=0;for(i=[];s<a;++s)for(var h=0;h<o;++h)i[u++]=Ve(e[h]+" ",r[s],n,o).trim()}return i}function Ve(e,t,n,r){var i=t,a=i.charCodeAt(0);switch(a<33&&(a=(i=i.trim()).charCodeAt(0)),a){case q:switch(ye+r){case 0:case 1:if(0===e.trim().length)break;default:return i.replace(h,"$1"+e.trim())}break;case K:switch(i.charCodeAt(1)){case 103:if(ge>0&&ye>0)return i.replace(f,"$1").replace(h,"$1"+Ne);break;default:return e.trim()+i.replace(h,"$1"+e.trim())}default:if(n*ye>0&&i.indexOf("\f")>0)return i.replace(h,(e.charCodeAt(0)===K?"":"$1")+e.trim())}return e+i}function Ue(e,t,n,r){var u,l=0,h=e+";",f=2*t+3*n+4*r;if(944===f)return function(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),i=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*De){case 0:break;case H:if(110!==e.charCodeAt(10))break;default:var a=i.split((i="",s)),o=0;for(n=0,t=a.length;o<t;n=0,++o){for(var u=a[o],l=u.split(c);u=l[n];){var h=u.charCodeAt(0);if(1===De&&(h>B&&h<90||h>96&&h<123||h===W||h===H&&u.charCodeAt(1)!==H))switch(isNaN(parseFloat(u))+(-1!==u.indexOf("("))){case 1:switch(u){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:u+=Le}}l[n++]=u}i+=(0===o?"":",")+l.join(" ")}}return i=r+i+";",1===me||2===me&&Be(i,1)?M+i+i:i}(h);if(0===me||2===me&&!Be(h,1))return h;switch(f){case 1015:return 97===h.charCodeAt(10)?M+h+h:h;case 951:return 116===h.charCodeAt(3)?M+h+h:h;case 963:return 110===h.charCodeAt(5)?M+h+h:h;case 1009:if(100!==h.charCodeAt(4))break;case 969:case 942:return M+h+h;case 978:return M+h+C+h+h;case 1019:case 983:return M+h+C+h+A+h+h;case 883:return h.charCodeAt(8)===H?M+h+h:h.indexOf("image-set(",11)>0?h.replace(T,"$1"+M+"$2")+h:h;case 932:if(h.charCodeAt(4)===H)switch(h.charCodeAt(5)){case 103:return M+"box-"+h.replace("-grow","")+M+h+A+h.replace("grow","positive")+h;case 115:return M+h+A+h.replace("shrink","negative")+h;case 98:return M+h+A+h.replace("basis","preferred-size")+h}return M+h+A+h+h;case 964:return M+h+A+"flex-"+h+h;case 1023:if(99!==h.charCodeAt(8))break;return u=h.substring(h.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),M+"box-pack"+u+M+h+A+"flex-pack"+u+h;case 1005:return a.test(h)?h.replace(i,":"+M)+h.replace(i,":"+C)+h:h;case 1e3:switch(l=(u=h.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(l)){case 226:u=h.replace(w,"tb");break;case 232:u=h.replace(w,"tb-rl");break;case 220:u=h.replace(w,"lr");break;default:return h}return M+h+A+u+h;case 1017:if(-1===h.indexOf("sticky",9))return h;case 975:switch(l=(h=e).length-10,f=(u=(33===h.charCodeAt(l)?h.substring(0,l):h).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(u.charCodeAt(8)<111)break;case 115:h=h.replace(u,M+u)+";"+h;break;case 207:case 102:h=h.replace(u,M+(f>102?"inline-":"")+"box")+";"+h.replace(u,M+u)+";"+h.replace(u,A+u+"box")+";"+h}return h+";";case 938:if(h.charCodeAt(5)===H)switch(h.charCodeAt(6)){case 105:return u=h.replace("-items",""),M+h+M+"box-"+u+A+"flex-"+u+h;case 115:return M+h+A+"flex-item-"+h.replace(k,"")+h;default:return M+h+A+"flex-line-pack"+h.replace("align-content","").replace(k,"")+h}break;case 973:case 989:if(h.charCodeAt(3)!==H||122===h.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?Ue(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):h.replace(u,M+u)+h.replace(u,C+u.replace("fill-",""))+h;break;case 962:if(h=M+h+(102===h.charCodeAt(5)?A+h:"")+h,n+r===211&&105===h.charCodeAt(13)&&h.indexOf("transform",10)>0)return h.substring(0,h.indexOf(";",27)+1).replace(o,"$1"+M+"$2")+h}return h}function Be(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),i=e.substring(n+1,e.length-1);return Se(2!==t?r:r.replace(S,"$1"),i,t)}function Ge(e,t){var n=Ue(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function qe(e,t,n,r,i,a,o,s,c,u){for(var l,h=0,f=t;h<ke;++h)switch(l=xe[h].call(Ye,e,f,n,r,i,a,o,s,c,u)){case void 0:case!1:case!0:case null:break;default:f=l}if(f!==t)return f}function He(e,t,n,r){for(var i=t+1;i<n;++i)switch(r.charCodeAt(i)){case Z:if(e===Y&&r.charCodeAt(i-1)===Y&&t+2!==i)return i+1;break;case z:if(e===Z)return i+1}return i}function We(e){for(var t in e){var n=e[t];switch(t){case"keyframe":De=0|n;break;case"global":ge=0|n;break;case"cascade":ye=0|n;break;case"compress":Oe=0|n;break;case"semicolon":je=0|n;break;case"preserve":we=0|n;break;case"prefix":Se=null,n?"function"!=typeof n?me=1:(me=2,Se=n):me=0}}return We}function Ye(t,n){if(void 0!==this&&this.constructor===Ye)return e(t);var i=t,a=i.charCodeAt(0);a<33&&(a=(i=i.trim()).charCodeAt(0)),De>0&&(Le=i.replace(d,a===N?"":"-")),a=1,1===ye?Ne=i:Re=i;var o,s=[Ne];ke>0&&void 0!==(o=qe(Te,n,s,s,be,pe,0,0,0,0))&&"string"==typeof o&&(n=o);var c=Fe(_e,s,n,0,0);return ke>0&&void 0!==(o=qe(Ee,c,s,s,be,pe,c.length,0,0,0))&&"string"!=typeof(c=o)&&(a=0),Le="",Ne="",Re="",ve=0,be=1,pe=1,Oe*a==0?c:c.replace(r,"").replace(y,"").replace(m,"$1").replace(g,"$1").replace(O," ")}return Ye.use=function e(t){switch(t){case void 0:case null:ke=xe.length=0;break;default:if("function"==typeof t)xe[ke++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else Ie=0|!!t}return e},Ye.set=We,void 0!==t&&We(t),Ye}(null)},function(e,t,n){"use strict";function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}t.a=function(e,t){var n;void 0===t&&(t=r);var i,a=[],o=!1;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return o&&n===this&&t(r,a)||(i=e.apply(this,r),o=!0,n=this,a=r),i}}},function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var i=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:c(s(e))}function u(e){return e&&e.referenceNode?e.referenceNode:e}var l=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?l:10===e?h:l||h}function d(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===o(n,"position")?d(n):n:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null!==e.parentNode?p(e.parentNode):e}function b(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||d(e.firstElementChild)===e)}(o)?o:d(o);var s=p(e);return s.host?b(s.host,t):b(e,p(t).host)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[n]}return e[n]}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(t,"top"),i=v(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}function m(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function g(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function O(e){var t=e.body,n=e.documentElement,r=f(10)&&getComputedStyle(n);return{height:g("Height",t,n,r),width:g("Width",t,n,r)}}var j=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function k(e){return x({},e,{right:e.left+e.width,bottom:e.top+e.height})}function S(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=v(e,"top"),r=v(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(d){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?O(e.ownerDocument):{},s=a.width||e.clientWidth||i.width,c=a.height||e.clientHeight||i.height,u=e.offsetWidth-s,l=e.offsetHeight-c;if(u||l){var h=o(e);u-=m(h,"x"),l-=m(h,"y"),i.width-=u,i.height-=l}return k(i)}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),i="HTML"===t.nodeName,a=S(e),s=S(t),u=c(e),l=o(t),h=parseFloat(l.borderTopWidth),d=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=k({top:a.top-s.top-h,left:a.left-s.left-d,width:a.width,height:a.height});if(p.marginTop=0,p.marginLeft=0,!r&&i){var b=parseFloat(l.marginTop),v=parseFloat(l.marginLeft);p.top-=h-b,p.bottom-=h-b,p.left-=d-v,p.right-=d-v,p.marginTop=b,p.marginLeft=v}return(r&&!n?t.contains(u):t===u&&"BODY"!==u.nodeName)&&(p=y(p,t)),p}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=E(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:v(n),s=t?0:v(n,"left"),c={top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:a};return k(c)}function M(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===o(e,"position"))return!0;var n=s(e);return!!n&&M(n)}function C(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function A(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?C(e):b(e,u(t));if("viewport"===r)a=T(o,i);else{var l=void 0;"scrollParent"===r?"BODY"===(l=c(s(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===r?e.ownerDocument.documentElement:r;var h=E(l,o,i);if("HTML"!==l.nodeName||M(o))a=h;else{var f=O(e.ownerDocument),d=f.height,p=f.width;a.top+=h.top-h.marginTop,a.bottom=d+h.top,a.left+=h.left-h.marginLeft,a.right=p+h.left}}var v="number"===typeof(n=n||0);return a.left+=v?n:n.left||0,a.top+=v?n:n.top||0,a.right-=v?n:n.right||0,a.bottom-=v?n:n.bottom||0,a}function P(e){return e.width*e.height}function I(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=A(n,r,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},c=Object.keys(s).map((function(e){return x({key:e},s[e],{area:P(s[e])})})).sort((function(e,t){return t.area-e.area})),u=c.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=u.length>0?u[0].key:c[0].key,h=e.split("-")[1];return l+(h?"-"+h:"")}function D(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?C(t):b(t,u(n));return E(n,i,r)}function L(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function R(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function N(e,t,n){n=n.split("-")[0];var r=L(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",c=a?"height":"width",u=a?"width":"height";return i[o]=t[o]+t[c]/2-r[c]/2,i[s]=n===s?t[s]-r[u]:t[R(s)],i}function F(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function z(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=F(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&a(n)&&(t.offsets.popper=k(t.offsets.popper),t.offsets.reference=k(t.offsets.reference),t=n(t,e))})),t}function V(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=D(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=I(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=N(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=z(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function U(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function B(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],a=i?""+i+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function G(){return this.state.isDestroyed=!0,U(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[B("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function q(e){var t=e.ownerDocument;return t?t.defaultView:window}function H(e,t,n,r){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),i||H(c(a.parentNode),t,n,r),r.push(a)}function W(e,t,n,r){n.updateBound=r,q(e).addEventListener("resize",n.updateBound,{passive:!0});var i=c(e);return H(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Y(){this.state.eventsEnabled||(this.state=W(this.reference,this.options,this.state,this.scheduleUpdate))}function J(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,q(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function K(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function X(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&K(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var Q=n&&/Firefox/i.test(navigator.userAgent);function Z(e,t,n){var r=F(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var $=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ee=$.slice(3);function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ee.indexOf(e),r=ee.slice(n+1).concat(ee.slice(0,n));return t?r.reverse():r}var ne="flip",re="clockwise",ie="counterclockwise";function ae(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(F(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=-1!==s?[o.slice(0,s).concat([o[s].split(c)[0]]),[o[s].split(c)[1]].concat(o.slice(s+1))]:[o];return(u=u.map((function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}return k(s)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){K(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",u=s?"width":"height",l={start:_({},c,a[c]),end:_({},c,a[c]+a[u]-o[u])};e.offsets.popper=x({},o,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=r.split("-")[0],c=void 0;return c=K(+n)?[+n,0]:ae(n,a,o,s),"left"===s?(a.top+=c[0],a.left-=c[1]):"right"===s?(a.top+=c[0],a.left+=c[1]):"top"===s?(a.left+=c[0],a.top-=c[1]):"bottom"===s&&(a.left+=c[0],a.top+=c[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||d(e.instance.popper);e.instance.reference===n&&(n=d(n));var r=B("transform"),i=e.instance.popper.style,a=i.top,o=i.left,s=i[r];i.top="",i.left="",i[r]="";var c=A(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=o,i[r]=s,t.boundaries=c;var u=t.priority,l=e.offsets.popper,h={primary:function(e){var n=l[e];return l[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(l[e],c[e])),_({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(l[n],c[e]-("right"===e?l.width:l.height))),_({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=x({},l,h[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",c=o?"left":"top",u=o?"width":"height";return n[s]<a(r[c])&&(e.offsets.popper[c]=a(r[c])-n[u]),n[c]>a(r[s])&&(e.offsets.popper[c]=a(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Z(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,s=a.popper,c=a.reference,u=-1!==["left","right"].indexOf(i),l=u?"height":"width",h=u?"Top":"Left",f=h.toLowerCase(),d=u?"left":"top",p=u?"bottom":"right",b=L(r)[l];c[p]-b<s[f]&&(e.offsets.popper[f]-=s[f]-(c[p]-b)),c[f]+b>s[p]&&(e.offsets.popper[f]+=c[f]+b-s[p]),e.offsets.popper=k(e.offsets.popper);var v=c[f]+c[l]/2-b/2,y=o(e.instance.popper),m=parseFloat(y["margin"+h]),g=parseFloat(y["border"+h+"Width"]),O=v-e.offsets.popper[f]-m-g;return O=Math.max(Math.min(s[l]-b,O),0),e.arrowElement=r,e.offsets.arrow=(_(n={},f,Math.round(O)),_(n,d,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(U(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=A(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=R(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case ne:o=[r,i];break;case re:o=te(r);break;case ie:o=te(r,!0);break;default:o=t.behavior}return o.forEach((function(s,c){if(r!==s||o.length===c+1)return e;r=e.placement.split("-")[0],i=R(r);var u=e.offsets.popper,l=e.offsets.reference,h=Math.floor,f="left"===r&&h(u.right)>h(l.left)||"right"===r&&h(u.left)<h(l.right)||"top"===r&&h(u.bottom)>h(l.top)||"bottom"===r&&h(u.top)<h(l.bottom),d=h(u.left)<h(n.left),p=h(u.right)>h(n.right),b=h(u.top)<h(n.top),v=h(u.bottom)>h(n.bottom),y="left"===r&&d||"right"===r&&p||"top"===r&&b||"bottom"===r&&v,m=-1!==["top","bottom"].indexOf(r),g=!!t.flipVariations&&(m&&"start"===a&&d||m&&"end"===a&&p||!m&&"start"===a&&b||!m&&"end"===a&&v),O=!!t.flipVariationsByContent&&(m&&"start"===a&&p||m&&"end"===a&&d||!m&&"start"===a&&v||!m&&"end"===a&&b),j=g||O;(f||y||j)&&(e.flipped=!0,(f||y)&&(r=o[c+1]),j&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=x({},e.offsets.popper,N(e.instance.popper,e.offsets.reference,e.placement)),e=z(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0),e.placement=R(t),e.offsets.popper=k(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Z(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=F(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,a=F(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=d(e.instance.popper),c=S(s),u={position:i.position},l=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,s=function(e){return e},c=a(i.width),u=a(r.width),l=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),f=t?l||h||c%2===u%2?a:o:s,d=t?a:s;return{left:f(c%2===1&&u%2===1&&!h&&t?r.left-1:r.left),top:d(r.top),bottom:d(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!Q),h="bottom"===n?"top":"bottom",f="right"===r?"left":"right",p=B("transform"),b=void 0,v=void 0;if(v="bottom"===h?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-c.height+l.bottom:l.top,b="right"===f?"HTML"===s.nodeName?-s.clientWidth+l.right:-c.width+l.right:l.left,o&&p)u[p]="translate3d("+b+"px, "+v+"px, 0)",u[h]=0,u[f]=0,u.willChange="transform";else{var y="bottom"===h?-1:1,m="right"===f?-1:1;u[h]=v*y,u[f]=b*m,u.willChange=h+", "+f}var g={"x-placement":e.placement};return e.attributes=x({},g,e.attributes),e.styles=x({},u,e.styles),e.arrowStyles=x({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return X(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&X(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var a=D(i,t,e,n.positionFixed),o=I(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),X(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},se=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};j(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=x({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(x({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=x({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return x({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&a(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(e,[{key:"update",value:function(){return V.call(this)}},{key:"destroy",value:function(){return G.call(this)}},{key:"enableEventListeners",value:function(){return Y.call(this)}},{key:"disableEventListeners",value:function(){return J.call(this)}}]),e}();se.Utils=("undefined"!==typeof window?window:e).PopperUtils,se.placements=$,se.Defaults=oe,t.a=se}).call(this,n(317))},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(19)),i=a(n(794));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||i.default,e.exports=t.default},function(e,t,n){(function(e){!function(t,n,r,i,a,o,s,c,u,l,h,f,d,p,b,v,y,m,g,O,j,w,_,x,k,S,E,T,M,C,A,P,I,D,L,R,N,F,z,V,U,B,G,q,H,W,Y,J,K,X,Q,Z,$,ee,te,ne,re,ie,ae,oe,se,ce,ue){"use strict";function le(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var he=le(n),fe=le(i),de=le(a),pe=le(o),be=le(s),ve=le(c),ye=le(u),me=le(l),ge=le(h),Oe=le(f),je=le(d),we=le(v),_e=le(y),xe=le(m),ke=le(g),Se=le(O),Ee=le(j),Te=le(w),Me=le(_),Ce=le(x),Ae=le(k),Pe=le(S),Ie=le(E),De=le(T),Le=le(M),Re=le(C),Ne=le(A),Fe=le(P),ze=le(I),Ve=le(D),Ue=le(L),Be=le(R),Ge=le(N),qe=le(F),He=le(z),We=le(U),Ye=le(B),Je=le(G),Ke=le(q),Xe=le(H),Qe=le(W),Ze=le(Y),$e=le(X),et=le(Q),tt=le(Z),nt=le($),rt=le(ee),it=le(te),at=le(ne),ot=le(re),st=le(ie),ct=le(ae),ut=le(oe),lt=le(se),ht=le(ue);function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t,n){return t&&pt(e.prototype,t),n&&pt(e,n),e}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_t(e):t}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var i=jt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xt(this,n)}}function St(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Et(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tt(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function Mt(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var Ct={p:Mt,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),i=r[1],a=r[2];if(!a)return Tt(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Tt(i,t)).replace("{{time}}",Mt(a,t))}},At=12,Pt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function It(e){var t=e?"string"==typeof e||e instanceof String?ut.default(e):st.default(e):new Date;return Lt(t)?t:null}function Dt(e,t,n,r){var i=null,a=Zt(n)||Zt(Qt()),o=!0;return Array.isArray(t)?(t.forEach((function(t){var n=ct.default(e,t,new Date,{locale:a});r&&(o=Lt(n)&&e===be.default(n,t,{awareOfUnicodeTokens:!0})),Lt(n)&&o&&(i=n)})),i):(i=ct.default(e,t,new Date,{locale:a}),r?o=Lt(i)&&e===be.default(i,t,{awareOfUnicodeTokens:!0}):Lt(i)||(t=t.match(Pt).map((function(e){var t=e[0];return"p"===t||"P"===t?a?(0,Ct[t])(e,a.formatLong):t:e})).join(""),e.length>0&&(i=ct.default(e,t.slice(0,e.length),new Date)),Lt(i)||(i=new Date(e))),Lt(i)&&o?i:null)}function Lt(e){return pe.default(e)&&it.default(e,new Date("1/1/1000"))}function Rt(e,t,n){if("en"===n)return be.default(e,t,{awareOfUnicodeTokens:!0});var r=Zt(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Qt()&&Zt(Qt())&&(r=Zt(Qt())),be.default(e,t,{locale:r||null,awareOfUnicodeTokens:!0})}function Nt(e,t){var n=t.hour,r=void 0===n?0:n,i=t.minute,a=void 0===i?0:i,o=t.second,s=void 0===o?0:o;return Fe.default(Ne.default(Re.default(e,s),a),r)}function Ft(e,t){var n=t&&Zt(t)||Qt()&&Zt(Qt());return Ae.default(e,n?{locale:n}:null)}function zt(e,t){return Rt(e,"ddd",t)}function Vt(e){return Ye.default(e)}function Ut(e,t){var n=Zt(t||Qt());return Je.default(e,{locale:n})}function Bt(e){return Ke.default(e)}function Gt(e){return Qe.default(e)}function qt(e){return Xe.default(e)}function Ht(e,t){return e&&t?nt.default(e,t):!e&&!t}function Wt(e,t){return e&&t?tt.default(e,t):!e&&!t}function Yt(e,t){return e&&t?rt.default(e,t):!e&&!t}function Jt(e,t){return e&&t?et.default(e,t):!e&&!t}function Kt(e,t){return e&&t?$e.default(e,t):!e&&!t}function Xt(e,t,n){var r,i=Ye.default(t),a=Ze.default(n);try{r=ot.default(e,{start:i,end:a})}catch(e){r=!1}return r}function Qt(){return("undefined"!=typeof window?window:e).__localeId__}function Zt(t){if("string"==typeof t){var n="undefined"!=typeof window?window:e;return n.__localeData__?n.__localeData__[t]:null}return t}function $t(e,t){return Rt(ze.default(It(),e),"LLLL",t)}function en(e,t){return Rt(ze.default(It(),e),"LLL",t)}function tn(e,t){return Rt(Ve.default(It(),e),"QQQ",t)}function nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,i=t.excludeDates,a=t.includeDates,o=t.filterDate;return ln(e,{minDate:n,maxDate:r})||i&&i.some((function(t){return Jt(e,t)}))||a&&!a.some((function(t){return Jt(e,t)}))||o&&!o(It(e))||!1}function rn(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).excludeDates;return t&&t.some((function(t){return Jt(e,t)}))||!1}function an(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,i=t.excludeDates,a=t.includeDates,o=t.filterDate;return ln(e,{minDate:n,maxDate:r})||i&&i.some((function(t){return Wt(e,t)}))||a&&!a.some((function(t){return Wt(e,t)}))||o&&!o(It(e))||!1}function on(e,t,n,r){var i=De.default(e),a=Pe.default(e),o=De.default(t),s=Pe.default(t),c=De.default(r);return i===o&&i===c?a<=n&&n<=s:i<o?c===i&&a<=n||c===o&&s>=n||c<o&&c>i:void 0}function sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,i=t.excludeDates,a=t.includeDates,o=t.filterDate;return ln(e,{minDate:n,maxDate:r})||i&&i.some((function(t){return Yt(e,t)}))||a&&!a.some((function(t){return Yt(e,t)}))||o&&!o(It(e))||!1}function cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return ln(new Date(e,0,1),{minDate:n,maxDate:r})||!1}function un(e,t,n,r){var i=De.default(e),a=Ie.default(e),o=De.default(t),s=Ie.default(t),c=De.default(r);return i===o&&i===c?a<=n&&n<=s:i<o?c===i&&a<=n||c===o&&s>=n||c<o&&c>i:void 0}function ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return n&&qe.default(e,n)<0||r&&qe.default(e,r)>0}function hn(e,t){return t.some((function(t){return Te.default(t)===Te.default(e)&&Ee.default(t)===Ee.default(e)}))}function fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeTimes,r=t.includeTimes,i=t.filterTime;return n&&hn(e,n)||r&&!hn(e,r)||i&&!i(e)||!1}function dn(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i,a=It(),o=Fe.default(Ne.default(a,Ee.default(e)),Te.default(e)),s=Fe.default(Ne.default(a,Ee.default(n)),Te.default(n)),c=Fe.default(Ne.default(a,Ee.default(r)),Te.default(r));try{i=!ot.default(o,{start:s,end:c})}catch(e){i=!1}return i}function pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,i=xe.default(e,1);return n&&He.default(n,i)>0||r&&r.every((function(e){return He.default(e,i)>0}))||!1}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,i=Oe.default(e,1);return n&&He.default(i,n)>0||r&&r.every((function(e){return He.default(i,e)>0}))||!1}function vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,i=ke.default(e,1);return n&&We.default(n,i)>0||r&&r.every((function(e){return We.default(e,i)>0}))||!1}function yn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,i=je.default(e,1);return n&&We.default(i,n)>0||r&&r.every((function(e){return We.default(i,e)>0}))||!1}function mn(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return qe.default(e,t)>=0}));return Be.default(r)}return n?Be.default(n):t}function gn(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return qe.default(e,t)<=0}));return Ge.default(r)}return n?Ge.default(n):t}function On(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,i=e.length;r<i;r++){var a=e[r];if(de.default(a)){var o=Rt(a,"MM.dd.yyyy"),s=n.get(o)||[];s.includes(t)||(s.push(t),n.set(o,s))}else if("object"===ft(a)){var c=Object.keys(a),u=c[0],l=a[c[0]];if("string"==typeof u&&l.constructor===Array)for(var h=0,f=l.length;h<f;h++){var d=Rt(l[h],"MM.dd.yyyy"),p=n.get(d)||[];p.includes(u)||(p.push(u),n.set(d,p))}}}return n}function jn(e,t,n,r,i){for(var a=i.length,o=[],s=0;s<a;s++){var c=ve.default(ye.default(e,Te.default(i[s])),Ee.default(i[s])),u=ve.default(e,(n+1)*r);it.default(c,t)&&at.default(c,u)&&o.push(i[s])}return o}function wn(e){return e<10?"0".concat(e):"".concat(e)}function _n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:At,n=Math.ceil(De.default(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function xn(e,t,n,r){for(var i=[],a=0;a<2*t+1;a++){var o=e+t-a,s=!0;n&&(s=De.default(n)<=o),r&&s&&(s=De.default(r)>=o),s&&i.push(o)}return i}var kn=function(e){Ot(n,e);var t=kt(n);function n(e){var r;dt(this,n),vt(_t(r=t.call(this,e)),"renderOptions",(function(){var e=r.props.year,t=r.state.yearsList.map((function(t){return he.default.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:r.onChange.bind(_t(r),t)},e===t?he.default.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)})),n=r.props.minDate?De.default(r.props.minDate):null,i=r.props.maxDate?De.default(r.props.maxDate):null;return i&&r.state.yearsList.find((function(e){return e===i}))||t.unshift(he.default.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},he.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),n&&r.state.yearsList.find((function(e){return e===n}))||t.push(he.default.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},he.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t})),vt(_t(r),"onChange",(function(e){r.props.onChange(e)})),vt(_t(r),"handleClickOutside",(function(){r.props.onCancel()})),vt(_t(r),"shiftYears",(function(e){var t=r.state.yearsList.map((function(t){return t+e}));r.setState({yearsList:t})})),vt(_t(r),"incrementYears",(function(){return r.shiftYears(1)})),vt(_t(r),"decrementYears",(function(){return r.shiftYears(-1)}));var i=e.yearDropdownItemNumber,a=e.scrollableYearDropdown,o=i||(a?10:5);return r.state={yearsList:xn(r.props.year,o,r.props.minDate,r.props.maxDate)},r}return bt(n,[{key:"render",value:function(){var e=fe.default({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return he.default.createElement("div",{className:e},this.renderOptions())}}]),n}(he.default.Component),Sn=lt.default(kn),En=function(e){Ot(n,e);var t=kt(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return vt(_t(e=t.call.apply(t,[this].concat(i))),"state",{dropdownVisible:!1}),vt(_t(e),"renderSelectOptions",(function(){for(var t=e.props.minDate?De.default(e.props.minDate):1900,n=e.props.maxDate?De.default(e.props.maxDate):2100,r=[],i=t;i<=n;i++)r.push(he.default.createElement("option",{key:i,value:i},i));return r})),vt(_t(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),vt(_t(e),"renderSelectMode",(function(){return he.default.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),vt(_t(e),"renderReadView",(function(t){return he.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(t){return e.toggleDropdown(t)}},he.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),he.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))})),vt(_t(e),"renderDropdown",(function(){return he.default.createElement(Sn,{key:"dropdown",year:e.props.year,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableYearDropdown:e.props.scrollableYearDropdown,yearDropdownItemNumber:e.props.yearDropdownItemNumber})})),vt(_t(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),vt(_t(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.year&&e.props.onChange(t)})),vt(_t(e),"toggleDropdown",(function(t){e.setState({dropdownVisible:!e.state.dropdownVisible},(function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,t)}))})),vt(_t(e),"handleYearChange",(function(t,n){e.onSelect(t,n),e.setOpen()})),vt(_t(e),"onSelect",(function(t,n){e.props.onSelect&&e.props.onSelect(t,n)})),vt(_t(e),"setOpen",(function(){e.props.setOpen&&e.props.setOpen(!0)})),e}return bt(n,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return he.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(he.default.Component),Tn=function(e){Ot(n,e);var t=kt(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return vt(_t(e=t.call.apply(t,[this].concat(i))),"renderOptions",(function(){return e.props.monthNames.map((function(t,n){return he.default.createElement("div",{className:e.props.month===n?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:e.onChange.bind(_t(e),n)},e.props.month===n?he.default.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",t)}))})),vt(_t(e),"onChange",(function(t){return e.props.onChange(t)})),vt(_t(e),"handleClickOutside",(function(){return e.props.onCancel()})),e}return bt(n,[{key:"render",value:function(){return he.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),n}(he.default.Component),Mn=lt.default(Tn),Cn=function(e){Ot(n,e);var t=kt(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return vt(_t(e=t.call.apply(t,[this].concat(i))),"state",{dropdownVisible:!1}),vt(_t(e),"renderSelectOptions",(function(e){return e.map((function(e,t){return he.default.createElement("option",{key:t,value:t},e)}))})),vt(_t(e),"renderSelectMode",(function(t){return he.default.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(t){return e.onChange(t.target.value)}},e.renderSelectOptions(t))})),vt(_t(e),"renderReadView",(function(t,n){return he.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},he.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),he.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[e.props.month]))})),vt(_t(e),"renderDropdown",(function(t){return he.default.createElement(Mn,{key:"dropdown",month:e.props.month,monthNames:t,onChange:e.onChange,onCancel:e.toggleDropdown})})),vt(_t(e),"renderScrollMode",(function(t){var n=e.state.dropdownVisible,r=[e.renderReadView(!n,t)];return n&&r.unshift(e.renderDropdown(t)),r})),vt(_t(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.month&&e.props.onChange(t)})),vt(_t(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return bt(n,[{key:"render",value:function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return en(e,t.props.locale)}:function(e){return $t(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return he.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(he.default.Component);function An(e,t){for(var n=[],r=Bt(e),i=Bt(t);!it.default(r,i);)n.push(It(r)),r=Oe.default(r,1);return n}var Pn=function(e){Ot(n,e);var t=kt(n);function n(e){var r;return dt(this,n),vt(_t(r=t.call(this,e)),"renderOptions",(function(){return r.state.monthYearsList.map((function(e){var t=Le.default(e),n=Ht(r.props.date,e)&&Wt(r.props.date,e);return he.default.createElement("div",{className:n?"react-datepicker__month-year-option --selected_month-year":"react-datepicker__month-year-option",key:t,onClick:r.onChange.bind(_t(r),t)},n?he.default.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",Rt(e,r.props.dateFormat,r.props.locale))}))})),vt(_t(r),"onChange",(function(e){return r.props.onChange(e)})),vt(_t(r),"handleClickOutside",(function(){r.props.onCancel()})),r.state={monthYearsList:An(r.props.minDate,r.props.maxDate)},r}return bt(n,[{key:"render",value:function(){var e=fe.default({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return he.default.createElement("div",{className:e},this.renderOptions())}}]),n}(he.default.Component),In=lt.default(Pn),Dn=function(e){Ot(n,e);var t=kt(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return vt(_t(e=t.call.apply(t,[this].concat(i))),"state",{dropdownVisible:!1}),vt(_t(e),"renderSelectOptions",(function(){for(var t=Bt(e.props.minDate),n=Bt(e.props.maxDate),r=[];!it.default(t,n);){var i=Le.default(t);r.push(he.default.createElement("option",{key:i,value:i},Rt(t,e.props.dateFormat,e.props.locale))),t=Oe.default(t,1)}return r})),vt(_t(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),vt(_t(e),"renderSelectMode",(function(){return he.default.createElement("select",{value:Le.default(Bt(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),vt(_t(e),"renderReadView",(function(t){var n=Rt(e.props.date,e.props.dateFormat,e.props.locale);return he.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(t){return e.toggleDropdown(t)}},he.default.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),he.default.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))})),vt(_t(e),"renderDropdown",(function(){return he.default.createElement(In,{key:"dropdown",date:e.props.date,dateFormat:e.props.dateFormat,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableMonthYearDropdown:e.props.scrollableMonthYearDropdown,locale:e.props.locale})})),vt(_t(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),vt(_t(e),"onChange",(function(t){e.toggleDropdown();var n=It(parseInt(t));Ht(e.props.date,n)&&Wt(e.props.date,n)||e.props.onChange(n)})),vt(_t(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return bt(n,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return he.default.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(he.default.Component),Ln=function(e){Ot(n,e);var t=kt(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return vt(_t(e=t.call.apply(t,[this].concat(i))),"dayEl",he.default.createRef()),vt(_t(e),"handleClick",(function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)})),vt(_t(e),"handleMouseEnter",(function(t){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(t)})),vt(_t(e),"handleOnKeyDown",(function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)})),vt(_t(e),"isSameDay",(function(t){return Jt(e.props.day,t)})),vt(_t(e),"isKeyboardSelected",(function(){return!e.props.disabledKeyboardNavigation&&!e.isSameDay(e.props.selected)&&e.isSameDay(e.props.preSelection)})),vt(_t(e),"isDisabled",(function(){return nn(e.props.day,e.props)})),vt(_t(e),"isExcluded",(function(){return rn(e.props.day,e.props)})),vt(_t(e),"getHighLightedClass",(function(t){var n=e.props,r=n.day,i=n.highlightDates;if(!i)return!1;var a=Rt(r,"MM.dd.yyyy");return i.get(a)})),vt(_t(e),"isInRange",(function(){var t=e.props,n=t.day,r=t.startDate,i=t.endDate;return!(!r||!i)&&Xt(n,r,i)})),vt(_t(e),"isInSelectingRange",(function(){var t=e.props,n=t.day,r=t.selectsStart,i=t.selectsEnd,a=t.selectsRange,o=t.selectingDate,s=t.startDate,c=t.endDate;return!(!(r||i||a)||!o||e.isDisabled())&&(r&&c&&(at.default(o,c)||Kt(o,c))?Xt(n,o,c):(i&&s&&(it.default(o,s)||Kt(o,s))||!(!a||!s||c||!it.default(o,s)&&!Kt(o,s)))&&Xt(n,s,o))})),vt(_t(e),"isSelectingRangeStart",(function(){if(!e.isInSelectingRange())return!1;var t=e.props,n=t.day,r=t.selectingDate,i=t.startDate;return Jt(n,t.selectsStart?r:i)})),vt(_t(e),"isSelectingRangeEnd",(function(){if(!e.isInSelectingRange())return!1;var t=e.props,n=t.day,r=t.selectingDate,i=t.endDate;return Jt(n,t.selectsEnd?r:i)})),vt(_t(e),"isRangeStart",(function(){var t=e.props,n=t.day,r=t.startDate,i=t.endDate;return!(!r||!i)&&Jt(r,n)})),vt(_t(e),"isRangeEnd",(function(){var t=e.props,n=t.day,r=t.startDate,i=t.endDate;return!(!r||!i)&&Jt(i,n)})),vt(_t(e),"isWeekend",(function(){var t=Me.default(e.props.day);return 0===t||6===t})),vt(_t(e),"isOutsideMonth",(function(){return void 0!==e.props.month&&e.props.month!==Pe.default(e.props.day)})),vt(_t(e),"getClassNames",(function(t){var n=e.props.dayClassName?e.props.dayClassName(t):void 0;return fe.default("react-datepicker__day",n,"react-datepicker__day--"+zt(e.props.day),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSameDay(e.props.selected),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isSameDay(It()),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isOutsideMonth()},e.getHighLightedClass("react-datepicker__day--highlighted"))})),vt(_t(e),"getAriaLabel",(function(){var t=e.props,n=t.day,r=t.ariaLabelPrefixWhenEnabled,i=void 0===r?"Choose":r,a=t.ariaLabelPrefixWhenDisabled,o=void 0===a?"Not available":a,s=e.isDisabled()||e.isExcluded()?o:i;return"".concat(s," ").concat(Rt(n,"PPPP"))})),vt(_t(e),"getTabIndex",(function(t,n){var r=t||e.props.selected,i=n||e.props.preSelection;return e.isKeyboardSelected()||e.isSameDay(r)&&Jt(i,r)?0:-1})),vt(_t(e),"handleFocusDay",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!1;0===e.getTabIndex()&&!t.isInputFocused&&e.isSameDay(e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(n=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(n=!0)),n&&e.dayEl.current.focus({preventScroll:!0})})),vt(_t(e),"renderDayContents",(function(){if(e.isOutsideMonth()){if(e.props.monthShowsDuplicateDaysEnd&&Ce.default(e.props.day)<10)return null;if(e.props.monthShowsDuplicateDaysStart&&Ce.default(e.props.day)>20)return null}return e.props.renderDayContents?e.props.renderDayContents(Ce.default(e.props.day),e.props.day):Ce.default(e.props.day)})),vt(_t(e),"render",(function(){return he.default.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"button","aria-disabled":e.isDisabled()},e.renderDayContents())})),e}return bt(n,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(e){this.handleFocusDay(e)}}]),n}(he.default.Component),Rn=function(e){Ot(n,e);var t=kt(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return vt(_t(e=t.call.apply(t,[this].concat(i))),"handleClick",(function(t){e.props.onClick&&e.props.onClick(t)})),e}return bt(n,[{key:"render",value:function(){var e=this.props,t=e.weekNumber,n=e.ariaLabelPrefix,r=void 0===n?"week ":n,i={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!e.onClick};return he.default.createElement("div",{className:fe.default(i),"aria-label":"".concat(r," ").concat(this.props.weekNumber),onClick:this.handleClick},t)}}]),n}(he.default.Component),Nn=function(e){Ot(n,e);var t=kt(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return vt(_t(e=t.call.apply(t,[this].concat(i))),"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n)})),vt(_t(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),vt(_t(e),"handleWeekClick",(function(t,n,r){"function"==typeof e.props.onWeekSelect&&e.props.onWeekSelect(t,n,r),e.props.shouldCloseOnSelect&&e.props.setOpen(!1)})),vt(_t(e),"formatWeekNumber",(function(t){return e.props.formatWeekNumber?e.props.formatWeekNumber(t):Ft(t)})),vt(_t(e),"renderDays",(function(){var t=Ut(e.props.day,e.props.locale),n=[],r=e.formatWeekNumber(t);if(e.props.showWeekNumber){var i=e.props.onWeekSelect?e.handleWeekClick.bind(_t(e),t,r):void 0;n.push(he.default.createElement(Rn,{key:"W",weekNumber:r,onClick:i,ariaLabelPrefix:e.props.ariaLabelPrefix}))}return n.concat([0,1,2,3,4,5,6].map((function(n){var r=me.default(t,n);return he.default.createElement(Ln,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:r.valueOf(),day:r,month:e.props.month,onClick:e.handleDayClick.bind(_t(e),r),onMouseEnter:e.handleDayMouseEnter.bind(_t(e),r),minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,includeDates:e.props.includeDates,highlightDates:e.props.highlightDates,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,renderDayContents:e.props.renderDayContents,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart})})))})),e}return bt(n,[{key:"render",value:function(){return he.default.createElement("div",{className:"react-datepicker__week"},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),n}(he.default.Component),Fn=function(e){Ot(n,e);var t=kt(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return vt(_t(e=t.call.apply(t,[this].concat(i))),"MONTH_REFS",St(Array(12)).map((function(){return he.default.createRef()}))),vt(_t(e),"isDisabled",(function(t){return nn(t,e.props)})),vt(_t(e),"isExcluded",(function(t){return rn(t,e.props)})),vt(_t(e),"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n,e.props.orderInDisplay)})),vt(_t(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),vt(_t(e),"handleMouseLeave",(function(){e.props.onMouseLeave&&e.props.onMouseLeave()})),vt(_t(e),"isRangeStartMonth",(function(t){var n=e.props,r=n.day,i=n.startDate,a=n.endDate;return!(!i||!a)&&Wt(ze.default(r,t),i)})),vt(_t(e),"isRangeStartQuarter",(function(t){var n=e.props,r=n.day,i=n.startDate,a=n.endDate;return!(!i||!a)&&Yt(Ve.default(r,t),i)})),vt(_t(e),"isRangeEndMonth",(function(t){var n=e.props,r=n.day,i=n.startDate,a=n.endDate;return!(!i||!a)&&Wt(ze.default(r,t),a)})),vt(_t(e),"isRangeEndQuarter",(function(t){var n=e.props,r=n.day,i=n.startDate,a=n.endDate;return!(!i||!a)&&Yt(Ve.default(r,t),a)})),vt(_t(e),"isWeekInMonth",(function(t){var n=e.props.day,r=me.default(t,6);return Wt(t,n)||Wt(r,n)})),vt(_t(e),"renderWeeks",(function(){for(var t=[],n=e.props.fixedHeight,r=Ut(Bt(e.props.day),e.props.locale),i=0,a=!1;t.push(he.default.createElement(Nn,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:e.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:e.props.disabledDayAriaLabelPrefix,key:i,day:r,month:Pe.default(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,onWeekSelect:e.props.onWeekSelect,formatWeekNumber:e.props.formatWeekNumber,locale:e.props.locale,minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,includeDates:e.props.includeDates,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,highlightDates:e.props.highlightDates,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,showWeekNumber:e.props.showWeekNumbers,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,setOpen:e.props.setOpen,shouldCloseOnSelect:e.props.shouldCloseOnSelect,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,renderDayContents:e.props.renderDayContents,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart})),!a;){i++,r=ge.default(r,1);var o=n&&i>=6,s=!n&&!e.isWeekInMonth(r);if(o||s){if(!e.props.peekNextMonth)break;a=!0}}return t})),vt(_t(e),"onMonthClick",(function(t,n){e.handleDayClick(Bt(ze.default(e.props.day,n)),t)})),vt(_t(e),"handleMonthNavigation",(function(t,n){e.isDisabled(n)||e.isExcluded(n)||(e.props.setPreSelection(n),e.MONTH_REFS[t].current&&e.MONTH_REFS[t].current.focus())})),vt(_t(e),"onMonthKeyDown",(function(t,n){var r=t.key;if(!e.props.disabledKeyboardNavigation)switch(r){case"Enter":e.onMonthClick(t,n),e.props.setPreSelection(e.props.selected);break;case"ArrowRight":e.handleMonthNavigation(11===n?0:n+1,Oe.default(e.props.preSelection,1));break;case"ArrowLeft":e.handleMonthNavigation(0===n?11:n-1,xe.default(e.props.preSelection,1))}})),vt(_t(e),"onQuarterClick",(function(t,n){e.handleDayClick(qt(Ve.default(e.props.day,n)),t)})),vt(_t(e),"getMonthClassNames",(function(t){var n=e.props,r=n.day,i=n.startDate,a=n.endDate,o=n.selected,s=n.minDate,c=n.maxDate,u=n.preSelection,l=n.monthClassName,h=l?l(r):void 0;return fe.default("react-datepicker__month-text","react-datepicker__month-".concat(t),h,{"react-datepicker__month--disabled":(s||c)&&an(ze.default(r,t),e.props),"react-datepicker__month--selected":Pe.default(r)===t&&De.default(r)===De.default(o),"react-datepicker__month-text--keyboard-selected":Pe.default(u)===t,"react-datepicker__month--in-range":on(i,a,t,r),"react-datepicker__month--range-start":e.isRangeStartMonth(t),"react-datepicker__month--range-end":e.isRangeEndMonth(t)})})),vt(_t(e),"getTabIndex",(function(t){var n=Pe.default(e.props.preSelection);return e.props.disabledKeyboardNavigation||t!==n?"-1":"0"})),vt(_t(e),"getAriaLabel",(function(t){var n=e.props,r=n.ariaLabelPrefix,i=void 0===r?"Choose":r,a=n.disabledDayAriaLabelPrefix,o=void 0===a?"Not available":a,s=n.day,c=ze.default(s,t),u=e.isDisabled(c)||e.isExcluded(c)?o:i;return"".concat(u," ").concat(Rt(c,"MMMM yyyy"))})),vt(_t(e),"getQuarterClassNames",(function(t){var n=e.props,r=n.day,i=n.startDate,a=n.endDate,o=n.selected,s=n.minDate,c=n.maxDate;return fe.default("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter--disabled":(s||c)&&sn(Ve.default(r,t),e.props),"react-datepicker__quarter--selected":Ie.default(r)===t&&De.default(r)===De.default(o),"react-datepicker__quarter--in-range":un(i,a,t,r),"react-datepicker__quarter--range-start":e.isRangeStartQuarter(t),"react-datepicker__quarter--range-end":e.isRangeEndQuarter(t)})})),vt(_t(e),"renderMonths",(function(){var t=e.props,n=t.showFullMonthYearPicker,r=t.showTwoColumnMonthYearPicker,i=t.showFourColumnMonthYearPicker,a=t.locale;return(i?[[0,1,2,3],[4,5,6,7],[8,9,10,11]]:r?[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]]:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]]).map((function(t,r){return he.default.createElement("div",{className:"react-datepicker__month-wrapper",key:r},t.map((function(t,r){return he.default.createElement("div",{ref:e.MONTH_REFS[t],key:r,onClick:function(n){e.onMonthClick(n,t)},onKeyDown:function(n){e.onMonthKeyDown(n,t)},tabIndex:e.getTabIndex(t),className:e.getMonthClassNames(t),role:"button","aria-label":e.getAriaLabel(t)},n?$t(t,a):en(t,a))})))}))})),vt(_t(e),"renderQuarters",(function(){return he.default.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(t,n){return he.default.createElement("div",{key:n,onClick:function(n){e.onQuarterClick(n,t)},className:e.getQuarterClassNames(t)},tn(t,e.props.locale))})))})),vt(_t(e),"getClassNames",(function(){var t=e.props;t.day;var n=t.selectingDate,r=t.selectsStart,i=t.selectsEnd,a=t.showMonthYearPicker,o=t.showQuarterYearPicker;return fe.default("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||i)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":o})})),e}return bt(n,[{key:"render",value:function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,i=e.ariaLabelPrefix,a=void 0===i?"month ":i;return he.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(a," ").concat(Rt(r,"yyyy-MM"))},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())}}]),n}(he.default.Component),zn=function(e){Ot(n,e);var t=kt(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return vt(_t(e=t.call.apply(t,[this].concat(i))),"state",{height:null}),vt(_t(e),"handleClick",(function(t){(e.props.minTime||e.props.maxTime)&&dn(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&fn(t,e.props)||e.props.onChange(t)})),vt(_t(e),"liClasses",(function(t,n,r){var i=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(t,n,r):void 0];return e.props.selected&&n===Te.default(t)&&r===Ee.default(t)&&i.push("react-datepicker__time-list-item--selected"),((e.props.minTime||e.props.maxTime)&&dn(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&fn(t,e.props))&&i.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(60*Te.default(t)+Ee.default(t))%e.props.intervals!=0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")})),vt(_t(e),"renderTimes",(function(){for(var t=[],n=e.props.format?e.props.format:"p",r=e.props.intervals,i=Vt(It(e.props.selected)),a=1440/r,o=e.props.injectTimes&&e.props.injectTimes.sort((function(e,t){return e-t})),s=e.props.selected||e.props.openToDate||It(),c=Te.default(s),u=Ee.default(s),l=Fe.default(Ne.default(i,u),c),h=0;h<a;h++){var f=ve.default(i,h*r);if(t.push(f),o){var d=jn(i,f,h,r,o);t=t.concat(d)}}return t.map((function(t,r){return he.default.createElement("li",{key:r,onClick:e.handleClick.bind(_t(e),t),className:e.liClasses(t,c,u),ref:function(n){(at.default(t,l)||Kt(t,l))&&(e.centerLi=n)},tabIndex:"0"},Rt(t,n,e.props.locale))}))})),e}return bt(n,[{key:"componentDidMount",value:function(){this.list.scrollTop=n.calcCenterPosition(this.props.monthRef?this.props.monthRef.clientHeight-this.header.clientHeight:this.list.clientHeight,this.centerLi),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var e=this,t=this.state.height;return he.default.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},he.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){e.header=t}},he.default.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),he.default.createElement("div",{className:"react-datepicker__time"},he.default.createElement("div",{className:"react-datepicker__time-box"},he.default.createElement("ul",{className:"react-datepicker__time-list",ref:function(t){e.list=t},style:t?{height:t}:{},tabIndex:"0"},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),n}(he.default.Component);vt(zn,"calcCenterPosition",(function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)}));var Vn=function(e){Ot(n,e);var t=kt(n);function n(e){var r;return dt(this,n),vt(_t(r=t.call(this,e)),"handleYearClick",(function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)})),vt(_t(r),"isSameDay",(function(e,t){return Jt(e,t)})),vt(_t(r),"isKeyboardSelected",(function(e){var t=Gt(Ue.default(r.props.date,e));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Jt(t,Gt(r.props.selected))&&Jt(t,Gt(r.props.preSelection))})),vt(_t(r),"onYearClick",(function(e,t){var n=r.props.date;r.handleYearClick(Gt(Ue.default(n,t)),e)})),vt(_t(r),"getYearClassNames",(function(e){var t=r.props,n=t.minDate,i=t.maxDate,a=t.selected;return fe.default("react-datepicker__year-text",{"react-datepicker__year-text--selected":e===De.default(a),"react-datepicker__year-text--disabled":(n||i)&&cn(e,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(e),"react-datepicker__year-text--today":e===De.default(It())})})),r}return bt(n,[{key:"render",value:function(){for(var e=this,t=[],n=this.props,r=_n(n.date,n.yearItemNumber),i=r.startPeriod,a=r.endPeriod,o=function(n){t.push(he.default.createElement("div",{onClick:function(t){e.onYearClick(t,n)},className:e.getYearClassNames(n),key:n},n))},s=i;s<=a;s++)o(s);return he.default.createElement("div",{className:"react-datepicker__year"},he.default.createElement("div",{className:"react-datepicker__year-wrapper"},t))}}]),n}(he.default.Component),Un=function(e){Ot(n,e);var t=kt(n);function n(e){var r;return dt(this,n),vt(_t(r=t.call(this,e)),"onTimeChange",(function(e){r.setState({time:e});var t=new Date;t.setHours(e.split(":")[0]),t.setMinutes(e.split(":")[1]),r.props.onChange(t)})),vt(_t(r),"renderTimeInput",(function(){var e=r.state.time,t=r.props,n=t.date,i=t.timeString,a=t.customTimeInput;return a?he.default.cloneElement(a,{date:n,value:e,onChange:r.onTimeChange}):he.default.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:e,onChange:function(e){r.onTimeChange(e.target.value||i)}})})),r.state={time:r.props.timeString},r}return bt(n,[{key:"render",value:function(){return he.default.createElement("div",{className:"react-datepicker__input-time-container"},he.default.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),he.default.createElement("div",{className:"react-datepicker-time__input-container"},he.default.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.timeString!==t.time?{time:e.timeString}:null}}]),n}(he.default.Component);function Bn(e){var t=e.className,n=e.children,r=e.showPopperArrow,i=e.arrowProps,a=void 0===i?{}:i;return he.default.createElement("div",{className:t},r&&he.default.createElement("div",yt({className:"react-datepicker__triangle"},a)),n)}var Gn=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],qn=function(e){Ot(n,e);var t=kt(n);function n(e){var r;return dt(this,n),vt(_t(r=t.call(this,e)),"handleClickOutside",(function(e){r.props.onClickOutside(e)})),vt(_t(r),"setClickOutsideRef",(function(){return r.containerRef.current})),vt(_t(r),"handleDropdownFocus",(function(e){(function(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).className||"").split(/\s+/);return Gn.some((function(t){return e.indexOf(t)>=0}))})(e.target)&&r.props.onDropdownFocus()})),vt(_t(r),"getDateInView",(function(){var e=r.props,t=e.preSelection,n=e.selected,i=e.openToDate,a=mn(r.props),o=gn(r.props),s=It();return i||n||t||(a&&at.default(s,a)?a:o&&it.default(s,o)?o:s)})),vt(_t(r),"increaseMonth",(function(){r.setState((function(e){var t=e.date;return{date:Oe.default(t,1)}}),(function(){return r.handleMonthChange(r.state.date)}))})),vt(_t(r),"decreaseMonth",(function(){r.setState((function(e){var t=e.date;return{date:xe.default(t,1)}}),(function(){return r.handleMonthChange(r.state.date)}))})),vt(_t(r),"handleDayClick",(function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)})),vt(_t(r),"handleDayMouseEnter",(function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)})),vt(_t(r),"handleMonthMouseLeave",(function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()})),vt(_t(r),"handleYearChange",(function(e){r.props.onYearChange&&r.props.onYearChange(e),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(e)})),vt(_t(r),"handleMonthChange",(function(e){r.props.onMonthChange&&r.props.onMonthChange(e),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(e)})),vt(_t(r),"handleMonthYearChange",(function(e){r.handleYearChange(e),r.handleMonthChange(e)})),vt(_t(r),"changeYear",(function(e){r.setState((function(t){var n=t.date;return{date:Ue.default(n,e)}}),(function(){return r.handleYearChange(r.state.date)}))})),vt(_t(r),"changeMonth",(function(e){r.setState((function(t){var n=t.date;return{date:ze.default(n,e)}}),(function(){return r.handleMonthChange(r.state.date)}))})),vt(_t(r),"changeMonthYear",(function(e){r.setState((function(t){var n=t.date;return{date:Ue.default(ze.default(n,Pe.default(e)),De.default(e))}}),(function(){return r.handleMonthYearChange(r.state.date)}))})),vt(_t(r),"header",(function(){var e=Ut(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,r.props.locale),t=[];return r.props.showWeekNumbers&&t.push(he.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),t.concat([0,1,2,3,4,5,6].map((function(t){var n=me.default(e,t),i=r.formatWeekday(n,r.props.locale),a=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return he.default.createElement("div",{key:t,className:fe.default("react-datepicker__day-name",a)},i)})))})),vt(_t(r),"formatWeekday",(function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(Rt(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return Rt(e,"EEE",t)}(e,t):function(e,t){return Rt(e,"EEEEEE",t)}(e,t)})),vt(_t(r),"decreaseYear",(function(){r.setState((function(e){var t=e.date;return{date:ke.default(t,r.props.showYearPicker?r.props.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))})),vt(_t(r),"renderPreviousButton",(function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.showMonthYearPicker:e=vn(r.state.date,r.props);break;case r.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.yearItemNumber,i=void 0===r?At:r,a=_n(Gt(ke.default(e,i)),i).endPeriod,o=n&&De.default(n);return o&&o>a||!1}(r.state.date,r.props);break;default:e=pn(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--previous"],n=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(n=r.decreaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--previous--disabled"),n=null);var i=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,a=r.props,o=a.previousMonthAriaLabel,s=void 0===o?"Previous Month":o,c=a.previousYearAriaLabel,u=void 0===c?"Previous Year":c;return he.default.createElement("button",{type:"button",className:t.join(" "),onClick:n,"aria-label":i?u:s},i?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel)}}})),vt(_t(r),"increaseYear",(function(){r.setState((function(e){var t=e.date;return{date:je.default(t,r.props.showYearPicker?r.props.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))})),vt(_t(r),"renderNextButton",(function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.showMonthYearPicker:e=yn(r.state.date,r.props);break;case r.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.yearItemNumber,i=void 0===r?At:r,a=_n(je.default(e,i),i).startPeriod,o=n&&De.default(n);return o&&o<a||!1}(r.state.date,r.props);break;default:e=bn(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&t.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&t.push("react-datepicker__navigation--next--with-today-button");var n=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(n=r.increaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--next--disabled"),n=null);var i=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,a=r.props,o=a.nextMonthAriaLabel,s=void 0===o?"Next Month":o,c=a.nextYearAriaLabel,u=void 0===c?"Next Year":c;return he.default.createElement("button",{type:"button",className:t.join(" "),onClick:n,"aria-label":i?u:s},i?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel)}}})),vt(_t(r),"renderCurrentMonth",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),he.default.createElement("div",{className:t.join(" ")},Rt(e,r.props.dateFormat,r.props.locale))})),vt(_t(r),"renderYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showYearDropdown&&!e)return he.default.createElement(En,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:De.default(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})})),vt(_t(r),"renderMonthDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthDropdown&&!e)return he.default.createElement(Cn,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Pe.default(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})})),vt(_t(r),"renderMonthYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthYearDropdown&&!e)return he.default.createElement(Dn,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})})),vt(_t(r),"renderTodayButton",(function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return he.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return r.props.onSelect(Ye.default(It()),e)}},r.props.todayButton)})),vt(_t(r),"renderDefaultHeader",(function(e){var t=e.monthDate,n=e.i;return he.default.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),he.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),he.default.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))})),vt(_t(r),"renderCustomHeader",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.monthDate,n=e.i;if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return null;var i=pn(r.state.date,r.props),a=bn(r.state.date,r.props),o=vn(r.state.date,r.props),s=yn(r.state.date,r.props),c=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return he.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(gt(gt({},r.state),{},{customHeaderCount:n,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:i,nextMonthButtonDisabled:a,prevYearButtonDisabled:o,nextYearButtonDisabled:s})),c&&he.default.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))})),vt(_t(r),"renderYearHeader",(function(){var e=r.state.date,t=r.props,n=t.showYearPicker,i=_n(e,t.yearItemNumber),a=i.startPeriod,o=i.endPeriod;return he.default.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},n?"".concat(a," - ").concat(o):De.default(e))})),vt(_t(r),"renderHeader",(function(e){switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(e);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(e);default:return r.renderDefaultHeader(e)}})),vt(_t(r),"renderMonths",(function(){if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var e=[],t=r.props.showPreviousMonths?r.props.monthsShown-1:0,n=xe.default(r.state.date,t),i=0;i<r.props.monthsShown;++i){var a=i-r.props.monthSelectedIn,o=Oe.default(n,a),s="month-".concat(i),c=i<r.props.monthsShown-1,u=i>0;e.push(he.default.createElement("div",{key:s,ref:function(e){r.monthContainer=e},className:"react-datepicker__month-container"},r.renderHeader({monthDate:o,i:i}),he.default.createElement(Fn,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,onChange:r.changeMonthYear,day:o,dayClassName:r.props.dayClassName,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:i,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,highlightDates:r.props.highlightDates,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:c,monthShowsDuplicateDaysStart:u})))}return e}})),vt(_t(r),"renderYears",(function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?he.default.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader(),he.default.createElement(Vn,yt({onDayClick:r.handleDayClick,date:r.state.date},r.props))):void 0})),vt(_t(r),"renderTimeSection",(function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return he.default.createElement(zn,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,showTimeSelectOnly:r.props.showTimeSelectOnly})})),vt(_t(r),"renderInputTimeSection",(function(){var e=new Date(r.props.selected),t=Lt(e)&&Boolean(r.props.selected)?"".concat(wn(e.getHours()),":").concat(wn(e.getMinutes())):"";if(r.props.showTimeInput)return he.default.createElement(Un,{date:e,timeString:t,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})})),r.containerRef=he.default.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null},r}return bt(n,[{key:"componentDidMount",value:function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))}},{key:"componentDidUpdate",value:function(e){this.props.preSelection&&!Jt(this.props.preSelection,e.preSelection)?this.setState({date:this.props.preSelection}):this.props.openToDate&&!Jt(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var e=this.props.container||Bn;return he.default.createElement("div",{ref:this.containerRef},he.default.createElement(e,{className:fe.default("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow,arrowProps:this.props.arrowProps},this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.props.children))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,monthSelectedIn:0,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:At}}}]),n}(he.default.Component),Hn=function(e){return!e.disabled&&-1!==e.tabIndex},Wn=function(e){Ot(n,e);var t=kt(n);function n(e){var r;return dt(this,n),vt(_t(r=t.call(this,e)),"getTabChildren",(function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(Hn)})),vt(_t(r),"handleFocusStart",(function(e){var t=r.getTabChildren();t&&t.length>1&&t[t.length-1].focus()})),vt(_t(r),"handleFocusEnd",(function(e){var t=r.getTabChildren();t&&t.length>1&&t[0].focus()})),r.tabLoopRef=he.default.createRef(),r}return bt(n,[{key:"render",value:function(){return this.props.enableTabLoop?he.default.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},he.default.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,he.default.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),n}(he.default.Component),Yn=function(e){Ot(n,e);var t=kt(n);function n(e){var r;return dt(this,n),(r=t.call(this,e)).el=document.createElement("div"),r}return bt(n,[{key:"componentDidMount",value:function(){this.portalRoot=document.getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),document.body.appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return ht.default.createPortal(this.props.children,this.el)}}]),n}(he.default.Component),Jn=function(e){Ot(n,e);var t=kt(n);function n(){return dt(this,n),t.apply(this,arguments)}return bt(n,[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.wrapperClassName,i=t.hidePopper,a=t.popperComponent,o=t.popperModifiers,s=t.popperPlacement,c=t.popperProps,u=t.targetComponent,l=t.enableTabLoop,h=t.popperOnKeyDown,f=t.portalId;if(!i){var d=fe.default("react-datepicker-popper",n);e=he.default.createElement(ce.Popper,yt({modifiers:o,placement:s},c),(function(e){var t=e.ref,n=e.style,r=e.placement,i=e.arrowProps;return he.default.createElement(Wn,{enableTabLoop:l},he.default.createElement("div",{ref:t,style:n,className:d,"data-placement":r,onKeyDown:h},he.default.cloneElement(a,{arrowProps:i})))}))}this.props.popperContainer&&(e=he.default.createElement(this.props.popperContainer,{},e)),f&&!i&&(e=he.default.createElement(Yn,{portalId:f},e));var p=fe.default("react-datepicker-wrapper",r);return he.default.createElement(ce.Manager,{className:"react-datepicker-manager"},he.default.createElement(ce.Reference,null,(function(e){var t=e.ref;return he.default.createElement("div",{ref:t,className:p},u)})),e)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:{preventOverflow:{enabled:!0,escapeWithReference:!0,boundariesElement:"viewport"}},popperProps:{},popperPlacement:"bottom-start"}}}]),n}(he.default.Component),Kn="react-datepicker-ignore-onclickoutside",Xn=lt.default(qn),Qn="Date input not valid.",Zn=function(e){Ot(n,e);var t=kt(n);function n(e){var r;return dt(this,n),vt(_t(r=t.call(this,e)),"getPreSelection",(function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:It()})),vt(_t(r),"calcInitialState",(function(){var e=r.getPreSelection(),t=mn(r.props),n=gn(r.props),i=t&&at.default(e,t)?t:n&&it.default(e,n)?n:e;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:r.props.selected?r.props.selected:i,highlightDates:On(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1}})),vt(_t(r),"clearPreventFocusTimeout",(function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)})),vt(_t(r),"setFocus",(function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})})),vt(_t(r),"setBlur",(function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()})),vt(_t(r),"setOpen",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:er},(function(){e||r.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&r.setBlur(),r.setState({inputValue:null})}))}))})),vt(_t(r),"inputOk",(function(){return de.default(r.state.preSelection)})),vt(_t(r),"isCalendarOpen",(function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open})),vt(_t(r),"handleFocus",(function(e){r.state.preventFocus||(r.props.onFocus(e),r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})})),vt(_t(r),"cancelFocusInput",(function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null})),vt(_t(r),"deferFocusInput",(function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout((function(){return r.setFocus()}),1)})),vt(_t(r),"handleDropdownFocus",(function(){r.cancelFocusInput()})),vt(_t(r),"handleBlur",(function(e){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(e),r.setState({focused:!1})})),vt(_t(r),"handleCalendarClickOutside",(function(e){r.props.inline||r.setOpen(!1),r.props.onClickOutside(e),r.props.withPortal&&e.preventDefault()})),vt(_t(r),"handleChange",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(_t(r),t),"function"==typeof i.isDefaultPrevented&&!i.isDefaultPrevented())){r.setState({inputValue:i.target.value,lastPreSelectChange:$n});var a=Dt(i.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing);!a&&i.target.value||r.setSelected(a,i,!0)}})),vt(_t(r),"handleSelect",(function(e,t,n){r.setState({preventFocus:!0},(function(){return r.preventFocusTimeout=setTimeout((function(){return r.setState({preventFocus:!1})}),50),r.preventFocusTimeout})),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,n),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(e):r.props.inline||r.setOpen(!1)})),vt(_t(r),"setSelected",(function(e,t,n,i){var a=e;if(null===a||!nn(a,r.props)){var o=r.props,s=o.onChange,c=o.selectsRange,u=o.startDate,l=o.endDate;if(!Kt(r.props.selected,a)||r.props.allowSameDay||c)if(null!==a&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(a=Nt(a,{hour:Te.default(r.props.selected),minute:Ee.default(r.props.selected),second:Se.default(r.props.selected)})),r.props.inline||r.setState({preSelection:a}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:i})),c){var h=u&&l;u||l?u&&!l&&(at.default(a,u)?s([a,null],t):s([u,a],t)):s([a,null],t),h&&s([a,null],t)}else s(a,t);n||(r.props.onSelect(a,t),r.setState({inputValue:null}))}})),vt(_t(r),"setPreSelection",(function(e){var t=void 0!==r.props.minDate,n=void 0!==r.props.maxDate,i=!0;e&&(t&&n?i=Xt(e,r.props.minDate,r.props.maxDate):t?i=it.default(e,r.props.minDate):n&&(i=at.default(e,r.props.maxDate))),i&&r.setState({preSelection:e})})),vt(_t(r),"handleTimeChange",(function(e){var t=Nt(r.props.selected?r.props.selected:r.getPreSelection(),{hour:Te.default(e),minute:Ee.default(e)});r.setState({preSelection:t}),r.props.onChange(t),r.props.shouldCloseOnSelect&&r.setOpen(!1),r.props.showTimeInput&&r.setOpen(!0),r.setState({inputValue:null})})),vt(_t(r),"onInputClick",(function(){r.props.disabled||r.props.readOnly||r.setOpen(!0),r.props.onInputClick()})),vt(_t(r),"onInputKeyDown",(function(e){r.props.onKeyDown(e);var t=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if("ArrowDown"===t||"ArrowUp"===t){e.preventDefault();var n=r.calendar.componentNode&&r.calendar.componentNode.querySelector('.react-datepicker__day[tabindex="0"]');return void(n&&n.focus({preventScroll:!0}))}var i=It(r.state.preSelection);"Enter"===t?(e.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===er?(r.handleSelect(i,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(i)):r.setOpen(!1)):"Escape"===t&&(e.preventDefault(),r.setOpen(!1)),r.inputOk()||r.props.onInputError({code:1,msg:Qn})}}else"ArrowDown"!==t&&"ArrowUp"!==t&&"Enter"!==t||r.onInputClick()})),vt(_t(r),"onDayKeyDown",(function(e){r.props.onKeyDown(e);var t=e.key,n=It(r.state.preSelection);if("Enter"===t)e.preventDefault(),r.handleSelect(n,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(n);else if("Escape"===t)e.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Qn});else if(!r.props.disabledKeyboardNavigation){var i;switch(t){case"ArrowLeft":i=we.default(n,1);break;case"ArrowRight":i=me.default(n,1);break;case"ArrowUp":i=_e.default(n,1);break;case"ArrowDown":i=ge.default(n,1);break;case"PageUp":i=xe.default(n,1);break;case"PageDown":i=Oe.default(n,1);break;case"Home":i=ke.default(n,1);break;case"End":i=je.default(n,1)}if(!i)return void(r.props.onInputError&&r.props.onInputError({code:1,msg:Qn}));if(e.preventDefault(),r.setState({lastPreSelectChange:er}),r.props.adjustDateOnChange&&r.setSelected(i),r.setPreSelection(i),r.props.inline){var a=Pe.default(n),o=Pe.default(i),s=De.default(n),c=De.default(i);a!==o||s!==c?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}})),vt(_t(r),"onPopperKeyDown",(function(e){"Escape"===e.key&&(e.preventDefault(),r.setState({preventFocus:!0},(function(){r.setOpen(!1),setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))})))})),vt(_t(r),"onClearClick",(function(e){e&&e.preventDefault&&e.preventDefault(),r.props.onChange(null,e),r.setState({inputValue:null})})),vt(_t(r),"clear",(function(){r.onClearClick()})),vt(_t(r),"onScroll",(function(e){"boolean"==typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"==typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)})),vt(_t(r),"renderCalendar",(function(){return r.props.inline||r.isCalendarOpen()?he.default.createElement(Xn,{ref:function(e){r.calendar=e},locale:r.props.locale,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,includeDates:r.props.includeDates,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:Kn,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showPopperArrow:r.props.showPopperArrow,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection},r.props.children):null})),vt(_t(r),"renderDateInput",(function(){var e,t,n,i,a,o=fe.default(r.props.className,vt({},Kn,r.state.open)),s=r.props.customInput||he.default.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",u="string"==typeof r.props.value?r.props.value:"string"==typeof r.state.inputValue?r.state.inputValue:(t=r.props.selected,i=(n=r.props).dateFormat,a=n.locale,t&&Rt(t,Array.isArray(i)?i[0]:i,a)||"");return he.default.cloneElement(s,(vt(e={},c,(function(e){r.input=e})),vt(e,"value",u),vt(e,"onBlur",r.handleBlur),vt(e,"onChange",r.handleChange),vt(e,"onClick",r.onInputClick),vt(e,"onFocus",r.handleFocus),vt(e,"onKeyDown",r.onInputKeyDown),vt(e,"id",r.props.id),vt(e,"name",r.props.name),vt(e,"autoFocus",r.props.autoFocus),vt(e,"placeholder",r.props.placeholderText),vt(e,"disabled",r.props.disabled),vt(e,"autoComplete",r.props.autoComplete),vt(e,"className",fe.default(s.props.className,o)),vt(e,"title",r.props.title),vt(e,"readOnly",r.props.readOnly),vt(e,"required",r.props.required),vt(e,"tabIndex",r.props.tabIndex),vt(e,"aria-describedby",r.props.ariaDescribedBy),vt(e,"aria-invalid",r.props.ariaInvalid),vt(e,"aria-labelledby",r.props.ariaLabelledBy),vt(e,"aria-required",r.props.ariaRequired),e))})),vt(_t(r),"renderClearButton",(function(){var e=r.props,t=e.isClearable,n=e.selected,i=e.clearButtonTitle,a=e.ariaLabelClose,o=void 0===a?"Close":a;return t&&null!=n?he.default.createElement("button",{type:"button",className:"react-datepicker__close-icon","aria-label":o,onClick:r.onClearClick,title:i,tabIndex:-1}):null})),r.state=r.calcInitialState(),r}return bt(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(e,t){var n,r;e.inline&&(n=e.selected,r=this.props.selected,n&&r?Pe.default(n)!==Pe.default(r)||De.default(n)!==De.default(r):n!==r)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:On(this.props.highlightDates)}),t.focused||Kt(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&this.props.onCalendarOpen(),!0===t.open&&!1===this.state.open&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"render",value:function(){var e=this.renderCalendar();return this.props.inline&&!this.props.withPortal?e:this.props.withPortal?he.default.createElement("div",null,this.props.inline?null:he.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),this.state.open||this.props.inline?he.default.createElement("div",{className:"react-datepicker__portal"},e):null):he.default.createElement(Jn,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,popperModifiers:this.props.popperModifiers,targetComponent:he.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:At,renderDayContents:function(e){return e},focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null}}}]),n}(he.default.Component),$n="input",er="navigate";t.CalendarContainer=Bn,t.default=Zn,t.getDefaultLocale=Qt,t.registerLocale=function(t,n){var r="undefined"!=typeof window?window:e;r.__localeData__||(r.__localeData__={}),r.__localeData__[t]=n},t.setDefaultLocale=function(t){("undefined"!=typeof window?window:e).__localeId__=t},Object.defineProperty(t,"__esModule",{value:!0})}(t,n(19),n(100),n(809),n(810),n(696),n(811),n(705),n(706),n(528),n(707),n(529),n(708),n(826),n(827),n(828),n(829),n(830),n(831),n(832),n(833),n(834),n(835),n(836),n(837),n(840),n(841),n(842),n(843),n(844),n(845),n(846),n(709),n(848),n(849),n(850),n(851),n(852),n(853),n(854),n(855),n(532),n(531),n(856),n(710),n(857),n(858),n(859),n(860),n(861),n(862),n(863),n(864),n(865),n(866),n(867),n(868),n(75),n(869),n(876),n(877),n(712),n(196))}).call(this,n(317))},function(e,t,n){"use strict";(function(e){var r=n(19),i=n.n(r),a=n(182),o=n(100),s=n.n(o),c=1073741823,u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var h=i.a.createContext||function(e,t){var n,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return u[e]=(u[e]||0)+1}()+"__",h=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}Object(a.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?n=0:(n="function"===typeof t?t(r,i):c,0!==(n|=0)&&this.emitter.set(e.value,n))}var a,o},r.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var f=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(a.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?c:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?c:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return f.contextTypes=((i={})[o]=s.a.object,i),{Provider:h,Consumer:f}};t.a=h}).call(this,n(317))},function(e,t,n){var r=n(881);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(o,d),o=d+h.length,f)s+=f[1];else{var p=e[o],b=n[2],v=n[3],y=n[4],m=n[5],g=n[6],O=n[7];s&&(r.push(s),s="");var j=null!=b&&null!=p&&p!==b,w="+"===g||"*"===g,_="?"===g||"*"===g,x=n[2]||l,k=y||m;r.push({name:v||a++,prefix:b||"",delimiter:x,optional:_,repeat:w,partial:j,asterisk:!!O,pattern:k?u(k):O?".*":"[^"+c(x)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var a="",s=t||{},c=(i||{}).pretty?o:encodeURIComponent,u=0;u<e.length;u++){var l=e[u];if("string"!==typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=c(f[d]),!n[u].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");a+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(f),!n[u].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');a+=l.prefix+h}}else a+=l}return a}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)o+=c(u);else{var f=c(u.prefix),d="(?:"+u.pattern+")";t.push(u),u.repeat&&(d+="(?:"+f+d+")*"),o+=d=u.optional?u.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=c(n.delimiter||"/"),b=o.slice(-p.length)===p;return i||(o=(b?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&b?"":"(?="+p+"|$)",l(new RegExp("^"+o,h(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return f(a(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return i})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return a}));var r=1e-30,i=4294967295,a=512,o=128,s=29,c=1,u=16,l=50,h=10,f=8,d=1,p=2,b=2,v=1,y=2.5,m=2},function(e,t,n){"use strict";var r=n(10),i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=n(12),f=(n(21),n(22),function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).requestOptions=null,e.url=null,e}return Object(a.a)(n,[{key:"normalizeCtorArgs",value:function(e,t){return"string"!=typeof e?e:Object(r.a)({url:e},t)}},{key:"parsedUrl",get:function(){return this._parseUrl(this.url)}},{key:"_parseUrl",value:function(e){return e?Object(h.I)(e):null}},{key:"_encode",value:function(e,t,n){var r={};for(var i in e)if("declaredClass"!==i){var a=e[i];if(null!=a&&"function"!=typeof a)if(Array.isArray(a)){r[i]=[];for(var o=0;o<a.length;o++)r[i][o]=this._encode(a[o])}else if("object"==typeof a)if(a.toJSON){var s=a.toJSON(n&&n[i]);r[i]=t?s:JSON.stringify(s)}else r[i]=t?a:JSON.stringify(a);else r[i]=a}return r}}]),n}(n(37).a));Object(c.a)([Object(u.b)({readOnly:!0,dependsOn:["url"]})],f.prototype,"parsedUrl",null),Object(c.a)([Object(u.b)()],f.prototype,"requestOptions",void 0),Object(c.a)([Object(u.b)({type:String})],f.prototype,"url",void 0);var d=f=Object(c.a)([Object(l.a)("esri.tasks.Task")],f);t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i,a=n(30),o=n(31);function s(e,t){t.linearDepth?e.vertex.code.add(Object(o.a)(r||(r=Object(a.a)(["\n    vec4 transformPositionWithDepth(mat4 proj, mat4 view, vec3 pos, vec2 nearFar, out float depth) {\n      vec4 eye = view * vec4(pos, 1.0);\n      depth = (-eye.z - nearFar[0]) / (nearFar[1] - nearFar[0]) ;\n      return proj * eye;\n    }\n    "])))):e.vertex.code.add(Object(o.a)(i||(i=Object(a.a)(["\n    vec4 transformPosition(mat4 proj, mat4 view, vec3 pos) {\n      // Make sure the order of operations is the same as in transformPositionWithDepth.\n      return proj * (view * vec4(pos, 1.0));\n    }\n    "]))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u}));var r=n(32),i=n(137),a=n(316),o=n(115);function s(e,t,n,r){if(null==r||e.hasZ||(r=void 0),"point"===e.type)return e.x+=t,e.y+=n,e.hasZ&&null!=r&&(e.z+=r),e;if("multipoint"===e.type){for(var a=e.points,o=0;o<a.length;o++)a[o]=f(a[o],t,n,r);return e}if("extent"===e.type)return e.xmin+=t,e.xmax+=t,e.ymin+=n,e.ymax+=n,null!=r&&(e.zmin+=r,e.zmax+=r),e;for(var s=Object(i.a)(e),c="polyline"===e.type?e.paths:e.rings,u=0;u<s.length;u++)for(var l=s[u],h=0;h<l.length;h++)l[h]=f(l[h],t,n,r);return"paths"in e?e.paths=c:e.rings=c,e}function c(e,t,n,r,a){var o=e.clone(),c=r.resolution;if("point"===o.type){if(a)s(o,t*c,-n*c);else{var u=r.state.transform,l=r.state.inverseTransform,h=u[0]*o.x+u[2]*o.y+u[4],f=u[1]*o.x+u[3]*o.y+u[5];o.x=l[0]*(h+t)+l[2]*(f+n)+l[4],o.y=l[1]*(h+t)+l[3]*(f+n)+l[5]}return o}if("multipoint"===o.type){if(a)s(o,t*c,-n*c);else for(var p=o.points,b=r.state.transform,v=r.state.inverseTransform,y=0;y<p.length;y++){var m=p[y],g=b[0]*m[0]+b[2]*m[1]+b[4],O=b[1]*m[0]+b[3]*m[1]+b[5],j=v[0]*(g+t)+v[2]*(O+n)+v[4],w=v[1]*(g+t)+v[3]*(O+n)+v[5];p[y]=d(m,j,w,void 0)}return o}if("extent"===o.type){if(a)s(o,t*c,-n*c);else{var _=r.state.transform,x=r.state.inverseTransform,k=_[0]*o.xmin+_[2]*o.ymin+_[4],S=_[1]*o.xmin+_[3]*o.ymin+_[5],E=_[0]*o.xmax+_[2]*o.ymax+_[4],T=_[1]*o.xmax+_[3]*o.ymax+_[5];o.xmin=x[0]*(k+t)+x[2]*(S+n)+x[4],o.ymin=x[1]*(k+t)+x[3]*(S+n)+x[5],o.xmax=x[0]*(E+t)+x[2]*(T+n)+x[4],o.ymax=x[1]*(E+t)+x[3]*(T+n)+x[5]}return o}if(a)s(o,t*c,-n*c);else{for(var M=Object(i.a)(o),C="polyline"===o.type?o.paths:o.rings,A=r.state.transform,P=r.state.inverseTransform,I=0;I<M.length;I++)for(var D=M[I],L=0;L<D.length;L++){var R=D[L],N=A[0]*R[0]+A[2]*R[1]+A[4],F=A[1]*R[0]+A[3]*R[1]+A[5],z=P[0]*(N+t)+P[2]*(F+n)+P[4],V=P[1]*(N+t)+P[3]*(F+n)+P[5];D[L]=d(R,z,V,void 0)}"paths"in o?o.paths=C:o.rings=C}return o}function u(e,t,n,s){if("point"===e.type){var c=e.x,u=e.y,l=s?s[0]:c,h=s?s[1]:u,f=e.clone(),p=(c-l)*t+l,b=(u-h)*n+h;return f.x=p,f.y=b,f}if("multipoint"===e.type){for(var v=Object(i.a)(e),y=Object(o.h)(),m=Object(a.d)(y,[v]),g=Object(r.a)(m,4),O=g[0],j=g[1],w=g[2],_=g[3],x=s?s[0]:(O+w)/2,k=s?s[1]:(_+j)/2,S=e.clone(),E=S.points,T=0;T<E.length;T++){var M=E[T],C=Object(r.a)(M,2),A=(C[0]-x)*t+x,P=(C[1]-k)*n+k;E[T]=d(M,A,P,void 0)}return S}if("extent"===e.type){var I=e.xmin,D=e.xmax,L=e.ymin,R=e.ymax,N=s?s[0]:(I+D)/2,F=s?s[1]:(R+L)/2,z=e.clone();if(z.xmin=(I-N)*t+N,z.ymax=(R-F)*n+F,z.xmax=(D-N)*t+N,z.ymin=(L-F)*n+F,z.xmin>z.xmax){var V=z.xmin,U=z.xmax;z.xmin=U,z.xmax=V}if(z.ymin>z.ymax){var B=z.ymin,G=z.ymax;z.ymin=G,z.ymax=B}return z}for(var q=Object(i.a)(e),H=Object(o.h)(),W=Object(a.d)(H,q),Y=Object(r.a)(W,4),J=Y[0],K=Y[1],X=Y[2],Q=Y[3],Z=s?s[0]:(J+X)/2,$=s?s[1]:(Q+K)/2,ee=e.clone(),te="polyline"===ee.type?ee.paths:ee.rings,ne=0;ne<q.length;ne++)for(var re=q[ne],ie=0;ie<re.length;ie++){var ae=re[ie],oe=Object(r.a)(ae,2),se=(oe[0]-Z)*t+Z,ce=(oe[1]-$)*n+$;te[ne][ie]=d(ae,se,ce,void 0)}return"paths"in ee?ee.paths=te:ee.rings=te,ee}function l(e,t,n,r,i,a){var o=Math.sqrt((n-e)*(n-e)+(r-t)*(r-t));return Math.sqrt((i-e)*(i-e)+(a-t)*(a-t))/o}function h(e,t,n,r,i,a){var o=180*Math.atan2(t-r,e-n)/Math.PI;return 180*Math.atan2(t-a,e-i)/Math.PI-o}function f(e,t,n,r){return d(e,e[0]+t,e[1]+n,null!=e[2]&&null!=r?e[2]+r:void 0)}function d(e,t,n,r){var i=[t,n];return e.length>2&&i.push(null!=r?r:e[2]),e.length>3&&i.push(e[3]),i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i,a,o=n(30),s=n(31);function c(e,t){t.attributeColor?(e.attributes.add("color","vec4"),e.varyings.add("vColor","vec4"),e.vertex.code.add(Object(s.a)(r||(r=Object(o.a)(["\n      void forwardVertexColor() { vColor = color; }\n    "])))),e.vertex.code.add(Object(s.a)(i||(i=Object(o.a)(["\n      void forwardNormalizedVertexColor() { vColor = color * 0.003921568627451; }\n    "]))))):e.vertex.code.add(Object(s.a)(a||(a=Object(o.a)(["\n      void forwardVertexColor() {}\n      void forwardNormalizedVertexColor() {}\n    "]))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,i,a,o,s,c,u=n(30),l=n(31),h=n(297);function f(e,t){var n=e.vertex.code;t.verticalOffsetEnabled?(e.vertex.uniforms.add("verticalOffset","vec4"),t.screenSizePerspectiveEnabled&&(e.include(h.a),e.vertex.uniforms.add("screenSizePerspectiveAlignment","vec4")),n.add(Object(l.a)(r||(r=Object(u.a)(["\n    vec3 calculateVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      float viewDistance = length((view * vec4(worldPos, 1.0)).xyz);\n      ","\n      ","\n      // Screen sized offset in world space, used for example for line callouts\n      float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * viewDistance, verticalOffset.z, verticalOffset.w);\n      return worldNormal * worldOffset;\n    }\n\n    vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      return worldPos + calculateVerticalOffset(worldPos, localOrigin);\n    }\n    "])),1===t.viewingMode?Object(l.a)(i||(i=Object(u.a)(["vec3 worldNormal = normalize(worldPos + localOrigin);"]))):Object(l.a)(a||(a=Object(u.a)(["vec3 worldNormal = vec3(0.0, 0.0, 1.0);"]))),t.screenSizePerspectiveEnabled?Object(l.a)(o||(o=Object(u.a)(["\n          float cosAngle = dot(worldNormal, normalize(worldPos - camPos));\n          float verticalOffsetScreenHeight = screenSizePerspectiveScaleFloat(verticalOffset.x, abs(cosAngle), viewDistance, screenSizePerspectiveAlignment);"]))):Object(l.a)(s||(s=Object(u.a)(["\n          float verticalOffsetScreenHeight = verticalOffset.x;"])))))):n.add(Object(l.a)(c||(c=Object(u.a)(["\n    vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) { return worldPos; }\n    "]))))}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p;return r.screenLength=e.screenLength,r.perDistance=Math.tan(.5*t)/(.5*n),r.minWorldLength=e.minWorldLength,r.maxWorldLength=e.maxWorldLength,r}(f||(f={})).bindUniforms=function(e,t,n){if(t.verticalOffset){var r=d(t.verticalOffset,n.camera.fovY,n.camera.fullViewport[3]),i=n.camera.pixelRatio||1;e.setUniform4f("verticalOffset",r.screenLength*i,r.perDistance,r.minWorldLength,r.maxWorldLength)}};var p={screenLength:0,perDistance:0,minWorldLength:0,maxWorldLength:0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return d}));n(15);var r=n(4),i=n(134),a=n(170),o=n(141),s=n(333),c=n(311),u=o.default.fromJSON(c.a),l=i.default.fromJSON(c.c),h=a.default.fromJSON(c.b),f=s.a.fromJSON(c.d);function d(e){if(Object(r.g)(e))return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return u;case"polyline":return l;case"polygon":case"extent":return h}return null}var p=o.default.fromJSON(c.e),b=i.default.fromJSON(c.g),v=a.default.fromJSON(c.f)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(4),i=n(74),a=(n(99),n(70)),o=n(491);function s(e,t,n){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new i.a;if("2d"===n.type)o=t*n.resolution;else if("3d"===n.type){var c=n.overlayPixelSizeInMapUnits(e),u=n.basemapSpatialReference;o=Object(r.h)(u)&&!u.equals(n.spatialReference)?Object(a.b)(u)/Object(a.b)(n.spatialReference):t*c}var l=e.x-o,h=e.y-o,f=e.x+o,d=e.y+o,p=n.spatialReference;return s.xmin=Math.min(l,f),s.ymin=Math.min(h,d),s.xmax=Math.max(l,f),s.ymax=Math.max(h,d),s.spatialReference=p,s}function c(e,t,n){var i=n.toMap(e);return!Object(r.g)(i)&&s(i,Object(o.a)(),n,u).intersects(t)}var u=new i.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i,a=n(30),o=n(31);function s(e){e.vertex.code.add(Object(o.a)(r||(r=Object(a.a)(["\n    const float PI = 3.141592653589793;\n  "])))),e.fragment.code.add(Object(o.a)(i||(i=Object(a.a)(["\n    const float PI = 3.141592653589793;\n    const float LIGHT_NORMALIZATION = 1.0 / PI;\n    const float INV_PI = 0.3183098861837907;\n    const float HALF_PI = 1.570796326794897;\n    "]))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(34),l=n(8),h=(n(12),n(21),n(22),n(49)),f=n(164),d=n(194),p=n(336),b=n(510);var v=function(e){var t=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).timeExtent=null,e.timeOffset=null,e.useViewTime=!0,e}return Object(i.a)(n,[{key:"readOffset",value:function(e,t){var n=t.timeInfo.exportOptions;if(!n)return null;var r=n.timeOffset,i=f.c.fromJSON(n.timeOffsetUnits);return r&&i?new p.a({value:r,unit:i}):null}},{key:"timeInfo",set:function(e){Object(h.m)(e,this.fields),this._set("timeInfo",e)}}]),n}(e);return Object(s.a)([Object(c.b)({type:d.a,json:{write:!1}})],t.prototype,"timeExtent",void 0),Object(s.a)([Object(c.b)({type:p.a})],t.prototype,"timeOffset",void 0),Object(s.a)([Object(u.a)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),Object(s.a)([Object(c.b)({value:null,type:b.a,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),Object(s.a)([Object(c.b)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=Object(s.a)([Object(l.a)("esri.layers.mixins.TemporalLayer")],t),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(7),i=n.n(r),a=n(16),o=n(166),s=n(17),c=n(318);function u(e,t,n){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(i.a.mark((function e(t,n,r){var a,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t&&t.getAtOrigin&&t.getAtOrigin("renderer",n.origin))||"unique-value"!==a.type||!a.styleOrigin){e.next=6;break}return e.next=4,Object(c.c)(a.populateFromStyle());case 4:u=e.sent,Object(s.u)(r),!1===u.ok&&(l=u.error,n&&n.messages&&n.messages.push(new o.a("renderer:style-reference","Failed to create unique value renderer from style reference: ".concat(l.message),{error:l,context:n})),t.clear("renderer",n.origin));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t);var r=n(10),i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(4)),l=(n(14),n(1)),h=n(62),f=n(34),d=n(8),p=n(35),b=n(20),v=n(12),y=(n(21),n(22),n(17)),m=n(48),g=(n(99),n(65)),O=n(184),j=n(236),w=n(178),_=n(131),x=n(284),k=n(288),S=n(286),E=n(459),T=n(283),M=n(424),C=n(285),A=n(105),P=n(376),I=n(692),D=n(302),L=n(693),R=["Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Elevation/World_Hillshade","Elevation/World_Hillshade_Dark","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Ocean_Basemap","Reference/World_Boundaries_and_Places","Reference/World_Boundaries_and_Places_Alternate","Reference/World_Transportation","World_Imagery","World_Street_Map","World_Topo_Map"],N=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).listMode="show",e.isReference=null,e.operationalLayerType="ArcGISTiledMapServiceLayer",e.resampling=!0,e.sourceJSON=null,e.spatialReference=null,e.path=null,e.sublayers=null,e.type="tile",e.url=null,e}return Object(a.a)(n,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?Object(r.a)({url:e},t):e}},{key:"load",value:function(e){var t=this,n=Object(u.h)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).then((function(){return t._fetchService(n)}),(function(){return t._fetchService(n)}))),Object(y.s)(this)}},{key:"attributionDataUrl",get:function(){var e,t=null==(e=this.parsedUrl)?void 0:e.path.toLowerCase();return t&&this._getDefaultAttribution(this._getMapName(t))}},{key:"readSpatialReference",value:function(e,t){return(e=e||t.tileInfo&&t.tileInfo.spatialReference)&&m.a.fromJSON(e)}},{key:"writeSublayers",value:function(e,t,n,i){if(this.loaded&&e){var a=e.slice().reverse().flatten((function(e){var t=e.sublayers;return t&&t.toArray().reverse()})).toArray(),o=[],s=Object(r.a)({writeSublayerStructure:!1},i);a.forEach((function(e){var t=e.write({},s);o.push(t)})),o.some((function(e){return Object.keys(e).length>1}))&&(t.layers=o)}}},{key:"tileServers",get:function(){return this._getDefaultTileServers(this.parsedUrl.path)}},{key:"castTileServers",value:function(e){return Array.isArray(e)?e.map((function(e){return Object(v.I)(e).path})):null}},{key:"fetchTile",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.signal,a=r.timestamp,o=this.getTileUrl(e,t,n),s={responseType:"image",signal:i};return null!=a&&(s.query={_ts:r.timestamp}),Object(g.default)(o,s).then((function(e){return e.data}))}},{key:"getTileUrl",value:function(e,t,n){var i=!this.tilemapCache&&this.supportsBlankTile,a=Object(v.C)(Object(r.a)(Object(r.a)({},this.parsedUrl.query),{},{blankTile:!i&&null},this.customParameters)),o=this.tileServers;return"".concat(o&&o.length?o[t%o.length]:this.parsedUrl.path,"/tile/").concat(e,"/").concat(t,"/").concat(n).concat(a?"?"+a:"")}},{key:"_fetchService",value:function(e){var t=this;return Object(y.c)((function(n,i){if(t.sourceJSON){if(null!=t.sourceJSON.bandCount&&null!=t.sourceJSON.pixelSizeX)throw new b.a("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");n({data:t.sourceJSON})}else{if(!t.parsedUrl)throw new b.a("tile-layer:undefined-url","layer's url is not defined");var a=Object(w.e)(t.parsedUrl.path);if(Object(u.h)(a)&&"ImageServer"===a.serverType)throw new b.a("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");Object(g.default)(t.parsedUrl.path,{query:Object(r.a)(Object(r.a)({f:"json"},t.parsedUrl.query),t.customParameters),responseType:"json",signal:e}).then(n,i)}})).then((function(n){if(n.ssl&&(t.url=t.url.replace(/^http:/i,"https:")),t.sourceJSON=n.data,t.read(n.data,{origin:"service",url:t.parsedUrl}),10.1===t.version&&!Object(w.c)(t.url))return t._fetchServerVersion(t.url,e).then((function(e){t.read({currentVersion:e})})).catch((function(){}))}))}},{key:"_fetchServerVersion",value:function(e,t){if(!Object(w.b)(e))return Object(y.r)();var n=e.replace(/(.*\/rest)\/.*/i,"$1")+"/info";return Object(g.default)(n,{query:Object(r.a)({f:"json"},this.customParameters),responseType:"json",signal:t}).then((function(e){if(e.data&&e.data.currentVersion)return e.data.currentVersion;throw new b.a("tile-layer:version-not-available")}))}},{key:"_getMapName",value:function(e){var t=e.match(/^(?:https?:)?\/\/(server\.arcgisonline\.com|services\.arcgisonline\.com|ibasemaps-api\.arcgis\.com)\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i);return t&&t[2]}},{key:"_getDefaultAttribution",value:function(e){if(e){var t;e=e.toLowerCase();for(var n=0,r=R.length;n<r;n++)if((t=R[n]).toLowerCase().indexOf(e)>-1)return Object(v.y)("//static.arcgis.com/attribution/"+t)}}},{key:"_getDefaultTileServers",value:function(e){var t=-1!==e.search(/^(?:https?:)?\/\/server\.arcgisonline\.com/i),n=-1!==e.search(/^(?:https?:)?\/\/services\.arcgisonline\.com/i);return t||n?[e,e.replace(t?/server\.arcgisonline/i:/services\.arcgisonline/i,t?"services.arcgisonline":"server.arcgisonline")]:[]}}]),n}(Object(S.a)(Object(L.a)(Object(C.a)(Object(M.a)(Object(x.a)(Object(T.a)(Object(P.a)(Object(I.a)(Object(k.a)(Object(j.a)(Object(A.b)(Object(E.a)(O.a)))))))))))));Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["parsedUrl"]})],N.prototype,"attributionDataUrl",null),Object(c.a)([Object(l.b)({type:["show","hide","hide-children"]})],N.prototype,"listMode",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],N.prototype,"isReference",void 0),Object(c.a)([Object(l.b)({readOnly:!0,type:["ArcGISTiledMapServiceLayer"]})],N.prototype,"operationalLayerType",void 0),Object(c.a)([Object(l.b)({type:Boolean})],N.prototype,"resampling",void 0),Object(c.a)([Object(l.b)()],N.prototype,"sourceJSON",void 0),Object(c.a)([Object(l.b)({type:m.a})],N.prototype,"spatialReference",void 0),Object(c.a)([Object(f.a)("spatialReference",["spatialReference","tileInfo"])],N.prototype,"readSpatialReference",null),Object(c.a)([Object(l.b)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],N.prototype,"path",void 0),Object(c.a)([Object(l.b)({readOnly:!0})],N.prototype,"sublayers",void 0),Object(c.a)([Object(p.a)("sublayers",{layers:{type:[D.a]}})],N.prototype,"writeSublayers",null),Object(c.a)([Object(l.b)({json:{read:!1,write:!1}})],N.prototype,"popupEnabled",void 0),Object(c.a)([Object(l.b)({dependsOn:["parsedUrl"]})],N.prototype,"tileServers",null),Object(c.a)([Object(h.a)("tileServers")],N.prototype,"castTileServers",null),Object(c.a)([Object(l.b)({readOnly:!0,json:{read:!1}})],N.prototype,"type",void 0),Object(c.a)([Object(l.b)(_.j)],N.prototype,"url",void 0);var F=N=Object(c.a)([Object(d.a)("esri.layers.TileLayer")],N);t.default=F},function(e,t,n){"use strict";n.r(t);var r=n(7),i=n.n(r),a=n(16),o=n(10),s=n(2),c=n(3),u=n(61),l=n(57),h=n(5),f=n(6),d=n(0),p=n(58),b=(n(15),n(23)),v=n(14),y=(n(18),n(1)),m=n(34),g=n(8),O=n(35),j=n(20),w=n(12),_=(n(21),n(22),n(17)),x=n(48),k=n(74),S=n(65),E=n(184),T=n(236),M=n(284),C=n(288),A=n(286),P=n(283),I=n(285),D=n(143),L=n(298),R=n(376);function N(e){var t={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return new Promise((function(n){var r=new Image;r.onload=function(){r.onload=r.onerror=null,n(r.width>0&&r.height>0)},r.onerror=function(){r.onload=r.onerror=null,n(!1)},r.src="data:image/webp;base64,"+t[e]}))}var F=n(32),z=v.a.getLogger("esri.layers.support.SpriteSource"),V=function(){function e(t,n,r,i){Object(s.a)(this,e),this.baseURL=t,this.devicePixelRatio=n,this.maxTextureSize=r,this._spriteImageFormat=i,this._isRetina=!1,this._spritesData={},this.image=null,this.width=null,this.height=null,this.loadStatus="not-loaded"}return Object(c.a)(e,[{key:"spriteNames",get:function(){var e=[];for(var t in this._spritesData)e.push(t);return e.sort(),e}},{key:"getSpriteInfo",value:function(e){return this._spritesData[e]}},{key:"load",value:function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.baseURL){e.next=13;break}return this.loadStatus="loading",e.prev=2,e.next=5,this._loadSprites(t);case 5:this.loadStatus="loaded",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),this.loadStatus="failed";case 11:e.next=14;break;case 13:this.loadStatus="failed";case 14:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_loadSprites",value:function(e){var t=this;this._isRetina=this.devicePixelRatio>1.15;var n=Object(w.I)(this.baseURL),r=n.query?"?"+Object(w.C)(n.query):"",i=this._isRetina?"@2x":"",a="".concat(n.path).concat(i,".").concat(this._spriteImageFormat).concat(r),s="".concat(n.path).concat(i,".json").concat(r);return Object(_.b)([Object(S.default)(s,e),Object(S.default)(a,Object(o.a)({responseType:"image"},e))]).then((function(e){var r=Object(F.a)(e,2),i=r[0],a=r[1],o=Object.keys(i.data);if(!o||0===o.length||1===o.length&&"_ssl"===o[0]||!a||!a.data)return t._spritesData=t.image=null,t.width=t.height=0,Object(_.s)(null);t._spritesData=i.data;var s=a.data,c=Math.max(t.maxTextureSize,4096);if(s.width>c||s.height>c){var u="Sprite resource for style ".concat(n.path," is bigger than the maximum allowed of ").concat(c," pixels}");throw z.error(u),new j.a("SpriteSource",u)}t.width=s.width,t.height=s.height;var l=document.createElement("canvas"),h=l.getContext("2d");l.width=s.width,l.height=s.height,h.drawImage(s,0,0,s.width,s.height);for(var f,d=h.getImageData(0,0,s.width,s.height),p=new Uint8Array(d.data),b=0;b<p.length;b+=4)f=p[b+3]/255,p[b]=p[b]*f,p[b+1]=p[b+1]*f,p[b+2]=p[b+2]*f;t.image=p}))}}]),e}(),U=n(13),B=n(106),G=n(469),q=n(387),H=function(){function e(t){if(Object(s.a)(this,e),t instanceof L.a)this._tilemapCache=t;else{if(!t||!("index"in t))throw new Error("Invalid tilemap!");this._tilemap=t.index}}return Object(c.a)(e,[{key:"dataKey",value:function(e,t){if(this._tilemapCache){var n=e.level,r=e.row,i=e.col,a=new q.a(e);return this._tilemapCache.fetchAvailabilityUpsample(n,r,i,a,t).then((function(){return a.world=e.world,a})).catch((function(e){if(Object(_.l)(e))throw e;return null}))}return this._getIndexedDataKey(e)}},{key:"forEach",value:function(e,t,n,r,i){this._callback=i,this._maxLevel=t+e,this._forEach(this._tilemap,t,n,r)}},{key:"_forEach",value:function(e,t,n,r){0!==e&&(this._callback(t,n,r),t!==this._maxLevel&&"object"==typeof e&&(this._forEach(e[0],t+1,2*n,2*r),this._forEach(e[1],t+1,2*n,2*r+1),this._forEach(e[2],t+1,2*n+1,2*r),this._forEach(e[3],t+1,2*n+1,2*r+1)))}},{key:"_getIndexedDataKey",value:function(e){var t=[e];if(e.level<0||e.row<0||e.col<0||e.row>>e.level>0||e.col>>e.level>0)return Object(_.s)(null);for(var n=e;0!==n.level;)n=new q.a(n.level-1,n.row>>1,n.col>>1,n.world),t.push(n);var r,i,a=this._tilemap,o=t.pop();if(1===a)return Object(_.s)(o);for(;t.length;)if(i=(1&(r=t.pop()).col)+((1&r.row)<<1),a){if(0===a[i]){o=null;break}if(1===a[i]){o=r;break}o=r,a=a[i]}return Object(_.s)(o)}}]),e}(),W=function(){function e(t,n,r){Object(s.a)(this,e),this.tileMapURL="",this.tilemapCache=null,this.parsedUrl=null,this.tileInfo=null,this.capabilities=null,this.tileIndex=null,this.fullExtent=null,this.name=t,this.sourceUrl=n,n&&(this.parsedUrl=Object(w.I)(this.sourceUrl));var i=this.parsedUrl.path,a=this.parsedUrl.query?"?"+Object(w.C)(this.parsedUrl.query):"",o=Object(b.a)(r),c=o.tiles;n&&c.forEach((function(e,t){Object(w.s)(e)||(c[t]=Object(w.x)(i,e)+a)})),this.tileServers=c,r.tileMap&&(this.tileMapURL=Object(w.x)(n,r.tileMap));var u=r.capabilities&&r.capabilities.split(",").map((function(e){return e.toLowerCase().trim()})),l=!!r.exportTilesAllowed,h=!!u&&-1!==u.indexOf("tilemap"),f=l&&r.hasOwnProperty("maxExportTilesCount")?r.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:l,supportsTileMap:h},exportTiles:l?{maxExportTilesCount:+f}:null},this.tileInfo=Object(G.a)(o.tileInfo,o,null,{ignoreMinMaxLOD:!0}),h&&(this.type="vector-tile",this.tilemapCache=new L.a({layer:this}),this.tilemapCache&&(this.tileIndex=new H(this.tilemapCache))),this.fullExtent=k.a.fromJSON(r.fullExtent)}return Object(c.a)(e,[{key:"getRefKey",value:function(e,t){return this.tileIndex?this.tileIndex.dataKey(e,t):Object(_.s)(e)}},{key:"getSourceTileUrl",value:function(e,t,n){var r=this.tileServers[t%this.tileServers.length];return r=r.replace(/\{z\}/gi,e.toString()).replace(/\{y\}/gi,t.toString()).replace(/\{x\}/gi,n.toString())}},{key:"isCompatibleWith",value:function(e){var t=this.tileInfo,n=e.tileInfo;if(!t.spatialReference.equals(n.spatialReference))return!1;if(!t.origin.equals(n.origin))return!1;if(Math.round(t.dpi)!==Math.round(n.dpi))return!1;for(var r=t.lods,i=n.lods,a=Math.min(r.length,i.length),o=0;o<a;o++){var s=r[o],c=i[o];if(s.level!==c.level||Math.round(s.scale)!==Math.round(c.scale))return!1}return!0}}]),e}(),Y=B.a.defaults&&B.a.defaults.io.corsEnabledServers;function J(e,t){return K.apply(this,arguments)}function K(){return(K=Object(a.a)(i.a.mark((function e(t,n){var r,a,o,s,c,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:"",spriteFormat:"png"},a="string"==typeof t?[t,null]:[null,t.jsonUrl],o=Object(F.a)(a,2),s=o[0],c=o[1],u=s?Object(w.I)(s):null,e.next=3,Z(r,"esri",t,c,n);case 3:return l={layerDefinition:r.validatedSource,url:s,parsedUrl:u,serviceUrl:r.sourceUrl,style:r.style,styleUrl:r.styleUrl,spriteUrl:r.style.sprite&&Q(r.styleBase,r.style.sprite),spriteFormat:r.spriteFormat,glyphsUrl:r.style.glyphs&&Q(r.styleBase,r.style.glyphs),sourceNameToSource:r.sourceNameToSource,primarySourceName:r.primarySourceName},e.abrupt("return",(X(l.spriteUrl),X(l.glyphsUrl),l));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){if(e){var t=Object(w.m)(e);Y&&-1===Y.indexOf(t)&&Y.push(t)}}function Q(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(Object(w.v)(n[i])){if(e){var a=e.split("://")[0];e=a+":"+n[i].trim()}}else e=Object(w.s)(n[i])?n[i]:Object(w.x)(e,n[i]);return Object(w.G)(e)}function Z(e,t,n,r,i){return $.apply(this,arguments)}function $(){return($=Object(a.a)(i.a.mark((function e(t,n,r,s,c){var u,l,h,f,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(_.u)(c),"string"!=typeof r){e.next=11;break}return X(f=Object(w.B)(r)),d=Object(w.I)(f),e.next=6,Object(S.default)(d.path,Object(o.a)({query:{f:"json"},responseType:"json"},c));case 6:h=e.sent,u=f,l=f,e.next=12;break;case 11:h={data:r},u=r.jsonUrl||null,l=s;case 12:return p=h.data,e.abrupt("return",(h.ssl&&(u&&(u=u.replace(/^http:/i,"https:")),l&&(l=l.replace(/^http:/i,"https:"))),ee(p)?(t.styleUrl=u||null,function(){var e=Object(a.a)(i.a.mark((function e(t,n,r,a){var o,s,c,u,l,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r?Object(w.E)(r):w.f,t.styleBase=o,t.style=n,t.styleUrl&&X(t.styleUrl),n["sprite-format"]&&"webp"===n["sprite-format"].toLowerCase()&&(t.spriteFormat="webp"),s=[],!n.sources||!n.sources.esri){e.next=12;break}if(!(c=n.sources.esri).url){e.next=11;break}return e.next=9,Z(t,"esri",Q(o,c.url),void 0,a);case 9:e.next=12;break;case 11:s.push(Z(t,"esri",c,o,a));case 12:for(u=0,l=Object.keys(n.sources);u<l.length;u++)"esri"!==(h=l[u])&&"vector"===n.sources[h].type&&(n.sources[h].url?s.push(Z(t,h,Q(o,n.sources[h].url),void 0,a)):s.push(Z(t,h,n.sources[h],o,a)));return e.next=15,Object(_.b)(s);case 15:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,p,l,c)):ee(p)?Object(_.r)("You must specify the URL or the JSON for a service or for a style."):t.sourceUrl?te(t,p,l,!1,n,c):(t.sourceUrl=u||null,te(t,p,l,!0,n,c))));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return!!e.sources}function te(e,t,n,r,i,a){return ne.apply(this,arguments)}function ne(){return(ne=Object(a.a)(i.a.mark((function e(t,n,r,a,o,s){var c,u,l,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r?Object(w.G)(r)+"/":w.f,u=function(e,t){if(e.hasOwnProperty("tileInfo"))return e;for(var n={xmin:-20037507.067161843,ymin:-20037507.067161843,xmax:20037507.067161843,ymax:20037507.067161843,spatialReference:{wkid:102100}},r=78271.51696400007,i=295828763.7957775,a=[],o=e.hasOwnProperty("minzoom")?parseFloat(e.minzoom):0,s=e.hasOwnProperty("maxzoom")?parseFloat(e.maxzoom):22,c=0;c<=s;c++)c>=o&&a.push({level:c,scale:i,resolution:r}),r/=2,i/=2;var u,l=Object(U.a)(e.tiles);try{for(l.s();!(u=l.n()).done;){X(Q(t,u.value))}}catch(h){l.e(h)}finally{l.f()}return{capabilities:"TilesOnly",initialExtent:n,fullExtent:n,minScale:0,maxScale:0,tiles:e.tiles,tileInfo:{rows:512,cols:512,dpi:96,format:"pbf",origin:{x:-20037508.342787,y:20037508.342787},lods:a,spatialReference:{wkid:102100}}}}(n,c),l=new W(o,c,u),a||!(t.primarySourceName in t.sourceNameToSource)){e.next=6;break}if((h=t.sourceNameToSource[t.primarySourceName]).isCompatibleWith(l)){e.next=5;break}return e.abrupt("return",Object(_.s)());case 5:null!=l.fullExtent&&(null!=h.fullExtent?h.fullExtent.union(l.fullExtent):h.fullExtent=l.fullExtent.clone()),h.tileInfo.lods.length<l.tileInfo.lods.length&&(h.tileInfo=l.tileInfo);case 6:if(a?(t.sourceBase=c,t.source=n,t.validatedSource=u,t.primarySourceName=o,t.sourceUrl&&X(t.sourceUrl)):X(c),t.sourceNameToSource[o]=l,t.style){e.next=8;break}return e.abrupt("return",null==n.defaultStyles?Object(_.r)():"string"==typeof n.defaultStyles?Z(t,"",Q(c,n.defaultStyles,"root.json"),void 0,s):Z(t,"",n.defaultStyles,Q(c,"root.json"),s));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=n(694),ie=n(393),ae=function(){function e(t,n){Object(s.a)(this,e),this.lockedSchemaPixelSize=t,this.isGCS=n}return Object(c.a)(e,[{key:"getLevelRowColumn",value:function(e){return this.isGCS?[e[0],e[1]>>1,e[2]>>1]:256===this.lockedSchemaPixelSize&&e[0]>0?[e[0]-1,e[1]>>1,e[2]>>1]:e}},{key:"adjustLevel",value:function(e){return this.isGCS?e:256===this.lockedSchemaPixelSize?e>0?e-1:0:e}},{key:"getShift",value:function(e,t){var n=0,r=0;return(256===this.lockedSchemaPixelSize||this.isGCS)&&(e[2]%2&&(n=t),e[1]%2&&(r=t)),[n,r]}},{key:"getScale",value:function(e){if(this.isGCS){if(512===this.lockedSchemaPixelSize)return 4}else if(256===this.lockedSchemaPixelSize&&0===e)return 1;return 2}}],[{key:"create256x256CompatibleTileInfo",value:function(e){if(!e)return null;if(256===e.size[0]&&256===e.size[1])return e;for(var t=e.spatialReference.isGeographic,n=[],r=e.lods.length,i=0;i<r;i++){var a=e.lods[i],o=t?a.resolution:2*a.resolution;n.push(new ie.a({level:a.level,scale:a.scale,resolution:o}))}return new D.a({size:[256,256],dpi:e.dpi,format:e.format,compressionQuality:e.compressionQuality,origin:e.origin,spatialReference:e.spatialReference,lods:n})}},{key:"create512x512CompatibleTileInfo",value:function(e){if(!e)return null;if(256===e.size[0]||256===e.size[1])return null;for(var t=[],n=e.lods.length,r=0;r<n;r++){var i=e.lods[r],a=.5*i.resolution;t.push(new ie.a({level:i.level,scale:i.scale,resolution:a}))}return new D.a({size:[512,512],dpi:e.dpi,format:e.format,compressionQuality:e.compressionQuality,origin:e.origin,spatialReference:e.spatialReference,lods:t})}}]),e}();function oe(e,t){if(e===t)return!0;if(!e&&null!=t)return!1;if(null!=e&&!t)return!1;if(!e.spatialReference.equals(t.spatialReference)||e.dpi!==t.dpi)return!1;var n,r,i=e.origin,a=t.origin;if(Math.abs(i.x-a.x)>=1e-6||Math.abs(i.y-a.y)>=1e-6)return!1;e.lods[0].scale>t.lods[0].scale?(n=e,r=t):(r=e,n=t);for(var o=n.lods[0].scale;o>=r.lods[r.lods.length-1].scale-1e-6;o/=2)if(Math.abs(o-r.lods[0].scale)<1e-6)return!0;return!1}function se(e,t){if(e===t)return e;if(!e&&null!=t)return t;if(null!=e&&!t)return e;for(var n=e.size[0],r=e.format,i=e.dpi,a={x:e.origin.x,y:e.origin.y},o=e.spatialReference.toJSON(),s=e.lods[0].scale>t.lods[0].scale?e.lods[0]:t.lods[0],c=e.lods[e.lods.length-1].scale<=t.lods[t.lods.length-1].scale?e.lods[e.lods.length-1]:t.lods[t.lods.length-1],u=s.scale,l=s.resolution,h=c.scale,f=[],d=u,p=l,b=0;d>h;)f.push({level:b,resolution:p,scale:d}),b++,d/=2,p/=2;return new D.a({size:[n,n],dpi:i,format:r||"pbf",origin:a,lods:f,spatialReference:o})}var ce=n(695);function ue(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;switch(r){case"webgl":t=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case"webgl2":t=["webgl2"];break;default:t=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}var i,a=null,o=Object(U.a)(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;try{a=e.getContext(s,n)}catch(e){}if(a)break}}catch(c){o.e(c)}finally{o.f()}return a}var le;var he=function(){return le||(le=function(){var e={available:!1,version:0,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1};if(void 0===typeof WebGLRenderingContext)return e;var t=document.createElement("canvas");if(!t)return e;var n=ue(t,{failIfMajorPerformanceCaveat:!0},"webgl");if(n||(n=ue(t,{},"webgl"))&&(e.majorPerformanceCaveat=!0),!n)return e;var r=n.getParameter(n.VERSION);if(!r)return e;var i=r.match(/^WebGL\s+([\d.]*)/);if(i){var a=parseFloat(i[1]);e.available=a>=.94;var o=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);o&&(e.supportsHighPrecisionFragment=o.precision>0),e.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0,e.supportsElementIndexUint=null!==n.getExtension("OES_element_index_uint"),e.supportsStandardDerivatives=null!==n.getExtension("OES_standard_derivatives"),e.supportsInstancedArrays=null!==n.getExtension("ANGLE_instanced_arrays"),e.supportsTextureFloat=null!==n.getExtension("OES_texture_float"),e.supportsColorBufferFloat=null!==n.getExtension("WEBGL_color_buffer_float")}return e.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),e.version=function(){if(void 0===typeof WebGL2RenderingContext)return!1;var e=document.createElement("canvas");return!!e&&!!ue(e,{},"webgl2")}()?2:1,e}()),le},fe=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i)))._spriteSourceMap=new Map,e.currentStyleInfo=null,e.style=null,e.isReference=null,e.operationalLayerType="VectorTileLayer",e.type="vector-tile",e.url=null,e}return Object(c.a)(n,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?Object(o.a)({url:e},t):e}},{key:"destroy",value:function(){this._spriteSourceMap.clear()}},{key:"prefetchResources",value:function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadSpriteSource(p.a.devicePixelRatio||1,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(e){var t=this,n=this.loadFromPortal({supportedTypes:["Vector Tile Service"],supportsData:!1},e).then(Object(a.a)(i.a.mark((function n(){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.portalItem&&t.portalItem.id){n.next=2;break}return n.abrupt("return");case 2:return r="".concat(t.portalItem.itemUrl,"/resources/styles/root.json"),n.next=5,Object(S.default)(r,Object(o.a)(Object(o.a)({},e),{},{query:{f:"json"}}));case 5:if(n.t0=n.sent.data,!n.t0){n.next=8;break}t.read({url:r},Object(re.a)(t.portalItem));case 8:case"end":return n.stop()}}),n)})))).then((function(){return t._loadStyle(e)}),(function(){return t._loadStyle(e)}));return this.addResolvingPromise(n),Object(_.s)(this)}},{key:"attributionDataUrl",get:function(){var e=this.currentStyleInfo,t=e&&e.serviceUrl&&Object(w.I)(e.serviceUrl);return t?this._getDefaultAttribution(t.path):null}},{key:"capabilities",get:function(){var e=this._getPrimarySource();return e?e.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}},{key:"fullExtent",get:function(){var e=this._getPrimarySource();return e?e.fullExtent:null}},{key:"parsedUrl",get:function(){return this.serviceUrl?Object(w.I)(this.serviceUrl):null}},{key:"serviceUrl",get:function(){return this.currentStyleInfo&&this.currentStyleInfo.serviceUrl||null}},{key:"spatialReference",get:function(){return this.tileInfo&&this.tileInfo.spatialReference||null}},{key:"styleUrl",get:function(){return this.currentStyleInfo&&this.currentStyleInfo.styleUrl||null}},{key:"writeStyleUrl",value:function(e,t){e&&Object(w.v)(e)&&(e="https:".concat(e)),t.styleUrl=e}},{key:"tileIndexType",get:function(){var e=this._getPrimarySource();return e?e.type:""}},{key:"tileIndexUrl",get:function(){var e=this._getPrimarySource();return e?e.tileMapURL:""}},{key:"tileInfo",get:function(){var e,t=[];for(var n in this.sourceNameToSource)t.push(this.sourceNameToSource[n]);var r=(null==(e=this._getPrimarySource())?void 0:e.tileInfo)||new D.a;if(t.length>1)for(var i=0;i<t.length;i++)oe(r,t[i].tileInfo)&&(r=se(r,t[i].tileInfo));return r}},{key:"tilemapCache",get:function(){var e=this._getPrimarySource();return e&&e.capabilities.operations.supportsTileMap?e.tilemapCache:null}},{key:"tileServers",get:function(){var e=this._getPrimarySource();return e?e.tileServers:[]}},{key:"readVersion",value:function(e,t){return t.version?parseFloat(t.version):parseFloat(t.currentVersion)}},{key:"compatibleTileInfo256",get:function(){return ae.create256x256CompatibleTileInfo(this.tileInfo)}},{key:"compatibleTileInfo512",get:function(){return ae.create512x512CompatibleTileInfo(this.tileInfo)}},{key:"loadSpriteSource",value:function(){var e=Object(a.a)(i.a.mark((function e(){var t,n,r,a,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:1,n=o.length>1?o[1]:void 0,this._spriteSourceMap.has(t)){e.next=7;break}return r=he(),a=new V(this.styleRepository.sprite,t,r.maxTextureSize,this.currentStyleInfo.spriteFormat),e.next=6,a.load(n);case 6:this._spriteSourceMap.set(t,a);case 7:return e.abrupt("return",Object(_.s)(this._spriteSourceMap.get(t)));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStyle",value:function(){var e=Object(a.a)(i.a.mark((function e(t,n){var r,a,o,s=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t||this.style||this.url,!this._loadingPromise||"string"!=typeof r||this.url!==r||Object(_.m)(this._abortController)){e.next=3;break}return e.abrupt("return",this._loadingPromise);case 3:return(a=this._abortController)&&a.abort(),o=Object(_.d)(),e.abrupt("return",(this._loadingPromise=Object(_.c)((function(e,t){var i={signal:o.signal};s._spriteSourceMap.clear(),s._getSourceAndStyle(r,i).then(e,t),Object(_.p)(n,(function(){o.abort()}))})),this._abortController=o,this._loadingPromise));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getStyleLayerId",value:function(e){return this.styleRepository.getStyleLayerId(e)}},{key:"getStyleLayerIndex",value:function(e){return this.styleRepository.getStyleLayerIndex(e)}},{key:"getPaintProperties",value:function(e){return Object(b.a)(this.styleRepository.getPaintProperties(e))}},{key:"setPaintProperties",value:function(e,t){var n=this.styleRepository.isPainterDataDriven(e);this.styleRepository.setPaintProperties(e,t);var r=this.styleRepository.isPainterDataDriven(e);this.emit("paint-change",{layerName:e,paint:t,isDataDriven:n||r})}},{key:"getStyleLayer",value:function(e){return Object(b.a)(this.styleRepository.getStyleLayer(e))}},{key:"setStyleLayer",value:function(e,t){this.styleRepository.setStyleLayer(e,t),this.emit("style-layer-change",{layer:e,index:t})}},{key:"deleteStyleLayer",value:function(e){this.styleRepository.deleteStyleLayer(e),this.emit("delete-style-layer",{layerName:e})}},{key:"getLayoutProperties",value:function(e){return Object(b.a)(this.styleRepository.getLayoutProperties(e))}},{key:"setLayoutProperties",value:function(e,t){this.styleRepository.setLayoutProperties(e,t),this.emit("layout-change",{layer:e,layout:t})}},{key:"setStyleLayerVisibility",value:function(e,t){this.styleRepository.setStyleLayerVisibility(e,t),this.emit("style-layer-visibility-change",{layer:e,visibility:t})}},{key:"getStyleLayerVisibility",value:function(e){return this.styleRepository.getStyleLayerVisibility(e)}},{key:"getTileUrl",value:function(e,t,n){var r=this.tileServers[t%this.tileServers.length];return r=r.replace(/\{z\}/gi,e.toString()).replace(/\{y\}/gi,t.toString()).replace(/\{x\}/gi,n.toString())}},{key:"write",value:function(e,t){return t&&t.origin&&!this.styleUrl?(t.messages&&t.messages.push(new j.a("vectortilelayer:unsupported","VectorTileLayer (".concat(this.title,", ").concat(this.id,") with style defined by JSON only are not supported"),{layer:this})),null):Object(u.a)(Object(l.a)(n.prototype),"write",this).call(this,e,t)}},{key:"_getSourceAndStyle",value:function(){var e=Object(a.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("invalid style!");case 2:return e.next=4,J(t,n);case 4:if("webp"!==(r=e.sent).spriteFormat){e.next=11;break}return e.next=8,N("lossy");case 8:if(e.t0=e.sent,e.t0){e.next=11;break}r.spriteFormat="png";case 11:this._set("currentStyleInfo",Object(o.a)({},r)),"string"==typeof t?(this.url=t,this.style=null):(this.url=null,this.style=t),this._set("sourceNameToSource",r.sourceNameToSource),this._set("primarySourceName",r.primarySourceName),this._set("styleRepository",new ce.a(r.style,r)),this.read(r.layerDefinition,{origin:"service"}),this.emit("load-style",{});case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getDefaultAttribution",value:function(e){var t=e.match(/^https?:\/\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\.arcgis\.com(\/[^\/]+)?\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/vectortileserver/i);if(t){var n=t[2]&&t[2].toLowerCase();if(n)for(var r=t[1]||"",i=0,a=["OpenStreetMap_v2","OpenStreetMap_Daylight_v2","OpenStreetMap_Export_v2","OpenStreetMap_FTS_v2","OpenStreetMap_GCS_v2","World_Basemap","World_Basemap_v2","World_Basemap_Export_v2","World_Basemap_GCS_v2","World_Basemap_WGS84","World_Contours_v2"];i<a.length;i++){var o=a[i];if(o.toLowerCase().indexOf(n)>-1)return Object(w.B)("//static.arcgis.com/attribution/Vector".concat(r,"/").concat(o))}}}},{key:"_getPrimarySource",value:function(){return this.sourceNameToSource&&this.primarySourceName in this.sourceNameToSource?this.sourceNameToSource[this.primarySourceName]:null}},{key:"_loadStyle",value:function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._loadingPromise?this._loadingPromise:this.loadStyle(null,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Object(A.a)(Object(I.a)(Object(R.a)(Object(C.a)(Object(M.a)(Object(P.a)(Object(T.a)(E.a))))))));Object(d.a)([Object(y.b)({readOnly:!0,dependsOn:["currentStyleInfo"]})],fe.prototype,"attributionDataUrl",null),Object(d.a)([Object(y.b)({type:["show","hide"]})],fe.prototype,"listMode",void 0),Object(d.a)([Object(y.b)({readOnly:!0,dependsOn:["sourceNameToSource","primarySourceName"],autoTracked:!1,json:{read:!1}})],fe.prototype,"capabilities",null),Object(d.a)([Object(y.b)({readOnly:!0})],fe.prototype,"currentStyleInfo",void 0),Object(d.a)([Object(y.b)({json:{read:!1},readOnly:!0,type:k.a,dependsOn:["sourceNameToSource","primarySourceName"]})],fe.prototype,"fullExtent",null),Object(d.a)([Object(y.b)()],fe.prototype,"style",void 0),Object(d.a)([Object(y.b)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],fe.prototype,"isReference",void 0),Object(d.a)([Object(y.b)({type:["VectorTileLayer"]})],fe.prototype,"operationalLayerType",void 0),Object(d.a)([Object(y.b)({readOnly:!0,dependsOn:["serviceUrl"]})],fe.prototype,"parsedUrl",null),Object(d.a)([Object(y.b)({readOnly:!0,dependsOn:["currentStyleInfo"]})],fe.prototype,"serviceUrl",null),Object(d.a)([Object(y.b)({type:x.a,dependsOn:["tileInfo"],readOnly:!0})],fe.prototype,"spatialReference",null),Object(d.a)([Object(y.b)({readOnly:!0})],fe.prototype,"styleRepository",void 0),Object(d.a)([Object(y.b)({readOnly:!0})],fe.prototype,"sourceNameToSource",void 0),Object(d.a)([Object(y.b)({readOnly:!0})],fe.prototype,"primarySourceName",void 0),Object(d.a)([Object(y.b)({type:String,readOnly:!0,dependsOn:["currentStyleInfo"],json:{write:{ignoreOrigin:!0},origins:{"web-document":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],fe.prototype,"styleUrl",null),Object(d.a)([Object(O.a)(["portal-item","web-document"],"styleUrl")],fe.prototype,"writeStyleUrl",null),Object(d.a)([Object(y.b)({json:{read:!1},readOnly:!0,dependsOn:["sourceNameToSource","primarySourceName"]})],fe.prototype,"tileIndexType",null),Object(d.a)([Object(y.b)({json:{read:!1},readOnly:!0,dependsOn:["sourceNameToSource","primarySourceName"]})],fe.prototype,"tileIndexUrl",null),Object(d.a)([Object(y.b)({json:{read:!1,origins:{service:{read:!1}}},readOnly:!0,type:D.a,dependsOn:["sourceNameToSource","primarySourceName"]})],fe.prototype,"tileInfo",null),Object(d.a)([Object(y.b)({json:{read:!1},readOnly:!0,type:L.a,dependsOn:["sourceNameToSource","primarySourceName"]})],fe.prototype,"tilemapCache",null),Object(d.a)([Object(y.b)({json:{read:!1},readOnly:!0,dependsOn:["sourceNameToSource","primarySourceName"]})],fe.prototype,"tileServers",null),Object(d.a)([Object(y.b)({json:{read:!1},readOnly:!0,value:"vector-tile"})],fe.prototype,"type",void 0),Object(d.a)([Object(y.b)({json:{origins:{"web-document":{read:{source:"styleUrl"}},"portal-item":{read:{source:"url"}}},write:!1,read:!1}})],fe.prototype,"url",void 0),Object(d.a)([Object(y.b)({readOnly:!0})],fe.prototype,"version",void 0),Object(d.a)([Object(m.a)("version",["version","currentVersion"])],fe.prototype,"readVersion",null),Object(d.a)([Object(y.b)({readOnly:!0,dependsOn:["tileInfo"]})],fe.prototype,"compatibleTileInfo256",null),Object(d.a)([Object(y.b)({readOnly:!0,dependsOn:["tileInfo"]})],fe.prototype,"compatibleTileInfo512",null);var de=fe=Object(d.a)([Object(g.a)("esri.layers.VectorTileLayer")],fe);t.default=de},function(e,t,n){"use strict";n.r(t);var r=n(7),i=n.n(r),a=n(16),o=n(10),s=n(2),c=n(3),u=n(5),l=n(6),h=n(0),f=(n(15),n(4)),d=n(14),p=(n(18),n(1)),b=n(34),v=n(8),y=n(20),m=n(12),g=(n(21),n(22),n(17)),O=n(65),j=n(184),w=n(236),_=n(231),x=n(131),k=n(284),S=n(288),E=n(283),T=n(376),M=n(430),C=d.a.getLogger("esri.views.3d.support.WorkerHandle"),A=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,"LercWorker","_decode",e,{strategy:"dedicated"})).scheduler=e,r}return Object(c.a)(n,[{key:"decode",value:function(e,t,n){return e&&0!==e.byteLength?this.invoke({buffer:e,options:t},n):Object(g.s)(null)}},{key:"getTransferList",value:function(e){return[e.buffer]}}]),n}(function(){function e(t,n,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(s.a)(this,e),this._methodName=n,this._promise=Object(M.a)(t,Object(o.a)(Object(o.a)({},a),{},{scheduler:r})).then((function(e){void 0===i._thread?(i._thread=e,i._promise=null,a.hasInitialize&&i.broadcast({},"initialize")):e.close()})),this._promise.catch((function(e){return C.error("Failed to initialize ".concat(t," worker: ").concat(e))}))}return Object(c.a)(e,[{key:"destroy",value:function(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null}},{key:"invoke",value:function(e,t){var n=this;if(this._thread){var r=this.getTransferList(e);return this._thread.invoke(this._methodName,e,{transferList:r,signal:t})}return this._promise?this._promise.then((function(){return Object(g.u)(t),n.invoke(e,t)})):Object(g.r)(null)}},{key:"broadcast",value:function(e,t){var n=this;return this._thread?Object(g.b)(this._thread.broadcast(t,e)).then((function(){})):this._promise?this._promise.then((function(){return n.broadcast(e,t)})):Object(g.r)()}},{key:"promise",get:function(){return this._promise}}]),e}()),P=new Map;function I(e){var t=P.get(e);return t||(t={instance:new A(e),ref:0},P.set(e,t)),++t.ref,t.instance}var D=d.a.getLogger("esri.layers.ElevationLayer"),L=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).copyright=null,e.heightModelInfo=null,e.path=null,e.opacity=1,e.operationalLayerType="ArcGISTiledElevationServiceLayer",e.sourceJSON=null,e.type="elevation",e.url=null,e.version=null,e._lercDecoder=I(),e}return Object(c.a)(r,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?Object(o.a)({url:e},t):e}},{key:"destroy",value:function(){(function(e){if(null!=e){var t=e.scheduler,n=P.get(t);n&&--n.ref<=0&&(n.instance.destroy(),P.delete(t))}})(this._lercDecoder),this._lercDecoder=null}},{key:"minScale",get:function(){},set:function(e){this.constructed&&D.warn("".concat(this.declaredClass,".minScale support has been removed (since 4.5)"))}},{key:"maxScale",get:function(){},set:function(e){this.constructed&&D.warn("".concat(this.declaredClass,".maxScale support has been removed (since 4.5)"))}},{key:"readVersion",value:function(e,t){var n=t.currentVersion;return n||(n=9.3),n}},{key:"load",value:function(e){var t=this,n=Object(f.h)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"],supportsData:!1,validateItem:function(e){for(var t=0;t<e.typeKeywords.length;t++)if("elevation 3d layer"===e.typeKeywords[t].toLowerCase())return!0;throw new y.a("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}' ",{type:"Image Service",expectedType:"Image Service Elevation 3D Layer"})}},e).then((function(){return t._fetchImageService(n)}),(function(){return t._fetchImageService(n)}))),Object(g.s)(this)}},{key:"fetchTile",value:function(e,t,n,r){var i=this,a=Object(f.h)((r=r||{signal:null}).signal)?r.signal:r.signal=Object(g.d)().signal,o={responseType:"array-buffer",signal:a},s={noDataValue:r.noDataValue,returnFileInfo:!0};return this.load().then((function(){return i._fetchTileAvailability(e,t,n,r)})).then((function(){return Object(O.default)(i.getTileUrl(e,t,n),o)})).then((function(e){return i._lercDecoder.decode(e.data,s,a)})).then((function(e){return{values:e.pixelData,width:e.width,height:e.height,maxZError:e.fileInfo.maxZError,noDataValue:e.noDataValue,minValue:e.minValue,maxValue:e.maxValue}}))}},{key:"getTileUrl",value:function(e,t,n){var r=!this.tilemapCache&&this.supportsBlankTile,i=Object(m.C)(Object(o.a)(Object(o.a)({},this.parsedUrl.query),{},{blankTile:!r&&null}));return"".concat(this.parsedUrl.path,"/tile/").concat(e,"/").concat(t,"/").concat(n).concat(i?"?"+i:"")}},{key:"queryElevation",value:function(){var e=Object(a.a)(i.a.mark((function e(t,r){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(6).then(n.bind(null,1234));case 2:return a=e.sent,o=a.ElevationQuery,Object(g.u)(r),e.abrupt("return",(new o).query(this,t,r));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createElevationSampler",value:function(){var e=Object(a.a)(i.a.mark((function e(t,r){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(6).then(n.bind(null,1234));case 2:return a=e.sent,o=a.ElevationQuery,Object(g.u)(r),e.abrupt("return",(new o).createSampler(this,t,r));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_fetchTileAvailability",value:function(e,t,n,r){return this.tilemapCache?this.tilemapCache.fetchAvailability(e,t,n,r):Object(g.s)("unknown")}},{key:"_fetchImageService",value:function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.sourceJSON){e.next=2;break}return e.abrupt("return",this.sourceJSON);case 2:return n={query:Object(o.a)({f:"json"},this.parsedUrl.query),responseType:"json",signal:t},e.next=5,Object(O.default)(this.parsedUrl.path,n);case 5:(r=e.sent).ssl&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=r.data,this.read(r.data,{origin:"service",url:this.parsedUrl});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(Object(T.a)(Object(S.a)(Object(k.a)(Object(E.a)(Object(w.a)(j.a))))));Object(h.a)([Object(p.b)({json:{read:{source:"copyrightText"}}})],L.prototype,"copyright",void 0),Object(h.a)([Object(p.b)({readOnly:!0,type:_.a})],L.prototype,"heightModelInfo",void 0),Object(h.a)([Object(p.b)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],L.prototype,"path",void 0),Object(h.a)([Object(p.b)({type:["show","hide"]})],L.prototype,"listMode",void 0),Object(h.a)([Object(p.b)({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],L.prototype,"minScale",null),Object(h.a)([Object(p.b)({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],L.prototype,"maxScale",null),Object(h.a)([Object(p.b)({json:{read:!1,write:!1,origins:{"web-document":{read:!1,write:!1}}}})],L.prototype,"opacity",void 0),Object(h.a)([Object(p.b)({type:["ArcGISTiledElevationServiceLayer"]})],L.prototype,"operationalLayerType",void 0),Object(h.a)([Object(p.b)()],L.prototype,"sourceJSON",void 0),Object(h.a)([Object(p.b)({json:{read:!1},value:"elevation",readOnly:!0})],L.prototype,"type",void 0),Object(h.a)([Object(p.b)(x.j)],L.prototype,"url",void 0),Object(h.a)([Object(p.b)()],L.prototype,"version",void 0),Object(h.a)([Object(b.a)("version",["currentVersion"])],L.prototype,"readVersion",null);var R=L=Object(h.a)([Object(v.a)("esri.layers.ElevationLayer")],L);t.default=R},function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n(10),i=n(2),a=n(3),o=n(5),s=n(6),c=n(353),u=n(197),l=n(265),h=n(160),f=n(205),d=n(26),p=n(301),b=(Object(f.a)().vec3f(d.a.POSITION),Object(f.a)().vec3f(d.a.POSITION).vec2f(d.a.UV0),Object(f.a)().vec3f(d.a.POSITION).vec4u8(d.a.COLOR)),v=(Object(f.a)().vec3f(d.a.POSITION).vec4u8(d.a.COLOR).vec4f(d.a.UVMAPSPACE).vec3f(d.a.MEANVERTEXPOSITION),Object(f.a)().vec3f(d.a.POSITION).vec4u8(d.a.COLOR).vec4f(d.a.UVMAPSPACE).vec3f(d.a.BOUND1).vec3f(d.a.BOUND2).vec3f(d.a.BOUND3),function(){function e(t){Object(i.a)(this,e),this.vertexBufferLayout=t}return Object(a.a)(e,[{key:"allocate",value:function(e){return this.vertexBufferLayout.createBuffer(e)}},{key:"elementCount",value:function(e){return e.indices[d.a.POSITION].length}},{key:"write",value:function(e,t,n,r){Object(p.c)(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,n,r)}}]),e}()),y=n(0),m=n(243),g=n(244),O=n(68),j=n(245),w=n(242),_=n(107),x=n(227),k=n(202),S=n(241),E=n(173),T=n(592),M=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"initializeProgram",value:function(e){var t=n.shader.get(),r=this.configuration,i=t.build({output:r.output,OITEnabled:0===r.transparencyPassType,attributeColor:r.vertexColors,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:r.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1});return new w.a(e.rctx,i.generateSource("vertex"),i.generateSource("fragment"),j.a)}},{key:"bindPass",value:function(e,t,n){x.a.bindProjectionMatrix(this.program,n.camera.projectionMatrix),this.program.setUniform4fv("eColor",t.color),4===this.configuration.output&&S.a.bindOutputHighlight(e,this.program,n),1===this.configuration.output&&this.program.setUniform2fv("nearFar",n.camera.nearFar)}},{key:"bindDraw",value:function(e){x.a.bindView(this.program,e),k.a.bindUniformsWithOrigin(this.program,this.configuration,e)}},{key:"setPipelineState",value:function(e,t){var n,r=this.configuration,i=3===e,a=2===e;return Object(_.d)({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?h.f:Object(h.a)(e),culling:(n=r.cullFace,0!==n&&{face:1===n?1028:1029,mode:2305}),depthTest:{func:Object(h.b)(e)},depthWrite:i||a?r.writeDepth&&_.c:null,colorWrite:_.b,stencilWrite:r.sceneHasOcludees?E.h:null,stencilTest:r.sceneHasOcludees?t?E.d:E.c:null,polygonOffset:i||a?r.polygonOffset&&C:Object(h.g)(r.enableOffset)})}},{key:"initializePipeline",value:function(){return this._occludeePipelineState=this.setPipelineState(this.configuration.transparencyPassType,!0),this.setPipelineState(this.configuration.transparencyPassType,!1)}},{key:"getPipelineState",value:function(e){return e?this._occludeePipelineState:this.pipeline}}]),n}(g.a);M.shader=new m.a(T.a,(function(){return n.e(128).then(n.bind(null,1204))}));var C={factor:1,units:1},A=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).output=0,e.cullFace=0,e.slicePlaneEnabled=!1,e.sliceHighlightDisabled=!1,e.vertexColors=!1,e.transparent=!1,e.polygonOffset=!1,e.enableOffset=!0,e.writeDepth=!0,e.sceneHasOcludees=!1,e.transparencyPassType=3,e}return n}(O.a);Object(y.a)([Object(O.b)({count:8})],A.prototype,"output",void 0),Object(y.a)([Object(O.b)({count:3})],A.prototype,"cullFace",void 0),Object(y.a)([Object(O.b)()],A.prototype,"slicePlaneEnabled",void 0),Object(y.a)([Object(O.b)()],A.prototype,"sliceHighlightDisabled",void 0),Object(y.a)([Object(O.b)()],A.prototype,"vertexColors",void 0),Object(y.a)([Object(O.b)()],A.prototype,"transparent",void 0),Object(y.a)([Object(O.b)()],A.prototype,"polygonOffset",void 0),Object(y.a)([Object(O.b)()],A.prototype,"enableOffset",void 0),Object(y.a)([Object(O.b)()],A.prototype,"writeDepth",void 0),Object(y.a)([Object(O.b)()],A.prototype,"sceneHasOcludees",void 0),Object(y.a)([Object(O.b)({count:4})],A.prototype,"transparencyPassType",void 0);var P=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,r,e,D)).supportsEdges=!0,a.techniqueConfig=new A,a}return Object(a.a)(n,[{key:"getTechniqueConfig",value:function(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.vertexColors=this.params.vertexColors,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.polygonOffset=this.params.polygonOffset,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.enableOffset=!t||t.camera.relativeElevation<h.e,this.techniqueConfig}},{key:"getPassParameters",value:function(){return this.params}},{key:"intersect",value:function(e,t,n,r,i,a,o){Object(u.d)(e,t,r,i,a,void 0,o)}},{key:"getGLMaterial",value:function(e){return 0===e.output||7===e.output||4===e.output||1===e.output&&this.params.writeLinearDepth?new I(e):void 0}},{key:"createBufferWriter",value:function(){return new v(b)}}]),n}(l.a),I=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).updateParameters(),r}return Object(a.a)(n,[{key:"updateParameters",value:function(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(M,this.material.getTechniqueConfig(this.output,e),this.technique)}},{key:"beginSlot",value:function(e){return 4===this.output?3===e:e===(this.technique.configuration.transparent?this.technique.configuration.writeDepth?5:8:3)}},{key:"_updateOccludeeState",value:function(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&this.material.setParameterValues({sceneHasOcludees:e.hasOccludees})}},{key:"ensureParameters",value:function(e){0!==this.output&&7!==this.output||this._updateOccludeeState(e),this.updateParameters(e)}},{key:"bind",value:function(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}},{key:"getPipelineState",value:function(e,t){return this.technique.getPipelineState(t)}}]),n}(c.a),D=Object(r.a)({color:[1,1,1,1],transparent:!1,writeDepth:!0,writeLinearDepth:!1,vertexColors:!1,polygonOffset:!1,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1},l.b)},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(8),l=(n(12),n(21),n(22),n(17)),h=n(37),f=n(199),d=n(13),p=n(4),b=n(39),v=function(){function e(){Object(r.a)(this,e),this._isToolEditable=!0,this._manipulators=new b.a,this._nextManipulatorId=0,this._resourceContexts={manipulator3D:{}},this._attached=!1}return Object(i.a)(e,[{key:"isToolEditable",set:function(e){this._isToolEditable=e}},{key:"length",get:function(){return this._manipulators.length}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.addMany([e],t)[0]}},{key:"addMany",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map((function(e){var r=t._nextManipulatorId++,i={id:r,manipulator:e,visibilityPredicate:n,attached:!1};return t._manipulators.add(i),t._attached&&t._updateManipulatorAttachment(i),r}))}},{key:"remove",value:function(e){if("number"==typeof e){for(var t=e,n=0;n<this._manipulators.length;n++)if(this._manipulators.getItemAt(n).id===t){var r=this._manipulators.splice(n,1)[0];return this._detachManipulator(r),r.id}return null}for(var i=e,a=0;a<this._manipulators.length;a++)if(this._manipulators.getItemAt(a).manipulator===i){var o=this._manipulators.splice(a,1)[0];return this._detachManipulator(o),o.id}return null}},{key:"removeAll",value:function(){var e=this;this._manipulators.forEach((function(t){e._detachManipulator(t)})),this._manipulators.removeAll()}},{key:"attach",value:function(){var e=this;this._manipulators.forEach((function(t){e._updateManipulatorAttachment(t)})),this._attached=!0}},{key:"detach",value:function(){var e=this;this._manipulators.forEach((function(t){e._detachManipulator(t)})),this._attached=!1}},{key:"destroy",value:function(){this._manipulators.forEach((function(e){var t=e.manipulator;t.destroy&&t.destroy()})),this._manipulators.destroy(),this._resourceContexts=null}},{key:"on",value:function(e,t){return this._manipulators.on(e,(function(e){t(e)}))}},{key:"forEach",value:function(e){var t,n=Object(d.a)(this._manipulators.items);try{for(n.s();!(t=n.n()).done;){e(t.value)}}catch(r){n.e(r)}finally{n.f()}}},{key:"some",value:function(e){return this._manipulators.items.some(e)}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){return e.push(t.manipulator)})),e}},{key:"intersect",value:function(e,t){var n=null,r=Number.MAX_VALUE;return this._manipulators.forEach((function(i){var a=i.id,o=i.manipulator;if(i.attached&&o.interactive){var s=o.intersectionDistance(e,t);Object(p.h)(s)&&s<r&&(r=s,n=a)}})),n}},{key:"findById",value:function(e){if(Object(p.g)(e))return null;var t,n=Object(d.a)(this._manipulators.items);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e===r.id)return r.manipulator}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"_updateManipulatorAttachment",value:function(e){this._isManipulatorItemVisible(e)?this._attachManipulator(e):this._detachManipulator(e)}},{key:"_attachManipulator",value:function(e){e.attached||(e.manipulator.attach&&e.manipulator.attach(this._resourceContexts),e.attached=!0)}},{key:"_detachManipulator",value:function(e){if(e.attached){var t=e.manipulator;t.grabbing=!1,t.dragging=!1,t.hovering=!1,t.selected=!1,t.detach&&t.detach(this._resourceContexts),e.attached=!1}}},{key:"_isManipulatorItemVisible",value:function(e){return 2===e.visibilityPredicate||(this._isToolEditable?0===e.visibilityPredicate:1===e.visibilityPredicate)}}]),e}(),y=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).attached=!1,i.created=!1,i.completed=!1,i.manipulators=new v,i.deferCreation=!1,i._editableFlags=new Array,i._creationResolver=Object(l.g)(),i}return Object(i.a)(n,[{key:"active",get:function(){return null!=this.view&&this.view.activeTool===this}},{key:"isSupported",get:function(){return!0}},{key:"visible",set:function(e){this._set("visible",e),e||Object(f.d)(this,!1),this.attached&&(e?this._show():this._hide())}},{key:"editable",get:function(){return this.hasEditableFlag(0)},set:function(e){this.setEditableFlag(0,e)}},{key:"attach",value:function(){!this.attached&&this.isSupported&&(this.manipulators.attach(),this.onAttach(),this.visible&&this.onShow(),this._set("attached",!0))}},{key:"detach",value:function(){this.attached&&(this.onHide(),this.onDetach(),this.manipulators.detach(),this._set("attached",!1))}},{key:"handleInputEvent",value:function(e){this.attached&&this.onInputEvent(e)}},{key:"handleInputEventAfter",value:function(e){this.attached&&this.onInputEventAfter(e)}},{key:"destroy",value:function(){this.manipulators.destroy(),this._set("view",null)}},{key:"setEditableFlag",value:function(e,t){this._editableFlags[e]=t,this.manipulators.isToolEditable=this._editableFlags.every((function(e){return null==e||e})),this._updateManipulatorAttachment(),0===e&&this.notifyChange("editable"),this.onEditableChange()}},{key:"hasEditableFlag",value:function(e){var t=this._editableFlags[e];return null==t||t}},{key:"when",value:function(){return this._creationResolver.promise}},{key:"rejectCreation",value:function(e){this._creationResolver.reject(e)}},{key:"initialize",value:function(){this.deferCreation||this.complete()}},{key:"onAttach",value:function(){}},{key:"onDetach",value:function(){}},{key:"onShow",value:function(){}},{key:"onHide",value:function(){}},{key:"onEditableChange",value:function(){}},{key:"onInputEvent",value:function(e){}},{key:"onInputEventAfter",value:function(e){}},{key:"internallyEditable",get:function(){return this.hasEditableFlag(0)&&this.hasEditableFlag(1)}},{key:"create",value:function(){this.created||(this._set("created",!0),this._creationResolver(this))}},{key:"complete",value:function(){this.create(),this._set("completed",!0)}},{key:"_show",value:function(){this._updateManipulatorAttachment(),this.onShow()}},{key:"_hide",value:function(){this._updateManipulatorAttachment(),this.onHide()}},{key:"_updateManipulatorAttachment",value:function(){this.attached&&this.visible?this.manipulators.attach():this.manipulators.detach()}}]),n}(h.a);Object(s.a)([Object(c.b)({constructOnly:!0})],y.prototype,"view",void 0),Object(s.a)([Object(c.b)({dependsOn:["view.activeTool"],readOnly:!0})],y.prototype,"active",null),Object(s.a)([Object(c.b)({value:!0})],y.prototype,"visible",null),Object(s.a)([Object(c.b)({value:!0})],y.prototype,"editable",null),Object(s.a)([Object(c.b)({readOnly:!0})],y.prototype,"attached",void 0),Object(s.a)([Object(c.b)({readOnly:!0})],y.prototype,"created",void 0),Object(s.a)([Object(c.b)({readOnly:!0})],y.prototype,"completed",void 0),Object(s.a)([Object(c.b)({readOnly:!0})],y.prototype,"manipulators",void 0),Object(s.a)([Object(c.b)({constructOnly:!0})],y.prototype,"deferCreation",void 0),y=Object(s.a)([Object(u.a)("esri.views.interactive.InteractiveToolBase")],y)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(50).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,i=n(30),a=n(31);function o(e){e.attributes.add("position","vec2"),e.varyings.add("uv","vec2"),e.vertex.code.add(Object(a.a)(r||(r=Object(i.a)(["\n    void main(void) {\n      gl_Position = vec4(position, 0.0, 1.0);\n      uv = position * 0.5 + vec2(0.5);\n    }\n  "]))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(10),i={divisor:0};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object(r.a)(Object(r.a)({},i),t);var n=e.stride;return e.fieldNames.filter((function(t){var n=e.fields.get(t).optional;return!(n&&n.glPadding)})).map((function(r){var i=e.fields.get(r),a=i.constructor.ElementCount,s=function(e){var t=o[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}(i.constructor.ElementType),c=i.offset,u=!(!i.optional||!i.optional.glNormalized);return{name:r,stride:n,count:a,type:s,offset:c,normalized:u,divisor:t.divisor}}))}var o={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}));var r,i,a=n(186),o=n(24),s=n(87),c=n(138),u=n(117),l=n(195),h=n(381),f=n(593);function d(e,t,n,r,i,a,o,s,u,l,h){var f,d,p=v[h.mode],b=0;if(Object(c.j)(e,t,n,r,u.spatialReference,i,s))return p.requiresAlignment(h)?(b=p.applyElevationAlignmentBuffer(r,i,a,o,s,u,l,h),f=a,d=o):(f=r,d=i),Object(c.j)(f,u.spatialReference,d,a,l.spatialReference,o,s)?b:void 0}function p(e,t,n,r,i){var o=(Object(l.c)(e)?e.z:Object(h.b)(e)?e.array[e.offset+2]:e[2])||0;switch(n.mode){case"on-the-ground":var s=Object(h.a)(t,e,"ground")||0;return i&&(i.verticalDistanceToGround=0,i.sampledElevation=s),s;case"relative-to-ground":var c=Object(h.a)(t,e,"ground")||0,u=n.geometryZWithOffset(o,r);return i&&(i.verticalDistanceToGround=u,i.sampledElevation=c),u+c;case"relative-to-scene":var f=Object(h.a)(t,e,"scene")||0,d=n.geometryZWithOffset(o,r);return i&&(i.verticalDistanceToGround=d,i.sampledElevation=f),d+f;case"absolute-height":var p=n.geometryZWithOffset(o,r);if(i){var b=Object(h.a)(t,e,"ground")||0;i.verticalDistanceToGround=p-b,i.sampledElevation=b}return p;default:return Object(a.a)(n.mode),0}}function b(e,t,n,r,i){var a=p(t,n,i,r,m);Object(f.b)(e,m.verticalDistanceToGround);var o=m.sampledElevation,u=Object(s.c)(y,e.objectTransformation);return g[0]=t.x,g[1]=t.y,g[2]=a,Object(c.d)(t.spatialReference,g,u,r.spatialReference)?e.objectTransformation=u:console.warn("Could not locate symbol object properly, it might be misplaced"),o}(i=r||(r={}))[i.NONE=0]="NONE",i[i.UPDATE=1]="UPDATE",i[i.RECREATE=2]="RECREATE";var v={"absolute-height":{applyElevationAlignmentBuffer:function(e,t,n,r,i,a,o,s){var c=s.calculateOffsetRenderUnits(o),u=s.featureExpressionInfoContext;t*=3,r*=3;for(var l=0;l<i;++l){var h=e[t+0],f=e[t+1],d=e[t+2];n[r+0]=h,n[r+1]=f,n[r+2]=null==u?d+c:c,t+=3,r+=3}return 0},requiresAlignment:function(e){var t=e.meterUnitOffset,n=e.featureExpressionInfoContext;return 0!==t||null!=n}},"on-the-ground":{applyElevationAlignmentBuffer:function(e,t,n,r,i,a){var o=0,s=a.spatialReference;t*=3,r*=3;for(var c=0;c<i;++c){var u=e[t+0],l=e[t+1],h=e[t+2],f=a.getElevation(u,l,h,s,"ground")||0;o+=f,n[r+0]=u,n[r+1]=l,n[r+2]=f,t+=3,r+=3}return o/i},requiresAlignment:function(){return!0}},"relative-to-ground":{applyElevationAlignmentBuffer:function(e,t,n,r,i,a,o,s){var c=0,u=s.calculateOffsetRenderUnits(o),l=s.featureExpressionInfoContext,h=a.spatialReference;t*=3,r*=3;for(var f=0;f<i;++f){var d=e[t+0],p=e[t+1],b=e[t+2],v=a.getElevation(d,p,b,h,"ground")||0;c+=v,n[r+0]=d,n[r+1]=p,n[r+2]=null==l?b+v+u:v+u,t+=3,r+=3}return c/i},requiresAlignment:function(){return!0}},"relative-to-scene":{applyElevationAlignmentBuffer:function(e,t,n,r,i,a,o,s){var c=0,u=s.calculateOffsetRenderUnits(o),l=s.featureExpressionInfoContext,h=a.spatialReference;t*=3,r*=3;for(var f=0;f<i;++f){var d=e[t+0],p=e[t+1],b=e[t+2],v=a.getElevation(d,p,b,h,"scene")||0;c+=v,n[r+0]=d,n[r+1]=p,n[r+2]=null==l?b+v+u:v+u,t+=3,r+=3}return c/i},requiresAlignment:function(){return!0}}},y=Object(u.b)(),m={verticalDistanceToGround:0,sampledElevation:0},g=Object(o.e)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(13),i=n(14),a=n(49),o=n(239),s=i.a.getLogger("esri.layers.support.fieldProperties");function c(){return{fields:{type:[o.a],value:null},outFields:{type:[String],dependsOn:["fields"],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;Object(a.t)(this.fields,i)||s.error("field-attributes-layer:invalid-field","Invalid field ".concat(i," found in outFields"),{layer:this,outFields:e})}}catch(o){n.e(o)}finally{n.f()}return Object(a.k)(this.fields,e)}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(4),c=n(24),u=n(9),l=n(55),h=n(498),f=n(388),d=n(44),p=n(72),b=n(116),v=n(90),y=n(26),m=n(472),g=n(197),O=n(0),j=n(87),w=n(117),_=n(243),x=n(244),k=n(68),S=n(242),E=n(107),T=n(591),M=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"initializeProgram",value:function(e){var t=n.shader.get(),r=this.configuration,i=t.build(r);return new S.a(e.rctx,i.generateSource("vertex"),i.generateSource("fragment"),n.attributeLocations)}},{key:"bind",value:function(e,t,n){this.program.setUniform3fv("innerColor",e.innerColor),this.program.setUniform1f("innerWidth",e.innerWidth*n.pixelRatio),this.program.setUniform3fv("glowColor",e.glowColor),this.program.setUniform1f("glowWidth",e.glowWidth*n.pixelRatio),this.program.setUniform1f("glowFalloff",e.glowFalloff),this.program.setUniform1f("globalAlpha",e.globalAlpha),this.program.setUniform1f("perScreenPixelRatio",n.perScreenPixelRatio),this.program.setUniform2f("pixelToNDC",2/n.fullWidth,2/n.fullHeight),this.program.setUniformMatrix4fv("uProjectionMatrix",n.projectionMatrix),Object(j.q)(A,n.viewMatrix,t),this.program.setUniformMatrix4fv("uModelViewMatrix",A),this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=e.globalAlphaContrastBoost?e.globalAlphaContrastBoost:1)}},{key:"initializePipeline",value:function(){return Object(E.d)({blending:Object(E.f)(1,771),colorWrite:E.b})}},{key:"bindPipelineState",value:function(e){e.setPipelineState(this.pipeline)}}]),n}(x.a);M.shader=new _.a(T.a,(function(){return n.e(131).then(n.bind(null,1202))})),M.attributeLocations={start:0,end:1,up:2,extrude:3};var C=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).contrastControlEnabled=!1,e}return n}(k.a);Object(O.a)([Object(k.b)()],C.prototype,"contrastControlEnabled",void 0);var A=Object(w.b)(),P=n(13),I=(n(15),n(290),n(576)),D=n(205),L=n(149),R=n(230),N=(n(345),n(516),function(){function e(t){Object(r.a)(this,e),this._renderCoordsHelper=t,this._buffers=null,this._origin=Object(c.e)(),this._dirty=!1,this._count=0,this._vao=null}return Object(i.a)(e,[{key:"vertices",set:function(e){var t,n=new Float64Array(3*e.length),r=0,i=Object(P.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n[r++]=a[0],n[r++]=a[1],n[r++]=a[2]}}catch(o){i.e(o)}finally{i.f()}this.buffers=[n]}},{key:"buffers",set:function(e){if(this._buffers=e,this._buffers.length>0){var t=this._buffers[0],n=3*Math.floor(t.length/3/2);Object(u.t)(this._origin,t[n+0],t[n+1],t[n+2])}else Object(u.t)(this._origin,0,0,0);this._dirty=!0}},{key:"origin",get:function(){return this._origin}},{key:"draw",value:function(e){var t=this.ensureVAO(e);Object(s.h)(t)&&(e.bindVAO(t),e.drawArrays(4,0,this._count))}},{key:"dispose",value:function(){Object(s.h)(this._vao)&&this._vao.dispose()}},{key:"ensureVAO",value:function(e){return Object(s.g)(this._buffers)?null:(Object(s.g)(this._vao)&&(this._vao=this.createVAO(e,this._buffers)),this.ensureVertexData(this._vao,this._buffers),this._vao)}},{key:"createVAO",value:function(e,t){var n=this.createDataBuffer(t);return this._dirty=!1,new R.a(e,M.attributeLocations,{data:Object(I.a)(V)},{data:L.a.createVertex(e,35044,n)})}},{key:"ensureVertexData",value:function(e,t){if(this._dirty){var n=this.createDataBuffer(t);e.vertexBuffers.data.setData(n),this._dirty=!1}}},{key:"numberOfRenderVertices",value:function(e){return 2*(e.length/3-1)*3}},{key:"createDataBuffer",value:function(e){var t=this,n=e.reduce((function(e,n){return e+t.numberOfRenderVertices(n)}),0);this._count=n;var r,i=V.createBuffer(n),a=this._origin,o=0,s=0,c=Object(P.a)(e);try{for(c.s();!(r=c.n()).done;){for(var l=r.value,h=0;h<l.length;h+=3){var f=Object(u.t)(z,l[h+0],l[h+1],l[h+2]);0===h?s=this._renderCoordsHelper.getAltitude(f):this._renderCoordsHelper.setAltitude(s,f);var d=this._renderCoordsHelper.worldUpAtPosition(f,F),p=o+2*h,b=Object(u.g)(z,f,a);if(h<l.length-3){i.up.setVec(p,d),i.up.setVec(p+3,d),i.up.setVec(p+5,d);for(var v=0;v<6;v++)i.start.setVec(p+v,b);i.extrude.setValues(p+0,0,-1),i.extrude.setValues(p+1,1,-1),i.extrude.setValues(p+2,1,1),i.extrude.setValues(p+3,0,-1),i.extrude.setValues(p+4,1,1),i.extrude.setValues(p+5,0,1)}if(h>0){i.up.setVec(p-2,d),i.up.setVec(p-4,d),i.up.setVec(p-5,d);for(var y=-6;y<0;y++)i.end.setVec(p+y,b)}}o+=this.numberOfRenderVertices(l)}}catch(m){c.e(m)}finally{c.f()}return i.buffer}}]),e}()),F=Object(c.e)(),z=Object(c.e)(),V=Object(D.a)().vec3f("start").vec3f("end").vec3f("up").vec2f("extrude"),U=n(245),B=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"initializeProgram",value:function(e){var t=n.shader.get(),r=this.configuration,i=t.build(r);return new S.a(e.rctx,i.generateSource("vertex"),i.generateSource("fragment"),U.a)}},{key:"bind",value:function(e,t){this.program.setUniform3fv("innerColor",e.innerColor),this.program.setUniform1f("innerWidth",e.innerWidth*t.pixelRatio),this.program.setUniform3fv("glowColor",e.glowColor),this.program.setUniform1f("glowWidth",e.glowWidth*t.pixelRatio),this.program.setUniform1f("glowFalloff",e.glowFalloff),this.program.setUniform1f("globalAlpha",e.globalAlpha),this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=e.globalAlphaContrastBoost?e.globalAlphaContrastBoost:1);var n=null!=e.angleCutoff?e.angleCutoff:f.c;this.program.setUniform2f("angleCutoff",Math.cos(n),Math.cos(Math.max(0,n-Object(d.f)(2)))),this.configuration.intersectsLineEnabled&&this.program.setUniform1f("perScreenPixelRatio",t.perScreenPixelRatio)}},{key:"initializePipeline",value:function(){return Object(E.d)({blending:Object(E.f)(1,771),colorWrite:E.b})}}]),n}(x.a);B.shader=new _.a(f.a,(function(){return n.e(132).then(n.bind(null,1203))}));var G=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).heightManifoldEnabled=!1,e.pointDistanceEnabled=!1,e.lineVerticalPlaneEnabled=!1,e.intersectsLineEnabled=!1,e.contrastControlEnabled=!1,e}return n}(k.a);Object(O.a)([Object(k.b)()],G.prototype,"heightManifoldEnabled",void 0),Object(O.a)([Object(k.b)()],G.prototype,"pointDistanceEnabled",void 0),Object(O.a)([Object(k.b)()],G.prototype,"lineVerticalPlaneEnabled",void 0),Object(O.a)([Object(k.b)()],G.prototype,"intersectsLineEnabled",void 0),Object(O.a)([Object(k.b)()],G.prototype,"contrastControlEnabled",void 0);var q=Object(c.e)(),H=Object(b.c)(),W={glowColor:[1,.5,0],glowWidth:8,glowFalloff:8,innerColor:[1,1,1],innerWidth:1,globalAlpha:.75,angleCutoff:Object(d.f)(6),globalAlphaContrastBoost:2};function Y(e,t,n,r){var i=q,a=H;Object(u.j)(i,t,r),Object(u.h)(a,n),a[3]=0,Object(v.m)(a,a,r),l.d.fromPositionAndNormal(i,a,e)}var J=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{contrastControlEnabled:!1};Object(r.a)(this,e),this._technique=null,this._projInfo=Object(b.c)(),this._zScale=Object(p.a)(),this._heightManifoldEnabled=!1,this._heightManifoldTarget=Object(c.e)(),this._pointDistanceEnabled=!1,this._pointDistanceOrigin=Object(c.e)(),this._pointDistanceTarget=Object(c.e)(),this._lineVerticalPlaneEnabled=!1,this._lineVerticalPlaneSegment=l.c.create(),this._intersectsLineEnabled=!1,this._intersectsLineSegment=l.c.create(),this._intersectsLineRadius=3,this._intersectsLineInfinite=!1,this._pathVerticalPlaneEnabled=!1,this._pathVerticalPlaneData=null,this._pathTechnique=null,this.canRender=!0,this._tempNormal=Object(c.e)(),this._tempDir=Object(c.e)(),this._tempUp=Object(c.e)(),this._tempVec3A=Object(c.e)(),this._tempVec3B=Object(c.e)(),this._tempVec4=Object(b.c)(),this._tempPlane=l.d.create(),this._tempSphere=l.f.create(),this._renderCoordsHelper=t,this._params=Object(g.c)(n,W),this._config=i}return Object(i.a)(e,[{key:"renderSlots",get:function(){return[this._config.contrastControlEnabled?17:16]}},{key:"needsLinearDepth",get:function(){return!0}},{key:"heightManifoldEnabled",get:function(){return this._heightManifoldEnabled},set:function(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this._requestRender())}},{key:"heightManifoldTarget",get:function(){return this._heightManifoldTarget},set:function(e){Object(u.h)(this._heightManifoldTarget,e),this._requestRender()}},{key:"pointDistanceEnabled",get:function(){return this._pointDistanceEnabled},set:function(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this._requestRender())}},{key:"pointDistanceTarget",get:function(){return this._pointDistanceTarget},set:function(e){Object(u.h)(this._pointDistanceTarget,e),this._requestRender()}},{key:"pointDistanceOrigin",get:function(){return this._pointDistanceOrigin},set:function(e){Object(u.h)(this._pointDistanceOrigin,e),this._requestRender()}},{key:"lineVerticalPlaneEnabled",get:function(){return this._lineVerticalPlaneEnabled},set:function(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this._requestRender())}},{key:"lineVerticalPlaneSegment",get:function(){return this._lineVerticalPlaneSegment},set:function(e){l.c.copy(e,this._lineVerticalPlaneSegment),this._requestRender()}},{key:"intersectsLineEnabled",get:function(){return this._intersectsLineEnabled},set:function(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this._requestRender())}},{key:"intersectsLineSegment",get:function(){return this._intersectsLineSegment},set:function(e){l.c.copy(e,this._intersectsLineSegment),this._requestRender()}},{key:"intersectsLineRadius",get:function(){return this._intersectsLineRadius},set:function(e){e!==this._intersectsLineRadius&&(this._intersectsLineRadius=e,this._requestRender())}},{key:"intersectsLineInfinite",get:function(){return this._intersectsLineInfinite},set:function(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this._requestRender())}},{key:"pathVerticalPlaneEnabled",get:function(){return this._pathVerticalPlaneEnabled},set:function(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,Object(s.h)(this._pathVerticalPlaneData)&&this._requestRender())}},{key:"pathVerticalPlaneVertices",set:function(e){Object(s.g)(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new N(this._renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this._requestRender()}},{key:"pathVerticalPlaneBuffers",set:function(e){Object(s.g)(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new N(this._renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this._requestRender()}},{key:"setParameterValues",value:function(e){Object(g.e)(this._params,e)&&this._requestRender()}},{key:"initializeRenderContext",value:function(e){this._initContext=e;var t=e.rctx;this._quadVAO=Object(m.b)(t),this._techniqueRepository=e.shaderTechniqueRep,this._techniqueConfig=new G,this._pathTechniqueConfig=new C}},{key:"uninitializeRenderContext",value:function(){this._quadVAO.dispose(),this._quadVAO=null,Object(s.h)(this._technique)&&this._techniqueRepository.release(this._technique),Object(s.h)(this._pathVerticalPlaneData)&&this._pathVerticalPlaneData.dispose(),Object(s.h)(this._pathTechnique)&&this._techniqueRepository.release(this._pathTechnique)}},{key:"render",value:function(e){var t=this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled,n=this.pathVerticalPlaneEnabled;if(!t&&!n)return!0;var r=e.camera;return Object(y.h)(r.projectionMatrix,r.fullWidth,r.fullHeight,this._projInfo,this._zScale),t&&this.renderUnified(e),n&&this.renderPath(e),!0}},{key:"renderUnified",value:function(e){var t=e.rctx,n=this._selectTechnique(),r=n.program;t.bindProgram(r),n.bindPipelineState(t),this.bindGlobalUniforms(e,r),this.bindHeightManifoldUniforms(e,r),this.bindPointDistanceUniforms(e,r),this.bindLineVerticalPlaneUniforms(e,r),this.bindIntersectsLineUniforms(e,r),n.bind(this._params,e.camera),t.bindVAO(this._quadVAO),t.drawArrays(5,0,4)}},{key:"renderPath",value:function(e){if(!Object(s.g)(this._pathVerticalPlaneData)){this._pathTechniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled,this._pathTechnique=this._techniqueRepository.acquireAndReleaseExisting(M,this._pathTechniqueConfig,this._pathTechnique);var t=e.rctx,n=this._pathTechnique,r=n.program;t.bindProgram(r),n.bindPipelineState(t),this.bindGlobalUniforms(e,r),n.bind(this._params,this._pathVerticalPlaneData.origin,e.camera),this._pathVerticalPlaneData.draw(e.rctx)}}},{key:"bindHeightManifoldUniforms",value:function(e,t){if(this.heightManifoldEnabled){var n=this._tempVec3A,r=this._tempPlane;this._renderCoordsHelper.worldUpAtPosition(this._heightManifoldTarget,n),Y(r,this._heightManifoldTarget,n,e.camera.viewMatrix),t.setUniform4fv("heightPlane",r)}}},{key:"bindPointDistanceUniforms",value:function(e,t){if(this._pointDistanceEnabled){var n=e.camera,r=this._tempSphere;Object(u.h)(r.center,this._pointDistanceOrigin),Object(u.j)(r.center,r.center,n.viewMatrix),r.radius=Object(u.l)(this._pointDistanceOrigin,this._pointDistanceTarget),t.setUniform4f("pointDistanceSphere",r.center[0],r.center[1],r.center[2],r.radius)}}},{key:"bindLineVerticalPlaneUniforms",value:function(e,t){if(this._lineVerticalPlaneEnabled){var n=this._renderCoordsHelper,r=e.camera,i=this._tempPlane,a=this._tempVec3A,o=this._tempUp,s=this._tempDir,c=this._tempNormal;l.c.pointAt(this._lineVerticalPlaneSegment,.5,a),n.worldUpAtPosition(a,o),Object(u.o)(s,this._lineVerticalPlaneSegment.vector),Object(u.d)(c,o,s),Object(u.o)(c,c),Y(i,this._lineVerticalPlaneSegment.origin,c,r.viewMatrix),t.setUniform4fv("lineVerticalPlane",i);var h=this._tempVec3A;Object(u.h)(h,this._lineVerticalPlaneSegment.origin),n.setAltitude(0,h),Object(u.j)(h,h,r.viewMatrix),t.setUniform3fv("lineVerticalStart",h);var f=this._tempVec3B;Object(u.c)(f,this._lineVerticalPlaneSegment.origin,this._lineVerticalPlaneSegment.vector),n.setAltitude(0,f),Object(u.j)(f,f,r.viewMatrix),t.setUniform3fv("lineVerticalEnd",f)}}},{key:"bindIntersectsLineUniforms",value:function(e,t){if(this._intersectsLineEnabled){var n=X,r=Q;if(this._intersectsLineInfinite){var i=e.camera;if(l.a.fromRay(l.e.wrap(this._intersectsLineSegment.origin,this._intersectsLineSegment.vector),K),K.c0=-Number.MAX_VALUE,!l.b.intersectClipRay(i.frustum.planes,K))return;l.a.getStart(K,n),l.a.getEnd(K,r)}else Object(u.h)(n,this._intersectsLineSegment.origin),Object(u.c)(r,this._intersectsLineSegment.origin,this._intersectsLineSegment.vector);var a=this._tempVec3A;Object(u.j)(a,n,e.camera.viewMatrix),t.setUniform3fv("intersectsLineStart",a);var o=this._tempVec4;Object(u.h)(o,this._intersectsLineSegment.vector),this._tempVec4[3]=0,Object(v.m)(this._tempVec4,this._tempVec4,e.camera.viewMatrix),Object(u.j)(r,r,e.camera.viewMatrix),t.setUniform3fv("intersectsLineEnd",r),Object(u.o)(o,o),t.setUniform3f("intersectsLineDirection",o[0],o[1],o[2]),t.setUniform1f("intersectsLineRadius",this._intersectsLineRadius)}}},{key:"bindGlobalUniforms",value:function(e,t){var n=e.camera;t.setUniform4fv("projInfo",this._projInfo),t.setUniform2fv("zScale",this._zScale),t.setUniform2f("nearFar",n.near,n.far),this._heightManifoldEnabled?t.setUniform1f("maxPixelDistance",2*n.computeScreenPixelSizeAt(this._heightManifoldTarget)):this._pointDistanceEnabled?t.setUniform1f("maxPixelDistance",2*n.computeScreenPixelSizeAt(this._pointDistanceTarget)):this._lineVerticalPlaneEnabled&&t.setUniform1f("maxPixelDistance",2*n.computeScreenPixelSizeAt(this._lineVerticalPlaneSegment.origin)),t.setUniform1i("depthMap",0),e.rctx.bindTexture(e.offscreenRenderingHelper.linearDepthTexture,0),t.setUniform1i("frameColor",1),e.rctx.bindTexture(e.offscreenRenderingHelper.mainColorTexture,1)}},{key:"_requestRender",value:function(){this._initContext&&this._initContext.requestRender()}},{key:"_selectTechnique",value:function(){return this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled,this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled,this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled,this._techniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled,this._technique=this._techniqueRepository.acquireAndReleaseExisting(B,this._techniqueConfig,this._technique),this._technique}}]),e}(),K=l.a.create(),X=Object(c.e)(),Q=Object(c.e)(),Z=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e.view))._angleCutoff=f.c,i._style={},i._heightManifoldTarget=Object(c.e)(),i._heightManifoldEnabled=!1,i._intersectsLine=l.c.create(),i._intersectsLineEnabled=!1,i._intersectsLineInfinite=!1,i._lineVerticalPlaneSegment=null,i._pathVerticalPlaneBuffers=null,i._pointDistanceLine=null,i.applyProps(e),i}return Object(i.a)(n,[{key:"testData",get:function(){return this.renderer}},{key:"createResources",value:function(){this.ensureRenderer()}},{key:"destroyResources",value:function(){this.disposeRenderer()}},{key:"updateVisibility",value:function(){this.syncHeightManifold(),this.syncIntersectsLine(),this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance()}},{key:"angleCutoff",get:function(){return this._angleCutoff},set:function(e){this._angleCutoff!==e&&(this._angleCutoff=e,this.syncAngleCutoff())}},{key:"style",get:function(){return this._style},set:function(e){this._style=e,this.syncStyle()}},{key:"heightManifoldTarget",get:function(){return this._heightManifoldEnabled?this._heightManifoldTarget:null},set:function(e){Object(s.h)(e)?(Object(u.h)(this._heightManifoldTarget,e),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this.syncRenderer(),this.syncHeightManifold()}},{key:"intersectsWorldUpAtLocation",set:function(e){if(Object(s.g)(e))this.intersectsLine=null;else{var t=this.view.renderCoordsHelper.worldUpAtPosition(e,$);this.intersectsLine=l.c.fromValues(e,t),this.intersectsLineInfinite=!0}}},{key:"intersectsLine",get:function(){return this._intersectsLineEnabled?this._intersectsLine:null},set:function(e){Object(s.h)(e)?(l.c.copy(e,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this.syncIntersectsLine(),this.syncRenderer()}},{key:"intersectsLineInfinite",get:function(){return this._intersectsLineInfinite},set:function(e){this._intersectsLineInfinite=e,this.syncIntersectsLineInfinite()}},{key:"lineVerticalPlaneSegment",get:function(){return this._lineVerticalPlaneSegment},set:function(e){this._lineVerticalPlaneSegment=Object(s.h)(e)?l.c.copy(e):null,this.syncLineVerticalPlane(),this.syncRenderer()}},{key:"pathVerticalPlane",get:function(){return this._pathVerticalPlaneBuffers},set:function(e){this._pathVerticalPlaneBuffers=e,this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance(),this.syncRenderer()}},{key:"pointDistanceLine",get:function(){return this._pointDistanceLine},set:function(e){this._pointDistanceLine=Object(s.h)(e)?{origin:Object(c.d)(e.origin),target:Object(c.d)(e.target)}:null,this.syncPointDistance(),this.syncRenderer()}},{key:"syncRenderer",value:function(){this.attached&&(this._intersectsLineEnabled||this._heightManifoldEnabled||Object(s.h)(this._pointDistanceLine)||Object(s.h)(this._pathVerticalPlaneBuffers))?this.ensureRenderer():this.disposeRenderer()}},{key:"ensureRenderer",value:function(){Object(s.h)(this.renderer)||(this.renderer=new J(this.view.renderCoordsHelper,void 0,{contrastControlEnabled:!0}),this.syncStyle(),this.syncHeightManifold(),this.syncIntersectsLine(),this.syncIntersectsLineInfinite(),this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance(),this.syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this.renderer.renderSlots,this.renderer))}},{key:"syncStyle",value:function(){Object(s.g)(this.renderer)||(this.renderer.setParameterValues(this._style),null!=this._style.intersectsLineRadius&&(this.renderer.intersectsLineRadius=this._style.intersectsLineRadius))}},{key:"syncAngleCutoff",value:function(){Object(s.g)(this.renderer)||this.renderer.setParameterValues({angleCutoff:this._angleCutoff})}},{key:"syncHeightManifold",value:function(){Object(s.g)(this.renderer)||(this.renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this.renderer.heightManifoldTarget=this._heightManifoldTarget))}},{key:"syncIntersectsLine",value:function(){Object(s.g)(this.renderer)||(this.renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this.renderer.intersectsLineSegment=this._intersectsLine))}},{key:"syncIntersectsLineInfinite",value:function(){Object(s.g)(this.renderer)||(this.renderer.intersectsLineInfinite=this._intersectsLineInfinite)}},{key:"syncPathVerticalPlane",value:function(){Object(s.g)(this.renderer)||(this.renderer.pathVerticalPlaneEnabled=Object(s.h)(this._pathVerticalPlaneBuffers)&&this.visible,Object(s.h)(this._pathVerticalPlaneBuffers)&&(this.renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}},{key:"syncLineVerticalPlane",value:function(){Object(s.g)(this.renderer)||(this.renderer.lineVerticalPlaneEnabled=Object(s.h)(this._lineVerticalPlaneSegment)&&this.visible,Object(s.h)(this._lineVerticalPlaneSegment)&&(this.renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}},{key:"syncPointDistance",value:function(){Object(s.g)(this.renderer)||(this.renderer.pointDistanceEnabled=Object(s.h)(this._pointDistanceLine)&&this.visible,Object(s.h)(this._pointDistanceLine)&&(this.renderer.pointDistanceOrigin=this._pointDistanceLine.origin,this.renderer.pointDistanceTarget=this._pointDistanceLine.target))}},{key:"disposeRenderer",value:function(){Object(s.h)(this.renderer)&&this.view._stage&&(this.view._stage.removeRenderPlugin(this.renderer),this.renderer=null)}}]),n}(h.a),$=Object(c.e)()},function(e,t,n){"use strict";var r=n(13),i=n(7),a=n.n(i),o=n(10),s=n(16),c=n(2),u=n(3),l=n(5),h=n(6),f=n(0),d=n(15),p=n(4),b=(n(14),n(18),n(1)),v=n(8),y=(n(12),n(21),n(22),n(74)),m=(n(99),n(287)),g=n(213),O=n(330),j=n(152),w=n(370),_=n(559),x=n(186),k=n(515),S=n(347);function E(e,t){return t}function T(e,t,n,r){switch(n){case 0:return P(e,t+r,0);case 1:return"lowerLeft"===e.originPosition?P(e,t+r,1):function(e,t,n){var r=e.translate,i=e.scale;return r[1]-t*i[1]}(e,t+r)}}function M(e,t,n,r){switch(n){case 2:return P(e,t,2);default:return T(e,t,n,r)}}function C(e,t,n,r){switch(n){case 2:return P(e,t,3);default:return T(e,t,n,r)}}function A(e,t,n,r){switch(n){case 3:return P(e,t,3);default:return M(e,t,n,r)}}function P(e,t,n){var r=e.translate,i=e.scale;return r[n]+t*i[n]}var I=function(){function e(t){Object(c.a)(this,e),this.options=t,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=E,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this.AttributesConstructor=function(){}}return Object(u.a)(e,[{key:"createFeatureResult",value:function(){return{fields:[],features:[]}}},{key:"finishFeatureResult",value:function(e){if(this.options.applyTransform&&(e.transform=null),this.AttributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0,e.hasZ){var t=Object(S.a)(e.geometryType,this.options.sourceSpatialReference,e.spatialReference);if(t){var n,i=Object(r.a)(e.features);try{for(i.s();!(n=i.n()).done;){t(n.value.geometry)}}catch(a){i.e(a)}finally{i.f()}}}}},{key:"createSpatialReference",value:function(){return{}}},{key:"addField",value:function(e,t){e.fields.push(t);var n=e.fields.map((function(e){return e.name}));this.AttributesConstructor=function(){var e,t=Object(r.a)(n);try{for(t.s();!(e=t.n()).done;){this[e.value]=null}}catch(i){t.e(i)}finally{t.f()}}}},{key:"addFeature",value:function(e,t){e.features.push(t)}},{key:"prepareFeatures",value:function(e){var t=this;switch(this.transform=e.transform,this.options.applyTransform&&e.transform&&(this.applyTransform=this.deriveApplyTransform(e)),this.vertexDimension=2,e.hasZ&&this.vertexDimension++,e.hasM&&this.vertexDimension++,e.geometryType){case"esriGeometryPoint":this.addCoordinate=function(e,n,r){return t.addCoordinatePoint(e,n,r)},this.createGeometry=function(e){return t.createPointGeometry(e)};break;case"esriGeometryPolygon":this.addCoordinate=function(e,n,r){return t.addCoordinatePolygon(e,n,r)},this.createGeometry=function(e){return t.createPolygonGeometry(e)};break;case"esriGeometryPolyline":this.addCoordinate=function(e,n,r){return t.addCoordinatePolyline(e,n,r)},this.createGeometry=function(e){return t.createPolylineGeometry(e)};break;case"esriGeometryMultipoint":this.addCoordinate=function(e,n,r){return t.addCoordinateMultipoint(e,n,r)},this.createGeometry=function(e){return t.createMultipointGeometry(e)};break;default:Object(x.a)(e.geometryType)}}},{key:"createFeature",value:function(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this.AttributesConstructor}}},{key:"addLength",value:function(e,t,n){0===this.lengths.length&&(this.toAddInCurrentPath=t),this.lengths.push(t)}},{key:"addQueryGeometry",value:function(e,t){var n=t.queryGeometry,r=t.queryGeometryType,i=Object(k.v)(n.clone(),n,!1,!1,this.transform),a=Object(k.h)(i,r,!1,!1);e.queryGeometryType=r,e.queryGeometry=Object(o.a)({},a)}},{key:"createPointGeometry",value:function(e){var t={x:0,y:0,spatialReference:e.spatialReference};return e.hasZ&&(t.z=0),e.hasM&&(t.m=0),t}},{key:"addCoordinatePoint",value:function(e,t,n){switch(t=this.applyTransform(this.transform,t,n,0),n){case 0:e.x=t;break;case 1:e.y=t;break;case 2:"z"in e?e.z=t:e.m=t;break;case 3:e.m=t}}},{key:"transformPathLikeValue",value:function(e,t){var n=0;return t<=1&&(n=this.previousCoordinate[t],this.previousCoordinate[t]+=e),this.applyTransform(this.transform,e,t,n)}},{key:"addCoordinatePolyline",value:function(e,t,n){this.dehydratedAddPointsCoordinate(e.paths,t,n)}},{key:"addCoordinatePolygon",value:function(e,t,n){this.dehydratedAddPointsCoordinate(e.rings,t,n)}},{key:"addCoordinateMultipoint",value:function(e,t,n){0===n&&e.points.push([]);var r=this.transformPathLikeValue(t,n);e.points[e.points.length-1].push(r)}},{key:"createPolygonGeometry",value:function(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}},{key:"createPolylineGeometry",value:function(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}},{key:"createMultipointGeometry",value:function(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}},{key:"dehydratedAddPointsCoordinate",value:function(e,t,n){0===n&&0==this.toAddInCurrentPath--&&(e.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);var r=this.transformPathLikeValue(t,n),i=e[e.length-1];0===n&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),i.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=r}},{key:"deriveApplyTransform",value:function(e){var t=e.hasZ,n=e.hasM;return t&&n?A:t?M:n?C:T}}]),e}(),D=n(321),L=n(535),R=n(65),N=n(371);function F(e,t){var n=e.toJSON();return n.objectIds&&(n.objectIds=n.objectIds.join(",")),n.orderByFields&&(n.orderByFields=n.orderByFields.join(",")),!n.outFields||null!=t&&t.returnCountOnly?delete n.outFields:-1!==n.outFields.indexOf("*")?n.outFields="*":n.outFields=n.outFields.join(","),n.outSpatialReference&&(n.outSR=n.outSR.wkid||JSON.stringify(n.outSR.toJSON()),delete n.outSpatialReference),n.dynamicDataSource&&(n.layer=JSON.stringify({source:n.dynamicDataSource}),delete n.dynamicDataSource),n}function z(){return(z=Object(s.a)(a.a.mark((function e(t,n,i){var s,c,u,l,h,f,d,p,b,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t,n,i);case 2:s=e.sent,c=s.data,u=c.geometryType,l=c.spatialReference,h={},f=Object(r.a)(c.relatedRecordGroups);try{for(f.s();!(d=f.n()).done;)if(p=d.value,b={fields:void 0,objectIdFieldName:void 0,geometryType:u,spatialReference:l,hasZ:!!c.hasZ,hasM:!!c.hasM,features:p.relatedRecords},null!=p.objectId)h[p.objectId]=b;else for(v in p)p.hasOwnProperty(v)&&"relatedRecords"!==v&&(h[p[v]]=b)}catch(a){f.e(a)}finally{f.f()}return e.abrupt("return",Object(o.a)(Object(o.a)({},s),{},{data:h}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(s.a)(a.a.mark((function e(t,n,i){var s,c,u,l,h,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t,n,i,{returnCountOnly:!0});case 2:s=e.sent,c=s.data,u={},l=Object(r.a)(c.relatedRecordGroups);try{for(l.s();!(h=l.n()).done;)null!=(f=h.value).objectId&&(u[f.objectId]=f.count)}catch(a){l.e(a)}finally{l.f()}return e.abrupt("return",Object(o.a)(Object(o.a)({},s),{},{data:u}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return B.apply(this,arguments)}function B(){return(B=Object(s.a)(a.a.mark((function e(t,n){var r,i,s,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},i=c.length>3?c[3]:void 0,s=Object(N.a)(Object(o.a)(Object(o.a)(Object(o.a)({},t.query),{},{f:"json"},i),F(n,i))),e.abrupt("return",Object(R.default)(t.path+"/queryRelatedRecords",Object(o.a)(Object(o.a)({},r),{},{query:Object(o.a)(Object(o.a)({},r.query),s)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).dynamicDataSource=null,r.format="json",r.gdbVersion=null,r.sourceSpatialReference=null,r}return Object(u.a)(n,[{key:"execute",value:function(e,t){return this.executeJSON(e,t).then((function(e){return m.default.fromJSON(e)}))}},{key:"executeJSON",value:function(){var e=Object(s.a)(a.a.mark((function e(t,n){var r,i,s,c,u,l,h,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(o.a)(Object(o.a)({},this.requestOptions),n),s=this._normalizeQuery(t),c=null!=(null==(r=t.outStatistics)?void 0:r[0]),u=Object(d.a)("featurelayer-pbf-statistics"),l=!c||u,"pbf"!==this.format||!l){e.next=14;break}return f=!s.quantizationParameters,e.prev=3,e.next=6,Object(D.executeQueryPBF)(this.parsedUrl,s,new I({sourceSpatialReference:this.sourceSpatialReference,applyTransform:f}),i);case 6:h=e.sent.data,e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(3),"query:parsing-pbf"===e.t0.name){e.next=13;break}throw e.t0;case 13:this.format="json";case 14:if("json"!==this.format&&l){e.next=18;break}return e.next=17,Object(D.executeQuery)(this.parsedUrl,s,this.sourceSpatialReference,i);case 17:h=e.sent.data;case 18:return e.abrupt("return",(this._normalizeFields(h.fields),h));case 19:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeForCount",value:function(e,t){return Object(D.executeQueryForCount)(this.parsedUrl,this._normalizeQuery(e),Object(o.a)(Object(o.a)({},this.requestOptions),t)).then((function(e){return e.data.count}))}},{key:"executeForExtent",value:function(e,t){return Object(D.executeQueryForExtent)(this.parsedUrl,this._normalizeQuery(e),Object(o.a)(Object(o.a)({},this.requestOptions),t)).then((function(e){return{count:e.data.count,extent:y.a.fromJSON(e.data.extent)}}))}},{key:"executeForIds",value:function(e,t){return Object(D.executeQueryForIds)(this.parsedUrl,this._normalizeQuery(e),Object(o.a)(Object(o.a)({},this.requestOptions),t)).then((function(e){return e.data.objectIds}))}},{key:"executeRelationshipQuery",value:function(e,t){return e=w.a.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),function(e,t,n){return z.apply(this,arguments)}(this.parsedUrl,e,Object(o.a)(Object(o.a)({},this.requestOptions),t)).then((function(e){var t=e.data,n={};return Object.keys(t).forEach((function(e){return n[e]=m.default.fromJSON(t[e])})),n}))}},{key:"executeRelationshipQueryForCount",value:function(e,t){return e=w.a.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),function(e,t,n){return V.apply(this,arguments)}(this.parsedUrl,e,Object(o.a)(Object(o.a)({},this.requestOptions),t)).then((function(e){return e.data}))}},{key:"executeAttachmentQuery",value:function(e,t){var n=this;return Object(L.a)(this.parsedUrl,O.a.from(e),Object(o.a)(Object(o.a)({},this.requestOptions),t)).then((function(e){return Object(L.b)(e.data.attachmentGroups,n.parsedUrl.path)}))}},{key:"_normalizeQuery",value:function(e){var t=j.a.from(e);if(!this.gdbVersion&&!this.dynamicDataSource)return t;var n=t===e?t.clone():t;return n.gdbVersion=e.gdbVersion||this.gdbVersion,n.dynamicDataSource=e.dynamicDataSource?g.a.from(e.dynamicDataSource):this.dynamicDataSource,n}},{key:"_normalizeFields",value:function(e){if(Object(p.h)(this.fieldsIndex)&&Object(p.h)(e)){var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,a=this.fieldsIndex.get(i.name);a&&Object.assign(i,a.toJSON())}}catch(o){n.e(o)}finally{n.f()}}}}]),n}(_.a);Object(f.a)([Object(b.b)({type:g.a})],G.prototype,"dynamicDataSource",void 0),Object(f.a)([Object(b.b)()],G.prototype,"fieldsIndex",void 0),Object(f.a)([Object(b.b)()],G.prototype,"format",void 0),Object(f.a)([Object(b.b)()],G.prototype,"gdbVersion",void 0),Object(f.a)([Object(b.b)()],G.prototype,"sourceSpatialReference",void 0);var q=G=Object(f.a)([Object(v.a)("esri.tasks.QueryTask")],G);t.a=q},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(10),i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(4)),l=(n(14),n(18),n(1),n(8)),h=(n(12),n(21),n(22),n(56)),f=(n(99),n(86)),d=n(36),p=n(60),b=n(29),v=n(496),y=function(){function e(t){var n=t.grabbableForEvent;Object(i.a)(this,e),this.events=new f.a,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=n}return Object(a.a)(e,[{key:"intersectionDistance",value:function(e,t){return 0}},{key:"attach",value:function(){}},{key:"detach",value:function(){}}]),e}(),m=n(455),g=n(169),O=n(612),j=n(309),w=n(425),_=n(226),x=n(711),k=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this))._manipulator=null,a._stagedVertex=null,a.geometryType=null,a.elevationInfo=null,a.snapToSceneEnabled=null,a._handles=new p.a,a._defaultZ=0,a._elevationDrawSurface=null,a._snappingDrawSurface=null,a._snappingEnabled=!1,a._createOperationCompleted=!1,a._pointerDownStates=new Set,a.view=e.view,a.drawingMode=Object(u.o)(e.drawingMode,j.a),a.geometryType=e.geometryType,a.elevationInfo=e.elevationInfo,a.coordinateHelper=Object(v.a)(e.hasZ,e.hasM,a.view.spatialReference,a.view.viewingMode),a._defaultZ=e.defaultZ,a.snapToSceneEnabled=e.snapToSceneEnabled,a.snappingEngine=new x.a(e.snappingOptions),a._snappingEnabled=e.snappingOptions.selfEnabled,a._handles.add(Object(b.d)(e.snappingOptions,"selfEnabled",(function(){a._snappingEnabled=e.snappingOptions.selfEnabled}))),a._snappingDrawSurface=Object(u.n)(e.snappingDrawSurface),a._elevationDrawSurface=new m.a(a.elevationInfo,a._defaultZ,a.view),a._editGeometry=new O.a(new g.c(a.coordinateHelper),"segment"===a.geometryType?"polyline":a.geometryType),a._activeComponent=new g.a(a._editGeometry.data),a._editGeometry.data.components.push(a._activeComponent),a._editGeometry.on(["vertex-add","vertex-update","vertex-remove"],(function(e){var t=e.vertices.map((function(e){return{componentIndex:0,vertexIndex:e.index,coordinates:a.coordinateHelper.toArray(e.pos)}})),n=t.map((function(e){return e.coordinates}));switch(e.type){case"vertex-add":a.emit(e.type,Object(r.a)(Object(r.a)({},e),{},{added:n,vertices:t}));break;case"vertex-update":a.emit(e.type,Object(r.a)(Object(r.a)({},e),{},{updated:n,vertices:t}));break;case"vertex-remove":a.emit(e.type,Object(r.a)(Object(r.a)({},e),{},{removed:n,vertices:t}))}})),a._manipulator=new y({grabbableForEvent:function(e){return"click"!==a.drawingMode||"touch"===e.pointerType&&a._snappingEnabled&&1===a._pointerDownStates.size}}),e.manipulators.add(a._manipulator),a._manipulator.grabbable="point"!==a.geometryType;var o=a.createManipulatorDragPipeline(a._manipulator),s=a._manipulator.events.on("immediate-double-click",(function(e){a._manipulator.dragging||"point"!==a.geometryType&&(a.complete(),e.stopPropagation())})),c=a._manipulator.events.on("immediate-click",(function(e){if(!a._manipulator.dragging){var t=a._activeComponent,n=a._closeOnClickVertexIndex(e.screenPoint);if(Object(u.h)(n))a.discardStagedVertex(),a.complete();else{var r=a._screenToMap(e.screenPoint);if(Object(u.h)(r))switch(a.drawingMode){case"freehand":break;case"click":case"hybrid":a.hasStagedVertex?a.commitStagedVertex():a._editGeometry.appendVertex(a.coordinateHelper.fromPoint(r)),("point"===a.geometryType||"segment"===a.geometryType&&2===t.vertices.length||"segment"===a.geometryType&&"hybrid"===a.drawingMode&&1===t.vertices.length)&&a.complete()}}e.stopPropagation()}}));return a._handles.add([o,c,s]),a}return Object(a.a)(n,[{key:"isCompleted",get:function(){return this._createOperationCompleted}},{key:"createManipulatorDragPipeline",value:function(e){switch(this.drawingMode){case"click":return this.createManipulatorDragPipelineClick(e);case"freehand":return this.createManipulatorDragPipelineFreehand(e);case"hybrid":return this.createManipulatorDragPipelineHybrid(e)}}},{key:"createManipulatorDragPipelineClick",value:function(e){var t=this;return Object(w.e)(e,(function(e,n,r,i){var a="touch"===i&&t._snappingEnabled;if(!t.isCompleted&&a){var o=null;n.next(t._screenToMapDragEventStep()).next((function(e){return"start"===e.action&&(t.stagedVertex=e.mapStart,("segment"===t.geometryType||a&&0===t.vertices.length)&&t.commitStagedVertex()),e})).next((function(e){switch(e.action){case"start":case"update":"start"===e.action&&a&&(o=new _.b(t._editGeometry,t.view,t.elevationInfo,i)),a&&(t.stagedVertex=t.snappingEngine.snap(e.mapEnd,Object(u.n)(o)));break;case"end":"segment"!==t.geometryType&&"point"!==t.geometryType||t.complete(),a&&(t.commitStagedVertex(),t.snappingEngine.doneSnapping())}return e})),r.next((function(){a&&t.snappingEngine.doneSnapping()}))}}))}},{key:"createManipulatorDragPipelineFreehand",value:function(e){var t=this;return Object(w.e)(e,(function(e,n){t.isCompleted||n.next(t._screenToMapDragEventStep()).next((function(e){return"start"===e.action&&(t.stagedVertex=e.mapStart,"segment"===t.geometryType&&t.commitStagedVertex()),e})).next((function(e){switch(e.action){case"start":case"update":t.stagedVertex=e.mapEnd,"polygon"!==t.geometryType&&"polyline"!==t.geometryType||t.commitStagedVertex();break;case"end":t.complete()}return e}))}))}},{key:"createManipulatorDragPipelineHybrid",value:function(e){var t=this;return Object(w.e)(e,(function(e,n){t.isCompleted||n.next(t._screenToMapDragEventStep()).next((function(e){return"start"===e.action&&(t.stagedVertex=e.mapStart,t.commitStagedVertex()),e})).next((function(e){switch(e.action){case"start":case"update":t.stagedVertex=e.mapEnd,"polygon"!==t.geometryType&&"polyline"!==t.geometryType||t.commitStagedVertex();break;case"end":"segment"!==t.geometryType&&"point"!==t.geometryType||t.complete()}return e}))}))}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null}},{key:"onInputEvent",value:function(e){switch(e.type){case"pointer-down":this._pointerDownStates.add(e.pointerId);break;case"pointer-up":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case"pointer-move":if(this._manipulator.dragging||this._pointerDownStates.has(e.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return;var t=Object(d.e)(e.x,e.y),n=this._closeOnClickVertexIndex(t);if(Object(u.h)(n)){this.discardStagedVertex();var r={componentIndex:0,vertexIndex:n,coordinates:this.coordinateHelper.toArray(this._activeComponent.vertices[n].pos)};this.emit("cursor-update",{updated:null,vertices:[r],operation:"apply",type:"vertex-update"})}else{var i=this._screenToMap(t);Object(u.h)(i)?(this.stagedVertex=this.snappingEngine.snap(i,new _.b(this._editGeometry,this.view,this.elevationInfo,e.pointerType)),this._manipulator.cursor="crosshair"):this._manipulator.cursor=null}e.stopPropagation();break;case"hold":"click"===this.drawingMode&&"touch"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}}},{key:"canRedo",get:function(){return this._editGeometry.canRedo}},{key:"redo",value:function(){this._editGeometry.redo()}},{key:"canUndo",get:function(){return this._editGeometry.canUndo}},{key:"undo",value:function(){this.snappingEngine.doneSnapping(),this._editGeometry.undo()}},{key:"complete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.commitStagedVertex(),this._createOperationCompleted=!0,this.snappingEngine.doneSnapping(),this.emit("complete",{vertices:this.vertices.map((function(e,t){return{componentIndex:0,vertexIndex:t,coordinates:e}})),aborted:e,type:"complete"})}},{key:"cancel",value:function(){this.complete(!0)}},{key:"interactive",get:function(){return this._manipulator.interactive},set:function(e){this._manipulator.interactive=e}},{key:"numVertices",get:function(){return Object(u.h)(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}},{key:"numCommittedVertices",get:function(){return this._activeComponent.vertices.length}},{key:"vertices",get:function(){var e=this,t=this._activeComponent.vertices.map((function(t){return e.coordinateHelper.toArray(t.pos)}));return Object(u.h)(this._stagedVertex)&&t.push(this.coordinateHelper.pointToArray(this._stagedVertex)),t}},{key:"spatialReference",get:function(){return this.view.spatialReference}},{key:"hasStagedVertex",get:function(){return Object(u.h)(this._stagedVertex)}},{key:"stagedVertex",get:function(){return this._stagedVertex},set:function(e){if(Object(u.g)(e))this.discardStagedVertex();else{this._stagedVertex=e;var t={componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)};this.emit("cursor-update",{updated:null,vertices:[t],operation:"apply",type:"vertex-update"})}}},{key:"commitStagedVertex",value:function(){if(Object(u.h)(this._stagedVertex)){var e=this._stagedVertex;this._stagedVertex=null,this._editGeometry.appendVertex(this.coordinateHelper.fromPoint(e))}}},{key:"discardStagedVertex",value:function(){this._stagedVertex=null}},{key:"_screenToMapDragEventStep",value:function(){var e=this,t=null;return function(n){if("start"===n.action&&(t=e._screenToMap(n.screenStart)),Object(u.g)(t))return null;var i=e._screenToMap(n.screenEnd);return Object(u.h)(i)?Object(r.a)(Object(r.a)({},n),{},{mapStart:t,mapEnd:i}):null}}},{key:"_screenToMap",value:function(e){return this._getDrawSurface().screenToMap(e)}},{key:"_mapToScreen",value:function(e){return this._getDrawSurface().mapToScreen(e)}},{key:"_getDrawSurface",value:function(){var e=null;if(this.coordinateHelper.hasZ){var t=this._defaultZ,n=!1;Object(u.h)(this.elevationInfo)&&"absolute-height"===this.elevationInfo.mode&&(n=!0),Object(u.h)(this.snapToSceneEnabled)&&(n=this.snapToSceneEnabled),Object(u.h)(this.elevationInfo)&&"on-the-ground"===this.elevationInfo.mode&&(n=!1);var r=this._activeComponent.vertices.length;("segment"===this.geometryType||"polygon"===this.geometryType)&&r>0&&(t=this.coordinateHelper.zFromArray(this._activeComponent.vertices[0].pos),n=!1),n?e=this._snappingDrawSurface:(this._elevationDrawSurface.defaultZ=t,e=this._elevationDrawSurface)}else this._elevationDrawSurface.defaultZ=null,e=this._elevationDrawSurface;return e}},{key:"_vertexWithinPointerDistance",value:function(e,t){var n=this._mapToScreen(e);return!!Object(u.h)(n)&&function(e,t,n){var r=e.x-t.x,i=e.y-t.y;return r*r+i*i<=25}(n,t)}},{key:"_closeOnClickVertexIndex",value:function(e){var t=this._activeComponent;if("polygon"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(t.vertices[0].pos,S),e))return 0;if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(t.vertices[t.vertices.length-1].pos,S),e))return t.vertices.length-1}return null}}]),n}(f.a);k=Object(c.a)([Object(l.a)("esri.views.3d.interactive.editingTools.draw3D.DrawOperation")],k);var S=new h.a({x:0,y:0,z:0})},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(2),i=n(3),a=n(4),o=n(326),s=(n(7),n(16),n(14)),c=(n(144),n(396)),u=s.a.getLogger("esri.views.3d.layers.graphics.featureExpressionInfoUtils");function l(e){return null!=e.cachedResult}var h=function(){function e(){Object(r.a)(this,e),this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit="meters",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}return Object(i.a)(e,[{key:"featureExpressionInfoContext",get:function(){return this._featureExpressionInfoContext}},{key:"meterUnitOffset",get:function(){return this._meterUnitOffset}},{key:"unit",get:function(){return this._unit},set:function(e){this._unit=e,this._metersPerElevationInfoUnit=Object(o.a)(e)}},{key:"reset",value:function(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit="meters"}},{key:"offsetMeters",set:function(e){this._meterUnitOffset=e,this._renderUnitOffset=0}},{key:"offsetElevationInfoUnits",set:function(e){this._meterUnitOffset=e*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}},{key:"addOffsetRenderUnits",value:function(e){this._renderUnitOffset+=e}},{key:"geometryZWithOffset",value:function(e,t){var n=this.calculateOffsetRenderUnits(t);return null!=this.featureExpressionInfoContext?n:e+n}},{key:"calculateOffsetRenderUnits",value:function(e){var t=this._meterUnitOffset,n=this.featureExpressionInfoContext;return null!=n&&(t+=function(e){if(null!=e){if(l(e))return e.cachedResult;var t=e.arcade,n=e.arcade.modules.arcadeUtils.executeFunction(t.func,t.context);return"number"!=typeof n&&(e.cachedResult=0,n=0),n}return 0}(n)*this._metersPerElevationInfoUnit),t/e.unitInMeters+this._renderUnitOffset}},{key:"setFromElevationInfo",value:function(e){this.mode=e.mode,this.unit=Object(o.c)(e.unit)?e.unit:"meters",this.offsetElevationInfoUnits=Object(a.o)(e.offset,0)}},{key:"updateFeatureExpressionInfoContext",value:function(e,t,n){if(Object(a.g)(e))this._featureExpressionInfoContext=null;else{var r,i=e&&e.arcade;i&&Object(a.h)(t)&&Object(a.h)(n)?(this._featureExpressionInfoContext={cachedResult:(r=e).cachedResult,arcade:r.arcade?{func:r.arcade.func,context:r.arcade.modules.arcadeUtils.createExecContext(null,{sr:r.arcade.context.spatialReference}),modules:r.arcade.modules}:null},function(e,t){if(null!=e&&!l(e)){if(!t||!e.arcade)return void u.errorOncePerTick("Arcade support required but not provided");var n=t;n._geometry&&(n._geometry=Object(c.b)(n._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,t)}}(this._featureExpressionInfoContext,function(e,t,n){return e.arcadeUtils.createFeature(t.attributes,t.geometry,n)}(i.modules,t,n))):this._featureExpressionInfoContext=e}}}],[{key:"fromElevationInfo",value:function(t){var n=new e;return Object(a.h)(t)&&n.setFromElevationInfo(t),n}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(3),a=n(451),o=function(){function e(t,n){Object(r.a)(this,e),this._storage=new a.b,this._storage.maxSize=t,n&&this._storage.registerRemoveFunc("",n)}return Object(i.a)(e,[{key:"put",value:function(e,t){this._storage.put(e,t,1,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.clearAll()}}]),e}()},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(15),o=n(145),s=Object(a.a)("esri-text-decoder")?new TextDecoder("utf-8"):null,c=Object(a.a)("safari")||Object(a.a)("ios")?6:Object(a.a)("ff")?12:32,u=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t?t.byteLength:0;Object(r.a)(this,e),this._tag=0,this._dataType=99,this.init(t,n,i,a)}return Object(i.a)(e,[{key:"init",value:function(e,t,n,r){this._data=e,this._dataView=t,this._pos=n,this._end=r}},{key:"clone",value:function(){return new e(this._data,this._dataView,this._pos,this._end)}},{key:"pos",value:function(){return this._pos}},{key:"move",value:function(e){this._pos=e}},{key:"nextTag",value:function(e){for(;;){if(this._pos===this._end)return!1;var t=this._decodeVarint();if(this._tag=t>>3,this._dataType=7&t,!e||e===this._tag)break;this.skip()}return!0}},{key:"next",value:function(){if(this._pos===this._end)return!1;var e=this._decodeVarint();return this._tag=e>>3,this._dataType=7&e,!0}},{key:"empty",value:function(){return this._pos>=this._end}},{key:"tag",value:function(){return this._tag}},{key:"getInt32",value:function(){return this._decodeVarint()}},{key:"getInt64",value:function(){return this._decodeVarint()}},{key:"getUInt32",value:function(){var e=4294967295;return e=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?e:(e=(e|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?e:void 0))))}},{key:"getUInt64",value:function(){return this._decodeVarint()}},{key:"getSInt32",value:function(){var e=this.getUInt32();return e>>>1^-(1&e)|0}},{key:"getSInt64",value:function(){return this._decodeSVarint()}},{key:"getBool",value:function(){var e=0!==this._data[this._pos];return this._skip(1),e}},{key:"getEnum",value:function(){return this._decodeVarint()}},{key:"getFixed64",value:function(){var e=this._dataView,t=this._pos,n=e.getUint32(t,!0)+4294967296*e.getUint32(t+4,!0);return this._skip(8),n}},{key:"getSFixed64",value:function(){var e=this._dataView,t=this._pos,n=e.getUint32(t,!0)+4294967296*e.getInt32(t+4,!0);return this._skip(8),n}},{key:"getDouble",value:function(){var e=this._dataView.getFloat64(this._pos,!0);return this._skip(8),e}},{key:"getFixed32",value:function(){var e=this._dataView.getUint32(this._pos,!0);return this._skip(4),e}},{key:"getSFixed32",value:function(){var e=this._dataView.getInt32(this._pos,!0);return this._skip(4),e}},{key:"getFloat",value:function(){var e=this._dataView.getFloat32(this._pos,!0);return this._skip(4),e}},{key:"getString",value:function(){var e=this._getLength(),t=this._pos,n=this._toString(this._data,t,t+e);return this._skip(e),n}},{key:"getBytes",value:function(){var e=this._getLength(),t=this._pos,n=this._toBytes(this._data,t,t+e);return this._skip(e),n}},{key:"getLength",value:function(){return this._getLengthUnsafe()}},{key:"processMessageWithArgs",value:function(e,t,n,r){var i=this.getMessage(),a=e(i,t,n,r);return i.release(),a}},{key:"processMessage",value:function(e){var t=this.getMessage(),n=e(t);return t.release(),n}},{key:"getMessage",value:function(){var t=this._getLength(),n=e.pool.acquire();return n.init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),n}},{key:"release",value:function(){e.pool.release(this)}},{key:"dataType",value:function(){return this._dataType}},{key:"skip",value:function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error("Invalid data type!")}}},{key:"skipLen",value:function(e){this._skip(e)}},{key:"_skip",value:function(e){if(this._pos+e>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=e}},{key:"_decodeVarint",value:function(){var e,t=this._data,n=this._pos,r=0;if(this._end-n>=10)do{if(r|=127&(e=t[n++]),0==(128&e))break;if(r|=(127&(e=t[n++]))<<7,0==(128&e))break;if(r|=(127&(e=t[n++]))<<14,0==(128&e))break;if(r|=(127&(e=t[n++]))<<21,0==(128&e))break;if(r+=268435456*(127&(e=t[n++])),0==(128&e))break;if(r+=34359738368*(127&(e=t[n++])),0==(128&e))break;if(r+=4398046511104*(127&(e=t[n++])),0==(128&e))break;if(r+=562949953421312*(127&(e=t[n++])),0==(128&e))break;if(r+=72057594037927940*(127&(e=t[n++])),0==(128&e))break;if(r+=0x8000000000000000*(127&(e=t[n++])),0==(128&e))break;throw new Error("Varint too long!")}while(0);else{for(var i=1;n!==this._end&&0!=(128&(e=t[n]));)++n,r+=(127&e)*i,i*=128;if(n===this._end)throw new Error("Varint overrun!");++n,r+=e*i}return this._pos=n,r}},{key:"_decodeSVarint",value:function(){var e=this._decodeVarint();return e%2?-(e+1)/2:e/2}},{key:"_getLength",value:function(){if(2!==this._dataType)throw new Error("Not a delimited data type!");return this._decodeVarint()}},{key:"_getLengthUnsafe",value:function(){return this.getUInt32()}},{key:"_toString",value:function(e,t,n){if((n=Math.min(this._end,n))-t>c&&s){var r=e.subarray(t,n);return s.decode(r)}for(var i="",a="",o=t;o<n;++o){var u=e[o];128&u?a+="%"+u.toString(16):(i+=decodeURIComponent(a)+String.fromCharCode(u),a="")}return a.length&&(i+=decodeURIComponent(a)),i}},{key:"_toBytes",value:function(e,t,n){return n=Math.min(this._end,n),new Uint8Array(e.buffer,t,n-t)}}]),e}();u.pool=new o.a(u,null,(function(e){e._data=null,e._dataView=null})),t.a=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(2),i=n(3),a=n(61),o=n(57),s=n(5),c=n(6),u=(n(15),n(4)),l=n(24),h=n(9),f=n(60),d=n(90),p=n(233),b=n(55),v=n(261),y=n(175),m=n(89),g=n(354),O=n(273),j=n(579),w=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e))._ray=b.e.create(),i._externalResources=null,i._handles=new f.a,i._isWorldDown=!1,i._start=Object(l.e)(),i._end=Object(l.g)(1,0,0),i._width=1,i._color=Object(O.b)(1,0,1,1),i._polygonOffset=!1,i._writeDepthEnabled=!0,i._innerWidth=0,i._innerColor=Object(O.b)(1,1,1,1),i._stippleIntegerRepeats=!0,i._stipplePattern=null,i._stippleOffColor=null,i._falloff=0,i._extensionType=0,i._laserlineStyle=null,i._laserlineEnabled=!1,i._renderOccluded=4,i._fadedExtensions=E,i.applyProps(e),i}return Object(i.a)(n,[{key:"createExternalResources",value:function(){var e=this,t=new g.a(this.materialParameters,"lineVisualElement");this._handles.add(this.view.state.watch("camera",(function(){e.updateGeometry()})));var n=new j.a({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:t,laserline:n}}},{key:"destroyExternalResources",value:function(){Object(u.h)(this._externalResources)&&this._externalResources.laserline.destroy(),this._externalResources=null,this._handles.removeAll()}},{key:"forEachExternalResource",value:function(e){Object(u.h)(this._externalResources)&&e(this._externalResources.material)}},{key:"createGeometries",value:function(e){var t=[Object(l.e)(),Object(l.e)()],n=3===this.extensionType;n&&t.push(Object(l.e)(),Object(l.e)());var r=new y.a(v.a.createPolylineGeometry(t),"lineVisualElement");n&&(r.data.vertexAttributes[m.c.COLOR]={size:4,data:new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]),offsetIdx:0,strideIdx:4},r.data.indices[m.c.COLOR]=new Uint32Array([0,1,2,3])),e.addGeometry(r,Object(u.n)(this._externalResources).material),this.updateVertices(r)}},{key:"updateVisibility",value:function(e){Object(a.a)(Object(o.a)(n.prototype),"updateVisibility",this).call(this,e),Object(u.h)(this._externalResources)&&(this._externalResources.laserline.visible=e)}},{key:"setStartEndFromWorldDownAtLocation",value:function(e){this._isWorldDown=!0,Object(h.h)(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),Object(h.g)(this._end,e,this._end),b.e.fromPoints(this._start,this._end,this._ray),this.updateGeometry()}},{key:"start",get:function(){return this._start},set:function(e){this._isWorldDown=!1,Object(h.n)(this._start,e)||(Object(h.h)(this._start,e),b.e.fromPoints(this._start,this._end,this._ray),this.updateGeometry())}},{key:"end",get:function(){return this._end},set:function(e){this._isWorldDown=!1,Object(h.n)(this._end,e)||(Object(h.h)(this._end,e),b.e.fromPoints(this._start,this._end,this._ray),this.updateGeometry())}},{key:"width",get:function(){return this._width},set:function(e){e!==this._width&&(this._width=e,this.updateMaterial())}},{key:"color",get:function(){return this._color},set:function(e){Object(d.g)(e,this._color)||(Object(d.c)(this._color,e),this.updateMaterial())}},{key:"polygonOffset",get:function(){return this._polygonOffset},set:function(e){e!==this._polygonOffset&&(this._polygonOffset=e,this.updateMaterial())}},{key:"writeDepthEnabled",get:function(){return this._writeDepthEnabled},set:function(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this.updateMaterial())}},{key:"innerWidth",get:function(){return this._innerWidth},set:function(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}},{key:"innerColor",get:function(){return this._innerColor},set:function(e){Object(d.g)(e,this._innerColor)||(Object(d.c)(this._innerColor,e),this.updateMaterial())}},{key:"stippleIntegerRepeats",get:function(){return this._stippleIntegerRepeats},set:function(e){e!==this._stippleIntegerRepeats&&(this._stippleIntegerRepeats=e,this.updateMaterial())}},{key:"stipplePattern",get:function(){return this._stipplePattern},set:function(e){var t=Object(u.h)(e)!==Object(u.h)(this._stipplePattern);this._stipplePattern=e,t?this.recreate():this.updateMaterial()}},{key:"stippleOffColor",get:function(){return this._stippleOffColor},set:function(e){(Object(u.g)(e)||Object(u.g)(this._stippleOffColor)||!Object(d.g)(e,this._stippleOffColor))&&(this._stippleOffColor=Object(u.h)(e)?Object(O.a)(e):null,this.updateMaterial())}},{key:"falloff",get:function(){return this._falloff},set:function(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}},{key:"extensionType",get:function(){return this._extensionType},set:function(e){e!==this._extensionType&&(this._extensionType=e,this.updateGeometry())}},{key:"_laserlineAttached",get:function(){return this._laserlineEnabled&&Object(u.h)(this._laserlineStyle)}},{key:"laserlineStyle",get:function(){return this._laserlineStyle},set:function(e){this._laserlineStyle=e,Object(u.h)(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,Object(u.h)(e)&&(this._externalResources.laserline.style=e))}},{key:"laserlineEnabled",get:function(){return this._laserlineEnabled},set:function(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,Object(u.h)(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}},{key:"fadedExtensions",get:function(){return this._fadedExtensions},set:function(e){this._fadedExtensions=Object(u.o)(e,E),this.recreateGeometry()}},{key:"updateMaterial",value:function(){Object(u.g)(this._externalResources)||this._externalResources.material.setParameterValues(this.materialParameters)}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stippleIntegerRepeats:this._stippleIntegerRepeats,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}},{key:"updateGeometry",value:function(){Object(u.h)(this.object)&&this.updateVertices(this.object.geometries[0])}},{key:"updateVertices",value:function(e){var t=3===this._extensionType?this.updateLineSegmentFinite(S):this.updateLineSegmentInfinite(this._extensionType,S);this.updateVertexAttributes(e,t),Object(u.h)(this._externalResources)&&(this._externalResources.laserline.intersectsLine=t)}},{key:"updateLineSegmentFinite",value:function(e){return b.c.fromPoints(this._start,this._end,e)}},{key:"updateLineSegmentInfinite",value:function(e,t){var n=this.view.state.camera;switch(Object(p.e)(this._ray,_),e){case 0:_.c0=-Number.MAX_VALUE;break;case 1:case 2:var r=this._ray.origin,i=this.view.elevationProvider.getElevation(r[0],r[1],r[2],this.view.renderCoordsHelper.spatialReference,"ground")||0,a=this.view.renderCoordsHelper.getAltitude(r);this._isWorldDown&&a<i&&Object(h.q)(_.ray.direction,_.ray.direction),2===this._extensionType&&null!=i&&(_.c1=Math.abs(a-i))}if(!b.b.intersectClipRay(n.frustum.planes,_))return b.c.fromPoints(this._start,this._end,t);var o=Object(p.f)(_,x),s=Object(p.d)(_,k);return b.c.fromPoints(o,s,t)}},{key:"updateVertexAttributes",value:function(e,t){var n=e.data.getVertexAttr()[m.c.POSITION].data;if(3===this.extensionType){var r=b.c.pointAt(t,-this.fadedExtensions.start,x);n[0]=r[0],n[1]=r[1],n[2]=r[2];var i=b.c.pointAt(t,0,x);n[3]=i[0],n[4]=i[1],n[5]=i[2];var a=b.c.pointAt(t,1,x);n[6]=a[0],n[7]=a[1],n[8]=a[2];var o=b.c.pointAt(t,1+this.fadedExtensions.end,x);n[9]=o[0],n[10]=o[1],n[11]=o[2]}else{var s=b.c.pointAt(t,0,x);n[0]=s[0],n[1]=s[1],n[2]=s[2];var c=b.c.pointAt(t,1,x);n[3]=c[0],n[4]=c[1],n[5]=c[2]}Object(u.h)(this.object)&&this.object.geometryVertexAttrsUpdated(0)}}]),n}(n(358).a),_=Object(p.b)(),x=Object(l.e)(),k=Object(l.e)(),S=b.c.create(),E={start:.3333333333333333,end:.3333333333333333}},function(e,t,n){"use strict";n.d(t,"a",(function(){return W})),n.d(t,"b",(function(){return A}));var r=n(13),i=n(2),a=(n(15),n(14)),o=n(44),s=n(24),c=n(9),u=n(289),l=n(87),h=n(161),f=n(117),d=n(51),p=n(229),b=n(183),v=n(83),y=n(190),m=a.a.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return{plane:Object(v.c)(e.plane),origin:Object(s.d)(e.origin),basis1:Object(s.d)(e.basis1),basis2:Object(s.d)(e.basis2)}}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g();return j(e.origin,e.basis1,e.basis2,t)}function j(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g();return Object(c.h)(r.origin,e),Object(c.h)(r.basis1,t),Object(c.h)(r.basis2,n),w(r),function(e,t){Math.abs(Object(c.e)(e.basis1,e.basis2)/(Object(c.m)(e.basis1)*Object(c.m)(e.basis2)))>1e-6&&m.warn(t,"Provided basis vectors are not perpendicular"),Math.abs(Object(c.e)(e.basis1,I(e)))>1e-6&&m.warn(t,"Basis vectors and plane normal are not perpendicular"),Math.abs(-Object(c.e)(I(e),e.origin)-e.plane[3])>1e-6&&m.warn(t,"Plane offset is not consistent with plane origin")}(r,"fromValues()"),r}function w(e){Object(v.f)(e.basis2,e.basis1,e.origin,e.plane)}function _(e,t,n){e!==n&&O(e,n);var r=Object(c.b)(d.c.get(),I(e),t);return Object(c.c)(n.origin,n.origin,r),n.plane[3]-=t,n}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g(),n=(e[2]-e[0])/2,r=(e[3]-e[1])/2;return Object(c.t)(t.origin,e[0]+n,e[1]+r,0),Object(c.t)(t.basis1,n,0,0),Object(c.t)(t.basis2,0,r,0),Object(v.a)(0,0,1,0,t.plane),t}function k(e,t,n){return!!Object(v.i)(e.plane,t,n)&&D(e,n)}function S(e,t,n){var i=z.get();N(e,t,i,z.get());var a,s=Number.POSITIVE_INFINITY,l=Object(r.a)(G);try{for(l.s();!(a=l.n()).done;){var h=R(e,a.value,V.get()),f=d.c.get();if(Object(v.b)(i,h,f)){var p=Object(u.e)(d.c.get(),t.origin,f),b=Math.abs(Object(o.b)(Object(c.e)(t.direction,p)));b<s&&(s=b,Object(c.h)(n,f))}}}catch(y){l.e(y)}finally{l.f()}return s===Number.POSITIVE_INFINITY?E(e,t,n):n}function E(e,t,n){if(k(e,t,n))return n;var i=z.get(),a=z.get();N(e,t,i,a);var o,s=Number.POSITIVE_INFINITY,u=Object(r.a)(G);try{for(u.s();!(o=u.n()).done;){var l=R(e,o.value,V.get()),h=d.c.get();if(Object(v.d)(i,l,h)){var f=Object(y.c)(t,h);if(!Object(v.e)(a,h))continue;f<s&&(s=f,Object(c.h)(n,h))}}}catch(p){u.e(p)}finally{u.f()}return C(e,t.origin)<s&&T(e,t.origin,n),n}function T(e,t,n){var r=Object(v.p)(e.plane,t,d.c.get()),i=Object(b.e)(L(e,e.basis1),r,-1,1,d.c.get()),a=Object(b.e)(L(e,e.basis2),r,-1,1,d.c.get());return Object(c.g)(n,Object(c.c)(d.c.get(),i,a),e.origin),n}function M(e,t,n){var r=e.origin,i=e.basis1,a=e.basis2,o=Object(c.g)(d.c.get(),t,r),s=Object(p.b)(i,o),u=Object(p.b)(a,o),l=Object(p.b)(I(e),o);return Object(c.t)(n,s,u,l)}function C(e,t){var n=M(e,t,d.c.get()),r=e.basis1,i=e.basis2,a=Object(c.m)(r),o=Object(c.m)(i),s=Math.max(Math.abs(n[0])-a,0),u=Math.max(Math.abs(n[1])-o,0),l=n[2];return s*s+u*u+l*l}function A(e,t){return Object(v.e)(e.plane,t)&&D(e,t)}function P(e,t){var n=-e.plane[3];return Object(p.b)(I(e),t)-n}function I(e){return Object(v.n)(e.plane)}function D(e,t){var n=Object(c.g)(d.c.get(),t,e.origin),r=Object(c.p)(e.basis1),i=Object(c.p)(e.basis2),a=Object(c.e)(e.basis1,n),o=Object(c.e)(e.basis2,n);return-a-r<0&&a-r<0&&-o-i<0&&o-i<0}function L(e,t){var n=V.get();return Object(c.h)(n.origin,e.origin),Object(c.h)(n.vector,t),n}function R(e,t,n){var r=e.basis1,i=e.basis2,a=e.origin,o=Object(c.b)(d.c.get(),r,t.origin[0]),s=Object(c.b)(d.c.get(),i,t.origin[1]);Object(c.c)(n.origin,o,s),Object(c.c)(n.origin,n.origin,a);var u=Object(c.b)(d.c.get(),r,t.direction[0]),l=Object(c.b)(d.c.get(),i,t.direction[1]);return Object(c.b)(n.vector,Object(c.c)(u,u,l),2),n}function N(e,t,n,r){var i=I(e);Object(v.f)(i,t.direction,t.origin,n),Object(v.f)(Object(v.n)(n),i,t.origin,r)}var F={plane:Object(v.c)(),origin:Object(s.g)(0,0,0),basis1:Object(s.g)(1,0,0),basis2:Object(s.g)(0,1,0)},z=new h.a(v.c),V=new h.a(b.a),U=Object(s.e)(),B=new h.a((function(){return{origin:null,basis1:null,basis2:null,plane:null}})),G=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],q=Object(f.b)(),H=Object(f.b)(),W=Object.freeze({__proto__:null,BoundedPlaneClass:function e(){Object(i.a)(this,e),this.plane=Object(v.c)(),this.origin=Object(s.e)(),this.basis1=Object(s.e)(),this.basis2=Object(s.e)()},create:g,wrap:function(e,t,n){var r=B.get();return r.origin=e,r.basis1=t,r.basis2=n,r.plane=Object(v.s)(0,0,0,0),w(r),r},copy:O,fromValues:j,updateUnboundedPlane:w,elevate:_,setExtent:function(e,t,n){return x(t,n),_(n,P(e,e.origin),n),n},fromAABoundingRect:x,intersectRay:k,intersectRayClosestSilhouette:function(e,t,n){if(k(e,t,n))return n;var r=S(e,t,d.c.get());return Object(c.c)(n,t.origin,Object(c.b)(d.c.get(),t.direction,Object(c.l)(t.origin,r)/Object(c.m)(t.direction))),n},closestPointOnSilhouette:S,closestPoint:E,projectPoint:T,projectPointLocal:M,distance2:C,distance:function(e,t){return Math.sqrt(C(e,t))},distanceToSilhouette:function(e,t){var n,i=Number.NEGATIVE_INFINITY,a=Object(r.a)(G);try{for(a.s();!(n=a.n()).done;){var o=R(e,n.value,V.get()),s=Object(b.b)(o,t);s>i&&(i=s)}}catch(c){a.e(c)}finally{a.f()}return Math.sqrt(i)},extrusionContainsPoint:A,axisAt:function(e,t,n,r){return function(e,t,n){switch(t){case 0:Object(c.h)(n,e.basis1),Object(c.o)(n,n);break;case 1:Object(c.h)(n,e.basis2),Object(c.o)(n,n);break;case 2:Object(c.h)(n,I(e))}return n}(e,n,r)},altitudeAt:P,setAltitudeAt:function(e,t,n,r){var i=P(e,t),a=Object(c.b)(U,I(e),n-i);return Object(c.c)(r,t,a),r},equals:function(e,t){return Object(c.n)(e.basis1,t.basis1)&&Object(c.n)(e.basis2,t.basis2)&&Object(c.n)(e.origin,t.origin)},transform:function(e,t,n){return e!==n&&O(e,n),Object(l.a)(q,t),Object(l.b)(q,q),Object(c.j)(n.basis1,e.basis1,q),Object(c.j)(n.basis2,e.basis2,q),Object(c.j)(Object(v.n)(n.plane),Object(v.n)(e.plane),q),Object(c.j)(n.origin,e.origin,t),Object(v.r)(n.plane,n.origin,n.plane),n},rotate:function(e,t,n,r){return e!==r&&O(e,r),Object(l.o)(H,Object(l.i)(H),t,n),Object(c.j)(r.basis1,e.basis1,H),Object(c.j)(r.basis2,e.basis2,H),w(r),r},normal:I,UP:F})},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return M}));n(15);var r=n(4),i=n(14),a=n(44),o=n(24),s=n(9),c=n(289),u=n(87),l=n(161),h=n(51),f=n(229),d=n(190),p=i.a.getLogger("esri.views.3d.support.geometryUtils.sphere");function b(e){return e?{radius:e.radius,center:Object(o.d)(e.center)}:{radius:1,center:Object(o.e)()}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b();return y(e.radius,e.center,t)}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b();return Object(s.h)(n.center,t),n.radius=e,n}function m(e,t,n){if(Object(r.g)(t))return!1;var i=Object(s.g)(h.c.get(),t.origin,e.center),a=Object(s.e)(t.direction,t.direction),o=2*Object(s.e)(t.direction,i),c=o*o-4*a*(Object(s.e)(i,i)-e.radius*e.radius);if(c<0)return!1;var u=Math.sqrt(c),l=(-o-u)/(2*a),f=(-o+u)/(2*a);return(l<0||f<l&&f>0)&&(l=f),!(l<0)&&(n&&Object(s.c)(n,t.origin,Object(s.b)(h.c.get(),t.direction,l)),!0)}function g(e,t,n){var r=h.c.get(),i=h.a.get();Object(s.d)(r,t.origin,t.direction),Object(s.d)(n,r,t.origin),Object(s.b)(n,n,1/Object(s.m)(n)*e.radius);var a=j(e,t.origin),o=Object(f.a)(t.origin,n);return Object(u.i)(i),Object(u.o)(i,i,o+a,r),Object(s.j)(n,n,i),n}function O(e,t,n){var r=Object(s.g)(h.c.get(),t,e.center),i=Object(s.b)(h.c.get(),r,e.radius/Object(s.m)(r));return Object(s.c)(n,i,e.center)}function j(e,t){var n=Object(s.g)(h.c.get(),t,e.center),r=Object(s.m)(n),i=e.radius+Math.abs(e.radius-r);return Object(a.b)(e.radius/i)}var w=Object(o.e)();function _(e,t,n,r){var i=Object(s.g)(w,t,e.center);switch(n){case 0:var a=Object(c.a)(i,w)[2];return Object(s.t)(r,-Math.sin(a),Math.cos(a),0);case 1:var o=Object(c.a)(i,w),u=o[1],l=o[2],h=Math.sin(u);return Object(s.t)(r,-h*Math.cos(l),-h*Math.sin(l),Math.cos(u));case 2:return Object(s.o)(r,i);default:return}}function x(e,t){var n=Object(s.g)(T,t,e.center);return Object(s.m)(n)-e.radius}var k=new l.a((function(){return{center:null,radius:0}})),S=Object(d.b)(),E=Object(o.e)(),T=Object(o.e)();Object.freeze(E);var M=Object.freeze({__proto__:null,create:b,wrap:function(e,t){var n=k.get();return n.radius=e,n.center=t||E,n},copy:v,fromValues:y,elevate:function(e,t,n){return e!==n&&Object(s.h)(n.center,e.center),n.radius=e.radius+t,n},setExtent:function(e,t,n){return p.error("sphere.setExtent is not yet supported"),e===n?n:v(e,n)},intersectRay:m,intersectScreen:function(e,t,n,r){return m(e,Object(d.e)(t,n,S),r)},intersectsRay:function(e,t){return m(e,t,null)},intersectRayClosestSilhouette:function(e,t,n){if(m(e,t,n))return n;var r=g(e,t,h.c.get());return Object(s.c)(n,t.origin,Object(s.b)(h.c.get(),t.direction,Object(s.l)(t.origin,r)/Object(s.m)(t.direction))),n},closestPointOnSilhouette:g,closestPoint:function(e,t,n){return m(e,t,n)?n:(Object(d.f)(t,e.center,n),O(e,n,n))},projectPoint:O,distanceToSilhouette:function(e,t){var n=Object(s.g)(h.c.get(),t,e.center),r=Object(s.p)(n),i=e.radius*e.radius;return Math.sqrt(Math.abs(r-i))},angleToSilhouette:j,axisAt:_,altitudeAt:x,setAltitudeAt:function(e,t,n,r){var i=x(e,t),a=_(e,t,2,T),o=Object(s.b)(T,a,n-i);return Object(s.c)(r,t,o),r}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return U}));var r,i,a,o,s,c,u,l,h,f,d,p,b,v,y,m,g,O,j,w,_,x,k,S,E,T,M,C,A=n(30),P=n(31),I=n(237),D=n(340),L=n(202),R=n(238),N=n(436),F=n(613),z=n(614),V=n(566);function U(e){var t=new I.a;t.extensions.add("GL_OES_standard_derivatives"),t.include(V.a),t.include(F.a,e),t.include(z.a,e),1===e.output&&t.include(N.a,e),t.vertex.uniforms.add("proj","mat4").add("view","mat4").add("nearFar","vec2").add("pixelRatio","float").add("miterLimit","float").add("screenSize","vec2"),t.attributes.add("position","vec3"),t.attributes.add("subdivisionFactor","float"),t.attributes.add("uv0","vec2"),t.attributes.add("auxpos1","vec3"),t.attributes.add("auxpos2","vec3"),t.varyings.add("vColor","vec4"),t.varyings.add("vpos","vec3"),t.varyings.add("linearDepth","float");var n=e.falloffEnabled,U=e.innerColorEnabled;return U&&t.varyings.add("vLineDistance","float"),n&&t.varyings.add("vLineDistanceNorm","float"),e.falloffEnabled&&t.fragment.uniforms.add("falloff","float"),e.innerColorEnabled&&(t.fragment.uniforms.add("innerColor","vec4"),t.fragment.uniforms.add("innerWidth","float")),t.vertex.code.add(Object(P.a)(r||(r=Object(A.a)(["\n\t\t#define PERPENDICULAR(v) vec2(v.y, -v.x);\n\t\t#define ISOUTSIDE (left.x * right.y - left.y * right.x)*uv0.y > 0.0\n\n\t\tfloat interp(float ncp, vec4 a, vec4 b) {\n\t\t\treturn (-ncp - a.z) / (b.z - a.z);\n\t\t}\n\n\t\tvec2 rotate(vec2 v, float a) {\n\t\t\tfloat s = sin(a);\n\t\t\tfloat c = cos(a);\n\t\t\tmat2 m = mat2(c, -s, s, c);\n\t\t\treturn m * v;\n\t\t}\n"])))),t.vertex.code.add(Object(P.a)(i||(i=Object(A.a)(["\n    vec4 projectAndScale(vec4 pos) {\n      vec4 posNdc = proj * pos;\n\n      // Note that posNdc is in -1:1, scaling by screenSize converts this to a coordinate system\n      // that is twice scaled (going from -size:size).\n      posNdc.xy *= screenSize / posNdc.w;\n      return posNdc;\n    }\n"])))),t.vertex.code.add(Object(P.a)(a||(a=Object(A.a)(["\n    void clipAndTransform(inout vec4 pos, inout vec4 prev, inout vec4 next, in bool isStartVertex) {\n      float vnp = nearFar[0] * 0.99;\n\n      //current pos behind ncp --\x3e we need to clip\n      if(pos.z > -nearFar[0]) {\n        if (!isStartVertex) {\n          //previous in front of ncp\n          if(prev.z < -nearFar[0]) {\n            pos = mix(prev, pos, interp(vnp, prev, pos));\n            next = pos;\n          } else {\n            pos = vec4(0.0, 0.0, 0.0, 1.0);\n          }\n        }\n        //next in front of ncp\n        if(isStartVertex) {\n          if(next.z < -nearFar[0]) {\n            pos = mix(pos, next, interp(vnp, pos, next));\n            prev = pos;\n          } else {\n            pos = vec4(0.0, 0.0, 0.0, 1.0);\n          }\n        }\n      } else {\n        //current position visible\n        //previous behind ncp\n        if (prev.z > -nearFar[0]) {\n          prev = mix(pos, prev, interp(vnp, pos, prev));\n        }\n        //next behind ncp\n        if (next.z > -nearFar[0]) {\n          next = mix(next, pos, interp(vnp, next, pos));\n        }\n      }\n\n      linearDepth = (-pos.z - nearFar[0]) / (nearFar[1] - nearFar[0]);\n\n      pos = projectAndScale(pos);\n      next = projectAndScale(next);\n      prev = projectAndScale(prev);\n    }\n"])))),t.vertex.code.add(Object(P.a)(o||(o=Object(A.a)(["\n  void main(void) {\n    float coverage = 1.0;\n    vpos = position;\n\n    // Check for special value of uv0.y which is used by the Renderer when graphics\n    // are removed before the VBO is recompacted. If this is the case, then we just\n    // project outside of clip space.\n    if (uv0.y == 0.0) {\n      // Project out of clip space\n      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n    else {\n      bool isStartVertex = abs(abs(uv0.y)-3.0) == 1.0;\n      bool isJoin = abs(uv0.y)-3.0 < 0.0;\n\n      float lineWidth = getSize() * pixelRatio;\n\n      // convert sub-pixel coverage to alpha\n      if (lineWidth < 1.0) {\n        coverage = lineWidth;\n        lineWidth = 1.0;\n      }else{\n        // Ribbon lines cannot properly render non-integer sizes. Round width to integer size if\n        // larger than one for better quality. Note that we do render < 1 pixels more or less correctly\n        // so we only really care to round anything larger than 1.\n        lineWidth = floor(lineWidth + 0.5);\n      }\n\n      vec4 pos  = view * vec4(position.xyz, 1.0);\n      vec4 prev = view * vec4(auxpos1.xyz, 1.0);\n      vec4 next = view * vec4(auxpos2.xyz, 1.0);\n\n      clipAndTransform(pos, prev, next, isStartVertex);\n\n      vec2 left = (pos.xy - prev.xy);\n      vec2 right = (next.xy - pos.xy);\n\n      float leftLen = length(left);\n      float rightLen = length(right);\n  "])))),e.stippleEnabled&&t.vertex.code.add(Object(P.a)(s||(s=Object(A.a)(["\n      // uv0.x is either 0 or 1, depending on whether this is considered the start of a line segment\n      // or the end. If start, then use pos->next, otherwise use prev->pos to define the line segment\n      // vector\n      vec4 stippleSegmentInfo = mix(vec4(pos.xy, right), vec4(prev.xy, left), uv0.x);\n      vec2 stippleSegmentOrigin = stippleSegmentInfo.xy;\n\n      // Scale s.t. it's in units of stipple pattern size.\n      vec2 stippleSegmentDirection = stippleSegmentInfo.zw;\n    "])))),t.vertex.code.add(Object(P.a)(c||(c=Object(A.a)(['\n    left = (leftLen > 0.001) ? left/leftLen : vec2(0.0, 0.0);\n    right = (rightLen > 0.001) ? right/rightLen : vec2(0.0, 0.0);\n\n    vec2 capDisplacementDir = vec2(0, 0);\n    vec2 joinDisplacementDir = vec2(0, 0);\n    float displacementLen = lineWidth;\n\n    if (isJoin) {\n\n      // JOIN handling ---------------------------------------------------\n      // determine if vertex is on the "outside or "inside" of the join\n      bool isOutside = ISOUTSIDE;\n\n      // compute miter join position first\n      joinDisplacementDir = normalize(left + right);\n      joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);\n\n      // compute miter stretch\n      if (leftLen > 0.001 && rightLen > 0.001) {\n        float nDotSeg = dot(joinDisplacementDir, left);\n        displacementLen /= length(nDotSeg * left - joinDisplacementDir);\n\n        // limit displacement of inner vertices\n        if (!isOutside) {\n          displacementLen = min(displacementLen, min(leftLen, rightLen)/abs(nDotSeg));\n        }\n      }\n\n      if (isOutside && (displacementLen > miterLimit * lineWidth)) {\n    '])))),e.roundJoins?t.vertex.code.add(Object(P.a)(u||(u=Object(A.a)(["\n        vec2 startDir;\n        vec2 endDir;\n\n        if (leftLen < 0.001) {\n          startDir = right;\n        }\n        else{\n          startDir = left;\n        }\n        startDir = normalize(startDir);\n        startDir = PERPENDICULAR(startDir);\n\n        if (rightLen < 0.001) {\n          endDir = left;\n        }\n        else{\n          endDir = right;\n        }\n        endDir = normalize(endDir);\n        endDir = PERPENDICULAR(endDir);\n\n        float rotationAngle = acos(clamp(dot(startDir, endDir), -1.0, 1.0));\n        joinDisplacementDir = rotate(startDir, -sign(uv0.y) * subdivisionFactor * rotationAngle);\n      "])))):t.vertex.code.add(Object(P.a)(l||(l=Object(A.a)(["\n        // convert to bevel join if miterLimit is exceeded\n        if (leftLen < 0.001) {\n          joinDisplacementDir = right;\n        }\n        else if (rightLen < 0.001) {\n          joinDisplacementDir = left;\n        }\n        else {\n          joinDisplacementDir = isStartVertex ? right : left;\n        }\n        joinDisplacementDir = normalize(joinDisplacementDir);\n        joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);\n  "])))),t.vertex.code.add(Object(P.a)(h||(h=Object(A.a)(["\n        displacementLen = lineWidth;\n      }\n    } else {\n    // CAP handling ---------------------------------------------------\n    if (leftLen < 0.001) {\n      joinDisplacementDir = right;\n    }\n    else if (rightLen < 0.001) {\n      joinDisplacementDir = left;\n    }\n    else {\n      joinDisplacementDir = isStartVertex ? right : left;\n    }\n    joinDisplacementDir = normalize(joinDisplacementDir);\n    joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);\n    displacementLen = lineWidth;\n\n    capDisplacementDir = isStartVertex ? -right : left;\n  "])))),e.roundCaps?t.vertex.code.add(Object(P.a)(f||(f=Object(A.a)(["\n    float angle = subdivisionFactor*PI*0.5;\n    joinDisplacementDir *= cos(angle);\n    capDisplacementDir *= sin(angle);\n    "])))):t.vertex.code.add(Object(P.a)(d||(d=Object(A.a)(["\n    capDisplacementDir *= subdivisionFactor;\n    "])))),t.vertex.code.add(Object(P.a)(p||(p=Object(A.a)(["\n  }\n\n  // Displacement (in pixels) caused by join/or cap\n  vec2 dpos = joinDisplacementDir * sign(uv0.y) * displacementLen + capDisplacementDir * displacementLen;\n\n  ","\n\n  ","\n  ","\n\n  pos.xy += dpos;\n  "])),n||U?Object(P.a)(b||(b=Object(A.a)(["float lineDist = lineWidth * sign(uv0.y) * pos.w;"]))):"",U?Object(P.a)(v||(v=Object(A.a)(["vLineDistance = lineDist;"]))):"",n?Object(P.a)(y||(y=Object(A.a)(["vLineDistanceNorm = lineDist / lineWidth;"]))):"")),e.stippleEnabled&&(t.vertex.code.add(Object(P.a)(m||(m=Object(A.a)(["\n    {\n      // Compute the stipple pattern UV coordinate from the actual position, based on the origin\n      // and direction of the line segment on which the stipple pattern is based.\n\n      // Project the vector from the origin of the segment to the vertex onto the line segment.\n      // Note the 0.5 factor due to projected positions being at twice the screen size scale (see projectAndScale)\n      vec2 posVec = pos.xy - stippleSegmentOrigin;\n\n      float stippleSegmentDirectionLength = length(stippleSegmentDirection);\n    "])))),e.stippleIntegerRepeatsEnabled&&t.vertex.code.add(Object(P.a)(g||(g=Object(A.a)(["\n      float numberOfPatternRepeats = stippleSegmentDirectionLength * 0.5 * stipplePatternPixelSizeInv;\n      float roundedNumberOfPatternRepeats = floor(numberOfPatternRepeats);\n      stipplePatternUvMax = roundedNumberOfPatternRepeats;\n      "])))),t.vertex.code.add(Object(P.a)(O||(O=Object(A.a)(["\n      if (stippleSegmentDirectionLength >= 0.001) {\n        // Project the vertex position onto the line segment.\n        float projectedLength = dot(stippleSegmentDirection, posVec) / stippleSegmentDirectionLength * 0.5;\n     ","\n        stipplePatternUv = projectedLength * wholeNumberOfRepeatsScale * stipplePatternPixelSizeInv * pos.w;\n        } else {\n          stipplePatternUv = 1.0;\n        }\n      }\n    "])),e.stippleIntegerRepeatsEnabled?"float wholeNumberOfRepeatsScale = roundedNumberOfPatternRepeats / numberOfPatternRepeats;":"float wholeNumberOfRepeatsScale = 1.0;"))),t.vertex.code.add(Object(P.a)(j||(j=Object(A.a)(["\n      // Convert back into NDC\n      pos.xy = pos.xy / screenSize * pos.w;\n\n      vColor = getColor();\n      vColor.a *= coverage;\n\n      gl_Position = pos;\n    }\n  }\n  "])))),t.include(L.a,e),t.fragment.uniforms.add("intrinsicColor","vec4"),t.fragment.include(D.a),t.fragment.code.add(Object(P.a)(w||(w=Object(A.a)(["\n  void main() {\n    discardBySlice(vpos);\n    float stippleAlpha = getStippleAlpha();\n    discardByStippleAlpha(stippleAlpha, STIPPLE_ALPHA_COLOR_DISCARD);\n\n    vec4 color = intrinsicColor * vColor;\n  "])))),e.innerColorEnabled&&(t.fragment.uniforms.add("pixelRatio","float"),t.fragment.code.add(Object(P.a)(_||(_=Object(A.a)(["\n    float distToInner = abs(vLineDistance * gl_FragCoord.w) - innerWidth;\n    float innerAA = clamp(0.5 - distToInner, 0.0, 1.0);\n    float innerAlpha = innerColor.a + color.a * (1.0 - innerColor.a);\n    color = mix(color, vec4(innerColor.rgb, innerAlpha), innerAA);\n    "]))))),t.fragment.code.add(Object(P.a)(x||(x=Object(A.a)(["\n    vec4 finalColor = blendStipple(color, stippleAlpha);\n  "])))),e.falloffEnabled&&t.fragment.code.add(Object(P.a)(k||(k=Object(A.a)(["\n    finalColor.a *= pow(max(0.0, 1.0 - abs(vLineDistanceNorm * gl_FragCoord.w)), falloff);\n    "])))),t.fragment.code.add(Object(P.a)(S||(S=Object(A.a)(["\n    if (finalColor.a < ",") {\n      discard;\n    }\n\n    ","\n    ","\n    ","\n    ","\n    ","\n  }\n  "])),P.a.float(R.c),7===e.output?Object(P.a)(E||(E=Object(A.a)(["gl_FragColor = vec4(finalColor.a);"]))):"",0===e.output?Object(P.a)(T||(T=Object(A.a)(["gl_FragColor = highlightSlice(finalColor, vpos);"]))):"",0===e.output&&e.OITEnabled?"gl_FragColor = premultiplyAlpha(gl_FragColor);":"",4===e.output?Object(P.a)(M||(M=Object(A.a)(["gl_FragColor = vec4(1.0);"]))):"",1===e.output?Object(P.a)(C||(C=Object(A.a)(["outputDepth(linearDepth);"]))):"")),t}var B=Object.freeze({__proto__:null,build:U})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o}));n(15);function r(e){switch(e){case"u8":return 1;case"u16":return 2;case"u32":return 4;case"i8":return 1;case"i16":return 2;case"i32":case"f32":return 4;case"f64":return 8;default:return}}function i(e){switch(e){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return}}function a(e){switch(e){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return}}function o(e){switch(e){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return}}},function(e,t,n){"use strict";function r(e,t,n){for(var r=0;r<n;++r)t[2*r]=e[r],t[2*r+1]=e[r]-t[2*r]}function i(e,t,n,i){for(var s=0;s<i;++s)a[0]=e[s],r(a,o,1),t[s]=o[0],n[s]=o[1]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=new Float64Array(1),o=new Float32Array(2)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r,i,a=n(30),o=n(31),s=n(237),c=n(445);function u(e){var t=new s.a;return t.include(c.a,e),t.vertex.uniforms.add("uModelViewMatrix","mat4"),t.vertex.uniforms.add("uProjectionMatrix","mat4"),t.attributes.add("start","vec3"),t.attributes.add("end","vec3"),t.attributes.add("up","vec3"),t.attributes.add("extrude","vec2"),t.varyings.add("uv","vec2"),t.varyings.add("vViewStart","vec3"),t.varyings.add("vViewEnd","vec3"),t.varyings.add("vViewPlane","vec4"),t.vertex.uniforms.add("glowWidth","float"),t.vertex.uniforms.add("pixelToNDC","vec2"),t.vertex.code.add(Object(o.a)(r||(r=Object(a.a)(["\n  void main() {\n    vec3 pos = mix(start, end, extrude.x);\n\n    vec4 viewPos = uModelViewMatrix * vec4(pos, 1);\n    vec4 projPos = uProjectionMatrix * viewPos;\n    vec2 ndcPos = projPos.xy / projPos.w;\n\n    vec3 viewUp = (uModelViewMatrix * vec4(extrude.y * up, 0)).xyz;\n    vec4 projPosUp = uProjectionMatrix * vec4(viewPos.xyz + viewUp, 1);\n    vec2 projExtrudeDir = normalize(projPosUp.xy / projPosUp.w - ndcPos);\n\n    vec2 lxy = abs(sign(projExtrudeDir) - ndcPos);\n    ndcPos += length(lxy) * projExtrudeDir;\n\n    vec3 worldPlaneNormal = normalize(cross(up, normalize(end - start)));\n    vec3 viewPlaneNormal = (uModelViewMatrix * vec4(worldPlaneNormal, 0)).xyz;\n\n    vViewStart = (uModelViewMatrix * vec4(start, 1)).xyz;\n    vViewEnd = (uModelViewMatrix * vec4(end, 1)).xyz;\n    vViewPlane = vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));\n\n    // Add enough padding in the X screen space direction for glow\n    float xPaddingPixels = sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\n    ndcPos.x += xPaddingPixels * pixelToNDC.x;\n\n    uv = ndcPos * 0.5 + 0.5;\n    gl_Position = vec4(ndcPos, 0, 1);\n  }\n  "])))),t.fragment.uniforms.add("globalAlpha","float"),t.fragment.uniforms.add("perScreenPixelRatio","float"),t.fragment.code.add(Object(o.a)(i||(i=Object(a.a)(["\n  float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {\n    vec3 origin = mix(start, end, 0.5);\n    vec3 basis = end - origin;\n    vec3 posAtOrigin = pos - origin;\n\n    float x = dot(normalize(basis), posAtOrigin);\n    float y = dot(plane.xyz, posAtOrigin);\n\n    float dx = max(abs(x) - length(basis), 0.0);\n    float dy = y;\n\n    float dist = length(vec2(dx, dy));\n\n    float width = fwidth(y);\n    float maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;\n    float pixelDist = dist / min(width, maxPixelDistance);\n    return abs(pixelDist);\n  }\n\n  void main() {\n    vec3 pos;\n    vec3 normal;\n    float depthDiscontinuityAlpha;\n\n    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\n      discard;\n    }\n\n    float distance = planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);\n\n    vec4 color = laserlineProfile(distance);\n    float alpha = 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));\n\n    gl_FragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);\n  }\n  "])))),t}var l=Object.freeze({__proto__:null,build:u})},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return j}));var r,i,a,o,s,c,u,l,h=n(30),f=n(31),d=n(560),p=n(237),b=n(340),v=n(202),y=n(241),m=n(238),g=n(562),O=n(436);function j(e){var t=new p.a,n=1===e.output;return t.include(d.a,{linearDepth:n}),t.include(g.a,e),t.vertex.uniforms.add("proj","mat4").add("view","mat4"),t.attributes.add("position","vec3"),t.varyings.add("vpos","vec3"),n&&(t.include(O.a,e),t.vertex.uniforms.add("nearFar","vec2"),t.varyings.add("linearDepth","float")),t.vertex.code.add(Object(f.a)(r||(r=Object(h.a)(["\n    void main(void) {\n      vpos = position;\n      forwardNormalizedVertexColor();\n      gl_Position = ","\n    }\n  "])),n?Object(f.a)(i||(i=Object(h.a)(["transformPositionWithDepth(proj, view, vpos, nearFar, linearDepth);"]))):Object(f.a)(a||(a=Object(h.a)(["transformPosition(proj, view, vpos);"]))))),t.include(v.a,e),t.fragment.include(b.a),t.fragment.uniforms.add("eColor","vec4"),4===e.output&&t.include(y.a),t.fragment.code.add(Object(f.a)(o||(o=Object(h.a)(["\n  void main() {\n    discardBySlice(vpos);\n    vec4 color = ","\n\n    if (color.a < ",") {\n      discard;\n    }\n\n    ","\n\n    ","\n    ",";\n    ",";\n  }\n  "])),e.attributeColor?"vColor * eColor;":"eColor;",f.a.float(m.c),7===e.output?Object(f.a)(s||(s=Object(h.a)(["gl_FragColor = vec4(color.a);"]))):"",0===e.output?Object(f.a)(c||(c=Object(h.a)(["gl_FragColor = highlightSlice(color, vpos); ",""])),e.OITEnabled?"gl_FragColor = premultiplyAlpha(gl_FragColor);":""):"",4===e.output?Object(f.a)(u||(u=Object(h.a)(["outputHighlight();"]))):"",1===e.output?Object(f.a)(l||(l=Object(h.a)(["outputDepth(linearDepth);"]))):"")),t}var w=Object.freeze({__proto__:null,build:j})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));n(13),n(4);var r=n(137),i=n(478),a=n(44),o=(n(24),n(87),n(115),n(138)),s=(n(117),n(72)),c=(n(116),n(90),n(165),n(195)),u=n(396);function l(e,t){if("point"===e.type)return f(e,t,!1);if(Object(u.c)(e))switch(e.type){case"extent":return f(e.center,t,!1);case"polygon":return f(e.centroid,t,!1);case"polyline":return f(h(e),t,!0);case"mesh":return f(e.extent.center,t,!1)}else switch(e.type){case"extent":return f(function(e){var t=Object(a.j)(e.zmin);return Object(c.d)(.5*(e.xmax+e.xmin),.5*(e.ymax+e.ymin),t?.5*(e.zmax+e.zmin):void 0,e.spatialReference)}(e),t,!0);case"polygon":return f(function(e){var t=e.rings[0];if(!t||0===t.length)return null;var n=Object(i.b)(e.rings,e.hasZ);return Object(c.d)(n[0],n[1],n[2],e.spatialReference)}(e),t,!0);case"polyline":return f(h(e),t,!0)}}function h(e){var t=e.paths[0];if(!t||0===t.length)return null;var n=Object(r.e)(t,Object(r.d)(t)/2);return Object(c.d)(n[0],n[1],n[2],e.spatialReference)}function f(e,t,n){var r=n?e:Object(u.a)(e);return t&&e?Object(o.l)(e,r,t)?r:null:r}function d(e,t){for(var n=0;n<e.geometries.length;++n){var r=e.geometries[n].data.vertexAttributes.auxpos1;r&&r.data[3]!==t&&(r.data[3]=t,e.geometryVertexAttrsUpdated(n))}}Object(s.d)(0,0),Object(s.d)(.5,0),Object(s.d)(1,0),Object(s.d)(0,.5),Object(s.d)(.5,.5),Object(s.d)(1,.5),Object(s.d)(0,1),Object(s.d)(.5,1),Object(s.d)(1,1)},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,c=o(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(c[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)a.call(n,s[h])&&(c[s[h]]=n[s[h]])}}return c}},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(192);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(192),i=n(749),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(600)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(a)})),e.exports=s}).call(this,n(344))},function(e,t,n){"use strict";var r=n(192),i=n(750),a=n(752),o=n(597),s=n(753),c=n(756),u=n(757),l=n(601);e.exports=function(e){return new Promise((function(t,n){var h=e.data,f=e.headers;r.isFormData(h)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(p+":"+b)}var v=s(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),o(v,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?c(d.getAllResponseHeaders()):null,a={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,n,a),d=null}},d.onabort=function(){d&&(n(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var y=(e.withCredentials||u(v))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}if("setRequestHeader"in d&&r.forEach(f,(function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(m){if("json"!==e.responseType)throw m}"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),h||(h=null),d.send(h)}))}},function(e,t,n){"use strict";var r=n(751);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},function(e,t,n){"use strict";var r=n(192);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(a,u),r.forEach(o,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var l=i.concat(a).concat(o).concat(s),h=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(h,u),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){(function(t){var r=n(761),i=n(762);function a(e){console.log("[dotenv][DEBUG] ".concat(e))}var o=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,s=/\\n/g,c=/\n|\r|\r\n/;function u(e,t){var n=Boolean(t&&t.debug),r={};return e.toString().split(c).forEach((function(e,t){var i=e.match(o);if(null!=i){var c=i[1],u=i[2]||"",l=u.length-1,h='"'===u[0]&&'"'===u[l];"'"===u[0]&&"'"===u[l]||h?(u=u.substring(1,l),h&&(u=u.replace(s,"\n"))):u=u.trim(),r[c]=u}else n&&a("did not match key and value when parsing line ".concat(t+1,": ").concat(e))})),r}e.exports.config=function(e){var n=i.resolve(t.cwd(),".env"),o="utf8",s=!1;e&&(null!=e.path&&(n=e.path),null!=e.encoding&&(o=e.encoding),null!=e.debug&&(s=!0));try{var c=u(r.readFileSync(n,{encoding:o}),{debug:s});return Object.keys(c).forEach((function(e){Object.prototype.hasOwnProperty.call(Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"}),e)?s&&a('"'.concat(e,'" is already defined in `process.env` and will not be overwritten')):Object({NODE_ENV:"production",PUBLIC_URL:"./build/index.html",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"995dba95-c33d-456b-a7ea-3fd512e60894",REACT_APP_API_PRIVATE_KEY:"'-----BEGIN RSA PRIVATE KEY-----\\n' +",REACT_APP_API_VERSION:"/api/v1",REACT_APP_DEFAULT_UNITS_OF_LENGTH:"meters",REACT_APP_MEASUREMENT_SYSTEM:"metric",REACT_APP_PORT:"3000",REACT_APP_PUBLIC_URL:"https://qp-gavel-mvp.azurewebsites.net"})[e]=c[e]})),{parsed:c}}catch(l){return{error:l}}},e.exports.parse=u}).call(this,n(344))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(2),i=n(3),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(r.a)(this,e),this._seed=t}return Object(i.a)(e,[{key:"seed",set:function(t){this._seed=null==t?Math.random()*e._m:t}},{key:"getInt",value:function(){return this._seed=(e._a*this._seed+e._c)%e._m,this._seed}},{key:"getFloat",value:function(){return this.getInt()/(e._m-1)}},{key:"getIntRange",value:function(e,t){return Math.round(this.getFloatRange(e,t))}},{key:"getFloatRange",value:function(t,n){var r=n-t,i=this.getInt()/e._m;return t+Math.floor(i*r)}}]),e}();a._m=2147483647,a._a=48271,a._c=0,t.a=a},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(23)),l=(n(14),n(18),n(1)),h=n(50),f=n(8),d=(n(12),n(21),n(22),n(27)),p=n(74),b=(n(99),new h.a({upperLeft:"upper-left",lowerLeft:"lower-left"})),v=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).extent=null,r.mode="view",r.originPosition="upper-left",r.tolerance=1,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r(Object(u.a)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}}]),n}(d.a);Object(c.a)([Object(l.b)({type:p.a,json:{write:{overridePolicy:function(){return{enabled:"view"===this.mode}}}}})],v.prototype,"extent",void 0),Object(c.a)([Object(l.b)({type:["view","edit"],json:{write:!0}})],v.prototype,"mode",void 0),Object(c.a)([Object(l.b)({type:String,json:{read:b.read,write:b.write}})],v.prototype,"originPosition",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:{overridePolicy:function(){return{enabled:"view"===this.mode}}}}})],v.prototype,"tolerance",void 0);var y=v=r=Object(c.a)([Object(f.a)("esri.tasks.support.QuantizationParameters")],v);t.a=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(13),i=n(610);function a(e,t){var n=Object(i.a)(e,t),a=n.queryResult.featureResult,o=n.queryResult.queryGeometry,s=n.queryResult.queryGeometryType;if(a&&a.features&&a.features.length&&a.objectIdFieldName){var c,u=a.objectIdFieldName,l=Object(r.a)(a.features);try{for(l.s();!(c=l.n()).done;){var h=c.value;h.attributes&&(h.objectId=h.attributes[u])}}catch(f){l.e(f)}finally{l.f()}}return a&&(a.queryGeometry=o,a.queryGeometryType=s),a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return k}));var r=n(4),i=n(14),a=n(20),o=n(185),s=n(584),c=n(611),u=i.a.getLogger("esri.tasks.operations.pbfFeatureServiceParser"),l=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],h=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],f=["upperLeft","lowerLeft"];function d(e){return e>=l.length?null:l[e]}function p(e){return e>=f.length?null:f[e]}function b(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function v(e,t,n){for(var r=t.createPointGeometry(n);e.next();)switch(e.tag()){case 3:for(var i=e.getUInt32(),a=e.pos()+i,o=0;e.pos()<a;)t.addCoordinatePoint(r,e.getSInt64(),o++);break;case 1:case 2:default:e.skip()}return r}function y(e,t,n){for(var r=t.createGeometry(n),i=2+(n.hasZ?1:0)+(n.hasM?1:0);e.next();)switch(e.tag()){case 2:for(var a=e.getUInt32(),o=e.pos()+a,s=0;e.pos()<o;)t.addLength(r,e.getUInt32(),s++);break;case 3:for(var c=e.getUInt32(),u=e.pos()+c,l=0;e.pos()<u;)t.addCoordinate(r,e.getSInt64(),l),++l===i&&(l=0);break;case 1:default:e.skip()}return r}function m(e){for(var t=new o.a,n="esriGeometryPoint";e.next();)switch(e.tag()){case 2:for(var r=e.getUInt32(),i=e.pos()+r;e.pos()<i;)t.lengths.push(e.getUInt32());break;case 3:for(var a=e.getUInt32(),s=e.pos()+a;e.pos()<s;)t.coords.push(e.getSInt64());break;case 1:n=c.a[e.getEnum()];break;default:e.skip()}return{queryGeometry:t,queryGeometryType:n}}function g(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getSInt32();case 5:return e.getUInt32();case 6:return e.getInt64();case 7:return e.getUInt64();case 8:return e.getSInt64();case 9:return e.getBool();default:return e.skip(),null}return null}function O(e){for(var t,n={type:d(0)};e.next();)switch(e.tag()){case 1:n.name=e.getString();break;case 2:n.type=d(e.getEnum());break;case 3:n.alias=e.getString();break;case 4:n.sqlType=(t=e.getEnum())>=h.length?null:h[t];break;case 5:try{n.domain=JSON.parse(e.getString())}catch(e){u.error(new a.a("query:parsing-pbf","Failed to parse domain",{error:e})),n.domain=null}break;case 6:n.defaultValue=e.getString();break;default:e.skip()}return n}function j(e){for(var t={};e.next();)switch(e.tag()){case 1:t.name=e.getString();break;case 2:t.isSystemMaintained=e.getBool();break;default:e.skip()}return t}function w(e,t,n,r){for(var i=t.createFeature(n),a=0;e.next();)switch(e.tag()){case 1:var o=r[a++].name;i.attributes[o]=e.processMessage(g);break;case 2:i.geometry=e.processMessageWithArgs(y,t,n);break;case 4:i.centroid=e.processMessageWithArgs(v,t,n);break;default:e.skip()}return i}function _(e){for(var t=[1,1,1,1];e.next();)switch(e.tag()){case 1:t[0]=e.getDouble();break;case 2:t[1]=e.getDouble();break;case 4:t[2]=e.getDouble();break;case 3:t[3]=e.getDouble();break;default:e.skip()}return t}function x(e){for(var t=[0,0,0,0];e.next();)switch(e.tag()){case 1:t[0]=e.getDouble();break;case 2:t[1]=e.getDouble();break;case 4:t[2]=e.getDouble();break;case 3:t[3]=e.getDouble();break;default:e.skip()}return t}function k(e){for(var t={originPosition:p(0)};e.next();)switch(e.tag()){case 1:t.originPosition=p(e.getEnum());break;case 2:t.scale=e.processMessage(_);break;case 3:t.translate=e.processMessage(x);break;default:e.skip()}return t}function S(e){for(var t={};e.next();)switch(e.tag()){case 1:t.shapeAreaFieldName=e.getString();break;case 2:t.shapeLengthFieldName=e.getString();break;case 3:t.units=e.getString();break;default:e.skip()}return t}function E(e,t){for(var n=t.createSpatialReference();e.next();)switch(e.tag()){case 1:n.wkid=e.getUInt32();break;case 5:n.wkt=e.getString();break;case 2:n.latestWkid=e.getUInt32();break;case 3:n.vcsWkid=e.getUInt32();break;case 4:n.latestVcsWkid=e.getUInt32();break;default:e.skip()}return n}function T(e,t){var n=t.createFeatureResult();n.geometryType=b(t,0);for(var r=!1;e.next();)switch(e.tag()){case 1:n.objectIdFieldName=e.getString();break;case 3:n.globalIdFieldName=e.getString();break;case 4:n.geohashFieldName=e.getString();break;case 5:n.geometryProperties=e.processMessage(S);break;case 7:n.geometryType=b(t,e.getEnum());break;case 8:n.spatialReference=e.processMessageWithArgs(E,t);break;case 10:n.hasZ=e.getBool();break;case 11:n.hasM=e.getBool();break;case 12:n.transform=e.processMessage(k);break;case 9:var i=e.getBool();n.exceededTransferLimit=i;break;case 13:t.addField(n,e.processMessage(O));break;case 15:r||(t.prepareFeatures(n),r=!0),t.addFeature(n,e.processMessageWithArgs(w,t,n,n.fields));break;case 2:n.uniqueIdField=e.processMessage(j);break;case 6:default:e.skip()}return t.finishFeatureResult(n),n}function M(e,t){for(var n={},i=null;e.next();)switch(e.tag()){case 4:i=e.processMessageWithArgs(m);break;case 1:n.featureResult=e.processMessageWithArgs(T,t);break;case 2:case 3:default:e.skip()}return Object(r.h)(i)&&n.featureResult&&t.addQueryGeometry(n,i),n}function C(e,t){try{for(var n=new s.a(new Uint8Array(e),new DataView(e)),r={};n.next();)switch(n.tag()){case 2:r.queryResult=n.processMessageWithArgs(M,t);break;default:n.skip()}return r}catch(e){throw new a.a("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:e})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}));var r=n(13),i=n(2),a=n(3),o=n(54),s=n(70),c=n(262),u=n(452),l=n(185),h=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],f=function(){function e(t){Object(i.a)(this,e),this.options=t,this.geometryTypes=h}return Object(a.a)(e,[{key:"createFeatureResult",value:function(){return new u.a}},{key:"prepareFeatures",value:function(){}},{key:"finishFeatureResult",value:function(e){if(e&&e.features&&e.hasZ&&this.options.sourceSpatialReference&&e.spatialReference&&!Object(o.c)(e.spatialReference,this.options.sourceSpatialReference)&&!e.spatialReference.vcsWkid){var t=Object(s.c)(this.options.sourceSpatialReference)/Object(s.c)(e.spatialReference);if(1!==t){var n,i=Object(r.a)(e.features);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.geometry&&a.geometry.coords)for(var c=a.geometry.coords,u=2;u<c.length;u+=3)c[u]*=t}}catch(l){i.e(l)}finally{i.f()}}}}},{key:"addFeature",value:function(e,t){e.features.push(t)}},{key:"createFeature",value:function(){return new c.a}},{key:"createSpatialReference",value:function(){return{wkid:0}}},{key:"createGeometry",value:function(){return new l.a}},{key:"addField",value:function(e,t){e.fields.push(t)}},{key:"addCoordinate",value:function(e,t){e.coords.push(t)}},{key:"addCoordinatePoint",value:function(e,t){e.coords.push(t)}},{key:"addLength",value:function(e,t){e.lengths.push(t)}},{key:"addQueryGeometry",value:function(e,t){e.queryGeometry=t.queryGeometry,e.queryGeometryType=t.queryGeometryType}},{key:"createPointGeometry",value:function(){return new l.a}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(4),c=n(86),u=n(169),l=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,i){var a;return Object(r.a)(this,n),(a=t.call(this)).data=e,a.type=i,a._dirty=!0,a._geometry=null,a}return Object(i.a)(n,[{key:"splitEdge",value:function(e,t){var n=new h(this,e,t);return this.data.apply(n),this._dirty=!0,n}},{key:"moveVertices",value:function(e,t,n,r){var i=null;return this.data.lastOperation instanceof f&&this.data.lastOperation.canAccumulate(e)?(i=this.data.lastOperation).accumulate(t,n,r):(i=new f(this,e,t,n,r),this.data.apply(i)),this._dirty=!0,i}},{key:"removeVertices",value:function(e){var t=0;switch(this.type){case"point":t=1;break;case"polyline":t=2;break;case"polygon":t=3}var n=new d(this,e,t);return this.data.apply(n),this._dirty=!0,n}},{key:"appendVertex",value:function(e){if(0===this.data.components.length)return null;var t=new p(this,this.data.components[0],e);return this.data.apply(t),this._dirty=!0,t}},{key:"canRemoveVertex",value:function(){var e=0;switch(this.type){case"point":e=1;break;case"polyline":e=2;break;case"polygon":e=3}return this.data.components[0].vertices.length>e}},{key:"undo",value:function(){this.data.undo(),this._dirty=!0}},{key:"canUndo",get:function(){return this.data.canUndo}},{key:"redo",value:function(){this.data.redo(),this._dirty=!0}},{key:"canRedo",get:function(){return this.data.canRedo}},{key:"geometry",get:function(){if(this._dirty){switch(this.type){case"point":this._geometry=this.data.toPoint();break;case"polyline":this._geometry=this.data.toPolyline();break;case"polygon":this._geometry=this.data.toPolygon()}this._dirty=!1}return this._geometry}}]),n}(c.a),h=function(){function e(t,n,i){Object(r.a)(this,e),this.helper=t,this.edge=n,this.t=i,this.createdVertex=null,this.left=null,this.right=null}return Object(i.a)(e,[{key:"apply",value:function(){var e="redo",t=this.edge,n=t.component,r=t.component.data,i=t.left,a=t.right;n.edges.splice(n.edges.indexOf(t),1),Object(s.g)(this.createdVertex)&&(e="apply",this.createdVertex=new u.d(t.component)),n.vertices.push(this.createdVertex),this.createdVertex.pos=r.coordinateHelper.lerp(t.left.pos,t.right.pos,this.t,r.coordinateHelper.createNew()),Object(s.g)(this.left)&&(this.left=new u.b(n,i,this.createdVertex)),this.left.left.left?n.edges.push(this.left):n.edges.unshift(this.left),i.right=this.left,Object(s.g)(this.right)&&(this.right=new u.b(n,this.createdVertex,a)),n.edges.push(this.right),a.left=this.right,n.updateVertexIndex(this.createdVertex,i.index+1);var o={type:"vertex-add",vertices:[this.createdVertex],operation:e};this.helper.emit("vertex-add",o)}},{key:"undo",value:function(){if(Object(s.g)(this.createdVertex)||Object(s.g)(this.left)||Object(s.g)(this.right))return null;var e=this.edge,t=e.component,n=this.createdVertex.left,r=this.createdVertex.right,i=n.left,a=r.right;t.vertices.splice(t.vertices.indexOf(this.createdVertex),1),t.edges.splice(t.edges.indexOf(this.left),1),t.edges.splice(t.edges.indexOf(this.right),1),this.edge.left.left?t.edges.push(this.edge):t.edges.unshift(this.edge),i.right=e,a.left=e,t.updateVertexIndex(i,i.index);var o={type:"vertex-remove",vertices:[this.createdVertex],operation:"undo"};this.helper.emit("vertex-remove",o)}}]),e}(),f=function(){function e(t,n,i,a,o){Object(r.a)(this,e),this.helper=t,this.applied=!1,this.vertices=n,this.dx=i,this.dy=a,this.dz=o}return Object(i.a)(e,[{key:"apply",value:function(){var e=this;this.vertices.forEach((function(t){e.helper.data.coordinateHelper.addDelta(t.pos,e.dx,e.dy,e.dz)})),this.helper.data.components.forEach((function(e){e.unnormalizeVertexPositions()}));var t={type:"vertex-update",vertices:this.vertices,operation:this.applied?"redo":"apply"};this.helper.emit("vertex-update",t),this.applied=!0}},{key:"undo",value:function(){var e=this;this.vertices.forEach((function(t){e.helper.data.coordinateHelper.addDelta(t.pos,-e.dx,-e.dy,-e.dz)}));var t={type:"vertex-update",vertices:this.vertices,operation:"undo"};this.helper.emit("vertex-update",t)}},{key:"canAccumulate",value:function(e){if(e.length!==this.vertices.length)return!1;for(var t=0;t<e.length;++t)if(e[t]!==this.vertices[t])return!1;return!0}},{key:"accumulate",value:function(e,t,n){var r=this;this.vertices.forEach((function(i){r.helper.data.coordinateHelper.addDelta(i.pos,e,t,n)})),this.dx+=e,this.dy+=t,this.dz+=n;var i={type:"vertex-update",vertices:this.vertices,operation:"apply"};this.helper.emit("vertex-update",i)}}]),e}(),d=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(r.a)(this,e),this.helper=t,this.removedVertices=null,this._minNumberOfVertices=0,this.vertices=n,this._minNumberOfVertices=i}return Object(i.a)(e,[{key:"apply",value:function(){var e=this,t="redo";null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach((function(t){var n=e._removeVertex(t);Object(s.h)(n)&&e.removedVertices.push(n)})),t="apply"):this.removedVertices.forEach((function(t){e._redoRemoveVertex(t)}));var n={type:"vertex-remove",vertices:this.vertices,operation:t};this.helper.emit("vertex-remove",n)}},{key:"undo",value:function(){var e=this;this.removedVertices.forEach((function(t){e._undoRemoveVertex(t)}));var t={type:"vertex-add",vertices:this.vertices,operation:"undo"};this.helper.emit("vertex-add",t)}},{key:"_removeVertex",value:function(e){var t=e.component;if(t.vertices.length<=this._minNumberOfVertices)return null;var n={removedVertex:e,createdEdge:null},r=e.left,i=e.right;return t.vertices.splice(t.vertices.indexOf(e),1),r&&(t.edges.splice(t.edges.indexOf(r),1),r.left.right=null),i&&(t.edges.splice(t.edges.indexOf(i),1),i.right.left=null),0===e.index&&i&&this.vertices.length>0&&t.swapVertices(t.vertices.indexOf(i.right),0),r&&i&&(n.createdEdge=new u.b(t,r.left,i.right),t.edges.push(n.createdEdge)),i&&t.updateVertexIndex(i.right,i.right.index-1),n}},{key:"_redoRemoveVertex",value:function(e){console.warn("redo remove vertex not implemented yet")}},{key:"_undoRemoveVertex",value:function(e){var t=e.removedVertex,n=e.removedVertex.component,r=t.left,i=t.right;e.createdEdge&&n.edges.splice(n.edges.indexOf(e.createdEdge),1),n.vertices.push(t),r&&(n.edges.push(r),r.left.right=r),i&&(n.edges.push(i),i.right.left=i),n.updateVertexIndex(t,t.index)}}]),e}(),p=function(){function e(t,n,i){Object(r.a)(this,e),this.helper=t,this.component=n,this.pos=i,this.addedVertex=null,this.originalEdge=null,this.left=null,this.right=null}return Object(i.a)(e,[{key:"apply",value:function(){var e="redo";if(Object(s.g)(this.addedVertex)&&(e="apply",this.addedVertex=new u.d(this.component)),0===this.component.vertices.length)this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{var t=Object(s.n)(this.component.findEndVertex()),n=null;t.right&&(this.originalEdge=t.right,n=this.originalEdge.right,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1)),this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,Object(s.g)(this.left)&&(this.left=new u.b(this.component,t,this.addedVertex)),this.component.edges.push(this.left),t.right=this.left,Object(s.h)(this.originalEdge)&&Object(s.h)(n)&&(Object(s.g)(this.right)&&(this.right=new u.b(this.component,this.addedVertex,n)),this.component.edges.push(this.right),n.left=this.right),this.component.updateVertexIndex(this.addedVertex,t.index+1)}var r={type:"vertex-add",vertices:[this.addedVertex],operation:e};this.helper.emit("vertex-add",r)}},{key:"undo",value:function(){if(Object(s.g)(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1),Object(s.h)(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.left.right=null),Object(s.h)(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.right.left=null),Object(s.h)(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.left.right=this.originalEdge,this.originalEdge.right.left=this.originalEdge),Object(s.h)(this.left)?this.component.updateVertexIndex(this.left.left,this.left.left.index):this.component.updateVertexIndex(this.addedVertex,0);var e={type:"vertex-remove",vertices:[this.addedVertex],operation:"undo"};this.helper.emit("vertex-remove",e)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r,i,a,o,s,c,u=n(30),l=n(31);function h(e,t){e.vertex.uniforms.add("intrinsicWidth","float"),t.vvSize?(e.attributes.add("sizeFeatureAttribute","float"),e.vertex.uniforms.add("vvSizeMinSize","vec3"),e.vertex.uniforms.add("vvSizeMaxSize","vec3"),e.vertex.uniforms.add("vvSizeOffset","vec3"),e.vertex.uniforms.add("vvSizeFactor","vec3"),e.vertex.code.add(Object(l.a)(r||(r=Object(u.a)(["\n    float getSize() {\n      return intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;\n    }\n    "]))))):(e.attributes.add("size","float"),e.vertex.code.add(Object(l.a)(i||(i=Object(u.a)(["\n    float getSize(){\n      return intrinsicWidth * size;\n    }\n    "]))))),t.vvOpacity?(e.attributes.add("opacityFeatureAttribute","float"),e.vertex.defines.addInt("VV_OPACITY_N",8),e.vertex.code.add(Object(l.a)(a||(a=Object(u.a)(["\n    uniform float vvOpacityValues[VV_OPACITY_N];\n    uniform float vvOpacityOpacities[VV_OPACITY_N];\n\n    float interpolateOpacity( float value ){\n      if (value <= vvOpacityValues[0]) {\n        return vvOpacityOpacities[0];\n      }\n\n      for (int i = 1; i < VV_OPACITY_N; ++i) {\n        if (vvOpacityValues[i] >= value) {\n          float f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);\n          return mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);\n        }\n      }\n\n      return vvOpacityOpacities[VV_OPACITY_N - 1];\n    }\n\n    vec4 applyOpacity( vec4 color ){\n      return vec4(color.xyz, interpolateOpacity(opacityFeatureAttribute));\n    }\n    "]))))):e.vertex.code.add(Object(l.a)(o||(o=Object(u.a)(["\n    vec4 applyOpacity( vec4 color ){\n      return color;\n    }\n    "])))),t.vvColor?(e.attributes.add("colorFeatureAttribute","float"),e.vertex.defines.addInt("VV_COLOR_N",8),e.vertex.code.add(Object(l.a)(s||(s=Object(u.a)(["\n    uniform float vvColorValues[VV_COLOR_N];\n    uniform vec4 vvColorColors[VV_COLOR_N];\n\n    vec4 interpolateColor( float value ) {\n      if (value <= vvColorValues[0]) {\n        return vvColorColors[0];\n      }\n\n      for (int i = 1; i < VV_COLOR_N; ++i) {\n        if (vvColorValues[i] >= value) {\n          float f = (value - vvColorValues[i-1]) / (vvColorValues[i] - vvColorValues[i-1]);\n          return mix(vvColorColors[i-1], vvColorColors[i], f);\n        }\n      }\n\n      return vvColorColors[VV_COLOR_N - 1];\n    }\n\n    vec4 getColor(){\n      return applyOpacity(interpolateColor(colorFeatureAttribute));\n    }\n    "]))))):(e.attributes.add("color","vec4"),e.vertex.code.add(Object(l.a)(c||(c=Object(u.a)(["\n    vec4 getColor(){\n      return applyOpacity(color);\n    }\n    "])))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,i,a,o,s=n(30),c=n(31);function u(e,t){e.defines.addFloat("STIPPLE_ALPHA_COLOR_DISCARD",.001),e.defines.addFloat("STIPPLE_ALPHA_HIGHLIGHT_DISCARD",.5),t.stippleEnabled?function(e,t){e.vertex.uniforms.add("stipplePatternPixelSizeInv","float"),t.stippleUVMaxEnabled&&e.varyings.add("stipplePatternUvMax","float"),e.varyings.add("stipplePatternUv","float"),e.fragment.uniforms.add("stipplePatternTexture","sampler2D"),t.stippleOffColorEnabled&&e.fragment.uniforms.add("stippleOffColor","vec4"),e.fragment.code.add(Object(c.a)(r||(r=Object(s.a)(["\n  float getStippleAlpha() {\n    float stipplePatternUvClamped = stipplePatternUv * gl_FragCoord.w;\n    ","\n\n    return texture2D(stipplePatternTexture, vec2(mod(stipplePatternUvClamped, 1.0), 0.5)).a;\n  }"])),t.stippleUVMaxEnabled?"stipplePatternUvClamped = clamp(stipplePatternUvClamped, 0.0, stipplePatternUvMax);":"")),t.stippleOffColorEnabled?e.fragment.code.add(Object(c.a)(i||(i=Object(s.a)(["\n    #define discardByStippleAlpha(stippleAlpha, threshold) {}\n    #define blendStipple(color, stippleAlpha) mix(color, stippleOffColor, stippleAlpha)\n    "])))):e.fragment.code.add(Object(c.a)(a||(a=Object(s.a)(["\n    #define discardByStippleAlpha(stippleAlpha, threshold) if (stippleAlpha < threshold) { discard; }\n    #define blendStipple(color, stippleAlpha) vec4(color.rgb, color.a * stippleAlpha)\n    "]))))}(e,t):function(e){e.fragment.code.add(Object(c.a)(o||(o=Object(s.a)(["\n  float getStippleAlpha() { return 1.0; }\n\n  #define discardByStippleAlpha(_stippleAlpha_, _threshold_) {}\n  #define blendStipple(color, _stippleAlpha_) color\n  "]))))}(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(13),i=n(2),a=n(3),o=n(5),s=n(6),c=function(e){return function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments))._isDisposed=!1,e}return Object(a.a)(n,[{key:"dispose",value:function(){var e,t=Object(r.a)(null!=(n=this._managedDisposables)?n:[]);try{for(t.s();!(e=t.n()).done;){var n,i=e.value,a=this[i];this[i]=null,a&&"function"==typeof a.dispose&&a.dispose()}}catch(o){t.e(o)}finally{t.f()}this._isDisposed=!0}},{key:"isDisposed",get:function(){return this._isDisposed}}]),n}(e)},u=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return n}(c(function(){return function e(){Object(i.a)(this,e)}}()));function l(){return function(e,t){var n,r;e.hasOwnProperty("_managedDisposables")||(e._managedDisposables=null!=(n=null==(r=e._managedDisposables)?void 0:r.slice())?n:[]),e._managedDisposables.unshift(t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i=n(30),a=n(31),o=n(348);function s(e){e.fragment.include(o.a),e.fragment.code.add(Object(a.a)(r||(r=Object(i.a)(["\n    float linearDepthFromTexture(sampler2D depthTex, vec2 uv, vec2 nearFar) {\n      return -(rgba2float(texture2D(depthTex, uv)) * (nearFar[1] - nearFar[0]) + nearFar[0]);\n    }\n  "]))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(7),i=n.n(r),a=n(10),o=n(16),s=n(65);function c(e,t){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(i.a.mark((function e(t,n){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.default)(t,Object(a.a)({responseType:"image"},n));case 2:return r=e.sent,o=r.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(3),a=n(5),o=n(6),s=n(4),c=n(234),u=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e))._textureIDs=new Set,i._textureRepository=e.textureRep,i._textureId=e.textureId,i._initTransparent=!!e.initTextureTransparent,i._texture=i._acquireIfNotUndefined(i._textureId),i._textureNormal=i._acquireIfNotUndefined(e.normalTextureId),i._textureEmissive=i._acquireIfNotUndefined(e.emissiveTextureId),i._textureOcclusion=i._acquireIfNotUndefined(e.occlusionTextureId),i._textureMetallicRoughness=i._acquireIfNotUndefined(e.metallicRoughnessTextureId),i}return Object(i.a)(n,[{key:"dispose",value:function(){var e=this;this._textureIDs.forEach((function(t){return e._textureRepository.release(t)})),this._textureIDs.clear()}},{key:"updateTexture",value:function(e){e!==this._textureId&&(this._releaseIfNotUndefined(this._textureId),this._textureId=e,this._texture=this._acquireIfNotUndefined(this._textureId))}},{key:"bindTexture",value:function(e,t){Object(s.h)(this._texture)&&(t.setUniform1i("tex",c.a.DIFFUSE),e.bindTexture(this._texture.glTexture,c.a.DIFFUSE)),Object(s.h)(this._textureNormal)&&(t.setUniform1i("normalTexture",c.a.NORMAL),e.bindTexture(this._textureNormal.glTexture,c.a.NORMAL)),Object(s.h)(this._textureEmissive)&&(t.setUniform1i("texEmission",c.a.EMISSION),e.bindTexture(this._textureEmissive.glTexture,c.a.EMISSION)),Object(s.h)(this._textureOcclusion)&&(t.setUniform1i("texOcclusion",c.a.OCCLUSION),e.bindTexture(this._textureOcclusion.glTexture,c.a.OCCLUSION)),Object(s.h)(this._textureMetallicRoughness)&&(t.setUniform1i("texMetallicRoughness",c.a.METALLIC_ROUGHNESS),e.bindTexture(this._textureMetallicRoughness.glTexture,c.a.METALLIC_ROUGHNESS))}},{key:"bindTextureScale",value:function(e,t){var n=Object(s.h)(this._texture)&&this._texture.glTexture;n&&n.descriptor.textureCoordinateScaleFactor?t.setUniform2fv("textureCoordinateScaleFactor",n.descriptor.textureCoordinateScaleFactor):t.setUniform2f("textureCoordinateScaleFactor",1,1)}},{key:"_acquireIfNotUndefined",value:function(e){if(!Object(s.g)(e))return this._textureIDs.add(e),this._textureRepository.acquire(e,this._initTransparent)}},{key:"_releaseIfNotUndefined",value:function(e){void 0!==e&&(this._textureIDs.delete(e),this._textureRepository.release(e))}}]),n}(n(353).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i,a=n(30),o=n(31);function s(e){var t=Object(o.a)(r||(r=Object(a.a)(["\n    vec4 alignToPixelCenter(vec4 clipCoord, vec2 widthHeight) {\n      vec2 xy = vec2(0.500123) + 0.5 * clipCoord.xy / clipCoord.w;\n      vec2 pixelSz = vec2(1.0) / widthHeight;\n      vec2 ij = (floor(xy * widthHeight) + vec2(0.5)) * pixelSz;\n      vec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\n      return vec4(result, clipCoord.zw);\n    }\n  "]))),n=Object(o.a)(i||(i=Object(a.a)(["\n\n    vec4 alignToPixelOrigin(vec4 clipCoord, vec2 widthHeight) {\n      vec2 xy = vec2(0.5) + 0.5 * clipCoord.xy / clipCoord.w;\n      vec2 pixelSz = vec2(1.0) / widthHeight;\n      vec2 ij = floor((xy + 0.5 * pixelSz) * widthHeight) * pixelSz;\n      vec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\n      return vec4(result, clipCoord.zw);\n    }\n  "])));e.vertex.code.add(t),e.vertex.code.add(n),e.fragment.code.add(t),e.fragment.code.add(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(13),i=n(2),a=n(3),o=n(4),s=n(29),c=n(431),u=n(175),l=n(444),h=n(355),f=function(){function e(t){Object(i.a)(this,e),this.resourceFactory=t,this._resources=null,this._visible=!0,this._attached=!1}return Object(a.a)(e,[{key:"destroy",value:function(){this._destroyResources()}},{key:"object",get:function(){return Object(o.h)(this._resources)?this._resources.object:null}},{key:"resources",get:function(){return Object(o.h)(this._resources)?this._resources.external:null}},{key:"visible",get:function(){return this._visible},set:function(e){e!==this._visible&&(this._visible=e,this._syncVisible())}},{key:"attached",get:function(){return this._attached},set:function(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}},{key:"recreate",value:function(){this.attached&&this._createResources()}},{key:"recreateGeometry",value:function(){if(this.resourceFactory.recreateGeometry){var e=this.resourceFactory.view._stage;if(!Object(o.g)(this._resources)&&e){var t=this._resources.object;this._resources.external.forEach((function(t){t instanceof u.a&&e.remove(2,t.id)})),t.removeAllGeometries();var n,i=this.resourceFactory.recreateGeometry(this._resources.external,t,this._resources.layer),a=Object(r.a)(i);try{for(a.s();!(n=a.n()).done;){var s=n.value;e.add(2,s)}}catch(c){a.e(c)}finally{a.f()}}}else this.recreate()}},{key:"_createOrDestroyResources",value:function(){this._attached?this._resources||this._createResources():this._destroyResources()}},{key:"_createResources",value:function(){var e=this;this._destroyResources();var t=this.resourceFactory.view._stage;if(t){var n=new l.a("element",{isPickable:!1});t.add(0,n),t.addToViewContent([n.id]);var r=new c.a({idHint:"element",castShadow:!1}),i=this.resourceFactory.createResources(r,n);i.forEach((function(n){t.add(e._contentTypeFromResource(n),n)})),t.add(1,r),n.addObject(r),r.setVisible(this._visible);var a=this.resourceFactory.cameraChanged?Object(s.a)(this.resourceFactory.view.state,"camera",(function(t){return e.resourceFactory.cameraChanged(t)})):null;this._resources={layer:n,object:r,external:i,cameraHandle:a}}}},{key:"_contentTypeFromResource",value:function(e){return e instanceof u.a?2:e instanceof h.a?4:3}},{key:"_destroyResources",value:function(){var e=this;if(!Object(o.g)(this._resources)){var t=this.resourceFactory.view._stage;null==t||t.remove(1,this._resources.object.id),null==t||t.remove(0,this._resources.layer.id),this._resources.external.forEach((function(n){null==t||t.remove(e._contentTypeFromResource(n),n.id),"dispose"in n&&n.dispose()})),this._resources.object.dispose(),this._resources.cameraHandle&&this._resources.cameraHandle.remove(),this._resources=null}}},{key:"_syncVisible",value:function(){Object(o.g)(this._resources)||this._resources.object.setVisible(this._visible)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(15);var r=n(4),i=n(174);function a(e){var t;if("graphics"!==(null==(t=e.layer)?void 0:t.type))return 1;if(Object(r.g)(e.geometry))return 2;switch(e.geometry.type){case"polygon":case"point":case"polyline":break;case"multipoint":case"extent":case"mesh":default:return 3}return"on-the-ground"!==Object(i.e)(e)&&Object(i.g)(e)?4:0}},function(e,t,n){"use strict";var r,i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(8),h=(n(12),n(21),n(22),n(27)),f=n(36),d=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).label=null,r.size=null,r.value=null,r}return Object(a.a)(n,[{key:"clone",value:function(){return new r({label:this.label,size:this.size,value:this.value})}}]),n}(h.a);Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],d.prototype,"label",void 0),Object(c.a)([Object(u.b)({type:Number,cast:f.j,json:{write:!0}})],d.prototype,"size",void 0),Object(c.a)([Object(u.b)({type:Number,json:{write:!0}})],d.prototype,"value",void 0);var p=d=r=Object(c.a)([Object(l.a)("esri.renderers.visualVariables.support.SizeStop")],d);t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(13),i=n(3),a=n(2),o=n(17),s=function e(t,n,r,i){Object(a.a)(this,e),this.resolve=t,this.reject=n,this.callback=r,this.signal=i},c=function(){function e(){Object(a.a)(this,e),this._tasks=new Array}return Object(i.a)(e,[{key:"length",get:function(){return this._tasks.length}},{key:"push",value:function(e,t){var n=this;return Object(o.c)((function(r,i){return n._tasks.push(new s(r,i,e,t))}))}},{key:"unshift",value:function(e,t){var n=this;return Object(o.c)((function(r,i){return n._tasks.unshift(new s(r,i,e,t))}))}},{key:"process",value:function(){if(0===this._tasks.length)return!1;var e=this._tasks.shift();try{Object(o.u)(e.signal);var t=e.callback();t&&"object"==typeof t&&"then"in t&&"function"==typeof t.then?t.then(e.resolve,e.reject):e.resolve(t)}catch(n){e.reject(n)}return!0}},{key:"cancelAll",value:function(){var e,t=Object(o.e)(),n=Object(r.a)(this._tasks);try{for(n.s();!(e=n.n()).done;){e.value.reject(t)}}catch(i){n.e(i)}finally{n.f()}this._tasks.length=0}}]),e}()},,function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(13),i=n(2),a=n(3),o=n(40),s=n(5),c=n(6),u=n(0),l=(n(15),n(14)),h=(n(18),n(1)),f=n(8),d=(n(12),n(21),n(22),n(17)),p=n(39),b=n(180),v=n(184);function y(e){return e&&"group"===e.type}function m(e,t,n){var r,i;if(e)for(var a=0,o=e.length;a<o;a++){if((r=e.getItemAt(a))[t]===n)return r;if(y(r)&&(i=m(r.layers,t,n)))return i}}var g=l.a.getLogger("esri.support.LayersMixin"),O=function(e){var t=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];(e=t.call.apply(t,[this].concat(a))).layers=new p.a;var c=function(t){t.parent=Object(o.a)(e),e.layerAdded(t),"elevation"!==t.type&&"base-elevation"!==t.type||g.error("Layer 'title:".concat(t.title,", id:").concat(t.id,"' of type '").concat(t.type,"' is not supported as an operational layer and will therefore be ignored."))},u=function(t){t.parent=null,e.layerRemoved(t)};return e.layers.on("before-add",(function(e){var t;(t=e.item).parent&&"remove"in t.parent&&t.parent.remove(t)})),e.layers.on("after-add",(function(e){return c(e.item)})),e.layers.on("after-remove",(function(e){return u(e.item)})),e}return Object(a.a)(n,[{key:"destroy",value:function(){var e,t=this.layers.removeAll(),n=Object(r.a)(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.layerRemoved(i),i.destroy()}}catch(a){n.e(a)}finally{n.f()}this.layers.destroy()}},{key:"layers",set:function(e){this._set("layers",Object(b.b)(e,this._get("layers")))}},{key:"add",value:function(e,t){var n=this,r=this.layers;t=r.getNextIndex(t),e instanceof v.a?e.parent===this?this.reorder(e,t):r.add(e,t):Object(d.n)(e)?e.then((function(e){n.destroyed||n.add(e,t)})):g.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}},{key:"addMany",value:function(e,t){var n=this,r=this.layers;t=r.getNextIndex(t),e.slice().forEach((function(e){e.parent!==n?(r.add(e,t),t+=1):n.reorder(e,t)}))}},{key:"findLayerById",value:function(e){return m(this.layers,"id",e)}},{key:"findLayerByUid",value:function(e){return m(this.layers,"uid",e)}},{key:"remove",value:function(e){return this.layers.remove(e)}},{key:"removeMany",value:function(e){return this.layers.removeMany(e)}},{key:"removeAll",value:function(){return this.layers.removeAll()}},{key:"reorder",value:function(e,t){return this.layers.reorder(e,t)}},{key:"layerAdded",value:function(e){}},{key:"layerRemoved",value:function(e){}}]),n}(e);return Object(u.a)([Object(h.b)()],t.prototype,"layers",null),t=Object(u.a)([Object(f.a)("esri.support.LayersMixin")],t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(13),i=n(2),a=n(3),o=n(40),s=n(5),c=n(6),u=n(0),l=(n(15),n(14)),h=(n(18),n(1)),f=n(8),d=(n(12),n(21),n(22),n(39)),p=n(180),b=l.a.getLogger("esri.support.TablesMixin");function v(e){return e&&"group"===e.type}function y(e,t,n){if(e)for(var r=0,i=e.length;r<i;r++){var a=e.getItemAt(r);if(a[t]===n)return a;if(v(a)){var o=y(a.tables,t,n);if(o)return o}}}var m=function(e){var t=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).tables=new d.a,e.tables.on("after-add",(function(t){var n=t.item;n.parent&&n.parent!==Object(o.a)(e)&&"tables"in n.parent&&n.parent.tables.remove(n),n.parent=Object(o.a)(e),"feature"!==n.type&&b.error("Layer 'title:".concat(n.title,", id:").concat(n.id,"' of type '").concat(n.type,"' is not supported as a table and will therefore be ignored."))})),e.tables.on("after-remove",(function(e){e.item.parent=null})),e}return Object(a.a)(n,[{key:"destroy",value:function(){var e,t=this.tables.removeAll(),n=Object(r.a)(t);try{for(n.s();!(e=n.n()).done;){e.value.destroy()}}catch(i){n.e(i)}finally{n.f()}this.tables.destroy()}},{key:"tables",set:function(e){this._set("tables",Object(p.b)(e,this._get("tables")))}},{key:"findTableById",value:function(e){return y(this.tables,"id",e)}},{key:"findTableByUid",value:function(e){return y(this.tables,"uid",e)}}]),n}(e);return Object(u.a)([Object(h.b)()],t.prototype,"tables",null),t=Object(u.a)([Object(f.a)("esri.support.TablesMixin")],t)}},function(e,t,n){"use strict";function r(e){var t=e.split("="),n=t[0],r=t[1];return{key:decodeURIComponent(n),value:decodeURIComponent(r)}}function i(e){return e.replace(/^#/,"").split("&").reduce((function(e,t){var n=r(t),i=n.key,a=n.value;return e[i]=a,e}),{})}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(25),i=n(63),a=n(46);function o(e){return s(null,e)}function s(e,t){var n=e||"self",o=Object(a.a)(t)+"/portals/"+n,s=Object(r.a)({httpMethod:"GET"},t);return Object(i.d)(o,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(766),i={palette:{white:r.colors["blk-000"],offWhite:r.colors["blk-005"],lightestGray:r.colors["blk-020"],lighterGray:r.colors["blk-050"],lightGray:r.colors["blk-080"],gray:r.colors["blk-100"],darkGray:r.colors["blk-120"],darkerGray:r.colors["blk-140"],darkestGray:r.colors["blk-160"],offBlack:r.colors["blk-180"],black:r.colors["blk-200"],transparentWhite:"rgba(255, 255, 255, 0.7)",opaqueWhite:"rgba(255, 255, 255, 0.8)",transparentOffWhite:"rgba(0, 0, 0, 0.1)",transparentDarkerGray:"rgba(0, 0, 0, 0.3)",transparentOffBlack:"rgba(0, 0, 0, 0.45)",transparentBlack:"rgba(0, 0, 0, 0.75)",opaqueBlack:"rgba(0, 0, 0, 0.85)",Brand_Blue_100:r.colors["h-bb-020"],Brand_Blue_120:r.colors["v-bb-120"],Brand_Blue_140:r.colors["v-bb-140"],Brand_Blue_150:r.colors["h-bb-040"],Brand_Blue_160:r.colors["v-bb-160"],Brand_Blue_200:r.colors["h-bb-060"],Brand_Blue_250:r.colors["h-bb-080"],lightestBlue:r.colors["h-bb-010"],lighterBlue:r.colors["h-bb-030"],lightBlue:r.colors["h-bb-050"],blue:r.colors["h-bb-060"],darkBlue:r.colors["h-bb-080"],darkerBlue:r.colors["h-bb-100"],lightestGreen:r.colors["h-gg-010"],lighterGreen:r.colors["h-gg-020"],lightGreen:r.colors["h-gg-040"],green:r.colors["h-gg-060"],darkGreen:r.colors["h-gg-080"],darkerGreen:r.colors["h-gg-100"],lightestRed:r.colors["h-rr-010"],lighterRed:r.colors["h-rr-020"],lightRed:r.colors["h-rr-040"],red:r.colors["h-rr-060"],darkRed:r.colors["h-rr-080"],darkerRed:r.colors["h-rr-100"],lightestOrange:r.colors["h-oo-010"],lighterOrange:r.colors["h-oo-020"],lightOrange:r.colors["h-oo-040"],orange:r.colors["h-oo-060"],darkOrange:r.colors["h-oo-080"],darkerOrange:r.colors["h-oo-100"],lightestYellow:r.colors["h-yy-010"],lighterYellow:r.colors["h-yy-020"],lightYellow:r.colors["h-yy-040"],yellow:r.colors["h-yy-060"],darkYellow:r.colors["h-yy-080"],darkerYellow:r.colors["h-yy-100"],lightestPurple:r.colors["h-vv-010"],lighterPurple:r.colors["h-vv-020"],lightPurple:r.colors["h-vv-040"],purple:r.colors["h-vv-060"],darkPurple:r.colors["h-vv-080"],darkerPurple:r.colors["h-vv-100"],lightestBrown:r.colors["h-br-010"],lighterBrown:r.colors["h-br-020"],lightBrown:r.colors["h-br-040"],brown:r.colors["h-br-060"],darkBrown:r.colors["h-br-080"],darkerBrown:r.colors["h-br-100"]},type:{avenirTracking:0,avenirFamily:'"Avenir Next W01", "Avenir Next W00", "Avenir Next", "Avenir", "Helvetica Neue", sans-serif',codeTracking:0,codeFamily:'"Consolas", "Andale Mono", "Lucida Console", "Monaco", monospace',iconTracking:0,iconFamily:"\n      font-family: 'calcite-ui';\n      speak: none;\n      font-style: normal;\n      font-weight: normal;\n      font-variant: normal;\n      text-transform: none;\n      display: inline-block;\n      text-decoration: none;\n    }",ratio:1.414,mediumRatio:1.33,smallRatio:1.25,bodySize:"1rem",smallSize:"0.85rem",indent:"1em"},transition:"150ms linear",transitionDuration:"150ms",easingFunc:"linear",boxShadow:"rgba(0, 0, 0, 0.15) 0px 0px 16px 0px",drawerWidth:"280px",borderRadius:0,typeColor:r.colors["ui-text-1"],linkColor:r.colors["ui-blue"],linkHover:r.colors["ui-blue-hover"],small:"480px",medium:"860px",large:"1450px",contentWidth:"1450px",contentMaxWidth:"96vw",prefix:"",tooltipBackgroundColor:r.colors["blk-200"],tooltipBorderRadius:0,tooltipEnterDelay:0,toasterWidth:"450px",vwRatio:"0.95",containerWidth:"1450px",maxWidth:"0.95 * 100vw",columnGutter:"1rem",ie8Support:!1,columnGutterFallback:"20px",containerWidthFallback:"960px",largeClass:"large",largeColumnCount:"24",defaultColumnCount:"24",mediumClass:"tablet",mediumColumnCount:"12",smallClass:"phone",smallColumnCount:"6",horizontalRange:"4",verticalRange:"6",baseline:"1.55rem"};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledIconClass=t.StyledButtonGroup=t.StyledButton=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(203)),i=n(193),a=n(714),o=n(176);var s=r.default.svg.withConfig({displayName:"StyledIconClass",componentId:"gqzbmz-0"})([""]);t.StyledIconClass=s;var c=r.default.button.withConfig({displayName:"StyledButton",componentId:"gqzbmz-1"})(["position:relative;display:inline-flex;align-items:center;justify-content:center;padding:"," 0.9rem;width:auto;margin:0;color:",";border:1px solid ",";border-radius:",";background-color:",";box-sizing:border-box;transition:all 0.15s ease-in-out;cursor:pointer;white-space:nowrap;",";letter-spacing:0em;font-family:inherit;text-decoration:none;&:hover{background-color:",";border-color:",";color:",";}.","{fill:currentColor;vertical-align:bottom;",";",";",";}",";",";",";",";",";",";",";",";",";",";",";",";",";",";",";",";",";",";",";",";",";"],(function(e){return(0,i.unitCalc)(e.theme.baseline,5,"/")}),(function(e){return e.theme.palette.white}),(function(e){return e.theme.palette.blue}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.palette.blue}),(0,i.fontSize)(-1),(function(e){return e.theme.palette.lightBlue}),(function(e){return e.theme.palette.lightBlue}),(function(e){return e.theme.palette.white}),s.styledComponentId,(function(e){return"after"===e.iconPosition&&(0,r.css)(["margin-left:",";margin-right:-0.25rem;html[dir='rtl'] &{margin-left:-0.25rem;margin-right:",";}"],e.transparent?"0.5em":"0.75em",e.transparent?"0.5em":"0.75em")}),(function(e){return"before"===e.iconPosition&&(0,r.css)(["margin-left:-0.25rem;margin-right:",";html[dir='rtl'] &{margin-left:",";margin-right:-0.25rem;}"],e.transparent?"0.5em":"0.75em",e.transparent?"0.5em":"0.75em")}),(function(e){return e.iconButton&&(0,r.css)(["&,html[dir='rtl'] &{margin-left:0;margin-right:0;}"])}),(function(e){return e.isAdornment&&(0,r.css)(["margin:"," 0 0 0;",";",";",";"],(0,i.unitCalc)(e.theme.baseline,6,"/"),(function(e){return e.minimal&&(0,r.css)(["background:none;color:",";border:none;border-bottom:1px solid ",";&:hover{color:",";background:none;text-decoration:underline;}"],e.theme.linkColor,e.theme.palette.lighterGray,e.theme.linkHover)}),(function(e){return"left"===e.adornmentDirection&&(0,r.css)(["border-top-right-radius:0;border-bottom-right-radius:0;"])}),(function(e){return"right"===e.adornmentDirection&&(0,r.css)(["border-top-left-radius:0;border-bottom-left-radius:0;"])}))}),(function(e){return e.disabled&&(0,r.css)(["cursor:not-allowed;pointer-events:none;opacity:0.3;"])}),(function(e){return e.transparent&&(0,r.css)(["background:none;color:",";border:none;&:hover{color:",";background:none;text-decoration:underline;}"],e.theme.linkColor,e.theme.linkHover)}),(function(e){return e.inline&&(0,r.css)(["display:inline;padding:0;outline:none;border:none;font-weight:500;white-space:initial;user-select:text;color:",";background-color:transparent;position:relative;background-image:linear-gradient(currentColor,currentColor),linear-gradient( ",","," );background-position:0% 100%,100% 100%;background-repeat:no-repeat,no-repeat;background-size:0% 1px,100% 1px;transition:all 0.15s ease-in-out,background-size 0.3s ease-in-out;&:hover,&:focus{color:",";background-color:transparent;background-size:100% 1px,100% 1px;.","{fill:",";}}&:active{color:",";background-size:100% 1px,100% 1px;}.","{fill:currentColor;vertical-align:middle;",";",";}"],e.theme.linkColor,(0,a.transparentize)(.8,e.theme.linkColor),(0,a.transparentize)(.8,e.theme.linkColor),e.theme.linkHover,s.styledComponentId,e.theme.linkHover,e.theme.linkColor,s.styledComponentId,(function(e){return"after"===e.iconPosition&&(0,r.css)(["margin-left:0.33em;margin-right:0;html[dir='rtl'] &{margin-left:0;margin-right:0.33em;}"])}),(function(e){return"before"===e.iconPosition&&(0,r.css)(["margin-left:0;margin-right:0.33em;html[dir='rtl'] &{margin-left:0.33em;margin-right:0;}"])}))}),(function(e){return e.clear&&(0,r.css)(["color:",";background:",";border-color:",";&:hover{color:",";background:",";border-color:",";}"],e.theme.palette.blue,e.theme.palette.white,e.theme.palette.blue,e.theme.palette.white,e.theme.palette.darkBlue,e.theme.palette.darkBlue)}),(function(e){return e.clearGray&&(0,r.css)(["background:none;color:",";border-color:",";&:hover{color:",";background:",";border-color:",";}"],e.theme.palette.gray,e.theme.palette.gray,e.theme.palette.white,e.theme.palette.darkGray,e.theme.palette.darkGray)}),(function(e){return e.clearWhite&&(0,r.css)(["background:none;color:",";border:1px solid ",";&:hover{color:",";background:",";border-color:",";}"],e.theme.palette.white,e.theme.palette.white,e.theme.palette.gray,e.theme.palette.white,e.theme.palette.white)}),(function(e){return e.white&&(0,r.css)(["background:",";color:",";border:1px solid ",";&:hover{color:",";background:",";border-color:",";}"],e.theme.palette.white,e.theme.palette.offBlack,e.theme.palette.white,e.theme.palette.offBlack,e.theme.palette.lightestGray,e.theme.palette.lightestGray)}),(function(e){return e.halo&&(0,r.css)(["color:",";background:transparent;border-color:",";box-shadow:inset 0 0 0 0 ",";&:hover{color:",";background:transparent;border-color:",";box-shadow:inset 0 0 0 2px ",";}"],e.theme.palette.blue,e.theme.palette.blue,e.theme.palette.blue,e.theme.palette.blue,e.theme.palette.blue,e.theme.palette.blue)}),(function(e){return e.extraSmall&&(0,r.css)(["",";padding:0.12rem 0.375rem;"],(0,i.fontSize)(-3))}),(function(e){return e.small&&(0,r.css)(["",";padding:0.2325rem 0.675rem;"],(0,i.fontSize)(-2))}),(function(e){return e.large&&(0,r.css)(["",";padding:0.5rem 1rem 0.5rem;"],(0,i.fontSize)(0))}),(function(e){return e.extraLarge&&(0,r.css)(["font-size:17px;line-height:20px;padding:0.85rem 1.2rem 0.85rem;font-weight:300;"])}),(function(e){return e.fullWidth&&(0,r.css)(["width:100%;text-align:center;"])}),(function(e){return e.half&&(0,r.css)(["width:50%;text-align:center;"])}),(function(e){return e.red&&(0,r.css)(["color:",";background:transparent;border-color:",";&:hover{color:",";background:",";border-color:",";}"],e.theme.palette.red,e.theme.palette.red,e.theme.palette.white,e.theme.palette.darkRed,e.theme.palette.darkRed)}),(function(e){return e.green&&(0,r.css)(["color:",";background:",";border-color:",";&:hover{color:",";background:",";border-color:",";}"],e.theme.palette.white,e.theme.palette.green,e.theme.palette.green,e.theme.palette.white,e.theme.palette.darkGreen,e.theme.palette.darkGreen)}),(function(e){return e.iconButton&&(0,r.css)(["background:transparent;color:",";border:none;padding:",";",";&:hover{color:",";background:transparent;",";}"],e.theme.palette.darkGray,(0,i.unitCalc)(e.theme.baseline,5,"/"),(function(e){return e.white&&(0,r.css)(["color:",";"],e.theme.palette.white)}),e.theme.palette.offBlack,(function(e){return e.white&&(0,r.css)(["color:",";"],e.theme.palette.lightestGray)}))}),(function(e){return e.grouped&&(0,r.css)(["margin-left:-1px;border-radius:0;html[dir='rtl'] &{margin-right:-1px;margin-left:initial;}&:first-child{margin-left:0;border-top-left-radius:",";border-bottom-left-radius:",";html[dir='rtl'] &{margin-right:0;margin-left:initial;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:",";border-bottom-right-radius:",";}}&:last-child{border-top-right-radius:",";border-bottom-right-radius:",";html[dir='rtl'] &{border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:",";border-bottom-left-radius:",";}}",";",";"],e.theme.borderRadius,e.theme.borderRadius,e.theme.borderRadius,e.theme.borderRadius,e.theme.borderRadius,e.theme.borderRadius,e.theme.borderRadius,e.theme.borderRadius,(function(e){return e.isToggle&&!e.clear&&(0,r.css)(["cursor:default;&:hover{background-color:",";}"],e.theme.palette.blue)}),(function(e){return!e.isToggle&&!e.clear&&(0,r.css)(["margin-left:1px;html[dir='rtl'] &{margin-right:1px;margin-left:initial;}&:first-of-type{margin-left:0;html[dir='rtl'] &{margin-right:0;}}"])}))}),(function(e){return e.grouped&&e.half&&(0,r.css)(["margin-left:0;html[dir='rtl'] &{margin-left:inherit;margin-right:0;}"])}),(function(e){return e.noBorderRadius&&(0,r.css)(["border-radius:0;"])}));t.StyledButton=c,c.defaultProps={theme:o.CalciteTheme};var u=r.default.nav.withConfig({displayName:"StyledButtonGroup",componentId:"gqzbmz-2"})(["display:inline-flex;justify-content:space-between;"]);t.StyledButtonGroup=u,u.defaultProps={theme:o.CalciteTheme}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonGroupContext=t.default=void 0;var r,i=(r=n(100))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(19)),o=n(193),s=n(630);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=(0,a.createContext)({buttonGroupContext:{grouped:void 0,isToggle:void 0}});t.ButtonGroupContext=l,l.displayName="ButtonGroupContext";var h=function(e){var t=e.children,n=e.isToggle,r=u(e,["children","isToggle"]),i=(0,o.useContextState)({grouped:!0,isToggle:n});return a.default.createElement(l.Provider,{value:i},a.default.createElement(s.StyledButtonGroup,c({isToggle:n},r),t))};t.default=h,h.propTypes={children:i.default.node,isToggle:i.default.bool},h.defaultProps={},h.displayName="ButtonGroup"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkColor=void 0;t.linkColor=function(e,t){return"\n    color: ".concat(e,";\n    &:hover {\n      color: ").concat(t,";\n    }\n  ")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(100)),i=o(n(19)),a=n(390);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.children,n=s(e,["children"]);return i.default.createElement(a.StyledSubNavActions,n,t)};c.propTypes={children:r.default.node},c.defaultProps={},c.displayName="SubNavActions";var u=c;t.default=u},function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(635),a=Object.keys,o=a?function(e){return a(e)}:n(783),s=Object.keys;o.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)}):Object.keys=o;return Object.keys||o},e.exports=o},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";var r=n(637),i=n(524),a=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&a(e,".prototype.")>-1?i(n):n}},function(e,t,n){"use strict";var r,i=SyntaxError,a=Function,o=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(T){c=null}var u=function(){throw new o},l=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(t){return u}}}():u,h=n(638)(),f=Object.getPrototypeOf||function(e){return e.__proto__},d={},p="undefined"===typeof Uint8Array?r:f(Uint8Array),b={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":h?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":d,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?f(f([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&h?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&h?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?f(""[Symbol.iterator]()):r,"%Symbol%":h?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":o,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},v=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=f(i.prototype))}return b[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=n(523),g=n(787),O=m.call(Function.call,Array.prototype.concat),j=m.call(Function.apply,Array.prototype.splice),w=m.call(Function.call,String.prototype.replace),_=m.call(Function.call,String.prototype.slice),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,S=function(e){var t=_(e,0,1),n=_(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return w(e,x,(function(e,t,n,i){r[r.length]=n?w(i,k,"$1"):t||e})),r},E=function(e,t){var n,r=e;if(g(y,r)&&(r="%"+(n=y[r])[0]+"%"),g(b,r)){var a=b[r];if(a===d&&(a=v(r)),"undefined"===typeof a&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new o('"allowMissing" argument must be a boolean');var n=S(e),r=n.length>0?n[0]:"",a=E("%"+r+"%",t),s=a.name,u=a.value,l=!1,h=a.alias;h&&(r=h[0],j(n,O([0,1],h)));for(var f=1,d=!0;f<n.length;f+=1){var p=n[f],v=_(p,0,1),y=_(p,-1);if(('"'===v||"'"===v||"`"===v||'"'===y||"'"===y||"`"===y)&&v!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&d||(l=!0),g(b,s="%"+(r+="."+p)+"%"))u=b[s];else if(null!=u){if(!(p in u)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&f+1>=n.length){var m=c(u,p);u=(d=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:u[p]}else d=g(u,p),u=u[p];d&&!l&&(b[s]=u)}}return u}},function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(785);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},function(e,t,n){"use strict";var r=function(e){return e!==e};e.exports=function(e,t){return 0===e&&0===t?1/e===1/t:e===t||!(!r(e)||!r(t))}},function(e,t,n){"use strict";var r=n(639);e.exports=function(){return"function"===typeof Object.is?Object.is:r}},function(e,t,n){"use strict";var r=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==r(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,n){"use strict";var r=n(641),i=n(392).supportsDescriptors,a=Object.getOwnPropertyDescriptor,o=TypeError;e.exports=function(){if(!i)throw new o("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=a(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof/a/.dotAll)return e.get}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledPopover=t.StyledTargetWrapper=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(203)),i=n(176),a=n(797);var o=r.default.div.withConfig({displayName:"StyledTargetWrapper",componentId:"sc-1pr6w5t-0"})(["display:inline-block;"]);t.StyledTargetWrapper=o,o.defaultProps={theme:i.CalciteTheme};var s=r.default.div.withConfig({displayName:"StyledPopover",componentId:"sc-1pr6w5t-1"})(["box-shadow:0 0 16px 0 rgba(0,0,0,0.05);opacity:0;transition:opacity ","ms cubic-bezier(0.4,0,0.2,1);z-index:2000;pointer-events:none;&[data-x-out-of-boundaries]{display:none;}",";",";","{box-shadow:none;}iframe{border:none;}"],(function(e){return e.transitionDuration}),(function(e){return"entering"===e.transitionState&&(0,r.css)(["opacity:0;pointer-events:auto;"])}),(function(e){return"entered"===e.transitionState&&(0,r.css)(["opacity:1;pointer-events:auto;"])}),a.StyledMenu);t.StyledPopover=s,s.defaultProps={theme:i.CalciteTheme}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(25),i=n(303),a=function(){function e(e){this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.token=e.token,this.expires=e.expires,this.portal=e.portal||"https://www.arcgis.com/sharing/rest",this.duration=e.duration||7200}return e.prototype.getToken=function(e,t){return this.token&&this.expires&&this.expires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequest||(this._pendingTokenRequest=this.refreshToken(t)),this._pendingTokenRequest)},e.prototype.refreshToken=function(e){var t=this,n=Object(r.a)({params:{client_id:this.clientId,client_secret:this.clientSecret,grant_type:"client_credentials",expiration:this.duration}},e);return Object(i.a)(this.portal+"/oauth2/token/",n).then((function(e){return t._pendingTokenRequest=null,t.token=e.token,t.expires=e.expires,e.token}))},e.prototype.refreshSession=function(){var e=this;return this.refreshToken().then((function(){return e}))},e}()},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(63);function i(e,t,n){void 0===n&&(n="https://www.arcgis.com/sharing/rest");var i=n+"/oauth2/exchangeToken",a={method:"POST",params:{f:"json",client_id:t,token:e}};return Object(r.d)(i,a).then((function(e){return e.token}))}function a(e,t,n){void 0===n&&(n="https://www.arcgis.com/sharing/rest");var i=n+"/oauth2/platformSelf?f=json",a={method:"POST",headers:{"X-Esri-Auth-Client-Id":e,"X-Esri-Auth-Redirect-Uri":t},params:{f:"json"}};return Object(r.d)(i,a)}},function(e,t,n){"use strict";n.r(t);var r=n(648);n.d(t,"addItemData",(function(){return r.a})),n.d(t,"addItemRelationship",(function(){return r.b})),n.d(t,"addItemResource",(function(){return r.c}));var i=n(649);n.d(t,"getUserContent",(function(){return i.a}));var a=n(650);n.d(t,"createFolder",(function(){return a.a})),n.d(t,"createItemInFolder",(function(){return a.c})),n.d(t,"createItem",(function(){return a.b}));var o=n(651);n.d(t,"exportItem",(function(){return o.a}));var s=n(652);n.d(t,"getItem",(function(){return s.a})),n.d(t,"getItemBaseUrl",(function(){return s.b})),n.d(t,"getItemData",(function(){return s.c})),n.d(t,"getRelatedItems",(function(){return s.k})),n.d(t,"getItemResources",(function(){return s.i})),n.d(t,"getItemResource",(function(){return s.h})),n.d(t,"getItemGroups",(function(){return s.d})),n.d(t,"getItemStatus",(function(){return s.j})),n.d(t,"getItemParts",(function(){return s.g})),n.d(t,"getItemInfo",(function(){return s.e})),n.d(t,"getItemMetadata",(function(){return s.f}));var c=n(653);n.d(t,"protectItem",(function(){return c.a})),n.d(t,"unprotectItem",(function(){return c.b}));var u=n(654);n.d(t,"reassignItem",(function(){return u.a}));var l=n(655);n.d(t,"removeItem",(function(){return l.b})),n.d(t,"removeItemRelationship",(function(){return l.c})),n.d(t,"removeItemResource",(function(){return l.d})),n.d(t,"removeFolder",(function(){return l.a}));var h=n(466);n.d(t,"searchItems",(function(){return h.a}));var f=n(463);n.d(t,"updateItem",(function(){return f.b})),n.d(t,"updateItemInfo",(function(){return f.c})),n.d(t,"updateItemResource",(function(){return f.d})),n.d(t,"moveItem",(function(){return f.a}));var d=n(102);n.d(t,"serializeItem",(function(){return d.b})),n.d(t,"determineOwner",(function(){return d.a}));var p=n(656);n.d(t,"addItemPart",(function(){return p.a})),n.d(t,"commitItemUpload",(function(){return p.c})),n.d(t,"cancelItemUpload",(function(){return p.b}));var b=n(467);n.d(t,"addGroupUsers",(function(){return b.a}));var v=n(468);n.d(t,"removeGroupUsers",(function(){return v.a}));var y=n(657);n.d(t,"inviteGroupUsers",(function(){return y.a}));var m=n(658);n.d(t,"createGroup",(function(){return m.a}));var g=n(465);n.d(t,"getGroup",(function(){return g.a})),n.d(t,"getGroupCategorySchema",(function(){return g.b})),n.d(t,"getGroupContent",(function(){return g.c})),n.d(t,"getGroupUsers",(function(){return g.d})),n.d(t,"searchGroupUsers",(function(){return g.e}));var O=n(659);for(var j in O)["default","addItemData","addItemRelationship","addItemResource","getUserContent","createFolder","createItemInFolder","createItem","exportItem","getItem","getItemBaseUrl","getItemData","getRelatedItems","getItemResources","getItemResource","getItemGroups","getItemStatus","getItemParts","getItemInfo","getItemMetadata","protectItem","unprotectItem","reassignItem","removeItem","removeItemRelationship","removeItemResource","removeFolder","searchItems","updateItem","updateItemInfo","updateItemResource","moveItem","serializeItem","determineOwner","addItemPart","commitItemUpload","cancelItemUpload","addGroupUsers","removeGroupUsers","inviteGroupUsers","createGroup","getGroup","getGroupCategorySchema","getGroupContent","getGroupUsers","searchGroupUsers"].indexOf(j)<0&&function(e){n.d(t,e,(function(){return O[e]}))}(j);var w=n(660);n.d(t,"createGroupNotification",(function(){return w.a}));var _=n(661);n.d(t,"protectGroup",(function(){return _.a})),n.d(t,"unprotectGroup",(function(){return _.b}));var x=n(662);n.d(t,"removeGroup",(function(){return x.a}));var k=n(663);n.d(t,"searchGroups",(function(){return k.b})),n.d(t,"searchGroupContent",(function(){return k.a}));var S=n(664);n.d(t,"updateGroup",(function(){return S.a}));var E=n(406);n.d(t,"updateUserMemberships",(function(){return E.a}));var T=n(665);n.d(t,"joinGroup",(function(){return T.a})),n.d(t,"leaveGroup",(function(){return T.b}));var M=n(666);n.d(t,"createOrgNotification",(function(){return M.a}));var C=n(325);n.d(t,"getUser",(function(){return C.a}));var A=n(667);n.d(t,"getUserTags",(function(){return A.a}));var P=n(668);n.d(t,"getUserUrl",(function(){return P.a}));var I=n(669);n.d(t,"getUserInvitations",(function(){return I.d})),n.d(t,"getUserInvitation",(function(){return I.c})),n.d(t,"acceptInvitation",(function(){return I.a})),n.d(t,"declineInvitation",(function(){return I.b}));var D=n(670);n.d(t,"getUserNotifications",(function(){return D.a})),n.d(t,"removeNotification",(function(){return D.b}));var L=n(671);n.d(t,"searchUsers",(function(){return L.a}));var R=n(672);n.d(t,"updateUser",(function(){return R.a}));var N=n(673);n.d(t,"setItemAccess",(function(){return N.a}));var F=n(674);n.d(t,"shareItemWithGroup",(function(){return F.b})),n.d(t,"ensureMembership",(function(){return F.a}));var z=n(675);n.d(t,"unshareItemWithGroup",(function(){return z.a}));var V=n(360);n.d(t,"isItemSharedWithGroup",(function(){return V.a}));var U=n(210);n.d(t,"getSharingUrl",(function(){return U.a})),n.d(t,"isItemOwner",(function(){return U.c})),n.d(t,"isOrgAdmin",(function(){return U.d})),n.d(t,"getUserMembership",(function(){return U.b}));var B=n(628);n.d(t,"getSelf",(function(){return B.b})),n.d(t,"getPortal",(function(){return B.a}));var G=n(676);n.d(t,"getPortalSettings",(function(){return G.a}));var q=n(46);n.d(t,"getPortalUrl",(function(){return q.a}));var H=n(464);n.d(t,"scrubControlChars",(function(){return H.a}));var W=n(677);for(var j in W)["default","addItemData","addItemRelationship","addItemResource","getUserContent","createFolder","createItemInFolder","createItem","exportItem","getItem","getItemBaseUrl","getItemData","getRelatedItems","getItemResources","getItemResource","getItemGroups","getItemStatus","getItemParts","getItemInfo","getItemMetadata","protectItem","unprotectItem","reassignItem","removeItem","removeItemRelationship","removeItemResource","removeFolder","searchItems","updateItem","updateItemInfo","updateItemResource","moveItem","serializeItem","determineOwner","addItemPart","commitItemUpload","cancelItemUpload","addGroupUsers","removeGroupUsers","inviteGroupUsers","createGroup","getGroup","getGroupCategorySchema","getGroupContent","getGroupUsers","searchGroupUsers","createGroupNotification","protectGroup","unprotectGroup","removeGroup","searchGroups","searchGroupContent","updateGroup","updateUserMemberships","joinGroup","leaveGroup","createOrgNotification","getUser","getUserTags","getUserUrl","getUserInvitations","getUserInvitation","acceptInvitation","declineInvitation","getUserNotifications","removeNotification","searchUsers","updateUser","setItemAccess","shareItemWithGroup","ensureMembership","unshareItemWithGroup","isItemSharedWithGroup","getSharingUrl","isItemOwner","isOrgAdmin","getUserMembership","getSelf","getPortal","getPortalSettings","getPortalUrl","scrubControlChars"].indexOf(j)<0&&function(e){n.d(t,e,(function(){return W[e]}))}(j);var Y=n(375);n.d(t,"SearchQueryBuilder",(function(){return Y.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return h}));var r=n(25),i=n(259),a=n(63),o=n(46),s=n(102),c=n(463);function u(e){var t=Object(r.a)({item:{id:e.id,data:e.data}},e);return delete t.id,delete t.data,Object(c.b)(t)}function l(e){return Object(s.a)(e).then((function(t){var n=Object(o.a)(e)+"/content/users/"+t+"/addRelationship",s=Object(i.a)(e,["originItemId","destinationItemId","relationshipType"],{params:Object(r.a)({},e.params)});return Object(a.d)(n,s)}))}function h(e){return Object(s.a)(e).then((function(t){var n=Object(o.a)(e)+"/content/users/"+t+"/items/"+e.id+"/addResources";return e.params=Object(r.a)({file:e.resource,fileName:e.name,resourcesPrefix:e.prefix,text:e.content,access:e.private?"private":"inherit"},e.params),Object(a.d)(n,e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(63),i=n(46),a=n(102),o=function(e){var t=e.folderId,n=e.start,o=void 0===n?1:n,s=e.num,c=void 0===s?10:s,u=e.authentication,l=t?"/"+t:"";return Object(a.a)(e).then((function(t){return Object(i.a)(e)+"/content/users/"+t+l})).then((function(e){return Object(r.d)(e,{httpMethod:"GET",authentication:u,params:{start:o,num:c}})}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(25),i=n(63),a=n(259),o=n(46),s=n(102);function c(e){return Object(s.a)(e).then((function(t){var n=Object(o.a)(e)+"/content/users/"+t+"/createFolder";return e.params=Object(r.a)({title:e.title},e.params),Object(i.d)(n,e)}))}function u(e){return e.multipart&&!e.filename?Promise.reject(new Error("The filename is required for a multipart request.")):Object(s.a)(e).then((function(t){var n=Object(o.a)(e)+"/content/users/"+t,c=n+"/addItem";e.folderId&&(c=n+"/"+e.folderId+"/addItem"),e.params=Object(r.a)(Object(r.a)({},e.params),Object(s.b)(e.item));var u=Object(a.a)(e,["owner","folderId","file","dataUrl","text","async","multipart","filename","overwrite"],{params:Object(r.a)({},e.params)});return Object(i.d)(c,u)}))}function l(e){return u(Object(r.a)({folderId:null},e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(63),i=n(102),a=n(46),o=function(e){var t=e.authentication,n=e.id,o=e.title,s=e.exportFormat,c=e.exportParameters;return Object(i.a)(e).then((function(t){return Object(a.a)(e)+"/content/users/"+t+"/export"})).then((function(e){return Object(r.d)(e,{httpMethod:"POST",authentication:t,params:{itemId:n,title:o,exportFormat:s,exportParameters:c}})}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return h})),n.d(t,"k",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return g}));var r=n(25),i=n(63),a=n(259),o=n(46),s=n(464),c=n(102);function u(e,t){var n=l(e,t),a=Object(r.a)({httpMethod:"GET"},t);return Object(i.d)(n,a)}var l=function(e,t){return("string"===typeof t?t:Object(o.a)(t))+"/content/items/"+e};function h(e,t){var n=l(e,t)+"/data",a=Object(r.a)({httpMethod:"GET",params:{}},t);return a.file&&(a.params.f=null),Object(i.d)(n,a).catch((function(e){if(!RegExp(/The string did not match the expected pattern|(Unexpected end of (JSON input|data at line 1 column 1))/i).test(e.message))throw e}))}function f(e){var t=l(e.id,e)+"/relatedItems",n=Object(r.a)({httpMethod:"GET",params:{direction:e.direction}},e);return"string"===typeof e.relationshipType?n.params.relationshipType=e.relationshipType:n.params.relationshipTypes=e.relationshipType,delete n.direction,delete n.relationshipType,Object(i.d)(t,n)}function d(e,t){var n=l(e,t)+"/resources",a=Object(r.a)({},t);return a.params=Object(r.a)({num:1e3},a.params),Object(i.d)(n,a)}function p(e,t){var n=t.readAs||"blob";return O(e,"/resources/"+t.fileName,n,t)}function b(e,t){var n=l(e,t)+"/groups";return Object(i.d)(n,t)}function v(e){return Object(c.a)(e).then((function(t){var n=Object(o.a)(e)+"/content/users/"+t+"/items/"+e.id+"/status",s=Object(a.a)(e,["jobId","jobType"],{params:Object(r.a)({},e.params)});return Object(i.d)(n,s)}))}function y(e){return Object(c.a)(e).then((function(t){var n=Object(o.a)(e)+"/content/users/"+t+"/items/"+e.id+"/parts";return Object(i.d)(n,e)}))}function m(e,t){var n=t||{},i=n.fileName,a=void 0===i?"iteminfo.xml":i,o=n.readAs;return O(e,"/info/"+a,void 0===o?"text":o,Object(r.a)({httpMethod:"GET"},t))}function g(e,t){return m(e,Object(r.a)(Object(r.a)({},t),{fileName:"metadata/metadata.xml"}))}function O(e,t,n,a){var o=""+l(e,a)+t,c=Object(r.a)({params:{}},a),u=c.rawResponse;return c.rawResponse=!0,c.params.f=null,Object(i.d)(o,c).then((function(e){return u?e:"json"!==n?e[n]():e.text().then((function(e){return JSON.parse(Object(s.a)(e))}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(63),i=n(46),a=n(102);function o(e){return Object(a.a)(e).then((function(t){var n=Object(i.a)(e)+"/content/users/"+t+"/items/"+e.id+"/protect";return Object(r.d)(n,e)}))}function s(e){return Object(a.a)(e).then((function(t){var n=Object(i.a)(e)+"/content/users/"+t+"/items/"+e.id+"/unprotect";return Object(r.d)(n,e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(63),i=n(46),a=n(210);function o(e){return Object(a.d)(e).then((function(t){if(!t)throw Error("Item "+e.id+" can not be reassigned because current user is not an organization administrator.");var n=Object(i.a)(e)+"/content/users/"+e.currentOwner+"/items/"+e.id+"/reassign",a={params:{targetUsername:e.targetUsername,targetFolderName:e.targetFolderName},authentication:e.authentication};return Object(r.d)(n,a)}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return h}));var r=n(25),i=n(63),a=n(259),o=n(46),s=n(102);function c(e){return Object(s.a)(e).then((function(t){var n=Object(o.a)(e)+"/content/users/"+t+"/items/"+e.id+"/delete";return Object(i.d)(n,e)}))}function u(e){return Object(s.a)(e).then((function(t){var n=Object(o.a)(e)+"/content/users/"+t+"/deleteRelationship",s=Object(a.a)(e,["originItemId","destinationItemId","relationshipType"],{params:Object(r.a)({},e.params)});return Object(i.d)(n,s)}))}function l(e){return Object(s.a)(e).then((function(t){var n=Object(o.a)(e)+"/content/users/"+t+"/items/"+e.id+"/removeResources";return e.params=Object(r.a)(Object(r.a)({},e.params),{resource:e.resource}),Object(i.d)(n,e)}))}function h(e){return Object(s.a)(e).then((function(t){var n=Object(o.a)(e)+"/content/users/"+encodeURIComponent(t)+"/"+e.folderId+"/delete";return Object(i.d)(n,e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(25),i=n(259),a=n(63),o=n(46),s=n(102);function c(e){var t=e.partNum;return!Number.isInteger(t)||t<1||t>1e4?Promise.reject(new Error("The part number must be an integer between 1 to 10000, inclusive.")):Object(s.a)(e).then((function(n){var s=Object(o.a)(e)+"/content/users/"+n+"/items/"+e.id+"/addPart?partNum="+t,c=Object(i.a)(e,["file"],{params:Object(r.a)({},e.params)});return Object(a.d)(s,c)}))}function u(e){return Object(s.a)(e).then((function(t){var n=Object(o.a)(e)+"/content/users/"+t+"/items/"+e.id+"/commit",c=Object(i.a)(e,[],{params:Object(r.a)(Object(r.a)({},e.params),Object(s.b)(e.item))});return Object(a.d)(n,c)}))}function l(e){return Object(s.a)(e).then((function(t){var n=Object(o.a)(e)+"/content/users/"+t+"/items/"+e.id+"/cancel";return Object(a.d)(n,e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(25),i=n(63),a=n(46),o=n(304);function s(e){var t=e.id,n=Object(a.a)(e)+"/community/groups/"+t+"/invite",s=function(e){return Object(o.a)(e.users,25).map((function(t){return function(e,t){var n=Object.assign({},t);return n.params=Object(r.a)(Object(r.a)({},n.params),{users:e,role:n.role,expiration:n.expiration}),n}(t,e)}))}(e).map((function(e){return function(e,t){return Object(i.d)(e,t).catch((function(e){return{errors:[e]}}))}(n,e)}));return Promise.all(s).then(c)}function c(e){var t=e.every((function(e){return e.success})),n=e.reduce((function(e,t){return e.concat(t.errors||[])}),[]),r={success:t};return n.length>0&&(r.errors=n),r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),i=n(63),a=n(46);function o(e){var t=Object(a.a)(e)+"/community/createGroup";return e.params=Object(r.a)(Object(r.a)({},e.params),e.group),Object(i.d)(t,e)}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),i=n(63),a=n(46);function o(e){var t=Object(a.a)(e)+"/community/groups/"+e.id+"/createNotification",n=Object(r.a)({params:Object(r.a)({subject:e.subject,message:e.message,users:e.users,notificationChannelType:e.notificationChannelType||"email",clientId:e.clientId,silentNotification:e.silentNotification,notifyAll:!e.users||0===e.users.length},e.params)},e);return Object(i.d)(t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(63),i=n(46);function a(e){var t=Object(i.a)(e)+"/community/groups/"+e.id+"/protect";return Object(r.d)(t,e)}function o(e){var t=Object(i.a)(e)+"/community/groups/"+e.id+"/unprotect";return Object(r.d)(t,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),i=n(63),a=n(46);function o(e){var t=Object(a.a)(e)+"/community/groups/"+e.id+"/delete",n=Object(r.a)({},e);return Object(i.d)(t,n)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(331);function i(e){return Object(r.a)(e,"group")}function a(e){return Object(r.a)(e,"groupContent")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),i=n(63),a=n(46);function o(e){var t=Object(a.a)(e)+"/community/groups/"+e.group.id+"/update";return e.params=Object(r.a)(Object(r.a)({},e.params),e.group),Object(i.d)(t,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(63),i=n(46);function a(e){var t=Object(i.a)(e)+"/community/groups/"+e.id+"/join";return Object(r.d)(t,e)}function o(e){var t=Object(i.a)(e)+"/community/groups/"+e.id+"/leave";return Object(r.d)(t,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(25),i=n(63),a=n(46),o=n(304);function s(e){var t=Object(a.a)(e)+"/portals/self/createNotification",n=function(e){return Object(o.a)(e.users,e.batchSize||25).map((function(t){return function(e,t){var n=Object.assign({},t);return n.params=Object(r.a)(Object(r.a)({},n.params),{users:e,subject:t.subject,message:t.message,notificationChannelType:n.notificationChannelType}),n}(t,e)}))}(e).map((function(e){return function(e,t){return Object(i.d)(e,t).catch((function(e){return{errors:[e]}}))}(t,e)}));return Promise.all(n).then(c)}function c(e){var t=e.every((function(e){return e.success})),n=e.reduce((function(e,t){return e.concat(t.errors||[])}),[]),r={success:t};return n.length>0&&(r.errors=n),r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(63),i=n(46);function a(e){var t=e.username||e.authentication.username,n=Object(i.a)(e)+"/community/users/"+encodeURIComponent(t)+"/tags";return Object(r.d)(n,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(46);function i(e){return Object(r.a)(e)+"/community/users/"+encodeURIComponent(e.username)}},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(25),i=n(63),a=n(46);function o(e){var t={httpMethod:"GET"},n=encodeURIComponent(e.authentication.username),o=Object(a.a)(e)+"/community/users/"+n+"/invitations";return t=Object(r.a)(Object(r.a)({},e),t),Object(i.d)(o,t)}function s(e){var t=encodeURIComponent(e.authentication.username),n=Object(a.a)(e)+"/community/users/"+t+"/invitations/"+e.invitationId,o={httpMethod:"GET"};return o=Object(r.a)(Object(r.a)({},e),o),Object(i.d)(n,o)}function c(e){var t=encodeURIComponent(e.authentication.username),n=Object(a.a)(e)+"/community/users/"+t+"/invitations/"+e.invitationId+"/accept",o=Object(r.a)({},e);return Object(i.d)(n,o)}function u(e){var t=encodeURIComponent(e.authentication.username),n=Object(a.a)(e)+"/community/users/"+t+"/invitations/"+e.invitationId+"/decline",o=Object(r.a)({},e);return Object(i.d)(n,o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(25),i=n(63),a=n(46);function o(e){var t={httpMethod:"GET"},n=encodeURIComponent(e.authentication.username),o=Object(a.a)(e)+"/community/users/"+n+"/notifications";return t=Object(r.a)(Object(r.a)({},e),t),Object(i.d)(o,t)}function s(e){var t=encodeURIComponent(e.authentication.username),n=Object(a.a)(e)+"/community/users/"+t+"/notifications/"+e.id+"/delete";return Object(i.d)(n,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(331);function i(e){return Object(r.a)(e,"user")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),i=n(63),a=n(46);function o(e){var t=e.user.username||e.authentication.username,n=Object(a.a)(e)+"/community/users/"+encodeURIComponent(t)+"/update";return e.params=Object(r.a)(Object(r.a)({},e.user),e.params),delete e.user,Object(i.d)(n,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),i=n(63),a=n(210);function o(e){var t=Object(a.a)(e);return Object(a.c)(e)?s(t,e):Object(a.d)(e).then((function(n){if(n)return s(t,e);throw Error("This item can not be shared by "+e.authentication.username+". They are neither the item owner nor an organization admin.")}))}function s(e,t){return t.params=Object(r.a)({org:!1,everyone:!1},t.params),"private"===t.access&&(t.params.groups=" "),"org"===t.access&&(t.params.org=!0),"public"===t.access&&(t.params.account=!0,t.params.everyone=!0),Object(i.d)(e,t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return d}));var r=n(63),i=n(46),a=n(210),o=n(325),s=n(467),c=n(468),u=n(406),l=n(360);function h(e){return Object(l.a)(e).then((function(t){if(t)return{itemId:e.id,shortcut:!0,notSharedWith:[]};var n=e.authentication.username,r=e.owner,i=e.confirmItemControl,s=r||n;return s!==n?Promise.all([Object(o.a)({username:n,authentication:e.authentication}),Object(o.a)({username:s,authentication:e.authentication}),Object(a.b)(e)]).then((function(t){var n=t[0],r=t[1],a=t[2];return function(e,t,n,r,i,a){var o=[];if(a.groupId!==e.favGroupId)if(t){if(!r)throw Error("This item can not be shared to shared editing group "+a.groupId+" by "+e.username+" as they not the item owner or org admin.");o.push(d(e,e,!1,"Error adding "+e.username+" as member to edit group "+a.groupId+". Consequently item "+a.id+" was not shared to the group.",a),d(e,i,!0,"none"===n?"Error adding user "+i.username+" to edit group "+a.groupId+". Consequently item "+a.id+" was not shared to the group.":"Error promoting user "+i.username+" to admin in edit group "+a.groupId+". Consequently item "+a.id+" was not shared to the group.",a))}else if(r)o.push(d(e,e,!1,"Error adding "+e.username+" as member to view group "+a.groupId+". Consequently item "+a.id+" was not shared to the group.",a));else if("none"===n)throw new Error("This item can not be shared by "+e.username+" as they are not a member of the specified group "+a.groupId+".");return o}(n,!!i,a,"org_admin"===n.role&&!n.roleId,r,e)})).then((function(t){var n=t[0],r=(void 0===n?{promise:Promise.resolve({notAdded:[]}),revert:function(e){return Promise.resolve(e)}}:n).revert;return Promise.all(t.map((function(e){return e.promise}))).then((function(){return f(e)})).then((function(e){return r(e)}))})):f(e)})).then((function(t){if(t.notSharedWith.length)throw Error("Item "+e.id+" could not be shared to group "+e.groupId+".");return t}))}function f(e){var t=e.authentication.username,n=e.owner||t,a=Object(i.a)(e)+"/content/items/"+e.id+"/share";return n===t&&(a=Object(i.a)(e)+"/content/users/"+n+"/items/"+e.id+"/share"),e.params={groups:e.groupId,confirmItemControl:e.confirmItemControl},Object(r.d)(a,e)}function d(e,t,n,r,i){var a,o,l,h=t.groups||[],f=h.find((function(e){return e.id===i.groupId}));if(e.orgId!==t.orgId)throw Error("User "+t.username+" is not a member of the same org as "+e.username+". Consequently they can not be added added to group "+i.groupId+" nor can item "+i.id+" be shared to the group.");if(!f&&h.length>511)throw Error("User "+t.username+" already has 512 groups, and can not be added to group "+i.groupId+". Consequently item "+i.id+" can not be shared to the group.");if(f)n&&"member"===f.userMembership.memberType?(o=Object(u.a)({id:i.groupId,users:[t.username],newMemberType:"admin",authentication:i.authentication}).then((function(e){var t=e.results.reduce((function(e,t){return t.success||e.push(t.username),e}),[]);return Promise.resolve({notAdded:t})})).catch((function(){return{notAdded:[t.username]}})),l=function(e){return Object(u.a)({id:i.groupId,users:[t.username],newMemberType:"member",authentication:i.authentication}).then((function(){return e})).catch((function(){return e}))}):(o=Promise.resolve({notAdded:[]}),l=function(e){return Promise.resolve(e)});else{var d=n?"admins":"users";o=Object(s.a)((a={id:i.groupId},a[d]=[t.username],a.authentication=i.authentication,a)).then((function(e){if(e.errors&&e.errors.length)throw e.errors[0];return e})).catch((function(){return{notAdded:[t.username]}})),l=function(e){return Object(c.a)({id:i.groupId,users:[t.username],authentication:i.authentication}).then((function(){return e}))}}return{promise:o.then((function(e){if(e.notAdded.length)throw new Error(r);return e})),revert:l}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(63),i=n(46),a=n(210),o=n(360),s=n(325);function c(e){return Object(o.a)(e).then((function(t){if(!t)return Promise.resolve({itemId:e.id,shortcut:!0,notUnsharedFrom:[]});var n=e.authentication.username,o=e.owner;return Promise.all([Object(a.b)(e),Object(s.a)({username:n,authentication:e.authentication})]).then((function(t){var a=t[0],s=t[1],c=(o||n)===n,u="org_admin"===s.role&&!s.roleId;if(!c&&!u&&["admin","owner"].indexOf(a)<0)throw Error("This item can not be unshared from group "+e.groupId+" by "+n+" as they not the item owner, an org admin, group admin or group owner.");return function(e){var t=e.authentication.username,n=e.owner||t,a=Object(i.a)(e)+"/content/items/"+e.id+"/unshare";n===t&&(a=Object(i.a)(e)+"/content/users/"+n+"/items/"+e.id+"/unshare");return e.params={groups:e.groupId},Object(r.d)(a,e)}(e)})).then((function(t){if(t.notUnsharedFrom.length)throw Error("Item "+e.id+" could not be unshared to group "+e.groupId);return t}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),i=n(63),a=n(46);function o(e,t){var n=e||"self",o=Object(a.a)(t)+"/portals/"+n+"/settings",s=Object(r.a)({httpMethod:"GET"},t);return Object(i.d)(o,s)}},function(e,t){},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ArcGISRequestError="ArcGISRequestError",e.ArcGISAuthError="ArcGISAuthError"}(r||(r={}))},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refreshAccountStorage=t.logoutAccountStorage=t.beginStatusStorage=t.completeStatusStorage=t.switchActiveStorage=t.removeAccountStorage=t.addAccountStorage=t.getAccountManagerStorage=void 0;var r=n(525);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.getAccountManagerStorage=function(e){var t=u(e)||{},n=t.accounts,r=t.active,i=t.status,a=t.order;return{accounts:l(n),active:r,status:i,order:a}};t.addAccountStorage=function(e,t){var n=u(e),r=n||{},i=r.accounts,l=r.active,h=r.status||!l?t.key:l,f=n.order?n.order.find((function(e){return e===t.key}))?s(n.order):[t.key].concat(s(n.order)):[t.key];c({state:a({},n,{accounts:a({},i,o({},t.key,t)),active:h,order:f}),manager:e})};t.removeAccountStorage=function(e,t){var n=t.key,r=u(e),i=r.order.filter((function(e){return e!==n}));delete r.accounts[n];var o=r.active===n?i.length>0?i[0]:void 0:r.active;c({state:a({},r,{active:o,order:i}),manager:e})};t.switchActiveStorage=function(e,t){var n=t.key,r=u(e),i=r.order?r.order:[],o=[n].concat(s(i.filter((function(e){return e!==n}))));c({state:a({},r,{active:n,order:o}),manager:e})};t.completeStatusStorage=function(e){var t=u(e),n=(t||{}).status;c({state:a({},t,{status:a({},n,{loading:!1})}),manager:e})};t.beginStatusStorage=function(e,t,n,r){var i=t.clientId,o=t.redirectUri,s=t.portalUrl,l=t.popup,h=u(e);c({state:a({},h,{status:{loading:!0,authProps:{clientId:i,redirectUri:o,portalUrl:s,popup:l},originRoute:n,setActive:r}}),manager:e})};t.logoutAccountStorage=function(e,t){var n=t.key,r=u(e),i=(r||{}).accounts,s=a({},i[n],{token:null,session:null});c({state:a({},r,{accounts:a({},i,o({},n,s))}),manager:e})};t.refreshAccountStorage=function(e,t){var n=t.key,r=t.session,i=u(e),s=(i||{}).accounts;c({state:a({},i,{accounts:a({},s,o({},n,a({},s[n],{session:r})))}),manager:e})};var c=function(e){var t=e.state,n=e.manager;window.localStorage.setItem(n,JSON.stringify(t))},u=function(e){var t=JSON.parse(window.localStorage.getItem(e))||{};return{accounts:t.accounts,active:t.active,status:t.status,order:t.order}},l=function(e){var t={};if(e)for(var n=Object.entries(e),o=0;o<n.length;o++){var s=i(n[o],1)[0],c=e[s].session?r.UserSession.deserialize(e[s].session):void 0,u=e[s].portal?JSON.parse(e[s].portal):void 0;t[s]=a({},e[s],{portal:u,session:c})}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(13),i=n(10),a=n(7),o=n.n(a),s=n(16),c=n(2),u=n(3),l=n(5),h=n(6),f=n(0),d=(n(15),n(14),n(18),n(1)),p=n(34),b=n(8),v=n(12),y=(n(21),n(22),n(17)),m=n(48),g=n(74),O=n(65),j=n(131),w=function(e){var t=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).capabilities=void 0,e.copyright=null,e.fullExtent=null,e.legendEnabled=!0,e.spatialReference=null,e.version=null,e}return Object(u.a)(n,[{key:"readCapabilities",value:function(e,t){var n=t.capabilities&&t.capabilities.split(",").map((function(e){return e.toLowerCase().trim()}));if(!n)return{operations:{supportsQuery:!1,supportsExportMap:!1,supportsExportTiles:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};var r=this.type,i=-1!==n.indexOf("query"),a=-1!==n.indexOf("map"),o=!!t.exportTilesAllowed,s=-1!==n.indexOf("tilemap"),c="tile"!==r&&!!t.supportsDynamicLayers,u="tile"!==r&&(!t.tileInfo||c),l="tile"!==r&&(!t.tileInfo||c);return{operations:{supportsQuery:i,supportsExportMap:a,supportsExportTiles:o,supportsTileMap:s},exportMap:a?{supportsSublayersChanges:"tile"!==r,supportsDynamicLayers:c,supportsSublayerVisibility:u,supportsSublayerDefinitionExpression:l}:null,exportTiles:o?{maxExportTilesCount:+t.maxExportTilesCount}:null}}},{key:"readVersion",value:function(e,t){var n=t.currentVersion;return n||(n=t.hasOwnProperty("capabilities")||t.hasOwnProperty("tables")?10:t.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3),n}},{key:"fetchSublayerInfo",value:function(){var e=Object(s.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAllLayersAndTables(n);case 2:return e.abrupt("return",this._allLayersAndTablesMap.get(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchAllLayersAndTables",value:function(){var e=Object(s.a)(o.a.mark((function e(t){var n,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load(t);case 2:return this._allLayersAndTablesPromise||(this._allLayersAndTablesPromise=Object(O.default)(Object(v.I)(this.url).path+"/layers",{responseType:"json",query:Object(i.a)({f:"json"},this.customParameters)}).then((function(e){a._allLayersAndTablesMap=new Map;var t,n=Object(r.a)(e.data.layers);try{for(n.s();!(t=n.n()).done;){var i=t.value;a._allLayersAndTablesMap.set(i.id,i)}}catch(o){n.e(o)}finally{n.f()}return{result:e.data}}),(function(e){return{error:e}}))),e.next=5,this._allLayersAndTablesPromise;case 5:if(n=e.sent,Object(y.u)(t),!("result"in n)){e.next=8;break}return e.abrupt("return",n.result);case 8:throw n.error;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(e);return Object(f.a)([Object(d.b)({readOnly:!0})],t.prototype,"capabilities",void 0),Object(f.a)([Object(p.a)("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],t.prototype,"readCapabilities",null),Object(f.a)([Object(d.b)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),Object(f.a)([Object(d.b)({type:g.a})],t.prototype,"fullExtent",void 0),Object(f.a)([Object(d.b)({json:{origins:{service:{read:!1},"portal-item":{read:!1}}}})],t.prototype,"id",void 0),Object(f.a)([Object(d.b)({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],t.prototype,"legendEnabled",void 0),Object(f.a)([Object(d.b)(j.g)],t.prototype,"popupEnabled",void 0),Object(f.a)([Object(d.b)({type:m.a})],t.prototype,"spatialReference",void 0),Object(f.a)([Object(d.b)()],t.prototype,"version",void 0),Object(f.a)([Object(p.a)("version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],t.prototype,"readVersion",null),t=Object(f.a)([Object(b.a)("esri.layers.mixins.ArcGISMapService")],t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(13),i=n(2),a=n(3),o=n(40),s=n(61),c=n(57),u=n(5),l=n(6),h=n(0),f=(n(15),n(14)),d=(n(18),n(92)),p=n(1),b=n(8),v=n(20),y=(n(12),n(21),n(124)),m=(n(22),n(39)),g=n(264),O=n(302),j=n(460),w=f.a.getLogger("esri.layers.TileLayer"),_=m.a.ofType(O.a);function x(e,t){e&&e.forEach((function(e){t(e),e.sublayers&&e.sublayers.length&&x(e.sublayers,t)}))}var k=function(e){var t=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).allSublayers=new g.a({root:Object(o.a)(e),rootCollectionNames:["sublayers"],getChildrenFunction:function(e){return e.sublayers}}),e.sublayersSourceJSON={2:{},3:{},4:{},5:{}},e.watch("sublayers",(function(t,n){return e._handleSublayersChange(t,n)}),!0),e}return Object(a.a)(n,[{key:"readSublayers",value:function(e,t){if(t&&e){var n=this.sublayersSourceJSON,r=Object(y.d)(t.origin);if(!(r<2)&&(n[r]={context:t,visibleLayers:e.visibleLayers||n[r].visibleLayers,layers:e.layers||n[r].layers},!(r>2))){this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);var i=this.createSublayersForOrigin("web-document"),a=i.sublayers,o=i.origin,s=Object(d.a)(this);s.setDefaultOrigin(o),this._set("sublayers",new _(a)),s.setDefaultOrigin("user")}}}},{key:"findSublayerById",value:function(e){return this.allSublayers.find((function(t){return t.id===e}))}},{key:"createServiceSublayers",value:function(){return this.createSublayersForOrigin("service").sublayers}},{key:"createSublayersForOrigin",value:function(e){var t,n=Object(y.d)("web-document"===e?"web-map":e),i=2,a=this.sublayersSourceJSON[2].layers,o=this.sublayersSourceJSON[2].context,s=null,c=[3,4,5].filter((function(e){return e<=n})),u=Object(r.a)(c);try{for(u.s();!(t=u.n()).done;){var l=t.value,h=this.sublayersSourceJSON[l];Object(j.b)(h.layers)&&(i=l,a=h.layers,o=h.context,h.visibleLayers&&(s={visibleLayers:h.visibleLayers,context:h.context}))}}catch(L){u.e(L)}finally{u.f()}var f,d=[3,4,5].filter((function(e){return e>i&&e<=n})),p=null,b=Object(r.a)(d);try{for(b.s();!(f=b.n()).done;){var v=f.value,m=this.sublayersSourceJSON[v],g=m.layers,w=m.visibleLayers,k=m.context;g&&(p={layers:g,context:k}),w&&(s={visibleLayers:w,context:k})}}catch(L){b.e(L)}finally{b.f()}var S=function(e,t){var n=[],r={};return e?(e.forEach((function(e){var i=new O.a;if(i.read(e,t),r[i.id]=i,null!=e.parentLayerId&&-1!==e.parentLayerId){var a=r[e.parentLayerId];a.sublayers||(a.sublayers=[]),a.sublayers.unshift(i)}else n.unshift(i)})),n):n}(a,o),E=new Map,T=new Set;if(p){var M,C=Object(r.a)(p.layers);try{for(C.s();!(M=C.n()).done;){var A=M.value;E.set(A.id,A)}}catch(L){C.e(L)}finally{C.f()}}if(s){var P,I=Object(r.a)(s.visibleLayers);try{for(I.s();!(P=I.n()).done;){var D=P.value;T.add(D)}}catch(L){I.e(L)}finally{I.f()}}return x(S,(function(e){p&&e.read(E.get(e.id),p.context),s&&e.read({defaultVisibility:T.has(e.id)},s.context)})),{origin:Object(y.b)(i),sublayers:new _({items:S})}}},{key:"read",value:function(e,t){Object(s.a)(Object(c.a)(n.prototype),"read",this).call(this,e,t),this.readSublayers(e,t)}},{key:"_handleSublayersChange",value:function(e,t){var n=this;t&&(t.forEach((function(e){e.parent=null,e.layer=null})),this.handles.remove("sublayers-owner")),e&&(e.forEach((function(e){e.parent=n,e.layer=n})),this.handles.add([e.on("after-add",(function(e){var t=e.item;t.parent=n,t.layer=n})),e.on("after-remove",(function(e){var t=e.item;t.parent=null,t.layer=null}))],"sublayers-owner"),"tile"===this.type&&this.handles.add(e.on("before-changes",(function(e){w.error(new v.a("tilelayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{layer:n})),e.preventDefault()})),"sublayers-owner"))}}]),n}(e);return Object(h.a)([Object(p.b)({readOnly:!0})],t.prototype,"allSublayers",void 0),Object(h.a)([Object(p.b)({readOnly:!0,type:m.a.ofType(O.a)})],t.prototype,"serviceSublayers",void 0),Object(h.a)([Object(p.b)({value:null,type:_,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],t.prototype,"sublayers",void 0),Object(h.a)([Object(p.b)({readOnly:!0})],t.prototype,"sublayersSourceJSON",void 0),t=Object(h.a)([Object(b.a)("esri.layers.mixins.SublayersOwner")],t),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(121);function a(e){return{origin:"portal-item",url:Object(r.I)(e.itemUrl),portal:e.portal||i.a.getDefault(),portalItem:e,readResourcePaths:[]}}},function(e,t,n){"use strict";var r=n(13),i=n(2),a=n(3),o=(n(15),n(235)),s=function(){function e(t,n){var r=this;if(Object(i.a)(this,e),this.backgroundBucketIds=[],this._uidToLayer=new Map,this._layerByName={},this._runningId=0,t.layers||(t.layers=[]),this.version=parseFloat(t.version),this.sprite=n?n.spriteUrl:t.sprite,this.glyphs=n?n.glyphsUrl:t.glyphs,this.layers=t.layers.map((function(e,t,n){return r._create(e,t,n)})),this.layers)for(var a,o=0;o<this.layers.length;o++)a=this.layers[o],this._layerByName[a.id.toLowerCase()]=a,this._uidToLayer.set(a.uid,a),0===a.type&&this.backgroundBucketIds.push(a.id);this._identifyRefLayers()}return Object(a.a)(e,[{key:"isPainterDataDriven",value:function(e){var t=this._layerByName[e.toLowerCase()];return!!t&&t.isPainterDataDriven()}},{key:"getStyleLayerId",value:function(e){return e>=this.layers.length?null:this.layers[e].id}},{key:"getStyleLayerByUID",value:function(e){var t=this._uidToLayer.get(e);return null!=t?t:null}},{key:"getStyleLayerIndex",value:function(e){var t=this._layerByName[e.toLowerCase()];return t?this.layers.indexOf(t):-1}},{key:"setStyleLayer",value:function(t,n){if(t&&t.id){n&&n>=this.layers.length&&(n=this.layers.length-1);var r,i=!0,a=this._layerByName[t.id.toLowerCase()];if(a){var o=this.layers.indexOf(a);n||(n=o),n===o?(i=!1,r=e._recreateLayer(t,a),this.layers[n]=r):(this.layers.splice(o,1),r=this._create(t,n,this.layers),this.layers.splice(n,0,r))}else r=this._create(t,n,this.layers),!n||n>=this.layers.length?this.layers.push(r):this.layers.splice(n,0,r);this._layerByName[t.id.toLowerCase()]=r,this._uidToLayer.set(r.uid,r),i&&this._recomputeZValues(),this._identifyRefLayers()}}},{key:"getStyleLayer",value:function(e){var t=this._layerByName[e.toLowerCase()];return t?{type:t.typeName,id:t.id,source:t.source,"source-layer":t.sourceLayer,minzoom:t.minzoom,maxzoom:t.maxzoom,filter:t.filter,layout:t.layout,paint:t.paint}:null}},{key:"deleteStyleLayer",value:function(e){var t=this._layerByName[e.toLowerCase()];if(t){delete this._layerByName[e.toLowerCase()],this._uidToLayer.delete(t.uid);var n=this.layers.indexOf(t);this.layers.splice(n,1),this._recomputeZValues(),this._identifyRefLayers()}}},{key:"getLayerById",value:function(e){return this._layerByName[e.toLowerCase()]}},{key:"getLayoutProperties",value:function(e){var t=this._layerByName[e.toLowerCase()];return t?t.layout:null}},{key:"getPaintProperties",value:function(e){var t=this._layerByName[e.toLowerCase()];return t?t.paint:null}},{key:"setPaintProperties",value:function(t,n){var r=this._layerByName[t.toLowerCase()];if(!r)return"";var i={type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:r.layout,paint:n},a=e._recreateLayer(i,r),o=this.layers.indexOf(r);return this.layers[o]=a,this._layerByName[r.id.toLowerCase()]=a,this._uidToLayer.set(r.uid,a),r.id}},{key:"setLayoutProperties",value:function(t,n){var r=this._layerByName[t.toLowerCase()];if(!r)return"";var i={type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:n,paint:r.paint},a=e._recreateLayer(i,r),o=this.layers.indexOf(r);return this.layers[o]=a,this._layerByName[r.id.toLowerCase()]=a,this._uidToLayer.set(r.uid,a),r.id}},{key:"setStyleLayerVisibility",value:function(t,n){var r=this._layerByName[t.toLowerCase()];if(r){var i=r.layout||{};i.visibility=n;var a={type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:i,paint:r.paint},o=e._recreateLayer(a,r),s=this.layers.indexOf(r);this.layers[s]=o,this._layerByName[r.id.toLowerCase()]=o,this._uidToLayer.set(r.uid,o)}}},{key:"getStyleLayerVisibility",value:function(e){var t,n=this._layerByName[e.toLowerCase()];if(!n)return"none";var r=n.layout;return null!=(t=null==r?void 0:r.visibility)?t:"visible"}},{key:"_recomputeZValues",value:function(){for(var e=this.layers,t=1/(e.length+1),n=0;n<e.length;n++)e[n].z=1-(1+n)*t}},{key:"_identifyRefLayers",value:function(){var e,t=[],n=[],i=0,a=Object(r.a)(this.layers);try{for(a.s();!(e=a.n()).done;){var o=e.value;if(1===o.type){var s=o,c=o.source+"|"+o.sourceLayer;c+="|"+JSON.stringify(o.layout&&o.layout.visibility),c+="|"+JSON.stringify(o.minzoom),c+="|"+JSON.stringify(o.maxzoom),c+="|"+JSON.stringify(o.filter),(s.hasDataDrivenFill||s.hasDataDrivenOutline)&&(c+="|"+JSON.stringify(i)),t.push({key:c,layer:o})}if(2===o.type){var u=o,l=o.source+"|"+o.sourceLayer;l+="|"+JSON.stringify(o.layout&&o.layout.visibility),l+="|"+JSON.stringify(o.minzoom),l+="|"+JSON.stringify(o.maxzoom),l+="|"+JSON.stringify(o.filter),l+="|"+JSON.stringify(o.layout&&o.layout["line-cap"]),l+="|"+JSON.stringify(o.layout&&o.layout["line-join"]),u.hasDataDrivenLine&&(l+="|"+JSON.stringify(i)),n.push({key:l,layer:o})}++i}}catch(h){a.e(h)}finally{a.f()}this._assignRefLayers(t),this._assignRefLayers(n)}},{key:"_assignRefLayers",value:function(e){var t,n;e.sort((function(e,t){return e.key<t.key?-1:e.key>t.key?1:0}));for(var r=e.length,i=0;i<r;i++){var a=e[i];if(a.key===t)a.layer.refLayerId=n;else if(t=a.key,n=a.layer.id,1===a.layer.type&&!a.layer.getPaintProperty("fill-outline-color"))for(var o=i+1;o<r;o++){var s=e[o];if(s.key!==t)break;if(s.layer.getPaintProperty("fill-outline-color")){e[i]=s,e[o]=a,n=s.layer.id;break}}}}},{key:"_create",value:function(e,t,n){var r=1-(1+t)*(1/(n.length+1)),i=this._runningId++;switch(e.type){case"background":return new o.a(0,e,r,i);case"fill":return new o.c(1,e,r,i);case"line":return new o.e(2,e,r,i);case"symbol":return new o.f(3,e,r,i);case"raster":throw new Error("Unsupported vector tile raster layer");case"circle":return new o.b(4,e,r,i)}throw new Error("Unknown vector tile layer")}}],[{key:"_recreateLayer",value:function(e,t){switch(e.type){case"background":return new o.a(0,e,t.z,t.uid);case"fill":return new o.c(1,e,t.z,t.uid);case"line":return new o.e(2,e,t.z,t.uid);case"symbol":return new o.f(3,e,t.z,t.uid);case"raster":throw new Error("Unsupported vector tile raster layer");case"circle":return new o.b(4,e,t.z,t.uid)}}}]),e}();t.a=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e);return!isNaN(t)};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(812)),i=c(n(813)),a=c(n(815)),o=c(n(816)),s=c(n(818));function c(e){return e&&e.__esModule?e:{default:e}}var u={code:"en-US",formatDistance:r.default,formatLong:i.default,formatRelative:a.default,localize:o.default,match:s.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,r.default)(t);return(0,i.default)(e,-n)};var r=o(n(110)),i=o(n(526)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e<0?"-":"",r=Math.abs(e).toString();for(;r.length<t;)r="0"+r;return n+r},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,r.default)(e),n=(0,i.default)(t).getTime()-(0,a.default)(t).getTime();return Math.round(n/c)+1};var r=s(n(75)),i=s(n(441)),a=s(n(824)),o=s(n(59));function s(e){return e&&e.__esModule?e:{default:e}}var c=6048e5;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e),n=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(n+1,0,4),o.setUTCHours(0,0,0,0);var s=(0,i.default)(o),c=new Date(0);c.setUTCFullYear(n,0,4),c.setUTCHours(0,0,0,0);var u=(0,i.default)(c);return t.getTime()>=s.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1};var r=o(n(75)),i=o(n(441)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(1,arguments);var n=(0,r.default)(e),s=(0,i.default)(n,t).getTime()-(0,a.default)(n,t).getTime();return Math.round(s/c)+1};var r=s(n(75)),i=s(n(442)),a=s(n(825)),o=s(n(59));function s(e){return e&&e.__esModule?e:{default:e}}var c=6048e5;e.exports=t.default},function(e,t,n){"use strict";function r(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function i(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={p:i,P:function(e,t){var n,a=e.match(/(P+)(p+)?/),o=a[1],s=a[2];if(!s)return r(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",r(o,t)).replace("{{time}}",i(s,t))}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isProtectedDayOfYearToken=function(e){return-1!==r.indexOf(e)},t.isProtectedWeekYearToken=function(e){return-1!==i.indexOf(e)},t.throwProtectedError=function(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))};var r=["D","DD"],i=["YY","YYYY"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,r.default)(t);return(0,i.default)(e,6e4*n)};var r=o(n(110)),i=o(n(526)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,r.default)(t);return(0,i.default)(e,n*s)};var r=o(n(110)),i=o(n(526)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}var s=36e5;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,r.default)(t),o=7*n;return(0,i.default)(e,o)};var r=o(n(110)),i=o(n(528)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,r.default)(t);return(0,i.default)(e,12*n)};var r=o(n(110)),i=o(n(529)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var n=(0,i.default)(e),s=(0,r.default)(t),c=n.getFullYear(),u=n.getDate(),l=new Date(0);l.setFullYear(c,s,15),l.setHours(0,0,0,0);var h=(0,a.default)(l);return n.setMonth(s,Math.min(u,h)),n};var r=s(n(110)),i=s(n(75)),a=s(n(847)),o=s(n(59));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getMonth(),a=n-n%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return fe}));var r=n(38),i=n(13),a=n(2),o=n(3),s=n(4),c=n(95),u=n(39),l=n(29),h=n(72),f=n(53),d=n(77),p=n(81);function b(e,t){return e[0]*t[1]-e[1]*t[0]}function v(e,t,n){var r=(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0]);return Math.abs(r)/Object(f.i)(t,n)}function y(e,t,n){var r=Object(f.g)(n,t)/Object(f.q)(n);return Object(f.a)(e,n,r)}function m(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;return Object(f.d)(g,r,n),Object(f.d)(O,t,i),y(j,O,g),Object(f.h)(e,i,j)}var g=Object(h.a)(),O=Object(h.a)(),j=Object(h.a)(),w=n(61),_=n(57),x=n(5),k=n(6),S=function e(){Object(a.a)(this,e)},E=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this)).start=e,i.end=r,i}return Object(o.a)(n,[{key:"objectEqual",value:function(e){return e instanceof n&&Object(p.f)(this.start,e.start)&&Object(p.f)(this.end,e.end)}}]),n}(S),T=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e,r)).dir=Object(h.a)(),i.p=Object(h.a)(),i}return Object(o.a)(n,[{key:"objectEqual",value:function(e){return e instanceof n&&Object(w.a)(Object(_.a)(n.prototype),"objectEqual",this).call(this,e)}},{key:"check",value:function(e){return Object(f.d)(this.dir,this.end,this.start),Object(f.d)(this.p,e,this.start),Object(f.g)(this.dir,this.p)>=0&&v(e,this.start,this.end)<d.a.pointOnLineThreshold}}]),n}(E),M=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(e,r){return Object(a.a)(this,n),t.call(this,e,r)}return Object(o.a)(n,[{key:"objectEqual",value:function(e){return e instanceof n&&Object(w.a)(Object(_.a)(n.prototype),"objectEqual",this).call(this,e)}},{key:"check",value:function(e){return v(e,this.start,this.end)<d.a.pointOnLineThreshold}}]),n}(E),C=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this)).left=e,i.right=r,i}return Object(o.a)(n,[{key:"objectEqual",value:function(e){return e instanceof n&&this.left.objectEqual(e.left)&&this.right.objectEqual(e.right)}},{key:"check",value:function(){return!1}}]),n}(S),A=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this)).point1=e,i.point2=r,i}return Object(o.a)(n,[{key:"objectEqual",value:function(e){return e instanceof n&&Object(p.f)(this.point1,e.point1)&&Object(p.f)(this.point2,e.point2)}},{key:"check",value:function(){return!1}}]),n}(S),P=n(43),I=n(713),D=function(){function e(t,n,r){Object(a.a)(this,e),this.coordinateHelper=t,this.targetPoint=n,this.constraint=r}return Object(o.a)(e,[{key:"visualize",value:function(e,t,n){return Object(c.b)([this.visualizeTargetHints(e,t,n),this.visualizeReferenceHints(e,t,n)])}}]),e}(),L=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(e,r,i,o){var s;return Object(a.a)(this,n),(s=t.call(this,e,r,new C(i.constraint,o.constraint))).left=i,s.right=o,s}return Object(o.a)(n,[{key:"visualizeTargetHints",value:function(e,t,n){return Object(c.b)([this.left.visualize(e,t,n),this.right.visualize(e,t,n)])}},{key:"visualizeReferenceHints",value:function(e,t,n){return Object(c.a)(new I.a({view:e,primitive:"circle",geometry:this.coordinateHelper.createPoint(n),elevationInfo:t,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:P.a.toUnitRGBA(d.a.orange),pixelSnappingEnabled:!1}))}}]),n}(D),R=n(226),N=n(44),F=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(e){var r=e.coordinateHelper,i=e.lineStart,o=e.lineEnd,s=e.targetPoint;return Object(a.a)(this,n),t.call(this,r,s,new M(i,o))}return Object(o.a)(n,[{key:"visualizeReferenceHints",value:function(e,t){return Object(c.a)(Object(p.d)(3,this.lineStart(),this.lineEnd(),this.coordinateHelper,t,e))}},{key:"visualizeTargetHints",value:function(e,t,n){return Object(c.a)(Object(p.d)(0,this.lineEndClosestToTarget(),n,this.coordinateHelper,t,e))}},{key:"lineEndClosestToTarget",value:function(){var e=this.lineStart(),t=this.lineEnd();return Object(N.q)(Object(f.g)(Object(f.d)(V,t,e),Object(f.d)(z,this.targetPoint,e)))>0?t:e}},{key:"lineStart",value:function(){return this.constraint.start}},{key:"lineEnd",value:function(){return this.constraint.end}}]),n}(D),z=Object(h.a)(),V=Object(h.a)(),U=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.enabled,i=void 0===r?d.a.lineSnapper.enabled:r,o=e.proximityThreshold,s=void 0===o?d.a.lineProximityThreshold:o,c=e.shortLineThreshold,u=void 0===c?d.a.shortLineThreshold:c;return Object(a.a)(this,n),t.call(this,{enabled:i,proximityThreshold:s,shortLineThreshold:u})}return Object(o.a)(n,[{key:"snapNewVertex",value:function(e,t){var n=t.geometry.data.components[0],r=n.edges.length,i=[];if(r<1)return i;var a=t.geometry.data.coordinateHelper,o=a.fromPoint(e),s=Object(p.b)(o,a,t.elevationInfo,t.view),c=n.edges[r-1],u=c;do{this.edgeExceedsShortLineThreshold(u,t)&&this._processCandidateProposal(u.left.pos,u.right.pos,e,s,t,i),u=u.left.left}while(u&&u!==c);return i}},{key:"snapExistingVertex",value:function(e,t){var n=[],r=Object(s.n)(t.vertexHandle),i=r.component;if(i.edges.length<2)return n;var a=t.geometry.data.coordinateHelper,o=a.fromPoint(e),c=Object(p.b)(o,a,t.elevationInfo,t.view),u=r.left,l=r.right;u&&l&&this.edgeExceedsShortLineThreshold(u,t)&&this.edgeExceedsShortLineThreshold(l,t)&&this._processCandidateProposal(u.left.pos,l.right.pos,e,c,t,n);var h=i.edges[0],f=h;do{f!==r.left&&f!==r.right&&this.edgeExceedsShortLineThreshold(f,t)&&this._processCandidateProposal(f.left.pos,f.right.pos,e,c,t,n),f=f.right.right}while(f&&f!==h);return n}},{key:"_processCandidateProposal",value:function(e,t,n,r,i,a){var o=m(Object(h.a)(),Object(h.d)(n.x,n.y),e,t),s=i.geometry.data.coordinateHelper,c=s.fromXYZ(o,n.hasZ?n.z:0);Object(p.g)(r,Object(p.b)(c,s,i.elevationInfo,i.view))<this.squaredProximityTreshold(i.pointer)&&a.push(new F({coordinateHelper:i.geometry.data.coordinateHelper,lineStart:e,lineEnd:t,targetPoint:c}))}}]),n}(R.a),B=n(9),G=n(36),q=n(24),H=n(60),W=n(117),Y=n(90),J=n(261),K=n(175),X=n(89),Q=n(354),Z=n(273),$=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e))._handles=new H.a,r._location=Object(q.e)(),r._direction=Object(q.g)(1,0,0),r._width=1,r._offset=1,r._length=18,r._color=Object(Z.b)(1,0,1,1),r._renderOccluded=4,r.applyProps(e),r}return Object(o.a)(n,[{key:"location",get:function(){return this._location},set:function(e){Object(B.n)(this._location,e)||(Object(B.h)(this._location,e),this.updateGeometry())}},{key:"direction",get:function(){return this._direction},set:function(e){Object(B.n)(this._direction,e)||(Object(B.h)(this._direction,e),this.updateGeometry())}},{key:"setDirectionFromPoints",value:function(e,t){Object(B.o)(this._direction,Object(B.g)(this._direction,t,e)),this.updateGeometry()}},{key:"width",get:function(){return this._width},set:function(e){e!==this._width&&(this._width=e,this.updateMaterial())}},{key:"offset",get:function(){return this._offset},set:function(e){e!==this._offset&&(this._offset=e,this.updateGeometry())}},{key:"length",get:function(){return this._length},set:function(e){e!==this._length&&(this._length=e,this.updateGeometry())}},{key:"color",get:function(){return this._color},set:function(e){Object(Y.g)(e,this._color)||(Object(Y.c)(this._color,e),this.updateMaterial())}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}},{key:"createExternalResources",value:function(){var e=this,t=new Q.a(this.materialParameters,"parallelLineVisualElement");this._handles.add(this.view.state.watch("camera",(function(){e.updateGeometry()}))),this._externalResources={material:t}}},{key:"destroyExternalResources",value:function(){this._handles.removeAll(),this._externalResources=null}},{key:"createGeometries",value:function(e){var t=new K.a(J.a.createPolylineGeometry([Object(q.e)(),Object(q.e)()]),"parallelLineVisualElement"),n=new K.a(J.a.createPolylineGeometry([Object(q.e)(),Object(q.e)()]),"parallelLineVisualElement"),r=Object(s.n)(this._externalResources).material;e.addGeometry(t,r,W.a),e.addGeometry(n,r,W.a),this.updateVertices(e)}},{key:"forEachExternalResource",value:function(e){Object(s.h)(this._externalResources)&&e(this._externalResources.material)}},{key:"updateMaterial",value:function(){Object(s.g)(this._externalResources)||this._externalResources.material.setParameterValues(this.materialParameters)}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}},{key:"updateGeometry",value:function(){var e=this.object;Object(s.g)(e)||this.updateVertices(e)}},{key:"updateVertices",value:function(e){var t=this.view.state.camera;t.projectToScreen(this.location,te),Object(B.c)(ee,this.location,this.direction),t.projectToScreen(ee,ne),Object(f.e)(ne,Object(f.d)(ne,ne,te)),this.updateVertexAttributes(t,e,0,te,ne,1),this.updateVertexAttributes(t,e,1,te,ne,-1)}},{key:"updateVertexAttributes",value:function(e,t,n,r,i,a){var o=t.geometryRecords[n].geometry.data.getVertexAttr()[X.c.POSITION].data,s=Object(f.a)(re,Object(f.r)(re,i[1]*a,i[0]*-a),this.offset+this.width/2),c=Object(f.h)(ie,Object(f.h)(ie,Object(f.h)(ie,r,Object(f.a)(ie,i,this.length/2)),s),s),u=Object(f.h)(ae,c,Object(f.a)(ae,i,-this.length));e.unprojectFromScreen(c,ee),o[0]=ee[0],o[1]=ee[1],o[2]=ee[2],e.unprojectFromScreen(u,ee),o[3]=ee[0],o[4]=ee[1],o[5]=ee[2],t.geometryVertexAttrsUpdated(n)}}]),n}(n(358).a),ee=Object(q.e)(),te=Object(G.f)(),ne=Object(G.f)(),re=Object(G.f)(),ie=Object(G.f)(),ae=Object(G.f)(),oe=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(e){var r,i=e.coordinateHelper,o=e.referenceLine,s=e.lineStart,c=e.targetPoint;Object(a.a)(this,n);var u=i.clone(s);return Object(f.d)(u,Object(f.h)(u,u,o.right.pos),o.left.pos),(r=t.call(this,i,c,new M(s,u)))._referenceLines=[{edge:o,fadeLeft:!0,fadeRight:!0}],r}return Object(o.a)(n,[{key:"visualizeReferenceHints",value:function(e,t,n){var i=this;return Object(c.b)([].concat(Object(r.a)(this._referenceLines.map((function(n){return Object(c.a)(Object(p.c)(1,n.edge,i.coordinateHelper,t,e,n.fadeLeft,n.fadeRight))}))),[Object(c.a)(this.createParallelLineVisualElement(e,t,this.constraint.start,n))]))}},{key:"visualizeTargetHints",value:function(e,t,n){return Object(c.b)([Object(c.a)(Object(p.d)(0,this.constraint.start,n,this.coordinateHelper,t,e))])}},{key:"addReferenceLine",value:function(e){var t={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach((function(n){e.right.right===n.edge&&(n.fadeLeft=!1,t.fadeRight=!1),e.left.left===n.edge&&(n.fadeRight=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)}},{key:"createParallelLineVisualElement",value:function(e,t,n,r){var i=Object(p.a)(n,this.coordinateHelper,t,e),a=Object(p.a)(r,this.coordinateHelper,t,e),o=Object(B.f)(a,i,a,.5),s=new $({view:e,attached:!1,offset:d.a.parallelLineHintOffset,length:d.a.parallelLineHintLength,width:d.a.parallelLineHintWidth,color:P.a.toUnitRGBA(d.a.orange),location:o,renderOccluded:16});return s.setDirectionFromPoints(i,o),s.attached=!0,s}}]),n}(D),se=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.enabled,o=void 0===i?d.a.lineSnapper.enabled:i,s=r.proximityThreshold,c=void 0===s?d.a.lineProximityThreshold:s,u=r.shortLineThreshold,l=void 0===u?d.a.shortLineThreshold:u;return Object(a.a)(this,n),(e=t.call(this,{enabled:o,proximityThreshold:c,shortLineThreshold:l}))._tmpProjection=Object(h.a)(),e}return Object(o.a)(n,[{key:"snapNewVertex",value:function(e,t){var n=t.geometry.data.components[0],r=n.edges.length,i=n.vertices.length,a=[];if(r<2)return a;var o=t.geometry.data.coordinateHelper.fromPoint(e),s=Object(p.b)(o,t.geometry.data.coordinateHelper,t.elevationInfo,t.view),c=n.vertices[i-1],u=n.vertices[0],l=n.edges[r-1],h=l;do{this.edgeExceedsShortLineThreshold(h,t)&&(this._checkEdgeForParalleLines(h,c.pos,e,s,t,a),this._checkEdgeForParalleLines(h,u.pos,e,s,t,a)),h=h.left.left}while(h&&h!==l);return a}},{key:"snapExistingVertex",value:function(e,t){var n=[],r=Object(s.n)(t.vertexHandle),i=r.component;if(i.edges.length<3)return n;var a=t.geometry.data.coordinateHelper.fromPoint(e),o=Object(p.b)(a,t.geometry.data.coordinateHelper,t.elevationInfo,t.view),c=r.left,u=r.right,l=i.vertices[0],h=i.vertices.length,f=i.vertices[h-1],d=i.edges[0],b=d;do{b!==c&&b!==u&&this.edgeExceedsShortLineThreshold(b,t)&&(c&&this._checkEdgeForParalleLines(b,c.left.pos,e,o,t,n),u&&this._checkEdgeForParalleLines(b,u.right.pos,e,o,t,n),r===l?this._checkEdgeForParalleLines(b,f.pos,e,o,t,n):r===f&&this._checkEdgeForParalleLines(b,l.pos,e,o,t,n)),b=b.right.right}while(b&&b!==d);return n}},{key:"_checkEdgeForParalleLines",value:function(e,t,n,r,i,a){var o=e.left.pos,s=e.right.pos;if(m(this._tmpProjection,t,o,s),!(Object(f.j)(this._tmpProjection,t)<d.a.parallelLineThreshold)){m(this._tmpProjection,Object(h.d)(n.x,n.y),o,s,t);var c=i.geometry.data.coordinateHelper,u=c.fromXYZ(this._tmpProjection,n.hasZ?n.z:0);if(Object(p.g)(r,Object(p.b)(u,c,i.elevationInfo,i.view))<this.squaredProximityTreshold(i.pointer)){if(this.parallelToPreviousCandidate(e,a))return;a.push(new oe({coordinateHelper:c,referenceLine:e,lineStart:t,targetPoint:u}))}}}},{key:"parallelToPreviousCandidate",value:function(e,t){var n,r=e.left.pos,a=e.right.pos,o=Object(i.a)(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(m(this._tmpProjection,a,s.constraint.start,s.constraint.end,r),Object(f.j)(this._tmpProjection,a)<d.a.parallelLineThreshold)return s.addReferenceLine(e),!0}}catch(c){o.e(c)}finally{o.f()}return!1}}]),n}(R.a),ce=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(e){var r,i=e.coordinateHelper,o=e.targetPoint,s=e.constraint,c=e.previousVertex,u=e.centerVertex;return Object(a.a)(this,n),(r=t.call(this,i,o,s))._previousVertex=c,r._centerVertex=u,r}return Object(o.a)(n,[{key:"visualizeTargetHints",value:function(e,t,n){return Object(c.a)(Object(p.d)(0,this.constraint.start,n,this.coordinateHelper,t,e))}},{key:"visualizeReferenceHints",value:function(e,t,n){return Object(c.b)([Object(c.a)(Object(p.d)(2,this._previousVertex,this.constraint.start,this.coordinateHelper,t,e)),Object(c.a)(Object(p.e)(this._previousVertex,this._centerVertex,n,this.coordinateHelper,t,e))])}}]),n}(D),ue=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.enabled,o=void 0===i?d.a.lineSnapper.enabled:i,s=r.proximityThreshold,c=void 0===s?d.a.lineProximityThreshold:s,u=r.shortLineThreshold,l=void 0===u?d.a.shortLineThreshold:u;return Object(a.a)(this,n),(e=t.call(this,{enabled:o,proximityThreshold:c,shortLineThreshold:l}))._tmp=Object(h.a)(),e}return Object(o.a)(n,[{key:"snapNewVertex",value:function(e,t){var n=t.geometry.data.components[0],r=n.vertices.length,i=[];if(r<2)return i;var a=t.geometry.data.coordinateHelper,o=a.fromPoint(e),s=Object(p.b)(o,t.geometry.data.coordinateHelper,t.elevationInfo,t.view),c=n.vertices[r-1];this._checkForSnappingCandidate(i,c.left,c.pos,a.fromPoint(e),c.left.left.pos,c.pos,t,e,s);var u=n.vertices[0];return this._checkForSnappingCandidate(i,u.right,u.pos,a.fromPoint(e),u.right.right.pos,u.pos,t,e,s),i}},{key:"snapExistingVertex",value:function(e,t){var n=[],r=Object(s.n)(t.vertexHandle),i=r.component,a=i.vertices.length;if(a<3)return n;var o=t.geometry.data.coordinateHelper.fromPoint(e),c=Object(p.b)(o,t.geometry.data.coordinateHelper,t.elevationInfo,t.view),u=r.left,l=r.right,h=i.vertices[0],f=i.vertices[a-1];if(!u)return this._checkForSnappingCandidate(n,h.right.right.right,h.right.right.pos,o,h.right.right.right.right.pos,h.right.right.pos,t,e,c),n;if(!l)return this._checkForSnappingCandidate(n,f.left.left.left,f.left.left.pos,o,f.left.left.left.left.pos,f.left.left.pos,t,e,c),n;if(u&&u.left.left){var d=u.left.left;this._checkForSnappingCandidate(n,d,u.left.pos,o,d.left.pos,u.left.pos,t,e,c)}if(l&&l.right.right){var b=l.right.right;this._checkForSnappingCandidate(n,b,l.right.pos,o,b.right.pos,l.right.pos,t,e,c)}return n}},{key:"_checkForSnappingCandidate",value:function(e,t,n,r,i,a,o,s,c){if(this.edgeExceedsShortLineThreshold(t,o)){Object(f.d)(this._tmp,t.right.pos,t.left.pos);var u=Object(h.d)(this._tmp[1],-this._tmp[0]),l=Object(f.g)(u,Object(f.d)(this._tmp,r,n))/Object(f.q)(u),d=o.geometry.data.coordinateHelper,b=d.fromXYZ(Object(f.p)(Object(h.a)(),a,u,l),s.hasZ?s.z:0);Object(p.g)(c,Object(p.b)(b,d,o.elevationInfo,o.view))<this.squaredProximityTreshold(o.pointer)&&e.push(new ce({coordinateHelper:d,targetPoint:b,constraint:new T(a,Object(f.p)(d.createNew(),a,u,Object(N.q)(l))),previousVertex:i,centerVertex:a}))}}}]),n}(R.a),le=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(e){var r=e.coordinateHelper,i=e.targetPoint,o=e.point1,s=e.point2;return Object(a.a)(this,n),t.call(this,r,i,new A(o,s))}return Object(o.a)(n,[{key:"visualizeTargetHints",value:function(){return Object(c.a)(null)}},{key:"visualizeReferenceHints",value:function(e,t,n){return Object(c.b)([Object(c.a)(Object(p.d)(2,n,this.constraint.point1,this.coordinateHelper,t,e)),Object(c.a)(Object(p.d)(2,n,this.constraint.point2,this.coordinateHelper,t,e)),Object(c.a)(Object(p.e)(this.constraint.point1,n,this.constraint.point2,this.coordinateHelper,t,e))])}}]),n}(D),he=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.enabled,i=void 0===r?d.a.lineSnapper.enabled:r,o=e.proximityThreshold,s=void 0===o?d.a.lineProximityThreshold:o,c=e.shortLineThreshold,u=void 0===c?d.a.shortLineThreshold:c;return Object(a.a)(this,n),t.call(this,{enabled:i,proximityThreshold:s,shortLineThreshold:u})}return Object(o.a)(n,[{key:"snapNewVertex",value:function(e,t){var n=t.geometry.data.components[0],r=[],i=n.vertices.length;if("polygon"!==t.geometry.type||i<2)return r;var a=n.vertices[0],o=n.vertices[i-1];return this._processCandidateProposal(a.pos,o.pos,e,t,r),r}},{key:"snapExistingVertex",value:function(e,t){var n=[],r=Object(s.n)(t.vertexHandle),i=r.component;return i.edges.length<2?n:"polyline"!==t.geometry.type||0!==r.index&&r.index!==i.vertices.length-1?(this._processCandidateProposal(r.left.left.pos,r.right.right.pos,e,t,n),n):n}},{key:"_processCandidateProposal",value:function(e,t,n,r,i){if(this.exceedsShortLineThreshold(e,t,r)){var a=Object(f.m)(Object(h.a)(),e,t,.5),o=.5*Object(f.i)(e,t),s=function(e,t,n,r){Object(f.d)(g,t,n);var i=r/Object(f.l)(g);return Object(f.p)(e,n,g,i)}(Object(h.a)(),[n.x,n.y],a,o),c=r.geometry.data.coordinateHelper,u=c.fromXYZ(s,n.hasZ?n.z:0),l=c.fromPoint(n),d=Object(p.b)(l,c,r.elevationInfo,r.view);Object(p.g)(d,Object(p.b)(u,c,r.elevationInfo,r.view))<this.squaredProximityTreshold(r.pointer)&&i.push(new le({coordinateHelper:c,targetPoint:u,point1:e,point2:t}))}}}]),n}(R.a),fe=function(){function e(t){var n=this;Object(a.a)(this,e),this._snapper=new u.a,this._currentSnappingCandidate=null,this._visualElementHandles=Object(c.c)(),this._optionsHandle=Object(c.c)(),this._squaredMouseProximityTreshold=d.a.pointProximityThreshold*d.a.pointProximityThreshold,this._squaredTouchProximityThreshold=d.a.pointProximityThreshold*d.a.pointProximityThreshold*d.a.touchSensitivityMultiplier*d.a.touchSensitivityMultiplier,this._snapper.push(new se({enabled:t.effectiveSelfEnabled})),this._snapper.push(new U({enabled:t.effectiveSelfEnabled})),this._snapper.push(new ue({enabled:t.effectiveSelfEnabled})),this._snapper.push(new he({enabled:t.effectiveSelfEnabled})),this._optionsHandle=Object(l.d)(t,"effectiveSelfEnabled",(function(){var e,r=Object(i.a)(n._snapper);try{for(r.s();!(e=r.n()).done;){e.value.enabled=t.effectiveSelfEnabled}}catch(a){r.e(a)}finally{r.f()}n.doneSnapping()}))}return Object(o.a)(e,[{key:"snap",value:function(e,t){var n,a=[],o=Object(i.a)(this._snapper.items);try{for(o.s();!(n=o.n()).done;){var s=n.value;a.push.apply(a,Object(r.a)(s.snap(e,t)))}}catch(c){o.e(c)}finally{o.f()}return this._aggregateSnappingCandidates(a,e,t)}},{key:"destroy",value:function(){this.doneSnapping(),this._optionsHandle.remove()}},{key:"doneSnapping",value:function(){this._visualElementHandles.remove(),this._currentSnappingCandidate=null}},{key:"_aggregateSnappingCandidates",value:function(e,t,n){var r=e.length,i=n.geometry.data.coordinateHelper.fromPoint(t);if(Object(s.h)(this._currentSnappingCandidate)){if(this.isCurrentIntersectionConstraintStillActive(e)&&Object(f.i)(i,this._currentSnappingCandidate.targetPoint)<this.squaredPointProximityThreshold(n.pointer))return n.geometry.data.coordinateHelper.createDehydratedPoint(this._currentSnappingCandidate.targetPoint);var a=de(e,this._currentSnappingCandidate);if(this.doneSnapping(),a>=0){var o=e[a],c=[];if(o.constraint instanceof E){for(var u=0;u<r;++u)if(u!==a){var l=e[u];if(l.constraint instanceof E){var h=this._intersectRaysAndLines(o,l,n);if(Object(s.h)(h)){var d=Object(p.g)(Object(p.b)(i,n.geometry.data.coordinateHelper,n.elevationInfo,n.view),Object(p.b)(h.targetPoint,n.geometry.data.coordinateHelper,n.elevationInfo,n.view));c.push([h,d])}}}if(c.length>0&&(c.sort((function(e,t){return e[1]-t[1]})),c[0][1]<this.squaredPointProximityThreshold(n.pointer)))return this.updateSnappingCandidate(c[0][0],e,n)}return this.updateSnappingCandidate(o,e,n)}}if(r>0){for(var b=0,v=Object(f.i)(i,e[0].targetPoint),y=1;y<r;++y){var m=Object(f.i)(i,e[y].targetPoint);m<v&&(v=m,b=y)}return this.updateSnappingCandidate(e[b],e,n)}return t}},{key:"_intersectRaysAndLines",value:function(e,t,n){var r=e.constraint.start,i=e.constraint.end,a=t.constraint.start,o=t.constraint.end,s=Object(f.d)(Object(h.a)(),i,r),c=Object(f.d)(Object(h.a)(),o,a),u=b(s,c);if(Math.abs(u)<=d.a.intersectionParallelLineThreshold)return null;var l=Object(f.d)(Object(h.a)(),r,a),p=b(c,l)/u,v=b(s,l)/u,y=n.geometry.data.coordinateHelper;if(p>=0){if(v>=0||t.constraint instanceof M){var m=y.clone(e.targetPoint);return Object(f.p)(m,r,s,p),new L(y,m,e,t)}}else if(e.constraint instanceof M&&(v>=0||t.constraint instanceof M)){var g=y.clone(e.targetPoint);return Object(f.p)(g,r,s,p),new L(y,g,e,t)}return null}},{key:"isCurrentIntersectionConstraintStillActive",value:function(e){if(this._currentSnappingCandidate instanceof L){var t=this._currentSnappingCandidate.left,n=this._currentSnappingCandidate.right,r=de(e,t),i=de(e,n);return r>=0&&i>=0}return!1}},{key:"updateSnappingCandidate",value:function(e,t,n){this._currentSnappingCandidate=e;var r,a=this._currentSnappingCandidate.targetPoint,o=[e.visualize(n.view,n.elevationInfo,a)],s=Object(i.a)(t);try{for(s.s();!(r=s.n()).done;){var u=r.value;if(e instanceof L){if(u.constraint.objectEqual(e.left.constraint)||u.constraint.objectEqual(e.right.constraint))continue}else if(u.constraint.objectEqual(e.constraint))continue;u.constraint.check(a)&&o.push(u.visualizeReferenceHints(n.view,n.elevationInfo,a))}}catch(l){s.e(l)}finally{s.f()}return this._visualElementHandles=Object(c.b)(o),n.geometry.data.coordinateHelper.createDehydratedPoint(a)}},{key:"squaredPointProximityThreshold",value:function(e){return"touch"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityTreshold}}]),e}();function de(e,t){for(var n=-1,r=0;r<e.length;++r)if(t.constraint.objectEqual(e[r].constraint)){n=r;break}return n}},function(e,t,n){"use strict";n.r(t),n.d(t,"Popper",(function(){return M})),n.d(t,"placements",(function(){return T})),n.d(t,"Manager",(function(){return j})),n.d(t,"Reference",(function(){return I}));var r=n(727),i=n.n(r),a=n(337),o=n.n(a),s=n(374),c=n.n(s),u=n(93),l=n.n(u),h=n(135),f=n.n(h),d=n(728),p=n.n(d),b=n(19),v=n(553),y=n(554),m=n.n(y),g=m()(),O=m()(),j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,f()(l()(l()(t)),"referenceNode",void 0),f()(l()(l()(t)),"setReferenceNode",(function(e){e&&t.referenceNode!==e&&(t.referenceNode=e,t.forceUpdate())})),t}c()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.referenceNode=null},n.render=function(){return b.createElement(g.Provider,{value:this.referenceNode},b.createElement(O.Provider,{value:this.setReferenceNode},this.props.children))},t}(b.Component),w=function(e){return Array.isArray(e)?e[0]:e},_=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},x=function(e,t){if("function"===typeof e)return _(e,t);null!=e&&(e.current=t)},k={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},S={},E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,f()(l()(l()(t)),"state",{data:void 0,placement:void 0}),f()(l()(l()(t)),"popperInstance",void 0),f()(l()(l()(t)),"popperNode",null),f()(l()(l()(t)),"arrowNode",null),f()(l()(l()(t)),"setPopperNode",(function(e){e&&t.popperNode!==e&&(x(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),f()(l()(l()(t)),"setArrowNode",(function(e){t.arrowNode=e})),f()(l()(l()(t)),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),f()(l()(l()(t)),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:o()({},t.props.modifiers,{arrow:o()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),f()(l()(l()(t)),"getPopperStyle",(function(){return t.popperNode&&t.state.data?o()({position:t.state.data.offsets.popper.position},t.state.data.styles):k})),f()(l()(l()(t)),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),f()(l()(l()(t)),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:S})),f()(l()(l()(t)),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),f()(l()(l()(t)),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),f()(l()(l()(t)),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=l()(l()(t)).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new v.a(n,e,t.getOptions()))})),f()(l()(l()(t)),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}c()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&p()(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){x(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return w(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(b.Component);f()(E,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});var T=v.a.placements;function M(e){var t=e.referenceElement,n=i()(e,["referenceElement"]);return b.createElement(g.Consumer,null,(function(e){return b.createElement(E,o()({referenceElement:void 0!==t?t:e},n))}))}var C=n(545),A=n.n(C),P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,f()(l()(l()(t)),"refHandler",(function(e){x(t.props.innerRef,e),_(t.props.setReferenceNode,e)})),t}c()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){x(this.props.innerRef,null)},n.render=function(){return A()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),w(this.props.children)({ref:this.refHandler})},t}(b.Component);function I(e){return b.createElement(O.Consumer,null,(function(t){return b.createElement(P,o()({setReferenceNode:t},e))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ne}));var r=n(2),i=n(3),a=n(4),o=n(44),s=n(24),c=n(9),u=n(138),l=n(116),h=n(90),f=n(165),d=n(51),p=n(26),b=n(261),v=n(10),y=n(5),m=n(6),g=n(36),O=n(87),j=n(115),w=n(263),_=n(117),x=n(72),k=n(220),S=n(53),E=n(205),T=n(221),M=n(222),C=n(334);function A(e){return(t=e)instanceof Float32Array&&t.length>=16||function(e){return Array.isArray(e)&&e.length>=16}(e);var t}var P=n(618),I=n(197),D=n(265),L=n(301),R=n(349),N=n(0),F=n(243),z=n(244),V=n(68),U=n(245),B=n(242),G=n(107),q=n(227),H=n(202),W=n(297),Y=n(401),J=n(456),K=n(241),X=n(341),Q=n(563),Z=n(160),$=function(e){Object(y.a)(n,e);var t=Object(m.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"initializeProgram",value:function(e){var t=n.shader.get(),r=this.configuration,i=t.build({output:r.output,FrontFacePass:2===r.transparencyPassType,viewingMode:e.viewingMode,occlusionTestEnabled:r.occlusionTestEnabled,signedDistanceFieldEnabled:r.sdf,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!0,debugDrawBorder:r.debugDrawBorder,binaryHighlightOcclusionEnabled:r.binaryHighlightOcclusion,screenCenterOffsetUnitsEnabled:r.screenCenterOffsetUnitsEnabled,screenSizePerspectiveEnabled:r.screenSizePerspective,verticalOffsetEnabled:r.verticalOffset,pixelSnappingEnabled:r.pixelSnappingEnabled,vvSize:r.vvSize,vvColor:r.vvColor,vvInstancingEnabled:!1,isDraped:r.isDraped});return new B.a(e.rctx,i.generateSource("vertex"),i.generateSource("fragment"),U.a)}},{key:"bindPass",value:function(e,t,n){q.a.bindProjectionMatrix(this.program,n.camera.projectionMatrix),this.program.setUniform1f("cameraGroundRelative",n.camera.aboveGround?1:-1),this.program.setUniform1f("perDistancePixelRatio",Math.tan(n.camera.fovY/2)/(n.camera.fullViewport[2]/2)),this.program.setUniformMatrix4fv("viewNormal",n.camera.viewInverseTransposeMatrix),this.program.setUniform1f("polygonOffset",t.shaderPolygonOffset),Q.a.bindUniforms(this.program,t,n),W.a.bindUniforms(this.program,t),this.program.setUniform1f("pixelRatio",n.camera.pixelRatio||1),q.a.bindViewport(this.program,n),6===this.configuration.output?J.a.bindUniforms(this.program):(Y.a.bindUniforms(this.program,n),R.a.bindUniforms(this.program,t,n.camera.pixelRatio||1),X.a.bindUniforms(this.program,t),this.configuration.occlusionTestEnabled&&Y.a.bindVisibilityTexture(e,this.program,n)),4===this.configuration.output&&K.a.bindOutputHighlight(e,this.program,n)}},{key:"bindDraw",value:function(e){q.a.bindView(this.program,e),q.a.bindCamPosition(this.program,e.origin,e.camera.viewInverseTransposeMatrix),H.a.bindUniformsWithOrigin(this.program,this.configuration,e)}},{key:"setPipelineState",value:function(e){var t=this.configuration,n=3===e,r=2===e,i=this.configuration.polygonOffsetEnabled&&ee,a=(n||r)&&4!==t.output?(t.depthEnabled||6===t.output)&&G.c:null;return Object(G.d)({blending:0===t.output||7===t.output||4===t.output?n?te:Object(Z.a)(e):null,depthTest:{func:515},depthWrite:a,colorWrite:G.b,polygonOffset:i})}},{key:"initializePipeline",value:function(){return this.setPipelineState(this.configuration.transparencyPassType)}},{key:"primitiveType",get:function(){return 6===this.configuration.output?0:4}}]),n}(z.a);$.shader=new F.a(R.b,(function(){return n.e(130).then(n.bind(null,1205))}));var ee={factor:0,units:-4},te=Object(G.f)(1,771),ne=function(e){Object(y.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).output=0,e.occlusionTestEnabled=!0,e.sdf=!1,e.vvSize=!1,e.vvColor=!1,e.verticalOffset=!1,e.screenSizePerspective=!1,e.screenCenterOffsetUnitsEnabled=0,e.debugDrawBorder=!0,e.binaryHighlightOcclusion=!0,e.slicePlaneEnabled=!1,e.polygonOffsetEnabled=!1,e.depthEnabled=!0,e.transparencyPassType=3,e.pixelSnappingEnabled=!0,e.isDraped=!1,e}return n}(V.a);Object(N.a)([Object(V.b)({count:8})],ne.prototype,"output",void 0),Object(N.a)([Object(V.b)()],ne.prototype,"occlusionTestEnabled",void 0),Object(N.a)([Object(V.b)()],ne.prototype,"sdf",void 0),Object(N.a)([Object(V.b)()],ne.prototype,"vvSize",void 0),Object(N.a)([Object(V.b)()],ne.prototype,"vvColor",void 0),Object(N.a)([Object(V.b)()],ne.prototype,"verticalOffset",void 0),Object(N.a)([Object(V.b)()],ne.prototype,"screenSizePerspective",void 0),Object(N.a)([Object(V.b)({count:2})],ne.prototype,"screenCenterOffsetUnitsEnabled",void 0),Object(N.a)([Object(V.b)()],ne.prototype,"debugDrawBorder",void 0),Object(N.a)([Object(V.b)()],ne.prototype,"binaryHighlightOcclusion",void 0),Object(N.a)([Object(V.b)()],ne.prototype,"slicePlaneEnabled",void 0),Object(N.a)([Object(V.b)()],ne.prototype,"polygonOffsetEnabled",void 0),Object(N.a)([Object(V.b)()],ne.prototype,"depthEnabled",void 0),Object(N.a)([Object(V.b)({count:4})],ne.prototype,"transparencyPassType",void 0),Object(N.a)([Object(V.b)()],ne.prototype,"pixelSnappingEnabled",void 0),Object(N.a)([Object(V.b)()],ne.prototype,"isDraped",void 0);var re=function(e){Object(y.a)(n,e);var t=Object(m.a)(n);function n(e,i){var a;return Object(r.a)(this,n),(a=t.call(this,i,e,ke)).techniqueConfig=new ne,a}return Object(i.a)(n,[{key:"getTechniqueConfig",value:function(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.verticalOffset=!!this.params.verticalOffset,this.techniqueConfig.screenSizePerspective=!!this.params.screenSizePerspective,this.techniqueConfig.screenCenterOffsetUnitsEnabled="screen"===this.params.centerOffsetUnits?1:0,this.techniqueConfig.polygonOffsetEnabled=this.params.polygonOffset,this.techniqueConfig.isDraped=this.params.isDraped,this.techniqueConfig.occlusionTestEnabled=this.params.occlusionTest,this.techniqueConfig.pixelSnappingEnabled=this.params.pixelSnappingEnabled,this.techniqueConfig.sdf=this.params.textureIsSignedDistanceField,this.techniqueConfig.vvSize=!!this.params.vvSizeEnabled,this.techniqueConfig.vvColor=!!this.params.vvColorEnabled,0===e&&(this.techniqueConfig.debugDrawBorder=!!this.params.debugDrawBorder),4===e&&(this.techniqueConfig.binaryHighlightOcclusion=this.params.binaryHighlightOcclusion),this.techniqueConfig.depthEnabled=this.params.depthEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig}},{key:"intersect",value:function(e,t,n,r,i,a,o,s,c){c?this.intersectDrapedHudGeometry(e,a,o,s):this.intersectHudGeometry(e,t,n,r,o,s)}},{key:"intersectDrapedHudGeometry",value:function(e,t,n,r){var i=e.getAttribute(p.a.POSITION),a=e.getAttribute(p.a.SIZE),o=this.params,s=Object(R.d)(o),c=1,u=1;if(r){var l=r(Oe);c=l[0],u=l[5]}c*=e.screenToWorldRatio,u*=e.screenToWorldRatio;for(var h=we*e.screenToWorldRatio,f=0;f<i.data.length/i.size;f++){var d=f*i.size,b=i.data[d],v=i.data[d+1],y=f*a.size,m=void 0;_e[0]=a.data[y]*c,_e[1]=a.data[y+1]*u,o.textureIsSignedDistanceField&&(m=o.outlineSize*e.screenToWorldRatio/2),se(t,b,v,_e,h,m,o,s)&&n()}}},{key:"intersectHudGeometry",value:function(e,t,n,r,i,a){if(r.options.selectionMode&&r.options.hud&&!Object(M.d)(t)){var o=e.data,u=this.params,l=1,h=1;if(Object(k.d)(be,n),a){var f=a(Oe);l=f[0],h=f[5],function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],u=e[8],l=1/Math.sqrt(t*t+n*n+r*r),h=1/Math.sqrt(i*i+a*a+o*o),f=1/Math.sqrt(s*s+c*c+u*u);e[0]=t*l,e[1]=n*l,e[2]=r*l,e[3]=i*h,e[4]=a*h,e[5]=o*h,e[6]=s*f,e[7]=c*f,e[8]=u*f}(be)}var d=o.getVertexAttr()[p.a.POSITION],b=o.getVertexAttr()[p.a.SIZE],v=o.getVertexAttr()[p.a.NORMAL],y=o.getVertexAttr()[p.a.AUXPOS1];Object(p.b)(d.size>=3);var m=r.point,g=r.camera,j=Object(R.d)(u);l*=g.pixelRatio,h*=g.pixelRatio;for(var w="screen"===this.params.centerOffsetUnits,_=0;_<d.data.length/d.size;_++){var x=_*d.size;Object(c.t)(le,d.data[x],d.data[x+1],d.data[x+2]),Object(c.j)(le,le,n);var S=_*b.size;_e[0]=b.data[S]*l,_e[1]=b.data[S+1]*h,Object(c.j)(le,le,g.viewMatrix);var E=_*y.size;if(Object(c.t)(me,y.data[E+0],y.data[E+1],y.data[E+2]),!w&&(le[0]+=me[0],le[1]+=me[1],0!==me[2])){var T=me[2];Object(c.o)(me,le),Object(c.g)(le,le,Object(c.b)(me,me,T))}var A=_*v.size;if(Object(c.t)(he,v.data[A],v.data[A+1],v.data[A+2]),this.normalAndViewAngle(he,be,g,ge),this.applyVerticalOffsetTransformationView(le,ge,g,ce),g.applyProjection(le,fe),fe[0]>-1){var P=Math.floor(fe[0])+this.params.screenOffset[0],I=Math.floor(fe[1])+this.params.screenOffset[1];w&&(P+=me[0],0!==me[1]&&(I+=Object(C.b)(me[1],ce.factorAlignment))),Object(C.a)(_e,ce.factor,_e);var D=je*g.pixelRatio,L=void 0;if(u.textureIsSignedDistanceField&&(L=u.outlineSize*g.pixelRatio/2),se(m,P,I,_e,D,L,u,j)){var N=r.ray;if(Object(c.j)(pe,le,Object(O.a)(ye,g.viewMatrix)),fe[0]=m[0],fe[1]=m[1],g.unprojectFromRenderScreen(fe,le)){var F=Object(s.e)();Object(c.h)(F,N.direction);var z=1/Object(c.m)(F);Object(c.b)(F,F,z),i(Object(c.l)(N.origin,le)*z,F,-1,1,!0,pe)}}}}}}},{key:"computeAttachmentOrigin",value:function(e,t){var n=e.data,r="getVertexAttr"in n?n.getVertexAttr():"vertexAttr"in n?n.vertexAttr:null;if(!r)return null;var i=p.a.POSITION,a=r[i],o="getIndices"in n?n.getIndices(i):"indices"in n?n.indices[i]:null;return Object(T.b)(a,o,t)}},{key:"createBufferWriter",value:function(){return new Ee(this)}},{key:"normalAndViewAngle",value:function(e,t,n,r){return A(t)&&(t=Object(k.d)(ve,t)),Object(c.u)(r.normal,e,t),Object(c.j)(r.normal,r.normal,n.viewInverseTransposeMatrix),r.cosAngle=Object(c.e)(de,xe),r}},{key:"updateScaleInfo",value:function(e,t,n){var r=this.params;r.screenSizePerspective?Object(C.c)(n,t,r.screenSizePerspective,e.factor):(e.factor.scale=1,e.factor.factor=0,e.factor.minPixelSize=0,e.factor.paddingPixels=0),r.screenSizePerspectiveAlignment?Object(C.c)(n,t,r.screenSizePerspectiveAlignment,e.factorAlignment):(e.factorAlignment.factor=e.factor.factor,e.factorAlignment.scale=e.factor.scale,e.factorAlignment.minPixelSize=e.factor.minPixelSize,e.factorAlignment.paddingPixels=e.factor.paddingPixels)}},{key:"applyShaderOffsetsView",value:function(e,t,n,r,i,a,o){var s=this.normalAndViewAngle(t,n,i,ge);return this.applyVerticalGroundOffsetView(e,s,i,o),this.applyVerticalOffsetTransformationView(o,s,i,a),this.applyPolygonOffsetView(o,s,r[3],i,o),this.applyCenterOffsetView(o,r,o),o}},{key:"applyShaderOffsetsNDC",value:function(e,t,n,r,i){return this.applyCenterOffsetNDC(e,t,n,r),Object(a.h)(i)&&Object(c.h)(i,r),this.applyPolygonOffsetNDC(r,t,n,r),r}},{key:"applyPolygonOffsetView",value:function(e,t,n,r,i){var a=r.aboveGround?1:-1,s=Object(o.q)(n);0===s&&(s=a);var u=a*s;if(this.params.shaderPolygonOffset<=0)return Object(c.h)(i,e);var l=Object(o.d)(Math.abs(t.cosAngle),.01,1),h=1-Math.sqrt(1-l*l)/l/r.viewport[2];return Object(c.b)(i,e,u>0?h:1/h),i}},{key:"applyVerticalGroundOffsetView",value:function(e,t,n,r){var i=Object(c.m)(e),a=n.aboveGround?1:-1,o=.5*n.computeRenderPixelSizeAtDist(i),s=Object(c.b)(le,t.normal,a*o);return Object(c.c)(r,e,s),r}},{key:"applyVerticalOffsetTransformationView",value:function(e,t,n,r){var i=this.params;if(!i.verticalOffset||!i.verticalOffset.screenLength){if(i.screenSizePerspective||i.screenSizePerspectiveAlignment){var a=Object(c.m)(e);this.updateScaleInfo(r,a,t.cosAngle)}else r.factor.scale=1,r.factorAlignment.scale=1;return e}var o=Object(c.m)(e),s=i.screenSizePerspectiveAlignment||i.screenSizePerspective,u=Object(I.f)(n,o,i.verticalOffset,t.cosAngle,s);return this.updateScaleInfo(r,o,t.cosAngle),Object(c.b)(t.normal,t.normal,u),Object(c.c)(e,e,t.normal)}},{key:"applyCenterOffsetView",value:function(e,t,n){var r="screen"!==this.params.centerOffsetUnits;return n!==e&&Object(c.h)(n,e),r&&(n[0]+=t[0],n[1]+=t[1],t[2]&&(Object(c.o)(he,n),Object(c.c)(n,n,Object(c.b)(he,he,t[2])))),n}},{key:"applyCenterOffsetNDC",value:function(e,t,n,r){var i="screen"!==this.params.centerOffsetUnits;return r!==e&&Object(c.h)(r,e),i||(r[0]+=t[0]/n.fullWidth*2,r[1]+=t[1]/n.fullHeight*2),r}},{key:"applyPolygonOffsetNDC",value:function(e,t,n,r){var i=this.params.shaderPolygonOffset;if(e!==r&&Object(c.h)(r,e),i){var a=n.aboveGround?1:-1,s=a*Object(o.q)(t[3]);r[2]-=(s||a)*i}return r}},{key:"getGLMaterial",value:function(e){return 0===e.output||7===e.output?new ae(e):4===e.output?new oe(e):void 0}},{key:"calculateRelativeScreenBounds",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(j.h)();return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ue;Object(S.c)(r,e.anchorPos),r[0]*=-t[0],r[1]*=-t[1],r[0]+=e.screenOffset[0]*n,r[1]+=e.screenOffset[1]*n}(this.params,e,t,n),n[2]=n[0]+e[0],n[3]=n[1]+e[1],n}}]),n}(D.a),ie=function(e){Object(y.a)(n,e);var t=Object(m.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,Object(v.a)(Object(v.a)({},e),e.material.params))).updateParameters(),i}return Object(i.a)(n,[{key:"beginSlot",value:function(e){return e===(this.material.params.drawInSecondSlot?19:18)}},{key:"updateParameters",value:function(e){this.updateTexture(this.material.params.textureId),this.selectProgram(e)}},{key:"selectProgram",value:function(e){this.technique=this.techniqueRep.acquireAndReleaseExisting($,this.material.getTechniqueConfig(this.output,e),this.technique)}},{key:"ensureParameters",value:function(e){this.updateParameters(e)}},{key:"bind",value:function(e,t){e.bindProgram(this.technique.program),this.bindTexture(e,this.technique.program),this.bindTextureScale(e,this.technique.program),this.technique.bindPass(e,this.material.params,t)}}]),n}(P.a),ae=function(e){Object(y.a)(n,e);var t=Object(m.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).isOcclusionSlot=!1,i}return Object(i.a)(n,[{key:"beginSlot",value:function(e){var t=this.material.params.drawInSecondSlot?19:18;return this.material.params.occlusionTest?(this.isOcclusionSlot=12===e,12===e||e===t):(this.isOcclusionSlot=!1,e===t)}},{key:"getTechnique",value:function(){return this.isOcclusionSlot?this.occlusionTechnique:this.technique}},{key:"selectProgram",value:function(e){this.technique=this.techniqueRep.acquireAndReleaseExisting($,this.material.getTechniqueConfig(this.output,e),this.technique),this.occlusionTechnique=this.techniqueRep.acquireAndReleaseExisting($,this.material.getTechniqueConfig(6,e),this.occlusionTechnique)}},{key:"bind",value:function(e,t){var n=this.getTechnique();e.bindProgram(n.program),this.isOcclusionSlot||(this.bindTexture(e,n.program),this.bindTextureScale(e,n.program)),n.bindPass(e,this.material.params,t)}}]),n}(ie),oe=function(e){Object(y.a)(n,e);var t=Object(m.a)(n);function n(e){return Object(r.a)(this,n),t.call(this,Object(v.a)(Object(v.a)({},e),{},{output:4}))}return n}(ie);function se(e,t,n,r,i,a,o,s){var c=t-i-(s[0]>0?r[0]*s[0]:0),u=c+r[0]+2*i,l=n-i-(s[1]>0?r[1]*s[1]:0),h=l+r[1]+2*i;if(o.textureIsSignedDistanceField){var f=o.distanceFieldBoundingBox;c+=r[0]*f[0],l+=r[1]*f[1],u-=r[0]*(1-f[2]),h-=r[1]*(1-f[3]),c-=a,u+=a,l-=a,h+=a}return e[0]>c&&e[0]<u&&e[1]>l&&e[1]<h}var ce={factor:{scale:0,factor:0,minPixelSize:0,paddingPixels:0},factorAlignment:{scale:0,factor:0,minPixelSize:0,paddingPixels:0}},ue=Object(x.a)(),le=Object(s.e)(),he=Object(s.e)(),fe=Object(g.d)(),de=Object(s.e)(),pe=Object(s.e)(),be=Object(w.a)(),ve=Object(w.a)(),ye=Object(_.b)(),me=Object(s.e)(),ge={normal:de,cosAngle:0},Oe=Object(_.b)(),je=1,we=2,_e=[0,0],xe=Object(s.g)(0,0,1),ke=Object(v.a)({texCoordScale:[1,1],occlusionTest:!0,binaryHighlightOcclusion:!0,drawInSecondSlot:!1,color:[1,1,1,1],outlineColor:[1,1,1,1],outlineSize:0,textureIsSignedDistanceField:!1,distanceFieldBoundingBox:null,vvSizeEnabled:!1,vvSizeMinSize:[1,1,1],vvSizeMaxSize:[100,100,100],vvSizeOffset:[0,0,0],vvSizeFactor:[1,1,1],vvColorEnabled:!1,vvColorValues:[0,0,0,0,0,0,0,0],vvColorColors:[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],screenOffset:[0,0],verticalOffset:null,screenSizePerspective:null,screenSizePerspectiveAlignment:null,slicePlaneEnabled:!1,anchorPos:Object(x.d)(.5,.5),shaderPolygonOffset:1e-5,polygonOffset:!1,textureId:null,centerOffsetUnits:"world",depthEnabled:!0,pixelSnappingEnabled:!0,debugDrawBorder:!1,isDraped:!1},D.b),Se=Object(E.a)().vec3f(p.a.POSITION).vec3f(p.a.NORMAL).vec2f(p.a.UV0).vec4u8(p.a.COLOR).vec2f(p.a.SIZE).vec4f(p.a.AUXPOS1).vec4f(p.a.AUXPOS2),Ee=function(){function e(t){Object(r.a)(this,e),this.material=t,this.vertexBufferLayout=Se}return Object(i.a)(e,[{key:"allocate",value:function(e){return this.vertexBufferLayout.createBuffer(e)}},{key:"elementCount",value:function(e){return 6*e.indices[p.a.POSITION].length}},{key:"write",value:function(e,t,n,r){Object(L.e)(t.indices[p.a.POSITION],t.vertexAttr[p.a.POSITION].data,e.transformation,n.position,r,6),Object(L.d)(t.indices[p.a.NORMAL],t.vertexAttr[p.a.NORMAL].data,e.invTranspTransformation,n.normal,r,6);var i,a,o,s,c=t.vertexAttr[p.a.UV0].data;if(null==c||c.length<4){var u=this.material.params;i=0,a=0,o=u.texCoordScale[0],s=u.texCoordScale[1]}else i=c[0],a=c[1],o=c[2],s=c[3];o=Math.min(1.99999,o+1),s=Math.min(1.99999,s+1);for(var l=t.indices[p.a.POSITION].length,h=n.uv0,f=r,d=0;d<l;++d)h.set(f,0,i),h.set(f,1,a),f+=1,h.set(f,0,o),h.set(f,1,a),f+=1,h.set(f,0,o),h.set(f,1,s),f+=1,h.set(f,0,o),h.set(f,1,s),f+=1,h.set(f,0,i),h.set(f,1,s),f+=1,h.set(f,0,i),h.set(f,1,a),f+=1;Object(L.b)(t.indices[p.a.COLOR],t.vertexAttr[p.a.COLOR].data,4,n.color,r,6);for(var b=t.indices[p.a.SIZE],v=t.vertexAttr[p.a.SIZE].data,y=b.length,m=n.size,g=r,O=0;O<y;++O)for(var j=v[2*b[O]],w=v[2*b[O]+1],_=0;_<6;++_)m.set(g,0,j),m.set(g,1,w),g+=1;t.indices[p.a.AUXPOS1]&&t.vertexAttr[p.a.AUXPOS1]&&Object(L.a)(t.indices[p.a.AUXPOS1],t.vertexAttr[p.a.AUXPOS1].data,n.auxpos1,r,6),t.indices[p.a.AUXPOS2]&&t.vertexAttr[p.a.AUXPOS2]&&Object(L.a)(t.indices[p.a.AUXPOS2],t.vertexAttr[p.a.AUXPOS2].data,n.auxpos2,r,6)}}]),e}(),Te=n(577),Me=n(582),Ce=n(175);n(15);function Ae(e,t,n){switch(e){case"circle":return Pe(t,n);case"square":return function(e,t){return Ie(e,t,!1)}(t,n);case"cross":return function(e,t){return De(e,t,!1)}(t,n);case"x":return function(e,t){return De(e,t,!0)}(t,n);case"kite":return function(e,t){return Ie(e,t,!0)}(t,n);case"triangle":return function(e,t){for(var n=new Uint8Array(4*e*e),r=-.5,i=Math.sqrt(1.25),a=(e-t)/2,o=0;o<e;o++)for(var s=0;s<e;s++){var c=o*e+s,u=(s-a)/t,l=(o-a+.75)/t,h=-(1*u+r*l)/i,f=(1*(u-1)+r*-l)/i,d=-l,b=Math.max(h,f,d);Object(p.j)(b*t/e+.5,n,4*c)}return n}(t,n);default:return Pe(t,n)}}function Pe(e,t){for(var n=e,r=new Uint8Array(4*n*n),i=n/2-.5,a=t/2,o=0;o<n;o++)for(var s=0;s<n;s++){var c=s+n*o,u=s-i,l=o-i,h=Math.sqrt(u*u+l*l)-a;h=h/e+.5,Object(p.j)(h,r,4*c)}return r}function Ie(e,t,n){n&&(t/=Math.SQRT2);for(var r=new Uint8Array(4*e*e),i=0;i<e;i++)for(var a=0;a<e;a++){var o=a-.5*e+.25,s=.5*e-i-.75,c=i*e+a;if(n){var u=(o+s)/Math.SQRT2;s=(s-o)/Math.SQRT2,o=u}var l=Math.max(Math.abs(o),Math.abs(s))-.5*t;l=l/e+.5,Object(p.j)(l,r,4*c)}return r}function De(e,t,n){n&&(t*=Math.SQRT2);for(var r=.5*t,i=new Uint8Array(4*e*e),a=0;a<e;a++)for(var o=0;o<e;o++){var s=o-.5*e,c=.5*e-a-1,u=a*e+o;if(n){var l=(s+c)/Math.SQRT2;c=(c-s)/Math.SQRT2,s=l}var h=void 0;h=(h=(s=Math.abs(s))>(c=Math.abs(c))?s>r?Math.sqrt((s-r)*(s-r)+c*c):c:c>r?Math.sqrt(s*s+(c-r)*(c-r)):s)/e+.5,Object(p.j)(h,i,4*u)}return i}var Le=n(355),Re=n(620),Ne=function(){function e(t){var n=this;Object(r.a)(this,e),this.view=null,this._geometry=null,this._size=3,this._color=Object(l.d)(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive="square",this._outlineSize=1,this._outlineColor=Object(l.d)(1,1,1,1),this._elevationInfo=null,this.resources=new Re.a({view:t.view,createResources:function(e){return n.createResources(e)},recreateGeometry:function(e,t){return e.geometry=n.recreateGeometry(t,e.material),Object(a.h)(e.geometry)?[e.geometry]:[]}});var i=!0;for(var o in t)o in this?"attached"===o?i=t[o]:this[o]=t[o]:console.error("Cannot set unknown property",o);this.attached=i}return Object(i.a)(e,[{key:"destroy",value:function(){this.resources.destroy()}},{key:"visible",get:function(){return this.resources.visible},set:function(e){this.resources.visible=e}},{key:"attached",get:function(){return this.resources.attached},set:function(e){this.resources.attached=e}},{key:"geometry",get:function(){return this._geometry},set:function(e){this._geometry=e,this.resources.recreateGeometry()}},{key:"size",get:function(){return this._size},set:function(e){if(e!==this._size){var t=this.preferredTextureSize;this._size=e,t<this.preferredTextureSize?Object(a.h)(this.resources)&&this.resources.recreate():this.updateSizeAttribute()}}},{key:"color",get:function(){return this._color},set:function(e){Object(h.g)(e,this._color)||(Object(h.c)(this._color,e),this.updateMaterial())}},{key:"pixelSnappingEnabled",get:function(){return this._pixelSnappingEnabled},set:function(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this.updateMaterial())}},{key:"primitive",get:function(){return this._primitive},set:function(e){this._primitive!==e&&(this._primitive=e,Object(a.h)(this.resources)&&this.resources.recreate())}},{key:"outlineSize",get:function(){return this._outlineSize},set:function(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateMaterial())}},{key:"outlineColor",get:function(){return this._outlineColor},set:function(e){Object(h.g)(e,this._outlineColor)||(Object(h.c)(this._outlineColor,e),this.updateMaterial())}},{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(e){this._elevationInfo=e,this.resources&&this.resources.recreateGeometry()}},{key:"updateMaterial",value:function(){var e=this.resources.resources;Object(a.g)(e)||e.material.setParameterValues(this.materialParameters(e.texture.id))}},{key:"updateSizeAttribute",value:function(){var e=this.resources.resources,t=this.resources.object;if(!Object(a.g)(e)&&!Object(a.g)(t)){var n=e.geometry;if(!Object(a.g)(n)){var r=n.data.getVertexAttr()[p.a.SIZE].data,i=this.geometrySize;r[0]=i,r[1]=i,t.geometryVertexAttrsUpdated(0)}}}},{key:"materialParameters",value:function(e){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:ze,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:e,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled}}},{key:"geometrySize",get:function(){return this._size/Fe}},{key:"recreateGeometry",value:function(e,t){var n=this.createRenderGeometry();return Object(a.h)(n)&&e.addGeometry(n,t),n}},{key:"createResources",value:function(e){var t=this.createTexture(),n=new re(this.materialParameters(t.id),"pointVisualElement"),r=this.recreateGeometry(e,n);return{material:n,texture:t,geometry:r,forEach:function(e){e(t),e(n),Object(a.h)(this.geometry)&&e(this.geometry)}}}},{key:"preferredTextureSize",get:function(){return Object(o.d)(Object(o.n)(2*this.geometrySize),16,128)}},{key:"createTexture",value:function(){var e=this.preferredTextureSize;return new Le.a(Ae(this._primitive,e,e*Fe),"pointVisualElement",{mipmap:!1,wrap:{s:33071,t:33071},width:e,height:e,components:4,noUnpackFlip:!0})}},{key:"calculateMapBounds",value:function(e){if(Object(a.g)(this.resources.resources)||Object(a.g)(this.resources.resources.geometry))return!1;var t=this.resources.resources.geometry.data.getAttribute("position");return Object(u.o)(t.data,this.view.renderCoordsHelper.spatialReference,Ve,this.view.spatialReference),Object(f.h)(e,Ve),!0}},{key:"createRenderGeometry",value:function(){var e=this.geometry;if(Object(a.g)(e))return null;var t=this.view.renderCoordsHelper,n=Object(Te.c)(e,this.view.elevationProvider,Me.a.fromElevationInfo(this.elevationInfo),t),r=Object(c.t)(d.c.get(),e.x,e.y,n),i=d.c.get();Object(u.o)(r,e.spatialReference,i,t.spatialReference);var o=this.geometrySize,s=b.a.createPointGeometry(null,i,null,[o,o],[0,0,0,1]);return new Ce.a(s)}}]),e}(),Fe=.5,ze=[Fe/2,Fe/2,1-Fe/2,1-Fe/2],Ve=Object(s.e)()},function(e,t,n){"use strict";n.r(t),n.d(t,"adjustHue",(function(){return me})),n.d(t,"animation",(function(){return Ke})),n.d(t,"backgroundImages",(function(){return Xe})),n.d(t,"backgrounds",(function(){return Qe})),n.d(t,"between",(function(){return m})),n.d(t,"border",(function(){return $e})),n.d(t,"borderColor",(function(){return F})),n.d(t,"borderRadius",(function(){return et})),n.d(t,"borderStyle",(function(){return tt})),n.d(t,"borderWidth",(function(){return nt})),n.d(t,"buttons",(function(){return st})),n.d(t,"clearFix",(function(){return g})),n.d(t,"complement",(function(){return ge})),n.d(t,"cover",(function(){return O})),n.d(t,"darken",(function(){return we})),n.d(t,"desaturate",(function(){return xe})),n.d(t,"directionalProperty",(function(){return c})),n.d(t,"ellipsis",(function(){return j})),n.d(t,"em",(function(){return f})),n.d(t,"fluidRange",(function(){return w})),n.d(t,"fontFace",(function(){return x})),n.d(t,"getLuminance",(function(){return ke})),n.d(t,"getValueAndUnit",(function(){return p})),n.d(t,"grayscale",(function(){return Se})),n.d(t,"invert",(function(){return Ee})),n.d(t,"hideText",(function(){return k})),n.d(t,"hideVisually",(function(){return S})),n.d(t,"hiDPI",(function(){return E})),n.d(t,"hsl",(function(){return ue})),n.d(t,"hsla",(function(){return le})),n.d(t,"lighten",(function(){return Me})),n.d(t,"margin",(function(){return ct})),n.d(t,"mix",(function(){return Ae})),n.d(t,"modularScale",(function(){return v})),n.d(t,"normalize",(function(){return T})),n.d(t,"opacify",(function(){return Ie})),n.d(t,"padding",(function(){return ut})),n.d(t,"parseToHsl",(function(){return re})),n.d(t,"parseToRgb",(function(){return ne})),n.d(t,"placeholder",(function(){return M})),n.d(t,"position",(function(){return ht})),n.d(t,"radialGradient",(function(){return I})),n.d(t,"readableColor",(function(){return De})),n.d(t,"rem",(function(){return y})),n.d(t,"retinaImage",(function(){return D})),n.d(t,"rgb",(function(){return he})),n.d(t,"rgba",(function(){return fe})),n.d(t,"saturate",(function(){return Re})),n.d(t,"selection",(function(){return L})),n.d(t,"setHue",(function(){return Fe})),n.d(t,"setLightness",(function(){return Ve})),n.d(t,"setSaturation",(function(){return Be})),n.d(t,"shade",(function(){return qe})),n.d(t,"size",(function(){return ft})),n.d(t,"stripUnit",(function(){return l})),n.d(t,"textInputs",(function(){return bt})),n.d(t,"timingFunctions",(function(){return N})),n.d(t,"tint",(function(){return We})),n.d(t,"toColorString",(function(){return pe})),n.d(t,"transitions",(function(){return vt})),n.d(t,"transparentize",(function(){return Je})),n.d(t,"triangle",(function(){return B})),n.d(t,"wordWrap",(function(){return G}));var r=n(69);function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}var a=["Top","Right","Bottom","Left"];function o(e,t){if(!e)return t.toLowerCase();var n=e.split("-");if(n.length>1)return n.splice(1,0,t),n.reduce((function(e,t){return""+e+i(t)}));var r=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===r?""+e+t:r}function s(e,t){for(var n={},r=0;r<t.length;r+=1)(t[r]||0===t[r])&&(n[o(e,a[r])]=t[r]);return n}function c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],a=n[1],o=void 0===a?i:a,c=n[2],u=void 0===c?i:c,l=n[3],h=void 0===l?o:l,f=[i,o,u,h];return s(e,f)}function u(e,t){return e.substr(-t.length)===t}function l(e){var t=parseFloat(e);return isNaN(t)?e:t}var h=function(e){return function(t,n){void 0===n&&(n="16px");var r=t,i=n;if("string"===typeof t){if(!u(t,"px"))throw new Error('Expected a string ending in "px" or a number passed as the first argument to '+e+'(), got "'+t+'" instead.');r=l(t)}if("string"===typeof n){if(!u(n,"px"))throw new Error('Expected a string ending in "px" or a number passed as the second argument to '+e+'(), got "'+n+'" instead.');i=l(n)}if("string"===typeof r)throw new Error('Passed invalid pixel value ("'+t+'") to '+e+'(), please pass a value like "12px" or 12.');if("string"===typeof i)throw new Error('Passed invalid base value ("'+n+'") to '+e+'(), please pass a value like "12px" or 12.');return""+r/i+e}},f=h("em"),d=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function p(e){if("string"!==typeof e)return[e,""];var t=e.match(d);return t?[parseFloat(e),t[2]]:[e,void 0]}var b={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4};function v(e,t,n){if(void 0===t&&(t="1em"),void 0===n&&(n="perfectFourth"),"number"!==typeof e)throw new Error("Please provide a number of steps to the modularScale helper.");if("string"===typeof n&&!b[n])throw new Error("Please pass a number or one of the predefined scales to the modularScale helper as the ratio.");var r="string"===typeof t?l(t):t,i="string"===typeof n?b[n]:n;if("string"===typeof r)throw new Error('Invalid value passed as base to modularScale, expected number or em string but got "'+t+'"');return r*Math.pow(i,e)+"em"}var y=h("rem");function m(e,t,n,r){void 0===n&&(n="320px"),void 0===r&&(r="1200px");var i=p(e),a=i[0],o=i[1],s=p(t),c=s[0],u=s[1],l=p(n),h=l[0],f=l[1],d=p(r),b=d[0],v=d[1];if("number"!==typeof h||"number"!==typeof b||!f||!v||f!==v)throw new Error("minScreen and maxScreen must be provided as stringified numbers with the same units.");if("number"!==typeof a||"number"!==typeof c||!o||!u||o!==u)throw new Error("fromSize and toSize must be provided as stringified numbers with the same units.");var y=(a-c)/(h-b);return"calc("+(c-y*b).toFixed(2)+o+" + "+(100*y).toFixed(2)+"vw)"}function g(e){var t;return void 0===e&&(e="&"),(t={})[e+"::after"]={clear:"both",content:'""',display:"table"},t}function O(e){return void 0===e&&(e=0),{position:"absolute",top:e,right:e,bottom:e,left:e}}function j(e){return void 0===e&&(e="100%"),{display:"inline-block",maxWidth:e,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"}}function w(e,t,n){if(void 0===t&&(t="320px"),void 0===n&&(n="1200px"),!Array.isArray(e)&&"object"!==typeof e||null===e)throw new Error("expects either an array of objects or a single object with the properties prop, fromSize, and toSize.");if(Array.isArray(e)){var i={},a={},o=e,s=Array.isArray(o),c=0;for(o=s?o:o[Symbol.iterator]();;){var u,l,h;if(s){if(c>=o.length)break;h=o[c++]}else{if((c=o.next()).done)break;h=c.value}var f=h;if(!f.prop||!f.fromSize||!f.toSize)throw new Error("expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.");a[f.prop]=f.fromSize,i["@media (min-width: "+t+")"]=Object(r.a)({},i["@media (min-width: "+t+")"],((u={})[f.prop]=m(f.fromSize,f.toSize,t,n),u)),i["@media (min-width: "+n+")"]=Object(r.a)({},i["@media (min-width: "+n+")"],((l={})[f.prop]=f.toSize,l))}return Object(r.a)({},a,i)}var d,p,b;if(!e.prop||!e.fromSize||!e.toSize)throw new Error("expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.");return(b={})[e.prop]=e.fromSize,b["@media (min-width: "+t+")"]=((d={})[e.prop]=m(e.fromSize,e.toSize,t,n),d),b["@media (min-width: "+n+")"]=((p={})[e.prop]=e.toSize,p),b}function _(e,t,n){var r=[];return t&&r.push(function(e){return e.map((function(e){return'local("'+e+'")'})).join(", ")}(t)),e&&r.push(function(e,t){return t.map((function(t){return'url("'+e+"."+t+'")'})).join(", ")}(e,n)),r.join(", ")}function x(e){var t=e.fontFamily,n=e.fontFilePath,r=e.fontStretch,i=e.fontStyle,a=e.fontVariant,o=e.fontWeight,s=e.fileFormats,c=void 0===s?["eot","woff2","woff","ttf","svg"]:s,u=e.localFonts,l=e.unicodeRange,h=e.fontDisplay,f=e.fontVariationSettings,d=e.fontFeatureSettings;if(!t)throw new Error("fontFace expects a name of a font-family.");if(!n&&!u)throw new Error("fontFace expects either the path to the font file(s) or a name of a local copy.");if(u&&!Array.isArray(u))throw new Error("fontFace expects localFonts to be an array.");if(!Array.isArray(c))throw new Error("fontFace expects fileFormats to be an array.");var p={"@font-face":{fontFamily:t,src:_(n,u,c),unicodeRange:l,fontStretch:r,fontStyle:i,fontVariant:a,fontWeight:o,fontDisplay:h,fontVariationSettings:f,fontFeatureSettings:d}};return JSON.parse(JSON.stringify(p))}function k(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}}function S(){return{border:"0",clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}}function E(e){return void 0===e&&(e=1.3),"\n    @media only screen and (-webkit-min-device-pixel-ratio: "+e+"),\n    only screen and (min--moz-device-pixel-ratio: "+e+"),\n    only screen and (-o-min-device-pixel-ratio: "+e+"/1),\n    only screen and (min-resolution: "+Math.round(96*e)+"dpi),\n    only screen and (min-resolution: "+e+"dppx)\n  "}function T(){var e;return[(e={html:{lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:"0"},h1:{fontSize:"2em",margin:"0.67em 0"},hr:{boxSizing:"content-box",height:"0",overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{backgroundColor:"transparent"},"abbr[title]":{borderBottom:"none",textDecoration:"underline"}},e["b,\n    strong"]={fontWeight:"bolder"},e["code,\n    kbd,\n    samp"]={fontFamily:"monospace, monospace",fontSize:"1em"},e.small={fontSize:"80%"},e["sub,\n    sup"]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},e.sub={bottom:"-0.25em"},e.sup={top:"-0.5em"},e.img={borderStyle:"none"},e["button,\n    input,\n    optgroup,\n    select,\n    textarea"]={fontFamily:"inherit",fontSize:"100%",lineHeight:"1.15",margin:"0"},e["button,\n    input"]={overflow:"visible"},e["button,\n    select"]={textTransform:"none"},e['button,\n    html [type="button"],\n    [type="reset"],\n    [type="submit"]']={WebkitAppearance:"button"},e['button::-moz-focus-inner,\n    [type="button"]::-moz-focus-inner,\n    [type="reset"]::-moz-focus-inner,\n    [type="submit"]::-moz-focus-inner']={borderStyle:"none",padding:"0"},e['button:-moz-focusring,\n    [type="button"]:-moz-focusring,\n    [type="reset"]:-moz-focusring,\n    [type="submit"]:-moz-focusring']={outline:"1px dotted ButtonText"},e.fieldset={padding:"0.35em 0.625em 0.75em"},e.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},e.progress={verticalAlign:"baseline"},e.textarea={overflow:"auto"},e['[type="checkbox"],\n    [type="radio"]']={boxSizing:"border-box",padding:"0"},e['[type="number"]::-webkit-inner-spin-button,\n    [type="number"]::-webkit-outer-spin-button']={height:"auto"},e['[type="search"]']={WebkitAppearance:"textfield",outlineOffset:"-2px"},e['[type="search"]::-webkit-search-decoration']={WebkitAppearance:"none"},e["::-webkit-file-upload-button"]={WebkitAppearance:"button",font:"inherit"},e.details={display:"block"},e.summary={display:"list-item"},e.template={display:"none"},e["[hidden]"]={display:"none"},e),{"abbr[title]":{textDecoration:"underline dotted"}}]}function M(e,t){var n;return void 0===t&&(t="&"),(n={})[t+"::-webkit-input-placeholder"]=Object(r.a)({},e),n[t+":-moz-placeholder"]=Object(r.a)({},e),n[t+"::-moz-placeholder"]=Object(r.a)({},e),n[t+":-ms-input-placeholder"]=Object(r.a)({},e),n}function C(){var e,t,n=(e=["radial-gradient(","","","",")"],t||(t=e.slice(0)),e.raw=t,e);return C=function(){return n},n}function A(e){return e[0].split(" ")[0]}function P(e){for(var t="",n=0;n<e.length;n+=1)t+=e[n],3===n&&(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])&&((arguments.length<=1?void 0:arguments[1])||(arguments.length<=2?void 0:arguments[2])||(arguments.length<=3?void 0:arguments[3]))?(t=t.slice(0,-1),t+=", "+(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])):3!==n||!(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])||(arguments.length<=1?void 0:arguments[1])||(arguments.length<=2?void 0:arguments[2])||(arguments.length<=3?void 0:arguments[3])?(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])&&(t+=(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])+" "):t+=""+(n+1<1||arguments.length<=n+1?void 0:arguments[n+1]);return t.trim()}function I(e){var t=e.colorStops,n=e.extent,r=e.fallback,i=e.position,a=e.shape;if(!t||t.length<2)throw new Error("radialGradient requries at least 2 color-stops to properly render.");return{backgroundColor:r||A(t),backgroundImage:P(C(),i,a,n,t.join(", "))}}function D(e,t,n,i,a){var o;if(void 0===n&&(n="png"),void 0===a&&(a="_2x"),!e)throw new Error("Please supply a filename to retinaImage() as the first argument.");var s=n.replace(/^\./,""),c=i?i+"."+s:""+e+a+"."+s;return(o={backgroundImage:"url("+e+"."+s+")"})[E()]=Object(r.a)({backgroundImage:"url("+c+")"},t?{backgroundSize:t}:{}),o}function L(e,t){var n;return void 0===t&&(t=""),(n={})[t+"::-moz-selection"]=Object(r.a)({},e),n[t+"::selection"]=Object(r.a)({},e),n}var R={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};function N(e){return R[e]}function F(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,["borderColor"].concat(t))}var z=function(e,t,n){switch(e){case"top":return"0 "+n[0]/2+n[1]+" "+t[0]+t[1]+" "+n[0]/2+n[1];case"left":return""+t[0]/2+t[1]+" "+n[0]+n[1]+" "+t[0]/2+t[1]+" 0";case"bottom":return""+t[0]+t[1]+" "+n[0]/2+n[1]+" 0 "+n[0]/2+n[1];case"right":return""+t[0]/2+t[1]+" 0 "+t[0]/2+t[1]+" "+n[0]+n[1];default:throw new Error("Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.")}},V=["bottom","left","top","right"],U=/(\d*\.?\d*)/;function B(e){var t=e.pointingDirection,n=e.height,i=e.width,a=e.foregroundColor,o=e.backgroundColor,s=void 0===o?"transparent":o,c=[parseFloat(i),String(i).replace(U,"")||"px"],u=[parseFloat(n),String(n).replace(U,"")||"px"];if(isNaN(u[0])||isNaN(c[0]))throw new Error("Passed an invalid value to `height` or `width`. Please provide a pixel based unit");var l=V.indexOf(t);return Object(r.a)({width:"0",height:"0",borderWidth:z(t,u,c),borderStyle:"solid"},F.apply(void 0,Array.from({length:4}).map((function(e,t){return t===l?a:s}))))}function G(e){return void 0===e&&(e="break-word"),{overflowWrap:e,wordWrap:e,wordBreak:"break-word"===e?"break-all":e}}function q(e){return Math.round(255*e)}function H(e,t,n){return q(e)+","+q(t)+","+q(n)}function W(e,t,n,r){if(void 0===r&&(r=H),0===t)return r(n,n,n);var i=e%360/60,a=(1-Math.abs(2*n-1))*t,o=a*(1-Math.abs(i%2-1)),s=0,c=0,u=0;i>=0&&i<1?(s=a,c=o):i>=1&&i<2?(s=o,c=a):i>=2&&i<3?(c=a,u=o):i>=3&&i<4?(c=o,u=a):i>=4&&i<5?(s=o,u=a):i>=5&&i<6&&(s=a,u=o);var l=n-a/2;return r(s+l,c+l,u+l)}var Y={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var J=/^#[a-fA-F0-9]{6}$/,K=/^#[a-fA-F0-9]{8}$/,X=/^#[a-fA-F0-9]{3}$/,Q=/^#[a-fA-F0-9]{4}$/,Z=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,$=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/,ee=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/,te=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/;function ne(e){if("string"!==typeof e)throw new Error("Passed an incorrect argument to a color function, please pass a string representation of a color.");var t=function(e){if("string"!==typeof e)return e;var t=e.toLowerCase();return Y[t]?"#"+Y[t]:e}(e);if(t.match(J))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(K)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(X))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Q)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=Z.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var a=$.exec(t);if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10),alpha:parseFloat(""+a[4])};var o=ee.exec(t);if(o){var s="rgb("+W(parseInt(""+o[1],10),parseInt(""+o[2],10)/100,parseInt(""+o[3],10)/100)+")",c=Z.exec(s);if(!c)throw new Error("Couldn't generate valid rgb string from "+t+", it returned "+s+".");return{red:parseInt(""+c[1],10),green:parseInt(""+c[2],10),blue:parseInt(""+c[3],10)}}var u=te.exec(t);if(u){var l="rgb("+W(parseInt(""+u[1],10),parseInt(""+u[2],10)/100,parseInt(""+u[3],10)/100)+")",h=Z.exec(l);if(!h)throw new Error("Couldn't generate valid rgb string from "+t+", it returned "+l+".");return{red:parseInt(""+h[1],10),green:parseInt(""+h[2],10),blue:parseInt(""+h[3],10),alpha:parseFloat(""+u[4])}}throw new Error("Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.")}function re(e){return function(e){var t,n=e.red/255,r=e.green/255,i=e.blue/255,a=Math.max(n,r,i),o=Math.min(n,r,i),s=(a+o)/2;if(a===o)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var c=a-o,u=s>.5?c/(2-a-o):c/(a+o);switch(a){case n:t=(r-i)/c+(r<i?6:0);break;case r:t=(i-n)/c+2;break;default:t=(n-r)/c+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:u,lightness:s,alpha:e.alpha}:{hue:t,saturation:u,lightness:s}}(ne(e))}var ie=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function ae(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function oe(e){return ae(Math.round(255*e))}function se(e,t,n){return ie("#"+oe(e)+oe(t)+oe(n))}function ce(e,t,n){return W(e,t,n,se)}function ue(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return ce(e,t,n);if("object"===typeof e&&void 0===t&&void 0===n)return ce(e.hue,e.saturation,e.lightness);throw new Error("Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).")}function le(e,t,n,r){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r)return r>=1?ce(e,t,n):"rgba("+W(e,t,n)+","+r+")";if("object"===typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?ce(e.hue,e.saturation,e.lightness):"rgba("+W(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new Error("Passed invalid arguments to hsla, please pass multiple numbers e.g. hsl(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).")}function he(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return ie("#"+ae(e)+ae(t)+ae(n));if("object"===typeof e&&void 0===t&&void 0===n)return ie("#"+ae(e.red)+ae(e.green)+ae(e.blue));throw new Error("Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).")}function fe(e,t,n,r){if("string"===typeof e&&"number"===typeof t){var i=ne(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r)return r>=1?he(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"===typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?he(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new Error("Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).")}var de="Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.";function pe(e){if("object"!==typeof e)throw new Error(de);if(function(e){return"number"===typeof e.red&&"number"===typeof e.green&&"number"===typeof e.blue&&"number"===typeof e.alpha}(e))return fe(e);if(function(e){return"number"===typeof e.red&&"number"===typeof e.green&&"number"===typeof e.blue&&("number"!==typeof e.alpha||"undefined"===typeof e.alpha)}(e))return he(e);if(function(e){return"number"===typeof e.hue&&"number"===typeof e.saturation&&"number"===typeof e.lightness&&"number"===typeof e.alpha}(e))return le(e);if(function(e){return"number"===typeof e.hue&&"number"===typeof e.saturation&&"number"===typeof e.lightness&&("number"!==typeof e.alpha||"undefined"===typeof e.alpha)}(e))return ue(e);throw new Error(de)}function be(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):be(e,t,r)}}function ve(e){return be(e,e.length,[])}function ye(e,t){var n=re(t);return pe(Object(r.a)({},n,{hue:(n.hue+parseFloat(e))%360}))}var me=ve(ye);function ge(e){var t=re(e);return pe(Object(r.a)({},t,{hue:(t.hue+180)%360}))}function Oe(e,t,n){return Math.max(e,Math.min(t,n))}function je(e,t){var n=re(t);return pe(Object(r.a)({},n,{lightness:Oe(0,1,n.lightness-parseFloat(e))}))}var we=ve(je);function _e(e,t){var n=re(t);return pe(Object(r.a)({},n,{saturation:Oe(0,1,n.saturation-parseFloat(e))}))}var xe=ve(_e);function ke(e){var t=ne(e),n=Object.keys(t).map((function(e){var n=t[e]/255;return n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)})),r=n[0],i=n[1],a=n[2];return parseFloat((.2126*r+.7152*i+.0722*a).toFixed(3))}function Se(e){return pe(Object(r.a)({},re(e),{saturation:0}))}function Ee(e){var t=ne(e);return pe(Object(r.a)({},t,{red:255-t.red,green:255-t.green,blue:255-t.blue}))}function Te(e,t){var n=re(t);return pe(Object(r.a)({},n,{lightness:Oe(0,1,n.lightness+parseFloat(e))}))}var Me=ve(Te);function Ce(e,t,n){var i=ne(t),a=Object(r.a)({},i,{alpha:"number"===typeof i.alpha?i.alpha:1}),o=ne(n),s=Object(r.a)({},o,{alpha:"number"===typeof o.alpha?o.alpha:1}),c=a.alpha-s.alpha,u=2*parseFloat(e)-1,l=((u*c===-1?u:u+c)/(1+u*c)+1)/2,h=1-l;return fe({red:Math.floor(a.red*l+s.red*h),green:Math.floor(a.green*l+s.green*h),blue:Math.floor(a.blue*l+s.blue*h),alpha:a.alpha+(s.alpha-a.alpha)*(parseFloat(e)/1)})}var Ae=ve(Ce);function Pe(e,t){var n=ne(t),i="number"===typeof n.alpha?n.alpha:1;return fe(Object(r.a)({},n,{alpha:Oe(0,1,(100*i+100*parseFloat(e))/100)}))}var Ie=ve(Pe);function De(e){return ke(e)>.179?"#000":"#fff"}function Le(e,t){var n=re(t);return pe(Object(r.a)({},n,{saturation:Oe(0,1,n.saturation+parseFloat(e))}))}var Re=ve(Le);function Ne(e,t){return pe(Object(r.a)({},re(t),{hue:parseFloat(e)}))}var Fe=ve(Ne);function ze(e,t){return pe(Object(r.a)({},re(t),{lightness:parseFloat(e)}))}var Ve=ve(ze);function Ue(e,t){return pe(Object(r.a)({},re(t),{saturation:parseFloat(e)}))}var Be=ve(Ue);function Ge(e,t){return Ae(parseFloat(e),"rgb(0, 0, 0)",t)}var qe=ve(Ge);function He(e,t){return Ae(parseFloat(e),"rgb(255, 255, 255)",t)}var We=ve(He);function Ye(e,t){var n=ne(t),i="number"===typeof n.alpha?n.alpha:1;return fe(Object(r.a)({},n,{alpha:Oe(0,1,(100*i-100*parseFloat(e))/100)}))}var Je=ve(Ye);function Ke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.isArray(t[0]);if(!r&&t.length>8)throw new Error("The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation");var i=t.map((function(e){if(r&&!Array.isArray(e)||!r&&Array.isArray(e))throw new Error("To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')");if(Array.isArray(e)&&e.length>8)throw new Error("The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation");return Array.isArray(e)?e.join(" "):e})).join(", ");return{animation:i}}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{backgroundImage:t.join(", ")}}function Qe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{background:t.join(", ")}}var Ze=["top","right","bottom","left"];function $e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;return"string"===typeof e&&Ze.indexOf(e)>=0?((a={})["border"+i(e)+"Width"]=n[0],a["border"+i(e)+"Style"]=n[1],a["border"+i(e)+"Color"]=n[2],a):(n.unshift(e),{borderWidth:n[0],borderStyle:n[1],borderColor:n[2]})}function et(e,t){var n,r,a=i(e);if(!t&&0!==t)throw new Error("borderRadius expects a radius value as a string or number as the second argument.");if("Top"===a||"Bottom"===a)return(n={})["border"+a+"RightRadius"]=t,n["border"+a+"LeftRadius"]=t,n;if("Left"===a||"Right"===a)return(r={})["borderTop"+a+"Radius"]=t,r["borderBottom"+a+"Radius"]=t,r;throw new Error('borderRadius expects one of "top", "bottom", "left" or "right" as the first argument.')}function tt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,["borderStyle"].concat(t))}function nt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,["borderWidth"].concat(t))}function rt(e,t){return e(t?":"+t:"")}function it(e,t,n){if(!t)throw new Error("You must provide a template to this method.");if(0===e.length)return rt(t,null);for(var r=[],i=0;i<e.length;i+=1){if(n&&n.indexOf(e[i])<0)throw new Error("You passed an unsupported selector state to this method.");r.push(rt(t,e[i]))}return r=r.join(",")}var at=[void 0,null,"active","focus","hover"];function ot(e){return"button"+e+',\n  input[type="button"]'+e+',\n  input[type="reset"]'+e+',\n  input[type="submit"]'+e}function st(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return it(t,ot,at)}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,["margin"].concat(t))}function ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,["padding"].concat(t))}var lt=["absolute","fixed","relative","static","sticky"];function ht(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(lt.indexOf(e)>=0)return Object(r.a)({position:e},c.apply(void 0,[""].concat(n)));var a=e;return c.apply(void 0,["",a].concat(n))}function ft(e,t){return void 0===t&&(t=e),{height:e,width:t}}var dt=[void 0,null,"active","focus","hover"];function pt(e){return'input[type="color"]'+e+',\n    input[type="date"]'+e+',\n    input[type="datetime"]'+e+',\n    input[type="datetime-local"]'+e+',\n    input[type="email"]'+e+',\n    input[type="month"]'+e+',\n    input[type="number"]'+e+',\n    input[type="password"]'+e+',\n    input[type="search"]'+e+',\n    input[type="tel"]'+e+',\n    input[type="text"]'+e+',\n    input[type="time"]'+e+',\n    input[type="url"]'+e+',\n    input[type="week"]'+e+",\n    input:not([type])"+e+",\n    textarea"+e}function bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return it(t,pt,dt)}function vt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Array.isArray(t[0])&&2===t.length){var r=t[1];if("string"!==typeof r)throw new Error("Property must be a string value.");var i=t[0].map((function(e){return e+" "+r})).join(", ");return{transition:i}}return{transition:t.join(", ")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(25),i=n(541),a=n(324),o=n(63),s=n(627),c=n(373),u=n(303),l=/^https?:\/\/(\S+)\.arcgis\.com.+/;function h(e){return l.test(e)}function f(e){if(!l.test(e))return null;var t=e.match(l)[1].split(".").pop();return t.includes("dev")?"dev":t.includes("qa")?"qa":"production"}function d(e,t){var n=Object(i.a)(function(e){if(!l.test(e))return e;switch(f(e)){case"dev":return"https://devext.arcgis.com/sharing/rest";case"qa":return"https://qaext.arcgis.com/sharing/rest";default:return"https://www.arcgis.com/sharing/rest"}}(t)).replace(/https?:\/\//,""),r=Object(i.a)(e).replace(/https?:\/\//,"");return new RegExp(r,"i").test(n)}var p=n(462);var b=function(){function e(e){if(this.clientId=e.clientId,this._refreshToken=e.refreshToken,this._refreshTokenExpires=e.refreshTokenExpires,this.username=e.username,this.password=e.password,this._token=e.token,this._tokenExpires=e.tokenExpires,this.portal=e.portal?Object(i.a)(e.portal):"https://www.arcgis.com/sharing/rest",this.ssl=e.ssl,this.provider=e.provider||"arcgis",this.tokenDuration=e.tokenDuration||20160,this.redirectUri=e.redirectUri,this.refreshTokenTTL=e.refreshTokenTTL||1440,this.trustedServers={},e.server){var t=this.getServerRootUrl(e.server);this.trustedServers[t]={token:e.token,expires:e.tokenExpires}}this._pendingTokenRequests={}}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenExpires",{get:function(){return this._tokenExpires},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"refreshToken",{get:function(){return this._refreshToken},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"refreshTokenExpires",{get:function(){return this._refreshTokenExpires},enumerable:!1,configurable:!0}),e.beginOAuth2=function(t,n){void 0===n&&(n=window);var i,s=Object(r.a)({portal:"https://www.arcgis.com/sharing/rest",provider:"arcgis",duration:20160,popup:!0,popupWindowFeatures:"height=400,width=600,menubar=no,location=yes,resizable=yes,scrollbars=yes,status=yes",state:t.clientId,locale:""},t),c=s.portal,u=s.provider,l=s.clientId,h=s.duration,f=s.redirectUri,d=s.popup,p=s.popupWindowFeatures,b=s.state,v=s.locale,y=s.params;if(i="arcgis"===u?c+"/oauth2/authorize?client_id="+l+"&response_type=token&expiration="+h+"&redirect_uri="+encodeURIComponent(f)+"&state="+b+"&locale="+v:c+"/oauth2/social/authorize?client_id="+l+"&socialLoginProviderName="+u+"&autoAccountCreateForSocial=true&response_type=token&expiration="+h+"&redirect_uri="+encodeURIComponent(f)+"&state="+b+"&locale="+v,y&&(i=i+"&"+Object(a.b)(y)),d){var m=function(){var e={promise:null,resolve:null,reject:null};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}();return n["__ESRI_REST_AUTH_HANDLER_"+l]=function(t,n){if(t){var r=JSON.parse(t);m.reject(new o.a(r.errorMessage,r.error))}else if(n){var i=JSON.parse(n);m.resolve(new e({clientId:l,portal:c,ssl:i.ssl,token:i.token,tokenExpires:new Date(i.expires),username:i.username}))}},n.open(i,"oauth-window",p),m.promise}n.location.href=i},e.completeOAuth2=function(t,n){void 0===n&&(n=window);var i=Object(r.a)({portal:"https://www.arcgis.com/sharing/rest",popup:!0},t),a=i.portal,c=i.clientId,u=i.popup;function l(t,r){try{var i=void 0,s="__ESRI_REST_AUTH_HANDLER_"+c;if(u&&(n.opener?n.opener.parent&&n.opener.parent[s]?i=n.opener.parent[s]:n.opener&&n.opener[s]&&(i=n.opener[s]):n!==n.parent&&n.parent&&n.parent[s]&&(i=n.parent[s]),i))return i(t?JSON.stringify(t):void 0,JSON.stringify(r)),void n.close()}catch(l){throw new o.a('Unable to complete authentication. It\'s possible you specified popup based oAuth2 but no handler from "beginOAuth2()" present. This generally happens because the "popup" option differs between "beginOAuth2()" and "completeOAuth2()".')}if(t)throw new o.a(t.errorMessage,t.error);return new e({clientId:c,portal:a,ssl:r.ssl,token:r.token,tokenExpires:r.expires,username:r.username})}var h=Object(s.b)(n.location.hash);if(!h.access_token){var f=void 0,d="Unknown error";return h.error&&(f=h.error,d=h.error_description),l({error:f,errorMessage:d})}var p=h.access_token,b=new Date(Date.now()+1e3*parseInt(h.expires_in,10)-6e4),v=h.username;return l(void 0,{token:p,expires:b,ssl:"true"===h.ssl,username:v})},e.fromParent=function(t,n){var r;return!n&&window&&(n=window),new Promise((function(i,a){r=function(n){if(n.origin===t)try{return i(e.parentMessageHandler(n))}catch(r){return a(r)}},n.addEventListener("message",r,!1),n.parent.postMessage({type:"arcgis:auth:requestCredential"},t)})).then((function(e){return n.removeEventListener("message",r,!1),e}))},e.authorize=function(e,t){var n=Object(r.a)({portal:"https://arcgis.com/sharing/rest",duration:20160},e),i=n.portal,a=n.clientId,o=n.duration,s=n.redirectUri;t.writeHead(301,{Location:i+"/oauth2/authorize?client_id="+a+"&duration="+o+"&response_type=code&redirect_uri="+encodeURIComponent(s)}),t.end()},e.exchangeAuthorizationCode=function(t,n){var i=Object(r.a)({portal:"https://www.arcgis.com/sharing/rest",refreshTokenTTL:1440},t),a=i.portal,o=i.clientId,s=i.redirectUri,c=i.refreshTokenTTL;return Object(u.a)(a+"/oauth2/token",{params:{grant_type:"authorization_code",client_id:o,redirect_uri:s,code:n}}).then((function(t){return new e({clientId:o,portal:a,ssl:t.ssl,redirectUri:s,refreshToken:t.refreshToken,refreshTokenTTL:c,refreshTokenExpires:new Date(Date.now()+1e3*(c-1)),token:t.token,tokenExpires:t.expires,username:t.username})}))},e.deserialize=function(t){var n=JSON.parse(t);return new e({clientId:n.clientId,refreshToken:n.refreshToken,refreshTokenExpires:new Date(n.refreshTokenExpires),username:n.username,password:n.password,token:n.token,tokenExpires:new Date(n.tokenExpires),portal:n.portal,ssl:n.ssl,tokenDuration:n.tokenDuration,redirectUri:n.redirectUri,refreshTokenTTL:n.refreshTokenTTL})},e.fromCredential=function(t){return new e({portal:t.server.includes("sharing/rest")?t.server:t.server+"/sharing/rest",ssl:t.ssl,token:t.token,username:t.userId,tokenExpires:new Date(t.expires)})},e.parentMessageHandler=function(t){if("arcgis:auth:credential"===t.data.type)return e.fromCredential(t.data.credential);throw"arcgis:auth:rejected"===t.data.type?new Error(t.data.message):new Error("Unknown message type.")},e.prototype.toCredential=function(){return{expires:this.tokenExpires.getTime(),server:this.portal,ssl:this.ssl,token:this.token,userId:this.username}},e.prototype.getUser=function(e){var t=this;if(this._pendingUserRequest)return this._pendingUserRequest;if(this._user)return Promise.resolve(this._user);var n=this.portal+"/community/self",i=Object(r.a)(Object(r.a)({httpMethod:"GET",authentication:this},e),{rawResponse:!1});return this._pendingUserRequest=Object(o.d)(n,i).then((function(e){return t._user=e,t._pendingUserRequest=null,e})),this._pendingUserRequest},e.prototype.getUsername=function(){return this.username?Promise.resolve(this.username):this._user?Promise.resolve(this._user.username):this.getUser().then((function(e){return e.username}))},e.prototype.getToken=function(e,t){return function(e,t){var n=h(e),r=h(t),i=f(e),a=f(t);return!(!n||!r||i!==a)}(this.portal,e)||new RegExp(this.portal,"i").test(e)?this.getFreshToken(t):this.getTokenForServer(e,t)},e.prototype.validateAppAccess=function(e){return this.getToken(this.portal).then((function(t){return Object(p.a)(t,e)}))},e.prototype.toJSON=function(){return{clientId:this.clientId,refreshToken:this.refreshToken,refreshTokenExpires:this.refreshTokenExpires,username:this.username,password:this.password,token:this.token,tokenExpires:this.tokenExpires,portal:this.portal,ssl:this.ssl,tokenDuration:this.tokenDuration,redirectUri:this.redirectUri,refreshTokenTTL:this.refreshTokenTTL}},e.prototype.serialize=function(){return JSON.stringify(this)},e.prototype.enablePostMessageAuth=function(e,t){!t&&window&&(t=window),this._hostHandler=this.createPostMessageHandler(e),t.addEventListener("message",this._hostHandler,!1)},e.prototype.disablePostMessageAuth=function(e){!e&&window&&(e=window),e.removeEventListener("message",this._hostHandler,!1)},e.prototype.refreshSession=function(e){return this._user=null,this.username&&this.password?this.refreshWithUsernameAndPassword(e):this.clientId&&this.refreshToken?this.refreshWithRefreshToken():Promise.reject(new o.a("Unable to refresh token."))},e.prototype.getServerRootUrl=function(e){var t=Object(i.a)(e).split(/\/rest(\/admin)?\/services(?:\/|#|\?|$)/)[0].match(/(https?:\/\/)(.+)/),n=(t[0],t[1]),r=t[2].split("/"),a=r[0],o=r.slice(1);return""+n+a.toLowerCase()+"/"+o.join("/")},e.prototype.createPostMessageHandler=function(e){var t=this;return function(n){if(e.indexOf(n.origin)>-1){var r=t.toCredential();n.source.postMessage({type:"arcgis:auth:credential",credential:r},n.origin)}else n.source.postMessage({type:"arcgis:auth:rejected",message:"Rejected authentication request."},n.origin)}},e.prototype.getTokenForServer=function(e,t){var n=this,r=this.getServerRootUrl(e),i=this.trustedServers[r];return i&&i.expires&&i.expires.getTime()>Date.now()?Promise.resolve(i.token):(this._pendingTokenRequests[r]||(this._pendingTokenRequests[r]=Object(o.d)(r+"/rest/info").then((function(i){if(i.owningSystemUrl){if(d(i.owningSystemUrl,n.portal))return Object(o.d)(i.owningSystemUrl+"/sharing/rest/info",t);throw new o.a(e+" is not federated with "+n.portal+".","NOT_FEDERATED")}if(i.authInfo&&void 0!==n.trustedServers[r])return Promise.resolve({authInfo:i.authInfo});throw new o.a(e+" is not federated with any portal and is not explicitly trusted.","NOT_FEDERATED")})).then((function(e){return e.authInfo.tokenServicesUrl})).then((function(t){return n.token&&n.tokenExpires.getTime()>Date.now()?Object(c.a)(t,{params:{token:n.token,serverUrl:e,expiration:n.tokenDuration,client:"referer"}}):Object(c.a)(t,{params:{username:n.username,password:n.password,expiration:n.tokenDuration,client:"referer"}}).then((function(e){return n._token=e.token,n._tokenExpires=new Date(e.expires),e}))})).then((function(e){return n.trustedServers[r]={expires:new Date(e.expires),token:e.token},delete n._pendingTokenRequests[r],e.token}))),this._pendingTokenRequests[r])},e.prototype.getFreshToken=function(e){var t=this;return this.token&&!this.tokenExpires||this.token&&this.tokenExpires&&this.tokenExpires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequests[this.portal]||(this._pendingTokenRequests[this.portal]=this.refreshSession(e).then((function(e){return t._pendingTokenRequests[t.portal]=null,e.token}))),this._pendingTokenRequests[this.portal])},e.prototype.refreshWithUsernameAndPassword=function(e){var t=this,n=Object(r.a)({params:{username:this.username,password:this.password,expiration:this.tokenDuration}},e);return Object(c.a)(this.portal+"/generateToken",n).then((function(e){return t._token=e.token,t._tokenExpires=new Date(e.expires),t}))},e.prototype.refreshWithRefreshToken=function(e){var t=this;if(this.refreshToken&&this.refreshTokenExpires&&this.refreshTokenExpires.getTime()<Date.now())return this.refreshRefreshToken(e);var n=Object(r.a)({params:{client_id:this.clientId,refresh_token:this.refreshToken,grant_type:"refresh_token"}},e);return Object(u.a)(this.portal+"/oauth2/token",n).then((function(e){return t._token=e.token,t._tokenExpires=e.expires,t}))},e.prototype.refreshRefreshToken=function(e){var t=this,n=Object(r.a)({params:{client_id:this.clientId,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,grant_type:"exchange_refresh_token"}},e);return Object(u.a)(this.portal+"/oauth2/token",n).then((function(e){return t._token=e.token,t._tokenExpires=e.expires,t._refreshToken=e.refreshToken,t._refreshTokenExpires=new Date(Date.now()+60*(t.refreshTokenTTL-1)*1e3),t}))},e}()},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){throw new Error('"'+e+'" is read-only')}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"applyEdits",(function(){return v})),n.d(t,"isEditableLayer",(function(){return b}));var r=n(7),i=n.n(r),a=n(10),o=n(16),s=n(23),c=n(4),u=n(20),l=n(12),h=n(17),f=n(39),d=n(80),p=n(427);function b(e){var t,n;return!0===(null==e||null==(t=e.capabilities)||null==(n=t.operations)?void 0:n.supportsEditing)&&e&&(!("editingEnabled"in e)||e.editingEnabled)}function v(e,t,n,r){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(i.a.mark((function e(t,n,r,c){var l,d,b,v,y,j,w,_;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b={edits:r,result:Object(h.c)((function(e,t){l=e,d=t}))},t.emit("apply-edits",b),e.prev=2,e.next=5,function(){var e=Object(o.a)(i.a.mark((function e(t,n,r,s){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:if(function(e){return e&&null!=e.applyEdits}(n)){e.next=4;break}return e.abrupt("return",Object(h.r)(new u.a("".concat(t.type,"-layer:no-editing-support"),"Layer source does not support applyEdits capability",{layer:t})));case 4:if(t.editingEnabled){e.next=6;break}throw new u.a("".concat(t.type,"-layer:editing-disabled"),"Editing is disabled for layer",{layer:t});case 6:return e.next=8,function(e,t,n){var r=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),s=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments);if(!t||!r&&!s)throw new u.a("".concat(e.type,"-layer:missing-parameters"),"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!e.capabilities.data.isVersioned&&n&&n.gdbVersion)throw new u.a("".concat(e.type,"-layer:invalid-parameter"),"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");if(!e.capabilities.editing.supportsRollbackOnFailure&&n&&n.rollbackOnFailureEnabled)throw new u.a("".concat(e.type,"-layer:invalid-parameter"),"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");if(!e.capabilities.editing.supportsGlobalId&&n&&n.globalIdUsed)throw new u.a("".concat(e.type,"-layer:invalid-parameter"),"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!e.capabilities.editing.supportsGlobalId&&s)throw new u.a("".concat(e.type,"-layer:invalid-parameter"),"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");if((!n||!n.globalIdUsed)&&s)throw new u.a("".concat(e.type,"-layer:invalid-parameter"),"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true");var c=Object(a.a)({},t);if(c.addFeatures=t&&f.a.isCollection(t.addFeatures)?t.addFeatures.toArray():c.addFeatures||[],c.updateFeatures=t&&f.a.isCollection(t.updateFeatures)?t.updateFeatures.toArray():c.updateFeatures||[],c.deleteFeatures=t&&f.a.isCollection(t.deleteFeatures)?t.deleteFeatures.toArray():c.deleteFeatures||[],c.addFeatures.length&&!e.capabilities.operations.supportsAdd)throw new u.a("".concat(e.type,"-layer:unsupported-operation"),"Layer does not support adding features.");if(c.updateFeatures.length&&!e.capabilities.operations.supportsUpdate)throw new u.a("".concat(e.type,"-layer:unsupported-operation"),"Layer does not support updating features.");if(c.deleteFeatures.length&&!e.capabilities.operations.supportsDelete)throw new u.a("".concat(e.type,"-layer:unsupported-operation"),"Layer does not support deleting features.");c.addAttachments=c.addAttachments||[],c.updateAttachments=c.updateAttachments||[],c.deleteAttachments=c.deleteAttachments||[],c.addFeatures=c.addFeatures.map(O),c.updateFeatures=c.updateFeatures.map(O);var l=n&&n.globalIdUsed;return c.addFeatures.forEach((function(t){return m(t,e,l)})),c.updateFeatures.forEach((function(t){return m(t,e,l)})),c.deleteFeatures.forEach((function(t){return m(t,e,l)})),c.addAttachments.forEach((function(t){return g(t,e)})),c.updateAttachments.forEach((function(t){return g(t,e)})),function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.addFeatures,r=t.updateFeatures,a=n.concat(r).map((function(e){return e.geometry})),e.next=5,Object(p.a)(a);case 5:return o=e.sent,s=n.length,c=r.length,e.abrupt("return",(o.slice(0,s).forEach((function(e,n){t.addFeatures[n].geometry=e})),o.slice(s,s+c).forEach((function(e,n){t.updateFeatures[n].geometry=e})),t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(c)}(t,r,s);case 8:if((c=e.sent).addFeatures.length||c.updateFeatures.length||c.deleteFeatures.length||c.addAttachments.length||c.updateAttachments.length||c.deleteAttachments.length){e.next=11;break}return e.abrupt("return",{edits:c,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}});case 11:return e.t0=c,e.next=14,n.applyEdits(c,s);case 14:return e.t1=e.sent,e.abrupt("return",{edits:e.t0,results:e.t1});case 16:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,n,r,c);case 5:return v=e.sent,y=v.results,j=v.edits,_={edits:j,addedFeatures:(w=function(e){return e.filter((function(e){return!e.error})).map(s.a)})(y.addFeatureResults),updatedFeatures:w(y.updateFeatureResults),deletedFeatures:w(y.deleteFeatureResults),addedAttachments:w(y.addAttachmentResults),updatedAttachments:w(y.updateAttachmentResults),deletedAttachments:w(y.deleteAttachmentResults)},e.abrupt("return",((_.addedFeatures.length||_.updatedFeatures.length||_.deletedFeatures.length||_.addedAttachments.length||_.updatedAttachments.length||_.deletedAttachments.length)&&t.emit("edits",_),l(_),y));case 13:throw e.prev=13,e.t0=e.catch(2),d(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function m(e,t,n){if(n){if("attributes"in e&&!e.attributes[t.globalIdField])throw new u.a("".concat(t.type,"-layer:invalid-parameter"),"Feature should have 'globalId' when 'globalIdUsed' is true");if(!("attributes"in e)&&!e.globalId)throw new u.a("".concat(t.type,"-layer:invalid-parameter"),"'globalId' of the feature should be passed when 'globalIdUsed' is true")}if("geometry"in e&&Object(c.h)(e.geometry)){if(e.geometry.hasZ&&!1===t.capabilities.data.supportsZ)throw new u.a("".concat(t.type,"-layer:z-unsupported"),"Layer does not support z values while feature has z values.");if(e.geometry.hasM&&!1===t.capabilities.data.supportsM)throw new u.a("".concat(t.type,"-layer:m-unsupported"),"Layer does not support m values while feature has m values.")}}function g(e,t){var n=e.feature,r=e.attachment;if(!n||"attributes"in n&&!n.attributes[t.globalIdField])throw new u.a("".concat(t.type,"-layer:invalid-parameter"),"Attachment should have reference to a feature with 'globalId'");if(!("attributes"in n)&&!n.globalId)throw new u.a("".concat(t.type,"-layer:invalid-parameter"),"Attachment should have reference to 'globalId' of the parent feature");if(!r.globalId)throw new u.a("".concat(t.type,"-layer:invalid-parameter"),"Attachment should have 'globalId'");if(!r.data&&!r.uploadId)throw new u.a("".concat(t.type,"-layer:invalid-parameter"),"Attachment should have 'data' or 'uploadId'");if(!(r.data instanceof File&&r.data.name)&&!r.name)throw new u.a("".concat(t.type,"-layer:invalid-parameter"),"'name' is required when attachment is specified as Base64 encoded string using 'data'");if(!t.capabilities.editing.supportsUploadWithItemId&&r.uploadId)throw new u.a("".concat(t.type,"-layer:invalid-parameter"),"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"==typeof r.data){var i=Object(l.i)(r.data);if(i&&!i.isBase64)throw new u.a("".concat(t.type,"-layer:invalid-parameter"),"Attachment 'data' should be a Blob, File or Base64 encoded string")}}function O(e){var t=new d.a;return e.attributes||(e.attributes={}),t.geometry=e.geometry,t.attributes=e.attributes,t}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n(763))&&r.__esModule?r:{default:r}},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<a.length;c++){var u=a[c];if(!s(u))return!1;var l=e[u],h=t[u];if(!1===(i=n?n.call(r,l,h,u):void 0)||void 0===i&&l!==h)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,r,c,u,f){for(var d,p,b,v,O,w=0,_=0,x=0,k=0,S=0,P=0,D=b=d=0,R=0,N=0,F=0,z=0,V=c.length,U=V-1,B="",G="",q="",H="";R<V;){if(p=c.charCodeAt(R),R===U&&0!==_+k+x+w&&(0!==_&&(p=47===_?10:47),k=x=w=0,V++,U++),0===_+k+x+w){if(R===U&&(0<N&&(B=B.replace(h,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=c.charAt(R)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),b=1,z=++R;R<V;){switch(p=c.charCodeAt(R)){case 123:b++;break;case 125:b--;break;case 47:switch(p=c.charCodeAt(R+1)){case 42:case 47:e:{for(D=R+1;D<U;++D)switch(c.charCodeAt(D)){case 47:if(42===p&&42===c.charCodeAt(D-1)&&R+2!==D){R=D+1;break e}break;case 10:if(47===p){R=D+1;break e}}R=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;R++<U&&c.charCodeAt(R)!==p;);}if(0===b)break;R++}switch(b=c.substring(z,R),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),d){case 64:switch(0<N&&(B=B.replace(h,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:N=r;break;default:N=A}if(z=(b=t(r,N,b,p,f+1)).length,0<I&&(O=s(3,b,N=n(A,B,F),r,T,E,z,p,f,u),B=N.join(""),void 0!==O&&0===(z=(b=O.trim()).length)&&(p=0,b="")),0<z)switch(p){case 115:B=B.replace(j,o);case 100:case 109:case 45:b=B+"{"+b+"}";break;case 107:b=(B=B.replace(y,"$1 $2"))+"{"+b+"}",b=1===C||2===C&&a("@"+b,3)?"@-webkit-"+b+"@"+b:"@"+b;break;default:b=B+b,112===u&&(G+=b,b="")}else b="";break;default:b=t(r,n(r,B,F),b,u,f+1)}q+=b,b=F=N=D=d=0,B="",p=c.charCodeAt(++R);break;case 125:case 59:if(1<(z=(B=(0<N?B.replace(h,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(z=(B=B.replace(" ",":")).length),0<I&&void 0!==(O=s(1,B,r,e,T,E,G.length,u,f,u))&&0===(z=(B=O.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=B+c.charAt(R);break}default:58!==B.charCodeAt(z-1)&&(G+=i(B,d,p,B.charCodeAt(2)))}F=N=D=d=0,B="",p=c.charCodeAt(++R)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==u&&0<B.length&&(N=1,B+="\0"),0<I*L&&s(0,B,r,e,T,E,G.length,u,f,u),E=1,T++;break;case 59:case 125:if(0===_+k+x+w){E++;break}default:switch(E++,v=c.charAt(R),p){case 9:case 32:if(0===k+w+_)switch(S){case 44:case 58:case 9:case 32:v="";break;default:32!==p&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===k+_+w&&(N=F=1,v="\f"+v);break;case 108:if(0===k+_+w+M&&0<D)switch(R-D){case 2:112===S&&58===c.charCodeAt(R-3)&&(M=S);case 8:111===P&&(M=P)}break;case 58:0===k+_+w&&(D=R);break;case 44:0===_+x+k+w&&(N=1,v+="\r");break;case 34:case 39:0===_&&(k=k===p?0:0===k?p:k);break;case 91:0===k+_+x&&w++;break;case 93:0===k+_+x&&w--;break;case 41:0===k+_+w&&x--;break;case 40:if(0===k+_+w){if(0===d)switch(2*S+3*P){case 533:break;default:d=1}x++}break;case 64:0===_+x+k+w+D+b&&(b=1);break;case 42:case 47:if(!(0<k+w+x))switch(_){case 0:switch(2*p+3*c.charCodeAt(R+1)){case 235:_=47;break;case 220:z=R,_=42}break;case 42:47===p&&42===S&&z+2!==R&&(33===c.charCodeAt(z+2)&&(G+=c.substring(z,R+1)),v="",_=0)}}0===_&&(B+=v)}P=S,S=p,R++}if(0<(z=G.length)){if(N=r,0<I&&(void 0!==(O=s(2,G,N,e,T,E,z,u,f,u))&&0===(G=O).length))return H+G+q;if(G=N.join(",")+"{"+G+"}",0!==C*M){switch(2!==C||a(G,2)||(M=0),M){case 111:G=G.replace(g,":-moz-$1")+G;break;case 112:G=G.replace(m,"::-webkit-input-$1")+G.replace(m,"::-moz-$1")+G.replace(m,":-ms-input-$1")+G}M=0}}return H+G+q}function n(e,t,n){var i=t.trim().split(b);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var c=s=0;for(t=[];s<a;++s)for(var u=0;u<o;++u)t[c++]=r(e[u]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var c=o.substring(e,o.length-1).trim();return c=o.substring(0,e).trim()+c+";",1===C||2===C&&a(c,1)?"-webkit-"+c+c:c}if(0===C||2===C&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(S,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(c=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+c+o;case 1005:return d.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(t=(c=o.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=o.replace(O,"tb");break;case 232:c=o.replace(O,"tb-rl");break;case 220:c=o.replace(O,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+c+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(c=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:o=o.replace(c,"-webkit-"+c)+";"+o;break;case 207:case 102:o=o.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(c,"-webkit-"+c)+";"+o.replace(c,"-ms-"+c+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return c=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+c+"-ms-flex-"+c+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(c,"-webkit-"+c)+o.replace(c,"-moz-"+c.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(x,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,c,l){for(var h,f=0,d=t;f<I;++f)switch(h=P[f].call(u,e,d,n,r,i,a,o,s,c,l)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function c(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?C=1:(C=2,D=e):C=0),c}function u(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<I){var i=s(-1,n,r,r,T,E,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(A,r,n,0,0);return 0<I&&(void 0!==(i=s(-2,a,r,r,T,E,a.length,0,0,0))&&(a=i)),"",M=0,E=T=1,a}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,b=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,g=/:(read-only)/g,O=/[svh]\w+-[tblr]{2}/,j=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,_=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,E=1,T=1,M=0,C=1,A=[],P=[],I=0,D=null,L=0;return u.use=function e(t){switch(t){case void 0:case null:I=P.length=0;break;default:if("function"===typeof t)P[I++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},u.set=c,void 0!==e&&c(e),u}},function(e,t,n){e.exports=function(){"use strict";return function(e){var t="/*|*/",n=t+"}";function r(t){if(t)try{e(t+"}")}catch(n){}}return function(i,a,o,s,c,u,l,h,f,d){switch(i){case 1:if(0===f&&64===a.charCodeAt(0))return e(a+";"),"";break;case 2:if(0===h)return a+t;break;case 3:switch(h){case 102:case 112:return e(o[0]+a),"";default:return a+(0===d?t:"")}case-2:a.split(n).forEach(r)}}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"TopNavBrand",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"TopNavTitle",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"TopNavList",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"TopNavLink",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"TopNavActionsList",{enumerable:!0,get:function(){return c.default}});var r=u(n(771)),i=u(n(542)),a=u(n(543)),o=u(n(544)),s=u(n(315)),c=u(n(504));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"SubNavTitle",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"SubNavList",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"SubNavLink",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"SubNavActions",{enumerable:!0,get:function(){return s.default}});var r=c(n(439)),i=c(n(773)),a=c(n(405)),o=c(n(422)),s=c(n(633));function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"ArcgisAccountMenuItem",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"useAccountManager",{enumerable:!0,get:function(){return a.default}});var r=o(n(774)),i=o(n(338)),a=o(n(806));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(634),i=n(784),a=n(788),o=n(790),s=n(791),c=n(793),u=Date.prototype.getTime;function l(e,t,n){var d=n||{};return!!(d.strict?a(e,t):e===t)||(!e||!t||"object"!==typeof e&&"object"!==typeof t?d.strict?a(e,t):e==t:function(e,t,n){var a,d;if(typeof e!==typeof t)return!1;if(h(e)||h(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e)!==i(t))return!1;var p=o(e),b=o(t);if(p!==b)return!1;if(p||b)return e.source===t.source&&s(e)===s(t);if(c(e)&&c(t))return u.call(e)===u.call(t);var v=f(e),y=f(t);if(v!==y)return!1;if(v||y){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}if(typeof e!==typeof t)return!1;try{var m=r(e),g=r(t)}catch(O){return!1}if(m.length!==g.length)return!1;for(m.sort(),g.sort(),a=m.length-1;a>=0;a--)if(m[a]!=g[a])return!1;for(a=m.length-1;a>=0;a--)if(!l(e[d=m[a]],t[d],n))return!1;return!0}(e,t,d))}function h(e){return null===e||void 0===e}function f(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}e.exports=l},function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return l})),n.d(t,"projectGeometry",(function(){return f}));var r=n(7),i=n.n(r),a=n(16),o=n(106),s=n(20),c=n(121),u=n(470);function l(){return h.apply(this,arguments)}function h(){return(h=Object(a.a)(i.a.mark((function e(){var t,r,a,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:null,r=u.length>1?u[1]:void 0,!o.a.geometryServiceUrl){e.next=9;break}return e.next=6,n.e(9).then(n.bind(null,734));case 6:return e.t0=e.sent.default,e.t1={url:o.a.geometryServiceUrl},e.abrupt("return",new e.t0(e.t1));case 9:if(t){e.next=11;break}throw new s.a("internal:geometry-service-url-not-configured");case 11:return a="portal"in t?t.portal||c.a.getDefault():t,e.next=14,a.load({signal:r});case 14:if(!(a.helperServices&&a.helperServices.geometry&&a.helperServices.geometry.url)){e.next=21;break}return e.next=18,n.e(9).then(n.bind(null,734));case 18:return e.t2=e.sent.default,e.t3={url:a.helperServices.geometry.url},e.abrupt("return",new e.t2(e.t3));case 21:throw new s.a("internal:geometry-service-url-not-configured");case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return d.apply(this,arguments)}function d(){return(d=Object(a.a)(i.a.mark((function e(t,n){var r,a,o,c,h,f=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>2&&void 0!==f[2]?f[2]:null,a=f.length>3?f[3]:void 0,e.next=4,l(r,a);case 4:return o=e.sent,(c=new u.a).geometries=[t],c.outSpatialReference=n,e.next=9,o.project(c,{signal:a});case 9:if(!(h=e.sent)||!Array.isArray(h)||1!==h.length){e.next=12;break}return e.abrupt("return",h[0]);case 12:throw new s.a("internal:geometry-service-projection-failed");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ha}));var r={};n.r(r),n.d(r,"reversed",(function(){return Z})),n.d(r,"mirrored",(function(){return $})),n.d(r,"createReversedEasing",(function(){return ee})),n.d(r,"createMirroredEasing",(function(){return te})),n.d(r,"createExpoIn",(function(){return ne})),n.d(r,"createBackIn",(function(){return re})),n.d(r,"createAnticipateEasing",(function(){return ie})),n.d(r,"linear",(function(){return ae})),n.d(r,"easeIn",(function(){return oe})),n.d(r,"easeOut",(function(){return se})),n.d(r,"easeInOut",(function(){return ce})),n.d(r,"circIn",(function(){return ue})),n.d(r,"circOut",(function(){return le})),n.d(r,"circInOut",(function(){return he})),n.d(r,"backIn",(function(){return fe})),n.d(r,"backOut",(function(){return de})),n.d(r,"backInOut",(function(){return pe})),n.d(r,"anticipate",(function(){return be})),n.d(r,"bounceOut",(function(){return ve})),n.d(r,"bounceIn",(function(){return ye})),n.d(r,"bounceInOut",(function(){return me})),n.d(r,"cubicBezier",(function(){return Se}));var i=n(25),a=n(19);var o=0,s="undefined"!==typeof window&&void 0!==window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){var t=Date.now(),n=Math.max(0,16.7-(t-o));o=t+n,setTimeout((function(){return e(o)}),n)},c=1/60*1e3,u=!0,l=!1,h=!1,f={delta:0,timestamp:0},d=["read","update","preRender","render","postRender"],p=function(e){return l=e},b=d.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=0,o=new WeakSet,s=new WeakSet,c={cancel:function(e){var t=n.indexOf(e);o.add(e),-1!==t&&n.splice(t,1)},process:function(u){var l,h;if(i=!0,t=(l=[n,t])[0],(n=l[1]).length=0,r=t.length)for(a=0;a<r;a++)(h=t[a])(u),!0!==s.has(h)||o.has(h)||(c.schedule(h),e(!0));i=!1},schedule:function(e,a,c){void 0===a&&(a=!1),void 0===c&&(c=!1);var u=c&&i,l=u?t:n;o.delete(e),a&&s.add(e),-1===l.indexOf(e)&&(l.push(e),u&&(r=t.length))}};return c}(p),e}),{}),v=d.reduce((function(e,t){var n=b[t];return e[t]=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),l||O(),n.schedule(e,t,r),e},e}),{}),y=d.reduce((function(e,t){return e[t]=b[t].cancel,e}),{}),m=function(e){return b[e].process(f)},g=function e(t){l=!1,f.delta=u?c:Math.max(Math.min(t-f.timestamp,40),1),u||(c=f.delta),f.timestamp=t,h=!0,d.forEach(m),h=!1,l&&(u=!1,s(e))},O=function(){l=!0,u=!0,h||s(g)},j=function(){return f},w=v,_=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},x=function(e){return e%1?Number(e.toFixed(5)):e},k=/(-)?(\d[\d\.]*)/g,S=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,E=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i,T={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},M=Object(i.a)(Object(i.a)({},T),{transform:_(0,1)}),C=Object(i.a)(Object(i.a)({},T),{default:1}),A=function(e){return{test:function(t){return"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},P=A("deg"),I=A("%"),D=A("px"),L=A("vh"),R=A("vw"),N=Object(i.a)(Object(i.a)({},I),{parse:function(e){return I.parse(e)/100},transform:function(e){return I.transform(100*e)}}),F=_(0,255),z=function(e){return void 0!==e.red},V=function(e){return void 0!==e.hue};var U=function(e){return function(t){if("string"!==typeof t)return t;for(var n={},r=function(e){return e.substring(e.indexOf("(")+1,e.lastIndexOf(")"))}(t).replace(/(,|\/)/g," ").split(/ \s*/),i=0;i<4;i++)n[e[i]]=void 0!==r[i]?parseFloat(r[i]):1;return n}},B=Object(i.a)(Object(i.a)({},T),{transform:function(e){return Math.round(F(e))}});function G(e,t){return e.startsWith(t)&&E.test(e)}var q={test:function(e){return"string"===typeof e?G(e,"rgb"):z(e)},parse:U(["red","green","blue","alpha"]),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha;return"rgba("+t+", "+n+", "+r+", "+(void 0===i?1:i)+")"}({red:B.transform(t),green:B.transform(n),blue:B.transform(r),alpha:x(M.transform(a))})}},H={test:function(e){return"string"===typeof e?G(e,"hsl"):V(e)},parse:U(["hue","saturation","lightness","alpha"]),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;return"hsla("+t+", "+n+", "+r+", "+(void 0===i?1:i)+")"}({hue:Math.round(t),saturation:I.transform(x(n)),lightness:I.transform(x(r)),alpha:x(M.transform(a))})}},W=Object(i.a)(Object(i.a)({},q),{test:function(e){return"string"===typeof e&&G(e,"#")},parse:function(e){var t="",n="",r="";return e.length>4?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),t+=t,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:1}}}),Y={test:function(e){return"string"===typeof e&&E.test(e)||z(e)||V(e)},parse:function(e){return q.test(e)?q.parse(e):H.test(e)?H.parse(e):W.test(e)?W.parse(e):e},transform:function(e){return z(e)?q.transform(e):V(e)?H.transform(e):e}},J="${c}",K="${n}",X=function(e){return"number"===typeof e?0:e},Q={test:function(e){if("string"!==typeof e||!isNaN(e))return!1;var t=0,n=e.match(k),r=e.match(S);return n&&(t+=n.length),r&&(t+=r.length),t>0},parse:function(e){var t=e,n=[],r=t.match(S);r&&(t=t.replace(S,J),n.push.apply(n,r.map(Y.parse)));var i=t.match(k);return i&&n.push.apply(n,i.map(T.parse)),n},createTransformer:function(e){var t=e,n=0,r=e.match(S),i=r?r.length:0;if(r)for(var a=0;a<i;a++)t=t.replace(r[a],J),n++;var o=t.match(k),s=o?o.length:0;if(o)for(a=0;a<s;a++)t=t.replace(o[a],K),n++;return function(e){for(var r=t,a=0;a<n;a++)r=r.replace(a<i?J:K,a<i?Y.transform(e[a]):x(e[a]));return r}},getAnimatableNone:function(e){var t=Q.parse(e);return Q.createTransformer(e)(t.map(X))}},Z=function(e){return function(t){return 1-e(1-t)}},$=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},ee=Z,te=$,ne=function(e){return function(t){return Math.pow(t,e)}},re=function(e){return function(t){return t*t*((e+1)*t-e)}},ie=function(e){var t=re(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}},ae=function(e){return e},oe=ne(2),se=Z(oe),ce=$(oe),ue=function(e){return 1-Math.sin(Math.acos(e))},le=Z(ue),he=$(le),fe=re(1.525),de=Z(fe),pe=$(fe),be=ie(1.525),ve=function(e){var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},ye=function(e){return 1-ve(1-e)},me=function(e){return e<.5?.5*(1-ve(1-2*e)):.5*ve(2*e-1)+.5},ge=.1,Oe="undefined"!==typeof Float32Array,je=function(e,t){return 1-3*t+3*e},we=function(e,t){return 3*t-6*e},_e=function(e){return 3*e},xe=function(e,t,n){return 3*je(t,n)*e*e+2*we(t,n)*e+_e(t)},ke=function(e,t,n){return((je(t,n)*e+we(t,n))*e+_e(t))*e};function Se(e,t,n,r){var i=Oe?new Float32Array(11):new Array(11),a=function(t){for(var r,a,o,s=0,c=1;10!==c&&i[c]<=t;++c)s+=ge;return--c,r=(t-i[c])/(i[c+1]-i[c]),(o=xe(a=s+r*ge,e,n))>=.001?function(t,r){for(var i=0,a=0;i<8;++i){if(0===(a=xe(r,e,n)))return r;r-=(ke(r,e,n)-t)/a}return r}(t,a):0===o?a:function(t,r,i){var a,o,s=0;do{(a=ke(o=r+(i-r)/2,e,n)-t)>0?i=o:r=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,s,s+ge)};!function(){for(var t=0;t<11;++t)i[t]=ke(t*ge,e,n)}();return function(i){return e===t&&n===r?i:0===i?0:1===i?1:ke(a(i),t,r)}}var Ee={x:0,y:0,z:0},Te=function(e){return"number"===typeof e},Me=function(e){return function(t,n,r){return void 0!==r?e(t,n,r):function(r){return e(t,n,r)}}},Ce=Me((function(e,t,n){return Math.min(Math.max(n,e),t)})),Ae=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},Pe=function(e){return Ae(e)&&e.hasOwnProperty("z")},Ie=function(e,t){return Math.abs(e-t)},De=function(e,t){if(void 0===t&&(t=Ee),Te(e)&&Te(t))return Ie(e,t);if(Ae(e)&&Ae(t)){var n=Ie(e.x,t.x),r=Ie(e.y,t.y),i=Pe(e)&&Pe(t)?Ie(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}return 0},Le=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},Re=function(e,t,n){return-n*e+n*t+e},Ne=function(){return(Ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Fe=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},ze=[W,q,H],Ve=function(e){return ze.find((function(t){return t.test(e)}))},Ue=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},Be=function(e,t){var n=Ve(e),r=Ve(t);Ue(e),Ue(t),n.transform,r.transform;var i=n.parse(e),a=r.parse(t),o=Ne({},i),s=n===H?Re:Fe;return function(e){for(var t in o)"alpha"!==t&&(o[t]=s(i[t],a[t],e));return o.alpha=Re(i.alpha,a.alpha,e),n.transform(o)}},Ge=function(e,t){return function(n){return t(e(n))}},qe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(Ge)};function He(e,t){return Te(e)?function(n){return Re(e,t,n)}:Y.test(e)?Be(e,t):Je(e,t)}var We=function(e,t){var n=e.slice(),r=n.length,i=e.map((function(e,n){return He(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}};function Ye(e){for(var t=Q.parse(e),n=t.length,r=0,i=0,a=0,o=0;o<n;o++)r||"number"===typeof t[o]?r++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}var Je=function(e,t){var n=Q.createTransformer(t),r=Ye(e),i=Ye(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&(r.numNumbers,i.numNumbers),qe(We(r.parsed,i.parsed),n)};var Ke,Xe=function(e){return e},Qe=function(e){return void 0===e&&(e=Xe),Me((function(t,n,r){var i=n-r,a=-(0-t+1)*(0-e(Math.abs(i)));return i<=0?n+a:n-a}))},Ze=(Qe(),Qe(Math.sqrt),function(e,t){return t?e*(1e3/t):0}),$e=(Me((function(e,t,n){var r=t-e;return((n-e)%r+r)%r+e})),Ce(0,1),function(e){var t=e.onRead,n=e.onRender,r=e.uncachedValues,a=void 0===r?new Set:r,o=e.useCache,s=void 0===o||o;return function(e){void 0===e&&(e={});var r=Object(i.c)(e,[]),o={},c=[],u=!1;function l(e,t){e.startsWith("--")&&(r.hasCSSVariable=!0);var n=o[e];o[e]=t,o[e]!==n&&(-1===c.indexOf(e)&&c.push(e),u||(u=!0,w.render(h.render)))}var h={get:function(e,n){return void 0===n&&(n=!1),!n&&s&&!a.has(e)&&void 0!==o[e]?o[e]:t(e,r)},set:function(e,t){if("string"===typeof e)l(e,t);else for(var n in e)l(n,e[n]);return this},render:function(e){return void 0===e&&(e=!1),(u||!0===e)&&(n(o,r,c),u=!1,c.length=0),this}};return h}}),et=/([a-z])([A-Z])/g,tt=function(e){return e.replace(et,"$1-$2").toLowerCase()},nt=new Map,rt=new Map,it=["Webkit","Moz","O","ms",""],at=it.length,ot="undefined"!==typeof document,st=function(e,t){return rt.set(e,tt(t))},ct=function(e,t){void 0===t&&(t=!1);var n=t?rt:nt;return n.has(e)||(ot?function(e){Ke=Ke||document.createElement("div");for(var t=0;t<at;t++){var n=it[t],r=""===n,i=r?e:n+e.charAt(0).toUpperCase()+e.slice(1);if(i in Ke.style||r){if(r&&"clipPath"===e&&rt.has(e))return;nt.set(e,i),st(e,(r?"":"-")+tt(i))}}}(e):function(e){st(e,e)}(e)),n.get(e)||e},ut=["","X","Y","Z"],lt=["translate","scale","rotate","skew","transformPerspective"].reduce((function(e,t){return ut.reduce((function(e,n){return e.push(t+n),e}),e)}),["x","y","z"]),ht=lt.reduce((function(e,t){return e[t]=!0,e}),{});function ft(e){return!0===ht[e]}function dt(e,t){return lt.indexOf(e)-lt.indexOf(t)}var pt=new Set(["originX","originY","originZ"]);function bt(e){return pt.has(e)}var vt=Object(i.a)(Object(i.a)({},T),{transform:Math.round}),yt={color:Y,backgroundColor:Y,outlineColor:Y,fill:Y,stroke:Y,borderColor:Y,borderTopColor:Y,borderRightColor:Y,borderBottomColor:Y,borderLeftColor:Y,borderWidth:D,borderTopWidth:D,borderRightWidth:D,borderBottomWidth:D,borderLeftWidth:D,borderRadius:D,radius:D,borderTopLeftRadius:D,borderTopRightRadius:D,borderBottomRightRadius:D,borderBottomLeftRadius:D,width:D,maxWidth:D,height:D,maxHeight:D,size:D,top:D,right:D,bottom:D,left:D,padding:D,paddingTop:D,paddingRight:D,paddingBottom:D,paddingLeft:D,margin:D,marginTop:D,marginRight:D,marginBottom:D,marginLeft:D,rotate:P,rotateX:P,rotateY:P,rotateZ:P,scale:C,scaleX:C,scaleY:C,scaleZ:C,skew:P,skewX:P,skewY:P,distance:D,translateX:D,translateY:D,translateZ:D,x:D,y:D,z:D,perspective:D,opacity:M,originX:N,originY:N,originZ:D,zIndex:vt,fillOpacity:M,strokeOpacity:M,numOctaves:vt},mt=function(e){return yt[e]},gt=function(e,t){return t&&"number"===typeof e?t.transform(e):e},Ot="scrollLeft",jt="scrollTop",wt=new Set([Ot,jt]),_t=new Set([Ot,jt,"transform"]),xt={x:"translateX",y:"translateY",z:"translateZ"};function kt(e){return"function"===typeof e}function St(e,t,n,r,i,a,o,s){void 0===t&&(t=!0),void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i={}),void 0===a&&(a=[]),void 0===o&&(o=!1),void 0===s&&(s=!0);var c=!0,u=!1,l=!1;for(var h in e){var f=e[h],d=mt(h),p=gt(f,d);ft(h)?(u=!0,r[h]=p,a.push(h),c&&(d.default&&f!==d.default||!d.default&&0!==f)&&(c=!1)):bt(h)?(i[h]=p,l=!0):_t.has(h)&&kt(p)||(n[ct(h,o)]=p)}return(u||"function"===typeof e.transform)&&(n.transform=function(e,t,n,r,i,a){void 0===a&&(a=!0);var o="",s=!1;n.sort(dt);for(var c=n.length,u=0;u<c;u++){var l=n[u];o+=(xt[l]||l)+"("+t[l]+") ",s="z"===l||s}return!s&&i?o+="translateZ(0)":o=o.trim(),kt(e.transform)?o=e.transform(t,r?"":o):a&&r&&(o="none"),o}(e,r,a,c,t,s)),l&&(n.transformOrigin=(i.originX||"50%")+" "+(i.originY||"50%")+" "+(i.originZ||0)),n}function Et(e){var t=void 0===e?{}:e,n=t.enableHardwareAcceleration,r=void 0===n||n,i=t.isDashCase,a=void 0===i||i,o=t.allowTransformNone,s=void 0===o||o,c={},u={},l={},h=[];return function(e){return h.length=0,St(e,r,c,u,l,h,a,s),c}}var Tt=$e({onRead:function(e,t){var n=t.element,r=t.preparseOutput,i=mt(e);if(ft(e))return i&&i.default||0;if(wt.has(e))return n[e];var a=window.getComputedStyle(n,null).getPropertyValue(ct(e,!0))||0;return r&&i&&i.test(a)&&i.parse?i.parse(a):a},onRender:function(e,t,n){var r=t.element,i=t.buildStyles,a=t.hasCSSVariable;if(Object.assign(r.style,i(e)),a)for(var o=n.length,s=0;s<o;s++){var c=n[s];c.startsWith("--")&&r.style.setProperty(c,e[c])}-1!==n.indexOf(Ot)&&(r.scrollLeft=e.scrollLeft),-1!==n.indexOf(jt)&&(r.scrollTop=e.scrollTop)},uncachedValues:wt});var Mt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]),Ct=function(e,t){return D.transform(e*t)},At={x:0,y:0,width:0,height:0};function Pt(e,t,n){return"string"===typeof e?e:D.transform(t+n*e)}var It={enableHardwareAcceleration:!1,isDashCase:!1};function Dt(e,t,n,r,a,o){void 0===t&&(t=At),void 0===r&&(r=Et(It)),void 0===a&&(a={style:{}}),void 0===o&&(o=!0);var s=e.attrX,c=e.attrY,u=e.originX,l=e.originY,h=e.pathLength,f=e.pathSpacing,d=void 0===f?1:f,p=e.pathOffset,b=void 0===p?0:p,v=r(Object(i.c)(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]));for(var y in v){if("transform"===y)a.style.transform=v[y];else a[o&&!Mt.has(y)?tt(y):y]=v[y]}return(void 0!==u||void 0!==l||v.transform)&&(a.style.transformOrigin=function(e,t,n){return Pt(t,e.x,e.width)+" "+Pt(n,e.y,e.height)}(t,void 0!==u?u:.5,void 0!==l?l:.5)),void 0!==s&&(a.x=s),void 0!==c&&(a.y=c),void 0!==n&&void 0!==h&&(a[o?"stroke-dashoffset":"strokeDashoffset"]=Ct(-b,n),a[o?"stroke-dasharray":"strokeDasharray"]=Ct(h,n)+" "+Ct(d,n)),a}function Lt(e,t,n){void 0===n&&(n=!0);var r={style:{}},i=Et(It);return function(a){return Dt(a,e,t,i,r,n)}}var Rt=$e({onRead:function(e,t){var n=t.element;if(ft(e=Mt.has(e)?e:tt(e))){var r=mt(e);return r&&r.default||0}return n.getAttribute(e)},onRender:function(e,t){var n=t.element,r=(0,t.buildAttrs)(e);for(var i in r)"style"===i?Object.assign(n.style,r.style):n.setAttribute(i,r[i])}}),Nt=$e({useCache:!1,onRead:function(e){return"scrollTop"===e?window.pageYOffset:window.pageXOffset},onRender:function(e){var t=e.scrollTop,n=void 0===t?0:t,r=e.scrollLeft,i=void 0===r?0:r;return window.scrollTo(i,n)}}),Ft=new WeakMap,zt=function(e,t){var n;return e===window?n=Nt(e):!function(e){return e instanceof HTMLElement||"function"===typeof e.click}(e)?function(e){return e instanceof SVGElement||"ownerSVGElement"in e}(e)&&(n=function(e){var t=function(e){try{return function(e){return"function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}(e)}catch(t){return{x:0,y:0,width:0,height:0}}}(e),n=function(e){return"path"===e.tagName}(e)&&e.getTotalLength?e.getTotalLength():void 0;return Rt({element:e,buildAttrs:Lt(t,n)})}(e)):n=function(e,t){void 0===t&&(t={});var n=t.enableHardwareAcceleration,r=t.allowTransformNone,a=Object(i.c)(t,["enableHardwareAcceleration","allowTransformNone"]);return Tt(Object(i.a)({element:e,buildStyles:Et({enableHardwareAcceleration:n,allowTransformNone:r}),preparseOutput:!0},a))}(e,t),Ft.set(e,n),n};var Vt=function(e,t){return function(e,t){return Ft.has(e)?Ft.get(e):zt(e,t)}("string"===typeof e?document.querySelector(e):e,t)},Ut=function(){return function(e,t){var n=this,r=e.middleware,i=e.onComplete;this.isActive=!0,this.update=function(e){n.observer.update&&n.updateObserver(e)},this.complete=function(){n.observer.complete&&n.isActive&&n.observer.complete(),n.onComplete&&n.onComplete(),n.isActive=!1},this.error=function(e){n.observer.error&&n.isActive&&n.observer.error(e),n.isActive=!1},this.observer=t,this.updateObserver=function(e){return t.update(e)},this.onComplete=i,t.update&&r&&r.length&&r.forEach((function(e){return n.updateObserver=e(n.updateObserver,n.complete)}))}}(),Bt=function(e,t,n){var r=t.middleware;return new Ut({middleware:r,onComplete:n},"function"===typeof e?{update:e}:e)},Gt=function(){function e(e){void 0===e&&(e={}),this.props=e}return e.prototype.create=function(t){return new e(t)},e.prototype.start=function(e){void 0===e&&(e={});var t=!1,n={stop:function(){}},r=this.props,a=r.init,o=Object(i.c)(r,["init"]),s=a(Bt(e,o,(function(){t=!0,n.stop()})));return n=s?Object(i.a)({},n,s):n,t&&n.stop(),n},e.prototype.applyMiddleware=function(e){return this.create(Object(i.a)({},this.props,{middleware:this.props.middleware?[e].concat(this.props.middleware):[e]}))},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=1===e.length?e[0]:qe.apply(void 0,e);return this.applyMiddleware((function(e){return function(t){return e(n(t))}}))},e}(),qt=function(e){return new Gt({init:e})},Ht=[D,I,P,L,R],Wt=function(e){return Ht.find((function(t){return t.test(e)}))},Yt=function(e,t){return e(t)},Jt=function(e,t){var n=t.from,r=t.to,a=Object(i.c)(t,["from","to"]),o=Wt(n)||Wt(r),s=o.transform,c=o.parse;return e(Object(i.a)({},a,{from:"string"===typeof n?c(n):n,to:"string"===typeof r?c(r):r})).pipe(s)},Kt=function(e){return function(t,n){var r=n.from,a=n.to,o=Object(i.c)(n,["from","to"]);return t(Object(i.a)({},o,{from:0,to:1})).pipe(e(r,a))}},Xt=Kt(Be),Qt=Kt(Je),Zt=function(e,t){var n=function(e){var t=Object.keys(e),n=function(t,n){return void 0!==t&&!e[n](t)};return{getVectorKeys:function(e){return t.reduce((function(t,r){return n(e[r],r)&&t.push(r),t}),[])},testVectorProps:function(e){return e&&t.some((function(t){return n(e[t],t)}))}}}(t),r=n.testVectorProps,i=n.getVectorKeys;return function(t){if(!r(t))return e(t);var n=i(t),a=t[n[0]];return $t(a)(e,t,n)}},$t=function(e){return"number"===typeof e?Yt:function(e){return Boolean(Wt(e))}(e)?Jt:Y.test(e)?Xt:Q.test(e)?Qt:Yt},en=Zt((function(e){return void 0===e&&(e={}),qt((function(t){var n=t.complete,r=t.update,i=e.velocity,a=void 0===i?0:i,o=e.from,s=void 0===o?0:o,c=e.power,u=void 0===c?.8:c,l=e.timeConstant,h=void 0===l?350:l,f=e.restDelta,d=void 0===f?.5:f,p=e.modifyTarget,b=0,v=u*a,m=Math.round(s+v),g="undefined"===typeof p?m:p(m),O=w.update((function(e){var t=e.delta;b+=t;var i=-v*Math.exp(-b/h),a=i>d||i<-d;r(a?g+i:g),a||(y.update(O),n())}),!0);return{stop:function(){return y.update(O)}}}))}),{from:T.test,modifyTarget:function(e){return"function"===typeof e},velocity:T.test}),tn=Zt((function(e){return void 0===e&&(e={}),qt((function(t){var n=t.update,r=t.complete,i=e.velocity,a=void 0===i?0:i,o=e.from,s=void 0===o?0:o,c=e.to,u=void 0===c?0:c,l=e.stiffness,h=void 0===l?100:l,f=e.damping,d=void 0===f?10:f,p=e.mass,b=void 0===p?1:p,v=e.restSpeed,m=void 0===v?.01:v,g=e.restDelta,O=void 0===g?.01:g,j=a?-a/1e3:0,_=0,x=u-s,k=s,S=k,E=w.update((function(e){var t=e.delta;_+=t;var i=d/(2*Math.sqrt(h*b)),o=Math.sqrt(h/b)/1e3;if(S=k,i<1){var s=Math.exp(-i*o*_),c=o*Math.sqrt(1-i*i);k=u-s*((j+i*o*x)/c*Math.sin(c*_)+x*Math.cos(c*_))}else{s=Math.exp(-o*_);k=u-s*(x+(j+o*x)*_)}a=Ze(k-S,t);var l=Math.abs(a)<=m,f=Math.abs(u-k)<=O;l&&f?(n(k=u),y.update(E),r()):n(k)}),!0);return{stop:function(){return y.update(E)}}}))}),{from:T.test,to:T.test,stiffness:T.test,damping:T.test,mass:T.test,velocity:T.test}),nn=Zt((function(e){var t=e.from,n=void 0===t?0:t,r=e.velocity,a=void 0===r?0:r,o=e.min,s=e.max,c=e.power,u=void 0===c?.8:c,l=e.timeConstant,h=void 0===l?700:l,f=e.bounceStiffness,d=void 0===f?500:f,p=e.bounceDamping,b=void 0===p?10:p,v=e.restDelta,y=void 0===v?1:v,m=e.modifyTarget;return qt((function(e){var t,r=e.update,c=e.complete,l=n,f=n,p=!1,v=function(e){return void 0!==o&&e<=o},g=function(e){return void 0!==s&&e>=s},O=function(e){return v(e)||g(e)},w=function(e){r(e),l=f,a=Ze((f=e)-l,j().delta),t&&!p&&function(e,t){return v(e)&&t<0||g(e)&&t>0}(e,a)&&x({from:e,velocity:a})},_=function(e,n){t&&t.stop(),t=e.start({update:w,complete:function(){n?n():c()}})},x=function(e){p=!0,_(tn(Object(i.a)({},e,{to:v(e.from)?o:s,stiffness:d,damping:b,restDelta:y})))};if(O(n))x({from:n,velocity:a});else if(0!==a){var k=en({from:n,velocity:a,timeConstant:h,power:u,restDelta:O(n)?20:y,modifyTarget:m});_(k,(function(){O(f)?x({from:f,velocity:a}):c()}))}else c();return{stop:function(){return t&&t.stop()}}}))}),{from:T.test,velocity:T.test,min:T.test,max:T.test,damping:T.test,stiffness:T.test,modifyTarget:function(e){return"function"===typeof e}}),rn=Zt((function(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.ease,o=void 0===a?ae:a,s=e.reverseEase;return void 0!==s&&s&&(o=ee(o)),qt((function(e){var t=e.update;return{seek:function(e){return t(e)}}})).pipe(o,(function(e){return Re(n,i,e)}))}),{ease:function(e){return"function"===typeof e},from:T.test,to:T.test}),an=Ce(0,1),on=function(e){return void 0===e&&(e={}),qt((function(t){var n,r=t.update,i=t.complete,a=e.duration,o=void 0===a?300:a,s=e.ease,c=void 0===s?se:s,u=e.flip,l=void 0===u?0:u,h=e.loop,f=void 0===h?0:h,d=e.yoyo,p=void 0===d?0:d,b=e.repeatDelay,v=void 0===b?0:b,m=e.from,g=void 0===m?0:m,O=e.to,j=void 0===O?1:O,_=e.elapsed,x=void 0===_?0:_,k=e.flipCount,S=void 0===k?0:k,E=e.yoyoCount,T=void 0===E?0:E,M=e.loopCount,C=void 0===M?0:M,A=rn({from:g,to:j,ease:c}).start(r),P=0,I=!1,D=function(e){var t;void 0===e&&(e=!1),A=rn({from:g=(t=[j,g])[0],to:j=t[1],ease:c,reverseEase:e}).start(r)},L=function(){P=an(Le(0,o,x)),A.seek(P)},R=function(){I=!0,n=w.update((function(e){var t=e.delta;x+=t,L(),function(){var e=I&&x>o+v;return!!e&&(!(!e||f||l||p)||(x=x-o-v,f&&C<f?(C++,!1):l&&S<l?(S++,D(),!1):!(p&&T<p)||(T++,D(T%2!==0),!1)))}()&&(y.update(n),i&&w.update(i,!1,!0))}),!0)},N=function(){I=!1,n&&y.update(n)};return R(),{isActive:function(){return I},getElapsed:function(){return Ce(0,o,x)},getProgress:function(){return P},stop:function(){N()},pause:function(){return N(),this},resume:function(){return I||R(),this},seek:function(e){return x=Re(0,o,e),w.update(L,!1,!0),this},reverse:function(){return D(),this}}}))},sn=Ce(0,1),cn=function(e){var t=e.easings,n=e.ease,r=void 0===n?ae:n,a=e.times,o=e.values,s=Object(i.c)(e,["easings","ease","times","values"]);t=Array.isArray(t)?t:function(e,t){return e.map((function(){return t||se})).splice(0,e.length-1)}(o,t),a=a||function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(o);var c=t.map((function(e,t){return rn({from:o[t],to:o[t+1],ease:e})}));return on(Object(i.a)({},s,{ease:r})).applyMiddleware((function(e){return function(e,t,n){var r=e.length,i=r-1,a=i-1,o=t.map((function(e){return e.start(n)}));return function(t){t<=e[0]&&o[0].seek(0),t>=e[i]&&o[a].seek(1);for(var n=1;n<r&&!(e[n]>t||n===i);n++);var s=Le(e[n-1],e[n],t);o[n-1].seek(sn(s))}}(a,c,e)}))},un=function(e,t,n){return qt((function(r){var i=r.update,a=t.split(" ").map((function(t){return e.addEventListener(t,i,n),t}));return{stop:function(){return a.forEach((function(t){return e.removeEventListener(t,i,n)}))}}}))},ln=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},hn=function(e,t){return void 0===t&&(t={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),t.clientX=t.x=e.clientX,t.clientY=t.y=e.clientY,t.pageX=e.pageX,t.pageY=e.pageY,t},fn=[ln()];if("undefined"!==typeof document){un(document,"touchstart touchmove",{passive:!0,capture:!0}).start((function(e){var t=e.touches;!0;var n=t.length;fn.length=0;for(var r=0;r<n;r++){var i=t[r];fn.push(hn(i))}}))}var dn=ln();if("undefined"!==typeof document){un(document,"mousedown mousemove",!0).start((function(e){!0,hn(e,dn)}))}var pn=function(e){return qt((function(t){var n=t.complete,r=setTimeout(n,e);return{stop:function(){return clearTimeout(r)}}}))},bn=function(){function e(e,t){var n,r=this,i=void 0===t?{}:t,a=i.transformer,o=i.parent;this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),r.prev=r.current,r.current=r.transformer?r.transformer(e):e,r.updateSubscribers&&r.prev!==r.current&&r.updateSubscribers.forEach(r.notifySubscriber),r.children&&r.children.forEach(r.setChild),t&&r.renderSubscribers&&r.renderSubscribers.forEach(r.notifySubscriber);var n=j(),i=n.delta,a=n.timestamp;r.lastUpdated!==a&&(r.timeDelta=i,r.lastUpdated=a,w.postRender(r.scheduleVelocityCheck))},this.notifySubscriber=function(e){e(r.current)},this.scheduleVelocityCheck=function(){return w.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current)},this.setChild=function(e){return e.set(r.current)},this.parent=o,this.transformer=a,this.set(e,!1),this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n)))}return e.prototype.addChild=function(t){void 0===t&&(t={});var n=new e(this.current,Object(i.a)({parent:this},t));return this.children||(this.children=new Set),this.children.add(n),n},e.prototype.removeChild=function(e){this.children&&this.children.delete(e)},e.prototype.subscribeTo=function(e,t){var n=this,r=function(){return t(n.current)};return e.add(r),function(){return e.delete(r)}},e.prototype.onChange=function(e){return this.updateSubscribers||(this.updateSubscribers=new Set),this.subscribeTo(this.updateSubscribers,e)},e.prototype.onRenderRequest=function(e){return this.renderSubscribers||(this.renderSubscribers=new Set),this.notifySubscriber(e),this.subscribeTo(this.renderSubscribers,e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getVelocity=function(){return this.canTrackVelocity?Ze(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers&&this.updateSubscribers.clear(),this.renderSubscribers&&this.renderSubscribers.clear(),this.parent&&this.parent.removeChild(this),this.stop()},e}();function vn(e,t){return new bn(e,t)}function yn(e){var t=Object(a.useRef)(null);return null===t.current&&(t.current=e()),t.current}var mn,gn=function(e){return e instanceof bn},On=$e({onRead:function(){return null},onRender:function(e,t){return(0,t.onUpdate)(e)}}),jn=function(){function e(){this.hasMounted=!1,this.values=new Map,this.unsubscribers=new Map}return e.prototype.has=function(e){return this.values.has(e)},e.prototype.set=function(e,t){this.values.set(e,t),this.hasMounted&&this.bindValueToOutput(e,t)},e.prototype.get=function(e,t){var n=this.values.get(e);return void 0===n&&void 0!==t&&(n=new bn(t),this.set(e,n)),n},e.prototype.forEach=function(e){return this.values.forEach(e)},e.prototype.bindValueToOutput=function(e,t){var n=this,r=t.onRenderRequest((function(t){return n.output&&n.output(e,t)})),i=t.onChange((function(t){n.onUpdate&&n.onUpdate.set(e,t)}));this.unsubscribers.has(e)&&this.unsubscribers.get(e)(),this.unsubscribers.set(e,(function(){r(),i()}))},e.prototype.setOnUpdate=function(e){this.onUpdate=void 0,e&&(this.onUpdate=On({onUpdate:e}))},e.prototype.setTransformTemplate=function(e){this.transformTemplate!==e&&(this.transformTemplate=e,this.updateTransformTemplate())},e.prototype.getTransformTemplate=function(){return this.transformTemplate},e.prototype.updateTransformTemplate=function(){this.output&&this.output("transform",this.transformTemplate)},e.prototype.mount=function(e){var t=this;this.hasMounted=!0,e&&(this.output=e),this.values.forEach((function(e,n){return t.bindValueToOutput(n,e)})),this.updateTransformTemplate()},e.prototype.unmount=function(){var e=this;this.values.forEach((function(t,n){var r=e.unsubscribers.get(n);r&&r()}))},e}(),wn=new Set(["dragOriginX","dragOriginY"]),_n=function(e){var t=yn((function(){var t=new jn;for(var n in e)gn(e[n])&&!wn.has(n)&&t.set(n,e[n]);return t}));return t.setOnUpdate(e.onUpdate),t.setTransformTemplate(e.transformTemplate),t},xn=null,kn=function(){return null!==xn},Sn=function(){xn=[]},En=function(){xn&&xn.forEach((function(e){return e.render()})),xn=null},Tn=function(e){xn&&xn.push(e)},Mn=Object(a.memo)((function(e){var t=e.innerRef,n=e.values,r=e.isStatic;return Object(a.useEffect)((function(){t.current,Element;var e=Vt(t.current,{preparseOutput:!1,enableHardwareAcceleration:!r});return n.mount((function(t,n){e.set(t,n),kn()&&Tn(e)})),function(){return n.unmount()}}),[]),null})),Cn=(mn=function(e){return e.get()},function(e){var t={};return e.forEach((function(e,n){return t[n]=mn(e)})),t}),An=new Set(["originX","originY","originZ"]),Pn=function(e){return An.has(e)},In=function(e,t,n){var r=Cn(e),a=e.getTransformTemplate();return a&&(r.transform=t.transform?a({},t.transform):a),St(Object(i.a)(Object(i.a)({},t),r),!n)},Dn=function(e){return Array.isArray(e)},Ln=function(e){return Dn(e)?e[e.length-1]||0:e},Rn=[T,D,I,P,R,L,{test:function(e){return"auto"===e},parse:function(e){return e}}],Nn=Object(i.d)(Rn,[Y,Q]),Fn=function(e){return function(t){return t.test(e)}},zn=function(e){return Rn.find(Fn(e))},Vn=function(e){return Nn.find(Fn(e))},Un=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},Bn=function(e){return{type:"spring",stiffness:700,damping:0===e?100:35}},Gn=function(){return{ease:"linear",duration:.3}},qn=function(e){return{type:"keyframes",duration:.8,values:e}},Hn={x:Un,y:Un,z:Un,rotate:Un,rotateX:Un,rotateY:Un,rotateZ:Un,scaleX:Bn,scaleY:Bn,scale:Bn,opacity:Gn,backgroundColor:Gn,color:Gn,default:Bn},Wn=function(e){var t=e.to,n=e.duration;return qt((function(e){var r=e.update,i=e.complete;r(t),n?pn(n).start({complete:i}):i()}))},Yn=function(e){return Array.isArray(e)?(e.length,Se(e[0],e[1],e[2],e[3])):"string"===typeof e?r[e]:e},Jn=function(e){return Array.isArray(e)&&"number"!==typeof e[0]},Kn=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Q.test(t)||t.startsWith("url(")))},Xn=function(e){return 1e3*e},Qn={tween:on,spring:tn,keyframes:cn,inertia:nn,just:Wn},Zn={tween:function(e){if(e.ease){var t=Jn(e.ease)?e.ease[0]:e.ease;e.ease=Yn(t)}return e},keyframes:function(e){var t=e.from,n=(e.to,e.velocity,Object(i.c)(e,["from","to","velocity"]));if(n.values&&null===n.values[0]){var r=Object(i.d)(n.values);r[0]=t,n.values=r}return n.ease&&(n.easings=Jn(n.ease)?n.ease.map(Yn):Yn(n.ease)),n.ease=ae,n}},$n=function(e,t,n){var r=n?n.delay:0;if(void 0===n||!function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection;var t=Object(i.c)(e,["when","delay","delayChildren","staggerChildren","staggerDirection"]);return Object.keys(t).length}(n))return Object(i.a)({delay:r},function(e,t){var n;return n=Dn(t)?qn:Hn[e]||Hn.default,Object(i.a)({to:t},n(t))}(e,t));var a=n[e]||n.default||n;return!1===a.type?{delay:a.hasOwnProperty("delay")?a.delay:r,to:Dn(t)?t[t.length-1]:t,type:"just"}:Dn(t)?Object(i.a)(Object(i.a)({values:t,duration:.8,delay:r,ease:"linear"},a),{type:"keyframes"}):Object(i.a)({type:"tween",to:t,delay:r},a)},er=function(e,t,n,r){var a,o=t.get(),s=Kn(e,o),c=Kn(e,n),u=$n(e,n,r),l=u.type,h=void 0===l?"tween":l,f=Object(i.c)(u,["type"]),d=s&&c?Qn[h]:Wn,p=function(e,t){return Zn[e]?Zn[e](t):t}(h,Object(i.a)({from:o,velocity:t.getVelocity()},f));return((a=p).hasOwnProperty("duration")||a.hasOwnProperty("repeatDelay"))&&(p.duration&&(p.duration=Xn(p.duration)),p.repeatDelay&&(p.repeatDelay=Xn(p.repeatDelay))),[d,p]};function tr(e,t,n,r){var a=r.delay,o=void 0===a?0:a,s=Object(i.c)(r,["delay"]);return t.start((function(r){var a,c=er(e,t,n,s),u=c[0],l=c[1],h=l.delay,f=Object(i.c)(l,["delay"]);void 0!==h&&(o=h);var d=function(){var e=u(f);a=e.start({update:function(e){return t.set(e)},complete:r})};return o?a=pn(Xn(o)).start({complete:d}):d(),function(){a&&a.stop()}}))}var nr=function(){function e(e){var t=this,n=e.values,r=e.readValueFromSource,i=e.makeTargetAnimatable;this.props={},this.variants={},this.baseTarget={},this.overrides=[],this.resolvedOverrides=[],this.activeOverrides=new Set,this.isAnimating=new Set,this.hasValue=function(e){return!t.values.has(e)},this.values=n,this.readValueFromSource=r,this.makeTargetAnimatable=i,this.values.forEach((function(e,n){return t.baseTarget[n]=e.get()}))}return e.prototype.setProps=function(e){this.props=e},e.prototype.setVariants=function(e){e&&(this.variants=e)},e.prototype.setDefaultTransition=function(e){e&&(this.defaultTransition=e)},e.prototype.setValues=function(e,t){var n=this,r=void 0===t?{}:t,a=r.isActive,o=void 0===a?new Set:a,s=r.priority,c=this.resolveVariant(e),u=c.target,l=c.transitionEnd;return u=this.transformValues(Object(i.a)(Object(i.a)({},u),l)),Object.keys(u).forEach((function(e){if(!o.has(e)&&(o.add(e),u)){var t=Ln(u[e]);if(n.values.has(e)){var r=n.values.get(e);r&&r.set(t)}else n.values.set(e,vn(t));s||(n.baseTarget[e]=t)}}))},e.prototype.transformValues=function(e){var t=this.props.transformValues;return t?t(e):e},e.prototype.checkForNewValues=function(e){var t=Object.keys(e).filter(this.hasValue),n=t.length;if(n)for(var r=0;r<n;r++){var i=t[r],a=e[i],o=null;Array.isArray(a)&&(o=a[0]),null===o&&(o=this.readValueFromSource(i)),"string"===typeof o&&/^\d*\.?\d+$/.test(o)?o=parseFloat(o):!Vn(o)&&Q.test(a)&&(o=Q.getAnimatableNone(a)),this.values.set(i,vn(o)),this.baseTarget[i]=o}},e.prototype.resolveVariant=function(e){if(!e)return{target:void 0,transition:void 0,transitionEnd:void 0};"function"===typeof e&&(e=e(this.props.custom,function(e){var t={};return e.forEach((function(e,n){return t[n]=e.get()})),t}(this.values),function(e){var t={};return e.forEach((function(e,n){return t[n]=e.getVelocity()})),t}(this.values)));var t=e.transition;return{transition:void 0===t?this.defaultTransition:t,transitionEnd:e.transitionEnd,target:Object(i.c)(e,["transition","transitionEnd"])}},e.prototype.getHighestPriority=function(){return this.activeOverrides.size?Math.max.apply(Math,Array.from(this.activeOverrides)):0},e.prototype.setOverride=function(e,t){this.overrides[t]=e,this.children&&this.children.forEach((function(n){return n.setOverride(e,t)}))},e.prototype.startOverride=function(e){var t=this.overrides[e];if(t)return this.start(t,{priority:e})},e.prototype.clearOverride=function(e){var t=this;if(this.children&&this.children.forEach((function(t){return t.clearOverride(e)})),this.overrides[e]){this.activeOverrides.delete(e);var n=this.getHighestPriority();if(this.resetIsAnimating(),n)this.overrides[n]&&this.startOverride(n);var r=this.resolvedOverrides[e];if(r){var i={};for(var a in this.baseTarget)void 0!==r[a]&&(i[a]=this.baseTarget[a]);this.onStart(),this.animate(i).then((function(){return t.onComplete()}))}}},e.prototype.apply=function(e){return Array.isArray(e)?this.applyVariantLabels(e):"string"===typeof e?this.applyVariantLabels([e]):void this.setValues(e)},e.prototype.applyVariantLabels=function(e){var t=this,n=new Set;Object(i.d)(e).reverse().forEach((function(r){var i=t.resolveVariant(t.variants[r]),a=i.target,o=i.transitionEnd;o&&t.setValues(o,{isActive:n}),a&&t.setValues(a,{isActive:n}),t.children&&t.children.size&&t.children.forEach((function(t){return t.applyVariantLabels(e)}))}))},e.prototype.start=function(e,t){var n,r,i=this;return void 0===t&&(t={}),t.priority&&this.activeOverrides.add(t.priority),this.resetIsAnimating(t.priority),r=e,n=Array.isArray(r)?this.animateVariantLabels(e,t):"string"===typeof e?this.animateVariant(e,t):this.animate(e,t),this.onStart(),n.then((function(){return i.onComplete()}))},e.prototype.animate=function(e,t){var n=this,r=void 0===t?{}:t,a=r.delay,o=void 0===a?0:a,s=r.priority,c=void 0===s?0:s,u=r.transitionOverride,l=this.resolveVariant(e),h=l.target,f=l.transition,d=l.transitionEnd;if(u&&(f=u),!h)return Promise.resolve();if(h=this.transformValues(h),d&&(d=this.transformValues(d)),this.checkForNewValues(h),this.makeTargetAnimatable){var p=this.makeTargetAnimatable(h,d);h=p.target,d=p.transitionEnd}c&&(this.resolvedOverrides[c]=h),this.checkForNewValues(h);var b=[];for(var v in h){var y=this.values.get(v);if(y&&h&&void 0!==h[v]){var m=h[v];c||(this.baseTarget[v]=Ln(m)),this.isAnimating.has(v)||(this.isAnimating.add(v),b.push(tr(v,y,m,Object(i.a)({delay:o},f))))}}var g=Promise.all(b);return d?g.then((function(){n.setValues(d,{priority:c})})):g},e.prototype.animateVariantLabels=function(e,t){var n=this,r=Object(i.d)(e).reverse().map((function(e){return n.animateVariant(e,t)}));return Promise.all(r)},e.prototype.animateVariant=function(e,t){var n=this,r=!1,i=0,a=0,o=1,s=t&&t.priority||0,c=this.variants[e],u=c?function(){return n.animate(c,t)}:function(){return Promise.resolve()},l=this.children?function(){return n.animateChildren(e,i,a,o,s)}:function(){return Promise.resolve()};if(c&&this.children){var h=this.resolveVariant(c).transition;h&&(r=h.when||r,i=h.delayChildren||i,a=h.staggerChildren||a,o=h.staggerDirection||o)}if(r){var f="beforeChildren"===r?[u,l]:[l,u],d=f[1];return(0,f[0])().then(d)}return Promise.all([u(),l()])},e.prototype.animateChildren=function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),!this.children)return Promise.resolve();var a=[],o=(this.children.size-1)*n,s=1===r?function(e){return e*n}:function(e){return o-e*n};return Array.from(this.children).forEach((function(n,r){var o=n.animateVariant(e,{priority:i,delay:t+s(r)});a.push(o)})),Promise.all(a)},e.prototype.onStart=function(){var e=this.props.onAnimationStart;e&&e()},e.prototype.onComplete=function(){var e=this.props.onAnimationComplete;e&&e()},e.prototype.checkOverrideIsAnimating=function(e){for(var t=this.overrides.length,n=e+1;n<t;n++){var r=this.resolvedOverrides[n];if(r)for(var i in r)this.isAnimating.add(i)}},e.prototype.resetIsAnimating=function(e){void 0===e&&(e=0),this.isAnimating.clear(),e<this.getHighestPriority()&&this.checkOverrideIsAnimating(e),this.children&&this.children.forEach((function(t){return t.resetIsAnimating(e)}))},e.prototype.stop=function(){this.values.forEach((function(e){return e.stop()}))},e.prototype.addChild=function(e){this.children||(this.children=new Set),this.children.add(e),this.overrides.forEach((function(t,n){t&&e.setOverride(t,n)}))},e.prototype.removeChild=function(e){this.children&&this.children.delete(e)},e.prototype.resetChildren=function(){this.children&&this.children.clear()},e}();var rr=function(){function e(){this.hasMounted=!1,this.pendingAnimations=[],this.componentControls=new Set}return e.prototype.setVariants=function(e){this.variants=e,this.componentControls.forEach((function(t){return t.setVariants(e)}))},e.prototype.setDefaultTransition=function(e){this.defaultTransition=e,this.componentControls.forEach((function(t){return t.setDefaultTransition(e)}))},e.prototype.subscribe=function(e){var t=this;return this.componentControls.add(e),this.variants&&e.setVariants(this.variants),this.defaultTransition&&e.setDefaultTransition(this.defaultTransition),function(){return t.componentControls.delete(e)}},e.prototype.start=function(e,t){var n=this;if(this.hasMounted){var r=[];return this.componentControls.forEach((function(n){var i=n.start(e,{transitionOverride:t});r.push(i)})),Promise.all(r)}return new Promise((function(r){n.pendingAnimations.push({animation:[e,t],resolve:r})}))},e.prototype.set=function(e){return this.hasMounted,this.componentControls.forEach((function(t){return t.apply(e)}))},e.prototype.stop=function(){this.componentControls.forEach((function(e){return e.stop()}))},e.prototype.mount=function(){var e=this;this.hasMounted=!0,this.pendingAnimations.forEach((function(t){var n=t.animation,r=t.resolve;return e.start.apply(e,n).then(r)}))},e.prototype.unmount=function(){this.hasMounted=!1,this.stop()},e}(),ir=Object(a.createContext)(null),ar=Object(a.createContext)({static:!1}),or=function(e){return"string"===typeof e||Array.isArray(e)},sr=function(e){return e instanceof rr},cr=function(e,t,n,r,i){void 0===r&&(r=!1);var o,s,c=i.initial,u=i.animate,l=i.variants,h=i.whileTap,f=i.whileHover,d=Object(a.useContext)(ir);void 0!==(null===(o=d)||void 0===o?void 0:o.initial)&&(c=d.initial),!1!==c||sr(u)?"boolean"!==typeof c&&(s=c):s=u;var p=Object(a.useRef)(!1),b=l||or(u)||or(h)||or(f)||sr(u),v=or(s)?s:e.initial,y=or(u)?u:e.animate,m=r?v:null,g=b&&or(y)?y:null,O=Object(a.useMemo)((function(){return{controls:b?t:e.controls,initial:v,animate:y,values:n,hasMounted:p,isReducedMotion:e.isReducedMotion}}),[m,g,e.isReducedMotion]);return O.static=r,function(e,t){void 0===t&&(t=!1);var n=Object(a.useRef)(!0);(!t||t&&n.current)&&e(),n.current=!1}((function(){var n=s||e.initial;n&&t.apply(n)}),!r),Object(a.useEffect)((function(){p.current=!0}),[]),O};function ur(e,t,n){var r=t.variants,o=t.transition,s=Object(a.useContext)(ar).controls,c=Object(a.useContext)(ir),u=yn((function(){return new nr(e)}));return c&&!c.isPresent||(u.resetChildren(),u.setProps(t),u.setVariants(r),u.setDefaultTransition(o)),Object(a.useEffect)((function(){n&&s&&s.addChild(u)})),Object(a.useEffect)((function(){return function(){t.onAnimationComplete;var e=Object(i.c)(t,["onAnimationComplete"]);u.setProps(e),s&&s.removeChild(u)}}),[]),u}var lr=function(e){var t=e.animate,n=e.variants,r=e.inherit;return(void 0===r||r)&&!!n&&(!t||t instanceof rr)};var hr=function(e){var t=e.getValueControlsConfig,n=e.loadFunctionalityComponents,r=e.renderComponent;return Object(a.forwardRef)((function(e,i){var o=function(e){var t=e&&"function"!==typeof e?e:Object(a.useRef)(null);return e&&"function"===typeof e&&Object(a.useEffect)((function(){return e(t.current),function(){return e(null)}}),[]),t}(i),s=Object(a.useContext)(ar),c=s.static||e.static||!1,u=_n(e),l=function(e,t,n,r){void 0===t&&(t={});var i={},o=Object(a.useRef)({}).current;for(var s in t){var c=t[s];gn(c)?e.set(s,c):n||!ft(s)&&!Pn(s)?i[s]=c:(e.has(s)?c!==o[s]&&e.get(s).set(c):e.set(s,vn(c)),o[s]=c)}return r?r(i):i}(u,e.style,c,e.transformValues),h=lr(e),f=ur(yn((function(){return t(o,u)})),e,h),d=cr(s,f,u,c,e),p=c?null:n(o,u,e,s,f,h),b=r(o,l,u,e,c);return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(ar.Provider,{value:d},b),Object(a.createElement)(a.Fragment,null,Object(a.createElement)(Mn,{innerRef:o,values:u,isStatic:c}),p))}))},fr=["animate","circle","clipPath","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use","view"],dr=Object(a.createContext)({transformPagePoint:function(e){return e}});function pr(e){return Object(a.useEffect)((function(){return function(){return e()}}),[])}function br(e,t,n,r){if(n)return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function vr(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function yr(e){return!!e.touches}var mr={pageX:0,pageY:0};function gr(e){var t=e.touches[0]||e.changedTouches[0]||mr;return{x:t.pageX,y:t.pageY}}function Or(e){var t=e.pageX,n=void 0===t?0:t,r=e.pageY;return{x:n,y:void 0===r?0:r}}function jr(e){return{point:yr(e)?gr(e):Or(e)}}var wr,_r=function(e,t){if(void 0===t&&(t=!1),e){var n=function(t){return e(t,jr(t))};return t?function(e){if(e)return function(t){var n=t instanceof MouseEvent;(!n||n&&0===t.button)&&e(t)}}(n):n}},xr="undefined"!==typeof window,kr={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Sr={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Er(e){return xr&&null===window.onpointerdown?e:xr&&null===window.ontouchstart?Sr[e]:xr&&null===window.onmousedown?kr[e]:e}function Tr(e,t,n,r){return br(e,Er(t),_r(n,"pointerdown"===t),r)}function Mr(e,t,n,r){return function(e,t,n,r){Object(a.useEffect)((function(){var i=e.current;if(n&&i)return br(i,t,n,r)}),[e,t,n,r])}(e,Er(t),_r(n,"pointerdown"===t),r)}!function(e){e.subtract=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.relativeTo=function(e){var t;return function(n){var r=n.x,i=n.y,a=void 0!==t?t:t="string"===typeof e?document.getElementById(e):e;if(a){var o=a.getBoundingClientRect();return{x:r-o.left-window.scrollX,y:i-o.top-window.scrollY}}}}}(wr||(wr={}));var Cr=!1;"undefined"!==typeof window&&document.addEventListener("touchmove",(function(e){Cr&&e.preventDefault()}),{passive:!1});var Ar=function(){return Cr=!1},Pr=function(){function e(e,t,n){var r=this,a=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=Dr(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=De(e.offset,{x:0,y:0})>=3;if(t||n){var a=e.point,o=j().timestamp;r.history.push(Object(i.a)(Object(i.a)({},a),{timestamp:o}));var s=r.handlers,c=s.onStart,u=s.onMove;t||(c&&c(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},!(yr(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=a;var o=Ir(jr(e),this.transformPagePoint),s=o.point,c=j().timestamp;this.history=[Object(i.a)(Object(i.a)({},s),{timestamp:c})];var u=t.onSessionStart;u&&u(e,Dr(o,this.history));var l=Tr(window,"pointermove",(function(e,t){return r.handlePointerMove(e,t)})),h=Tr(window,"pointerup",(function(e,t){return r.handlePointerUp(e,t)}));this.removeListeners=function(){l&&l(),h&&h()}}}return e.prototype.handlePointerMove=function(e,t){this.lastMoveEvent=e,this.lastMoveEventInfo=Ir(t,this.transformPagePoint),vr(e)&&0===e.buttons?this.handlePointerUp(e,t):w.update(this.updatePoint,!0)},e.prototype.handlePointerUp=function(e,t){this.end();var n=this.handlers.onEnd;if(n){var r=Dr(Ir(t,this.transformPagePoint),this.history);n&&n(e,r)}},e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),y.update(this.updatePoint),Ar()},e}();function Ir(e,t){return t?{point:t(e.point)}:e}function Dr(e,t){var n=e.point;return{point:n,delta:wr.subtract(n,Rr(t)),offset:wr.subtract(n,Lr(t)),velocity:Nr(t,.1)}}function Lr(e){return e[0]}function Rr(e){return e[e.length-1]}function Nr(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=Rr(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Xn(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}var Fr=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))},zr=["whileHover","whileTap","whileDrag"],Vr=function(e){return zr.indexOf(e)+1};function Ur(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Br=Ur("dragHorizontal"),Gr=Ur("dragVertical");function qr(e){var t=!1;if("y"===e)t=Gr();else if("x"===e)t=Br();else{var n=Br(),r=Gr();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}var Hr=Vr("whileTap");var Wr=Vr("whileHover"),Yr=function(e){return function(t,n){vr(t)&&e(t,n)}};function Jr(e,t){!function(e,t){var n=e.onPan,r=e.onPanStart,i=e.onPanEnd,o=e.onPanSessionStart,s=n||r||i||o,c=Object(a.useRef)(null),u=Object(a.useContext)(dr).transformPagePoint,l={onSessionStart:o,onStart:r,onMove:n,onEnd:function(e,t){c.current=null,i&&i(e,t)}};Object(a.useEffect)((function(){null!==c.current&&c.current.updateHandlers(l)})),Mr(t,"pointerdown",s&&function(e){c.current=new Pr(e,l,{transformPagePoint:u})}),pr((function(){return c.current&&c.current.end()}))}(e,t),function(e,t){var n=e.onTap,r=e.onTapStart,i=e.onTapCancel,o=e.whileTap,s=e.controls,c=n||r||i||o,u=Object(a.useRef)(!1),l=Object(a.useRef)(null);function h(){l.current&&l.current(),l.current=null}o&&s&&s.setOverride(o,Hr);var f=Object(a.useRef)(null);f.current=function(e,r){var a=t.current;if(h(),u.current&&a){u.current=!1,s&&o&&s.clearOverride(Hr);var c=qr(!0);c&&(c(),Fr(a,e.target)?n&&n(e,r):i&&i(e,r))}},Mr(t,"pointerdown",c?function(e,n){h(),l.current=Tr(window,"pointerup",(function(e,t){return f.current(e,t)})),t.current&&!u.current&&(u.current=!0,r&&r(e,n),s&&o&&s.startOverride(Hr))}:void 0),pr(h)}(e,t),function(e,t){var n=e.whileHover,r=e.onHoverStart,i=e.onHoverEnd,a=e.controls;n&&a&&a.setOverride(n,Wr),Mr(t,"pointerenter",Yr((function(e,t){r&&r(e,t),n&&a&&a.startOverride(Wr)}))),Mr(t,"pointerleave",Yr((function(e,t){i&&i(e,t),n&&a&&a.clearOverride(Wr)})))}(e,t)}var Kr=function(e){return function(t){return e(t),null}},Xr=["onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","whileTap","whileHover","onHoverStart","onHoverEnd"],Qr={key:"gestures",shouldRender:function(e){return Xr.some((function(t){return e.hasOwnProperty(t)}))},Component:Kr((function(e){var t=e.innerRef;Jr(Object(i.c)(e,["innerRef"]),t)}))},Zr=function(e){return"object"===typeof e&&e.hasOwnProperty("current")},$r=function(e){return e},ei=function(){function e(e){var t=e.ref,n=e.values,r=e.controls;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.props={transformPagePoint:$r},this.point={},this.origin={x:vn(0),y:vn(0)},this.openGlobalLock=null,this.panSession=null,this.prevConstraintsBox={width:0,height:0,x:0,y:0},this.ref=t,this.values=n,this.controls=r}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor;void 0!==r&&r&&this.snapToCursor(e);var i=this.props.transformPagePoint;this.panSession=new Pr(e,{onSessionStart:function(){Cr=!0,ti((function(e){var t=n.point[e];t&&t.stop()}))},onStart:function(e,t){if(n.constraintsNeedResolution){var r=n.props,i=r.dragConstraints,a=r.transformPagePoint;n.constraints=ai(i,n.ref,n.point,a),n.applyConstraintsToPoint()}ti((function(e){var t=n.point[e];t&&n.origin[e].set(t.get())}));var o=n.props,s=o.drag,c=o.dragPropagation;if(!s||c||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=qr(s),n.openGlobalLock)){n.isDragging=!0,n.currentDirection=null;var u=n.props.onDragStart;u&&u(e,ni(t,n.point))}},onMove:function(e,t){var r=n.props,i=r.dragPropagation,a=r.dragDirectionLock;if(i||n.openGlobalLock){var o=t.offset;if(a&&null===n.currentDirection){if(n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),null!==n.currentDirection){var s=n.props.onDirectionLock;s&&s(n.currentDirection)}}else{n.updatePoint("x",o),n.updatePoint("y",o);var c=n.props.onDrag;c&&c(e,ni(t,n.point))}}},onEnd:function(e,t){n.stop(e,t)}},{transformPagePoint:i})},e.prototype.cancelDrag=function(){Ar(),this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null)},e.prototype.stop=function(e,t){var n;null===(n=this.panSession)||void 0===n||n.end(),this.panSession=null;var r=this.isDragging;if(this.cancelDrag(),r){var i=this.props,a=i.dragMomentum,o=i.dragElastic,s=i.onDragEnd;if(a||o){var c=t.velocity;this.animateDragEnd(c)}else this.recordBoxInfo(this.constraints);s&&s(e,ni(t,this.point))}},e.prototype.recordBoxInfo=function(e){if(e){var t=e.right,n=e.left,r=e.bottom,i=e.top;this.prevConstraintsBox.width=(t||0)-(n||0),this.prevConstraintsBox.height=(r||0)-(i||0)}this.point.x&&(this.prevConstraintsBox.x=this.point.x.get()),this.point.y&&(this.prevConstraintsBox.y=this.point.y.get())},e.prototype.snapToCursor=function(e){var t=this,n=this.props.transformPagePoint,r=jr(e).point,i=oi(this.ref,n),a=i.width/2+i.left+window.scrollX,o=i.height/2+i.top+window.scrollY,s={x:r.x-a,y:r.y-o};ti((function(e){var n=t.point[e];n&&t.origin[e].set(n.get())})),this.updatePoint("x",s),this.updatePoint("y",s)},e.prototype.setPoint=function(e,t){this.point[e]=t},e.prototype.updatePoint=function(e,t){var n=this.props,r=n.drag,i=n.dragElastic,a=this.point[e];if(ii(e,r,this.currentDirection)&&a){var o=ci(e,this.origin[e].get()+t[e],this.constraints,i);a.set(o)}},e.prototype.updateProps=function(e){var t=this,n=e.drag,r=void 0!==n&&n,a=e.dragDirectionLock,o=void 0!==a&&a,s=e.dragPropagation,c=void 0!==s&&s,u=e.dragConstraints,l=void 0!==u&&u,h=e.dragElastic,f=void 0===h||h,d=e.dragMomentum,p=void 0===d||d,b=Object(i.c)(e,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=Object(i.a)({drag:r,dragDirectionLock:o,dragPropagation:c,dragConstraints:l,dragElastic:f,dragMomentum:p},b);var v=b._dragValueX,y=b._dragValueY,m=b.dragOriginX,g=b.dragOriginY;m&&(this.origin.x=m),g&&(this.origin.y=g),ti((function(e){if(ii(e,r,t.currentDirection)){var n="x"===e?v:y;t.setPoint(e,n||t.values.get(e,0))}})),this.constraintsNeedResolution=Zr(l),this.constraints=this.constraintsNeedResolution?this.constraints||!1:l},e.prototype.applyConstraintsToPoint=function(e){var t=this;return void 0===e&&(e=this.constraints),ti((function(n){var r=t.point[n];r&&!r.isAnimating()&&ci(n,r,e,0)}))},e.prototype.animateDragEnd=function(e){var t=this,n=this.props,r=n.drag,a=n.dragMomentum,o=n.dragElastic,s=n.dragTransition,c=n._dragValueX,u=n._dragValueY,l=n._dragTransitionControls,h=ti((function(n){var h;if(ii(n,r,t.currentDirection)){var f=t.constraints?ri(n,t.constraints):{},d=o?200:1e6,p=o?40:1e7,b=l||t.controls,v=Object(i.a)(Object(i.a)({type:"inertia",velocity:a?e[n]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1},s),f),y="x"===n?c:u;return y?tr(n,y,0,v):b.start(((h={})[n]=0,h.transition=v,h))}}));return Promise.all(h).then((function(){t.recordBoxInfo(t.constraints),t.scalePoint();var e=t.props.onDragTransitionEnd;e&&e()}))},e.prototype.scalePoint=function(){var e=this,t=this.props,n=t.dragConstraints,r=t.transformPagePoint;if(Zr(n)){var i=oi(n,r),a=oi(this.ref,r),o=function(t,n){var r=e.point[t];if(r){if(r.isAnimating())return r.stop(),void e.recordBoxInfo();var o=e.prevConstraintsBox[n]?(i[n]-a[n])/e.prevConstraintsBox[n]:1;r.set(e.prevConstraintsBox[t]*o)}};o("x","width"),o("y","height")}},e.prototype.mount=function(e){var t=this,n=Tr(e,"pointerdown",(function(e){var n=t.props,r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=br(window,"resize",(function(){return t.scalePoint()}));if(this.constraintsNeedResolution){var i=this.props,a=i.dragConstraints,o=i.transformPagePoint,s=ai(a,this.ref,this.point,o);this.applyConstraintsToPoint(s),this.recordBoxInfo(s)}else!this.isDragging&&this.constraints&&this.applyConstraintsToPoint();return function(){n&&n(),r&&r(),t.cancelDrag()}},e}();function ti(e){return[e("x"),e("y")]}function ni(e,t){return Object(i.a)(Object(i.a)({},e),{point:{x:t.x?t.x.get():0,y:t.y?t.y.get():0}})}function ri(e,t){var n=t.top,r=t.right,i=t.bottom,a=t.left;return"x"===e?{min:a,max:r}:{min:n,max:i}}function ii(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}function ai(e,t,n,r){null!==e.current&&t.current;var i=oi(e,r),a=oi(t,r),o=i.left-a.left+si(n.x),s=i.top-a.top+si(n.y);return{top:s,left:o,right:i.width-a.width+o,bottom:i.height-a.height+s}}function oi(e,t){var n=e.current.getBoundingClientRect(),r=t({x:n.left,y:n.top}),i=r.x,a=r.y,o=t({x:n.width,y:n.height});return{left:i,top:a,width:o.x,height:o.y}}function si(e){return e?e.get():0}function ci(e,t,n,r){var i=t instanceof bn?t.get():t;if(!n)return i;var a=ri(e,n),o=a.min,s=a.max;return void 0!==o&&i<o?i=r?ui(o,i,r):Math.max(o,i):void 0!==s&&i>s&&(i=r?ui(s,i,r):Math.min(s,i)),t instanceof bn&&t.set(i),i}function ui(e,t,n){return Re(e,t,"number"===typeof n?n:.35)}var li={key:"drag",shouldRender:function(e){return!!e.drag},Component:Kr((function(e){var t=e.innerRef,n=e.values,r=e.controls;return function(e,t,n,r){var o=e.dragControls,s=Object(a.useContext)(dr).transformPagePoint,c=yn((function(){return new ei({ref:t,values:n,controls:r})}));c.updateProps(Object(i.a)(Object(i.a)({},e),{transformPagePoint:s})),Object(a.useEffect)((function(){return o&&o.subscribe(c)}),[c]),Object(a.useEffect)((function(){return c.mount(t.current)}),[])}(Object(i.c)(e,["innerRef","values","controls"]),t,n,r)}))};function hi(e){return"string"===typeof e&&e.startsWith("var(--")}var fi=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function di(e,t,n){void 0===n&&(n=1);var r=function(e){var t=fi.exec(e);return t?[t[1],t[2]]:[,]}(e),i=r[0],a=r[1];if(i){var o=window.getComputedStyle(t).getPropertyValue(i);return o||(hi(a)?di(a,t,n+1):a)}}var pi,bi=new Set(["width","height","top","left","right","bottom","x","y"]),vi=function(e){return bi.has(e)},yi=function(e,t){e.set(t,!1),e.set(t)},mi=function(e){return e===T||e===D};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(pi||(pi={}));var gi=function(e,t){return parseFloat(e.split(", ")[t])},Oi=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return gi(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?gi(o[1],e):0}},ji=new Set(["x","y","z"]),wi=lt.filter((function(e){return!ji.has(e)}));var _i={width:function(e){var t=e.width;return t},height:function(e){var t=e.height;return t},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.height,r=t.top;return parseFloat(r)+n},right:function(e,t){var n=e.width,r=t.left;return parseFloat(r)+n},x:Oi(4,13),y:Oi(5,14)},xi=function(e,t,n,r){void 0===r&&(r={}),n=Object(i.a)({},n),r=Object(i.a)({},r);var a=t.current,o=Vt(a),s=Object.keys(n).filter(vi),c=[],u=!1,l=s.reduce((function(t,i){var a=e.get(i);if(!a)return t;var s,l=a.get(),h=n[i],f=zn(l);if(Dn(h))for(var d=h.length,p=null===h[0]?1:0;p<d;p++)s?zn(h[p]):(s=zn(h[p]))===f||mi(f)&&mi(s);else s=zn(h);if(f!==s)if(mi(f)&&mi(s)){var b=a.get();"string"===typeof b&&a.set(parseFloat(b)),"string"===typeof h?n[i]=parseFloat(h):Array.isArray(h)&&s===D&&(n[i]=h.map(parseFloat))}else u||(c=function(e,t){var n=[];return wi.forEach((function(t){var r=e.get(t);void 0!==r&&(n.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))})),n.length&&t.render(),n}(e,o),u=!0),t.push(i),r[i]=void 0!==r[i]?r[i]:n[i],yi(a,h);return t}),[]);if(l.length){var h=function(e,t,n,r,i){var a=n.getBoundingClientRect(),o=getComputedStyle(n),s=o.display,c={top:o.top,left:o.left,bottom:o.bottom,right:o.right,transform:o.transform};"none"===s&&r.set("display",e.display||"block"),r.render();var u=n.getBoundingClientRect();return i.forEach((function(n){var r=t.get(n);yi(r,_i[n](a,c)),e[n]=_i[n](u,o)})),e}(n,e,a,o,l);return c.length&&c.forEach((function(t){var n=t[0],r=t[1];e.get(n).set(r)})),o.render(),{target:h,transitionEnd:r}}return{target:n,transitionEnd:r}};function ki(e,t,n,r){return function(e){return Object.keys(e).some(vi)}(n)?xi(e,t,n,r):{target:n,transitionEnd:r}}var Si=function(e,t){return function(n,r){var a=function(e,t,n,r){var a=Object(i.c)(n,[]),o=t.current;if(!(o instanceof HTMLElement))return{target:a,transitionEnd:r};for(var s in r&&(r=Object(i.a)({},r)),e.forEach((function(e){var t=e.get();if(hi(t)){var n=di(t,o);n&&e.set(n)}})),a){var c=a[s];if(hi(c)){var u=di(c,o);u&&(a[s]=u,r&&void 0===r[s]&&(r[s]=c))}}return{target:a,transitionEnd:r}}(e,t,n,r);return n=a.target,r=a.transitionEnd,ki(e,t,n,r)}};var Ei,Ti,Mi=Object(a.createContext)(null);!function(e){e.Prepare="prepare",e.Read="read",e.Render="render"}(Ti||(Ti={}));var Ci=[Ti.Prepare,Ti.Read,Ti.Render].reduce((function(e,t){return e[t]=[],e}),{}),Ai=!1;function Pi(e){for(var t=e.length,n=0;n<t;n++)e[n]();e.length=0}var Ii=function(e){return function(t){t&&(Ai=!0,Ci[e].push(t))}},Di=((Ei={})[Ti.Prepare]=Ii(Ti.Prepare),Ei[Ti.Read]=Ii(Ti.Read),Ei[Ti.Render]=Ii(Ti.Render),Ei.flush=function(){Ai&&(Pi(Ci.prepare),Pi(Ci.read),Pi(Ci.render),Ai=!1)},Ei);var Li={duration:.8,ease:[.45,.05,.19,1]},Ri={type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10};var Ni={id:"x",size:"width",min:"left",max:"right",origin:"originX"},Fi={id:"y",size:"height",min:"top",max:"bottom",origin:"originY"};function zi(e,t){return(e+t)/2}function Vi(e,t,n){var r,i=e[n.size]-t[n.size],a=.5;return i&&(e[n.min]===t[n.min]?a=0:e[n.max]===t[n.max]&&(a=1)),(r={})[n.size]=i,r[n.origin]=a,r[n.id]=.5===a?zi(e[n.min],e[n.max])-zi(t[n.min],t[n.max]):0,r}var Ui={getLayout:function(e){return e.offset},measure:function(e){var t=e.offsetLeft,n=e.offsetTop,r=e.offsetWidth,i=e.offsetHeight;return{left:t,top:n,right:t+r,bottom:n+i,width:r,height:i}}},Bi={getLayout:function(e){return e.boundingBox},measure:function(e){var t=e.getBoundingClientRect();return{left:t.left,top:t.top,width:t.width,height:t.height,right:t.right,bottom:t.bottom}}};function Gi(e){return window.getComputedStyle(e).position}function qi(e){return"width"===e||"height"===e}var Hi,Wi={key:"layout",shouldRender:function(e){var t=e.positionTransition,n=e.layoutTransition;return"undefined"!==typeof window&&!(!t&&!n)},Component:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.b)(t,e),t.prototype.getSnapshotBeforeUpdate=function(){var e=this.props,t=e.innerRef,n=e.positionTransition,r=e.values,a=e.controls,o=t.current;if(function(e){return e instanceof HTMLElement}(o)){var s,c,u,l=function(e){var t=e.layoutTransition,n=e.positionTransition;return t||n}(this.props),h=!!n,f=Gi(o),d={offset:Ui.measure(o),boundingBox:Bi.measure(o)};return Di.prepare((function(){s=o.style.transform,o.style.transform=""})),Di.read((function(){c={offset:Ui.measure(o),boundingBox:Bi.measure(o)};var e=Gi(o);u=function(e,t,n){return n&&e===t?Ui:Bi}(f,e,h)})),Di.render((function(){var e=function(e,t){return Object(i.a)(Object(i.a)({},Vi(e,t,Ni)),Vi(e,t,Fi))}(u.getLayout(d),u.getLayout(c));if(e.x||e.y||e.width||e.height){Vt(o).set({originX:e.originX,originY:e.originY}),Sn();var t={},n={},f=function(e){return"function"===typeof e}(l)?l({delta:e}):l;p("left","x",0,e.x),p("top","y",0,e.y),h||(p("width","scaleX",1,d.boundingBox.width/c.boundingBox.width),p("height","scaleY",1,d.boundingBox.height/c.boundingBox.height)),t.transition=n,f&&a.start(t),En()}else s&&(o.style.transform=s);function p(a,o,s,c){var l=qi(a)?a:o;if(e[l]){var d="boolean"===typeof f?Object(i.a)({},function(e){return e?Ri:Li}(h)):f,p=r.get(o,s),b=p.getVelocity();n[o]=d[o]?Object(i.a)({},d[o]):Object(i.a)({},d),void 0===n[o].velocity&&(n[o].velocity=b||0),t[o]=s;var v=qi(a)||u!==Ui?0:p.get();p.set(c+v)}}})),null}},t.prototype.componentDidUpdate=function(){Di.flush()},t.prototype.render=function(){return null},t.contextType=Mi,t}(a.Component)},Yi=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","static","positionTransition","layoutTransition","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragElastic","dragMomentum","dragPropagation","dragTransition","_dragValueX","_dragValueY","_dragTransitionControls","dragOriginX","dragOriginY","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","whileHover","whileTap","onHoverEnd","onHoverStart"]);function Ji(e){return Yi.has(e)}!function(e){e.Target="Target",e.VariantLabel="VariantLabel",e.AnimationSubscription="AnimationSubscription"}(Hi||(Hi={}));function Ki(e,t){void 0===t&&(t=!1);e.transition;var n=e.transitionEnd,r=Object(i.c)(e,["transition","transitionEnd"]);return t?Object(i.a)(Object(i.a)({},r),n):r}var Xi,Qi,Zi=function(e){var t,n=e instanceof bn?e.get():e;return Array.from(new Set((t=n)?Array.isArray(t)?t:[t]:[]))};var $i=((Xi={})[Hi.Target]=Kr((function(e){return function(e,t,n,r){var o=Object(a.useRef)(!0),s=Object(a.useRef)(null);s.current||(s.current=Ki(e,!0)),Object(a.useEffect)((function(){var a,c,u={},l=Ki(e),h=Ki(e,!0);for(var f in l){var d=o.current&&(!n.has(f)||n.get(f).get()!==h[f]),p=null!==h[f],b=(a=s.current[f],void 0!==(c=h[f])&&(Array.isArray(a)&&Array.isArray(c)?!function(e,t){if(null===t)return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}(c,a):a!==c));p&&(b||d)&&(u[f]=l[f])}o.current=!1,s.current=Object(i.a)(Object(i.a)({},s.current),h),Object.keys(u).length&&t.start(Object(i.a)(Object(i.a)({},u),{transition:e.transition||r,transitionEnd:e.transitionEnd}))}),[e])}(e.animate,e.controls,e.values,e.transition)})),Xi[Hi.VariantLabel]=Kr((function(e){var t=e.animate,n=e.inherit,r=void 0===n||n,i=e.controls;return function(e,t,n,r){var i=Zi(t),o=Object(a.useContext)(ar),s=o.hasMounted&&o.hasMounted.current,c=Object(a.useRef)(!1);Object(a.useEffect)((function(){var t,a,u=!1;n?(u=!!s,i=Zi(o.animate)):u=c.current||(t=Zi(e),a=i,t.join(",")!==a.join(",")),u&&r.start(i),c.current=!0}),[i.join(",")])}(e.initial,t,r,i)})),Xi[Hi.AnimationSubscription]=Kr((function(e){return function(e,t){var n=Object(a.useMemo)((function(){return e.subscribe(t)}),[e]);Object(a.useEffect)((function(){return function(){n&&n()}}),[n])}(e.animate,e.controls)})),Xi),ea=function(e){return e.animate instanceof rr},ta=["initial","animate","whileTap","whileHover"],na=((Qi={})[Hi.Target]=function(e){return void 0!==e.animate&&(t=e.animate,!(Array.isArray(t)||"string"===typeof t))&&!ea(e);var t},Qi[Hi.VariantLabel]=function(e){return void 0!==e.variants||ta.some((function(t){return"string"===typeof e[t]}))},Qi[Hi.AnimationSubscription]=ea,Qi);var ra={key:"exit",shouldRender:function(e){return!!e.exit&&!lr(e)},Component:Kr((function(e){var t,n=e.animate,r=e.controls,o=e.exit,s=function(){var e=Object(a.useContext)(ir);if(null===e)return[!0];var t=e.isPresent,n=e.onExitComplete,r=e.register;return Object(a.useEffect)(r,[]),!t&&n?[!1,n]:[!0]}(),c=s[0],u=s[1],l=Object(a.useContext)(ir),h=Object(a.useRef)(!1),f=void 0!==(null===(t=l)||void 0===t?void 0:t.custom)?l.custom:e.custom;Object(a.useEffect)((function(){c?!h.current||!n||n instanceof rr||r.start(n):(!h.current&&o&&(r.setProps(Object(i.a)(Object(i.a)({},e),{custom:f})),r.start(o).then(u)),h.current=!0),c&&(h.current=!1)}),[c])}))},ia=function(e){return!Ji(e)};try{var aa=n(377).default;ia=function(e){return e.startsWith("on")?!Ji(e):aa(e)}}catch(va){}var oa=[Wi,li,Qr,ra],sa=oa.length;function ca(e){var t="string"===typeof e,n=t&&-1!==fr.indexOf(e);return{renderComponent:function(r,o,s,c,u){var l=t?function(e){var t={};for(var n in e)ia(n)&&(t[n]=e[n]);return t}(c):c,h=n?function(e,t){var n=Dt(Cn(e),void 0,void 0,void 0,void 0,!1);return n.style=Object(i.a)(Object(i.a)({},t),n.style),n}(s,o):function(e,t,n,r){var i={style:In(e,t,n)};return r&&(i.style.userSelect="none",i.draggable=!1),i}(s,o,u,!!c.drag);return Object(a.createElement)(e,Object(i.a)(Object(i.a)(Object(i.a)({},l),{ref:r}),h))},loadFunctionalityComponents:function(e,t,n,r,o,s){var c=[],u=function(e){var t=void 0;for(var n in Hi)na[n](e)&&(t=n);return t?$i[t]:void 0}(n);u&&c.push(Object(a.createElement)(u,{key:"animation",initial:n.initial,animate:n.animate,variants:n.variants,transition:n.transition,controls:o,inherit:s,values:t}));for(var l=0;l<sa;l++){var h=oa[l],f=h.shouldRender,d=h.key,p=h.Component;f(n,r)&&c.push(Object(a.createElement)(p,Object(i.a)({key:d},n,{parentContext:r,values:t,controls:o,innerRef:e})))}return c},getValueControlsConfig:function(e,t){return{values:t,readValueFromSource:function(t){return Vt(e.current).get(t)},makeTargetAnimatable:Si(t,e)}}}}var ua=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","webview"].reduce((function(e,t){var n=ca(t);return e[t]=hr(n),e}),{}),la=fr.reduce((function(e,t){return e[t]=hr(ca(t)),e}),{}),ha=Object(i.a)(Object(i.a)({custom:function(e){return hr(ca(e))}},ua),la);function fa(){return{scrollX:vn(0),scrollY:vn(0),scrollXProgress:vn(0),scrollYProgress:vn(0)}}"undefined"!==typeof window?a.useLayoutEffect:a.useEffect;fa();!function(){function e(){this.componentControls=new Set}e.prototype.subscribe=function(e){var t=this;return this.componentControls.add(e),function(){return t.componentControls.delete(e)}},e.prototype.start=function(e,t){this.componentControls.forEach((function(n){n.start(e.nativeEvent||e,t)}))}}();var da=vn(null);if("undefined"!==typeof window)if(window.matchMedia){var pa=window.matchMedia("(prefers-reduced-motion)"),ba=function(){return da.set(pa.matches)};pa.addListener(ba),ba()}else da.set(!1)},function(e,t,n){"use strict";var r=n(104),i=n(69),a=n(155),o=n(78),s=n(42),c=n(277);function u(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var l=u,h=(n(446),[]),f=0;function d(e){try{v(),e()}finally{y()}}function p(e){h.push(e),f||(v(),m())}function b(e){try{return v(),e()}finally{m()}}function v(){f++}function y(){f--}function m(){var e;for(y();!f&&void 0!==(e=h.shift());)d(e)}var g=function(e){return function(t){return e.some((function(e){return x(e)(t)}))}},O=function(e){return function(t){return e(t)}},j=function(e){return function(t){return t.type===String(e)}},w=function(e){return function(t){return t.type===e}},_=function(){return s.G};function x(e){var t="*"===e?_:Object(o.k)(e)?j:Object(o.a)(e)?g:Object(o.l)(e)?j:Object(o.d)(e)?O:Object(o.m)(e)?w:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var k={type:r.b},S=function(e){return e&&e.type===r.b};function E(e){void 0===e&&(e=Object(s.A)());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(k):e.isEmpty()?(n.push(r),r.cancel=function(){Object(s.N)(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(k):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++){(0,e[r])(k)}}}}}function T(){var e=function(){var e,t=!1,n=[],i=n,a=function(){i===n&&(i=n.slice())},o=function(){t=!0;var e=n=i;i=[],e.forEach((function(e){e(k)}))};return(e={})[r.e]=!0,e.put=function(e){if(!t)if(S(e))o();else for(var a=n=i,s=0,c=a.length;s<c;s++){var u=a[s];u[r.d](e)&&(u.cancel(),u(e))}},e.take=function(e,n){void 0===n&&(n=_),t?e(k):(e[r.d]=n,a(),i.push(e),e.cancel=Object(s.K)((function(){a(),Object(s.N)(i,e)})))},e.close=o,e}(),t=e.put;return e.put=function(e){e[r.f]?t(e):p((function(){t(e)}))},e}function M(e,t){var n=e[r.a];Object(o.d)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var C,A=0,P=function(){return++A};function I(e){e.isRunning()&&e.cancel()}var D=((C={})[s.r]=function(e,t,n){var i=t.channel,a=void 0===i?e.channel:i,s=t.pattern,c=t.maybe,u=function(e){e instanceof Error?n(e,!0):!S(e)||c?n(e):n(r.k)};try{a.take(u,Object(o.g)(s)?x(s):null)}catch(l){return void n(l,!0)}n.cancel=u.cancel},C[s.n]=function(e,t,n){var r=t.channel,i=t.action,a=t.resolve;p((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(s){return void n(s,!0)}a&&Object(o.j)(t)?M(t,n):n(t)}))},C[s.a]=function(e,t,n,r){var i=r.digestEffect,a=A,c=Object.keys(t);if(0!==c.length){var u=Object(s.H)(t,n);c.forEach((function(e){i(t[e],a,u[e],e)}))}else n(Object(o.a)(t)?[]:{})},C[s.p]=function(e,t,n,r){var i=r.digestEffect,a=A,c=Object.keys(t),u=Object(o.a)(t)?Object(s.I)(c.length):{},l={},h=!1;c.forEach((function(e){var t=function(t,r){h||(r||Object(s.O)(t)?(n.cancel(),n(t,r)):(n.cancel(),h=!0,u[e]=t,n(u)))};t.cancel=s.P,l[e]=t})),n.cancel=function(){h||(h=!0,c.forEach((function(e){return l[e].cancel()})))},c.forEach((function(e){h||i(t[e],a,l[e],e)}))},C[s.c]=function(e,t,n,r){var i=t.context,a=t.fn,c=t.args,u=r.task;try{var l=a.apply(i,c);if(Object(o.j)(l))return void M(l,n);if(Object(o.e)(l))return void G(e,l,u.context,A,Object(s.F)(a),!1,n);n(l)}catch(h){n(h,!0)}},C[s.w]=function(e,t,n){var r=t.context,i=t.fn,a=t.args;try{var s=function(e,t){Object(o.n)(e)?n(t):n(e,!0)};i.apply(r,a.concat(s)),s.cancel&&(n.cancel=s.cancel)}catch(c){n(c,!0)}},C[s.f]=function(e,t,n,r){var i=t.context,a=t.fn,c=t.args,u=t.detached,l=r.task,h=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(Object(o.e)(i))return i;var a=!1;return Object(s.M)((function(e){return a?{value:e,done:!0}:(a=!0,{value:i,done:!Object(o.j)(i)})}))}catch(c){return Object(s.M)((function(){throw c}))}}({context:i,fn:a,args:c}),f=function(e,t){return e.isSagaIterator?{name:e.meta.name}:Object(s.F)(t)}(h,a);b((function(){var t=G(e,h,l.context,A,f,u,void 0);u?n(t):t.isRunning()?(l.queue.addTask(t),n(t)):t.isAborted()?l.queue.abort(t.error()):n(t)}))},C[s.h]=function(e,t,n,r){var i=r.task,a=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&Object(s.N)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Object(o.a)(t)){if(0===t.length)return void n([]);var c=Object(s.H)(t,n);t.forEach((function(e,t){a(e,c[t])}))}else a(t,n)},C[s.x]=function(e,t,n,i){var a=i.task;t===r.h?I(a):Object(o.a)(t)?t.forEach(I):I(t),n()},C[s.q]=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(a){n(a,!0)}},C[s.z]=function(e,t,n){var r=t.pattern,i=E(t.buffer),a=x(r),o=function t(n){S(n)||e.channel.take(t,a),i.put(n)},s=i.close;i.close=function(){o.cancel(),s()},e.channel.take(o,a),n(i)},C[s.B]=function(e,t,n,r){n(r.task.isCancelled())},C[s.C]=function(e,t,n){t.flush(n)},C[s.g]=function(e,t,n,r){n(r.task.context[t])},C[s.D]=function(e,t,n,r){var i=r.task;Object(s.L)(i.context,t),n()},C);function L(e,t){return e+"?"+t}function R(e){var t=e.name,n=e.location;return n?t+"  "+L(n.fileName,n.lineNumber):t}function N(e){var t=Object(s.Q)((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var F=null,z=[],V=function(){F=null,z.length=0},U=function(){var e=z[0],t=z.slice(1),n=e.crashedEffect?function(e){var t=Object(s.R)(e);return t?t.code+"  "+L(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+R(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+R(e.meta)})),[N(z)]).join("\n")};function B(e,t,n,i,a,o,c){var u;void 0===c&&(c=s.P);var h,f,d=0,p=null,b=[],v=Object.create(n),y=function(e,t,n){var r,i=[],a=!1;function o(e){t(),u(),n(e,!0)}function c(t){i.push(t),t.cont=function(c,u){a||(Object(s.N)(i,t),t.cont=s.P,u?o(c):(t===e&&(r=c),i.length||(a=!0,n(r))))}}function u(){a||(a=!0,i.forEach((function(e){e.cont=s.P,e.cancel()})),i=[])}return c(e),{addTask:c,cancelAll:u,abort:o,getTasks:function(){return i}}}(t,(function(){b.push.apply(b,y.getTasks().map((function(e){return e.meta.name})))}),m);function m(t,n){if(n){if(d=2,(o={meta:a,cancelledTasks:b}).crashedEffect=F,z.push(o),g.isRoot){var i=U();V(),e.onError(t,{sagaStack:i})}f=t,p&&p.reject(t)}else t===r.j?d=1:1!==d&&(d=3),h=t,p&&p.resolve(t);var o;g.cont(t,n),g.joiners.forEach((function(e){e.cb(t,n)})),g.joiners=null}var g=((u={})[r.i]=!0,u.id=i,u.meta=a,u.isRoot=o,u.context=v,u.joiners=[],u.queue=y,u.cancel=function(){0===d&&(d=1,y.cancelAll(),m(r.j,!1))},u.cont=c,u.end=m,u.setContext=function(e){Object(s.L)(v,e)},u.toPromise=function(){return p||(p=l(),2===d?p.reject(f):0!==d&&p.resolve(h)),p.promise},u.isRunning=function(){return 0===d},u.isCancelled=function(){return 1===d||0===d&&1===t.status},u.isAborted=function(){return 2===d},u.result=function(){return h},u.error=function(){return f},u);return g}function G(e,t,n,i,a,c,u){var l=e.finalizeRunEffect((function(t,n,i){if(Object(o.j)(t))M(t,i);else if(Object(o.e)(t))G(e,t,f.context,n,a,!1,i);else if(t&&t[r.c]){(0,D[t.type])(e,t.payload,i,d)}else i(t)}));p.cancel=s.P;var h={meta:a,cancel:function(){0===h.status&&(h.status=1,p(r.j))},status:0},f=B(e,h,n,i,a,c,u),d={task:f,digestEffect:b};return u&&(u.cancel=f.cancel),p(),f;function p(e,n){try{var a;n?(a=t.throw(e),V()):Object(s.S)(e)?(h.status=1,p.cancel(),a=Object(o.d)(t.return)?t.return(r.j):{done:!0,value:r.j}):a=Object(s.T)(e)?Object(o.d)(t.return)?t.return():{done:!0}:t.next(e),a.done?(1!==h.status&&(h.status=3),h.cont(a.value)):b(a.value,i,p)}catch(c){if(1===h.status)throw c;h.status=2,h.cont(c,!0)}}function b(t,n,r,i){void 0===i&&(i="");var a,o=P();function c(n,i){a||(a=!0,r.cancel=s.P,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),i&&function(e){F=e}(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:i,effect:t}),c.cancel=s.P,r.cancel=function(){a||(a=!0,c.cancel(),c.cancel=s.P,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},l(t,o,c)}}function q(e,t){var n=e.channel,r=void 0===n?T():n,i=e.dispatch,a=e.getState,o=e.context,u=void 0===o?{}:o,l=e.sagaMonitor,h=e.effectMiddlewares,f=e.onError,d=void 0===f?s.b:f;for(var p=arguments.length,v=new Array(p>2?p-2:0),y=2;y<p;y++)v[y-2]=arguments[y];var m=t.apply(void 0,v);var g,O=P();if(l&&(l.rootSagaStarted=l.rootSagaStarted||s.P,l.effectTriggered=l.effectTriggered||s.P,l.effectResolved=l.effectResolved||s.P,l.effectRejected=l.effectRejected||s.P,l.effectCancelled=l.effectCancelled||s.P,l.actionDispatched=l.actionDispatched||s.P,l.rootSagaStarted({effectId:O,saga:t,args:v})),h){var j=c.d.apply(void 0,h);g=function(e){return function(t,n,r){return j((function(t){return e(t,n,r)}))(t)}}}else g=s.e;var w={channel:r,dispatch:Object(s.d)(i),getState:a,sagaMonitor:l,onError:d,finalizeRunEffect:g};return b((function(){var e=G(w,m,u,O,Object(s.F)(t),!0,void 0);return l&&l.effectResolved(O,e),e}))}var H=function(e){var t,n=void 0===e?{}:e,r=n.context,o=void 0===r?{}:r,c=n.channel,u=void 0===c?T():c,l=n.sagaMonitor,h=Object(a.a)(n,["context","channel","sagaMonitor"]);function f(e){var n=e.getState,r=e.dispatch;return t=q.bind(null,Object(i.a)({},h,{context:o,channel:u,dispatch:r,getState:n,sagaMonitor:l})),function(e){return function(t){l&&l.actionDispatched&&l.actionDispatched(t);var n=e(t);return u.put(t),n}}}return f.run=function(){return t.apply(void 0,arguments)},f.setContext=function(e){Object(s.L)(o,e)},f};t.a=H},function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e).slice(8,-1)}function i(e){return"Undefined"===r(e)}function a(e){return"Null"===r(e)}function o(e){return"Object"===r(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function s(e){return"Array"===r(e)}function c(e){return"Symbol"===r(e)}var u,l,h,f,d;u=a,l=i;function p(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function b(e,t,n,r){var i=r.propertyIsEnumerable(t)?"enumerable":"nonenumerable";"enumerable"===i&&(e[t]=n),"nonenumerable"===i&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function v(e,t,n){if(!o(t))return n&&s(n)&&n.forEach((function(n){t=n(e,t)})),t;var r={};o(e)&&(r=p(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e)).reduce((function(n,r){var i=e[r];return(!c(r)&&!Object.getOwnPropertyNames(t).includes(r)||c(r)&&!Object.getOwnPropertySymbols(t).includes(r))&&b(n,r,i,e),n}),{}));return p(Object.getOwnPropertyNames(t),Object.getOwnPropertySymbols(t)).reduce((function(r,i){var a=t[i],c=o(e)?e[i]:void 0;return n&&s(n)&&n.forEach((function(e){a=e(c,a)})),void 0!==c&&o(a)&&(a=v(c,a,n)),b(r,i,a,t),r}),r)}t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=null,i=e;return o(e)&&e.extensions&&1===Object.keys(e).length&&(i={},r=e.extensions),t.reduce((function(e,t){return v(e,t,r)}),i)}},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(3),a=n(5),o=n(6),s=n(0),c=(n(15),n(14),n(18),n(1)),u=n(8),l=n(20),h=(n(12),n(21),n(22),n(17)),f=n(27),d=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).created=null,i.id=null,i.portal=null,i.title=null,i.username=null,i}return Object(i.a)(n,[{key:"url",get:function(){var e=this.get("portal.restUrl");return e?"".concat(e,"/content/users/").concat(this.username,"/").concat(this.id):null}},{key:"toJSON",value:function(){throw new l.a("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}}]),n}(f.a);Object(s.a)([Object(c.b)({type:Date})],d.prototype,"created",void 0),Object(s.a)([Object(c.b)()],d.prototype,"id",void 0),Object(s.a)([Object(c.b)()],d.prototype,"portal",void 0),Object(s.a)([Object(c.b)()],d.prototype,"title",void 0),Object(s.a)([Object(c.b)({dependsOn:["portal.restUrl"],readOnly:!0})],d.prototype,"url",null),Object(s.a)([Object(c.b)()],d.prototype,"username",void 0);var p,b=d=Object(s.a)([Object(u.a)("esri.portal.PortalFolder")],d),v=n(550),y=p=function(e){Object(a.a)(s,e);var t=Object(o.a)(s);function s(){var e;Object(r.a)(this,s);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).access=null,e.created=null,e.culture=null,e.description=null,e.email=null,e.fullName=null,e.modified=null,e.orgId=null,e.portal=null,e.preferredView=null,e.privileges=null,e.region=null,e.role=null,e.roleId=null,e.sourceJSON=null,e.units=null,e.username=null,e.userType=null,e}return Object(i.a)(s,[{key:"thumbnailUrl",get:function(){var e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl("".concat(e,"/info/").concat(t,"?f=json")):null}},{key:"userContentUrl",get:function(){var e=this.get("portal.restUrl");return e?"".concat(e,"/content/users/").concat(this.username):null}},{key:"url",get:function(){var e=this.get("portal.restUrl");return e?"".concat(e,"/community/users/").concat(this.username):null}},{key:"addItem",value:function(e){var t=this,n=e&&e.item,r=e&&e.data,i=e&&e.folder,a={method:"post"};n&&(a.query=n.createPostQuery(),null!=r&&("string"==typeof r?a.query.text=r:"object"==typeof r&&(a.query.text=JSON.stringify(r))));var o=this.userContentUrl;return i&&(o+="/"+("string"==typeof i?i:i.id)),this.portal._request(o+"/addItem",a).then((function(e){return n.id=e.id,n.portal=t.portal,n.loaded?n.reload():n.load()}))}},{key:"deleteItem",value:function(e){var t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+"/items/".concat(e.id,"/delete"),{method:"post"}).then((function(){e.id=null,e.portal=null}))}},{key:"deleteItems",value:function(e){var t=this.userContentUrl+"/deleteItems",n=e.map((function(e){return e.id}));if(n.length){var r={method:"post",query:{items:n.join(",")}};return this.portal._request(t,r).then((function(){e.forEach((function(e){e.id=null,e.portal=null}))}))}return Object(h.s)(void 0)}},{key:"fetchFolders",value:function(){var e=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then((function(t){return t&&t.folders?t.folders.map((function(t){var n=b.fromJSON(t);return n.portal=e.portal,n})):[]}))}},{key:"fetchGroups",value:function(){var e=this;return this.portal._request(this.url).then((function(t){return t&&t.groups?t.groups.map((function(t){var n=v.default.fromJSON(t);return n.portal=e.portal,n})):[]}))}},{key:"fetchItems",value:function(e){var t=this;e||(e={});var r,i=this.userContentUrl;return e.folder&&(i+="/"+e.folder.id),Promise.resolve().then(n.bind(null,385)).then((function(n){var a=n.default;r=a;var o={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return t.portal._request(i,{query:o})})).then((function(e){var n;return e&&e.items?(n=e.items.map((function(e){var n=r.fromJSON(e);return n.portal=t.portal,n})),Object(h.b)(n.map((function(e){return e.load()}))).catch((function(e){return e})).then((function(){return{items:n,nextStart:e.nextStart,total:e.total}}))):{items:[],nextStart:-1,total:0}}))}},{key:"fetchTags",value:function(){return this.portal._request(this.url+"/tags").then((function(e){return e.tags}))}},{key:"getThumbnailUrl",value:function(e){var t=this.thumbnailUrl;return t&&e&&(t+="&w=".concat(e)),t}},{key:"queryFavorites",value:function(e){return this.favGroupId?(this._favGroup||(this._favGroup=new v.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Object(h.r)(new l.a("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}},{key:"toJSON",value:function(){throw new l.a("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}}],[{key:"fromJSON",value:function(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");var t=new p;return t.sourceJSON=e,t.read(e),t}}]),s}(f.a);Object(s.a)([Object(c.b)()],y.prototype,"access",void 0),Object(s.a)([Object(c.b)({type:Date})],y.prototype,"created",void 0),Object(s.a)([Object(c.b)()],y.prototype,"culture",void 0),Object(s.a)([Object(c.b)()],y.prototype,"description",void 0),Object(s.a)([Object(c.b)()],y.prototype,"email",void 0),Object(s.a)([Object(c.b)()],y.prototype,"favGroupId",void 0),Object(s.a)([Object(c.b)()],y.prototype,"fullName",void 0),Object(s.a)([Object(c.b)({type:Date})],y.prototype,"modified",void 0),Object(s.a)([Object(c.b)()],y.prototype,"orgId",void 0),Object(s.a)([Object(c.b)()],y.prototype,"portal",void 0),Object(s.a)([Object(c.b)()],y.prototype,"preferredView",void 0),Object(s.a)([Object(c.b)()],y.prototype,"privileges",void 0),Object(s.a)([Object(c.b)()],y.prototype,"region",void 0),Object(s.a)([Object(c.b)()],y.prototype,"role",void 0),Object(s.a)([Object(c.b)()],y.prototype,"roleId",void 0),Object(s.a)([Object(c.b)()],y.prototype,"sourceJSON",void 0),Object(s.a)([Object(c.b)()],y.prototype,"thumbnail",void 0),Object(s.a)([Object(c.b)({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],y.prototype,"thumbnailUrl",null),Object(s.a)([Object(c.b)()],y.prototype,"units",void 0),Object(s.a)([Object(c.b)({dependsOn:["portal.restUrl"],readOnly:!0})],y.prototype,"userContentUrl",null),Object(s.a)([Object(c.b)({dependsOn:["portal.restUrl"],readOnly:!0})],y.prototype,"url",null),Object(s.a)([Object(c.b)()],y.prototype,"username",void 0),Object(s.a)([Object(c.b)()],y.prototype,"userType",void 0);var m=y=p=Object(s.a)([Object(u.a)("esri.portal.PortalUser")],y);t.default=m},,function(e,t,n){"use strict";var r=n(594),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,b=i?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function O(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function j(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}O.prototype.isReactComponent={},O.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},O.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},j.prototype=O.prototype;var _=w.prototype=new j;_.constructor=w,r(_,O.prototype),_.isPureReactComponent=!0;var x={current:null},k=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var M=/\/+/g,C=[];function A(e,t,n,r){if(C.length){var i=C.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C.length&&C.push(e)}function I(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return n(r,e,""===t?"."+L(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=t+L(i=e[c],c);s+=I(i,u,n,r)}else if(null===e||"object"!==typeof e?u=null:u="function"===typeof(u=v&&e[v]||e["@@iterator"])?u:null,"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)s+=I(i=i.value,u=t+L(i,c++),n,r);else if("object"===i)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function D(e,t,n){return null==e?0:I(e,"",t,n)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function N(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(T(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(M,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(M,"$&/")+"/"),D(e,N,t=A(t,a,r,i)),P(t)}var z={current:null};function V(){var e=z.current;if(null===e)throw Error(y(321));return e}var U={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,R,t=A(null,null,t,n)),P(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!T(e))throw Error(y(143));return e}},t.Component=O,t.Fragment=s,t.Profiler=u,t.PureComponent=w,t.StrictMode=c,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var i=r({},e.props),o=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)k.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){u=Array(l);for(var h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:b,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return V().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,n){return V().useReducer(e,t,n)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";var r=n(19),i=n(594),a=n(737);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var c=!1,u=null,l=!1,h=null,f={onError:function(e){c=!0,u=e}};function d(e,t,n,r,i,a,o,l,h){c=!1,u=null,s.apply(f,arguments)}var p=null,b=null,v=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v(n),function(e,t,n,r,i,a,s,f,p){if(d.apply(this,arguments),c){if(!c)throw Error(o(198));var b=u;c=!1,u=null,l||(l=!0,h=b)}}(r,t,void 0,e),e.currentTarget=null}var m=null,g={};function O(){if(m)for(var e in g){var t=g[e],n=m.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!w[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,c=r;if(_.hasOwnProperty(c))throw Error(o(99,c));_[c]=a;var u=a.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&j(u[i],s,c);i=!0}else a.registrationName?(j(a.registrationName,s,c),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function j(e,t,n){if(x[e])throw Error(o(100,e));x[e]=t,k[e]=t.eventTypes[n].dependencies}var w=[],_={},x={},k={};function S(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!g.hasOwnProperty(t)||g[t]!==r){if(g[t])throw Error(o(102,t));g[t]=r,n=!0}}n&&O()}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),T=null,M=null,C=null;function A(e){if(e=b(e)){if("function"!==typeof T)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),T(e.stateNode,e.type,t))}}function P(e){M?C?C.push(e):C=[e]:M=e}function I(){if(M){var e=M,t=C;if(C=M=null,A(e),t)for(e=0;e<t.length;e++)A(t[e])}}function D(e,t){return e(t)}function L(e,t,n,r,i){return e(t,n,r,i)}function R(){}var N=D,F=!1,z=!1;function V(){null===M&&null===C||(R(),I())}function U(e,t,n){if(z)return e(t,n);z=!0;try{return N(e,t,n)}finally{z=!1,V()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,q={},H={};function W(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Y[e]=new W(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Y[t]=new W(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Y[e]=new W(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Y[e]=new W(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Y[e]=new W(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Y[e]=new W(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Y[e]=new W(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Y[e]=new W(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Y[e]=new W(e,5,!1,e.toLowerCase(),null,!1)}));var J=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(J,K);Y[t]=new W(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(J,K);Y[t]=new W(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(J,K);Y[t]=new W(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Y[e]=new W(e,1,!1,e.toLowerCase(),null,!1)})),Y.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Y[e]=new W(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var i=Y.hasOwnProperty(t)?Y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!G.call(H,e)||!G.call(q,e)&&(B.test(e)?H[e]=!0:(q[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,$="function"===typeof Symbol&&Symbol.for,ee=$?Symbol.for("react.element"):60103,te=$?Symbol.for("react.portal"):60106,ne=$?Symbol.for("react.fragment"):60107,re=$?Symbol.for("react.strict_mode"):60108,ie=$?Symbol.for("react.profiler"):60114,ae=$?Symbol.for("react.provider"):60109,oe=$?Symbol.for("react.context"):60110,se=$?Symbol.for("react.concurrent_mode"):60111,ce=$?Symbol.for("react.forward_ref"):60112,ue=$?Symbol.for("react.suspense"):60113,le=$?Symbol.for("react.suspense_list"):60120,he=$?Symbol.for("react.memo"):60115,fe=$?Symbol.for("react.lazy"):60116,de=$?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function be(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ve(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return ve(e.type);case de:return ve(e.render);case fe:if(e=1===e._status?e._result:null)return ve(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=ve(e.type);n=null,r&&(n=ve(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(Z,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function me(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ge(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Oe(e){e._valueTracker||(e._valueTracker=function(e){var t=ge(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function je(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ge(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _e(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=me(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xe(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function ke(e,t){xe(e,t);var n=me(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ee(e,t.type,me(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Se(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ee(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Te(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Me(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+me(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ce(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:me(n)}}function Pe(e,t){var n=me(t.value),r=me(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Re(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Re(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,ze,Ve=(ze=function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ze(e,t)}))}:ze);function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ge={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},qe={},He={};function We(e){if(qe[e])return qe[e];if(!Ge[e])return e;var t,n=Ge[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return qe[e]=n[t];return e}E&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var Ye=We("animationend"),Je=We("animationiteration"),Ke=We("animationstart"),Xe=We("transitionend"),Qe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ze=new("function"===typeof WeakMap?WeakMap:Map);function $e(e){var t=Ze.get(e);return void 0===t&&(t=new Map,Ze.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ct(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(at(e,st),ot)throw Error(o(95));if(l)throw e=h,l=!1,h=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!E)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ht=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ht.length&&ht.push(e)}function dt(e,t,n,r){if(ht.length){var i=ht.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=An(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ut(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,c=0;c<w.length;c++){var u=w[c];u&&(u=u.extractEvents(r,t,a,i,o))&&(s=it(s,u))}ct(s)}}function bt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Kt(t,"scroll",!0);break;case"focus":case"blur":Kt(t,"focus",!0),Kt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Kt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qe.indexOf(e)&&Jt(e,t)}n.set(e,null)}}var vt,yt,mt,gt=!1,Ot=[],jt=null,wt=null,_t=null,xt=new Map,kt=new Map,St=[],Et="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Tt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Mt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ct(e,t){switch(e){case"focus":case"blur":jt=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function At(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=Mt(t,n,r,i,a),null!==t&&(null!==(t=Pn(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function Pt(e){var t=An(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){mt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Pn(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){It(e)&&n.delete(t)}function Lt(){for(gt=!1;0<Ot.length;){var e=Ot[0];if(null!==e.blockedOn){null!==(e=Pn(e.blockedOn))&&vt(e);break}var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Ot.shift()}null!==jt&&It(jt)&&(jt=null),null!==wt&&It(wt)&&(wt=null),null!==_t&&It(_t)&&(_t=null),xt.forEach(Dt),kt.forEach(Dt)}function Rt(e,t){e.blockedOn===t&&(e.blockedOn=null,gt||(gt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Lt)))}function Nt(e){function t(t){return Rt(t,e)}if(0<Ot.length){Rt(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Rt(jt,e),null!==wt&&Rt(wt,e),null!==_t&&Rt(_t,e),xt.forEach(t),kt.forEach(t),n=0;n<St.length;n++)(r=St[n]).blockedOn===e&&(r.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)Pt(n),null===n.blockedOn&&St.shift()}var Ft={},zt=new Map,Vt=new Map,Ut=["abort","abort",Ye,"animationEnd",Je,"animationIteration",Ke,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Vt.set(r,t),zt.set(r,a),Ft[i]=a}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Ut,2);for(var Gt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),qt=0;qt<Gt.length;qt++)Vt.set(Gt[qt],0);var Ht=a.unstable_UserBlockingPriority,Wt=a.unstable_runWithPriority,Yt=!0;function Jt(e,t){Kt(t,e,!1)}function Kt(e,t,n){var r=Vt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=Qt.bind(null,t,1,e);break;default:r=Zt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){F||R();var i=Zt,a=F;F=!0;try{L(i,e,t,n,r)}finally{(F=a)||V()}}function Qt(e,t,n,r){Wt(Ht,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){if(Yt)if(0<Ot.length&&-1<Et.indexOf(e))e=Mt(null,e,t,n,r),Ot.push(e);else{var i=$t(e,t,n,r);if(null===i)Ct(e,r);else if(-1<Et.indexOf(e))e=Mt(i,e,t,n,r),Ot.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return jt=At(jt,e,t,n,r,i),!0;case"dragenter":return wt=At(wt,e,t,n,r,i),!0;case"mouseover":return _t=At(_t,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return xt.set(a,At(xt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,kt.set(a,At(kt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Ct(e,r),e=dt(e,r,null,t);try{U(pt,e)}finally{ft(e)}}}}function $t(e,t,n,r){if(null!==(n=An(n=ut(r)))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{U(pt,e)}finally{ft(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cn=De;function un(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=k[t];for(var r=0;r<t.length;r++)bt(t[r],e,n)}function ln(){}function hn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function bn(){for(var e=window,t=hn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=hn((e=t.contentWindow).document)}return t}function vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yn="$?",mn="$!",gn=null,On=null;function jn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function wn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _n="function"===typeof setTimeout?setTimeout:void 0,xn="function"===typeof clearTimeout?clearTimeout:void 0;function kn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||n===mn||n===yn){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+En,Mn="__reactEventHandlers$"+En,Cn="__reactContainere$"+En;function An(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[Tn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sn(e);null!==e;){if(n=e[Tn])return n;e=Sn(e)}return t}n=(e=n).parentNode}return null}function Pn(e){return!(e=e[Tn]||e[Cn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function In(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Dn(e){return e[Mn]||null}function Ln(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Rn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Nn(e,t,n){(t=Rn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Fn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Ln(t);for(t=n.length;0<t--;)Nn(n[t],"captured",e);for(t=0;t<n.length;t++)Nn(n[t],"bubbled",e)}}function zn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Rn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Vn(e){e&&e.dispatchConfig.registrationName&&zn(e._targetInst,null,e)}function Un(e){at(e,Fn)}var Bn=null,Gn=null,qn=null;function Hn(){if(qn)return qn;var e,t,n=Gn,r=n.length,i="value"in Bn?Bn.value:Bn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return qn=i.slice(e,1<t?1-t:void 0)}function Wn(){return!0}function Yn(){return!1}function Jn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Wn:Yn,this.isPropagationStopped=Yn,this}function Kn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Xn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Qn(e){e.eventPool=[],e.getPooled=Kn,e.release=Xn}i(Jn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){this.isPersistent=Wn},isPersistent:Yn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Yn,this._dispatchInstances=this._dispatchListeners=null}}),Jn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Jn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Qn(n),n},Qn(Jn);var Zn=Jn.extend({data:null}),$n=Jn.extend({data:null}),er=[9,13,27,32],tr=E&&"CompositionEvent"in window,nr=null;E&&"documentMode"in document&&(nr=document.documentMode);var rr=E&&"TextEvent"in window&&!nr,ir=E&&(!tr||nr&&8<nr&&11>=nr),ar=String.fromCharCode(32),or={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},sr=!1;function cr(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ur(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var lr=!1;var hr={eventTypes:or,extractEvents:function(e,t,n,r){var i;if(tr)e:{switch(e){case"compositionstart":var a=or.compositionStart;break e;case"compositionend":a=or.compositionEnd;break e;case"compositionupdate":a=or.compositionUpdate;break e}a=void 0}else lr?cr(e,n)&&(a=or.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=or.compositionStart);return a?(ir&&"ko"!==n.locale&&(lr||a!==or.compositionStart?a===or.compositionEnd&&lr&&(i=Hn()):(Gn="value"in(Bn=r)?Bn.value:Bn.textContent,lr=!0)),a=Zn.getPooled(a,t,n,r),i?a.data=i:null!==(i=ur(n))&&(a.data=i),Un(a),i=a):i=null,(e=rr?function(e,t){switch(e){case"compositionend":return ur(t);case"keypress":return 32!==t.which?null:(sr=!0,ar);case"textInput":return(e=t.data)===ar&&sr?null:e;default:return null}}(e,n):function(e,t){if(lr)return"compositionend"===e||!tr&&cr(e,t)?(e=Hn(),qn=Gn=Bn=null,lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=$n.getPooled(or.beforeInput,t,n,r)).data=e,Un(t)):t=null,null===i?t:null===t?i:[i,t]}},fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!fr[e.type]:"textarea"===t}var pr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function br(e,t,n){return(e=Jn.getPooled(pr.change,e,t,n)).type="change",P(n),Un(e),e}var vr=null,yr=null;function mr(e){ct(e)}function gr(e){if(je(In(e)))return e}function Or(e,t){if("change"===e)return t}var jr=!1;function wr(){vr&&(vr.detachEvent("onpropertychange",_r),yr=vr=null)}function _r(e){if("value"===e.propertyName&&gr(yr))if(e=br(yr,e,ut(e)),F)ct(e);else{F=!0;try{D(mr,e)}finally{F=!1,V()}}}function xr(e,t,n){"focus"===e?(wr(),yr=n,(vr=t).attachEvent("onpropertychange",_r)):"blur"===e&&wr()}function kr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gr(yr)}function Sr(e,t){if("click"===e)return gr(t)}function Er(e,t){if("input"===e||"change"===e)return gr(t)}E&&(jr=lt("input")&&(!document.documentMode||9<document.documentMode));var Tr={eventTypes:pr,_isInputEventSupported:jr,extractEvents:function(e,t,n,r){var i=t?In(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=Or;else if(dr(i))if(jr)o=Er;else{o=kr;var s=xr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Sr);if(o&&(o=o(e,t)))return br(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ee(i,"number",i.value)}},Mr=Jn.extend({view:null,detail:null}),Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cr[e])&&!!t[e]}function Pr(){return Ar}var Ir=0,Dr=0,Lr=!1,Rr=!1,Nr=Mr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Pr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ir;return Ir=e.screenX,Lr?"mousemove"===e.type?e.screenX-t:0:(Lr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Dr;return Dr=e.screenY,Rr?"mousemove"===e.type?e.screenY-t:0:(Rr=!0,0)}}),Fr=Nr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),zr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Vr={eventTypes:zr,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?An(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Nr,c=zr.mouseLeave,u=zr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Fr,c=zr.pointerLeave,u=zr.pointerEnter,l="pointer");if(e=null==o?a:In(o),a=null==t?a:In(t),(c=s.getPooled(c,o,n,r)).type=l+"leave",c.target=e,c.relatedTarget=a,(n=s.getPooled(u,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,l=t,(r=o)&&l)e:{for(u=l,o=0,e=s=r;e;e=Ln(e))o++;for(e=0,t=u;t;t=Ln(t))e++;for(;0<o-e;)s=Ln(s),o--;for(;0<e-o;)u=Ln(u),e--;for(;o--;){if(s===u||s===u.alternate)break e;s=Ln(s),u=Ln(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(o=r.alternate)||o!==u);)s.push(r),r=Ln(r);for(r=[];l&&l!==u&&(null===(o=l.alternate)||o!==u);)r.push(l),l=Ln(l);for(l=0;l<s.length;l++)zn(s[l],"bubbled",c);for(l=r.length;0<l--;)zn(r[l],"captured",n);return 0===(64&i)?[c]:[c,n]}};var Ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Br=Object.prototype.hasOwnProperty;function Gr(e,t){if(Ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Br.call(t,n[r])||!Ur(e[n[r]],t[n[r]]))return!1;return!0}var qr=E&&"documentMode"in document&&11>=document.documentMode,Hr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wr=null,Yr=null,Jr=null,Kr=!1;function Xr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Kr||null==Wr||Wr!==hn(n)?null:("selectionStart"in(n=Wr)&&vn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Jr&&Gr(Jr,n)?null:(Jr=n,(e=Jn.getPooled(Hr.select,Yr,e,t)).type="select",e.target=Wr,Un(e),e))}var Qr={eventTypes:Hr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=$e(i),a=k.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?In(t):window,e){case"focus":(dr(i)||"true"===i.contentEditable)&&(Wr=i,Yr=t,Jr=null);break;case"blur":Jr=Yr=Wr=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kr=!1,Xr(n,r);case"selectionchange":if(qr)break;case"keydown":case"keyup":return Xr(n,r)}return null}},Zr=Jn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$r=Jn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=Mr.extend({relatedTarget:null});function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=Mr.extend({key:function(e){if(e.key){var t=ni[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ri[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Pr,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ai=Nr.extend({dataTransfer:null}),oi=Mr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Pr}),si=Jn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ci=Nr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ui={eventTypes:Ft,extractEvents:function(e,t,n,r){var i=zt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ti(n))return null;case"keydown":case"keyup":e=ii;break;case"blur":case"focus":e=ei;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=oi;break;case Ye:case Je:case Ke:e=Zr;break;case Xe:e=si;break;case"scroll":e=Mr;break;case"wheel":e=ci;break;case"copy":case"cut":case"paste":e=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Fr;break;default:e=Jn}return Un(t=e.getPooled(i,t,n,r)),t}};if(m)throw Error(o(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),O(),p=Dn,b=Pn,v=In,S({SimpleEventPlugin:ui,EnterLeaveEventPlugin:Vr,ChangeEventPlugin:Tr,SelectEventPlugin:Qr,BeforeInputEventPlugin:hr});var li=[],hi=-1;function fi(e){0>hi||(e.current=li[hi],li[hi]=null,hi--)}function di(e,t){hi++,li[hi]=e.current,e.current=t}var pi={},bi={current:pi},vi={current:!1},yi=pi;function mi(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){fi(vi),fi(bi)}function ji(e,t,n){if(bi.current!==pi)throw Error(o(168));di(bi,t),di(vi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,ve(t)||"Unknown",a));return i({},n,{},r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,yi=bi.current,di(bi,e),di(vi,vi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,yi),r.__reactInternalMemoizedMergedChildContext=e,fi(vi),fi(bi),di(bi,e)):fi(vi),di(vi,n)}var ki=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ei=a.unstable_cancelCallback,Ti=a.unstable_requestPaint,Mi=a.unstable_now,Ci=a.unstable_getCurrentPriorityLevel,Ai=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Ii=a.unstable_NormalPriority,Di=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Ri={},Ni=a.unstable_shouldYield,Fi=void 0!==Ti?Ti:function(){},zi=null,Vi=null,Ui=!1,Bi=Mi(),Gi=1e4>Bi?Mi:function(){return Mi()-Bi};function qi(){switch(Ci()){case Ai:return 99;case Pi:return 98;case Ii:return 97;case Di:return 96;case Li:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Ai;case 98:return Pi;case 97:return Ii;case 96:return Di;case 95:return Li;default:throw Error(o(332))}}function Wi(e,t){return e=Hi(e),ki(e,t)}function Yi(e,t,n){return e=Hi(e),Si(e,t,n)}function Ji(e){return null===zi?(zi=[e],Vi=Si(Ai,Xi)):zi.push(e),Ri}function Ki(){if(null!==Vi){var e=Vi;Vi=null,Ei(e)}Xi()}function Xi(){if(!Ui&&null!==zi){Ui=!0;var e=0;try{var t=zi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),Si(Ai,Ki),n}finally{Ui=!1}}}function Qi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Zi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var $i={current:null},ea=null,ta=null,na=null;function ra(){na=ta=ea=null}function ia(e){var t=$i.current;fi($i),e.type._context._currentValue=t}function aa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function oa(e,t){ea=e,na=ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Do=!0),e.firstContext=null)}function sa(e,t){if(na!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(na=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ta){if(null===ea)throw Error(o(308));ta=t,ea.dependencies={expirationTime:0,firstContext:t,responders:null}}else ta=ta.next=t;return e._currentValue}var ca=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ha(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function da(e,t){var n=e.alternate;null!==n&&la(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function pa(e,t,n,r){var a=e.updateQueue;ca=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var c=o.next;o.next=s.next,s.next=c}o=s,a.shared.pending=null,null!==(c=e.alternate)&&(null!==(c=c.updateQueue)&&(c.baseQueue=s))}if(null!==o){c=o.next;var u=a.baseState,l=0,h=null,f=null,d=null;if(null!==c)for(var p=c;;){if((s=p.expirationTime)<r){var b={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(f=d=b,h=u):d=d.next=b,s>l&&(l=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),dc(s,p.suspenseConfig);e:{var v=e,y=p;switch(s=t,b=n,y.tag){case 1:if("function"===typeof(v=y.payload)){u=v.call(b,u,s);break e}u=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null===(s="function"===typeof(v=y.payload)?v.call(b,u,s):v)||void 0===s)break e;u=i({},u,s);break e;case 2:ca=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[p]:s.push(p))}if(null===(p=p.next)||p===c){if(null===(s=a.shared.pending))break;p=o.next=s.next,s.next=c,a.baseQueue=o=s,a.shared.pending=null}}null===d?h=u:d.next=f,a.baseState=h,a.baseQueue=d,pc(l),e.expirationTime=l,e.memoizedState=u}}function ba(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var va=X.ReactCurrentBatchConfig,ya=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ec(),i=va.suspense;(i=ha(r=tc(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),fa(e,i),nc(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ec(),i=va.suspense;(i=ha(r=tc(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),fa(e,i),nc(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ec(),r=va.suspense;(r=ha(n=tc(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),fa(e,r),nc(e,n)}};function Oa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Gr(n,r)||!Gr(i,a))}function ja(e,t,n){var r=!1,i=pi,a=t.contextType;return"object"===typeof a&&null!==a?a=sa(a):(i=gi(t)?yi:bi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):pi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function _a(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ya,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=sa(a):(a=gi(t)?yi:bi.current,i.context=mi(e,a)),pa(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),pa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var xa=Array.isArray;function ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ya&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Nc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=ka(e,null,t),n.return=e,n;case te:return(t=Fc(t,e.mode,n)).return=e,t}if(xa(t)||be(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(xa(n)||be(n))return null!==i?null:h(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||be(r))return h(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function b(i,o,s,c){for(var u=null,l=null,h=o,b=o=0,v=null;null!==h&&b<s.length;b++){h.index>b?(v=h,h=null):v=h.sibling;var y=d(i,h,s[b],c);if(null===y){null===h&&(h=v);break}e&&h&&null===y.alternate&&t(i,h),o=a(y,o,b),null===l?u=y:l.sibling=y,l=y,h=v}if(b===s.length)return n(i,h),u;if(null===h){for(;b<s.length;b++)null!==(h=f(i,s[b],c))&&(o=a(h,o,b),null===l?u=h:l.sibling=h,l=h);return u}for(h=r(i,h);b<s.length;b++)null!==(v=p(h,i,b,s[b],c))&&(e&&null!==v.alternate&&h.delete(null===v.key?b:v.key),o=a(v,o,b),null===l?u=v:l.sibling=v,l=v);return e&&h.forEach((function(e){return t(i,e)})),u}function v(i,s,c,u){var l=be(c);if("function"!==typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var h=l=null,b=s,v=s=0,y=null,m=c.next();null!==b&&!m.done;v++,m=c.next()){b.index>v?(y=b,b=null):y=b.sibling;var g=d(i,b,m.value,u);if(null===g){null===b&&(b=y);break}e&&b&&null===g.alternate&&t(i,b),s=a(g,s,v),null===h?l=g:h.sibling=g,h=g,b=y}if(m.done)return n(i,b),l;if(null===b){for(;!m.done;v++,m=c.next())null!==(m=f(i,m.value,u))&&(s=a(m,s,v),null===h?l=m:h.sibling=m,h=m);return l}for(b=r(i,b);!m.done;v++,m=c.next())null!==(m=p(b,i,v,m.value,u))&&(e&&null!==m.alternate&&b.delete(null===m.key?v:m.key),s=a(m,s,v),null===h?l=m:h.sibling=m,h=m);return e&&b.forEach((function(e){return t(i,e)})),l}return function(e,r,a,c){var u="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;u&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case ee:e:{for(l=a.key,u=r;null!==u;){if(u.key===l){switch(u.tag){case 7:if(a.type===ne){n(e,u.sibling),(r=i(u,a.props.children)).return=e,e=r;break e}break;default:if(u.elementType===a.type){n(e,u.sibling),(r=i(u,a.props)).ref=ka(e,u,a),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}a.type===ne?((r=Rc(a.props.children,e.mode,c,a.key)).return=e,e=r):((c=Lc(a.type,a.key,a.props,null,e.mode,c)).ref=ka(e,r,a),c.return=e,e=c)}return s(e);case te:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Fc(a,e.mode,c)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Nc(a,e.mode,c)).return=e,e=r),s(e);if(xa(a))return b(e,r,a,c);if(be(a))return v(e,r,a,c);if(l&&Sa(e,a),"undefined"===typeof a&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ta=Ea(!0),Ma=Ea(!1),Ca={},Aa={current:Ca},Pa={current:Ca},Ia={current:Ca};function Da(e){if(e===Ca)throw Error(o(174));return e}function La(e,t){switch(di(Ia,t),di(Pa,e),di(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ne(null,"");break;default:t=Ne(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}fi(Aa),di(Aa,t)}function Ra(){fi(Aa),fi(Pa),fi(Ia)}function Na(e){Da(Ia.current);var t=Da(Aa.current),n=Ne(t,e.type);t!==n&&(di(Pa,e),di(Aa,n))}function Fa(e){Pa.current===e&&(fi(Aa),fi(Pa))}var za={current:0};function Va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===yn||n.data===mn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ua(e,t){return{responder:e,props:t}}var Ba=X.ReactCurrentDispatcher,Ga=X.ReactCurrentBatchConfig,qa=0,Ha=null,Wa=null,Ya=null,Ja=!1;function Ka(){throw Error(o(321))}function Xa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ur(e[n],t[n]))return!1;return!0}function Qa(e,t,n,r,i,a){if(qa=a,Ha=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ba.current=null===e||null===e.memoizedState?jo:wo,e=n(r,i),t.expirationTime===qa){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Ya=Wa=null,t.updateQueue=null,Ba.current=_o,e=n(r,i)}while(t.expirationTime===qa)}if(Ba.current=Oo,t=null!==Wa&&null!==Wa.next,qa=0,Ya=Wa=Ha=null,Ja=!1,t)throw Error(o(300));return e}function Za(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ya?Ha.memoizedState=Ya=e:Ya=Ya.next=e,Ya}function $a(){if(null===Wa){var e=Ha.alternate;e=null!==e?e.memoizedState:null}else e=Wa.next;var t=null===Ya?Ha.memoizedState:Ya.next;if(null!==t)Ya=t,Wa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Wa=e).memoizedState,baseState:Wa.baseState,baseQueue:Wa.baseQueue,queue:Wa.queue,next:null},null===Ya?Ha.memoizedState=Ya=e:Ya=Ya.next=e}return Ya}function eo(e,t){return"function"===typeof t?t(e):t}function to(e){var t=$a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Wa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=a=null,u=i;do{var l=u.expirationTime;if(l<qa){var h={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(s=c=h,a=r):c=c.next=h,l>Ha.expirationTime&&(Ha.expirationTime=l,pc(l))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),dc(l,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===c?a=r:c.next=s,Ur(r,t.memoizedState)||(Do=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function no(e){var t=$a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Ur(a,t.memoizedState)||(Do=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ro(e){var t=Za();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=go.bind(null,Ha,e),[t.memoizedState,e]}function io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ha.updateQueue)?(t={lastEffect:null},Ha.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ao(){return $a().memoizedState}function oo(e,t,n,r){var i=Za();Ha.effectTag|=e,i.memoizedState=io(1|t,n,void 0,void 0===r?null:r)}function so(e,t,n,r){var i=$a();r=void 0===r?null:r;var a=void 0;if(null!==Wa){var o=Wa.memoizedState;if(a=o.destroy,null!==r&&Xa(r,o.deps))return void io(t,n,a,r)}Ha.effectTag|=e,i.memoizedState=io(1|t,n,a,r)}function co(e,t){return oo(516,4,e,t)}function uo(e,t){return so(516,4,e,t)}function lo(e,t){return so(4,2,e,t)}function ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function fo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,so(4,2,ho.bind(null,t,e),n)}function po(){}function bo(e,t){return Za().memoizedState=[e,void 0===t?null:t],e}function vo(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yo(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function mo(e,t,n){var r=qi();Wi(98>r?98:r,(function(){e(!0)})),Wi(97<r?97:r,(function(){var r=Ga.suspense;Ga.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ga.suspense=r}}))}function go(e,t,n){var r=ec(),i=va.suspense;i={expirationTime:r=tc(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ha||null!==a&&a===Ha)Ja=!0,i.expirationTime=qa,Ha.expirationTime=qa;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,Ur(s,o))return}catch(c){}nc(e,r)}}var Oo={readContext:sa,useCallback:Ka,useContext:Ka,useEffect:Ka,useImperativeHandle:Ka,useLayoutEffect:Ka,useMemo:Ka,useReducer:Ka,useRef:Ka,useState:Ka,useDebugValue:Ka,useResponder:Ka,useDeferredValue:Ka,useTransition:Ka},jo={readContext:sa,useCallback:bo,useContext:sa,useEffect:co,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,oo(4,2,ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var n=Za();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Za();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=go.bind(null,Ha,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Za().memoizedState=e},useState:ro,useDebugValue:po,useResponder:Ua,useDeferredValue:function(e,t){var n=ro(e),r=n[0],i=n[1];return co((function(){var n=Ga.suspense;Ga.suspense=void 0===t?null:t;try{i(e)}finally{Ga.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(!1),n=t[0];return t=t[1],[bo(mo.bind(null,t,e),[t,e]),n]}},wo={readContext:sa,useCallback:vo,useContext:sa,useEffect:uo,useImperativeHandle:fo,useLayoutEffect:lo,useMemo:yo,useReducer:to,useRef:ao,useState:function(){return to(eo)},useDebugValue:po,useResponder:Ua,useDeferredValue:function(e,t){var n=to(eo),r=n[0],i=n[1];return uo((function(){var n=Ga.suspense;Ga.suspense=void 0===t?null:t;try{i(e)}finally{Ga.suspense=n}}),[e,t]),r},useTransition:function(e){var t=to(eo),n=t[0];return t=t[1],[vo(mo.bind(null,t,e),[t,e]),n]}},_o={readContext:sa,useCallback:vo,useContext:sa,useEffect:uo,useImperativeHandle:fo,useLayoutEffect:lo,useMemo:yo,useReducer:no,useRef:ao,useState:function(){return no(eo)},useDebugValue:po,useResponder:Ua,useDeferredValue:function(e,t){var n=no(eo),r=n[0],i=n[1];return uo((function(){var n=Ga.suspense;Ga.suspense=void 0===t?null:t;try{i(e)}finally{Ga.suspense=n}}),[e,t]),r},useTransition:function(e){var t=no(eo),n=t[0];return t=t[1],[vo(mo.bind(null,t,e),[t,e]),n]}},xo=null,ko=null,So=!1;function Eo(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function To(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Mo(e){if(So){var t=ko;if(t){var n=t;if(!To(e,t)){if(!(t=kn(n.nextSibling))||!To(e,t))return e.effectTag=-1025&e.effectTag|2,So=!1,void(xo=e);Eo(xo,n)}xo=e,ko=kn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,So=!1,xo=e}}function Co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xo=e}function Ao(e){if(e!==xo)return!1;if(!So)return Co(e),So=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!wn(t,e.memoizedProps))for(t=ko;t;)Eo(e,t),t=kn(t.nextSibling);if(Co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ko=kn(e.nextSibling);break e}t--}else"$"!==n&&n!==mn&&n!==yn||t++}e=e.nextSibling}ko=null}}else ko=xo?kn(e.stateNode.nextSibling):null;return!0}function Po(){ko=xo=null,So=!1}var Io=X.ReactCurrentOwner,Do=!1;function Lo(e,t,n,r){t.child=null===e?Ma(t,null,n,r):Ta(t,e.child,n,r)}function Ro(e,t,n,r,i){n=n.render;var a=t.ref;return oa(t,i),r=Qa(e,t,n,r,a,i),null===e||Do?(t.effectTag|=1,Lo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Zo(e,t,i))}function No(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ic(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Gr)(i,r)&&e.ref===t.ref)?Zo(e,t,a):(t.effectTag|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e)}function Fo(e,t,n,r,i,a){return null!==e&&Gr(e.memoizedProps,r)&&e.ref===t.ref&&(Do=!1,i<a)?(t.expirationTime=e.expirationTime,Zo(e,t,a)):Vo(e,t,n,r,a)}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Vo(e,t,n,r,i){var a=gi(n)?yi:bi.current;return a=mi(t,a),oa(t,i),n=Qa(e,t,n,r,a,i),null===e||Do?(t.effectTag|=1,Lo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Zo(e,t,i))}function Uo(e,t,n,r,i){if(gi(n)){var a=!0;_i(t)}else a=!1;if(oa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ja(t,n,r),_a(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=sa(u):u=mi(t,u=gi(n)?yi:bi.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||c!==u)&&wa(t,o,r,u),ca=!1;var f=t.memoizedState;o.state=f,pa(t,r,o,i),c=t.memoizedState,s!==r||f!==c||vi.current||ca?("function"===typeof l&&(ma(t,n,l,r),c=t.memoizedState),(s=ca||Oa(t,n,s,r,f,c,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,la(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:Zi(t.type,s),c=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=sa(u):u=mi(t,u=gi(n)?yi:bi.current),(h="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||c!==u)&&wa(t,o,r,u),ca=!1,c=t.memoizedState,o.state=c,pa(t,r,o,i),f=t.memoizedState,s!==r||c!==f||vi.current||ca?("function"===typeof l&&(ma(t,n,l,r),f=t.memoizedState),(l=ca||Oa(t,n,s,r,c,f,u))?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,u)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Bo(e,t,n,r,a,i)}function Bo(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&xi(t,n,!1),Zo(e,t,a);r=t.stateNode,Io.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Lo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),La(e,t.containerInfo)}var qo,Ho,Wo,Yo={dehydrated:null,retryTime:0};function Jo(e,t,n){var r,i=t.mode,a=t.pendingProps,o=za.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),di(za,1&o),null===e){if(void 0!==a.fallback&&Mo(t),s){if(s=a.fallback,(a=Rc(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Rc(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=Yo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Ma(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=Dc(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Dc(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Yo,t.child=n,i}return n=Ta(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Rc(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Rc(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Yo,t.child=a,n}return t.memoizedState=null,t.child=Ta(t,e,a.children,n)}function Ko(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),aa(e.return,t)}function Xo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Lo(e,t,r.children,n),0!==(2&(r=za.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n);else if(19===e.tag)Ko(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(za,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Va(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Va(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xo(t,!0,n,null,a,t.lastEffect);break;case"together":Xo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Zo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&pc(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function es(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(t.type)&&Oi(),null;case 3:return Ra(),fi(vi),fi(bi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ao(t)||(t.effectTag|=4),null;case 5:Fa(t),n=Da(Ia.current);var a=t.type;if(null!==e&&null!=t.stateNode)Ho(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Da(Aa.current),Ao(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[Tn]=t,r[Mn]=s,a){case"iframe":case"object":case"embed":Jt("load",r);break;case"video":case"audio":for(e=0;e<Qe.length;e++)Jt(Qe[e],r);break;case"source":Jt("error",r);break;case"img":case"image":case"link":Jt("error",r),Jt("load",r);break;case"form":Jt("reset",r),Jt("submit",r);break;case"details":Jt("toggle",r);break;case"input":_e(r,s),Jt("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Jt("invalid",r),un(n,"onChange");break;case"textarea":Ae(r,s),Jt("invalid",r),un(n,"onChange")}for(var c in on(a,s),e=null,s)if(s.hasOwnProperty(c)){var u=s[c];"children"===c?"string"===typeof u?r.textContent!==u&&(e=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(e=["children",""+u]):x.hasOwnProperty(c)&&null!=u&&un(n,c)}switch(a){case"input":Oe(r),Se(r,s,!0);break;case"textarea":Oe(r),Ie(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,e===cn&&(e=Re(a)),e===cn?"script"===a?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(a,{is:r.is}):(e=c.createElement(a),"select"===a&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,a),e[Tn]=t,e[Mn]=r,qo(e,t),t.stateNode=e,c=sn(a,r),a){case"iframe":case"object":case"embed":Jt("load",e),u=r;break;case"video":case"audio":for(u=0;u<Qe.length;u++)Jt(Qe[u],e);u=r;break;case"source":Jt("error",e),u=r;break;case"img":case"image":case"link":Jt("error",e),Jt("load",e),u=r;break;case"form":Jt("reset",e),Jt("submit",e),u=r;break;case"details":Jt("toggle",e),u=r;break;case"input":_e(e,r),u=we(e,r),Jt("invalid",e),un(n,"onChange");break;case"option":u=Te(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=i({},r,{value:void 0}),Jt("invalid",e),un(n,"onChange");break;case"textarea":Ae(e,r),u=Ce(e,r),Jt("invalid",e),un(n,"onChange");break;default:u=r}on(a,u);var l=u;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?rn(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&Ve(e,h):"children"===s?"string"===typeof h?("textarea"!==a||""!==h)&&Ue(e,h):"number"===typeof h&&Ue(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(x.hasOwnProperty(s)?null!=h&&un(n,s):null!=h&&Q(e,s,h,c))}switch(a){case"input":Oe(e),Se(e,r,!1);break;case"textarea":Oe(e),Ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+me(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Me(e,!!r.multiple,n,!1):null!=r.defaultValue&&Me(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=ln)}jn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Wo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Da(Ia.current),Da(Aa.current),Ao(t)?(n=t.stateNode,r=t.memoizedProps,n[Tn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Tn]=t,t.stateNode=n)}return null;case 13:return fi(za),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ao(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&za.current)?Ls===Ts&&(Ls=Ms):(Ls!==Ts&&Ls!==Ms||(Ls=Cs),0!==Vs&&null!==Ps&&(Uc(Ps,Ds),Bc(Ps,Vs)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ra(),null;case 10:return ia(t),null;case 17:return gi(t.type)&&Oi(),null;case 19:if(fi(za),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=r.rendering)){if(a)$o(r,!1);else if(Ls!==Ts||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Va(s))){for(t.effectTag|=64,$o(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return di(za,1&za.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=Va(s))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),$o(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,$o(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Gi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=za.current,di(za,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function ts(e){switch(e.tag){case 1:gi(e.type)&&Oi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ra(),fi(vi),fi(bi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Fa(e),null;case 13:return fi(za),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return fi(za),null;case 4:return Ra(),null;case 10:return ia(e),null;default:return null}}function ns(e,t){return{value:e,source:t,stack:ye(t)}}qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ho=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,c,u=t.stateNode;switch(Da(Aa.current),e=null,n){case"input":o=we(u,o),r=we(u,r),e=[];break;case"option":o=Te(u,o),r=Te(u,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Ce(u,o),r=Ce(u,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(u.onclick=ln)}for(s in on(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(c in u=o[s])u.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(x.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(u=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&l!==u&&(null!=l||null!=u))if("style"===s)if(u){for(c in u)!u.hasOwnProperty(c)||l&&l.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in l)l.hasOwnProperty(c)&&u[c]!==l[c]&&(n||(n={}),n[c]=l[c])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(e=e||[]).push(s,l)):"children"===s?u===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(x.hasOwnProperty(s)?(null!=l&&un(a,s),e||u===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Wo=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var rs="function"===typeof WeakSet?WeakSet:Set;function is(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&ve(n.type),t=t.value,null!==e&&1===e.tag&&ve(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function as(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Sc(e,n)}else t.current=null}function os(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Zi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ss(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function cs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function us(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void cs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Zi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ba(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ba(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&jn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Nt(n)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function ls(e,t,n){switch("function"===typeof Cc&&Cc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Wi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Sc(i,a)}}e=e.next}while(e!==r)}))}break;case 1:as(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Sc(e,n)}}(t,n);break;case 5:as(t);break;case 4:vs(e,t,n)}}function hs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&hs(t)}function fs(e){return 5===e.tag||3===e.tag||4===e.tag}function ds(e){e:{for(var t=e.return;null!==t;){if(fs(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||fs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?ps(e,n,t):bs(e,n,t)}function ps(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ln));else if(4!==r&&null!==(e=e.child))for(ps(e,t,n),e=e.sibling;null!==e;)ps(e,t,n),e=e.sibling}function bs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function vs(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var c=e,u=a,l=n,h=u;;)if(ls(c,h,l),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break e;for(;null===h.sibling;){if(null===h.return||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(c=r,u=a.stateNode,8===c.nodeType?c.parentNode.removeChild(u):c.removeChild(u)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ls(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function ys(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ss(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Mn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&xe(n,r),sn(e,i),t=sn(e,r),i=0;i<a.length;i+=2){var s=a[i],c=a[i+1];"style"===s?rn(n,c):"dangerouslySetInnerHTML"===s?Ve(n,c):"children"===s?Ue(n,c):Q(n,s,c,t)}switch(e){case"input":ke(n,r);break;case"textarea":Pe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Me(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Me(n,!!r.multiple,r.defaultValue,!0):Me(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Nt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Bs=Gi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ms(t);case 19:return void ms(t);case 17:return}throw Error(o(163))}function ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new rs),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var gs="function"===typeof WeakMap?WeakMap:Map;function Os(e,t,n){(n=ha(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Hs=r),is(e,t)},n}function js(e,t,n){(n=ha(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return is(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this),is(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ws,_s=Math.ceil,xs=X.ReactCurrentDispatcher,ks=X.ReactCurrentOwner,Ss=16,Es=32,Ts=0,Ms=3,Cs=4,As=0,Ps=null,Is=null,Ds=0,Ls=Ts,Rs=null,Ns=1073741823,Fs=1073741823,zs=null,Vs=0,Us=!1,Bs=0,Gs=null,qs=!1,Hs=null,Ws=null,Ys=!1,Js=null,Ks=90,Xs=null,Qs=0,Zs=null,$s=0;function ec(){return 0!==(48&As)?1073741821-(Gi()/10|0):0!==$s?$s:$s=1073741821-(Gi()/10|0)}function tc(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=qi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(As&Ss))return Ds;if(null!==n)e=Qi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Qi(e,150,100);break;case 97:case 96:e=Qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Ps&&e===Ds&&--e,e}function nc(e,t){if(50<Qs)throw Qs=0,Zs=null,Error(o(185));if(null!==(e=rc(e,t))){var n=qi();1073741823===t?0!==(8&As)&&0===(48&As)?sc(e):(ac(e),0===As&&Ki()):ac(e),0===(4&As)||98!==n&&99!==n||(null===Xs?Xs=new Map([[e,t]]):(void 0===(n=Xs.get(e))||n>t)&&Xs.set(e,t))}}function rc(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ps===i&&(pc(t),Ls===Cs&&Uc(i,Ds)),Bc(i,t)),i}function ic(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Vc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function ac(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ji(sc.bind(null,e));else{var t=ic(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=ec();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ri&&Ei(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ji(sc.bind(null,e)):Yi(r,oc.bind(null,e),{timeout:10*(1073741821-t)-Gi()}),e.callbackNode=t}}}function oc(e,t){if($s=0,t)return Gc(e,t=ec()),ac(e),null;var n=ic(e);if(0!==n){if(t=e.callbackNode,0!==(48&As))throw Error(o(327));if(_c(),e===Ps&&n===Ds||lc(e,n),null!==Is){var r=As;As|=Ss;for(var i=fc();;)try{vc();break}catch(c){hc(e,c)}if(ra(),As=r,xs.current=i,1===Ls)throw t=Rs,lc(e,n),Uc(e,n),ac(e),t;if(null===Is)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ls,Ps=null,r){case Ts:case 1:throw Error(o(345));case 2:Gc(e,2<n?2:n);break;case Ms:if(Uc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=gc(i)),1073741823===Ns&&10<(i=Bs+500-Gi())){if(Us){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,lc(e,n);break}}if(0!==(a=ic(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=_n(Oc.bind(null,e),i);break}Oc(e);break;case Cs:if(Uc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=gc(i)),Us&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,lc(e,n);break}if(0!==(i=ic(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Fs?r=10*(1073741821-Fs)-Gi():1073741823===Ns?r=0:(r=10*(1073741821-Ns)-5e3,0>(r=(i=Gi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=_n(Oc.bind(null,e),r);break}Oc(e);break;case 5:if(1073741823!==Ns&&null!==zs){a=Ns;var s=zs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=Gi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Uc(e,n),e.timeoutHandle=_n(Oc.bind(null,e),r);break}}Oc(e);break;default:throw Error(o(329))}if(ac(e),e.callbackNode===t)return oc.bind(null,e)}}return null}function sc(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&As))throw Error(o(327));if(_c(),e===Ps&&t===Ds||lc(e,t),null!==Is){var n=As;As|=Ss;for(var r=fc();;)try{bc();break}catch(i){hc(e,i)}if(ra(),As=n,xs.current=r,1===Ls)throw n=Rs,lc(e,t),Uc(e,t),ac(e),n;if(null!==Is)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ps=null,Oc(e),ac(e)}return null}function cc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&Ki()}}function uc(e,t){var n=As;As&=-2,As|=8;try{return e(t)}finally{0===(As=n)&&Ki()}}function lc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,xn(n)),null!==Is)for(n=Is.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Ra(),fi(vi),fi(bi);break;case 5:Fa(r);break;case 4:Ra();break;case 13:case 19:fi(za);break;case 10:ia(r)}n=n.return}Ps=e,Is=Dc(e.current,null),Ds=t,Ls=Ts,Rs=null,Fs=Ns=1073741823,zs=null,Vs=0,Us=!1}function hc(e,t){for(;;){try{if(ra(),Ba.current=Oo,Ja)for(var n=Ha.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(qa=0,Ya=Wa=Ha=null,Ja=!1,null===Is||null===Is.return)return Ls=1,Rs=t,Is=null;e:{var i=e,a=Is.return,o=Is,s=t;if(t=Ds,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&o.mode)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.expirationTime=u.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var l=0!==(1&za.current),h=a;do{var f;if(f=13===h.tag){var d=h.memoizedState;if(null!==d)f=null!==d.dehydrated;else{var p=h.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(f){var b=h.updateQueue;if(null===b){var v=new Set;v.add(c),h.updateQueue=v}else b.add(c);if(0===(2&h.mode)){if(h.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=ha(1073741823,null);y.tag=2,fa(o,y)}o.expirationTime=1073741823;break e}s=void 0,o=t;var m=i.pingCache;if(null===m?(m=i.pingCache=new gs,s=new Set,m.set(c,s)):void 0===(s=m.get(c))&&(s=new Set,m.set(c,s)),!s.has(o)){s.add(o);var g=Ec.bind(null,i,c,o);c.then(g,g)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((ve(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(o))}5!==Ls&&(Ls=2),s=ns(s,o),h=a;do{switch(h.tag){case 3:c=s,h.effectTag|=4096,h.expirationTime=t,da(h,Os(h,c,t));break e;case 1:c=s;var O=h.type,j=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof O.getDerivedStateFromError||null!==j&&"function"===typeof j.componentDidCatch&&(null===Ws||!Ws.has(j)))){h.effectTag|=4096,h.expirationTime=t,da(h,js(h,c,t));break e}}h=h.return}while(null!==h)}Is=mc(Is)}catch(w){t=w;continue}break}}function fc(){var e=xs.current;return xs.current=Oo,null===e?Oo:e}function dc(e,t){e<Ns&&2<e&&(Ns=e),null!==t&&e<Fs&&2<e&&(Fs=e,zs=t)}function pc(e){e>Vs&&(Vs=e)}function bc(){for(;null!==Is;)Is=yc(Is)}function vc(){for(;null!==Is&&!Ni();)Is=yc(Is)}function yc(e){var t=ws(e.alternate,e,Ds);return e.memoizedProps=e.pendingProps,null===t&&(t=mc(e)),ks.current=null,t}function mc(e){Is=e;do{var t=Is.alternate;if(e=Is.return,0===(2048&Is.effectTag)){if(t=es(t,Is,Ds),1===Ds||1!==Is.childExpirationTime){for(var n=0,r=Is.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Is.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Is.firstEffect),null!==Is.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Is.firstEffect),e.lastEffect=Is.lastEffect),1<Is.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Is:e.firstEffect=Is,e.lastEffect=Is))}else{if(null!==(t=ts(Is)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Is.sibling))return t;Is=e}while(null!==Is);return Ls===Ts&&(Ls=5),null}function gc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Oc(e){var t=qi();return Wi(99,jc.bind(null,e,t)),null}function jc(e,t){do{_c()}while(null!==Js);if(0!==(48&As))throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=gc(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ps&&(Is=Ps=null,Ds=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=As;As|=Es,ks.current=null,gn=Yt;var s=bn();if(vn(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(c=(c=s.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(u&&0!==u.rangeCount){c=u.anchorNode;var l=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{c.nodeType,h.nodeType}catch(S){c=null;break e}var f=0,d=-1,p=-1,b=0,v=0,y=s,m=null;t:for(;;){for(var g;y!==c||0!==l&&3!==y.nodeType||(d=f+l),y!==h||0!==u&&3!==y.nodeType||(p=f+u),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===s)break t;if(m===c&&++b===l&&(d=f),m===h&&++v===u&&(p=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}c=-1===d||-1===p?null:{start:d,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;On={activeElementDetached:null,focusedElem:s,selectionRange:c},Yt=!1,Gs=i;do{try{wc()}catch(S){if(null===Gs)throw Error(o(330));Sc(Gs,S),Gs=Gs.nextEffect}}while(null!==Gs);Gs=i;do{try{for(s=e,c=t;null!==Gs;){var O=Gs.effectTag;if(16&O&&Ue(Gs.stateNode,""),128&O){var j=Gs.alternate;if(null!==j){var w=j.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&O){case 2:ds(Gs),Gs.effectTag&=-3;break;case 6:ds(Gs),Gs.effectTag&=-3,ys(Gs.alternate,Gs);break;case 1024:Gs.effectTag&=-1025;break;case 1028:Gs.effectTag&=-1025,ys(Gs.alternate,Gs);break;case 4:ys(Gs.alternate,Gs);break;case 8:vs(s,l=Gs,c),hs(l)}Gs=Gs.nextEffect}}catch(S){if(null===Gs)throw Error(o(330));Sc(Gs,S),Gs=Gs.nextEffect}}while(null!==Gs);if(w=On,j=bn(),O=w.focusedElem,c=w.selectionRange,j!==O&&O&&O.ownerDocument&&pn(O.ownerDocument.documentElement,O)){null!==c&&vn(O)&&(j=c.start,void 0===(w=c.end)&&(w=j),"selectionStart"in O?(O.selectionStart=j,O.selectionEnd=Math.min(w,O.value.length)):(w=(j=O.ownerDocument||document)&&j.defaultView||window).getSelection&&(w=w.getSelection(),l=O.textContent.length,s=Math.min(c.start,l),c=void 0===c.end?s:Math.min(c.end,l),!w.extend&&s>c&&(l=c,c=s,s=l),l=dn(O,s),h=dn(O,c),l&&h&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==h.node||w.focusOffset!==h.offset)&&((j=j.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),s>c?(w.addRange(j),w.extend(h.node,h.offset)):(j.setEnd(h.node,h.offset),w.addRange(j))))),j=[];for(w=O;w=w.parentNode;)1===w.nodeType&&j.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof O.focus&&O.focus(),O=0;O<j.length;O++)(w=j[O]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!gn,On=gn=null,e.current=n,Gs=i;do{try{for(O=e;null!==Gs;){var _=Gs.effectTag;if(36&_&&us(O,Gs.alternate,Gs),128&_){j=void 0;var x=Gs.ref;if(null!==x){var k=Gs.stateNode;switch(Gs.tag){case 5:j=k;break;default:j=k}"function"===typeof x?x(j):x.current=j}}Gs=Gs.nextEffect}}catch(S){if(null===Gs)throw Error(o(330));Sc(Gs,S),Gs=Gs.nextEffect}}while(null!==Gs);Gs=null,Fi(),As=a}else e.current=n;if(Ys)Ys=!1,Js=e,Ks=t;else for(Gs=i;null!==Gs;)t=Gs.nextEffect,Gs.nextEffect=null,Gs=t;if(0===(t=e.firstPendingTime)&&(Ws=null),1073741823===t?e===Zs?Qs++:(Qs=0,Zs=e):Qs=0,"function"===typeof Mc&&Mc(n.stateNode,r),ac(e),qs)throw qs=!1,e=Hs,Hs=null,e;return 0!==(8&As)||Ki(),null}function wc(){for(;null!==Gs;){var e=Gs.effectTag;0!==(256&e)&&os(Gs.alternate,Gs),0===(512&e)||Ys||(Ys=!0,Yi(97,(function(){return _c(),null}))),Gs=Gs.nextEffect}}function _c(){if(90!==Ks){var e=97<Ks?97:Ks;return Ks=90,Wi(e,xc)}}function xc(){if(null===Js)return!1;var e=Js;if(Js=null,0!==(48&As))throw Error(o(331));var t=As;for(As|=Es,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ss(5,n),cs(5,n)}}catch(r){if(null===e)throw Error(o(330));Sc(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return As=t,Ki(),!0}function kc(e,t,n){fa(e,t=Os(e,t=ns(n,t),1073741823)),null!==(e=rc(e,1073741823))&&ac(e)}function Sc(e,t){if(3===e.tag)kc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){kc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){fa(n,e=js(n,e=ns(t,e),1073741823)),null!==(n=rc(n,1073741823))&&ac(n);break}}n=n.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ps===e&&Ds===n?Ls===Cs||Ls===Ms&&1073741823===Ns&&Gi()-Bs<500?lc(e,Ds):Us=!0:Vc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,ac(e)))}function Tc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=tc(t=ec(),e,null)),null!==(e=rc(e,t))&&ac(e)}ws=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||vi.current)Do=!0;else{if(r<n){switch(Do=!1,t.tag){case 3:Go(t),Po();break;case 5:if(Na(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gi(t.type)&&_i(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,di($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Jo(e,t,n):(di(za,1&za.current),null!==(t=Zo(e,t,n))?t.sibling:null);di(za,1&za.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Qo(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),di(za,za.current),!r)return null}return Zo(e,t,n)}Do=!1}}else Do=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=mi(t,bi.current),oa(t,n),i=Qa(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;_i(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternalFiber=t,_a(t,r,e,n),t=Bo(null,t,r,!0,a,n)}else t.tag=0,Lo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ce)return 11;if(e===he)return 14}return 2}(i),e=Zi(i,e),a){case 0:t=Vo(null,t,i,e,n);break e;case 1:t=Uo(null,t,i,e,n);break e;case 11:t=Ro(null,t,i,e,n);break e;case 14:t=No(null,t,i,Zi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,la(e,t),pa(t,r,null,n),(r=t.memoizedState.element)===i)Po(),t=Zo(e,t,n);else{if((i=t.stateNode.hydrate)&&(ko=kn(t.stateNode.containerInfo.firstChild),xo=t,i=So=!0),i)for(n=Ma(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Lo(e,t,r,n),Po();t=t.child}return t;case 5:return Na(t),null===e&&Mo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,wn(r,i)?s=null:null!==a&&wn(r,a)&&(t.effectTag|=16),zo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Lo(e,t,s,n),t=t.child),t;case 6:return null===e&&Mo(t),null;case 13:return Jo(e,t,n);case 4:return La(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ro(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var c=t.type._context;if(di($i,c._currentValue),c._currentValue=a,null!==s)if(c=s.value,0===(a=Ur(c,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,a):1073741823))){if(s.children===i.children&&!vi.current){t=Zo(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===c.tag&&((l=ha(n,null)).tag=2,fa(c,l)),c.expirationTime<n&&(c.expirationTime=n),null!==(l=c.alternate)&&l.expirationTime<n&&(l.expirationTime=n),aa(c.return,n),u.expirationTime<n&&(u.expirationTime=n);break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Lo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,oa(t,n),r=r(i=sa(i,a.unstable_observedBits)),t.effectTag|=1,Lo(e,t,r,n),t.child;case 14:return a=Zi(i=t.type,t.pendingProps),No(e,t,i,a=Zi(i.type,a),r,n);case 15:return Fo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gi(r)?(e=!0,_i(t)):e=!1,oa(t,n),ja(t,r,i),_a(t,r,i,n),Bo(null,t,r,!0,e,n);case 19:return Qo(e,t,n)}throw Error(o(156,t.tag))};var Mc=null,Cc=null;function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ic(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Rc(n.children,i,a,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Pc(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ue:return(e=Pc(13,n,t,i)).type=ue,e.elementType=ue,e.expirationTime=a,e;case le:return(e=Pc(19,n,t,i)).elementType=le,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case ce:s=11;break e;case he:s=14;break e;case fe:s=16,r=null;break e;case de:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Rc(e,t,n,r){return(e=Pc(7,e,r,t)).expirationTime=n,e}function Nc(e,t,n){return(e=Pc(6,e,null,t)).expirationTime=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Vc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Uc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Bc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Gc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function qc(e,t,n,r){var i=t.current,a=ec(),s=va.suspense;a=tc(a,i,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(gi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(o(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=wi(n,u,c);break e}}n=c}else n=pi;return null===t.context?t.context=n:t.pendingContext=n,(t=ha(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),nc(i,a),a}function Hc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Wc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Yc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}function Jc(e,t,n){var r=new zc(e,t,n=null!=n&&!0===n.hydrate),i=Pc(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ua(i),e[Cn]=r.current,n&&0!==t&&function(e,t){var n=$e(t);Et.forEach((function(e){bt(e,t,n)})),Tt.forEach((function(e){bt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}qc(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Jc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var c=i;i=function(){var e=Hc(o);c.call(e)}}uc((function(){qc(t,o,e,i)}))}return Hc(o)}function Qc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Zc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(o(200));return Qc(e,t,null,n)}Jc.prototype.render=function(e){qc(e,this._internalRoot,null,null)},Jc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;qc(null,e,null,(function(){t[Cn]=null}))},vt=function(e){if(13===e.tag){var t=Qi(ec(),150,100);nc(e,t),Yc(e,t)}},yt=function(e){13===e.tag&&(nc(e,3),Yc(e,3))},mt=function(e){if(13===e.tag){var t=ec();nc(e,t=tc(t,e,null)),Yc(e,t)}},T=function(e,t,n){switch(t){case"input":if(ke(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Dn(r);if(!i)throw Error(o(90));je(r),ke(r,i)}}}break;case"textarea":Pe(e,n);break;case"select":null!=(t=n.value)&&Me(e,!!n.multiple,t,!1)}},D=cc,L=function(e,t,n,r,i){var a=As;As|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(As=a)&&Ki()}},R=function(){0===(49&As)&&(function(){if(null!==Xs){var e=Xs;Xs=null,e.forEach((function(e,t){Gc(t,e),ac(t)})),Ki()}}(),_c())},N=function(e,t){var n=As;As|=2;try{return e(t)}finally{0===(As=n)&&Ki()}};var $c={Events:[Pn,In,Dn,S,_,Un,function(e){at(e,Vn)},P,I,Zt,ct,_c,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Mc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Cc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:An,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$c,t.createPortal=Zc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&As))throw Error(o(187));var n=As;As|=1;try{return Wi(99,e.bind(null,t))}finally{As=n,Ki()}},t.hydrate=function(e,t,n){if(!Kc(t))throw Error(o(200));return Xc(null,e,t,!0,n)},t.render=function(e,t,n){if(!Kc(t))throw Error(o(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Kc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Cn]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_createPortal=function(e,t){return Zc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Kc(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Xc(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(738)},function(e,t,n){"use strict";var r,i,a,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,l=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}},h=Date.now();t.unstable_now=function(){return Date.now()-h},r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(l,0))},i=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,b=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var y=d.now();t.unstable_now=function(){return d.now()-y}}var m=!1,g=null,O=-1,j=5,w=0;o=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):j=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,x=_.port2;_.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+j;try{g(!0,e)?x.postMessage(null):(m=!1,g=null)}catch(n){throw x.postMessage(null),n}}else m=!1},r=function(e){g=e,m||(m=!0,x.postMessage(null))},i=function(e,n){O=p((function(){e(t.unstable_now())}),n)},a=function(){b(O),O=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,c=e[s];if(void 0!==o&&0>T(o,n))void 0!==c&&0>T(c,o)?(e[r]=c,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==c&&0>T(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var M=[],C=[],A=1,P=null,I=3,D=!1,L=!1,R=!1;function N(e){for(var t=S(C);null!==t;){if(null===t.callback)E(C);else{if(!(t.startTime<=e))break;E(C),t.sortIndex=t.expirationTime,k(M,t)}t=S(C)}}function F(e){if(R=!1,N(e),!L)if(null!==S(M))L=!0,r(z);else{var t=S(C);null!==t&&i(F,t.startTime-e)}}function z(e,n){L=!1,R&&(R=!1,a()),D=!0;var r=I;try{for(N(n),P=S(M);null!==P&&(!(P.expirationTime>n)||e&&!o());){var s=P.callback;if(null!==s){P.callback=null,I=P.priorityLevel;var c=s(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof c?P.callback=c:P===S(M)&&E(M),N(n)}else E(M);P=S(M)}if(null!==P)var u=!0;else{var l=S(C);null!==l&&i(F,l.startTime-n),u=!1}return u}finally{P=null,I=r,D=!1}}function V(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||D||(L=!0,r(z))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return S(M)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var c=o.delay;c="number"===typeof c&&0<c?s+c:s,o="number"===typeof o.timeout?o.timeout:V(e)}else o=V(e),c=s;return e={id:A++,callback:n,priorityLevel:e,startTime:c,expirationTime:o=c+o,sortIndex:-1},c>s?(e.sortIndex=c,k(C,e),null===S(M)&&e===S(C)&&(R?a():R=!0,i(F,c-s))):(e.sortIndex=o,k(M,e),L||D||(L=!0,r(z))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var n=S(M);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},function(e,t,n){"use strict";var r=n(740);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,b=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,O=r?Symbol.for("react.responder"):60118,j=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case f:case o:case c:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case v:case u:return e;default:return t}}case a:return t}}}function _(e){return w(e)===f}t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=y,t.Memo=v,t.Portal=a,t.Profiler=c,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||w(e)===h},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===c},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===c||e===s||e===p||e===b||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===g||e.$$typeof===O||e.$$typeof===j||e.$$typeof===m)},t.typeOf=w},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(A){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r=h;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===b)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",b={};function v(){}function y(){}function m(){}var g={};g[a]=function(){return this};var O=Object.getPrototypeOf,j=O&&O(O(M([])));j&&j!==n&&r.call(j,a)&&(g=j);var w=m.prototype=v.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,a,o,s){var c=l(e[i],e,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(h).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return b;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function M(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:C}}function C(){return{value:t,done:!0}}return y.prototype=w.constructor=m,m.constructor=y,y.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(x.prototype),x.prototype[o]=function(){return this},e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(w),c(w,s,"Generator"),w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=M,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r=n(192),i=n(596),a=n(745),o=n(602);function s(e){var t=new a(e),n=i(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var c=s(n(599));c.Axios=a,c.create=function(e){return s(o(c.defaults,e))},c.Cancel=n(603),c.CancelToken=n(758),c.isCancel=n(598),c.all=function(e){return Promise.all(e)},c.spread=n(759),c.isAxiosError=n(760),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var r=n(192),i=n(597),a=n(746),o=n(747),s=n(602);function c(e){this.defaults=e,this.interceptors={request:new a,response:new a}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=c},function(e,t,n){"use strict";var r=n(192);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(192),i=n(748),a=n(598),o=n(599);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(192);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(192);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(601);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(192);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(754),i=n(755);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(192),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},function(e,t,n){"use strict";var r=n(192);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(603);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var a=t.isAbsolute(e),o="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,c=0;c<o;c++)if(i[c]!==a[c]){s=c;break}var u=[];for(c=s;c<i.length;c++)u.push("..");return(u=u.concat(a.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(344))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(100)),i=o(n(19)),a=n(764);function o(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=function(e){var t=e.text,n=e.sizeRatio,r=e.color,o=c(e,["text","sizeRatio","color"]),u=17*n;return i.default.createElement(a.StyledLoader,s({sizeRatio:u},o),i.default.createElement(a.StyledLoaderBars,{sizeRatio:u,color:r}),function(e){if(e)return i.default.createElement(a.StyledLoaderText,{sizeRatio:u},e)}(t))};u.propTypes={text:r.default.string,sizeRatio:r.default.number,color:r.default.string},u.defaultProps={sizeRatio:1},u.displayName="Loader";var l=u;t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledLoaderText=t.StyledLoaderBars=t.StyledLoader=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(203)),i=n(193),a=n(176);var o={loaderWidth:"0.85em",loaderHeight:"2em",loaderZoom:"0.5em",loaderSpacing:"1.25em",loaderSpeed:"0.8s",loaderDelay:"0.16s",loaderBlue:a.CalciteTheme.palette.blue},s=function(e){return(0,r.css)([""," "," infinite ease-in-out;"],function(e){return(0,r.keyframes)(["0%,80%,100%{opacity:.75;box-shadow:0 0 ",";height:",";}40%{opacity:1;box-shadow:0 -0.5em ",";height:",";}"],e||o.loaderBlue,o.loaderHeight,e||o.loaderBlue,(0,i.unitCalc)(o.loaderHeight,o.loaderZoom,"+"))}(e),o.loaderSpeed)},c=function(e){return(0,r.css)(["background:",";animation:",";width:",";height:",";"],e||o.loaderBlue,s(e),o.loaderWidth,o.loaderHeight)},u=function(e){return(0,r.css)(["",";position:absolute;top:0;content:'';"],c(e))},l=r.default.div.withConfig({displayName:"StyledLoader",componentId:"v05kzr-0"})(["position:relative;min-height:","px;"],(function(e){return 3*e.sizeRatio}));t.StyledLoader=l,l.defaultProps={theme:a.CalciteTheme};var h=r.default.div.withConfig({displayName:"StyledLoaderBars",componentId:"v05kzr-1"})(["",";text-indent:-9999em;margin:auto;position:absolute;right:",";font-size:","px;animation-delay:",";margin:"," 0 0;&:before{",";left:-",";html[dir='rtl'] &{animation-delay:",";}}&:after{",";left:",";animation-delay:",";html[dir='rtl'] &{animation-delay:initial;}}"],(function(e){return c(e.color)}),(function(e){return"calc(50% - ".concat(parseFloat(o.loaderWidth)/2,"em)")}),(function(e){return e.sizeRatio}),o.loaderDelay,(function(e){return(0,i.unitCalc)(o.loaderHeight,.25,"*")}),(function(e){return u(e.color)}),o.loaderSpacing,(0,i.unitCalc)(o.loaderDelay,2,"*"),(function(e){return u(e.color)}),o.loaderSpacing,(0,i.unitCalc)(o.loaderDelay,2,"*"));t.StyledLoaderBars=h,h.defaultProps={theme:a.CalciteTheme};var f=r.default.div.withConfig({displayName:"StyledLoaderText",componentId:"v05kzr-2"})(["text-align:center;padding-top:","px;",";"],(function(e){return 3.5*e.sizeRatio}),(0,i.fontSize)(0));t.StyledLoaderText=f,f.defaultProps={theme:a.CalciteTheme}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(19)),i=c(n(100)),a=n(203),o=n(193),s=c(n(629));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  html {\n    height: 100%;\n    font-size: 100%;\n  }\n\n  body {\n    min-height: 100%;\n    margin: 0;\n\n    tracking: 0;\n    font-family: ",';\n    line-height: 1.55rem;\n    color: #4c4c4c;\n    background-color: #ffffff;\n\n    -webkit-font-smoothing: subpixel-antialiased;\n\n    font-feature-settings: "kern";\n\n    font-kerning: normal;\n    text-rendering: optimizeLegibility;\n    font-feature-settings : "liga" 1,"calt" 0;\n  }\n\n  .wrapper {\n    overflow: hidden;\n  }\n\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  nav,\n  section,\n  summary {\n    display: block;\n  }\n\n  audio,\n  canvas,\n  video {\n    display: inline-block;\n  }\n\n  audio:not([controls]) {\n    display: none;\n    height: 0;\n  }\n\n  [hidden] {\n    display: none;\n  }\n\n  svg:not(:root) {\n    overflow: hidden;\n  }\n\n  video,\n  img {\n    max-width: 100%;\n    height: auto;\n  }\n\n  .ie {\n    main {\n      display: block;\n    }\n\n    select {\n      padding-right: 8px;\n    }\n  }\n\n  /* DatePicker */\n\n  .SingleDatePicker_picker,\n  .DateRangePicker_picker {\n    margin-top: -20px;\n    z-index: 101 !important;\n\n    .DayPickerKeyboardShortcuts_buttonReset {\n      font-size: 0.875rem;\n    }\n    .DayPickerKeyboardShortcuts_show__bottomRight::before {\n      border-right-color: ',";\n    }\n    .DayPickerKeyboardShortcuts_show__bottomRight:hover::before {\n      border-right-color: ",";\n    }\n    .DayPickerKeyboardShortcuts_show__topRight::before {\n      border-right-color: ",";\n    }\n    .DayPickerKeyboardShortcuts_show__topRight:hover::before {\n      border-right-color: ",";\n    }\n    .DayPickerKeyboardShortcuts_show__topLeft::before {\n      border-left-color: ",";\n    }\n    .DayPickerKeyboardShortcuts_show__topLeft:hover::before {\n      border-left-color: ",";\n    }\n    .DayPickerKeyboardShortcuts_panel {\n      border: 1px solid ",";\n      border-radius: ",";\n    }\n    .DayPickerKeyboardShortcuts_list {\n      font-size: 0.875rem;\n    }\n    .CalendarDay {\n      font-size: 0.875rem;\n    }\n    .CalendarDay__default {\n      color: #565a5c;\n    }\n    .CalendarDay__outside {\n      color: #565a5c;\n    }\n    .CalendarDay__highlighted_calendar {\n      color: #565a5c;\n    }\n    .CalendarDay__highlighted_calendar:active,\n    .CalendarDay__highlighted_calendar:hover {\n      color: #565a5c;\n    }\n    .CalendarDay__selected_span {\n      background: ",";\n      border: 1px double ",";\n      color: ",";\n    }\n    .CalendarDay__selected_span:active,\n    .CalendarDay__selected_span:hover {\n      background: ",";\n      border: 1px double ",";\n      color: #fff;\n    }\n    .CalendarDay__selected,\n    .CalendarDay__selected:active,\n    .CalendarDay__selected:hover {\n      background: ",";\n      border: 1px double ",";\n      color: #fff;\n    }\n    .CalendarDay__hovered_span,\n    .CalendarDay__hovered_span:hover {\n      background: ",";\n      border: 1px double ",";\n      color: ",";\n    }\n    .CalendarDay__hovered_span:active {\n      background: ",";\n      border: 1px double ",";\n      color: ",";\n    }\n    .CalendarDay__blocked_calendar,\n    .CalendarDay__blocked_calendar:active,\n    .CalendarDay__blocked_calendar:hover {\n      color: #82888a;\n    }\n    .CalendarDay__blocked_out_of_range,\n    .CalendarDay__blocked_out_of_range:active,\n    .CalendarDay__blocked_out_of_range:hover {\n      color: #cacccd;\n    }\n    .CalendarMonth_caption {\n      color: #565a5c;\n      font-size: 0.9375rem;\n    }\n    .DayPickerNavigation_button__horizontalDefault {\n      border-radius: ",";\n    }\n    .DayPickerNavigation_svg__vertical {\n      fill: #565a5c;\n    }\n    .DayPicker__withBorder {\n      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05),\n        0 0 0 1px ",";\n      border-radius: ",";\n    }\n    .DayPicker_weekHeaders {\n      display: none;\n    }\n    .DayPicker_weekHeader__verticalScrollable {\n      border-bottom: 1px solid ",";\n    }\n    .DayPicker_weekHeader_ul {\n      font-size: 0.875rem;\n    }\n    .DayPicker_transitionContainer {\n      border-radius: ",";\n    }\n  }\n\n  /* Toastify */\n\n  .Toastify__toast-container.Toastify__toast-container {\n    width: ",";\n\n    &--top-center,\n    &--bottom-center {\n      margin-left: ",";\n    }\n  }\n\n  .Toastify__toast.Toastify__toast {\n    padding: 0.775rem;\n    box-shadow: ",";\n    border-top: 3px solid ",";\n    border-radius: 3px;\n    font-family: ",";\n    color: ",";\n    background: ",";\n\n    &--info {\n      border-top-color: ",";\n      background: ",";\n    }\n    &--success {\n      border-top-color: ",";\n      background: ",";\n    }\n    &--warning {\n      border-top-color: ",";\n      background: ",";\n    }\n    &--error {\n      border-top-color: ",";\n      background: ",";\n    }\n  }\n\n  .Toastify__toast .Toastify__toast-body {\n    ",";\n  }\n\n  .Toastify__progress-bar.Toastify__progress-bar {\n    visibility: hidden;\n\n    &--default {\n      background: ",";\n    }\n\n    &.progress-visible {\n      visibility: visible;\n    }\n\n    ",";\n  }\n\n  /* FORM PSEUDO ELEMENTS */\n\n  :placeholder {\n    color: #767676;\n  }\n  :input-placeholder {\n    color: #767676;\n  }\n  ::-webkit-input-placeholder {\n    color: #767676;\n  }\n  ::-moz-placeholder {\n    color: #767676;\n  }\n  :-ms-input-placeholder {\n    color: #767676;\n  }\n  ::-ms-value {\n    border: none;\n    background-color: transparent;\n  }\n\n  /* Type */\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/77156710-6a58-4606-b189-b4185e75967b.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/3d5260a1-e4cd-4567-80ed-69d23c40355f.woff')\n        format('woff');\n    font-weight: 300;\n    font-style: normal;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/77caabd3-1877-4634-85c8-8e398a093b99.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/e388ac99-8c6a-4451-8690-1d15b4d45adb.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: normal;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/014f2daa-c310-4a36-b9fd-79a8e0c48d44.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/12b00842-ec20-4c7f-aa72-802fb00f6cc4.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: italic;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/e78b17bb-11fb-4860-8d66-4ee0d0c1e117.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/d4ffabb3-dd7c-472a-bdfb-6700383c6354.woff')\n        format('woff');\n    font-weight: 700;\n    font-style: normal;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/77156710-6a58-4606-b189-b4185e75967b-ext.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/3d5260a1-e4cd-4567-80ed-69d23c40355f-ext.woff')\n        format('woff');\n    font-weight: 300;\n    font-style: normal;\n    unicode-range: U+0100-017f, U+0180-024f, U+1-1eff, U+02b0-02ff;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/77caabd3-1877-4634-85c8-8e398a093b99-ext.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/e388ac99-8c6a-4451-8690-1d15b4d45adb-ext.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: normal;\n    unicode-range: U+0100-017f, U+0180-024f, U+1-1eff, U+02b0-02ff;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/014f2daa-c310-4a36-b9fd-79a8e0c48d44-ext.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/12b00842-ec20-4c7f-aa72-802fb00f6cc4-ext.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: italic;\n    unicode-range: U+0100-017f, U+0180-024f, U+1-1eff, U+02b0-02ff;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/9851da0a-2481-4687-bbeb-ed4ab170dc38-ext.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/cebce072-9561-4c6d-8c89-f0cefec63289-ext.woff')\n        format('woff');\n    font-weight: 700;\n    font-style: normal;\n    unicode-range: U+0100-017f, U+0180-024f, U+1-1eff, U+02b0-02ff;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/e78b17bb-11fb-4860-8d66-4ee0d0c1e117-ext.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/d4ffabb3-dd7c-472a-bdfb-6700383c6354-ext.woff')\n        format('woff');\n    font-weight: 700;\n    font-style: normal;\n    unicode-range: U+0100-017f, U+0180-024f, U+1-1eff, U+02b0-02ff;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/77156710-6a58-4606-b189-b4185e75967b-greek.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/3d5260a1-e4cd-4567-80ed-69d23c40355f-greek.woff')\n        format('woff');\n    font-weight: 300;\n    font-style: normal;\n    unicode-range: U+0370-03ff;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/77caabd3-1877-4634-85c8-8e398a093b99-greek.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/e388ac99-8c6a-4451-8690-1d15b4d45adb-greek.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: normal;\n    unicode-range: U+0370-03ff;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/014f2daa-c310-4a36-b9fd-79a8e0c48d44-greek.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/12b00842-ec20-4c7f-aa72-802fb00f6cc4-greek.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: italic;\n    unicode-range: U+0370-03ff;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/e78b17bb-11fb-4860-8d66-4ee0d0c1e117-greek.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/d4ffabb3-dd7c-472a-bdfb-6700383c6354-greek.woff')\n        format('woff');\n    font-weight: 700;\n    font-style: normal;\n    unicode-range: U+0370-03ff;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/174d458a-81e0-4174-9473-35e3bf0a613c.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/57a79aa3-9b06-4ba7-a9a4-2b766d826ecf.woff')\n        format('woff');\n    font-weight: 300;\n    font-style: normal;\n    unicode-range: U+0400-04ff;\n  }\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/7db1f672-3a8f-4d19-9c49-7f61aed450b5.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/4ab86b35-c0c2-42b5-98ad-4b6eba66b197.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: normal;\n    unicode-range: U+0400-04ff;\n  }\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/b17468ea-cf53-4635-984b-4d930a68ed4d.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/4d1d0d0d-9ea6-4117-901f-8b32ca1ab936.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: italic;\n    unicode-range: U+0400-04ff;\n  }\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/40d36b4a-60c6-460a-bf43-4c948c23563e.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/45b78f45-e639-4836-8612-e0892e120f14.woff')\n        format('woff');\n    font-weight: 700;\n    font-style: normal;\n    unicode-range: U+0400-04ff;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/281f890c-8412-4ee3-84ed-8b5d062d2ab8.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/5729f02e-f6b0-4f35-8ee5-c2cffa65fa76.woff')\n        format('woff');\n    font-weight: 300; // there is no 300 in georgian, so use the same files as 400 instead\n    font-style: normal;\n    unicode-range: U+10a0-10ff;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/281f890c-8412-4ee3-84ed-8b5d062d2ab8.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/5729f02e-f6b0-4f35-8ee5-c2cffa65fa76.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: normal;\n    unicode-range: U+10a0-10ff;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/2200dfff-da50-40b0-bc12-5e4b872a1998.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/dc10b3bd-5076-4df5-a5f5-e5961f4a6938.woff')\n        format('woff');\n    font-weight: 700;\n    font-style: normal;\n    unicode-range: U+10a0-10ff;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/2a1ae9a5-b6b5-405c-b660-bbdf1b356952.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/a8aeea1b-1a9d-45b7-8ad9-7c71824599e2.woff')\n        format('woff');\n    font-weight: 300;\n    font-style: normal;\n    unicode-range: U+0600-06ff, U+FB50-FDFF, U+FE70-FEFF;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/6ea5fa46-5311-450b-8744-288a30c55348.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/d9e4040d-32ff-4a1c-ac04-927a781da1f5.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: normal;\n    unicode-range: U+0600-06ff, U+FB50-FDFF, U+FE70-FEFF;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/97694c53-4e94-4f9e-969b-a148adfcdcfd.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/8b01637a-f445-4f10-92ea-b84a355f7690.woff')\n        format('woff');\n    font-weight: 700;\n    font-style: normal;\n    unicode-range: U+0600-06ff, U+FB50-FDFF, U+FE70-FEFF;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/31da4b04-f98a-4b5f-b545-a31d26da99e5.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/d98fb015-7ef6-404f-a58a-5c9242d79770.woff')\n        format('woff');\n    font-weight: 300; // there is no 300 in hebrew, so use the same files as 400 instead\n    font-style: normal;\n    unicode-range: U+0590-05ff, U+FB00-FB4F;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/31da4b04-f98a-4b5f-b545-a31d26da99e5.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/d98fb015-7ef6-404f-a58a-5c9242d79770.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: normal;\n    unicode-range: U+0590-05ff, U+FB00-FB4F;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/32a2c5cf-6736-44a6-a276-49ba7e030944.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/fa71df11-7b19-4baf-8ff7-3537dea718f0.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: italic;\n    unicode-range: U+0590-05ff, U+FB00-FB4F;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/a9eaf4d3-6427-42df-9306-3ea1270f7b1a.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/f4a085c3-1c64-4fc0-a598-26f3e658c2b0.woff')\n        format('woff');\n    font-weight: 700;\n    font-style: normal;\n    unicode-range: U+0590-05ff, U+FB00-FB4F;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/94aa531e-7746-4df0-bb6e-349891f2eda5.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/121524c1-8d82-4155-bfb3-fd2f15f09e93.woff')\n        format('woff');\n    font-weight: 300;\n    font-style: normal;\n    unicode-range: U+0900-097f;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/3ae1e25e-3aa6-4061-a016-a079159f9d65.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/f1799750-0952-403f-8108-b2402eed0f62.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: normal;\n    unicode-range: U+0900-097f;\n  }\n\n  @font-face {\n    font-family: 'Avenir Next';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/41331c3c-3759-4462-8695-33c9a21b6a5b.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/31e0c094-e345-4a54-a797-d5f1a5885572.woff')\n        format('woff');\n    font-weight: 700;\n    font-style: normal;\n    unicode-range: U+0900-097f;\n  }\n\n  @font-face {\n    font-family: 'SST Vietnamese';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/c4cc9032-7eee-4a6e-ae8b-f384b1349bcf.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/1b3078ef-2971-4c95-b6ca-13ab528758cb.woff')\n        format('woff');\n    font-weight: 300;\n    font-style: normal;\n  }\n\n  @font-face {\n    font-family: 'SST Vietnamese';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/c1905e2e-a1cb-49de-9bb0-ce3c5ffc85ae.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/341bcc5e-7ac0-44ff-819d-5887892eab1b.woff')\n        format('woff');\n    font-weight: 400;\n    font-style: normal;\n  }\n\n  @font-face {\n    font-family: 'SST Vietnamese';\n    src: url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/4daa2125-53c6-4da8-9614-8a1049eaccc2.woff2')\n        format('woff2'),\n      url('https://webapps-cdn.esri.com/CDN/fonts/v1.0.0/0763eab1-d6ed-4c73-afb0-895f930df099.woff')\n        format('woff');\n    font-weight: 700;\n    font-style: normal;\n  }\n"]);return l=function(){return e},e}var h=(0,a.createGlobalStyle)(l(),(function(e){return e.theme.type.avenirFamily}),(function(e){return e.theme.palette.blue}),(function(e){return e.theme.palette.blue}),(function(e){return e.theme.palette.blue}),(function(e){return e.theme.palette.blue}),(function(e){return e.theme.palette.blue}),(function(e){return e.theme.palette.blue}),(function(e){return e.theme.palette.lighterGray}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.palette.lightestBlue}),(function(e){return e.theme.palette.lighterBlue}),(function(e){return e.theme.palette.darkBlue}),(function(e){return e.theme.palette.darkBlue}),(function(e){return e.theme.palette.darkBlue}),(function(e){return e.theme.palette.blue}),(function(e){return e.theme.palette.blue}),(function(e){return e.theme.palette.lightestBlue}),(function(e){return e.theme.palette.lighterBlue}),(function(e){return e.theme.palette.Brand_Blue_200}),(function(e){return e.theme.palette.lighterBlue}),(function(e){return e.theme.palette.lighterBlue}),(function(e){return e.theme.palette.Brand_Blue_200}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.palette.lightestGray}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.palette.lighterGray}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.toasterWidth}),(function(e){return(0,o.unitCalc)(e.theme.toasterWidth,-.5,"*")}),s.default.boxShadow,s.default.palette.blue,s.default.type.avenirFamily,s.default.palette.offBlack,s.default.palette.white,s.default.palette.blue,s.default.palette.white,s.default.palette.green,s.default.palette.white,s.default.palette.yellow,s.default.palette.white,s.default.palette.red,s.default.palette.white,(function(){return(0,o.fontSize)(-1)}),s.default.palette.blue,(function(e){return e.showProgress&&(0,a.css)(["visibility:visible;&.progress-hidden{visibility:hidden;}"])})),f=function(e){var t=e.children,n=e.theme;u(e,["children","theme"]);return r.default.createElement(a.ThemeProvider,{theme:n},r.default.createElement(r.Fragment,null,r.default.createElement(h,null),t))};f.propTypes={children:i.default.node,theme:i.default.object},f.defaultProps={theme:s.default};var d=f;t.default=d},function(e,t,n){"use strict";n.r(t),n.d(t,"chartColorSets",(function(){return a})),n.d(t,"chartColors",(function(){return r})),n.d(t,"colors",(function(){return o})),n.d(t,"defaultChartColors",(function(){return i})),n.d(t,"themes",(function(){return s}));var r=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],i=[].concat(r.slice(30,39),r.slice(28,30).reverse()),a=[{name:"default",colors:i},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}],o={"h-yy-010":"#fff7cc","h-yy-020":"#fef3ad","h-yy-030":"#fcee8d","h-yy-040":"#fbea6e","h-yy-050":"#f9e54e","h-yy-060":"#edd317","h-yy-070":"#d9bc00","h-yy-080":"#bfa200","h-yy-090":"#8c7500","h-yy-100":"#5c4e00","h-oy-010":"#ffe2bf","h-oy-020":"#fed3a1","h-oy-030":"#fcc582","h-oy-040":"#fbb664","h-oy-050":"#f9a845","h-oy-060":"#f89927","h-oy-070":"#c67718","h-oy-080":"#9a5b10","h-oy-090":"#6d3f08","h-oy-100":"#402300","h-oo-010":"#ffd8bf","h-oo-020":"#fdc39f","h-oo-030":"#faae7f","h-oo-040":"#f89960","h-oo-050":"#f58440","h-oo-060":"#f36f20","h-oo-070":"#c65a18","h-oo-080":"#9a4410","h-oo-090":"#6d2f08","h-oo-100":"#401900","h-ro-010":"#ffc7b3","h-ro-020":"#f8af95","h-ro-030":"#f09677","h-ro-040":"#e97e5a","h-ro-050":"#e1653c","h-ro-060":"#da4d1e","h-ro-070":"#ad3c16","h-ro-080":"#802c0f","h-ro-090":"#531b07","h-ro-100":"#260a00","h-rr-010":"#ffc6bf","h-rr-020":"#ffaaa1","h-rr-030":"#f2877b","h-rr-040":"#f07062","h-rr-050":"#e65240","h-rr-060":"#d83020","h-rr-070":"#a82b1e","h-rr-080":"#7c1d13","h-rr-090":"#4f0e08","h-rr-100":"#210300","h-pk-010":"#ffd1ef","h-pk-020":"#fabee4","h-pk-030":"#f2a5d6","h-pk-040":"#eb8dc9","h-pk-050":"#e673bb","h-pk-060":"#e04ea6","h-pk-070":"#ba2f7e","h-pk-080":"#851b52","h-pk-090":"#590b32","h-pk-100":"#260404","h-vr-010":"#fadbff","h-vr-020":"#e4beeb","h-vr-030":"#cfa1d7","h-vr-040":"#b983c3","h-vr-050":"#a466af","h-vr-060":"#8e499b","h-vr-070":"#73377e","h-vr-080":"#572561","h-vr-090":"#3c1243","h-vr-100":"#200026","h-vv-010":"#e8d9ff","h-vv-020":"#cdb9eb","h-vv-030":"#b39ad7","h-vv-040":"#987ac3","h-vv-050":"#7e5baf","h-vv-060":"#633b9b","h-vv-070":"#4e2c7e","h-vv-080":"#3a1e61","h-vv-090":"#250f43","h-vv-100":"#100026","h-bb-010":"#c7eaff","h-bb-020":"#9fd4f3","h-bb-030":"#77bde7","h-bb-040":"#50a7da","h-bb-050":"#2890ce","h-bb-060":"#007ac2","h-bb-070":"#00619b","h-bb-080":"#004874","h-bb-090":"#00304d","h-bb-100":"#001726","h-gb-010":"#cef5f4","h-gb-020":"#afedec","h-gb-030":"#8fe6e5","h-gb-040":"#5ae0de","h-gb-050":"#28cecb","h-gb-060":"#00bab5","h-gb-070":"#009b98","h-gb-080":"#007472","h-gb-090":"#004d4c","h-gb-100":"#002625","h-gg-010":"#bdf2c4","h-gg-020":"#a2e4ab","h-gg-030":"#87d692","h-gg-040":"#6bc878","h-gg-050":"#50ba5f","h-gg-060":"#35ac46","h-gg-070":"#288835","h-gg-080":"#1a6324","h-gg-090":"#0d3f14","h-gg-100":"#001a03","h-yg-010":"#e5f7b4","h-yg-020":"#d9ef9f","h-yg-030":"#cde78a","h-yg-040":"#c2e075","h-yg-050":"#b6d860","h-yg-060":"#aad04b","h-yg-070":"#84a338","h-yg-080":"#5e7526","h-yg-090":"#384813","h-yg-100":"#121a00","h-br-010":"#f7e4cb","h-br-020":"#dec6a8","h-br-030":"#c5a885","h-br-040":"#ad8b62","h-br-050":"#946d3f","h-br-060":"#7b4f1c","h-br-070":"#664015","h-br-080":"#51310e","h-br-090":"#3b2307","h-br-100":"#261400","m-yy-010":"#faf7dc","m-yy-020":"#f6f0c1","m-yy-030":"#f2e8a6","m-yy-040":"#ede18b","m-yy-050":"#e9d970","m-yy-060":"#e5d255","m-yy-070":"#bcaa45","m-yy-080":"#8a7d31","m-yy-090":"#584f1c","m-yy-100":"#262107","m-oy-010":"#ffedd6","m-oy-020":"#fce0bd","m-oy-030":"#f8d2a4","m-oy-040":"#f5c58c","m-oy-050":"#f1b773","m-oy-060":"#eeaa5a","m-oy-070":"#bc8645","m-oy-080":"#8a6130","m-oy-090":"#583d1c","m-oy-100":"#261807","m-oo-010":"#ffece0","m-oo-020":"#fcdac5","m-oo-030":"#f8c7aa","m-oo-040":"#f5b590","m-oo-050":"#f1a275","m-oo-060":"#ee905a","m-oo-070":"#bc7145","m-oo-080":"#8a5131","m-oo-090":"#58321c","m-oo-100":"#261207","m-ro-010":"#f7e4dc","m-ro-020":"#f5d0c2","m-ro-030":"#f3bba7","m-ro-040":"#f1a78d","m-ro-050":"#ef9272","m-ro-060":"#ed7e58","m-ro-070":"#bc6345","m-ro-080":"#8a4731","m-ro-090":"#582b1c","m-ro-100":"#582b1c","m-rr-010":"#fadfdc","m-rr-020":"#fccac5","m-rr-030":"#ffb9b0","m-rr-040":"#f79e94","m-rr-050":"#f5867a","m-rr-060":"#eb6c5e","m-rr-070":"#c25347","m-rr-080":"#913d34","m-rr-090":"#5e241e","m-rr-100":"#260a07","m-pk-010":"#fadef0","m-pk-020":"#facdea","m-pk-030":"#f2b1da","m-pk-040":"#eb9dcf","m-pk-050":"#e688c2","m-pk-060":"#e070b4","m-pk-070":"#b8588f","m-pk-080":"#8c4267","m-pk-090":"#592440","m-pk-100":"#260b0b","m-vr-010":"#f6e1fa","m-vr-020":"#e9ceee","m-vr-030":"#dbbbe2","m-vr-040":"#cea8d5","m-vr-050":"#c095c9","m-vr-060":"#b382bd","m-vr-070":"#8e6397","m-vr-080":"#6a4572","m-vr-090":"#46264c","m-vr-100":"#210726","m-vv-010":"#ece6ff","m-vv-020":"#dcd2f2","m-vv-030":"#ccbee5","m-vv-040":"#bbaad7","m-vv-050":"#ab96ca","m-vv-060":"#9b82bd","m-vv-070":"#796397","m-vv-080":"#584572","m-vv-090":"#36264c","m-vv-100":"#140726","m-bb-010":"#dfeffa","m-bb-020":"#c8e3f5","m-bb-030":"#b1d8f1","m-bb-040":"#9bccec","m-bb-050":"#84c1e8","m-bb-060":"#6db5e3","m-bb-070":"#548eb4","m-bb-080":"#3a6884","m-bb-090":"#214155","m-bb-100":"#071a26","m-gb-010":"#dbf2f1","m-gb-020":"#beedec","m-gb-030":"#9fe6e5","m-gb-040":"#8be0df","m-gb-050":"#70d9d7","m-gb-060":"#5cbfbc","m-gb-070":"#53a6a4","m-gb-080":"#40807e","m-gb-090":"#2a5958","m-gb-100":"#102928","m-gg-010":"#e4f0e4","m-gg-020":"#cbe2cb","m-gg-030":"#b2d4b2","m-gg-040":"#9ac699","m-gg-050":"#81b880","m-gg-060":"#68aa67","m-gg-070":"#548953","m-gg-080":"#3f683f","m-gg-090":"#2b472a","m-gg-100":"#172616","m-yg-010":"#f0f7da","m-yg-020":"#e5efc6","m-yg-030":"#dae7b1","m-yg-040":"#cede9d","m-yg-050":"#c3d688","m-yg-060":"#b8ce74","m-yg-070":"#90a15b","m-yg-080":"#687442","m-yg-090":"#3f4728","m-yg-100":"#171a0f","m-br-010":"#faeddf","m-br-020":"#edd9c3","m-br-030":"#e0c6a8","m-br-040":"#d2b28c","m-br-050":"#c59f71","m-br-060":"#b88b55","m-br-070":"#926d41","m-br-080":"#6c4f2d","m-br-090":"#45311a","m-br-100":"#1f1306","l-yy-010":"#f7f5e6","l-yy-020":"#e7e4d1","l-yy-030":"#d7d3bc","l-yy-040":"#c6c1a6","l-yy-050":"#b6b091","l-yy-060":"#a69f7c","l-yy-070":"#837e61","l-yy-080":"#605c47","l-yy-090":"#3d3b2c","l-yy-100":"#1a1911","l-oy-010":"#faf3eb","l-oy-020":"#e9e0d5","l-oy-030":"#d8cdbf","l-oy-040":"#c8b9a8","l-oy-050":"#b7a692","l-oy-060":"#a6937c","l-oy-070":"#837461","l-oy-080":"#605547","l-oy-090":"#3d352c","l-oy-100":"#1a1611","l-oo-010":"#faf1eb","l-oo-020":"#e9ddd5","l-oo-030":"#d8c9bf","l-oo-040":"#c8b4a8","l-oo-050":"#b7a092","l-oo-060":"#a68c7c","l-oo-070":"#836e61","l-oo-080":"#605047","l-oo-090":"#3d322c","l-oo-100":"#1a1411","l-ro-010":"#faf3f0","l-ro-020":"#e9ddd9","l-ro-030":"#d8c8c1","l-ro-040":"#c8b2aa","l-ro-050":"#b79d92","l-ro-060":"#a6877b","l-ro-070":"#836b61","l-ro-080":"#604e47","l-ro-090":"#3d302c","l-ro-100":"#1a1311","l-rr-010":"#faf1f0","l-rr-020":"#eddfdd","l-rr-030":"#dbc6c4","l-rr-040":"#c8adaa","l-rr-050":"#ba9995","l-rr-060":"#ab837e","l-rr-070":"#876764","l-rr-080":"#604a47","l-rr-090":"#3d2e2c","l-rr-100":"#1a1211","l-pk-010":"#faf0f6","l-pk-020":"#e8d7e2","l-pk-030":"#dbc2d2","l-pk-040":"#c9abbe","l-pk-050":"#b897ab","l-pk-060":"#a68097","l-pk-070":"#856376","l-pk-080":"#614755","l-pk-090":"#3d2c35","l-pk-100":"#1a1111","l-vr-010":"#f5edf7","l-vr-020":"#e1d6e4","l-vr-030":"#cebcd1","l-vr-040":"#baa8bf","l-vr-050":"#a791ac","l-vr-060":"#937a99","l-vr-070":"#746079","l-vr-080":"#56465a","l-vr-090":"#372b3a","l-vr-100":"#18111a","l-vv-010":"#f0edf7","l-vv-020":"#dcd8e7","l-vv-030":"#c8c3d7","l-vv-040":"#b5aec6","l-vv-050":"#a199b6","l-vv-060":"#8d84a6","l-vv-070":"#6f6783","l-vv-080":"#504b60","l-vv-090":"#322e3d","l-vv-100":"#13111a","l-bb-010":"#edf3f7","l-bb-020":"#d7e1e7","l-bb-030":"#c1cfd7","l-bb-040":"#acbcc6","l-bb-050":"#96aab6","l-bb-060":"#8098a6","l-bb-070":"#647883","l-bb-080":"#495860","l-bb-090":"#2d373d","l-bb-100":"#11171a","l-gb-010":"#e8f2f2","l-gb-020":"#d7e8e8","l-gb-030":"#c2d7d7","l-gb-040":"#b1c9c9","l-gb-050":"#98b3b2","l-gb-060":"#88a6a5","l-gb-070":"#658584","l-gb-080":"#4b6160","l-gb-090":"#2f3d3d","l-gb-100":"#121a1a","l-gg-010":"#f0f7f0","l-gg-020":"#dde7dd","l-gg-030":"#cad7ca","l-gg-040":"#b7c6b6","l-gg-050":"#a4b6a3","l-gg-060":"#91a690","l-gg-070":"#728371","l-gg-080":"#536053","l-gg-090":"#343d34","l-gg-100":"#151a15","l-yg-010":"#f4f7eb","l-yg-020":"#e3e7d8","l-yg-030":"#d2d7c5","l-yg-040":"#c2c6b3","l-yg-050":"#b1b6a0","l-yg-060":"#a0a68d","l-yg-070":"#7e836f","l-yg-080":"#5d6051","l-yg-090":"#3b3d33","l-yg-100":"#191a15","l-br-010":"#f7f1eb","l-br-020":"#e4ddd4","l-br-030":"#d1c8be","l-br-040":"#bfb4a7","l-br-050":"#ac9f91","l-br-060":"#998b7a","l-br-070":"#796e60","l-br-080":"#5a5146","l-br-090":"#3a332b","l-br-100":"#1a1611","v-yy-120":"#fff766","v-yy-140":"#ffee33","v-yy-160":"#f5d000","v-yy-180":"#ebba17","v-oy-120":"#ffb54d","v-oy-140":"#ff9500","v-oy-160":"#e68600","v-oy-180":"#d17300","v-oo-120":"#ff974d","v-oo-140":"#ff6a00","v-oo-160":"#e05d00","v-oo-180":"#c95100","v-ro-120":"#ff824d","v-ro-140":"#ff4d00","v-ro-160":"#de4300","v-ro-180":"#c93b00","v-rr-120":"#ff624d","v-rr-140":"#ff0015","v-rr-160":"#d90012","v-rr-180":"#b3000f","v-pk-120":"#ff66c2","v-pk-140":"#ff19a4","v-pk-160":"#d11486","v-pk-180":"#c00073","v-vr-120":"#ea80ff","v-vr-140":"#dd33ff","v-vr-160":"#ac08cc","v-vr-180":"#83009e","v-vv-120":"#b580ff","v-vv-140":"#974dff","v-vv-160":"#8129ff","v-vv-180":"#6a0be6","v-bb-120":"#59d6ff","v-bb-140":"#3db8ff","v-bb-160":"#009af2","v-bb-180":"#0089de","v-gb-120":"#59fffc","v-gb-140":"#00f7f3","v-gb-160":"#00e6e2","v-gb-180":"#00cfca","v-gg-120":"#73ff84","v-gg-140":"#3bed52","v-gg-160":"#00b81b","v-gg-180":"#00a118","v-yg-120":"#d7ff73","v-yg-140":"#bbed3b","v-yg-160":"#96cc00","v-yg-180":"#7fab00","d-bb-410":"#47BBFF","d-bb-420":"#00A0FF","d-bb-430":"#0087D7","d-gg-410":"#44ED51","d-gg-420":"#36DA43","d-gg-430":"#11AD1D","d-yy-410":"#FFE24D","d-yy-420":"#FFC900","d-yy-430":"#F4B000","d-rr-410":"#FF7465","d-rr-420":"#FE583E","d-rr-430":"#F3381B","blk-000":"#ffffff","blk-005":"#f8f8f8","blk-010":"#f3f3f3","blk-020":"#eaeaea","blk-030":"#dfdfdf","blk-040":"#d4d4d4","blk-050":"#cacaca","blk-060":"#bfbfbf","blk-070":"#b5b5b5","blk-080":"#aaaaaa","blk-090":"#9f9f9f","blk-100":"#949494","blk-110":"#8a8a8a","blk-120":"#808080","blk-130":"#757575","blk-140":"#6a6a6a","blk-150":"#606060","blk-160":"#555555","blk-170":"#4a4a4a","blk-180":"#404040","blk-190":"#353535","blk-200":"#2b2b2b","blk-210":"#202020","blk-220":"#151515","blk-230":"#0b0b0b","blk-235":"#060606","blk-240":"#000000"},s=[{name:"light",variables:{brand:"#007ac2","brand-hover":"#00619B","brand-press":"#004874",background:"#f8f8f8","foreground-1":"#ffffff","foreground-2":"#f3f3f3","foreground-3":"#eaeaea","text-1":"#151515","text-2":"#4a4a4a","text-3":"#6a6a6a","text-inverse":"#FFFFFF","text-link":"#00619b","border-1":"#cacaca","border-2":"#dfdfdf","border-3":"#eaeaea","border-input":"#949494",info:"#00619b",success:"#35ac46",warning:"#edd317",danger:"#D83020","danger-hover":"#A82B1E","danger-press":"#7C1D13"}},{name:"dark",variables:{brand:"#009AF2","brand-hover":"#007AC2","brand-press":"#00619B",background:"#353535","foreground-1":"#2b2b2b","foreground-2":"#202020","foreground-3":"#151515","text-1":"#ffffff","text-2":"#bfbfbf","text-3":"#9f9f9f","text-inverse":"#151515","text-link":"#00A0FF","border-1":"#4a4a4a","border-2":"#404040","border-3":"#353535","border-input":"#757575",info:"#00A0FF",success:"#36DA43",warning:"#FFC900",danger:"#FE583E","danger-hover":"#FF0015","danger-press":"#D90012"}}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={Brand_Blue_100:"#b9e0f7",Brand_Blue_150:"#00b9f2",Brand_Blue_200:"#007ac2",Brand_Blue_250:"#004575",Brand_Yellow_100:"#ffec4f",Brand_Orange_100:"#f89927",Brand_Orange_150:"#f36f20",Brand_Orange_200:"#da4d1e",Brand_Red_100:"#de2900",Brand_Green_100:"#d1e391",Brand_Green_150:"#aad04b",Brand_Green_200:"#35ac46",Brand_Green_250:"#2a7433",Brand_Purple_100:"#dfcce3",Brand_Purple_150:"#b279b4",Brand_Purple_200:"#8f499c",Brand_Purple_250:"#6b1978",Brand_Brown_100:"#ecdcb9",Brand_Brown_150:"#be9969",Brand_Brown_200:"#7b4f1c",Brand_Brown_250:"#523b20",Brand_Gray_100:"#b4b4b4",Brand_Gray_150:"#969696",Brand_Gray_200:"#6e6e6e",Brand_Gray_250:"#464646",Calcite_Blue_100:"#d2e9f9",Calcite_Blue_150:"#bcdaed",Calcite_Blue_200:"#6cb4e2",Calcite_Blue_250:"#56a5d8",Calcite_Blue_a100:"#49b0f2",Calcite_Blue_a150:"#419ed9",Calcite_Blue_a200:"#3b8fc4",Calcite_Blue_a250:"#196fa6",Calcite_Yellow_100:"#f3edc7",Calcite_Yellow_150:"#efe397",Calcite_Yellow_200:"#e4d154",Calcite_Yellow_250:"#d8c34b",Calcite_Yellow_a100:"#f2d530",Calcite_Yellow_a150:"#d9bf2b",Calcite_Yellow_a200:"#bda726",Calcite_Yellow_a250:"#a68d00",Calcite_Orange_100:"#fbe1c2",Calcite_Orange_150:"#f6ca92",Calcite_Orange_200:"#eda959",Calcite_Orange_250:"#e79c47",Calcite_Orange_a100:"#ff9f33",Calcite_Orange_a150:"#e8912e",Calcite_Orange_a200:"#d17e21",Calcite_Orange_a250:"#ad6511",Calcite_Green_100:"#ddeedb",Calcite_Green_150:"#9bc19c",Calcite_Green_200:"#67a966",Calcite_Green_250:"#5a9359",Calcite_Green_a100:"#50ad4e",Calcite_Green_a150:"#449443",Calcite_Green_a200:"#338033",Calcite_Green_a250:"#275e26",Calcite_Red_100:"#f3ded7",Calcite_Red_150:"#e4a793",Calcite_Red_200:"#c86a4a",Calcite_Red_250:"#c6542d",Calcite_Red_a100:"#e04f1d",Calcite_Red_a150:"#c7461a",Calcite_Red_a200:"#ab3c16",Calcite_Red_a250:"#8c2907",Calcite_Purple_100:"#e5e1ef",Calcite_Purple_150:"#c4bcdc",Calcite_Purple_200:"#9081bc",Calcite_Purple_250:"#7b6ca7",Calcite_Purple_a100:"#846ebf",Calcite_Purple_a150:"#7461a8",Calcite_Purple_a200:"#61518c",Calcite_Purple_a250:"#4f4273",Calcite_Brown_100:"#e8ddd3",Calcite_Brown_150:"#d2b38f",Calcite_Brown_200:"#b78a54",Calcite_Brown_250:"#a57946",Calcite_Brown_a100:"#bf813a",Calcite_Brown_a150:"#a67032",Calcite_Brown_a200:"#8c5e2a",Calcite_Brown_a250:"#734d22",Calcite_Gray_100:"#f8f8f8",Calcite_Gray_150:"#f4f4f4",Calcite_Gray_200:"#efefef",Calcite_Gray_250:"#e7e7e7",Calcite_Gray_300:"#e0e0e0",Calcite_Gray_350:"#cccccc",Calcite_Gray_400:"#a9a9a9",Calcite_Gray_450:"#959595",Calcite_Gray_500:"#828282",Calcite_Gray_550:"#6e6e6e",Calcite_Gray_600:"#595959",Calcite_Gray_650:"#4c4c4c",Calcite_Gray_700:"#323232",Calcite_Gray_800:"#2b2b2b",Calcite_Highlight_Blue_100:"#e2f1fb",Calcite_Highlight_Blue_150:"#c5e5f9",Calcite_Highlight_Blue_200:"#aadbfa",Calcite_Highlight_Blue_250:"#90cdf2",Calcite_Highlight_Blue_300:"#80bce0",Calcite_Highlight_Blue_350:"#0079c1",Calcite_Highlight_Blue_400:"#005e95",Calcite_Highlight_Green_100:"#cfedcc",Calcite_Highlight_Green_150:"#b0e2b0",Calcite_Highlight_Green_200:"#96ce96",Calcite_Highlight_Green_250:"#7dc17d",Calcite_Highlight_Green_300:"#7bb974",Calcite_Highlight_Green_350:"#31872e",Calcite_Highlight_Green_400:"#2b622b",Calcite_Vibrant_Blue_100:"#c7e9ff",Calcite_Vibrant_Blue_150:"#69dcff",Calcite_Vibrant_Blue_200:"#00dee7",Calcite_Vibrant_Blue_250:"#b3e9f9",Calcite_Vibrant_Yellow_100:"#ffefb7",Calcite_Vibrant_Yellow_150:"#fad817",Calcite_Vibrant_Yellow_200:"#fff000",Calcite_Vibrant_Green_100:"#daffd9",Calcite_Vibrant_Green_150:"#71de6e",Calcite_Vibrant_Green_200:"#a5e800",Calcite_Vibrant_Red_100:"#ffc0b3",Calcite_Vibrant_Red_150:"#ff642e",Calcite_Vibrant_Red_200:"#de2900",Calcite_Vibrant_Purple_100:"#daccff",Calcite_Vibrant_Purple_150:"#b096ff",Calcite_Vibrant_Purple_200:"#f185ff",Calcite_Vibrant_Brown_100:"#ffdbb3",Calcite_Vibrant_Brown_150:"#db8d2f",Calcite_Vibrant_Brown_200:"#ffbc6b"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CalciteFigure=t.CalciteLi=t.CalciteUl=t.CalciteOl=t.CalciteH6=t.CalciteH5=t.CalciteH4=t.CalciteH3=t.CalciteH2=t.CalciteH1=t.CalciteA=t.CalciteP=t.CalciteBody=t.CalciteHtml=void 0;var r,i=(r=n(19))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(203)),o=n(193),s=n(176);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.default.html.withConfig({displayName:"CalciteHtml",componentId:"sc-1pkt4xd-0"})(["height:100%;font-size:100%;font-family:'Avenir Next W01','Avenir Next W00','Avenir Next','Avenir','Helvetica Neue',sans-serif;"]);t.CalciteHtml=l,l.defaultProps={theme:s.CalciteTheme},l.displayName="CalciteHtml";var h=a.default.body.withConfig({displayName:"CalciteBody",componentId:"sc-1pkt4xd-1"})(["min-height:100%;margin:0;tracking:0;font-family:'Avenir Next W01','Avenir Next W00','Avenir Next','Avenir','Helvetica Neue',sans-serif;line-height:1.55rem;color:#4c4c4c;background-color:#ffffff;-webkit-font-smoothing:subpixel-antialiased;font-feature-settings:'kern';font-kerning:normal;text-rendering:optimizeLegibility;font-feature-settings:'liga' 1,'calt' 0;"]);t.CalciteBody=h,h.defaultProps={theme:s.CalciteTheme},h.displayName="CalciteBody";var f=a.default.p.withConfig({displayName:"CalciteP",componentId:"sc-1pkt4xd-2"})(["margin-top:0;margin-bottom:1.55rem;"]);t.CalciteP=f,f.defaultProps={theme:s.CalciteTheme},f.displayName="CalciteP";var d=a.default.a.withConfig({displayName:"CalciteA",componentId:"sc-1pkt4xd-3"})(["color:",";text-decoration:none;cursor:pointer;&:hover{color:",";text-decoration:underline;}"],(function(e){return e.theme.linkColor}),(function(e){return e.theme.linkHover}));t.CalciteA=d,d.defaultProps={theme:s.CalciteTheme},d.displayName="CalciteA";var p=a.default.h1.withConfig({displayName:"baseH",componentId:"sc-1pkt4xd-4"})(["font-weight:300;font-style:normal;margin:0 0 "," 0;"],(function(e){return e.theme.baseline}));p.defaultProps={theme:s.CalciteTheme};var b=(0,a.default)(p).withConfig({displayName:"H1",componentId:"sc-1pkt4xd-5"})(["",";"],(0,o.fontSize)(5)),v=function(e){var t=e.children,n=u(e,["children"]);return i.default.createElement(b,n,t)};t.CalciteH1=v,v.displayName="CalciteH1";var y=(0,a.default)(p).withConfig({displayName:"H2",componentId:"sc-1pkt4xd-6"})(["",";"],(0,o.fontSize)(4)),m=function(e){var t=e.children,n=u(e,["children"]);return i.default.createElement(y,c({as:"h2"},n),t)};t.CalciteH2=m,m.displayName="CalciteH2";var g=(0,a.default)(p).withConfig({displayName:"H3",componentId:"sc-1pkt4xd-7"})(["",";"],(0,o.fontSize)(3)),O=function(e){var t=e.children,n=u(e,["children"]);return i.default.createElement(g,c({as:"h3"},n),t)};t.CalciteH3=O,O.displayName="CalciteH3";var j=(0,a.default)(p).withConfig({displayName:"H4",componentId:"sc-1pkt4xd-8"})(["",";"],(0,o.fontSize)(2)),w=function(e){var t=e.children,n=u(e,["children"]);return i.default.createElement(j,c({as:"h4"},n),t)};t.CalciteH4=w,w.displayName="CalciteH4";var _=(0,a.default)(p).withConfig({displayName:"H5",componentId:"sc-1pkt4xd-9"})(["",";"],(0,o.fontSize)(1)),x=function(e){var t=e.children,n=u(e,["children"]);return i.default.createElement(_,c({as:"h5"},n),t)};t.CalciteH5=x,x.displayName="CalciteH5";var k=(0,a.default)(p).withConfig({displayName:"H6",componentId:"sc-1pkt4xd-10"})(["",";"],(0,o.fontSize)(0)),S=function(e){var t=e.children,n=u(e,["children"]);return i.default.createElement(k,c({as:"h6"},n),t)};t.CalciteH6=S,S.displayName="CalciteH6";var E=a.default.div.withConfig({displayName:"BaseList",componentId:"sc-1pkt4xd-11"})(["margin-top:0;margin-bottom:",";padding:0;list-style-position:inside;margin-bottom:",";margin-left:",";",";html[dir='rtl'] &{margin-left:initial;margin-right:",";}ul,ol{margin-bottom:0;}",";"],(function(e){return e.theme.baseline}),(function(e){return e.theme.baseline}),(function(e){return(0,o.unitCalc)(e.theme.baseline,2,"/")}),(0,o.fontSize)(-1),(function(e){return(0,o.unitCalc)(e.theme.baseline,2,"/")}),(function(e){return e.plain&&(0,a.css)(["margin-left:0;list-style:none;html[dir='rtl'] &{margin-left:initial;margin-right:0;}li{margin-left:0;html[dir='rtl'] &{margin-left:initial;margin-right:0;}}"])}));E.defaultProps={theme:s.CalciteTheme};var T=function(e){var t=e.children,n=u(e,["children"]);return i.default.createElement(E,c({as:"ol"},n),t)};t.CalciteOl=T,T.displayName="CalciteOl";var M=function(e){var t=e.children,n=u(e,["children"]);return i.default.createElement(E,c({as:"ul"},n),t)};t.CalciteUl=M,M.displayName="CalciteUl";var C=a.default.li.withConfig({displayName:"CalciteLi",componentId:"sc-1pkt4xd-12"})(["list-style-position:outside;margin:"," 0 "," 1.5rem;html[dir='rtl'] &{margin:"," 1.5rem "," 0;}ul,ol{margin-bottom:0;}"],(function(e){return(0,o.unitCalc)(e.theme.baseline,4,"/")}),(function(e){return(0,o.unitCalc)(e.theme.baseline,4,"/")}),(function(e){return(0,o.unitCalc)(e.theme.baseline,4,"/")}),(function(e){return(0,o.unitCalc)(e.theme.baseline,4,"/")}));t.CalciteLi=C,C.defaultProps={theme:s.CalciteTheme},C.displayName="CalciteLi";var A=a.default.figure.withConfig({displayName:"CalciteFigure",componentId:"sc-1pkt4xd-13"})(["margin:0 0 1.55rem 0;"]);t.CalciteFigure=A,A.defaultProps={theme:s.CalciteTheme},A.displayName="CalciteFigure"},function(e,t,n){"use strict";var r=n(19),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:a,_owner:o.current}}t.jsx=u,t.jsxs=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(100))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(19)),o=n(630),s=n(631);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var h=function(e){var t=e.children,n=e.href,r=e.iconButton,i=e.icon,h=e.iconPosition,f=l(e,["children","href","iconButton","icon","iconPosition"]),d=(0,a.useContext)(s.ButtonGroupContext),p=function(e){if(e)return a.default.cloneElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({},e.props,{className:"".concat(e.props.className," ").concat(o.StyledIconClass.styledComponentId)}))};return a.default.createElement(o.StyledButton,c({iconButton:r,iconPosition:h,grouped:d.grouped,isToggle:d.isToggle,as:n?"a":"button",href:n},f),"before"===h?p(i):null,t,"after"===h?p(i):null)};h.propTypes={children:i.default.node,type:i.default.oneOf(["button","reset","submit"]),inline:i.default.bool,transparent:i.default.bool,clear:i.default.bool,clearGray:i.default.bool,clearWhite:i.default.bool,white:i.default.bool,extraSmall:i.default.bool,small:i.default.bool,large:i.default.bool,extraLarge:i.default.bool,fullWidth:i.default.bool,half:i.default.bool,red:i.default.bool,green:i.default.bool,disabled:i.default.bool,href:i.default.string,icon:i.default.node,iconButton:i.default.bool,iconPosition:i.default.oneOf(["after","before"])},h.defaultProps={type:"button",iconPosition:"after"},h.displayName="Button";var f=h;t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(100)),i=o(n(19)),a=n(351);function o(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=function(e){var t=e.children,n=e.contentWidth,r=e.contentMaxWidth,o=c(e,["children","contentWidth","contentMaxWidth"]);return i.default.createElement(a.StyledTopNavContainer,null,i.default.createElement(a.StyledTopNav,s({contentWidth:n,contentMaxWidth:r},o),t," "))};u.propTypes={children:r.default.node,contentWidth:r.default.string,contentMaxWidth:r.default.string},u.defaultProps={},u.displayName="TopNav";var l=u;t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSpanCrumb=t.StyledCrumb=t.StyledBreadcrumbs=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(203)),i=n(193),a=n(632),o=n(176),s=n(291);var c=r.default.nav.withConfig({displayName:"StyledBreadcrumbs",componentId:"z9j3tq-0"})(["",";color:",";display:flex;"],(0,i.fontSize)(-2),(function(e){return e.theme.palette.darkerGray}));t.StyledBreadcrumbs=c,c.defaultProps={theme:o.CalciteTheme};var u=(0,r.default)(s.CalciteA).withConfig({displayName:"StyledCrumb",componentId:"z9j3tq-1"})(["color:",";&::before{content:'","';color:",";font-weight:400;display:inline-block;padding:0 0.5rem;}&:first-child::before{display:none;}&:last-child{font-weight:600;}",";"],(function(e){return e.theme.palette.darkerGray}),(function(e){return e.dividerCharacter}),(function(e){return e.theme.palette.darkerGray}),(function(e){return e.white&&(0,r.css)(["color:",";",";&::before{color:",";}"],e.theme.palette.white,(0,a.linkColor)(e.theme.palette.white,e.theme.palette.lightestGray),e.theme.palette.white)}));t.StyledCrumb=u,u.defaultProps={theme:o.CalciteTheme};var l=r.default.span.withConfig({displayName:"StyledSpanCrumb",componentId:"z9j3tq-2"})(["color:",";&::before{content:'","';color:",";font-weight:400;display:inline-block;padding:0 0.5rem;}&:first-child::before{display:none;}&:last-child{font-weight:600;}",";"],(function(e){return e.theme.palette.darkerGray}),(function(e){return e.dividerCharacter}),(function(e){return e.theme.palette.darkerGray}),(function(e){return e.white&&(0,r.css)(["color:",";&::before{color:",";}"],e.theme.palette.white,e.theme.palette.white)}));t.StyledSpanCrumb=l,l.defaultProps={theme:o.CalciteTheme}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(100))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(19)),o=n(390),s=n(439);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=function(e){var t=e.children,n=u(e,["children"]),r=(0,a.useContext)(s.SubNavContext),i=r.legacy,l=r.blue;return a.default.createElement(o.StyledSubNavTitle,c({blue:l,legacy:i},n),t)};l.propTypes={children:i.default.node},l.defaultProps={},l.displayName="SubNavTitle";var h=l;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(19)),i=l(n(100)),a=l(n(775)),o=l(n(776)),s=l(n(779)),c=l(n(802)),u=l(n(805));function l(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?y(e):t}(this,b(t).call(this,e)),m(y(y(n)),"openAccountControl",(function(){n.setState({open:!0})})),m(y(y(n)),"closeAccountControl",(function(){n.setState({open:!1})})),m(y(y(n)),"toggleAccountControl",(function(){n.setState({open:!n.state.open})})),m(y(y(n)),"_getThumbnail",(function(e,t,n){var r=e.username,i=e.thumbnail,a=t||"",o=n.allSSL?"https":"http";return"".concat(o,"://").concat(n.portalHostname,"/sharing/rest/community/users/").concat(r,"/info/").concat(i,"?token=").concat(a)})),m(y(y(n)),"_getAvatar",(function(e,t,i,a){if(e.thumbnail)return r.default.createElement(c.default,{src:n._getThumbnail(e,t,i),size:a});if(e.firstName&&e.lastName){var o=e.firstName[0]+e.lastName[0];return o=o.toUpperCase(),r.default.createElement(c.default,{size:a,fontSize:.5*a},o)}return r.default.createElement(c.default,{size:a},r.default.createElement(u.default,{size:.7*a}))})),n.state={open:!1},n}var n,i,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props,t=e.user,n=e.portal,i=e.token,c=e.onRequestSwitchAccount,u=e.onRequestSignOut,l=e.children,h=e.hideSwitchAccount,p=e.switchAccountLabel,b=e.signOutLabel,v=d(e,["user","portal","token","onRequestSwitchAccount","onRequestSignOut","children","hideSwitchAccount","switchAccountLabel","signOutLabel"]);return r.default.createElement(s.default,{targetEl:r.default.createElement(a.default,f({onClick:this.toggleAccountControl,avatar:this._getAvatar(this.props.user,this.props.token,this.props.portal,32),fullName:t.fullName,username:t.username,open:this.state.open},v)),open:this.state.open,onRequestClose:this.closeAccountControl,placement:"bottom-end",positionFixed:!0},r.default.createElement(o.default,{user:t,portal:n,avatar:this._getAvatar(t,i,n,120),style:{width:"410px"},switchAccountLabel:p,signOutLabel:b,hideSwitchAccount:h,onRequestSwitchAccount:c,onRequestSignOut:u},l))}}])&&p(n.prototype,i),l&&p(n,l),t}(r.Component);g.propTypes={user:i.default.object.isRequired,portal:i.default.object.isRequired,token:i.default.string,switchAccountLabel:i.default.string,signOutLabel:i.default.string,hideSwitchAccount:i.default.bool,onRequestSwitchAccount:i.default.func,onRequestSignOut:i.default.func},g.defaultProps={switchAccountLabel:"Switch Account",signOutLabel:"Sign Out",onRequestSwitchAccount:function(){},onRequestSignOut:function(){}},g.displayName="ArcgisAccount";var O=g;t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(19)),i=o(n(100)),a=n(391);function o(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=function(e){var t=e.avatar,n=e.fullName,i=e.username,o=e.open,u=c(e,["avatar","fullName","username","open"]);return r.default.createElement(a.StyledArcgisAccountControl,s({open:o},u),r.default.createElement(a.StyledArcgisAccountControlAvatar,null,t),r.default.createElement(a.StyledArcgisAccountControlNames,null,r.default.createElement(a.StyledArcgisAccountControlFriendlyName,null,n),r.default.createElement(a.StyledArcgisAccountControlUsername,null,i)))};u.propTypes={avatar:i.default.node,fullName:i.default.string,username:i.default.string,open:i.default.bool},u.defaultProps={},u.displayName="ArcgisAccountControl";var l=u;t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(19)),i=c(n(100)),a=n(391),o=c(n(777)),s=c(n(778));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=function(e){var t=e.children,n=e.user,i=e.portal,c=e.avatar,l=e.hideSwitchAccount,h=e.switchAccountLabel,f=e.signOutLabel,d=e.onRequestSwitchAccount,p=e.onRequestSignOut,b=u(e,["children","user","portal","avatar","hideSwitchAccount","switchAccountLabel","signOutLabel","onRequestSwitchAccount","onRequestSignOut"]);return r.default.createElement(a.StyledArcgisAccountMenu,b,r.default.createElement(a.StyledArcgisAccountContent,null,r.default.createElement(o.default,{user:n,portal:i,avatar:c}),r.default.createElement(s.default,null,t)),r.default.createElement(a.StyledArcgisAccountSignInMenu,null,function(){if(!l)return r.default.createElement(a.StyledSwitchAccountButton,{grouped:!0,extraLarge:!0,onClick:d},h)}(),r.default.createElement(a.StyledSignOutButton,{halo:!0,grouped:!0,extraLarge:!0,onClick:p},f)))};l.propTypes={user:i.default.object,switchAccountLabel:i.default.string,signOutLabel:i.default.string},l.defaultProps={switchAccountLabel:"Switch Account",signOutLabel:"Sign Out"},l.displayName="ArcgisAccountMenu";var h=l;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(19)),i=s(n(100)),a=n(391),o=n(176);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=function(e){var t=e.user,n=e.portal,i=e.avatar,s=c(e,["user","portal","avatar"]),u=r.default.cloneElement(i,{style:{border:"2px solid ".concat(o.CalciteTheme.palette.white),boxShadow:"0 0 0 3px ".concat(o.CalciteTheme.palette.blue),marginBottom:o.CalciteTheme.baseline}});return r.default.createElement(a.StyledArcgisAccountContentInfo,s,u,r.default.createElement(a.StyledArcgisAccountContentName,null,t.fullName),r.default.createElement(a.StyledArcgisAccountContentId,null,t.username),r.default.createElement(a.StyledArcgisAccountContentGroup,null,n.name))};u.propTypes={user:i.default.object},u.defaultProps={},u.displayName="ArcgisAccountContentInfo";var l=u;t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(19)),i=o(n(100)),a=n(391);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.children,n=(e.user,s(e,["children","user"]));return r.default.createElement(a.StyledArcgisAccountContentMenu,n,t)};c.propTypes={children:i.default.node,user:i.default.object},c.defaultProps={},c.displayName="ArcgisAccountContentMenu";var u=c;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n(780))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopoverContext=t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(19)),i=d(n(196)),a=d(n(892)),o=d(n(100)),s=d(n(781)),c=n(712),u=d(n(796)),l=n(193),h=n(643),f=d(n(800));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=(0,r.createContext)({isInPopover:void 0});t.PopoverContext=j,j.displayName="PopoverContext";var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?g(e):t}(this,y(t).call(this,e)),O(g(g(n)),"_setOutsideTap",(function(){var e=[];n.props.closeOnSelect||e.push(document.getElementById("".concat(n._generatedId,"Popover"))),n.outsideTap&&n.outsideTap.remove(),n.outsideTap=(0,s.default)(e,["click","touchstart"],n._handleOutsideTap)})),O(g(g(n)),"_unsetOutsideTap",(function(){n.outsideTap&&n.outsideTap.remove()})),O(g(g(n)),"_handleOutsideTap",(function(e){n.props.onRequestClose(e)})),O(g(g(n)),"_getPopper",(function(e,t){return t?i.default.createPortal(e,document.body):e})),n.state={isInPopover:!0},n._generatedId=(0,u.default)(),n}var n,o,d;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(o=[{key:"componentDidUpdate",value:function(e){(!1===e.open&&!0===this.props.open||!0===this.props.open&&e.children!==this.props.children)&&this._setOutsideTap(),!0===e.open&&!1===this.props.open&&this._unsetOutsideTap()}},{key:"componentWillUnmount",value:function(){this._unsetOutsideTap()}},{key:"render",value:function(){var e=this;return r.default.createElement(j.Provider,{value:this.state},r.default.createElement(c.Manager,null,r.default.createElement(c.Reference,{style:{display:"inline-block"}},(function(t){var n=t.ref;return r.default.createElement(h.StyledTargetWrapper,{ref:n,id:"".concat(e._generatedId,"Target"),style:e.props.targetContainerStyles},e.props.targetEl)})),r.default.createElement(a.default,{in:this.props.open,timeout:this.props.enterDelay},(function(t){return e.props.open?e._getPopper(r.default.createElement(c.Popper,{positionFixed:e.props.positionFixed,placement:(0,l.rtlPlacement)(e.props.placement),modifiers:b({preventOverflow:{boundariesElement:e.props.positionFixed||e.props.appendToBody?"window":"scrollParent"}},e.props.popperModifiers)},(function(n){var i=n.ref,a=n.style,o=n.placement,s=n.scheduleUpdate;return r.default.createElement(f.default,{innerRef:i,id:"".concat(e._generatedId,"Popover"),style:b({},a,e.props.style),transitionState:t,transitionDuration:e.props.transitionDuration,"data-placement":o,scheduleUpdate:s},e.props.children)})),e.props.appendToBody):null}))))}}])&&v(n.prototype,o),d&&v(n,d),t}(r.Component);t.default=w,w.propTypes={children:o.default.node,targetEl:o.default.node,open:o.default.bool,placement:o.default.oneOf(["top","right","bottom","left","top-start","right-start","bottom-start","left-start","top-end","right-end","bottom-end","left-end"]),transitionDuration:o.default.number,enterDelay:o.default.number,onRequestClose:o.default.func,closeOnSelect:o.default.bool,targetContainerStyles:o.default.object,popoverContainerStyles:o.default.object,positionFixed:o.default.bool,popperModifiers:o.default.object},w.defaultProps={open:!1,placement:"bottom-start",transitionDuration:200,enterDelay:0,true:!0},w.displayName="Popover"},function(e,t,n){!function(){"use strict";function t(e,t,n){function r(t){for(var r=e.length;r--;)if(e[r].contains(t.target))return;n(t)}e=Array.isArray(e)?e:[e];for(var i=(t=Array.isArray(t)?t:[t]).length;i--;)document.addEventListener(t[i],r);return{remove:function(){for(var e=t.length;e--;)document.removeEventListener(t[e],r)}}}e.exports?e.exports=t:window.outy=t}()},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=n(635),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{h(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===a.call(e),r=o(e),s=t&&"[object String]"===a.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=u&&n;if(s&&e.length>0&&!i.call(e,0))for(var b=0;b<e.length;++b)f.push(String(b));if(r&&e.length>0)for(var v=0;v<e.length;++v)f.push(String(v));else for(var y in e)p&&"prototype"===y||!i.call(e,y)||f.push(String(y));if(c)for(var m=function(e){if("undefined"===typeof window||!d)return h(e);try{return h(e)}catch(t){return!1}}(e),g=0;g<l.length;++g)m&&"constructor"===l[g]||!i.call(e,l[g])||f.push(l[g]);return f}}e.exports=r},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,i=n(636)("Object.prototype.toString"),a=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},o=function(e){return!!a(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return a(arguments)}();a.isLegacyArguments=o,e.exports=s?a:o},function(e,t,n){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,a=Object.prototype.toString,o="[object Function]";e.exports=function(e){var t=this;if("function"!==typeof t||a.call(t)!==o)throw new TypeError(r+t);for(var n,s=i.call(arguments,1),c=function(){if(this instanceof n){var r=t.apply(this,s.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,s.concat(i.call(arguments)))},u=Math.max(0,t.length-s.length),l=[],h=0;h<u;h++)l.push("$"+h);if(n=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),t.prototype){var f=function(){};f.prototype=t.prototype,n.prototype=new f,f.prototype=null}return n}},function(e,t,n){"use strict";var r=n(523);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(392),i=n(524),a=n(639),o=n(640),s=n(789),c=i(o(),Object);r(c,{getPolyfill:o,implementation:a,shim:s}),e.exports=c},function(e,t,n){"use strict";var r=n(640),i=n(392);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},function(e,t,n){"use strict";var r,i,a,o,s=n(636),c=n(638)()&&"symbol"===typeof Symbol.toStringTag;if(c){r=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),a={};var u=function(){throw a};o={toString:u,valueOf:u},"symbol"===typeof Symbol.toPrimitive&&(o[Symbol.toPrimitive]=u)}var l=s("Object.prototype.toString"),h=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!==typeof e)return!1;var t=h(e,"lastIndex");if(!(t&&r(t,"value")))return!1;try{i(e,o)}catch(n){return n===a}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===l(e)}},function(e,t,n){"use strict";var r=n(392),i=n(524),a=n(641),o=n(642),s=n(792),c=i(a);r(c,{getPolyfill:o,implementation:a,shim:s}),e.exports=c},function(e,t,n){"use strict";var r=n(392).supportsDescriptors,i=n(642),a=Object.getOwnPropertyDescriptor,o=Object.defineProperty,s=TypeError,c=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!r||!c)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=c(u),n=a(t,"flags");return n&&n.get===e||o(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,a="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){return"object"===typeof e&&null!==e&&(a?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Date]"===i.call(e))}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(19),i=(o(r),o(n(100))),a=o(n(795));o(n(545));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=1073741823;function h(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}t.default=function(e,t){var n,o,f="__create-react-context-"+(0,a.default)()+"__",d=function(e){function n(){var t,r;s(this,n);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=r=c(this,e.call.apply(e,[this].concat(a))),r.emitter=h(r.props.value),c(r,t)}return u(n,e),n.prototype.getChildContext=function(){var e;return(e={})[f]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,i=void 0;((a=n)===(o=r)?0!==a||1/a===1/o:a!==a&&o!==o)?i=0:(i="function"===typeof t?t(n,r):l,0!==(i|=0)&&this.emitter.set(e.value,i))}var a,o},n.prototype.render=function(){return this.props.children},n}(r.Component);d.childContextTypes=((n={})[f]=i.default.object.isRequired,n);var p=function(t){function n(){var e,r;s(this,n);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=r=c(this,t.call.apply(t,[this].concat(a))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!==((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},c(r,e)}return u(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?l:t},n.prototype.componentDidMount=function(){this.context[f]&&this.context[f].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?l:e},n.prototype.componentWillUnmount=function(){this.context[f]&&this.context[f].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[f]?this.context[f].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return p.contextTypes=((o={})[f]=i.default.object,o),{Provider:d,Consumer:p}},e.exports=t.default},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(317))},function(e,t,n){(function(t){var n="undefined"!==typeof t&&t.pid?t.pid.toString(36):"";function r(){var e=Date.now(),t=r.last||e;return r.last=e>t?e:t+1}e.exports=e.exports.default=function(e,t){return(e||"")+""+n+r().toString(36)+(t||"")},e.exports.process=function(e,t){return(e||"")+n+r().toString(36)+(t||"")},e.exports.time=function(e,t){return(e||"")+r().toString(36)+(t||"")}}).call(this,n(344))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledMenuItemSubtitle=t.StyledMenuTitle=t.StyledMenuItem=t.StyledMenu=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(203)),i=n(193),a=n(176),o=n(798),s=n(291);var c=(0,r.default)(o.StyledSideNav).withConfig({displayName:"StyledMenu",componentId:"sc-1hku2rj-0"})(["min-width:200px;box-shadow:",";z-index:1000;overflow:auto;"," ",";",";",";",";",";"],(function(e){return e.theme.boxShadow}),(0,i.fontSize)(0),(function(e){return e.right&&(0,r.css)(["right:0;"])}),(function(e){return e.extraSmall&&(0,r.css)(["width:200px;",";"],(0,i.fontSize)(-3))}),(function(e){return e.small&&(0,r.css)(["width:220px;",";"],(0,i.fontSize)(-2))}),(function(e){return e.large&&(0,r.css)(["width:240px;",";"],(0,i.fontSize)(1))}),(function(e){return e.extraLarge&&(0,r.css)(["width:280px;",";"],(0,i.fontSize)(2))}));t.StyledMenu=c,c.defaultProps={theme:a.CalciteTheme};var u=(0,r.default)(s.CalciteA).withConfig({displayName:"StyledMenuItem",componentId:"sc-1hku2rj-1"})(["position:relative;display:flex;justify-content:space-between;min-height:42px;box-sizing:border-box;font-size:0.9em;padding:",";color:",";background-color:",";border-top:1px solid ",";white-space:nowrap;cursor:pointer;",";",";&:hover{background-color:",";text-decoration:none;color:",";}",";",";",";",";",";"],(function(e){return(0,i.unitCalc)(e.theme.baseline,3,"/")}),(function(e){return e.theme.palette.darkerGray}),(function(e){return e.theme.palette.white}),(function(e){return e.theme.palette.lightestGray}),(function(e){return e.disabled&&(0,r.css)(["pointer-events:none;opacity:0.7;"])}),(function(e){return e.active&&(0,r.css)(["background-color:",";text-decoration:none;color:",";"],(function(e){return e.theme.palette.offWhite}),(function(e){return e.theme.palette.darkerGray}))}),(function(e){return e.theme.palette.offWhite}),(function(e){return e.theme.palette.darkerGray}),(function(e){return e.selected&&(0,r.css)(["&,&:focus,&:hover{text-indent:-3px;border-left:3px solid ",";html[dir='rtl'] &{border-left:none;border-right:3px solid ",";}}"],(function(e){return e.theme.palette.blue}),(function(e){return e.theme.palette.blue}))}),(function(e){return e.extraSmall&&(0,r.css)(["min-height:auto;padding:0 ",";"],(function(e){return(0,i.unitCalc)(e.theme.baseline,6,"/")}))}),(function(e){return e.small&&(0,r.css)(["min-height:",";padding:"," ",";"],(function(e){return(0,i.unitCalc)(e.theme.baseline,4,"/")}),(function(e){return(0,i.unitCalc)(e.theme.baseline,6,"/")}),(function(e){return(0,i.unitCalc)(e.theme.baseline,4,"/")}))}),(function(e){return e.large&&(0,r.css)(["min-height:",";padding:",";"],(function(e){return(0,i.unitCalc)(e.theme.baseline,2,"/")}),(function(e){return(0,i.unitCalc)(e.theme.baseline,2,"/")}))}),(function(e){return e.extraLarge&&(0,r.css)(["line-height:20px;padding:",";font-weight:300;"],(function(e){return(0,i.unitCalc)(e.theme.baseline,1.5,"/")}))}));t.StyledMenuItem=u,u.defaultProps={theme:a.CalciteTheme};var l=(0,r.default)(u).withConfig({displayName:"StyledMenuTitle",componentId:"sc-1hku2rj-2"})(["font-size:1em;background-color:",";cursor:auto;"],(function(e){return e.theme.palette.offWhite}));t.StyledMenuTitle=l,l.defaultProps={theme:a.CalciteTheme};var h=r.default.span.withConfig({displayName:"StyledMenuItemSubtitle",componentId:"sc-1hku2rj-3"})(["font-size:0.85em;color:",";*:hover > &{color:",";}"],(function(e){return e.theme.palette.lighterGray}),(function(e){return e.theme.palette.lightGray}));t.StyledMenuItemSubtitle=h,h.defaultProps={theme:a.CalciteTheme}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSideNavLink=t.StyledSideNavTitle=t.StyledSideNav=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(203)),i=n(193),a=n(799),o=n(176),s=n(291);var c=r.default.aside.withConfig({displayName:"StyledSideNav",componentId:"sc-75orq9-0"})(["box-sizing:border-box;padding:0;border:1px solid ",";border-top:none;font-family:",";background-color:",";border-radius:",";"],(function(e){return e.theme.palette.lightestGray}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.palette.white}),(function(e){return e.theme.borderRadius}));t.StyledSideNav=c,c.defaultProps={theme:o.CalciteTheme};var u=(0,r.default)(s.CalciteH4).withConfig({displayName:"StyledSideNavTitle",componentId:"sc-75orq9-1"})(["margin:0;padding:",";",";",";background-color:",";border-top:1px solid ",";"],(function(e){return(0,i.unitCalc)(e.theme.baseline,3,"/")}),(0,a.avenirRegular)(),(0,i.fontSize)(-1),(function(e){return e.theme.palette.offWhite}),(function(e){return e.theme.palette.lightestGray}));t.StyledSideNavTitle=u,u.defaultProps={theme:o.CalciteTheme};var l=(0,r.default)(s.CalciteA).withConfig({displayName:"StyledSideNavLink",componentId:"sc-75orq9-2"})(["position:relative;display:block;box-sizing:border-box;padding:",";",";color:",";background-color:",";border-top:1px solid ",";cursor:pointer;&:hover{background-color:",";text-decoration:none;color:",";}",";",";"],(function(e){return(0,i.unitCalc)(e.theme.baseline,3,"/")}),(0,i.fontSize)(-2),(function(e){return e.theme.palette.darkestGray}),(function(e){return e.theme.palette.white}),(function(e){return e.theme.palette.lightestGray}),(function(e){return e.theme.palette.offWhite}),(function(e){return e.theme.palette.offBlack}),(function(e){return e.disabled&&(0,r.css)(["pointer-events:none;opacity:0.7;"])}),(function(e){return e.active&&(0,r.css)(["text-indent:-3px;border-left:3px solid ",";html[dir='rtl'] &{border-left:none;border-right:3px solid ",";}"],(function(e){return e.theme.palette.blue}),(function(e){return e.theme.palette.blue}))}));t.StyledSideNavLink=l,l.defaultProps={theme:o.CalciteTheme}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.avenirBoldItalic=t.avenirBold=t.avenirDemiItalic=t.avenirDemi=t.avenirItalic=t.avenirRegular=t.avenirLightItalic=t.avenirLight=void 0;t.avenirLight=function(){return"\n    font-weight: 300;\n    font-style: normal;\n\n    b, strong {\n      font-weight: 500;\n    }\n  "};t.avenirLightItalic=function(){return"\n    font-weight: 300;\n    font-style: italic;\n\n    b, strong {\n      font-weight: 500;\n    }\n  "};t.avenirRegular=function(){return"\n    font-weight: 400;\n    font-style: normal;\n\n    b, strong {\n      font-weight: 500;\n    }\n  "};t.avenirItalic=function(){return"\n    font-weight: 400;\n    font-style: italic;\n\n    b, strong {\n      font-weight: 500;\n    }\n  "};t.avenirDemi=function(){return"\n    font-weight: 500;\n    font-style: normal;\n\n    b, strong {\n      font-weight: 600;\n    }\n  "};t.avenirDemiItalic=function(){return"\n    font-weight: 500;\n    font-style: italic;\n\n    b, strong {\n      font-weight: 600;\n    }\n  "};t.avenirBold=function(){return"\n    font-weight: 600;\n    font-style: normal;\n\n    b, strong {\n      font-weight: 600;\n    }\n  "};t.avenirBoldItalic=function(){return"\n    font-weight: 600;\n    font-style: italic;\n\n    b, strong {\n      font-weight: 600;\n    }\n  "}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(19)),i=s(n(100)),a=s(n(801)),o=n(643);function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var h=function(e){var t=e.innerRef,n=e.scheduleUpdate,i=e.children,s=l(e,["innerRef","scheduleUpdate","children"]),h=u((0,a.default)((function(e){e&&n&&n()})),1)[0];return r.default.createElement(o.StyledPopover,c({ref:t},s),h,i)};h.propTypes={innerRef:i.default.func,scheduleUpdate:i.default.func},h.defaultProps={};var f=h;t.default=f},function(e,t,n){var r=n(19),i={display:"block",opacity:0,position:"absolute",top:0,left:0,height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none",zIndex:-1},a=function(e){var t=e.onResize,n=r.useRef();return function(e,t){var n=function(){return e.current&&e.current.contentDocument&&e.current.contentDocument.defaultView};function i(){t();var e=n();e&&e.addEventListener("resize",t)}r.useEffect((function(){return n()?i():e.current&&e.current.addEventListener&&e.current.addEventListener("load",i),function(){var e=n();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("resize",t)}}),[])}(n,(function(){return t(n)})),r.createElement("iframe",{style:i,src:"about:blank",ref:n,"aria-hidden":!0,tabIndex:-1,frameBorder:0})},o=function(e){return{width:null!=e?e.offsetWidth:null,height:null!=e?e.offsetHeight:null}};e.exports=function(e){void 0===e&&(e=o);var t=r.useState(e(null)),n=t[0],i=t[1],s=r.useCallback((function(t){return i(e(t.current))}),[e]);return[r.useMemo((function(){return r.createElement(a,{onResize:s})}),[s]),n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n(803))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(100)),i=o(n(19)),a=n(804);function o(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var h=function(e){var t=e.children,n=e.src,r=e.alt,o=e.size,u=e.fontSize,h=l(e,["children","src","alt","size","fontSize"]);return i.default.createElement(a.StyledAvatar,s({aSize:o,fontSize:u},h),function(e){if(e){if(i.default.isValidElement(e)){var t=u?{fontSize:u}:null;return i.default.cloneElement(e,c({},e.props,{style:c({},a.StyledAvatarSvg,e.props.style,t)}))}return i.default.createElement(a.StyledAvatarText,null,e)}if(n)return i.default.createElement(a.StyledAvatarImage,{src:n,alt:r||""})}(t))};h.propTypes={children:r.default.node,src:r.default.string,alt:r.default.string,size:r.default.number},h.defaultProps={size:40},h.displayName="Avatar";var f=h;t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledAvatarText=t.StyledAvatarSvg=t.StyledAvatarImage=t.StyledAvatar=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(203)),i=n(176);var a=r.default.div.withConfig({displayName:"StyledAvatar",componentId:"kfpfos-0"})(["width:","px;height:","px;display:flex;position:relative;overflow:hidden;background-color:",";color:",";font-size:1.25rem;flex-shrink:0;align-items:center;user-select:none;border-radius:50%;justify-content:center;",";"],(function(e){return e.aSize}),(function(e){return e.aSize}),(function(e){return e.theme.palette.blue}),(function(e){return e.theme.palette.white}),(function(e){return e.fontSize&&(0,r.css)(["font-size:","px;"],e.fontSize)}));t.StyledAvatar=a,a.defaultProps={theme:i.CalciteTheme};var o=r.default.img.withConfig({displayName:"StyledAvatarImage",componentId:"kfpfos-1"})(["width:100%;height:100%;text-align:center;object-fit:cover;"]);t.StyledAvatarImage=o,o.defaultProps={theme:i.CalciteTheme};t.StyledAvatarSvg={fill:"currentColor",display:"inline-block",fontSize:"24px",transition:"fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",userSelect:"none",flexShrink:"0"};var s=r.default.span.withConfig({displayName:"StyledAvatarText",componentId:"kfpfos-2"})(["font-weight:300;font-family:",";"],(function(e){return e.theme.type.avenirFamily}));t.StyledAvatarText=s,s.defaultProps={theme:i.CalciteTheme}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(19))&&r.__esModule?r:{default:r};function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,s=void 0===r?24:r,c=e.filled,u=void 0!==c&&c,l=e.className,h=(e.children,o(e,["color","size","filled","className","children"])),f="calcite-icon";return l&&(f+=" ".concat(l)),s<=16?i.default.createElement("svg",a({},h,{width:s,height:s,fill:n,viewBox:"0 0 16 16",className:f}),u?i.default.createElement("path",{d:"M11 3a3 3 0 1 1-3-3 3 3 0 0 1 3 3zm0 3H5a2 2 0 0 0-2 2v5a1 1 0 0 0 1 1h1V9h1v6.428a.572.572 0 0 0 .572.572h2.856a.572.572 0 0 0 .572-.572V9h1v5h1a1 1 0 0 0 1-1V8a2 2 0 0 0-2-2z"}):i.default.createElement("path",{d:"M3 11.5V15h10v-3.5A3.504 3.504 0 0 0 9.5 8h-3A3.504 3.504 0 0 0 3 11.5zM6.5 9h3a2.503 2.503 0 0 1 2.5 2.5V14H4v-2.5A2.503 2.503 0 0 1 6.5 9zm4.3-5A2.8 2.8 0 1 0 8 6.8 2.803 2.803 0 0 0 10.8 4zM6.133 4A1.867 1.867 0 1 1 8 5.867 1.869 1.869 0 0 1 6.133 4z"})):s<=24?i.default.createElement("svg",a({},h,{width:s,height:s,fill:n,viewBox:"0 0 24 24",className:f}),u?i.default.createElement("path",{d:"M16 4a4 4 0 1 1-4-4 4 4 0 0 1 4 4zm.75 4h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H7v-9h1v11.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V12h1v9h.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8z"}):i.default.createElement("path",{d:"M7.2 5.5a4.3 4.3 0 1 0 4.3-4.3 4.305 4.305 0 0 0-4.3 4.3zm7.644 0A3.344 3.344 0 1 1 11.5 2.156 3.348 3.348 0 0 1 14.844 5.5zM14.5 11h-6A5.506 5.506 0 0 0 3 16.5V22h17v-5.5a5.506 5.506 0 0 0-5.5-5.5zM19 21H4v-4.5A4.505 4.505 0 0 1 8.5 12h6a4.505 4.505 0 0 1 4.5 4.5z"})):i.default.createElement("svg",a({},h,{width:s,height:s,fill:n,viewBox:"0 0 32 32",className:f}),u?i.default.createElement("path",{d:"M21.064 5a5 5 0 1 1-5-5 5 5 0 0 1 5 5zM22 11H10a3 3 0 0 0-3 3v12a2 2 0 0 0 2 2h1V15h1v16a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V15h1v13h1a2 2 0 0 0 2-2V14a3 3 0 0 0-3-3z"}):i.default.createElement("path",{d:"M20.5 15h-9A6.508 6.508 0 0 0 5 21.5V30h22v-8.5a6.508 6.508 0 0 0-6.5-6.5zM26 29H6v-7.5a5.506 5.506 0 0 1 5.5-5.5h9a5.506 5.506 0 0 1 5.5 5.5zM16 13.8A5.8 5.8 0 1 0 10.2 8a5.806 5.806 0 0 0 5.8 5.8zm0-10.633A4.833 4.833 0 1 1 11.167 8 4.839 4.839 0 0 1 16 3.167z"}))};t.default=s},function(e,t,n){"use strict";var r=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=n(19),o=(i=n(100))&&i.__esModule?i:{default:i},s=n(807),c=n(691);function u(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"arcgis-account-manager",n=(0,a.useState)(t),i=h(n,1),o=i[0],u=(0,a.useState)(e),f=h(u,1),d=f[0],p=(0,c.getAccountManagerStorage)(o),b=p.accounts,v=p.status,y=p.active,m=p.order,g=(0,a.useState)({active:y,accounts:b,status:v,order:m}),O=h(g,2),j=O[0],w=O[1];(0,a.useEffect)((function(){var e=v||{},t=e.loading,n=e.authProps;!0===t&&function(){var e=l(r.mark((function e(){var t,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.completeAuth)(n);case 2:(t=e.sent)&&t.key&&(0,c.addAccountStorage)(o,t),(0,c.completeStatusStorage)(o),i=(0,c.getAccountManagerStorage)(o),w(i);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()()}),[o,v]);var _=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=window.location.href,r=e?e||{}:d||{},i=r.clientId,a=r.redirectUri,u=r.portalUrl,l=r.popup;(0,c.beginStatusStorage)(o,{clientId:i,redirectUri:a,portalUrl:u,popup:l},n,t),(0,s.loginOAuth2)(o,{clientId:i,redirectUri:a,portalUrl:u,popup:l},w)}),[d,o]),x=(0,a.useCallback)(l(r.mark((function e(){var t,n,i,a,u,l,h,f,d,p=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:null,i=(n=t||{}).session,a=n.token,u=n.key,l=P(t),!(i&&a&&l)){e.next=14;break}return e.next=6,(0,s.logoutOAuth2)(t);case 6:h=e.sent,f=JSON.stringify(h),console.log("Revoke token status: ".concat(f)),(0,c.logoutAccountStorage)(o,t),d=(0,c.getAccountManagerStorage)(o),w(d),e.next=15;break;case 14:console.error("Invalid account object given to logoutAccount. Required fields: session/token/key. Fields received: {session: ".concat(i,", token: ").concat(a,", key: ").concat(u,"}"));case 15:case"end":return e.stop()}}),e,this)}))),[j,o]),k=(0,a.useCallback)(l(r.mark((function e(){var t,n,i,a,u,l,h,f,d,p=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:null,n=P(t),a=(i=t||{}).session,u=i.token,l=i.key,!n){e.next=15;break}if(!u){e.next=10;break}return e.next=7,(0,s.logoutOAuth2)(t);case 7:h=e.sent,f=JSON.stringify(h),console.log("Revoke token status: ".concat(f));case 10:(0,c.removeAccountStorage)(o,t),d=(0,c.getAccountManagerStorage)(o),w(d),e.next=16;break;case 15:console.error("Invalid account object given to removeAccount. Required fields: session/key. Fields received: {session: ".concat(a,", key: ").concat(l,"}"));case 16:case"end":return e.stop()}}),e,this)}))),[j,o]),S=function(e){var t=e.portal,n=t||{},r=n.appInfo,i=n.portalHostname,a=(r||{}).appId,u="www.arcgis.com"===i?null:"https://".concat(i,"/sharing/rest");if(a&&i){var l=a,h=(j.status||{}).authProps,f=h.redirectUri,d=h.popup,p=window.location.href;f&&void 0!==d?((0,c.beginStatusStorage)(o,{clientId:l,redirectUri:f,portalUrl:u,popup:d},p),(0,s.loginOAuth2)(o,{clientId:l,redirectUri:f,portalUrl:u,popup:d},w)):console.error("Cannot restore account. Missing redirectUri and popup in accountManagerState.status: ".concat(j.status))}else console.error("Cannot restore account. Missing clientId and portalUrl in account portal: ".concat(t))},E=function(){var e=l(r.mark((function e(t){var n,i,a,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.session,i=t.key,e.prev=1,n){e.next=4;break}throw Error("Missing account session.");case 4:if(i){e.next=6;break}throw Error("Missing account key.");case 6:return e.next=8,n.refreshSession();case 8:a=e.sent,s=a?a.serialize():void 0,(0,c.refreshAccountStorage)(o,{key:i,session:s}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error("Cannot refresh session for account: ".concat(i,". ").concat(e.t0));case 16:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),T=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(P(e)){(0,c.switchActiveStorage)(o,e);var t=(0,c.getAccountManagerStorage)(o);w(t)}}),[j,o]),M=(0,a.useCallback)(function(){var e=l(r.mark((function e(t){var n,i,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.session,i=t.token,t.key,!n||!i){e.next=16;break}if(e.prev=2,a=(n||{}).portal,!n.getToken(a)){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 10:return e.prev=10,e.t0=e.catch(2),console.error("Token status verification failed with error.  ".concat(e.t0)),e.abrupt("return",!1);case 14:e.next=17;break;case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),[]),C=(0,a.useCallback)(l(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object.entries(j.accounts).map(function(){var e=l(r.mark((function e(t){var n,i,a,u,l,f,d,p;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h(t,2),i=n[0],a=n[1],l=(u=a||{}).session,f=u.token,!l||!f){e.next=9;break}return e.next=5,(0,s.logoutOAuth2)(a);case 5:d=e.sent,p=JSON.stringify(d),console.log("Revoke token status for account ".concat(i,": ").concat(p)),(0,c.logoutAccountStorage)(o,a);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),t=(0,c.getAccountManagerStorage)(o),w(t);case 3:case"end":return e.stop()}}),e,this)}))),[j]),A=(0,a.useCallback)(l(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object.entries(j.accounts).map(function(){var e=l(r.mark((function e(t){var n,i,a,u,l,f,d,p;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h(t,2),i=n[0],a=n[1],l=(u=a||{}).session,f=u.token,!l||!f){e.next=8;break}return e.next=5,(0,s.logoutOAuth2)(a);case 5:d=e.sent,p=JSON.stringify(d),console.log("Revoke token status for account ".concat(i,": ").concat(p));case 8:return(0,c.removeAccountStorage)(o,a),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),t=(0,c.getAccountManagerStorage)(o),w(t);case 3:case"end":return e.stop()}}),e,this)}))),[j]),P=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||{},n=t.key;if(n){var r=!!j&&!!j.accounts[n];return r}var i={warning:"Invalid account",account:e,accountManagerState:j};return console.warn(i),!1}),[j]);return{accountManagerState:j,addAccount:_,logoutAccount:x,logoutAllAccounts:C,removeAccount:k,removeAllAccounts:A,restoreAccount:S,refreshAccount:E,switchActiveAccount:T,verifyToken:M,getUserThumbnail:s.getUserThumbnail,getOrgThumbnail:s.getOrgThumbnail}};f.propTypes={accountManagerName:o.default.string,options:o.default.object},f.defaultProps={accountManagerName:"arcgis-account-manager"},f.displayName="useAccountManager";var d=f;t.default=d},function(e,t,n){"use strict";var r=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.getUserThumbnail=t.getOrgThumbnail=t.logoutOAuth2=t.loginOAuth2=t.getPortal=t.completeAuth=t.completeOAuthSignIn=t.beginOAuthSignIn=void 0;var i=n(525),a=n(647),o=n(91),s=n(691);function c(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){c(a,r,i,o,s,"next",e)}function s(e){c(a,r,i,o,s,"throw",e)}o(void 0)}))}}var l=function(){var e=u(r.mark((function e(t,n,a){var o,c,u,l,h,f,d,p,b;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.clientId,c=n.redirectUri,u=n.portalUrl,l=n.popup,h=u||"https://www.arcgis.com/sharing/rest",new URL(h).pathname||(f=new URL("https://developers.arcgis.com/rest/users-groups-and-items/root.htm"),"https://<webadaptorhost>.<domain>.com/<webadaptorname>/sharing/rest",console.warn("No URL path given may cause 400 error. If using Enterprise portal verify url format: ".concat("https://<webadaptorhost>.<domain>.com/<webadaptorname>/sharing/rest",". View resource for formatting url: ").concat(f))),!l){e.next=22;break}return e.prev=5,e.next=8,i.UserSession.beginOAuth2({clientId:o,redirectUri:c,portal:h,popup:l});case 8:return d=e.sent,e.next=11,v({dSession:d,portal:h,clientId:o});case 11:p=e.sent,(0,s.addAccountStorage)(t,p),b=(0,s.getAccountManagerStorage)(t),a(b),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),console.error("Error getting User Session (beginOAuth). ".concat(e.t0));case 20:e.next=23;break;case 22:try{i.UserSession.beginOAuth2({clientId:o,redirectUri:c,portal:h,popup:l})}catch(r){console.error("Error getting User Session (beginOAuth). ".concat(r))}case 23:case"end":return e.stop()}}),e,this,[[5,17]])})));return function(t,n,r){return e.apply(this,arguments)}}();t.beginOAuthSignIn=l;var h=function(){var e=u(r.mark((function e(t){var n,a,o,s,c,u,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientId,a=t.portalUrl,o=t.redirectUri,s=t.popup,e.prev=1,c=a||"https://www.arcgis.com/sharing/rest",u=i.UserSession.completeOAuth2({clientId:n,portal:c,redirectUri:o,popup:s}),e.next=6,v({dSession:u,portal:c,clientId:n});case 6:return l=e.sent,window.history.replaceState?window.history.replaceState({},"",window.location.pathname):window.location.hash="",e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(1),console.error("Error getting User Session (completeOAuth). Error reading property may result from app redirecting before operation can read token hash in url. ".concat(e.t0)),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();t.completeOAuthSignIn=h;var f=function(){var e=u(r.mark((function e(t){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:if(!(n=e.sent)){e.next=7;break}return e.abrupt("return",n);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();t.completeAuth=f;var d=function(){var e=u(r.mark((function e(t){var n,i,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.portalUrl,i=t.session,e.prev=1,e.next=4,(0,a.getSelf)({portal:n,authentication:i});case 4:return o=e.sent,e.abrupt("return",o);case 8:return e.prev=8,e.t0=e.catch(1),console.error("Error retrieving portal item. ".concat(e.t0)),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();t.getPortal=d;var p=function(){var e=u(r.mark((function e(t,n,i){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t,n,i);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}();t.loginOAuth2=p;var b=function(){var e=u(r.mark((function e(t){var n,i,a,s,c,u,l,h;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.session,i=t.token,a=n?n.portal:null,(s=n?n.clientId:null)&&i){e.next=5;break}return e.abrupt("return",{success:!1,error:"Empty client_id / token"});case 5:return c="".concat(a,"/oauth2/revokeToken"),u={client_id:s,auth_token:i},e.prev=7,e.next=10,(0,o.request)(c,{params:u,httpMethod:"POST"});case 10:return l=e.sent,h=l?l.success:void 0,e.abrupt("return",{success:h});case 15:return e.prev=15,e.t0=e.catch(7),e.abrupt("return",{success:!1,error:e.t0});case 18:case"end":return e.stop()}}),e,this,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();t.logoutOAuth2=b;t.getOrgThumbnail=function(e){var t=e.session.portal,n=e.portal,r=n.thumbnail,i=n.name,a=e.token,o=e.orgImage,s={url:void 0,letters:void 0};if(s.url=r&&t&&a?"".concat(t,"/portals/self/resources/").concat(r,"?token=").concat(a):void 0,s.letters=i?i[0].toUpperCase():"!",o)s.image=o;else if(s.url)try{var c=new Image;c.src=s.url,s.image=c}catch(u){console.error("Error creating js Image(). ".concat(u))}return s};t.getUserThumbnail=function(e){var t=e.session,n=t.portal,r=t.username,i=e.user,a=i.thumbnail,o=i.firstName,s=i.lastName,c=i.fullName,u=e.token,l=e.userImage,h={url:void 0,letters:void 0};if(h.url=a&&n&&r&&u?"".concat(n,"/community/users/").concat(r,"/info/").concat(a,"?token=").concat(u):void 0,h.letters=o&&s?"".concat(o[0]+s[0]).toUpperCase():c?c[0].toUpperCase():"!",l)h.image=l;else if(h.url)try{var f=new Image;f.src=h.url,h.image=f}catch(d){console.error("Error creating js Image(). ".concat(d))}return h};var v=function(){var e=u(r.mark((function e(t){var n,i,a,o,s,c,u;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dSession,i=t.portal,a=t.clientId,e.prev=1,n.clientId=n.clientId?n.clientId:a,o=n.token,e.next=6,n.getUser();case 6:return s=e.sent,e.next=9,d({portalUrl:i,session:n});case 9:return c=e.sent,u=y({session:n,user:s,portal:c,token:o}),e.abrupt("return",{user:s,portal:JSON.stringify(c),session:n.serialize(),token:o,key:u});case 14:throw e.prev=14,e.t0=e.catch(1),new Error("Could not create account object. This could be due to UserSession.getUser(). ".concat(e.t0));case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){var t=e.user,n=e.portal;try{var r=(t||{}).username,i=(n||{}).name;return r+"-"+(i?i.replace(/\s+/g,""):"org")}catch(a){throw new Error("Error creating account key. ".concat(a))}}},function(e,t,n){},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var o=i.apply(null,r);o&&e.push(o)}else if("object"===a)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(1,arguments),e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)};var r,i=(r=n(59))&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,f.default)(2,arguments);var d=String(t),v=n||{},y=v.locale||i.default,O=y.options&&y.options.firstWeekContainsDate,j=null==O?1:(0,h.default)(O),w=null==v.firstWeekContainsDate?j:(0,h.default)(v.firstWeekContainsDate);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=y.options&&y.options.weekStartsOn,x=null==_?0:(0,h.default)(_),k=null==v.weekStartsOn?x:(0,h.default)(v.weekStartsOn);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!y.localize)throw new RangeError("locale must contain localize property");if(!y.formatLong)throw new RangeError("locale must contain formatLong property");var S=(0,o.default)(e);if(!(0,r.default)(S))throw new RangeError("Invalid time value");var E=(0,u.default)(S),T=(0,a.default)(S,E),M={firstWeekContainsDate:w,weekStartsOn:k,locale:y,_originalDate:S},C=d.match(b).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,c.default[t])(e,y.formatLong,M):e})).join("").match(p).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return g(n);var i=s.default[r];if(i)return!v.useAdditionalWeekYearTokens&&(0,l.isProtectedWeekYearToken)(n)&&(0,l.throwProtectedError)(n,t,e),!v.useAdditionalDayOfYearTokens&&(0,l.isProtectedDayOfYearToken)(n)&&(0,l.throwProtectedError)(n,t,e),i(T,n,y.localize,M);if(r.match(m))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return C};var r=d(n(696)),i=d(n(697)),a=d(n(698)),o=d(n(75)),s=d(n(821)),c=d(n(703)),u=d(n(443)),l=n(704),h=d(n(110)),f=d(n(59));function d(e){return e&&e.__esModule?e:{default:e}}var p=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,b=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v=/^'([^]*?)'?$/,y=/''/g,m=/[a-zA-Z]/;function g(e){return e.match(v)[1].replace(y,"'")}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i;n=n||{},i="string"===typeof r[e]?r[e]:1===t?r[e].one:r[e].other.replace("{{count}}",t);if(n.addSuffix)return n.comparison>0?"in "+i:i+" ago";return i};var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(814))&&r.__esModule?r:{default:r};var a={date:(0,i.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,i.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,i.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){return r[e]};var r={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(817))&&r.__esModule?r:{default:r};var a={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,i.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,i.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,i.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,i.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,i.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=i.width?String(i.width):a;r=e.formattingValues[o]||e.formattingValues[a]}else{var s=e.defaultWidth,c=i.width?String(i.width):e.defaultWidth;r=e.values[c]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(819)),i=a(n(820));function a(e){return e&&e.__esModule?e:{default:e}}var o={ordinalNumber:(0,r.default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,i.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,i.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,i.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,i.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,i.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r=String(t),i=n||{},a=r.match(e.matchPattern);if(!a)return null;var o=a[0],s=r.match(e.parsePattern);if(!s)return null;var c=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:c=i.valueCallback?i.valueCallback(c):c,rest:r.slice(o.length)}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r=String(t),i=n||{},a=i.width,o=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=r.match(o);if(!s)return null;var c,u=s[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth];return c="[object Array]"===Object.prototype.toString.call(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(l,(function(e){return e.test(u)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(l,(function(e){return e.test(u)})),c=e.valueCallback?e.valueCallback(c):c,{value:c=i.valueCallback?i.valueCallback(c):c,rest:r.slice(u.length)}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(822)),i=l(n(823)),a=l(n(700)),o=l(n(701)),s=l(n(702)),c=l(n(527)),u=l(n(699));function l(e){return e&&e.__esModule?e:{default:e}}var h="midnight",f="noon",d="morning",p="afternoon",b="evening",v="night";function y(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(0===a)return n+String(i);var o=t||"";return n+String(i)+o+(0,u.default)(a,2)}function m(e,t){return e%60===0?(e>0?"-":"+")+(0,u.default)(Math.abs(e)/60,2):g(e,t)}function g(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+(0,u.default)(Math.floor(i/60),2)+n+(0,u.default)(i%60,2)}var O={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return r.default.y(e,t)},Y:function(e,t,n,r){var i=(0,c.default)(e,r),a=i>0?i:1-i;if("YY"===t){var o=a%100;return(0,u.default)(o,2)}return"Yo"===t?n.ordinalNumber(a,{unit:"year"}):(0,u.default)(a,t.length)},R:function(e,t){var n=(0,o.default)(e);return(0,u.default)(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return(0,u.default)(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return(0,u.default)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return(0,u.default)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return r.default.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return(0,u.default)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=(0,s.default)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):(0,u.default)(i,t.length)},I:function(e,t,n){var r=(0,a.default)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):(0,u.default)(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):r.default.d(e,t)},D:function(e,t,n){var r=(0,i.default)(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):(0,u.default)(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return(0,u.default)(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return(0,u.default)(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return(0,u.default)(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?f:0===i?h:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?b:i>=12?p:i>=4?d:v,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var i=e.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return r.default.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):r.default.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,u.default)(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,u.default)(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):r.default.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):r.default.s(e,t)},S:function(e,t){return r.default.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return m(i);case"XXXX":case"XX":return g(i);case"XXXXX":case"XXX":default:return g(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return m(i);case"xxxx":case"xx":return g(i);case"xxxxx":case"xxx":default:return g(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+y(i,":");case"OOOO":default:return"GMT"+g(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+y(i,":");case"zzzz":default:return"GMT"+g(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e,a=Math.floor(i.getTime()/1e3);return(0,u.default)(a,t.length)},T:function(e,t,n,r){var i=(r._originalDate||e).getTime();return(0,u.default)(i,t.length)}};t.default=O,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(699))&&r.__esModule?r:{default:r};var a={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return(0,i.default)("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):(0,i.default)(n+1,2)},d:function(e,t){return(0,i.default)(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return(0,i.default)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return(0,i.default)(e.getUTCHours(),t.length)},m:function(e,t){return(0,i.default)(e.getUTCMinutes(),t.length)},s:function(e,t){return(0,i.default)(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds(),a=Math.floor(r*Math.pow(10,n-3));return(0,i.default)(a,t.length)}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var a=t.getTime(),s=n-a;return Math.floor(s/o)+1};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}var o=864e5;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var o=(0,i.default)(n);return o};var r=o(n(701)),i=o(n(441)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(1,arguments);var n=t||{},s=n.locale,c=s&&s.options&&s.options.firstWeekContainsDate,u=null==c?1:(0,r.default)(c),l=null==n.firstWeekContainsDate?u:(0,r.default)(n.firstWeekContainsDate),h=(0,i.default)(e,t),f=new Date(0);f.setUTCFullYear(h,0,l),f.setUTCHours(0,0,0,0);var d=(0,a.default)(f,t);return d};var r=s(n(110)),i=s(n(527)),a=s(n(442)),o=s(n(59));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,r.default)(t);return(0,i.default)(e,-n)};var r=o(n(110)),i=o(n(705)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,r.default)(t);return(0,i.default)(e,-n)};var r=o(n(110)),i=o(n(706)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,r.default)(t);return(0,i.default)(e,-n)};var r=o(n(110)),i=o(n(528)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,r.default)(t);return(0,i.default)(e,-n)};var r=o(n(110)),i=o(n(707)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,r.default)(t);return(0,i.default)(e,-n)};var r=o(n(110)),i=o(n(529)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,r.default)(t);return(0,i.default)(e,-n)};var r=o(n(110)),i=o(n(708)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getSeconds();return n};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getMinutes();return n};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getHours();return n};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getDay();return n};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getDate();return n};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,r.default)(e),n=(0,i.default)(t).getTime()-(0,a.default)(t).getTime();return Math.round(n/c)+1};var r=s(n(75)),i=s(n(530)),a=s(n(838)),o=s(n(59));function s(e){return e&&e.__esModule?e:{default:e}}var c=6048e5;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var o=(0,i.default)(n);return o};var r=o(n(839)),i=o(n(530)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e),n=t.getFullYear(),o=new Date(0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);var s=(0,i.default)(o),c=new Date(0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);var u=(0,i.default)(c);return t.getTime()>=s.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1};var r=o(n(75)),i=o(n(530)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getMonth();return n};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=Math.floor(t.getMonth()/3)+1;return n};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getFullYear();return n};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getTime();return n};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,i.default)(e),o=(0,r.default)(t);return n.setSeconds(o),n};var r=o(n(110)),i=o(n(75)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,i.default)(e),o=(0,r.default)(t);return n.setMinutes(o),n};var r=o(n(110)),i=o(n(75)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,i.default)(e),o=(0,r.default)(t);return n.setHours(o),n};var r=o(n(110)),i=o(n(75)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getFullYear(),a=t.getMonth(),o=new Date(0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var n=(0,i.default)(e),s=(0,r.default)(t),c=Math.floor(n.getMonth()/3)+1,u=s-c;return(0,a.default)(n,n.getMonth()+3*u)};var r=s(n(110)),i=s(n(75)),a=s(n(709)),o=s(n(59));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,i.default)(e),o=(0,r.default)(t);if(isNaN(n))return new Date(NaN);return n.setFullYear(o),n};var r=o(n(110)),i=o(n(75)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;if((0,i.default)(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,r.default)(e);(void 0===n||n>t||isNaN(t))&&(n=t)})),n||new Date(NaN)};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;if((0,i.default)(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,r.default)(e);(void 0===n||n<t||isNaN(t))&&(n=t)})),n||new Date(NaN)};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,i.default)(e),o=(0,i.default)(t),c=n.getTime()-(0,r.default)(n),u=o.getTime()-(0,r.default)(o);return Math.round((c-u)/s)};var r=o(n(443)),i=o(n(532)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}var s=864e5;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var n=(0,r.default)(e),a=(0,r.default)(t),o=n.getFullYear()-a.getFullYear(),s=n.getMonth()-a.getMonth();return 12*o+s};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,a.default)(2,arguments);var o=(0,r.default)(e,n),c=(0,r.default)(t,n),u=o.getTime()-(0,i.default)(o),l=c.getTime()-(0,i.default)(c);return Math.round((u-l)/s)};var r=o(n(531)),i=o(n(443)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}var s=6048e5;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var n=(0,r.default)(e),a=(0,r.default)(t);return n.getFullYear()-a.getFullYear()};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e);return t.setHours(23,59,59,999),t};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var n=t||{},o=n.locale,s=o&&o.options&&o.options.weekStartsOn,c=null==s?0:(0,i.default)(s),u=null==n.weekStartsOn?c:(0,i.default)(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,r.default)(e),h=l.getDay(),f=6+(h<u?-7:0)-(h-u);return l.setDate(l.getDate()+f),l.setHours(23,59,59,999),l};var r=o(n(75)),i=o(n(110)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var n=(0,r.default)(e),a=(0,r.default)(t);return n.getTime()===a.getTime()};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var n=(0,r.default)(e),a=(0,r.default)(t);return n.getTime()===a.getTime()};var r=a(n(532)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var n=(0,r.default)(e),a=(0,r.default)(t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var n=(0,r.default)(e),a=(0,r.default)(t);return n.getFullYear()===a.getFullYear()};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var n=(0,r.default)(e),a=(0,r.default)(t);return n.getTime()===a.getTime()};var r=a(n(710)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var n=(0,r.default)(e),a=(0,r.default)(t);return n.getTime()>a.getTime()};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var n=(0,r.default)(e),a=(0,r.default)(t);return n.getTime()<a.getTime()};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var n=t||{},a=(0,r.default)(e).getTime(),o=(0,r.default)(n.start).getTime(),s=(0,r.default)(n.end).getTime();if(!(o<=s))throw new RangeError("Invalid interval");return a>=o&&a<=s};var r=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,d){(0,f.default)(3,arguments);var v=String(e),y=String(t),w=d||{},_=w.locale||r.default;if(!_.match)throw new RangeError("locale must contain match property");var x=_.options&&_.options.firstWeekContainsDate,k=null==x?1:(0,l.default)(x),S=null==w.firstWeekContainsDate?k:(0,l.default)(w.firstWeekContainsDate);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=_.options&&_.options.weekStartsOn,T=null==E?0:(0,l.default)(E),M=null==w.weekStartsOn?T:(0,l.default)(w.weekStartsOn);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===y)return""===v?(0,a.default)(n):new Date(NaN);var C,A={firstWeekContainsDate:S,weekStartsOn:M,locale:_},P=[{priority:10,subPriority:-1,set:O,index:0}],I=y.match(b).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,s.default[t])(e,_.formatLong,A):e})).join("").match(p),D=[];for(C=0;C<I.length;C++){var L=I[C];!w.useAdditionalWeekYearTokens&&(0,u.isProtectedWeekYearToken)(L)&&(0,u.throwProtectedError)(L,y,e),!w.useAdditionalDayOfYearTokens&&(0,u.isProtectedDayOfYearToken)(L)&&(0,u.throwProtectedError)(L,y,e);var R=L[0],N=h.default[R];if(N){var F=N.incompatibleTokens;if(Array.isArray(F)){for(var z=void 0,V=0;V<D.length;V++){var U=D[V].token;if(-1!==F.indexOf(U)||U===R){z=D[V];break}}if(z)throw new RangeError("The format string mustn't contain `".concat(z.fullToken,"` and `").concat(L,"` at the same time"))}else if("*"===N.incompatibleTokens&&D.length)throw new RangeError("The format string mustn't contain `".concat(L,"` and any other token at the same time"));D.push({token:R,fullToken:L});var B=N.parse(v,L,_.match,A);if(!B)return new Date(NaN);P.push({priority:N.priority,subPriority:N.subPriority||0,set:N.set,validate:N.validate,value:B.value,index:P.length}),v=B.rest}else{if(R.match(g))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if("''"===L?L="'":"'"===R&&(L=j(L)),0!==v.indexOf(L))return new Date(NaN);v=v.slice(L.length)}}if(v.length>0&&m.test(v))return new Date(NaN);var G=P.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return P.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),q=(0,a.default)(n);if(isNaN(q))return new Date(NaN);var H=(0,i.default)(q,(0,c.default)(q)),W={};for(C=0;C<G.length;C++){var Y=G[C];if(Y.validate&&!Y.validate(H,Y.value,A))return new Date(NaN);var J=Y.set(H,W,Y.value,A);J[0]?(H=J[0],(0,o.default)(W,J[1])):H=J}return H};var r=d(n(697)),i=d(n(698)),a=d(n(75)),o=d(n(870)),s=d(n(703)),c=d(n(443)),u=n(704),l=d(n(110)),h=d(n(871)),f=d(n(59));function d(e){return e&&e.__esModule?e:{default:e}}var p=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,b=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v=/^'([^]*?)'?$/,y=/''/g,m=/\S/,g=/[a-zA-Z]/;function O(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}function j(e){return e.match(v)[1].replace(y,"'")}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(527)),i=l(n(872)),a=l(n(873)),o=l(n(874)),s=l(n(875)),c=l(n(441)),u=l(n(442));function l(e){return e&&e.__esModule?e:{default:e}}var h=/^(1[0-2]|0?\d)/,f=/^(3[0-1]|[0-2]?\d)/,d=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,p=/^(5[0-3]|[0-4]?\d)/,b=/^(2[0-3]|[0-1]?\d)/,v=/^(2[0-4]|[0-1]?\d)/,y=/^(1[0-1]|0?\d)/,m=/^(1[0-2]|0?\d)/,g=/^[0-5]?\d/,O=/^[0-5]?\d/,j=/^\d/,w=/^\d{1,2}/,_=/^\d{1,3}/,x=/^\d{1,4}/,k=/^-?\d+/,S=/^-?\d/,E=/^-?\d{1,2}/,T=/^-?\d{1,3}/,M=/^-?\d{1,4}/,C=/^([+-])(\d{2})(\d{2})?|Z/,A=/^([+-])(\d{2})(\d{2})|Z/,P=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,I=/^([+-])(\d{2}):(\d{2})|Z/,D=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function L(e,t,n){var r=t.match(e);if(!r)return null;var i=parseInt(r[0],10);return{value:n?n(i):i,rest:t.slice(r[0].length)}}function R(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function N(e,t){return L(k,e,t)}function F(e,t,n){switch(e){case 1:return L(j,t,n);case 2:return L(w,t,n);case 3:return L(_,t,n);case 4:return L(x,t,n);default:return L(new RegExp("^\\d{1,"+e+"}"),t,n)}}function z(e,t,n){switch(e){case 1:return L(S,t,n);case 2:return L(E,t,n);case 3:return L(T,t,n);case 4:return L(M,t,n);default:return L(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function V(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function U(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var a=i+50;n=e+100*Math.floor(a/100)-(e>=a%100?100:0)}return r?n:1-n}var B=[31,28,31,30,31,30,31,31,30,31,30,31],G=[31,29,31,30,31,30,31,31,30,31,30,31];function q(e){return e%400===0||e%4===0&&e%100!==0}var H={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,r){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return F(4,e,i);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return F(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=e.getUTCFullYear();if(n.isTwoDigitYear){var a=U(n.year,i);return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return F(4,e,i);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return F(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,i){var a=(0,r.default)(e,i);if(n.isTwoDigitYear){var o=U(n.year,a);return e.setUTCFullYear(o,0,i.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,u.default)(e,i)}var s="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(s,0,i.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,u.default)(e,i)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,n,r){return z("R"===t?4:t.length,e)},set:function(e,t,n,r){var i=new Date(0);return i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0),(0,c.default)(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,n,r){return z("u"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return F(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return F(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"M":return L(h,e,i);case"MM":return F(2,e,i);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"L":return L(h,e,i);case"LL":return F(2,e,i);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return L(p,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return F(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return(0,u.default)((0,s.default)(e,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return L(p,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return F(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return(0,c.default)((0,o.default)(e,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"d":return L(f,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return F(t.length,e)}},validate:function(e,t,n){var r=q(e.getUTCFullYear()),i=e.getUTCMonth();return r?t>=1&&t<=G[i]:t>=1&&t<=B[i]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"D":case"DD":return L(d,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return F(t.length,e)}},validate:function(e,t,n){return q(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=(0,i.default)(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return F(t.length,e,i);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=(0,i.default)(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return F(t.length,e,i);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=(0,i.default)(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,n,r){var i=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return F(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiii":default:return n.day(e,{width:"wide",context:"formatting",valueCallback:i})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,r){return(e=(0,a.default)(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(V(n),0,0,0),e},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(V(n),0,0,0),e},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(V(n),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return L(m,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return F(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var i=e.getUTCHours()>=12;return i&&n<12?e.setUTCHours(n+12,0,0,0):i||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return L(b,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return F(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return L(y,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return F(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return L(v,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return F(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){var i=n<=24?n%24:n;return e.setUTCHours(i,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return L(g,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return F(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return L(O,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return F(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,n,r){return F(t.length,e,(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,n,r){switch(t){case"X":return R(C,e);case"XX":return R(A,e);case"XXXX":return R(P,e);case"XXXXX":return R(D,e);case"XXX":default:return R(I,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,n,r){switch(t){case"x":return R(C,e);case"xx":return R(A,e);case"xxxx":return R(P,e);case"xxxxx":return R(D,e);case"xxx":default:return R(I,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,n,r){return N(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,n,r){return N(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}};t.default=H,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,a.default)(2,arguments);var o=n||{},s=o.locale,c=s&&s.options&&s.options.weekStartsOn,u=null==c?0:(0,r.default)(c),l=null==o.weekStartsOn?u:(0,r.default)(o.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=(0,i.default)(e),f=(0,r.default)(t),d=h.getUTCDay(),p=f%7,b=(p+7)%7,v=(b<l?7:0)+f-d;return h.setUTCDate(h.getUTCDate()+v),h};var r=o(n(110)),i=o(n(75)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,r.default)(t);n%7===0&&(n-=7);var o=1,s=(0,i.default)(e),c=s.getUTCDay(),u=n%7,l=(u+7)%7,h=(l<o?7:0)+n-c;return s.setUTCDate(s.getUTCDate()+h),s};var r=o(n(110)),i=o(n(75)),a=o(n(59));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var n=(0,i.default)(e),s=(0,r.default)(t),c=(0,a.default)(n)-s;return n.setUTCDate(n.getUTCDate()-7*c),n};var r=s(n(110)),i=s(n(75)),a=s(n(700)),o=s(n(59));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,o.default)(2,arguments);var s=(0,i.default)(e),c=(0,r.default)(t),u=(0,a.default)(s,n)-c;return s.setUTCDate(s.getUTCDate()-7*u),s};var r=s(n(110)),i=s(n(75)),a=s(n(702)),o=s(n(59));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(1,arguments);var n=t||{},a=null==n.additionalDigits?2:(0,r.default)(n.additionalDigits);if(2!==a&&1!==a&&0!==a)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var o,s=h(e);if(s.date){var c=f(s.date,a);o=d(c.restDateString,c.year)}if(isNaN(o)||!o)return new Date(NaN);var u,l=o.getTime(),p=0;if(s.time&&(p=b(s.time),isNaN(p)||null===p))return new Date(NaN);if(!s.timezone){var v=new Date(l+p),m=new Date(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate(),v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds());return m.setFullYear(v.getUTCFullYear()),m}if(u=y(s.timezone),isNaN(u))return new Date(NaN);return new Date(l+p+u)};var r=a(n(110)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}var o=36e5,s={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function h(e){var t,n={},r=e.split(s.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1],s.timeZoneDelimiter.test(n.date)&&(n.date=e.split(s.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var i=s.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}function f(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:null};var i=r[1]&&parseInt(r[1]),a=r[2]&&parseInt(r[2]);return{year:null==a?i:100*a,restDateString:e.slice((r[1]||r[2]).length)}}function d(e,t){if(null===t)return null;var n=e.match(c);if(!n)return null;var r=!!n[4],i=p(n[1]),a=p(n[2])-1,o=p(n[3]),s=p(n[4]),u=p(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,u)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,a=7*(t-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}(t,s,u):new Date(NaN);var l=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(m[t]||(g(e)?29:28))}(t,a,o)&&function(e,t){return t>=1&&t<=(g(e)?366:365)}(t,i)?(l.setUTCFullYear(t,a,Math.max(i,o)),l):new Date(NaN)}function p(e){return e?parseInt(e):1}function b(e){var t=e.match(u);if(!t)return null;var n=v(t[1]),r=v(t[2]),i=v(t[3]);return function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i)?n*o+6e4*r+1e3*i:NaN}function v(e){return e&&parseFloat(e.replace(",","."))||0}function y(e){if("Z"===e)return 0;var t=e.match(l);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,i)?n*(r*o+6e4*i):NaN}var m=[31,null,31,30,31,30,31,31,30,31,30,31];function g(e){return e%400===0||e%4===0&&e%100}e.exports=t.default},function(e,t,n){"use strict";n.r(t),n.d(t,"IGNORE_CLASS_NAME",(function(){return f}));var r=n(19),i=n(196);function a(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var o,s,c=(void 0===o&&(o=0),function(){return++o}),u={},l={},h=["touchstart","touchmove"],f="ignore-react-onclickoutside";function d(e,t){var n=null;return-1!==h.indexOf(t)&&s&&(n={passive:!e.props.preventDefault}),n}t.default=function(e,t){var n,o,h=e.displayName||e.name||"Component";return o=n=function(n){var o,f;function p(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!==typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if("function"!==typeof t.props.handleClickOutside){if("function"!==typeof t.handleClickOutside)throw new Error("WrappedComponent: "+h+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"===typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"===typeof e.setClickOutsideRef?e.setClickOutsideRef():Object(i.findDOMNode)(e)},r.enableOnClickOutside=function(){if("undefined"!==typeof document&&!l[r._uid]){"undefined"===typeof s&&(s=function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),l[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),u[r._uid]=function(e){var t;null!==r.componentNode&&(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(a(e,t,n))return!0;e=e.parentNode}return e}(e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,u[r._uid],d(r,e))}))}},r.disableOnClickOutside=function(){delete l[r._uid];var e=u[r._uid];if(e&&"undefined"!==typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,d(r,t))})),delete u[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=c(),r}f=n,(o=p).prototype=Object.create(f.prototype),o.prototype.constructor=o,o.__proto__=f;var b=p.prototype;return b.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},b.componentDidMount=function(){if("undefined"!==typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"===typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!==typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+h+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},b.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},b.componentWillUnmount=function(){this.disableOnClickOutside()},b.render=function(){var t=this.props,n=(t.excludeScrollbar,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["excludeScrollbar"]));return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(r.createElement)(e,n)},p}(r.Component),n.displayName="OnClickOutside("+h+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:f,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(19))&&r.__esModule?r:{default:r};function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,s=void 0===r?24:r,c=e.className,u=(e.children,o(e,["color","size","className","children"])),l="calcite-icon";return c&&(l+=" ".concat(c)),s<=16?i.default.createElement("svg",a({},u,{width:s,height:s,fill:n,viewBox:"0 0 16 16",className:l}),i.default.createElement("path",{d:"M15 11.8V4C15 .324 1 .324 1 4v7.8c0 1.948 3.606 3 7 3s7-1.052 7-3zM8 2.2c3.663 0 6 1.067 6 1.8s-2.337 1.8-6 1.8S2 4.733 2 4s2.337-1.8 6-1.8zM2 5.511A12.006 12.006 0 0 0 8 6.8a12.006 12.006 0 0 0 6-1.289V7c0 .733-2.337 1.8-6 1.8S2 7.733 2 7zM2 11.8V8.51A12.006 12.006 0 0 0 8 9.8a12.006 12.006 0 0 0 6-1.289V11.8c0 .835-2.282 2-6 2s-6-1.165-6-2z"})):s<=24?i.default.createElement("svg",a({},u,{width:s,height:s,fill:n,viewBox:"0 0 24 24",className:l}),i.default.createElement("path",{d:"M12 2.2C7.03 2.2 2 3.334 2 5.5v12.8c0 2.273 5.152 3.5 10 3.5s10-1.227 10-3.5V5.5c0-2.166-5.03-3.3-10-3.3zm0 18.6c-5.576 0-9-1.456-9-2.5v-6.282c1.708 1.173 5.366 1.782 9 1.782s7.292-.61 9-1.782V18.3c0 1.044-3.424 2.5-9 2.5zm0-8c-5.494 0-9-1.363-9-2.3V7.018C4.708 8.191 8.366 8.8 12 8.8s7.292-.61 9-1.782V10.5c0 .938-3.506 2.3-9 2.3zm0-5c-5.494 0-9-1.363-9-2.3s3.506-2.3 9-2.3 9 1.362 9 2.3-3.506 2.3-9 2.3z"})):i.default.createElement("svg",a({},u,{width:s,height:s,fill:n,viewBox:"0 0 32 32",className:l}),i.default.createElement("path",{d:"M16 3.2C9.698 3.2 3 4.707 3 7.5v16.8c0 2.923 6.698 4.5 13 4.5s13-1.577 13-4.5V7.5c0-2.793-6.698-4.3-13-4.3zm0 1c6.868 0 12 1.742 12 3.3s-5.132 3.3-12 3.3S4 9.058 4 7.5s5.132-3.3 12-3.3zm0 23.6c-7.072 0-12-1.845-12-3.5v-8.074c2.09 1.68 7.156 2.574 12 2.574s9.91-.894 12-2.574V24.3c0 1.655-4.928 3.5-12 3.5zm0-10c-6.868 0-12-1.742-12-3.3V9.226c2.09 1.68 7.156 2.574 12 2.574s9.91-.894 12-2.574V14.5c0 1.558-5.132 3.3-12 3.3z"}))};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(19))&&r.__esModule?r:{default:r};function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,s=void 0===r?24:r,c=e.className,u=(e.children,o(e,["color","size","className","children"])),l="calcite-icon";return c&&(l+=" ".concat(c)),s<=16?i.default.createElement("svg",a({},u,{width:s,height:s,fill:n,viewBox:"0 0 16 16",className:l}),i.default.createElement("path",{d:"M11.5 9.5a1 1 0 1 1 1 1 1 1 0 0 1-1-1zm2-4a1 1 0 1 0-1-1 1 1 0 0 0 1 1zm-6 3a1 1 0 1 0-1-1 1 1 0 0 0 1 1zm-2 4a1 1 0 1 0-1-1 1 1 0 0 0 1 1zM16 16v-1H2V1H1v15z"})):s<=24?i.default.createElement("svg",a({},u,{width:s,height:s,fill:n,viewBox:"0 0 24 24",className:l}),i.default.createElement("path",{d:"M19.5 4.5a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm-2 5a1 1 0 1 0 1-1 1 1 0 0 0-1 1zm-10 8a1 1 0 1 0-1 1 1 1 0 0 0 1-1zm5-2a1 1 0 1 0 1-1 1 1 0 0 0-1 1zm0-8a1 1 0 1 0 1 1 1 1 0 0 0-1-1zM2 1H1v22h22v-1H2z"})):i.default.createElement("svg",a({},u,{width:s,height:s,fill:n,viewBox:"0 0 32 32",className:l}),i.default.createElement("path",{d:"M24.5 4.5a1 1 0 1 1 1 1 1 1 0 0 1-1-1zm-1 9a1 1 0 1 0-1-1 1 1 0 0 0 1 1zm-1 8a1 1 0 1 0-1-1 1 1 0 0 0 1 1zm-6-6a1 1 0 1 0 1-1 1 1 0 0 0-1 1zm-6 3a1 1 0 1 0-1-1 1 1 0 0 0 1 1zm3 6a1 1 0 1 0-1-1 1 1 0 0 0 1 1zm-7 3a1 1 0 1 0-1-1 1 1 0 0 0 1 1zm10-18a1 1 0 1 0-1-1 1 1 0 0 0 1 1zM3 2H2v28h28v-1H3z"}))};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(19))&&r.__esModule?r:{default:r};function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=function(e){var t=e.color,n=void 0===t?"currentColor":t,r=e.size,s=void 0===r?24:r,c=e.className,u=(e.children,o(e,["color","size","className","children"])),l="calcite-icon";return c&&(l+=" ".concat(c)),s<=16?i.default.createElement("svg",a({},u,{width:s,height:s,fill:n,viewBox:"0 0 16 16",className:l}),i.default.createElement("path",{d:"M2.487 5.294l-.983-2.1L3.147 1.54l2.104.966a6.162 6.162 0 0 1 .764-.317l.79-2.18L9.136 0l.804 2.17a6.107 6.107 0 0 1 .765.317l2.1-.983 1.655 1.643-.967 2.104a6.149 6.149 0 0 1 .318.764l2.18.79L16 9.136l-2.17.804a6.097 6.097 0 0 1-.317.765l.983 2.1-1.643 1.655-2.104-.966a6.161 6.161 0 0 1-.764.317l-.79 2.18L6.864 16l-.804-2.17a6.105 6.105 0 0 1-.765-.317l-2.1.983-1.655-1.643.966-2.104a6.154 6.154 0 0 1-.317-.764l-2.18-.79L0 6.864l2.17-.804a6.094 6.094 0 0 1 .317-.765zm5.07 9.703l.936-.003.715-1.973.453-.155a5.223 5.223 0 0 0 .64-.265l.428-.216 1.906.876.659-.664-.889-1.9.21-.43a5.449 5.449 0 0 0 .268-.644l.152-.454 1.962-.727-.003-.935-1.973-.715-.155-.453a5.223 5.223 0 0 0-.265-.64l-.216-.428.876-1.906-.664-.659-1.9.889-.43-.21a5.367 5.367 0 0 0-.643-.268l-.455-.151-.728-1.963-.934.003-.715 1.973-.453.155a5.223 5.223 0 0 0-.64.265l-.428.216-1.906-.876-.659.664.889 1.9-.21.43a5.434 5.434 0 0 0-.268.643l-.151.454-1.963.728.003.935 1.973.715.155.453a5.223 5.223 0 0 0 .265.64l.216.428-.876 1.906.664.659 1.9-.889.43.21a5.434 5.434 0 0 0 .643.268l.454.151zM11 8a3 3 0 1 1-3-3 3 3 0 0 1 3 3zm-1 0a2 2 0 1 0-2 2 2.002 2.002 0 0 0 2-2z"})):s<=24?i.default.createElement("svg",a({},u,{width:s,height:s,fill:n,viewBox:"0 0 24 24",className:l}),i.default.createElement("path",{d:"M20.017 14.669L23 13.564l-.012-3.208-2.996-1.085a8.455 8.455 0 0 0-.437-1.05l1.329-2.893-2.277-2.26-2.886 1.351a8.396 8.396 0 0 0-1.052-.436L13.564 1l-3.208.012-1.085 2.996a8.485 8.485 0 0 0-1.05.437L5.328 3.116l-2.26 2.276L4.419 8.28a8.378 8.378 0 0 0-.436 1.052L1 10.436l.012 3.208 2.996 1.085a8.46 8.46 0 0 0 .437 1.05l-1.329 2.893 2.276 2.26 2.887-1.351a8.383 8.383 0 0 0 1.052.436L10.436 23l3.208-.012 1.085-2.996a8.478 8.478 0 0 0 1.05-.437l2.893 1.329 2.26-2.276-1.351-2.887a8.382 8.382 0 0 0 .436-1.052zm-.287 3.73l-1.275 1.285-2.694-1.238-.429.215a7.612 7.612 0 0 1-.928.385l-.452.156-1.01 2.789-1.81.007-1.03-2.779-.456-.151a7.394 7.394 0 0 1-.926-.385l-.43-.21-2.688 1.257-1.286-1.275 1.239-2.695-.216-.43a7.551 7.551 0 0 1-.386-.926l-.155-.452-2.79-1.01-.005-1.81 2.777-1.03.152-.456a7.46 7.46 0 0 1 .384-.927l.212-.43L4.27 5.601l1.275-1.285 2.694 1.238.429-.215a7.612 7.612 0 0 1 .928-.385l.452-.156 1.01-2.789 1.81-.007 1.03 2.779.456.151a7.35 7.35 0 0 1 .925.385l.43.211L18.4 4.27l1.285 1.275-1.239 2.695.216.43a7.551 7.551 0 0 1 .386.926l.155.452 2.79 1.01.005 1.81-2.777 1.03-.152.456a7.46 7.46 0 0 1-.384.927l-.212.43zM12 7.2a4.8 4.8 0 1 0 4.8 4.8A4.8 4.8 0 0 0 12 7.2zm0 8.6a3.8 3.8 0 1 1 3.8-3.8 3.804 3.804 0 0 1-3.8 3.8z"})):i.default.createElement("svg",a({},u,{width:s,height:s,fill:n,viewBox:"0 0 32 32",className:l}),i.default.createElement("path",{d:"M26.204 19.397L30 17.99l-.015-4.082-3.814-1.382a10.757 10.757 0 0 0-.556-1.336l1.692-3.682-2.897-2.876-3.674 1.72a10.685 10.685 0 0 0-1.34-.556L17.99 2l-4.082.015-1.382 3.814a10.77 10.77 0 0 0-1.336.556L7.508 4.693 4.632 7.59l1.72 3.674a10.661 10.661 0 0 0-.556 1.34L2 14.01l.015 4.082 3.814 1.382a10.767 10.767 0 0 0 .556 1.336l-1.692 3.682 2.897 2.876 3.674-1.72a10.678 10.678 0 0 0 1.34.556L14.01 30l4.082-.015 1.382-3.814a10.79 10.79 0 0 0 1.336-.556l3.682 1.692 2.876-2.897-1.72-3.674a10.678 10.678 0 0 0 .556-1.34zm-.038 4.804l-1.892 1.905-3.482-1.6-.43.215a9.726 9.726 0 0 1-1.213.505l-.453.155-1.306 3.607-2.685.01-1.331-3.592-.455-.152a9.726 9.726 0 0 1-1.216-.504l-.43-.21L7.8 26.167l-1.906-1.892 1.6-3.483-.215-.43a9.76 9.76 0 0 1-.504-1.211l-.154-.454-3.61-1.307-.008-2.685 3.59-1.33.152-.457a9.766 9.766 0 0 1 .505-1.214l.21-.43-1.626-3.475 1.892-1.905 3.482 1.6.43-.215a9.726 9.726 0 0 1 1.213-.505l.453-.155 1.306-3.607 2.685-.01 1.331 3.592.455.152a9.726 9.726 0 0 1 1.216.504l.43.21L24.2 5.833l1.906 1.892-1.6 3.483.215.43a9.668 9.668 0 0 1 .504 1.211l.154.454 3.61 1.307.008 2.685-3.59 1.33-.152.457a9.735 9.735 0 0 1-.505 1.214l-.21.43zM16 10.2a5.8 5.8 0 1 0 5.8 5.8 5.8 5.8 0 0 0-5.8-5.8zm0 10.6a4.8 4.8 0 1 1 4.8-4.8 4.805 4.805 0 0 1-4.8 4.8z"}))};t.default=s},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){},,function(e,t,n){"use strict";var r=n(28),i=n(7),a=n.n(i),o=n(16),s=n(2),c=n(3),u=n(40),l=n(5),h=n(6),f=n(0),d=(n(15),n(14)),p=(n(18),n(1)),b=n(41),v=n(8),y=(n(12),n(21),n(22),n(122)),m=n(108),g=(n(153),n(450)),O=n(64),j=n(82),w=n(88),_=n(33),x=n(11),k=n(94),S=n(4),E=n(29),T=n(257);function M(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function C(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t?t.defaultView:window}return e}function A(e){var t=C(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function P(e){return e instanceof C(e).Element||e instanceof Element}function I(e){return e instanceof C(e).HTMLElement||e instanceof HTMLElement}function D(e){return e?(e.nodeName||"").toLowerCase():null}function L(e){return(P(e)?e.ownerDocument:e.document).documentElement}function R(e){return M(L(e)).left+A(e).scrollLeft}function N(e){return C(e).getComputedStyle(e)}function F(e){var t=N(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function z(e,t,n){void 0===n&&(n=!1);var r=L(t),i=M(e),a=I(t),o={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(a||!a&&!n)&&(("body"!==D(t)||F(r))&&(o=function(e){return e!==C(e)&&I(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:A(e);var t}(t)),I(t)?((s=M(t)).x+=t.clientLeft,s.y+=t.clientTop):r&&(s.x=R(r))),{x:i.left+o.scrollLeft-s.x,y:i.top+o.scrollTop-s.y,width:i.width,height:i.height}}function V(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function U(e){return"html"===D(e)?e:e.assignedSlot||e.parentNode||e.host||L(e)}function B(e){return["html","body","#document"].indexOf(D(e))>=0?e.ownerDocument.body:I(e)&&F(e)?e:B(U(e))}function G(e,t){void 0===t&&(t=[]);var n=B(e),r="body"===D(n),i=C(n),a=r?[i].concat(i.visualViewport||[],F(n)?n:[]):n,o=t.concat(a);return r?o:o.concat(G(U(a)))}function q(e){return["table","td","th"].indexOf(D(e))>=0}function H(e){if(!I(e)||"fixed"===N(e).position)return null;var t=e.offsetParent;if(t){var n=L(t);if("body"===D(t)&&"static"===N(t).position&&"static"!==N(n).position)return n}return t}function W(e){for(var t=C(e),n=H(e);n&&q(n)&&"static"===N(n).position;)n=H(n);return n&&"body"===D(n)&&"static"===N(n).position?t:n||function(e){for(var t=U(e);I(t)&&["html","body"].indexOf(D(t))<0;){var n=N(t);if("none"!==n.transform||"none"!==n.perspective||n.willChange&&"auto"!==n.willChange)return t;t=t.parentNode}return null}(e)||t}var Y="top",J="bottom",K="right",X="left",Q="auto",Z=[Y,J,K,X],$="start",ee="end",te="viewport",ne="popper",re=Z.reduce((function(e,t){return e.concat([t+"-"+$,t+"-"+ee])}),[]),ie=[].concat(Z,[Q]).reduce((function(e,t){return e.concat([t,t+"-"+$,t+"-"+ee])}),[]),ae=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function oe(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function se(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var ce={placement:"bottom",modifiers:[],strategy:"absolute"};function ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function le(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?ce:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},ce),a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,c={state:i,setOptions:function(n){u(),i.options=Object.assign(Object.assign(Object.assign({},a),i.options),n),i.scrollParents={reference:P(e)?G(e):e.contextElement?G(e.contextElement):[],popper:G(t)};var s=function(e){var t=oe(e);return ae.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign(Object.assign(Object.assign({},n),t),{},{options:Object.assign(Object.assign({},n.options),t.options),data:Object.assign(Object.assign({},n.data),t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=s.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:c,options:r}),u=function(){};o.push(s||u)}})),c.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(ue(t,n)){i.rects={reference:z(t,W(n),"fixed"===i.options.strategy),popper:V(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,u=a.options,l=void 0===u?{}:u,h=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:h,instance:c})||i)}else i.reset=!1,r=-1}}},update:se((function(){return new Promise((function(e){c.forceUpdate(),e(i)}))})),destroy:function(){u(),s=!0}};if(!ue(e,t))return c;function u(){o.forEach((function(e){return e()})),o=[]}return c.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var he={passive:!0};function fe(e){return e.split("-")[0]}function de(e){return e.split("-")[1]}function pe(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function be(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?fe(i):null,o=i?de(i):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(a){case Y:t={x:s,y:n.y-r.height};break;case J:t={x:s,y:n.y+n.height};break;case K:t={x:n.x+n.width,y:c};break;case X:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var u=a?pe(a):null;if(null!=u){var l="y"===u?"height":"width";switch(o){case $:t[u]=Math.floor(t[u])-Math.floor(n[l]/2-r[l]/2);break;case ee:t[u]=Math.floor(t[u])+Math.ceil(n[l]/2-r[l]/2)}}return t}var ve={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ye(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.offsets,o=e.position,s=e.gpuAcceleration,c=e.adaptive,u=function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Math.round(t*r)/r||0,y:Math.round(n*r)/r||0}}(a),l=u.x,h=u.y,f=a.hasOwnProperty("x"),d=a.hasOwnProperty("y"),p=X,b=Y,v=window;if(c){var y=W(n);y===C(n)&&(y=L(n)),i===Y&&(b=J,h-=y.clientHeight-r.height,h*=s?1:-1),i===X&&(p=K,l-=y.clientWidth-r.width,l*=s?1:-1)}var m,g=Object.assign({position:o},c&&ve);return s?Object.assign(Object.assign({},g),{},((m={})[b]=d?"0":"",m[p]=f?"0":"",m.transform=(v.devicePixelRatio||1)<2?"translate("+l+"px, "+h+"px)":"translate3d("+l+"px, "+h+"px, 0)",m)):Object.assign(Object.assign({},g),{},((t={})[b]=d?h+"px":"",t[p]=f?l+"px":"",t.transform="",t))}var me={left:"right",right:"left",bottom:"top",top:"bottom"};function ge(e){return e.replace(/left|right|bottom|top/g,(function(e){return me[e]}))}var Oe={start:"end",end:"start"};function je(e){return e.replace(/start|end/g,(function(e){return Oe[e]}))}function we(e,t){var n=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(n){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _e(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function xe(e,t){return t===te?_e(function(e){var t=C(e),n=L(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+R(e),y:s}}(e)):I(t)?function(e){var t=M(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):_e(function(e){var t=L(e),n=A(e),r=e.ownerDocument.body,i=Math.max(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Math.max(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-n.scrollLeft+R(e),s=-n.scrollTop;return"rtl"===N(r||t).direction&&(o+=Math.max(t.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:o,y:s}}(L(e)))}function ke(e,t,n){var r="clippingParents"===t?function(e){var t=G(U(e)),n=["absolute","fixed"].indexOf(N(e).position)>=0&&I(e)?W(e):e;return P(n)?t.filter((function(e){return P(e)&&we(e,n)&&"body"!==D(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=xe(e,n);return t.top=Math.max(r.top,t.top),t.right=Math.min(r.right,t.right),t.bottom=Math.min(r.bottom,t.bottom),t.left=Math.max(r.left,t.left),t}),xe(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Se(e){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),e)}function Ee(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Te(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,s=n.rootBoundary,c=void 0===s?te:s,u=n.elementContext,l=void 0===u?ne:u,h=n.altBoundary,f=void 0!==h&&h,d=n.padding,p=void 0===d?0:d,b=Se("number"!==typeof p?p:Ee(p,Z)),v=l===ne?"reference":ne,y=e.elements.reference,m=e.rects.popper,g=e.elements[f?v:l],O=ke(P(g)?g:g.contextElement||L(e.elements.popper),o,c),j=M(y),w=be({reference:j,element:m,strategy:"absolute",placement:i}),_=_e(Object.assign(Object.assign({},m),w)),x=l===ne?_:j,k={top:O.top-x.top+b.top,bottom:x.bottom-O.bottom+b.bottom,left:O.left-x.left+b.left,right:x.right-O.right+b.right},S=e.modifiersData.offset;if(l===ne&&S){var E=S[i];Object.keys(k).forEach((function(e){var t=[K,J].indexOf(e)>=0?1:-1,n=[Y,J].indexOf(e)>=0?"y":"x";k[e]+=E[n]*t}))}return k}function Me(e,t,n){return Math.max(e,Math.min(t,n))}function Ce(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ae(e){return[Y,K,J,X].some((function(t){return e[t]>=0}))}var Pe=le({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,c=C(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",n.update,he)})),s&&c.addEventListener("resize",n.update,he),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",n.update,he)})),s&&c.removeEventListener("resize",n.update,he)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=be({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s={placement:fe(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),ye(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),ye(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];I(i)&&D(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});I(r)&&D(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=ie.reduce((function(e,n){return e[n]=function(e,t,n){var r=fe(e),i=[X,Y].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign(Object.assign({},t),{},{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[X,K].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],c=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,c=n.fallbackPlacements,u=n.padding,l=n.boundary,h=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,p=void 0===d||d,b=n.allowedAutoPlacements,v=t.options.placement,y=fe(v),m=c||(y===v||!p?[ge(v)]:function(e){if(fe(e)===Q)return[];var t=ge(e);return[je(e),t,je(t)]}(v)),g=[v].concat(m).reduce((function(e,n){return e.concat(fe(n)===Q?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?ie:c,l=de(r),h=l?s?re:re.filter((function(e){return de(e)===l})):Z,f=h.filter((function(e){return u.indexOf(e)>=0}));0===f.length&&(f=h);var d=f.reduce((function(t,n){return t[n]=Te(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[fe(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:h,padding:u,flipVariations:p,allowedAutoPlacements:b}):n)}),[]),O=t.rects.reference,j=t.rects.popper,w=new Map,_=!0,x=g[0],k=0;k<g.length;k++){var S=g[k],E=fe(S),T=de(S)===$,M=[Y,J].indexOf(E)>=0,C=M?"width":"height",A=Te(t,{placement:S,boundary:l,rootBoundary:h,altBoundary:f,padding:u}),P=M?T?K:X:T?J:Y;O[C]>j[C]&&(P=ge(P));var I=ge(P),D=[];if(a&&D.push(A[E]<=0),s&&D.push(A[P]<=0,A[I]<=0),D.every((function(e){return e}))){x=S,_=!1;break}w.set(S,D)}if(_)for(var L=function(e){var t=g.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},R=p?3:1;R>0;R--){if("break"===L(R))break}t.placement!==x&&(t.modifiersData[r]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,c=n.boundary,u=n.rootBoundary,l=n.altBoundary,h=n.padding,f=n.tether,d=void 0===f||f,p=n.tetherOffset,b=void 0===p?0:p,v=Te(t,{boundary:c,rootBoundary:u,padding:h,altBoundary:l}),y=fe(t.placement),m=de(t.placement),g=!m,O=pe(y),j="x"===O?"y":"x",w=t.modifiersData.popperOffsets,_=t.rects.reference,x=t.rects.popper,k="function"===typeof b?b(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):b,S={x:0,y:0};if(w){if(a){var E="y"===O?Y:X,T="y"===O?J:K,M="y"===O?"height":"width",C=w[O],A=w[O]+v[E],P=w[O]-v[T],I=d?-x[M]/2:0,D=m===$?_[M]:x[M],L=m===$?-x[M]:-_[M],R=t.elements.arrow,N=d&&R?V(R):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=F[E],U=F[T],B=Me(0,_[M],N[M]),G=g?_[M]/2-I-B-z-k:D-B-z-k,q=g?-_[M]/2+I+B+U+k:L+B+U+k,H=t.elements.arrow&&W(t.elements.arrow),Q=H?"y"===O?H.clientTop||0:H.clientLeft||0:0,Z=t.modifiersData.offset?t.modifiersData.offset[t.placement][O]:0,ee=w[O]+G-Z-Q,te=w[O]+q-Z,ne=Me(d?Math.min(A,ee):A,C,d?Math.max(P,te):P);w[O]=ne,S[O]=ne-C}if(s){var re="x"===O?Y:X,ie="x"===O?J:K,ae=w[j],oe=Me(ae+v[re],ae,ae-v[ie]);w[j]=oe,S[j]=oe-ae}t.modifiersData[r]=S}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=n.elements.arrow,a=n.modifiersData.popperOffsets,o=fe(n.placement),s=pe(o),c=[X,K].indexOf(o)>=0?"height":"width";if(i&&a){var u=n.modifiersData[r+"#persistent"].padding,l=V(i),h="y"===s?Y:X,f="y"===s?J:K,d=n.rects.reference[c]+n.rects.reference[s]-a[s]-n.rects.popper[c],p=a[s]-n.rects.reference[s],b=W(i),v=b?"y"===s?b.clientHeight||0:b.clientWidth||0:0,y=d/2-p/2,m=u[h],g=v-l[c]-u[f],O=v/2-l[c]/2+y,j=Me(m,O,g),w=s;n.modifiersData[r]=((t={})[w]=j,t.centerOffset=j-O,t)}},effect:function(e){var t=e.state,n=e.options,r=e.name,i=n.element,a=void 0===i?"[data-popper-arrow]":i,o=n.padding,s=void 0===o?0:o;null!=a&&("string"!==typeof a||(a=t.elements.popper.querySelector(a)))&&we(t.elements.popper,a)&&(t.elements.arrow=a,t.modifiersData[r+"#persistent"]={padding:Se("number"!==typeof s?s:Ee(s,Z))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Te(t,{elementContext:"reference"}),s=Te(t,{altBoundary:!0}),c=Ce(o,r),u=Ce(s,i,a),l=Ae(c),h=Ae(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:h},t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":l,"data-popper-escaped":h})}}]}),Ie=["bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","top","top-start","top-end"],De={position:"fixed","z-index":"1000"},Le=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(s.a)(this,n),(i=t.call(this,e,r))._popper=null,i._contentNode=null,i._renderAttached=!1,i._rootNode=null,i.anchorElement=null,i.offset=[0,0],i.open=!1,i.renderContentFunction=null,i._afterRootCreate=function(e){i._rootNode=e},i._afterContentCreate=function(e){i._contentNode=e},i._updatePosition=function(){Object(S.h)(i._popper)&&i._popper.update()},i}return Object(c.a)(n,[{key:"initialize",value:function(){var e=this;this.when((function(){e._projector.append(document.body,e.render),e._renderAttached=!0})),this.own(Object(E.a)(this,["open","anchorElement"],(function(){return e._buildPopper()})),Object(E.a)(this,["placement","offset"],(function(){return e._setPopperOptions()})))}},{key:"destroy",value:function(){this.owner=null,this.anchorElement=null,this.renderContentFunction=null,this._renderAttached&&(this._projector.detach(this.render),this._renderAttached=!1),Object(S.h)(this._rootNode)&&(Object(T.c)(this._rootNode),this._rootNode=null),this._contentNode=null,Object(S.h)(this._popper)&&(this._popper.destroy(),this._popper=null)}},{key:"container",set:function(e){}},{key:"owner",set:function(e){this._set("owner",e)}},{key:"placement",get:function(){return"top"},set:function(e){-1!==Ie.indexOf(e)?this._override("placement",e):this._clearOverride("placement")}},{key:"render",value:function(){var e=this.open,t=this.owner,n=this.renderContentFunction;return Object(x.a)("div",{afterCreate:this._afterRootCreate,class:this.classes("esri-popover",e?"esri-popover--open":null),styles:De},Object(x.a)("div",{afterCreate:this._afterContentCreate,afterUpdate:this._updatePosition},e&&(null==n?void 0:n.call(t))))}},{key:"_buildPopper",value:function(){Object(S.h)(this._popper)&&(this._popper.destroy(),this._popper=null);var e=this._contentNode;if(!Object(S.g)(e)&&this.open&&this.renderContentFunction){var t=this._getAnchor();t&&(this._popper=Pe(t,e),this._setPopperOptions())}}},{key:"_setPopperOptions",value:function(){var e=this.placement,t=this.offset,n=this._popper;Object(S.g)(n)||(n.setOptions({placement:e,modifiers:[{name:"offset",options:{offset:t}}]}),n.forceUpdate())}},{key:"_getAnchor",value:function(){var e=this.anchorElement;return Object(T.a)("function"==typeof e?e():e)}}]),n}(k.a);Object(f.a)([Object(p.b)(),Object(_.a)()],Le.prototype,"anchorElement",void 0),Object(f.a)([Object(p.b)()],Le.prototype,"container",null),Object(f.a)([Object(p.b)(),Object(_.a)()],Le.prototype,"offset",void 0),Object(f.a)([Object(p.b)(),Object(_.a)()],Le.prototype,"open",void 0),Object(f.a)([Object(p.b)(),Object(_.a)()],Le.prototype,"owner",null),Object(f.a)([Object(p.b)(),Object(_.a)()],Le.prototype,"placement",null),Object(f.a)([Object(p.b)(),Object(_.a)()],Le.prototype,"renderContentFunction",void 0);var Re=Le=Object(f.a)([Object(v.a)("esri.widgets.support.Popover")],Le),Ne=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.apply(this,arguments)).state="ready",e.value=new Date,e}return n}(n(37).a);Object(f.a)([Object(p.b)()],Ne.prototype,"state",void 0),Object(f.a)([Object(p.b)()],Ne.prototype,"value",void 0);var Fe=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return n}(Ne=Object(f.a)([Object(v.a)("esri.widgets.support.MomentElementViewModel")],Ne)),ze=Fe=Object(f.a)([Object(v.a)("esri.widgets.support.DatePickerViewModel")],Fe),Ve=n(20);function Ue(e){for(var t=[/\u0660/g,/\u0661/g,/\u0662/g,/\u0663/g,/\u0664/g,/\u0665/g,/\u0666/g,/\u0667/g,/\u0668/g,/\u0669/g],n=0;n<10;n++)e=e.replace(t[n],n.toString());return Number(e)}function Be(e){return new Ve.a("could not parse date input, expecting the following format: ".concat(Object(m.b)(Date.now(),e)))}var Ge="esri-date-picker__week-item",qe="esri-date-picker__day-item",He="esri-date-picker__year-picker-item",We="esri-icon-left",Ye="esri-icon-right",Je="esri-widget",Ke="esri-widget--button",Xe="esri-select",Qe={year:"numeric",month:"2-digit",day:"2-digit"},Ze=[" ","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Enter","Home","PageDown","PageUp"],$e=d.a.getLogger("esri.widgets.support.DatePicker"),et="onfocusout"in HTMLElement.prototype,tt="formatToParts"in Intl.DateTimeFormat.prototype,nt=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(s.a)(this,n),(i=t.call(this,e,r))._activeDate=null,i._calendarNode=null,i._calendarPopover=new Re({owner:Object(u.a)(i),placement:"bottom-start",anchorElement:function(){return i._rootNode},renderContentFunction:i._renderCalendar}),i._closedByUserAction=!1,i._isOpen=!1,i._requestDayPickerFocusOnCreate=!1,i._rootNode=null,i.dateInputEnabled=!1,i.label=void 0,i.messages=null,i.value=null,i.commitOnMonthChange=!1,i.viewModel=new ze,i._handleDatePickerBlur=et?null:i._handleDatePickerBlurOrFocusOut,i._handleDatePickerFocusOut=et?i._handleDatePickerBlurOrFocusOut:null,i._toggle=i._toggle.bind(Object(u.a)(i)),i}return Object(c.a)(n,[{key:"loadLocale",value:function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)();case 2:this._moment=e.sent,this._isOpen&&(this._activeDate=this._moment(this._activeDate.toDate()));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this._calendarPopover.destroy()}},{key:"render",value:function(){return Object(x.a)("div",{afterCreate:O.g,bind:this,class:this.classes("esri-date-picker",Je),"data-node-ref":"_rootNode"},tt&&this.dateInputEnabled?this.renderInputAndButtonMode():this.renderButtonOnlyMode())}},{key:"renderButtonOnlyMode",value:function(){var e=Object(m.b)(this.viewModel.value,Qe),t=this._isOpen,n=this.messages;return Object(x.a)("div",{afterUpdate:this._focusSelectedOrClosed,"aria-controls":t?this._getCalendarId():null,"aria-expanded":t.toString(),"aria-haspopup":"true","aria-label":n.setDate,"aria-pressed":t.toString(),class:this.classes(Ke,Xe,"esri-date-picker__calendar-toggle"),onclick:this._toggle,onkeydown:this._toggle,role:"button",tabIndex:0},Object(x.a)("span",{class:"esri-date-picker__date"},e))}},{key:"renderInputAndButtonMode",value:function(){var e=Object(m.b)(this.viewModel.value,Qe),t=this._isOpen,n=this.messages;return Object(x.a)("div",{class:this.classes("esri-date-picker__input")},Object(x.a)("input",{"aria-controls":t?this._getCalendarId():null,"aria-haspopup":"true","aria-label":n.setDate,bind:this,class:this.classes("esri-date-picker__text-input","esri-input"),key:"date-input",onblur:this._handleDateInputBlur,onfocus:this._handleDateInputFocus,onkeydown:this._handleDateInputKeyDown,type:"text",value:e}),Object(x.a)("span",{"aria-hidden":"true",class:this.classes("esri-date-picker__icon--leading","esri-icon-calendar")}))}},{key:"_handleDateInputKeyDown",value:function(e){"Enter"===e.key&&this._handleDateText(e)}},{key:"_handleDateInputBlur",value:function(e){this._handleDatePickerBlurOrFocusOut(e),this._isOpen||this._handleDateText(e)}},{key:"_handleDateInputFocus",value:function(){this._open(this.viewModel.value,!1)}},{key:"_handleDateText",value:function(e){var t,n=e.currentTarget;try{t=function(e,t){var n=Object(m.c)(t),r=Date.now(),i=n.formatToParts(r),a=new Set;i.filter((function(e){return"literal"===e.type})).forEach((function(e){var t=e.value;return a.add(t)}));for(var o=0,s={};i.length>0;)for(var c=i.shift(),u=c.type,l=c.value,h=0;h<l.length;h++,o++){var f=e.charAt(o);if(a.has(f)){o++;break}if("literal"===u)break;s[u]||(s[u]=[]),s[u].push(f)}var d={};try{d.day=Ue(s.day.join("")),d.month=Ue(s.month.join(""))-1,d.year=Ue((s.year||s.relatedYear).join(""))}catch(e){throw Be(t)}if(isNaN(d.day)||isNaN(d.month)||isNaN(d.year))throw Be(t);return d}(n.value,Qe)}catch(e){return $e.warn(e),void(n.value=Object(m.b)(this.viewModel.value,Qe))}var r=this._moment(t);r.isValid()?(this.viewModel.value=r.toDate(),this._activeDate=r):n.value=Object(m.b)(this.viewModel.value,Qe)}},{key:"_focusSelectedOrClosed",value:function(e){this._closedByUserAction&&(this._closedByUserAction=!1,e.focus())}},{key:"_handleDatePickerKeydown",value:function(e){"Escape"===Object(y.a)(e)&&(this._closedByUserAction=!0,this._close(),e.preventDefault(),e.stopPropagation())}},{key:"_renderCalendar",value:function(){var e=this._activeDate,t=this._moment(this.viewModel.value);return Object(x.a)("div",{afterCreate:O.g,bind:this,class:this.classes("esri-date-picker__calendar",Je),"data-node-ref":"_calendarNode",id:this._getCalendarId(),key:"esri-date-picker__calendar",onkeydown:this._handleDatePickerKeydown},this._renderMonthPicker(e),this._renderDayPicker(e,t),this._renderYearPicker(e))}},{key:"_getCalendarId",value:function(){return"date-picker__calendar--".concat(this.id)}},{key:"_handleDatePickerBlurOrFocusOut",value:function(e){if(e.currentTarget===e.target){var t=e.relatedTarget;this._calendarNode.contains(t)||this._rootNode.contains(t)||this._close()}}},{key:"_renderMonthPicker",value:function(e){var t=Object(O.e)(),n=t?Ye:We,r=t?We:Ye,i=this._moment.months().map((function(t,n){var r=e.month()===n;return Object(x.a)("option",{selected:r},t)})),a=this.messages;return Object(x.a)("div",{class:"esri-date-picker__month-picker"},Object(x.a)("div",{"aria-label":a.goToPreviousMonth,bind:this,class:Ke,onblur:this._handleDatePickerBlur,onclick:this._setPreviousMonth,onfocusout:this._handleDatePickerFocusOut,onkeydown:this._setPreviousMonth,role:"button",tabIndex:0,title:a.goToPreviousMonth},Object(x.a)("span",{"aria-hidden":"true",class:n})),Object(x.a)("select",{"aria-live":"assertive","aria-label":a.selectMonth,bind:this,class:this.classes("esri-date-picker__month-dropdown",Xe),id:"".concat(this.id,"__month-picker"),onblur:this._handleDatePickerBlur,onchange:this._setMonth,onfocusout:this._handleDatePickerFocusOut,onkeydown:this._setMonth,title:a.selectMonth},i),Object(x.a)("div",{"aria-label":a.goToNextMonth,bind:this,class:Ke,onblur:this._handleDatePickerBlur,onclick:this._setNextMonth,onfocusout:this._handleDatePickerFocusOut,onkeydown:this._setNextMonth,role:"button",tabIndex:0,title:a.goToNextMonth},Object(x.a)("span",{"aria-hidden":"true",class:r})))}},{key:"_renderDayPicker",value:function(e,t){var n=this,r=e.clone().day(this._moment.localeData().firstDayOfWeek()),i=this._getWeekLabels(r),a=this._getDayId(e),o=this._renderMonth(e,t);return Object(x.a)("div",{afterCreate:this._handleDayPickerCreate,"aria-activedescendant":a,"aria-labelledby":"".concat(this.id,"__month-picker ").concat(this.id,"__selected-year"),bind:this,class:"esri-date-picker__day-picker",id:"".concat(this.id,"__day-picker"),onblur:this._handleDatePickerBlur,onfocusout:this._handleDatePickerFocusOut,onkeydown:this._handleDayPickerKeydown,role:"grid",tabIndex:0},Object(x.a)("div",{class:Ge,role:"row"},i.map((function(e){return Object(x.a)("div",{"aria-label":e.name,class:n.classes(qe,"esri-date-picker__day-item--header"),role:"columnheader",title:e.name},e.abbr)}))),o)}},{key:"_getDayId",value:function(e){return"".concat(this.id,"__").concat(Object(m.b)(e.valueOf(),Qe))}},{key:"_handleDayPickerCreate",value:function(e){this._requestDayPickerFocusOnCreate&&(this._requestDayPickerFocusOnCreate=!1,e.focus())}},{key:"_getWeekLabels",value:function(e){for(var t=[],n={weekday:"long"},r={weekday:"narrow"},i=0;i<7;i++)t.push({name:Object(m.b)(e.valueOf(),n),abbr:Object(m.b)(e.valueOf(),r)}),e.add(1,"day");return t}},{key:"_handleDayPickerKeydown",value:function(e){var t=e.ctrlKey,n=e.shiftKey,r=Object(y.a)(e),i=this._activeDate;if(-1!==Ze.indexOf(r)){if("ArrowLeft"===r)i.subtract(1,"day");else if("ArrowRight"===r)i.add(1,"day");else if("ArrowUp"===r)i.subtract(1,"week");else if("ArrowDown"===r)i.add(1,"week");else if("PageUp"===r){var a=n?"year":"month";i.subtract(1,a)}else if("PageDown"===r){var o=n?"year":"month";i.add(1,o)}else if("Home"===r){var s=t?"year":"month";i.startOf(s)}else if("End"===r){var c=t?"year":"month";i.endOf(c)}else"Enter"!==r&&" "!==r||(this.viewModel.value=i.toDate(),this._closedByUserAction=!0,this._close());e.preventDefault(),e.stopPropagation()}}},{key:"_renderMonth",value:function(e,t){for(var n=this._moment(),i=e.clone().startOf("month"),a=e.clone().endOf("month"),o=i.clone().subtract(i.weekday(),"day"),s=[],c=0;c<6;c++){for(var u=[],l=0;l<7;l++){var h,f=o.date(),d=o.isSame(e,"day"),p=o.isSame(t,"day"),b=this._getDayId(o),v=(h={},Object(r.a)(h,"esri-date-picker__day-item--nearby-month",!o.isBetween(i,a,null,"[]")),Object(r.a)(h,"esri-date-picker__day-item--today",o.isSame(n,"day")),Object(r.a)(h,"esri-date-picker__day-item--active",d),Object(r.a)(h,"esri-date-picker__day-item--selected",p),h);u.push(Object(x.a)("div",{"aria-label":f.toString(),"aria-selected":d.toString(),bind:this,class:this.classes(qe,v),"data-iso-date":o.toISOString(),id:b,onclick:this._handleSelectedDate,onkeydown:this._handleSelectedDate,role:"gridcell"},f)),o.add(1,"day")}s.push(Object(x.a)("div",{class:Ge,role:"row"},u))}return s}},{key:"_renderYearPicker",value:function(e){var t={year:"numeric"},n=e.clone(),r=Object(m.b)(n.valueOf(),t),i=Object(m.b)(n.add(1,"year").valueOf(),t),a=Object(m.b)(n.subtract(2,"year").valueOf(),t),o=this.messages;return Object(x.a)("div",{class:"esri-date-picker__year-picker"},Object(x.a)("div",{"aria-label":o.goToPreviousYear,bind:this,class:He,onblur:this._handleDatePickerBlur,onclick:this._setPreviousYear,onfocusout:this._handleDatePickerFocusOut,onkeydown:this._setPreviousYear,tabIndex:0,title:o.goToPreviousYear},a),Object(x.a)("div",{class:this.classes(He,"esri-date-picker__year-picker-item--selected"),id:"".concat(this.id,"__selected-year")},r),Object(x.a)("div",{"aria-label":o.goToNextYear,bind:this,class:He,onblur:this._handleDatePickerBlur,onclick:this._setNextYear,onfocusout:this._handleDatePickerFocusOut,onkeydown:this._setNextYear,tabIndex:0,title:o.goToNextYear},i))}},{key:"_toggle",value:function(){this._isOpen?this._close():this._open(this.viewModel.value)}},{key:"_setMonth",value:function(e){var t=e.target.value;this._activeDate.month(t),this.commitOnMonthChange&&(this.viewModel.value=this._activeDate.toDate())}},{key:"_close",value:function(){this._activeDate=null,this._isOpen=!1,this._calendarPopover.open=!1}},{key:"_open",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._activeDate=this._moment(e),this._isOpen=!0,this._calendarPopover.open=!0,this._requestDayPickerFocusOnCreate=t}},{key:"_setPreviousMonth",value:function(){this._activeDate.subtract(1,"month"),this.commitOnMonthChange&&(this.viewModel.value=this._activeDate.toDate())}},{key:"_setNextMonth",value:function(){this._activeDate.add(1,"month"),this.commitOnMonthChange&&(this.viewModel.value=this._activeDate.toDate())}},{key:"_setPreviousYear",value:function(){this._activeDate.subtract(1,"year")}},{key:"_setNextYear",value:function(){this._activeDate.add(1,"year")}},{key:"_handleSelectedDate",value:function(e){var t=e.target;this.viewModel.value=this._moment(t.getAttribute("data-iso-date")).toDate(),this._closedByUserAction=!0,this._close()}}]),n}(k.a);Object(f.a)([Object(p.b)(),Object(_.a)()],nt.prototype,"dateInputEnabled",void 0),Object(f.a)([Object(p.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],nt.prototype,"label",void 0),Object(f.a)([Object(p.b)(),Object(_.a)(),Object(w.a)("esri/widgets/support/t9n/DatePicker")],nt.prototype,"messages",void 0),Object(f.a)([Object(b.a)("viewModel.value")],nt.prototype,"value",void 0),Object(f.a)([Object(p.b)()],nt.prototype,"commitOnMonthChange",void 0),Object(f.a)([Object(p.b)({type:ze}),Object(_.a)("viewModel.value")],nt.prototype,"viewModel",void 0),Object(f.a)([Object(j.a)()],nt.prototype,"_toggle",null),Object(f.a)([Object(j.a)()],nt.prototype,"_setPreviousMonth",null),Object(f.a)([Object(j.a)()],nt.prototype,"_setNextMonth",null),Object(f.a)([Object(j.a)()],nt.prototype,"_setPreviousYear",null),Object(f.a)([Object(j.a)()],nt.prototype,"_setNextYear",null),Object(f.a)([Object(j.a)()],nt.prototype,"_handleSelectedDate",null);nt=Object(f.a)([Object(v.a)("esri.widgets.support.DatePicker")],nt)},function(e,t,n){"use strict";var r=n(32),i=n(2),a=n(3),o=n(40),s=n(5),c=n(6),u=n(0),l=(n(15),n(14)),h=(n(18),n(1)),f=n(41),d=n(8),p=(n(12),n(21),n(22),n(122)),b=n(49),v=n(128),y=(n(153),n(29)),m=n(105),g=n(64),O=n(82),j=n(88),w=n(33),_=n(207),x=n(11),k=n(94),S=n(508),E=n(489),T=n(28),M=n(10),C=n(7),A=n.n(C),P=n(16),I=n(146),D=n(96),L=n(450),R=n(38),N=n(62),F=n(411),z=n(86),V=n(144),U=n(167),B=n(80),G=n(507),q=n(37),H=n(27),W=n(481),Y=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).digitSeparator=!1,r.dateFormat=null,r.places=null,r}return n}(H.a);Object(u.a)([Object(h.b)()],Y.prototype,"digitSeparator",void 0),Object(u.a)([Object(h.b)({json:{read:{source:"dateFormat",reader:W.b}}})],Y.prototype,"dateFormat",void 0),Object(u.a)([Object(h.b)()],Y.prototype,"places",void 0);var J=Y=Object(u.a)([Object(d.a)("esri.widgets.FeatureForm.Format")],Y),K=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).description=null,r.domain=null,r.editable=!0,r.editorType=null,r.format=null,r.hint=null,r.includeTime=!0,r.label=null,r.maxLength=-1,r.minLength=-1,r.name=null,r.required=!1,r.requiredExpression=null,r.visibilityExpression=null,r}return n}(q.a);Object(u.a)([Object(h.b)()],K.prototype,"description",void 0),Object(u.a)([Object(h.b)()],K.prototype,"domain",void 0),Object(u.a)([Object(h.b)()],K.prototype,"editable",void 0),Object(u.a)([Object(h.b)()],K.prototype,"editorType",void 0),Object(u.a)([Object(h.b)({type:J})],K.prototype,"format",void 0),Object(u.a)([Object(h.b)()],K.prototype,"hint",void 0),Object(u.a)([Object(h.b)()],K.prototype,"includeTime",void 0),Object(u.a)([Object(h.b)()],K.prototype,"label",void 0),Object(u.a)([Object(h.b)()],K.prototype,"maxLength",void 0),Object(u.a)([Object(h.b)()],K.prototype,"minLength",void 0),Object(u.a)([Object(h.b)()],K.prototype,"name",void 0),Object(u.a)([Object(h.b)()],K.prototype,"required",void 0),Object(u.a)([Object(h.b)()],K.prototype,"requiredExpression",void 0),Object(u.a)([Object(h.b)()],K.prototype,"visibilityExpression",void 0);var X=K=Object(u.a)([Object(d.a)("esri.widgets.FeatureForm.FieldConfig")],K),Q=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).description=null,r.fieldConfig=null,r.label=null,r.state="expanded",r.visibilityExpression=null,r}return Object(a.a)(n,[{key:"castFieldConfig",value:function(e){return e?e.map((function(e){return e.declaredClass?e:new X(e)})):null}}]),n}(q.a);Object(u.a)([Object(h.b)()],Q.prototype,"description",void 0),Object(u.a)([Object(h.b)()],Q.prototype,"fieldConfig",void 0),Object(u.a)([Object(N.a)("fieldConfig")],Q.prototype,"castFieldConfig",null),Object(u.a)([Object(h.b)()],Q.prototype,"label",void 0),Object(u.a)([Object(h.b)()],Q.prototype,"state",void 0),Object(u.a)([Object(h.b)()],Q.prototype,"visibilityExpression",void 0);var Z=Q=Object(u.a)([Object(d.a)("esri.widgets.FeatureForm.FieldGroupConfig")],Q),$=n(269),ee={type:"number"},te={type:"number",intlOptions:{notation:"scientific"}},ne={type:"date",intlOptions:{day:"2-digit",month:"2-digit",year:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}},re=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).arcade=null,r.config=null,r.feature=null,r.field=null,r.layer=null,r.description=null,r.editorType=null,r.error=null,r.format=null,r.group=null,r.hint=null,r.messages=null,r.name=null,r}return Object(a.a)(n,[{key:"compiledFunc",get:function(){var e,t=this.arcade;return t&&t.arcadeUtils.createFunction(null==(e=this.config)?void 0:e.visibilityExpression)}},{key:"compiledRequiredFunc",get:function(){var e,t=this.arcade;return t&&t.arcadeUtils.createFunction(null==(e=this.config)?void 0:e.requiredExpression)}},{key:"evaluatedRequirement",get:function(){var e=this.compiledRequiredFunc;if(!e)return null;var t=this.arcade;return t.arcadeUtils.executeFunction(e,t.arcadeUtils.createExecContext(this.feature))}},{key:"evaluatedVisibility",get:function(){var e=this.compiledFunc;if(!e)return null;var t=this.arcade;return t.arcadeUtils.executeFunction(e,t.arcadeUtils.createExecContext(this.feature))}},{key:"domain",get:function(){var e,t,n=this.layer.typeIdField,r=n===this.name,i=null==(e=this.field)?void 0:e.domain;if(r&&!i)return new $.a({name:"__internal-type-based-coded-value-domain__",codedValues:this.layer.types.map((function(e){return{code:e.id,name:e.name}}))});var a=this.feature,o=n&&this.layer.getFieldDomain(this.name,{feature:a})||i,s=null==(t=this.config)?void 0:t.domain;return this._isDomainCompatible(s)?s:o}},{key:"editable",get:function(){var e;return this.layer.capabilities.operations.supportsEditing&&this.field.editable&&!1!==(null==(e=this.config)?void 0:e.editable)}},{key:"errorMessage",get:function(){return this._toErrorMessage()}},{key:"includeTime",get:function(){var e,t=null==(e=this.config)?void 0:e.includeTime;return void 0===t||t}},{key:"label",get:function(){var e;return(null==(e=this.config)?void 0:e.label)||this.field.alias||this.field.name}},{key:"maxLength",get:function(){var e,t;if("date"===this.type)return-1;var n=null==(e=this.field)?void 0:e.length,r=null==(t=this.config)?void 0:t.maxLength;return!isNaN(r)&&r>=-1&&(-1===n||r<=n)?r:n}},{key:"minLength",get:function(){var e,t;if("date"===this.type)return-1;var n=null==(e=this.field)?void 0:e.length,r=null==(t=this.config)?void 0:t.minLength;return!isNaN(r)&&r>=-1&&(-1===n||r<=n)?r:-1}},{key:"required",get:function(){var e,t;return!!this.editable&&(!(null==(e=this.field)?void 0:e.nullable)||("boolean"==typeof this.evaluatedRequirement?this.evaluatedRequirement:!0===(null==(t=this.config)?void 0:t.required)))}},{key:"type",get:function(){var e=this.field;return Object(b.v)(e)?"number":Object(b.w)(e)?"text":Object(b.u)(e)?"date":"unsupported"}},{key:"valid",get:function(){var e=this.editable?this._validate():null;return this._set("error",e),null===e}},{key:"value",get:function(){return this._get("value")},set:function(e){this.notifyChange("evaluatedVisibility"),this._set("value",e)}},{key:"visible",get:function(){return!this._isEditorField()&&("boolean"==typeof this.evaluatedVisibility?this.evaluatedVisibility:!!this.config||this._shownByDefault())}},{key:"_isDomainCompatible",value:function(e){var t=this.field;if("coded-value"===(null==e?void 0:e.type)){var n=typeof e.codedValues[0].code;if("string"===n&&Object(b.w)(t)||"number"===n&&Object(b.v)(t))return!0}return!!("range"===(null==e?void 0:e.type)&&Object(b.v)(t)||Object(b.u)(t))}},{key:"_validate",value:function(){var e=this.domain,t=this.field,n=this.minLength,r=this.required,i=this.type,a=this.value;return"text"===i&&n>-1&&"string"==typeof a&&a.length<n?"length-validation-error::too-short":e?null!==a||r?Object(I.e)(e,a):null:r&&null===a?b.b.INVALID_TYPE:Object(b.z)(t,a)}},{key:"_shownByDefault",value:function(){var e,t=null==(e=this.field)?void 0:e.type;return"oid"!==t&&"global-id"!==t&&!this._isGeometryField()}},{key:"_isEditorField",value:function(){return Object(b.o)(this.layer).indexOf(this.name)>-1}},{key:"_isGeometryField",value:function(){return Object(b.p)(this.layer).indexOf(this.name)>-1}},{key:"_toErrorMessage",value:function(){var e=this.domain,t=this.field,n=this.messages,r=this.minLength,i=this.value,a=this.required,o=this.type,s=this.error;if(a&&null===i)return n.validationErrors.cannotBeNull;if(s===I.a.VALUE_OUT_OF_RANGE||s===b.a.OUT_OF_RANGE){var c=Object(I.c)(e)||Object(b.s)(t);return Object(v.a)(n.validationErrors.outsideRange,c,{format:{max:"date"===o?ne:c.isInteger?ee:te,min:"date"===o?ne:c.isInteger?ee:te}})}return s===I.a.INVALID_CODED_VALUE?n.validationErrors.invalidCodedValue:s===b.b.INVALID_TYPE?n.validationErrors.invalidType:"length-validation-error::too-short"===s?Object(v.a)(n.validationErrors.tooShort,{min:r}):null}}]),n}(q.a);Object(u.a)([Object(h.b)()],re.prototype,"arcade",void 0),Object(u.a)([Object(h.b)({dependsOn:["arcade","config.visibilityExpression"]})],re.prototype,"compiledFunc",null),Object(u.a)([Object(h.b)({dependsOn:["arcade","config.requiredExpression"]})],re.prototype,"compiledRequiredFunc",null),Object(u.a)([Object(h.b)()],re.prototype,"config",void 0),Object(u.a)([Object(h.b)({dependsOn:["compiledRequiredFunc","feature"]})],re.prototype,"evaluatedRequirement",null),Object(u.a)([Object(h.b)({dependsOn:["compiledFunc","feature"]})],re.prototype,"evaluatedVisibility",null),Object(u.a)([Object(h.b)()],re.prototype,"feature",void 0),Object(u.a)([Object(h.b)()],re.prototype,"field",void 0),Object(u.a)([Object(h.b)()],re.prototype,"layer",void 0),Object(u.a)([Object(h.b)({aliasOf:"config.description"})],re.prototype,"description",void 0),Object(u.a)([Object(h.b)({dependsOn:["config","feature","field","layer"]})],re.prototype,"domain",null),Object(u.a)([Object(h.b)({dependsOn:["config","field","layer"]})],re.prototype,"editable",null),Object(u.a)([Object(h.b)({aliasOf:"config.editorType"})],re.prototype,"editorType",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],re.prototype,"error",void 0),Object(u.a)([Object(h.b)({dependsOn:["error","messages","value"],autoTracked:!1})],re.prototype,"errorMessage",null),Object(u.a)([Object(h.b)({aliasOf:"config.format"})],re.prototype,"format",void 0),Object(u.a)([Object(h.b)()],re.prototype,"group",void 0),Object(u.a)([Object(h.b)({aliasOf:"config.hint"})],re.prototype,"hint",void 0),Object(u.a)([Object(h.b)({dependsOn:["config.includeTime"]})],re.prototype,"includeTime",null),Object(u.a)([Object(h.b)({dependsOn:["field","config"]})],re.prototype,"label",null),Object(u.a)([Object(h.b)({dependsOn:["field.length","config"]})],re.prototype,"maxLength",null),Object(u.a)([Object(h.b)({dependsOn:["field.length","config"]})],re.prototype,"minLength",null),Object(u.a)([Object(h.b)()],re.prototype,"messages",void 0),Object(u.a)([Object(h.b)({aliasOf:"field.name"})],re.prototype,"name",void 0),Object(u.a)([Object(h.b)({dependsOn:["config","evaluatedRequirement","field"]})],re.prototype,"required",null),Object(u.a)([Object(h.b)({dependsOn:["field"]})],re.prototype,"type",null),Object(u.a)([Object(h.b)({dependsOn:["config","domain","field","layer","value"]})],re.prototype,"valid",null),Object(u.a)([Object(h.b)({value:null})],re.prototype,"value",null),Object(u.a)([Object(h.b)({dependsOn:["config","evaluatedVisibility","field","layer"]})],re.prototype,"visible",null);var ie=re=Object(u.a)([Object(d.a)("esri.widgets.FeatureForm.InputField")],re),ae=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).arcade=null,r.config=null,r.description=null,r.feature=null,r.label=null,r.state=null,r.visibilityExpression=null,r}return Object(a.a)(n,[{key:"compiledFunc",get:function(){var e=this.arcade;return e&&e.arcadeUtils.createFunction(this.visibilityExpression)}},{key:"evaluatedVisibility",get:function(){var e=this.compiledFunc;if(e){var t=this.arcade;return t.arcadeUtils.executeFunction(e,t.arcadeUtils.createExecContext(this.feature))}}},{key:"inputFields",get:function(){return this._get("inputFields")},set:function(e){var t=this;this.handles.removeAll(),e&&this.handles.add(e.map((function(e){return e.watch("visible",t._dirtyEvaluatedVisibility)}))),this._set("inputFields",e)}},{key:"visible",get:function(){return!1!==this.evaluatedVisibility&&this.inputFields&&this.inputFields.some((function(e){return e.visible}))}},{key:"_dirtyEvaluatedVisibility",value:function(){this.visibilityExpression&&this.notifyChange("evaluatedVisibility")}}]),n}(Object(m.b)(q.a));Object(u.a)([Object(h.b)()],ae.prototype,"arcade",void 0),Object(u.a)([Object(h.b)({dependsOn:["arcade","visibilityExpression"]})],ae.prototype,"compiledFunc",null),Object(u.a)([Object(h.b)()],ae.prototype,"config",void 0),Object(u.a)([Object(h.b)({dependsOn:["compiledFunc","feature"]})],ae.prototype,"evaluatedVisibility",null),Object(u.a)([Object(f.a)("config.description")],ae.prototype,"description",void 0),Object(u.a)([Object(h.b)()],ae.prototype,"feature",void 0),Object(u.a)([Object(h.b)()],ae.prototype,"inputFields",null),Object(u.a)([Object(f.a)("config.label")],ae.prototype,"label",void 0),Object(u.a)([Object(f.a)("config.state")],ae.prototype,"state",void 0),Object(u.a)([Object(f.a)("config.visibilityExpression")],ae.prototype,"visibilityExpression",void 0),Object(u.a)([Object(h.b)({dependsOn:["evaluatedVisibility","inputFields"]})],ae.prototype,"visible",null);var oe=ae=Object(u.a)([Object(d.a)("esri.widgets.FeatureForm.InputFieldGroup")],ae),se=n(266);function ce(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return e.map((function(e){if("field"===e.type)return function(e,t,n){var r=e.description,i=e.domain,a=e.editable,o=e.fieldName,s=e.hint,c=e.input,u=e.label,l=e.requiredExpression,h=e.visibilityExpression,f=t[l]||null,d=t[h]||null,p=new X({description:r,domain:i,editable:a,hint:s,label:u,name:o,requiredExpression:f,visibilityExpression:d});if(c)if("text-area"===c.type||"text-box"===c.type)p.editorType=c.type,p.minLength=c.minLength,p.maxLength=c.maxLength;else if("datetime-picker"===c.type){p.editorType=c.type,p.includeTime=c.includeTime;var b=c.max,v=c.min;if(b||v){var y="range"===(null==i?void 0:i.type)?Math.min(null==b?void 0:b.getTime(),i.maxValue):null==b?void 0:b.getTime(),m="range"===(null==i?void 0:i.type)?Math.max(null==v?void 0:v.getTime(),i.minValue):null==v?void 0:v.getTime();p.domain=new se.a({maxValue:y,minValue:m,name:"__internal-range-domain-based-on-datetime-picker-input__"})}}else n.push({type:"unsupported-input-type",details:c});return p}(e,t,n);if("group"===e.type){if(!r)return n.push({type:"nested-group",details:e}),null;var i=t[e.visibilityExpression]||null;return new Z({description:e.description,state:e.initialState,fieldConfig:ce(e.elements,t,n,!1),label:e.label,visibilityExpression:i})}return n.push({type:"unsupported-element-type",details:e}),null})).filter((function(e){return!!e}))}function ue(e){return!!e.inputFields}function le(e){return!!e.fieldConfig}var he=new B.a({attributes:{}}),fe="esri.widgets.FeatureForm.FeatureFormViewModel",de=l.a.getLogger(fe),pe=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._arcade=null,r._fieldPool=new F.a(ie),r._fieldGroupPool=new F.a(oe),r._featureClone=he.clone(),r._needsArcade=!1,r.messages=null,r.strict=!1,r}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this,t=function(){var t=Object(P.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(U.a)("esri/widgets/FeatureForm/t9n/FeatureForm");case 2:return t.abrupt("return",e.messages=t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),this.handles.add(Object(D.c)(t));var n=Object(y.a)(this,"fieldConfig",function(){var t=Object(P.a)(A.a.mark((function t(r){var i,a,o,s,c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=[],r&&r.forEach((function(e){i.push(e.visibilityExpression),le(e)?e.fieldConfig.forEach((function(e){var t=e.requiredExpression,n=e.visibilityExpression;i.push(t,n)})):i.push(e.requiredExpression)})),a=i.filter((function(e){return!!e})),!(o=a.length>0)){t.next=15;break}return t.next=6,Object(V.e)();case 6:if(s=t.sent,c=s.arcadeUtils,t.t0=a.some((function(e){return c.hasGeometryOperations(e)})),!t.t0){t.next=13;break}return t.next=12,c.enableGeometryOperations();case 12:n.remove();case 13:e._arcade=s,e.notifyChange("inputFields");case 15:e._needsArcade=o;case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());this.handles.add(n)}},{key:"destroy",value:function(){this.fieldConfig=null,this.feature=null,this.layer=null,this._fieldPool.destroy(),this._fieldGroupPool.destroy()}},{key:"_allInputFields",get:function(){return this.inputFields.reduce((function(e,t){return ue(t)?[].concat(Object(R.a)(e),Object(R.a)(t.inputFields)):[].concat(Object(R.a)(e),[t])}),[])}},{key:"_inputFieldCache",get:function(){var e=this,t=this._get("_inputFieldCache")||new Map;return t.forEach((function(t){return e._disposeInputOrGroup(t)})),t.clear(),(this.get("layer.fields")||[]).forEach((function(n){return t.set(n,e._fieldPool.acquire())})),t}},{key:"_inputFieldGroupCache",get:function(){var e=this,t=this._get("_inputFieldGroupCache")||new Map;return t.forEach((function(t){return e._disposeInputOrGroup(t)})),t.clear(),(this.fieldConfig||[]).filter(le).forEach((function(n){return t.set(n,e._fieldGroupPool.acquire())})),t}},{key:"description",get:function(){var e;return null==(e=this.formTemplate)?void 0:e.description},set:function(e){void 0===e?this._clearOverride("description"):this._override("description",e)}},{key:"feature",get:function(){return this._get("feature")},set:function(e){this._featureClone=e?e.clone():he.clone(),this._set("feature",e)}},{key:"fieldConfig",get:function(){var e=this.formTemplate;if(!e)return null;var t=function(e){var t,n={},r=[];return null==(t=e.expressionInfos)||t.map((function(e){return n[e.name]=e.expression})),{config:ce(e.elements,n,r),encounteredUnsupportedTypes:r}}(e),n=t.config,r=t.encounteredUnsupportedTypes;return r.length>0&&de.warn("form-info::unsupported-type","encountered unsupported elements/types when parsing form info",r),n},set:function(e){e?this._override("fieldConfig",e):this._clearOverride("fieldConfig")}},{key:"castFieldConfig",value:function(e){return e?e.map((function(e){return e instanceof X||e instanceof Z?e:le(e)?new Z(e):new X(e)})):null}},{key:"formTemplate",get:function(){var e;return null==(e=this.layer)?void 0:e.formTemplate},set:function(e){void 0===e?this._clearOverride("formTemplate"):this._override("formTemplate",e)}},{key:"inputFields",get:function(){var e=this,t=this._arcade,n=this._inputFieldCache,r=this._inputFieldGroupCache,i=this._featureClone,a=this.messages,o=this._needsArcade,s=this.layer,c=this.state,u=i.clone();if("ready"!==c||o&&!t)return[];var l=this.get("layer.fields")||[],h=this.fieldConfig||[];return(0!==h.length?h.map((function(i){if(le(i)){var o=r.get(i),c=i.fieldConfig.map((function(r){var i=l.find((function(e){return e.name===r.name})),c=n.get(i);return c.set({arcade:t,field:i,config:r,feature:u,group:o,layer:s,messages:a,value:e.getValue(i.name)}),c})).filter((function(e){return e.visible}));return o.set({arcade:t,config:i,feature:u,inputFields:c}),o}var h=l.find((function(e){return e.name===i.name})),f=n.get(h);return f.set({arcade:t,field:h,config:i,feature:u,group:null,layer:s,messages:a,value:e.getValue(h.name)}),f})):l.map((function(r){var i=n.get(r);return i.set({arcade:t,config:null,field:r,feature:u,group:null,layer:s,messages:a,value:e.getValue(r.name)}),i}))).filter((function(e){return e.visible}))}},{key:"layer",get:function(){return this.get("feature.layer")},set:function(e){e?this._override("layer",e):this._clearOverride("layer")}},{key:"state",get:function(){return this.messages&&this.get("layer.loaded")?"ready":"disabled"}},{key:"title",get:function(){var e;return null==(e=this.formTemplate)?void 0:e.title},set:function(e){void 0===e?this._clearOverride("title"):this._override("title",e)}},{key:"valid",get:function(){var e=this._allInputFields;return e.length>0&&e.every((function(e){return e.valid}))}},{key:"findField",value:function(e){return this._allInputFields.find((function(t){return t.name===e}))}},{key:"getValue",value:function(e){var t=this._featureClone;return t.attributes?t.get("attributes.".concat(e)):void 0}},{key:"setValue",value:function(e,t){var n=this,r=this._featureClone,i=this.strict;if(r.attributes){var a=this.findField(e);if(t=""===t?null:t,a&&r.attributes[e]!==t){if(a.value=t,this.get("layer.typeIdField")===a.name){var o=new Set;this.layer.types.forEach((function(e){return Object.keys(e.domains).forEach((function(e){return o.add(e)}))})),o.forEach((function(e){var t=n.findField(e);t&&t.notifyChange("domain")}))}i&&!a.valid||(r.attributes[e]=t,this.notifyChange("inputFields"),this._emitChangeEvent(a))}}}},{key:"getValues",value:function(){return Object(M.a)({},this._featureClone.attributes)}},{key:"submit",value:function(){var e=this._allInputFields,t=e.filter((function(e){return e.valid})).map((function(e){return e.name})),n=e.filter((function(e){return!e.valid})).map((function(e){return e.name})),r=this.getValues();this.emit("submit",{valid:t,invalid:n,values:r})}},{key:"_disposeInputOrGroup",value:function(e){ue(e)?this._disposeGroup(e):this._disposeInput(e)}},{key:"_disposeGroup",value:function(e){var t=this;e.inputFields.forEach((function(e){return t._disposeInput(e)})),this._fieldGroupPool.release(e)}},{key:"_disposeInput",value:function(e){this._fieldPool.release(e)}},{key:"_emitChangeEvent",value:function(e){var t=e.name,n=e.valid,r=e.value;this.emit("value-change",{layer:this.layer,feature:this.feature,fieldName:t,value:r,valid:n})}}]),n}(Object(m.b)(z.a.EventedAccessor));Object(u.a)([Object(h.b)({readOnly:!0,dependsOn:["inputFields"]})],pe.prototype,"_allInputFields",null),Object(u.a)([Object(h.b)({dependsOn:["layer.fields"],readOnly:!0})],pe.prototype,"_inputFieldCache",null),Object(u.a)([Object(h.b)({dependsOn:["fieldConfig"],readOnly:!0})],pe.prototype,"_inputFieldGroupCache",null),Object(u.a)([Object(h.b)({dependsOn:["formTemplate"]})],pe.prototype,"description",null),Object(u.a)([Object(h.b)()],pe.prototype,"feature",null),Object(u.a)([Object(h.b)({dependsOn:["formTemplate"]})],pe.prototype,"fieldConfig",null),Object(u.a)([Object(N.a)("fieldConfig")],pe.prototype,"castFieldConfig",null),Object(u.a)([Object(h.b)({dependsOn:["layer?.formTemplate"],type:G.a})],pe.prototype,"formTemplate",null),Object(u.a)([Object(h.b)({readOnly:!0,dependsOn:["messages","feature","fieldConfig","layer.fields","layer.loaded","state"],autoTracked:!1})],pe.prototype,"inputFields",null),Object(u.a)([Object(h.b)({dependsOn:["feature.layer"]})],pe.prototype,"layer",null),Object(u.a)([Object(h.b)()],pe.prototype,"messages",void 0),Object(u.a)([Object(h.b)({dependsOn:["messages","layer.loaded"]})],pe.prototype,"state",null),Object(u.a)([Object(h.b)()],pe.prototype,"strict",void 0),Object(u.a)([Object(h.b)({dependsOn:["formTemplate"]})],pe.prototype,"title",null),Object(u.a)([Object(h.b)({dependsOn:["_allInputFields"]})],pe.prototype,"valid",null),Object(u.a)([Object(h.b)()],pe.prototype,"getValues",null),Object(u.a)([Object(h.b)()],pe.prototype,"submit",null);var be=pe=Object(u.a)([Object(d.a)(fe)],pe),ve="esri-feature-form__input",ye="esri-feature-form__input--disabled",me="esri-feature-form__description-text",ge="esri-feature-form__date-input-part",Oe="esri-feature-form__date-format-hint",je="esri-feature-form__group-header",we="esri-input",_e="esri-widget__heading";function xe(e){return e&&e.inputFields}var ke=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r))._activeDateEdit=null,a._activeInputName=null,a._fieldFocusNeeded=!1,a._moment=null,a._userUpdatedInputFieldNames=new Set,a.description=null,a.feature=null,a.fieldConfig=null,a.formTemplate=null,a.groupDisplay="all",a.label=void 0,a.layer=null,a.messages=null,a.strict=null,a.title=null,a.viewModel=new be,a._handleFormKeyDown=a._handleFormKeyDown.bind(Object(o.a)(a)),a._handleInputBlur=a._handleInputBlur.bind(Object(o.a)(a)),a._handleInputFocus=a._handleInputFocus.bind(Object(o.a)(a)),a._handleNumberInputMouseDown=a._handleNumberInputMouseDown.bind(Object(o.a)(a)),a._handleInputKeyDown=a._handleInputKeyDown.bind(Object(o.a)(a)),a._handleOptionChange=a._handleOptionChange.bind(Object(o.a)(a)),a._handleGroupClick=a._handleGroupClick.bind(Object(o.a)(a)),a._handleSubmit=a._handleSubmit.bind(Object(o.a)(a)),a._afterScrollerCreateOrUpdate=a._afterScrollerCreateOrUpdate.bind(Object(o.a)(a)),a}return Object(a.a)(n,[{key:"loadLocale",value:function(){var e=Object(P.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)();case 2:this._moment=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(){var e=this;this.own(this.watch("feature",(function(){var t=e._getFocusableInput("forward");e._activeInputName=t&&t.name,e._userUpdatedInputFieldNames.clear(),e._fieldFocusNeeded=!0})),this.on("submit",(function(t){if(t.invalid.length>0){var n=Object(r.a)(t.invalid,1)[0];t.invalid.forEach((function(t){return e._userUpdatedInputFieldNames.add(t)})),e._activeInputName=n,e._fieldFocusNeeded=!0,e.scheduleRender()}})))}},{key:"destroy",value:function(){this._userUpdatedInputFieldNames.clear(),this._userUpdatedInputFieldNames=null}},{key:"getValues",value:function(){return null}},{key:"submit",value:function(){return null}},{key:"render",value:function(){var e=this.viewModel.state;return Object(x.a)("div",{class:this.classes("esri-feature-form","esri-widget","esri-widget--panel")},"ready"===e?this.renderForm():null)}},{key:"renderForm",value:function(){var e=this.title?Object(x.a)("h2",{class:_e,key:"title"},this.title):null,t=this.description?Object(x.a)("p",{class:me,key:"description"},this.description):null,n=e||t?Object(x.a)("div",{class:"esri-feature-form__form-header"},e,t):null;return Object(x.a)("form",{class:"esri-feature-form__form",novalidate:!0,onsubmit:this._handleSubmit,onkeydown:this._handleFormKeyDown},n,this.renderFields())}},{key:"renderFields",value:function(){var e=this;return this.viewModel.inputFields.map((function(t,n){return xe(t)?e.renderGroup(t,n):e.renderLabeledField(t)}))}},{key:"renderGroup",value:function(e,t){var n=this,r=e.description,i=e.label,a=e.inputFields,o=e.state,s=this.viewModel.findField(this._activeInputName),c=!(!s||s.group!==e),u="".concat(this.id,"_group_").concat(t),l="".concat(this.id,"_group-label_").concat(t),h="".concat(this.id,"_group-description_").concat(t),f=r?Object(x.a)("p",{class:this.classes("esri-feature-form__group-description",me),id:h},r):null,d="sequential"===this.groupDisplay,p=d?c:"expanded"===o,b=p?"esri-icon-up":"esri-icon-down";return Object(x.a)("fieldset",{"aria-expanded":p.toString(),"aria-labelledby":l,"aria-describedby":r?h:"",class:this.classes("esri-feature-form__group",d?"esri-feature-form__group--sequential":null,p?null:"esri-feature-form__group--collapsed",c?"esri-feature-form__group--active":null),"data-group":e,id:u,key:t,onclick:this._handleGroupClick},Object(x.a)("button",{role:d?"presentation":void 0,class:je,type:"button",tabIndex:d?-1:0},Object(x.a)("div",{class:"esri-feature-form__group-title"},Object(x.a)("h4",{class:this.classes("esri-feature-form__group-label",_e),id:l},i),f),d?null:Object(x.a)("span",{class:this.classes(b,"esri-feature-form__group-toggle-icon")})),a.map((function(e){return n.renderLabeledField(e)})))}},{key:"_getFocusableInput",value:function(e,t){var n,r=this.viewModel._allInputFields,i="forward"===e?r:r.slice().reverse();if(t)if(xe(t))n=i.indexOf(t.inputFields[0]);else{var a;if(this._isFieldInClosedCollapsibleGroup(t)){var o=t.group.inputFields;a="forward"===e?o[o.length-1]:o[0]}else a=t;n=i.indexOf(a)+1}else n=0;for(var s=n;s<i.length;s++){var c=i[s];if(c.visible&&c.editable)return c}return null}},{key:"renderLabeledField",value:function(e){var t=e.label,n=e.layer,r=e.type;return Object(x.a)("label",{key:"".concat(n.id,"-").concat(e.name),class:"esri-feature-form__label"},[t,"unsupported"!==r?this.renderInputField(e):this.renderUnsupportedField(e),this.renderAuxiliaryText(e)])}},{key:"renderInputField",value:function(e){var t=this.viewModel,n=e.domain,r=e.editable,i=e.name,a=e.type,o=t.getValue(i),s=!r,c=this.getCommonInputProps(e);return n&&"coded-value"===n.type&&!s?this.renderSelectInputField(o,n.codedValues.map((function(e){return{value:e.code,name:e.name}})),c):"text"===a&&"text-area"===e.editorType||"rich-text"===e.editorType?Object(x.a)("textarea",Object.assign({},c)):"datetime-picker"===e.editorType||"date"===a?this.renderDateInputField(o,c):Object(x.a)("input",Object.assign({type:"text"===a?"text":"number"},c))}},{key:"renderDateInputField",value:function(e,t){var n=this._formatDate(0),r=n.date,i=n.time,a="".concat(this.id,"-").concat(t.key),o="".concat(a,"-date"),s="".concat(a,"-time"),c=t["data-field"],u=c.includeTime,l=this._formatDate(e),h=l.date,f=l.time;return Object(x.a)("div",{key:"".concat(t.key,"-date"),class:"esri-feature-form__date-input-container"},Object(x.a)("div",{class:this.classes(ge,u?null:"esri-feature-form__date-input-part--lone")},Object(x.a)("input",Object.assign({"aria-label":c.label,"aria-describedby":o,type:"text"},t,{"data-date-part":"date",class:this.classes(t.class,"esri-feature-form__input--date"),value:h})),Object(x.a)("div",{class:Oe,id:o},r)),u?Object(x.a)("div",{class:ge,key:"time-input"},Object(x.a)("input",Object.assign({"aria-describedby":s,"aria-label":c.label,type:"text"},t,{"data-date-part":"time",class:this.classes(t.class,"esri-feature-form__input--time"),value:f})),Object(x.a)("div",{class:Oe,id:s},i)):null)}},{key:"renderUnsupportedField",value:function(e){var t=this.viewModel.getValue(e.name);return Object(x.a)("input",{class:this.classes(we,ve,ye),disabled:!0,type:"text",value:"".concat(t)})}},{key:"renderSelectInputField",value:function(e,t,n){var r=!1,i=t.map((function(t){return t.value===e&&(r=!0),Object(x.a)("option",{value:"".concat(t.value),key:t.name},t.name)}));return null==e||""===e||r||i.unshift(Object(x.a)("option",{value:"".concat(e),key:"outlier-option"},e)),n["data-field"].required||i.unshift(Object(x.a)("option",{value:"",key:"empty-option"},this.messages.empty)),Object(x.a)("select",Object.assign({},n,{class:this.classes(n.class,"esri-select"),onchange:this._handleOptionChange}),i)}},{key:"renderAuxiliaryText",value:function(e){return this._userUpdatedInputFieldNames.has(e.name)&&!e.valid?Object(x.a)("div",{key:"error-message"},Object(x.a)("span",{class:this.classes("esri-feature-form__input-icon--invalid","esri-icon-notice-triangle")}),Object(x.a)("div",{class:"esri-feature-form__field-error-message"},e.errorMessage)):e.description?Object(x.a)("div",{key:"description",class:me},e.description):void 0}},{key:"getCommonInputProps",value:function(e){var t=this.groupDisplay,n=this.viewModel,r=e.editable,i=e.group,a=e.hint,o=e.maxLength,s=e.minLength,c=e.name,u=e.required,l=e.type,h=e.valid,f=n.getValue(c),d=this._userUpdatedInputFieldNames.has(c),p=!r,b="all"===t&&"collapsed"===(null==i?void 0:i.state);return Object(M.a)(Object(M.a)({afterCreate:this._afterScrollerCreateOrUpdate,afterUpdate:this._afterScrollerCreateOrUpdate,"aria-invalid":h?"false":"true",class:this.classes(we,ve,p?ye:null,d&&!h?"esri-feature-form__input--invalid":null),key:c,minlength:s>-1?"".concat(s):"",maxlength:o>-1?"".concat(o):""},this._getNumberFieldConstraints(e)),{},{disabled:p,value:null==f?"":"".concat(f),"data-field":e,onfocus:this._handleInputFocus,onblur:this._handleInputBlur,onkeydown:this._handleInputKeyDown,onmousedown:"number"===l?this._handleNumberInputMouseDown:null,required:u,tabIndex:b?-1:0,title:a})}},{key:"_isFieldInClosedCollapsibleGroup",value:function(e){var t;return"all"===this.groupDisplay&&!xe(e)&&"collapsed"===(null==e||null==(t=e.group)?void 0:t.state)}},{key:"_handleNumberInputMouseDown",value:function(e){var t=e.target;t.disabled||t.focus(),this.scheduleRender()}},{key:"_getNumberFieldConstraints",value:function(e){var t=Object(I.c)(e.domain)||Object(b.s)(e.field);return t&&t.max!==Number.MAX_VALUE&&t.min!==Number.MIN_VALUE?t:{min:null,max:null}}},{key:"_afterScrollerCreateOrUpdate",value:function(e){var t=e["data-field"],n=this.viewModel.findField(this._activeInputName);t.editable&&this._fieldFocusNeeded&&n===t&&(this._fieldFocusNeeded=!1,e.focus())}},{key:"_handleInputFocus",value:function(e){var t=e.target;this._activeInputName=t["data-field"].name}},{key:"_handleInputBlur",value:function(e){var t=e.target,n=t["data-field"],r=e.relatedTarget,i=r&&r["data-field"];if(this._syncDateEditsBeforeValueCommit(t),i&&"date"===n.type&&"date"===i.type&&n.field===i.field){if(""!==t.value&&""===r.value){var a=r.getAttribute("data-date-part");r.value=this._formatDate(Date.now())[a]}}else this._commitValue(t),this.scheduleRender()}},{key:"_commitValue",value:function(e){var t=e["data-field"];if(this._activeDateEdit){var n=this._activeDateEdit,r=n.date,i=n.time,a=this._getDateEditValue(t,"date"),o=this._getDateEditValue(t,"time"),s=""===a||""===o;if(r)r.input.value=s?"":a;if(i)i.input.value=s?"":o;if(this._activeDateEdit=null,r&&i)return void this._updateDateFieldValue(r.input,i.input)}this._updateFieldValue(e)}},{key:"_getDateEditValue",value:function(e,t){var n=this._activeDateEdit[t];if(n){if(""===n.value)return"";var r=this._parseDate(n.value,t);return r?this._formatDate(r.getTime())[t]:this._formatDate(e.value)[t]}}},{key:"_handleInputKeyDown",value:function(e){var t=e.key,n=e.altKey,r=e.ctrlKey,i=e.metaKey,a=e.shiftKey,o=e.target,s=o["data-field"];if("Tab"===t){var c=a?"backward":"forward",u=o.getAttribute("data-date-part");if(this._syncDateEditsBeforeValueCommit(o),"backward"===c&&"time"===u||"forward"===c&&"date"===u&&s.includeTime)return;this._commitValue(o);var l=this.viewModel.findField(s.name),h=this._getFocusableInput(c,l),f=l.group===(null==h?void 0:h.group);return this._activeInputName=null==h?void 0:h.name,void(h&&("sequential"===this.groupDisplay||f)?(e.preventDefault(),this._fieldFocusNeeded=!0):this.renderNow())}if("Enter"===t)this._isFieldInClosedCollapsibleGroup(s)?s.group.state="expanded":(this._updateFieldValue(e.target),this.scheduleRender());else{var d=s.field.type,p="single"===d||"double"===d;if(("integer"===d||"small-integer"===d||p)&&(!n&&!r&&!i)&&1===t.length){var b=Number(t),v=["-","+"],y=p?[].concat(v,["e","."]):v;isNaN(b)&&-1===y.indexOf(t)&&e.preventDefault()}}}},{key:"_syncDateEditsBeforeValueCommit",value:function(e){if("date"===e["data-field"].type){var t=e.getAttribute("data-date-part");this._activeDateEdit=Object(M.a)(Object(M.a)({},this._activeDateEdit),{},Object(T.a)({},t,{value:e.value,input:e}))}}},{key:"_updateFieldValue",value:function(e){var t=e["data-field"];this.viewModel.setValue(t.name,this._parseValue(e)),this._userUpdatedInputFieldNames.add(t.name)}},{key:"_updateDateFieldValue",value:function(e,t){var n=e["data-field"];this.viewModel.setValue(n.name,this._parseDateTimeValue(e,t)),this._userUpdatedInputFieldNames.add(n.name)}},{key:"_parseValue",value:function(e){var t=e["data-field"],n=e.value,r=t.type;if("number"===r)return parseFloat(n);if("date"===r){if(!n)return null;var i=Number(n);if(!isNaN(i))return i;var a=e.getAttribute("data-date-part"),o=this._parseDate(n,a);if(!o)return null;var s=this._moment,c=s(o),u=t.domain,l=s(),h=l;if(u&&"range"===u.type){var f=s(u.maxValue);l.isAfter(f)||(h=f)}var d=this.viewModel.getValue(t.name),p=s(null!=d?d:h);return"date"===a?(c.hour(p.hour()),c.minutes(p.minutes()),c.seconds(p.seconds())):(c.date(p.date()),c.month(p.month()),c.year(p.year())),c.valueOf()}return n}},{key:"_parseDateTimeValue",value:function(e,t){var n=e.value,r=t.value;if(!n||!r)return null;var i=this._parseDate(n,"date"),a=this._parseDate(r,"time");if(!i||!a)return null;var o=this._moment(i),s=this._moment(a);return o.hour(s.hour()),o.minutes(s.minutes()),o.seconds(s.seconds()),o.valueOf()}},{key:"_handleOptionChange",value:function(e){this._updateFieldValue(e.target),this.scheduleRender()}},{key:"_handleGroupClick",value:function(e){var t,n=e.currentTarget["data-group"],r="expanded"===n.state,i="sequential"===this.groupDisplay,a=".".concat(je);if(!r||e.target.closest(a)){if(this._activeInputName=null==(t=this._getFocusableInput("forward",n))?void 0:t.name,i){var o=e.target.closest(a);if(r&&!o)return;this.viewModel.inputFields.forEach((function(e){xe(e)&&e!==n&&(e.state="collapsed")}))}n.state=r?"collapsed":"expanded",this._fieldFocusNeeded=i,this.scheduleRender()}}},{key:"_handleSubmit",value:function(e){e.preventDefault()}},{key:"_handleFormKeyDown",value:function(e){"Enter"===e.key&&this.viewModel.submit()}},{key:"_formatDate",value:function(e){if(null==e)return{date:"",time:""};var t=this._moment(e);return{date:t.format("L"),time:t.format("LTS")}}},{key:"_parseDate",value:function(e,t){if(null==e||""===e)return null;var n=this._moment(e,"date"===t?"L":"LTS",Object(D.b)(),!1);return n.isValid()?n.toDate():null}}]),n}(k.a);Object(u.a)([Object(f.a)("viewModel.description"),Object(w.a)()],ke.prototype,"description",void 0),Object(u.a)([Object(f.a)("viewModel.feature")],ke.prototype,"feature",void 0),Object(u.a)([Object(f.a)("viewModel.fieldConfig")],ke.prototype,"fieldConfig",void 0),Object(u.a)([Object(f.a)("viewModel.formTemplate")],ke.prototype,"formTemplate",void 0),Object(u.a)([Object(h.b)(),Object(w.a)()],ke.prototype,"groupDisplay",void 0),Object(u.a)([Object(h.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ke.prototype,"label",void 0),Object(u.a)([Object(f.a)("viewModel.layer")],ke.prototype,"layer",void 0),Object(u.a)([Object(h.b)(),Object(w.a)(),Object(j.a)("esri/widgets/FeatureForm/t9n/FeatureForm")],ke.prototype,"messages",void 0),Object(u.a)([Object(f.a)("viewModel.strict")],ke.prototype,"strict",void 0),Object(u.a)([Object(f.a)("viewModel.title"),Object(w.a)()],ke.prototype,"title",void 0),Object(u.a)([Object(h.b)(),Object(w.a)(["viewModel.inputFields","viewModel.state"]),Object(_.a)(["value-change","submit"])],ke.prototype,"viewModel",void 0),Object(u.a)([Object(f.a)("viewModel.getValues")],ke.prototype,"getValues",null),Object(u.a)([Object(f.a)("viewModel.submit")],ke.prototype,"submit",null);var Se=ke=Object(u.a)([Object(d.a)("esri.widgets.FeatureForm")],ke),Ee="esri-item-list__list",Te="esri-item-list__group",Me="esri-item-list__scroller",Ce="esri-item-list__group-header";function Ae(e){var t=e.id,n=e.identify,r=e.filterEnabled,i=void 0===r||r,a=e.items,o=e.messages,s=e.filterText,c=void 0===s?"":s,u=e.onFilterChange,l=e.renderIcon,h=e.onItemMouseLeave,f=e.onItemMouseEnter,d=e.onItemSelect;return Object(x.a)("div",{class:Object(g.a)("esri-item-list","esri-widget")},i?function(e){var t="".concat(e.id,"-placeholder");return Object(x.a)("div",{class:"esri-item-list__filter-container",key:"filter"},Object(x.a)("input",{"aria-labelledby":t,class:Object(g.a)("esri-input","esri-item-list__filter-input"),oninput:function(t){var n=t.currentTarget;e.onFilterChange&&e.onFilterChange(n.value)},value:e.filterText,type:"search"}),e.filterText?null:Object(x.a)("div",{class:"esri-item-list__filter-placeholder",id:t,key:"placeholder"},Object(x.a)("span",{class:"esri-icon-search","aria-hidden":"true"}),Object(x.a)("div",{class:"esri-item-list__filter-placeholder-text"},e.messages.filterPlaceholder)))}({filterText:c,messages:o,onFilterChange:u,id:t}):null,function(e){var t=e.identify,n=e.items,r=e.renderIcon,i=e.filterText,a=e.onItemMouseLeave,o=e.onItemMouseEnter,s=e.onItemSelect;return 0===n.length?Object(x.a)("div",{class:"esri-item-list__no-matches-message",key:"no-matches"},e.messages.noMatches):n[0].items?Object(x.a)("div",{class:Me,key:"item-container"},n.map((function(e){return function(e){var t=e.group,n=e.identify,r=e.onItemMouseLeave,i=e.onItemMouseEnter,a=e.onItemSelect,o=e.filterText,s=e.renderIcon,c="".concat(n&&n(t)||t.id,"-heading");return Object(x.a)("section",{"aria-labelledby":c,class:Te,key:t.label},Object(x.a)("h4",{"aria-level":"1",id:c,class:Object(g.a)(Ce)},Ie({text:t.label,match:o})),Object(x.a)("ul",{class:Ee},t.items.map((function(e){return Pe({item:e,identify:n,grouped:!0,onItemMouseLeave:r,onItemMouseEnter:i,onItemSelect:a,renderIcon:s,filterText:o})}))))}({group:e,filterText:i,identify:t,renderIcon:r,onItemMouseLeave:a,onItemMouseEnter:o,onItemSelect:s})}))):Object(x.a)("ul",{class:Object(g.a)(Ee,Me),key:"item-container"},n.map((function(e){return Pe({item:e,identify:t,grouped:!0,onItemMouseLeave:a,onItemMouseEnter:o,onItemSelect:s,renderIcon:r,filterText:i})})))}({identify:n,items:a,messages:o,filterText:c,renderIcon:l,onItemMouseLeave:h,onItemMouseEnter:f,onItemSelect:d}))}function Pe(e){var t=e.identify,n=e.item,r=e.grouped,i=e.filterText,a=e.onItemSelect,o=e.onItemMouseEnter,s=e.onItemMouseLeave,c=e.renderIcon,u="".concat(t&&t(n)||n.id,"__").concat(n.label);return Object(x.a)("li",{"aria-level":r?"2":"",class:"esri-item-list__list-item","data-item":n,key:u,onclick:function(e){var t=e.currentTarget["data-item"];a&&a(t)},onmouseenter:function(e){var t=e.currentTarget["data-item"];o&&o(t)},onkeydown:function(e){if("Enter"===e.key||"Space"===e.key){var t=e.currentTarget["data-item"];a&&a(t)}},onmouseleave:function(e){var t=e.currentTarget["data-item"];s&&s(t)},tabIndex:0},Object(x.a)("div",{class:"esri-item-list__list-item-container"},c&&c({item:n}),Ie({text:n.label,match:i})))}function Ie(e){var t=e.match,n=e.text,r=null;if(t){var i=n.toLowerCase(),a=t.toLowerCase(),o=i.indexOf(a);if(-1===o)r=n;else{var s=n.substring(0,o),c=n.substr(o,t.length),u=n.substring(o+t.length);r=Object(x.a)("span",null,s,Object(x.a)("strong",null,c),u)}}else r=n;return Object(x.a)("span",{class:"esri-item-list__list-item-label"},r)}var De,Le=n(295),Re=n(145),Ne=n(172),Fe=function(e){return"".concat(e.label,"-").concat(e.layer.id)},ze=De=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e))._activeFetchInfo={id:null,request:null},n.description=null,n.label=null,n.layer=null,n.template=null,n.thumbnail=null,n}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this.handles.add(Object(y.a)(this,["layer.renderer","template"],(function(){e._activeFetchInfo.id=null,e._activeFetchInfo.request=null,e._set("thumbnail",null)})))}},{key:"clone",value:function(){var e=this.thumbnail?this.thumbnail.cloneNode(!0):null,t=new De({layer:this.layer,template:this.template});return t._set("thumbnail",e),t}},{key:"fetchThumbnail",value:function(){var e=Object(P.a)(A.a.mark((function e(){var t,n=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._activeFetchInfo,e.abrupt("return",(Fe(this)===t.id||(t.id=Fe(this),t.request=this._getPreviewSymbol().then(function(){var e=Object(P.a)(A.a.mark((function e(r){var i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fe(n)===t.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(Ne.d)(r,{maxSize:36});case 4:i=e.sent,Fe(n)===t.id&&n._set("thumbnail",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.request));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPreviewSymbol",value:function(){var e=Object(P.a)(A.a.mark((function e(){var t,n,r,i,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.layer,n=this.template,!(r=this.layer.renderer)){e.next=8;break}return i=new B.a({attributes:n.prototype.attributes}),e.next=5,r.getSymbolAsync(i);case 5:if(!(a=e.sent)){e.next=8;break}return e.abrupt("return",a);case 8:return e.abrupt("return",this._getFallbackSymbolFromGeometry(t));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getFallbackSymbolFromGeometry",value:function(e){var t=e.geometryType;return"point"===t||"multipoint"===t?Promise.resolve().then(n.bind(null,141)).then((function(e){return new e.default})):"polyline"===t?Promise.resolve().then(n.bind(null,134)).then((function(e){return new e.default})):"polygon"===t||"mesh"===t||"multipatch"===t?Promise.resolve().then(n.bind(null,170)).then((function(e){return new e.default})):void 0}}]),r}(Object(m.b)(q.a));Object(u.a)([Object(h.b)({aliasOf:"template.description"})],ze.prototype,"description",void 0),Object(u.a)([Object(h.b)({aliasOf:"template.name"})],ze.prototype,"label",void 0),Object(u.a)([Object(h.b)()],ze.prototype,"layer",void 0),Object(u.a)([Object(h.b)()],ze.prototype,"template",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],ze.prototype,"thumbnail",void 0);var Ve=ze=De=Object(u.a)([Object(d.a)("esri.widgets.FeatureTemplates.TemplateItem")],ze),Ue=n(204),Be=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).items=null,r.label=null,r}return n}(Object(Ue.a)(q.a));Object(u.a)([Object(h.b)()],Be.prototype,"items",void 0),Object(u.a)([Object(h.b)()],Be.prototype,"label",void 0);var Ge=Be=Object(u.a)([Object(d.a)("esri.widgets.FeatureTemplates.TemplateItemGroup")],Be),qe=function(e){var t=e.layer;return{key:t,label:t.title}},He=function(e){return e.layer.geometryType},We=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._templateToLayer=new Map,r._itemPool=new Re.a(Ve),r._groupPool=new Re.a(Ge),r.filterFunction=null,r.groupBy="layer",r}return Object(a.a)(n,[{key:"destroy",value:function(){this._templateToLayer.clear(),this._templateToLayer=null}},{key:"layers",get:function(){return this._get("layers")},set:function(e){var t=this;if(this.handles.removeAll(),e){var n=function(){return t.notifyChange("state")};this.handles.add(e.map((function(e){return Object(y.e)(e,"loadStatus",n)})))}this._set("layers",e)}},{key:"state",get:function(){var e=this.layers;return e&&0!==e.length?e.some((function(e){return"loading"===e.loadStatus||"not-loaded"===e.loadStatus}))?"loading":"ready":"disabled"}},{key:"items",get:function(){var e=this,t=this.layers;if(this._destroyItems(this._get("items")),!t||0===t.length)return[];this._templateToLayer.clear();var n=t.filter((function(e){var t=e.capabilities;return e.loaded&&t.operations.supportsEditing&&t.operations.supportsAdd})).map((function(t){var n=e._getTemplatesForLayer(t);if(n.length>0)return n.forEach((function(n){return e._templateToLayer.set(n,t)})),n})).filter((function(e){return null!=e})),r=this.groupBy;if("none"===r)return n.map((function(t){return t.filter((function(t){var n=t.name;return!e.filterFunction||e.filterFunction({label:n})}))})).map((function(t){return t.map((function(t){return e._createItem(t)}))})).reduce((function(e,t){return[].concat(Object(R.a)(e),Object(R.a)(t))}),[]);var i=n.reduce((function(t,n){return n.forEach((function(n){var i=("layer"===r?qe:"geometry"===r?He:r)({template:n,layer:e._templateToLayer.get(n)});if(i){var a="string"==typeof i?i:i.key,o="string"==typeof i?i:i.label;t.has(a)||t.set(a,{label:o,templates:[]}),t.get(a).templates.push(n)}})),t}),new Map);if(0===i.size)return[];var a=[],o=this.filterFunction;return i.forEach((function(t){var n=t.label,r=t.templates;if(!o||e.filterFunction(t))a.push(e._createGroup(n,r.map((function(t){return e._createItem(t)}))));else{var i=r.filter((function(t){var n=t.name;return e.filterFunction({label:n})})).map((function(t){return e._createItem(t)}));i.length>0&&a.push(e._createGroup(n,i))}})),a}},{key:"refresh",value:function(){this.notifyChange("items")}},{key:"select",value:function(e){var t=e.clone();this.emit("select",{item:t,template:t.template})}},{key:"_getTemplatesForLayer",value:function(e){return[].concat(Object(R.a)(e.templates||[]),Object(R.a)((e.types||[]).map((function(e){return e.templates})).reduce((function(e,t){return[].concat(Object(R.a)(e),Object(R.a)(t))}),[])))}},{key:"_createItem",value:function(e){var t=this._itemPool.acquire();return t.set({template:e,layer:this._templateToLayer.get(e)}),t}},{key:"_createGroup",value:function(e,t){var n=this._groupPool.acquire();return n.set("label",e),n.items=t,n}},{key:"_destroyItems",value:function(e){var t=this;e&&(e[0]instanceof Ve?e.forEach((function(e){return t._destroyItem(e)})):e.forEach((function(e){return t._destroyGroup(e)})))}},{key:"_destroyGroup",value:function(e){var t=this;e.items.forEach((function(e){return t._destroyItem(e)})),e.items.length=0,this._groupPool.release(e)}},{key:"_destroyItem",value:function(e){e.layer=null,e.template=null,this._itemPool.release(e)}}]),n}(Object(m.b)(z.a.EventedAccessor));Object(u.a)([Object(h.b)()],We.prototype,"filterFunction",void 0),Object(u.a)([Object(h.b)()],We.prototype,"groupBy",void 0),Object(u.a)([Object(h.b)()],We.prototype,"layers",null),Object(u.a)([Object(h.b)({dependsOn:["layers"]})],We.prototype,"state",null),Object(u.a)([Object(h.b)({dependsOn:["filterFunction","groupBy","layers","state"],readOnly:!0})],We.prototype,"items",null);var Ye=We=Object(u.a)([Object(d.a)("esri.widgets.FeatureTemplates.FeatureTemplatesViewModel")],We);function Je(e){return e.label}var Ke=l.a.getLogger("esri.widgets.FeatureTemplates"),Xe={filter:!0},Qe=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r))._iconIntersectionObserver=new IntersectionObserver((function(e,t){e.forEach(function(){var e=Object(P.a)(A.a.mark((function e(n){var r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isIntersecting){e.next=9;break}if((r=n.target)["data-has-icon"]){e.next=9;break}return i=r["data-item"],r["data-has-icon"]=!0,t.unobserve(r),e.next=8,i.fetchThumbnail();case 8:r["data-item"]===i&&i.thumbnail?r.appendChild(i.thumbnail):(r["data-has-icon"]=!1,t.observe(r));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),a.filterFunction=null,a.filterText="",a.groupBy=null,a.label=void 0,a.layers=null,a.messages=null,a.viewModel=new Ye,a.visibleElements=Object(M.a)({},Xe),a.renderItemIcon=a.renderItemIcon.bind(Object(o.a)(a)),a._afterItemCreateOrUpdate=a._afterItemCreateOrUpdate.bind(Object(o.a)(a)),a._afterItemRemoved=a._afterItemRemoved.bind(Object(o.a)(a)),a}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this,t=function(t){var n=t.label;return!e.filterText||n.toLowerCase().indexOf(e.filterText.toLowerCase())>-1};this.own(Object(y.a)(this,"viewModel",(function(n,r){n&&!n.filterFunction&&(e.filterFunction=t),r&&r!==n&&r.filterFunction===t&&(r.filterFunction=null)})))}},{key:"destroy",value:function(){this._iconIntersectionObserver&&(this._iconIntersectionObserver.disconnect(),this._iconIntersectionObserver=null)}},{key:"filterEnabled",set:function(e){Object(Le.b)(Ke,"filterEnabled",{replacement:"visibleElements.filter",version:"4.15"}),this.visibleElements=Object(M.a)(Object(M.a)({},this.visibleElements),{},{filter:e})}},{key:"castVisibleElements",value:function(e){return Object(M.a)(Object(M.a)({},Xe),e)}},{key:"render",value:function(){var e=this,t=this.filterText,n=this.messages,r=this.viewModel,i=r.items,a=r.state,o=this.visibleElements.filter;return Object(x.a)("div",{class:this.classes("esri-feature-templates","esri-widget"),"aria-label":n.widgetLabel},"loading"===a?this.renderLoader():"ready"===a?Ae({id:this.id,identify:Je,filterText:t,items:i,messages:{filterPlaceholder:n.filterPlaceholder,noItems:n.noItems,noMatches:n.noMatches},filterEnabled:o,onItemSelect:function(t){e.viewModel.select(t)},onFilterChange:function(t){e.filterText=t,e.viewModel.refresh()},renderIcon:this.renderItemIcon}):null)}},{key:"renderItemIcon",value:function(e){var t=e.item;return Object(x.a)("span",{key:"icon",class:"esri-feature-templates__list-item-icon",afterCreate:this._afterItemCreateOrUpdate,afterUpdate:this._afterItemCreateOrUpdate,afterRemoved:this._afterItemRemoved,"data-item":t,"data-has-icon":!1})}},{key:"renderLoader",value:function(){return Object(x.a)("div",{class:"esri-feature-templates__loader",key:"loader"})}},{key:"_afterItemCreateOrUpdate",value:function(e){this._iconIntersectionObserver.observe(e)}},{key:"_afterItemRemoved",value:function(e){this._iconIntersectionObserver.unobserve(e)}}]),n}(Object(m.b)(k.a));Object(u.a)([Object(h.b)(),Object(w.a)()],Qe.prototype,"filterEnabled",null),Object(u.a)([Object(f.a)("viewModel.filterFunction")],Qe.prototype,"filterFunction",void 0),Object(u.a)([Object(h.b)(),Object(w.a)()],Qe.prototype,"filterText",void 0),Object(u.a)([Object(f.a)("viewModel.groupBy")],Qe.prototype,"groupBy",void 0),Object(u.a)([Object(h.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Qe.prototype,"label",void 0),Object(u.a)([Object(f.a)("viewModel.layers")],Qe.prototype,"layers",void 0),Object(u.a)([Object(h.b)(),Object(w.a)(),Object(j.a)("esri/widgets/FeatureTemplates/t9n/FeatureTemplates")],Qe.prototype,"messages",void 0),Object(u.a)([Object(h.b)(),Object(w.a)(["viewModel.items","viewModel.state"]),Object(_.a)("select")],Qe.prototype,"viewModel",void 0),Object(u.a)([Object(h.b)(),Object(w.a)()],Qe.prototype,"visibleElements",void 0),Object(u.a)([Object(N.a)("visibleElements")],Qe.prototype,"castVisibleElements",null);var Ze=Qe=Object(u.a)([Object(d.a)("esri.widgets.FeatureTemplates")],Qe),$e=n(20),et=n(39),tt=n(300),nt=n(329),rt=n(416),it=n(718),at=n(4),ot=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).creationInfo=null,r.edits=null,r.viewModel=null,r}return n}(q.a);Object(u.a)([Object(h.b)()],ot.prototype,"creationInfo",void 0),Object(u.a)([Object(h.b)()],ot.prototype,"edits",void 0),Object(u.a)([Object(h.b)()],ot.prototype,"viewModel",void 0);var st=ot=Object(u.a)([Object(d.a)("esri.widgets.Editor.CreateWorkflowData")],ot);function ct(e){return Object(at.g)(e)?null:JSON.stringify(e)}var ut=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._baselineAttributesJSON=null,r._baselineGeometryJSON=null,r.feature=null,r}return Object(a.a)(n,[{key:"attributesModified",get:function(){var e=this._baselineAttributesJSON,t=this.feature;return!(!t||e===ct(t.attributes))}},{key:"geometryModified",get:function(){var e=this._baselineGeometryJSON,t=this.feature;return!(!t||e===ct(t.geometry))}},{key:"modified",get:function(){return this.attributesModified||this.geometryModified}},{key:"trackChanges",value:function(){this.feature&&(this._baselineAttributesJSON=ct(this.feature.attributes),this._baselineGeometryJSON=ct(this.feature.geometry),this.notifyChange("attributesModified"),this.notifyChange("geometryModified"))}},{key:"updateAttributes",value:function(e){this.feature.attributes=e,this.notifyChange("attributesModified")}},{key:"updateGeometry",value:function(e){this.feature.geometry=e,this.notifyChange("geometryModified")}}]),n}(Object(m.b)(q.a));Object(u.a)([Object(h.b)()],ut.prototype,"attributesModified",null),Object(u.a)([Object(h.b)()],ut.prototype,"feature",void 0),Object(u.a)([Object(h.b)()],ut.prototype,"geometryModified",null),Object(u.a)([Object(h.b)({dependsOn:["attributesModified","geometryModified"]})],ut.prototype,"modified",null);var lt=ut=Object(u.a)([Object(d.a)("esri.widgets.Editor.Edits")],ut),ht=n(17),ft=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._indexHistory=[],r._lastStepIndex=-1,r._stepIndex=-1,r._handleKeys={afterCommit:"after-commit",beforeCommit:"before-commit"},r.data=null,r.started=!1,r.steps=null,r.type=null,r}return Object(a.a)(n,[{key:"hasNextStep",get:function(){var e=this.steps;return!!(e&&this._stepIndex<e.filter((function(e){return!e.parent})).length-1)}},{key:"hasPreviousStep",get:function(){return this._stepIndex>0}},{key:"stepId",get:function(){var e=this.steps,t=e&&e[this._stepIndex];return t&&t.id}},{key:"cancel",value:function(){var e=Object(P.a)(A.a.mark((function e(){var t,n=this,r=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{force:!0},e.abrupt("return",!1!==t.force?this._cancel():Object(ht.c)((function(e,t){n.emit("cancel-request",{controller:{allow:function(){n._cancel().then(e)},deny:function(){return t(new $e.a("workflow:cancel-denied","Request to cancel workflow was denied."))}}})})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"commit",value:function(){var e=Object(P.a)(A.a.mark((function e(){var t,n,r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.data,this.handles.remove(this._handleKeys.beforeCommit),n=t.edits.feature,r=n.clone(),t.edits.attributesModified||(i=n.layer.objectIdField,r.attributes=Object(T.a)({},i,n.getAttribute(i))),t.edits.geometryModified||(r.geometry=null),e.next=7,this.afterCommit(r);case 7:if(this.handles.remove(this._handleKeys.afterCommit),this.emit("commit"),e.t0=this.started,!e.t0){e.next=13;break}return e.next=13,this.reset();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"go",value:function(){var e=Object(P.a)(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.steps,r=n.findIndex((function(e){return e.id===t})),this._indexHistory.push(this._stepIndex),e.next=4,this._go(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=Object(P.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._indexHistory.push(this._stepIndex),e.next=3,this._go(this._stepIndex+1);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"previous",value:function(){var e=Object(P.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._go(this._indexHistory.pop());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=Object(P.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cancel(!1);case 2:return e.next=4,this.start();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(P.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._set("started",!0),t=-1===this._stepIndex?0:this._stepIndex,e.next=4,this._go(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_cancel",value:function(){var e=Object(P.a)(A.a.mark((function e(){var t,n=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(n.length>0&&void 0!==n[0])||n[0],e.t0=this.started,!e.t0){e.next=6;break}return this._set("started",!1),e.next=6,this.steps[this._stepIndex].tearDown();case 6:this.handles.remove([this._handleKeys.afterCommit,this._handleKeys.beforeCommit]),this._resetIndexing(t),t&&this.emit("cancel");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_go",value:function(){var e=Object(P.a)(A.a.mark((function e(){var t,n=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=n.length>0&&void 0!==n[0]?n[0]:-1)<=-1||t>=this.steps.length){e.next=13;break}if(this.started){e.next=4;break}return e.abrupt("return",(this._stepIndex=t,void this._notifyStepProps()));case 4:if(e.t0=this._lastStepIndex>-1,!e.t0){e.next=8;break}return e.next=8,this.steps[this._lastStepIndex].tearDown();case 8:return e.next=10,this.steps[t].setUp();case 10:this._lastStepIndex=t,this._stepIndex=t,this._notifyStepProps();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_resetIndexing",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._stepIndex=-1,this._lastStepIndex=-1,this._indexHistory.length=0,e&&this._notifyStepProps()}},{key:"_notifyStepProps",value:function(){this.notifyChange("stepId"),this.notifyChange("hasPreviousStep"),this.notifyChange("hasNextStep")}}]),n}(Object(m.b)(z.a.EventedAccessor));Object(u.a)([Object(h.b)()],ft.prototype,"afterCommit",void 0),Object(u.a)([Object(h.b)()],ft.prototype,"data",void 0),Object(u.a)([Object(h.b)()],ft.prototype,"hasNextStep",null),Object(u.a)([Object(h.b)()],ft.prototype,"hasPreviousStep",null),Object(u.a)([Object(h.b)()],ft.prototype,"started",void 0),Object(u.a)([Object(h.b)({readOnly:!0,dependsOn:["steps"]})],ft.prototype,"stepId",null),Object(u.a)([Object(h.b)()],ft.prototype,"steps",void 0),Object(u.a)([Object(h.b)()],ft.prototype,"type",void 0),Object(u.a)([Object(h.b)()],ft.prototype,"commit",null);var dt=ft=Object(u.a)([Object(d.a)("esri.widgets.Editor.Workflow")],ft),pt=n(36),bt=n(66),vt=n(307),yt=n(163),mt=n(386),gt=n(426);function Ot(e,t){return jt.apply(this,arguments)}function jt(){return(jt=Object(P.a)(A.a.mark((function e(t,n){var r,i,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("2d"!==t.type){e.next=2;break}return e.abrupt("return",t.hitTest(n));case 2:return e.next=4,t.hitTest(n);case 4:return r=e.sent,i=r.results[0],a=r.results.findIndex((function(e){return e.distance!==i.distance})),e.abrupt("return",(-1!==a&&(r.results=r.results.slice(0,a)),r));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wt=n(491),_t=n(565);function xt(e){var t=e.layer,n=function(e){switch(e.type){case"class-breaks":case"simple":case"unique-value":case"dot-density":case"dictionary":return!0;default:return!1}}(t.renderer)&&Object(mt.getVisualVariableValues)(t.renderer,e),r=n?n.map((function(e){return e.variable})):[],i=r.filter((function(e){return"rotation"===e.type&&(!e.axis||"heading"===e.axis)})),a=i[0],o=1===i.length&&a.field&&!a.valueExpression,s=r.filter((function(e){return"size"===e.type})),c=s[0],u=1===s.length&&"real-world-size"===Object(yt.b)(c)&&c.field&&!c.useSymbolValue&&!c.valueExpression;return{rotation:o?kt(a,t):null,size:u?St(c,t):null}}function kt(e,t){var n="heading"===(e.axis||"heading")&&"arithmetic"===e.rotationType?-1:1,r=e.field,i=t.fields&&t.fields.filter((function(e){return e.name===r})),a=i&&1===i.length?i[0].type:"double",o={initial:0,current:0};return{field:r,getDefault:function(){return Object(ht.s)(0)},getValue:function(e){return o.current=o.initial-n*e,Et((o.current+360)%360,a)},initValue:function(e){o.initial=null!=e?e:o.current,o.current=0},isUpdatingInteractively:!1}}function St(e,t){var r,i=e.field,a=e.axis,o=t.fields&&t.fields.filter((function(e){return e.name===i})),s=o&&1===o.length?o[0].type:"double",c={updating:!1,initial:0,current:0},u=vt.a[e.valueUnit];return r="area"===e.valueRepresentation?function(e){return Math.pow(e*u/2,2)*Math.PI}:"radius"===e.valueRepresentation||"distance"===e.valueRepresentation?function(e){return e*u/2}:function(e){return e*u},{field:i,getDefault:function(){var e=Object(P.a)(A.a.mark((function e(t,i){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Et,e.t1=r,e.next=4,function(){var e=Object(P.a)(A.a.mark((function e(t,r,i){var a,o,s,c,u,l,h;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(at.g)(r)){e.next=2;break}return e.abrupt("return",0);case 2:if(a=Object(bt.j)(r),o=a.symbol,!Object(at.g)(o)&&"web-style"!==o.type){e.next=5;break}return e.abrupt("return",0);case 5:if(s=o.symbolLayers.getItemAt(0)){e.next=8;break}return e.abrupt("return",0);case 8:e.t0=s.type,e.next="icon"===e.t0?11:"text"===e.t0?27:"line"===e.t0?28:"object"===e.t0?29:"path"===e.t0||"extrude"===e.t0?39:("fill"===e.t0||e.t0,40);break;case 11:return e.next=13,n.e(10).then(n.bind(null,971));case 13:if(c=e.sent,u=c.computeIconLayerResourceSize,e.t2=s.size,e.t2){e.next=23;break}return e.t3=Math,e.t4=Bt.icon,e.next=21,u(s,Bt.icon);case 21:e.t5=e.sent[0],e.t2=e.t3.min.call(e.t3,e.t4,e.t5);case 23:if(e.t1=e.t2,e.t1){e.next=26;break}e.t1=Bt.icon;case 26:return e.abrupt("return",e.t1);case 27:return e.abrupt("return",s.size||Bt.text);case 28:return e.abrupt("return",s.size||Bt.line);case 29:return e.next=31,n.e(10).then(n.bind(null,971));case 31:return l=e.sent,h=l.computeObjectLayerResourceSize,e.t6=function(e,t){switch(t){case"width":return e[0];case"depth":return e[1];case"height":return e[2];default:return e[2]||e[1]||e[0]}},e.next=36,h(s,t.scale/Bt.viewScaleSizeFactor);case 36:return e.t7=e.sent,e.t8=i,e.abrupt("return",(0,e.t6)(e.t7,e.t8));case 39:return e.abrupt("return",s.size||t.scale/Bt.viewScaleSizeFactor);case 40:return e.abrupt("return",0);case 41:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(i,t,a);case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=s,e.abrupt("return",(0,e.t0)(e.t3,e.t4));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getValue:function(e,t){return c.initial||(c.initial=t.pixelSizeAt(t.center)),c.current=c.initial*e,Et(c.current,s)},initValue:function(e){c.initial=null!=e?e:c.current,c.current=0},isUpdatingInteractively:!1}}function Et(e,t){switch(t){case"small-integer":case"integer":case"long":return Math.round(e);case"double":case"single":return e;default:return 0}}function Tt(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(P.a)(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ne.a)(t,{ignoreGraphicSymbol:!0});case 2:n=e.sent,r=Object(gt.a)(t.symbol,n),Object(at.h)(r)&&(t.symbol=n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(e,t,n,r){return At.apply(this,arguments)}function At(){return(At=Object(P.a)(A.a.mark((function e(t,n,r,i){var a,o,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.layer,e.next=3,function(){var e=Object(P.a)(A.a.mark((function e(t,n,r){var i,a,o,s,c,u,l,h,f,d,p,b;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("3d"===r.type){e.next=2;break}return e.abrupt("return");case 2:return a=n.layer,o=Object(M.a)({},n.template.prototype.attributes),s=new B.a({layer:a,sourceLayer:a,attributes:o}),c=xt(s),u=c.rotation,l=c.size,e.next=5,Object(Ne.a)(s);case 5:h=e.sent,f=!1,d=0,p=[l,u];case 8:if(!(d<p.length)){e.next=21;break}if(b=p[d],!Object(at.g)(b)){e.next=12;break}return e.abrupt("continue",18);case 12:if(e.t0=null==o[b.field],!e.t0){e.next=18;break}return e.next=16,b.getDefault(h,r);case 16:o[b.field]=e.sent,f=!0;case 18:d++,e.next=8;break;case 21:if(e.t1=f,!e.t1){e.next=26;break}return e.next=25,Object(Ne.a)(s);case 25:h=e.sent;case 26:e.t2=null==(i=h)?void 0:i.type,e.next="simple-fill"===e.t2||"polygon-3d"===e.t2?29:"simple-line"===e.t2||"line-3d"===e.t2?31:"simple-marker"===e.t2||"point-3d"===e.t2?33:34;break;case 29:return t.polygonSymbol=h,e.abrupt("break",34);case 31:return t.polylineSymbol=h,e.abrupt("break",34);case 33:t.pointSymbol=h;case 34:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(t,n,r);case 3:return t.layer.elevationInfo=a.elevationInfo,o=function(){return t.create(a.geometryType,{hasZ:a.capabilities.data.supportsZ})},e.next=7,o();case 7:return s=t.on("create",function(){var e=Object(P.a)(A.a.mark((function e(r){var s,c,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.state,c=r.graphic,"cancel"===s){e.next=12;break}if("complete"!==s){e.next=10;break}return(u=c.clone()).attributes=Object(M.a)({},n.template.prototype.attributes),u.layer=a,t.layer.remove(c),e.next=9,Tt(u);case 9:i(u);case 10:e.next=13;break;case 12:o();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",(r.map.add(t.layer),{remove:function(){s.remove(),r.map.remove(t.layer),t.cancel()}}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(e,t){return e&&e.find((function(e){return e.layer===t}))}function It(e,t,n,r){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(P.a)(A.a.mark((function e(t,n,r,i){var a,o,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,r.async(Object(P.a)(A.a.mark((function e(){var a,o,s,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.x)(Ot(n,r),i);case 2:return a=e.sent,o=a.results,s=new Map,o.forEach((function(e){var t=e.graphic;return function(e){var t=e.layer,n=s.get(t);if(!n){var r=new Array;return s.set(t,r),r}return n}(t).push(t)})),c=t.filter((function(e){var t=e.supports,n=e.layer;return t.indexOf("update")>-1&&s.has(n)})),e.abrupt("return",(0!==c.length&&r.stopPropagation(),{updatable:c,graphicsByLayer:s}));case 8:case"end":return e.stop()}}),e)}))));case 4:return a=e.sent,o=a.updatable,s=a.graphicsByLayer,e.abrupt("return",Object(ht.i)(o.map(function(){var e=Object(P.a)(A.a.mark((function e(t){var n,r,a,o,c,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.layer,r=n.objectIdField,a=n.displayField,o=[r],Object(b.t)(n.fields,a)&&o.push(a),!(c=s.get(n)).some((function(e){return o.some((function(t){return!(t in e.attributes)}))}))){e.next=7;break}return u=n.createQuery(),e.abrupt("return",(u.outFields=o,u.returnGeometry=!1,u.objectIds=c.map((function(e){return e.getObjectId()})),n.queryFeatures(u,{signal:i}).then((function(e){return e.features}))));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e,t,n,r){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(P.a)(A.a.mark((function e(t,n,r,i){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n.type,e.next="3d"===e.t0?3:"2d"===e.t0?4:5;break;case 3:return e.abrupt("return",It(t,n,r,i));case 4:return e.abrupt("return",function(){var e=Object(P.a)(A.a.mark((function e(t,n,r,i){var a,o,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,Object(ht.x)(n.hitTest(r),i);case 4:if(a=e.sent,0!==(o=a.results).length){e.next=8;break}return e.abrupt("return",[]);case 8:return s=new Set,e.abrupt("return",(o.forEach((function(e){var t=e.graphic;return s.add(t.layer)})),Object(ht.i)(t.items.filter((function(e){var t=e.layer;return e.supports.indexOf("update")>-1&&s.has(t)})).map((function(e){var t=e.layer,a=t.objectIdField,o=t.displayField,s=[a];Object(b.t)(t.fields,o)&&s.push(o);var c=t.createQuery();c.outFields=s,c.returnGeometry=!1;var u=Object(wt.a)({renderer:t.renderer,event:r});return c.geometry=Object(_t.a)(r.mapPoint,u,n),t.queryFeatures(c,{signal:i}).then((function(e){return e.features}))})),i)));case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,n,r,i));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(e,t,n){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(P.a)(A.a.mark((function e(t,n,r){var i,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.layer,(a=i.createQuery()).objectIds=[t.getAttribute(i.objectIdField)],a.outFields=["*"],a.outSpatialReference=n.spatialReference,a.returnM=i.capabilities.data.supportsM,a.returnZ=i.capabilities.data.supportsZ,e.next=8,i.queryFeatures(a,{signal:r});case 8:return e.abrupt("return",e.sent.features[0]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(e,t,n,r,i){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(P.a)(A.a.mark((function e(t,n,i,a,o){var s,c,u,l,h,f,d,p,b;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.clone(),e.next=3,Tt(s);case 3:return i.layer.add(s),s.sourceLayer=t.layer,c=function(){var e=t.layer;if("graphics"===e.type)return{remove:function(){}};var n=e.objectIdField,r=t.attributes[n],i=a.whenLayerView(e);return i.then((function(e){return e.setVisibility(r,!1)}),(function(){})),{remove:function(){i.then((function(e){return e.setVisibility(r,!0)}),(function(){}))}}}(),u=t.layer,l=n.size,h=n.rotation,f={multipleSelectionEnabled:!1},"point"===u.geometryType&&(f.enableRotation=!!h,f.enableScaling=!!l),i.layer.elevationInfo=u.elevationInfo,i.update(s,f),d=(Object(at.h)(l)||Object(at.h)(h))&&t.watch("attributes",function(){var e=Object(P.a)(A.a.mark((function e(t){var n,r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in n=!1,t)(i=t[r])!==s.attributes[r]&&(s.setAttribute(r,i),n=!0,Object(at.h)(l)&&!l.isUpdatingInteractively&&l.field===r&&l.initValue(i),Object(at.h)(h)&&!h.isUpdatingInteractively&&h.field===r&&h.initValue(i));if(e.t0=n&&"3d"===a.type,!e.t0){e.next=6;break}return e.next=6,Tt(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),[h,l].forEach(function(){var e=Object(P.a)(A.a.mark((function e(n){var r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(at.g)(n)){e.next=2;break}return e.abrupt("return");case 2:if(null==(r=t.attributes[n.field])){e.next=7;break}n.initValue(r),e.next=16;break;case 7:return e.next=9,n.getDefault(s.symbol,a);case 9:if(i=e.sent,n.initValue(i),s.setAttribute(n.field,i),e.t0="3d"===a.type,!e.t0){e.next=16;break}return e.next=16,Tt(s);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=i.on("update",function(){var e=Object(P.a)(A.a.mark((function e(t){var n,c,u,d,p,b,v,y,m,g,O,j;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(r.a)(t.graphics,1),c=n[0],u=t.state,d=t.toolEventInfo,"complete"!==u){e.next=3;break}return e.abrupt("return",void i.update(c,f));case 3:if(p=d,Object(at.h)(h)&&p&&(b=h.field,v=h.getValue,y=h.initValue,"rotate-stop"===p.type?(h.isUpdatingInteractively=!1,y()):null!=p.angle&&(h.isUpdatingInteractively=!0,s.attributes[b]=v(p.angle/Math.PI*180,a))),m=d,Object(at.h)(l)&&m&&(g=l.field,O=l.getValue,j=l.initValue,"scale-stop"===m.type?(l.isUpdatingInteractively=!1,j()):null!=m.xScale&&(l.isUpdatingInteractively=!0,s.attributes[g]=O(m.xScale,a))),e.t0="3d"===a.type,!e.t0){e.next=11;break}return e.next=11,Tt(s);case 11:o(c.clone());case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.map.add(i.layer),b=function(){},e.abrupt("return",{interactive:{remove:function(){p.remove(),i.cancel(),d&&d.remove(),this.remove=b}},visual:{remove:function(){c.remove(),a.map.remove(i.layer),i.layer.removeAll(),this.remove=b}}});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ut,Bt={icon:Object(pt.h)(24),text:Object(pt.h)(12),line:Object(pt.h)(1),viewScaleSizeFactor:100},Gt=Ut=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="create",r}return Object(a.a)(n,null,[{key:"create",value:function(e,t,n){var r=new st({edits:new lt,viewModel:e}),i=new Ut({data:r,afterCommit:n});return i._set("steps",this._createWorkflowSteps(i,t)),i}},{key:"_createWorkflowSteps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"awaiting-feature-creation-info",n=e.data,i=e.handles,a={"awaiting-feature-creation-info":function(){return{id:"awaiting-feature-creation-info",setUp:function(){var e=this;return Object(P.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.creationInfo=null,i.add(n.viewModel.featureTemplatesViewModel.on("select",(function(e){var t=e.item;n.creationInfo={layer:t.layer,template:t.template},n.viewModel.activeWorkflow.next()})),e.id);case 1:case"end":return t.stop()}}),t)})))()},tearDown:function(){var e=this;return Object(P.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.remove(e.id);case 1:case"end":return t.stop()}}),t)})))()}}},"awaiting-feature-to-create":function(){return{id:"awaiting-feature-to-create",setUp:function(){var e=this;return Object(P.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=i,t.next=3,Ct(n.viewModel.sketchViewModel,n.creationInfo,n.viewModel.view,(function(e){n.edits.feature=e,n.viewModel.activeWorkflow.next()}));case 3:t.t1=t.sent,t.t2=e.id,t.t0.add.call(t.t0,t.t1,t.t2);case 6:case"end":return t.stop()}}),t)})))()},tearDown:function(){var e=this;return Object(P.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.remove(e.id);case 1:case"end":return t.stop()}}),t)})))()}}},"editing-new-feature":function(){return{id:"editing-new-feature",setUp:function(){var e=this;return Object(P.a)(A.a.mark((function t(){var r,a,o,s,c,u,l,h;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.edits.feature,a=n.viewModel,o=Pt(a.layerInfos,r.layer),s=o&&o.fieldConfig,a.featureFormViewModel.set({feature:r,fieldConfig:s}),c=xt(r),t.next=5,zt(r,c,a.sketchViewModel,a.view,(function(e){var t=e.geometry,r=e.attributes;if(Object(at.h)(c.rotation)){var i=c.rotation.field;a.featureFormViewModel.setValue(i,r[i])}if(Object(at.h)(c.size)){var o=c.size.field;a.featureFormViewModel.setValue(o,r[o])}n.edits.updateAttributes(r),n.edits.updateGeometry(t)}));case 5:u=t.sent,l=u.interactive,h=u.visual,i.add([n.viewModel.featureFormViewModel.on("value-change",(function(){n.edits.updateAttributes(n.viewModel.featureFormViewModel.getValues()),r.attributes=n.edits.feature.attributes})),l,h],e.id);case 9:case"end":return t.stop()}}),t)})))()},tearDown:function(){var e=this;return Object(P.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.edits.feature=null,n.viewModel.featureFormViewModel.set({feature:null,fieldConfig:null}),i.remove(e.id);case 1:case"end":return t.stop()}}),t)})))()}}}},o=!1,s=["awaiting-feature-creation-info","awaiting-feature-to-create","editing-new-feature"].filter((function(e){return!!o||(o=e===t)})).map((function(e){return a[e]()}));n.viewModel.refreshCreationTemplates();var c=function(e){if(1!==e.length)return null;var t=Object(r.a)(e,1)[0];if(!("items"in t))return t;var n=t;return 1===n.items.length?n.items[0]:null}(n.viewModel.featureTemplatesViewModel.items),u=Object(r.a)(s,1),l=u[0];if("awaiting-feature-creation-info"===l.id&&c){var h=c.layer,f=c.template;n.creationInfo={layer:h,template:f},s.shift()}return s}}]),n}(dt),qt=Gt=Ut=Object(u.a)([Object(d.a)("esri.widgets.Editor.CreateWorkflow")],Gt),Ht=n(95),Wt=n(492),Yt=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).candidates=null,r.editableItem=null,r.edits=null,r.viewModel=null,r}return n}(q.a);Object(u.a)([Object(h.b)()],Yt.prototype,"candidates",void 0),Object(u.a)([Object(h.b)()],Yt.prototype,"editableItem",void 0),Object(u.a)([Object(h.b)()],Yt.prototype,"edits",void 0),Object(u.a)([Object(h.b)()],Yt.prototype,"viewModel",void 0);var Jt,Kt=Yt=Object(u.a)([Object(d.a)("esri.widgets.Editor.UpdateWorkflowData")],Yt),Xt=Jt=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).type="update",r}return Object(a.a)(n,[{key:"highlight",value:function(e){var t=this.data.viewModel.view,n=e&&t.allLayerViews.items.find((function(t){return t.layer===e.layer}));Object(Wt.a)(n)&&this.handles.add(n.highlight(e),"candidate-highlight")}},{key:"unhighlight",value:function(){this.handles.remove("candidate-highlight")}}],[{key:"create",value:function(e,t,n){var r=new Kt({edits:new lt,viewModel:e}),i=new Jt({data:r,afterCommit:n});return i._set("steps",this._createWorkflowSteps(i,t)),i}},{key:"_createWorkflowSteps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"awaiting-feature-to-update",n=e.data,r=e.handles,i={"awaiting-feature-to-update":function(){return{id:"awaiting-feature-to-update",setUp:function(){var e=this;return Object(P.a)(A.a.mark((function t(){var i,a,o,s,c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.viewModel,a=i.spinnerViewModel,o=i.view,s=null,r.add({remove:function(){s&&(s.abort(),s=null)}},e.id),n.edits.feature=null,c=o.on("immediate-click",(function(e){a.location=e.mapPoint,a.visible=!0,s&&s.abort();var t=n.viewModel.editableItems;s=Object(ht.d)(),Object(ht.c)((function(n,r){Object(ht.p)(s.signal,(function(){return r(Object(ht.e)())})),n(Lt(t,o,e,s.signal))})).then((function(e){if(n.viewModel.spinnerViewModel.visible=!1,Object(ht.u)(s),n.candidates=e.reduce((function(e,t){return t.error?e:[].concat(Object(R.a)(e),Object(R.a)(t.value))}),[]),0!==n.candidates.length)if(1===n.candidates.length){var t=n.candidates[0];n.edits.feature=t,n.viewModel.activeWorkflow.go("editing-existing-feature")}else n.viewModel.activeWorkflow.next()}))})),r.add(c,e.id);case 5:case"end":return t.stop()}}),t)})))()},tearDown:function(){var e=this;return Object(P.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.remove(e.id);case 1:case"end":return t.stop()}}),t)})))()}}},"awaiting-update-feature-candidate":function(){return{id:"awaiting-update-feature-candidate",setUp:function(){var t=this;return Object(P.a)(A.a.mark((function i(){var a;return A.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:(a=n.edits).feature=null,r.add(Object(y.d)(a,"feature",(function(t){e.unhighlight(),e.highlight(t)})),t.id);case 2:case"end":return i.stop()}}),i)})))()},tearDown:function(){var t=this;return Object(P.a)(A.a.mark((function n(){return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.unhighlight(),r.remove(t.id);case 1:case"end":return n.stop()}}),n)})))()}}},"editing-existing-feature":function(){return{id:"editing-existing-feature",setUp:function(){var t=this;return Object(P.a)(A.a.mark((function i(){var a,o,s,c,u,l,h,f,d,p,b,v,y,m,g,O;return A.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=n.edits.feature,o=n.viewModel,n.editableItem=o.editableItems.find((function(e){return e.layer===a.layer})),s=Object(ht.d)(),r.add({remove:function(){return s.abort()}},t.id),c=o.view.whenLayerView(a.layer),u=Nt(a,o.view,s.signal),i.next=8,c;case 8:return l=i.sent,i.next=11,u;case 11:if(h=i.sent,!Object(ht.m)(s)){i.next=14;break}return i.abrupt("return");case 14:if(n.edits.updateGeometry(h.geometry),n.edits.updateAttributes(h.attributes),n.edits.trackChanges(),f=h.layer,d=Pt(o.layerInfos,f),p=d&&d.fieldConfig,o.attachmentsViewModel.set({graphic:h,mode:"view"}),o.featureFormViewModel.set({feature:h,fieldConfig:p}),b="createInteractiveEditSession"in l?l.createInteractiveEditSession(a):null,v=[o.featureFormViewModel.on("value-change",(function(e){n.edits.updateAttributes(o.featureFormViewModel.getValues()),h.attributes=n.edits.feature.attributes,b&&b.setAttribute(e.fieldName,e.value)})),o.attachmentsViewModel.watch("mode",(function(e){"add"===e&&n.viewModel.activeWorkflow.go("adding-attachment"),"edit"===e&&n.viewModel.activeWorkflow.go("editing-attachment")}))],b&&(v.push(Object(Ht.c)((function(){return b.rollback()}))),r.add(Object(Ht.c)((function(){return b.commit()})),e._handleKeys.afterCommit)),!f.capabilities.editing.supportsGeometryUpdate){i.next=30;break}return y=xt(h),i.next=24,zt(h,y,o.sketchViewModel,o.view,(function(e){var t=e.geometry,r=e.attributes;if(Object(at.h)(y.rotation)){var i=y.rotation.field;o.featureFormViewModel.setValue(i,r[i])}if(Object(at.h)(y.size)){var a=y.size.field;o.featureFormViewModel.setValue(a,r[a])}n.edits.updateAttributes(r),n.edits.updateGeometry(t)}));case 24:m=i.sent,g=m.interactive,O=m.visual,v.push(g,O),r.add(g,e._handleKeys.beforeCommit),r.add(O,e._handleKeys.afterCommit),i.next=31;break;case 30:e.highlight(h);case 31:r.add(v,t.id);case 32:case"end":return i.stop()}}),i)})))()},tearDown:function(){var t=this;return Object(P.a)(A.a.mark((function i(){return A.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n.editableItem=null,n.viewModel.featureFormViewModel.set({feature:null,fieldConfig:null}),r.remove(t.id),e.unhighlight();case 1:case"end":return i.stop()}}),i)})))()}}},"adding-attachment":function(){return{id:"adding-attachment",parent:"editing-existing-feature",setUp:function(){return Object(P.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},tearDown:function(){return Object(P.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}},"editing-attachment":function(){return{id:"editing-attachment",parent:"editing-existing-feature",setUp:function(){return Object(P.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},tearDown:function(){return Object(P.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}}},a=!1;return["awaiting-feature-to-update","awaiting-update-feature-candidate","editing-existing-feature","adding-attachment","editing-attachment"].filter((function(e){return!!a||(a=e===t)})).map((function(e){return i[e]()}))}}]),n}(dt),Qt=Xt=Jt=Object(u.a)([Object(d.a)("esri.widgets.Editor.UpdateWorkflow")],Xt),Zt=n(13),$t=n(56),en=n(137),tn=(n(99),n(134)),nn=n(170),rn=n(141),an=n(60),on=n(224),sn=n(47),cn=n(506),un=n(103),ln=n(395),hn=n(118),fn=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments))._hasZ=null,e.interactiveUndoDisabled=!1,e.history=[],e.redoHistory=[],e.snapToScene=!1,e.view=null,e.elevationInfo=null,e.defaultZ=0,e}return Object(a.a)(n,[{key:"hasZ",get:function(){return Object(at.h)(this._hasZ)?this._hasZ:"3d"===this.view.type},set:function(e){this._hasZ=e,this.notifyChange("hasZ")}},{key:"canUndo",value:function(){return this.history.length>0}},{key:"canRedo",value:function(){return this.redoHistory.length>0}},{key:"undo",value:function(){if(this.canUndo()){var e=this.history.pop();e.undo(),this.redoHistory.push(e)}}},{key:"redo",value:function(){if(this.canRedo()){var e=this.redoHistory.pop();e.redo(),this.history.push(e)}}},{key:"getCoordsFromScreenPoint",value:function(e){var t=this.screenToMap(e);return Object(at.h)(t)?t.hasZ?[t.x,t.y,t.z]:[t.x,t.y]:null}},{key:"getCoordsAndPointFromScreenPoint",value:function(e){var t=this.screenToMap(e);return Object(at.h)(t)?t.hasZ?{vertex:[t.x,t.y,t.z],mapPoint:t}:{vertex:[t.x,t.y],mapPoint:t}:null}},{key:"isDuplicateVertex",value:function(e,t){if(e.length){var n=Object(r.a)(e[e.length-1],2),i=n[0],a=n[1];return i===t[0]&&a===t[1]}return!1}},{key:"getGeometryZValue",value:function(){return this.defaultZ}},{key:"screenToMap",value:function(e){var t=null;if("3d"===this.view.type)if(this.hasZ){var n=Object(at.o)(this.elevationInfo,dn);t=this.view.sceneIntersectionHelper.intersectElevationFromScreen(Object(pt.f)(e.x,e.y),n,this.getGeometryZValue())}else{var r=Object(at.o)(this.elevationInfo,pn);t=this.view.sceneIntersectionHelper.intersectElevationFromScreen(Object(pt.f)(e.x,e.y),r,0),Object(at.h)(t)&&(t.z=void 0)}else t=this.view.toMap(e),Object(at.h)(t)&&(t.z=this.hasZ?this.getGeometryZValue():void 0);return t}}]),n}(z.a.EventedAccessor);Object(u.a)([Object(h.b)({type:Boolean,nonNullable:!0})],fn.prototype,"interactiveUndoDisabled",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],fn.prototype,"history",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],fn.prototype,"redoHistory",void 0),Object(u.a)([Object(h.b)()],fn.prototype,"snapToScene",void 0),Object(u.a)([Object(h.b)()],fn.prototype,"view",void 0),Object(u.a)([Object(h.b)()],fn.prototype,"elevationInfo",void 0),Object(u.a)([Object(h.b)({nonNullable:!0})],fn.prototype,"defaultZ",void 0),Object(u.a)([Object(h.b)({dependsOn:["view"]})],fn.prototype,"hasZ",null),fn=Object(u.a)([Object(d.a)("esri.views.draw.DrawAction")],fn);var dn={mode:"absolute-height",offset:0},pn={mode:"on-the-ground",offset:0},bn=fn,vn=function(){function e(t,n,r,a){Object(i.a)(this,e),this.view=t,this.native=n,this.vertexIndex=r,this.vertices=a,this.defaultPrevented=!1,this.type="vertex-add"}return Object(a.a)(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),e}(),yn=function(){function e(t,n,r,a){Object(i.a)(this,e),this.view=t,this.native=n,this.vertexIndex=r,this.vertices=a,this.defaultPrevented=!1,this.type="vertex-update"}return Object(a.a)(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),e}(),mn=function(){function e(t,n,r,a){Object(i.a)(this,e),this.view=t,this.native=n,this.vertexIndex=r,this.vertices=a,this.defaultPrevented=!1,this.type="vertex-remove"}return Object(a.a)(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),e}(),gn=function(){function e(t,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(i.a)(this,e),this.view=t,this.native=n,this.vertexIndex=r,this.vertices=a,this.mapPoint=o,this.coordinates=null,this.defaultPrevented=!1,this.type="cursor-update",this.coordinates=1===a.length?a[0]:null}return Object(a.a)(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),e}(),On=function(){function e(t,n){Object(i.a)(this,e),this.native=t,this.vertices=n,this.coordinates=null,this.defaultPrevented=!1,this.type="draw-complete",this.coordinates=1===n.length?n[0]:null}return Object(a.a)(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),e}(),jn="c",wn="r",_n="z",xn="f",kn=" ",Sn=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._cursorMoved=!1,r._cursorScreenPoint=null,r._dragEnabled=!0,r._pointerDownEvent=null,r._viewHandles=new an.a,r.vertices=[],r}return Object(a.a)(n,[{key:"initialize",value:function(){this._addViewHandles()}},{key:"destroy",value:function(){this._removeViewHandles(),this._viewHandles.destroy(),this.emit("destroy")}},{key:"addVertex",value:function(e,t){var n=this;isNaN(t)?(t=this.vertices.length,this.vertices.push(e)):this.vertices.splice(t,0,e);var r={vertex:e,vertexIndex:t,undo:function(){return n._undoVertexAdd(null,t)},redo:function(){return n._redoVertexAdd(null,e,t)}};this.history.push(r),this._set("redoHistory",[]);var i=new vn(this.view,null,t,this.vertices);this.emit("vertex-add",i),i.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())}},{key:"removeVertex",value:function(e){var t=this,n=this.vertices.splice(e,1)[0],r={vertex:n,vertexIndex:e,undo:function(){return t._undoVertexRemove(null,n,e)},redo:function(){return t._redoVertexRemove(null,e)}};this.history.push(r),this._set("redoHistory",[]),this.emit("vertex-remove",new mn(this.view,null,e,this.vertices))}},{key:"updateVertex",value:function(e,t){var n=this,r=this.vertices[t];this.vertices[t]=e;var i={vertex:e,vertexIndex:t,undo:function(){return n._undoVertexUpdate(null,r,t)},redo:function(){return n._redoVertexUpdate(null,e,t)}};this.history.push(i),this._set("redoHistory",[]),this.emit("vertex-update",new yn(this.view,null,t,this.vertices))}},{key:"complete",value:function(){this._completeDrawing()}},{key:"_addViewHandles",value:function(){var e=this;this._removeViewHandles(),this._viewHandles.add([this.view.on("click",(function(e){e.stopPropagation()}),sn.a.TOOL),this.view.on("pointer-down",(function(t){e._cursorMoved&&e.vertices.pop(),e._pointerDownEvent=t,e._cursorMoved=!1,e._cursorScreenPoint=Object(un.a)(t)}),sn.a.TOOL),this.view.on("pointer-move",(function(t){e._cursorMoved&&e.vertices.pop(),e._cursorMoved=!0,e._cursorScreenPoint=Object(un.a)(t),e._cursorUpdateHandler(t)}),sn.a.TOOL),this.view.on("pointer-up",(function(t){if(e._pointerDownEvent){if(e._cursorMoved)return e.vertices.pop(),void(e._cursorMoved=!1);e._pointerDownEvent=null,e._vertexAddHandler(t)}}),sn.a.TOOL),this.view.on("drag",(function(t){e._dragEnabled&&e._pointerDownEvent&&t.stopPropagation()}),sn.a.TOOL),this.view.on("drag",["Shift"],(function(e){e.stopPropagation()}),sn.a.TOOL),this.view.on("double-click",(function(t){t.stopPropagation(),e._drawCompleteHandler(t)}),sn.a.TOOL),this.view.on("double-click",["Control"],(function(t){t.stopPropagation(),e._drawCompleteHandler(t)}),sn.a.TOOL),this.view.on("key-down",(function(t){t.key===xn&&!t.repeat&&e._cursorScreenPoint?(e._cursorMoved&&(e.vertices.pop(),e._cursorMoved=!1),e._vertexAddHandler(t)):t.key===jn&&!t.repeat&&e._cursorScreenPoint?(e._cursorMoved&&(e.vertices.pop(),e._cursorMoved=!1),e._vertexAddHandler(t),e._drawCompleteHandler(t)):t.key!==_n||e.interactiveUndoDisabled||t.repeat?t.key!==wn||e.interactiveUndoDisabled||t.repeat||(t.stopPropagation(),e.redo()):(t.stopPropagation(),e.undo())}),sn.a.TOOL)])}},{key:"_removeViewHandles",value:function(){this._viewHandles.removeAll()}},{key:"_addVertex",value:function(e,t){var n=this;this.vertices.push(e);var r=this.vertices.indexOf(e),i={vertex:e,vertexIndex:r,undo:function(){return n._undoVertexAdd(t,r)},redo:function(){return n._redoVertexAdd(t,e,r)}};this.history.push(i),this._set("redoHistory",[]);var a=new vn(this.view,t,r,this.vertices);this.emit("vertex-add",a),a.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())}},{key:"_updateCursor",value:function(e,t){this.vertices.push(e);var n=this.vertices.indexOf(e),r=new gn(this.view,t,n,this.vertices);this.emit("cursor-update",r)}},{key:"_completeDrawing",value:function(e){if(this._cursorMoved=!1,this._pointerDownEvent=null,!(this.vertices.length<1)){var t=new On(e,this.vertices);this.emit("draw-complete",t),t.defaultPrevented?this._cursorMoved=!0:this._removeViewHandles()}}},{key:"_undoVertexAdd",value:function(e,t){this.vertices.splice(t,1),this.emit("undo",new mn(this.view,e,t,this.vertices))}},{key:"_redoVertexAdd",value:function(e,t,n){this.vertices.splice(n,0,t),this.emit("redo",new vn(this.view,e,n,this.vertices))}},{key:"_undoVertexRemove",value:function(e,t,n){this.vertices.splice(n,0,t),this.emit("undo",new vn(this.view,e,n,this.vertices))}},{key:"_redoVertexRemove",value:function(e,t){this.vertices.splice(t,1),this.emit("redo",new mn(this.view,e,t,this.vertices))}},{key:"_undoVertexUpdate",value:function(e,t,n){this.vertices[n]=t,this.emit("undo",new yn(this.view,e,n,this.vertices))}},{key:"_redoVertexUpdate",value:function(e,t,n){this.vertices[n]=t,this.emit("redo",new yn(this.view,e,n,this.vertices))}},{key:"_vertexAddHandler",value:function(e){var t=this.getCoordsFromScreenPoint(this._cursorScreenPoint);Object(at.h)(t)&&this._addVertex(t,e.native)}},{key:"_cursorUpdateHandler",value:function(e){var t=this.getCoordsFromScreenPoint(this._cursorScreenPoint);Object(at.h)(t)&&this._updateCursor(t,e.native)}},{key:"_drawCompleteHandler",value:function(e){this._completeDrawing(e.native)}}]),n}(bn);Object(u.a)([Object(h.b)({readOnly:!0})],Sn.prototype,"vertices",void 0),Sn=Object(u.a)([Object(d.a)("esri.views.draw.MultipointDrawAction")],Sn);Object.freeze({__proto__:null,get MultipointDrawAction(){return Sn}});var En=n(61),Tn=n(57),Mn=n(474),Cn=n(378);var An=300,Pn=1.5,In=6,Dn=6,Ln=500,Rn=(Cn.a,n(455)),Nn=n(581),Fn=n(573),zn=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).drawOperation=null,r.hasZ=!0,r.defaultZ=0,r.elevationInfo=null,r.snapToScene=null,r.snappingOptions=new ln.a,r.mode=null,r.geometryType=null,r.type="draw-3d",r}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this,t=Object(at.o)(this.elevationInfo,{mode:this.hasZ?"absolute-height":"on-the-ground",offset:0});this.drawOperation=new Nn.a({view:this.view,manipulators:this.manipulators,geometryType:this.geometryType,drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new Rn.b(this.view,t),hasM:!1,elevationInfo:t,snappingOptions:this.snappingOptions}),this.drawOperation.on("vertex-add",(function(t){return e.onVertexAdd(t)})),this.drawOperation.on("vertex-remove",(function(t){return e.onVertexRemove(t)})),this.drawOperation.on("vertex-update",(function(t){return e.onVertexUpdate(t)})),this.drawOperation.on("cursor-update",(function(t){return e.onCursorUpdate(t)})),this.drawOperation.on("complete",(function(t){return e.onComplete(t)}))}},{key:"destroy",value:function(){this.drawOperation.destroy(),this.drawOperation=null,this._set("view",null)}},{key:"onInputEvent",value:function(e){this.drawOperation.onInputEvent(e)}},{key:"enabled",set:function(e){this.drawOperation.interactive=e,this._set("enabled",e)}},{key:"reset",value:function(){}},{key:"canRedo",get:function(){return this.drawOperation.canRedo}},{key:"redo",value:function(){this.drawOperation.redo()}},{key:"canUndo",get:function(){return this.drawOperation.canUndo}},{key:"undo",value:function(){this.drawOperation.undo()}},{key:"completeCreateOperation",value:function(){this.drawOperation.complete()}},{key:"activate",value:function(){}},{key:"deactivate",value:function(){this.drawOperation.isCompleted||this.drawOperation.cancel()}},{key:"getVertexCoords",value:function(){return this.drawOperation.vertices}},{key:"onVertexAdd",value:function(e){this.emit("vertex-add",e)}},{key:"onVertexRemove",value:function(e){this.emit("vertex-remove",e)}},{key:"onVertexUpdate",value:function(e){this.emit("vertex-update",e)}},{key:"onCursorUpdate",value:function(e){this.emit("cursor-update",e)}},{key:"onComplete",value:function(e){this.emit("complete",e)}}]),n}(z.a.EventedMixin(Fn.a));Object(u.a)([Object(h.b)({constructOnly:!0,nonNullable:!0})],zn.prototype,"view",void 0),Object(u.a)([Object(h.b)({value:!0})],zn.prototype,"enabled",null),Object(u.a)([Object(h.b)({constructOnly:!0})],zn.prototype,"hasZ",void 0),Object(u.a)([Object(h.b)({constructOnly:!0,nonNullable:!0})],zn.prototype,"defaultZ",void 0),Object(u.a)([Object(h.b)({constructOnly:!0})],zn.prototype,"elevationInfo",void 0),Object(u.a)([Object(h.b)()],zn.prototype,"snapToScene",void 0),Object(u.a)([Object(h.b)({constructOnly:!0})],zn.prototype,"snappingOptions",void 0),Object(u.a)([Object(h.b)({constructOnly:!0})],zn.prototype,"mode",void 0),Object(u.a)([Object(h.b)({constructOnly:!0})],zn.prototype,"geometryType",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],zn.prototype,"type",void 0),zn=Object(u.a)([Object(d.a)("esri.views.3d.interactive.editingTools.draw.DrawTool")],zn);var Vn=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._clickDelay=An,r._cursorMoved=!1,r._cursorScreenPoint=null,r._pointerDownEvent=null,r._viewHandles=new an.a,r.coordinates=[],r}return Object(a.a)(n,[{key:"initialize",value:function(){"2d"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}},{key:"destroy",value:function(){"2d"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy(),this.emit("destroy")):(this._removeDrawTool(),this.emit("destroy"))}},{key:"complete",value:function(){if("2d"===this.view.type){if(this._cursorScreenPoint){var e=this.getCoordsFromScreenPoint(this._cursorScreenPoint);Object(at.h)(e)&&(this._set("coordinates",e),this._completeDrawing())}}else this._drawTool.completeCreateOperation()}},{key:"_addViewHandles",value:function(){var e=this;this._removeViewHandles(),this._viewHandles.add([this.view.on("click",(function(t){t.stopPropagation();var n=e.getCoordsFromScreenPoint(t.screenPoint);Object(at.h)(n)&&(e._set("coordinates",n),e._drawCompleteHandler(t))}),sn.a.TOOL),this.view.on("pointer-down",(function(t){e._pointerDownEvent=t,e._cursorMoved=!1}),sn.a.TOOL),this.view.on("pointer-move",(function(t){e._cursorMoved=!0,e._cursorScreenPoint=Object(un.a)(t),e._cursorUpdateHandler(t)}),sn.a.TOOL),this.view.on("pointer-up",(function(t){if(e._pointerDownEvent&&!e._cursorMoved&&t.timestamp-e._pointerDownEvent.timestamp>e._clickDelay){e._cursorScreenPoint=Object(un.a)(t);var n=e.getCoordsFromScreenPoint(e._cursorScreenPoint);Object(at.h)(n)&&(e._set("coordinates",n),e._drawCompleteHandler(t))}}),sn.a.TOOL),this.view.on("key-down",(function(t){if(t.key===jn&&e._cursorScreenPoint){var n=e.getCoordsFromScreenPoint(e._cursorScreenPoint);Object(at.h)(n)&&(e._set("coordinates",n),e._drawCompleteHandler(t))}}),sn.a.TOOL)])}},{key:"_removeViewHandles",value:function(){this._viewHandles.removeAll()}},{key:"_addDrawTool",value:function(e){var t=this;this._drawTool=new zn({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"point",mode:"click"}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on("cursor-update",(function(e){1===e.vertices.length&&t.emit("cursor-update",new gn(t.view,null,e.vertices[0].vertexIndex,t._drawTool.getVertexCoords()))})),this._drawTool.on("complete",(function(e){t.emit("draw-complete",new On(null,t._drawTool.getVertexCoords())),t._removeDrawTool()}))}},{key:"_removeDrawTool",value:function(){Object(at.h)(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)}},{key:"_updateCursor",value:function(e,t){Object(at.h)(e)?this.emit("cursor-update",new gn(this.view,t,0,[e])):this.emit("cursor-update",new gn(this.view,t,null,null))}},{key:"_completeDrawing",value:function(e){this._cursorMoved=!1,this._pointerDownEvent=null;var t=new On(e,[this.coordinates]);this.emit("draw-complete",t),t.defaultPrevented||this._removeViewHandles()}},{key:"_cursorUpdateHandler",value:function(e){this._updateCursor(this.getCoordsFromScreenPoint(this._cursorScreenPoint),e.native)}},{key:"_drawCompleteHandler",value:function(e){this._completeDrawing(e.native)}}]),n}(bn);Object(u.a)([Object(h.b)({readOnly:!0})],Vn.prototype,"coordinates",void 0),Vn=Object(u.a)([Object(d.a)("esri.views.draw.PointDrawAction")],Vn);var Un=n(309),Bn=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._cursorScreenPoint=null,r._panEnabled=!1,r._cursorVertexAdded=!1,r._popVertexOnPointerMove=!1,r._addVertexOnPointerUp=!1,r._activePointerId=null,r._viewHandles=new an.a,r.mode=Un.a,r.vertices=[],r}return Object(a.a)(n,[{key:"initialize",value:function(){"2d"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}},{key:"destroy",value:function(){"2d"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit("destroy")}},{key:"_clickEnabled",get:function(){return"click"===this.mode||"hybrid"===this.mode}},{key:"_dragEnabled",get:function(){return"freehand"===this.mode||"hybrid"===this.mode}},{key:"addVertex",value:function(e,t){var n=this;this.vertices.splice(t,0,e);var r={vertex:e,vertexIndex:t,undo:function(){return n._undoVertexAdd(null,t)},redo:function(){return n._redoVertexAdd(null,e,t)}};this.history.push(r),this._set("redoHistory",[]);var i=new vn(this.view,null,t,this.vertices);this.emit("vertex-add",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())}},{key:"removeVertex",value:function(e){var t=this,n=this.vertices.splice(e,1)[0],r={vertex:n,vertexIndex:e,undo:function(){return t._undoVertexRemove(null,n,e)},redo:function(){return t._redoVertexRemove(null,e)}};this.history.push(r),this._set("redoHistory",[]),this.emit("vertex-remove",new mn(this.view,null,e,this.vertices))}},{key:"updateVertex",value:function(e,t){var n=this,r=this.vertices[t];this.vertices[t]=e;var i={vertex:e,vertexIndex:t,undo:function(){return n._undoVertexUpdate(null,r,t)},redo:function(){return n._redoVertexUpdate(null,e,t)}};this.history.push(i),this._set("redoHistory",[]),this.emit("vertex-update",new yn(this.view,null,t,this.vertices))}},{key:"complete",value:function(){"2d"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}},{key:"getGeometryZValue",value:function(){return this.vertices.length>0&&this.vertices[0].length>2?this.vertices[0][2]:this._get("defaultZ")}},{key:"_addViewHandles",value:function(){var e=this;this._removeViewHandles(),this._viewHandles.add([this.view.on("click",(function(e){e.stopPropagation()}),sn.a.TOOL),this.view.on("pointer-down",(function(t){e._shouldHandlePointerEvent(t)&&(e._panEnabled||(e._activePointerId=t.pointerId,e._addVertexOnPointerUp=!0,e._cursorScreenPoint=Object(un.a)(t),"touch"===t.pointerType&&e._updateCursor(t.native)))}),sn.a.TOOL),this.view.on("pointer-move",(function(t){e._popVertexOnPointerMove&&(e.vertices.pop(),e._popVertexOnPointerMove=!1),e._cursorScreenPoint=Object(un.a)(t),"touch"!==t.pointerType&&e._updateCursor(t.native)}),sn.a.TOOL),this.view.on("pointer-drag",(function(t){e._shouldHandlePointerEvent(t)&&(e._cursorScreenPoint=Object(un.a)(t),e._dragEnabled&&!e._panEnabled?e._vertexAddHandler(t):e._addVertexOnPointerUp=!1)}),sn.a.TOOL),this.view.on("pointer-up",(function(t){if(e._shouldHandlePointerEvent(t))if(e._activePointerId=null,e._addVertexOnPointerUp){if(!e._clickEnabled)return 1===e.vertices.length&&e.vertices.pop(),void e._drawCompleteHandler(t);e._vertexAddHandler(t)}else{var n="touch"===t.pointerType;e._updateCursor(t.native,n)}}),sn.a.TOOL),this.view.on("drag",(function(t){e._dragEnabled&&Object(at.h)(e._activePointerId)&&!e._panEnabled&&t.stopPropagation()}),sn.a.TOOL),this.view.on("drag",["Shift"],(function(e){e.stopPropagation()}),sn.a.TOOL),this.view.on("double-click",(function(t){t.stopPropagation(),e._drawCompleteHandler(t)}),sn.a.TOOL),this.view.on("double-click",["Control"],(function(t){t.stopPropagation(),e._drawCompleteHandler(t)}),sn.a.TOOL),this.view.on("key-down",(function(t){var n=t.key,r=t.repeat;n===xn&&!r&&e._cursorScreenPoint?(t.stopPropagation(),e._vertexAddHandler(t)):n===jn&&!r&&e._cursorScreenPoint&&e.vertices.length>2?(t.stopPropagation(),e._vertexAddHandler(t),e._drawCompleteHandler(t)):n!==_n||e.interactiveUndoDisabled||r?n!==wn||e.interactiveUndoDisabled||r?n!==kn||r||(t.stopPropagation(),e._panEnabled=!0):(t.stopPropagation(),e.redo()):(t.stopPropagation(),e.undo())}),sn.a.TOOL),this.view.on("key-up",(function(t){t.key===kn&&(t.stopPropagation(),e._panEnabled=!1)}),sn.a.TOOL)])}},{key:"_removeViewHandles",value:function(){this._viewHandles.removeAll()}},{key:"_addDrawTool",value:function(e){var t=this;this._drawTool=new zn({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"polygon",mode:this.mode}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on("vertex-add",(function(e){1===e.vertices.length&&t.emit("vertex-add",new vn(t.view,null,e.vertices[0].vertexIndex,t._drawTool.getVertexCoords()))})),this._drawTool.on("cursor-update",(function(e){1===e.vertices.length&&t.emit("cursor-update",new gn(t.view,null,e.vertices[0].vertexIndex,t._drawTool.getVertexCoords()))})),this._drawTool.on("complete",(function(e){t.emit("draw-complete",new On(null,t._drawTool.getVertexCoords())),t._removeDrawTool()}))}},{key:"_removeDrawTool",value:function(){Object(at.h)(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)}},{key:"_addVertex",value:function(e,t){var n=this;if(this._popCursorVertex(),!this.isDuplicateVertex(this.vertices,e)){var r=this.vertices.length;this.vertices.push(e);var i={vertex:e,vertexIndex:r,undo:function(){return n._undoVertexAdd(t,r)},redo:function(){return n._redoVertexAdd(t,e,r)}};this.history.push(i),this._set("redoHistory",[]);var a=new vn(this.view,t,r,this.vertices);this.emit("vertex-add",a),a.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())}}},{key:"_updateCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._popCursorVertex(),this._cursorScreenPoint){var n=null,r=null,i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);Object(at.h)(i)&&(n=i.mapPoint,t||(r=this._pushCursorVertex(i.vertex)));var a=new gn(this.view,e,r,this.vertices,n);this.emit("cursor-update",a)}}},{key:"_completeDrawing",value:function(e){if(this._activePointerId=null,this._popCursorVertex(),!(this.vertices.length<3)){var t=new On(e,this.vertices);this.emit("draw-complete",t),t.defaultPrevented||this._removeViewHandles()}}},{key:"_undoVertexAdd",value:function(e,t){this.vertices.splice(t,1),this.emit("undo",new mn(this.view,e,t,this.vertices))}},{key:"_redoVertexAdd",value:function(e,t,n){this.vertices.splice(n,0,t),this.emit("redo",new vn(this.view,e,n,this.vertices))}},{key:"_undoVertexRemove",value:function(e,t,n){this.vertices.splice(n,0,t),this.emit("undo",new vn(this.view,e,n,this.vertices))}},{key:"_redoVertexRemove",value:function(e,t){this.vertices.splice(t,1),this.emit("redo",new mn(this.view,e,t,this.vertices))}},{key:"_undoVertexUpdate",value:function(e,t,n){this.vertices[n]=t,this.emit("undo",new yn(this.view,e,n,this.vertices))}},{key:"_redoVertexUpdate",value:function(e,t,n){this.vertices[n]=t,this.emit("redo",new yn(this.view,e,n,this.vertices))}},{key:"_pushCursorVertex",value:function(e){return this._popCursorVertex(),this.vertices.push(e),this._cursorVertexAdded=!0,this.vertices.length-1}},{key:"_popCursorVertex",value:function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)}},{key:"_shouldHandlePointerEvent",value:function(e){return function(e){return"mouse"!==e.pointerType||0===e.button}(e)&&(Object(at.g)(this._activePointerId)||this._activePointerId===e.pointerId)}},{key:"_vertexAddHandler",value:function(e){if(this._cursorVertexAdded){var t=this.vertices[this.vertices.length-1];this._addVertex(t,e.native)}else{var n=this.getCoordsFromScreenPoint(this._cursorScreenPoint);Object(at.h)(n)&&this._addVertex(n,e.native)}}},{key:"_drawCompleteHandler",value:function(e){this._completeDrawing(e.native)}}]),n}(bn);Object(u.a)([Object(h.b)({dependsOn:["mode"]})],Bn.prototype,"_clickEnabled",null),Object(u.a)([Object(h.b)({dependsOn:["mode"]})],Bn.prototype,"_dragEnabled",null),Object(u.a)([Object(h.b)({type:Un.b})],Bn.prototype,"mode",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],Bn.prototype,"vertices",void 0),Bn=Object(u.a)([Object(d.a)("esri.views.draw.PolygonDrawAction")],Bn);var Gn=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._cursorScreenPoint=null,r._panEnabled=!1,r._cursorVertexAdded=!1,r._popVertexOnPointerMove=!1,r._addVertexOnPointerUp=!1,r._activePointerId=null,r._viewHandles=new an.a,r.mode=Un.a,r.vertices=[],r}return Object(a.a)(n,[{key:"initialize",value:function(){"2d"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}},{key:"destroy",value:function(){"2d"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit("destroy")}},{key:"_clickEnabled",get:function(){return"click"===this.mode||"hybrid"===this.mode}},{key:"_dragEnabled",get:function(){return"freehand"===this.mode||"hybrid"===this.mode}},{key:"addVertex",value:function(e,t){var n=this;this.vertices.splice(t,0,e);var r={vertex:e,vertexIndex:t,undo:function(){return n._undoVertexAdd(null,t)},redo:function(){return n._redoVertexAdd(null,e,t)}};this.history.push(r),this._set("redoHistory",[]);var i=new vn(this.view,null,t,this.vertices);this.emit("vertex-add",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())}},{key:"removeVertex",value:function(e){var t=this,n=this.vertices.splice(e,1)[0],r={vertex:n,vertexIndex:e,undo:function(){return t._undoVertexRemove(null,n,e)},redo:function(){return t._redoVertexRemove(null,e)}};this.history.push(r),this._set("redoHistory",[]),this.emit("vertex-remove",new mn(this.view,null,e,this.vertices))}},{key:"updateVertex",value:function(e,t){var n=this,r=this.vertices[t];this.vertices[t]=e;var i={vertex:e,vertexIndex:t,undo:function(){return n._undoVertexUpdate(null,r,t)},redo:function(){return n._redoVertexUpdate(null,e,t)}};this.history.push(i),this._set("redoHistory",[]),this.emit("vertex-update",new yn(this.view,null,t,this.vertices))}},{key:"complete",value:function(){"2d"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}},{key:"_addViewHandles",value:function(){var e=this;this._removeViewHandles(),this._viewHandles.add([this.view.on("click",(function(e){e.stopPropagation()}),sn.a.TOOL),this.view.on("pointer-down",(function(t){e._shouldHandlePointerEvent(t)&&(e._panEnabled||(e._activePointerId=t.pointerId,e._addVertexOnPointerUp=!0,e._cursorScreenPoint=Object(un.a)(t),"touch"===t.pointerType&&e._updateCursor(t.native)))}),sn.a.TOOL),this.view.on("pointer-move",(function(t){e._popVertexOnPointerMove&&(e.vertices.pop(),e._popVertexOnPointerMove=!1),e._cursorScreenPoint=Object(un.a)(t),"touch"!==t.pointerType&&e._updateCursor(t.native)}),sn.a.TOOL),this.view.on("pointer-drag",(function(t){e._shouldHandlePointerEvent(t)&&(e._cursorScreenPoint=Object(un.a)(t),e._dragEnabled&&!e._panEnabled?e._vertexAddHandler(t):e._addVertexOnPointerUp=!1)}),sn.a.TOOL),this.view.on("pointer-up",(function(t){if(e._shouldHandlePointerEvent(t))if(e._activePointerId=null,e._addVertexOnPointerUp){if(!e._clickEnabled)return 1===e.vertices.length&&e.vertices.pop(),void e._drawCompleteHandler(t);e._vertexAddHandler(t)}else{var n="touch"===t.pointerType;e._updateCursor(t.native,n)}}),sn.a.TOOL),this.view.on("drag",(function(t){e._dragEnabled&&Object(at.h)(e._activePointerId)&&!e._panEnabled&&t.stopPropagation()}),sn.a.TOOL),this.view.on("drag",["Shift"],(function(e){e.stopPropagation()}),sn.a.TOOL),this.view.on("double-click",(function(t){t.stopPropagation(),e._drawCompleteHandler(t)}),sn.a.TOOL),this.view.on("double-click",["Control"],(function(t){t.stopPropagation(),e._drawCompleteHandler(t)}),sn.a.TOOL),this.view.on("key-down",(function(t){var n=t.key,r=t.repeat;n===xn&&!r&&e._cursorScreenPoint?(t.stopPropagation(),e._vertexAddHandler(t)):n===jn&&!r&&e._cursorScreenPoint&&e.vertices.length>1?(t.stopPropagation(),e._vertexAddHandler(t),e._drawCompleteHandler(t)):n!==_n||e.interactiveUndoDisabled||r?n!==wn||e.interactiveUndoDisabled||r?n!==kn||r||(t.stopPropagation(),e._panEnabled=!0):(t.stopPropagation(),e.redo()):(t.stopPropagation(),e.undo())}),sn.a.TOOL),this.view.on("key-up",(function(t){t.key===kn&&(t.stopPropagation(),e._panEnabled=!1)}),sn.a.TOOL)])}},{key:"_removeViewHandles",value:function(){this._viewHandles.removeAll()}},{key:"_addDrawTool",value:function(e){var t=this;this._drawTool=new zn({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"polyline",mode:this.mode}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on("vertex-add",(function(e){1===e.vertices.length&&t.emit("vertex-add",new vn(t.view,null,e.vertices[0].vertexIndex,t._drawTool.getVertexCoords()))})),this._drawTool.on("cursor-update",(function(e){1===e.vertices.length&&t.emit("cursor-update",new gn(t.view,null,e.vertices[0].vertexIndex,t._drawTool.getVertexCoords()))})),this._drawTool.on("complete",(function(e){t.emit("draw-complete",new On(null,t._drawTool.getVertexCoords())),t._removeDrawTool()}))}},{key:"_removeDrawTool",value:function(){Object(at.h)(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool=Object(at.d)(this._drawTool))}},{key:"_addVertex",value:function(e,t){var n=this;if(this._popCursorVertex(),!this.isDuplicateVertex(this.vertices,e)){this.vertices.push(e);var r=this.vertices.length-1,i={vertex:e,vertexIndex:r,undo:function(){return n._undoVertexAdd(t,r)},redo:function(){return n._redoVertexAdd(t,e,r)}};this.history.push(i),this._set("redoHistory",[]);var a=new vn(this.view,t,r,this.vertices);this.emit("vertex-add",a),a.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())}}},{key:"_updateCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._popCursorVertex(),this._cursorScreenPoint){var n=null,r=null,i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);Object(at.h)(i)&&(n=i.mapPoint,t||(r=this._pushCursorVertex(i.vertex)));var a=new gn(this.view,e,r,this.vertices,n);this.emit("cursor-update",a)}}},{key:"_completeDrawing",value:function(e){if(this._activePointerId=null,this._popCursorVertex(),!(this.vertices.length<2)){var t=new On(e,this.vertices);this.emit("draw-complete",t),t.defaultPrevented||this._removeViewHandles()}}},{key:"_undoVertexAdd",value:function(e,t){this.vertices.splice(t,1),this.emit("undo",new mn(this.view,e,t,this.vertices))}},{key:"_redoVertexAdd",value:function(e,t,n){this.vertices.splice(n,0,t),this.emit("redo",new vn(this.view,e,n,this.vertices))}},{key:"_undoVertexRemove",value:function(e,t,n){this.vertices.splice(n,0,t),this.emit("undo",new vn(this.view,e,n,this.vertices))}},{key:"_redoVertexRemove",value:function(e,t){this.vertices.splice(t,1),this.emit("redo",new mn(this.view,e,t,this.vertices))}},{key:"_undoVertexUpdate",value:function(e,t,n){this.vertices[n]=t,this.emit("undo",new yn(this.view,e,n,this.vertices))}},{key:"_redoVertexUpdate",value:function(e,t,n){this.vertices[n]=t,this.emit("redo",new yn(this.view,e,n,this.vertices))}},{key:"_pushCursorVertex",value:function(e){return this._popCursorVertex(),this.vertices.push(e),this._cursorVertexAdded=!0,this.vertices.length-1}},{key:"_popCursorVertex",value:function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)}},{key:"_shouldHandlePointerEvent",value:function(e){return function(e){return"mouse"!==e.pointerType||0===e.button}(e)&&(Object(at.g)(this._activePointerId)||this._activePointerId===e.pointerId)}},{key:"_vertexAddHandler",value:function(e){if(this._cursorVertexAdded){var t=this.vertices[this.vertices.length-1];this._addVertex(t,e.native)}else{var n=this.getCoordsFromScreenPoint(this._cursorScreenPoint);Object(at.h)(n)&&this._addVertex(n,e.native)}}},{key:"_drawCompleteHandler",value:function(e){this._completeDrawing(e.native)}}]),n}(bn);Object(u.a)([Object(h.b)({dependsOn:["mode"]})],Gn.prototype,"_clickEnabled",null),Object(u.a)([Object(h.b)({dependsOn:["mode"]})],Gn.prototype,"_dragEnabled",null),Object(u.a)([Object(h.b)({type:Un.b})],Gn.prototype,"mode",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],Gn.prototype,"vertices",void 0),Gn=Object(u.a)([Object(d.a)("esri.views.draw.PolylineDrawAction")],Gn);var qn=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._isDragging=!1,r._panEnabled=!1,r._cursorScreenPoint=null,r._viewHandles=new an.a,r._cursorVertexAdded=!1,r._activePointerId=null,r.viewAlignedCoordinateSystem=null,r.mode="freehand",r.vertices=[],r}return Object(a.a)(n,[{key:"initialize",value:function(){"2d"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}},{key:"destroy",value:function(){"2d"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit("destroy")}},{key:"complete",value:function(){"2d"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}},{key:"getGeometryZValue",value:function(){return this.vertices.length>0&&this.vertices[0].length>2?this.vertices[0][2]:this._get("defaultZ")}},{key:"_addViewHandles",value:function(){this._removeViewHandles(),"click"===this.mode?this._viewHandles.add(this._getClickModeViewHandles()):this._viewHandles.add(this._getDragModeViewHandles())}},{key:"_getDragModeViewHandles",value:function(){var e=this;return[this.view.on("immediate-click",(function(t){if(t.stopPropagation(),t.mapPoint&&!e._panEnabled){var n=e.getCoordsFromScreenPoint(Object(un.a)(t));Object(at.h)(n)&&(e._set("vertices",[n]),e._drawCompleteHandler(t))}}),sn.a.TOOL),this.view.on("pointer-down",(function(t){e._shouldHandlePointerEvent(t)&&(e._panEnabled||(e._cursorScreenPoint=Object(un.a)(t),e._set("vertices",[]),e._activePointerId=t.pointerId,e._vertexAddHandler(t),e._isDragging=!1,"touch"===t.pointerType&&e._cursorUpdateHandler(t)))}),sn.a.TOOL),this.view.on("pointer-move",(function(t){e._cursorScreenPoint=Object(un.a)(t),Object(at.g)(e._activePointerId)&&"touch"!==t.pointerType&&0===e.vertices.length&&e._cursorUpdateHandler(t)}),sn.a.TOOL),this.view.on("pointer-drag",(function(t){e._shouldHandlePointerEvent(t)&&(e._isDragging=!0,e._cursorScreenPoint=Object(un.a)(t),e._cursorUpdateHandler(t))}),sn.a.TOOL),this.view.on("pointer-up",(function(t){e._shouldHandlePointerEvent(t)&&(e._activePointerId=null,e._popCursorVertex(),e._isDragging&&!e._panEnabled&&(e._vertexAddHandler(t),e._drawCompleteHandler(t)),e._isDragging=!1)}),sn.a.TOOL),this.view.on("key-down",(function(t){t.key===jn&&e._cursorScreenPoint?e._drawCompleteHandler(t):t.key===kn&&(e._panEnabled=!0)}),sn.a.TOOL),this.view.on("key-up",(function(t){t.key===kn&&(e._panEnabled=!1)}),sn.a.TOOL),this.view.on("drag",(function(t){Object(at.h)(e._activePointerId)&&t.stopPropagation()}),sn.a.TOOL),this.view.on("drag",["Shift"],(function(e){e.stopPropagation()}),sn.a.TOOL)]}},{key:"_getClickModeViewHandles",value:function(){var e=this;return[this.view.on("immediate-click",(function(e){e.stopPropagation()}),sn.a.TOOL),this.view.on("pointer-down",(function(t){e._cursorScreenPoint=Object(un.a)(t),e._activePointerId=t.pointerId,e._isDragging=!1,"touch"===t.pointerType&&e._cursorUpdateHandler(t)}),sn.a.TOOL),this.view.on("pointer-move",(function(t){e._cursorScreenPoint=Object(un.a)(t),Object(at.g)(e._activePointerId)&&"touch"!==t.pointerType&&e._cursorUpdateHandler(t)}),sn.a.TOOL),this.view.on("pointer-drag",(function(t){e._shouldHandlePointerEvent(t)&&(e._isDragging=!0)}),sn.a.TOOL),this.view.on("pointer-up",(function(t){e._shouldHandlePointerEvent(t)&&(e._activePointerId=null,e._isDragging||e._vertexAddHandler(t),2!==e.vertices.length||e._isDragging||e._drawCompleteHandler(t),e._isDragging=!1)}),sn.a.TOOL),this.view.on("key-down",(function(t){t.key===xn&&e._cursorScreenPoint&&(e._vertexAddHandler(t),2===e.vertices.length&&e._drawCompleteHandler(t)),t.key===jn&&e._cursorScreenPoint&&2===e.vertices.length&&e._drawCompleteHandler(t)}),sn.a.TOOL)]}},{key:"_removeViewHandles",value:function(){this._viewHandles.removeAll()}},{key:"_addDrawTool",value:function(e){var t=this;this._drawTool=new zn({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"segment",mode:this.mode}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on("vertex-add",(function(e){1===e.vertices.length&&t.emit("vertex-add",new vn(t.view,null,e.vertices[0].vertexIndex,t._drawTool.getVertexCoords()))})),this._drawTool.on("cursor-update",(function(e){1===e.vertices.length&&t.emit("cursor-update",new gn(t.view,null,e.vertices[0].vertexIndex,t._drawTool.getVertexCoords()))})),this._drawTool.on("complete",(function(e){t.emit("draw-complete",new On(null,t._drawTool.getVertexCoords())),t._removeDrawTool()}))}},{key:"_removeDrawTool",value:function(){Object(at.h)(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)}},{key:"_addVertex",value:function(e,t){if(this._popCursorVertex(),!this.isDuplicateVertex(this.vertices,e)){this.vertices.push(e),1===this.vertices.length&&(this.viewAlignedCoordinateSystem=Object(hn.h)(this.view,this.vertices[0]));var n=this.vertices.indexOf(e),r=new vn(this.view,t,n,this.vertices);this.emit("vertex-add",r)}}},{key:"_updateCursor",value:function(e,t){var n=null;Object(at.h)(e)&&(n=this._pushCursorVertex(e));var r=new gn(this.view,t,n,this.vertices);this.emit("cursor-update",r)}},{key:"_completeDrawing",value:function(e){if(this._activePointerId=null,this._popCursorVertex(),this._isDragging=!1,this._cursorScreenPoint=null,!(this.vertices.length<1)){var t=new On(e,this.vertices);this.emit("draw-complete",t),t.defaultPrevented||this._removeViewHandles()}}},{key:"_pushCursorVertex",value:function(e){return this._popCursorVertex(),this.vertices.push(e),this._cursorVertexAdded=!0,this.vertices.length-1}},{key:"_popCursorVertex",value:function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)}},{key:"_shouldHandlePointerEvent",value:function(e){return function(e){return"mouse"!==e.pointerType||0===e.button}(e)&&(Object(at.g)(this._activePointerId)||this._activePointerId===e.pointerId)}},{key:"_vertexAddHandler",value:function(e){var t=this.getCoordsFromScreenPoint(this._cursorScreenPoint);Object(at.h)(t)&&this._addVertex(t,e.native)}},{key:"_cursorUpdateHandler",value:function(e){var t=this.getCoordsFromScreenPoint(this._cursorScreenPoint);this._updateCursor(t,e.native)}},{key:"_drawCompleteHandler",value:function(e){this._completeDrawing(e.native)}}]),n}(bn);Object(u.a)([Object(h.b)({type:["freehand","click"]})],qn.prototype,"mode",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],qn.prototype,"vertices",void 0),qn=Object(u.a)([Object(d.a)("esri/views/2d/engine/markup/SegmentDrawAction")],qn);var Hn=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).activeAction=null,e.type="draw",e.view=null,e}return Object(a.a)(n,[{key:"destroy",value:function(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)}},{key:"create",value:function(e,t){this.reset();var n=Object(M.a)({view:this.view},t);switch(e){case"point":this.activeAction=new Vn(n);break;case"polygon":this.activeAction=new Bn(n);break;case"polyline":this.activeAction=new Gn(n);break;case"multipoint":this.activeAction=new Sn(n);break;case"rectangle":case"circle":case"ellipse":case"triangle":this.activeAction=new qn(n)}return this.activeAction}},{key:"complete",value:function(){this.activeAction&&this.activeAction.complete(),this.activeAction=null}},{key:"reset",value:function(){this.activeAction&&this.activeAction.destroy(),this.activeAction=null}}]),n}(q.a);Object(u.a)([Object(h.b)()],Hn.prototype,"activeAction",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],Hn.prototype,"type",void 0),Object(u.a)([Object(h.b)()],Hn.prototype,"view",void 0);var Wn=Hn=Object(u.a)([Object(d.a)("esri.views.draw.Draw")],Hn);function Yn(e){switch(e){case 0:break;case 1:return"not owned by a graphics layer";case 2:return"no geometry";case 3:return"the geometry type is not supported";case 4:return"the elevation mode is not supported";case 5:return"the symbol type is not supported"}return""}var Jn=n(621),Kn=n(537),Xn=n(174);function Qn(e){var t;if("graphics"!==(null==(t=e.layer)?void 0:t.type))return 1;if(Object(at.g)(e.geometry))return 2;switch(e.geometry.type){case"point":break;case"polygon":case"polyline":case"multipoint":case"extent":case"mesh":default:return 3}var n=Object(at.h)(e.symbol)&&"point-3d"===e.symbol.type&&e.symbol.symbolLayers;return n&&n.length>0&&n.some((function(e){return"object"===e.type}))?"on-the-ground"!==Object(Xn.e)(e)&&Object(Xn.g)(e)?4:0:5}var Zn=n(521),$n=n(186),er=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).cancelled=!1,r.history={undo:[],redo:[]},r.type=null,r}return Object(a.a)(n,[{key:"tool",get:function(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case"graphic-mover":case"move-3d":return"move";case"box":case"transform-3d":return"transform";case"reshape":case"reshape-3d":return"reshape";case"draw":case"draw-3d":return null;default:Object($n.a)(this.activeComponent)}return null}},{key:"addToHistory",value:function(e){this.history.redo=[],this.history.undo.push(e)}},{key:"resetHistory",value:function(){this.history.redo=[],this.history.undo=[]}},{key:"canUndo",value:function(){return this.history.undo.length>0}},{key:"canRedo",value:function(){return this.history.redo.length>0}},{key:"complete",value:function(){this.reset(),this.onEnd(),this.emit("complete")}},{key:"cancel",value:function(){this.cancelled=!0,this.complete()}},{key:"reset",value:function(){this.activeComponent.reset()}},{key:"refreshComponent",value:function(){var e=this.activeComponent;e&&("box"!==e.type&&"reshape"!==e.type||e.refresh())}},{key:"undo",set:function(e){var t=this;this._set("undo",(function(){t.canUndo()&&e()}))}},{key:"redo",set:function(e){var t=this;this._set("redo",(function(){t.canRedo()&&e()}))}}]),n}(z.a.EventedAccessor);Object(u.a)([Object(h.b)()],er.prototype,"activeComponent",void 0),Object(u.a)([Object(h.b)()],er.prototype,"cancelled",void 0),Object(u.a)([Object(h.b)()],er.prototype,"history",void 0),Object(u.a)([Object(h.b)({dependsOn:["activeComponent"]})],er.prototype,"tool",null),Object(u.a)([Object(h.b)()],er.prototype,"type",void 0),Object(u.a)([Object(h.b)()],er.prototype,"canUndo",null),Object(u.a)([Object(h.b)()],er.prototype,"canRedo",null),Object(u.a)([Object(h.b)()],er.prototype,"onEnd",void 0),Object(u.a)([Object(h.b)()],er.prototype,"undo",null),Object(u.a)([Object(h.b)()],er.prototype,"redo",null),Object(u.a)([Object(h.b)()],er.prototype,"toggleTool",void 0),Object(u.a)([Object(h.b)()],er.prototype,"addToSelection",void 0),Object(u.a)([Object(h.b)()],er.prototype,"removeFromSelection",void 0),er=Object(u.a)([Object(d.a)("esri.widgets.Sketch.support.OperationHandle")],er);var tr=l.a.getLogger("esri.widgets.Sketch.SketchViewModel"),nr={redoKey:"r",undoKey:"z",centerKey:"Alt",constraintKey:"Control",snappingKey:"Control",cancelKey:"Escape",deleteKeys:["Backspace","Delete"],complete:"c",pan:" "},rr={defaultZ:0},ir={enableMidpoints:!0,enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,tool:"transform",enableZ:!0,enableMoveGraphic:!0},ar=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e))._activeFillGraphic=null,n._activeLineGraphic=null,n._centerIndicatorGraphic=null,n._centerSymbol=new rn.default({style:"cross",size:6,color:[255,255,255]}),n._defaultSegmentOffset=48,n._numUpdating=0,n._handles=new an.a,n._internalGraphicsLayer=new tt.a({listMode:"hide"}),n._lineGraphic=null,n._operationHandle=null,n._vertexGraphics=[],n._viewHandles=new an.a,n._doUnnormalization=!1,n.activeFillSymbol=new nn.default({style:"solid",color:[150,150,150,.2],outline:{color:[50,50,50],width:0}}),n.activeLineSymbol=new tn.default({color:[255,127,0,1],width:2}),n.activeVertexSymbol=new rn.default({style:"circle",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}}),n.layer=null,n.pointSymbol=new rn.default({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),n.polygonSymbol=new nn.default({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}}),n.polylineSymbol=new tn.default({color:[130,130,130,1],width:2}),n.updateGraphics=new et.a,n.updateOnGraphicClick=!0,n.updatePointSymbol=new rn.default({size:10,color:[0,200,255,.5],outline:{color:"black",width:1}}),n.updatePolygonSymbol=new nn.default({color:[12,207,255,.2],outline:{join:"round",color:[12,207,255],width:2}}),n.updatePolylineSymbol=new tn.default({color:[12,207,255],width:2}),n.vertexSymbol=new rn.default({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),n.snappingOptions=new ln.a,n._originalAutoOpenEnabled=null,n.defaultCreateOptions=rr,n.defaultUpdateOptions=ir,n}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this._handles.add([Object(y.d)(this,"layer",(function(){e.cancel(),e._internalGraphicsLayer.elevationInfo=Object(at.h)(e.layer)?e.layer.elevationInfo:null})),Object(y.b)(this,"view.map.layers","change",(function(t){t.removed.indexOf(e.layer)>=0&&e.cancel()})),Object(y.b)(this,"layer.graphics","change",(function(t){if(Object(at.h)(e._operationHandle)){var n,r=Object(Zt.a)(t.removed);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.updateGraphics.includes(i)&&(e.updateGraphics.length>1?e._operationHandle.removeFromSelection(i):e._operationHandle.cancel())}}catch(a){r.e(a)}finally{r.f()}}})),Object(y.a)(this,"layer.elevationInfo",(function(){e.cancel(),e._internalGraphicsLayer.elevationInfo=Object(at.h)(e.layer)?e.layer.elevationInfo:null}),!0)])}},{key:"destroy",value:function(){this.cancel(),this._handles.removeAll(),this._handles=null,this._viewHandles.removeAll(),this._viewHandles=null,this._removeDefaultLayer(),this._draw&&this._draw.destroy(),this._set("view",null),this.emit("destroy")}},{key:"_defaultUpdateTool",get:function(){return"3d"===this.view.type?"move":"transform"}},{key:"_draw",get:function(){return"ready"===this.state||"active"===this.state?new Wn({view:this.view}):null}},{key:"updating",get:function(){return this._numUpdating>0}},{key:"activeTool",get:function(){return this._operationHandle&&this._operationHandle.tool?this._operationHandle.tool:null}},{key:"activeComponent",get:function(){return this._operationHandle?this._operationHandle.activeComponent:null}},{key:"createGraphic",get:function(){return this.view&&"3d"===this.view.type&&Object(at.h)(this.activeComponent)&&"draw-3d"===this.activeComponent.type?Object(at.n)(this.activeComponent.createGraphic):this._get("createGraphic")}},{key:"defaultCreateOptions",set:function(e){this._set("defaultCreateOptions",Object(M.a)(Object(M.a)({},rr),e))}},{key:"defaultUpdateOptions",set:function(e){this._set("defaultUpdateOptions",Object(M.a)(Object(M.a)({},ir),e))}},{key:"state",get:function(){var e,t=!(null==(e=this.view)||!e.ready||!this.layer),n=this._operationHandle;return t&&n?"active":t?"ready":"disabled"}},{key:"view",get:function(){return this._get("view")},set:function(e){var t=this,n=this._get("view");if(n){var r=n.container,i=n.map;r&&(n.cursor=null),i&&i.remove(this._internalGraphicsLayer),this._viewHandles.removeAll(),this.cancel()}this._doUnnormalization=null!=e&&"3d"===e.type&&"global"===e.viewingMode;var a="view-ready";this._handles.remove(a),e&&this._handles.add(Object(y.e)(e,"ready",(function(n){t._viewHandles.removeAll(),n&&t._viewHandles.add(t._generateViewHandles(e))}),!0),a),this._set("view",e)}},{key:"cancel",value:function(){this._moduleLoaderAbortController&&(this._moduleLoaderAbortController.abort(),this._moduleLoaderAbortController=null),this._operationHandle&&this._operationHandle.cancel()}},{key:"complete",value:function(){this._operationHandle&&this._operationHandle.complete()}},{key:"delete",value:function(){var e=this.state,t=this.updateGraphics;if("active"===e&&t.length){var n=this.activeTool,r=this.layer,i=t.toArray();r.removeMany(i),this.cancel(),this._emitDeleteEvent({graphics:i,tool:n})}}},{key:"create",value:function(){var e=Object(P.a)(A.a.mark((function e(t,n){var r,i=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("disabled"!==this.state){e.next=2;break}return e.abrupt("return",(this.layer||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),void(this.view||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel."))));case 2:if(this.cancel(),t){e.next=4;break}return e.abrupt("return",void this._logError("sketch:missing-parameter","Missing parameter 'tool'."));case 4:return e.next=6,this._setupCreateOperation(t,n);case 6:if(r=e.sent,!Object(at.g)(r)&&!this.destroyed){e.next=9;break}return e.abrupt("return");case 9:Object(Zn.a)(this.view,this._internalGraphicsLayer),r.on("complete",(function(){if(r===i._operationHandle){var e=i.createGraphic,n=i._operationHandle.cancelled;i._operationHandle.destroy(),i._operationHandle=null,i._set("createGraphic",null),i.view&&i.view.map&&i.view.map.remove(i._internalGraphicsLayer),r.cancelled||null==e||i.layer.add(e),i.emit("create",{graphic:e,state:n?"cancel":"complete",tool:t,toolEventInfo:null,type:"create"})}})),this._operationHandle=r,this.view.ready&&Object(cn.a)(this.view)&&this.view.focus();case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(P.a)(A.a.mark((function e(t,n){var r,i,a,o,s,c=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.layer,i=this.state,a=this.view,"disabled"!==i){e.next=3;break}return e.abrupt("return",(r||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),void(a||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel."))));case 3:if(this.cancel(),o=Array.isArray(t)?t:[t],null!=t&&o&&o.length){e.next=7;break}return e.abrupt("return",void this._logError("sketch:missing-parameter","Missing parameter 'graphics'."));case 7:if(!o.some((function(e){return e.layer!==r?(c._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer."),!0):Object(at.g)(e.geometry)?(c._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with an unsupported geometry."),!0):"2d"===a.type&&!a.spatialReference.equals(e.geometry.spatialReference)&&(c._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with a spatial reference different from the supplied MapView."),!0)}))){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,this._setupUpdateOperation(o,n);case 11:s=e.sent,Object(at.g)(s)||lr(s)||(Object(Zn.a)(this.view,this._internalGraphicsLayer),this._setUpdateOperationHandle(s,n),this.emit("update",{graphics:o,state:"start",aborted:!1,tool:s.tool,toolEventInfo:null,type:"update"}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"undo",value:function(){this.canUndo()&&this._operationHandle.undo()}},{key:"redo",value:function(){this.canRedo()&&this._operationHandle.redo()}},{key:"canUndo",value:function(){return!(!this._operationHandle||!this._operationHandle.canUndo())}},{key:"canRedo",value:function(){return!(!this._operationHandle||!this._operationHandle.canRedo())}},{key:"toggleUpdateTool",value:function(){this._operationHandle&&this._operationHandle.toggleTool&&this._operationHandle.toggleTool()}},{key:"_getFirstHit",value:function(){var e=Object(P.a)(A.a.mark((function e(t){var n,r,i,a,o,s,c,u,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],e.t0=this.view.type,e.next="2d"===e.t0?4:"3d"===e.t0?9:15;break;case 4:return e.next=6,this.view.hitTest(t);case 6:return(r=e.sent).results.length>0&&(i=r.results[0]).graphic&&(s=i.graphic,"vector-tile"!==(null==(a=s.layer)?void 0:a.type)&&"imagery"!==(null==(o=s.layer)?void 0:o.type)&&n.push(i)),e.abrupt("break",15);case 9:return c=[this.view.map.ground],this.view.map.allLayers.forEach((function(e){"integrated-mesh"===e.type&&c.push(e)})),e.next=13,this.view.hitTest(t,{exclude:c});case 13:(u=e.sent).results.length>0&&(l=u.results[0],(!u.ground.mapPoint||this.view.map.ground.opacity<1||u.ground.distance-l.distance>-Math.min(3*u.ground.distance,"global"===this.view.viewingMode?Object(on.e)(this.view.renderCoordsHelper.spatialReference).radius/this.view.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY))&&n.push(l));case 15:return e.abrupt("return",{screenPoint:t,results:n});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_generateViewHandles",value:function(e){var t=this;return[e.on("immediate-click",(function(n){var r=t._operationHandle,i=t.defaultUpdateOptions,a=t.layer,o=t.state,s=t.updateGraphics,c=t.updateOnGraphicClick,u="active"===o&&"create"===r.type;"disabled"!==o&&!u&&c&&(t._beginAsyncOperation(),t._getFirstHit(Object(un.a)(n)).then((function(r){var i=r.results;if(i.length)for(var c=0;c<i.length;++c){var u=i[c];if(u.graphic){var l=u.graphic;if(s.indexOf(l)>-1||l.layer===a)return n.stopPropagation(),l;"2d"!==e.type||t._isComponentGraphic(l)||"active"!==o||t.cancel()}}else"active"===o&&t.cancel();return null})).then((function(e){return Object(at.h)(e)&&-1===s.indexOf(e)?t.update([e],Object(M.a)({},i)):null})).then((function(){t._endAsyncOperation()})))}),sn.a.WIDGET)]}},{key:"_setupCreateOperation",value:function(){var e=Object(P.a)(A.a.mark((function e(t,n){var r,i,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(r=Object(M.a)(Object(M.a)({hasZ:"3d"===this.view.type},this.defaultCreateOptions),n),"2d"!==this.view.type){e.next=18;break}e.t0=t,e.next="point"===e.t0?7:"multipoint"===e.t0?9:"polygon"===e.t0||"polyline"===e.t0?11:"rectangle"===e.t0?13:"circle"===e.t0?15:16;break;case 7:return i=this._setupCreatePointOperation(t,r),e.abrupt("break",16);case 9:return i=this._setupCreateMultipointOperation(t,null),e.abrupt("break",16);case 11:return i=this._setupCreatePolyOperation(t,r),e.abrupt("break",16);case 13:return i=this._setupCreateRectangleOperation(t,r),e.abrupt("break",16);case 15:i=this._setupCreateCircleOperation(t,r);case 16:e.next=24;break;case 18:return e.next=20,this._setupCreate3DOperation(t,this.view,r);case 20:if(a=e.sent,!Object(at.g)(a)&&!lr(a)){e.next=23;break}return e.abrupt("return",null);case 23:i=a;case 24:return e.abrupt("return",i);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_setupCreate3DOperation",value:function(){var e=Object(P.a)(A.a.mark((function e(t,r,i){var a,o,s,c,u,l,h,f,d,p=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("multipoint"!==t){e.next=2;break}return e.abrupt("return",null);case 2:return a={point:this.pointSymbol,multipoint:null,polyline:this.polylineSymbol,polygon:this.polygonSymbol,rectangle:this.polygonSymbol,circle:this.polygonSymbol}[t],this._removeCreateOperationGraphics(),o="rectangle"!==t,s="rectangle"!==t,this.snappingOptions.selfEnabledToggled=!1,c=Object(M.a)(Object(M.a)({view:r,mode:"rectangle"===t||"circle"===t?"hybrid":"click"},i),{},{elevationInfo:this.layer.elevationInfo,geometryType:t,createGraphicSymbol:a,snapToScene:!Object(at.h)(this.layer.elevationInfo)||"absolute-height"===this.layer.elevationInfo.mode,snappingOptions:this.snappingOptions,forceUniformSize:s,centered:o}),e.next=9,this._requireModule(n.e(3).then(n.bind(null,1224)));case 9:if(!lr(u=e.sent)){e.next=12;break}return e.abrupt("return",u);case 12:return l=new u.module.DrawGraphicTool(c),this.view.tools.add(l),h=null,this.view.activeTool=l,f=[],d=new er({activeComponent:l,tool:t,type:"update",onEnd:function(){var e;f.forEach((function(e){return e.remove()})),f.length=0,null==(e=p.view.tools)||e.remove(l),l.destroy()},undo:function(){l.canUndo&&l.undo()},redo:function(){l.canRedo&&l.redo()},canUndo:function(){return l.canUndo},canRedo:function(){return l.canRedo}}),e.abrupt("return",(f.push(this.view.on("key-down",(function(e){e.key===nr.pan?(e.stopPropagation(),e.repeat||(l.enabled=!1)):e.key===nr.complete?(e.stopPropagation(),l.completeCreateOperation()):e.key===nr.undoKey?(e.stopPropagation(),d.undo()):e.key===nr.redoKey?(e.stopPropagation(),d.redo()):e.key!==nr.snappingKey||"rectangle"===t||"circle"===t||e.repeat?e.key!==nr.constraintKey||"rectangle"!==t&&"circle"!==t||e.repeat?e.key===nr.centerKey&&(e.repeat||(l.centered=!o,e.stopPropagation())):(l.forceUniformSize=!s,e.stopPropagation()):(l.snappingOptions.selfEnabledToggled=!0,e.stopPropagation())}),sn.a.WIDGET),this.view.on("key-up",(function(e){e.key===nr.pan?l.enabled=!0:e.key===nr.snappingKey&&"rectangle"!==t&&"circle"!==t?(l.snappingOptions.selfEnabledToggled=!1,e.stopPropagation()):e.key!==nr.constraintKey||"rectangle"!==t&&"circle"!==t?e.key===nr.centerKey&&(l.centered=o,e.stopPropagation()):(l.forceUniformSize=s,e.stopPropagation())}),sn.a.WIDGET),l.on("vertex-add",(function(e){switch(h=Object(at.g)(h)?"start":"active",e.operation){case"apply":p.emit("create",{graphic:Object(at.n)(l.createGraphic),state:h,tool:p.activeTool,toolEventInfo:e,type:"create"});break;case"undo":p._emitUndoEvent({graphics:[Object(at.n)(l.createGraphic)],tool:t});break;case"redo":p._emitRedoEvent({graphics:[Object(at.n)(l.createGraphic)],tool:t})}})),l.on("cursor-update",(function(e){l.drawOperation.numCommittedVertices>0&&p.emit("create",{graphic:Object(at.n)(l.createGraphic),state:"active",tool:p.activeTool,toolEventInfo:{coordinates:e.vertices[0].coordinates,type:"cursor-update"},type:"create"})})),l.on("vertex-remove",(function(e){switch(e.operation){case"apply":p.emit("create",{graphic:Object(at.n)(l.createGraphic),state:"active",tool:p.activeTool,toolEventInfo:e,type:"create"});break;case"undo":p._emitUndoEvent({graphics:[Object(at.n)(l.createGraphic)],tool:t});break;case"redo":p._emitRedoEvent({graphics:[Object(at.n)(l.createGraphic)],tool:t})}})),l.on("complete",(function(e){p._removeCreateOperationGraphics(),p._set("createGraphic",Object(at.n)(e.graphic)),h="complete",e.aborted?d&&d.cancel():d&&d.complete()}))),d));case 18:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_setupCreatePointOperation",value:function(e,t){var n=this,r={elevationInfo:this.layer.elevationInfo,hasZ:t.hasZ,defaultZ:t.defaultZ,interactiveUndoDisabled:!0},i=this._draw.create(e,r),a=[i.on("cursor-update",(function(e){Object(at.h)(e.vertexIndex)?n._displayCrosshairCursor():n._displayDefaultCursor()})),i.on("draw-complete",(function(e){var t=n.createPointFromVertex(e.vertices[0]),r=new B.a(t,n.pointSymbol);n._set("createGraphic",r),s&&s.complete()}))],o=[this.view.on("key-down",(function(e){e.key===nr.cancelKey&&(s&&s.cancel(),e.stopPropagation())}),sn.a.WIDGET)],s=this._operationHandleForCreateAction(i,[].concat(a,o),e);return s}},{key:"_setupCreateMultipointOperation",value:function(e,t){var n=this,r=Object(M.a)(Object(M.a)({},t),{},{undoDisabled:!0}),i=this._draw.create(e,r),a=null,o=[],s=this._operationHandleForCreateAction(i,o,e);return o.push(i.on("vertex-add",(function(t){var r=t.type,i=t.vertexIndex,o=t.vertices,s=o[i];a=t,n._drawMultipointGraphic(o,!0),n.emit("create",{graphic:n.createGraphic,state:1===o.length?"start":"active",tool:e,toolEventInfo:{added:s,vertices:[{coordinates:s,componentIndex:0,vertexIndex:i}],type:r},type:"create"})})),i.on("vertex-remove",(function(t){var r=t.type,i=t.vertexIndex,o=t.vertices,s=o[i];a=t,n._drawMultipointGraphic(o,!0),n.emit("create",{graphic:n.createGraphic,state:"active",tool:e,toolEventInfo:{removed:s,vertices:[{coordinates:s,componentIndex:0,vertexIndex:i}],type:r},type:"create"})})),i.on("vertex-update",(function(t){var r=t.type,i=t.vertexIndex,o=t.vertices,s=o[i];a=t,n._drawMultipointGraphic(o,!0),n.emit("create",{graphic:n.createGraphic,state:"active",tool:e,toolEventInfo:{type:r,updated:s,vertices:[{coordinates:s,componentIndex:0,vertexIndex:i}]},type:"create"})})),i.on("cursor-update",(function(e){a=e})),i.on("draw-complete",(function(e){var t=e.vertices.slice(0),r=Object(hn.c)(t,n.view.spatialReference);r&&n.createGraphic&&(n.createGraphic.geometry=r),s&&s.complete()})),i.on("undo",(function(e){var t=e.vertices,r=a&&"cursor-update"!==a.type;n._resetCreateOperationGraphics(),t.length&&n._drawMultipointGraphic(t,r)})),i.on("redo",(function(e){var t=e.vertices,r=a&&"cursor-update"!==a.type;n._resetCreateOperationGraphics(),t.length&&n._drawMultipointGraphic(t,r)}))),o.push(this.view.on("pointer-move",(function(){return n._displayCrosshairCursor()}),sn.a.WIDGET),this.view.on("key-down",(function(e){return n._getCommonUpdateOperationKeyDownHandlers(s,e)}),sn.a.WIDGET)),s}},{key:"_setupCreatePolyOperation",value:function(e,t){var n=this,r=Object(M.a)(Object(M.a)({},t),{},{elevationInfo:this.layer.elevationInfo,interactiveUndoDisabled:!0}),i=null;("polyline"===e||"polygon"===e)&&(i=this._draw.create(e,r));var a=new $t.a,o=null,s=!1,c=[i.on("vertex-add",(function(t){var r=t.type,i=t.vertexIndex,a=t.vertices,c=a[i];n._snap(e,a,s),o=t,n._drawVertexGraphics(e,a,{userClicked:!0}),n.emit("create",{graphic:n.createGraphic,state:1===a.length?"start":"active",tool:e,toolEventInfo:{added:c,vertices:[{coordinates:c,componentIndex:0,vertexIndex:i}],type:r},type:"create"})})),i.on("vertex-remove",(function(t){var r=t.type,i=t.vertexIndex,a=t.vertices,c=a[i];n._snap(e,a,s),o=t,n._drawVertexGraphics(e,a,{userClicked:!0}),n.emit("create",{graphic:n.createGraphic,state:"active",tool:e,toolEventInfo:{removed:c,vertices:[{coordinates:c,componentIndex:0,vertexIndex:i}],type:r},type:"create"})})),i.on("vertex-update",(function(t){var r=t.type,i=t.vertexIndex,a=t.vertices,c=a[i];n._snap(e,a,s),o=t,n._drawVertexGraphics(e,a,{userClicked:!0}),n.emit("create",{graphic:n.createGraphic,state:"active",tool:e,toolEventInfo:{type:r,updated:c,vertices:[{coordinates:c,componentIndex:0,vertexIndex:i}]},type:"create"})})),i.on("cursor-update",(function(t){var r=t.type,i=t.vertices;if(t.mapPoint&&(n._snap(e,i,s),o=t,a=t.mapPoint,n._drawVertexGraphics(e,i,{userClicked:!1}),i.length>1)){var c=i[i.length-1];n.emit("create",{graphic:n.createGraphic,state:"active",tool:e,toolEventInfo:{coordinates:c,type:r},type:"create"})}})),i.on("draw-complete",(function(t){var r=t.vertices.slice(0),i=null;"polyline"===e?i=Object(hn.e)([r],n.view.spatialReference,n._doUnnormalization):"polygon"===e&&(i=Object(hn.d)([r],n.view.spatialReference,n._doUnnormalization,!0)),i&&(n.createGraphic.geometry=i),f&&f.complete()})),i.on("undo",(function(t){var r=t.vertices,i=o&&"cursor-update"!==o.type;n._resetCreateOperationGraphics(),n._snap(e,r,s),r.length&&n._drawVertexGraphics(e,r,{userClicked:i})})),i.on("redo",(function(t){var r=t.vertices,i=o&&"cursor-update"!==o.type;n._resetCreateOperationGraphics(),n._snap(e,r,s),r.length&&n._drawVertexGraphics(e,r,{userClicked:i})}))],u=[this.view.on("pointer-move",(function(e){n.view.toMap(Object(pt.e)(e.x,e.y))?n._displayCrosshairCursor():n._displayDefaultCursor()}),sn.a.WIDGET),this.view.on("key-down",(function(t){var r=i.vertices.slice(0),a=o&&"cursor-update"!==o.type;t.key===nr.constraintKey?"2d"===n.view.type&&(s||(s=!0,n._snap(e,r,!a),n._drawVertexGraphics(e,r,{userClicked:a}))):t.key===nr.undoKey&&f&&f.canUndo()?(t.stopPropagation(),f.undo()):t.key===nr.redoKey&&f&&f.canRedo()?(t.stopPropagation(),f.redo()):t.key===nr.cancelKey&&f&&f.cancel()}),sn.a.WIDGET),this.view.on("key-up",(function(t){var r=i.vertices.slice(0),c=o&&"cursor-update"!==o.type;t.key===nr.constraintKey&&s&&(c||(r.pop(),r.push([a.x,a.y]),n._drawVertexGraphics(e,r,{userClicked:c})),s=!1)}),sn.a.WIDGET)];if("polygon"===e){var l=function(e,t,r){if(!e||!e.layer||!e.visible)return!1;var i=n.view.toScreen(e.geometry);return n._isWithinScreenDistance(i,t,r)},h=!1;u.push(this.view.on("pointer-move",(function(){h=!1}),sn.a.WIDGET),this.view.on("pointer-down",(function(e){if(function(e){if(!(n._vertexGraphics.length<=2))return l(n._vertexGraphics[0],e,n._getVertexIntersectDistance())}(e))return h=!0,void e.stopPropagation();n._vertexGraphics.some((function(t){return l(t,e,n._getVertexIntersectDistance())}))&&e.stopPropagation()}),sn.a.WIDGET),this.view.on("pointer-up",(function(e){h&&(e.stopPropagation(),i.complete())})))}var f=this._operationHandleForCreateAction(i,[].concat(c,u),e);return f}},{key:"_setupCreateCircleOperation",value:function(e,t){var n=this,r=Object(M.a)(Object(M.a)({},t),{},{elevationInfo:this.layer.elevationInfo,interactiveUndoDisabled:!0}),i=this._draw.create(e,r),a=!1,o=!0,s=[i.on("vertex-add",(function(t){var r=t.type,s=t.vertexIndex,c=t.vertices,u=c[s];n._drawSegmentGraphic(e,c,{centered:o,constrainToggle:a},i.viewAlignedCoordinateSystem),n.emit("create",{graphic:n.createGraphic,state:1===c.length?"start":"active",tool:e,toolEventInfo:{added:u,vertices:[{coordinates:u,componentIndex:0,vertexIndex:s}],type:r},type:"create"})})),i.on("cursor-update",(function(t){var r=t.type,s=t.vertices;if(n._drawSegmentGraphic(e,s,{centered:o,constrainToggle:a},i.viewAlignedCoordinateSystem),2===s.length){var c=s[s.length-1];n.emit("create",{graphic:n.createGraphic,state:"active",tool:e,toolEventInfo:{coordinates:c,type:r},type:"create"})}})),i.on("draw-complete",(function(e){var t=e.vertices.slice(0),r=null;1===t.length?(t.push(i.viewAlignedCoordinateSystem.makeMapPoint(t[0][0]+n._defaultSegmentOffset*n.view.resolution,t[0][1])),r=Object(hn.a)(t,i.viewAlignedCoordinateSystem,!0,n.view.resolution)):r=a?Object(hn.b)(t,i.viewAlignedCoordinateSystem,o):Object(hn.a)(t,i.viewAlignedCoordinateSystem,o,n.view.resolution),n.createGraphic?n.createGraphic.geometry=r:(n._removeCreateGraphic(),n._set("createGraphic",new B.a(r,n.polygonSymbol))),u&&u.complete()}))],c=[this.view.on("pointer-move",(function(e){Object(at.h)(i.getCoordsFromScreenPoint(Object(pt.e)(e.x,e.y)))?n._displayCrosshairCursor():n._displayDefaultCursor()}),sn.a.WIDGET),this.view.on("key-down",(function(t){t.key===nr.constraintKey?a||(a=!0,n._drawSegmentGraphic(e,i.vertices,{centered:o,constrainToggle:a},i.viewAlignedCoordinateSystem)):t.key===nr.centerKey?o&&(o=!1,n._drawSegmentGraphic(e,i.vertices,{centered:o,constrainToggle:a},i.viewAlignedCoordinateSystem)):t.key===nr.cancelKey&&u&&u.cancel()}),sn.a.WIDGET),this.view.on("key-up",(function(t){t.key===nr.constraintKey?(a=!1,n._drawSegmentGraphic(e,i.vertices,{centered:o,constrainToggle:a},i.viewAlignedCoordinateSystem)):t.key===nr.centerKey&&(o=!0,n._drawSegmentGraphic(e,i.vertices,{centered:o,constrainToggle:a},i.viewAlignedCoordinateSystem))}),sn.a.WIDGET)],u=this._operationHandleForCreateAction(i,[].concat(s,c),e);return u}},{key:"_setupCreateRectangleOperation",value:function(e,t){var n=this,r=Object(M.a)(Object(M.a)({},t),{},{elevationInfo:this.layer.elevationInfo,interactiveUndoDisabled:!0}),i=this._draw.create(e,r),a=!1,o=!1,s=[i.on("vertex-add",(function(t){var r=t.type,s=t.vertexIndex,c=t.vertices,u=c[s];n._drawSegmentGraphic(e,c,{centered:o,constrainToggle:a},i.viewAlignedCoordinateSystem),n.emit("create",{graphic:n.createGraphic,state:1===c.length?"start":"active",tool:e,toolEventInfo:{added:u,vertices:[{coordinates:u,componentIndex:0,vertexIndex:s}],type:r},type:"create"})})),i.on("cursor-update",(function(t){var r=t.type,s=t.vertices;if(n._drawSegmentGraphic(e,s,{centered:o,constrainToggle:a},i.viewAlignedCoordinateSystem),2===s.length){var c=s[s.length-1];n.emit("create",{graphic:n.createGraphic,state:"active",tool:e,toolEventInfo:{coordinates:c,type:r},type:"create"})}})),i.on("draw-complete",(function(e){var t,r=e.vertices.slice(0);1===r.length&&(a=!1,o=!1),t=a?Object(hn.g)(r,i.viewAlignedCoordinateSystem,o):Object(hn.f)(r,i.viewAlignedCoordinateSystem,o),n.createGraphic?n.createGraphic.geometry=t:(n._removeCreateGraphic(),n._set("createGraphic",new B.a(t,n.polygonSymbol))),u&&u.complete()}))],c=[this.view.on("pointer-move",(function(e){Object(at.h)(i.getCoordsFromScreenPoint(Object(pt.e)(e.x,e.y)))?n._displayCrosshairCursor():n._displayDefaultCursor()}),sn.a.WIDGET),this.view.on("key-down",(function(t){t.key===nr.constraintKey?a||(a=!0,n._drawSegmentGraphic(e,i.vertices,{centered:o,constrainToggle:a},i.viewAlignedCoordinateSystem)):t.key===nr.centerKey?o||(o=!0,n._drawSegmentGraphic(e,i.vertices,{centered:o,constrainToggle:a},i.viewAlignedCoordinateSystem)):t.key===nr.cancelKey&&u&&u.cancel()}),sn.a.WIDGET),this.view.on("key-up",(function(t){t.key===nr.constraintKey?(a=!1,n._drawSegmentGraphic(e,i.vertices,{centered:o,constrainToggle:a},i.viewAlignedCoordinateSystem)):t.key===nr.centerKey&&(o=!1,n._drawSegmentGraphic(e,i.vertices,{centered:o,constrainToggle:a},i.viewAlignedCoordinateSystem))}),sn.a.WIDGET)],u=this._operationHandleForCreateAction(i,[].concat(s,c),e);return u}},{key:"_setupUpdateOperation",value:function(){var e=Object(P.a)(A.a.mark((function e(t,n){var r,i,a,o,s,c,u,l,h,f,d,p;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this._defaultUpdateTool,i=this.defaultUpdateOptions,a=this.layer,o=this.view,s=Object(M.a)(Object(M.a)({},i),n),c=s.tool||r,u=Object(Zt.a)(t);try{for(u.s();!(l=u.n()).done;)h=l.value,a.remove(h),a.add(h)}catch(b){u.e(b)}finally{u.f()}if("3d"!==o.type){e.next=15;break}if(0!==t.length){e.next=6;break}return e.abrupt("return",null);case 6:e.t0=c,e.next="move"===e.t0?9:"reshape"===e.t0?10:"transform"===e.t0?14:15;break;case 9:return e.abrupt("return",this._setupMove3DOperation(t,s,o,c));case 10:if(!(t.length>1)){e.next=12;break}return e.abrupt("return",(this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),null));case 12:return f=Object(Kn.a)(t[0]),e.abrupt("return",0===f?this._setupReshape3DOperation(t[0],s,o):(this._logError("sketch:reshape","Reshape operation not supported for provided graphic(s) (".concat(Yn(f),").")),null));case 14:return e.abrupt("return",1===t.length&&0===Qn(t[0])?this._setupPointTransform3DOperation(t[0],s,o):this._setupMove3DOperation(t,s,o,c));case 15:if("move"!==c){e.next=17;break}return e.abrupt("return",this._setupMoveOperation(t,s,o));case 17:if(!(t.length>1)){e.next=19;break}return e.abrupt("return","reshape"===c?(this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),null):this._setupTransformOrReshapeOperation(t,c,s,o));case 19:if(1!==t.length){e.next=25;break}if(d=t[0],"point"!==(p=Object(at.f)(d.geometry,"type"))&&"multipoint"!==p){e.next=23;break}return e.abrupt("return",this._setupMoveOperation(t,s,o));case 23:if("transform"!==c&&"reshape"!==c){e.next=25;break}return e.abrupt("return",this._setupTransformOrReshapeOperation(t,c,s,o));case 25:return e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_setupMove3DOperation",value:function(){var e=Object(P.a)(A.a.mark((function e(t,r,i,a){var o,s,c,u,l,h,f,d,p,b=this,v=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=v.length>4&&void 0!==v[4]&&v[4],s=Object(Zt.a)(t),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=11;break}if(u=c.value,0===(l=Object(Jn.a)(u))){e.next=9;break}return e.abrupt("return",(this._logError("sketch:move","Move operation not supported for provided graphic(s) (".concat(Yn(l),").")),null));case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),s.e(e.t0);case 16:return e.prev=16,s.f(),e.finish(16);case 19:return e.next=21,this._requireModule(n.e(3).then(n.bind(null,1224)));case 21:if(!lr(h=e.sent)){e.next=24;break}return e.abrupt("return",h);case 24:return f=new h.module.GraphicMoveTool({view:i,enableZ:r.enableZ}),this.view.tools.add(f),f.graphics.addMany(t),o||this.updateGraphics.addMany(t),d=[],p=new er({activeComponent:f,tool:a,type:"update",onEnd:function(){var e;d.forEach((function(e){return e.remove()})),d.length=0,null==(e=b.view.tools)||e.remove(f),f.destroyed||f.destroy()},undo:function(){or(p,b.updateGraphics.toArray()),b._emitUndoEvent({graphics:b.updateGraphics.toArray(),tool:a})},redo:function(){sr(p,b.updateGraphics.toArray()),b._emitRedoEvent({graphics:b.updateGraphics.toArray(),tool:a})},addToSelection:function(e){b.updateGraphics.push(e),f.graphics.push(e),b.emit("update",{graphics:b.updateGraphics.toArray(),state:"active",aborted:!1,tool:b.activeTool,toolEventInfo:{added:[e],removed:[],type:"selection-change"},type:"update"})},removeFromSelection:function(e){var t=b.updateGraphics.indexOf(e);p.history.undo.forEach((function(e){return e.updates.splice(t,1)})),p.history.redo.forEach((function(e){return e.updates.splice(t,1)})),b.updateGraphics.remove(e),b.emit("update",{graphics:b.updateGraphics.toArray(),state:"active",aborted:!1,tool:b.activeTool,toolEventInfo:{added:[],removed:[e],type:"selection-change"},type:"update"}),0!==b.updateGraphics.length?f.graphics.remove(e):p.complete()},toggleTool:function(){var e=Object(P.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1===b.updateGraphics.length&&!1!==r.toggleToolOnClick){e.next=2;break}return e.abrupt("return");case 2:if("transform"===a){e.next=4;break}return e.abrupt("return");case 4:if(t=b.updateGraphics.getItemAt(0),0===Object(Kn.a)(t)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,b._setupReshape3DOperation(t,r,i,!0);case 9:lr(n=e.sent)||(p.onEnd(),p.destroy(),b._setUpdateOperationHandle(n,r));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),e.abrupt("return",(d.push.apply(d,Object(R.a)(this._getHandlesForComponent(p,r)).concat([this.view.on("immediate-click",(function(e){return b._getCommonUpdateOperationClickHandlers(p,e)}),sn.a.WIDGET),this.view.on("key-down",(function(e){return b._getCommonUpdateOperationKeyDownHandlers(p,e)}),sn.a.WIDGET)])),p));case 28:case"end":return e.stop()}}),e,this,[[2,13,16,19]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_setupPointTransform3DOperation",value:function(){var e=Object(P.a)(A.a.mark((function e(t,r,i){var a,o,s,c,u,l,h,f,d=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="transform",o=r.enableRotation,s=r.enableScaling,c=r.enableZ,e.next=6,this._requireModule(n.e(3).then(n.bind(null,1224)));case 6:if(!lr(u=e.sent)){e.next=9;break}return e.abrupt("return",u);case 9:return l=new u.module.GraphicTransformTool({graphic:t,view:i,enableRotation:o,enableScaling:s,enableZ:c}),this.view.tools.add(l),this.updateGraphics.add(t),h=[],f=new er({activeComponent:l,tool:a,type:"update",onEnd:function(){var e;h.forEach((function(e){return e.remove()})),h.length=0,null==(e=d.view.tools)||e.remove(l),l.destroyed||l.destroy()},undo:function(){or(f,d.updateGraphics.toArray()),d._emitUndoEvent({graphics:d.updateGraphics.toArray(),tool:a})},redo:function(){sr(f,d.updateGraphics.toArray()),d._emitRedoEvent({graphics:d.updateGraphics.toArray(),tool:a})},addToSelection:function(){var e=Object(P.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.updateGraphics.add(t),e.next=3,d._setupMove3DOperation(d.updateGraphics.toArray(),r,i,"transform",!0);case 3:lr(n=e.sent)||(f.onEnd(),f.destroy(),d._setUpdateOperationHandle(n,r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),e.abrupt("return",(h.push.apply(h,Object(R.a)(this._getHandlesForComponent(f,r)).concat([this.view.on("immediate-click",(function(e){return d._getCommonUpdateOperationClickHandlers(f,e)}),sn.a.WIDGET),this.view.on("key-down",(function(e){return d._getCommonUpdateOperationKeyDownHandlers(f,e)}),sn.a.WIDGET)])),f));case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_setupMoveOperation",value:function(){var e=Object(P.a)(A.a.mark((function e(t,n,r){var i,a,o,s,c,u,l,h,f,d=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i="move",this.updateGraphics.addMany(t),a=this._getCloneInfos(t),o=Object(Zt.a)(a);try{for(o.s();!(s=o.n()).done;)c=s.value,this._internalGraphicsLayer.add(c.clone)}catch(p){o.e(p)}finally{o.f()}return e.next=7,this._getGraphicMover(t,n,r);case 7:if(!lr(u=e.sent)){e.next=10;break}return e.abrupt("return",u);case 10:return l=new er({activeComponent:u,tool:i,type:"update",onEnd:function(){var e;d._displayDefaultCursor(),f.forEach((function(e){return e.remove()})),h.forEach((function(e){return e.remove()})),f=[],h=[],u.destroy(),null==(e=d._internalGraphicsLayer)||e.removeMany([].concat(Object(R.a)(d.updateGraphics.toArray()),Object(R.a)(a.map((function(e){return e.clone})))))},undo:function(){or(l,d.updateGraphics.toArray()),d._emitUndoEvent({graphics:d.updateGraphics.toArray(),tool:i})},redo:function(){sr(l,d.updateGraphics.toArray()),d._emitRedoEvent({graphics:d.updateGraphics.toArray(),tool:i})},addToSelection:function(e){d.updateGraphics.push(e),u.graphics=d.updateGraphics.toArray();var t=d._createClone(e);a.push({graphic:e,clone:t}),d._internalGraphicsLayer.add(t),d.emit("update",{graphics:d.updateGraphics.toArray(),state:"active",aborted:!1,tool:d.activeTool,toolEventInfo:{added:[e],removed:[],type:"selection-change"},type:"update"})},removeFromSelection:function(e){var t=d.updateGraphics.indexOf(e);l.history.undo.forEach((function(e){return e.updates.splice(t,1)})),l.history.redo.forEach((function(e){return e.updates.splice(t,1)}));var n=a.findIndex((function(t){return t.graphic===e})),r=a[n];d._internalGraphicsLayer.remove(r.clone),d.updateGraphics.remove(e),a.splice(n,1);var i=d.updateGraphics.toArray();d.emit("update",{graphics:i,state:"active",aborted:!1,tool:d.activeTool,toolEventInfo:{added:[],removed:[e],type:"selection-change"},type:"update"}),0!==d.updateGraphics.length?u.graphics=i:l.complete()}}),h=[r.on("immediate-click",(function(e){return d._getCommonUpdateOperationClickHandlers(l,e,n)}),sn.a.WIDGET),r.on("key-down",(function(e){d._getCommonUpdateOperationKeyDownHandlers(l,e),e.key!==nr.constraintKey||e.repeat||(u.enableMoveAllGraphics=!u.enableMoveAllGraphics)}),sn.a.WIDGET),r.on("key-up",(function(e){e.key===nr.constraintKey&&(u.enableMoveAllGraphics=!u.enableMoveAllGraphics)}),sn.a.WIDGET)],f=this._getHandlesForComponent(l,n),e.abrupt("return",(f.push(u.on("graphic-move",(function(e){a.forEach((function(t){var n=e.allGraphics.find((function(e){return e===t.graphic}));n&&(t.clone.geometry=n.geometry)}))}))),l));case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_getCloneInfos",value:function(e){var t=this;return(null==e?void 0:e.map((function(e){return{graphic:e,clone:t._createClone(e)}})))||[]}},{key:"_createClone",value:function(e){var t=e.clone();return t.symbol=this._getSymbolForClone(e),t}},{key:"_getSymbolForClone",value:function(e){if(Object(at.g)(e.symbol))return null;switch(e.symbol.type){case"cim":return new rn.default({style:"circle",size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case"picture-marker":var t=e.symbol,n=t.xoffset,r=t.yoffset,i=t.height,a=t.width,o=i===a?a:Math.max(i,a);return new rn.default({xoffset:n,yoffset:r,size:o,style:"square",color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case"simple-marker":var s=e.symbol,c=s.xoffset,u=s.yoffset,l=s.size,h=s.style;return new rn.default({xoffset:c,yoffset:u,style:"circle"===h?"circle":"square",size:l+2,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case"simple-fill":return new nn.default({color:[0,0,0,0],outline:{style:"dash",color:[255,127,0,1],width:1}});case"simple-line":return new tn.default({color:[255,127,0,1],style:"dash",width:1});case"text":var f=e.symbol,d=f.xoffset,p=f.yoffset;return new rn.default({xoffset:d,yoffset:p,size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});default:return null}}},{key:"_setupReshape3DOperation",value:function(){var e=Object(P.a)(A.a.mark((function e(t,r,i){var a,o,s,c,u,l,h=this,f=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.length>3&&void 0!==f[3]&&f[3],o="reshape",e.next=4,this._requireModule(n.e(3).then(n.bind(null,1224)));case 4:if(!lr(s=e.sent)){e.next=7;break}return e.abrupt("return",s);case 7:return this.snappingOptions.selfEnabledToggled=!1,c=new s.module.GraphicReshapeTool({view:i,graphic:t,enableZ:r.enableZ,enableMoveGraphic:r.enableMoveGraphic,snappingOptions:this.snappingOptions}),i.tools.add(c),a||this.updateGraphics.add(t),u=[],l=new er({activeComponent:c,tool:o,type:"update",onEnd:function(){var e;u.forEach((function(e){return e.remove()})),u.length=0,null==(e=h.view.tools)||e.remove(c),c.destroyed||c.destroy()},undo:function(){c.beforeUndo(),or(l,h.updateGraphics.toArray()),h._emitUndoEvent({graphics:h.updateGraphics.toArray(),tool:o})},redo:function(){sr(l,h.updateGraphics.toArray()),h._emitRedoEvent({graphics:h.updateGraphics.toArray(),tool:o})},addToSelection:function(){var e=Object(P.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.updateGraphics.add(t),e.next=3,h._setupMove3DOperation(h.updateGraphics.toArray(),r,i,"transform",!0);case 3:lr(n=e.sent)||(l.onEnd(),l.destroy(),h._setUpdateOperationHandle(n,r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),toggleTool:function(){var e=Object(P.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==r.toggleToolOnClick){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,h._setupMove3DOperation(h.updateGraphics.toArray(),r,i,"transform",!0);case 4:lr(t=e.sent)||(l.onEnd(),l.destroy(),h._setUpdateOperationHandle(t,r));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),e.abrupt("return",(u.push.apply(u,Object(R.a)(this._getHandlesForComponent(l,r)).concat([i.on("immediate-click",(function(e){return h._getCommonUpdateOperationClickHandlers(l,e)}),sn.a.WIDGET),i.on("key-down",(function(e){h._getCommonUpdateOperationKeyDownHandlers(l,e),e.key===nr.snappingKey&&(c.snappingOptions.selfEnabledToggled=!0,e.stopPropagation())}),sn.a.WIDGET),i.on("key-up",(function(e){e.key===nr.snappingKey&&(c.snappingOptions.selfEnabledToggled=!1,e.stopPropagation())}),sn.a.WIDGET)])),l));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_setupTransformOrReshapeOperation",value:function(){var e=Object(P.a)(A.a.mark((function e(t,n,r,i){var a,o,s,c,u,l=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.multipleSelectionEnabled,this.updateGraphics.addMany(t),"transform"!==n){e.next=8;break}return e.next=5,this._getBox(t,r,i);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,this._getReshape(t,r,i);case 10:e.t0=e.sent;case 11:if(!lr(o=e.t0)){e.next=14;break}return e.abrupt("return",o);case 14:return s=new er({activeComponent:o,type:"update",onEnd:function(){u.forEach((function(e){return e.remove()})),c.forEach((function(e){return e.remove()})),u=[],c=[],s.activeComponent&&!s.activeComponent.destroyed&&s.activeComponent.destroy(),l._internalGraphicsLayer.removeMany(l.updateGraphics.toArray())},undo:function(){or(s,l.updateGraphics.toArray()),s.refreshComponent(),l._emitUndoEvent({graphics:l.updateGraphics.toArray(),tool:s.tool})},redo:function(){sr(s,l.updateGraphics.toArray()),s.refreshComponent(),l._emitRedoEvent({graphics:l.updateGraphics.toArray(),tool:s.tool})},addToSelection:function(e){var t=s.activeComponent;l.updateGraphics.add(e),t.graphics=l.updateGraphics.toArray(),t.refresh(),s.resetHistory(),l.emit("update",{graphics:l.updateGraphics.toArray(),state:"active",aborted:!1,tool:l.activeTool,toolEventInfo:{added:[e],removed:[],type:"selection-change"},type:"update"})},removeFromSelection:function(e){var t=s.activeComponent,n=l.updateGraphics.indexOf(e);s.history.undo.forEach((function(e){return e.updates.splice(n,1)})),s.history.redo.forEach((function(e){return e.updates.splice(n,1)})),l.updateGraphics.remove(e);var r=l.updateGraphics.toArray();l.emit("update",{graphics:r,state:"active",aborted:!1,tool:l.activeTool,toolEventInfo:{added:[],removed:[e],type:"selection-change"},type:"update"}),0!==l.updateGraphics.length?t.graphics=r:s.complete()},toggleTool:function(){var e=Object(P.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l.updateGraphics.length>1)){e.next=2;break}return e.abrupt("return");case 2:if(n=null,"transform"!==s.tool){e.next=9;break}return e.next=6,l._getReshape(t,r,i);case 6:n=e.sent,e.next=14;break;case 9:if(e.t0="reshape"===s.tool,!e.t0){e.next=14;break}return e.next=13,l._getBox(t,r,i);case 13:n=e.sent;case 14:lr(n)||(s.activeComponent.destroy(),s.activeComponent=n,s.activeComponent&&(u.forEach((function(e){return e.remove()})),u=l._getHandlesForComponent(s,r)));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),c=[i.on("immediate-click",(function(e){l._getFirstHit(Object(un.a)(e)).then((function(t){var n;if(s)if(null!=(n=t.results)&&n.length){var r=s.activeComponent;t.results.some((function(t){if(t.graphic){var n,i=t.graphic;if("box"===(null==r?void 0:r.type)&&null!=(n=e.native)&&n.shiftKey&&a)return s.addToSelection(i),!0;i.layer===l.layer&&s.complete()}return!1}))&&e.stopPropagation()}else s.complete()}))}),sn.a.WIDGET),i.on("key-down",(function(e){if(l._getCommonUpdateOperationKeyDownHandlers(s,e),e.key===nr.constraintKey&&!e.repeat&&s){var t=s.activeComponent;t&&"box"===t.type&&(t.preserveAspectRatio=!t.preserveAspectRatio)}}),sn.a.WIDGET),i.on("key-up",(function(e){if(e.key===nr.constraintKey&&s){var t=s.activeComponent;t&&"box"===t.type&&(t.preserveAspectRatio=!t.preserveAspectRatio)}}),sn.a.WIDGET)],u=this._getHandlesForComponent(s,r),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_getGraphicMover",value:function(){var e=Object(P.a)(A.a.mark((function e(t,r,i){var a,o,s=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.enableMoveAllGraphics,e.next=3,this._requireModule(n.e(57).then(n.bind(null,1062)));case 3:return o=e.sent,e.abrupt("return",lr(o)?o:new o.module.default({enableMoveAllGraphics:a,graphics:t,view:i,callbacks:{onGraphicMoveStart:function(e){var t=e.dx,n=e.dy,r=e.graphic;s._displayGrabbingCursor(),s.emit("update",{graphics:s.updateGraphics.toArray(),state:"active",aborted:!1,tool:s.activeTool,toolEventInfo:{dx:t,dy:n,mover:r,type:"move-start"},type:"update"})},onGraphicMove:function(e){var t=e.dx,n=e.dy,r=e.graphic;return s.emit("update",{graphics:s.updateGraphics.toArray(),state:"active",aborted:!1,tool:s.activeTool,toolEventInfo:{dx:t,dy:n,mover:r,type:"move"},type:"update"})},onGraphicMoveStop:function(e){var t=e.dx,n=e.dy,r=e.graphic;s._displayPointerCursor(),s.emit("update",{graphics:s.updateGraphics.toArray(),state:"active",aborted:!1,tool:s.activeTool,toolEventInfo:{dx:t,dy:n,mover:r,type:"move-stop"},type:"update"})},onGraphicPointerOver:function(){return s._displayPointerCursor()},onGraphicPointerOut:function(){return s._displayDefaultCursor()}}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_getBox",value:function(){var e=Object(P.a)(A.a.mark((function e(t,r,i){var a,o,s,c,u=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.enableRotation,o=r.enableScaling,s=r.preserveAspectRatio,e.next=5,this._requireModule(n.e(35).then(n.bind(null,1237)));case 5:return c=e.sent,e.abrupt("return",lr(c)?c:new c.module.default({graphics:t,enableRotation:a,enableScaling:o,preserveAspectRatio:s,layer:this._internalGraphicsLayer,view:i,callbacks:{onMoveStart:function(e){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:Object(M.a)({},e),type:"update"})},onMove:function(e){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:Object(M.a)({},e),type:"update"})},onMoveStop:function(e){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:Object(M.a)({},e),type:"update"})},onScaleStart:function(e){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:Object(M.a)({},e),type:"update"})},onScale:function(e){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:Object(M.a)({},e),type:"update"})},onScaleStop:function(e){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:Object(M.a)({},e),type:"update"})},onRotateStart:function(e){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:Object(M.a)({},e),type:"update"})},onRotate:function(e){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:Object(M.a)({},e),type:"update"})},onRotateStop:function(e){return u.emit("update",{graphics:u.updateGraphics.toArray(),state:"active",aborted:!1,tool:u.activeTool,toolEventInfo:Object(M.a)({},e),type:"update"})}}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_getReshape",value:function(){var e=Object(P.a)(A.a.mark((function e(t,r,i){var a,o,s,c=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.enableMidpoints,o=void 0===a||a,e.next=4,this._requireModule(n.e(36).then(n.bind(null,1161)));case 4:return s=e.sent,e.abrupt("return",lr(s)?s:new s.module.default({enableMidpoints:o,graphic:t[0],layer:this._internalGraphicsLayer,view:i,callbacks:{onReshapeStart:function(e){return c.emit("update",{graphics:c.updateGraphics.toArray(),state:"active",aborted:!1,tool:c.activeTool,toolEventInfo:Object(M.a)({},e),type:"update"})},onReshape:function(e){return c.emit("update",{graphics:c.updateGraphics.toArray(),state:"active",aborted:!1,tool:c.activeTool,toolEventInfo:Object(M.a)({},e),type:"update"})},onReshapeStop:function(e){var t=e.mover,n=e.type;return c.emit("update",{graphics:c.updateGraphics.toArray(),state:"active",aborted:!1,tool:c.activeTool,toolEventInfo:{mover:t,type:n},type:"update"})},onMoveStart:function(e){var t=e.dx,n=e.dy,r=e.mover,i=e.type;return c.emit("update",{graphics:c.updateGraphics.toArray(),state:"active",aborted:!1,tool:c.activeTool,toolEventInfo:{dx:t,dy:n,mover:r,type:i},type:"update"})},onMove:function(e){var t=e.dx,n=e.dy,r=e.mover,i=e.type;return c.emit("update",{graphics:c.updateGraphics.toArray(),state:"active",aborted:!1,tool:c.activeTool,toolEventInfo:{dx:t,dy:n,mover:r,type:i},type:"update"})},onMoveStop:function(e){var t=e.dx,n=e.dy,r=e.mover,i=e.type;return c.emit("update",{graphics:c.updateGraphics.toArray(),state:"active",aborted:!1,tool:c.activeTool,toolEventInfo:{dx:t,dy:n,mover:r,type:i},type:"update"})},onVertexAdd:function(e){var t=e.added,n=e.type,r=e.vertices,i=t.map((function(e){return Object(en.a)(e.geometry)}));c.emit("update",{graphics:c.updateGraphics.toArray(),state:"active",aborted:!1,tool:c.activeTool,toolEventInfo:{added:i,vertices:r,type:n},type:"update"})},onVertexRemove:function(e){var t=e.removed,n=e.type,r=e.vertices,i=t.map((function(e){return Object(en.a)(e.geometry)}));c.emit("update",{graphics:c.updateGraphics.toArray(),state:"active",aborted:!1,tool:c.activeTool,toolEventInfo:{removed:i,vertices:r,type:n},type:"update"})}}}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_getHandlesForComponent",value:function(e,t){var n=this,r=e.activeComponent;switch(r.type){case"graphic-mover":return[r.on("graphic-click",(function(t){var n,r=t.graphic,i=t.viewEvent;null!=(n=i.native)&&n.shiftKey&&(i.stopPropagation(),e.removeFromSelection(r))})),r.on("graphic-move-start",(function(t){return e.addToHistory(cr(t.allGraphics))}))];case"box":return[r.on("graphic-click",(function(r){return n._onTransformOrReshape2DGraphicClick(e,t,r)})),r.on("move-start",(function(t){return e.addToHistory(cr(t.graphics))})),r.on("rotate-start",(function(t){return e.addToHistory(cr(t.graphics))})),r.on("scale-start",(function(t){return e.addToHistory(cr(t.graphics))}))];case"reshape":return[r.on("graphic-click",(function(r){return n._onTransformOrReshape2DGraphicClick(e,t,r)})),r.on("move-start",(function(t){return e.addToHistory(cr([t.mover]))})),r.on("reshape-start",(function(t){return e.addToHistory(cr([t.graphic]))})),r.on("vertex-add",(function(t){return e.addToHistory(cr([t.oldGraphic]))})),r.on("vertex-remove",(function(t){return e.addToHistory(cr([t.oldGraphic]))}))];case"move-3d":return[r.on("graphic-move-start",(function(t){e.addToHistory(cr(t.allGraphics)),n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:{dx:0,dy:0,mover:t.allGraphics.length>0?t.allGraphics[0]:null,type:"move-start"},type:"update"})})),r.on("graphic-move",(function(e){n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:{dx:e.dx,dy:e.dy,mover:e.allGraphics.length>0?e.allGraphics[0]:null,type:"move"},type:"update"})})),r.on("graphic-move-stop",(function(e){n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:{dx:0,dy:0,mover:e.allGraphics.length>0?e.allGraphics[0]:null,type:"move-stop"},type:"update"})})),r.on("immediate-click",(function(r){r.shiftKey?n._toggleSelection([r.graphic],e,t):e.toggleTool()}))];case"transform-3d":return[r.on("graphic-translate-start",(function(t){e.addToHistory(cr([t.graphic])),n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:{mover:t.graphic,dx:t.dxScreen,dy:t.dyScreen,type:"move-start"},type:"update"})})),r.on("graphic-translate-stop",(function(e){n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:{mover:e.graphic,dx:e.dxScreen,dy:e.dyScreen,type:"move-stop"},type:"update"})})),r.on("graphic-rotate-start",(function(t){e.addToHistory(ur([t.graphic])),n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:{mover:t.graphic,angle:t.angle,type:"rotate-start"},type:"update"})})),r.on("graphic-rotate-stop",(function(e){n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:{mover:e.graphic,angle:e.angle,type:"rotate-stop"},type:"update"})})),r.on("graphic-scale-start",(function(t){e.addToHistory(ur([t.graphic])),n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:{mover:t.graphic,xScale:t.scale,yScale:t.scale,type:"scale-start"},type:"update"})})),r.on("graphic-scale-stop",(function(e){n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:{mover:e.graphic,xScale:e.scale,yScale:e.scale,type:"scale-stop"},type:"update"})})),r.on("graphic-translate",(function(e){n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:{mover:e.graphic,dx:e.dxScreen,dy:e.dyScreen,type:"move"},type:"update"})})),r.on("graphic-rotate",(function(e){n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:{mover:e.graphic,angle:e.angle,type:"rotate"},type:"update"})})),r.on("graphic-scale",(function(e){n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:{mover:e.graphic,xScale:e.scale,yScale:e.scale,type:"scale"},type:"update"})}))];case"reshape-3d":return[r.on("reshape",(function(t){"reshape-start"===t.type&&e.addToHistory(cr([t.mover])),n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:t,type:"update"})})),r.on("move",(function(t){"move-start"===t.type&&e.addToHistory(cr([t.mover])),n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:t,type:"update"})})),r.on("vertex-add",(function(e){n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:e,type:"update"})})),r.on("vertex-remove",(function(e){n.emit("update",{graphics:n.updateGraphics.toArray(),state:"active",aborted:!1,tool:n.activeTool,toolEventInfo:e,type:"update"})})),r.on("immediate-click",(function(){return e.toggleTool()}))];case"draw":case"draw-3d":return null;default:return}}},{key:"_onTransformOrReshape2DGraphicClick",value:function(e,t,n){var r,i=n.graphic,a=n.viewEvent;null!=(r=a.native)&&r.shiftKey?(a.stopPropagation(),e.removeFromSelection(i)):t.toggleToolOnClick&&(Object(at.g)(i.geometry)||"extent"!==i.geometry.type?(a.stopPropagation(),e.toggleTool()):this._logError("sketch:reshape-extent","Reshape operation does not support graphics with geometry of type 'extent'."))}},{key:"_setUpdateOperationHandle",value:function(e,t){var n=this;this._operationHandle=e;var r=this.view.map;this._disablePopup(t),e.on("complete",(function(){if(e===n._operationHandle){var i=n.updateGraphics.toArray(),a=n._operationHandle.tool;n._operationHandle.destroy(),n._operationHandle=null,n._internalGraphicsLayer.removeMany(n.updateGraphics.toArray()),n.updateGraphics.removeAll(),r&&r.remove(n._internalGraphicsLayer),n._restorePopup(t),n.emit("update",{graphics:i,state:"complete",aborted:e.cancelled,tool:a,toolEventInfo:null,type:"update"})}}))}},{key:"_getCommonUpdateOperationClickHandlers",value:function(e,t,n){var r=this,i=Object(un.a)(t);this._getFirstHit(i).then((function(i){var a=i.results;a.length&&(t.native.shiftKey&&r._toggleSelection(a.map((function(e){return e.graphic})),e,n)||a.some((function(e){return e.graphic&&r.updateGraphics.indexOf(e.graphic)>-1})))?t.stopPropagation():e.complete()}))}},{key:"_toggleSelection",value:function(e,t,n){var r=this,i=!n||!!n.multipleSelectionEnabled;return e.some((function(e){return null!=e&&!(!i||e.layer!==r.layer)&&(-1===r.updateGraphics.indexOf(e)?t.addToSelection(e):t.removeFromSelection(e),!0)}))}},{key:"_getCommonUpdateOperationKeyDownHandlers",value:function(e,t){if(e){var n=t.key;n===nr.undoKey&&e.canUndo()?(t.stopPropagation(),e.undo()):n===nr.redoKey&&e.canRedo()?(t.stopPropagation(),e.redo()):n===nr.cancelKey?(t.stopPropagation(),e.cancel()):nr.deleteKeys.indexOf(n)>=0&&this._onDeleteKey(t)}}},{key:"_onDeleteKey",value:function(e){if(this._operationHandle&&"update"===this._operationHandle.type){var t=this.activeComponent;if(!Object(at.g)(t)&&"reshape"!==t.type&&"reshape-3d"!==t.type){e.stopPropagation();var n=this.updateGraphics.toArray();this.layer.removeMany(n),this._emitDeleteEvent({graphics:n,tool:this.activeTool})}}}},{key:"_drawMultipointGraphic",value:function(e,t){var n=null;if(!t&&e.length>1){var r=e.slice(0);r.pop(),n=Object(hn.c)(r,this.view.spatialReference)}else n=Object(hn.c)(e,this.view.spatialReference);this.createGraphic?this.createGraphic.geometry=n:this._set("createGraphic",new B.a(n,this.pointSymbol)),t&&1===e.length&&this._internalGraphicsLayer.add(this.createGraphic)}},{key:"_drawVertexGraphics",value:function(e,t,n){if(t.length){var r=this._doUnnormalization,i=this.activeLineSymbol,a=this.activeVertexSymbol,o=this.polygonSymbol,s=this.polylineSymbol,c=this.vertexSymbol,u=this.view.spatialReference,l=!(!n||!n.userClicked),h="polygon"===e,f=h?o:s;if(1===t.length){this._removeLineGraphic(),this._removeActiveLineGraphic();var d=this.createPointFromVertex(t[0]),p=h?Object(hn.d)([t],u,r,!0):Object(hn.e)([t],u,r);this._vertexGraphics.length?this._vertexGraphics[0].geometry=d:this._vertexGraphics.push(new B.a(d,a)),this.createGraphic?this.createGraphic.geometry=p:this._set("createGraphic",new B.a(p,f)),l&&this._internalGraphicsLayer.add(this._vertexGraphics[0])}else if(2===t.length){var b=this.createPointFromVertex(t[1]),v=Object(hn.e)([t],u,r),y=h?Object(hn.d)([t],u,r,!0):Object(hn.e)([t],u,r);if(!this._vertexGraphics.length){var m=this.createPointFromVertex(t[0]),g=new B.a(m,c);this._vertexGraphics.push(g)}if(1===this._vertexGraphics.length){var O=this._vertexGraphics[0],j=new B.a(b,c);this._removeLineGraphic(),this._removeActiveFillGraphic(),this._vertexGraphics.push(j),this._internalGraphicsLayer.remove(O),this._internalGraphicsLayer.add(O)}else this._vertexGraphics[1].geometry=b;this._showActiveLineGraphic(v);var w=this._vertexGraphics[0];l&&(this._activeLineGraphic.symbol=s,w.symbol=c,this._internalGraphicsLayer.add(this._vertexGraphics[1])),this.createGraphic?this.createGraphic.geometry=y:this._set("createGraphic",new B.a(y,o)),this._internalGraphicsLayer.remove(w),this._internalGraphicsLayer.add(w)}else if(t.length>2){var _=h?Object(hn.d)([t],u,r,!0):Object(hn.e)([t],u,r);"polygon"===e&&this._showFillGraphic(_);var x=t.map((function(e){return e.slice()})),k=x.pop(),S=[x[x.length-1],k],E=Object(hn.e)([x],u,r),T=Object(hn.e)([S],u,r);this._showLineGraphic(E),this._showActiveLineGraphic(T);for(var M=0;M<x.length;M++){var C=this._vertexGraphics[M];if(C)l||M!==this._vertexGraphics.length-1?C.symbol=c:C.symbol=a;else{var A=this.createPointFromVertex(t[M]);this._showVertexGraphic(A)}}if(l){this._activeLineGraphic.symbol=s;var P=t.length-1,I=this.createPointFromVertex(t[P]);this._showVertexGraphic(I)}else this._activeLineGraphic.symbol=i;this.createGraphic?this.createGraphic.geometry=_:(this._removeCreateGraphic(),this._set("createGraphic",new B.a(_,f)));var D,L=Object(Zt.a)(this._vertexGraphics);try{for(L.s();!(D=L.n()).done;){var R=D.value;this._internalGraphicsLayer.remove(R),this._internalGraphicsLayer.add(R)}}catch(N){L.e(N)}finally{L.f()}}}}},{key:"_drawSegmentGraphic",value:function(e,t,n,r){if(t.length){var i=!(null==n||!n.centered),a=!(null==n||!n.constrainToggle),o=null;1===t.length?this._removeCenterIndicatorGraphic():("rectangle"===e?o=a?Object(hn.g)(t,r,i):Object(hn.f)(t,r,i):"circle"===e&&(o=a?Object(hn.b)(t,r,i):Object(hn.a)(t,r,i,this.view.resolution)),o.extent&&o.extent.center&&this._showCenterIndicatorGraphic(o.extent.center)),o?this.createGraphic?this.createGraphic.geometry=o:(this._removeCreateGraphic(),this._set("createGraphic",new B.a(o,this.polygonSymbol)),this._internalGraphicsLayer.add(this.createGraphic)):this._removeCreateGraphic()}}},{key:"_showCenterIndicatorGraphic",value:function(e){this._centerIndicatorGraphic?this._centerIndicatorGraphic.geometry=e:(this._centerIndicatorGraphic=new B.a(e,this._centerSymbol),this._internalGraphicsLayer.add(this._centerIndicatorGraphic))}},{key:"_removeCenterIndicatorGraphic",value:function(){this._centerIndicatorGraphic&&(this._internalGraphicsLayer.remove(this._centerIndicatorGraphic),this._centerIndicatorGraphic.destroy(),this._centerIndicatorGraphic=null)}},{key:"_showActiveLineGraphic",value:function(e){this._activeLineGraphic?(this._activeLineGraphic.geometry=e,this._internalGraphicsLayer.remove(this._activeLineGraphic)):this._activeLineGraphic=new B.a(e,this.activeLineSymbol),this._internalGraphicsLayer.add(this._activeLineGraphic)}},{key:"_showFillGraphic",value:function(e){this._activeFillGraphic?(this._activeFillGraphic.geometry=e,this._internalGraphicsLayer.remove(this._activeFillGraphic)):this._activeFillGraphic=new B.a(e,this.activeFillSymbol),this._internalGraphicsLayer.add(this._activeFillGraphic)}},{key:"_showLineGraphic",value:function(e){this._lineGraphic?(this._lineGraphic.geometry=e,this._internalGraphicsLayer.remove(this._lineGraphic)):this._lineGraphic=new B.a(e,this.polylineSymbol),this._internalGraphicsLayer.add(this._lineGraphic)}},{key:"_showVertexGraphic",value:function(e,t){var n=t?this.activeVertexSymbol:this.vertexSymbol,r=new B.a(e,n);this._vertexGraphics.push(r),this._internalGraphicsLayer.add(r)}},{key:"_resetCreateOperationGraphics",value:function(){this._removeActiveFillGraphic(),this._removeLineGraphic(),this._removeActiveLineGraphic(),this._removeVertexGraphics()}},{key:"_removeCreateGraphic",value:function(){this.createGraphic&&(this._internalGraphicsLayer.remove(this.createGraphic),this._set("createGraphic",null))}},{key:"_removeCreateOperationGraphics",value:function(){this._removeCenterIndicatorGraphic(),this._removeActiveLineGraphic(),this._removeActiveFillGraphic(),this._removeLineGraphic(),this._removeVertexGraphics()}},{key:"_removeActiveLineGraphic",value:function(){this._activeLineGraphic&&(this._internalGraphicsLayer.remove(this._activeLineGraphic),this._activeLineGraphic.destroy(),this._activeLineGraphic=null)}},{key:"_removeActiveFillGraphic",value:function(){this._activeFillGraphic&&(this._internalGraphicsLayer.remove(this._activeFillGraphic),this._activeFillGraphic.destroy(),this._activeFillGraphic=null)}},{key:"_removeLineGraphic",value:function(){this._lineGraphic&&(this._internalGraphicsLayer.remove(this._lineGraphic),this._lineGraphic.destroy(),this._lineGraphic=null)}},{key:"_removeVertexGraphics",value:function(){this._vertexGraphics.length&&(this._internalGraphicsLayer.removeMany(this._vertexGraphics),this._vertexGraphics.forEach((function(e){return e.destroy()})),this._vertexGraphics=[])}},{key:"_removeDefaultLayer",value:function(){this._internalGraphicsLayer&&(this.view&&this.view.map&&this.view.map.remove(this._internalGraphicsLayer),this._internalGraphicsLayer.destroy(),this._internalGraphicsLayer=null)}},{key:"_operationHandleForCreateAction",value:function(e,t,n){var r=this;return new er({activeComponent:this._draw,tool:n,type:"create",onEnd:function(){t.forEach((function(e){return e.remove()})),t.length=0,r._removeCreateOperationGraphics(),r._internalGraphicsLayer&&r._internalGraphicsLayer.remove(r.createGraphic),r._displayDefaultCursor()},undo:function(){e.undo(),r._emitUndoEvent({graphics:[r.createGraphic],tool:n})},redo:function(){e.redo(),r._emitRedoEvent({graphics:[r.createGraphic],tool:n})},canUndo:function(){return e&&e.canUndo()},canRedo:function(){return e&&e.canRedo()}})}},{key:"_isComponentGraphic",value:function(e){var t=this.activeComponent;return!(!e||Object(at.g)(t))&&(!(!e.attributes||!e.attributes.esriSketchTool)||("box"===t.type||"reshape"===t.type)&&t.isUIGraphic(e))}},{key:"_snap",value:function(e,t,n){n&&this._snapLastVertexToAxis(t),"polygon"===e&&this._snapLastPolygonVertexToFirst(t)}},{key:"_snapLastPolygonVertexToFirst",value:function(e){if(!(e.length<=2)){var t=e[0],n=e[e.length-1],r=this.view.toScreen(new $t.a(t[0],t[1],this.view.spatialReference)),i=this.view.toScreen(new $t.a(n[0],n[1],this.view.spatialReference));this._isWithinScreenDistance(r,i,this._getVertexIntersectDistance())&&(n[0]=t[0],n[1]=t[1])}}},{key:"_getVertexIntersectDistance",value:function(){return this.vertexSymbol&&"simple-marker"===this.vertexSymbol.type?Object(pt.g)(this.vertexSymbol.size)/2+3:3}},{key:"_isWithinScreenDistance",value:function(e,t,n){var r=e.x-t.x,i=e.y-t.y;return Math.sqrt(r*r+i*i)<=n}},{key:"_snapLastVertexToAxis",value:function(e){if(!(e.length<2)){var t=e.pop(),n=e[e.length-1],r=Object(hn.h)(this.view,n),i=r.mapToLocal(n),a=r.mapToLocal(t),o=Math.abs(a.x-i.x),s=Math.abs(a.y-i.y),c=r.localToMap(Object(hn.i)(o>s?a.x:i.x,o>s?i.y:a.y));e.push(c)}}},{key:"_displayPointerCursor",value:function(){this.view&&this.view.container&&"pointer"!==this.view.cursor&&(this.view.cursor="pointer")}},{key:"_displayGrabbingCursor",value:function(){this.view&&this.view.container&&"grabbing"!==this.view.cursor&&(this.view.cursor="grabbing")}},{key:"_displayCrosshairCursor",value:function(){this.view&&this.view.container&&"crosshair"!==this.view.cursor&&(this.view.cursor="crosshair")}},{key:"_displayDefaultCursor",value:function(){this.view&&this.view.container&&null!==this.view.cursor&&(this.view.cursor=null)}},{key:"_logError",value:function(e,t,n){tr.error(new $e.a(e,t,n))}},{key:"_requireModule",value:function(){var e=Object(P.a)(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,this._moduleLoaderAbortController=n,e.next=4,t;case 4:return r=e.sent,e.abrupt("return",this._moduleLoaderAbortController!==n||n.signal.aborted?{requireError:"aborted"}:{module:r});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_emitUndoEvent",value:function(e){this.emit("undo",Object(M.a)(Object(M.a)({},e),{},{type:"undo"}))}},{key:"_emitRedoEvent",value:function(e){this.emit("redo",Object(M.a)(Object(M.a)({},e),{},{type:"redo"}))}},{key:"_emitDeleteEvent",value:function(e){this.emit("delete",Object(M.a)(Object(M.a)({},e),{},{type:"delete"}))}},{key:"createPointFromVertex",value:function(e){return e.length>2?new $t.a(e[0],e[1],e[2],this.view.spatialReference):new $t.a(e[0],e[1],this.view.spatialReference)}},{key:"test",value:function(){return this._operationHandle}},{key:"wait",value:function(){return Object(y.i)(this,"updating")}},{key:"_beginAsyncOperation",value:function(){this._numUpdating+=1,this.notifyChange("updating")}},{key:"_endAsyncOperation",value:function(){this._numUpdating-=1,this.notifyChange("updating")}},{key:"_disablePopupEnabled",value:function(e){var t;return"3d"!==(null==(t=this.view)?void 0:t.type)||this.updateOnGraphicClick||e.toggleToolOnClick}},{key:"_disablePopup",value:function(e){if(this._disablePopupEnabled(e)){var t=this.view.popup;t&&Object(at.g)(this._originalAutoOpenEnabled)&&(this._originalAutoOpenEnabled=t.autoOpenEnabled,t.autoOpenEnabled=!1)}}},{key:"_restorePopup",value:function(e){if(this._disablePopupEnabled(e)){var t=this.view.popup;t&&Object(at.h)(this._originalAutoOpenEnabled)&&(t.autoOpenEnabled=this._originalAutoOpenEnabled,this._originalAutoOpenEnabled=null)}}}]),r}(z.a.EventedAccessor);function or(e,t){var n=e.history.undo.pop().updates,r=[];t.forEach((function(e,t){var i=n[t],a={};null!=i&&(Object(at.h)(i.geometry)&&(a.geometry=e.geometry,e.geometry=i.geometry),Object(at.h)(i.symbol)&&(a.symbol=e.symbol,e.symbol=i.symbol),r.push(a))})),e.history.redo.push({updates:r})}function sr(e,t){var n=e.history.redo.pop().updates,r=[];t.forEach((function(e,t){var i=n[t],a={};null!=i&&(Object(at.h)(i.geometry)&&(a.geometry=e.geometry,e.geometry=i.geometry),Object(at.h)(i.symbol)&&(a.symbol=e.symbol,e.symbol=i.symbol),r.push(a))})),e.history.undo.push({updates:r})}function cr(e){return{updates:e.map((function(e){return{geometry:e.geometry}}))}}function ur(e){return{updates:e.map((function(e){return{symbol:e.symbol}}))}}function lr(e){return"requireError"in e&&"aborted"===e.requireError}Object(u.a)([Object(h.b)({dependsOn:["state"],readOnly:!0})],ar.prototype,"_draw",null),Object(u.a)([Object(h.b)()],ar.prototype,"updating",null),Object(u.a)([Object(h.b)()],ar.prototype,"_operationHandle",void 0),Object(u.a)([Object(h.b)({dependsOn:["_operationHandle","_operationHandle.tool"],readOnly:!0})],ar.prototype,"activeTool",null),Object(u.a)([Object(h.b)()],ar.prototype,"activeFillSymbol",void 0),Object(u.a)([Object(h.b)()],ar.prototype,"activeLineSymbol",void 0),Object(u.a)([Object(h.b)()],ar.prototype,"activeVertexSymbol",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],ar.prototype,"createGraphic",null),Object(u.a)([Object(h.b)()],ar.prototype,"defaultCreateOptions",null),Object(u.a)([Object(h.b)()],ar.prototype,"defaultUpdateOptions",null),Object(u.a)([Object(h.b)()],ar.prototype,"layer",void 0),Object(u.a)([Object(h.b)({types:bt.i})],ar.prototype,"pointSymbol",void 0),Object(u.a)([Object(h.b)({types:bt.i})],ar.prototype,"polygonSymbol",void 0),Object(u.a)([Object(h.b)({types:bt.i})],ar.prototype,"polylineSymbol",void 0),Object(u.a)([Object(h.b)({dependsOn:["view.ready","layer","_operationHandle"],readOnly:!0})],ar.prototype,"state",null),Object(u.a)([Object(h.b)({readOnly:!0})],ar.prototype,"updateGraphics",void 0),Object(u.a)([Object(h.b)()],ar.prototype,"updateOnGraphicClick",void 0),Object(u.a)([Object(h.b)({types:bt.i})],ar.prototype,"updatePointSymbol",void 0),Object(u.a)([Object(h.b)({types:bt.i})],ar.prototype,"updatePolygonSymbol",void 0),Object(u.a)([Object(h.b)({types:bt.i})],ar.prototype,"updatePolylineSymbol",void 0),Object(u.a)([Object(h.b)({types:bt.i})],ar.prototype,"vertexSymbol",void 0),Object(u.a)([Object(h.b)({value:null})],ar.prototype,"view",null),Object(u.a)([Object(h.b)({type:ln.a})],ar.prototype,"snappingOptions",void 0),Object(u.a)([Object(h.b)()],ar.prototype,"cancel",null),Object(u.a)([Object(h.b)()],ar.prototype,"complete",null),Object(u.a)([Object(h.b)()],ar.prototype,"delete",null),Object(u.a)([Object(h.b)()],ar.prototype,"create",null),Object(u.a)([Object(h.b)()],ar.prototype,"update",null),Object(u.a)([Object(h.b)()],ar.prototype,"undo",null),Object(u.a)([Object(h.b)()],ar.prototype,"redo",null),Object(u.a)([Object(h.b)()],ar.prototype,"canUndo",null),Object(u.a)([Object(h.b)()],ar.prototype,"canRedo",null),Object(u.a)([Object(h.b)()],ar.prototype,"toggleUpdateTool",null);var hr=ar=Object(u.a)([Object(d.a)("esri.widgets.Sketch.SketchViewModel")],ar),fr=l.a.getLogger("esri.widgets.Editor.EditorViewModel"),dr=["create","update"];function pr(e,t,n){fr.error(new $e.a(e,t,n))}function br(e){return e&&Object(it.isEditableLayer)(e.layer)}var vr=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._sketchGraphicsLayer=new tt.a({listMode:"hide"}),r.activeWorkflow=null,r.activityQueue=[],r.failures=[],r.attachmentsViewModel=new nt.a({abilities:{editing:!0}}),r.featureFormViewModel=new be,r.featureTemplatesViewModel=new Ye,r.layerInfos=null,r.sketchViewModel=new hr({layer:r._sketchGraphicsLayer}),r.spinnerViewModel=new rt.a,r}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this;this.handles.add([Object(y.b)(this,"activeWorkflow","cancel",(function(){return e.emit("workflow-cancel")})),Object(y.b)(this,"activeWorkflow","commit",(function(){return e.emit("workflow-commit")})),Object(y.b)(this,"view.allLayerViews","change",(function(){e.handles.remove("all-layer-views-prop-watcher"),e.notifyChange("editableItems")})),Object(y.d)(this,"editableItems",(function(){var t=e.activeWorkflow;if(t){var n=t.stepId;if("create"===t.type)return e.refreshCreationTemplates(),void("awaiting-feature-creation-info"!==n||e.canCreate||e._cancelWorkflow());"update"===t.type&&("awaiting-feature-to-update"===n&&!e.canUpdate||"awaiting-update-feature-candidate"===n&&!t.data.candidates.some((function(t){var n=e.editableItems.find((function(e){return e.layer===t.layer}));return n&&n.supports.indexOf("update")>-1})))&&e._cancelWorkflow()}}))])}},{key:"destroy",value:function(){var e=this;this._cancelWorkflow().then((function(){return e.view=null}))}},{key:"allowedWorkflows",get:function(){return this._get("allowedWorkflows")},set:function(e){e&&0!==e.length||(e=[].concat(dr)),this._set("allowedWorkflows",e)}},{key:"canCreate",get:function(){return this.editableItems.some((function(e){return e.supports.indexOf("create")>-1}))}},{key:"canUpdate",get:function(){return this.editableItems.some((function(e){return e.supports.indexOf("update")>-1}))}},{key:"editableItems",get:function(){var e=this,t=this.get("view.allLayerViews");if(!t)return new et.a;var n=function(){return e.notifyChange("editableItems")};return t.filter(br).map((function(t){e.handles.add(Object(y.d)(t,["suspended","layer.editingEnabled"],n),"all-layer-views-prop-watcher");var r=t.layer,i=t.suspended,a=r.capabilities,o=a.data,s=a.operations,c=function(e,t){return e&&e.find((function(e){return e.layer===t}))}(e.layerInfos,r),u="supportsAttachment"in o&&o.supportsAttachment&&(!c||!1!==c.allowAttachments);if(i)return{hasAttachments:u,layer:r,supports:[]};var l=e.allowedWorkflows.filter((function(e){return!c||!1!==c.enabled&&("create"===e&&!1!==c.addEnabled||"update"===e&&!1!==c.updateEnabled)})),h=function(e){return l.find((function(t){return t===e}))},f=[];return h("create")&&s.supportsAdd&&f.push("create"),h("update")&&s.supportsUpdate&&f.push("update"),!1!==(c&&c.deleteEnabled)&&s.supportsDelete&&f.push("delete"),{hasAttachments:u,layer:r,supports:f}})).reverse()}},{key:"state",get:function(){if(!this.get("view.ready")||0===this.editableItems.length)return"disabled";var e=this.attachmentsViewModel.mode;if("add"===e)return"adding-attachment";if("edit"===e)return"editing-attachment";var t=this.activeWorkflow;return t?t.stepId:"ready"}},{key:"syncing",get:function(){return this.activityQueue.length>0}},{key:"view",set:function(e){this.sketchViewModel.view=e,this.spinnerViewModel.view=e,this._set("view",e)}},{key:"startCreateWorkflowAtFeatureTypeSelection",value:function(){var e=Object(P.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canCreate){e.next=2;break}return e.abrupt("return",void pr("editing:unsupported-workflow","Create workflow is unsupported or disabled."));case 2:return e.next=4,this._cancelWorkflow();case 4:return t=this._createCreateWorkflow(),e.next=7,t.start();case 7:this._set("activeWorkflow",t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"startCreateWorkflowAtFeatureCreation",value:function(){var e=Object(P.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canCreate){e.next=2;break}return e.abrupt("return",void pr("editing:unsupported-workflow","Update workflow is unsupported or disabled."));case 2:return e.next=4,this._cancelWorkflow();case 4:return(n=this._createCreateWorkflow("awaiting-feature-to-create")).data.creationInfo=t,e.next=8,n.start();case 8:this._set("activeWorkflow",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startCreateWorkflowAtFeatureEdit",value:function(){var e=Object(P.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canCreate){e.next=2;break}return e.abrupt("return",void pr("editing:unsupported-workflow","Update workflow is unsupported or disabled."));case 2:return e.next=4,this._cancelWorkflow();case 4:return(n=this._createCreateWorkflow("editing-new-feature")).data.edits.feature=t,e.next=8,n.start();case 8:this._set("activeWorkflow",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startUpdateWorkflowAtFeatureSelection",value:function(){var e=Object(P.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canUpdate){e.next=2;break}return e.abrupt("return",void pr("editing:unsupported-workflow","Update workflow is unsupported or disabled."));case 2:return e.next=4,this._cancelWorkflow();case 4:return t=this._createUpdateWorkflow(),e.next=7,t.start();case 7:this._set("activeWorkflow",t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"startUpdateWorkflowAtMultipleFeatureSelection",value:function(){var e=Object(P.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canUpdate){e.next=2;break}return e.abrupt("return",void pr("editing:unsupported-workflow","Update workflow is unsupported or disabled."));case 2:return e.next=4,this._cancelWorkflow();case 4:return(n=this._createUpdateWorkflow("awaiting-update-feature-candidate")).data.candidates=t,e.next=8,n.start();case 8:this._set("activeWorkflow",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startUpdateWorkflowAtFeatureEdit",value:function(){var e=Object(P.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canUpdate){e.next=2;break}return e.abrupt("return",void pr("editing:unsupported-workflow","Update workflow is unsupported or disabled."));case 2:return e.next=4,this._cancelWorkflow();case 4:return(n=this._createUpdateWorkflow("editing-existing-feature")).data.edits.feature=t,e.next=8,n.start();case 8:this._set("activeWorkflow",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteFeatureFromWorkflow",value:function(){var e=Object(P.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.activeWorkflow)||"create"===t.type){e.next=8;break}return e.next=4,this._delete(t.data.edits.feature);case 4:return e.next=6,t.reset();case 6:e.next=9;break;case 8:pr("editing:unsupported-workflow","Deleting requires an active update workflow.");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancelWorkflow",value:function(){var e=Object(P.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._cancelWorkflow(Object(M.a)({warn:!0},t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshCreationTemplates",value:function(){this.featureTemplatesViewModel.layers=this.editableItems.filter((function(e){return e.supports.indexOf("create")>-1})).map((function(e){return e.layer})).toArray()}},{key:"_cancelWorkflow",value:function(){var e=Object(P.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.activeWorkflow){e.next=3;break}return e.abrupt("return",void(t&&t.warn&&pr("editing:no-active-workflow","There is no active workflow to cancel.")));case 3:if(t&&!1===t.force){e.next=9;break}return this.emit("workflow-cancel"),this._set("activeWorkflow",null),e.next=8,n.cancel(t);case 8:return e.abrupt("return",void e.sent);case 9:return e.next=11,n.cancel(t);case 11:this._set("activeWorkflow",null);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createCreateWorkflow",value:function(e){var t=this;return qt.create(this,e,(function(e){return t._create(e)}))}},{key:"_createUpdateWorkflow",value:function(e){var t=this;return Qt.create(this,e,(function(e){return t._update(e)}))}},{key:"_create",value:function(){var e=Object(P.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._applyEdits(t.layer,{addFeatures:[t]});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){var e=Object(P.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._applyEdits(t.layer,{deleteFeatures:[t]});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_update",value:function(){var e=Object(P.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._applyEdits(t.layer,{updateFeatures:[t]});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_applyEdits",value:function(){var e=Object(P.a)(A.a.mark((function e(t,n){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._queueOperation((function(){return t.applyEdits(n)}));case 2:return e.next=4,this.view.whenLayerView(t);case 4:return r=e.sent,e.next=7,Object(y.g)(r,"updating");case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_queueOperation",value:function(e){var t=this;this.activityQueue.push(e),this.notifyChange("syncing");var n=function(e,t){var n=t.indexOf(e);n>-1&&t.splice(n,1)};return e().then((function(e){var t=e.addFeatureResults,n=e.deleteFeatureResults,r=e.updateFeatureResults,i=t.find((function(e){return!!e.error}))||r.find((function(e){return!!e.error}))||n.find((function(e){return!!e.error}));if(i)throw i.error})).catch((function(r){pr("editing:operation-error","An error occurred.",{error:r});var i={error:r,retry:function(){return n(i,t.failures),t._queueOperation(e)},cancel:function(){n(i,t.failures)}};t._set("failures",[].concat(Object(R.a)(t.failures),[i]))})).then((function(){n(e,t.activityQueue),t.notifyChange("syncing")}))}}]),n}(Object(m.b)(z.a.EventedAccessor));Object(u.a)([Object(h.b)({readOnly:!0})],vr.prototype,"activeWorkflow",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],vr.prototype,"activityQueue",void 0),Object(u.a)([Object(h.b)({value:[].concat(dr)})],vr.prototype,"allowedWorkflows",null),Object(u.a)([Object(h.b)({readOnly:!0,dependsOn:["editableItems"]})],vr.prototype,"canCreate",null),Object(u.a)([Object(h.b)({readOnly:!0,dependsOn:["editableItems"]})],vr.prototype,"canUpdate",null),Object(u.a)([Object(h.b)({dependsOn:["allowedWorkflows","layerInfos","view.allLayerViews","view.ready"],readOnly:!0})],vr.prototype,"editableItems",null),Object(u.a)([Object(h.b)({readOnly:!0})],vr.prototype,"failures",void 0),Object(u.a)([Object(h.b)()],vr.prototype,"attachmentsViewModel",void 0),Object(u.a)([Object(h.b)()],vr.prototype,"featureFormViewModel",void 0),Object(u.a)([Object(h.b)()],vr.prototype,"featureTemplatesViewModel",void 0),Object(u.a)([Object(h.b)()],vr.prototype,"layerInfos",void 0),Object(u.a)([Object(h.b)()],vr.prototype,"sketchViewModel",void 0),Object(u.a)([Object(h.b)()],vr.prototype,"spinnerViewModel",void 0),Object(u.a)([Object(h.b)({dependsOn:["attachmentsViewModel.mode","editableItems","activeWorkflow.stepId","view.ready"]})],vr.prototype,"state",null),Object(u.a)([Object(h.b)({readOnly:!0})],vr.prototype,"syncing",null),Object(u.a)([Object(h.b)()],vr.prototype,"view",null);var yr=vr=Object(u.a)([Object(d.a)("esri.widgets.Editor.EditorViewModel")],vr),mr="esri-editor esri-widget esri-widget--panel",gr="esri-editor__header",Or="esri-editor__scroller",jr="esri-editor__content",wr="esri-editor__temp-wrapper",_r="esri-editor__title",xr="esri-editor__back-button",kr="esri-editor__feature-list-item",Sr="esri-editor__feature-list-item--disabled",Er="esri-editor__feature-list-name",Tr="esri-editor__feature-list-icon",Mr="esri-icon-right",Cr="esri-icon-left",Ar="esri-button--disabled",Pr="esri-heading",Ir="esri-interactive";function Dr(e){e.focus()}var Lr=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r))._candidateCommitted=!1,a._featureForm=new Se,a._attachments=new S.a({visibleElements:{addSubmitButton:!1,cancelAddButton:!1,cancelUpdateButton:!1,deleteButton:!1,errorMessage:!1,progressBar:!1,updateButton:!1}}),a._featureTemplates=new Ze,a._filterText="",a._prompt=null,a._spinner=new E.a,a.activeWorkflow=null,a.allowedWorkflows=null,a.iconClass="esri-icon-edit",a.label=void 0,a.layerInfos=null,a.messages=null,a.messagesCommon=null,a.messagesTemplates=null,a.supportingWidgetDefaults=null,a.view=null,a.viewModel=new yr,a._handleHeaderClickOrKeyDown=function(e){e.currentTarget["data-prevent-back"]||a._handleBack.call(Object(o.a)(a),e)},a._setCandidateFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a._candidateCommitted){var n=a.viewModel.activeWorkflow;n.data.edits.feature=e,t&&(n.next(),a._candidateCommitted=!0)}},a._handleSave=a._handleSave.bind(Object(o.a)(a)),a._handleBack=a._handleBack.bind(Object(o.a)(a)),a._handleDone=a._handleDone.bind(Object(o.a)(a)),a._handleDelete=a._handleDelete.bind(Object(o.a)(a)),a._handleAdd=a._handleAdd.bind(Object(o.a)(a)),a._handleEdit=a._handleEdit.bind(Object(o.a)(a)),a._handleAttachmentAdd=a._handleAttachmentAdd.bind(Object(o.a)(a)),a._handleAttachmentUpdate=a._handleAttachmentUpdate.bind(Object(o.a)(a)),a._handleAttachmentDelete=a._handleAttachmentDelete.bind(Object(o.a)(a)),a}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this,t=this.messages,n=this.messagesCommon;this.own([Object(y.a)(this,"viewModel",(function(t){e._featureForm.viewModel=t?t.featureFormViewModel:null,e._attachments.viewModel=t?t.attachmentsViewModel:null,e._featureTemplates.viewModel=t?t.featureTemplatesViewModel:null,e._spinner.viewModel=t?t.spinnerViewModel:null})),Object(y.a)(this,"view",(function(t,n){var r="editor-".concat(e.id,"-spinner");n&&n.ui.remove(e._spinner,r),t&&t.ui.add(e._spinner,{key:r,position:"manual"})})),Object(y.b)(this,"viewModel.sketchViewModel","create",(function(){e.scheduleRender()})),Object(y.b)(this,"viewModel.activeWorkflow","cancel-request",(function(r){var i=r.controller;e._prompt={title:t.cancelRequestTitle,message:t.cancelRequestWarningMessage,options:[{label:n.form.no,type:"neutral",action:function(){return i.deny(),e._prompt=null}},{label:n.form.yes,type:"negative",action:function(){i.allow(),e._prompt=null}}]},e.scheduleRender()})),Object(y.a)(this,"supportingWidgetDefaults",(function(t){t&&(e._featureForm.set(t.featureForm),e._attachments.set(t.attachments),e._featureTemplates.set(t.featureTemplates),e.viewModel.sketchViewModel.set(t.sketch))})),Object(y.d)(this,"_attachments.error",(function(r){r&&(e._prompt={title:t.errorWarningTitle,message:r.message,options:[{label:n.form.ok,type:"neutral",action:function(){e._prompt=null}}]})})),Object(y.d)(this,"viewModel.failures",(function(n){if(n){var i=Object(r.a)(n,1)[0],a=i.error,o=i.retry,s=i.cancel;e._prompt={title:t.errorWarningTitle,message:Object(v.a)(t.errorWarningMessageTemplate,{errorMessage:a.message}),options:[{label:t.retry,type:"positive",action:function(){o(),e._prompt=null}},{label:t.ignore,type:"neutral",action:function(){return s(),e._prompt=null}}]}}})),Object(y.d)(this,"viewModel.state",(function(t){"awaiting-update-feature-candidate"===t&&(e._candidateCommitted=!1)})),Object(y.d)(this,["_attachments.selectedFile","_attachments.submitting"],(function(){return e.scheduleRender()})),Object(y.h)(this,"viewModel.activeWorkflow",(function(){return e._featureTemplates.filterText=""}))])}},{key:"destroy",value:function(){this._attachments.destroy(),this._featureForm.destroy(),this._featureTemplates.destroy()}},{key:"startCreateWorkflowAtFeatureTypeSelection",value:function(){return this.viewModel.startCreateWorkflowAtFeatureTypeSelection()}},{key:"startCreateWorkflowAtFeatureCreation",value:function(e){return this.viewModel.startCreateWorkflowAtFeatureCreation(e)}},{key:"startCreateWorkflowAtFeatureEdit",value:function(e){return this.viewModel.startCreateWorkflowAtFeatureEdit(e)}},{key:"startUpdateWorkflowAtFeatureSelection",value:function(){return this.viewModel.startUpdateWorkflowAtFeatureSelection()}},{key:"startUpdateWorkflowAtMultipleFeatureSelection",value:function(e){return this.viewModel.startUpdateWorkflowAtMultipleFeatureSelection(e)}},{key:"startUpdateWorkflowAtFeatureEdit",value:function(e){return this.viewModel.startUpdateWorkflowAtFeatureEdit(e)}},{key:"deleteFeatureFromWorkflow",value:function(){return this.viewModel.deleteFeatureFromWorkflow()}},{key:"cancelWorkflow",value:function(e){return this.viewModel.cancelWorkflow(e)}},{key:"render",value:function(){var e=this._attachments,t=this.viewModel;if(!t)return Object(x.a)("div",{class:mr});var n=t.state,r=this._prompt?Object(x.a)("div",{class:"esri-editor__overlay",key:"overlay"},this.renderPrompt({message:this._prompt.message,title:this._prompt.title,options:this._prompt.options})):null;return Object(x.a)("div",{class:mr},t.syncing||e.submitting?this.renderProgressBar():null,"disabled"===n?null:"ready"===n?this.renderLanding():"awaiting-feature-creation-info"===n?this.renderTemplates():"editing-new-feature"===n||"editing-existing-feature"===n?this.renderAttributeEditing():"awaiting-feature-to-update"===n?this.renderFeatureUpdating():"awaiting-update-feature-candidate"===n?this.renderFeatureList():"awaiting-feature-to-create"===n?this.renderFeatureCreation():"adding-attachment"===n?this.renderAttachmentAdding():"editing-attachment"===n?this.renderAttachmentEditing():null,r)}},{key:"renderTemplates",value:function(){return Object(x.a)("div",{class:wr,key:"wrapper"},this.renderHeader(this.messages.selectTemplate,!0),Object(x.a)("div",{key:"content",class:jr},this._featureTemplates.render()))}},{key:"renderAttributeEditing",value:function(){var e=this.viewModel,t=e.activeWorkflow,n=e.featureFormViewModel,r=t.data.edits.feature,i="update"===t.type&&!t.data.edits.modified||n.inputFields.length>0&&!n.valid,a=this.messages,o=this.messagesCommon,s="create"===t.type?o.add:o.update,c=[{label:s,type:"primary",disabled:i,clickHandler:this._handleSave}],u=!1;"update"===t.type&&(t.data.editableItem.hasAttachments&&(u=!0),t.data.editableItem.supports.indexOf("delete")>-1&&c.push({label:o.delete,type:"tertiary",clickHandler:this._handleDelete}));var l=this._getLabel(r);return Object(x.a)("div",{class:wr,key:"wrapper"},this.renderHeader(l,!0),Object(x.a)("div",{key:"content",class:this.classes(jr,Or)},Object(x.a)("div",{class:"esri-editor__content-group"},n.inputFields.length>0?this._featureForm.render():this.renderMessage(Object(v.a)(a.clickToFinishTemplate,{button:s})),u?Object(x.a)("div",{key:"attachments"},Object(x.a)("div",null,a.attachments),this._attachments.render()):null)),this.renderControls(c))}},{key:"renderAttachmentAdding",value:function(){var e=this._attachments,t=this.messages,n=this.messagesCommon,r=[{label:e.submitting?n.cancel:n.add,disabled:e.submitting||!e.selectedFile,type:"primary",clickHandler:this._handleAttachmentAdd}];return Object(x.a)("div",{class:wr,key:"wrapper"},this.renderHeader(t.addAttachment,!0,e.submitting),Object(x.a)("div",{key:"content",class:this.classes(jr,Or)},e.render()),this.renderControls(r))}},{key:"renderAttachmentEditing",value:function(){var e=this._attachments,t=this.messages,n=this.messagesCommon,r=[{label:n.update,disabled:e.submitting||!e.selectedFile,type:"primary",clickHandler:this._handleAttachmentUpdate},{label:n.delete,disabled:e.submitting,type:"tertiary",clickHandler:this._handleAttachmentDelete}];return Object(x.a)("div",{class:wr,key:"wrapper"},this.renderHeader(t.editAttachment,!0,e.submitting),Object(x.a)("div",{key:"content",class:this.classes(jr,Or)},e.render()),this.renderControls(r))}},{key:"renderFeatureUpdating",value:function(){var e=this.messages;return Object(x.a)("div",{class:wr,key:"wrapper"},this.renderHeader(e.selectFeature,!0),Object(x.a)("div",{key:"content",class:this.classes(jr,Or)},this.renderMessage(e.selectFeatureToEdit)))}},{key:"renderMessage",value:function(e){return Object(x.a)("div",{class:"esri-editor__message"},e)}},{key:"renderFeatureCreation",value:function(){var e=this.messages,t=this.viewModel,n=t.sketchViewModel,r=t.activeWorkflow.data.creationInfo.layer,i=n.canUndo()&&n.createGraphic?n.createGraphic:null,a=this._getSketchingTip(r.geometryType,i);return Object(x.a)("div",{class:wr,key:"wrapper"},this.renderHeader(e.placeFeature,!0),Object(x.a)("div",{key:"content",class:this.classes(jr,Or)},this.renderMessage(a)))}},{key:"renderControls",value:function(e){var t=this;return Object(x.a)("div",{class:"esri-editor__controls",key:"controls"},e.map((function(e,n){var r=e.disabled,i=void 0!==r&&r,a=e.label,o=e.type,s=e.clickHandler;return t.renderButton({label:a,class:t.classes("esri-editor__control-button","esri-button","secondary"===o?"esri-button--secondary":"tertiary"===o?"esri-button--tertiary":null,i?Ar:null),disabled:i,clickHandler:s,key:n})})))}},{key:"renderPrompt",value:function(e){var t=this,n=e.title,r=e.message,i=e.options,a=void 0===i?[]:i;return Object(x.a)("div",{class:"esri-editor__warning-card",role:"alert"},Object(x.a)("div",{class:"esri-editor__warning-header"},Object(x.a)("span",{class:"esri-icon-notice-triangle","aria-hidden":"true"}),Object(x.a)("h4",{class:this.classes(Pr,"esri-editor__warning-heading")},n)),Object(x.a)("div",{class:"esri-editor__warning-message"},r),Object(x.a)("div",{class:"esri-editor__warning-divider"}),a.map((function(e,n){var r=e.label,i=e.action,a=e.type,o=0===n;return Object(x.a)("div",{afterCreate:o?Dr:null,class:t.classes("esri-editor__warning-option",o?"esri-editor__warning-option--primary":null,"positive"===a?"esri-editor__warning-option--positive":"negative"===a?"esri-editor__warning-option--negative":null),key:n,onclick:i,onkeydown:function(e){var t=Object(p.a)(e);"Enter"!==t&&" "!==t||(e.preventDefault(),i.call(null))},tabIndex:0,role:"button"},r)})))}},{key:"renderProgressBar",value:function(){return Object(x.a)("div",{class:this.classes("esri-editor__progress-bar"),key:"progress-bar"})}},{key:"renderButton",value:function(e){return Object(x.a)("button",{class:e.class,disabled:e.disabled,key:e.key,onclick:e.clickHandler,type:"button"},e.label)}},{key:"renderHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.messagesCommon;return Object(x.a)("header",{class:gr,key:"header"},t?Object(x.a)("div",{"aria-label":r.back,class:this.classes(xr,Ir,n?Ar:null),key:"back-button","data-prevent-back":n,onclick:this._handleHeaderClickOrKeyDown,onkeydown:this._handleHeaderClickOrKeyDown,role:"button",tabIndex:0,title:r.back},Object(x.a)("span",{"aria-hidden":"true",class:Object(g.e)()?Mr:Cr})):null,Object(x.a)("h4",{class:this.classes(_r,Pr)},e))}},{key:"renderLanding",value:function(){var e=this.messages,t=this.viewModel,n=t.allowedWorkflows,r=t.canCreate,i=t.canUpdate,a=Object(g.e)()?Cr:Mr;return Object(x.a)("div",{class:wr,key:"wrapper"},this.renderHeader(e.widgetLabel),Object(x.a)("div",{key:"content",class:jr,role:"group"},Object(x.a)("div",{class:"esri-editor__mode-selection",key:"mode-selection"},n.indexOf("update")>-1?Object(x.a)("div",{"aria-disabled":i?"false":"true",class:this.classes(kr,i?null:Sr),key:"update",onclick:this._handleEdit,onkeydown:this._handleEdit,role:"button",tabIndex:i?0:-1},Object(x.a)("span",{class:Er},e.editFeature),Object(x.a)("span",{"aria-hidden":"true",class:this.classes(Tr,a)})):null,n.indexOf("create")>-1?Object(x.a)("div",{class:this.classes(kr,r?null:Sr),key:"create",onclick:this._handleAdd,onkeydown:this._handleAdd,role:"button",tabIndex:r?0:-1},Object(x.a)("span",{class:Er},e.addFeature),Object(x.a)("span",{"aria-hidden":"true",class:this.classes(Tr,a)})):null)))}},{key:"renderFeatureList",value:function(){var e=this,t=this.messages,n=this.messagesTemplates,r=this.viewModel,i=r.editableItems,a=r.activeWorkflow.data.candidates,o=Object(v.a)(t.multipleFeaturesTemplate,{total:a.length}),s=new Map;a.map((function(t){return{label:e._getLabel(t),id:t.attributes[t.layer.objectIdField],data:t}})).filter((function(t){var n=t.label,r=t.data,i=e._filterText.toLowerCase(),a=r.layer.title;return e.viewModel.editableItems.find((function(e){return e.layer===r.layer})).supports.indexOf("update")>-1&&(!i||n.toLowerCase().indexOf(i)>-1||a.toLowerCase().indexOf(i)>-1)})).forEach((function(e){var t=e.data.layer;s.has(t)?s.get(t).items.push(e):s.set(t,{id:"".concat(t.id),label:t.title,items:[e]})}));var c=i.filter((function(e){var t=e.layer;return s.has(t)})).map((function(e){var t=e.layer;return s.get(t)})).toArray();return Object(x.a)("div",{class:wr,key:"wrapper"},this.renderHeader(o,!0),Object(x.a)("div",{key:"content",class:this.classes(jr,Or)},Ae({id:this.id,filterText:this._filterText,items:c,messages:{filterPlaceholder:n.filterPlaceholder,noItems:n.noItems,noMatches:n.noMatches},onItemMouseEnter:function(t){var n=t.data;return e._setCandidateFeature(n)},onItemMouseLeave:function(){return e._setCandidateFeature(null)},onItemSelect:function(t){var n=t.data;return e._setCandidateFeature(n,!0)},onFilterChange:function(t){return e._filterText=t}})))}},{key:"_getSketchingTip",value:function(e,t){var n=this.messages;if("point"===e)return n.tips.clickToAddPoint;if("polygon"===e||"polyline"===e){if(!t)return n.tips.clickToStart;var i=t.geometry,a="polygon"===e?"rings":"paths",o=Object(r.a)(i[a],1)[0];return"polygon"===e&&o<4?n.tips.clickToContinue:n.tips.clickToContinueThenDoubleClickToEnd}return n.tips.clickToAddFeature}},{key:"_getLabel",value:function(e){var t=e.layer,n=t.objectIdField,r=e.attributes,i=Object(b.n)(t);return i&&r[i]&&"".concat(r[i])||Object(v.a)(this.messages.untitledFeatureTemplate,{id:r[n]})}},{key:"_handleDelete",value:function(){var e=this,t=this.messages,n=this.messagesCommon;this._prompt={title:t.deleteWarningTitle,message:t.deleteWarningMessage,options:[{label:t.keepFeature,type:"neutral",action:function(){return e._prompt=null}},{label:n.delete,type:"positive",action:function(){e.viewModel.deleteFeatureFromWorkflow(),e._prompt=null}}]}}},{key:"_handleSave",value:function(){this.viewModel.activeWorkflow.commit()}},{key:"_handleAttachmentAdd",value:function(){var e=this._attachments,t=this.viewModel.activeWorkflow;e.addAttachment().then((function(){return t.previous()}))}},{key:"_handleAttachmentUpdate",value:function(){var e=this._attachments,t=this.viewModel.activeWorkflow;e.updateAttachment().then((function(){return t.previous()}))}},{key:"_handleAttachmentDelete",value:function(){var e=this,t=this.messages,n=this.messagesCommon;this._prompt={title:t.deleteAttachmentWarningTitle,message:t.deleteAttachmentWarningMessage,options:[{label:t.keepAttachment,type:"neutral",action:function(){return e._prompt=null}},{label:n.delete,type:"positive",action:function(){var t=e._attachments,n=e.viewModel.activeWorkflow;t.deleteAttachment(t.viewModel.activeAttachmentInfo).then((function(){n.previous(),e._prompt=null}))}}]}}},{key:"_handleAdd",value:function(){this.viewModel.canCreate&&this.viewModel.startCreateWorkflowAtFeatureTypeSelection()}},{key:"_handleEdit",value:function(){this.viewModel.canUpdate&&this.viewModel.startUpdateWorkflowAtFeatureSelection()}},{key:"_handleDone",value:function(){this.viewModel.cancelWorkflow({force:!0})}},{key:"_handleBack",value:function(){var e=this,t=this.messages,n=this.viewModel.activeWorkflow,r=n.stepId,i=n.data,a=n.type,o=function(){n.hasPreviousStep?n.previous():e.viewModel.cancelWorkflow({force:!0})};if("editing-new-feature"===r||"editing-existing-feature"===r&&i.edits.modified){var s="create"===a?t.cancelAddWarningMessage:t.cancelEditWarningMessage,c="create"===a?t.cancelAddTitle:t.cancelEditTitle,u="create"===a?t.continueAdding:t.continueEditing,l="create"===a?t.discardFeature:t.discardEdits;this._prompt={title:c,message:s,options:[{label:u,type:"neutral",action:function(){return e._prompt=null}},{label:l,type:"negative",action:function(){o(),e._prompt=null}}]}}else o()}}]),n}(Object(m.b)(k.a));Object(u.a)([Object(h.b)()],Lr.prototype,"_attachments",void 0),Object(u.a)([Object(f.a)("viewModel.activeWorkflow")],Lr.prototype,"activeWorkflow",void 0),Object(u.a)([Object(f.a)("viewModel.allowedWorkflows")],Lr.prototype,"allowedWorkflows",void 0),Object(u.a)([Object(h.b)()],Lr.prototype,"iconClass",void 0),Object(u.a)([Object(h.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Lr.prototype,"label",void 0),Object(u.a)([Object(f.a)("viewModel.layerInfos")],Lr.prototype,"layerInfos",void 0),Object(u.a)([Object(h.b)(),Object(w.a)(),Object(j.a)("esri/widgets/Editor/t9n/Editor")],Lr.prototype,"messages",void 0),Object(u.a)([Object(h.b)(),Object(w.a)(),Object(j.a)("esri/t9n/common")],Lr.prototype,"messagesCommon",void 0),Object(u.a)([Object(h.b)(),Object(w.a)(),Object(j.a)("esri/widgets/FeatureTemplates/t9n/FeatureTemplates")],Lr.prototype,"messagesTemplates",void 0),Object(u.a)([Object(h.b)()],Lr.prototype,"supportingWidgetDefaults",void 0),Object(u.a)([Object(f.a)("viewModel.view")],Lr.prototype,"view",void 0),Object(u.a)([Object(h.b)(),Object(w.a)(["viewModel.canCreate","viewModel.canUpdate","viewModel.failures","viewModel.state","viewModel.syncing","viewModel.activeWorkflow.data.edits.modified"]),Object(_.a)(["workflow-cancel","workflow-commit"])],Lr.prototype,"viewModel",void 0),Object(u.a)([Object(O.a)()],Lr.prototype,"_handleDelete",null),Object(u.a)([Object(O.a)()],Lr.prototype,"_handleAttachmentAdd",null),Object(u.a)([Object(O.a)()],Lr.prototype,"_handleAttachmentUpdate",null),Object(u.a)([Object(O.a)()],Lr.prototype,"_handleAttachmentDelete",null),Object(u.a)([Object(O.a)()],Lr.prototype,"_handleAdd",null),Object(u.a)([Object(O.a)()],Lr.prototype,"_handleEdit",null),Object(u.a)([Object(O.a)()],Lr.prototype,"_handleDone",null),Object(u.a)([Object(O.a)()],Lr.prototype,"_handleBack",null);Lr=Object(u.a)([Object(d.a)("esri.widgets.Editor")],Lr)},,function(e,t,n){"use strict";var r=n(28),i=n(38),a=n(2),o=n(3),s=n(5),c=n(6),u=n(0),l=n(15),h=n(14),f=(n(18),n(1)),d=n(41),p=n(8),b=(n(12),n(21),n(22),n(84)),v=n(60),y=n(29),m=(n(64),n(82)),g=n(88),O=n(33),j=n(11),w=n(94),_=n(62),x=n(17),k=n(39),S=n(129),E=n(382),T=n(7),M=n.n(T),C=n(16),A=n(186),P=n(20);function I(e,t){return null!=e&&("2d"===t||("local"===t?!e.isGeographic:e.isWebMercator||e.isWGS84||4490===e.wkid||104971===e.wkid||104905===e.wkid||104903===e.wkid))}function D(e){return e&&"base-tile"===e.type||"tile"===e.type||"elevation"===e.type||"imagery-tile"===e.type||"base-elevation"===e.type||"open-street-map"===e.type||"wcs"===e.type||"web-tile"===e.type||"wmts"===e.type||"vector-tile"===e.type}var L=n(54),R=n(48),N=n(74),F=(n(99),n(44)),z=n(70),V=n(115),U=n(138),B=n(143),G=U.q.x2lon,q=U.q.y2lat,H=function(){function e(t){Object(a.a)(this,e);var n=e.checkUnsupported(t);if(n)throw n;this.spatialReference=t.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=Object(U.a)(this.spatialReference)||Object(L.g)(this.spatialReference)||Object(L.h)(this.spatialReference),this.origin=[t.origin.x,t.origin.y],this.pixelSize=t.size[0],this.dpi=t.dpi;var r=t.lods.reduce((function(e,t,n){return t.level<e.min&&(e.min=t.level,e.minIndex=n),e.max=Math.max(e.max,t.level),e}),{min:1/0,minIndex:0,max:-1/0}),i=t.lods[r.minIndex],o=Math.pow(2,i.level),s=i.resolution*o,c=i.scale*o;this.levels=new Array(r.max+1);for(var u=0;u<this.levels.length;u++)this.levels[u]={resolution:s,scale:c,tileSize:[s*t.size[0],s*t.size[1]]},s/=2,c/=2}return Object(o.a)(e,[{key:"clone",value:function(){return new e(this.toTileInfo())}},{key:"toTileInfo",value:function(){return new B.a({dpi:this.dpi,origin:{x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference},size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((function(e,t){return{level:t,scale:e.scale,resolution:e.resolution}}))})}},{key:"getExtent",value:function(e,t,n,r){var i=this.levels[e],a=i.tileSize[0],o=i.tileSize[1];r[0]=this.origin[0]+n*a,r[2]=r[0]+a,r[3]=this.origin[1]-t*o,r[1]=r[3]-o}},{key:"convertExtentToRadians",value:function(e,t){this._isWebMercator?(t[0]=G(e[0]),t[1]=q(e[1]),t[2]=G(e[2]),t[3]=q(e[3])):this._isGCS&&(t[0]=Object(F.f)(e[0]),t[1]=Object(F.f)(e[1]),t[2]=Object(F.f)(e[2]),t[3]=Object(F.f)(e[3]))}},{key:"getExtentGeometry",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new N.a;return this.getExtent(e,t,n,W),r.spatialReference=this.spatialReference,r.xmin=W[0],r.ymin=W[1],r.xmax=W[2],r.ymax=W[3],r.zmin=void 0,r.zmax=void 0,r}},{key:"ensureMaxLod",value:function(e){if(null==e)return!1;for(var t=!1;this.levels.length<=e;){var n=this.levels[this.levels.length-1],r=n.resolution/2;this.levels.push({resolution:r,scale:n.scale/2,tileSize:[r*this.pixelSize,r*this.pixelSize]}),t=!0}return t}},{key:"capMaxLod",value:function(e){this.levels.length>e+1&&(this.levels.length=e+1)}},{key:"getMaxLod",value:function(){return this.levels.length-1}},{key:"scaleAtLevel",value:function(e){return this.levels[0].scale/Math.pow(2,e)}},{key:"levelAtScale",value:function(e){var t=this.levels[0].scale;return e>=t?0:Math.log(t/e)*Math.LOG2E}},{key:"resolutionAtLevel",value:function(e){return this.levels[0].resolution/Math.pow(2,e)}},{key:"compatibleWith",value:function(t){if(!(t instanceof e)){if(e.checkUnsupported(t))return!1;t=new e(t)}if(!t.spatialReference.equals(this.spatialReference))return!1;if(t.pixelSize!==this.pixelSize)return!1;var n=Math.min(this.levels.length,t.levels.length)-1,r=this.levels[n].resolution,i=.5*r;return!(!Object(F.g)(t.origin[0],this.origin[0],i)||!Object(F.g)(t.origin[1],this.origin[1],i))&&(i=.5*r/Math.pow(2,n)/this.pixelSize*12,Object(F.g)(r,t.levels[n].resolution,i))}},{key:"rootTilesInExtent",value:function(t,n,r){var i=this.levels[0].tileSize;if(0===i[0]||0===i[1])return[];e.computeRowColExtent(t,i,this.origin,W);var a=W[1],o=W[3],s=W[0],c=W[2],u=c-s,l=o-a;if(u*l>r){var h=Math.floor(Math.sqrt(r));l>h&&(o=(a=a+Math.floor(.5*l)-Math.floor(.5*h))+h),u>h&&(c=(s=s+Math.floor(.5*u)-Math.floor(.5*h))+h)}for(var f=[],d=a;d<o;d++)for(var p=s;p<c;p++)f.push([0,d,p]);return n&&(n[0]=this.origin[0]+s*i[0],n[1]=this.origin[1]-o*i[1],n[2]=this.origin[0]+c*i[0],n[3]=this.origin[1]-a*i[1]),f}},{key:"test",get:function(){return{isWebMercator:this._isWebMercator,isGCS:this._isGCS}}}],[{key:"computeRowColExtent",value:function(e,t,n,r){var i=.001*(e[2]-e[0]+(e[3]-e[1]));r[0]=Math.max(0,Math.floor((e[0]+i-n[0])/t[0])),r[2]=Math.max(0,Math.ceil((e[2]-i-n[0])/t[0])),r[1]=Math.max(0,Math.floor((n[1]-e[3]+i)/t[1])),r[3]=Math.max(0,Math.ceil((n[1]-e[1]-i)/t[1]))}},{key:"isPowerOfTwo",value:function(e){var t=e.lods,n=t[0].resolution*Math.pow(2,t[0].level);return!t.some((function(e){return!Object(F.h)(e.resolution,n/Math.pow(2,e.level))}))}},{key:"hasGapInLevels",value:function(e){var t=e.lods.map((function(e){return e.level}));t.sort((function(e,t){return e-t}));for(var n=1;n<t.length;n++)if(t[n]!==t[0]+n)return!0;return!1}},{key:"tileSizeSupported",value:function(e){var t=e.size[1];return t===e.size[0]&&0==(t&t-1)&&t>=128&&t<=512}},{key:"checkUnsupported",value:function(t){return t?t.lods.length<1?new P.a("tilingscheme:generic","Tiling scheme must have at least one level"):e.isPowerOfTwo(t)?e.hasGapInLevels(t)?new P.a("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):e.tileSizeSupported(t)?null:new P.a("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new P.a("tilingscheme:power-of-two","Tiling scheme must be power of two"):new P.a("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}},{key:"fromExtent",value:function(t,n){var r=t[2]-t[0],i=t[3]-t[1],a=Object(z.b)(n),o=1.2*Math.max(r,i),s=256,c=new e(new B.a({size:[s,s],origin:{x:t[0]-.5*(o-r),y:t[3]+.5*(o-i)},lods:[{level:0,resolution:o/s,scale:1/(s/96*.0254/(o*a))}],spatialReference:n}));return c.ensureMaxLod(20),c}},{key:"makeWebMercatorAuxiliarySphere",value:function(t){var n=new e(e.WebMercatorAuxiliarySphereTileInfo);return n.ensureMaxLod(t),n}},{key:"makeGCSWithTileSize",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,i=256/n,a=new e(new B.a({size:[n,n],origin:{x:-180,y:90,spatialReference:t},spatialReference:t,lods:[{level:0,resolution:.703125*i,scale:295497598.570834*i}]}));return a.ensureMaxLod(r),a}}]),e}();H.WebMercatorAuxiliarySphereTileInfo=new B.a({size:[256,256],origin:{x:-20037508.342787,y:20037508.342787,spatialReference:R.a.WebMercator},spatialReference:R.a.WebMercator,lods:[{level:0,resolution:156543.03392800014,scale:591657527.591555}]}),H.WebMercatorAuxiliarySphere=H.makeWebMercatorAuxiliarySphere(19);var W=Object(V.h)(),Y=H,J=n(4),K=(n(571),n(569),n(570),n(10)),X=n(13),Q=n(23),Z=n(154),$=n(37),ee=n(65),te=n(513),ne=n(26),re=function e(t){Object(a.a)(this,e),this.client=t,this._cancelled=!1,this.size=0,this.duration=0},ie=function e(t){Object(a.a)(this,e),this.typeWorkerQuota=t,this.tasks=new Array,this.numWorkers=0,this.statistics=new ae},ae=function e(){Object(a.a)(this,e),this.requests=0,this.size=0,this.duration=0,this.speed=0},oe=function(){function e(t,n,r,i){Object(a.a)(this,e),this._workerFunc=t,this._callbackFunc=n,this._maxTotalNumWorkers=r,this._totalNumWorkers=0,this._clients=i.map((function(e){return new ie(e)}))}return Object(o.a)(e,[{key:"hasQuota",value:function(e){var t=this._clients[e];return!!t&&t.typeWorkerQuota>t.numWorkers+t.tasks.length}},{key:"push",value:function(e){var t=this,n=this._clients[e.client];n&&(this._totalNumWorkers<this._maxTotalNumWorkers?(n.numWorkers++,this._totalNumWorkers++,this._workerFunc(e,(function(e,n){return t._taskCallback(e,n)}))):n.tasks.push(e))}},{key:"getStatsForType",value:function(e){var t=this._clients[e];return t?{quota:t.typeWorkerQuota,workers:t.numWorkers,queueSize:t.tasks.length,requestStats:t.statistics}:null}},{key:"cancel",value:function(e){this._taskFinished(e),e._cancelled=!0}},{key:"destroy",value:function(){this._clients.length=0}},{key:"_taskFinished",value:function(e){var t=this._clients[e.client];this._totalNumWorkers--,t.numWorkers--,t.statistics.requests++,t.statistics.size+=e.size||0,t.statistics.duration+=e.duration||0,t.statistics.speed=t.statistics.duration>0?t.statistics.size/t.statistics.duration:0,Object(ne.b)(t.numWorkers>=0),this._next()}},{key:"_next",value:function(){var e,t=Object(X.a)(this._clients);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n&&n.numWorkers<n.typeWorkerQuota&&this._processQueue(n))return}}catch(o){t.e(o)}finally{t.f()}var r,i=Object(X.a)(this._clients);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a&&this._processQueue(a))return}}catch(o){i.e(o)}finally{i.f()}}},{key:"_processQueue",value:function(e){for(var t=this;e.tasks.length>0;)if(this._workerFunc(e.tasks.shift(),(function(e,n){return t._taskCallback(e,n)})))return e.numWorkers++,this._totalNumWorkers++,!0;return!1}},{key:"_taskCallback",value:function(e,t){e._cancelled||(this._callbackFunc(e,t),this._taskFinished(e))}},{key:"test",get:function(){var e=this;return{set workerFunc(t){e._workerFunc=t}}}}]),e}(),se=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,o,s){var c;return Object(a.a)(this,n),(c=t.call(this,o)).url=e,c.options=r,c.docType=i,c.key=s,c.result=null,c.status=1,c.request=null,c.abortController=null,c.resolvers=new Array,c.startTime=0,c}return n}(re),ce=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).tasks=new Map,e.onLoadQueue=new Array,e.doneQueue=new Array,e.updating=!1,e}return Object(o.a)(n,[{key:"setup",value:function(e,t,n){var r=this;this.loadQueue=new oe((function(e,t){return r.startLoading(e,t)}),(function(e,t){return r.doneLoadingCallback(e,t)}),e,t),n&&(this.taskHandle=n.registerTask(te.a.STREAM_DATA_LOADER,(function(e){return r.update(e)}),(function(){return r.doneQueue.length>0||r.onLoadQueue.length>0})))}},{key:"destroy",value:function(){this.taskHandle&&(this.taskHandle.remove(),this.taskHandle=null),this.tasks.forEach((function(e){e.abortController&&e.abortController.abort()})),this.loadQueue.destroy(),this.loadQueue=null,this.onLoadQueue=null,this.doneQueue=null,this.tasks=null}},{key:"hasDownloadSlots",value:function(e){return this.loadQueue.hasQuota(e)}},{key:"request",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=Object(x.g)();a.__signal=Object(J.h)(i)?i.signal:null;var o=this.createOrUpdateTask(e,t,n,i,a);return Object(x.p)(i,(function(){return r.cancelRequest(o,a)})),a.promise}},{key:"createTask",value:function(e,t,n,r,i,a){var o=new se(e,t,n,r,i);return this.updateTask(o,a),this.tasks.set(i,o),1===this.tasks.size&&this._set("updating",!0),this.loadQueue.push(o),o}},{key:"cancelRequest",value:function(e,t){Object(Z.g)(e.resolvers,t),t.reject(Object(x.e)()),0===e.resolvers.length&&(2===e.status&&(e.status=4,this.loadQueue.cancel(e),e.abortController.abort(),e.request=null,e.abortController=null),e.status=4,this.tasks.delete(e.key),0===this.tasks.size&&this._set("updating",!1))}},{key:"taskKey",value:function(e,t,n){return"".concat(e,":").concat(t,":").concat(n)}},{key:"updateTask",value:function(e,t){e.resolvers.push(t)}},{key:"createOrUpdateTask",value:function(e,t,n,r,i){var a=Object(J.h)(r)&&r.uid||e,o=this.taskKey(a,t,n),s=this.tasks.get(o);return s?(this.updateTask(s,i),s):this.createTask(e,r,t,n,o,i)}},{key:"doneLoadingCallback",value:function(e,t){this.loadQueue&&(Object(ne.b)(2===e.status),e.status=3,this.taskHandle?this.doneQueue.push({task:e,err:t}):this.doneLoading(e,t))}},{key:"update",value:function(e){for(;!e.done&&this.onLoadQueue.length>0;){var t=this.onLoadQueue.shift();Object(x.u)(t.task.abortController),t.task.abortController=null,t.callback(t.task),e.madeProgress()}for(;!e.done&&this.doneQueue.length>0;){var n=this.doneQueue.shift();3!==n.task.status&&(n.err=n.err||Object(x.e)()),this.doneLoading(n.task,n.err),e.madeProgress()}}},{key:"doneLoading",value:function(e,t){var n,r=e.result instanceof HTMLImageElement?0:e.resolvers.length,i=Object(X.a)(e.resolvers);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(t)Object(x.l)(t)?a.reject(t):a.reject(new P.a("stream-data-loader:request-error","Failed to request resource at '".concat(e.url,"'. ").concat(t),{url:e.url,error:t}));else{var o=--r<=0?e.result:Object(Q.a)(e.result);a.resolve(o)}}}catch(s){i.e(s)}finally{i.f()}this.tasks.delete(e.key),0===this.tasks.size&&this._set("updating",!1)}},{key:"startLoading",value:function(e,t){var n,r,i=this;if(4===e.status)return!1;switch(e.startTime=performance.now(),e.status=2,e.docType){case"binary":r="array-buffer",n=0;break;case"image":r="image";break;case"image+type":r="array-buffer";break;default:r="json"}e.abortController=Object(x.d)();var a=e.abortController.signal;e.request=Object(ee.default)(e.url,Object(K.a)(Object(K.a)({},e.options),{},{responseType:r,timeout:n,signal:a}));var o=function(){},s=function(n){e.duration=performance.now()-e.startTime,e.size=n instanceof ArrayBuffer?n.byteLength:e.size||0,e.result=n,i.taskHandle?i.onLoadQueue.push({callback:t,task:e}):(e.abortController=null,t(e))},c=function(n){2===e.status&&t(e,n),o()};return"image+type"!==e.docType?(e.request.then((function(e){return s(e.data)}),c),!0):(e.request.then((function(t){var i=t.data,u=function(e){if(e.byteLength<2)return"unknown";var t=new Uint8Array(e,0,e.byteLength);return 137===t[0]&&80===t[1]?"image/png":71===t[0]&&73===t[1]?"image/gif":66===t[0]&&77===t[1]?"image/bmp":255===t[0]&&216===t[1]?"image/jpeg":"unknown"}(i);if(r="image",e.size=i.byteLength,"unknown"===u)return e.request=Object(ee.default)(e.url,{responseType:r,timeout:n,signal:a}),void e.request.then((function(e){return s(e.data)}),c);var l=new Blob([i],{type:u}),h=window.URL.createObjectURL(l);o=function(){return window.URL.revokeObjectURL(h)},e.request=Object(ee.default)(h,{responseType:r,timeout:n,signal:a}),e.request.then((function(e){return s(new ue(e.data,u,o))}),c)}),c),!0)}},{key:"test",get:function(){return{loadQueue:this.loadQueue}}}]),n}($.a);Object(u.a)([Object(f.b)({readOnly:!0})],ce.prototype,"updating",void 0),ce=Object(u.a)([Object(p.a)("esri.views.3d.support.StreamDataLoader")],ce);var ue=function(){function e(t,n,r){Object(a.a)(this,e),this.image=t,this.type=n,this.release=r}return Object(o.a)(e,[{key:"isOpaque",get:function(){return"image/jpeg"===this.type}}]),e}(),le=n(32),he=n(61),fe=n(57),de=n(220),pe=n(407),be=n(546),ve=(n(290),n(149)),ye=n(230),me=(n(345),n(516),function e(t){Object(a.a)(this,e),this.xTile=0,this.yTile=0,this.hash=0,this.priority=1,this.colliders=[],this.textVertexRanges=[],this.iconVertexRanges=[],this.tile=t});var ge=function(){function e(t){Object(a.a)(this,e),this.layerUIDs=[],this.isDestroyed=!1,this.data=t,this.memoryUsed=t.byteLength;var n=1,r=new Uint32Array(t);this.layerUIDs=[];for(var i=r[n++],o=0;o<i;o++)this.layerUIDs[o]=r[n++];this.bufferDataOffset=n}return Object(o.a)(e,[{key:"isPreparedForRendering",get:function(){return Object(J.g)(this.data)}},{key:"offset",get:function(){return this.bufferDataOffset}},{key:"destroy",value:function(){this.isDestroyed||(this.doDestroy(),this.isDestroyed=!0)}},{key:"prepareForRendering",value:function(e,t){Object(J.g)(this.data)||(this.doPrepareForRendering(e,t,this.data,this.bufferDataOffset),this.data=null)}}]),e}(),Oe=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).type=2,r.lineIndexStart=0,r.lineIndexCount=0;var i=r.bufferDataOffset,o=new Uint32Array(e);return r.lineIndexStart=o[i++],r.lineIndexCount=o[i++],r.isLineDataDriven=!!o[i++],r.bufferDataOffset=i,r}return Object(o.a)(n,[{key:"hasData",value:function(){return this.lineIndexCount>0}},{key:"triangleCount",value:function(){return this.lineIndexCount/3}},{key:"doDestroy",value:function(){Object(J.h)(this.lineVertexArrayObject)&&this.lineVertexArrayObject.dispose(),Object(J.h)(this.lineVertexBuffer)&&this.lineVertexBuffer.dispose(),Object(J.h)(this.lineIndexBuffer)&&this.lineIndexBuffer.dispose(),this.lineVertexArrayObject=null,this.lineVertexBuffer=null,this.lineIndexBuffer=null,this.memoryUsed=0}},{key:"doPrepareForRendering",value:function(e,t,r,i){var a=new Uint32Array(r),o=new Int32Array(a.buffer),s=a[i++];this.lineVertexBuffer=ve.a.createVertex(e,35044,new Int32Array(o.buffer,4*i,s)),i+=s;var c=a[i++];this.lineIndexBuffer=ve.a.createIndex(e,35044,new Uint32Array(a.buffer,4*i,c)),i+=c,this.lineVertexArrayObject=new ye.a(e,t.getProgramAttributes(3),this.isLineDataDriven?n.lineVertexAttributesDD:n.lineVertexAttributes,{geometry:this.lineVertexBuffer},this.lineIndexBuffer)}}]),n}(ge);Oe.lineVertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:12,normalized:!1,divisor:0},{name:"a_offsetAndNormal",count:4,type:5120,offset:4,stride:12,normalized:!1,divisor:0},{name:"a_accumulatedDistance",count:2,type:5123,offset:8,stride:12,normalized:!1,divisor:0}]},Oe.lineVertexAttributesDD={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:20,normalized:!1,divisor:0},{name:"a_offsetAndNormal",count:4,type:5120,offset:4,stride:20,normalized:!1,divisor:0},{name:"a_accumulatedDistance",count:2,type:5122,offset:8,stride:20,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:12,stride:20,normalized:!0,divisor:0},{name:"a_width",count:1,type:5126,offset:16,stride:20,normalized:!1,divisor:0}]};var je=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).type=1,r.fillIndexStart=0,r.fillIndexCount=0,r.outlineIndexStart=0,r.outlineIndexCount=0;var i=r.bufferDataOffset,o=new Uint32Array(e);return r.fillIndexStart=o[i++],r.fillIndexCount=o[i++],r.outlineIndexStart=o[i++],r.outlineIndexCount=o[i++],r.isFillDataDriven=!!o[i++],r.isOutlineDataDriven=!!o[i++],r.bufferDataOffset=i,r}return Object(o.a)(n,[{key:"hasData",value:function(){return this.fillIndexCount>0||this.outlineIndexCount>0}},{key:"triangleCount",value:function(){return(this.fillIndexCount+this.outlineIndexCount)/3}},{key:"doDestroy",value:function(){Object(J.h)(this.fillVertexArrayObject)&&this.fillVertexArrayObject.dispose(),Object(J.h)(this.fillVertexBuffer)&&this.fillVertexBuffer.dispose(),Object(J.h)(this.fillIndexBuffer)&&this.fillIndexBuffer.dispose(),this.fillVertexArrayObject=null,this.fillVertexBuffer=null,this.fillIndexBuffer=null,Object(J.h)(this.outlineVertexArrayObject)&&this.outlineVertexArrayObject.dispose(),Object(J.h)(this.outlineVertexBuffer)&&this.outlineVertexBuffer.dispose(),Object(J.h)(this.outlineIndexBuffer)&&this.outlineIndexBuffer.dispose(),this.outlineVertexArrayObject=null,this.outlineVertexBuffer=null,this.outlineIndexBuffer=null,this.memoryUsed=0}},{key:"doPrepareForRendering",value:function(e,t,r,i){var a=new Uint32Array(r),o=new Int32Array(a.buffer),s=a[i++];this.fillVertexBuffer=ve.a.createVertex(e,35044,new Int32Array(o.buffer,4*i,s)),i+=s;var c=a[i++];this.fillIndexBuffer=ve.a.createIndex(e,35044,new Uint32Array(a.buffer,4*i,c)),i+=c;var u=a[i++];this.outlineVertexBuffer=ve.a.createVertex(e,35044,new Int32Array(o.buffer,4*i,u)),i+=u;var l=a[i++];this.outlineIndexBuffer=ve.a.createIndex(e,35044,new Uint32Array(a.buffer,4*i,l)),i+=l,this.fillVertexArrayObject=new ye.a(e,t.getProgramAttributes(1),this.isFillDataDriven?n.fillVertexAttributesDD:n.fillVertexAttributes,{geometry:this.fillVertexBuffer},this.fillIndexBuffer),this.outlineVertexArrayObject=new ye.a(e,t.getProgramAttributes(2),this.isOutlineDataDriven?n.outlineVertexAttributesDD:n.outlineVertexAttributes,{geometry:this.outlineVertexBuffer},this.outlineIndexBuffer)}}]),n}(ge);je.fillVertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:4,normalized:!1,divisor:0}]},je.fillVertexAttributesDD={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:8,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:4,stride:8,normalized:!0,divisor:0}]},je.outlineVertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:8,normalized:!1,divisor:0},{name:"a_offset",count:2,type:5120,offset:4,stride:8,normalized:!1,divisor:0},{name:"a_xnormal",count:2,type:5120,offset:6,stride:8,normalized:!1,divisor:0}]},je.outlineVertexAttributesDD={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:12,normalized:!1,divisor:0},{name:"a_offset",count:2,type:5120,offset:4,stride:12,normalized:!1,divisor:0},{name:"a_xnormal",count:2,type:5120,offset:6,stride:12,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:8,stride:12,normalized:!0,divisor:0}]};var we=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;Object(a.a)(this,n),(i=t.call(this,e)).type=3,i.iconPerPageElementsMap=new Map,i.glyphPerPageElementsMap=new Map,i.symbolInstances=[],i.isIconSDF=!1,i.opacityChanged=!1,i.lastOpacityUpdate=0,i.symbols=[];var o=i.bufferDataOffset,s=new Uint32Array(e),c=new Int32Array(e),u=new Float32Array(e);i.isIconSDF=!!s[o++],i.isIconDataDriven=!!s[o++],i.isTextDataDriven=!!s[o++];for(var l=s[o++],h=0;h<l;h++){var f=s[o++],d=s[o++],p=s[o++];i.iconPerPageElementsMap.set(f,[d,p])}for(var b=s[o++],v=0;v<b;v++){var y=s[o++],m=s[o++],g=s[o++];i.glyphPerPageElementsMap.set(y,[m,g])}var O=s[o++],j=s[o++];return i.iconOpacity=new Int32Array(O),i.textOpacity=new Int32Array(j),o=function(e,t,n,r,i,a){for(var o=t[r++],s=0;s<o;s++){var c=new me(a);c.xTile=t[r++],c.yTile=t[r++],c.hash=t[r++],c.priority=t[r++];for(var u=t[r++],l=0;l<u;l++){var h=t[r++],f=t[r++],d=t[r++],p=t[r++],b=!!t[r++],v=t[r++],y=n[r++],m=n[r++],g=t[r++],O=t[r++];c.colliders.push({xTile:h,yTile:f,dxPixels:d,dyPixels:p,hard:b,partIndex:v,width:g,height:O,minLod:y,maxLod:m})}for(var j=e[r++],w=0;w<j;w++)c.textVertexRanges.push([e[r++],e[r++]]);for(var _=e[r++],x=0;x<_;x++)c.iconVertexRanges.push([e[r++],e[r++]]);i.push(c)}return r}(s,c,u,o,i.symbols,r),i.bufferDataOffset=o,i}return Object(o.a)(n,[{key:"hasData",value:function(){return this.iconPerPageElementsMap.size>0||this.glyphPerPageElementsMap.size>0}},{key:"triangleCount",value:function(){var e=0;return this.iconPerPageElementsMap.forEach((function(t){e+=t[1]})),this.glyphPerPageElementsMap.forEach((function(t){e+=t[1]})),e/3}},{key:"doDestroy",value:function(){Object(J.h)(this.iconVertexArrayObject)&&this.iconVertexArrayObject.dispose(),Object(J.h)(this.iconVertexBuffer)&&this.iconVertexBuffer.dispose(),Object(J.h)(this.iconOpacityBuffer)&&this.iconOpacityBuffer.dispose(),Object(J.h)(this.iconIndexBuffer)&&this.iconIndexBuffer.dispose(),this.iconVertexArrayObject=null,this.iconVertexBuffer=null,this.iconOpacityBuffer=null,this.iconIndexBuffer=null,Object(J.h)(this.textVertexArrayObject)&&this.textVertexArrayObject.dispose(),Object(J.h)(this.textVertexBuffer)&&this.textVertexBuffer.dispose(),Object(J.h)(this.textOpacityBuffer)&&this.textOpacityBuffer.dispose(),Object(J.h)(this.textIndexBuffer)&&this.textIndexBuffer.dispose(),this.textVertexArrayObject=null,this.textVertexBuffer=null,this.textOpacityBuffer=null,this.textIndexBuffer=null,this.memoryUsed=0}},{key:"updateOpacityInfo",value:function(){if(this.opacityChanged){this.opacityChanged=!1;var e=Object(J.n)(this.iconOpacity),t=Object(J.n)(this.iconOpacityBuffer);e.length>0&&e.byteLength===t.size&&t.setSubData(e);var n=Object(J.n)(this.textOpacity),r=Object(J.n)(this.textOpacityBuffer);n.length>0&&n.byteLength===r.size&&r.setSubData(n)}}},{key:"doPrepareForRendering",value:function(e,t,r,i){var a=new Uint32Array(r),o=new Int32Array(a.buffer),s=a[i++];this.iconVertexBuffer=ve.a.createVertex(e,35044,new Int32Array(o.buffer,4*i,s)),i+=s;var c=a[i++];this.iconIndexBuffer=ve.a.createIndex(e,35044,new Uint32Array(a.buffer,4*i,c)),i+=c;var u=a[i++];this.textVertexBuffer=ve.a.createVertex(e,35044,new Int32Array(o.buffer,4*i,u)),i+=u;var l=a[i++];this.textIndexBuffer=ve.a.createIndex(e,35044,new Uint32Array(a.buffer,4*i,l)),i+=l,this.iconOpacityBuffer=ve.a.createVertex(e,35044,Object(J.n)(this.iconOpacity).buffer),this.textOpacityBuffer=ve.a.createVertex(e,35044,Object(J.n)(this.textOpacity).buffer),this.iconVertexArrayObject=new ye.a(e,t.getProgramAttributes(4),this.isIconDataDriven?n.vertexAttributesDD:n.vertexAttributes,{geometry:this.iconVertexBuffer,opacity:this.iconOpacityBuffer},this.iconIndexBuffer),this.textVertexArrayObject=new ye.a(e,t.getProgramAttributes(6),this.isTextDataDriven?n.vertexAttributesDD:n.vertexAttributes,{geometry:this.textVertexBuffer,opacity:this.textOpacityBuffer},this.textIndexBuffer)}}]),n}(ge);we.vertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:4,stride:16,normalized:!1,divisor:0},{name:"a_texAngleRange",count:4,type:5121,offset:8,stride:16,normalized:!1,divisor:0},{name:"a_levelInfo",count:4,type:5121,offset:12,stride:16,normalized:!1,divisor:0}],opacity:[{name:"a_opacityInfo",count:1,type:5121,offset:0,stride:1,normalized:!1,divisor:0}]},we.vertexAttributesDD={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:24,normalized:!1,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:4,stride:24,normalized:!1,divisor:0},{name:"a_texAngleRange",count:4,type:5121,offset:8,stride:24,normalized:!1,divisor:0},{name:"a_levelInfo",count:4,type:5121,offset:12,stride:24,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:16,stride:24,normalized:!0,divisor:0},{name:"a_size",count:1,type:5126,offset:20,stride:24,normalized:!1,divisor:0}],opacity:[{name:"a_opacityInfo",count:1,type:5121,offset:0,stride:1,normalized:!1,divisor:0}]};var _e=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).type=4,r.circleIndexStart=0,r.circleIndexCount=0;var i=r.bufferDataOffset,o=new Uint32Array(e);return r.circleIndexStart=o[i++],r.circleIndexCount=o[i++],r.bufferDataOffset=i,r}return Object(o.a)(n,[{key:"hasData",value:function(){return this.circleIndexCount>0}},{key:"triangleCount",value:function(){return this.circleIndexCount/3}},{key:"doDestroy",value:function(){Object(J.h)(this.circleVertexArrayObject)&&this.circleVertexArrayObject.dispose(),Object(J.h)(this.circleVertexBuffer)&&this.circleVertexBuffer.dispose(),Object(J.h)(this.circleIndexBuffer)&&this.circleIndexBuffer.dispose(),this.circleVertexArrayObject=null,this.circleVertexBuffer=null,this.circleIndexBuffer=null,this.memoryUsed=0}},{key:"doPrepareForRendering",value:function(e,t,r,i){var a=new Uint32Array(r),o=new Int32Array(a.buffer),s=a[i++];this.circleVertexBuffer=ve.a.createVertex(e,35044,new Int32Array(o.buffer,4*i,s)),i+=s;var c=a[i++];this.circleIndexBuffer=ve.a.createIndex(e,35044,new Uint32Array(a.buffer,4*i,c)),i+=c,this.circleVertexArrayObject=new ye.a(e,t.getProgramAttributes(5),n.circleVertexAttributes,{geometry:this.circleVertexBuffer},this.circleIndexBuffer)}}]),n}(ge);_e.circleVertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:"a_color",count:4,type:5121,offset:4,stride:16,normalized:!0,divisor:0},{name:"a_stroke_color",count:4,type:5121,offset:8,stride:16,normalized:!0,divisor:0},{name:"a_data",count:4,type:5121,offset:12,stride:16,normalized:!1,divisor:0}]};var xe=n(387),ke=n(86),Se=1/Object(l.a)("mapview-transitions-duration");ke.a,n(112);var Ee=n(24),Te=n(9),Me=(Object(F.e)(F.a/10),Object(V.h)());Y.WebMercatorAuxiliarySphere.getExtent(0,0,0,Me);Object(V.h)([-180,-90,180,90]);var Ce=Object(Ee.e)(),Ae=Object(Ee.e)(),Pe=Object(Ee.e)(),Ie=Object(Ee.e)();function De(e,t,n,r){Object(Te.h)(Ce,n),Ce[r]=t[r];var i,a=Object(Te.g)(Ce,Ce,t),o=Object(Te.g)(Ae,e,t),s=Object(Te.e)(o,a),c=Object(Te.e)(a,a);i=s<=0?t:c<=s?n:Object(Te.c)(Ce,t,Object(Te.b)(a,a,s/c));var u=Object(Te.g)(Ce,e,i);return Math.PI/2-Math.atan(u[2]/Math.sqrt(u[0]*u[0]+u[1]*u[1]))}var Le=Object.freeze({__proto__:null,isInsideExtent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.extent;if(0===n)return Object(V.d)(r,t);var i=Math.min(r[2]-r[0],r[3]-r[1]);return Object(V.f)(r,t,n*i)},tiltOnEdge:De,tiltToExtentEdge:function(e,t){var n=e.elevationBounds,r=e.extent,i=.5*(n.min+n.max);Pe[0]=r[0],Pe[1]=r[1],Pe[2]=i,Ie[0]=r[2],Ie[1]=r[3],Ie[2]=i;var a=1/0,o=1/0;return t[0]<Pe[0]?a=De(t,Pe,Ie,0):t[0]>Ie[0]&&(a=De(t,Ie,Pe,0)),t[1]<Pe[1]?o=De(t,Pe,Ie,1):t[1]>Ie[1]&&(o=De(t,Ie,Pe,1)),Math.min(a,o)},checkIfTileInfoSupportedForViewSR:function(e,t,n){if(e.spatialReference.isGeographic)return new P.a("tilingscheme:local-gcs-not-supported","Geographic coordinate systems are not supported in local scenes");var r=Y.checkUnsupported(e);return r||(function(e,t){var n=e.lods,r=n[0].resolution*Math.pow(2,n[0].level),i=[r*e.size[0],r*e.size[1]],a=[e.origin.x,e.origin.y],o=Object(V.m)(t),s=Object(V.h)();Y.computeRowColExtent(o,i,a,s);var c=(s[2]-s[0])*(s[3]-s[1]);if(c>64){var u=n[0].scale*Math.pow(2,n[0].level),l=Math.max((o[3]-o[1])/e.size[1],(o[2]-o[0])/e.size[0])*u/r,h=Math.floor(Math.log(l)/Math.log(10));return l=Math.ceil(l/Math.pow(10,h))*Math.pow(10,h),new P.a("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(u).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+l.toLocaleString()+".",{level0Scale:u,suggestedLevel0Scale:l,requiredNumRootTiles:c,allowedNumRootTiles:64})}return null}(e,n)||(t&&!e.spatialReference.equals(t)?new P.a("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene"):null))}});var Re=Object.freeze({__proto__:null,isInsideExtent:function(){return!0},tiltToExtentEdge:function(){return 0},checkIfTileInfoSupportedForViewSR:function(e,t){var n=e.lods.length-1,r=e.spatialReference,i=Object(U.a)(r)||Object(L.g)(r)||Object(L.h)(r);if(r.isWebMercator){if(!Y.makeWebMercatorAuxiliarySphere(n).compatibleWith(e))return new P.a("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!i)return new P.a("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!Y.makeGCSWithTileSize(e.spatialReference,e.size[0],n).compatibleWith(e))return e.spatialReference.isWGS84?new P.a("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new P.a("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}if(t&&!e.spatialReference.equals(t))return new P.a("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene")}}),Ne={planar:Le,spherical:Re};Math.PI,Math.PI;function Fe(e,t,n,r){return Ne[2===r||"planar"===r?"planar":"spherical"].checkIfTileInfoSupportedForViewSR(e,n,t)}function ze(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(C.a)(M.a.mark((function e(t){var n,r=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,function(){var e=Object(C.a)(M.a.mark((function e(t,n){var r,i,a,o,s,c,u,l,h;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.basemap,i=t.view,e.next=3,r.load(n);case 3:if(0!==r.baseLayers.length){e.next=5;break}return e.abrupt("return");case 5:if(!(a=function(e){var t=["ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","OpenStreetMap","VectorTileLayer","WebTiledLayer"];return e.toArray().filter((function(e){return-1===t.indexOf(e.operationalLayerType)})).map((function(e){return new P.a("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:e,operationalLayerType:e.operationalLayerType||"unknown"})}))}(r.baseLayers.concat(r.referenceLayers))).length){e.next=8;break}throw a[0];case 8:return o=Object(A.b)(r.baseLayers.getItemAt(0))(),e.prev=9,e.next=12,o.load(n);case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(9),"basemap-compatibility:unknown-error","Unknown basemap compatibility error",s=e.t0.name,c=void 0===s?"basemap-compatibility:unknown-error":s,u=e.t0.message,l=void 0===u?"Unknown basemap compatibility error":u,h=e.t0.details,new P.a(c,l,h);case 18:!function(e,t){var n=e.tileInfo;if(n){var r=t.viewingMode;if(r){if(!I(n.spatialReference,r))throw new P.a("basemapgalleryitem:spatial-reference-unsupported-".concat(r),"Basemap spatial reference is unsupported in ".concat(r," mode"));if("global"===r){var i=Fe(n,e.fullExtent,null,1);if(i&&e.compatibleTileInfo256&&!Fe(e.compatibleTileInfo256,e.fullExtent,null,1)&&(i=null),i){var a=n.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new P.a("basemapgalleryitem:tiling-scheme-unsupported-".concat(a,"-global"),"Basemap tiling scheme is unsupported in global mode",{error:i})}}else if(Y.checkUnsupported(n))throw new P.a("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");var o=t.get("basemapTerrain.tilingScheme");if(o&&!o.compatibleWith(n)&&(!e.compatibleTileInfo256||!o.compatibleWith(e.compatibleTileInfo256)))throw new P.a("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}}}(o,i);case 19:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 3:Object(x.u)(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(C.a)(M.a.mark((function e(t){var n,r,i,a,o,s=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=t.basemap,i=t.view,e.next=4,r.load(n);case 4:if(Object(x.u)(n),0!==r.baseLayers.length){e.next=7;break}return e.abrupt("return");case 7:if(D(a=r.baseLayers.getItemAt(0))){e.next=10;break}return e.abrupt("return");case 10:if(!r.spatialReference){e.next=14;break}if(!i.spatialReference.equals(r.spatialReference)){e.next=13;break}return e.abrupt("return");case 13:Ge();case 14:return e.next=16,a.load(n);case 16:Object(x.u)(n),0!==(o=(a.get("supportedSpatialReferences")||[a.get("tileInfo.spatialReference")]).filter(Boolean)).length&&o.every((function(e){return!i.spatialReference.equals(e)}))&&Ge();case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){throw new P.a("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}var qe=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e))._handles=new v.a,r.compatibilityFunction=null,r.error=null,r.state="loading",r.view=null,r}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this;this._handles.add(Object(y.a)(this,["basemap.loadStatus","compatibilityFunction","view.basemapTerrain?.tilingScheme","view.ready","view.spatialReference"],(function(){return e.refresh()})))}},{key:"destroy",value:function(){this._cancelCompatibilityCheck(),this._handles.destroy(),this._handles=null,this.basemap=null,this.compatibilityFunction=null,this.view=null}},{key:"basemap",set:function(e){var t=this._get("basemap");t&&t.cancelLoad(),e&&e.load().catch((function(){})),this._set("basemap",e)}},{key:"refresh",value:function(){var e=this;this._cancelCompatibilityCheck(),this._set("state","loading");var t=this.get("basemap.loadStatus");if("loaded"===t||"failed"===t)if(this.compatibilityFunction){var n=new AbortController,r=n.signal;this.compatibilityFunction(this,{signal:r}).then((function(){e._set("state","ready"),e._set("error",null)})).catch((function(t){Object(x.l)(t)||(e._set("state","error"),e._set("error",t))})),this._lastCompatibilityCheckController=n}else"loaded"===t?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError))}},{key:"_cancelCompatibilityCheck",value:function(){this._lastCompatibilityCheckController&&(this._lastCompatibilityCheckController.abort(),this._lastCompatibilityCheckController=null)}}]),n}($.a);Object(u.a)([Object(f.b)()],qe.prototype,"basemap",null),Object(u.a)([Object(f.b)()],qe.prototype,"compatibilityFunction",void 0),Object(u.a)([Object(f.b)({readOnly:!0})],qe.prototype,"error",void 0),Object(u.a)([Object(f.b)({readOnly:!0})],qe.prototype,"state",void 0),Object(u.a)([Object(f.b)()],qe.prototype,"view",void 0);var He=qe=Object(u.a)([Object(p.a)("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],qe),We=n(255),Ye=k.a.ofType(We.default),Je=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).basemaps=new Ye,r}return Object(o.a)(n,[{key:"state",get:function(){return"ready"}},{key:"refresh",value:function(){}}]),n}($.a);Object(u.a)([Object(f.b)({type:Ye})],Je.prototype,"basemaps",void 0),Object(u.a)([Object(f.b)({readOnly:!0})],Je.prototype,"state",null);var Ke=Je=Object(u.a)([Object(p.a)("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],Je),Xe=n(247),Qe=n(121),Ze=k.a.ofType(We.default),$e="esri.widgets.BasemapGallery.support.PortalBasemapsSource",et=h.a.getLogger($e),tt=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e))._handles=new v.a,r.basemaps=new Ze,r.filterFunction=null,r.portal=Qe.a.getDefault(),r.query=null,r.updateBasemapsCallback=null,r}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this;this._handles.add([Object(y.a)(this,["filterFunction","loadStatus","portal.basemapGalleryGroupQuery","portal.user","query","updateBasemapsCallback"],(function(){return e.refresh()}))])}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null,this.filterFunction=null,this.portal=null}},{key:"state",get:function(){return"not-loaded"===this.loadStatus?"not-loaded":"loading"===this.loadStatus||this._lastPortalBasemapFetchController?"loading":"ready"}},{key:"load",value:function(e){return this.addResolvingPromise(this.portal.load(e)),this.notifyChange("state"),Object(x.s)(this)}},{key:"refresh",value:function(){var e=Object(C.a)(M.a.mark((function e(){var t,n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ready"===this.state){e.next=2;break}return e.abrupt("return");case 2:return this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null),t=this.portal,n=new AbortController,this._lastPortalBasemapFetchController=n,this.notifyChange("state"),e.prev=5,e.next=8,t.fetchBasemaps(this._toQueryString(this.query),n);case 8:r=e.sent,this._updateBasemaps(r),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),!Object(x.l)(e.t0)){e.next=16;break}throw e.t0;case 16:et.warn(new P.a("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:e.t0})),this._updateBasemaps();case 17:this._lastPortalBasemapFetchController=null,this.notifyChange("state");case 18:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"_toQueryString",value:function(e){return e&&"string"!=typeof e?Object.keys(e).map((function(t){return"".concat(t,":").concat(e[t])})).join(" AND "):e}},{key:"_updateBasemaps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.filterFunction?e.filter(this.filterFunction):e;t=this.updateBasemapsCallback?this.updateBasemapsCallback(t):t,this.basemaps.removeAll(),this.basemaps.addMany(t)}}]),n}(S.a.LoadableMixin(Object(Xe.b)(Ke)));Object(u.a)([Object(f.b)({readOnly:!0,type:Ze})],tt.prototype,"basemaps",void 0),Object(u.a)([Object(f.b)()],tt.prototype,"filterFunction",void 0),Object(u.a)([Object(f.b)({type:Qe.a})],tt.prototype,"portal",void 0),Object(u.a)([Object(f.b)()],tt.prototype,"query",void 0),Object(u.a)([Object(f.b)({dependsOn:["loadStatus"],readOnly:!0})],tt.prototype,"state",null),Object(u.a)([Object(f.b)()],tt.prototype,"updateBasemapsCallback",void 0);var nt=tt=Object(u.a)([Object(p.a)($e)],tt),rt=k.a.ofType(He),it=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e))._handles=new v.a,r.activeBasemap=null,r.items=new rt,r.source=new nt,r.view=null,r}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this,t=function(){return e._recreateItems()};this._handles.add([Object(y.d)(this,["compatibilityFunction","state"],(function(){return e._updateItems()})),Object(y.b)(this,"source.basemaps","change",t,t)])}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null}},{key:"compatibilityFunction",get:function(){return void 0===this._get("compatibilityFunction")?"3d"===this.get("view.type")?ze:Ue:this._get("compatibilityFunction")},set:function(e){this._set("compatibilityFunction",e)}},{key:"castSource",value:function(e){return Array.isArray(e)||k.a.isCollection(e)?new Ke({basemaps:e}):function(e){return e&&"esri.portal.Portal"===e.declaredClass}(e)?new nt({portal:e}):function(e){return e&&!(e instanceof nt)&&(!!e.portal||!!e.query)}(e)?new nt(e):function(e){return e&&"basemaps"in e&&"state"in e&&"refresh"in e}(e)?e:null}},{key:"state",get:function(){return this.get("view.ready")&&this.source?"ready":"disabled"}},{key:"basemapEquals",value:function(e,t){return Object(E.a)(e,t)}},{key:"refresh",value:function(){this._recreateItems()}},{key:"load",value:function(e){return this.addResolvingPromise(S.a.isLoadable(this.source)?this.source.load(e):Object(x.s)()),Object(x.s)(this)}},{key:"_recreateItems",value:function(){var e=this.get("source.basemaps"),t=this.view,n=this.compatibilityFunction;this.items.removeAll().forEach((function(e){return e.destroy()})),this.items.addMany(e.map((function(e){return new He({basemap:e,compatibilityFunction:n,view:t})})))}},{key:"_updateItems",value:function(){var e=this;this.items.forEach((function(t){t.compatibilityFunction=e.compatibilityFunction,t.view=e.view}))}}]),n}(S.a);Object(u.a)([Object(f.b)({aliasOf:"view.map.basemap"})],it.prototype,"activeBasemap",void 0),Object(u.a)([Object(f.b)({dependsOn:["view.type"]})],it.prototype,"compatibilityFunction",null),Object(u.a)([Object(f.b)({readOnly:!0,type:rt})],it.prototype,"items",void 0),Object(u.a)([Object(f.b)()],it.prototype,"source",void 0),Object(u.a)([Object(_.a)("source")],it.prototype,"castSource",null),Object(u.a)([Object(f.b)({readOnly:!0,dependsOn:["view.ready"]})],it.prototype,"state",null),Object(u.a)([Object(f.b)()],it.prototype,"view",void 0);var at=it=Object(u.a)([Object(p.a)("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],it),ot=Object(b.a)("esri/themes/base/images/basemap-toggle-64.svg"),st=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e,r))._handles=new v.a,i.activeBasemap=null,i.disabled=!1,i.iconClass="esri-icon-basemap",i.label=void 0,i.messages=null,i.source=null,i.view=null,i.viewModel=new at,i}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this,t=this._handles;this.own([Object(y.b)(this,"viewModel.items","change",(function(n){var r="basemap-gallery-item-changes",a=n.added,o=n.moved;t.remove(r),t.add([].concat(Object(i.a)(a),Object(i.a)(o)).map((function(t){return t.watch("state",(function(){return e.scheduleRender()}))})),r),e.scheduleRender()})),t,Object(y.j)(this,"source",(function(){return e.viewModel.load()}))])}},{key:"render",value:function(){var e,t="loading"===this.get("source.state"),n=this.disabled||"disabled"===this.get("viewModel.state"),i=this.get("viewModel.items").toArray().map(this._renderBasemapGalleryItem,this),a=(e={},Object(r.a)(e,"esri-basemap-gallery--source-loading",t),Object(r.a)(e,"esri-disabled",n),e),o=t?Object(j.a)("div",{class:"esri-basemap-gallery__loader",key:"esri-basemap-gallery__loader"}):null,s=t?null:i.length>0?Object(j.a)("ul",{class:"esri-basemap-gallery__item-container",key:"esri-basemap-gallery__item-container",role:"menu"},i):Object(j.a)("div",{class:"esri-widget__content--empty",key:"esri-basemap-gallery__empty-message"},Object(j.a)("h2",{class:"esri-widget__heading"},this.messages.noBasemaps));return Object(j.a)("div",{class:this.classes("esri-basemap-gallery esri-widget esri-widget--panel-height-only",a)},o,s)}},{key:"_handleClick",value:function(e){var t=e.currentTarget["data-item"];"ready"===t.state&&(this.activeBasemap=t.basemap)}},{key:"_renderBasemapGalleryItem",value:function(e){var t,n=e.get("basemap.thumbnailUrl")||ot,i=e.get("basemap.title"),a=e.get("basemap.portalItem.snippet"),o=e.get("error.message")||a||i,s=this.viewModel,c=this.disabled||"ready"!==s.state||"ready"!==e.state?-1:0,u=s.basemapEquals(e.basemap,this.activeBasemap),l=(t={},Object(r.a)(t,"esri-basemap-gallery__item--selected",u),Object(r.a)(t,"esri-basemap-gallery__item--loading","loading"===e.state),Object(r.a)(t,"esri-basemap-gallery__item--error","error"===e.state),t);return Object(j.a)("li",{"aria-selected":u,bind:this,class:this.classes("esri-basemap-gallery__item",l),"data-item":e,onkeydown:this._handleClick,onclick:this._handleClick,role:"menuitem",tabIndex:c,title:o},Object(j.a)("img",{alt:"",class:"esri-basemap-gallery__item-thumbnail",src:n}),Object(j.a)("div",{class:"esri-basemap-gallery__item-title"},i))}}]),n}(w.a);Object(u.a)([Object(d.a)("viewModel.activeBasemap"),Object(O.a)()],st.prototype,"activeBasemap",void 0),Object(u.a)([Object(f.b)(),Object(O.a)()],st.prototype,"disabled",void 0),Object(u.a)([Object(f.b)()],st.prototype,"iconClass",void 0),Object(u.a)([Object(f.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],st.prototype,"label",void 0),Object(u.a)([Object(f.b)(),Object(O.a)(),Object(g.a)("esri/widgets/BasemapGallery/t9n/BasemapGallery")],st.prototype,"messages",void 0),Object(u.a)([Object(d.a)("viewModel.source"),Object(O.a)("source.state")],st.prototype,"source",void 0),Object(u.a)([Object(d.a)("viewModel.view"),Object(O.a)()],st.prototype,"view",void 0),Object(u.a)([Object(f.b)(),Object(O.a)(["viewModel.state"])],st.prototype,"viewModel",void 0),Object(u.a)([Object(m.a)()],st.prototype,"_handleClick",null);st=Object(u.a)([Object(p.a)("esri.widgets.BasemapGallery")],st)},function(e,t,n){"use strict";n.r(t);var r=n(10),i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14)),l=n(1),h=n(41),f=n(62),d=n(8),p=n(12),b=(n(21),n(22),n(60)),v=n(29),y=n(64),m=n(88),g=n(33),O=n(11),j=n(94),w=(n(18),n(37)),_=n(39),x=n(96),k=(n(153),n(13)),S=n(7),E=n.n(S),T=n(38),M=n(16),C=n(4),A=n(50),P=n(17),I=n(49),D=n(43),L=n(36),R=n(120),N=n(65),F=n(170),z=n(141),V=n(66),U=n(500),B=n(352),G=n(181),q=n(319),H=n(548),W=n(172),Y=n(346);function J(e,t){if(!e||!("visualVariables"in e)||!e.visualVariables)return null;var n=e.visualVariables.find((function(e){return"size"===e.type})),r=function(e,t){var n=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return t.levels?t.levels[n]:null}(t,n);return r?new Y.a({field:n.field,minSize:r[2].size,minDataValue:r[2].value,maxSize:r[3].size,maxDataValue:r[3].value}):null}var K=n(32),X=n(108),Q=n(133),Z=/^-?(\d+)(\.(\d+))?$/i;function $(e,t){return e-t}function ee(e,t){var n,r;return(n=Number(e.toFixed(t)))<e?r=n+1/Math.pow(10,t):(r=n,n-=1/Math.pow(10,t)),[n=Number(n.toFixed(t)),r=Number(r.toFixed(t))]}function te(e,t,n,r,i){var a=re(e,t,n,r),o=null==a.previous||a.previous<=i,s=null==a.next||a.next<=i;return o&&s||a.previous+a.next<=2*i}function ne(e){var t=String(e),n=t.match(Z);if(n&&n[1])return{integer:n[1].split("").length,fractional:n[3]?n[3].split("").length:0};if(t.toLowerCase().indexOf("e")>-1){var r=t.split("e"),i=r[0],a=r[1];if(i&&a){var o=Number(i),s=Number(a),c=s>0;c||(s=Math.abs(s));var u=ne(o);return c?(u.integer+=s,s>u.fractional?u.fractional=0:u.fractional-=s):(u.fractional+=s,s>u.integer?u.integer=1:u.integer-=s),u}}return{integer:0,fractional:0}}function re(e,t,n,r){var i={previous:null,next:null};if(null!=n){var a=e-n,o=t-n-a;i.previous=Math.floor(Math.abs(100*o/a))}if(null!=r){var s=r-e,c=r-t-s;i.next=Math.floor(Math.abs(100*c/s))}return i}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.slice(0),r=t.tolerance,i=void 0===r?2:r,a=t.strictBounds,o=void 0!==a&&a,s=t.indexes,c=void 0===s?n.map((function(e,t){return t})):s;c.sort($);for(var u=0;u<c.length;u++){var l=c[u],h=n[l],f=0===l?null:n[l-1],d=l===n.length-1?null:n[l+1],p=ne(h).fractional;if(p){for(var b=void 0,v=0,y=!1;v<=p&&!y;){var m=ee(h,v);y=te(h,b=o&&0===u?m[1]:m[0],f,d,i),v++}y&&(n[l]=b)}}return n}var ae={maximumFractionDigits:20};var oe=Object(X.a)("short-date");function se(e,t,n,r){var i="";0===t?i="< ":t===n&&(i="> ");return i+(r?Object(X.b)(e,oe):function(e){return Object(Q.b)(e,ae)}(e))}var ce=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII="];function ue(e,t){var n=(null==t?void 0:t.statistics)||{},r=n.min,i=n.max,a=e.stops.map((function(e){return e.value})),o=Object(K.a)(a,5),s=o[0],c=o[1],u=o[2],l=o[3],h=o[4],f=null!=r&&s<r,d=null!=i&&h>i;if(null==r||null==i||!f&&!d)return a;var p=f?r:s,b=d?i:h;return ie([p,f?p+(u-p)/2:c,u,d?u+(b-u)/2:l,b],{strictBounds:!0})}var le=new D.a([64,64,64]);function he(e,t){var n=[],r=e.length-1;return 5===e.length?n.push(0,2,4):n.push(0,r),e.map((function(e,i){return n.indexOf(i)>-1?se(e,i,r,t):null}))}function fe(e,t,n,r){return de.apply(this,arguments)}function de(){return(de=Object(M.a)(E.a.mark((function e(t,r,i,a){var o,s,c,u,l,h,f,d,p;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!1,s=[],c=[],t.stops&&(u=null==a?void 0:a.authoringInfo,l="univariate-color-size"===(null==u?void 0:u.type)&&"above-and-below"===(null==u?void 0:u.univariateTheme),h=t.stops,s=l&&"color"===t.type?ue(t,u):h.map((function(e){return e.value})),(o=h.some((function(e){return!!e.label})))&&(c=h.map((function(e){return e.label})))),f=s[0],d=s[s.length-1],null!=f||null!=d){e.next=5;break}return e.abrupt("return",null);case 5:return p=o?null:he(s,i),e.next=8,Object(P.b)(s.map(function(){var e=Object(M.a)(E.a.mark((function e(i,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i,"opacity"!==t.type){e.next=7;break}return e.next=4,function(){var e=Object(M.a)(E.a.mark((function e(t,r){var i,a,o,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>2&&void 0!==s[2]?s[2]:le,a=new D.a(i),e.next=4,Promise.resolve().then(n.bind(null,386));case 4:return null!=(o=e.sent.getOpacity(r,t))&&(a.a=o),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(i,t,r);case 4:e.t1=e.sent,e.next=10;break;case 7:return e.next=9,Promise.resolve().then(n.bind(null,386));case 9:e.t1=e.sent.getColor(t,i);case 10:return e.t2=e.t1,e.t3=o?c[a]:p[a],e.abrupt("return",{value:e.t0,color:e.t2,label:e.t3});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",e.sent.reverse());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){var t,n=[],r=[];n=e.map((function(e){return e.value})),(t=e.some((function(e){return!!e.label})))&&(r=e.map((function(e){return e.label})));var i=n[0],a=n[n.length-1];if(null==i&&null==a)return null;var o=t?null:he(n,!1);return n.map((function(n,i){return{value:n,color:be(n,e),label:t?r[i]:o[i]}})).reverse()}function be(e,t){var n=function(e,t){var n=0,r=t.length-1;return t.some((function(t,i){return e<t.value?(r=i,!0):(n=i,!1)})),{startIndex:n,endIndex:r,weight:(e-t[n].value)/(t[r].value-t[n].value)}}(e,t),r=n.startIndex,i=n.endIndex,a=n.weight;if(r===i)return t[r].color;var o=D.a.blendColors(t[r].color,t[i].color,a);return new D.a(o)}var ve=n(335);function ye(e){var t=e.colorStops,n=t.length-1;if(t&&t[0]){var r=t[n];r&&1!==r.ratio&&((t=t.slice(0)).push(new ve.a({ratio:1,color:r.color})),n++)}return t.map((function(e,t){var r="";return 0===t?r="low":t===n&&(r="high"),{color:e.color,label:r,ratio:e.ratio}})).reverse()}var me=n(272),ge=n(540),Oe={HH:315,HL:45,LL:135,LH:225},je={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1","LM2","LH"]]};function we(e){if(e){var t=e.type;if(t.indexOf("3d")>-1)return Object(ge.getSymbolLayerFill)(e.symbolLayers.getItemAt(0));if("simple-line"===t){var n=Object(me.d)(e);return n&&n.color}if("simple-marker"===e.type&&("x"===e.style||"cross"===e.style)){var r=Object(me.d)(e);return r&&r.color}return Object(me.b)(e)}}function _e(e){var t=e.focus,n=e.infos,r=e.numClasses,i=je[r],a={};n.forEach((function(e){a[e.value]={label:e.label,fill:we(e.symbol)}}));for(var o=[],s=0;s<r;s++){for(var c=[],u=0;u<r;u++){var l=a[i[s][u]];c.push(l.fill)}o.push(c)}return{type:"relationship-ramp",numClasses:r,focus:t,colors:o,labels:function(e,t){var n=t.HH.label,r=t.LL.label,i=t.HL.label,a=t.LH.label;switch(e){case"HH":return{top:n,bottom:r,left:i,right:a};case"HL":return{top:i,bottom:a,left:r,right:n};case"LL":return{top:r,bottom:n,left:a,right:i};case"LH":return{top:a,bottom:i,left:n,right:r};default:return{top:n,bottom:r,left:i,right:a}}}(t,a),rotation:xe(t)}}function xe(e){var t=Oe[e];return e&&null==t&&(t=Oe.HH),t||0}var ke=[255,255,255],Se=[200,200,200],Ee=[128,128,128];function Te(e,t,n,r,i,a){return Me.apply(this,arguments)}function Me(){return(Me=Object(M.a)(E.a.mark((function e(t,r,i,a,o,s){var c,u,l,h,f,d,p,b,v,y,m,g,O,j,w,_,x;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r.legendOptions,u=c&&c.customValues,l=function(e,t){var n=null,r=null;if("simple"===e.type)n=e.symbol;else if("class-breaks"===e.type){var i=e.classBreakInfos;n=i&&i[0]&&i[0].symbol,r=i.length>1}else if("unique-value"===e.type){var a=e.uniqueValueInfos;n=a&&a[0]&&a[0].symbol,r=a.length>1}return!n||function(e){return!!e&&(Object(V.h)(e)?!!e.symbolLayers&&e.symbolLayers.some((function(e){return e&&"fill"===e.type})):-1!==e.type.indexOf("fill"))}(n)?null:(n=n.clone(),(t||r)&&(n.type.indexOf("3d")>-1?Ce(n):Ae(n)),n)}(t,i),h=!!l,f=!!u,d=null!=r.minSize&&null!=r.maxSize,p=r.stops&&r.stops.length>1,b=!!r.target,h&&(f||d||p&&!b)){e.next=3;break}return e.abrupt("return");case 3:if(v=Object(G.f)(l),y=null,m=null,g=null,!v||p){e.next=9;break}e.t0=ie([r.minDataValue,r.maxDataValue]),e.next=15;break;case 9:if(e.t1=u,e.t1){e.next=14;break}return e.next=13,function(){var e=Object(M.a)(E.a.mark((function e(t,r,i,a){var o,s,c,u,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(null,386));case 2:if(o=e.sent.getSizeRangeAtScale(t,i,a),s=o&&function(e){for(var t=e.minSize,n=(e.maxSize-t)/4,r=[],i=0;i<5;i++)r.push(t+n*i);return r}(o),o||s){e.next=6;break}return e.abrupt("return");case 6:c=ie(c=s.map((function(e){return function(e,t,n){var r=n.minSize,i=n.maxSize,a=t.minDataValue,o=t.maxDataValue;return e<=r?a:e>=i?o:(e-r)/(i-r)*(o-a)+a}(e,t,o)}))),u=1;case 9:if(!(u<c.length-1)){e.next=17;break}return e.next=12,Pe(t,r,c[u],c[u-1],i,a);case 12:(l=e.sent)&&(c[u]=l[0],s[u]=l[1]);case 14:u++,e.next=9;break;case 17:return e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(r,l,a,o);case 13:e.t1=e.sent;case 14:e.t0=e.t1;case 15:if(m=e.t0,O=null==t?void 0:t.authoringInfo,j="univariate-color-size"===(null==O?void 0:O.type)&&"above-and-below"===(null==O?void 0:O.univariateTheme),!m&&p&&(m=j?ue(r,O):r.stops.map((function(e){return e.value})),(y=r.stops.some((function(e){return!!e.label})))&&(g=r.stops.map((function(e){return e.label})))),v&&m&&m.length>2&&(m=[m[0],m[m.length-1]]),m){e.next=19;break}return e.abrupt("return",null);case 19:return w=[12,30],_=Object(G.e)(l),x=y?null:function(e,t){var n=e.length-1;return e.map((function(e,r){return se(e,r,n,t)}))}(m,s),e.next=22,Object(P.b)(m.map(function(){var e=Object(M.a)(E.a.mark((function e(n,i){var s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=4;break}e.t0=w[i],e.next=7;break;case 4:return e.next=6,De(r,l,n,a,o);case 6:e.t0=e.sent;case 7:return s=e.t0,e.abrupt("return",{value:n,symbol:function(e,t){var n=e.clone();if(Object(V.h)(n))Object(G.f)(n)||n.symbolLayers.forEach((function(e){"fill"!==e.type&&(e.size=t)}));else if("esri.symbols.SimpleMarkerSymbol"===n.declaredClass)n.size=t;else if(function(e){return"esri.symbols.PictureMarkerSymbol"===e.declaredClass}(n)){var r=n.width,i=n.height;n.height=t,n.width=t*(r/i)}else!function(e){return"esri.symbols.SimpleLineSymbol"===e.declaredClass}(n)?function(e){return"esri.symbols.TextSymbol"===e.declaredClass}(n)&&n.font&&(n.font.size=t):n.width=t;return n}(j&&"class-breaks"===t.type?function(e,t){var n=e.classBreakInfos,r=n.length,i=r<2||!(t>=2)?n[0].symbol.clone():n[r-1].symbol.clone();return e.visualVariables.some((function(e){return"color"===e.type}))&&(i.type.indexOf("3d")>-1?Ce(i):Ae(i)),i}(t,i):l,s),label:y?g[i]:x[i],size:s,outlineSize:_});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 22:return e.abrupt("return",e.sent.reverse());case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e){Object(G.f)(e)||("line-3d"===e.type?e.symbolLayers.forEach((function(e){e.material={color:Ee}})):e.symbolLayers.forEach((function(e){"icon"!==e.type||e.resource&&e.resource.href?e.material={color:Se}:(e.material={color:ke},e.outline={color:Ee,size:1.5})})))}function Ae(e){"cim"===e.type?Object(B.a)(e,new D.a(Se)):-1!==e.type.indexOf("line")?e.color=Ee:(e.color=ke,"simple-marker"===e.type&&(e.outline={color:Ee,width:1.5}))}function Pe(e,t,n,r,i,a){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(M.a)(E.a.mark((function e(t,n,r,i,a,o){var s,c,u,l,h,f,d,p,b,v,y,m,g,O,j,w,_,x,k,S,T,M;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t,n,r,a,o);case 2:return s=e.sent,e.next=5,De(t,n,i,a,o);case 5:c=e.sent,u=ne(r),l=u.fractional,h=u.integer,f=null,d=null,r>0&&r<1&&(f=Math.pow(10,l),h=ne(r*=f).integer),p=h-1;case 11:if(!(p>=0)){e.next=37;break}return b=Math.pow(10,p),v=Math.floor(r/b)*b,y=Math.ceil(r/b)*b,null!=f&&(v/=f,y/=f),g=ie([v,m=(v+y)/2,y],{indexes:[1]}),O=Object(K.a)(g,2),m=O[1],e.next=21,De(t,n,v,a,o);case 21:return j=e.sent,e.next=24,De(t,n,y,a,o);case 24:return w=e.sent,e.next=27,De(t,n,m,a,o);case 27:if(_=e.sent,x=re(s,j,c,null),k=re(s,w,c,null),S=re(s,_,c,null),T=x.previous<=20,M=k.previous<=20,T&&M&&(x.previous<=k.previous?(T=!0,M=!1):(M=!0,T=!1)),T?d=[v,j]:M?d=[y,w]:S.previous<=20&&(d=[m,_]),!d){e.next=34;break}return e.abrupt("break",37);case 34:p--,e.next=11;break;case 37:return e.abrupt("return",d);case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e,t,n,r,i){return Le.apply(this,arguments)}function Le(){return(Le=Object(M.a)(E.a.mark((function e(t,r,i,a,o){var s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(null,386));case 2:return s=e.sent,c=s.getSize,e.abrupt("return",c(t,i,{scale:a,view:o,shape:"simple-marker"===r.type?r.style:null}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re=u.a.getLogger("esri.widgets.Legend.support.ActiveLayerInfo"),Ne=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,Fe=new A.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),ze={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Ve=new z.default({size:6,outline:{color:[128,128,128,.5],width:.5}}),Ue=new F.default({style:"solid"});function Be(e){return"vector-field"===e.type}function Ge(e){return"raster-colormap"===e.type}function qe(e){return"raster-stretch"===e.type}function He(e){return"raster-shaded-relief"===e.type}function We(e){return"esri.renderers.SimpleRenderer"===e.declaredClass}function Ye(e){return"esri.renderers.ClassBreaksRenderer"===e.declaredClass}function Je(e){return"esri.renderers.UniqueValueRenderer"===e.declaredClass}function Ke(e){return"esri.renderers.HeatmapRenderer"===e.declaredClass}function Xe(e){return"esri.renderers.PointCloudClassBreaksRenderer"===e.declaredClass}function Qe(e){return"esri.renderers.PointCloudStretchRenderer"===e.declaredClass}function Ze(e){return"esri.renderers.PointCloudUniqueValueRenderer"===e.declaredClass}function $e(e){return"esri.renderers.DotDensityRenderer"===e.declaredClass}function et(e){return"esri.layers.BuildingSceneLayer"===e.declaredClass}function tt(e){return"esri.layers.MapImageLayer"===e.declaredClass}function nt(e){return"esri.layers.ImageryLayer"===e.declaredClass}function rt(e){return"esri.layers.WCSLayer"===e.declaredClass}var it=new z.default({style:"path",path:"M10,5 L5,0 0,5 M5,0 L5,15",size:15,outline:{width:1,color:[85,85,85,1]}}),at={},ot=function(e){Object(o.a)(c,e);var t=Object(s.a)(c);function c(e){var n;return Object(i.a)(this,c),(n=t.call(this,e))._handles=new b.a,n._hasColorRamp=!1,n._hasOpacityRamp=!1,n._hasSizeRamp=!1,n._webStyleSymbolCache=new Map,n._dotDensityUrlCache=new Map,n._scaleDrivenSizeVariable=null,n._hasClusterSizeVariable=!1,n.children=new _.a,n.layerView=null,n.layer=null,n.legendElements=[],n.parent=null,n.keepCacheOnDestroy=!1,n.respectLayerVisibility=!0,n.sublayerIds=[],n.title=null,n.view=null,n}return Object(a.a)(c,[{key:"initialize",value:function(){var e=this,t=function(){return e.notifyChange("ready")};this._handles.add([Object(v.b)(this,"children","change",(function(n){var r=n.added,i=n.removed,a=e._handles;r.map((function(e){var n="activeLayerInfo-ready-watcher-".concat(e.layer.uid);a.add(Object(v.a)(e,"ready",t),n)})),i.forEach((function(e){return a.remove(e.layer.uid)})),t()}))]),this.keepCacheOnDestroy||(at={})}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(at=null)}},{key:"opacity",get:function(){var e,t=this.layer.opacity,n=null==(e=this.parent)?void 0:e.opacity,r=this.layer.parent,i=r&&"uid"in r?this._getParentLayerOpacity(r):null;return null!=n?n*t:null!=i?i*t:t}},{key:"ready",get:function(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}},{key:"scale",get:function(){return this.view&&this.view.scale}},{key:"isScaleDriven",get:function(){var e=this,t=this.layer;if(null===t)return!1;if("featureReduction"in t&&t.featureReduction&&"cluster"===t.featureReduction.type)return!0;if("renderer"in t&&t.renderer){if("dot-density"===t.renderer.type)return!0;var n=t.get("renderer.valueExpression");if(Ne.test(n))return!0;var r=t.get("renderer.visualVariables");if(r)return r.some((function(t){return e._isScaleDrivenSizeVariable(t)}))}return this._isLayerScaleDriven(this.layer)}},{key:"version",get:function(){return this._get("version")+1}},{key:"buildLegendElementsForFeatureCollections",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,i=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){if("esri.layers.FeatureLayer"===e.declaredClass)return i._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet&&e.featureSet.features.length){var t=e.layerDefinition,n=t&&t.drawingInfo,r=n&&Object(q.a)(n.renderer),a=Fe.read(t.geometryType);return r?i._getRendererLegendElements(r,{title:e.name,geometryType:a}):(Re.warn("drawingInfo not available!"),null)}return null})),e.prev=1,r=[],e.next=5,Object(P.i)(n).then((function(e){e.forEach((function(e){var t=e.value;return t&&r.push.apply(r,Object(T.a)(t))}))}));case 5:this.legendElements=r,this.notifyChange("ready"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Re.warn("error while building legend for layer!",e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"buildLegendElementsForRenderer",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._getRendererLegendElements(t);case 3:n=e.sent,this.legendElements=n,this.notifyChange("ready"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Re.warn("error while building legend for layer!",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"buildLegendElementsForTools",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return"esri.layers.WMTSLayer"===e.declaredClass}(t=this.layer)){e.next=22;break}if(function(e){return"esri.layers.WMSLayer"===e.declaredClass}(t)){e.next=18;break}if(!et(t)){e.next=8;break}return e.next=6,this._constructLegendElementsForBuildingSceneLayer();case 6:e.next=16;break;case 8:if(!(tt(t)||function(e){return"esri.layers.TileLayer"===e.declaredClass}(t)||et(t))){e.next=13;break}return e.next=11,this._constructLegendElementsForSublayers();case 11:e.next=16;break;case 13:return this._handles.remove("imageryLayers-watcher"),e.next=16,this._getLegendLayers().then((function(e){n.legendElements=[],e.forEach((function(e){if(nt(t)){var r=t.watch(["renderingRule","bandIds"],(function(){at.default=null,n.buildLegendElementsForTools()}));n._handles.add(r,"imageryLayers-watcher")}var i=n._generateSymbolTableElementForLegendLayer(e);i&&i.infos.length&&(nt(t)&&(i.title=t.title),n.legendElements.push(i)),n.notifyChange("ready")})),n.notifyChange("ready")})).catch((function(e){Re.warn("Request to server for legend has failed!",e)}));case 16:e.next=20;break;case 18:return e.next=20,this._constructLegendElementsForWMSSublayers();case 20:e.next=23;break;case 22:this._constructLegendElementsForWMTSlayer();case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getParentLayerOpacity",value:function(e){var t=1,n=e.parent;return n&&"uid"in n&&(t=this._getParentLayerOpacity(n)),e.opacity*t}},{key:"_isGroupActive",value:function(){var e=this.children;return!!e.length&&e.some((function(e){return e.ready}))}},{key:"_isScaleDrivenSizeVariable",value:function(e){if(e&&"size"!==e.type)return!1;var t=e,n=t.minSize,r=t.maxSize;return"object"==typeof n&&n?this._isScaleDrivenSizeVariable(n):"object"==typeof r&&r?this._isScaleDrivenSizeVariable(r):!!t.expression||Ne.test(t.valueExpression)}},{key:"_isLayerScaleDriven",value:function(e){var t=this;if("minScale"in e&&e.minScale>0||"maxScale"in e&&e.maxScale>0)return!0;if("sublayers"in e&&e.sublayers)return e.sublayers.some((function(e){return t._isLayerScaleDriven(e)}));var n=e.parent;if(!1===e.loaded&&n&&tt(n)&&"source"in e&&e.source&&"map-layer"===e.source.type){var r,i=Object(k.a)(n.sourceJSON.layers);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.id===e.source.mapLayerId&&(a.minScale>0||a.maxScale>0))return!0}}catch(o){i.e(o)}finally{i.f()}}return!1}},{key:"_constructLegendElementsForWMTSlayer",value:function(){var e=this;this.legendElements=[],this._handles.remove("wmts-activeLayer-watcher");var t=this.layer.activeLayer;if(this._handles.add(Object(v.d)(this.layer,"activeLayer",(function(){return e._constructLegendElementsForWMTSlayer()})),"wmts-activeLayer-watcher"),t.styleId&&t.styles){var n=null;t.styles.some((function(e){return t.styleId===e.id&&(n=e.legendUrl,!0)})),n&&(this.legendElements=[{type:"symbol-table",title:t.title,infos:[{src:n,opacity:this.opacity}]}])}this.notifyChange("ready")}},{key:"_constructLegendElementsForWMSSublayers",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n,i=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.legendElements=[],this._handles.remove("wms-sublayers-watcher"),t=this.layer,n=null,(t.customParameters||t.customLayerParameters)&&(n=Object(r.a)(Object(r.a)({},t.customParameters),t.customLayerParameters)),this._handles.add(Object(v.d)(this.layer,"sublayers",(function(){return i._constructLegendElementsForWMSSublayers()})),"wms-sublayers-watcher"),e.next=7,this._generateLegendElementsForWMSSublayers(t.sublayers,n);case 7:this.legendElements=e.sent,this.notifyChange("ready");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_generateLegendElementsForWMSSublayers",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r,i,a,o,s,c,u,l=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],this._handles.add(t.on("change",(function(){return l._constructLegendElementsForWMSSublayers()})),"wms-sublayers-watcher"),i=t.toArray(),a=Object(k.a)(i),e.prev=4,a.s();case 6:if((o=a.n()).done){e.next=16;break}if(s=o.value,c=s.watch(["title","visible","legendEnabled"],(function(){return l._constructLegendElementsForWMSSublayers()})),this._handles.add(c,"wms-sublayers-watcher"),!s.visible||!s.legendEnabled){e.next=14;break}return e.next=12,this._generateSymbolTableElementForWMSSublayer(s,n);case 12:(u=e.sent)&&u.infos.length&&r.unshift(u);case 14:e.next=6;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:return e.abrupt("return",r);case 25:case"end":return e.stop()}}),e,this,[[4,18,21,24]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_generateSymbolTableElementForWMSSublayer",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.legendUrl||!t.sublayers){e.next=5;break}return e.next=3,this._generateLegendElementsForWMSSublayers(t.sublayers,n);case 3:return r=e.sent.filter((function(e){return e})),e.abrupt("return",{type:"symbol-table",title:t.title,infos:r});case 5:return e.abrupt("return",this._generateSymbolTableElementForLegendUrl(t,n));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_generateSymbolTableElementForLegendUrl",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r,i,a,o,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.legendUrl){e.next=3;break}return e.abrupt("return");case 3:return a={type:"symbol-table",title:t.title||t.name||t.id&&t.id+"",infos:[]},n&&(i+="?"+Object(p.C)(n)),o=null,s=null==(r=t.layer)?void 0:r.opacity,e.prev=7,e.next=10,Object(N.default)(i,{responseType:"image"});case 10:(o=e.sent.data)&&(o.style.opacity=s),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(7);case 16:return e.abrupt("return",(a.infos.push({src:i,preview:o,opacity:s}),a));case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getLegendLayers",value:function(e){var t=e&&e.hasDynamicLayers?e.dynamicLayers:null,n=t||"default",r=at&&at[n];return r?Object(P.s)(r):this._legendRequest(t).then((function(e){var t=e.layers;return at[n]=t,t}))}},{key:"_legendRequest",value:function(e){var t=this.layer,n={f:"json",dynamicLayers:e};if(nt(t)){var i=t.exportImageServiceParameters.renderingRule;if(i&&(n.renderingRule=JSON.stringify(i.toJSON())),t.bandIds&&(n.bandIds=t.bandIds.join()),t.raster||t.viewId){var a=t.raster,o=t.viewId;n=Object(r.a)({raster:a,viewId:o},n)}}var s=t.url.replace(/(\/)+$/,"");if("version"in t&&t.version>=10.01){var c=s.indexOf("?");c>-1?s=s.substring(0,c)+"/legend"+s.substring(c):s+="/legend"}else{var u=s.toLowerCase().indexOf("/rest/"),l=s.substring(0,u)+s.substring(u+5,s.length);s="https://utility.arcgis.com/sharing/tools/legend?soapUrl="+encodeURI(l)+"&returnbytes=true"}return Object(N.default)(s,{query:n}).then((function(e){return e.data}))}},{key:"_constructLegendElementsForBuildingSceneLayer",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.legendElements=[],this._handles.remove("sublayers-watcher"),t=this.layer,this._handles.add(Object(v.d)(t,"sublayers",(function(){return n._constructLegendElementsForBuildingSceneLayer()})),"sublayers-watcher"),e.prev=3,e.next=6,this._generateLegendElementsForBuildingSublayers(t.sublayers,this.opacity);case 6:this.legendElements=e.sent,this.notifyChange("ready"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Re.warn("Request to server for legend has failed!",e.t0);case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"_generateLegendElementsForBuildingSublayers",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r,i,a,o,s,c,u,l,h,f,d,p=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],this._handles.add(t.on("change",(function(){return p._constructLegendElementsForBuildingSceneLayer()})),"sublayers-watcher"),i=t.toArray(),a=Object(k.a)(i),e.prev=4,a.s();case 6:if((o=a.n()).done){e.next=30;break}if(s=o.value,c=s.watch(["renderer","opacity","title","visible"],(function(){return p._constructLegendElementsForBuildingSceneLayer()})),this._handles.add(c,"sublayers-watcher"),!s.visible){e.next=28;break}if(u=s&&null!=s.opacity?s.opacity:null,l=null!=u?u*n:n,"building-group"!==s.type){e.next=19;break}return f={type:"symbol-table",title:s.title,infos:[]},e.next=15,this._generateLegendElementsForBuildingSublayers(s.sublayers,l);case 15:d=e.sent,(h=f.infos).push.apply(h,Object(T.a)(d)),r=[f].concat(Object(T.a)(r)),e.next=28;break;case 19:if(!s.renderer){e.next=28;break}return e.t0=[],e.t1=T.a,e.next=24,this._getRendererLegendElements(s.renderer,{title:s.title,opacity:l,sublayer:s});case 24:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=Object(T.a)(r),r=e.t0.concat.call(e.t0,e.t3,e.t4);case 28:e.next=6;break;case 30:e.next=35;break;case 32:e.prev=32,e.t5=e.catch(4),a.e(e.t5);case 35:return e.prev=35,a.f(),e.finish(35);case 38:return e.abrupt("return",r.filter((function(e){return!!e&&(!("infos"in e)||e.infos.length>0)})));case 39:case"end":return e.stop()}}),e,this,[[4,32,35,38]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_constructLegendElementsForSublayers",value:function(){var e=Object(M.a)(E.a.mark((function e(){var t,n=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.legendElements=[],this._handles.remove("sublayers-watcher"),t=this.layer,this._handles.add(Object(v.d)(t,"sublayers",(function(){return n._constructLegendElementsForSublayers})),"sublayers-watcher"),e.prev=3,e.next=6,this._generateLegendElementsForSublayers(t.sublayers,this.opacity);case 6:this.legendElements=e.sent,this.notifyChange("ready"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Re.warn("Request to server for legend has failed!",e.t0);case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"_generateLegendElementsForSublayers",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var i,a,o,s,c,u,l,h,f=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],this._handles.add(t.on("change",(function(){return f._constructLegendElementsForSublayers()})),"sublayers-watcher"),a=t.toArray(),!r&&this.sublayerIds&&this.sublayerIds.length&&(o=this.layer,a=this.sublayerIds.map((function(e){return o.findSublayerById(e)})).filter(Boolean)),s=new H.a({layer:this.layer}),c=s.hasDynamicLayers&&s.dynamicLayers||"default",s.destroy(),u=Object(k.a)(a),e.prev=7,h=E.a.mark((function e(){var t,a,o,s,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.value,a=t.watch("renderer, opacity, title, visible, legendEnabled",(function(e,n,i){var a,o=at&&at[c];o&&!r&&(r=new Map,o.forEach((function(e){return r.set(e.layerId,e)})));var s=null==(a=r)?void 0:a.get(t.id);("renderer"!==i||t.originIdOf("renderer")>2||!s)&&f._constructLegendElementsForSublayers()})),f._handles.add(a,"sublayers-watcher"),!t.visible||!t.legendEnabled){e.next=22;break}if(o=t&&null!=t.opacity?t.opacity:null,s=null!=o?o*n:n,!(t.renderer&&!t.sublayers&&t.originIdOf("renderer")>2)){e.next=18;break}if(f.respectLayerVisibility&&!f._isSublayerInScale(t)){e.next=16;break}return e.next=8,t.load();case 8:return e.t0=[],e.t1=T.a,e.next=12,f._getRendererLegendElements(t.renderer,{title:t.title,opacity:s,sublayer:t});case 12:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=Object(T.a)(i),i=e.t0.concat.call(e.t0,e.t3,e.t4);case 16:e.next=22;break;case 18:return e.next=20,f._generateSymbolTableElementForSublayer(t,s,r);case 20:(u=e.sent)&&i.unshift(u);case 22:case"end":return e.stop()}}),e)})),u.s();case 10:if((l=u.n()).done){e.next=14;break}return e.delegateYield(h(),"t0",12);case 12:e.next=10;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(7),u.e(e.t1);case 19:return e.prev=19,u.f(),e.finish(19);case 22:return e.abrupt("return",i.filter((function(e){return!!e&&(!("infos"in e)||e.infos.length>0)})));case 23:case"end":return e.stop()}}),e,this,[[7,16,19,22]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_generateSymbolTableElementForSublayer",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n,r){var i,a,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=10;break}return r=new Map,i=new H.a({layer:this.layer}),e.prev=3,e.next=6,this._getLegendLayers(i);case 6:e.sent.forEach((function(e){return r.set(e.layerId,e)}));case 7:return e.prev=7,i.destroy(),e.finish(7);case 10:if((a=r.get(t.id))||!t.sublayers){e.next=16;break}return e.next=14,this._generateLegendElementsForSublayers(t.sublayers,n,r);case 14:return o=e.sent,e.abrupt("return",{type:"symbol-table",title:t.title,infos:o});case 16:return e.abrupt("return",this._generateSymbolTableElementForLegendLayer(a,t,n));case 17:case"end":return e.stop()}}),e,this,[[3,,7,10]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_generateSymbolTableElementForLegendLayer",value:function(e,t,n){var r=this;if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;var i=t&&t.renderer,a=t&&t.title||e.layerName;if(i){var o=t&&t.title||this._getRendererTitle(i,t);o&&(a&&"string"!=typeof o&&"title"in o&&(o.title=a),a=o)}var s={type:"symbol-table",title:a,infos:[]};e.legendType&&(s.legendType=e.legendType);var c=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return s.infos=c.map((function(t){var i=t.url;if(t.imageData&&t.imageData.length>0)i="data:image/png;base64,".concat(t.imageData);else{if(0===i.indexOf("http"))return null;i=Object(R.a)("".concat(r.layer.url,"/").concat(e.layerId,"/images/").concat(i))}return{label:t.label,src:i,opacity:null==n?r.opacity:n,width:t.width,height:t.height}})).filter((function(e){return!!e})),s.infos.length?s:null}},{key:"_isSublayerInScale",value:function(e){var t=e.minScale||0,n=e.maxScale||0;return!(t>0&&t<this.scale||n>this.scale)}},{key:"_isLegendLayerInScale",value:function(e,t){var n=t||this.layer,r=null,i=null,a=!0;return!n.minScale&&0!==n.minScale||!n.maxScale&&0!==n.maxScale?(0===e.minScale&&n.tileInfo&&(r=n.tileInfo.lods[0].scale),0===e.maxScale&&n.tileInfo&&(i=n.tileInfo.lods[n.tileInfo.lods.length-1].scale)):(r=Math.min(n.minScale,e.minScale)||n.minScale||e.minScale,i=Math.max(n.maxScale,e.maxScale)),(r>0&&r<this.scale||i>this.scale)&&(a=!1),a}},{key:"_sanitizeLegendForSublayer",value:function(e,t){if("version"in this.layer&&this.layer.version<10.1||0===e.length)return e;var n=t.renderer,r=e.some((function(e){return e.values})),i=null,a=null;return r&&e.some((function(e,t){return e.values||(i=t,(a=e).label||(a.label="others")),null!=a})),n?"unique-value"===n.type?a&&(e.splice(i,1),e.push(a)):"class-breaks"===n.type&&(a&&e.splice(i,1),e.reverse(),a&&e.push(a)):a&&(e.splice(i,1),e.push(a)),e}},{key:"_getRendererLegendElements",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",function(e){return We(e)||Ye(e)||Je(e)||qe(e)||Ge(e)||Ke(e)||Xe(e)||Qe(e)||Ze(e)||$e(e)||Be(e)||He(e)}(t)?function(e){return Xe(e)||Qe(e)||Ze(e)||function(e){return"esri.renderers.PointCloudRGBRenderer"===e.declaredClass}(e)}(t)?this._constructPointCloudRendererLegendElements(t,n):$e(t)?this._constructDotDensityRendererLegendElements(t):this._constructRendererLegendElements(t,n):(Re.warn("Renderer not supported!"),[]));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPointCloudRendererTitle",value:function(e){return e.legendOptions&&e.legendOptions.title||e.field}},{key:"_constructPointCloudRendererLegendElements",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.title,i=[],a=null,o=null;if(Xe(e))a={type:"symbol-table",title:r||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((function(e){a.infos.unshift({label:e.label||e.minValue+" - "+e.maxValue,value:[e.minValue,e.maxValue],symbol:t._getAppliedCloneSymbol(Ve,e.color)})}));else if(Qe(e)){var s=e.stops,c=null;if(s.length&&(1===s.length&&(c=s[0].color),!c)){var u=s[0].value,l=s[s.length-1].value;null!=u&&null!=l&&(c=be(u+(l-u)/2,s))}a={type:"symbol-table",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(Ve,c||Ve.color)}]};var h=pe(e.stops);o={type:"color-ramp",title:r||this._getPointCloudRendererTitle(e),infos:h,preview:Object(W.b)(h.map((function(e){return e.color})))}}else Ze(e)&&(a={type:"symbol-table",title:r||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach((function(e){a.infos.push({label:e.label||e.values.join(", "),value:e.values.join(", "),symbol:t._getAppliedCloneSymbol(Ve,e.color)})})));a&&a.infos.length&&i.push(a),o&&o.infos.length&&i.push(o);var f=i.reduce((function(e,t){return e.concat(t.infos)}),[]).filter((function(e){return!!e.symbol})).map((function(n){return t._getSymbolPreview(n,t.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})}));return Object(P.i)(f).then((function(){return i}))}},{key:"_getElementInfoForDotDensity",value:function(e,t){var n=e.backgroundColor,r=e.outline,i=e.dotSize+"-"+t+"-"+n+"-"+(r&&JSON.stringify(r.toJSON())),a=this._dotDensityUrlCache,o=a.has(i)?a.get(i):Object(W.c)(e,t);return a.set(i,o),{opacity:1,src:o.src,preview:o,width:o.width,height:o.height}}},{key:"_constructDotDensityRendererLegendElements",value:function(e){var t=this,n=e.calculateDotValue(this.view.scale),r=e.legendOptions&&e.legendOptions.unit,i={type:"symbol-table",title:{value:n&&Math.round(n),unit:r||""},infos:[]};return e.attributes.forEach((function(n){var r=t._getElementInfoForDotDensity(e,n.color);r.label=n.label||n.valueExpressionTitle||n.field,i.infos.push(r)})),Object(P.s)([i])}},{key:"_constructRendererLegendElements",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,i,a,o,s,c,u,l,h,f,d,p,b,v,y,m,g,O,j,w,_,x,k,S,T,M,A,I,D,L,R,N,F,z,V,U,B,G,q,H,Y,J,K,X,Q,Z,$=this,ee=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ee.length>1&&void 0!==ee[1]?ee[1]:{},r=n.title,i=n.sublayer,a=i||this.layer,e.next=4,this._loadRenderer(t);case 4:return o=e.sent,this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null,e.next=8,this._getVisualVariableLegendElements(o,a);case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0=[];case 11:if(s=e.t0,c={type:"symbol-table",title:r||this._getRendererTitle(o,a),infos:[]},u=null,l=!1,h=new Set,!function(e){var t="authoringInfo"in e&&(null==e?void 0:e.authoringInfo);return"univariate-color-size"===(null==t?void 0:t.type)&&"above-and-below"===(null==t?void 0:t.univariateTheme)}(o)){e.next=20;break}f={type:"univariate-above-and-below-ramp",title:r,infos:[]},d=s.findIndex((function(e){return"color-ramp"===e.type})),p=s.splice(d,1)[0],b=s.findIndex((function(e){return"size-ramp"===e.type})),v=s.splice(b,1)[0],p&&(f.title=p.title,f.infos.push(p)),v&&(f.title=v.title,f.infos.push(v)),s.push(f),e.next=77;break;case 20:if(!Ke(o)){e.next=25;break}y=ye(o),s.push({type:"heatmap-ramp",title:r,infos:y,preview:Object(W.b)(y.map((function(e){return e.color})))}),e.next=77;break;case 25:if(!Je(o)){e.next=31;break}if((m=o&&o.authoringInfo)&&"relationship"===m.type){if(g=m.focus,O=m.numClasses,j=m.field1,w=m.field2,O&&j&&w){for(_=[j,w],x=xe(g)||0,k=0,S=_;k<S.length;k++)T=S[k],M=T.field,A=T.normalizationField,I=T.label,D=I||{field:this._getFieldAlias(M,a),normField:A&&this._getFieldAlias(A,a)},(L=it.clone()).angle=x,c.infos.push({label:D,symbol:L}),h.add(L),x+=90;R=_e({focus:g,numClasses:O,infos:o.uniqueValueInfos}),s.unshift(R)}}else N=o.field,o.uniqueValueInfos.forEach((function(e){e.symbol&&c.infos.push({label:e.label||$._getDomainName(N,e.value,a)||e.value,value:e.value,symbol:e.symbol})}));o.defaultSymbol&&(c.infos.push({label:o.defaultLabel||"others",symbol:o.defaultSymbol}),l=!0),e.next=77;break;case 31:if(!Ye(o)){e.next=36;break}(!(u=this._isUnclassedRenderer(o))||!this._hasSizeRamp)&&(o.classBreakInfos.forEach((function(e){e.symbol&&c.infos.unshift({label:e.label||(u?null:e.minValue+" - "+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),u&&(c.title=null),this._updateInfosforClassedSizeRenderer(o,c.infos)),o.defaultSymbol&&!u&&(c.infos.push({label:o.defaultLabel||"others",symbol:o.defaultSymbol}),l=!0),e.next=77;break;case 36:if(!qe(o)){e.next=59;break}if(!function(e){return"esri.layers.ImageryTileLayer"===e.declaredClass}(this.layer)&&!rt(this.layer)){e.next=42;break}"stretch-ramp"===(F=this._constructTileImageryStretchRendererElements(o)).type?s.push(F):c.infos=F,e.next=57;break;case 42:if(z=this.layer,o.statistics&&o.statistics.length&&(V=o.statistics[0].min||o.statistics[0][0],U=o.statistics[0].max||o.statistics[0][1]),B=[],e.t1=C.n,!z.renderingRule){e.next=52;break}return e.next=49,z.generateRasterInfo(z.renderingRule);case 49:e.t2=e.sent,e.next=53;break;case 52:e.t2=z.serviceRasterInfo;case 53:e.t3=e.t2,G=(0,e.t1)(e.t3),q=G.keyProperties.BandProperties,1===G.bandCount?(V=V||G.statistics&&G.statistics[0].min,U=U||G.statistics&&G.statistics[0].max,V||U?s.push(this._getStretchLegendElements(o,{min:V,max:U})):this.buildLegendElementsForTools()):z.bandIds&&1===z.bandIds.length?(V=V||G.statistics&&G.statistics[z.bandIds[0]].min,U=U||G.statistics&&G.statistics[z.bandIds[0]].max,V||U?s.push(this._getStretchLegendElements(o,{min:V,max:U})):this.buildLegendElementsForTools()):G.bandCount>=3?q&&q.length>=G.bandCount?z.bandIds&&3===z.bandIds.length?(B=z.bandIds.map((function(e){return q[e].BandName})),c.infos=this._createSymbolTableElementMultiBand(B)):"lerc"===z.format?(B=[0,1,2].map((function(e){return q[e].BandName})),c.infos=this._createSymbolTableElementMultiBand(B)):this.buildLegendElementsForTools():"lerc"===z.format?(B=["band1","band2","band3"],c.infos=this._createSymbolTableElementMultiBand(B)):this.buildLegendElementsForTools():this.buildLegendElementsForTools();case 57:e.next=77;break;case 59:if(!Ge(o)){e.next=63;break}o.colormapInfos.forEach((function(e){c.infos.push({label:e.label,value:e.value,symbol:$._getAppliedCloneSymbol(Ue,e.color)})})),e.next=77;break;case 63:if(!We(o)){e.next=76;break}H=o.symbol,e.t4=n.geometryType,e.next="point"===e.t4?68:"polyline"===e.t4?70:"polygon"===e.t4?72:73;break;case 68:return H="pointSymbol"in a&&a.pointSymbol,e.abrupt("break",73);case 70:return H="lineSymbol"in a&&a.lineSymbol,e.abrupt("break",73);case 72:H="polygonSymbol"in a&&a.polygonSymbol;case 73:o.symbol&&!this._hasSizeRamp&&c.infos.push({label:o.label,symbol:H}),e.next=77;break;case 76:Be(o)?(o.outputUnit&&(this.title="("+o.toJSON().outputUnit+")"),c.title=o.attributeField,null!=(Y=o.getClassBreakInfos())&&Y.length?Y.forEach((function(e){c.infos.push({label:e.minValue+" - "+e.maxValue,symbol:e.symbol})})):c.infos.push({label:o.attributeField,symbol:o.getDefaultSymbol()})):He(o)&&s.push(this._getStretchLegendElements(o,{min:0,max:255}));case 77:return!(J=o.defaultSymbol)||l||We(o)||u&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||s.push({type:"symbol-table",infos:[{label:o.defaultLabel||"others",symbol:J}]}),c.infos.length&&s.unshift(c),K=null==n.opacity?this.opacity:n.opacity,X=this._isTallSymbol("visualVariables"in o&&o.visualVariables),Q=nt(this.layer),Z=s.reduce((function(e,t){return e.concat($._getAllInfos(t))}),[]).filter((function(e){return!(!e||!e.symbol)})).map((function(e){return $._getSymbolPreview(e,K,{applyScaleDrivenSize:!h.has(e.symbol),symbolConfig:{isTall:X,isSquareFill:Q}})})),o=null,e.next=83,Object(P.i)(Z);case 83:return e.abrupt("return",s);case 84:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getAllInfos",value:function(e){var t=this,n=null==e?void 0:e.infos;return n?n.reduce((function(e,n){return e.concat(t._getAllInfos(n))}),[]):[e]}},{key:"_constructTileImageryStretchRendererElements",value:function(e){var t,n,r,i=this.layer,a=i.rasterInfo,o=a.bandCount||e.statistics.length,s=a.keyProperties&&a.keyProperties.BandProperties;if(e.statistics&&e.statistics.length)t=void 0!==e.statistics[0].min?e.statistics[0].min:e.statistics[0][0],n=e.statistics[0].max||e.statistics[0][1];else if(rt(i)){var c=ze[i.rasterInfo.pixelType.toLowerCase()];t=c[0],n=c[1]}if(1===a.bandCount)return this._getStretchLegendElements(e,{min:t,max:n});function u(e){var t,n=((null==i||null==(t=i.bandIds)?void 0:t.length)===a.bandCount?i.bandIds:Array.from(Array(Math.min(a.bandCount,3)).keys())).map((function(t){return e&&e[t]&&e[t].BandName||"band"+(t+1)}));return n.length<3?n.push(n[1]):n.length>3&&n.splice(3),n}return r=s&&s.length>=o?u(s):u(),this._createSymbolTableElementMultiBand(r)}},{key:"_getStretchLegendElements",value:function(e,t){var n=function(e,t){var n,r,i=[];return e&&"multipart"===e.type?e.colorRamps.reverse().forEach((function(n,r){0===r?i.push({value:t.max,color:new D.a(n.toColor),label:"high"}):i.push({value:null,color:new D.a(n.toColor),label:""}),r===e.colorRamps.length-1?i.push({value:t.min,color:new D.a(n.fromColor),label:"low"}):i.push({value:null,color:new D.a(n.fromColor),label:""})})):(e&&"algorithmic"===e.type?(n=e.fromColor,r=e.toColor):(n=[0,0,0,1],r=[255,255,255,1]),i=[{value:t.max,color:new D.a(r),label:"high"},{value:t.min,color:new D.a(n),label:"low"}]),i}(e.colorRamp,t);return{type:"stretch-ramp",title:"",infos:n,preview:Object(W.b)(n.map((function(e){return e.color})))}}},{key:"_createSymbolTableElementMultiBand",value:function(e){var t=[],n=["red","green","blue"];return e.forEach((function(e,r){t.push({label:{colorName:n[r],bandName:e},src:ce[r],opacity:1})})),t}},{key:"_updateInfosforClassedSizeRenderer",value:function(e,t){var n=e.authoringInfo&&"class-breaks-size"===e.authoringInfo.type,r=e.classBreakInfos.some((function(e){return Object(G.f)(e.symbol)}));if(n&&r){var i=e.classBreakInfos.length,a=18/(i>1?i-1:i);t.forEach((function(e,t){e.size=30-a*t}))}}},{key:"_isTallSymbol",value:function(e){var t=!1,n=!1;if(e)for(var r=0;r<e.length&&(!t||!n);r++){var i=e[r];"size"===i.type&&("height"===i.axis&&(t=!0),"width-and-depth"===i.axis&&(n=!0))}return t&&n}},{key:"_getSymbolPreview",value:function(){var e=Object(M.a)(E.a.mark((function e(t,r,i){var a,o,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null==t.size&&this._hasSizeRamp?Object(L.h)(22):t.size,!this._scaleDrivenSizeVariable||null==i||!i.applyScaleDrivenSize){e.next=7;break}return e.next=4,Promise.resolve().then(n.bind(null,386));case 4:o=e.sent,s=o.getSize,a=s(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:"simple-marker"===t.symbol.type?t.symbol.style:null});case 7:return e.abrupt("return",Object(W.d)(t.symbol,{size:a,opacity:r,scale:!1,symbolConfig:null==i?void 0:i.symbolConfig,rotation:t.symbol.angle}).then((function(e){return t.preview=e,t})).catch((function(){return t.preview=null,t})));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_loadRenderer",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var n,r,i,a,o,s,c,u,l,h,f,d,p,b=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],a=this.layer,t=t.clone(),this._hasClusterSizeVariable=!1,o="visualVariables"in t&&(null==(n=t.visualVariables)?void 0:n.some((function(e){return"size"===e.type&&"outline"!==e.target&&!Ne.test(e.valueExpression)}))),t&&"visualVariables"in t&&!o&&"featureReduction"in a&&"cluster"===(null==(r=a.featureReduction)?void 0:r.type)&&(s=this.layerView._effectiveRenderer,(c=Object(C.n)(J(s,this.view)))&&("clusterMinSize"in(u=a.featureReduction)&&"clusterMaxSize"in u&&(l=u.clusterMinSize,h=u.clusterMaxSize,c.legendOptions=new U.a({showLegend:l!==h})),f=t.visualVariables||[],t.visualVariables=f.concat([c]),this._hasClusterSizeVariable=!0)),e.next=6,this._getMedianColor(t);case 6:return d=e.sent,(Ye(t)||Je(t))&&(p=(t.classBreakInfos||t.uniqueValueInfos).map((function(e){return b._fetchSymbol(e.symbol,d).then((function(t){e.symbol=t})).catch((function(){e.symbol=null}))})),Array.prototype.push.apply(i,p)),e.abrupt("return",(i.push(this._fetchSymbol(t.symbol||t.defaultSymbol,t.defaultSymbol?null:d).then((function(e){b._applySymbolToRenderer(t,e,We(t))})).catch((function(){b._applySymbolToRenderer(t,null,We(t))}))),Object(P.i)(i).then((function(){return t}))));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_applySymbolToRenderer",value:function(e,t,n){n?e.symbol=t:e.defaultSymbol=t}},{key:"_getMedianColor",value:function(){var e=Object(M.a)(E.a.mark((function e(t){var r,i,a,o,s,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("visualVariables"in t&&t.visualVariables){e.next=2;break}return e.abrupt("return",null);case 2:if(r=t.visualVariables.find((function(e){return"color"===e.type}))){e.next=5;break}return e.abrupt("return",null);case 5:if(i=null,a=null,!r.stops){e.next=10;break}if(1!==r.stops.length){e.next=9;break}return e.abrupt("return",r.stops[0].color);case 9:i=r.stops[0].value,a=r.stops[r.stops.length-1].value;case 10:return o=i+(a-i)/2,e.next=13,Promise.resolve().then(n.bind(null,386));case 13:return s=e.sent,c=s.getColor,e.abrupt("return",c(r,o));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchSymbol",value:function(e,t){var n=this;if(!e)return Object(P.r)();if("web-style"===e.type){var r=e.portal,i=r&&r.url,a=r&&r.user&&r.user.username,o=e.name+"-"+e.styleName+"-"+e.styleUrl+"-"+i+"-"+a,s=this._webStyleSymbolCache;return s.has(o)||("2d"===this.view.type?s.set(o,e.fetchCIMSymbol()):s.set(o,e.fetchSymbol())),s.get(o).then((function(e){return n._getAppliedCloneSymbol(e,t)})).catch((function(){return Re.warn("Fetching web-style failed!"),Object(P.r)()}))}return Object(P.s)(this._getAppliedCloneSymbol(e,t))}},{key:"_getAppliedCloneSymbol",value:function(e,t){if(!e||!t)return e;var n=e.clone(),r=t&&t.toRgba();return n.type.indexOf("3d")>-1?this._applyColorTo3dSymbol(n,r):"cim"===n.type?Object(B.a)(n,t):n.color&&(n.color=new D.a(r||n.color)),n}},{key:"_applyColorTo3dSymbol",value:function(e,t){t&&e.symbolLayers.forEach((function(e){e&&(e.material||(e.material={}),e.material.color=new D.a(t))}))}},{key:"_getVisualVariableLegendElements",value:function(){var e=Object(M.a)(E.a.mark((function e(t,n){var r,i,a,o,s,c,u,l,h,f,d,p,b=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("visualVariables"in t&&t.visualVariables&&"vector-field"!==t.type){e.next=2;break}return e.abrupt("return",null);case 2:r=t.visualVariables,i=[],a=[],o=[],s=Object(k.a)(r);try{for(s.s();!(c=s.n()).done;)"color"===(u=c.value).type?i.push(u):"size"===u.type?a.push(u):"opacity"===u.type&&o.push(u)}catch(v){s.e(v)}finally{s.f()}return l=[].concat(i,a,o),0===i.length&&Ye(t)&&t.classBreakInfos&&1===t.classBreakInfos.length&&(d=t.classBreakInfos[0],h=d&&d.symbol),0===i.length&&We(t)&&(h=t.symbol),h&&(h.type.indexOf("3d")>-1?"water"===(p=h.symbolLayers.getItemAt(0)).type?Object(C.h)(p.color)&&(f=p.color):Object(C.h)(p.material)&&Object(C.h)(p.material.color)&&(f=p.material.color):h.url||(f=h.color)),e.next=10,Object(P.b)(l.map(function(){var e=Object(M.a)(E.a.mark((function e(r){var i,a,o,s,c,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.legendOptions&&!1===r.legendOptions.showLegend){e.next=39;break}if(i=b._getRampTitle(r,n),a=null,o="getField"in n&&n.getField&&n.getField(r.field),s=o&&Object(I.u)(o),"color"!==r.type){e.next=11;break}return e.next=7,fe(r,null,s,t);case 7:c=e.sent,a={type:"color-ramp",title:i,infos:c,preview:Object(W.b)(c.map((function(e){return e.color})))},b._hasColorRamp||(b._hasColorRamp=!(null==a.infos||!a.infos.length)),e.next=38;break;case 11:if("size"!==r.type||"outline"===r.target){e.next=33;break}if(!Ne.test(r.valueExpression)){e.next=16;break}b._hasClusterSizeVariable||(b._scaleDrivenSizeVariable=r),e.next=31;break;case 16:return e.t0=b._hasClusterSizeVariable?b._getClusterTitle(r):i,e.t1=Te,e.t2=t,e.t3=r,e.next=22,b._getMedianColor(t);case 22:return e.t4=e.sent,e.t5=b.scale,e.t6=b.view.type,e.t7=s,e.next=28,(0,e.t1)(e.t2,e.t3,e.t4,e.t5,e.t6,e.t7);case 28:e.t8=e.sent,a={type:"size-ramp",title:e.t0,infos:e.t8},b._hasSizeRamp||(b._hasSizeRamp=!(null==a.infos||!a.infos.length));case 31:e.next=38;break;case 33:if("opacity"!==r.type){e.next=38;break}return e.next=36,fe(r,f,s);case 36:u=e.sent,a={type:"opacity-ramp",title:i,infos:u,preview:Object(W.b)(u.map((function(e){return e.color})))},b._hasOpacityRamp||(b._hasOpacityRamp=!(null==a.infos||!a.infos.length));case 38:return e.abrupt("return",a&&a.infos?a:null);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:return e.abrupt("return",e.sent.filter((function(e){return!!e})));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getDomainName",value:function(e,t,n){if(e&&"function"!=typeof e){var r="getField"in n&&n.getField&&n.getField(e),i=r&&"getFieldDomain"in n&&n.getFieldDomain?n.getFieldDomain(r.name):null;return i&&"coded-value"===i.type?i.getName(t):null}return null}},{key:"_getClusterTitle",value:function(e){var t=this.layer,n=e.field;if("featureReduction"in t&&t.featureReduction&&"cluster"===t.featureReduction.type){var r=t.featureReduction,i="popupTemplate"in r&&r.popupTemplate,a=i&&i.fieldInfos;if(a){var o,s=Object(k.a)(a);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c.fieldName===n)return"cluster_count"===n?c.label||{showCount:!0}:c.label}}catch(u){s.e(u)}finally{s.f()}}}return{showCount:!0}}},{key:"_getRampTitle",value:function(e,t){var n=e.field,r=e.normalizationField,i=!1,a=!1,o=!1,s=null;n="function"==typeof n?null:n,r="function"==typeof r?null:r;var c=e.legendOptions&&e.legendOptions.title;if(null!=c)s=c;else if(e.valueExpressionTitle)s=e.valueExpressionTitle;else{if("renderer"in t&&t.renderer&&"authoringInfo"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables)for(var u=t.renderer.authoringInfo.visualVariables,l=0;l<u.length;l++){var h=u[l];if("color"===h.type){if("ratio"===h.style){i=!0;break}if("percent"===h.style){a=!0;break}if("percent-of-total"===h.style){o=!0;break}}}s={field:n&&this._getFieldAlias(n,t),normField:r&&this._getFieldAlias(r,t),ratio:i,ratioPercent:a,ratioPercentTotal:o}}return s}},{key:"_getRendererTitle",value:function(e,t){var n=e;if(n.legendOptions&&n.legendOptions.title)return n.legendOptions.title;if(n.valueExpressionTitle)return n.valueExpressionTitle;var r=n.field,i=null,a=null;Ye(n)&&(i=n.normalizationField,a="percent-of-total"===n.normalizationType),i="function"==typeof i?null:i;var o=null;return((r="function"==typeof r?null:r)||i)&&(o={field:r&&this._getFieldAlias(r,t),normField:i&&this._getFieldAlias(i,t),normByPct:a}),o}},{key:"_getFieldAlias",value:function(e,t){var n="popupTemplate"in t&&t.popupTemplate,r=n&&n.fieldInfos,i=null;r&&r.some((function(t){return e===t.fieldName&&(i=t,!0)}));var a=null;"getField"in t&&t.getField?a=t.getField(e):"fieldsIndex"in t&&t.fieldsIndex&&(a=t.fieldsIndex.get(e));var o=i||a,s=null;return o&&(s=i&&i.label||a&&a.alias||"name"in o&&o.name||"fieldName"in o&&o.fieldName),s}},{key:"_isUnclassedRenderer",value:function(e){var t=e.visualVariables,n=!1;return Ye(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(n=e.field?t.some((function(t){return!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField)})):!!t.length),n}}]),c}(w.a);Object(c.a)([Object(l.b)()],ot.prototype,"children",void 0),Object(c.a)([Object(l.b)()],ot.prototype,"layerView",void 0),Object(c.a)([Object(l.b)()],ot.prototype,"layer",void 0),Object(c.a)([Object(l.b)()],ot.prototype,"legendElements",void 0),Object(c.a)([Object(l.b)({dependsOn:["parent","parent.opacity","layer","layer.opacity"],readOnly:!0})],ot.prototype,"opacity",null),Object(c.a)([Object(l.b)()],ot.prototype,"parent",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:[],autoTracked:!1})],ot.prototype,"ready",null),Object(c.a)([Object(l.b)()],ot.prototype,"keepCacheOnDestroy",void 0),Object(c.a)([Object(l.b)()],ot.prototype,"respectLayerVisibility",void 0),Object(c.a)([Object(l.b)({dependsOn:["view.scale"],readOnly:!0})],ot.prototype,"scale",null),Object(c.a)([Object(l.b)()],ot.prototype,"sublayerIds",void 0),Object(c.a)([Object(l.b)({dependsOn:["layer.renderer?.valueExpression?","layer.renderer?.visualVariables?","layer.featureReduction?","scale"],readOnly:!0})],ot.prototype,"isScaleDriven",null),Object(c.a)([Object(l.b)()],ot.prototype,"title",void 0),Object(c.a)([Object(l.b)({readOnly:!0,dependsOn:["ready"],autoTracked:!1,value:0})],ot.prototype,"version",null),Object(c.a)([Object(l.b)()],ot.prototype,"view",void 0);var st=ot=Object(c.a)([Object(d.a)("esri.widgets.Legend.support.ActiveLayerInfo")],ot),ct="state",ut="all-layer-views",lt="legend-properties",ht=_.a.ofType(st),ft=["esri.layers.BuildingSceneLayer","esri.layers.CSVLayer","esri.layers.FeatureLayer","esri.layers.GeoJSONLayer","esri.layers.GeoRSSLayer","esri.layers.GroupLayer","esri.layers.HeatmapLayer","esri.layers.ImageryLayer","esri.layers.ImageryTileLayer","esri.layers.MapImageLayer","esri.layers.OGCFeatureLayer","esri.layers.PointCloudLayer","esri.layers.StreamLayer","esri.layers.SceneLayer","esri.layers.TileLayer","esri.layers.WMSLayer","esri.layers.WMTSLayer","esri.layers.WCSLayer"],dt=["view.basemapView.baseLayerViews","view.groundView.layerViews","view.layerViews","view.basemapView.referenceLayerViews"],pt=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._handles=new b.a,r._layerViewByLayerId={},r._layerInfosByLayerViewId={},r._activeLayerInfosByLayerViewId={},r._activeLayerInfosWithNoParent=new _.a,r.activeLayerInfos=new ht,r.basemapLegendVisible=!1,r.groundLegendVisible=!1,r.keepCacheOnDestroy=!1,r.respectLayerVisibility=!0,r.layerInfos=[],r.view=null,r}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this;this._handles.add(Object(v.a)(this,"view",this._viewHandles),"view"),this._handles.add(Object(x.c)((function(){return e._refresh()})))}},{key:"destroy",value:function(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}},{key:"state",get:function(){return this.get("view.ready")?"ready":"disabled"}},{key:"_viewHandles",value:function(){this._handles.remove(ct),this.view&&this._handles.add(Object(v.a)(this,"state",this._stateHandles),ct)}},{key:"_stateHandles",value:function(){this._resetAll(),"ready"===this.state&&this._watchPropertiesAndAllLayerViews()}},{key:"_resetAll",value:function(){this._handles.remove([ut,lt]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}},{key:"_destroyViewActiveLayerInfos",value:function(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}},{key:"_destroyViewActiveLayerInfo",value:function(e){this._handles.remove(e);var t=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],t&&t.parent&&t.parent.children.remove(t)}},{key:"_watchPropertiesAndAllLayerViews",value:function(){var e=this.view.allLayerViews;e.length&&this._refresh(),this._handles.add(e.on("change",this._allLayerViewsChangeHandle.bind(this)),ut),this._handles.add(Object(v.d)(this,"layerInfos, basemapLegendVisible, groundLegendVisible",this._propertiesChangeHandle.bind(this)),lt)}},{key:"_allLayerViewsChangeHandle",value:function(e){var t=this;e.removed.forEach((function(e){return t._destroyViewActiveLayerInfo(e.uid)})),this._refresh()}},{key:"_propertiesChangeHandle",value:function(){this._destroyViewActiveLayerInfos(),this._refresh()}},{key:"_refresh",value:function(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}},{key:"_sortActiveLayerInfos",value:function(e){var t=this;if(!(e.length<2)){var n=[];e.forEach((function(r){if(!r.parent){var i=r.layer.parent,a=i&&"uid"in i&&t._layerViewByLayerId[i.uid],o=a&&t._activeLayerInfosByLayerViewId[a.uid];o&&-1!==e.indexOf(o)&&(n.push(r),r.parent=o,o.children.add(r),t._sortActiveLayerInfos(o.children))}})),e.removeMany(n);var r={};this.view.allLayerViews.forEach((function(e,t){return r[e.layer.uid]=t})),e.sort((function(e,t){var n=r[e.layer.uid]||0;return(r[t.layer.uid]||0)-n}))}}},{key:"_generateLayerViews",value:function(){var e=[];return dt.filter(this._filterLayerViews,this).map(this.get,this).filter((function(e){return null!=e})).forEach(this._collectLayerViews("layerViews",e)),e}},{key:"_filterLayerViews",value:function(e){var t=!this.basemapLegendVisible&&("view.basemapView.baseLayerViews"===e||"view.basemapView.referenceLayerViews"===e),n=!this.groundLegendVisible&&"view.groundView.layerViews"===e;return!t&&!n}},{key:"_collectLayerViews",value:function(e,t){return function n(r){return r&&r.forEach((function(r){t.push(r),n(r[e])})),t}}},{key:"_filterLayerViewsByLayerInfos",value:function(e){var t=this,n=this.layerInfos;return!n||!n.length||n.some((function(n){return t._hasLayerInfo(n,e)}))}},{key:"_hasLayerInfo",value:function(e,t){var n=this._isLayerUIDMatching(e.layer,t.layer.uid);return n&&(this._layerInfosByLayerViewId[t.uid]=e),n}},{key:"_isLayerUIDMatching",value:function(e,t){return e&&(e.uid===t||this._hasLayerUID(e.layers,t))}},{key:"_hasLayerUID",value:function(e,t){var n=this;return e&&e.some((function(e){return n._isLayerUIDMatching(e,t)}))}},{key:"_isLayerViewSupported",value:function(e){return ft.indexOf(e.layer.declaredClass)>-1&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}},{key:"_generateActiveLayerInfo",value:function(e){var t=this;this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add(Object(v.d)(e,"legendEnabled, layer.legendEnabled",(function(){return t._layerActiveHandle(e)})),e.uid))}},{key:"_layerActiveHandle",value:function(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}},{key:"_isLayerActive",value:function(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get("layer.legendEnabled")}},{key:"_buildActiveLayerInfo",value:function(e){var t,n=this,r=e.layer,i=e.uid,a=this._layerInfosByLayerViewId[i],o=this._activeLayerInfosByLayerViewId[i];if(!o){var s=a&&void 0!==a.title&&a.layer.uid===r.uid;o=new st({layer:r,layerView:e,title:s?a.title:r.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:a&&a.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[i]=o}var c=r.parent&&"uid"in r.parent&&this._layerViewByLayerId[null==(t=r.parent)?void 0:t.uid];if(o.parent=this._activeLayerInfosByLayerViewId[null==c?void 0:c.uid],!this._handles.has(i)){var u=[Object(v.d)(r,"title",(function(e){return n._titleHandle(e,o)})),Object(v.d)(r,"renderer?, opacity, pointSymbol?, lineSymbol?, polygonSymbol?",(function(){return n._constructLegendElements(o)})),Object(v.k)(this.view,"stationary",(function(){return n._scaleHandle(o)})),Object(v.d)(e,"_effectiveRenderer",(function(){return n._constructLegendElements(o)}))];if(this.respectLayerVisibility){var l=Object(v.d)(e,"legendEnabled",(function(e){return n._legendEnabledHandle(e,o)})),h=Object(v.d)(r,"legendEnabled",(function(e){return n._legendEnabledHandle(e,o)}));u.push(l,h)}this._handles.add(u,i)}o.isScaleDriven||this._constructLegendElements(o),this._addActiveLayerInfo(o)}},{key:"_titleHandle",value:function(e,t){t.title=e,this._constructLegendElements(t)}},{key:"_legendEnabledHandle",value:function(e,t){e?this._addActiveLayerInfo(t):this._removeActiveLayerInfo(t)}},{key:"_scaleHandle",value:function(e){e.isScaleDriven&&this._constructLegendElements(e)}},{key:"_addActiveLayerInfo",value:function(e){var t=this,n=e.layerView,r=e.layer;if(this._isLayerActive(n)&&-1===this.activeLayerInfos.indexOf(e)){var i=e.parent;if(i)-1===i.children.indexOf(e)&&i.children.push(e),this._sortActiveLayerInfos(i.children);else{var a,o=null==(a=this.layerInfos)?void 0:a.some((function(e){return e.layer.uid===r.uid}));r.parent&&"uid"in r.parent&&!o?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){var s=[];this._activeLayerInfosWithNoParent.forEach((function(e){var n=e.layer.parent,r=n&&"uid"in n&&t._layerViewByLayerId[null==n?void 0:n.uid],i=t._activeLayerInfosByLayerViewId[null==r?void 0:r.uid];i&&(s.push(e),e.parent=i)})),s.length&&(this._activeLayerInfosWithNoParent.removeMany(s),s.forEach((function(e){return t._addActiveLayerInfo(e)})))}}}},{key:"_removeActiveLayerInfo",value:function(e){var t=e.parent;t?t.children.remove(e):this.activeLayerInfos.remove(e)}},{key:"_constructLegendElements",value:function(e){var t=this,n=e.layer;"featureCollections"in n&&n.featureCollections?e.buildLegendElementsForFeatureCollections(n.featureCollections):"renderer"in n&&n.renderer?e.buildLegendElementsForRenderer(n.renderer):"url"in n&&n.url?e.buildLegendElementsForTools():e.children.forEach((function(e){return t._constructLegendElements(e)}))}}]),n}(w.a);Object(c.a)([Object(l.b)({type:ht})],pt.prototype,"activeLayerInfos",void 0),Object(c.a)([Object(l.b)()],pt.prototype,"basemapLegendVisible",void 0),Object(c.a)([Object(l.b)()],pt.prototype,"groundLegendVisible",void 0),Object(c.a)([Object(l.b)()],pt.prototype,"keepCacheOnDestroy",void 0),Object(c.a)([Object(l.b)()],pt.prototype,"respectLayerVisibility",void 0),Object(c.a)([Object(l.b)()],pt.prototype,"layerInfos",void 0),Object(c.a)([Object(l.b)({dependsOn:["view.ready"],readOnly:!0})],pt.prototype,"state",null),Object(c.a)([Object(l.b)()],pt.prototype,"view",void 0);var bt=pt=Object(c.a)([Object(d.a)("esri.widgets.Legend.LegendViewModel")],pt),vt=n(28),yt=n(128),mt=n(82),gt=n(200),Ot=(n(171),n(276)),jt=Object(Ot.a)(),wt="http://www.w3.org/2000/svg",_t="esri-relationship-ramp--diamond__middle-column--label",xt="esri-relationship-ramp--diamond__middle-column--ramp",kt="esri-relationship-ramp--square__table-row",St="esri-relationship-ramp--square__table-cell",Et="esri-relationship-ramp--square__table-label",Tt="esri-univariate-above-and-below-ramp__symbol";function Mt(e,t,n){var r=e.focus,i=e.labels,a=!!r,o=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:60,i=e.focus,a=e.numClasses,o=e.colors,s=e.rotation,c=!!i,u=Math.sqrt(Math.pow(r,2)+Math.pow(r,2))+(c?0:5),l=null;null!=n&&(l="opacity: ".concat(n));for(var h=[],f=[],d=[],p=(r||75)/a,b=0;b<a;b++)for(var v=b*p,y=0;y<a;y++){var m=y*p,g=Object(gt.b)(o[b][y]),j=Object(gt.c)(null),w={type:"rect",x:m,y:v,width:p,height:p};h.push(Object(gt.f)(g)),f.push(Object(gt.h)(w,g.fill,j,null)),d.push(Object(gt.d)(w))}var _=10,x=15,k=15,S=10,E=null;c||(E="margin: -15px -15px -18px -15px");var T=Ct("left",i,t),M=Ct("right",i,t),C=Object(gt.a)(d),A=Object(gt.e)(C,u,u,0,!1,s),P=Object(gt.e)(C,u,u,0,!1,c?-45:null);return Object(O.a)("div",{style:l,class:c?xt:St},Object(O.a)("svg",{xmlns:wt,width:u,height:u,style:E},Object(O.a)("defs",null,Object(O.a)("marker",{id:"".concat(t,"_arrowStart"),markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",markerUnits:"strokeWidth",orient:"auto"},Object(O.a)("polyline",{points:"0,0 5,5 0,10",fill:"none",stroke:"#555555","stroke-width":"1"})),Object(O.a)("marker",{id:"".concat(t,"_arrowEnd"),markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",markerUnits:"strokeWidth",orient:"auto"},Object(O.a)("polyline",{points:"5,0 0,5 5,10",fill:"none",stroke:"#555555","stroke-width":"1"})),h),Object(O.a)("g",{transform:A},f),Object(O.a)("g",{transform:P},Object(O.a)("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":T.markerStart,"marker-end":T.markerEnd,x1:-_,y1:r-x,x2:-_,y2:x}),Object(O.a)("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":M.markerStart,"marker-end":M.markerEnd,x1:k,y1:r+S,x2:r-k,y2:r+S}))))}(e,t,n);return a?Object(O.a)("div",{class:"esri-relationship-ramp--diamond__container"},Object(O.a)("div",{class:"esri-relationship-ramp--diamond__left-column"},i.left),Object(O.a)("div",{class:"esri-relationship-ramp--diamond__middle-column"},Object(O.a)("div",{class:_t},i.top),o,Object(O.a)("div",{class:_t},i.bottom)),Object(O.a)("div",{class:"esri-relationship-ramp--diamond__right-column"},i.right)):Object(O.a)("div",{class:"esri-relationship-ramp--square__table"},Object(O.a)("div",{class:kt},Object(O.a)("div",{class:Object(y.a)(St,Et,"esri-relationship-ramp--square__table-label--right-bottom")},i.left),Object(O.a)("div",{class:St}),Object(O.a)("div",{class:Object(y.a)(St,Et,"esri-relationship-ramp--square__table-label--left-bottom")},i.top)),Object(O.a)("div",{class:kt},Object(O.a)("div",{class:St}),o,Object(O.a)("div",{class:St})),Object(O.a)("div",{class:kt},Object(O.a)("div",{class:Object(y.a)(St,Et,"esri-relationship-ramp--square__table-label--right-top")},i.bottom),Object(O.a)("div",{class:St}),Object(O.a)("div",{class:Object(y.a)(St,Et,"esri-relationship-ramp--square__table-label--left-top")},i.right)))}function Ct(e,t,n){var r="".concat(n,"_arrowStart"),i="".concat(n,"_arrowEnd"),a="left"===e,o={markerStart:null,markerEnd:null};switch(t){case"HL":a?o.markerStart="url(#".concat(i,")"):o.markerEnd="url(#".concat(r,")");break;case"LL":o.markerStart="url(#".concat(i,")");break;case"LH":a?o.markerEnd="url(#".concat(r,")"):o.markerStart="url(#".concat(i,")");break;default:o.markerEnd="url(#".concat(r,")")}return o}function At(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vertical",t="stroke:rgb(200, 200, 200);stroke-width:1";return"vertical"===e?Object(O.a)("svg",{height:"4",width:"10"},Object(O.a)("line",{x1:"0",y1:"2",x2:"10",y2:"2",style:t})):Object(O.a)("svg",{height:"10",width:"10"},Object(O.a)("line",{x1:"5",y1:"0",x2:"5",y2:"10",style:t}))}function Pt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vertical",n=document.createElement("div");return n.style.height="20px",n.className=Tt,null!=e&&(n.style.opacity=e.toString()),jt.append(n,At.bind(null,t)),n}function It(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"classic",n=e.infos;return"classic"===t?(Object(L.g)(n[0].size)+10)/2:(n[0].size-n[n.length-1].size)/2}function Dt(e,t){if(!e)return null;var n=e.infos.map((function(e){return e.color})),r=Object(W.b)("full"===t.type?n:"above"===t.type?n.slice(0,3):n.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment});return r.className="esri-legend__color-ramp",null!=t.opacity&&(r.style.opacity=t.opacity.toString()),r}function Lt(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical",r=0,i=e.infos,a="full"===t||"below"===t?4:2,o="full"===t||"above"===t?0:2;o<=a;o++)r+=2===o?"horizontal"===n?10:20:Object(L.g)(i[o].size)+("horizontal"===n?20:10);return r}function Rt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical",r=Lt(e,t,n),i=e.infos,a="full"===t||"above"===t?0:2,o="full"===t||"below"===t?4:2,s="full"===t?i[a].size+i[o].size:"above"===t?i[a].size:i[o].size;return r-(Object(L.g)(s/2)+15)}function Nt(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical",a=e.infos,o=a.filter((function(e){return"size-ramp"===e.type}))[0],s=a.filter((function(e){return"color-ramp"===e.type}))[0];return o&&((o=Object(r.a)({},o)).infos=Object(T.a)(o.infos)),s&&((s=Object(r.a)({},s)).infos=Object(T.a)(s.infos)),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical";e.infos.forEach((function(e,r){if(2===r)e.preview=Pt(t,n);else{var i=Object(L.g)(e.size)+("horizontal"===n?20:10),a="div"===e.preview.tagName.toLowerCase(),o=a?e.preview:document.createElement("div");o.className=Tt,"horizontal"===n?o.style.width="".concat(i,"px"):o.style.height="".concat(i,"px"),a||o.appendChild(e.preview),e.preview=o}}))}(o,t,i),"horizontal"===i&&(o.infos.reverse(),null==(n=s)||n.infos.reverse()),{sizeRampElement:o,colorRampElement:s}}function Ft(e){e.appendChild(this)}function zt(e,t,n){if(t){if("string"==typeof t||"number"==typeof t)return t;if("value"in t||"unit"in t)return Object(yt.a)(e.dotValue,t);if("colorName"in t||"bandName"in t)return e[t.colorName]+": "+(e[t.bandName]||t.bandName);if("showCount"in t)return t.showCount?e.clusterCountTitle:null;var r=null;return function(e,t){return t}(0,n)?r=t.ratioPercentTotal?"showRatioPercentTotal":t.ratioPercent?"showRatioPercent":t.ratio?"showRatio":t.normField?"showNormField":t.field?"showField":null:Vt(t,n)&&(r=t.normField?"showNormField":t.normByPct?"showNormPct":t.field?"showField":null),r?Object(yt.a)("showField"===r?"{field}":e[r],{field:t.field,normField:t.normField}):null}}function Vt(e,t){return!t}function Ut(e,t){return!!(t&&"Stretched"===t&&e.version>=10.3&&"esri.layers.ImageryLayer"===e.declaredClass)}var Bt="esri-legend--card__carousel-title",Gt="esri-legend--card__image-label",qt="esri-legend--card__layer-caption",Ht="esri-legend--card__layer-row",Wt="esri-legend--card__ramp-label",Yt="esri-legend--card__section",Jt="esri-legend--card__relationship-section",Kt="esri-legend--card__service",Xt="esri-legend--card__symbol",Qt="esri-legend--card__symbol-row",Zt="esri-legend--card__relationship-label-container",$t="esri-legend--card__label-container",en="esri-legend--card__service-caption-container",tn="esri-legend--card__symbol-container",nn="esri-legend--card__size-ramp-container",rn="esri-widget__heading",an="esri-legend--card__",on=window.devicePixelRatio,sn=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r))._handles=new b.a,a._hasIndicators=!1,a._selectedSectionName=null,a._sectionNames=[],a._sectionMap=new Map,a.activeLayerInfos=null,a.layout="stack",a.messages=null,a.messagesCommon=null,a.type="card",a.view=null,a}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this;this.own([this.watch("activeLayerInfos",(function(t){e._handles.removeAll(),e._watchForSectionChanges(t)}))])}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null}},{key:"render",value:function(){var e=this;this._hasIndicators="auto"===this.layout&&this.view.container.clientWidth<=768||"stack"===this.layout;var t=this.activeLayerInfos,n=t&&t.toArray().map((function(t){return e._renderLegendForLayer(t)})).filter((function(e){return!!e}));this._hasIndicators?this._selectedSectionName&&-1!==this._sectionNames.indexOf(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;var r=this._sectionNames.length,i=this._sectionNames.map((function(t,n){var i=Object(yt.a)(e.messagesCommon.pagination.pageText,{index:n+1,total:r});return Object(O.a)("div",{key:t,"aria-label":i,title:i,tabIndex:0,onclick:e._selectSection,onkeydown:e._selectSection,bind:e,class:e.classes("esri-legend--card__carousel-indicator",Object(vt.a)({},"esri-legend--card__carousel-indicator--activated",e._selectedSectionName===t)),"data-section-name":t})})),a=this._hasIndicators&&r>1?Object(O.a)("div",{class:"esri-legend--card__carousel-indicator-container",key:"carousel-navigation"},i):null,o=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):n&&n.length?n:null,s=Object(vt.a)({},"esri-legend--stacked",this._hasIndicators);return Object(O.a)("div",{class:this.classes("esri-legend--card",s)},a,o||Object(O.a)("div",{class:"esri-legend--card__message"},this.messages.noLegend))}},{key:"_selectSection",value:function(e){var t=e.target.getAttribute("data-section-name");t&&(this._selectedSectionName=t)}},{key:"_watchForSectionChanges",value:function(e){var t=this;if(this._generateSectionNames(),e){e.forEach((function(e){var n="activeLayerInfo-".concat(e.layer.uid,"-version-change");t._handles.remove(n),t._watchForSectionChanges(e.children),t._handles.add(e.watch("version",(function(){return t._generateSectionNames()})),n)}));var n="activeLayerInfos-collection-change";this._handles.remove(n),this._handles.add(e.on("change",(function(){return t._watchForSectionChanges(e)})),n)}}},{key:"_generateSectionNames",value:function(){this._sectionNames.length=0,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}},{key:"_generateSectionNamesForActiveLayerInfo",value:function(e){var t=this;e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach((function(n,r){t._sectionNames.push("".concat(an).concat(e.layer.uid,"-type-").concat(n.type,"-").concat(r))}))}},{key:"_renderLegendForLayer",value:function(e){var t=this;if(!e.ready)return null;if(e.children.length){var n=e.children.map((function(e){return t._renderLegendForLayer(e)})).toArray();return Object(O.a)("div",{key:e.layer.uid,class:this.classes(Kt,"esri-legend--card__group-layer")},Object(O.a)("div",{class:en},e.title),n)}var r=e.legendElements;if(r&&!r.length)return null;var i=r.some((function(e){return"relationship-ramp"===e.type})),a=r.map((function(n,r){return t._renderLegendForElement(n,e,r,i)})).filter((function(e){return!!e}));if(!a.length)return null;var o=Object(vt.a)({},"esri-legend--card__group-layer-child",!!e.parent);return Object(O.a)("div",{key:e.layer.uid,class:this.classes(Kt,o)},Object(O.a)("div",{class:en},Object(O.a)("div",{class:"esri-legend--card__service-caption-text"},e.title)),Object(O.a)("div",{class:"esri-legend--card__service-content"},a))}},{key:"_renderLegendForElement",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a="color-ramp"===e.type,o="opacity-ramp"===e.type,s="size-ramp"===e.type,c=t.layer,u=e.title,l=null;if("string"==typeof u)l=u;else if(u){var h=zt(this.messages,u,a||o);l=u.title?"".concat(u.title," (").concat(h,")"):h}var f="".concat(an).concat(c.uid,"-type-").concat(e.type,"-").concat(n),d=this._hasIndicators?Object(O.a)("div",null,Object(O.a)("h3",{class:this.classes(rn,Bt)},t.title),Object(O.a)("h4",{class:this.classes(rn,qt)},l)):l?Object(O.a)("h4",{class:this.classes(rn,qt)},l):null,p=null;if("symbol-table"===e.type){var b=e.infos.map((function(n,i){return r._renderLegendForElementInfo(n,t,e.legendType,i)})).filter((function(e){return!!e}));if(b.length){var v,y=b[0].properties.classes&&b[0].properties.classes[Qt],m=(v={},Object(vt.a)(v,$t,!y&&!i),Object(vt.a)(v,Zt,i),v);p=Object(O.a)("div",{key:f,class:Yt},d,Object(O.a)("div",{class:this.classes(m)},b))}}else"color-ramp"===e.type||"opacity-ramp"===e.type||"heatmap-ramp"===e.type?p=Object(O.a)("div",{key:f,class:Yt},d,this._renderLegendForRamp(e,c.opacity)):s?p=Object(O.a)("div",{key:f,class:Yt},d,this._renderSizeRamp(e,c.opacity)):"relationship-ramp"===e.type?p=Object(O.a)("div",{key:f,class:this.classes(Yt,Jt)},d,Mt(e,this.id,c.opacity)):"univariate-above-and-below-ramp"===e.type&&(p=Object(O.a)("div",{key:f,class:Yt},d,this._renderUnivariateAboveAndBelowRamp(e,c.opacity)));return p?(this._sectionMap.set(f,p),p):null}},{key:"_renderUnivariateAboveAndBelowRamp",value:function(e,t){var n=Nt(e,t,"horizontal"),r=n.sizeRampElement,i=n.colorRampElement,a=Lt(r,"full","horizontal"),o=Rt(r,"above","horizontal"),s=Rt(r,"below","horizontal"),c=Dt(i,{width:o,height:12,rampAlignment:"horizontal",opacity:t,type:"above"}),u=Dt(i,{width:s,height:12,rampAlignment:"horizontal",opacity:t,type:"below"}),l=It(r,"card"),h=r.infos.map((function(e){return e.label})).map((function(e,t){return 0===t||4===t?Object(O.a)("div",{key:t},e):null})),f={marginTop:"3px",marginLeft:"".concat(l,"px"),display:"flex"},d={width:"".concat(a,"px"),display:"flex",flexDirection:"row",justifyContent:"space-between"};return Object(O.a)("div",{class:Ht,key:"size-ramp-preview",styles:{display:"flex",flexDirection:"column"}},Object(O.a)("div",{class:this.classes(tn,"esri-legend__size-ramp--horizontal"),styles:{display:"flex",flexDirection:"row"}},r.infos.map((function(e,t){return Object(O.a)("div",{key:t,class:Xt,bind:e.preview,afterCreate:Ft})}))),c?Object(O.a)("div",{class:"esri-univariate-above-and-below-ramp__color--card",styles:f,key:"color-ramp-preview"},Object(O.a)("div",{bind:c,afterCreate:Ft}),Object(O.a)("div",{bind:u,afterCreate:Ft})):null,Object(O.a)("div",{class:"esri-legend__layer-cell esri-legend__layer-cell--info"},Object(O.a)("div",{class:"esri-legend__ramp-labels",styles:d},h)))}},{key:"_renderLegendForElementInfo",value:function(e,t,n,r){var i=t.layer;if(e.type)return this._renderLegendForElement(e,t,r);var a=Ut(i,n);if(e.preview){var o,s;if(-1===e.symbol.type.indexOf("simple-fill")){if(!e.label)return Object(O.a)("div",{key:r,bind:e.preview,afterCreate:Ft});var c=Object(vt.a)({},"esri-legend--card__symbol-cell",this._hasIndicators);return Object(O.a)("div",{key:r,class:this.classes(Ht,Object(vt.a)({},Qt,this._hasIndicators))},Object(O.a)("div",{class:this.classes(c),bind:e.preview,afterCreate:Ft}),Object(O.a)("div",{class:this.classes(Gt,Object(vt.a)({},"esri-legend--card__label-cell",this._hasIndicators))},zt(this.messages,e.label,!1)||""))}var u=255,l=255,h=255,f=0,d=255,p=255,b=255,v=0,y=e.symbol.color&&e.symbol.color.a,m=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;y&&(u=e.symbol.color.r,l=e.symbol.color.g,h=e.symbol.color.b,f=e.symbol.color.a*i.opacity),m&&(d=e.symbol.outline.color.r,p=e.symbol.outline.color.g,b=e.symbol.outline.color.b,v=e.symbol.outline.color.a*i.opacity);var g=null==(o=null==(s=e.symbol.color)?void 0:s.isBright)||o,j=g?"rgba(255, 255, 255, .6)":"rgba(0, 0, 0, .6)";return Object(O.a)("div",{key:r,class:Ht},Object(O.a)("div",{class:"esri-legend--card__label-element",styles:{background:y?"rgba(".concat(u,", ").concat(l,", ").concat(h,", ").concat(f,")"):"none",color:g?"black":"white",textShadow:"-1px -1px 0 ".concat(j,",\n                                              1px -1px 0 ").concat(j,",\n                                              -1px 1px 0 ").concat(j,",\n                                              1px 1px 0 ").concat(j),border:m?"1px solid rgba(".concat(d,", ").concat(p,", ").concat(b,", ").concat(v,")"):"none"}}," ",e.label," "))}if(e.src){var w=this._renderImage(e,i,a);return Object(O.a)("div",{key:r,class:Ht},w,Object(O.a)("div",{class:Gt},e.label||""))}}},{key:"_renderImage",value:function(e,t,n){var r,i=e.label,a=e.src,o=e.opacity,s=(r={},Object(vt.a)(r,"esri-legend--card__imagery-layer-image--stretched",n),Object(vt.a)(r,Xt,!n),r),c={opacity:"".concat(null!=o?o:t.opacity)};return Object(O.a)("img",{alt:zt(this.messages,i,!1),src:a,border:0,width:e.width,height:e.height,class:this.classes(s),styles:c})}},{key:"_renderSizeRampLines",value:function(e){var t=e.infos,n=t[0],r=t[t.length-1],i=n.symbol,a=this._hasIndicators,o=Object(L.g)(n.size+n.outlineSize)*on,s=Object(L.g)(r.size+r.outlineSize)*on,c=a?o:o+50*on,u=a?o/2+50*on:o,l=function(e){if(e){if(e.type.indexOf("3d")>-1){var t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;var n=e.symbolLayers.getItemAt(t-1).get("resource.primitive");return"triangle"===n||"cone"===n||"tetrahedron"===n}return"triangle"===e.style}}(i),h=function(e){if(e){if(e.type.indexOf("3d")>-1){var t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;var n=e.symbolLayers.getItemAt(t-1),r=n.resource&&n.resource.primitive;return"circle"===r||"cross"===r||"kite"===r||"sphere"===r||"cube"===r||"diamond"===r}var i=e.style;return"circle"===i||"diamond"===i||"cross"===i}}(i),f=document.createElement("canvas");f.width=c,f.height=u,f.style.width=f.width/on+"px",f.style.height=f.height/on+"px";var d=f.getContext("2d");if(a){d.beginPath();var p=c/2-s/2,b=u;d.moveTo(0,0),d.lineTo(p,b);var v=c,y=c/2+s/2,m=u;d.moveTo(v,0),d.lineTo(y,m)}else{d.beginPath();var g=u/2-s/2,j=c;d.moveTo(0,g),d.lineTo(j,0);var w=u/2+s/2,_=c,x=u;d.moveTo(0,w),d.lineTo(_,x)}return d.strokeStyle="#ddd",d.stroke(),Object(O.a)("div",{bind:f,afterCreate:Ft,styles:a?{display:"flex",marginTop:"-".concat(l?0:h?o/2:0,"px"),marginBottom:"-".concat(l?s:h?s/2:0,"px")}:{display:"flex",marginRight:"-".concat(l?0:h?o/2:0,"px"),marginLeft:"-".concat(l?0:h?s/2:0,"px")}})}},{key:"_renderSizeRamp",value:function(e,t){var n=e.infos,r=n[0].label,i=n[n.length-1].label,a=n[0].preview,o=n[n.length-1].preview,s=this._hasIndicators,c={"flex-direction":s?"column":"row-reverse"};a&&((a=a.cloneNode(!0)).style.display="flex"),o&&((o=o.cloneNode(!0)).style.display="flex");var u={opacity:null!=t?"".concat(t):""};return Object(O.a)("div",{class:this.classes(Ht,Object(vt.a)({},"esri-legend--card__size-ramp-row",s))},Object(O.a)("div",{class:Wt},s?r:i),Object(O.a)("div",{class:nn,styles:c},Object(O.a)("div",{bind:a,afterCreate:Ft,class:"esri-legend--card__size-ramp-preview",styles:u}),this._renderSizeRampLines(e),Object(O.a)("div",{bind:o,afterCreate:Ft,class:nn,styles:u})),Object(O.a)("div",{class:Wt},s?i:r))}},{key:"_renderLegendForRamp",value:function(e,t){var n=e.infos,r="heatmap-ramp"===e.type,i=n.length-1,a=i>2&&!r?25*i:100,o=a+20,s=n.slice(0).reverse();s.forEach((function(e,t){e.offset=r?e.ratio:t/i}));var c=s.length-1,u=s.length%2!=0&&s[s.length/2|0],l=u&&Object(O.a)("div",{class:"esri-legend--card__interval-separators-container"},Object(O.a)("div",{class:"esri-legend--card__interval-separator"},"|"),Object(O.a)("div",{class:Wt},u.label)),h=n[n.length-1].label,f=n[0].label,d=null;null!=t&&(d="opacity: ".concat(t));var p=[[{shape:{type:"path",path:"M0 12.5 L10 0 L10 25 Z"},fill:s[0].color,stroke:{width:0}},{shape:{type:"rect",x:10,y:0,width:a,height:25},fill:{type:"linear",x1:10,y1:0,x2:a+10,y2:0,colors:s},stroke:{width:0}},{shape:{type:"path",path:"M".concat(a+10," 0 L").concat(o," 12.5 L").concat(a+10," 25 Z")},fill:s[c].color,stroke:{width:0}}]],b=Object(gt.g)(p,o,25),v=this.messages;return Object(O.a)("div",{class:Ht},Object(O.a)("div",{class:Wt},r?v[h]:h),Object(O.a)("div",{class:tn},Object(O.a)("div",{style:d},b),l),Object(O.a)("div",{class:Wt},r?v[f]:f))}}]),n}(j.a);Object(c.a)([Object(g.a)(),Object(l.b)()],sn.prototype,"activeLayerInfos",void 0),Object(c.a)([Object(l.b)()],sn.prototype,"layout",void 0),Object(c.a)([Object(l.b)(),Object(g.a)(),Object(m.a)("esri/widgets/Legend/t9n/Legend")],sn.prototype,"messages",void 0),Object(c.a)([Object(l.b)(),Object(g.a)(),Object(m.a)("esri/t9n/common")],sn.prototype,"messagesCommon",void 0),Object(c.a)([Object(l.b)({readOnly:!0})],sn.prototype,"type",void 0),Object(c.a)([Object(l.b)()],sn.prototype,"view",void 0),Object(c.a)([Object(mt.a)()],sn.prototype,"_selectSection",null);var cn=sn=Object(c.a)([Object(d.a)("esri.widgets.Legend.styles.Card")],sn),un="esri-legend__service",ln="esri-legend__layer-body",hn="esri-legend__layer-row",fn="esri-legend__layer-cell esri-legend__layer-cell--info",dn="esri-legend__imagery-layer-info--stretched",pn="esri-legend__layer-cell esri-legend__layer-cell--symbols",bn="esri-legend__symbol",vn="esri-legend__ramps",yn="esri-legend__size-ramp",mn="esri-legend__ramp-labels",gn="esri-legend__ramp-label",On="esri-univariate-above-and-below-ramp__label",jn={display:"flex",alignItems:"flex-start"},wn={marginLeft:"3px"},_n={display:"table-cell",verticalAlign:"middle"},xn=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r)).activeLayerInfos=null,a.messages=null,a.type="classic",a}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.activeLayerInfos,n=t&&t.toArray().map((function(t){return e._renderLegendForLayer(t)})).filter((function(e){return!!e}));return Object(O.a)("div",null,n&&n.length?n:Object(O.a)("div",{class:"esri-legend__message"},this.messages.noLegend))}},{key:"_renderLegendForLayer",value:function(e){var t=this;if(!e.ready)return null;var n=!!e.children.length,r="esri-legend__".concat(e.layer.uid,"-version-").concat(e.version),i=e.title?Object(O.a)("h3",{class:this.classes("esri-widget__heading","esri-legend__service-label")},e.title):null;if(n){var a=e.children.map((function(e){return t._renderLegendForLayer(e)})).toArray();return Object(O.a)("div",{key:r,class:this.classes(un,"esri-legend__group-layer")},i,a)}var o=e.legendElements;if(o&&!o.length)return null;var s=o.map((function(n){return t._renderLegendForElement(n,e.layer)})).filter((function(e){return!!e}));if(!s.length)return null;var c=Object(vt.a)({},"esri-legend__group-layer-child",!!e.parent);return Object(O.a)("div",{key:r,class:this.classes(un,c)},i,Object(O.a)("div",{class:"esri-legend__layer"},s))}},{key:"_renderLegendForElement",value:function(e,t,n){var r=this,i="color-ramp"===e.type,a="opacity-ramp"===e.type,o="size-ramp"===e.type,s=null;if("symbol-table"===e.type||o){var c=e.infos.map((function(n){return r._renderLegendForElementInfo(n,t,o,e.legendType)})).filter((function(e){return!!e}));c.length&&(s=Object(O.a)("div",{class:ln},c))}else"color-ramp"===e.type||"opacity-ramp"===e.type||"heatmap-ramp"===e.type||"stretch-ramp"===e.type?s=this._renderLegendForRamp(e,t.opacity):"relationship-ramp"===e.type?s=Mt(e,this.id,t.opacity):"univariate-above-and-below-ramp"===e.type&&(s=this._renderUnivariateAboveAndBelowRamp(e,t.opacity));if(!s)return null;var u=e.title,l=null;if("string"==typeof u)l=u;else if(u){var h=zt(this.messages,u,i||a);l=Vt(0,i||a)&&u.title?"".concat(u.title," (").concat(h,")"):h}var f=n?"esri-legend__layer-child-table":"esri-legend__layer-table",d=l?Object(O.a)("div",{class:"esri-legend__layer-caption"},l):null,p=Object(vt.a)({},"esri-legend__layer-table--size-ramp",o||!n);return Object(O.a)("div",{class:this.classes(f,p)},d,s)}},{key:"_renderUnivariateAboveAndBelowRamp",value:function(e,t){var n=this,r=Nt(e,t),i=r.sizeRampElement,a=r.colorRampElement,o=Rt(i,"above"),s=Rt(i,"below"),c=Dt(a,{width:12,height:o,rampAlignment:"vertical",opacity:t,type:"above"}),u=Dt(a,{width:12,height:s,rampAlignment:"vertical",opacity:t,type:"below"}),l=It(i),h=i.infos.map((function(e){return e.label})),f=h.map((function(e,t){var n=2===t;return 0===t?Object(O.a)("div",{key:t,class:e?c?On:gn:null},e):n?Object(O.a)("div",null):null})),d=h.map((function(e,t){return 2===t||4===t?Object(O.a)("div",{key:t,class:e?c?On:gn:null},e):null})),p={display:"table-cell",verticalAlign:"middle"},b={marginTop:"".concat(l,"px")},v={height:"".concat(o,"px")},y={height:"".concat(s,"px")};return Object(O.a)("div",{key:"univariate-above-and-below-ramp-preview",styles:jn},Object(O.a)("div",{class:ln},i.infos.map((function(e,t){return Object(O.a)("div",{class:n.classes(hn,yn)},Object(O.a)("div",{class:bn,styles:p,bind:e.preview,afterCreate:Ft}),c||t%2!=0?null:Object(O.a)("div",{class:fn},h[t]))}))),c?Object(O.a)("div",{styles:b,key:"color-ramp-preview"},Object(O.a)("div",{styles:wn},Object(O.a)("div",{styles:_n},Object(O.a)("div",{class:vn,bind:c,afterCreate:Ft})),Object(O.a)("div",{styles:_n},Object(O.a)("div",{class:mn,styles:v},f))),Object(O.a)("div",{styles:wn},Object(O.a)("div",{styles:_n},Object(O.a)("div",{class:vn,bind:u,afterCreate:Ft})),Object(O.a)("div",{styles:_n},Object(O.a)("div",{class:mn,styles:y},d)))):null)}},{key:"_renderLegendForRamp",value:function(e,t){var n=this,r=e.infos,i="opacity-ramp"===e.type,a="heatmap-ramp"===e.type,o="stretch-ramp"===e.type,s=e.preview,c=i?"esri-legend__opacity-ramp":"";s.className="".concat("esri-legend__color-ramp"," ").concat(c),null!=t&&(s.style.opacity=t.toString());var u=r.map((function(e){return Object(O.a)("div",{class:e.label?gn:null},a?n.messages[e.label]:o?n._getStretchStopLabel(e):e.label)})),l={height:s.style.height};return Object(O.a)("div",{class:hn},Object(O.a)("div",{class:pn,styles:{width:"24px"}},Object(O.a)("div",{class:vn,bind:s,afterCreate:Ft})),Object(O.a)("div",{class:fn},Object(O.a)("div",{class:mn,styles:l},u)))}},{key:"_getStretchStopLabel",value:function(e){return e.label?this.messages[e.label]+": "+Object(Q.b)(e.value,{style:"decimal",notation:e.value.toString().indexOf("e")>-1?"scientific":"standard"}):""}},{key:"_renderLegendForElementInfo",value:function(e,t,n,r){var i;if(e.type)return this._renderLegendForElement(e,t,!0);var a=null,o=Ut(t,r);if(e.preview?a=Object(O.a)("div",{class:bn,bind:e.preview,afterCreate:Ft}):e.src&&(a=this._renderImage(e,t,o)),!a)return null;var s=Object(vt.a)({},dn,o),c=(i={},Object(vt.a)(i,dn,o),Object(vt.a)(i,yn,!o&&n),i);return Object(O.a)("div",{class:hn},Object(O.a)("div",{class:this.classes(pn,c)},a),Object(O.a)("div",{class:this.classes(fn,s)},zt(this.messages,e.label,!1)||""))}},{key:"_renderImage",value:function(e,t,n){var r,i=e.label,a=e.src,o=e.opacity,s=(r={},Object(vt.a)(r,"esri-legend__imagery-layer-image--stretched",n),Object(vt.a)(r,bn,!n),r),c={opacity:"".concat(null!=o?o:t.opacity)};return Object(O.a)("img",{alt:zt(this.messages,i,!1),src:a,border:0,width:e.width,height:e.height,class:this.classes(s),styles:c})}}]),n}(j.a);Object(c.a)([Object(g.a)(),Object(l.b)()],xn.prototype,"activeLayerInfos",void 0),Object(c.a)([Object(l.b)(),Object(g.a)(),Object(m.a)("esri/widgets/Legend/t9n/Legend")],xn.prototype,"messages",void 0),Object(c.a)([Object(l.b)({readOnly:!0})],xn.prototype,"type",void 0);var kn=xn=Object(c.a)([Object(d.a)("esri.widgets.Legend.styles.Classic")],xn),Sn=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r))._handles=new b.a,a.activeLayerInfos=null,a.basemapLegendVisible=!1,a.groundLegendVisible=!1,a.keepCacheOnDestroy=!1,a.respectLayerVisibility=!0,a.iconClass="esri-icon-layer-list",a.label=void 0,a.layerInfos=null,a.messages=null,a.style=new kn,a.view=null,a.viewModel=new bt,a}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this;this.own(Object(v.b)(this,"activeLayerInfos","change",(function(){return e._refreshActiveLayerInfos(e.activeLayerInfos)})),Object(v.a)(this,"style",(function(t,n){n&&t!==n&&n.destroy(),t&&(t.activeLayerInfos=e.activeLayerInfos,"card"===t.type&&(t.view=e.view))})))}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null}},{key:"castStyle",value:function(e){if(e instanceof cn||e instanceof kn)return e;if("string"==typeof e)return"card"===e?new cn:new kn;if(e&&"string"==typeof e.type){var t=Object(r.a)({},e);return delete t.type,new("card"===e.type?cn:kn)(t)}return new kn}},{key:"render",value:function(){return Object(O.a)("div",{class:this.classes("esri-legend","esri-widget",this.style instanceof kn?"esri-widget--panel":null)},this.style.render())}},{key:"_refreshActiveLayerInfos",value:function(e){var t=this;this._handles.removeAll(),e.forEach((function(e){return t._renderOnActiveLayerInfoChange(e)})),this.scheduleRender()}},{key:"_renderOnActiveLayerInfoChange",value:function(e){var t=this,n=Object(v.a)(e,"version",(function(){return t.scheduleRender()}));this._handles.add(n,"version_".concat(e.layer.uid));var r=Object(v.b)(e,"children","change",(function(){e.children.forEach((function(e){return t._renderOnActiveLayerInfoChange(e)}))}));this._handles.add(r,"children_".concat(e.layer.uid)),e.children.forEach((function(e){return t._renderOnActiveLayerInfoChange(e)}))}}]),n}(j.a);Object(c.a)([Object(h.a)("viewModel.activeLayerInfos"),Object(g.a)()],Sn.prototype,"activeLayerInfos",void 0),Object(c.a)([Object(h.a)("viewModel.basemapLegendVisible"),Object(g.a)()],Sn.prototype,"basemapLegendVisible",void 0),Object(c.a)([Object(h.a)("viewModel.groundLegendVisible"),Object(g.a)()],Sn.prototype,"groundLegendVisible",void 0),Object(c.a)([Object(h.a)("viewModel.keepCacheOnDestroy")],Sn.prototype,"keepCacheOnDestroy",void 0),Object(c.a)([Object(h.a)("viewModel.respectLayerVisibility"),Object(g.a)()],Sn.prototype,"respectLayerVisibility",void 0),Object(c.a)([Object(l.b)()],Sn.prototype,"iconClass",void 0),Object(c.a)([Object(l.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Sn.prototype,"label",void 0),Object(c.a)([Object(h.a)("viewModel.layerInfos"),Object(g.a)()],Sn.prototype,"layerInfos",void 0),Object(c.a)([Object(l.b)(),Object(g.a)(),Object(m.a)("esri/widgets/Legend/t9n/Legend")],Sn.prototype,"messages",void 0),Object(c.a)([Object(l.b)(),Object(g.a)()],Sn.prototype,"style",void 0),Object(c.a)([Object(f.a)("style")],Sn.prototype,"castStyle",null),Object(c.a)([Object(h.a)("viewModel.view"),Object(g.a)()],Sn.prototype,"view",void 0),Object(c.a)([Object(l.b)(),Object(g.a)(["view.size"])],Sn.prototype,"viewModel",void 0);var En=Sn=Object(c.a)([Object(d.a)("esri.widgets.Legend")],Sn);t.default=En},function(e,t,n){"use strict";var r=n(28),i=n(10),a=n(2),o=n(3),s=n(5),c=n(6),u=n(0),l=n(15),h=n(14),f=n(1),d=n(41),p=n(62),b=n(295),v=n(8),y=(n(12),n(21),n(22),n(122)),m=n(39),g=n(60),O=n(29),j=(n(64),n(82)),w=n(88),_=n(33),x=n(207),k=n(11),S=n(94);function E(e){return(E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){T(e,t,n[t])}))}return e}function A(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var I=P(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),D=P(/Edge/i),L=P(/firefox/i),R=P(/safari/i)&&!P(/chrome/i)&&!P(/android/i),N=P(/iP(ad|od|hone)/i),F=P(/chrome/i)&&P(/android/i),z={capture:!1,passive:!1};function V(e,t,n){e.addEventListener(t,n,!I&&z)}function U(e,t,n){e.removeEventListener(t,n,!I&&z)}function B(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function G(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function q(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&B(e,t):B(e,t))||r&&e===n)return e;if(e===n)break}while(e=G(e))}return null}var H,W=/\s+/g;function Y(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(W," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(W," ")}}function J(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function K(e,t){var n="";if("string"===typeof e)n=e;else do{var r=J(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function X(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function Q(){var e=document.scrollingElement;return e||document.documentElement}function Z(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var a,o,s,c,u,l,h;if(e!==window&&e!==Q()?(o=(a=e.getBoundingClientRect()).top,s=a.left,c=a.bottom,u=a.right,l=a.height,h=a.width):(o=0,s=0,c=window.innerHeight,u=window.innerWidth,l=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!I))do{if(i&&i.getBoundingClientRect&&("none"!==J(i,"transform")||n&&"static"!==J(i,"position"))){var f=i.getBoundingClientRect();o-=f.top+parseInt(J(i,"border-top-width")),s-=f.left+parseInt(J(i,"border-left-width")),c=o+a.height,u=s+a.width;break}}while(i=i.parentNode);if(r&&e!==window){var d=K(i||e),p=d&&d.a,b=d&&d.d;d&&(c=(o/=b)+(l/=b),u=(s/=p)+(h/=p))}return{top:o,left:s,bottom:c,right:u,width:h,height:l}}}function $(e,t,n){for(var r=ie(e,!0),i=Z(e)[t];r;){var a=Z(r)[n];if(!("top"===n||"left"===n?i>=a:i<=a))return r;if(r===Q())break;r=ie(r,!1)}return!1}function ee(e,t,n){for(var r=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==st.ghost&&a[i]!==st.dragged&&q(a[i],n.draggable,e,!1)){if(r===t)return a[i];r++}i++}return null}function te(e,t){for(var n=e.lastElementChild;n&&(n===st.ghost||"none"===J(n,"display")||t&&!B(n,t));)n=n.previousElementSibling;return n||null}function ne(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===st.clone||t&&!B(e,t)||n++;return n}function re(e){var t=0,n=0,r=Q();if(e)do{var i=K(e),a=i.a,o=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*o}while(e!==r&&(e=e.parentNode));return[t,n]}function ie(e,t){if(!e||!e.getBoundingClientRect)return Q();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=J(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Q();if(r||t)return n;r=!0}}}while(n=n.parentNode);return Q()}function ae(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function oe(e,t){return function(){if(!H){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),H=setTimeout((function(){H=void 0}),t)}}}function se(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ce(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var ue="Sortable"+(new Date).getTime();function le(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==J(e,"display")&&e!==st.ghost){t.push({target:e,rect:Z(e)});var n=C({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=K(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var i=!1,a=0;t.forEach((function(e){var t=0,n=e.target,o=n.fromRect,s=Z(n),c=n.prevFromRect,u=n.prevToRect,l=e.rect,h=K(n,!0);h&&(s.top-=h.f,s.left-=h.e),n.toRect=s,n.thisAnimationDuration&&ae(c,s)&&!ae(o,s)&&(l.top-s.top)/(l.left-s.left)===(o.top-s.top)/(o.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(l,c,u,r.options)),ae(s,o)||(n.prevFromRect=o,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,l,s,t)),t&&(i=!0,a=Math.max(a,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof n&&n()}),a):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){J(e,"transition",""),J(e,"transform","");var i=K(this.el),a=i&&i.a,o=i&&i.d,s=(t.left-n.left)/(a||1),c=(t.top-n.top)/(o||1);e.animatingX=!!s,e.animatingY=!!c,J(e,"transform","translate3d("+s+"px,"+c+"px,0)"),function(e){e.offsetWidth}(e),J(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),J(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){J(e,"transition",""),J(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var he=[],fe={initializeByDefault:!0},de={mount:function(e){for(var t in fe)fe.hasOwnProperty(t)&&!(t in e)&&(e[t]=fe[t]);he.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";he.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](C({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](C({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in he.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var a=new r(e,t,e.options);a.sortable=e,a.options=e.options,e[i]=a,M(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);"undefined"!==typeof a&&(e.options[i]=a)}},getEventProperties:function(e,t){var n={};return he.forEach((function(r){"function"===typeof r.eventProperties&&M(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return he.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function pe(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,a=e.cloneEl,o=e.toEl,s=e.fromEl,c=e.oldIndex,u=e.newIndex,l=e.oldDraggableIndex,h=e.newDraggableIndex,f=e.originalEvent,d=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[ue]){var b,v=t.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||I||D?(b=document.createEvent("Event")).initEvent(r,!0,!0):b=new CustomEvent(r,{bubbles:!0,cancelable:!0}),b.to=o||n,b.from=s||n,b.item=i||n,b.clone=a,b.oldIndex=c,b.newIndex=u,b.oldDraggableIndex=l,b.newDraggableIndex=h,b.originalEvent=f,b.pullMode=d?d.lastPutMode:void 0;var m=C({},p,de.getEventProperties(r,t));for(var g in m)b[g]=m[g];n&&n.dispatchEvent(b),v[y]&&v[y].call(t,b)}}var be=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=A(n,["evt"]);de.pluginEvent.bind(st)(e,t,C({dragEl:ye,parentEl:me,ghostEl:ge,rootEl:Oe,nextEl:je,lastDownEl:we,cloneEl:_e,cloneHidden:xe,dragStarted:Ne,putSortable:Ce,activeSortable:st.active,originalEvent:r,oldIndex:ke,oldDraggableIndex:Ee,newIndex:Se,newDraggableIndex:Te,hideGhostForTarget:rt,unhideGhostForTarget:it,cloneNowHidden:function(){xe=!0},cloneNowShown:function(){xe=!1},dispatchSortableEvent:function(e){ve({sortable:t,name:e,originalEvent:r})}},i))};function ve(e){pe(C({putSortable:Ce,cloneEl:_e,targetEl:ye,rootEl:Oe,oldIndex:ke,oldDraggableIndex:Ee,newIndex:Se,newDraggableIndex:Te},e))}var ye,me,ge,Oe,je,we,_e,xe,ke,Se,Ee,Te,Me,Ce,Ae,Pe,Ie,De,Le,Re,Ne,Fe,ze,Ve,Ue,Be=!1,Ge=!1,qe=[],He=!1,We=!1,Ye=[],Je=!1,Ke=[],Xe="undefined"!==typeof document,Qe=N,Ze=D||I?"cssFloat":"float",$e=Xe&&!F&&!N&&"draggable"in document.createElement("div"),et=function(){if(Xe){if(I)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),tt=function(e,t){var n=J(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=ee(e,0,t),a=ee(e,1,t),o=i&&J(i),s=a&&J(a),c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+Z(i).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Z(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&o.float&&"none"!==o.float){var l="left"===o.float?"left":"right";return!a||"both"!==s.clear&&s.clear!==l?"horizontal":"vertical"}return i&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||c>=r&&"none"===n[Ze]||a&&"none"===n[Ze]&&c+u>r)?"vertical":"horizontal"},nt=function(e){function t(e,n){return function(r,i,a,o){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,i,a,o),n)(r,i,a,o);var c=(n?r:i).options.group.name;return!0===e||"string"===typeof e&&e===c||e.join&&e.indexOf(c)>-1}}var n={},r=e.group;r&&"object"==E(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},rt=function(){!et&&ge&&J(ge,"display","none")},it=function(){!et&&ge&&J(ge,"display","")};Xe&&document.addEventListener("click",(function(e){if(Ge)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ge=!1,!1}),!0);var at=function(e){if(ye){var t=function(e,t){var n;return qe.some((function(r){if(!te(r)){var i=Z(r),a=r[ue].options.emptyInsertThreshold,o=e>=i.left-a&&e<=i.right+a,s=t>=i.top-a&&t<=i.bottom+a;return a&&o&&s?n=r:void 0}})),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[ue]._onDragOver(n)}}},ot=function(e){ye&&ye.parentNode[ue]._isOutsideThisEl(e.target)};function st(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=M({},t),e[ue]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return tt(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==st.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in de.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in nt(t),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&$e,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?V(e,"pointerdown",this._onTapStart):(V(e,"mousedown",this._onTapStart),V(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(V(e,"dragover",this),V(e,"dragenter",this)),qe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),M(this,le())}function ct(e,t,n,r,i,a,o,s){var c,u,l=e[ue],h=l.options.onMove;return!window.CustomEvent||I||D?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=t,c.from=e,c.dragged=n,c.draggedRect=r,c.related=i||t,c.relatedRect=a||Z(t),c.willInsertAfter=s,c.originalEvent=o,e.dispatchEvent(c),h&&(u=h.call(l,c,o)),u}function ut(e){e.draggable=!1}function lt(){Je=!1}function ht(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function ft(e){return setTimeout(e,0)}function dt(e){return clearTimeout(e)}st.prototype={constructor:st,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Fe=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,ye):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(o||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,u=r.filter;if(function(e){Ke.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Ke.push(r)}}(n),!ye&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||r.disabled)&&!c.isContentEditable&&(!(s=q(s,r.draggable,n,!1))||!s.animated)&&we!==s){if(ke=ne(s),Ee=ne(s,r.draggable),"function"===typeof u){if(u.call(this,e,s,this))return ve({sortable:t,rootEl:c,name:"filter",targetEl:s,toEl:n,fromEl:n}),be("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=q(c,r.trim(),n,!1))return ve({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),be("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!q(c,r.handle,n,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,n){var r,i=this,a=i.el,o=i.options,s=a.ownerDocument;if(n&&!ye&&n.parentNode===a){var c=Z(n);if(Oe=a,me=(ye=n).parentNode,je=ye.nextSibling,we=n,Me=o.group,st.dragged=ye,Ae={target:ye,clientX:(t||e).clientX,clientY:(t||e).clientY},Le=Ae.clientX-c.left,Re=Ae.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ye.style["will-change"]="all",r=function(){be("delayEnded",i,{evt:e}),st.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!L&&i.nativeDraggable&&(ye.draggable=!0),i._triggerDragStart(e,t),ve({sortable:i,name:"choose",originalEvent:e}),Y(ye,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){X(ye,e.trim(),ut)})),V(s,"dragover",at),V(s,"mousemove",at),V(s,"touchmove",at),V(s,"mouseup",i._onDrop),V(s,"touchend",i._onDrop),V(s,"touchcancel",i._onDrop),L&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ye.draggable=!0),be("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(D||I))r();else{if(st.eventCanceled)return void this._onDrop();V(s,"mouseup",i._disableDelayedDrag),V(s,"touchend",i._disableDelayedDrag),V(s,"touchcancel",i._disableDelayedDrag),V(s,"mousemove",i._delayedDragTouchMoveHandler),V(s,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&V(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ye&&ut(ye),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;U(e,"mouseup",this._disableDelayedDrag),U(e,"touchend",this._disableDelayedDrag),U(e,"touchcancel",this._disableDelayedDrag),U(e,"mousemove",this._delayedDragTouchMoveHandler),U(e,"touchmove",this._delayedDragTouchMoveHandler),U(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?V(document,"pointermove",this._onTouchMove):V(document,t?"touchmove":"mousemove",this._onTouchMove):(V(ye,"dragend",this),V(Oe,"dragstart",this._onDragStart));try{document.selection?ft((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Be=!1,Oe&&ye){be("dragStarted",this,{evt:t}),this.nativeDraggable&&V(document,"dragover",ot);var n=this.options;!e&&Y(ye,n.dragClass,!1),Y(ye,n.ghostClass,!0),st.active=this,e&&this._appendGhost(),ve({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Pe){this._lastX=Pe.clientX,this._lastY=Pe.clientY,rt();for(var e=document.elementFromPoint(Pe.clientX,Pe.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Pe.clientX,Pe.clientY))!==t;)t=e;if(ye.parentNode[ue]._isOutsideThisEl(e),t)do{if(t[ue]){if(t[ue]._onDragOver({clientX:Pe.clientX,clientY:Pe.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);it()}},_onTouchMove:function(e){if(Ae){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=ge&&K(ge,!0),o=ge&&a&&a.a,s=ge&&a&&a.d,c=Qe&&Ue&&re(Ue),u=(i.clientX-Ae.clientX+r.x)/(o||1)+(c?c[0]-Ye[0]:0)/(o||1),l=(i.clientY-Ae.clientY+r.y)/(s||1)+(c?c[1]-Ye[1]:0)/(s||1);if(!st.active&&!Be){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ge){a?(a.e+=u-(Ie||0),a.f+=l-(De||0)):a={a:1,b:0,c:0,d:1,e:u,f:l};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");J(ge,"webkitTransform",h),J(ge,"mozTransform",h),J(ge,"msTransform",h),J(ge,"transform",h),Ie=u,De=l,Pe=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ge){var e=this.options.fallbackOnBody?document.body:Oe,t=Z(ye,!0,Qe,!0,e),n=this.options;if(Qe){for(Ue=e;"static"===J(Ue,"position")&&"none"===J(Ue,"transform")&&Ue!==document;)Ue=Ue.parentNode;Ue!==document.body&&Ue!==document.documentElement?(Ue===document&&(Ue=Q()),t.top+=Ue.scrollTop,t.left+=Ue.scrollLeft):Ue=Q(),Ye=re(Ue)}Y(ge=ye.cloneNode(!0),n.ghostClass,!1),Y(ge,n.fallbackClass,!0),Y(ge,n.dragClass,!0),J(ge,"transition",""),J(ge,"transform",""),J(ge,"box-sizing","border-box"),J(ge,"margin",0),J(ge,"top",t.top),J(ge,"left",t.left),J(ge,"width",t.width),J(ge,"height",t.height),J(ge,"opacity","0.8"),J(ge,"position",Qe?"absolute":"fixed"),J(ge,"zIndex","100000"),J(ge,"pointerEvents","none"),st.ghost=ge,e.appendChild(ge),J(ge,"transform-origin",Le/parseInt(ge.style.width)*100+"% "+Re/parseInt(ge.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;be("dragStart",this,{evt:e}),st.eventCanceled?this._onDrop():(be("setupClone",this),st.eventCanceled||((_e=ce(ye)).draggable=!1,_e.style["will-change"]="",this._hideClone(),Y(_e,this.options.chosenClass,!1),st.clone=_e),n.cloneId=ft((function(){be("clone",n),st.eventCanceled||(n.options.removeCloneOnHide||Oe.insertBefore(_e,ye),n._hideClone(),ve({sortable:n,name:"clone"}))})),!t&&Y(ye,i.dragClass,!0),t?(Ge=!0,n._loopId=setInterval(n._emulateDragOver,50)):(U(document,"mouseup",n._onDrop),U(document,"touchend",n._onDrop),U(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,ye)),V(document,"drop",n),J(ye,"transform","translateZ(0)")),Be=!0,n._dragStartId=ft(n._dragStarted.bind(n,t,e)),V(document,"selectstart",n),Ne=!0,R&&J(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,a=this.el,o=e.target,s=this.options,c=s.group,u=st.active,l=Me===c,h=s.sort,f=Ce||u,d=this,p=!1;if(!Je){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),o=q(o,s.draggable,a,!0),T("dragOver"),st.eventCanceled)return p;if(ye.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||d._ignoreWhileAnimating===o)return A(!1);if(Ge=!1,u&&!s.disabled&&(l?h||(r=!Oe.contains(ye)):Ce===this||(this.lastPutMode=Me.checkPull(this,u,ye,e))&&c.checkPut(this,u,ye,e))){if(i="vertical"===this._getDirection(e,o),t=Z(ye),T("dragOverValid"),st.eventCanceled)return p;if(r)return me=Oe,M(),this._hideClone(),T("revert"),st.eventCanceled||(je?Oe.insertBefore(ye,je):Oe.appendChild(ye)),A(!0);var b=te(a,s.draggable);if(!b||function(e,t,n){var r=Z(te(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}(e,i,this)&&!b.animated){if(b===ye)return A(!1);if(b&&a===e.target&&(o=b),o&&(n=Z(o)),!1!==ct(Oe,a,ye,t,o,n,e,!!o))return M(),a.appendChild(ye),me=a,P(),A(!0)}else if(o.parentNode===a){n=Z(o);var v,y,m,g=ye.parentNode!==a,O=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,a=n?e.width:e.height,o=n?t.left:t.top,s=n?t.right:t.bottom,c=n?t.width:t.height;return r===o||i===s||r+a/2===o+c/2}(ye.animated&&ye.toRect||t,o.animated&&o.toRect||n,i),j=i?"top":"left",w=$(o,"top","top")||$(ye,"top","top"),_=w?w.scrollTop:void 0;if(Fe!==o&&(y=n[j],He=!1,We=!O&&s.invertSwap||g),0!==(v=function(e,t,n,r,i,a,o,s){var c=r?e.clientY:e.clientX,u=r?n.height:n.width,l=r?n.top:n.left,h=r?n.bottom:n.right,f=!1;if(!o)if(s&&Ve<u*i){if(!He&&(1===ze?c>l+u*a/2:c<h-u*a/2)&&(He=!0),He)f=!0;else if(1===ze?c<l+Ve:c>h-Ve)return-ze}else if(c>l+u*(1-i)/2&&c<h-u*(1-i)/2)return function(e){return ne(ye)<ne(e)?1:-1}(t);if((f=f||o)&&(c<l+u*a/2||c>h-u*a/2))return c>l+u/2?1:-1;return 0}(e,o,n,i,O?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,We,Fe===o))){var x=ne(ye);do{x-=v,m=me.children[x]}while(m&&("none"===J(m,"display")||m===ge))}if(0===v||m===o)return A(!1);Fe=o,ze=v;var k=o.nextElementSibling,S=!1,E=ct(Oe,a,ye,t,o,n,e,S=1===v);if(!1!==E)return 1!==E&&-1!==E||(S=1===E),Je=!0,setTimeout(lt,30),M(),S&&!k?a.appendChild(ye):o.parentNode.insertBefore(ye,S?k:o),w&&se(w,0,_-w.scrollTop),me=ye.parentNode,void 0===y||We||(Ve=Math.abs(y-Z(o)[j])),P(),A(!0)}if(a.contains(ye))return A(!1)}return!1}function T(s,c){be(s,d,C({evt:e,isOwner:l,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:h,fromSortable:f,target:o,completed:A,onMove:function(n,r){return ct(Oe,a,ye,t,n,Z(n),e,r)},changed:P},c))}function M(){T("dragOverAnimationCapture"),d.captureAnimationState(),d!==f&&f.captureAnimationState()}function A(t){return T("dragOverCompleted",{insertion:t}),t&&(l?u._hideClone():u._showClone(d),d!==f&&(Y(ye,Ce?Ce.options.ghostClass:u.options.ghostClass,!1),Y(ye,s.ghostClass,!0)),Ce!==d&&d!==st.active?Ce=d:d===st.active&&Ce&&(Ce=null),f===d&&(d._ignoreWhileAnimating=o),d.animateAll((function(){T("dragOverAnimationComplete"),d._ignoreWhileAnimating=null})),d!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(o===ye&&!ye.animated||o===a&&!o.animated)&&(Fe=null),s.dragoverBubble||e.rootEl||o===document||(ye.parentNode[ue]._isOutsideThisEl(e.target),!t&&at(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function P(){Se=ne(ye),Te=ne(ye,s.draggable),ve({sortable:d,name:"change",toEl:a,newIndex:Se,newDraggableIndex:Te,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){U(document,"mousemove",this._onTouchMove),U(document,"touchmove",this._onTouchMove),U(document,"pointermove",this._onTouchMove),U(document,"dragover",at),U(document,"mousemove",at),U(document,"touchmove",at)},_offUpEvents:function(){var e=this.el.ownerDocument;U(e,"mouseup",this._onDrop),U(e,"touchend",this._onDrop),U(e,"pointerup",this._onDrop),U(e,"touchcancel",this._onDrop),U(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;Se=ne(ye),Te=ne(ye,n.draggable),be("drop",this,{evt:e}),me=ye&&ye.parentNode,Se=ne(ye),Te=ne(ye,n.draggable),st.eventCanceled||(Be=!1,We=!1,He=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),dt(this.cloneId),dt(this._dragStartId),this.nativeDraggable&&(U(document,"drop",this),U(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),R&&J(document.body,"user-select",""),J(ye,"transform",""),e&&(Ne&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ge&&ge.parentNode&&ge.parentNode.removeChild(ge),(Oe===me||Ce&&"clone"!==Ce.lastPutMode)&&_e&&_e.parentNode&&_e.parentNode.removeChild(_e),ye&&(this.nativeDraggable&&U(ye,"dragend",this),ut(ye),ye.style["will-change"]="",Ne&&!Be&&Y(ye,Ce?Ce.options.ghostClass:this.options.ghostClass,!1),Y(ye,this.options.chosenClass,!1),ve({sortable:this,name:"unchoose",toEl:me,newIndex:null,newDraggableIndex:null,originalEvent:e}),Oe!==me?(Se>=0&&(ve({rootEl:me,name:"add",toEl:me,fromEl:Oe,originalEvent:e}),ve({sortable:this,name:"remove",toEl:me,originalEvent:e}),ve({rootEl:me,name:"sort",toEl:me,fromEl:Oe,originalEvent:e}),ve({sortable:this,name:"sort",toEl:me,originalEvent:e})),Ce&&Ce.save()):Se!==ke&&Se>=0&&(ve({sortable:this,name:"update",toEl:me,originalEvent:e}),ve({sortable:this,name:"sort",toEl:me,originalEvent:e})),st.active&&(null!=Se&&-1!==Se||(Se=ke,Te=Ee),ve({sortable:this,name:"end",toEl:me,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){be("nulling",this),Oe=ye=me=ge=je=_e=we=xe=Ae=Pe=Ne=Se=Te=ke=Ee=Fe=ze=Ce=Me=st.dragged=st.ghost=st.clone=st.active=null,Ke.forEach((function(e){e.checked=!0})),Ke.length=Ie=De=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ye&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,a=this.options;r<i;r++)q(e=n[r],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||ht(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,r){var i=n.children[r];q(i,this.options.draggable,n,!1)&&(t[e]=i)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return q(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=de.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&nt(n)},destroy:function(){be("destroy",this);var e=this.el;e[ue]=null,U(e,"mousedown",this._onTapStart),U(e,"touchstart",this._onTapStart),U(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(U(e,"dragover",this),U(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),qe.splice(qe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!xe){if(be("hideClone",this),st.eventCanceled)return;J(_e,"display","none"),this.options.removeCloneOnHide&&_e.parentNode&&_e.parentNode.removeChild(_e),xe=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(xe){if(be("showClone",this),st.eventCanceled)return;Oe.contains(ye)&&!this.options.group.revertClone?Oe.insertBefore(_e,ye):je?Oe.insertBefore(_e,je):Oe.appendChild(_e),this.options.group.revertClone&&this.animate(ye,_e),J(_e,"display",""),xe=!1}}else this._hideClone()}},Xe&&V(document,"touchmove",(function(e){(st.active||Be)&&e.cancelable&&e.preventDefault()})),st.utils={on:V,off:U,css:J,find:X,is:function(e,t){return!!q(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:oe,closest:q,toggleClass:Y,clone:ce,index:ne,nextTick:ft,cancelNextTick:dt,detectDirection:tt,getChild:ee},st.get=function(e){return e[ue]},st.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(st.utils=C({},st.utils,e.utils)),de.mount(e)}))},st.create=function(e,t){return new st(e,t)},st.version="1.10.2";var pt,bt,vt,yt,mt,gt,Ot=[],jt=!1;function wt(){Ot.forEach((function(e){clearInterval(e.pid)})),Ot=[]}function _t(){clearInterval(gt)}var xt=oe((function(e,t,n,r){if(t.scroll){var i,a=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,c=t.scrollSpeed,u=Q(),l=!1;bt!==n&&(bt=n,wt(),pt=t.scroll,i=t.scrollFn,!0===pt&&(pt=ie(n,!0)));var h=0,f=pt;do{var d=f,p=Z(d),b=p.top,v=p.bottom,y=p.left,m=p.right,g=p.width,O=p.height,j=void 0,w=void 0,_=d.scrollWidth,x=d.scrollHeight,k=J(d),S=d.scrollLeft,E=d.scrollTop;d===u?(j=g<_&&("auto"===k.overflowX||"scroll"===k.overflowX||"visible"===k.overflowX),w=O<x&&("auto"===k.overflowY||"scroll"===k.overflowY||"visible"===k.overflowY)):(j=g<_&&("auto"===k.overflowX||"scroll"===k.overflowX),w=O<x&&("auto"===k.overflowY||"scroll"===k.overflowY));var T=j&&(Math.abs(m-a)<=s&&S+g<_)-(Math.abs(y-a)<=s&&!!S),M=w&&(Math.abs(v-o)<=s&&E+O<x)-(Math.abs(b-o)<=s&&!!E);if(!Ot[h])for(var C=0;C<=h;C++)Ot[C]||(Ot[C]={});Ot[h].vx==T&&Ot[h].vy==M&&Ot[h].el===d||(Ot[h].el=d,Ot[h].vx=T,Ot[h].vy=M,clearInterval(Ot[h].pid),0==T&&0==M||(l=!0,Ot[h].pid=setInterval(function(){r&&0===this.layer&&st.active._onTouchMove(mt);var t=Ot[this.layer].vy?Ot[this.layer].vy*c:0,n=Ot[this.layer].vx?Ot[this.layer].vx*c:0;"function"===typeof i&&"continue"!==i.call(st.dragged.parentNode[ue],n,t,e,mt,Ot[this.layer].el)||se(Ot[this.layer].el,n,t)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&f!==u&&(f=ie(f,!1)));jt=l}}),30),kt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var c=n||i;o();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,l=document.elementFromPoint(u.clientX,u.clientY);s(),c&&!c.el.contains(l)&&(a("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function St(){}function Et(){}St.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=ee(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:kt},M(St,{pluginName:"revertOnSpill"}),Et.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:kt},M(Et,{pluginName:"removeOnSpill"});st.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?V(document,"dragover",this._handleAutoScroll):this.options.supportPointer?V(document,"pointermove",this._handleFallbackAutoScroll):t.touches?V(document,"touchmove",this._handleFallbackAutoScroll):V(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?U(document,"dragover",this._handleAutoScroll):(U(document,"pointermove",this._handleFallbackAutoScroll),U(document,"touchmove",this._handleFallbackAutoScroll),U(document,"mousemove",this._handleFallbackAutoScroll)),_t(),wt(),clearTimeout(H),H=void 0},nulling:function(){mt=bt=pt=jt=gt=vt=yt=null,Ot.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(r,i);if(mt=e,t||D||I||R){xt(e,this.options,a,t);var o=ie(a,!0);!jt||gt&&r===vt&&i===yt||(gt&&_t(),gt=setInterval((function(){var a=ie(document.elementFromPoint(r,i),!0);a!==o&&(o=a,wt()),xt(e,n.options,a,t)}),10),vt=r,yt=i)}else{if(!this.options.bubbleScroll||ie(a,!0)===Q())return void wt();xt(e,this.options,ie(a,!1),!1)}}},M(e,{pluginName:"scroll",initializeByDefault:!0})}),st.mount(Et,St);var Tt=st;function Mt(e){if(e)return null!=e.listMode?e.listMode:void 0}function Ct(e){if(e)return"hide-children"===e.listMode||"wmts"===e.type?void 0:"group"===e.type?"layers":"sublayers"}function At(e,t){e&&e.sort((function(e,n){var r=t.indexOf(e.uid),i=t.indexOf(n.uid);return r>i?-1:r<i?1:0}))}function Pt(e){var t=null==e?void 0:e.layer;return t&&"group"===t.type?t.layers:null}function It(e,t){var n,r=null==(n=e.layer)?void 0:n.uid;return r&&t.find((function(e){var t;return(null==(t=e.layer)?void 0:t.uid)===r}))}var Dt,Lt=n(7),Rt=n.n(Lt),Nt=n(16),Ft=n(37),zt=n(204),Vt=n(209),Ut=n(271),Bt=n(368),Gt=n(105),qt=n(302),Ht=(n(18),Dt=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).displayValueEnabled=!1,r.max=1,r.min=0,r.step=.1,r.type="slider",r.value=null,r}return Object(o.a)(n,[{key:"clone",value:function(){return new Dt({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}}]),n}(Vt.a));Object(u.a)([Object(f.b)()],Ht.prototype,"displayValueEnabled",void 0),Object(u.a)([Object(f.b)()],Ht.prototype,"max",void 0),Object(u.a)([Object(f.b)()],Ht.prototype,"min",void 0),Object(u.a)([Object(f.b)()],Ht.prototype,"step",void 0),Object(u.a)([Object(f.b)()],Ht.prototype,"value",void 0);var Wt=Ht=Dt=Object(u.a)([Object(v.a)("esri.support.Action.ActionSlider")],Ht),Yt=n(212),Jt="esri-layer-list-panel__content",Kt=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e,n){var i;return Object(a.a)(this,r),(i=t.call(this,e,n))._legend=null,i._handles=new g.a,i.content=null,i.image=null,i.listItem=null,i.open=!1,i.visible=!0,i}return Object(o.a)(r,[{key:"initialize",value:function(){var e=this;this.own([Object(O.a)(this,"content",(function(t){return e._createLegend(t)}))])}},{key:"destroy",value:function(){var e=this._legend;e&&e.destroy(),this._legend=null}},{key:"className",get:function(){var e=this.image,t=this._getFirstWidget();return this._get("className")||!e&&t?t.iconClass:""},set:function(e){void 0!==e?this._override("className",e):this._clearOverride("className")}},{key:"title",get:function(){var e=this._getFirstWidget();return this._get("title")||e?e.label:""},set:function(e){void 0!==e?this._override("title",e):this._clearOverride("title")}},{key:"render",value:function(){return Object(k.a)("div",{class:"esri-layer-list-panel"},this._renderContents())}},{key:"_renderContent",value:function(e){var t=this._legend,n=this.listItem;return e?"legend"===e?n&&n.view&&n.layer&&t?Object(k.a)("div",{class:this.classes(Jt,"esri-layer-list-panel__content--legend"),key:t},t.render()):null:"string"==typeof e?Object(k.a)("div",{class:this.classes(Jt,"esri-layer-list-panel__content--string"),key:e,innerHTML:e}):Object(Yt.b)(e)?Object(k.a)("div",{class:this.classes(Jt,"esri-layer-list-panel__content--widget"),key:e},e.render()):e instanceof HTMLElement?Object(k.a)("div",{class:this.classes(Jt,"esri-layer-list-panel__content--html-element"),key:e,bind:e,afterCreate:this._attachToNode}):null:null}},{key:"_renderContents",value:function(){var e=this,t=this.content;return Array.isArray(t)?t.map((function(t){return e._renderContent(t)})):this._renderContent(t)}},{key:"_getLegendOptions",value:function(e){if(e){var t=e.layer,n=e.view;return t&&n?{view:n,layerInfos:[{layer:t,title:""}]}:void 0}}},{key:"_createLegend",value:function(e){var t=this;this._hasLegend(e)&&!this._legend&&Promise.resolve().then(n.bind(null,888)).then((function(e){var n=e.default,r=t._handles,i=t.listItem,a=new n(t._getLegendOptions(i));t._legend=a,t.notifyChange("className"),t.notifyChange("title");var o=Object(O.a)(t,["listItem.view","listItem.layer"],(function(){return t._updateLegend(a)}));r.add(o,"legends"),t.scheduleRender()}))}},{key:"_hasLegend",value:function(e){var t="legend";return e===t||!!Array.isArray(e)&&e.some((function(e){return e===t}))}},{key:"_attachToNode",value:function(e){e.appendChild(this)}},{key:"_updateLegend",value:function(e){var t=this.listItem;if(t){var n=t.layer,r=t.view;e.view=r,e.layerInfos=[{layer:n,title:null}],this.scheduleRender()}}},{key:"_getWidget",value:function(e){return"legend"===e?this._legend:Object(Yt.b)(e)?e:null}},{key:"_getFirstWidget",value:function(){var e=this,t=this.content;if(Array.isArray(t)){var n=null;return t.some((function(t){var r=e._getWidget(t);return r&&(n=r),!!r})),n}return this._getWidget(t)}}]),r}(Object(zt.a)(S.a));Object(u.a)([Object(f.b)({dependsOn:["content","image"]})],Kt.prototype,"className",null),Object(u.a)([Object(f.b)(),Object(_.a)()],Kt.prototype,"content",void 0),Object(u.a)([Object(f.b)()],Kt.prototype,"image",void 0),Object(u.a)([Object(f.b)()],Kt.prototype,"listItem",void 0),Object(u.a)([Object(f.b)({dependsOn:["content"]})],Kt.prototype,"title",null),Object(u.a)([Object(f.b)(),Object(_.a)()],Kt.prototype,"open",void 0),Object(u.a)([Object(f.b)()],Kt.prototype,"visible",void 0);var Xt,Qt=Kt=Object(u.a)([Object(v.a)("esri.widgets.LayerList.ListItemPanel")],Kt),Zt=m.a.ofType({key:"type",defaultKeyValue:"button",base:Vt.a,typeMap:{button:Ut.a,toggle:Bt.a,slider:Wt}}),$t=m.a.ofType(Zt),en=Xt=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).actionsSections=new $t,r.actionsOpen=!1,r.children=new(m.a.ofType(Xt)),r.childrenSortable=!0,r.error=null,r.layer=null,r.layerView=null,r.open=!1,r.panel=null,r.parent=null,r.sortable=!0,r.view=null,r.visible=null,r}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this;this.handles.add([Object(O.a)(this,"layer",(function(t){return e._watchLayerProperties(t)})),Object(O.a)(this,"view",(function(t){return e._updateChildren(t)})),Object(O.a)(this,"panel",(function(t){return e._setListItemOnPanel(t)})),Object(O.a)(this,["layer","view"],(function(){return e._getLayerView()}))])}},{key:"destroy",value:function(){this.view=null}},{key:"castPanel",value:function(e){return this.get("panel.open")&&!e.hasOwnProperty("open")&&(e.open=!0),e?new Qt(e):null}},{key:"title",get:function(){var e=this.get("layer.layer");return(!e||e&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(e){void 0!==e?this._override("title",e):this._clearOverride("title")}},{key:"updating",get:function(){var e=this.layerView;return e?e.updating:this._isLayerUpdating(this.layer)}},{key:"visibleAtCurrentScale",get:function(){return!function(e,t){if(!e||isNaN(t))return!1;var n=function(e){if(e)return null!=e.minScale?e.minScale:void 0}(e),r=function(e){if(e)return null!=e.maxScale?e.maxScale:void 0}(e),i=!isNaN(n)&&n>0&&t>n,a=!isNaN(r)&&r>0&&t<r;return i||a}(this.layer,this.get("view.scale"))}},{key:"visibilityMode",get:function(){return function(e){if(!e)return"inherited";var t=e.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"==typeof t)return t?"independent":"inherited";var n=e.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"==typeof n?n?"independent":"inherited":null!=e.visibilityMode?e.visibilityMode:"independent"}(this.layer)}},{key:"clone",value:function(){return new Xt({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})}},{key:"_setListItemOnPanel",value:function(e){e&&(e.listItem=this)}},{key:"_updateChildren",value:function(e){var t=this.children;t&&t.forEach((function(t){return t.view=e}))}},{key:"_addChildren",value:function(e){var t=this;if(this.handles.remove("child-list-mode"),this.children.removeAll(),e){e.forEach((function(n){t.handles.add(Object(O.d)(n,"listMode",(function(){return t._addChildren(e)})),"child-list-mode")}));var n=[];e.filter((function(e){return"hide"!==Mt(e)})).forEach((function(e){if(function(e){return"hide"!==Mt(e)}(e)){var r=new Xt({layer:e,parent:t,view:t.view});n.unshift(r)}})),this.children.addMany(n)}}},{key:"_watchSublayerChanges",value:function(e){var t=this;e&&this.handles.add(e.on("change",(function(){t._addChildren(e)})),"layer")}},{key:"_initializeChildLayers",value:function(e){this._addChildren(e),this._watchSublayerChanges(e)}},{key:"_watchLayerProperties",value:function(e){var t=this;if(this.handles&&(this.handles.remove("layer"),this.handles.remove("child-list-mode"),e))if(this.handles.add(Object(O.d)(e,"listMode",(function(){return t._watchLayerProperties(e)})),"layer"),"hide-children"!==Mt(e)){var n=Ct(e);n&&this.handles.add(Object(O.a)(e,n,(function(){e.hasOwnProperty(n)&&t._initializeChildLayers(e[n])})),"layer")}else this.children.removeAll()}},{key:"_getLayerView",value:function(){var e=Object(Nt.a)(Rt.a.mark((function e(){var t,n,r;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.layer,n=this.view,!t||!n){e.next=13;break}return e.prev=2,e.next=5,n.whenLayerView(t);case 5:if((r=e.sent).layer===this.layer){e.next=8;break}return e.abrupt("return");case 8:this._set("layerView",r),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"_isLayerUpdating",value:function(e){return!(e instanceof qt.a)&&e&&"loading"===e.loadStatus}}]),n}(Object(zt.a)(Object(Gt.b)(Ft.a)));Object(u.a)([Object(f.b)({type:$t})],en.prototype,"actionsSections",void 0),Object(u.a)([Object(f.b)()],en.prototype,"actionsOpen",void 0),Object(u.a)([Object(f.b)({type:m.a})],en.prototype,"children",void 0),Object(u.a)([Object(f.b)()],en.prototype,"childrenSortable",void 0),Object(u.a)([Object(d.a)("layer.loadError?")],en.prototype,"error",void 0),Object(u.a)([Object(f.b)()],en.prototype,"layer",void 0),Object(u.a)([Object(f.b)({readOnly:!0})],en.prototype,"layerView",void 0),Object(u.a)([Object(f.b)()],en.prototype,"open",void 0),Object(u.a)([Object(f.b)({type:Qt})],en.prototype,"panel",void 0),Object(u.a)([Object(p.a)("panel")],en.prototype,"castPanel",null),Object(u.a)([Object(f.b)()],en.prototype,"parent",void 0),Object(u.a)([Object(f.b)()],en.prototype,"sortable",void 0),Object(u.a)([Object(f.b)({dependsOn:["layer.layer?.loaded","layer.title"]})],en.prototype,"title",null),Object(u.a)([Object(f.b)({dependsOn:["layer.loadStatus?","layerView.updating"],readOnly:!0})],en.prototype,"updating",null),Object(u.a)([Object(f.b)({value:null})],en.prototype,"view",void 0),Object(u.a)([Object(d.a)("layer.visible")],en.prototype,"visible",void 0),Object(u.a)([Object(f.b)({dependsOn:["layer.minScale?","layer.maxScale?","view.scale"],readOnly:!0})],en.prototype,"visibleAtCurrentScale",null),Object(u.a)([Object(f.b)({dependsOn:["layer.visibilityMode?","layer.capabilities?.exportMap?.supportsSublayerVisibility","layer.layer?.capabilities?.exportMap?.supportsSublayerVisibility"],readOnly:!0})],en.prototype,"visibilityMode",null);var tn=en=Xt=Object(u.a)([Object(v.a)("esri.widgets.LayerList.ListItem")],en),nn=n(86),rn="view-layers",an="map-layers",on="layer-views",sn="layer-list-mode",cn=m.a.ofType(tn),un=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e))._handles=new g.a,r.listItemCreatedFunction=null,r.operationalItems=new cn,r.view=null,r}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this;this._handles.add(Object(O.a)(this,["view","view.ready"],(function(){return e._viewHandles()})),"view")}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null,this.view=null,this.operationalItems.removeAll()}},{key:"state",get:function(){var e=this.get("view");return this.get("view.ready")?"ready":e?"loading":"disabled"}},{key:"triggerAction",value:function(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}},{key:"moveListItem",value:function(e,t,n,r){var i,a,o=null==e?void 0:e.layer;if(o){var s=null==(i=this.view)||null==(a=i.map)?void 0:a.layers,c=t?Pt(t):s,u=n?Pt(n):s;if(c&&u){var l=this.operationalItems,h=(null==t?void 0:t.children)||l,f=(null==n?void 0:n.children)||l,d=u.length-r;e.parent=n||null,h.includes(e)&&h.remove(e),c.includes(o)&&c.remove(o),f.includes(e)||f.add(e,d),u.includes(o)||u.add(o,d)}}}},{key:"_createLayerViewHandles",value:function(e){var t=this,n=this._handles;n.remove(on),this._compileList(),e&&n.add(e.on("change",(function(){return t._compileList()})),on)}},{key:"_createMapLayerHandles",value:function(e){var t=this,n=this._handles;n.remove(an),this._compileList(),e&&n.add(e.on("change",(function(){return t._compileList()})),an)}},{key:"_watchItemProperties",value:function(e){var t=this;this._handles.add([e.children.on("change",(function(){t._modifyListItemChildren(e.children)}))],"children-change-".concat(e.uid))}},{key:"_modifyListItemChildren",value:function(e){var t=this;e.forEach((function(e){return t._modifyListItem(e)}))}},{key:"_modifyListItem",value:function(e){if("function"==typeof this.listItemCreatedFunction){var t={item:e};this.listItemCreatedFunction.call(null,t)}this._modifyListItemChildren(e.children)}},{key:"_createListItem",value:function(e){var t=this.view,n=new tn({layer:e,view:t});return this._watchItemProperties(n),n}},{key:"_removeAllItems",value:function(){var e=this._handles,t=this.operationalItems;t.forEach((function(t){e.remove("children-change-".concat(t.uid))})),t.removeAll()}},{key:"_getViewableLayers",value:function(e){if(e)return e.filter((function(e){return"hide"!==Mt(e)}))}},{key:"_watchLayersListMode",value:function(e){var t=this,n=this._handles;n.remove(sn),e&&e.forEach((function(e){n.add(Object(O.d)(e,"listMode",(function(){return t._compileList()})),sn)}))}},{key:"_compileList",value:function(){var e=this.get("view.map.layers");this._watchLayersListMode(e);var t=this._getViewableLayers(e);t&&t.length?(this._createNewItems(t),this._modifyOrRemoveItems(t),this._sortItems(t)):this._removeAllItems()}},{key:"_createNewItems",value:function(e){var t=this,n=this.operationalItems;e.forEach((function(e){n.find((function(t){return t.layer===e}))||n.add(t._createListItem(e))}))}},{key:"_modifyOrRemoveItems",value:function(e){var t=this,n=this._handles,r=this.operationalItems,i=[];r.forEach((function(r){r&&e&&e.find((function(e){return r.layer===e}))?t._modifyListItem(r):(n.remove("children-change-".concat(r.uid)),i.push(r))})),r.removeMany(i)}},{key:"_sortItems",value:function(e){this.operationalItems.sort((function(t,n){var r=e.indexOf(t.layer),i=e.indexOf(n.layer);return r>i?-1:r<i?1:0}))}},{key:"_viewHandles",value:function(){var e=this,t=this._handles,n=this.view;t.remove([an,on,rn]),this._compileList(),n&&n.ready&&t.add([Object(O.a)(this,"view.map.layers",(function(t){return e._createMapLayerHandles(t)})),Object(O.a)(this,"view.layerViews",(function(t){return e._createLayerViewHandles(t)})),Object(O.a)(this,"listItemCreatedFunction",(function(){return e._compileList()}))],rn)}}]),n}(nn.a.EventedAccessor);Object(u.a)([Object(f.b)()],un.prototype,"listItemCreatedFunction",void 0),Object(u.a)([Object(f.b)({type:cn})],un.prototype,"operationalItems",void 0),Object(u.a)([Object(f.b)({dependsOn:["view.ready"],readOnly:!0})],un.prototype,"state",null),Object(u.a)([Object(f.b)()],un.prototype,"view",void 0);var ln=un=Object(u.a)([Object(v.a)("esri.widgets.LayerList.LayerListViewModel")],un);function hn(e,t,n){e.splice(n,0,e.splice(t,1)[0])}var fn=m.a.ofType(tn),dn="esri-layer-list__list",pn="esri-layer-list__list--independent",bn="esri-layer-list__item",vn="esri-layer-list__item-actions-menu-item",yn="esri-layer-list__item-actions-menu-item--active",mn="esri-layer-list__item-action-image",gn="esri-layer-list__item-label",On="esri-layer-list__item-toggle",jn="esri-icon-default-action",wn="exclusive",_n="inherited";function xn(e){var t=e.actionsOpen,n=e.children;t&&(e.actionsOpen=!1),n.forEach((function(e){return xn(e)}))}var kn=h.a.getLogger("esri.widgets.LayerList"),Sn={statusIndicators:!0},En=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var o;return Object(a.a)(this,n),(o=t.call(this,e,r))._handles=new g.a,o._sortableNodes=new Map,o._sortableMap=new Map,o._focusSortUid=null,o._newUI=Object(l.a)("esri-layerlist-new-ui"),o.visibleItems=null,o.iconClass="esri-icon-layers",o.label=void 0,o.listItemCreatedFunction=null,o.messages=null,o.messagesCommon=null,o.multipleSelectionEnabled=!1,o.operationalItems=null,o.selectionEnabled=!1,o.selectedItems=new fn,o.view=null,o.viewModel=new ln,o.visibleElements=Object(i.a)({},Sn),o._onSortableSort=function(e){var t=e.to,n=e.from,r=e.item,i=e.newIndex;n&&t&&(n===t?o._sortLayers(o._sortableMap.get(n.dataset.group)):o._moveLayerFromChildList({to:t,from:n,item:r,newIndex:i}))},o._sortableCanPut=function(e,t,n){var r,i,a=e.el.dataset.group,o=t.el.dataset.group,s=e.el["data-item"],c=n["data-item"],u=null==c||null==(r=c.layer)?void 0:r.type,l=null==s||null==(i=s.layer)?void 0:i.type;return a&&o&&u&&!("group"===l&&"group"===u)},o._sortableCanPull=function(e,t,n){var r,i=e.el.dataset.group,a=t.el.dataset.group,o=n["data-item"],s=null==o||null==(r=o.layer)?void 0:r.type;return i&&a&&!!s},o._onSortableEnd=function(e){var t=e.oldIndex,n=e.from,r=e.to,i=e.item;n!==r&&n.insertBefore(i,n.children[t])},o}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this,t=this.operationalItems;this._setVisibleItems(t),this.own(Object(O.b)(this,"operationalItems","change",(function(){return e._itemsChanged(t)})),Object(O.a)(this,"selectionEnabled",(function(){return e._toggleAllSorting()})))}},{key:"destroy",value:function(){this._destroySortables(),this._handles.destroy(),this._handles=null}},{key:"statusIndicatorsVisible",set:function(e){Object(b.b)(kn,"statusIndicatorsVisible",{replacement:"visibleElements.statusIndicators",version:"4.15"}),this.visibleElements=Object(i.a)(Object(i.a)({},this.visibleElements),{},{statusIndicators:e})}},{key:"castVisibleElements",value:function(e){return Object(i.a)(Object(i.a)({},Sn),e)}},{key:"triggerAction",value:function(e,t){this.viewModel.triggerAction(e,t)}},{key:"render",value:function(){var e,t,n=this.visibleItems,i=this._newUI,a=null==(t=this.viewModel)?void 0:t.state,o=(e={},Object(r.a)(e,"esri-layer-list--new-ui",i),Object(r.a)(e,"esri-hidden","loading"===a),Object(r.a)(e,"esri-disabled","disabled"===a),e);return Object(k.a)("div",{class:this.classes("esri-layer-list esri-widget esri-widget--panel",o)},null!=n&&n.length?this.renderItems():this.renderNoItems())}},{key:"renderNoItems",value:function(){return Object(k.a)("div",{class:"esri-layer-list__no-items"},this.messages.noItemsToDisplay)}},{key:"renderItems",value:function(){var e=this,t=this.visibleItems,n=this.selectionEnabled,r=this.messages;return Object(k.a)("ul",{"aria-label":r.widgetLabel,role:n?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":"root",bind:this,class:this.classes(dn,"esri-layer-list__list--root",pn)},null==t?void 0:t.map((function(t){return e.renderItem(t,null)})).toArray())}},{key:"renderActionsMenuIcon",value:function(e,t){var n=this.messages,i=Object(r.a)({},yn,e.actionsOpen),a=e.actionsOpen?n.closeActions:n.openActions;return Object(k.a)("div",{key:"actions-menu-toggle","data-item":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(vn,i),tabindex:"0",role:"button","aria-controls":t,"aria-label":a,title:a},Object(k.a)("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"}))}},{key:"renderActionsMenu",value:function(e,t,n,r){var i=e.panel,a=i&&i.visible?this.renderPanelButton(i):null,o=1===n&&this._getSingleActionButton(t),s=o?this.renderAction({item:e,action:o,singleAction:!0}):null,c=!o&&n?this.renderActionsMenuIcon(e,r):null;return c||a||o?Object(k.a)("div",{key:"actions-menu",class:"esri-layer-list__item-actions-menu"},a,s,c):null}},{key:"renderChildList",value:function(e,t){var n,i,a=this,o=this.selectionEnabled,s=e.visibilityMode,c=e.children,u=!!e.error,l=!!c.length&&!u,h=!l&&o&&"group"===(null==(i=e.layer)?void 0:i.type),f=wn,d=_n,p=(n={},Object(r.a)(n,"esri-layer-list__list--exclusive",s===f),Object(r.a)(n,"esri-layer-list__list--inherited",s===d),Object(r.a)(n,pn,s!==d&&s!==f),n);return l||h?Object(k.a)("ul",{bind:this,key:"list-items",id:t,"data-group":e.uid,"data-item":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(dn,p),"aria-expanded":e.open?"true":"false",role:o?"listbox":s===f?"radiogroup":"group",hidden:!e.open&&!h||null},null==c?void 0:c.map((function(t){return a.renderItem(t,e)})).toArray()):null}},{key:"renderChildrenToggle",value:function(e,t){var n=this.messagesCommon,i=e.children,a=!!e.error,o=!!i.length&&!a,s=Object(r.a)({},"esri-layer-list__child-toggle--open",e.open),c=e.open?n.collapse:n.expand;return o?Object(k.a)("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":e,key:"toggle-children",class:this.classes("esri-layer-list__child-toggle",s),tabindex:"0",role:"button","aria-controls":t,"aria-label":c,title:c},Object(k.a)("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),Object(k.a)("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened","esri-icon-down-arrow")}),Object(k.a)("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null}},{key:"renderError",value:function(e){return e.error?Object(k.a)("div",{key:"esri-layer-list__error",class:"esri-layer-list__item-error-message",role:"alert"},Object(k.a)("span",null,this.messages.layerError)):null}},{key:"renderItemContent",value:function(e,t,n){var r=this.id,i="".concat(r,"_").concat(e.uid),a="".concat(i,"_actions"),o="".concat(i,"__list"),s=e.panel,c=this._filterActions(e.actionsSections),u=this._countActions(c);return[Object(k.a)("div",{key:"list-item-container",class:"esri-layer-list__item-container"},this.renderChildrenToggle(e,o),this.renderLabel(e,t,n),this.renderActionsMenu(e,c,u,a)),this.renderError(e),u?this.renderActionsSections(e,c,a):null,s&&s.open?s.render():null,this.renderChildList(e,o)]}},{key:"renderItem",value:function(e,t){var n,i=this._newUI,a=this.id,o=this.selectionEnabled,s=this.selectedItems,c=this.visibleElements,u=e.children,l="".concat("".concat(a,"_").concat(e.uid),"__title"),h=!!e.error,f=!!u.length&&!h,d=(n={},Object(r.a)(n,"esri-layer-list__item--has-children",f),Object(r.a)(n,"esri-layer-list__item--error",!!h),Object(r.a)(n,"esri-layer-list__item--updating",e.updating&&!t&&c.statusIndicators),Object(r.a)(n,"esri-layer-list__item--invisible",i&&!e.visible),Object(r.a)(n,"esri-layer-list__item--invisible-at-scale",!e.visibleAtCurrentScale),Object(r.a)(n,"esri-layer-list__item--selectable",o),n);if(o){var p,b={"data-layer-uid":null==(p=e.layer)?void 0:p.uid,"data-sort-filter":(!e.sortable).toString()};return Object(k.a)("li",Object.assign({key:"item-with-selection-".concat(e.uid),bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(bn,d),"aria-labelledby":l,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":e,"data-group":t?t.uid:"root",tabIndex:0,"aria-selected":It(e,s)?"true":"false",role:"option"},b),this.renderItemContent(e,t,l))}return Object(k.a)("li",{key:"item-no-selection-".concat(e.uid),bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(bn,d),"aria-labelledby":l},this.renderItemContent(e,t,l))}},{key:"renderItemTitle",value:function(e,t){var n=this.messages,r=e.title||n.untitledLayer,i=e.visibleAtCurrentScale?r:"".concat(r," (").concat(n.layerInvisibleAtScale,")");return Object(k.a)("span",{key:"layer-title-container",id:t,title:i,"aria-label":i,class:"esri-layer-list__item-title"},r)}},{key:"renderItemToggleIcon",value:function(e,t){var n,i=this._newUI,a=wn,o=t&&t.visibilityMode,s=(n={},Object(r.a)(n,"esri-layer-list__item-toggle-icon",i),Object(r.a)(n,"esri-layer-list__item-toggle-icon",i&&o!==a),Object(r.a)(n,"esri-layer-list__item-radio-icon",i&&o===a),Object(r.a)(n,"esri-icon-radio-checked",o===a&&e.visible),Object(r.a)(n,"esri-icon-radio-unchecked",o===a&&!e.visible),Object(r.a)(n,"esri-icon-visible",o!==a&&e.visible),Object(r.a)(n,"esri-icon-non-visible",o!==a&&!e.visible),n);return Object(k.a)("span",{key:"item-toggle-icon",class:this.classes(s),"aria-hidden":"true"})}},{key:"renderItemToggle",value:function(e,t,n){var r=this.selectionEnabled,i=wn,a=t&&t.visibilityMode,o=a===i?"radio":"switch";return Object(k.a)("span",r?{key:"item-toggle-selection-enabled",class:On,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":a,tabIndex:0,"aria-checked":e.visible?"true":"false",role:o,"aria-labelledby":n}:{key:"item-toggle",class:On},this.renderItemToggleIcon(e,t))}},{key:"renderItemError",value:function(e){return e.error?Object(k.a)("span",{key:"notice-triangle","aria-hidden":"true",class:"esri-icon-notice-triangle"}):null}},{key:"renderLabel",value:function(e,t,n){var r=this.selectionEnabled,i=this._newUI,a=_n,o=wn,s=null==t?void 0:t.visibilityMode,c=s===o?"radio":"switch",u=[this.renderItemToggle(e,t,n),this.renderItemTitle(e,n)];i&&u.reverse();var l=Object(k.a)("div",r?{key:"item-label-no-selection-".concat(e.uid),class:gn}:{key:"item-label-with-selection-".concat(e.uid),class:gn,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":s,tabIndex:0,"aria-checked":e.visible?"true":"false",role:c,"aria-labelledby":n},u);return s===a||e.error?Object(k.a)("div",{key:"item-label-container-".concat(e.uid),class:gn},this.renderItemError(e),this.renderItemTitle(e,n)):l}},{key:"renderPanelButton",value:function(e){var t=e.className,n=e.open,i=e.title,a=e.image||t?t:jn,o=this._getIconImageStyles(e),s=Object(r.a)({},yn,n),c=Object(r.a)({},mn,!!o["background-image"]);return a&&(c[a]=!!a),Object(k.a)("div",{key:"panel-".concat(e.uid),bind:this,"data-panel":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(vn,s),role:"button",tabindex:"0",title:i,"aria-label":i},Object(k.a)("span",{class:this.classes(c),styles:o}))}},{key:"renderActionsSections",value:function(e,t,n){var r=this,i=t.toArray().map((function(t,n){return Object(k.a)("ul",{key:"".concat(e,"-action-section-").concat(n),class:"esri-layer-list__item-actions-list"},r.renderActionSection(e,t))}));return Object(k.a)("div",{role:"group","aria-expanded":e.actionsOpen?"true":"false",key:"actions-section",id:n,class:"esri-layer-list__item-actions",hidden:!e.actionsOpen||null},i)}},{key:"renderActionSection",value:function(e,t){var n=this;return(t&&t.toArray()).map((function(t){return n.renderAction({item:e,action:t})}))}},{key:"renderActionIcon",value:function(e){var t,n=e.active,i=e.className,a=this._getIconImageStyles(e),o="button"!==e.type||e.image||i?i:jn,s=(t={},Object(r.a)(t,mn,!n&&!!a["background-image"]),Object(r.a)(t,"esri-icon-loading-indicator",n),Object(r.a)(t,"esri-rotating",n),t);return o&&!n&&(s[o]=!0),Object(k.a)("span",{key:"action-icon","aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",s),styles:a})}},{key:"renderActionTitle",value:function(e,t){return t?null:Object(k.a)("span",{key:"action-title",class:"esri-layer-list__item-action-title"},e)}},{key:"renderAction",value:function(e){var t,n=e.item,i=e.action,a=e.singleAction,o=i.active,s=i.disabled,c=i.title,u=(t={},Object(r.a)(t,vn,a&&"button"===i.type),Object(r.a)(t,"esri-layer-list__item-action",o||!a&&"toggle"!==i.type),Object(r.a)(t,"esri-layer-list__action-toggle",!o&&"toggle"===i.type),Object(r.a)(t,"esri-layer-list__action-toggle--on",!o&&"toggle"===i.type&&i.value),Object(r.a)(t,"esri-disabled-element",s),t),l=[this.renderActionIcon(i),this.renderActionTitle(c,a)];return a?Object(k.a)("div",{bind:this,"data-item":n,"data-action":i,role:"button",key:"single-action-".concat(i.uid),onclick:this._triggerAction,onkeydown:this._triggerAction,classes:u,tabindex:"0",title:c,"aria-label":c},l):Object(k.a)("li",{bind:this,"data-item":n,"data-action":i,key:"action-".concat(i.uid),onclick:this._triggerAction,onkeydown:this._triggerAction,classes:u,tabindex:"0",role:"button",title:c,"aria-label":c},l)}},{key:"_sortNodeRemoved",value:function(e){var t=this._sortableMap,n=e.dataset.group,r=t.get(n);r&&r.destroy(),t.delete(n)}},{key:"_destroySortables",value:function(){var e=this._sortableMap,t=this._sortableNodes;e.forEach((function(e){return e&&e.destroy()})),e.clear(),t.clear()}},{key:"_moveLayerFromChildList",value:function(e){var t=e.to,n=e.from,r=e.item,i=e.newIndex,a=r["data-item"],o=t["data-item"],s=n["data-item"];this.viewModel.moveListItem(a,s,o,i)}},{key:"_sortLayers",value:function(e){if(e){var t,n,r=e.el["data-item"],i=e.toArray();r?function(e,t){var n=null==e?void 0:e.layer;if(n){var r=Ct(n);r&&At(n.get(r),t)}}(r,i):At(null==(t=this.view)||null==(n=t.map)?void 0:n.layers,i)}}},{key:"_toggleSorting",value:function(e,t){var n=this._sortableMap,r=this.selectionEnabled,i=n.get(t),a=e["data-item"],o=("root"===t||a.childrenSortable&&function(e){var t=e&&(e.get("layer.layer")||e.layer);if(!t)return!1;var n=t.get("capabilities.exportMap.supportsSublayersChanges");return"boolean"!=typeof n||n}(a))&&r;if(i)i.option("disabled",!o);else if(o){var s=Tt.create(e,{dataIdAttr:"data-layer-uid",group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:'[data-sort-filter="true"]',fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!o,chosenClass:"esri-layer-list--chosen"});n.set(t,s)}}},{key:"_toggleAllSorting",value:function(){var e=this;this._sortableNodes.forEach((function(t,n){return e._toggleSorting(t,n)}))}},{key:"_sortNodeCreated",value:function(e){var t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))}},{key:"_setVisibleItems",value:function(e){var t=this;this.visibleItems=null==e?void 0:e.filter((function(e){return t.errorsVisible||!e.error}))}},{key:"_getSingleActionButton",value:function(e){return e.reduce((function(e){return e})).filter((function(e){return e&&"button"===e.type})).getItemAt(0)}},{key:"_focusListItem",value:function(e){var t,n=this._focusSortUid;e&&n&&(null==(t=e["data-item"].layer)?void 0:t.uid)===n&&(e.focus(),this._focusSortUid=null)}},{key:"_watchActionSectionChanges",value:function(e,t){var n=this,r="action-section"+t;this._handles.add(e.on("change",this.scheduleRender.bind(this)),r),e.forEach((function(e){return n._renderOnActionChanges(e,t)}))}},{key:"_renderOnActionChanges",value:function(e,t){var n=this,r="actions"+t;"toggle"!==e.type?"slider"!==e.type?this._handles.add([Object(O.a)(e,["className","image","id","title","visible"],(function(){return n.scheduleRender()}))],r):this._handles.add([Object(O.a)(e,["className","id","title","visible","value","displayValueEnabled","max","min","step"],(function(){return n.scheduleRender()}))],r):this._handles.add([Object(O.a)(e,["className","image","id","title","visible","value"],(function(){return n.scheduleRender()}))],r)}},{key:"_renderOnItemChanges",value:function(e){var t=this,n=e.uid,r="items"+n;this._handles.add([Object(O.a)(e,["actionsOpen","visible","open","updating","title","visibleAtCurrentScale","error","visibilityMode","panel","panel.title","panel.content","panel.className","sortable","childrenSortable"],(function(){return t.scheduleRender()})),e.actionsSections.on("change",(function(){return t.scheduleRender()})),e.children.on("change",(function(){return t.scheduleRender()}))],r),e.children.forEach((function(e){return t._renderOnItemChanges(e)})),e.actionsSections.forEach((function(e){return t._watchActionSectionChanges(e,n)}))}},{key:"_itemsChanged",value:function(e){var t=this;this._handles.removeAll(),e.forEach((function(e){return t._renderOnItemChanges(e)})),this._setVisibleItems(e),this.scheduleRender()}},{key:"_filterActions",value:function(e){return e.map((function(e){return e.filter((function(e){return e.visible}))}))}},{key:"_countActions",value:function(e){return e.reduce((function(e,t){return e+t.length}),0)}},{key:"_getIconImageStyles",value:function(e){var t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?'url("'.concat(t,'")'):null}}},{key:"_selectionKeydown",value:function(e){var t=Object(y.a)(e);if(-1!==["ArrowDown","ArrowUp"].indexOf(t)){e.stopPropagation();var n=e.currentTarget,r=n["data-item"],i=this._sortableMap,a=this.selectedItems,o=n.dataset.group,s=i.get(o);if(s){var c=It(r,a),u=s.toArray(),l=e.target,h=u.indexOf(l.dataset.layerUid);if(-1!==h){if("ArrowDown"===t){var f,d,p=h+1;if(p>=u.length)return;c?(hn(u,h,p),s.sort(u),this._sortLayers(s),this._focusSortUid=null==(f=r.layer)?void 0:f.uid):(this._focusSortUid=null==(d=r.layer)?void 0:d.uid,this.scheduleRender())}if("ArrowUp"===t){var b,v,m=h-1;if(m<=-1)return;c?(hn(u,h,m),s.sort(u),this._sortLayers(s),this._focusSortUid=null==(b=r.layer)?void 0:b.uid):(this._focusSortUid=null==(v=r.layer)?void 0:v.uid,this.scheduleRender())}}}}else this._toggleSelection(e)}},{key:"_toggleActionsOpen",value:function(e){var t=e.currentTarget["data-item"],n=!t.actionsOpen;n&&this.operationalItems.forEach((function(e){return xn(e)})),t.actionsOpen=n,e.stopPropagation()}},{key:"_triggerPanel",value:function(e){var t=e.currentTarget["data-panel"];t&&(t.open=!t.open),e.stopPropagation()}},{key:"_triggerAction",value:function(e){var t=e.currentTarget,n=t["data-action"],r=t["data-item"];"toggle"===n.type&&(n.value=!n.value),this.triggerAction(n,r),e.stopPropagation()}},{key:"_toggleVisibility",value:function(e){var t=e.currentTarget,n=t.getAttribute("data-parent-visibility"),r=t["data-item"];n===wn&&r.visible||(r.visible=!r.visible),e.stopPropagation()}},{key:"_toggleChildrenClick",value:function(e){var t=e.currentTarget["data-item"];t.open=!t.open,e.stopPropagation()}},{key:"_toggleSelection",value:function(e){e.stopPropagation();var t=this.multipleSelectionEnabled,n=this.selectedItems,r=t&&(e.metaKey||e.ctrlKey),i=e.currentTarget["data-item"],a=It(i,n),o=n.length;if(!r)return!o||a&&1===o?void(a?n.remove(a):n.add(i)):(n.removeAll(),void n.add(i));a?n.remove(a):n.add(i)}}]),n}(S.a);Object(u.a)([Object(f.b)()],En.prototype,"visibleItems",void 0),Object(u.a)([Object(f.b)()],En.prototype,"iconClass",void 0),Object(u.a)([Object(f.b)(),Object(_.a)()],En.prototype,"errorsVisible",void 0),Object(u.a)([Object(f.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],En.prototype,"label",void 0),Object(u.a)([Object(d.a)("viewModel.listItemCreatedFunction"),Object(_.a)()],En.prototype,"listItemCreatedFunction",void 0),Object(u.a)([Object(f.b)(),Object(_.a)(),Object(w.a)("esri/widgets/LayerList/t9n/LayerList")],En.prototype,"messages",void 0),Object(u.a)([Object(f.b)(),Object(_.a)(),Object(w.a)("esri/t9n/common")],En.prototype,"messagesCommon",void 0),Object(u.a)([Object(f.b)()],En.prototype,"multipleSelectionEnabled",void 0),Object(u.a)([Object(d.a)("viewModel.operationalItems"),Object(_.a)()],En.prototype,"operationalItems",void 0),Object(u.a)([Object(f.b)(),Object(_.a)()],En.prototype,"selectionEnabled",void 0),Object(u.a)([Object(f.b)(),Object(_.a)()],En.prototype,"selectedItems",void 0),Object(u.a)([Object(f.b)(),Object(_.a)()],En.prototype,"statusIndicatorsVisible",null),Object(u.a)([Object(d.a)("viewModel.view"),Object(_.a)()],En.prototype,"view",void 0),Object(u.a)([Object(x.a)("trigger-action"),Object(f.b)({type:ln}),Object(_.a)("viewModel.state")],En.prototype,"viewModel",void 0),Object(u.a)([Object(f.b)(),Object(_.a)()],En.prototype,"visibleElements",void 0),Object(u.a)([Object(p.a)("visibleElements")],En.prototype,"castVisibleElements",null),Object(u.a)([Object(d.a)("viewModel.triggerAction")],En.prototype,"triggerAction",null),Object(u.a)([Object(j.a)()],En.prototype,"_toggleActionsOpen",null),Object(u.a)([Object(j.a)()],En.prototype,"_triggerPanel",null),Object(u.a)([Object(j.a)()],En.prototype,"_triggerAction",null),Object(u.a)([Object(j.a)()],En.prototype,"_toggleVisibility",null),Object(u.a)([Object(j.a)()],En.prototype,"_toggleChildrenClick",null),Object(u.a)([Object(j.a)()],En.prototype,"_toggleSelection",null);En=Object(u.a)([Object(v.a)("esri.widgets.LayerList")],En)},function(e,t,n){"use strict";var r=n(28),i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=n(58),l=(n(15),n(14)),h=(n(18),n(1)),f=n(41),d=n(8),p=(n(12),n(21),n(22),n(122)),b=n(64),v=n(82),y=n(88),m=n(33),g=n(11),O=n(94),j=n(37),w=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).format=null,r.position={coordinate:null,location:null},r}return Object(a.a)(n,[{key:"displayCoordinate",get:function(){var e=this.get("format");return e&&e.getDisplayCoordinate(this.get("position.coordinate"))}}]),n}(j.a);Object(c.a)([Object(h.b)({readOnly:!0,dependsOn:["position","format.currentPattern"]})],w.prototype,"displayCoordinate",null),Object(c.a)([Object(h.b)()],w.prototype,"format",void 0),Object(c.a)([Object(h.b)()],w.prototype,"position",void 0);var _=w=Object(c.a)([Object(d.a)("esri.widgets.CoordinateConversion.support.Conversion")],w),x=n(7),k=n.n(x),S=n(16),E=n(40),T=n(20),M=n(17),C=n(56),A=n(86),P=n(39),I=n(96),D=n(167),L=n(84),R=(n(153),n(357)),N=n(80),F=n(60),z=n(29),V=n(138),U=n(493),B=n(729),G=n(10),q=n(32),H=n(48),W=n(79),Y=(n(99),n(470)),J={utm:{conversionMode:"utmDefault",addSpaces:!0},usng:{numOfDigits:5,rounding:!1,addSpaces:!1},mgrs:{rounding:!1}},K=new Array(3);function X(e){return e>=500?6:e<500&&e>=50?7:e<50&&e>=5?8:9}function Q(e){return"number"==typeof e&&isFinite(e)}function Z(e){return e&&Q(e.x)&&Q(e.y)}function $(e,t){if(e.spatialReference.isGeographic&&t){var n=function(e,t){var n=X(t);return[e[0].toFixed(n),e[1].toFixed(n)]}([e.x,e.y],t),r=Object(q.a)(n,2),i=r[0],a=r[1];return"".concat(i,", ").concat(a)}return"".concat(e.x.toFixed(3),", ").concat(e.y.toFixed(3))}function ee(e){return"dd"===e||"dms"===e||"ddm"===e||"mgrs"===e||"usng"===e||"utm"===e}var te=n(440),ne=n(54),re=n(260),ie=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).conversionInfo=null,r.coordinateSegments=null,r.defaultPattern=null,r.name=null,r.viewModel=null,r}return Object(a.a)(n,[{key:"currentPattern",get:function(){return this._get("currentPattern")||this._get("defaultPattern")},set:function(e){this._set("currentPattern",e)}},{key:"hasDisplayProperties",get:function(){return!(!this.defaultPattern||!this.coordinateSegments)}},{key:"spatialReference",get:function(){var e=this.get("conversionInfo.spatialReference")||H.a.WGS84;return"basemap"===this.name?this._viewSpatialReference:e},set:function(e){void 0===e&&this._clearOverride("spatialReference"),this._override("spatialReference",e)}},{key:"_viewSpatialReference",get:function(){return this.get("viewModel.view.spatialReference")||H.a.WGS84}},{key:"_additionalCharactersPattern",get:function(){var e=this.get("coordinateSegments");if(!e)return null;var t=e.map((function(e){return e.alias})),n=this.currentPattern.replace(new RegExp('["nsew'.concat(t.join(),"]"),"gi"),"").replace(/\ /g,"");return new RegExp("[".concat(n,"]"),"g")}},{key:"convert",value:function(e,t){var n=this;if(!Z(e))return Object(M.r)(new T.a("format:invalid-point","Could not convert invalid point.",{point:e}));var r=this.get("conversionInfo.convert");return r?Object(M.s)().then((function(){return r(e)})):this._project(e,this.spatialReference,t).then((function(e){return n._getCoordinate(e).then((function(t){return{location:e,coordinate:t}}))}))}},{key:"getConversionStrategy",value:function(){var e=this._viewSpatialReference;return this.get("conversionInfo.convert")||this.get("viewModel.formatterAvailable")||"xy"===this.name&&(e.isWebMercator||e.isWGS84)||"basemap"===this.name?"client":"server"}},{key:"getDisplayCoordinate",value:function(e){if(!e)return null;if(!this.coordinateSegments||!this.currentPattern)return e;for(var t=this.currentPattern,n=this._getSegmentMatches(e,!1),r=this.coordinateSegments.length-1;r>=0;r--){var i=this.coordinateSegments[r];t=t.replace(i.alias,n[r])}return t}},{key:"parseUserInput",value:function(e){var t=this.defaultPattern.replace(this._additionalCharactersPattern,"");e=e.replace(this._additionalCharactersPattern,"");for(var n=this._getSegmentMatches(e,!0),r=this.coordinateSegments.length-1;r>=0;r--){var i=this.coordinateSegments[r];t=t.replace(i.alias,n[r])}return t}},{key:"_getSegmentMatches",value:function(e,t){for(var n=[],r=0;r<this.coordinateSegments.length;r++){var i=this.coordinateSegments[r],a=e.match(i.searchPattern);if(a){var o=a[0];if(e=e.replace(o,"").trim(),i.substitution){var s=t?i.substitution.input(o):i.substitution.output(o);s&&(o=s)}n.push(o)}else n.push("")}return n}},{key:"reverseConvert",value:function(e){var t,n=this.parseUserInput(e),r=this.get("conversionInfo.reverseConvert"),i=ee(this.name);if(r)t=r(n);else if("xy"===this.name||"basemap"===this.name)t=function(e,t){var n=e.indexOf(",")>=0?",":" ",r=e.split(n).map((function(e){var t=e.trim();return t?Number(t):null})),i=Object(q.a)(r,3),a=i[0],o=i[1],s=i[2];if(!Q(a)||!Q(o))return null;var c=new C.a({x:a,y:o,spatialReference:t||H.a.WGS84});return s&&(c.z=s,c.hasZ=!0),c}(n,this.spatialReference);else if(this.viewModel.formatterAvailable)switch(this.name){case"dd":case"ddm":case"dms":t=Object(re.a)(n,this.spatialReference);break;case"mgrs":t=Object(re.b)(n,this.spatialReference,"automatic");break;case"utm":t=Object(re.d)(n,this.spatialReference,"latitude-band-indicators");break;case"usng":t=Object(re.c)(n,this.spatialReference);break;default:t=null}else if(i)return function(e){var t=e.geometryServicePromise,n=e.coordinate,r=e.spatialReference,i=e.formatName;return t.then((function(e){return e.fromGeoCoordinateString({strings:[n],sr:r,conversionType:i}).then((function(e){var t=new C.a({x:e[0][0],y:e[0][1],spatialReference:r});if(!Z(t))throw e;return t})).catch((function(e){throw new T.a("coordinate-conversion:from-geo-coordinate-string-failed","Failed to convert coordinate notation",{notationResult:e})}))}))}({coordinate:n,spatialReference:this.spatialReference,formatName:this.name,geometryServicePromise:this.get("viewModel.geometryServicePromise")});return t?this._project(t,this._viewSpatialReference):Object(M.r)(new T.a("format:invalid-input","Could not parse input into point.",{userInput:e}))}},{key:"_getCoordinate",value:function(e){var t=this.get("viewModel.view.scale");if(!Z(e))return Object(M.r)(new T.a("format:invalid-point","Could not transform invalid point into coordinate.",{point:e}));if(this.get("viewModel.formatterAvailable")||"basemap"===this.name||"xy"===this.name)switch(this.name){case"dd":case"ddm":case"dms":var n=X(t);return Object(M.s)(Object(re.e)(e,this.name,n));case"mgrs":return Object(M.s)(Object(re.f)(e,"automatic",5,!1));case"usng":return Object(M.s)(Object(re.g)(e,5,!1));case"utm":return Object(M.s)(Object(re.h)(e,"latitude-band-indicators",!0));default:return Object(M.s)($(e,t))}return ee(this.name)?function(e){var t=e.formatName,n=e.location,r=e.geometryServicePromise,i=J[t]||{},a=Object(G.a)({coordinates:[[n.x,n.y]],sr:n.spatialReference,conversionType:t},i);return r.then((function(e){return e.toGeoCoordinateString(a).then((function(e){var t=e[0];if(!t)throw e;return t})).catch((function(e){throw new T.a("coordinate-conversion:to-geo-coordinate-string-failed","Failed to convert coordinate notation",{notationResult:e})}))}))}({formatName:this.name,location:e,geometryServicePromise:this.get("viewModel.geometryServicePromise")}):Object(M.s)($(e,t))}},{key:"_project",value:function(e,t,n){return Object(ne.c)(e.spatialReference,t)||!t?Object(M.s)(e):this.get("viewModel.formatterAvailable")&&Object(V.f)()?Object(M.s)(Object(V.i)(e,t)):this.get("viewModel.formatterAvailable")?null:Object(W.a)(e,t)?Object(M.s)(Object(W.d)(e,t)):function(e,t){var n=e.spatialReference,r=e.geometryServicePromise,i=e.location,a=e.scale;if(!n||i.spatialReference.wkid===n.wkid)return Object(M.s)({location:i,coordinate:$(i,a)});if((i.spatialReference.isWGS84||i.spatialReference.isWebMercator)&&(n.isWGS84||n.isWebMercator))return Object(M.s)({location:Object(W.d)(i,n),coordinate:$(i,a)});if(K[0]===i&&K[1]===n.wkid)return K[2];K[0]=i,K[1]=n.wkid;var o=r.then((function(e){return e.project(new Y.a({geometries:[i],outSpatialReference:n}),{signal:t}).then((function(e){if(!Z(e[0]))throw e[0];return{location:e[0],coordinate:$(e[0],a)}})).catch((function(e){throw new T.a("coordinate-conversion:projection-failed","Failed to project point",{projectionResult:e})}))}));return K[2]=o,o}({location:e,spatialReference:t,geometryServicePromise:this.get("viewModel.geometryServicePromise"),scale:this.get("viewModel.view.scale")},n).then((function(e){return e.location}))}}]),n}(j.a);Object(c.a)([Object(h.b)()],ie.prototype,"conversionInfo",void 0),Object(c.a)([Object(h.b)()],ie.prototype,"coordinateSegments",void 0),Object(c.a)([Object(h.b)()],ie.prototype,"currentPattern",null),Object(c.a)([Object(h.b)()],ie.prototype,"defaultPattern",void 0),Object(c.a)([Object(h.b)({readOnly:!0,dependsOn:["defaultPattern","coordinateSegments"]})],ie.prototype,"hasDisplayProperties",null),Object(c.a)([Object(h.b)()],ie.prototype,"name",void 0),Object(c.a)([Object(h.b)({dependsOn:["_viewSpatialReference","name"],type:H.a})],ie.prototype,"spatialReference",null),Object(c.a)([Object(h.b)()],ie.prototype,"viewModel",void 0),Object(c.a)([Object(h.b)({dependsOn:["viewModel.view.spatialReference"],readOnly:!0})],ie.prototype,"_viewSpatialReference",null),Object(c.a)([Object(h.b)({readOnly:!0,dependsOn:["currentPattern"]})],ie.prototype,"_additionalCharactersPattern",null);var ae=ie=Object(c.a)([Object(d.a)("esri.widgets.CoordinateConversion.support.Format")],ie),oe=Object(te.c)().decimal,se={N:"north",S:"south",E:"east",W:"west"},ce=new RegExp("-?\\d+[\\.|\\".concat(oe,"]?\\d*")),ue=/^[\\0]+(?=\d)/;function le(e){var t=e.match(ue),n=t?t[0]:"",r=e.indexOf(".")>=0?e.split(".")[1].length:0;return n+Object(te.b)(Number(e),{pattern:"###0.###",places:r,round:-1})}function he(e){return Object(te.d)(e)}var fe="default",de=new C.a([0,0,500]),pe="".concat(window.location.pathname,"__coordinateConversionWidgetState"),be=l.a.getLogger("esri.widgets.CoordinateConversion.CoordinateConversionViewModel"),ve="view",ye="view-change",me=0,ge=[],Oe=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._conversionPromise=null,r._handles=new F.a,r._locationGraphic=null,r._locale=Object(I.b)(),r._pointerCount=0,r.conversions=new P.a,r.formats=new P.a,r.formatterAvailable=!1,r.geometryServicePromise=null,r.messages=null,r.requestDelay=300,r.locationSymbol=new R.a({url:Object(L.a)("esri/images/search/search-symbol-32.png"),width:24,height:24}),r.view=null,r._instanceNumber=me,me++,r._saveWidgetState=r._saveWidgetState.bind(Object(E.a)(r)),r._handleFormatChange=r._handleFormatChange.bind(Object(E.a)(r)),r._handleConversionChange=r._handleConversionChange.bind(Object(E.a)(r)),r._handleViewChange=r._handleViewChange.bind(Object(E.a)(r)),r._onClick=r._onClick.bind(Object(E.a)(r)),r._onPointerMove=r._onPointerMove.bind(Object(E.a)(r)),r._onPointerDown=r._onPointerDown.bind(Object(E.a)(r)),r._onPointerUp=r._onPointerUp.bind(Object(E.a)(r)),r}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this;Object(S.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.a)("esri/widgets/CoordinateConversion/t9n/CoordinateConversion");case 2:return t.abrupt("return",e.messages=t.sent);case 3:case"end":return t.stop()}}),t)})))().then((function(){if(!e.destroyed&&(e.formats.addMany(function(e){var t=e.abbreviatedDirections.north,n=e.abbreviatedDirections.south,r=e.abbreviatedDirections.east,i=e.abbreviatedDirections.west,a={};a[t]="N",a[n]="S",a[r]="E",a[i]="W";var o=new RegExp("N|S|".concat(t,"|").concat(n),"i"),s=new RegExp("E|W|".concat(r,"|").concat(i),"i");return[new ae({name:"basemap",coordinateSegments:[{alias:"X",description:"easting",searchPattern:ce,substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:"Y",description:"northing",searchPattern:ce,substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}}],defaultPattern:"X, Y",viewModel:null}),new ae({name:"dd",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp("\\d{1,2}[\\.|\\".concat(oe,"]?\\d*(?=\\D*?[N|S|").concat(t,"|").concat(n,"])"),"i"),substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:o,substitution:{input:function(e){return a[e]},output:function(t){return e.abbreviatedDirections[se[t]]}}},{alias:"X",description:"degrees longitude",searchPattern:new RegExp("\\d{1,3}[\\.|\\".concat(oe,"]?\\d*(?=\\D*?[E|W|").concat(r,"|").concat(i,"])"),"i"),substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:s,substitution:{input:function(e){return a[e]},output:function(t){return e.abbreviatedDirections[se[t]]}}}],defaultPattern:"Y\xb0\u200e".concat(e.abbreviatedDirections.north,", X\xb0\u200e").concat(e.abbreviatedDirections.east),viewModel:null}),new ae({name:"ddm",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp("\\d{1,2}(?=.*?\\s+.*?[N|S|".concat(t,"|").concat(n,"])"),"i"),substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:"A",description:"minutes latitude",searchPattern:new RegExp("\\d{1,2}[\\.\\".concat(oe,"]?\\d*(?=.*?[N|S|").concat(t,"||").concat(n,"])"),"i"),substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:o,substitution:{input:function(e){return a[e]},output:function(t){return e.abbreviatedDirections[se[t]]}}},{alias:"X",description:"degrees longitude",searchPattern:new RegExp("\\d{1,3}(?=\\D*?\\s+.*?[E|W|".concat(r,"|").concat(i,"])"),"i"),substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:"B",description:"minutes longitude",searchPattern:new RegExp("\\d{1,2}[\\.|\\|".concat(oe,"]?\\d*(?=.*?[E|W|").concat(r,"|").concat(i,"])"),"i"),substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:s,substitution:{input:function(e){return a[e]},output:function(t){return e.abbreviatedDirections[se[t]]}}}],defaultPattern:"Y\xb0\u200e A'".concat(e.abbreviatedDirections.north,", X\xb0\u200e B'").concat(e.abbreviatedDirections.east),viewModel:null}),new ae({name:"dms",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp("\\d{1,2}(?=.*?\\s+.*?[N|S|".concat(t,"|").concat(n,"])"),"i"),substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:"A",description:"minutes latitude",searchPattern:new RegExp("\\d{1,2}(?=.*?[N|S|".concat(t,"|").concat(n,"])"),"i"),substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:"B",description:"seconds latitude",searchPattern:new RegExp("\\d{1,2}[\\.|\\".concat(oe,"]?\\d*(?=.*?[N|S|").concat(t,"|").concat(n,"])"),"i"),substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:o,substitution:{input:function(e){return a[e]},output:function(t){return e.abbreviatedDirections[se[t]]}}},{alias:"X",description:"degrees longitude",searchPattern:new RegExp("\\d{1,3}(?=.*?\\s+.*?[E|W|".concat(r,"|").concat(i,"])"),"i"),substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:"C",description:"minutes longitude",searchPattern:new RegExp("\\d{1,2}(?=.*?[E|W|".concat(r,"|").concat(i,"])"),"i"),substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:"D",description:"seconds longitude",searchPattern:new RegExp("\\d{1,2}[\\.|\\".concat(oe,"]?\\d*(?=.*?[E|W|").concat(r,"|").concat(i,"])"),"i"),substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:s,substitution:{input:function(e){return a[e]},output:function(t){return e.abbreviatedDirections[se[t]]}}}],defaultPattern:"Y\xb0\u200e A' B\"".concat(e.abbreviatedDirections.north,", X\xb0\u200e C' D\"").concat(e.abbreviatedDirections.east),viewModel:null}),new ae({name:"xy",coordinateSegments:[{alias:"X",description:"longitude",searchPattern:ce,substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}},{alias:"Y",description:"latitude",searchPattern:ce,substitution:{input:function(e){return he(e)},output:function(e){return le(e)}}}],defaultPattern:"X\xb0\u200e, Y\xb0\u200e",viewModel:null}),new ae({name:"mgrs",coordinateSegments:[{alias:"Z",description:"grid zone",searchPattern:/\d{1,2}\w|[abyz]/i},{alias:"S",description:"grid square",searchPattern:/\w{2}/},{alias:"X",description:"easting",searchPattern:/^\d{5}(?=.?\d{5}$)|^\d{4}(?=.?\d{4}$)|^\d{3}(?=.?\d{3}$)|^\d{2}(?=.?\d{2}$)|^\d(?=.?\d$)/},{alias:"Y",description:"northing",searchPattern:/^\d{1,5}/}],defaultPattern:"Z S X Y",viewModel:null}),new ae({name:"usng",coordinateSegments:[{alias:"Z",description:"grid zone",searchPattern:/\d{1,2}\w|[abyz]/i},{alias:"S",description:"grid square",searchPattern:/\w{2}/},{alias:"X",description:"easting",searchPattern:/^\d{5}(?=.?\d{5}$)|^\d{4}(?=.?\d{4}$)|^\d{3}(?=.?\d{3}$)|^\d{2}(?=.?\d{2}$)|^\d(?=.?\d$)/},{alias:"Y",description:"northing",searchPattern:/^\d{1,5}/}],defaultPattern:"Z S X Y",viewModel:null}),new ae({name:"utm",coordinateSegments:[{alias:"Z",description:"zone number",searchPattern:/\d{1,2}|[abyz]/i},{alias:"B",description:"latitude band",searchPattern:/^\D/},{alias:"X",description:"easting",searchPattern:/\d{1,7}(?=\s*\d{7}$)/},{alias:"Y",description:"northing",searchPattern:/\d{1,7}/}],defaultPattern:"ZB X Y",viewModel:null})]}(e.messages)),e._loadWidgetState(),e.formats.forEach((function(t){t.viewModel=e,e._handles.add(t.watch("currentPattern",e._saveWidgetState),t.name)})),e._handles.add(e.conversions.on("change",e._handleConversionChange),"conversions"),e._handles.add(e.formats.on("change",e._handleFormatChange),"formats"),e._handles.add(Object(z.a)(e,"view.map",(function(){e.geometryServicePromise=Object(B.create)(e.get("view.map.portalItem"))})),ye),Object(V.h)().then((function(){e.formatterAvailable=!0})).catch((function(t){be.error(new T.a("coordinate-conversion:projection-load-failed","Failed to load the projection module.",{error:t})),e.formatterAvailable=!1})).then((function(){return e._handles.add(Object(z.a)(e,"view",e._handleViewChange),ye)})),0===e.conversions.length)){var t=e.formats.find((function(e){return"xy"===e.name}))||e.formats.getItemAt(0);e.conversions.add(new _({format:t}))}}))}},{key:"destroy",value:function(){this._handles.removeAll(),this._cleanUpView(this.view),this.view=null}},{key:"currentLocation",get:function(){return this._get("currentLocation")||null},set:function(e){this._set("currentLocation",e),this._updateConversions()}},{key:"mode",get:function(){return this._get("mode")||"live"},set:function(e){switch(e){case"capture":this.currentLocation=null,this._startCaptureMode(),this._set("mode",e);break;case"live":this._startLiveMode(),this._set("mode",e)}}},{key:"state",get:function(){var e=this.messages,t=this.view,n=null==t?void 0:t.ready;return e?n?"ready":t?"loading":"disabled":"disabled"}},{key:"waitingForConversions",get:function(){return null!=this._conversionPromise}},{key:"_debouncedConvert",get:function(){return Object(M.h)((function(e,t,n){return Object(M.i)(e.map((function(e){return e.convert(t,n)})))}),this.requestDelay)}},{key:"setLocation",value:function(e){if(this.view.graphics.remove(this._locationGraphic),e){var t=e.clone();t.hasZ&&(t.z=void 0),this._locationGraphic=new N.a({geometry:t,symbol:this.get("locationSymbol")}),this.view.graphics.add(this._locationGraphic)}}},{key:"convert",value:function(e,t){return Z(t)?Object(M.s)().then((function(){return e.convert(t)})):Object(M.r)(new T.a("coordinate-conversion:invalid-point","Invalid point cannot be converted.",{point:t}))}},{key:"goToLocation",value:function(e){if(this.get("view.clippingArea")||this.get("view.map.basemap.baseLayers.length")>0){var t=this.get("view.clippingArea")||this.view.map.basemap.baseLayers.getItemAt(0).fullExtent;return t?t.contains(e)?this.callGoTo({target:e}):Object(M.r)(new T.a("coordinate-conversion:go-to-failed","Point outside basemap extent.",{point:e})):this.callGoTo({target:e})}return this.callGoTo({target:e})}},{key:"pause",value:function(){this.currentLocation=null,this._handles.remove(ve),this.view&&(this.view.cursor=fe,this.view.graphics.remove(this._locationGraphic))}},{key:"previewConversion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentLocation||de;return this._convertMany([e],t).then((function(){return e.displayCoordinate}))}},{key:"resume",value:function(){"capture"===this.mode?this._startCaptureMode():this._startLiveMode()}},{key:"reverseConvert",value:function(e,t){return t.reverseConvert(e)}},{key:"updateConversions",value:function(){var e=Object(S.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n&&n.type&&"point"===n.type?this._convertMany(t,n).then((function(e){return e.client.concat(e.server)})):(this._clearConversions(this.conversions),Object(M.r)(new T.a("coordinate-conversion:invalid-input-point","Point is invalid, conversions cannot be updated.",{point:n}))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_cleanUpView",value:function(e){e&&(e.graphics.remove(this._locationGraphic),this._handles.remove(ve),e.cursor=fe)}},{key:"_clearConversions",value:function(e){e.forEach((function(e){e.position={location:null,coordinate:null}}))}},{key:"_convertMany",value:function(e,t){var n=this,r=e.reduce((function(e,t){return e[t.format.getConversionStrategy()].push(t),e}),{client:[],server:[]}),i=r.client,a=r.server,o=Object(M.b)(i.map((function(e){return e.format.convert(t).then((function(t){return e.position=t,e})).catch((function(){e.position=null}))}))),s=function(e){return e?(n._conversionPromise=null,n.notifyChange("waitingForConversions"),e.map((function(e,t){var n=a[t];return e.error?(n.position=null,n):(n.position=e.value,n)}))):[]};return this._conversionPromise=a.length>0?this._debouncedConvert(a.map((function(e){return e.format})),t).then(s,s):Object(M.s)([]),this.notifyChange("waitingForConversions"),Object(M.b)([o,this._conversionPromise]).then((function(e){return{client:e[0],server:e[1]}}))}},{key:"_handleConversionChange",value:function(e){var t=this;e.added.forEach((function(e){var n=e.format;n.viewModel=t,t.currentLocation&&(t._set("waitingForConversions",!0),t.convert(n,t.currentLocation).then((function(n){e.position=n,t._set("waitingForConversions",!1)})))})),this._saveWidgetState()}},{key:"_handleFormatChange",value:function(e){var t=this;e.added.forEach((function(e){t._handles.add(e.watch("currentPattern",t._saveWidgetState),e.name),e.viewModel=t})),e.removed.forEach((function(e){e.viewModel=null,t._handles.remove(e.name)}))}},{key:"_loadWidgetState",value:function(){if(0===this._instanceNumber)try{var e=JSON.parse(localStorage.getItem(pe));e&&(ge=e)}catch(t){be.error(new T.a("coordinate-conversion:invalid-local-storage-json","Could not read from localStorge.",{error:t}))}this._setWidgetState()}},{key:"_startCaptureMode",value:function(){this._handles.remove(ve),this.view&&(this.view.cursor="crosshair",this.currentLocation&&this.setLocation(this.currentLocation),this._handles.add(this.view.on("click",this._onClick),ve))}},{key:"_startLiveMode",value:function(){this._pointerCount=0,this._handles.remove(ve),this.view&&(this.view.cursor=fe,this.view.graphics.remove(this._locationGraphic),this._handles.add([this.view.on("pointer-down",this._onPointerDown),this.view.on("pointer-up",this._onPointerUp),this.view.on("pointer-move",this._onPointerMove)],ve))}},{key:"_handleViewChange",value:function(e,t){t&&t!==e&&this._cleanUpView(t),e&&("capture"===this.mode&&this._startCaptureMode(),this._startLiveMode())}},{key:"_onClick",value:function(e){if(0===e.button){var t=this.view.toMap(e),n=t&&t.normalize();this.setLocation(n),this.currentLocation=n}}},{key:"_onPointerDown",value:function(e){var t=e.pointerType;if(this._pointerCount++,("touch"===t||"pen"===t)&&1===this._pointerCount){var n=this.view.toMap(e);this.currentLocation=n&&n.normalize()}}},{key:"_onPointerMove",value:function(e){if("mouse"===e.pointerType||1===this._pointerCount){var t=this.view.toMap(e);this.currentLocation=t&&t.normalize()}}},{key:"_onPointerUp",value:function(){this._pointerCount--}},{key:"_setWidgetState",value:function(){var e=this,t=ge[this._instanceNumber];if(t)try{t.formats.forEach((function(n){var r=e.formats.find((function(e){return e.name===n.name}));r&&t.locale===e._locale&&n.currentPattern&&(r.currentPattern=n.currentPattern),r&&n.index>=0&&e.conversions.add(new _({format:r}))}))}catch(t){be.warn(new T.a("coordinate-conversion:local-storage-read-error","Could not get widget state from stored JSON.",{error:t})),ge[this._instanceNumber]={formats:[],locale:this._locale}}else ge[this._instanceNumber]={formats:[],locale:this._locale}}},{key:"_saveWidgetState",value:function(){var e=this._toJSON();ge[this._instanceNumber]={formats:e,locale:this._locale};try{localStorage.setItem(pe,JSON.stringify(ge))}catch(e){be.error(new T.a("coordinate-conversion:local-storage-write-error","Could not write to localStorage.",{error:e}))}}},{key:"_updateConversions",value:function(){var e=Object(S.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.updateConversions(this.conversions.toArray(),this.currentLocation);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"_toJSON",value:function(){var e=this;return this.formats.filter((function(e){var t=e.name;return"xy"===t||"basemap"===t||ee(t)})).map((function(t){return{name:t.name,currentPattern:t.currentPattern,defaultPattern:t.defaultPattern,index:e.conversions.findIndex((function(e){return e.format===t}))}})).sort((function(e,t){return e.index-t.index})).toArray()}}]),n}(Object(U.a)(A.a.EventedAccessor));Object(c.a)([Object(h.b)()],Oe.prototype,"conversions",void 0),Object(c.a)([Object(h.b)({type:C.a})],Oe.prototype,"currentLocation",null),Object(c.a)([Object(h.b)()],Oe.prototype,"formats",void 0),Object(c.a)([Object(h.b)()],Oe.prototype,"messages",void 0),Object(c.a)([Object(h.b)()],Oe.prototype,"mode",null),Object(c.a)([Object(h.b)()],Oe.prototype,"requestDelay",void 0),Object(c.a)([Object(h.b)({dependsOn:["messages","view","view.ready"],readOnly:!0})],Oe.prototype,"state",null),Object(c.a)([Object(h.b)()],Oe.prototype,"locationSymbol",void 0),Object(c.a)([Object(h.b)({readOnly:!0})],Oe.prototype,"waitingForConversions",null),Object(c.a)([Object(h.b)()],Oe.prototype,"view",void 0),Object(c.a)([Object(h.b)({readOnly:!0,dependsOn:["requestDelay"]})],Oe.prototype,"_debouncedConvert",null);var je=Oe=Object(c.a)([Object(d.a)("esri.widgets.CoordinateConversion.CoordinateConversionViewModel")],Oe),we="esri-coordinate-conversion__conversion-list",_e="esri-coordinate-conversion__row",xe="esri-coordinate-conversion__select-row",ke="esri-coordinate-conversion__tools",Se="esri-coordinate-conversion__mode-toggle",Ee="esri-coordinate-conversion__row-button",Te="esri-coordinate-conversion__back-button",Me="esri-coordinate-conversion__input-coordinate",Ce="esri-coordinate-conversion__input-group",Ae="esri-coordinate-conversion__heading",Pe="esri-coordinate-conversion__pattern-input",Ie="esri-coordinate-conversion__settings-group",De="esri-coordinate-conversion__preview-coordinate",Le="esri-input",Re="esri-widget__heading",Ne="esri-widget--button",Fe="esri-icon-map-pin",ze="esri-select",Ve=l.a.getLogger("esri.widgets.CoordinateConversion"),Ue=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r))._popupMessage=null,a._popupId=null,a._coordinateInput=null,a._badInput=!1,a._goToEnabled=!1,a._conversionFormat=null,a._settingsFormat=null,a._previewConversion=null,a._expanded=!1,a._popupVisible=!1,a._settingsVisible=!1,a._inputVisible=!1,a.conversions=null,a.currentLocation=null,a.formats=null,a.goToOverride=null,a.label=void 0,a.messages=null,a.messagesCommon=null,a.mode=null,a.orientation="auto",a.requestDelay=null,a.view=null,a.viewModel=new je,a}return Object(a.a)(n,[{key:"multipleConversions",get:function(){var e=this._get("multipleConversions");return"boolean"!=typeof e||e},set:function(e){!1===e&&(this._expanded=!1,this.conversions.splice(1,this.conversions.length-1)),this._set("multipleConversions",e)}},{key:"reverseConvert",value:function(e,t){return this.viewModel.reverseConvert(e,t)}},{key:"render",value:function(){var e,t=this.get("viewModel.state"),n="disabled"===t?Object(g.a)("div",{key:"esri-coordinate__no-basemap"},this.messages.noBasemap):null,i=!n&&this._inputVisible?this._renderInputForm():null,a=!n&&this._settingsVisible?this._renderSettings():null,o=n||i||a?null:this._renderConversionsView(),s=this._popupVisible?this._renderPopup():null,c=(e={},Object(r.a)(e,"esri-coordinate-conversion--capture-mode","capture"===this.mode),Object(r.a)(e,"esri-disabled","loading"===t),Object(r.a)(e,"esri-coordinate-conversion--no-basemap","disabled"===t),e);return Object(g.a)("div",{class:this.classes("esri-coordinate-conversion esri-widget",c)},s,n,o,a,i)}},{key:"_addConversion",value:function(e){var t=e.target,n=t.options[t.options.selectedIndex]["data-format"],r=t["data-index"],i=new _({format:n});t.options.selectedIndex=0,r>=0&&this.conversions.removeAt(r),this.conversions.add(i,r)}},{key:"_findSettingsFormat",value:function(){return this._settingsFormat||this.conversions.reduceRight((function(e,t){var n=t.format;return n.get("hasDisplayProperties")?n:e}),null)||this.formats.find((function(e){return e.hasDisplayProperties}))}},{key:"_hidePopup",value:function(){this._popupId&&(clearTimeout(this._popupId),this._popupId=null),this._popupVisible=!1,this._popupMessage=null,this.scheduleRender()}},{key:"_onConvertComplete",value:function(){this._inputVisible=!1,this._coordinateInput.value=""}},{key:"_onCopy",value:function(e){var t=e.currentTarget["data-conversion"].displayCoordinate;"clipboardData"in u.a?u.a.clipboardData.setData("text",t):e.clipboardData.setData("text/plain",t),this._showPopup(this.messages.copySuccessMessage),e.preventDefault()}},{key:"_processUserInput",value:function(e){var t=this,n=Object(p.a)(e),r=this.viewModel;if("Enter"!==n&&n)this._badInput&&(this._badInput=!1);else{var i=this._coordinateInput["data-format"],a=this._coordinateInput.value;this._reverseConvert(a,i).then((function(e){"capture"===t.mode?r.resume():t.mode="capture",t.currentLocation=e,r.setLocation(e),t._onConvertComplete()})).catch((function(e){Ve.error(e),t._showPopup(t.messages.invalidCoordinate),t._badInput=!0}))}}},{key:"_reverseConvert",value:function(e,t){var n=this,r=this.viewModel;return t.reverseConvert(e).then((function(e){return n._goToEnabled&&r.goToLocation(e).catch((function(e){Ve.warn(e),n._showPopup(n.messages.locationOffBasemap)})),e}))}},{key:"_setInputFormat",value:function(e){var t=e.target,n=t[t.options.selectedIndex]["data-format"];this._conversionFormat=n}},{key:"_setPreviewConversion",value:function(){var e=this._findSettingsFormat(),t=this.viewModel;if(e){var n=this.conversions.find((function(t){return t.format===e}));this._previewConversion=new _({format:e,position:{location:this.currentLocation,coordinate:n&&n.position.coordinate}}),this._previewConversion.position.coordinate||t.previewConversion(this._previewConversion)}}},{key:"_setSettingsFormat",value:function(e){var t=e.target,n=t[t.options.selectedIndex]["data-format"];this._settingsFormat=n,this._setPreviewConversion()}},{key:"_showPopup",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500;this._popupMessage=e,this._popupVisible?clearTimeout(this._popupId):this._popupVisible=!0,this.scheduleRender(),this._popupId=setTimeout((function(){t._popupId=null,t._hidePopup()}),n)}},{key:"_toggleGoTo",value:function(){this._goToEnabled=!this._goToEnabled}},{key:"_updateCurrentPattern",value:function(e){e.stopPropagation();var t=e.target,n=this._findSettingsFormat();n&&(n.currentPattern=t.value)}},{key:"_renderConversion",value:function(e,t){var n=this.messages,r="".concat(this.id,"__list-item-").concat(t),i="".concat(e.format.name," ").concat(n.conversionOutputSuffix),a=0===t,o=a||this._expanded,s=a?this._renderFirstConversion(e):this._renderTools(t,e,r),c=a&&!e.displayCoordinate?n.noLocation:e.displayCoordinate,u=Object(g.a)("div",{"aria-label":c,class:"esri-coordinate-conversion__display","data-conversion":e,role:"listitem",tabindex:"0",title:c},c),l=this._renderOptions(this.formats.filter((function(t){return t!==e.format})));return o?Object(g.a)("li",{"aria-label":i,class:_e,id:r,key:e,role:"group",title:i,tabindex:"0"},Object(g.a)("select",{"aria-controls":r,"aria-label":n.selectFormat,class:this.classes(ze,xe),bind:this,"data-index":t,onchange:this._addConversion,title:n.selectFormat},Object(g.a)("option",{"aria-label":e.format.name,selected:!0,title:e.format.name},e.format.name.toUpperCase()),l),u,s):null}},{key:"_renderCopyButton",value:function(e){return Object(g.a)("li",{"aria-label":this.messagesCommon.copy,bind:this,class:this.classes(Ne,Ee),"data-conversion":e,onclick:this._copyCoordinateOutput,onkeydown:this._copyCoordinateOutput,oncopy:this._onCopy,role:"button",tabindex:"0",title:this.messagesCommon.copy},Object(g.a)("span",{"aria-hidden":"true",class:"esri-icon-duplicate"}))}},{key:"_renderFirstConversion",value:function(e){var t,n=this.id,i=(t={},Object(r.a)(t,"esri-icon-down",!this._expanded),Object(r.a)(t,"esri-icon-up",this._expanded),t),a=this.messages,o=this.messagesCommon,s="live"===this.mode?a.captureMode:a.liveMode,c=this._expanded?o.collapse:o.expand,u=e.displayCoordinate&&"capture"===this.mode?this._renderCopyButton(e):null,l=this.multipleConversions?Object(g.a)("li",{"aria-controls":"".concat(n,"__").concat(we),"aria-label":c,bind:this,class:Ne,key:"esri-coordinate-conversion__expand-button",onclick:this._toggleExpand,onkeydown:this._toggleExpand,role:"button",tabindex:"0",title:c},Object(g.a)("span",{"aria-hidden":"true",class:this.classes(i)})):Object(g.a)("li",{"aria-label":s,bind:this,class:this.classes(Ne,Se),key:"esri-coordinate-conversion__mode-toggle",onclick:this._toggleMode,onkeydown:this._toggleMode,role:"button",tabindex:"0",title:s},Object(g.a)("span",{"aria-hidden":"true",class:Fe}));return Object(g.a)("ul",{class:ke},u,l)}},{key:"_renderInputForm",value:function(){var e=this._conversionFormat||this.conversions.getItemAt(0).format,t=this.formats.findIndex((function(t){return t.name===e.name})),n=this.id,i="".concat(n,"__").concat(Me),a="".concat(n,"__").concat(Me,"__header"),o=this._renderOptions(this.formats,!0,t),s=Object(r.a)({},"esri-coordinate-conversion__input-coordinate--rejected",this._badInput),c=this.messages,u=this.messagesCommon;return Object(g.a)("div",{"aria-labelledby":a,class:"esri-coordinate-conversion__input-form",key:"esri-coordinate-conversion__input-form",role:"search"},Object(g.a)("div",{class:Ae},Object(g.a)("div",{"aria-label":u.back,bind:this,class:this.classes(Ne,Te),onclick:this._toggleInputVisibility,onkeydown:this._toggleInputVisibility,role:"button",tabindex:"0",title:u.back},this._renderBackIcon()),Object(g.a)("h4",{class:Re,id:a},c.inputCoordTitle)),Object(g.a)("div",{class:Ce},Object(g.a)("select",{"aria-controls":i,"aria-label":c.selectFormat,bind:this,class:this.classes(ze,xe),onchange:this._setInputFormat,title:c.selectFormat},o),Object(g.a)("input",{afterCreate:b.g,"aria-labelledby":a,"aria-required":"true",bind:this,class:this.classes(Me,Le,s),"data-format":e,"data-node-ref":"_coordinateInput",id:i,onkeydown:this._processUserInput,placeholder:c.inputCoordTitle,role:"textbox",spellcheck:!1,title:c.inputCoordTitle,type:"text"})),Object(g.a)("div",{class:Ce},Object(g.a)("label",{"aria-label":c.goTo},Object(g.a)("input",{bind:this,checked:this._goToEnabled,onclick:this._toggleGoTo,title:c.goTo,type:"checkbox"}),c.goTo),Object(g.a)("button",{"aria-label":c.convert,bind:this,class:this.classes("esri-coordinate-conversion__button","esri-button"),onclick:this._processUserInput,title:c.convert,type:"button"},c.convert)))}},{key:"_renderConversionsView",value:function(){var e,t=this,n="".concat(this.id,"__").concat(we),i=this._renderPrimaryTools(),a=this._renderOptions(this.formats),o=this.conversions.map((function(e,n){return t._renderConversion(e,n)})).toArray(),s=this.messages,c=this._expanded?Object(g.a)("div",{class:_e},Object(g.a)("select",{"aria-controls":n,"aria-label":s.addConversion,bind:this,class:this.classes(ze,"esri-coordinate-conversion__select-primary"),onchange:this._addConversion,title:s.addConversion},Object(g.a)("option",{disabled:!0,selected:!0,value:""},s.addConversion),a),i):null,u=(e={},Object(r.a)(e,"esri-coordinate-conversion__conversions-view--expanded",this._expanded),Object(r.a)(e,"esri-coordinate-conversion__conversions-view--expand-up","expand-up"===this.orientation),Object(r.a)(e,"esri-coordinate-conversion__conversions-view--expand-down","expand-down"===this.orientation),e);return Object(g.a)("div",{class:this.classes("esri-coordinate-conversion__conversions-view",u),key:"esri-coordinate-conversion__main-view"},Object(g.a)("ul",{"aria-expanded":this._expanded?"true":"false",class:we,id:n},o),c)}},{key:"_renderOptions",value:function(e,t,n){var r=this,i=this.conversions.getItemAt(0);return e.map((function(e,a){var o=!(t||!i)&&(i.format.name===e.name||r.conversions.map((function(e){return e.format.name})).includes(e.name));return Object(g.a)("option",{"aria-label":e.name,"data-format":e,disabled:o,key:e.name,selected:a===n,value:e.name},e.name.toUpperCase())})).toArray()}},{key:"_renderPopup",value:function(){return Object(g.a)("div",{class:"esri-coordinate-conversion__popup",role:"alert"},this._popupMessage)}},{key:"_renderPrimaryTools",value:function(){var e=this.messages,t="live"===this.mode?e.captureMode:e.liveMode;return Object(g.a)("ul",{class:ke},Object(g.a)("li",{bind:this,class:Ne,onclick:this._toggleInputVisibility,onkeydown:this._toggleInputVisibility,role:"button",tabindex:"0",title:e.inputCoordTitle},Object(g.a)("span",{"aria-hidden":"true",class:"esri-icon-edit"})),Object(g.a)("li",{bind:this,class:this.classes(Ne,Se),onclick:this._toggleMode,onkeydown:this._toggleMode,role:"button",tabindex:"0",title:t},Object(g.a)("span",{"aria-hidden":"true",class:Fe})),Object(g.a)("li",{bind:this,class:Ne,onclick:this._toggleSettingsVisibility,onkeydown:this._toggleSettingsVisibility,role:"button",tabindex:"0",title:e.settingsTitle},Object(g.a)("span",{"aria-hidden":"true",class:"esri-icon-settings2"})))}},{key:"_renderSettings",value:function(){var e=this.id,t="".concat(e,"__").concat(Pe),n="".concat(e,"__").concat(Pe,"__header"),r="".concat(e,"__").concat(De),i=this.formats.filter((function(e){return e.hasDisplayProperties})),a=this._findSettingsFormat(),o=i.indexOf(a),s=this._renderOptions(i,!0,o),c=a.get("currentPattern"),u=this.messages,l=this.messagesCommon;return Object(g.a)("div",{"aria-labelledby":n,class:"esri-coordinate__settings",key:"esri-coordinate-conversion__settings"},Object(g.a)("div",{class:Ae},Object(g.a)("div",{bind:this,class:this.classes(Ne,Te),onclick:this._toggleSettingsVisibility,onkeydown:this._toggleSettingsVisibility,role:"button",tabindex:"0",title:l.back},this._renderBackIcon()),Object(g.a)("h4",{class:Re,id:n},u.settingsTitle)),Object(g.a)("div",{class:Ie},Object(g.a)("label",{for:t},u.changeCoordinateDisplay),Object(g.a)("select",{"aria-label":u.selectFormat,class:ze,bind:this,onchange:this._setSettingsFormat,title:u.selectFormat},s),Object(g.a)("div",{class:"esri-coordinate-conversion__settings-group-horizontal"},Object(g.a)("input",{"aria-controls":r,bind:this,class:this.classes(Pe,Le),id:t,oninput:this._updateCurrentPattern,spellcheck:!1,title:u.changeCoordinateDisplay,type:"text",value:c}),Object(g.a)("div",{"aria-controls":t,bind:this,class:Ne,onclick:this._setDefaultPattern,onkeydown:this._setDefaultPattern,role:"button",tabindex:"0",title:u.defaultPattern},Object(g.a)("span",{"aria-hidden":"true",class:"esri-icon-refresh"})))),Object(g.a)("div",{class:Ie},Object(g.a)("label",null,l.preview,Object(g.a)("div",{class:De,id:r,tabindex:"0"},this._previewConversion.displayCoordinate))))}},{key:"_renderBackIcon",value:function(){return Object(g.a)("span",{"aria-hidden":"true",class:Object(b.e)()?"esri-icon-right-arrow":"esri-icon-left-arrow"})}},{key:"_renderTools",value:function(e,t,n){var r=t.displayCoordinate&&"capture"===this.mode?this._renderCopyButton(t):null,i=this.messages;return Object(g.a)("ul",{class:ke,role:"listitem"},r,Object(g.a)("li",{"aria-controls":n,"aria-label":i.removeConversion,bind:this,class:this.classes(Ne,Ee),"data-index":e,key:"".concat(n,"__").concat(Ne),onclick:this._removeConversion,onkeydown:this._removeConversion,tabindex:"0",role:"button",title:i.removeConversion},Object(g.a)("span",{"aria-hidden":"true",class:"esri-icon-close"})))}},{key:"_copyCoordinateOutput",value:function(e){var t=e.target;if(!("createTextRange"in document.body)){var n=window.getSelection(),r=document.createRange();r.selectNodeContents(t),n.removeAllRanges(),n.addRange(r)}document.execCommand("copy")}},{key:"_removeConversion",value:function(e){var t=e.currentTarget["data-index"];this.conversions.removeAt(t)}},{key:"_setDefaultPattern",value:function(e){e.stopPropagation();var t=this._findSettingsFormat();t&&(t.currentPattern=t.get("defaultPattern"))}},{key:"_toggleExpand",value:function(){this._expanded=!this._expanded}},{key:"_toggleInputVisibility",value:function(){this._inputVisible=!this._inputVisible,this._popupVisible&&this._hidePopup(),this._inputVisible?this.viewModel.pause():this.viewModel.resume()}},{key:"_toggleMode",value:function(){this.mode="live"===this.mode?"capture":"live"}},{key:"_toggleSettingsVisibility",value:function(){this._settingsVisible=!this._settingsVisible,this._popupVisible&&this._hidePopup(),this._settingsVisible?(this._setPreviewConversion(),this.viewModel.pause()):this.viewModel.resume()}}]),n}(O.a);Object(c.a)([Object(f.a)("viewModel.conversions")],Ue.prototype,"conversions",void 0),Object(c.a)([Object(f.a)("viewModel.currentLocation"),Object(m.a)()],Ue.prototype,"currentLocation",void 0),Object(c.a)([Object(f.a)("viewModel.formats"),Object(m.a)()],Ue.prototype,"formats",void 0),Object(c.a)([Object(f.a)("viewModel.goToOverride")],Ue.prototype,"goToOverride",void 0),Object(c.a)([Object(h.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ue.prototype,"label",void 0),Object(c.a)([Object(h.b)(),Object(m.a)(),Object(y.a)("esri/widgets/CoordinateConversion/t9n/CoordinateConversion")],Ue.prototype,"messages",void 0),Object(c.a)([Object(h.b)(),Object(m.a)(),Object(y.a)("esri/t9n/common")],Ue.prototype,"messagesCommon",void 0),Object(c.a)([Object(f.a)("viewModel.mode"),Object(m.a)()],Ue.prototype,"mode",void 0),Object(c.a)([Object(h.b)(),Object(m.a)()],Ue.prototype,"orientation",void 0),Object(c.a)([Object(f.a)("viewModel.requestDelay")],Ue.prototype,"requestDelay",void 0),Object(c.a)([Object(h.b)(),Object(m.a)()],Ue.prototype,"multipleConversions",null),Object(c.a)([Object(f.a)("viewModel.locationSymbol")],Ue.prototype,"locationSymbol",void 0),Object(c.a)([Object(f.a)("viewModel.view"),Object(m.a)()],Ue.prototype,"view",void 0),Object(c.a)([Object(h.b)({type:je}),Object(m.a)(["viewModel.state","viewModel.waitingForConversions"])],Ue.prototype,"viewModel",void 0),Object(c.a)([Object(v.a)()],Ue.prototype,"_copyCoordinateOutput",null),Object(c.a)([Object(v.a)()],Ue.prototype,"_removeConversion",null),Object(c.a)([Object(v.a)()],Ue.prototype,"_setDefaultPattern",null),Object(c.a)([Object(v.a)()],Ue.prototype,"_toggleExpand",null),Object(c.a)([Object(v.a)()],Ue.prototype,"_toggleInputVisibility",null),Object(c.a)([Object(v.a)()],Ue.prototype,"_toggleMode",null),Object(c.a)([Object(v.a)()],Ue.prototype,"_toggleSettingsVisibility",null);Ue=Object(c.a)([Object(d.a)("esri.widgets.CoordinateConversion")],Ue)},function(e,t,n){"use strict";n(7),n(13),n(16),n(38);var r,i=n(2),a=n(3),o=(n(61),n(57),n(5)),s=n(6),c=n(0),u=(n(15),n(4),n(14)),l=(n(18),n(1)),h=n(8),f=(n(20),n(12),n(21),n(22),n(17),n(144),n(49),n(29),n(131),n(152)),d=n(10),p=n(23),b=n(50),v=n(35),y=n(27),m=n(97),g=n(99),O=n(194),j=new b.a({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),w=new b.a({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),_=r=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).where=null,r.geometry=null,r.spatialRelationship="intersects",r.hiddenIds=new Set,r.distance=void 0,r.objectIds=null,r.units=null,r.timeExtent=null,r.enabled=!1,r}return Object(a.a)(n,[{key:"writeWhere",value:function(e,t){t.where=e||"1=1"}},{key:"enable",value:function(){this._set("enabled",!0)}},{key:"createQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.where,n=this.geometry,r=this.spatialRelationship,i=this.timeExtent,a=this.objectIds,o=this.units,s=this.distance;return new f.a(Object(d.a)({geometry:Object(p.a)(n),objectIds:Object(p.a)(a),spatialRelationship:r,timeExtent:Object(p.a)(i),where:t,units:o,distance:s},e))}},{key:"clone",value:function(){var e=this.where,t=this.geometry,n=this.spatialRelationship,i=this.hiddenIds,a=this.timeExtent,o=this.objectIds,s=this.units,c=this.distance,u=new Set;return i.forEach((function(e){return u.add(e)})),new r({geometry:Object(p.a)(t),hiddenIds:u,objectIds:Object(p.a)(o),spatialRelationship:n,timeExtent:Object(p.a)(a),where:e,units:s,distance:c})}}]),n}(y.a);Object(c.a)([Object(l.b)({type:String})],_.prototype,"where",void 0),Object(c.a)([Object(v.a)("where")],_.prototype,"writeWhere",null),Object(c.a)([Object(l.b)({types:g.b,json:{read:m.a,write:!0}})],_.prototype,"geometry",void 0),Object(c.a)([Object(l.b)({type:String,json:{read:{source:"spatialRel",reader:j.read},write:{target:"spatialRel",writer:j.write}}})],_.prototype,"spatialRelationship",void 0),Object(c.a)([Object(l.b)({json:{write:function(e,t,n){return t[n]=Array.from(e)},read:function(e){return new Set(e)}}})],_.prototype,"hiddenIds",void 0),Object(c.a)([Object(l.b)({type:Number,json:{write:{overridePolicy:function(e){return{enabled:e>0}}}}})],_.prototype,"distance",void 0),Object(c.a)([Object(l.b)({type:[Number],json:{write:!0}})],_.prototype,"objectIds",void 0),Object(c.a)([Object(l.b)({type:String,json:{read:w.read,write:{writer:w.write,overridePolicy:function(e){return{enabled:e&&this.distance>0}}}}})],_.prototype,"units",void 0),Object(c.a)([Object(l.b)({type:O.a,json:{write:!0}})],_.prototype,"timeExtent",void 0),Object(c.a)([Object(l.b)({readOnly:!0})],_.prototype,"enabled",void 0);var x,k=_=r=Object(c.a)([Object(h.a)("esri.views.layers.support.FeatureFilter")],_),S=x=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).filter=null,e.includedEffect=null,e.excludedEffect=null,e.excludedLabelsVisible=!1,e}return Object(a.a)(n,[{key:"clone",value:function(){return new x({filter:this.filter&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}}]),n}(y.a);Object(c.a)([Object(l.b)({type:k,json:{write:!0}})],S.prototype,"filter",void 0),Object(c.a)([Object(l.b)({json:{write:!0}})],S.prototype,"includedEffect",void 0),Object(c.a)([Object(l.b)({json:{write:!0}})],S.prototype,"excludedEffect",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{write:!0}})],S.prototype,"excludedLabelsVisible",void 0);S=x=Object(c.a)([Object(h.a)("esri.views.layers.support.FeatureEffect")],S);u.a.getLogger("esri.views.layers.FeatureLayerView")},function(e,t,n){"use strict";n.r(t),n.d(t,"UNMOUNTED",(function(){return h})),n.d(t,"EXITED",(function(){return f})),n.d(t,"ENTERING",(function(){return d})),n.d(t,"ENTERED",(function(){return p})),n.d(t,"EXITING",(function(){return b}));var r=n(155),i=n(182),a=(n(100),n(19)),o=n.n(a),s=n(196),c=n.n(s),u=!1,l=o.a.createContext(null),h="unmounted",f="exited",d="entering",p="entered",b="exiting",v=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=f,r.appearStatus=d):i=p:i=t.unmountOnExit||t.mountOnEnter?h:f,r.state={status:i},r.nextCallback=null,r}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===h?{status:f}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==p&&(t=d):n!==d&&n!==p||(t=b)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===d?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===f&&this.setState({status:h})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[c.a.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||u?this.safeSetState({status:p},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:d},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:c.a.findDOMNode(this);t&&!u?(this.props.onExit(r),this.safeSetState({status:b},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:f},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:f},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:c.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===h)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(l.Provider,{value:null},"function"===typeof n?n(e,i):o.a.cloneElement(o.a.Children.only(n),i))},t}(o.a.Component);function y(){}v.contextType=l,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},v.UNMOUNTED=h,v.EXITED=f,v.ENTERING=d,v.ENTERED=p,v.EXITING=b;t.default=v},function(e,t,n){"use strict";var r=n(28),i=n(2),a=n(3),o=n(5),s=n(6),c=n(0),u=(n(15),n(14),n(18),n(1)),l=n(41),h=n(8),f=(n(12),n(21),n(22),n(82)),d=n(88),p=n(33),b=n(11),v=n(212),y=n(94),m=n(37),g=n(60),O=n(29),j=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._viewpointHandle=null,r._handles=new g.a,r.group=null,r}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this;this._handles.add(Object(O.b)(this,"view.ui","expand",(function(t){var n=t.target;n&&n!==e&&n.expanded&&n.group&&n.group===e.group&&e._collapse()})))}},{key:"destroy",value:function(){this._viewpointHandle=null,this.view=null,this._handles.destroy(),this._handles=null}},{key:"autoCollapse",set:function(e){this._set("autoCollapse",e),this._watchViewpoint()}},{key:"expanded",set:function(e){var t=!!e;this._set("expanded",t);var n=this.get("view.ui");n&&n.emit("expand",{target:this}),this._viewpointHandleChange(t)}},{key:"state",get:function(){return this.get("view.ready")?"ready":"disabled"}},{key:"view",set:function(e){var t=this;this._get("view")!==e&&(this._set("view",e),e&&Object(O.l)(e,"ready",(function(){t.view===e&&t._watchViewpoint()})))}},{key:"_viewpointHandleChange",value:function(e){var t=this;this._viewpointHandle&&(e?Object(O.l)(this.view,"stationary",(function(){return t._viewpointHandle.resume()})):this._viewpointHandle.pause())}},{key:"_watchViewpoint",value:function(){var e=this,t="viewpoint";this._handles.remove(t),this._viewpointHandle=null;var n=this.autoCollapse,r=this.view;if(r&&n){var i="3d"===r.type?"camera":"viewpoint",a=Object(O.c)(r,i,(function(){return e._collapse()}));this._handles.add(a,t),this._viewpointHandle=a}}},{key:"_collapse",value:function(){this.expanded=!1}}]),n}(m.a);Object(c.a)([Object(u.b)({value:!1})],j.prototype,"autoCollapse",null),Object(c.a)([Object(u.b)({value:!1})],j.prototype,"expanded",null),Object(c.a)([Object(u.b)()],j.prototype,"group",void 0),Object(c.a)([Object(u.b)({dependsOn:["view.ready"],readOnly:!0})],j.prototype,"state",null),Object(c.a)([Object(u.b)({value:null})],j.prototype,"view",null);var w=j=Object(c.a)([Object(h.a)("esri.widgets.Expand.ExpandViewModel")],j),_="esri-expand__icon-number",x=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r)).autoCollapse=null,a.collapseTooltip="",a.content="",a.expanded=null,a.expandTooltip="",a.group=null,a.iconNumber=0,a.label=void 0,a.messages=null,a.messagesCommon=null,a.mode="auto",a.view=null,a.viewModel=new w,a}return Object(a.a)(n,[{key:"contentId",get:function(){return"".concat(this.id,"_controls_content")}},{key:"expandTitle",get:function(){var e=this.expanded,t=this.messagesCommon,n=this.collapseTooltip,r=this.expandTooltip;return e?n||t.collapse:r||t.expand}},{key:"collapseIconClass",get:function(){return"esri-icon-collapse"},set:function(e){e?this._override("collapseIconClass",e):this._clearOverride("collapseIconClass")}},{key:"expandIconClass",get:function(){return Object(v.b)(this.content)?this.content.iconClass:"esri-icon-expand"},set:function(e){e?this._override("expandIconClass",e):this._clearOverride("expandIconClass")}},{key:"expand",value:function(){this.viewModel.expanded=!0}},{key:"collapse",value:function(){this.viewModel.expanded=!1}},{key:"toggle",value:function(){this.viewModel.expanded=!this.viewModel.expanded}},{key:"render",value:function(){var e,t=this.mode,n=(e={},Object(r.a)(e,"esri-expand--auto","auto"===t),Object(r.a)(e,"esri-expand--drawer","drawer"===t),Object(r.a)(e,"esri-expand--floating","floating"===t),e);return Object(b.a)("div",{class:this.classes("esri-expand esri-widget",n)},this.renderMask(),this.renderContainer())}},{key:"renderContainer",value:function(){var e=this.expanded,t=Object(r.a)({},"esri-expand__container--expanded",e);return Object(b.a)("div",{class:this.classes("esri-expand__container",t)},this.renderPanel(),this.renderContent())}},{key:"renderMask",value:function(){var e=this.expanded,t=Object(r.a)({},"esri-expand__mask--expanded",e);return Object(b.a)("div",{bind:this,onclick:this._toggle,class:this.classes("esri-expand__mask",t)})}},{key:"renderBadgeNumber",value:function(){var e=this.expanded,t=this.iconNumber;return t&&!e?Object(b.a)("span",{key:"expand__icon-number",class:_},t):null}},{key:"renderPanelNumber",value:function(){var e=this.iconNumber,t=this.expanded;return e&&t?Object(b.a)("span",{key:"expand__expand-icon-number",class:this.classes(_,"esri-expand__icon-number--expanded")},e):null}},{key:"renderIcon",value:function(){var e,t=this.collapseIconClass,n=this.expandIconClass,i=this.expanded,a=(e={},Object(r.a)(e,"esri-expand__icon--expanded",i),Object(r.a)(e,t,i),Object(r.a)(e,n,!i),e);return t===n&&(a[t]=!0),Object(b.a)("span",{"aria-hidden":"true",class:this.classes("esri-collapse__icon",a)})}},{key:"renderTitle",value:function(){return Object(b.a)("span",{class:"esri-icon-font-fallback-text"},this.expandTitle)}},{key:"renderExpandButton",value:function(){var e=this.expanded,t=this.expandTitle,n=this.contentId;return Object(b.a)("div",{bind:this,onclick:this._toggle,onkeydown:this._toggle,"aria-controls":n,"aria-expanded":e?"true":"false",title:t,role:"button",tabindex:"0",class:"esri-widget--button"},this.renderBadgeNumber(),this.renderIcon(),this.renderTitle())}},{key:"renderPanel",value:function(){return Object(b.a)("div",{class:"esri-expand__panel"},this.renderExpandButton(),this.renderPanelNumber())}},{key:"renderContent",value:function(){var e=this.expanded,t=this.contentId,n=Object(r.a)({},"esri-expand__content--expanded",e);return Object(b.a)("div",{id:t,role:"region",class:this.classes("esri-expand__content",n)},this.renderContentContainer())}},{key:"renderContentContainer",value:function(){var e=this.content;return"string"==typeof e?Object(b.a)("div",{innerHTML:e}):Object(v.b)(e)?e.render():e instanceof HTMLElement?Object(b.a)("div",{bind:e,afterCreate:this._attachToNode}):Object(v.a)(e)?Object(b.a)("div",{bind:e.domNode,afterCreate:this._attachToNode}):null}},{key:"_toggle",value:function(){this.toggle()}},{key:"_attachToNode",value:function(e){e.appendChild(this)}}]),n}(y.a);Object(c.a)([Object(u.b)({readOnly:!0,dependsOn:["id"]}),Object(p.a)()],x.prototype,"contentId",null),Object(c.a)([Object(u.b)({readOnly:!0,dependsOn:["expanded","messagesCommon","collapseTooltip","expandTooltip"]}),Object(p.a)()],x.prototype,"expandTitle",null),Object(c.a)([Object(l.a)("viewModel.autoCollapse")],x.prototype,"autoCollapse",void 0),Object(c.a)([Object(u.b)({dependsOn:["content"]}),Object(p.a)()],x.prototype,"collapseIconClass",null),Object(c.a)([Object(u.b)(),Object(p.a)()],x.prototype,"collapseTooltip",void 0),Object(c.a)([Object(u.b)(),Object(p.a)()],x.prototype,"content",void 0),Object(c.a)([Object(l.a)("viewModel.expanded"),Object(p.a)()],x.prototype,"expanded",void 0),Object(c.a)([Object(u.b)({dependsOn:["content"]}),Object(p.a)()],x.prototype,"expandIconClass",null),Object(c.a)([Object(u.b)(),Object(p.a)()],x.prototype,"expandTooltip",void 0),Object(c.a)([Object(l.a)("viewModel.group")],x.prototype,"group",void 0),Object(c.a)([Object(u.b)(),Object(p.a)()],x.prototype,"iconNumber",void 0),Object(c.a)([Object(u.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],x.prototype,"label",void 0),Object(c.a)([Object(u.b)(),Object(p.a)(),Object(d.a)("esri/widgets/Expand/t9n/Expand")],x.prototype,"messages",void 0),Object(c.a)([Object(u.b)(),Object(p.a)(),Object(d.a)("esri/t9n/common")],x.prototype,"messagesCommon",void 0),Object(c.a)([Object(u.b)(),Object(p.a)()],x.prototype,"mode",void 0),Object(c.a)([Object(l.a)("viewModel.view"),Object(p.a)()],x.prototype,"view",void 0),Object(c.a)([Object(u.b)({type:w}),Object(p.a)("viewModel.state")],x.prototype,"viewModel",void 0),Object(c.a)([Object(f.a)()],x.prototype,"_toggle",null);x=Object(c.a)([Object(h.a)("esri.widgets.Expand")],x)}]]);
//# sourceMappingURL=24.03b29032.chunk.js.map