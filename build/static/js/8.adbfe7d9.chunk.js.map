{"version":3,"sources":["../node_modules/@arcgis/core/core/libs/earcut/earcut.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/AnalyticalSkyModel.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js","../node_modules/@arcgis/core/geometry/geometryAdapters/hydrated.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js","../node_modules/@arcgis/core/geometry/geometryEngine.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js","../node_modules/@arcgis/core/chunks/WaterSurface.glsl.js","../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/chunks/NativeLine.glsl.js","../node_modules/@arcgis/core/chunks/SlicePlaneMaterial.glsl.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js","../node_modules/@arcgis/core/views/draw/support/createUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Reprojection.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","../node_modules/@arcgis/core/geometry/support/triangulationUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js","../node_modules/@arcgis/core/views/3d/support/debugFlags.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTarget.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/localOrigin.js","../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/CommonUniformStore.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRep.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ResizableFloat32Array.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js","../node_modules/@arcgis/core/views/3d/webgl-engine/statistics/RendererPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LongVectorMath.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../node_modules/@arcgis/core/views/3d/layers/graphics/constants.js","../node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pointUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/pointGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/NativeLineMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolConfig.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/SlicePlaneMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/SlicePlaneVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/widgets/Slice/SlicePlane.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/PreserveAspectRatio.js","../node_modules/@arcgis/core/views/interactive/editGeometry/support/editPlaneUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ExtentTransformTool.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/images/heading-rotate-png.js"],"names":["e","t","r","y","p","c","v","s","i","length","u","o","n","l","Array","next","prev","f","x","Math","min","max","a","z","steiner","h","push","index","m","k","w","M","prevZ","nextZ","B","sort","b","abs","g","q","d","A","Z","j","this","fragment","include","uniforms","add","code","bindUniforms","shadowMappingEnabled","shadowMap","bind","bindView","origin","bindViewCustomOrigin","output","receiveShadows","varyings","vertex","getLogger","C","layer","interactive","selectable","grabbable","dragging","cursor","events","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","geometry","symbol","_set","attachSymbolChanged","error","graphic","elevationInfo","offset","mode","_get","_updateGraphicSymbol","emit","action","detachSymbolChanged","_resetGraphicSymbol","visible","view","type","_intersectDistance2D","_intersectDistance3D","remove","watch","focusedSymbol","_focused","S","originalPoint","equals","spatialReference","clone","mapPoint","radiusPx","size","G","toScreen","xoffset","yoffset","_","toMap","renderSpatialReference","state","camera","eye","constructOnly","nonNullable","prototype","readOnly","value","pbrMode","useCustomDTRExponentForWater","convertToGEGeometry","cache","_geVersion","convertJSONToGeometry","exportPoint","hasZ","hasM","getPointX","getPointY","getPointZ","getPointM","exportPolygon","rings","exportPaths","exportPolyline","paths","exportMultipoint","points","exportPoints","exportExtent","xmin","getXMin","ymin","getYMin","xmax","getXMax","ymax","getYMax","getZExtent","zmin","vmin","zmax","vmax","getMExtent","mmin","mmax","V","verticalOffset","selectionMode","hud","selectOpaqueTerrainOnly","invisibleTerrain","backfacesTerrain","isFiltered","store","_transform","_transformInverse","_transformInverseTranspose","_transformTranspose","_transformInverseRotation","T","invalidate","invalidateLazyTransforms","setTransformMatrix","multiplyTransform","original","update","dirty","transform","ground","init","all","normal","transformation","_ray","create","dist","Y","ray","direction","hasIntersectionPoint","target","name","drapedLayerOrder","drapedLayerGraphicOrder","center","geometryId","triangleNr","intersector","copy","obj","U","metadata","layerUid","map","findLayerByUid","P","R","createGraphic","N","graphicsView","graphics3d","id","graphics","getGraphicFromGraphicUid","graphicUid","allLayerViews","find","suspended","getGraphicFromIntersectorMetadata","tmpVertex","localOrigin","sqrt","componentLocalOriginLength","mbs","obb","halfSize","quaternion","O","$","sphere","L","objectTransform","inverse","E","W","isArray","extendedSpatialReferenceInfo","clip","cut","contains","crosses","distance","intersects","touches","within","disjoint","overlaps","relate","isSimple","simplify","convexHull","difference","symmetricDifference","intersect","union","I","buffer","geodesicBuffer","nearestCoordinate","J","nearestVertex","nearestVertices","extent","Error","constructor","fromJSON","rotate","flipHorizontal","flipVertical","D","generalize","H","densify","geodesicDensify","planarArea","planarLength","geodesicArea","geodesicLength","origins","String","read","url","write","writer","resources","verifyItemRelativeUrls","writtenUrls","rootPath","originIdOf","portalItem","resourceFromPath","path","toUpdate","toKeep","resource","pendingOperations","then","itemRelativeUrl","toAdd","content","finish","Blob","JSON","stringify","toJSON","responseType","data","byteLength","Uint32Array","minReduction","originalIndices","componentOffsets","floor","ceil","indices","uniqueCount","setUniform1i","setUniform4f","waveStrength","waveTextureRepeat","flowStrength","flowOffset","setUniform2f","waveDirection","waveVelocity","linearDepth","attributes","multipassTerrainEnabled","OITEnabled","Object","freeze","__proto__","build","builder","bindPassUniforms","setUniform1f","perScreenPixelRatio","screenSize","screenSizeEnabled","shadingEnabled","stippleEnabled","stippleIntegerRepeatsEnabled","attributeColor","extensions","viewingMode","forEach","reverse","isSelfIntersecting","mapToLocalMultiple","round","localToMap","doUnnormalization","radius","radiusUnit","PI","cos","sin","highStepCount","lastFrameColorTextureUnit","bindTexture","lastFrameColorTexture","setUniformMatrix4fv","reprojectionMat","projectionMatrix","ssrEnabled","linearDepthTextureUnit","linearDepthTexture","setUniform2fv","nearFar","viewMatrix","height","constants","Map","texture","dispose","clear","patternId","get","refCount","patternToTextureData","width","internalFormat","pixelFormat","dataType","wrapMode","set","acquire","release","join","reduce","Uint8Array","slice","main","selected","staged","outline","selectedOutline","color","coneHeight","coneWidth","renderOccluded","outlineSize","collisionPadding","outlineColor","hoverOutlineColor","setParameterValues","transparent","edge","stipplePattern","stippleOffColor","falloff","innerWidth","innerColor","shape","primitive","glowColor","glowWidth","glowFalloff","globalAlpha","globalAlphaContrastBoost","heightFillColor","toUnitRGB","intersectsLineRadius","style","laserlineStyle","shadowStyle","extensionType","lineGraphics","pointGraphics","heightPlane","heightBox","zVerticalLine","laserlineAlphaMultiplier","heightPlaneAngleCutoff","toUnitRGBA","visualElements","reshapeManipulators","zManipulator","material","boundingSphere","instanceParameters","highlights","occludees","shaderTransformationDirty","boundingInfo","calculateShaderTransformation","updateTransformation","castShadow","computeBoundingSphere","getCenter","getBSRadius","primitiveType","shaderTransformation","computeAttachmentOrigin","vertexAttributes","Float64Array","pathLengths","count","holeIndices","position","polygons","outlines","intensity","castShadows","sh","_viewUp","_viewForward","_viewRight","createWrapper","_viewport","_padding","_fov","_nearFar","_viewDirty","_viewMatrix","F","_projectionDirty","_projectionMatrix","_viewProjectionDirty","_viewProjectionMatrix","_viewInverseTransposeMatrixDirty","_viewInverseTransposeMatrix","_frustumDirty","_frustum","_fullViewport","pixelRatio","relativeElevation","_eye","_center","_up","_compareAndSetView","_ensureViewClean","fullWidth","fullHeight","near","tan","fovY","aspect","far","X","_recomputeFrustum","fovX","perRenderPixelRatio","up","copyFrom","fov","padding","viewport","computeRenderPixelSizeAtDist","viewDirectionDistance","computeScreenPixelSizeAtDist","viewForward","setViewport","fullViewport","projectToRenderScreen","K","renderToScreen","viewProjectionMatrix","unprojectFromRenderScreen","screenToRender","computeUpGlobal","computeUpLocal","markViewDirty","fromMatrix","arguments","SCENEVIEW_HITTEST_RETURN_INTERSECTOR","SCENEVIEW_LOCKING_LOG","HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED","HIGHLIGHTS_PROFILE_TO_CONSOLE","DECONFLICTOR_SHOW_VISIBLE","DECONFLICTOR_SHOW_INVISIBLE","DECONFLICTOR_SHOW_GRID","LABELS_SHOW_BORDER","OVERLAY_DRAW_DEBUG_TEXTURE","OVERLAY_SHOW_CENTER","SHOW_POI","TESTS_DISABLE_UPDATE_THRESHOLDS","DISABLE_DECONFLICTOR_VISIBILITY_OFFSET","DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES","DRAW_MESH_GEOMETRY_NORMALS","FEATURE_TILE_FETCH_SHOW_TILES","FEATURE_TILE_TREE_SHOW_TILES","TERRAIN_TILE_TREE_SHOW_TILES","I3S_TREE_SHOW_TILES","I3S_SHOW_MODIFICATIONS","ENABLE_PROFILE_DEPTH_RANGE","DISABLE_FAST_UPDATES","LOD_INSTANCE_RENDERER_DISABLE_UPDATES","LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL","EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES","_renderTarget","colorTarget","depthStencilTarget","samplingMode","hasMipmap","maxAnisotropy","colorTexture","resize","bindFramebuffer","descriptor","generateMipmap","vec3","resolution","renderLocalOrigin","renderTargets","fbo","valid","lastUsed","colorWithoutRasterImage","highlight","water","occluded","drawPass","disposeRenderTargetMemory","validateUsage","getGpuMemoryUsage","_uniforms","proj","uShadowMapDistance","viewportPixelSz","lightingMainDirection","hasUniform","technique","refZeroFrame","_context","_perConstructorInstances","_frameCounter","_keepAliveFrameCount","key","commonUniformStore","getPrograms","shader","reload","Promise","refCnt","glMaterial","_textureRep","_techniqueRep","onMaterialChanged","_id2glMaterialRef","ownMaterial","getGLMaterial","techniqueRep","textureRep","incRefCnt","decRefCnt","getRefCnt","updateParameters","materialRepository","ROOT_ORIGIN_ID","_origins","_gridSize","testOrigin","getOrigin","random","window","_stage","_object","_material","isPickable","Uint16Array","WebMercator","exclusive","addGeometry","console","log","rctx","offscreenRenderingHelper","scenelightingData","ssaoHelper","sliceHelper","lastFrameCamera","pass","slot","highlightDepthTexture","renderOccludedMask","hasOccludees","adds","removes","updates","allocator","deallocator","renderGeometry","prune","indexCount","_array","Float32Array","_size","subarray","waterTextureRepository","configuration","transparencyPassType","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","useSSR","cullAboveGround","generateSource","ready","updating","loadTextures","bindProjectionMatrix","program","inverseViewport","lighting","setUniforms","bindRepo","setUniform4fv","bindOutputHighlight","bindCamPosition","viewInverseTransposeMatrix","SHADOW_MAP","bindUniformsWithOrigin","blending","depthTest","func","depthWrite","writeDepth","colorWrite","polygonOffset","enableOffset","setPipelineState","isDraped","acquireAndReleaseExisting","getTechniqueConfig","params","animation","time","animationSpeed","ensureResource","_updateShadowState","_updateSSRState","bindProgram","bindPass","setElapsedTimeUniform","from","to","isVisible","hasHighlights","transformationNormal","first","drawCalls","triangles","_dataByOrigin","_hasHighlights","_hasOccludees","_rctx","_materialRep","_glMaterials","_bufferWriter","createBufferWriter","vao","isEmpty","updateGeometries","addAndRemoveGeometries","updateRenderCommands","vertexBufferLayout","stride","optimalCount","sparseCount","toRemove","elementCount","createData","array","removeAndRebuild","removeByErasing","end","begin","append","vertexBuffers","byteSize","setData","setSubData","drawCommandsDirty","updateType","instances","invTranspTransformation","createView","hasHiddenInstances","drawCommandsDefault","drawCommandsHighlight","drawCommandsOccludees","drawCommandsShadowHighlightRest","stats","default","shadowHighlightRest","layout","values","ensureResources","beginSlot","ensureParameters","getTechnique","getPipelineState","bindDraw","ensureAttributeLocations","bindVAO","renderCommands","drawArrays","vertexAttributeLocations","createVertex","erase","glMaterials","_pendingAddsRemoves","_changes","_materialRenderers","_sortedMaterialRenderers","_hasWater","rendersOccluded","forAll","stopAtTime","updateAddsRemoves","hasWater","modify","updateSortedMaterialRenderers","notifyChange","pushNew","materialRenderer","updateLogic","render","insertOrder","renderPriority","has","removeUnorderedIndex","sortedMaterialRenderers","hasAlpha","sphericalHarmonics","_renderLighting","_shOrder","_oldSunlight","ambient","diffuse","setUniform3fv","_info","groundLightingFactor","globalFactor","setLightDirectionUniform","setUniform3f","lights","_overlays","_rendersOccluded","_lighting","_localOrigins","_handles","_layerRenderers","_sortedLayerRenderersDirty","_sortedLayerRenderers","_geometries","globalUnitScale","longitudeCyclical","renderView","renderingContext","_renderContext","_stippleTextureRepository","_shaderTechniqueRepository","stippleTextureRepository","emitContentChanged","_materialRepository","textureRepository","updateRendersOccluded","_compositingHelper","compositingHelper","_bindParameters","screenToWorldRatio","screenToWorldRatioGlobalWM","slicePlane","ssaoEnabled","terrainLinearDepthTexture","geometryLinearDepthTexture","multipassGeometryEnabled","scheduler","registerTask","STAGE","commitChanges","destroy","_temporaryRenderTarget","_debugPatternTexture","_quadVAO","updateSortedLayerRenderers","updateHasHighlights","updateHasWater","ensureLayerRenderer","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","warn","numViews","_screenToWorldRatio","views","hasNonZeroSizedView","isValid","setClearColor","clearSafe","setViewParameters","drawDebugTexture","layerView","renderer","drapeSourceType","fullOpacity","bindTemporaryFramebuffer","draw","composite","getTexture","generateMipMap","resetRenderOccludedMask","hotReload","intersectRenderGeometry","range","getShaderTransformation","addIntersectionResult","results","options","stopAnimationsAtTime","keys","Set","setGLViewport","onContentChanged","onHasHighlightsChanged","onRendersOccludedChanged","ensureDebugPatternResources","_debugTextureTechnique","pipeline","layerRenderers","Boolean","attributeData","removeDuplicateStartEnd","mapPosition","colorFeature","sizeFeature","opacityFeature","uniformSize","resourceFactory","_resources","_visible","_attached","_destroyResources","external","_syncGeometriesToRenderer","_createOrDestroyResources","attached","_createResources","recreateGeometry","ensureRenderGeometriesRemoved","recreate","createResources","geometriesAdded","basemapTerrain","overlayManager","registerDrapeSource","unregisterDrapeSource","ensureRenderGeometriesAdded","removeGeometries","geometries","addGeometries","_attachmentOrigin","_attachmentOriginDirty","_isDraped","_geometry","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_falloff","_elevationInfo","_laserlineStyle","_laserlineEnabled","_renderOccluded","drapedResources","createDrapedResources","createRenderGeometriesDraped","attachmentOriginChanged","_laserline","updateAttached","laserlineAttached","laserlineEnabled","updateMaterial","isClosed","renderCoordsHelper","fromRenderCoords","materialParameters","stippleIntegerRepeats","normalizedRenderOccluded","createRenderGeometries","lines","projectionSuccess","sampledElevation","elevationProvider","fromElevationInfo","pathVerticalPlane","shadingTint","shadingDirection","blendColor","culling","face","cullFace","supportsEdges","techniqueConfig","_vertexAttributeLocations","applyToVertex","computeRenderPixelSizeAt","applyToAabb","getPassParameters","vec3f","createBuffer","getField","_vertices","_spatialReference","colorToVec4","_outlineColor","_outlineSize","applyProps","updateOutlineMaterial","vertexMaterial","vertexMaterialParameters","vertexOutlineMaterial","vertexOutlineMaterialParameters","vertices","numVertices","vertexGeometry","vertexOutlineGeometry","createSphereGeometry","tracking","displaying","EventedAccessor","drawOperation","_createGraphic","_createGraphicState","_outlineVisualElement","_verticesVisualElement","_stagedVerticesVisualElement","defaultZ","snapToScene","snappingManager","geometryType","_internalGraphicsLayer","listMode","internal","layers","manipulators","drawingMode","snapToSceneEnabled","snappingDrawSurface","elevationDrawSurface","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","_destroyAllVisualisations","onInputEvent","hasStagedVertex","splice","regularVertices","stagedVertices","full","coordinateHelper","createPointFromArray","makeMapPoint","forceUniformSize","centered","_destroyCreateGraphic","_destroyOutlineVisualElement","_destroyVerticesVisualElement","_destroyStagedVerticesVisualElement","handles","_getCreateGeometry","apply","createGraphicSymbol","maskOccludee","trackGraphicState","_updateCreateGraphic","canRedo","redo","canUndo","undo","complete","isCompleted","cancel","vertexIndex","EventedMixin","idHint","_elevation","override","collisionType","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","_renderLocationDirty","_location","_elevationAlignedLocation","_elevationAlignedLocationDirty","_grabbing","_hovering","_selected","_state","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_engineLayer","_materialIdReferences","_removeResourcesFromStage","_updateEngineObject","toRenderCoords","elevationAlignedLocation","ie","location","_evaluateElevationAlignment","_updateElevationAlignedLocation","_setFocused","ensureScreenLocation","computeScreenPixelSizeAt","renderLocation","_calculateModelTransformOffset","ae","available","_getCollisionRadius","screenLocation","_getWorldToScreenObjectScale","_calculateObjectTransform","ee","fromScreen","se","closestRayDistance2","fromPoints","Q","oe","re","fromPositionAndNormal","te","ne","intersectRay","_calculateModelTransformPosition","distance2","manipulator3D","engineLayerId","getObject","engineLayerReferences","materialIdReferences","ce","_getFocusedSize","focused","_ensureEngineResources","objectsByState","stateMask","objects","setVisible","commit","renderObjects","materials","_addResourcesToStage","removeMany","areAnyResourcesVisible","atan2","getViewForGraphic","grabbingState","firstSelected","numSelected","firstGrabbedXY","forEachManipulator","grabbing","visualElement","writeDepthEnabled","angleCutoff","setStartEndFromWorldDownAtLocation","heightManifoldTarget","attachmentOrigin","onManipulatorsChanged","intersectsLineInfinite","intersectsWorldUpAtLocation","calculateMapBounds","dxScreen","screenDeltaX","dyScreen","screenDeltaY","translationX","translationY","translationZ","forEachManipulator3D","someManipulator","performanceInfo","queryDuration","numObjectsTested","tolerance","_rayEndPoint","_rayStartPointTransformed","_rayEndPointTransformed","resetWithRay","_numObjectsTested","point","filterPredicate","intersectObject","getSpatialQueryAccelerator","forEachAlongRayWithVerticalOffset","forEachAlongRay","forEachDegenerateObject","getObjects","sortResults","geometryRecords","setAndInvalidateLazyTransforms","Number","MAX_VALUE","MIN_VALUE","screenStart","screenEnd","renderStart","renderEnd","plane","sceneIntersectionHelper","intersectElevationFromScreen","mapStart","mapEnd","worldUpAtPosition","projectPoint","execute","DEFAULT_TOLERANCE","_arrowManipulatorInfos","_opaqueMaterial","createMaterial","_transparentMaterial","_angle","_scale","_updateAfterDrag","_tool","tool","_view","_createManipulators","manipulator","removeAll","createDragPipeline","manipulatorType","angle","_updateManipulatorTransform","_updateManipulators","_updateArrowManipulator","createExtrudedTriangle","transformInPlace","_createArrowManipulator","displayScale","modelTransform","arrowManipulators","lastDragEvent","_enabled","snap","exclude","_snapToScene","_discMaterial","_createMaterial","_discMaterialTransparent","_createManipulator","_manipulator","enabled","_updateManipulator","createDragEventPipelineStep","worldSized","createCylinderGeometry","discManipulator","createManipulator","updateManipulator","createTubeGeometry","createConeGeometry","applyObjectTransform","_angleDeferred","_interactive","xyManipulation","xyAxisManipulation","zManipulation","xyAvailable","xyAxisAvailable","zAvailable","autoHideXYAxis","updateManipulatorInteractivity","createGraphicDragPipeline","xyAxisVisible","inputManager","latestPointerType","disableDisplay","symbolLayers","some","_graphicState","graphicState","allGraphics","dx","dy","enableZ","_toolHandles","snappingPipeline","_refreshManipulators","_moveManipulation","toArray","filter","createManipulators","createVisualElements","updateMoveManipulation","manipulationXY","stopPropagation","buildDragEventPipeline","createMoveManipulation","radiusForSymbol","hasManipulator","getItemAt","updateMoveManipulationAngle","geometryRepresentation","angleDeferred","buildSnappingPipelineSteps","destroyed","pointer","fromGeometry","visualizer","excludeFeature","snapOrigin","fromPoint","createSnapDragEventPipelineStep","snappingContext","_vertexManipulatorMaterial","_vertexManipulatorOutlineMaterial","_vertexManipulatorHoverOutlineMaterial","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","_selectedIndex","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","_manipulatorHandles","_manipulatorInfos","_reshapeHelper","_graphicMoveManipulation","_numGrabbing","_numDragging","_reshapeEventState","outputGeometry","_snappingPipeline","_snappingPipelineHandle","_vertexLaserLineVisualElement","_clear","_recreateManipulators","enableMoveGraphic","handle","_removeVertices","inputGeometry","editGeometry","components","_createPerVertexManipulator","edges","_createGraphicMoveManipulators","moveVertices","mapDeltaX","mapDeltaY","mapDeltaZ","pos","_updateManipulatorPosition","_updateEventState","mover","info","_trackNumDragging","_perGraphicManipulatorDragAction","_cancelDragOperation","_watchAndUpdateGrabState","_clearSelection","predicate","_updateMoveManipulationPosition","Vertex","Edge","_setTypeSpecificManipulatorSettings","locationUpdateHandle","selectedIndex","_getManipulatorInfoFromHandle","left","right","_splitEdgeManipulator","isMultiVertexSelection","_perVertexManipulatorDragAction","_manipulatorClickCallback","doneSnapping","_updateSelection","indexOf","toPoint","splitEdge","createdVertex","component","coordinates","componentIndex","added","orthogonalAvailable","canRemoveVertex","_removeManipulator","removeVertices","removedVertices","createdEdge","removed","shiftKey","button","_dirty","toPolyline","toPolygon","_reshapeOperation","_internalGeometryUpdate","_updateGeometry","manipulatorSelectionChanged","_onReshapeGeometryChanged","_updateGraphic","removeSelectedVertices","rt","ScaleIn","ScaleOut","RotateLeft","RotateRight","Unlocked","DelayedFocused","TouchInput","nt","_scaleRotateDragData","_activeAnimation","getFocused","ringManipulator","getScale","scale","updateDragState","updateManipulatorTransform","frameTask","cancelActiveAnimation","start","deltaTime","createRingManipulator","heading","getSymbolLayerSize","ct","startAngle","symbolRotationAngle","angleDir","scaleDir","startSymbolData","shortestSignedDiff","lt","onScaleChanged","gt","wrap","ht","xScale","yScale","applySymbolData","startAnimation","dt","ut","updateDelayedFocusedState","updateStateEnabled","createPathExtrusionGeometry","et","st","concat","enforceNonZeroSize","depth","mt","pt","enableRotation","enableScaling","scaleRotate","moveManipulation","updateMoveAngle","onGeometryChanged","hideManipulatorsForGraphicState","test","stippleTextureBind","vertexColors","stippleOffColorEnabled","stippleUVMaxEnabled","swap","stencilWrite","sceneHasOcludees","stencilTest","_occludeePipelineState","intersectLineGeometry","signedDistance","frustum","rayBeginPoint","rayEndPoint","closestLineSegmentPoint","_updateOccludeeState","writeAuxpos1","typedBufferStride","typedBuffer","backgroundColor","gridColor","gridWidth","constructionContext","opacity","updateTexture","textureId","bindTextureScale","initTextureTransparent","tilt","json","normalize","Be","basis","basis1","basis2","qe","He","We","Xe","createPolylineGeometry","ye","Ye","bothEnds","tipFocusMultiplier","tipLength","focusTipLength","tipRadius","part","Ze","tubeRadius","tubeFocusMultiplier","flat","thickness","_e","tt","adjustScaleFactors","factor1","factor2","operation","dz","axis1","axis2","ft","_preserveAspectRatio","inputState","moveZManipulator","resizeManipulators","rotateManipulator","outlineVisualElement","mapBounds","mapBoundsStart","displayBounds","displayBoundsStart","displayBoundsMarginStart","resizeHandles","reshapeHelper","graphicMoveManipulation","_createMoveXYGraphicDragPipeline","ke","addCap","updateManipulatorAvailability","_createMoveZDragPipeline","_onResizeGrab","_createResizeDragPipeline","addMany","rotateManipulatorTexture","mipmap","preMultiplyAlpha","Oe","_onRotateGrab","_createRotateDragPipeline","updateDisplayBounds","updateAllManipulatorAvailability","graphicDrapedChanged","pointsOfInterest","focus","Mt","bt","pixelSizeAt","POSITIVE_INFINITY","NEGATIVE_INFINITY","updateUnboundedPlane","displayBoundsMargin","updateManipulators","St","applyGraphicMoveSteps","_moveDragUpdateGeometry","yt","_calculatePickRay","screenPoint","_resizeDragRenderPlaneToFactors","_resizeDragUpdateGeometry","it","Bt","scaleVertices","fromXYZ","at","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdateGeometry","rotateAngle","rotateAxis","rotateVertices","updateZMoveHandle","ot","lastOperation","vt","activeTool"],"mappings":"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","file":"static/js/8.adbfe7d9.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const i=t&&t.length,u=i?t[0]*r:e.length;let o=n(e,0,u,r,!0);const l=new Array;if(!o||o.next===o.prev)return l;let y,p,c,v,s;if(i&&(o=f(e,t,o,r)),e.length>80*r){y=c=e[0],p=v=e[1];for(let n=r;n<u;n+=r){const t=e[n],x=e[n+1];y=Math.min(y,t),p=Math.min(p,x),c=Math.max(c,t),v=Math.max(v,x)}s=Math.max(c-y,v-p),s=0!==s?1/s:0}return x(o,l,r,y,p,s),l}function n(e,n,t,x,r){let i;if(r===a(e,n,t,x)>0)for(let o=n;o<t;o+=x)i=u(o,e[o],e[o+1],i);else for(let o=t-x;o>=n;o-=x)i=u(o,e[o],e[o+1],i);return i&&z(i,i.next)&&(o(i),i=i.next),i}function t(e,n=e){if(!e)return e;let t,x=e;do{if(t=!1,x.steiner||!z(x,x.next)&&0!==h(x.prev,x,x.next))x=x.next;else{if(o(x),x=n=x.prev,x===x.next)break;t=!0}}while(t||x!==n);return n}function x(e,n,u,l,f,y,p=0){if(!e)return;!p&&y&&(e=c(e,l,f,y));let v=e;for(;e.prev!==e.next;){const c=e.prev,s=e.next;if(y?i(e,l,f,y):r(e))n.push(c.index/u),n.push(e.index/u),n.push(s.index/u),o(e),e=s.next,v=s.next;else if((e=s)===v){p?1===p?x(e=m(e,n,u),n,u,l,f,y,2):2===p&&k(e,n,u,l,f,y):x(t(e),n,u,l,f,y,1);break}}}function r(e){const n=e.prev,t=e,x=e.next;if(h(n,t,x)>=0)return!1;let r=e.next.next;const i=r;let u=0;for(;r!==e.prev&&(0===u||r!==i);){if(u++,w(n.x,n.y,t.x,t.y,x.x,x.y,r.x,r.y)&&h(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function i(e,n,t,x){const r=e.prev,i=e,u=e.next;if(h(r,i,u)>=0)return!1;const o=r.x<i.x?r.x<u.x?r.x:u.x:i.x<u.x?i.x:u.x,l=r.y<i.y?r.y<u.y?r.y:u.y:i.y<u.y?i.y:u.y,f=r.x>i.x?r.x>u.x?r.x:u.x:i.x>u.x?i.x:u.x,y=r.y>i.y?r.y>u.y?r.y:u.y:i.y>u.y?i.y:u.y,p=M(o,l,n,t,x),c=M(f,y,n,t,x);let v=e.prevZ,s=e.nextZ;for(;v&&v.z>=p&&s&&s.z<=c;){if(v!==e.prev&&v!==e.next&&w(r.x,r.y,i.x,i.y,u.x,u.y,v.x,v.y)&&h(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,s!==e.prev&&s!==e.next&&w(r.x,r.y,i.x,i.y,u.x,u.y,s.x,s.y)&&h(s.prev,s,s.next)>=0)return!1;s=s.nextZ}for(;v&&v.z>=p;){if(v!==e.prev&&v!==e.next&&w(r.x,r.y,i.x,i.y,u.x,u.y,v.x,v.y)&&h(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;s&&s.z<=c;){if(s!==e.prev&&s!==e.next&&w(r.x,r.y,i.x,i.y,u.x,u.y,s.x,s.y)&&h(s.prev,s,s.next)>=0)return!1;s=s.nextZ}return!0}function u(e,n,t,x){const r=new B(e,n,t);return x?(r.next=x.next,r.prev=x,x.next.prev=r,x.next=r):(r.prev=r,r.next=r),r}function o(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function l(e){let n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function f(e,x,r,i){const u=new Array;for(let t=0,o=x.length;t<o;t++){const r=n(e,x[t]*i,t<o-1?x[t+1]*i:e.length,i,!1);r===r.next&&(r.steiner=!0),u.push(l(r))}u.sort(b);for(const n of u)y(n,r),r=t(r,r.next);return r}function y(e,n){if(n=p(e,n)){const x=q(n,e);t(x,x.next)}}function p(e,n){let t=n;const x=e.x,r=e.y;let i,u=-1/0;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const e=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(e<=x&&e>u){if(u=e,e===x){if(r===t.y)return t;if(r===t.next.y)return t.next}i=t.x<t.next.x?t:t.next}}t=t.next}while(t!==n);if(!i)return null;if(x===u)return i.prev;const o=i,l=i.x,f=i.y;let y,p=1/0;for(t=i.next;t!==o;)x>=t.x&&t.x>=l&&x!==t.x&&w(r<f?x:u,r,l,f,r<f?u:x,r,t.x,t.y)&&(y=Math.abs(r-t.y)/(x-t.x),(y<p||y===p&&t.x>i.x)&&g(t,e)&&(i=t,p=y)),t=t.next;return i}function c(e,n,t,x){for(let r;r!==e;r=r.next){if(r=r||e,null===r.z&&(r.z=M(r.x,r.y,n,t,x)),r.prev.next!==r||r.next.prev!==r)return r.prev.next=r,r.next.prev=r,c(e,n,t,x);r.prevZ=r.prev,r.nextZ=r.next}return e.prevZ.nextZ=null,e.prevZ=null,v(e)}function v(e){let n,t=1;for(;;){let x,r=e;e=null,n=null;let i=0;for(;r;){i++,x=r;let u=0;for(;u<t&&x;u++)x=x.nextZ;let o=t;for(;u>0||o>0&&x;){let t;0===u?(t=x,x=x.nextZ,o--):0!==o&&x?r.z<=x.z?(t=r,r=r.nextZ,u--):(t=x,x=x.nextZ,o--):(t=r,r=r.nextZ,u--),n?n.nextZ=t:e=t,t.prevZ=n,n=t}r=x}if(n.nextZ=null,t*=2,i<2)return e}}function s(e,n,t,x){const r=n&&n.length,i=r?n[0]*t:e.length;let u=Math.abs(a(e,0,i,t));if(r)for(let l=0,f=n.length;l<f;l++){const x=n[l]*t,r=l<f-1?n[l+1]*t:e.length;u-=Math.abs(a(e,x,r,t))}let o=0;for(let l=0;l<x.length;l+=3){const n=x[l]*t,r=x[l+1]*t,i=x[l+2]*t;o+=Math.abs((e[n]-e[i])*(e[r+1]-e[n+1])-(e[n]-e[r])*(e[i+1]-e[n+1]))}return 0===u&&0===o?0:Math.abs((o-u)/u)}function h(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function d(e,n,t,x){return!!(z(e,n)&&z(t,x)||z(e,x)&&z(t,n))||h(e,n,t)>0!=h(e,n,x)>0&&h(t,x,e)>0!=h(t,x,n)>0}function Z(e,n){let t=e;do{if(t.index!==e.index&&t.next.index!==e.index&&t.index!==n.index&&t.next.index!==n.index&&d(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function a(e,n,t,x){let r=0;for(let i=n,u=t-x;i<t;i+=x)r+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return r}function w(e,n,t,x,r,i,u,o){return(r-u)*(n-o)-(e-u)*(i-o)>=0&&(e-u)*(x-o)-(t-u)*(n-o)>=0&&(t-u)*(i-o)-(r-u)*(x-o)>=0}function g(e,n){return h(e.prev,e,e.next)<0?h(e,n,e.next)>=0&&h(e,e.prev,n)>=0:h(e,n,e.prev)<0||h(e,e.next,n)<0}function M(e,n,t,x,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-x)*r)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function z(e,n){return e.x===n.x&&e.y===n.y}function b(e,n){return e.x-n.x}function m(e,n,t){let x=e;do{const r=x.prev,i=x.next.next;!z(r,i)&&d(r,x,x.next,i)&&g(r,i)&&g(i,r)&&(n.push(r.index/t),n.push(x.index/t),n.push(i.index/t),o(x),o(x.next),x=e=i),x=x.next}while(x!==e);return x}function k(e,n,r,i,u,o){let l=e;do{let e=l.next.next;for(;e!==l.prev;){if(l.index!==e.index&&A(l,e)){let f=q(l,e);return l=t(l,l.next),f=t(f,f.next),x(l,n,r,i,u,o),void x(f,n,r,i,u,o)}e=e.next}l=l.next}while(l!==e)}function A(e,n){return e.next.index!==n.index&&e.prev.index!==n.index&&!Z(e,n)&&g(e,n)&&g(n,e)&&j(e,n)}function j(e,n){let t=e,x=!1;const r=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&r<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(x=!x),t=t.next}while(t!==e);return x}function q(e,n){const t=new B(e.index,e.x,e.y),x=new B(n.index,n.x,n.y),r=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=r,r.prev=t,x.next=t,t.prev=x,i.next=x,x.prev=i,x}class B{constructor(e,n,t){this.index=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}}export{s as deviation,e as earcut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{RgbaFloatEncoding as a}from\"../util/RgbaFloatEncoding.glsl.js\";function t(t){t.fragment.include(a),t.fragment.uniforms.add(\"uShadowMapTex\",\"sampler2D\"),t.fragment.uniforms.add(\"uShadowMapNum\",\"int\"),t.fragment.uniforms.add(\"uShadowMapDistance\",\"vec4\"),t.fragment.uniforms.add(\"uShadowMapMatrix\",\"mat4\",4),t.fragment.uniforms.add(\"uDepthHalfPixelSz\",\"float\"),t.fragment.code.add(e`\n    int chooseCascade(float _linearDepth, out mat4 mat) {\n      vec4 distance = uShadowMapDistance;\n      float depth = _linearDepth;\n\n      //choose correct cascade\n      int i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;\n\n      mat = i == 0 ? uShadowMapMatrix[0] : i == 1 ? uShadowMapMatrix[1] : i == 2 ? uShadowMapMatrix[2] : uShadowMapMatrix[3];\n\n      return i;\n    }\n\n    vec3 lightSpacePosition(vec3 _vpos, mat4 mat) {\n      vec4 lv = mat * vec4(_vpos, 1.0);\n      lv.xy /= lv.w;\n      return 0.5 * lv.xyz + vec3(0.5);\n    }\n\n    vec2 cascadeCoordinates(int i, vec3 lvpos) {\n      return vec2(float(i - 2 * (i / 2)) * 0.5, float(i / 2) * 0.5) + 0.5 * lvpos.xy;\n    }\n\n    float readShadowMapDepth(vec2 uv, sampler2D _depthTex) {\n      return rgba2float(texture2D(_depthTex, uv));\n    }\n\n    float posIsInShadow(vec2 uv, vec3 lvpos, sampler2D _depthTex) {\n      return readShadowMapDepth(uv, _depthTex) < lvpos.z ? 1.0 : 0.0;\n    }\n\n    float filterShadow(vec2 uv, vec3 lvpos, float halfPixelSize, sampler2D _depthTex) {\n      float texSize = 0.5 / halfPixelSize;\n\n      // filter, offset by half pixels\n      vec2 st = fract((vec2(halfPixelSize) + uv) * texSize);\n\n      float s00 = posIsInShadow(uv + vec2(-halfPixelSize, -halfPixelSize), lvpos, _depthTex);\n      float s10 = posIsInShadow(uv + vec2(halfPixelSize, -halfPixelSize), lvpos, _depthTex);\n      float s11 = posIsInShadow(uv + vec2(halfPixelSize, halfPixelSize), lvpos, _depthTex);\n      float s01 = posIsInShadow(uv + vec2(-halfPixelSize, halfPixelSize), lvpos, _depthTex);\n\n      return mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n    }\n\n    float readShadowMap(const in vec3 _vpos, float _linearDepth) {\n      mat4 mat;\n      int i = chooseCascade(_linearDepth, mat);\n\n      if (i >= uShadowMapNum) { return 0.0; }\n\n      vec3 lvpos = lightSpacePosition(_vpos, mat);\n\n      // vertex completely outside? -> no shadow\n      if (lvpos.z >= 1.0) { return 0.0; }\n      if (lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }\n\n      // calc coord in cascade texture\n      vec2 uv = cascadeCoordinates(i, lvpos);\n\n      return filterShadow(uv, lvpos, uDepthHalfPixelSz, uShadowMapTex);\n    }\n  `)}!function(e){function a(e,a,t){a.shadowMappingEnabled&&(a.shadowMap.bind(e,t),a.shadowMap.bindView(e,a.origin))}function t(e,a,t){a.shadowMappingEnabled&&a.shadowMap.bindView(e,t)}function o(e,a){a.shadowMappingEnabled&&a.shadowMap.bindView(e,a.origin)}e.bindUniforms=a,e.bindViewCustomOrigin=t,e.bindView=o}(t||(t={}));export{t as ReadShadowMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function a(a,r){0===r.output&&r.receiveShadows?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.code.add(e`\n      void forwardLinearDepth() { linearDepth = gl_Position.w; }\n    `)):1===r.output||3===r.output?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),a.vertex.code.add(e`\n      void forwardLinearDepth() {\n        linearDepth = (-position_view().z - cameraNearFar[0]) / (cameraNearFar[1] - cameraNearFar[0]);\n      }\n    `)):a.vertex.code.add(e`\n      void forwardLinearDepth() {}\n    `)}export{a as ForwardLinearDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isNone as o,isSome as i}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as y,project as g,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),o=e?e.offset:0;return new b({mode:t,offset:o})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const s=t.geometry;if(o(s))return null;const r=this._get(\"focusedSymbol\"),l=i(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,s,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;const l=1;let a=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?l:null;if(o(a)||!a.originalPoint.equals(s)){const t=s,o=e.spatialReference;if(y(t.spatialReference,o)){const e=g(t,o);a={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=a}}if(i(a)){const o=h(t,G),i=e.toScreen(a.mapPoint),s=a.radiusPx,n=i.x+c(r.xoffset),p=i.y-c(r.yoffset);return _(o,[n,p])<s*s?l:null}return null}_intersectDistance3D(e,t,o){const i=e.toMap(t,{include:[o]});return i&&d(i,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){const a=t.fragment.code;a.add(e`\n    vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG)\n    {\n      return ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;\n    }\n    `),a.add(e`\n    float integratedRadiance(float cosTheta2, float roughness)\n    {\n      return (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);\n    }\n    `),a.add(e`\n    vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness)\n    {\n      float cosTheta2 = 1.0 - RdotNG * RdotNG;\n      float intRadTheta = integratedRadiance(cosTheta2, roughness);\n\n      // Calculate the integrated directional radiance of the ground and the sky\n      float ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;\n      float sky = 2.0 - ground;\n      return (ground * ambientGround + sky * ambientSky) * 0.5;\n    }\n    `)}export{t as AnalyticalSkyModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{PiUtils as o}from\"./PiUtils.glsl.js\";import{AnalyticalSkyModel as t}from\"./AnalyticalSkyModel.glsl.js\";function n(n,a){const r=n.fragment.code;n.include(o),3===a.pbrMode||4===a.pbrMode?(r.add(e`\n    struct PBRShadingWater\n    {\n        float NdotL;   // cos angle between normal and light direction\n        float NdotV;   // cos angle between normal and view direction\n        float NdotH;   // cos angle between normal and half vector\n        float VdotH;   // cos angle between view direction and half vector\n        float LdotH;   // cos angle between light direction and half vector\n        float VdotN;   // cos angle between view direction and normal vector\n    };\n\n    float dtrExponent = ${a.useCustomDTRExponentForWater?\"2.2\":\"2.0\"};\n    `),r.add(e`\n    vec3 fresnelReflection(float angle, vec3 f0, float f90) {\n      return f0 + (f90 - f0) * pow(1.0 - angle, 5.0);\n    }\n    `),r.add(e`\n    float normalDistributionWater(float NdotH, float roughness)\n    {\n      float r2 = roughness * roughness;\n      float NdotH2 = NdotH * NdotH;\n      float denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;\n      return r2 / denom;\n    }\n    `),r.add(e`\n    float geometricOcclusionKelemen(float LoH)\n    {\n        return 0.25 / (LoH * LoH);\n    }\n    `),r.add(e`\n    vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max)\n    {\n      vec3  F = fresnelReflection(props.VdotH, F0, F0Max);\n      float dSun = normalDistributionWater(props.NdotH, roughness);\n      float V = geometricOcclusionKelemen(props.LdotH);\n\n      float diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);\n      float strengthSunHaze  = 1.2;\n      float dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze)*strengthSunHaze;\n\n      return ((dSun + dSunHaze) * V) * F;\n    }\n\n    vec3 tonemapACES(const vec3 x) {\n      return (x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14);\n    }\n    `)):1!==a.pbrMode&&2!==a.pbrMode||(n.include(t),r.add(e`\n    struct PBRShadingInfo\n    {\n        float NdotL;                  // cos angle between normal and light direction\n        float NdotV;                  // cos angle between normal and view direction\n        float NdotH;                  // cos angle between normal and half vector\n        float VdotH;                  // cos angle between view direction and half vector\n        float LdotH;                  // cos angle between view light direction and half vector\n        float NdotNG;                 // cos angle between normal and normal of the ground\n        float RdotNG;                 // cos angle between view direction reflected of the normal and normal of the ground\n        float NdotAmbDir;             // cos angle between view direction and the fill light in ambient illumination\n        float NdotH_Horizon;          // cos angle between normal and half vector defined with horizon illumination\n        vec3 skyRadianceToSurface;         // integrated radiance of the sky based on the surface roughness (used for specular reflection)\n        vec3 groundRadianceToSurface;      // integrated radiance of the ground based on the surface roughness (used for specular reflection)\n        vec3 skyIrradianceToSurface;       // irradiance of the sky (used for diffuse reflection)\n        vec3 groundIrradianceToSurface;    // irradiance of the ground (used for diffuse reflection)\n\n        float averageAmbientRadiance;      // average ambient radiance used to deduce black level in gamut mapping\n        float ssao;                   // ssao coefficient\n        vec3 albedoLinear;            // linear color of the albedo\n        vec3 f0;                      // fresnel value at normal incident light\n        vec3 f90;                     // fresnel value at 90o of incident light\n\n        vec3 diffuseColor;            // diffuse color of the material used in environment illumination\n        float metalness;              // metalness of the material\n        float roughness;              // roughness of the material\n    };\n    `),r.add(e`\n    float normalDistribution(float NdotH, float roughness)\n    {\n        float a = NdotH * roughness;\n        float b = roughness / (1.0 - NdotH * NdotH + a * a);\n        return b * b * INV_PI;\n    }\n    `),r.add(e`\n    const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);\n    const vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);\n    const vec2 c2 = vec2(-1.04, 1.04);\n\n    vec2 prefilteredDFGAnalytical(float roughness, float NdotV) {\n        vec4 r = roughness * c0 + c1;\n        float a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;\n        return c2 * a004 + r.zw;\n    }\n    `),r.add(e`\n    vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {\n      vec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);\n      vec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);\n\n      // From diffuse illumination calculate reflected color\n      vec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;\n\n      // From specular illumination calculate reflected color\n      vec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);\n      vec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;\n      vec3 specularComponent = specularColor * indirectSpecular;\n\n      return (diffuseComponent + specularComponent);\n    }\n    `),r.add(e`\n    float gamutMapChanel(float x, vec2 p){\n      return (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );\n    }`),r.add(e`\n    vec3 blackLevelSoftCompression(vec3 inColor, PBRShadingInfo inputs){\n      vec3 outColor;\n      vec2 p = vec2(0.02 * (inputs.averageAmbientRadiance), 0.0075 * (inputs.averageAmbientRadiance));\n      outColor.x = gamutMapChanel(inColor.x, p) ;\n      outColor.y = gamutMapChanel(inColor.y, p) ;\n      outColor.z = gamutMapChanel(inColor.z, p) ;\n      return outColor;\n    }\n    `))}export{n as PhysicallyBasedRendering};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../Point.js\";import n from\"../Extent.js\";import t from\"../Multipoint.js\";import o from\"../Polygon.js\";import i from\"../Polyline.js\";const r={convertToGEGeometry:s,exportPoint:a,exportPolygon:c,exportPolyline:h,exportMultipoint:m,exportExtent:x};function s(e,n){if(null==n)return null;let t=\"cache\"in n?n.cache._geVersion:void 0;return null==t&&(t=e.convertJSONToGeometry(n),\"cache\"in n&&(n.cache._geVersion=t)),t}function a(n,t,o){const i=n.hasZ(t),r=n.hasM(t),s=new e({x:n.getPointX(t),y:n.getPointY(t),spatialReference:o});return i&&(s.z=n.getPointZ(t)),r&&(s.m=n.getPointM(t)),s.cache._geVersion=t,s}function c(e,n,t){const i=new o({rings:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return i.cache._geVersion=n,i}function h(e,n,t){const o=new i({paths:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return o.cache._geVersion=n,o}function m(e,n,o){const i=new t({hasZ:e.hasZ(n),hasM:e.hasM(n),points:e.exportPoints(n),spatialReference:o});return i.cache._geVersion=n,i}function x(e,t,o){const i=e.hasZ(t),r=e.hasM(t),s=new n({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:o});if(i){const n=e.getZExtent(t);s.zmin=n.vmin,s.zmax=n.vmax}if(r){const n=e.getMExtent(t);s.mmin=n.vmin,s.mmax=n.vmax}return s.cache._geVersion=t,s}export{r as hydratedAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as s,unwrap as r}from\"../../../../core/maybe.js\";import{c as e,b as i}from\"../../../../chunks/vec3f64.js\";import{e as a,a as n,l as h,b as o,g as c,n as l,q as f,f as m}from\"../../../../chunks/vec3.js\";import{a as u,b as p,c as d,m as b}from\"../../../../chunks/mat4.js\";import{a as g}from\"../../../../chunks/mat3f64.js\";import{a as y}from\"../../../../chunks/mat4f64.js\";import{a as v}from\"../../../../chunks/quatf64.js\";import{a as S}from\"../../../../chunks/vec4f64.js\";import{b as T}from\"../../../../chunks/mat3.js\";import{t as z}from\"../../../../chunks/vec4.js\";import{c as O}from\"../../../../chunks/quat.js\";import{c as _}from\"../../../../chunks/vec3f32.js\";import{c as L}from\"../../../../chunks/sphere.js\";import{e as x}from\"../../../../chunks/boundedPlane.js\";import{ray as M}from\"../../support/geometryUtils.js\";import{Object3D as q}from\"./Object3D.js\";function I(t){return(s,r,e)=>(a(X,s,r,e),!x(t,X))}class V{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.store=2}}class j{constructor(){this._transform=y(),this._transformInverse=new w({value:this._transform},u,y),this._transformInverseTranspose=new w(this._transformInverse,p,y),this._transformTranspose=new w({value:this._transform},p,y),this._transformInverseRotation=new w({value:this._transform},T,g)}invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){d(this._transform,t)}multiplyTransform(t){b(this._transform,this._transform,t)}set(t){d(this._transform,t),this.invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,s){this.setTransformMatrix(t),this.multiplyTransform(s),this.invalidateLazyTransforms()}}class w{constructor(t,s,r){this.original=t,this.update=s,this.dirty=!0,this.transform=r()}invalidate(){this.dirty=!0}get value(){return this.dirty&&(this.update(this.transform,this.original.value),this.dirty=!1),this.transform}}class k{constructor(){this.min=new G,this.max=new G,this.hud=new G,this.ground=new G}init(t){this.min.init(t),this.max.init(t),this.hud.init(t),this.ground.init(t),this.all=[]}}class G{constructor(t){this.normal=e(),this.transformation=y(),this._ray=M.create(),this.init(t)}get ray(){return this._ray}get hasIntersectionPoint(){return null!=this.dist}get distanceInRenderSpace(){if(null!=this.dist)return n(Y,this.ray.direction,this.dist),h(Y)}getIntersectionPoint(t){return!!this.hasIntersectionPoint&&(n(Y,this.ray.direction,this.dist),o(t,this.ray.origin,Y),!0)}getTransformedNormal(t){return c(Z,this.normal),Z[3]=0,z(Z,Z,this.transformation),c(t,Z),l(t,t),t}init(t){this.dist=void 0,this.target=void 0,this.name=void 0,this.drapedLayerOrder=void 0,this.drapedLayerGraphicOrder=void 0,this.center=null,this.geometryId=null,this.triangleNr=null,this.intersector=\"Stage\",t?M.copy(t,this._ray):this._ray=M.create()}set(t,s,r,e,a,n,h,o,l,f){t instanceof q&&(t={type:\"stage\",obj:t}),this.dist=r,c(this.normal,e),d(this.transformation,a),this.target=t,this.name=s,this.drapedLayerOrder=n,this.center=h?i(h):null,this.geometryId=o,this.triangleNr=l,this.drapedLayerGraphicOrder=f}copyFrom(t){M.copy(t._ray,this._ray),this.dist=t.dist,this.target=t.target,this.name=t.name,this.drapedLayerOrder=t.drapedLayerOrder,this.center=t.center?i(t.center):null,this.geometryId=t.geometryId,this.triangleNr=t.triangleNr,this.intersector=t.intersector,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,c(this.normal,t.normal),d(this.transformation,t.transformation)}toOwner(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return U(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return P(this.target,t);case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return U(this.target.metadata,t);case\"TerrainRenderer\":return t.map&&t.map.ground}}return null}toGraphic(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return R(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return N(this.target);case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return R(this.target.metadata,t)}}return null}}function U(r,e){return t(r)||null==r.layerUid?null:s(e.graphicsView)&&r.layerUid===e.graphicsView.graphics3d.layer.id?e.graphics:e.map.findLayerByUid(r.layerUid)}function R(e,i){if(t(e))return null;const a=U(e,i);if(t(a))return null;if(a===i.graphics)return s(i.graphicsView)?r(i.graphicsView.getGraphicFromGraphicUid(e.graphicUid)):null;const n=i.allLayerViews.find((t=>t.layer===a));return n?F(n,e):null}function F(t,s){return!t||t.suspended?null:\"getGraphicFromIntersectorMetadata\"in t&&s?t.getGraphicFromIntersectorMetadata(s):\"getGraphicFromGraphicUid\"in t&&null!=s.graphicUid?t.getGraphicFromGraphicUid(s.graphicUid):null}function P(t,s){const r=t.metadata.layerUid;return null!=r?s.map.findLayerByUid(r):null}function N(t){return t.metadata.createGraphic()}class A{constructor(t=0){this.offset=t,this.tmpVertex=e()}applyToVertex(t,s,r){const e=t+this.localOrigin[0],i=s+this.localOrigin[1],a=r+this.localOrigin[2],n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0]+this.localOrigin[0],r=t[1]+this.localOrigin[1],e=t[2]+this.localOrigin[2],i=t[3]+this.localOrigin[0],a=t[4]+this.localOrigin[1],n=t[5]+this.localOrigin[2],h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}}class B{constructor(t=0){this.offset=t,this.componentLocalOriginLength=0,this.tmpVertex=e(),this.mbs=S(),this.obb={center:e(),halfSize:_(),quaternion:null}}set localOrigin(t){this.componentLocalOriginLength=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}applyToVertex(t,s,r){const e=t,i=s,a=r+this.componentLocalOriginLength,n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0],r=t[1],e=t[2]+this.componentLocalOriginLength,i=t[3],a=t[4],n=t[5]+this.componentLocalOriginLength,h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}applyToMbs(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=this.offset/s;return this.mbs[0]=t[0]+t[0]*r,this.mbs[1]=t[1]+t[1]*r,this.mbs[2]=t[2]+t[2]*r,this.mbs[3]=t[3]+t[3]*this.offset/s,this.mbs}applyToObb(t){const s=t.center,r=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);this.obb.center[0]=s[0]+s[0]*r,this.obb.center[1]=s[1]+s[1]*r,this.obb.center[2]=s[2]+s[2]*r,f(this.obb.halfSize,t.halfSize,t.quaternion),o(this.obb.halfSize,this.obb.halfSize,t.center);const e=this.offset/Math.sqrt(this.obb.halfSize[0]*this.obb.halfSize[0]+this.obb.halfSize[1]*this.obb.halfSize[1]+this.obb.halfSize[2]*this.obb.halfSize[2]);return this.obb.halfSize[0]+=this.obb.halfSize[0]*e,this.obb.halfSize[1]+=this.obb.halfSize[1]*e,this.obb.halfSize[2]+=this.obb.halfSize[2]*e,m(this.obb.halfSize,this.obb.halfSize,t.center),O($,t.quaternion),f(this.obb.halfSize,this.obb.halfSize,$),this.obb.halfSize[0]*=this.obb.halfSize[0]<0?-1:1,this.obb.halfSize[1]*=this.obb.halfSize[1]<0?-1:1,this.obb.halfSize[2]*=this.obb.halfSize[2]<0?-1:1,this.obb.quaternion=t.quaternion,this.obb}}class D{constructor(t=0){this.offset=t,this.sphere=L(),this.tmpVertex=e()}applyToVertex(t,s,r){const e=this.objectTransform.transform;let i=e[0]*t+e[4]*s+e[8]*r+e[12],a=e[1]*t+e[5]*s+e[9]*r+e[13],n=e[2]*t+e[6]*s+e[10]*r+e[14];const h=this.offset/Math.sqrt(i*i+a*a+n*n);i+=i*h,a+=a*h,n+=n*h;const o=this.objectTransform.inverse;return this.tmpVertex[0]=o[0]*i+o[4]*a+o[8]*n+o[12],this.tmpVertex[1]=o[1]*i+o[5]*a+o[9]*n+o[13],this.tmpVertex[2]=o[2]*i+o[6]*a+o[10]*n+o[14],this.tmpVertex}applyToMinMax(t,s){const r=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*r,t[1]+=t[1]*r,t[2]+=t[2]*r;const e=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]+=s[0]*e,s[1]+=s[1]*e,s[2]+=s[2]*e}applyToAabb(t){const s=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*s,t[1]+=t[1]*s,t[2]+=t[2]*s;const r=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*r,t[4]+=t[4]*r,t[5]+=t[5]*r,t}applyToBoundingSphere(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=this.offset/s;return this.sphere[0]=t[0]+t[0]*r,this.sphere[1]=t[1]+t[1]*r,this.sphere[2]=t[2]+t[2]*r,this.sphere[3]=t[3]+t[3]*this.offset/s,this.sphere}}const C=new D;function E(t){return s(t)?(C.offset=t,C):null}const H=new B;function J(t){return s(t)?(H.offset=t,H):null}const K=new A;function Q(t){return s(t)?(K.offset=t,K):null}const W=\"terrain\",X=e(),Y=e(),Z=S(),$=v();export{B as I3SVerticalOffsetGlobalViewingMode,V as IntersectorOptions,G as IntersectorResult,k as IntersectorResults,j as IntersectorTransform,D as Object3DVerticalOffsetGlobalViewingMode,W as TERRAIN_ID,A as TerrainVerticalOffsetGlobalViewingMode,J as getVerticalOffsetI3S,E as getVerticalOffsetObject3D,Q as getVerticalOffsetTerrain,I as sliceFilterPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{a as n}from\"../chunks/geometryEngineBase.js\";import{hydratedAdapter as e}from\"./geometryAdapters/hydrated.js\";function r(n){return Array.isArray(n)?n[0].spatialReference:n&&n.spatialReference}function t(e){return n.extendedSpatialReferenceInfo(e)}function u(t,u){return n.clip(e,r(t),t,u)}function i(t,u){return n.cut(e,r(t),t,u)}function o(t,u){return n.contains(e,r(t),t,u)}function c(t,u){return n.crosses(e,r(t),t,u)}function f(t,u,i){return n.distance(e,r(t),t,u,i)}function l(t,u){return n.equals(e,r(t),t,u)}function a(t,u){return n.intersects(e,r(t),t,u)}function s(t,u){return n.touches(e,r(t),t,u)}function p(t,u){return n.within(e,r(t),t,u)}function g(t,u){return n.disjoint(e,r(t),t,u)}function m(t,u){return n.overlaps(e,r(t),t,u)}function d(t,u,i){return n.relate(e,r(t),t,u,i)}function x(t){return n.isSimple(e,r(t),t)}function w(t){return n.simplify(e,r(t),t)}function E(t,u=!1){return n.convexHull(e,r(t),t,u)}function h(t,u){return n.difference(e,r(t),t,u)}function A(t,u){return n.symmetricDifference(e,r(t),t,u)}function y(t,u){return n.intersect(e,r(t),t,u)}function R(t,u=null){return n.union(e,r(t),t,u)}function I(t,u,i,o,c,f){return n.offset(e,r(t),t,u,i,o,c,f)}function v(t,u,i,o=!1){return n.buffer(e,r(t),t,u,i,o)}function S(t,u,i,o,c,f){return n.geodesicBuffer(e,r(t),t,u,i,o,c,f)}function j(t,u,i=!0){return n.nearestCoordinate(e,r(t),t,u,i)}function J(t,u){return n.nearestVertex(e,r(t),t,u)}function N(t,u,i,o){return n.nearestVertices(e,r(t),t,u,i,o)}function O(n){return\"xmin\"in n?\"center\"in n?n.center:null:\"x\"in n?n:\"extent\"in n?n.extent.center:null}function V(e,r,t){var u;if(null==e)throw new Error(\"Illegal Argument Exception\");const i=e.spatialReference;if(null==(t=null!=(u=t)?u:O(e)))throw new Error(\"Illegal Argument Exception\");const o=e.constructor.fromJSON(n.rotate(e,r,t));return o.spatialReference=i,o}function z(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipHorizontal(e,r));return i.spatialReference=u,i}function B(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipVertical(e,r));return i.spatialReference=u,i}function D(t,u,i,o){return n.generalize(e,r(t),t,u,i,o)}function H(t,u,i){return n.densify(e,r(t),t,u,i)}function L(t,u,i,o=0){return n.geodesicDensify(e,r(t),t,u,i,o)}function b(t,u){return n.planarArea(e,r(t),t,u)}function k(t,u){return n.planarLength(e,r(t),t,u)}function q(t,u,i){return n.geodesicArea(e,r(t),t,u,i)}function C(t,u,i){return n.geodesicLength(e,r(t),t,u,i)}export{v as buffer,u as clip,o as contains,E as convexHull,c as crosses,i as cut,H as densify,h as difference,g as disjoint,f as distance,l as equals,t as extendedSpatialReferenceInfo,z as flipHorizontal,B as flipVertical,D as generalize,q as geodesicArea,S as geodesicBuffer,L as geodesicDensify,C as geodesicLength,y as intersect,a as intersects,x as isSimple,j as nearestCoordinate,J as nearestVertex,N as nearestVertices,I as offset,m as overlaps,b as planarArea,k as planarLength,d as relate,V as rotate,w as simplify,A as symmetricDifference,s as touches,R as union,p as within};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{getOwnPropertyMetadata as o}from\"../metadata.js\";import{propertyJSONMeta as i}from\"./property.js\";import{isMultiOriginJSONMixin as n}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as s,isBlobProtocol as u,join as p,getPathExtension as a}from\"../../urlUtils.js\";import{generateUUID as c}from\"../../uuid.js\";import{nameToId as l}from\"../PropertyOrigin.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const n=w(r,t,o);for(const r of e){const e=i(t,r,o);for(const t in n)e[t]=n[t]}}}function w(r,e,o){if(t(r)&&\"resource\"===r.type)return v(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(e,i,p){const a=o(i,p);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return a.type===String?o:\"function\"==typeof a.type?new a.type({url:o}):void 0},write:{writer(o,i,c,f){if(!f||!f.resources)return\"string\"==typeof o?void(i[c]=y(o,f)):void(i[c]=o.write({},f));const m=P(o),d=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,g=a.type!==String&&(!n(this)||f&&f.origin&&this.originIdOf(p)>l(f.origin));f&&f.portalItem&&t(d)&&!s(d)?g?j(this,p,o,d,i,c,f,e):I(d,i,c,f):f&&f.portalItem&&(r(d)||t(h(d))||u(d)||g)?U(this,p,o,d,i,c,f,e):i[c]=d}}}}function U(t,r,o,i,n,s,a,l){const m=c(),y=S(o,i,a),h=p(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=a.portalItem.resourceFromPath(d);u(i)&&a.resources.pendingOperations.push(b(i).then((t=>{g.path=`${h}.${f(t)}`,n[s]=g.itemRelativeUrl})).catch((()=>{}))),O(t,r,g,y,a.resources.toAdd),n[s]=g.itemRelativeUrl}function j(t,r,e,o,i,n,s,u){const p=s.portalItem.resourceFromPath(o),c=S(e,o,s);f(c)===a(p.path)?(O(t,r,p,c,s.resources.toUpdate),i[n]=o):U(t,r,e,o,i,n,s,u)}function I(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function O(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{R(t,r,e)}})}function S(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function b(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function P(t){return r(t)?null:\"string\"==typeof t?t:t.url}function R(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as t}from\"../../../core/mathUtils.js\";function n(n,f,i){var u;const c=n.byteLength/(4*f),s=new Uint32Array(n,0,c*f);let a=new Uint32Array(c);const h=null!=(u=null==i?void 0:i.minReduction)?u:0,d=(null==i?void 0:i.originalIndices)||null,g=d?d.length:0,y=(null==i?void 0:i.componentOffsets)||null;let U=0;if(y)for(let t=0;t<y.length-1;t++){const n=y[t+1]-y[t];n>U&&(U=n)}else U=c;const w=Math.floor(1.1*U)+1;(null==o||o.length<2*w)&&(o=new Uint32Array(t(2*w)));for(let t=0;t<2*w;t++)o[t]=0;let A=0;const m=!!y&&!!d,b=m?g:c,p=m?new Uint32Array(g):null,v=1.96;let M=0!==h?Math.ceil(4*v*v/(h*h)*h*(1-h)):b,q=1,x=y?y[1]:b;for(let t=0;t<b;t++){if(t===M){const n=1-A/t;if(n+v*Math.sqrt(n*(1-n)/t)<h)return null;M*=2}if(t===x){for(let t=0;t<2*w;t++)o[t]=0;if(d)for(let t=y[q-1];t<y[q];t++)p[t]=a[d[t]];x=y[++q]}const n=m?d[t]:t,l=n*f,i=r(s,l,f);let u=i%w,c=A;for(;0!==o[2*u+1];){if(o[2*u]===i){const t=o[2*u+1]-1;if(e(s,l,t*f,f)){c=a[t];break}}u++,u>=w&&(u-=w)}c===A&&(o[2*u]=i,o[2*u+1]=n+1,A++),a[n]=c}if(0!==h&&1-A/c<h)return null;if(m){for(let t=y[q-1];t<p.length;t++)p[t]=a[d[t]];a=p}const j=new Uint32Array(f*A);A=0;for(let t=0;t<b;t++)if(a[t]===A){l(s,(m?d[t]:t)*f,j,A*f,f),A++}if(d&&!m){const t=new Uint32Array(g);for(let n=0;n<t.length;n++)t[n]=a[d[n]];a=t}return{buffer:j.buffer,indices:a,uniqueCount:A}}function e(t,n,e,l){for(let r=0;r<l;r++)if(t[n+r]!==t[e+r])return!1;return!0}function l(t,n,e,l,r){for(let o=0;o<r;o++)e[l+o]=t[n+o]}function r(t,n,e){let l=0;for(let r=0;r<e;r++)l=t[n+r]+l|0,l=l+(l<<11)+(l>>>2)|0;return l>>>0}let o=null;export default n;export{n as deduplicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{FoamIntensity as t}from\"./FoamRendering.glsl.js\";function r(r){r.fragment.uniforms.add(\"texWaveNormal\",\"sampler2D\"),r.fragment.uniforms.add(\"texWavePerturbation\",\"sampler2D\"),r.fragment.uniforms.add(\"waveParams\",\"vec4\"),r.fragment.uniforms.add(\"waveDirection\",\"vec2\"),r.include(t),r.fragment.code.add(e`\n      const vec2  FLOW_JUMP = vec2(6.0/25.0, 5.0/24.0);\n\n      vec2 textureDenormalized2D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rg - 1.0;\n      }\n\n      float sampleNoiseTexture(vec2 _uv) {\n        return texture2D(texWavePerturbation, _uv).b;\n      }\n\n      vec3 textureDenormalized3D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rgb - 1.0;\n      }\n\n      float computeProgress(vec2 uv, float time) {\n        return fract(time);\n      }\n\n      float computeWeight(vec2 uv, float time) {\n        float progress = computeProgress(uv, time);\n        return 1.0 - abs(1.0 - 2.0 * progress);\n      }\n\n      vec3 computeUVPerturbedWeigth(sampler2D texFlow, vec2 uv, float time, float phaseOffset) {\n        float flowStrength = waveParams[2];\n        float flowOffset = waveParams[3];\n\n        vec2 flowVector = textureDenormalized2D(texFlow, uv) * flowStrength;\n\n        float progress = computeProgress(uv, time + phaseOffset);\n        float weight = computeWeight(uv, time + phaseOffset);\n\n        vec2 result = uv;\n        result -= flowVector * (progress + flowOffset);\n        result += phaseOffset;\n        result += (time - progress) * FLOW_JUMP;\n\n        return vec3(result, weight);\n      }\n\n      const float TIME_NOISE_TEXTURE_REPEAT = 0.3737;\n      const float TIME_NOISE_STRENGTH = 7.77;\n\n      vec3 getWaveLayer(sampler2D _texNormal, sampler2D _dudv, vec2 _uv, vec2 _waveDir, float time) {\n        float waveStrength = waveParams[0];\n\n        // overall directional shift in uv's for directional wave movement for\n        // now we do a hard coded scale for wave speed such that a unit length\n        // direction is not too fast.\n        vec2 waveMovement = time * -_waveDir;\n\n        float timeNoise = sampleNoiseTexture(_uv * TIME_NOISE_TEXTURE_REPEAT) * TIME_NOISE_STRENGTH;\n\n        // compute two perturbed uvs and blend weights\n        // then sample the wave normals at the two positions and blend\n        vec3 uv_A = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.0);\n        vec3 uv_B = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.5);\n\n        vec3 normal_A = textureDenormalized3D(_texNormal, uv_A.xy) * uv_A.z;\n        vec3 normal_B = textureDenormalized3D(_texNormal, uv_B.xy) * uv_B.z;\n\n        // logic to flatten the wave pattern\n        // scale xy components of the normal, then adjust z (up) component\n        vec3 mixNormal = normalize(normal_A + normal_B);\n        mixNormal.xy *= waveStrength;\n        mixNormal.z = sqrt(1.0 - dot(mixNormal.xy, mixNormal.xy));\n\n        return mixNormal;\n      }\n\n      vec4 getSurfaceNormalAndFoam(vec2 _uv, float _time) {\n        float waveTextureRepeat = waveParams[1];\n        vec3 normal = getWaveLayer(texWaveNormal, texWavePerturbation, _uv * waveTextureRepeat, waveDirection, _time);\n        float foam  = normals2FoamIntensity(normal, waveParams[0]);\n        return vec4(normal, foam);\n      }\n    `)}!function(e){function t(e,t){e.setUniform1i(\"texWaveNormal\",0),e.setUniform1i(\"texWavePerturbation\",1),e.setUniform4f(\"waveParams\",t.waveStrength,t.waveTextureRepeat,t.flowStrength,t.flowOffset),e.setUniform2f(\"waveDirection\",t.waveDirection[0]*t.waveVelocity,t.waveDirection[1]*t.waveVelocity)}e.bindUniforms=t}(r||(r={}));export{r as WaterDistortion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as t}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{OutputHighlight as n}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{multipassTerrainTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ReadShadowMap as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{WaterDistortion as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{ForwardLinearDepth as g}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{NormalUtils as c}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js\";import{Water as m}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js\";function p(p){const u=new a;return u.include(r,{linearDepth:!1}),u.attributes.add(\"position\",\"vec3\"),u.attributes.add(\"uv0\",\"vec2\"),u.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"localOrigin\",\"vec3\"),u.vertex.uniforms.add(\"waterColor\",\"vec4\"),0!==p.output&&7!==p.output||(u.include(c,p),u.include(g,p),u.varyings.add(\"vuv\",\"vec2\"),u.varyings.add(\"vpos\",\"vec3\"),u.varyings.add(\"vnormal\",\"vec3\"),u.varyings.add(\"vtbnMatrix\",\"mat3\"),p.multipassTerrainEnabled&&u.varyings.add(\"depth\",\"float\"),u.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(d)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vuv = uv0;\n        vpos = position;\n\n        vnormal = getLocalUp(vpos, localOrigin);\n        vtbnMatrix = getTBNMatrix(vnormal);\n\n        ${p.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n\n        gl_Position = transformPosition(proj, view, vpos);\n        ${0===p.output?\"forwardLinearDepth();\":\"\"}\n      }\n    `)),p.multipassTerrainEnabled&&(u.fragment.include(t),u.include(l,p)),7===p.output&&(u.include(i,p),u.fragment.uniforms.add(\"waterColor\",\"vec4\"),u.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n          ${p.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n          gl_FragColor = vec4(waterColor.a);\n        }\n      `)),0===p.output&&(u.include(v,p),u.include(i,p),p.receiveShadows&&u.include(s,p),u.include(m,p),u.fragment.uniforms.add(\"waterColor\",\"vec4\").add(\"lightingMainDirection\",\"vec3\").add(\"lightingMainIntensity\",\"vec3\").add(\"camPos\",\"vec3\").add(\"timeElapsed\",\"float\").add(\"view\",\"mat4\"),u.fragment.include(o),u.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${p.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        vec3 localUp = vnormal;\n        // the created normal is in tangent space\n        vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n\n        // we rotate the normal according to the tangent-bitangent-normal-Matrix\n        vec3 n = normalize(vtbnMatrix * tangentNormalFoam.xyz);\n        vec3 v = -normalize(vpos - camPos);\n        vec3 l = normalize(-lightingMainDirection);\n        float shadow = ${p.receiveShadows?e`1.0 - readShadowMap(vpos, linearDepth)`:\"1.0\"};\n        vec4 vPosView = view*vec4(vpos, 1.0);\n        vec4 final = vec4(getSeaColor(n, v, l, waterColor.rgb, lightingMainIntensity, localUp, shadow, tangentNormalFoam.w, vPosView.xyz), waterColor.w);\n\n        // gamma correction\n        gl_FragColor = delinearizeGamma(final);\n        gl_FragColor = highlightSlice(gl_FragColor, vpos);\n        ${p.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),2===p.output&&(u.include(c,p),u.include(v,p),u.include(i,p),u.varyings.add(\"vpos\",\"vec3\"),u.varyings.add(\"vuv\",\"vec2\"),u.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(d)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vuv = uv0;\n          vpos = position;\n\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),u.fragment.uniforms.add(\"timeElapsed\",\"float\"),u.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n\n          // the created normal is in tangent space and foam\n          vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n          tangentNormalFoam.xyz = normalize(tangentNormalFoam.xyz);\n\n          gl_FragColor = vec4((tangentNormalFoam.xyz + vec3(1.0)) * 0.5, tangentNormalFoam.w);\n        }\n    `)),5===p.output&&(u.varyings.add(\"vpos\",\"vec3\"),u.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(d)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vpos = position;\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),u.fragment.uniforms.add(\"waterColor\",\"vec4\"),u.fragment.code.add(e`\n        void main() {\n          gl_FragColor = waterColor;\n        }\n    `)),4===p.output&&(u.include(n),u.varyings.add(\"vpos\",\"vec3\"),u.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(d)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vpos = position;\n        gl_Position = transformPosition(proj, view, vpos);\n      }\n    `),u.include(i,p),u.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        outputHighlight();\n      }\n    `)),u}var u=Object.freeze({__proto__:null,build:p});export{u as W,p as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ScreenSpacePass as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";function n(){const n=new r;return n.include(o),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"color\",\"vec4\"),n.fragment.code.add(e`\n    void main() {\n      vec4 texColor = texture2D(tex, uv);\n      gl_FragColor = texColor * color;\n    }\n  `),n}var a=Object.freeze({__proto__:null,build:n});export{a as T,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";var i;!function(i){function r(i,r){i.vertex.uniforms.add(\"camPos\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`\n    float computeRenderPixelSizeAt( vec3 pWorld ){\n      vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\n      float viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\n      return viewDirectionDistance*perScreenPixelRatio;\n    }\n\n    vec3 screenSizeScaling(vec3 position, vec3 anchor){\n      return position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n    }\n  `)}function o(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}i.builder=r,i.bindPassUniforms=o}(i||(i={}));export{i as ScreenSizeScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as i}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as d}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{symbolAlphaCutoff as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{multipassTerrainTest as n}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ScreenSizeScaling as s}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";function t(t){const c=new i;return c.include(r,{linearDepth:!1}),c.include(s.builder,{}),c.include(a,t),c.fragment.include(o),c.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),c.fragment.uniforms.add(\"color\",\"vec4\"),c.attributes.add(\"position\",\"vec3\"),c.varyings.add(\"vWorldPosition\",\"vec3\"),t.multipassTerrainEnabled&&c.varyings.add(\"depth\",\"float\"),t.screenSizeEnabled&&c.attributes.add(\"offset\",\"vec3\"),t.shadingEnabled&&(c.vertex.uniforms.add(\"viewNormal\",\"mat4\"),c.fragment.uniforms.add(\"shadedColor\",\"vec4\").add(\"shadingDirection\",\"vec3\"),c.attributes.add(\"normal\",\"vec3\"),c.varyings.add(\"vViewNormal\",\"vec3\")),c.vertex.code.add(e`\n    void main(void) {\n      vWorldPosition = ${t.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),t.shadingEnabled&&c.vertex.code.add(e`\n      vec3 worldNormal = normal;\n      vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;\n    `),c.vertex.code.add(e`\n    ${t.multipassTerrainEnabled?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),t.multipassTerrainEnabled&&(c.fragment.include(d),c.include(n,t)),c.fragment.code.add(e`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${t.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    `),t.shadingEnabled?c.fragment.code.add(e`\n      vec3 viewNormalNorm = normalize(vViewNormal);\n      float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\n      vec4 finalColor = mix(color, shadedColor, shadingFactor);\n    `):c.fragment.code.add(e`\n      vec4 finalColor = color;\n    `),c.fragment.code.add(e`\n      if (finalColor.a < ${e.float(l)}) {\n        discard;\n      }\n      ${7===t.output?e`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${0===t.output?e`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${t.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),c}var c=Object.freeze({__proto__:null,build:t});export{c as S,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as t}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{symbolAlphaCutoff as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{LineStipple as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js\";import{VertexColor as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";function n(n){const p=new o;return p.include(i,{linearDepth:!1}),p.include(s,n),p.include(a,n),p.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),p.attributes.add(\"position\",\"vec3\"),p.varyings.add(\"vpos\",\"vec3\"),p.vertex.code.add(e`\n    void main(void) {\n      vpos = position;\n      forwardNormalizedVertexColor();\n      gl_Position = transformPosition(proj, view, vpos);\n  `),n.stippleEnabled&&(p.attributes.add(\"auxpos1\",\"vec3\"),p.vertex.uniforms.add(\"ndcToPixel\",\"vec2\"),p.vertex.code.add(e`\n    vec4 vpos2 = transformPosition(proj, view, auxpos1);\n    float lineSegmentPixelSize = length((vpos2.xy / vpos2.w - gl_Position.xy / gl_Position.w) * ndcToPixel);\n\n    stipplePatternUv = lineSegmentPixelSize * stipplePatternPixelSizeInv;\n    ${n.stippleIntegerRepeatsEnabled?\"stipplePatternUv = floor(stipplePatternUv + 0.5);\":\"\"}\n\n    // Cancel out perspective correct interpolation because we want this length the really represent\n    // the screen distance\n    stipplePatternUv *= gl_Position.w;\n    `)),p.vertex.code.add(e`\n  }\n  `),4===n.output&&p.include(t),p.include(r,n),p.fragment.uniforms.add(\"constantColor\",\"vec4\").add(\"alphaCoverage\",\"float\"),p.fragment.code.add(e`\n  void main() {\n    discardBySlice(vpos);\n\n    vec4 color = ${n.attributeColor?\"vColor\":\"constantColor\"};\n\n    float stippleAlpha = getStippleAlpha();\n    discardByStippleAlpha(stippleAlpha, stippleAlphaColorDiscard);\n\n    vec4 finalColor = blendStipple(vec4(color.rgb, color.a * alphaCoverage), stippleAlpha);\n\n    if (finalColor.a < ${e.float(l)}) {\n      discard;\n    }\n\n    ${0===n.output?e`gl_FragColor = highlightSlice(finalColor, vpos);`:\"\"}\n    ${4===n.output?e`outputHighlight();`:\"\"}\n  }\n  `),p}var p=Object.freeze({__proto__:null,build:n});export{p as N,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as e}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function r(){const r=new e;return r.extensions.add(\"GL_OES_standard_derivatives\"),r.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),r.attributes.add(\"position\",\"vec3\"),r.attributes.add(\"uv0\",\"vec2\"),r.varyings.add(\"vUV\",\"vec2\"),r.vertex.code.add(d`\n    void main(void) {\n      vUV = uv0;\n      gl_Position = proj * view * vec4(position, 1.0);\n    }\n  `),r.fragment.uniforms.add(\"backgroundColor\",\"vec4\").add(\"gridColor\",\"vec4\").add(\"ratio\",\"float\").add(\"gridWidth\",\"float\"),r.fragment.code.add(d`\n    void main() {\n      const float LINE_WIDTH = 1.0;\n\n      vec2 uvScaled = vUV * gridWidth;\n      vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));\n      vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);\n\n      // mask aliasing along edges\n      grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);\n      grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);\n\n      float gridFade = max(grid.x, grid.y);\n\n      float gridAlpha = gridColor.a * gridFade;\n\n      // premultiply alpha in output\n      gl_FragColor =\n        vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +\n        vec4(gridColor.rgb, 1.0) * gridAlpha;\n    }\n  `),r}var a=Object.freeze({__proto__:null,build:r});export{a as S,r as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as d}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{defaultMaskAlphaCutoff as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{multipassTerrainTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";function s(s){const n=new a;return n.include(r,{linearDepth:!1}),n.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),n.attributes.add(\"position\",\"vec3\"),n.attributes.add(\"uv0\",\"vec2\"),n.varyings.add(\"vpos\",\"vec3\"),s.multipassTerrainEnabled&&n.varyings.add(\"depth\",\"float\"),n.vertex.uniforms.add(\"textureCoordinateScaleFactor\",\"vec2\"),n.vertex.code.add(e`\n    void main(void) {\n      vpos = position;\n      ${s.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),n.include(i,s),s.multipassTerrainEnabled&&(n.fragment.include(d),n.include(l,s)),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"opacity\",\"float\"),n.varyings.add(\"vTexCoord\",\"vec2\"),7===s.output?n.fragment.code.add(e`\n    void main() {\n      discardBySlice(vpos);\n      ${s.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${e.float(t)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(n.fragment.include(o),n.fragment.code.add(e`\n    void main() {\n      discardBySlice(vpos);\n      ${s.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${e.float(t)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${s.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),n}var n=Object.freeze({__proto__:null,build:s});export{n as I,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.code.add(t`\n    float normals2FoamIntensity(vec3 n, float waveStrength){\n      float normalizationFactor =  max(0.015, waveStrength);\n      return max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n    }\n  `)}function n(o){o.fragment.code.add(t`\n    vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\n      return foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n    }\n  `)}export{n as FoamColor,o as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function n(n,r){1===r.viewingMode?n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return normalize(pos + origin);\n      }\n    `):n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return vec3(0.0, 0.0, 1.0); // WARNING: up-axis dependent code\n      }\n    `),1===r.viewingMode?n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = normalize(cross(vec3(0.0, 0.0, 1.0), n));\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `):n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = vec3(1.0, 0.0, 0.0);\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `)}export{n as NormalUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../core/lang.js\";import{isSome as t,filterNones as o,isNone as n}from\"../../../core/maybe.js\";import{equals as r}from\"../../../core/arrayUtils.js\";import{isValid as a}from\"../../../geometry/support/spatialReferenceUtils.js\";import s from\"../../../geometry/Point.js\";import i from\"../../../geometry/Multipoint.js\";import{unnormalizeGeometryOnDatelineCrossing as l,isClockwise as y,unnormalizeVerticesOnDatelineCrossing as c}from\"../../../geometry/support/coordsUtils.js\";import p from\"../../../geometry/Polygon.js\";import x from\"../../../geometry/Polyline.js\";import\"../../../geometry.js\";import{getMetersPerUnitForSR as m}from\"../../../core/unitUtils.js\";import u from\"../../../geometry/Circle.js\";import{simplify as f,distance as h}from\"../../../geometry/geometryEngine.js\";import{makeSurfacePoint as M}from\"./surfaceCoordinateSystems.js\";function g(e,o,n=null){return t(n)?[e,o,n]:[e,o]}function d(e,t){const o=new s({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(o.z=e[2]),o}function R(e,t){return new i({points:e,spatialReference:t})}function j(e,t,o){const n=new x({paths:e,spatialReference:t});return o&&l(n),n}function b(t,o,n,s=!0){const i=e(t);i.forEach((e=>{const t=e[0],o=e[e.length-1];r(t,o)&&1!==e.length||e.push(e[0])}));let c=new p({rings:i,spatialReference:o});return c.rings.forEach((e=>{y(e,!1,!1)||e.reverse()})),n&&l(c),s&&c.isSelfIntersecting&&a(o)&&(c=f(c)),c}function T(e,t,n){const r=t.mapToLocalMultiple(e),a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y},l=Math.round(i.x-s.x),y=Math.round(i.y-s.y),c=Math.max(Math.abs(l),Math.abs(y));if(n){const e={x:s.x+c,y:s.y+c},t={x:s.x-c,y:s.y-c};a.push(M(e.x,t.y),M(t.x,t.y),M(t.x,e.y),M(e.x,e.y))}else{const e={x:l>0?s.x+c:s.x-c,y:y>0?s.y+c:s.y-c};a.push(M(s.x,s.y),M(e.x,s.y),M(e.x,e.y),M(s.x,e.y))}return b([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function U(e,t,n){let r=t.mapToLocalMultiple(e);if(1===r.length){const e=48,t=r[0];r=[M(t.x-e,t.y+e),M(t.x+e,t.y-e),M(t.x+e,t.y-e),M(t.x-e,t.y+e)]}const a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y};if(n){const e=Math.round(i.x-s.x),t=Math.round(i.y-s.y);a.push(M(s.x-e,s.y-t),M(i.x,s.y-t),M(i.x,i.y),M(s.x-e,i.y))}else a.push(M(s.x,s.y),M(i.x,s.y),M(i.x,i.y),M(s.x,i.y));return b([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function w(e,t,o,r){const s=t.mapToLocalMultiple(e);let i=null,l=null;if(o)i=s[0],l=s[1];else{const e=s[0],t=s[1],o=Math.round(t.x-e.x),n=Math.round(t.y-e.y),r=Math.max(Math.abs(o),Math.abs(n));i=M(o>0?e.x+r/2:e.x-r/2,n>0?e.y+r/2:e.y-r/2),l=M(Math.abs(o)>Math.abs(n)?i.x-r/2:i.x,Math.abs(o)>Math.abs(n)?i.y:i.y-r/2)}const y=t.localToMap(i),p=t.localToMap(l);if(n(y)||n(p))return null;t.doUnnormalization&&c([[y,p]],t.spatialReference);const x=d(y,t.spatialReference),f=d(p,t.spatialReference),g=m(t.spatialReference);let R=0;if(a(t.spatialReference))R=g*h(x,f,null);else{const e=i.x-l.x,t=i.y-l.y;R=g*Math.sqrt(e*e+t*t)*(r||1)}const j=new u({center:x,radius:R,radiusUnit:\"meters\",spatialReference:t.spatialReference});return b(j.rings,j.spatialReference,!1)}function z(e,t,n){const r=t.mapToLocalMultiple(e),a=r[0],s=r[1],i=Math.round(s.x-a.x),l=Math.round(s.y-a.y),y=M(n?a.x:a.x+i/2,n?a.y:a.y+l/2),c=n?i:i/2,p=n?l:l/2,x=60,m=[],u=2*Math.PI/x;for(let o=0;o<x;o++){const e=Math.cos(o*u),t=Math.sin(o*u),n=M(c*e+y.x,p*t+y.y);m.push(n)}return m.push(m[0]),b([o(m.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!1)}export{w as createCircle,z as createEllipse,R as createMultipoint,d as createPoint,b as createPolygon,j as createPolyline,U as createRectangle,T as createSquare,g as makeMapPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as r}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.uniforms.add(\"lastFrameColorMap\",\"sampler2D\"),o.fragment.uniforms.add(\"reprojectionMat\",\"mat4\"),o.fragment.uniforms.add(\"rpProjectionMat\",\"mat4\"),o.fragment.code.add(r`\n  vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n  {\n    vec4 zw = rpProjectionMat * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\n    vec4 reprojectedCoord = reprojectionMat * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\n    reprojectedCoord.xy /= reprojectedCoord.w;\n    return reprojectedCoord.xy*0.5 + 0.5;\n  }\n  `)}!function(r){function o(r,o,e){r.setUniform1i(\"lastFrameColorMap\",e.lastFrameColorTextureUnit),o.bindTexture(e.lastFrameColorTexture,e.lastFrameColorTextureUnit),r.setUniformMatrix4fv(\"reprojectionMat\",e.reprojectionMat),r.setUniformMatrix4fv(\"rpProjectionMat\",e.camera.projectionMatrix)}r.bindUniforms=o}(o||(o={}));export{o as Reprojection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ReadLinearDepth as t}from\"../output/ReadLinearDepth.glsl.js\";import{Reprojection as o}from\"./Reprojection.glsl.js\";function r(r,a){r.fragment.uniforms.add(\"nearFar\",\"vec2\"),r.fragment.uniforms.add(\"depthMapView\",\"sampler2D\"),r.fragment.uniforms.add(\"ssrViewMat\",\"mat4\"),r.fragment.uniforms.add(\"invResolutionHeight\",\"float\"),r.fragment.include(t),r.include(o),r.fragment.code.add(e`\n  const int maxSteps = ${a.highStepCount?\"150;\":\"75;\"}\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(rpProjectionMat, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMapView, P, nearFar); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n          return vec3(P, depth);\n      }\n\n      // continue with ray marching\n      P += dP;\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}!function(e){function t(e,t,r){r.ssrEnabled&&(e.setUniform1i(\"depthMapView\",r.linearDepthTextureUnit),t.bindTexture(r.linearDepthTexture,r.linearDepthTextureUnit),e.setUniform2fv(\"nearFar\",r.camera.nearFar),e.setUniformMatrix4fv(\"ssrViewMat\",r.camera.viewMatrix),e.setUniform1f(\"invResolutionHeight\",1/r.camera.height),o.bindUniforms(e,t,r))}e.bindUniforms=t}(r||(r={}));export{r as ScreenSpaceReflections};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function e(e){e.fragment.code.add(o`\n    const float GAMMA = 2.2;\n    const float INV_GAMMA = 0.4545454545;\n\n    vec4 delinearizeGamma(vec4 color) {\n      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);\n    }\n\n    vec3 linearizeGamma(vec3 color) {\n      return pow(color, vec3(GAMMA));\n    }\n  `)}export{e as Gamma};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ScreenSpaceReflections as o}from\"./ScreenSpaceReflections.glsl.js\";import{FoamColor as t}from\"./FoamRendering.glsl.js\";import{Gamma as r}from\"./Gamma.glsl.js\";import{PhysicallyBasedRendering as i}from\"./PhysicallyBasedRendering.glsl.js\";function a(a,n){a.include(i,n),a.include(r),a.include(t),n.ssrEnabled&&a.include(o,n),a.fragment.constants.add(\"fresnelSky\",\"vec3\",[.02,1,15]).add(\"fresnelMaterial\",\"vec2\",[.02,.1]).add(\"roughness\",\"float\",.015).add(\"foamIntensityExternal\",\"float\",1.7).add(\"ssrIntensity\",\"float\",.65).add(\"ssrHeightFadeStart\",\"float\",3e5).add(\"ssrHeightFadeEnd\",\"float\",5e5).add(\"waterDiffusion\",\"float\",.775).add(\"waterSeeColorMod\",\"float\",.8).add(\"correctionViewingPowerFactor\",\"float\",.4).add(\"skyZenitColor\",\"vec3\",[.52,.68,.9]).add(\"skyColor\",\"vec3\",[.67,.79,.9]),a.fragment.code.add(e`\n    PBRShadingWater shadingInfo;\n\n    /*\n    *   This function is an approximation for the sky gradient reflected\n    *   the water surface and describes a combination of two fresnel terms.\n    *   @parameter: cosTheta = is the result of max(dot(n,v), 0.0)\n    *   @parameter: horizon = the dominant color of the sky horizon\n    *   @parameter: cosTheta = the dominant color of the sky zenit\n    */\n    vec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\n      float exponent = pow((1.0 - cosTheta), fresnelSky[2]);\n      return mix(zenit, horizon, exponent);\n    }\n\n    /*\n    *   This function determines the water color per pixel.\n    *   @parameter: n = normal facing away from the surface\n    *   @parameter: v = view direction facing away from the surface.\n    *   @parameter: l = light direction facing away from the surface\n    *   @parameter: lightIntensity = light intensity, currently between 0...PI\n    *   @parameter: localUp = a normal for the general direction of the surface\n    *   @parameter: shadow = the amount of shadow at this pixel (0 = no shadow)\n    */\n    vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 positionView) {\n\n      float reflectionHit = 0.;\n      vec3 seaWaterColor = linearizeGamma(color);\n      // using half vector to determine the specular light\n      vec3 h = normalize(l + v);\n      shadingInfo.NdotL = clamp(dot(n, l), 0.0, 1.0);\n      shadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\n      shadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\n      shadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\n      shadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\n      shadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\n\n      // angle between vertex normal and view direction\n      float upDotV = max(dot(localUp,v), 0.0);\n      // reflected sky color: the reflected sky color consists of two main colors, the\n      // reflected color at the horizon and the reflected color of the zenit.\n      // the reflected sky color is then an approximation based on the fresnel term.\n      vec3 skyHorizon = linearizeGamma(skyColor);\n      vec3 skyZenit = linearizeGamma(skyZenitColor);\n      vec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\n\n      // we use the upDotL to smoothen out the\n      // reflected color of the water\n      float upDotL = max(dot(localUp,l),0.0);\n\n      // The approximated sky color is adjusted according to the sun position.\n      // This is done as approximation for e.g. night views.\n      float daytimeMod = 0.1 + upDotL * 0.9;\n      skyColor *= daytimeMod;\n\n      // If a water surface is in shadow we just use a slight darkening of the\n      // water surface expressed with this shadowModifier.\n      float shadowModifier = clamp(shadow, 0.8, 1.0);\n\n      // The reflected sky color consists of the fresnel reflection multiplied with the approximated sky color.\n      // The shadow is influencing the frensel term to keep the shadow impression for really near views. As long\n      // as reflection are absent there is a need to have a slight shadow for depth perception.\n      vec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\n      vec3 reflSky = fresnelModifier * skyColor * shadowModifier;\n\n      // The reflected sea color is the input water color combined with the reflected sky color.\n      // The reflected sky color is modified by the incoming light.\n      vec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\n\n      vec3 specular = vec3(0.0);\n      // This prevents the specular light to be rendered when:\n      // - sun is behind a polygon (e.g. sundown for elevated polygons where nDotL might be still ok)\n      // - viewer is under water (for this localUp is better than n)\n      if(upDotV > 0.0 && upDotL > 0.0) {\n        // calculate the cook torrance BRDF but with simplified occlusion\n        vec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\n\n        // Normalize light intensity to be between 0...1. Shadow cancels out specular light here\n        vec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\n\n        specular = shadingInfo.NdotL * incidentLight * specularSun;\n      }\n\n      vec3 foam = vec3(0.0);\n      if(upDotV > 0.0) {\n        foam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n      }\n      `),n.ssrEnabled?a.fragment.code.add(e`\n      // Convert the world position to view position\n      vec4 viewPosition = vec4(positionView.xyz, 1.0);\n      vec3 viewDir = normalize(viewPosition.xyz);\n      vec4 viewNormalVectorCoordinate = ssrViewMat *vec4(n, 0.0);\n      vec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\n      vec4 viewUp = ssrViewMat *vec4(localUp, 0.0);\n\n      // at steeper viewing angles we use more of a vertex normal (in this case up) then the wave normal\n      // this removes some artifacts of normal mapping\n      float correctionViewingFactor = pow(max(dot(-viewDir, viewUp.xyz), 0.0), correctionViewingPowerFactor);\n      vec3 viewNormalCorrected = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\n\n      vec3 reflected = normalize(reflect(viewDir, viewNormalCorrected));\n\n      // perform screen space reflection to detect hit\n      vec3 hitCoordinate = screenSpaceIntersection( normalize(reflected), viewPosition.xyz, viewDir, viewUp.xyz);\n      vec3 reflectedColor = vec3(0.0);\n\n      // if there is a hit with ssr find reflected color from the reprojeted frame\n      if (hitCoordinate.z > 0.0)\n      {\n        vec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\n\n        // fade out if there if the hit is near end of Y axis\n        vec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\n        float heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -positionView.z);\n        reflectionHit = waterDiffusion * clamp(1.0 - (1.3*dCoords.y), 0.0, 1.0) * heightMod;\n\n        reflectedColor = linearizeGamma(texture2D(lastFrameColorMap, reprojectedCoordinate).xyz)* reflectionHit * fresnelModifier.y * ssrIntensity;\n      }\n      float seeColorMod =  mix(waterSeeColorMod, waterSeeColorMod*0.5, reflectionHit);\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES((1. - reflectionHit) * reflSky + reflectedColor + reflSea * seeColorMod + specular + foam);\n    }\n  `):a.fragment.code.add(e`\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES(reflSky + reflSea * waterSeeColorMod + specular + foam);\n    }\n  `)}export{a as Water};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import\"../../../../chunks/builtins.js\";import\"../../../webgl/checkWebGLError.js\";import r from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";class n{constructor(){this.cache=new Map}dispose(){this.cache.forEach((t=>{e(t.texture)&&(t.texture.dispose(),t.texture=null)})),this.cache.clear()}acquire(e){if(t(e))return null;const n=this.patternId(e),i=this.cache.get(n);if(i)return i.refCount++,i.bind;const s=2,o=this.patternToTextureData(e,2),u=o.length/s,c={refCount:1,texture:null,bind:(e,n)=>(t(c.texture)&&(c.texture=new r(e,{width:o.length,height:1,internalFormat:6406,pixelFormat:6406,dataType:5121,wrapMode:33071},o)),e.bindTexture(c.texture,n),u)};return this.cache.set(n,c),c.bind}release(r){if(t(r))return;const n=this.patternId(r),i=this.cache.get(n);i&&(i.refCount--,0===i.refCount&&(e(i.texture)&&i.texture.dispose(),this.cache.delete(n)))}swap(e,t){const r=this.acquire(t);return this.release(e),r}patternId(e){return e.join(\",\")}patternToTextureData(e,t){const r=e.reduce(((e,t)=>e+t))*t,n=new Uint8Array(r);let i=!0,s=0;for(const o of e){for(let e=0;e<o*t;e++)n[s++]=i?255:0;i=!i}return n}}function i(e){return t(e)?e:e.slice()}function s(e){return[e,e]}export{n as StippleTextureRepository,i as createStipplePattern,s as createStipplePatternSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as i,toRGB as e}from\"../../../../core/colorUtils.js\";import{f as o}from\"../../../../chunks/vec4f64.js\";import{createStipplePattern as l}from\"../../webgl-engine/materials/lineStippleUtils.js\";const s={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])},n=.3;function r(t,i){const e=t.clone();return e.a*=i,e}function h(t,o){const l=t.clone(),s=i(l);s.s*=o;const n=e(s);return l.r=n.r,l.g=n.g,l.b=n.b,l}function c(t,i){if(i)for(const e in i)t[e]=i[e]}class a{constructor(t){this.color=s.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,c(this,t)}}class d{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=s.main,this.outlineColor=s.outline,this.renderOccluded=16,this.hoverOutlineColor=s.selectedOutline,c(this,t)}apply(t,i){const e=this[t];i.setParameterValues({color:b(e),transparent:\"color\"!==t||e.a<1,renderOccluded:this.renderOccluded})}}class u{constructor(t){this.vertex=new d({color:s.main,outlineColor:s.outline}),this.edge=new d({color:h(r(s.main,2/3),.5),outlineColor:r(s.outline,.5),size:8,collisionPadding:8}),this.selected=new d({color:s.selected,outlineColor:s.outline}),c(this,t)}}class p{constructor(t){this.color=s.selected,this.width=1.5,this.stipplePattern=l([5,5]),this.stippleOffColor=s.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=s.selected,this.renderOccluded=4,c(this,t)}apply(t){t.color=b(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=b(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=b(this.innerColor),t.renderOccluded=this.renderOccluded}}class w{constructor(t){this.color=s.selected,this.size=4,this.outlineSize=1,this.outlineColor=s.outline,this.shape=\"square\",c(this,t)}apply(t){t.color=b(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=b(this.outlineColor),t.primitive=this.shape}}class f{constructor(t){this.innerColor=s.selected,this.innerWidth=1,this.glowColor=s.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=n,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=s.main,c(this,t)}apply(i,e=1){const o={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*e,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in i?i.style=o:i.laserlineStyle=o}}class g{constructor(t){this.outline=new p({color:s.outline,renderOccluded:8,stippleOffColor:s.selected,stipplePattern:l([5,5]),width:1.5,innerWidth:0}),this.staged=new p({color:s.selected,renderOccluded:8,innerColor:s.staged,stippleOffColor:s.outline,stipplePattern:l([5,5]),width:1.5}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),c(this,t)}}class C{constructor(t){this.outline=new w({color:s.selected,outlineColor:s.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:1.5,glowWidth:6,innerColor:s.selected,innerWidth:1,radius:2}),c(this,t)}}class m extends p{constructor(t){super(),this.extensionType=2,c(this,t)}}class W{constructor(t){this.lineGraphics=new g,this.pointGraphics=new C,this.heightPlane=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),this.heightBox=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:0,heightFillColor:s.main}),this.zVerticalLine=new m({color:r(s.main,5*n/3),falloff:2,innerColor:r(s.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,c(this,t)}}class O{constructor(t){this.visualElements=new W,this.reshapeManipulators=new u,this.zManipulator=new a,c(this,t)}colorToVec4(t){return b(t)}}function b(i){return o(t.toUnitRGBA(i))}const z=new O;export{s as colors,z as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as i,unwrapOr as r}from\"../../../../core/maybe.js\";import{i as s}from\"../../../../chunks/vec3.js\";import{maxScale as a}from\"../../support/mathUtils.js\";import{c as n}from\"../../../../chunks/mat4.js\";import{I as e,a as o}from\"../../../../chunks/mat4f64.js\";import{a as h}from\"../../../../chunks/vec4f64.js\";import{computeAttachmentOriginTriangles as m}from\"./geometryDataUtils.js\";import{Object3DStateID as u}from\"./Object3DStateID.js\";import{addObject3DStateID as d,removeObject3DStateID as f}from\"../materials/renderers/utils.js\";class c{constructor(t,i,r=null,s=null,a,n,e,o,m){this.data=t,this.material=i,this.layerUid=r,this.graphicUid=s,this.boundingSphere=h(),this.instanceParameters={highlights:null,occludees:null,visible:!0},this.shaderTransformationDirty=!0,this.boundingInfo=a,this.material=i,this.origin=null,this.transformation=null,this.calculateShaderTransformation=e,n&&this.updateTransformation(n,o),this.castShadow=m}updateTransformation(t,i){this.transformation=t,this.shaderTransformationDirty=!0,this.computeBoundingSphere(t,i,this.boundingSphere)}shaderTransformationChanged(){this.shaderTransformationDirty=!0}computeBoundingSphere(i,r,n){t(this.boundingInfo)||(r=r||a(i),s(n,this.boundingInfo.getCenter(),i),n[3]=this.boundingInfo.getBSRadius()*r)}get hasShaderTransformation(){return i(this.calculateShaderTransformation)}get primitiveType(){return this.data.primitiveType}getShaderTransformation(){return t(this.calculateShaderTransformation)?r(this.transformation,e):(this.shaderTransformationDirty&&(this.shaderTransformation||(this.shaderTransformation=o()),n(this.shaderTransformation,this.calculateShaderTransformation(r(this.transformation,e))),this.shaderTransformationDirty=!1),this.shaderTransformation)}computeAttachmentOrigin(t){if(this.material.computeAttachmentOrigin)return!!this.material.computeAttachmentOrigin(this,t)&&(i(this.transformation)&&s(t,t,this.transformation),!0);const r=this.indices.get(\"position\"),a=this.vertexAttributes.get(\"position\");return!!m(a,r,t)&&(i(this.transformation)&&s(t,t,this.transformation),!0)}get indices(){return this.data.indices}get vertexAttributes(){return this.data.vertexAttributes}addHighlight(){const t=new u(0),i=this.instanceParameters;return i.highlights=d(i.highlights,t),t}removeHighlight(t){const i=this.instanceParameters;i.highlights=f(i.highlights,t)}}export{c as RenderGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isClockwise as n}from\"./coordsUtils.js\";import{earcut as t}from\"../../core/libs/earcut/earcut.js\";import{deduplicate as e}from\"./meshUtils/deduplicate.js\";function o(n){const o=l(n.rings,n.hasZ,1),s=[];let i=0,c=0;for(const e of o.polygons){const n=e.count,r=e.index,l=new Float64Array(o.position.buffer,3*r*o.position.BYTES_PER_ELEMENT,3*n),h=e.holeIndices.map((n=>n-r)),f=new Uint32Array(t(l,h,3));s.push({position:l,faces:f}),i+=l.length,c+=f.length}const h=r(s,i,c),f=e(h.position.buffer,6,{originalIndices:h.faces});return h.position=new Float64Array(f.buffer),h.faces=f.indices,h}function r(n,t,e){if(1===n.length)return n[0];const o=new Float64Array(t),r=new Uint32Array(e);let l=0,s=0,i=0;for(const c of n){for(let n=0;n<c.position.length;n++)o[l++]=c.position[n];for(let n=0;n<c.faces.length;n++)r[s++]=c.faces[n]+i;i=l/3}return{position:o,faces:r}}function l(n,t,e){const o=n.length,r=new Array(o),l=new Array(o),c=new Array(o);let h=0,f=0,g=0,a=0;for(let s=0;s<o;++s)a+=n[s].length;const u=new Float64Array(3*a);let p=0;for(let d=o-1;d>=0;d--){const a=n[d],y=1===e&&i(a);if(y&&1!==o)r[h++]=a;else{let n=a.length;for(let t=0;t<h;++t)n+=r[t].length;const e={index:p,pathLengths:new Array(h+1),count:n,holeIndices:new Array(h)};e.pathLengths[0]=a.length,a.length>0&&(c[g++]={index:p,count:a.length}),p=y?s(a,a.length-1,-1,u,p,a.length,t):s(a,0,1,u,p,a.length,t);for(let o=0;o<h;++o){const n=r[o];e.holeIndices[o]=p,e.pathLengths[o+1]=n.length,n.length>0&&(c[g++]={index:p,count:n.length}),p=s(n,0,1,u,p,n.length,t)}h=0,e.count>0&&(l[f++]=e)}}for(let i=0;i<h;++i){const n=r[i];n.length>0&&(c[g++]={index:p,count:n.length}),p=s(n,0,1,u,p,n.length,t)}return f<o&&(l.length=f),g<o&&(c.length=g),{position:u,polygons:l,outlines:c}}function s(n,t,e,o,r,l,s){r*=3;for(let i=0;i<l;++i){const l=n[t];o[r++]=l[0],o[r++]=l[1],o[r++]=s?l[2]:0,t+=e}return r/3}function i(t){return!n(t,!1,!1)}export{l as pathsToTriangulationInfo,o as triangulate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as s,f as t}from\"../../../../chunks/vec3f64.js\";class i{constructor(i=s(),c=t(.57735,.57735,.57735),n=!0){this.intensity=i,this.direction=c,this.castShadows=n}}class c{constructor(i=s(),c=t(.57735,.57735,.57735)){this.intensity=s(),this.direction=s(),this.intensity=i,this.direction=c}}class n{constructor(t=s()){this.intensity=t}}class o{constructor(){this.sh={r:[0],g:[0],b:[0]}}}export{n as AmbientLight,c as FillLight,i as MainLight,o as SphericalHarmonicsLight};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{lerp as i}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as e,createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as s,b as h,f as n}from\"../../../../chunks/vec3f64.js\";import{f as o,k as a,g as _,m as p,r as u,d as v,u as c,v as w,a as d,l,s as y,c as f,n as g}from\"../../../../chunks/vec3.js\";import{directionFromTo as m}from\"../../support/mathUtils.js\";import{c as x,m as D,h as j,a as M,b as R,l as P}from\"../../../../chunks/mat4.js\";import{a as F}from\"../../../../chunks/mat4f64.js\";import{f as V}from\"../../../../chunks/vec2f64.js\";import{b as S,a as T}from\"../../../../chunks/vec4f64.js\";import{c as I,k as U}from\"../../../../chunks/vec2.js\";import{c as k,g as b,i as A,t as C}from\"../../../../chunks/vec4.js\";import{p as E}from\"../../../../chunks/vector.js\";import{ray as z,frustum as H}from\"../../support/geometryUtils.js\";import{fovd2fovx as W,fovx2fovd as G,fovd2fovy as X,fovy2fovd as Y}from\"./Util.js\";class L{constructor(i=null,e=null,r=null){this._viewUp=s(),this._viewForward=s(),this._viewRight=s(),this._ray=z.createWrapper(),this._viewport=S(0,0,1,1),this._padding=S(0,0,0,0),this._fov=55/180*Math.PI,this._nearFar=V(1,1e3),this._viewDirty=!0,this._viewMatrix=F(),this._projectionDirty=!0,this._projectionMatrix=F(),this._viewProjectionDirty=!0,this._viewProjectionMatrix=F(),this._viewInverseTransposeMatrixDirty=!0,this._viewInverseTransposeMatrix=F(),this._frustumDirty=!0,this._frustum=H.create(),this._fullViewport=T(),this.pixelRatio=1,this.relativeElevation=0,this._eye=t(i)?h(i):s(),this._center=t(e)?h(e):s(),this._up=t(r)?h(r):n(0,0,1)}get eye(){return this._eye}set eye(t){this._compareAndSetView(t,this._eye)}get center(){return this._center}set center(t){this._compareAndSetView(t,this._center)}get ray(){return this._ray.origin=this.eye,this._ray.direction||(this._ray.direction=s()),o(this._ray.direction,this.center,this.eye),this._ray}get up(){return this._up}set up(t){this._compareAndSetView(t,this._up)}get viewMatrix(){return this._ensureViewClean(),this._viewMatrix}set viewMatrix(t){x(this._viewMatrix,t),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get viewForward(){return this._ensureViewClean(),this._viewForward}get viewUp(){return this._ensureViewClean(),this._viewUp}get viewRight(){return this._ensureViewClean(),this._viewRight}get nearFar(){return this._nearFar}get near(){return this._nearFar[0]}set near(t){this._nearFar[0]!==t&&(this._nearFar[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get far(){return this._nearFar[1]}set far(t){this._nearFar[1]!==t&&(this._nearFar[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewport(){return this._viewport}set viewport(t){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]}get x(){return this._viewport[0]}set x(t){t+=this._padding[3],this._viewport[0]!==t&&(this._viewport[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get y(){return this._viewport[1]}set y(t){t+=this._padding[2],this._viewport[1]!==t&&(this._viewport[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get width(){return this._viewport[2]}set width(t){this._viewport[2]!==t&&(this._viewport[2]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get height(){return this._viewport[3]}set height(t){this._viewport[3]!==t&&(this._viewport[3]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get fullWidth(){return this._viewport[2]+this._padding[1]+this._padding[3]}set fullWidth(t){this.width=t-(this._padding[1]+this._padding[3])}get fullHeight(){return this._viewport[3]+this._padding[0]+this._padding[2]}set fullHeight(t){this.height=t-(this._padding[0]+this._padding[2])}get fullViewport(){return this._fullViewport[0]=this._viewport[0]-this._padding[3],this._fullViewport[1]=this._viewport[1]-this._padding[2],this._fullViewport[2]=this.fullWidth,this._fullViewport[3]=this.fullHeight,this._fullViewport}get aspect(){return this.width/this.height}get padding(){return this._padding}set padding(t){this._padding[0]===t[0]&&this._padding[1]===t[1]&&this._padding[2]===t[2]&&this._padding[3]===t[3]||(this._viewport[0]+=t[3]-this._padding[3],this._viewport[1]+=t[2]-this._padding[2],this._viewport[2]-=t[1]+t[3]-(this._padding[1]+this._padding[3]),this._viewport[3]-=t[0]+t[2]-(this._padding[0]+this._padding[2]),k(this._padding,t),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewProjectionMatrix(){return this._viewProjectionDirty&&(D(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1),this._viewProjectionMatrix}get projectionMatrix(){if(this._projectionDirty){const t=this.width,i=this.height,e=this.near*Math.tan(this.fovY/2),r=e*this.aspect;j(this._projectionMatrix,-r*(1+2*this._padding[3]/t),r*(1+2*this._padding[1]/t),-e*(1+2*this._padding[2]/i),e*(1+2*this._padding[0]/i),this.near,this.far),this._projectionDirty=!1}return this._projectionMatrix}set projectionMatrix(t){x(this._projectionMatrix,t),this._projectionDirty=!1,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fov(){return this._fov}set fov(t){this._fov=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovX(){return W(this._fov,this.width,this.height)}set fovX(t){this._fov=G(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovY(){return X(this._fov,this.width,this.height)}set fovY(t){this._fov=Y(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get distance(){return a(this._center,this._eye)}get frustum(){return this._recomputeFrustum(),this._frustum}get viewInverseTransposeMatrix(){return(this._viewInverseTransposeMatrixDirty||this._viewDirty)&&(M(this._viewInverseTransposeMatrix,this.viewMatrix),R(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),this._viewInverseTransposeMatrix}depthNDCToWorld(t){const i=2*t-1;return 2*this.near*this.far/(this.far+this.near-i*(this.far-this.near))}get perRenderPixelRatio(){return Math.tan(this.fovX/2)/(this.width/2)}get perScreenPixelRatio(){return this.perRenderPixelRatio*this.pixelRatio}get aboveGround(){return this.relativeElevation&&this.relativeElevation>=0}copyFrom(t){const i=t;return _(this._eye,i._eye),_(this._center,i._center),_(this._up,i._up),k(this._viewport,i._viewport),k(this._padding,i._padding),I(this._nearFar,i._nearFar),this._fov=i._fov,this.relativeElevation=t.relativeElevation,this._viewDirty=i._viewDirty,this._viewDirty||(x(this._viewMatrix,i._viewMatrix),_(this._viewRight,i._viewRight),_(this._viewUp,i._viewUp),_(this._viewForward,i._viewForward)),i._projectionDirty?this._projectionDirty=!0:(x(this._projectionMatrix,i._projectionMatrix),this._projectionDirty=!1),this._viewProjectionDirty=!0,this._frustumDirty=i._frustumDirty,this._frustumDirty||(H.copy(i._frustum,this._frustum),this._frustumDirty=!1),i._viewInverseTransposeMatrixDirty?this._viewInverseTransposeMatrixDirty=!0:(x(this._viewInverseTransposeMatrix,i._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),k(this._fullViewport,i._fullViewport),this.pixelRatio=t.pixelRatio,this}copyViewFrom(t){this.eye=t.eye,this.center=t.center,this.up=t.up}clone(){return(new L).copyFrom(this)}equals(t){return p(this._eye,t._eye)&&p(this._center,t._center)&&p(this._up,t._up)&&b(this._viewport,t._viewport)&&b(this._padding,t._padding)&&U(this._nearFar,t._nearFar)&&this._fov===t._fov&&this.pixelRatio===t.pixelRatio&&this.relativeElevation===t.relativeElevation}almostEquals(t){if(this.pixelRatio!==t.pixelRatio||Math.abs(t.fov-this._fov)>=.001)return!1;const i=5e-4,e=1-1e-10;u(B,t.eye,t.center),u(J,this._eye,this._center);const r=v(B,J),s=c(B),h=c(J);return r*r>=e*s*h&&w(t.eye,this._eye)<Math.max(s,h)*i*i&&A(t.padding,this._padding)<.5&&A(t.viewport,this._viewport)<.5}markViewDirty(){this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0}computeRenderPixelSizeAt(t){return this.computeRenderPixelSizeAtDist(this.viewDirectionDistance(t))}computeRenderPixelSizeAtDist(t){return t*this.perRenderPixelRatio}computeScreenPixelSizeAt(t){return this.computeScreenPixelSizeAtDist(this.viewDirectionDistance(t))}viewDirectionDistance(t){return Math.abs(E(this.viewForward,o(B,t,this._eye)))}computeScreenPixelSizeAtDist(t){return t*this.perScreenPixelRatio}computeDistanceFromRadius(t,i){return t/Math.tan(Math.min(this.fovX,this.fovY)/(2*(i||1)))}getScreenCenter(t=e()){return t[0]=(this.padding[3]+this.width/2)/this.pixelRatio,t[1]=(this.padding[0]+this.height/2)/this.pixelRatio,t}getRenderCenter(t,i=.5,e=.5){return t||(t=r()),t[0]=this.padding[3]+this.width*i,t[1]=this.padding[2]+this.height*e,t.length>2&&(t[2]=.5),t}setGLViewport(t){const i=this.viewport,e=this.padding;t.setViewport(i[0]-e[3],i[1]-e[2],i[2]+e[1]+e[3],i[3]+e[0]+e[2])}applyProjection(t,e,r=!1){t!==q&&_(q,t),q[3]=1,r&&(e[2]=-q[2]),C(q,q,this.projectionMatrix),d(q,q,1/Math.abs(q[3]));const s=this.fullViewport;return e[0]=i(0,s[0]+s[2],.5+.5*q[0]),e[1]=i(0,s[1]+s[3],.5+.5*q[1]),r||(e[2]=.5*(q[2]+1)),e}projectToScreen(t,i){return this.projectToRenderScreen(t,K),this.renderToScreen(K,i)}projectToRenderScreen(t,e){if(q[0]=t[0],q[1]=t[1],q[2]=t[2],q[3]=1,C(q,q,this.viewProjectionMatrix),0===q[3])return null;d(q,q,1/Math.abs(q[3]));const r=this.fullViewport;return\"x\"in e?(e.x=i(0,r[0]+r[2],.5+.5*q[0]),e.y=i(0,r[1]+r[3],.5+.5*q[1])):(e[0]=i(0,r[0]+r[2],.5+.5*q[0]),e[1]=i(0,r[1]+r[3],.5+.5*q[1]),e.length>2&&(e[2]=.5*(q[2]+1))),e}unprojectFromScreen(t,i){return this.unprojectFromRenderScreen(this.screenToRender(t,K),i)}unprojectFromRenderScreen(t,i){if(D(N,this.projectionMatrix,this.viewMatrix),!M(N,N))return null;const e=this.fullViewport;return q[0]=2*(t[0]-e[0])/e[2]-1,q[1]=2*(t[1]-e[1])/e[3]-1,q[2]=2*t[2]-1,q[3]=1,C(q,q,N),0===q[3]?null:(i[0]=q[0]/q[3],i[1]=q[1]/q[3],i[2]=q[2]/q[3],i)}constrainWindowSize(t,i,e,r=1){const s=t*this.pixelRatio,h=i*this.pixelRatio,n=Math.max(s-e*r/2,0),o=Math.max(this.fullHeight-h-e/2,0),a=-Math.min(s-e*r/2,0),_=-Math.min(this.fullHeight-h-e/2,0);return[n,o,e*r-a- -Math.min(this.fullWidth-s-e*r/2,0),e-_- -Math.min(h-e/2,0)]}computeUp(t){1===t?this.computeUpGlobal():this.computeUpLocal()}screenToRender(t,i){const e=t[0]*this.pixelRatio,r=this.fullHeight-t[1]*this.pixelRatio;return i[0]=e,i[1]=r,i}renderToScreen(t,i){const e=t[0]/this.pixelRatio,r=(this.fullHeight-t[1])/this.pixelRatio;return i[0]=e,i[1]=r,i}computeUpGlobal(){o(B,this.center,this.eye);const t=l(this.center);t<1?(y(this.up,0,0,1),this.markViewDirty()):Math.abs(v(B,this.center))>.9999*l(B)*t||(f(this.up,B,this.center),f(this.up,this.up,B),g(this.up,this.up),this.markViewDirty())}computeUpLocal(){m(B,this.eye,this.center),Math.abs(B[2])<=.9999&&(d(B,B,B[2]),y(this.up,-B[0],-B[1],1-B[2]),g(this.up,this.up),this.markViewDirty())}_compareAndSetView(t,i){p(t,i)||(_(i,t),this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0)}_recomputeFrustum(){this._frustumDirty&&(H.fromMatrix(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)}_ensureViewClean(){this._viewDirty&&(P(this._viewMatrix,this._eye,this._center,this._up),y(this._viewForward,-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10]),y(this._viewUp,this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9]),y(this._viewRight,this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8]),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)}}const q=T(),N=F(),B=s(),J=s(),K=r();export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as E}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import I from\"../../../core/Accessor.js\";let S=class extends I{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.SCENEVIEW_LOCKING_LOG=!1,this.HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED=!0,this.HIGHLIGHTS_PROFILE_TO_CONSOLE=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_UPDATE_THRESHOLDS=!1,this.DISABLE_DECONFLICTOR_VISIBILITY_OFFSET=!1,this.DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.ENABLE_PROFILE_DEPTH_RANGE=!1,this.DISABLE_FAST_UPDATES=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1}};E([_()],S.prototype,\"SCENEVIEW_HITTEST_RETURN_INTERSECTOR\",void 0),E([_()],S.prototype,\"SCENEVIEW_LOCKING_LOG\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_PROFILE_TO_CONSOLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_VISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_INVISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_GRID\",void 0),E([_()],S.prototype,\"LABELS_SHOW_BORDER\",void 0),E([_()],S.prototype,\"OVERLAY_DRAW_DEBUG_TEXTURE\",void 0),E([_()],S.prototype,\"OVERLAY_SHOW_CENTER\",void 0),E([_()],S.prototype,\"SHOW_POI\",void 0),E([_()],S.prototype,\"TESTS_DISABLE_UPDATE_THRESHOLDS\",void 0),E([_()],S.prototype,\"DISABLE_DECONFLICTOR_VISIBILITY_OFFSET\",void 0),E([_()],S.prototype,\"DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES\",void 0),E([_()],S.prototype,\"DRAW_MESH_GEOMETRY_NORMALS\",void 0),E([_()],S.prototype,\"FEATURE_TILE_FETCH_SHOW_TILES\",void 0),E([_()],S.prototype,\"FEATURE_TILE_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"TERRAIN_TILE_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_SHOW_MODIFICATIONS\",void 0),E([_()],S.prototype,\"ENABLE_PROFILE_DEPTH_RANGE\",void 0),E([_()],S.prototype,\"DISABLE_FAST_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_DISABLE_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL\",void 0),E([_()],S.prototype,\"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES\",void 0),S=E([o(\"esri.views.3d.support.DebugFlags\")],S);const T=new S;export default T;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{disposeMaybe as e}from\"../../../core/maybe.js\";import\"../../../core/mathUtils.js\";import{generateUID as r}from\"../../../core/uid.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/checkWebGLError.js\";import{getGpuMemoryUsage as t}from\"../../webgl/Util.js\";import i from\"../../webgl/FramebufferObject.js\";class s{constructor(e,t){this.id=r(),this._renderTarget=null,this._renderTarget=new i(e,{colorTarget:0,depthStencilTarget:0},{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9987,hasMipmap:t,maxAnisotropy:8,width:0,height:0})}dispose(){this._renderTarget=e(this._renderTarget)}getTexture(){return this._renderTarget?this._renderTarget.colorTexture:null}isValid(){return null!==this._renderTarget}resize(e,r){this._renderTarget.resize(e,r)}bind(e){e.bindFramebuffer(this._renderTarget)}generateMipMap(){this._renderTarget.colorTexture.descriptor.hasMipmap&&this._renderTarget.colorTexture.generateMipmap()}disposeRenderTargetMemory(){this._renderTarget&&this._renderTarget.resize(0,0)}getGpuMemoryUsage(){let e=0;return this._renderTarget&&(e+=t(this._renderTarget)),e}}export{s as OverlayRenderTarget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{b as n,f as t}from\"../../../../chunks/vec3f64.js\";class r{constructor(n,t){this.vec3=n,this.id=t}}function s(t,s){return new r(n(t),s)}function c(n,s,c,e){return new r(t(n,s,c),e)}export{r as LocalOrigin,c as fromValues,s as fromVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{OverlayRenderTarget as r}from\"./OverlayRenderTarget.js\";import{fromValues as t}from\"../webgl-engine/lib/localOrigin.js\";class s{constructor(s){this.extent=e(),this.resolution=0,this.renderLocalOrigin=t(0,0,0,\"O\"),this.pixelRatio=1,this.renderTargets={color:{fbo:new r(s,!0),valid:!1,lastUsed:1/0},colorWithoutRasterImage:{fbo:new r(s,!0),valid:!1,lastUsed:1/0},highlight:{fbo:new r(s,!1),valid:!1,lastUsed:1/0},water:{fbo:new r(s,!0),valid:!1,lastUsed:1/0},occluded:{fbo:new r(s,!0),valid:!1,lastUsed:1/0}}}dispose(){this.renderTargets.color.fbo.dispose(),this.renderTargets.colorWithoutRasterImage.fbo.dispose(),this.renderTargets.highlight.fbo.dispose(),this.renderTargets.water.fbo.dispose(),this.renderTargets.occluded.fbo.dispose()}drawRenderTargets(e,r,t){const s=this.renderTargets;s.color.valid=e.drawPass(0,s.color.fbo,r),s.highlight.valid=e.drawPass(5,s.highlight.fbo,r),s.water.valid=e.drawPass(3,s.water.fbo,r),s.occluded.valid=e.drawPass(0,s.occluded.fbo,r,1),s.colorWithoutRasterImage.valid=t&&e.drawPass(0,s.colorWithoutRasterImage.fbo,r,2)}computeRenderTargetValidityBitfield(){const e=this.renderTargets;return+e.color.valid|+e.colorWithoutRasterImage.valid<<1|+e.highlight.valid<<2|+e.water.valid<<3|+e.occluded.valid<<4}validateUsage(e,r){if(e.valid)e.lastUsed=r;else if(r-e.lastUsed>a)e.fbo.disposeRenderTargetMemory(),e.lastUsed=1/0;else if(e.lastUsed<1/0)return!0;return!1}collectUnusedMemory(e){let r=!1;return r=this.validateUsage(this.renderTargets.color,e)||r,r=this.validateUsage(this.renderTargets.colorWithoutRasterImage,e)||r,r=this.validateUsage(this.renderTargets.highlight,e)||r,r=this.validateUsage(this.renderTargets.occluded,e)||r,r=this.validateUsage(this.renderTargets.water,e)||r,r}getGpuMemoryUsage(){return this.renderTargets.color.fbo.getGpuMemoryUsage()+this.renderTargets.colorWithoutRasterImage.fbo.getGpuMemoryUsage()+this.renderTargets.highlight.fbo.getGpuMemoryUsage()+this.renderTargets.water.fbo.getGpuMemoryUsage()+this.renderTargets.occluded.fbo.getGpuMemoryUsage()}}const a=1e3;export{s as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{removeUnordered as r}from\"../../../../../core/arrayUtils.js\";class s{constructor(){this._uniforms={proj:[],uShadowMapDistance:[],viewportPixelSz:[],lightingMainDirection:[]}}dispose(){this._uniforms=null}getPrograms(r){return this._uniforms[r]||[]}subscribeProgram(r){for(const s in this._uniforms)r.hasUniform(s)&&this._uniforms[s].push(r)}unsubscribeProgram(s){for(const i in this._uniforms)r(this._uniforms[i],s)}}export{s as CommonUniformStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../core/maybe.js\";class t{constructor(e){this.technique=e,this.refCount=0,this.refZeroFrame=0}}class r{constructor(e){this._context=e,this._perConstructorInstances=new Map,this._frameCounter=0,this._keepAliveFrameCount=1200}get viewingMode(){return this._context.viewingMode}get constructionContext(){return this._context}dispose(){this._perConstructorInstances.forEach((e=>e.forEach((e=>e.technique.dispose())))),this._perConstructorInstances.clear()}acquire(e,r){const s=r.key;let n=this._perConstructorInstances.get(e);n||(n=new Map,this._perConstructorInstances.set(e,n));let o=n.get(s);return void 0===o&&(o=new t(new e(this._context,r)),n.set(s,o)),++o.refCount,o.technique}acquireAndReleaseExisting(t,r,s){return e(s)?this.acquire(t,r):r.key===s.key&&s instanceof t?s:(this.release(s),this.acquire(t,r))}release(t){if(e(t))return;const r=this._perConstructorInstances.get(t.constructor).get(t.key);r.refCount-=1,0===r.refCount&&(r.refZeroFrame=this._frameCounter)}frameUpdate(){this._frameCounter++,this._perConstructorInstances.forEach(((e,t)=>{e.forEach(((t,r)=>{0===t.refCount&&t.refZeroFrame+this._keepAliveFrameCount<this._frameCounter&&(t.technique.dispose(),e.delete(r))})),0===e.size&&this._perConstructorInstances.delete(t)}))}getProgramsUsingUniform(e){return this._context.commonUniformStore.getPrograms(e)}async hotReload(){const e=new Array;this._perConstructorInstances.forEach(((t,r)=>{const s=async(e,t)=>{const r=t.shader;r&&(await r.reload(),e.forEach((e=>{e.technique.reload(this._context)})))};e.push(s(t,r))})),await Promise.all(e)}}export{r as ShaderTechniqueRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=[{output:0,name:\"color\"},{output:1,name:\"depth\"},{output:2,name:\"normal\"},{output:3,name:\"depthShadowMap\"},{output:4,name:\"highlight\"},{output:5,name:\"draped\"},{output:6,name:\"occlusion\"},{output:7,name:\"alpha\"}];function u(u,o){return u+\"_\"+t.find((t=>t.output===o)).name}export{t as ShaderOutputTypes,u as getShaderOutputID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/Logger.js\";import{assert as i}from\"./Util.js\";import{getShaderOutputID as r,ShaderOutputTypes as a}from\"../core/shaderLibrary/ShaderOutputOptions.js\";const s=t.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRep\");class o{constructor(e){this.refCnt=0,this.glMaterial=e}incRefCnt(){++this.refCnt}decRefCnt(){--this.refCnt,i(this.refCnt>=0)}getRefCnt(){return this.refCnt}getGLMaterial(){return this.glMaterial}}class n{constructor(e,t,i){this._textureRep=e,this._techniqueRep=t,this.onMaterialChanged=i,this._id2glMaterialRef=new Map}dispose(){this._textureRep.dispose()}acquire(e,t){this.ownMaterial(e);const i=r(e.id,t);let a=this._id2glMaterialRef.get(i);if(null==a){const r=e.getGLMaterial({material:e,techniqueRep:this._techniqueRep,textureRep:this._textureRep,output:t});return a=new o(r),a.incRefCnt(),this._id2glMaterialRef.set(i,a),r}return a.incRefCnt(),a.getGLMaterial()}release(e,t){const i=r(e.id,t),a=this._id2glMaterialRef.get(i);if(a.decRefCnt(),0===a.getRefCnt()){const e=a.getGLMaterial();e&&e.dispose(),this._id2glMaterialRef.delete(i)}}materialChanged(e){for(const t of a)if(5!==t.output&&6!==t.output){const i=this._id2glMaterialRef.get(r(e.id,t.output));if(i&&i.getGLMaterial()){const e=i.getGLMaterial();e.updateParameters&&e.updateParameters()}}this.onMaterialChanged&&this.onMaterialChanged(e)}ownMaterial(t){e(t.materialRepository)&&t.materialRepository!==this&&s.error(\"Material is already owned by a different material repository\"),t.materialRepository=this}}export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import i from\"../../../../geometry/SpatialReference.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{f as r}from\"../../../../chunks/vec3.js\";import{projectBuffer as o}from\"../../../../geometry/projection.js\";import{I as e}from\"../../../../chunks/mat4f64.js\";import{Geometry as n}from\"./Geometry.js\";import{Object3D as a}from\"./Object3D.js\";import{fromValues as h}from\"./localOrigin.js\";import{WebGLLayer as c}from\"./WebGLLayer.js\";import{RibbonLineMaterial as m}from\"../materials/RibbonLineMaterial.js\";let _=0;const d=\"rg_\";class g{constructor(){this.ROOT_ORIGIN_ID=d+\"root_\"+_++,this._origins=new Map,this._gridSize=42e5}getOrigin(i){const s=this._origins.get(this.ROOT_ORIGIN_ID);if(null==s){if(t(g.testOrigin)){const t=g.testOrigin;return this._origins.set(this.ROOT_ORIGIN_ID,h(t[0],t[1],t[2],this.ROOT_ORIGIN_ID)),this.getOrigin(i)}const s=h(i[0]+Math.random()-.5,i[1]+Math.random()-.5,i[2]+Math.random()-.5,this.ROOT_ORIGIN_ID);return this._origins.set(this.ROOT_ORIGIN_ID,s),s}r(l,i,s.vec3),l[0]=Math.abs(l[0]),l[1]=Math.abs(l[1]),l[2]=Math.abs(l[2]);const o=this._gridSize;if(l[0]<o&&l[1]<o&&l[2]<o)return s;const e=Math.round(i[0]/o),n=Math.round(i[1]/o),a=Math.round(i[2]/o),c=`${d}${e}/${n}/${a}`;let m=this._origins.get(c);return m||(m=h(e*o,n*o,a*o,c),this._origins.set(c,m)),m}_drawOriginBox(t){const s=window.view,r=s._stage;if(null==this._object){this._material=new m({width:2,color:[0,1,0,1]}),r.add(this._material);const t=new c({isPickable:!1});this._object=new a({castShadow:!1}),r.add(this._object),t.add(this._object),r.add(t)}const h=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],_=h.length,d=new Array(3*_),g=new Uint16Array(2*(_-1)),l=.5*this._gridSize;for(let i=0;i<_;i++)d[3*i+0]=t[0]+(1&h[i]?l:-l),d[3*i+1]=t[1]+(2&h[i]?l:-l),d[3*i+2]=t[2]+(4&h[i]?l:-l),i>0&&(g[2*i+0]=i-1,g[2*i+1]=i);o(d,i.WebMercator,0,d,s.spatialReference,0,_);const O=new n([[\"position\",{size:3,data:d,exclusive:!0}]],[[\"position\",g]],2);r.add(O),this._object.addGeometry(O,this._material,e),console.log(this._origins.size,t)}}const l=s();!function(t){t.testOrigin=null}(g||(g={}));var O=g;export default O;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport s from\"./Camera.js\";class e{constructor(e,i,h,r,a,l){this.rctx=e,this.offscreenRenderingHelper=i,this.scenelightingData=h,this.shadowMap=r,this.ssaoHelper=a,this.sliceHelper=l,this.camera=null,this.lastFrameCamera=new s,this.pass=0,this.slot=0,this.highlightDepthTexture=null,this.renderOccludedMask=t,this.hasOccludees=!1}resetRenderOccludedMask(){this.renderOccludedMask=t}get isHighlightPass(){return 5===this.pass}}const t=13;export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/PooledArray.js\";class r{constructor(){this.adds=new e,this.removes=new e,this.updates=new e({allocator:e=>e||new s,deallocator:e=>(e.renderGeometry=null,e)})}clear(){this.adds.clear(),this.removes.clear(),this.updates.clear()}prune(){this.adds.prune(),this.removes.prune(),this.updates.prune()}}class s{}class t{constructor(){this.adds=new Array,this.removes=new Array,this.updates=new Array}}export{r as ChangeSet,t as MaterialChangeSet,s as RenderGeometryUpdate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{MaterialChangeSet as e}from\"./ChangeSet.js\";function r(r){const n=new Map,a=r=>{let t=n.get(r);return t||(t=new e,n.set(r,t)),t};return r.adds.forAll((e=>{t(e)&&a(e.material).adds.push(e)})),r.removes.forAll((e=>{t(e)&&a(e.material).removes.push(e)})),r.updates.forAll((e=>{t(e.renderGeometry)&&a(e.renderGeometry.material).updates.push(e)})),n}function t(e){return e.data.indexCount>=1}export{r as splitRenderGeometryChangeSetByMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as r}from\"../../../../core/mathUtils.js\";class t{constructor(t){null==t?t=16:t<65536&&(t=r(t)),this._array=new Float32Array(t),this._size=0}resize(r,t){if(this._size=r,this._size>this._array.length){let r=this._array.length||1;for(;r<this._size;)r*=2;const s=new Float32Array(r);return t&&s.set(this._array),this._array=s,!0}const s=2*this._size;if(s<=this._array.length){let r=this._array.length;for(;r>=s;)r=Math.floor(r/2);const a=new Float32Array(r);return t&&a.set(this._array.subarray(0,r)),this._array=a,!0}return!1}append(r){const t=this._size;this.resize(this._size+r.length,!0),this._array.set(r,t)}erase(r,t){for(let s=r;s<t;++s)this._array[s]=0}get array(){return this._array}get size(){return this._size}}export{t as ResizableFloat32Array};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as i,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,defaultDepthWriteParams as p,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";import{View as l}from\"../core/shaderLibrary/util/View.glsl.js\";import{DefaultTextureUnits as h}from\"../lib/DefaultTextureUnits.js\";import{Slice as d}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as c}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{blendingDefault as m,OITBlending as g,OITDepthTest as f,OITDepthWrite as b,getOITPolygonOffset as y}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as T}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ReadShadowMap as v}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ScreenSpaceReflections as w}from\"../core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js\";import{WaterDistortion as S}from\"../core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{W as j}from\"../../../../chunks/WaterSurface.glsl.js\";class x extends t{constructor(r,e){super(r,e),this.waterTextureRepository=r.waterTextureRepository}initializeProgram(r){const e=x.shader.get(),t=this.configuration,i=e.build({OITEnabled:0===t.transparencyPassType,output:t.output,viewingMode:r.viewingMode,slicePlaneEnabled:t.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,receiveShadows:t.receiveShadows,pbrMode:3,useCustomDTRExponentForWater:!0,ssrEnabled:t.useSSR,highStepCount:!0,multipassTerrainEnabled:t.multipassTerrainEnabled,cullAboveGround:t.cullAboveGround});return new a(r.rctx,i.generateSource(\"vertex\"),i.generateSource(\"fragment\"),s)}ensureResource(r){return this.waterTextureRepository.ready||this.waterTextureRepository.updating||this.waterTextureRepository.loadTextures(r),this.waterTextureRepository.ready?2:1}bindPass(r,e,t){l.bindProjectionMatrix(this.program,t.camera.projectionMatrix),t.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",t.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",t.inverseViewport),T(this.program,r,t)),0===this.configuration.output&&(t.lighting.setUniforms(this.program,!1),w.bindUniforms(this.program,r,t)),0!==this.configuration.output&&2!==this.configuration.output||(S.bindUniforms(this.program,e),this.waterTextureRepository.bindRepo(r)),this.program.setUniform4fv(\"waterColor\",e.color),4===this.configuration.output&&c.bindOutputHighlight(r,this.program,t)}bindDraw(r){l.bindView(this.program,r),0!==this.configuration.output&&7!==this.configuration.output||l.bindCamPosition(this.program,r.origin,r.camera.viewInverseTransposeMatrix),0===this.configuration.output&&v.bindUniforms(this.program,r,h.SHADOW_MAP),0!==this.configuration.output&&7!==this.configuration.output&&4!==this.configuration.output||d.bindUniformsWithOrigin(this.program,this.configuration,r)}setPipelineState(r){const e=this.configuration,t=3===r,i=2===r;return n({blending:2!==e.output&&4!==e.output&&e.transparent?t?m:g(r):null,depthTest:{func:f(r)},depthWrite:t?e.writeDepth&&p:b(r),colorWrite:u,polygonOffset:t||i?null:y(e.enableOffset)})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}x.shader=new e(j,(()=>import(\"../shaders/WaterSurface.glsl.js\")));class P extends i{constructor(){super(...arguments),this.output=0,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.useSSR=!1,this.isDraped=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}r([o({count:8})],P.prototype,\"output\",void 0),r([o()],P.prototype,\"receiveShadows\",void 0),r([o()],P.prototype,\"slicePlaneEnabled\",void 0),r([o()],P.prototype,\"transparent\",void 0),r([o()],P.prototype,\"enableOffset\",void 0),r([o()],P.prototype,\"writeDepth\",void 0),r([o()],P.prototype,\"useSSR\",void 0),r([o()],P.prototype,\"isDraped\",void 0),r([o({count:4})],P.prototype,\"transparencyPassType\",void 0),r([o()],P.prototype,\"multipassTerrainEnabled\",void 0),r([o()],P.prototype,\"cullAboveGround\",void 0);export{x as WaterTechnique,P as WaterTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../lib/GLMaterial.js\";import{WaterTechnique as e}from\"./WaterTechnique.js\";class a extends t{constructor(t){super(t),this.updateParameters()}updateParameters(t){this.technique=this.techniqueRep.acquireAndReleaseExisting(e,this.material.getTechniqueConfig(this.output,t),this.technique)}beginSlot(t){if(2===this.output)return 22===t;if(5===this.output)return null==t;if(4===this.output)return 3===t;let e=3;return this.material.params.transparent&&(e=this.material.params.writeDepth?5:8),t===e}setElapsedTimeUniform(t){const e=.001*this.material.animation.time;t.setUniform1f(\"timeElapsed\",e*this.material.params.animationSpeed)}_updateShadowState(t){t.shadowMappingEnabled!==this.material.params.receiveShadows&&this.material.setParameterValues({receiveShadows:t.shadowMappingEnabled})}_updateSSRState(t){t.ssrEnabled!==this.material.params.ssrEnabled&&this.material.setParameterValues({ssrEnabled:t.ssrEnabled})}ensureResources(t){return this.technique.ensureResource(t)}ensureParameters(t){0===this.output&&(this._updateShadowState(t),this._updateSSRState(t)),this.updateParameters(t)}bind(t,e){t.bindProgram(this.technique.program),this.technique.bindPass(t,this.material.params,e),2!==this.output&&0!==this.output||this.setElapsedTimeUniform(this.technique.program)}}export{a as WaterGLMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{a as t,b as o}from\"../../../../../chunks/mat4.js\";import{b as r}from\"../../../../../chunks/mat4f64.js\";class s{constructor(s,i,n,f,m,a){this.from=s,this.to=i,this.isVisible=n,this.hasHighlights=f,this.hasOccludees=m,this.transformation=a,null!=a&&(this.transformationNormal=r(a),t(this.transformationNormal,this.transformationNormal),o(this.transformationNormal,this.transformationNormal))}}function i(t){return t.sort(((t,o)=>t.from===o.from?t.to>o.to?1:t.to<o.to?-1:0:t.from>o.from?1:t.from<o.from?-1:0))}function n(t,o){return t.first+t.count>=o.from}function f(t,o){const r=t=>({first:t.from,count:t.to-t.from});if(0===t.length)return void t.push(r(o));const s=t[t.length-1];if(n(s,o)){const t=o.from-s.first+o.to-o.from;s.count=t}else t.push(r(o))}export{s as Instance,f as addOrMerge,i as sortInstancesAccordingToRange};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{once as t}from\"../../../../core/accessorSupport/utils.js\";import s from\"../../../../core/PerformanceSampler.js\";import{startMeasurement as r}from\"../../../webgl/Measurement.js\";const i=[\"prepare\",\"shadowmap\",\"lineardepth\",\"normals\",\"ssao\",\"opaque\",\"opaque edges\",\"transparent\",\"transparent edges\",\"hudvisibility\",\"transparent terrain\",\"atmosphere\",\"laserline\",\"occluded\",\"antialiasing\",\"highlights\",\"hudOccluded\",\"hudNotoccluded\"];class a{constructor(){this.triangles=0,this.drawCalls=0}reset(){this.triangles=0,this.drawCalls=0}}function o(t,s,r){e(r)&&(r.drawCalls+=t,r.triangles+=s)}class n extends s{constructor(){super(\"total\"),this.total=0,this.frameCount=0}}class l{constructor(){this._startTime=0,this._lastSample=0,this._enableGPUTimer=0,this.totalTime=new n,this.gpuTime=new s(\"gpu\",9),this.renderPassTimings=i.map((e=>new s(e))),this.stats=new a}enableGPUTimer(){return++this._enableGPUTimer,{remove:t((()=>--this._enableGPUTimer))}}prerender(e){this._startTime=this._lastSample=performance.now(),this._enableGPUTimer&&(this._gpuTimer=r(e))}advance(e){const t=performance.now();this.renderPassTimings[e].record(t-this._lastSample),this._lastSample=t}postrender(){e(this._gpuTimer)&&(this._gpuTimer.stop((t=>e(t)&&this.gpuTime.record(t)),16),this._gpuTimer=null);const t=performance.now()-this._startTime;this.totalTime.record(t),this.totalTime.total+=t,this.totalTime.frameCount++}}export{a as RenderStats,n as RenderTime,l as RendererPerformanceInfo,o as addToRenderStats,i as performanceStatsCategories};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../../core/maybe.js\";import{m as s,a,b as i}from\"../../../../../chunks/mat4.js\";import{someMap as r}from\"../../../../../core/MapUtils.js\";import{a as n}from\"../../../../../chunks/mat4f64.js\";import{glLayout as o}from\"../../../support/buffer/glUtil.js\";import{assert as d,setMatrixTranslation3 as l}from\"../../lib/Util.js\";import h from\"../../../../webgl/BufferObject.js\";import{getStride as m}from\"../../../../webgl/Util.js\";import u from\"../../../../webgl/VertexArrayObject.js\";import{acquireMaterials as c,releaseMaterials as g,calculateTransformRelToOrigin as f}from\"./utils.js\";import{ResizableFloat32Array as p}from\"../../lib/ResizableFloat32Array.js\";import{WaterGLMaterial as w}from\"../WaterGLMaterial.js\";import{Instance as b,sortInstancesAccordingToRange as C,addOrMerge as y}from\"./Instance.js\";import{addToRenderStats as _}from\"../../statistics/RendererPerformanceInfo.js\";class v{constructor(e,t,s){this.type=\"MergedRenderer\",this._dataByOrigin=new Map,this._hasHighlights=!1,this._hasOccludees=!1,this._rctx=e,this._material=s,this._materialRep=t,this._glMaterials=c(this._material,this._materialRep),this._bufferWriter=s.createBufferWriter()}dispose(){g(this._material,this._materialRep),this._dataByOrigin&&(this._dataByOrigin.forEach((e=>{e.vao.dispose(!0),e.vao=null})),this._dataByOrigin.clear(),this._dataByOrigin=null),this._glMaterials&&(this._glMaterials.forEach((e=>{e&&e.dispose()})),this._glMaterials.clear(),this._glMaterials=null)}get isEmpty(){return 0===this._dataByOrigin.size}get hasHighlights(){return this._hasHighlights}get hasOccludees(){return this._hasOccludees}get hasWater(){return!this.isEmpty&&r(this._glMaterials,(e=>e instanceof w))}get rendersOccluded(){return!this.isEmpty&&1!==this._material.renderOccluded}modify(e){this.updateGeometries(e.updates),this.addAndRemoveGeometries(e.adds,e.removes),this.updateRenderCommands()}addAndRemoveGeometries(e,t){const s=this._bufferWriter,a=s.vertexBufferLayout,i=a.stride/4,r=this._dataByOrigin,n=H(r,s,e,t);n.forEach(((e,t)=>{n.delete(t);const s=e.optimalCount,o=e.sparseCount;let h=r.get(t);if(null==h)d(s>0),h=this.createData(a,s,e.origin),r.set(t,h);else if(0===s)return h.vao.dispose(!0),h.vao=null,void r.delete(t);const m=s<e.sparseCount/2,u=m?s:o,c=R,g=h.buffer.size,f=h.buffer.array,p=h.buffer.resize(u,!1);m||p?this.removeAndRebuild(h,e.toRemove,i,f,c):e.toRemove.length>0?(this.removeByErasing(h,e.toRemove,i,c),e.toAdd.length>0&&(c.end=g)):(c.begin=g,c.end=g);const w=B;l(w,-e.origin[0],-e.origin[1],-e.origin[2]),this.append(h,e.toAdd,i,w,c);const b=h.vao.vertexBuffers.geometry;if(b.byteSize!==h.buffer.array.buffer.byteLength)b.setData(h.buffer.array);else{const{begin:e,end:t}=c;if(e<t){const s=h.buffer.array,a=4,i=e*a,r=t*a;b.setSubData(s,i,i,r)}}h.drawCommandsDirty=!0}))}updateGeometries(e){const t=this._bufferWriter,s=t.vertexBufferLayout.stride/4;for(const a of e){const e=a.updateType,i=a.renderGeometry,r=this._dataByOrigin.get(i.origin.id),n=r&&r.instances.get(i.id);if(!n)return;if(1&e&&(n.isVisible=i.instanceParameters.visible),9&e){const e=i.instanceParameters.visible;n.hasHighlights=!!i.instanceParameters.highlights&&e}if(16&e&&(n.hasOccludees=!!i.instanceParameters.occludees),6&e){const e=r.buffer.array,a=r.vao;f(i,D,j),t.write({transformation:D,invTranspTransformation:j},i.data,t.vertexBufferLayout.createView(e.buffer),n.from),d(n.from+t.elementCount(i.data)===n.to,\"material VBO layout has changed\"),a.vertexBuffers.geometry.setSubData(e,n.from*s*4,n.from*s*4,n.to*s*4)}r.drawCommandsDirty=!0}}updateRenderCommands(){this._hasHighlights=!1,this._hasOccludees=!1,this._dataByOrigin.forEach((e=>{e.hasHiddenInstances=!1,e.hasHighlights=!1,e.hasOccludees=!1,r(e.instances,(t=>(t.isVisible?(t.hasHighlights&&(this._hasHighlights=!0,e.hasHighlights=!0),t.hasOccludees&&(this._hasOccludees=!0,e.hasOccludees=!0)):e.hasHiddenInstances=!0,e.hasHiddenInstances&&e.hasHighlights&&e.hasOccludees)))}));const e=e=>{if(e.drawCommandsDefault=null,e.drawCommandsHighlight=null,e.drawCommandsOccludees=null,e.drawCommandsShadowHighlightRest=null,e.stats={default:0,highlight:0,occludees:0,shadowHighlightRest:0},0===e.instances.size)return;if(!O(e)){const t=4*e.buffer.size/m(e.vao.layout.geometry);return e.drawCommandsDefault=[{first:0,count:t}],void(e.stats={default:t,highlight:0,occludees:0,shadowHighlightRest:0})}const t=C([...e.instances.values()]);e.drawCommandsDefault=[],e.drawCommandsHighlight=[],e.drawCommandsOccludees=[],e.drawCommandsShadowHighlightRest=[];for(const a of t)a.isVisible&&(a.hasOccludees?y(e.drawCommandsOccludees,a):y(e.drawCommandsDefault,a),a.hasHighlights?y(e.drawCommandsHighlight,a):y(e.drawCommandsShadowHighlightRest,a));const s=e=>{let t=0;for(const s of e)t+=s.count;return t/3};e.stats={default:s(e.drawCommandsDefault),highlight:s(e.drawCommandsHighlight),occludees:s(e.drawCommandsOccludees),shadowHighlightRest:s(e.drawCommandsShadowHighlightRest)}};this._dataByOrigin.forEach((t=>{t.drawCommandsDirty&&(e(t),t.drawCommandsDirty=!1)}))}updateLogic(e){return this._material.update(e)}render(s,a,i,r){const n=this._rctx,o=this._glMaterials.get(a.pass),d=5===a.pass||7===a.pass,l=6===a.pass,h=!(d||l);let m=s;if(3===a.pass&&null===m&&(m=22),!o||2!==o.ensureResources(n)||null!=m&&!o.beginSlot(m)||d&&!this._hasHighlights)return!1;o.ensureParameters(i);const u=o.getTechnique(),c=o.getPipelineState(m,!1);n.setPipelineState(c),o.bind(n,i);let g=!1;return this._dataByOrigin.forEach((s=>{if(e(s.drawCommandsDefault)&&e(s.drawCommandsHighlight)&&e(s.drawCommandsOccludees)&&e(s.drawCommandsShadowHighlightRest))return;if(d&&!s.hasHighlights)return;i.origin=s.origin,u.bindDraw(i),u.ensureAttributeLocations(s.vao),n.bindVAO(s.vao);const a=u.primitiveType;let f=d?s.drawCommandsHighlight:l&&O(s)?s.drawCommandsShadowHighlightRest:s.drawCommandsDefault;const p=d?s.stats.highlight:l&&O(s)?s.stats.shadowHighlightRest:s.stats.default;if(t(f)&&(this.renderCommands(n,a,f),_(f.length,p,r),g=!0),h&&(f=s.drawCommandsOccludees,t(f))){const e=o.getPipelineState(m,!0);n.setPipelineState(e),this.renderCommands(n,a,f),n.setPipelineState(c),_(f.length,s.stats.occludees,r),g=!0}})),g}renderCommands(e,t,s){for(let a=0;a<s.length;a++)e.drawArrays(t,s[a].first,s[a].count)}createData(e,t,s){return{instances:new Map,vao:new u(this._rctx,this._material.vertexAttributeLocations,{geometry:o(e)},{geometry:h.createVertex(this._rctx,35044)}),buffer:new p(t),optimalCount:0,origin:s,hasHiddenInstances:!1,hasHighlights:!1,hasOccludees:!1,drawCommandsDirty:!1,drawCommandsDefault:null,drawCommandsOccludees:null,drawCommandsHighlight:null,drawCommandsShadowHighlightRest:null,stats:{default:0,highlight:0,occludees:0,shadowHighlightRest:0}}}removeAndRebuild(e,t,s,a,i){for(const h of t){const t=h.id,a=e.instances.get(t);e.optimalCount-=(a.to-a.from)*s,e.instances.delete(t)}let r=0;const n=e.buffer.array;i.begin=0,i.end=0;let o=-1,d=-1,l=0;e.instances.forEach((e=>{const t=e.from*s,i=e.to*s,h=i-t;o!==d&&d!==t?(n.set(a.subarray(o,d),l),l+=d-o,o=t):-1===o&&(o=t),d=i,e.from=r/s,r+=h,e.to=r/s})),o!==d&&n.set(a.subarray(o,d),l),i.end=r}removeByErasing(e,t,s,a){a.begin=1/0,a.end=-1/0;let i=-1,r=-1;for(const n of t){const t=n.id,o=e.instances.get(t),d=o.from*s,l=o.to*s;i!==r&&r!==d?(e.buffer.erase(i,r),i=d):-1===i&&(i=d),r=l,e.instances.delete(t),e.optimalCount-=l-d,d<a.begin&&(a.begin=d),l>a.end&&(a.end=l)}i!==r&&e.buffer.erase(i,r)}append(e,r,n,o,l){const h=this._bufferWriter;for(const m of r){const r=t(m.transformation)?s(D,o,m.transformation):o;a(j,r),i(j,j);const u=l.end;h.write({transformation:r,invTranspTransformation:j},m.data,h.vertexBufferLayout.createView(e.buffer.array.buffer),l.end/n);const c=h.elementCount(m.data)*n,g=u+c;d(null==e.instances.get(m.id));const f=m.instanceParameters.visible,p=!!m.instanceParameters.highlights&&f,w=!!m.instanceParameters.occludees,C=new b(u/n,g/n,f,p,w);e.instances.set(m.id,C),e.optimalCount+=c,l.end+=c}}get test(){return{material:this._material,glMaterials:this._glMaterials}}}function H(e,t,s,a){const i=new Map,r=t.vertexBufferLayout.stride/4,n=(s,a)=>{const n=s.origin,o=e.get(n.id);let d=i.get(n.id);null==d&&(d={optimalCount:null==o?0:o.optimalCount,sparseCount:null==o?0:o.buffer.size,toAdd:[],toRemove:[],origin:n.vec3},i.set(n.id,d));const l=t.elementCount(s.data)*r;a?(d.optimalCount+=l,d.sparseCount+=l,d.toAdd.push(s)):(d.optimalCount-=l,d.toRemove.push(s))};for(const o of s)n(o,!0);for(const o of a)n(o,!1);return i}function O(e){return e.hasOccludees||e.hasHighlights||e.hasHiddenInstances}const R={begin:0,end:0},B=n(),D=n(),j=n();export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{applySome as r}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/PooledArray.js\";import a from\"../../../../core/Accessor.js\";import{someMap as o}from\"../../../../core/MapUtils.js\";import{materialPredicate as n}from\"./Material.js\";import{ChangeSet as d}from\"./ChangeSet.js\";import{splitRenderGeometryChangeSetByMaterial as h}from\"./rendererUtils.js\";import l from\"../materials/renderers/MergedRenderer.js\";let p=class extends a{constructor(){super(...arguments),this._pendingAddsRemoves=new Map,this._changes=new d,this._materialRenderers=new Map,this._sortedMaterialRenderers=new i,this._hasHighlights=!1,this._hasWater=!1}dispose(){this._changes.prune(),this._materialRenderers&&(this._materialRenderers.forEach((e=>e.dispose())),this._materialRenderers.clear(),this._sortedMaterialRenderers.clear())}get updating(){return this._pendingAddsRemoves.size>0||this._changes.updates.length>0}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return o(this._materialRenderers,(e=>e.rendersOccluded))}stopAnimationsAtTime(e){this._sortedMaterialRenderers.forAll((t=>r(t.material.animation,(r=>r.stopAtTime(e)))))}get isEmpty(){return!this.updating&&0===this._materialRenderers.size}commitChanges(){let e=!1;if(!this.updating)return!1;this.updateAddsRemoves();const r=h(this._changes);let t=!1,s=!1;return r.forEach(((r,i)=>{let a=this._materialRenderers.get(i);if(!a&&r.adds.length>0&&(a=new l(this.rctx,this.materialRepository,i),this._materialRenderers.set(i,a),e=!0,t=!0,s=!0),!a)return;const o=t||a.hasHighlights,n=s||a.hasWater;a.modify(r),t=t||o!==a.hasHighlights,s=s||n!==a.hasWater,a.isEmpty&&(this._materialRenderers.delete(i),a.dispose(),e=!0)})),this._changes.clear(),this._pendingAddsRemoves.clear(),e&&this.updateSortedMaterialRenderers(),t&&(this._hasHighlights=o(this._materialRenderers,(e=>e.hasHighlights))),s&&(this._hasWater=o(this._materialRenderers,(e=>e.hasWater))),this.notifyChange(\"updating\"),!0}add(e){if(0===e.length)return;const r=0===this._pendingAddsRemoves.size;for(const t of e)this._pendingAddsRemoves.set(t,0);r&&this.notifyChange(\"updating\")}remove(e){const r=0===this._pendingAddsRemoves.size;for(const t of e){const e=this._pendingAddsRemoves.get(t);0===e?this._pendingAddsRemoves.set(t,2):2!==e&&this._pendingAddsRemoves.set(t,1)}r&&this._pendingAddsRemoves.size>0&&this.notifyChange(\"updating\")}modify(e,r){const t=0===this._changes.updates.length;for(const s of e){const e=this._changes.updates.pushNew();e.renderGeometry=s,e.updateType=r}t&&this._changes.updates.length>0&&this.notifyChange(\"updating\")}updateLogic(e){let r=!1;return this._sortedMaterialRenderers.forAll((({materialRenderer:t})=>{t.updateLogic&&t.updateLogic(e)&&(r=!0)})),r}draw(e,r){for(let t=0;t<this._sortedMaterialRenderers.length;t++){const s=this._sortedMaterialRenderers.data[t];n(s.material,e)&&s.materialRenderer.render(null,e,r,null)}}updateSortedMaterialRenderers(){this._sortedMaterialRenderers.clear();let e=0;this._materialRenderers.forEach(((r,t)=>{t.insertOrder=e++,this._sortedMaterialRenderers.push({material:t,materialRenderer:r})})),this._sortedMaterialRenderers.sort(((e,r)=>{const t=r.material.renderPriority-e.material.renderPriority;return 0!==t?t:e.material.insertOrder-r.material.insertOrder}))}updateAddsRemoves(){this._changes.adds.clear(),this._changes.removes.clear(),this._pendingAddsRemoves.forEach(((e,r)=>{switch(e){case 0:this._changes.adds.push(r);break;case 1:this._changes.removes.push(r)}}));let e=0;for(;e<this._changes.updates.length;){const r=this._changes.updates.data[e].renderGeometry;this._pendingAddsRemoves.has(r)?this._changes.updates.removeUnorderedIndex(e):e++}}get test(){return{sortedMaterialRenderers:this._sortedMaterialRenderers}}};e([t()],p.prototype,\"rctx\",void 0),e([t()],p.prototype,\"materialRepository\",void 0),e([t()],p.prototype,\"updating\",null),p=e([s(\"esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer\")],p);export{p as SortedRenderGeometryRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"./DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,separateBlendingParams as l,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";import{T as c}from\"../../../../chunks/TextureOnly.glsl.js\";class u extends t{initializeProgram(e){const r=u.shader.get().build();return new a(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),s)}initializePipeline(){return this.configuration.hasAlpha?n({blending:l(770,1,771,771),colorWrite:h}):n({colorWrite:h})}}u.shader=new r(c,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\")));class m extends o{constructor(){super(...arguments),this.hasAlpha=!1}}e([i()],m.prototype,\"hasAlpha\",void 0);export{u as TextureTechnique,m as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t,n){let e=0;for(let l=0;l<t.length;l++)e+=t[l]*n[l];return e}function n(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n[l];return e}function e(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n;return e}function l(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]+n[l];return e}export{l as add,t as dotProduct,n as elementwiseProduct,e as scalarProduct};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clamp as n}from\"../../../../core/mathUtils.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{p as i,s,g as o}from\"../../../../chunks/vec3.js\";import{MainLight as r,FillLight as e,AmbientLight as c,SphericalHarmonicsLight as a}from\"./Lightsources.js\";import{elementwiseProduct as h,scalarProduct as f,add as m}from\"../lib/LongVectorMath.js\";function u(n){return(n+1)*(n+1)}function l(n){return 2*n+1}function g(t){return n(Math.floor(Math.sqrt(t)-1),0,2)}function p(n,t,i){const s=n[0],o=n[1],r=n[2],e=i||[];return e.length=u(t),t>=0&&(e[0]=.28209479177),t>=1&&(e[1]=.4886025119*s,e[2]=.4886025119*r,e[3]=.4886025119*o),t>=2&&(e[4]=1.09254843059*s*o,e[5]=1.09254843059*o*r,e[6]=.31539156525*(3*r*r-1),e[7]=1.09254843059*s*r,e[8]=.54627421529*(s*s-o*o)),e}function y(n,t){const i=u(n),s=t||{r:[],g:[],b:[]};s.r.length=s.g.length=s.b.length=i;for(let o=0;o<i;o++)s.r[o]=s.g[o]=s.b[o]=0;return s}function b(n,t){const s=g(t.r.length);for(const o of n)i(v,o.direction),p(v,s,P),h(P,w),f(P,o.intensity[0],k),m(t.r,k),f(P,o.intensity[1],k),m(t.g,k),f(P,o.intensity[2],k),m(t.b,k);return t}function H(n,t){p(v,0,P);for(const i of n)t.r[0]+=P[0]*w[0]*i.intensity[0]*4*Math.PI,t.g[0]+=P[0]*w[0]*i.intensity[1]*4*Math.PI,t.b[0]+=P[0]*w[0]*i.intensity[2]*4*Math.PI;return t}function M(n,t,i){y(t,i.sphericalHarmonics.sh),s(i.main.intensity,0,0,0);let h=!1;const f=d,u=j,l=I;f.length=0,u.length=0,l.length=0;for(const s of n)s instanceof r&&!h?(o(i.main.direction,s.direction),i.main.intensity[0]=s.intensity[0],i.main.intensity[1]=s.intensity[1],i.main.intensity[2]=s.intensity[2],i.main.castShadows=s.castShadows,h=!0):s instanceof r||s instanceof e?f.push(s):s instanceof c?u.push(s):s instanceof a&&l.push(s);b(f,i.sphericalHarmonics.sh),H(u,i.sphericalHarmonics.sh);for(const s of l)m(i.sphericalHarmonics.sh.r,s.sh.r),m(i.sphericalHarmonics.sh.g,s.sh.g),m(i.sphericalHarmonics.sh.b,s.sh.b)}const d=[],j=[],I=[],P=[0],k=[0],v=t(),w=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,p as computeCoefficients,y as initSHCoefficients,u as numberOfCoefficients,l as numberOfCoefficientsInBand,g as orderFromNumberOfCoefficients,H as projectAmbientLights,b as projectFillLights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as i,f as t}from\"../../../../chunks/vec3f64.js\";import{p as n,g as r,a as s,b as o}from\"../../../../chunks/vec3.js\";import{combineLights as e}from\"./SphericalHarmonics.js\";const h=i(),g=.4;class l{constructor(){this._renderLighting={main:{intensity:i(),direction:t(1,0,0),castShadows:!1},sphericalHarmonics:{sh:{r:[0],g:[0],b:[0]}}},this._shOrder=2,this._oldSunlight={direction:i(),ambient:{color:i(),intensity:0},diffuse:{color:i(),intensity:0}}}setLightDirectionUniform(i){i.setUniform3fv(\"lightingMainDirection\",this._renderLighting.main.direction)}setUniforms(i,t=!1){if(t){const t=(1-this._info.groundLightingFactor)*(1-this._info.globalFactor);i.setUniform1f(\"lightingFixedFactor\",t)}else i.setUniform1f(\"lightingFixedFactor\",0);i.setUniform1f(\"lightingGlobalFactor\",this._info.globalFactor),this.setLightDirectionUniform(i),i.setUniform3fv(\"lightingMainIntensity\",this._renderLighting.main.intensity),i.setUniform1f(\"ambientBoostFactor\",g);const n=this._renderLighting.sphericalHarmonics.sh;0===this._shOrder?i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]):1===this._shOrder?(i.setUniform4f(\"lightingAmbientSH_R\",n.r[0],n.r[1],n.r[2],n.r[3]),i.setUniform4f(\"lightingAmbientSH_G\",n.g[0],n.g[1],n.g[2],n.g[3]),i.setUniform4f(\"lightingAmbientSH_B\",n.b[0],n.b[1],n.b[2],n.b[3])):2===this._shOrder&&(i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]),i.setUniform4f(\"lightingAmbientSH_R1\",n.r[1],n.r[2],n.r[3],n.r[4]),i.setUniform4f(\"lightingAmbientSH_G1\",n.g[1],n.g[2],n.g[3],n.g[4]),i.setUniform4f(\"lightingAmbientSH_B1\",n.b[1],n.b[2],n.b[3],n.b[4]),i.setUniform4f(\"lightingAmbientSH_R2\",n.r[5],n.r[6],n.r[7],n.r[8]),i.setUniform4f(\"lightingAmbientSH_G2\",n.g[5],n.g[6],n.g[7],n.g[8]),i.setUniform4f(\"lightingAmbientSH_B2\",n.b[5],n.b[6],n.b[7],n.b[8]))}set(i){this._info=i,e(i.lights,this._shOrder,this._renderLighting),n(this._oldSunlight.direction,this._renderLighting.main.direction);const t=1/Math.PI;this._oldSunlight.ambient.color[0]=.282095*this._renderLighting.sphericalHarmonics.sh.r[0]*t,this._oldSunlight.ambient.color[1]=.282095*this._renderLighting.sphericalHarmonics.sh.g[0]*t,this._oldSunlight.ambient.color[2]=.282095*this._renderLighting.sphericalHarmonics.sh.b[0]*t,this._oldSunlight.ambient.intensity=1,this._oldSunlight.diffuse.color[0]=this._renderLighting.main.intensity[0]*t,this._oldSunlight.diffuse.color[1]=this._renderLighting.main.intensity[1]*t,this._oldSunlight.diffuse.color[2]=this._renderLighting.main.intensity[2]*t,this._oldSunlight.diffuse.intensity=1;const l=r(h,this._oldSunlight.diffuse.color);s(l,l,g*this._info.globalFactor),o(this._oldSunlight.ambient.color,this._oldSunlight.ambient.color,l)}get globalFactor(){return this._info.globalFactor}get old(){return this._oldSunlight}}export{l as SceneLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{disposeMaybe as r,isSome as t,isNone as i,unwrap as s}from\"../../../core/maybe.js\";import n from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import h from\"../../../core/PooledArray.js\";import l from\"../../../core/Accessor.js\";import{generateUID as d}from\"../../../core/uid.js\";import{f as u,c as p}from\"../../../chunks/vec3f64.js\";import c from\"../../../core/Handles.js\";import{init as g}from\"../../../core/watchUtils.js\";import{o as m,i as y,t as _}from\"../../../chunks/mat4.js\";import{Task as f}from\"../../support/Scheduler.js\";import{someMap as R}from\"../../../core/MapUtils.js\";import{a as w}from\"../../../chunks/vec2f64.js\";import b from\"../../webgl/Texture.js\";import{vertexCount as x}from\"../../webgl/Util.js\";import{createEmptyDepthTexture as T,createQuadVAO as v}from\"../webgl-engine/lib/glUtil3D.js\";import{AmbientLight as C}from\"../webgl-engine/lighting/Lightsources.js\";import{IntersectorResult as O}from\"../webgl-engine/lib/intersectorUtils.js\";import j from\"../webgl-engine/lib/Camera.js\";import L from\"../support/debugFlags.js\";import{AutoDisposableMixin as V,autoDispose as G}from\"../webgl-engine/lib/AutoDisposable.js\";import{OverlayRenderTarget as S}from\"./OverlayRenderTarget.js\";import{Overlay as U}from\"./Overlay.js\";import{CommonUniformStore as E}from\"../webgl-engine/core/shaderTechnique/CommonUniformStore.js\";import{ShaderTechniqueRepository as A}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js\";import P from\"../webgl-engine/lib/GLMaterialRep.js\";import M from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import D from\"../webgl-engine/lib/RenderContext.js\";import{SortedRenderGeometryRenderer as H}from\"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";import{TextureTechniqueConfiguration as W,TextureTechnique as q}from\"../webgl-engine/lib/TextureTechnique.js\";import{SceneLighting as F}from\"../webgl-engine/lighting/SceneLighting.js\";import{StippleTextureRepository as k}from\"../webgl-engine/materials/lineStippleUtils.js\";const z=n.getLogger(\"esri.views.3d.webgl-engine.lib.OverlayRenderer\");let B=class extends(V(l)){constructor(e){super(e),this._overlays=null,this._hasHighlights=!1,this._rendersOccluded=!1,this._hasWater=!1,this._lighting=new F,this._localOrigins=new M,this._handles=new c,this._layerRenderers=new Map,this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers=new h,this._geometries=new Map,this.globalUnitScale=1,this.longitudeCyclical=null}initialize(){this._rctx=this.renderView.renderingContext,this._renderContext=new D(this._rctx,null,null,null,null,null),this._stippleTextureRepository=new k,this.waterTextureRepository=this.renderView.waterTextureRepository,this._shaderTechniqueRepository=new A({rctx:this._rctx,viewingMode:2,commonUniformStore:new E,stippleTextureRepository:this._stippleTextureRepository,waterTextureRepository:this.waterTextureRepository}),g(this.waterTextureRepository,\"loadingState\",(()=>this.emitContentChanged())),this._materialRepository=new P(this.renderView.textureRepository,this._shaderTechniqueRepository),this._materialRepository.onMaterialChanged=e=>{(e.renderOccluded&K)>0!==this._rendersOccluded&&this.updateRendersOccluded(),this.emitContentChanged(),this.notifyChange(\"updating\")},this._compositingHelper=this.renderView.compositingHelper,this._lighting.set({lights:[new C(u(1,1,1))],groundLightingFactor:1,globalFactor:0}),this._bindParameters={slot:null,highlightDepthTexture:T(this._rctx),camera:X,inverseViewport:w(),origin:null,screenToWorldRatio:null,screenToWorldRatioGlobalWM:null,shadowMappingEnabled:!1,slicePlane:null,ssaoEnabled:!1,hasOccludees:!1,linearDepthTexture:null,linearDepthTextureUnit:0,lastFrameColorTexture:null,lastFrameColorTextureUnit:0,reprojectionMat:null,ssrEnabled:!1,lighting:this._lighting,transparencyPassType:3,terrainLinearDepthTexture:null,geometryLinearDepthTexture:null,multipassTerrainEnabled:!1,cullAboveGround:!0,multipassGeometryEnabled:!1},this._handles.add(this.scheduler.registerTask(f.STAGE,(()=>this.commitChanges()),(()=>this.updating)))}dispose(){this._handles.destroy(),this._layerRenderers.forEach((e=>e.dispose())),this._layerRenderers.clear(),this._bindParameters.highlightDepthTexture=r(this._bindParameters.highlightDepthTexture),this._shaderTechniqueRepository=r(this._shaderTechniqueRepository),this._temporaryRenderTarget=r(this._temporaryRenderTarget),this._debugPatternTexture=r(this._debugPatternTexture),this._quadVAO=r(this._quadVAO)}get updating(){return this._sortedLayerRenderersDirty||R(this._layerRenderers,(e=>e.updating))||this.waterTextureRepository.updating}get hasOverlays(){return t(this._overlays)}get gpuMemoryUsage(){return t(this._overlays)?this._overlays[0].getGpuMemoryUsage()+this._overlays[1].getGpuMemoryUsage():0}get overlays(){return this._overlays}forEachOverlay(e){t(this._overlays)&&(e(this._overlays[0],0),e(this._overlays[1],1))}ensureOverlays(){if(i(this._overlays)){const e=this.renderView.renderingContext;this._overlays=[new U(e),new U(e)]}}disposeOverlays(){t(this._overlays)&&(this._overlays.forEach((e=>e.dispose())),this._overlays=null)}commitChanges(){let e=!1;this._layerRenderers.forEach(((r,t)=>{r.commitChanges()&&(e=!0),r.isEmpty&&(this._layerRenderers.delete(t),this._sortedLayerRenderersDirty=!0,this._handles.remove(t))})),this._sortedLayerRenderersDirty&&(this.updateSortedLayerRenderers(),e=!0),e&&(this.notifyChange(\"updating\"),this.emitContentChanged(),this.updateHasHighlights(),this.updateRendersOccluded(),this.updateHasWater())}addGeometries(e,r,t){for(const s of e)null==s.origin&&(s.origin=this._localOrigins.getOrigin(s.boundingSphere)),i(s.id)&&(s.id=d()),this._geometries.set(s.id,s);this.ensureLayerRenderer(r).add(e),2===t&&this.notifyGraphicGeometryChanged(e,r)}removeGeometries(e,r,t){for(const n of e)this._geometries.delete(s(n.id));const i=this._layerRenderers.get(r);i&&(i.remove(e),2===t&&this.notifyGraphicGeometryChanged(e,r))}updateGeometries(e,r,t){const i=this._layerRenderers.get(r);if(i)switch(i.modify(e,t),t){case 4:case 2:return this.notifyGraphicGeometryChanged(e,r);case 1:return this.notifyGraphicVisibilityChanged(e,r)}else z.warn(\"Attempted to update geometry for nonexistent layer\")}notifyGraphicGeometryChanged(e,r){if(i(r.notifyGraphicGeometryChanged))return;let t;for(const i of e){const e=i.graphicUid;e!==t&&(r.notifyGraphicGeometryChanged(e),t=e)}}notifyGraphicVisibilityChanged(e,r){if(i(r.notifyGraphicVisibilityChanged))return;let t;for(const i of e){const e=i.graphicUid;e!==t&&(r.notifyGraphicVisibilityChanged(e),t=e)}}updateHighlights(e,r){const t=this._layerRenderers.get(r);t?t.modify(e,8):z.warn(\"Attempted to update highlights for nonexistent layer\")}isEmpty(){return 0===this._geometries.size&&!L.OVERLAY_DRAW_DEBUG_TEXTURE}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return this._rendersOccluded}updateLogic(e){let r=!1;return this._layerRenderers.forEach((t=>{t.updateLogic(e)&&(r=!0)})),r}updateLayerOrder(){this._sortedLayerRenderersDirty=!0}drawPass(e,r,i,n=0){if(0===i.numViews)return!1;if(this._screenToWorldRatio=i.pixelRatio*Math.abs(i.views[0].extent[2]-i.views[0].extent[0])/Math.abs(i.views[0].viewport[2]-i.views[0].viewport[0]),this.isEmpty()||5===e&&!this.hasHighlights||3===e&&!this.hasWater)return!1;if(!this.hasNonZeroSizedView(i))return!1;const o=i.width,a=i.height;if(!r.isValid())return!1;r.resize(o,a);const h=this._rctx;if(X.pixelRatio=i.pixelRatio||1,this._renderContext.pass=e,this._bindParameters.screenToWorldRatio=this._screenToWorldRatio,this._bindParameters.screenToWorldRatioGlobalWM=this._screenToWorldRatio*this.globalUnitScale,r.bind(h),h.setClearColor(0,0,0,0),h.clearSafe(16384),1===n&&(this._renderContext.renderOccludedMask=K),L.OVERLAY_DRAW_DEBUG_TEXTURE&&1!==n)for(let t=0;t<i.numViews;t++)this.setViewParameters(i.views[t],X),this.drawDebugTexture(o,a,N[i.index%N.length]);return this._layerRenderers.size>0&&this._sortedLayerRenderers.forAll((({layerView:l,renderer:d})=>{if(2===n&&t(l)&&0===l.drapeSourceType)return;const u=t(l)&&t(l.fullOpacity)&&l.fullOpacity<1&&0===e;u&&(this.bindTemporaryFramebuffer(this._rctx,o,a),h.clearSafe(16384));for(let e=0;e<i.numViews;e++)this.setViewParameters(i.views[e],X),d.draw(this._renderContext,this._bindParameters);u&&t(this._temporaryRenderTarget)&&(r.bind(h),this._compositingHelper.composite(this._temporaryRenderTarget.getTexture(),2,s(s(l).fullOpacity)))})),h.bindFramebuffer(null),r.generateMipMap(),this._renderContext.resetRenderOccludedMask(),!0}bindTemporaryFramebuffer(e,r,t){i(this._temporaryRenderTarget)&&(this._temporaryRenderTarget=new S(e,!1)),this._temporaryRenderTarget.resize(r,t),this._temporaryRenderTarget.bind(e)}async reloadShaders(){await this._shaderTechniqueRepository.hotReload()}intersect(e,r,t){let i=0;this._geometries.forEach((s=>{if(t&&!t(s))return;this.intersectRenderGeometry(s,r,0,e,i);const n=this.longitudeCyclical;n&&(s.boundingSphere[0]-s.boundingSphere[3]<n.min&&this.intersectRenderGeometry(s,r,n.range,e,i),s.boundingSphere[0]+s.boundingSphere[3]>n.max&&this.intersectRenderGeometry(s,r,-n.range,e,i)),i++}))}intersectRenderGeometry(e,r,i,s,n){if(!e.instanceParameters.visible)return;let o=0;t(e.transformation)&&(i+=e.transformation[12],o=e.transformation[13]),Y[0]=r[0]-i,Y[1]=r[1]-o,Y[2]=1,Z[0]=r[0]-i,Z[1]=r[1]-o,Z[2]=0,e.screenToWorldRatio=this._screenToWorldRatio,e.material.intersect(e,null,e.getShaderTransformation(),s,Y,Z,((r,t,i)=>{this.addIntersectionResult(i,e.material.renderPriority,n,s,e.layerUid,e.graphicUid)}),e.calculateShaderTransformation,!0)}addIntersectionResult(e,r,t,i,s,n){const o={type:\"external\",metadata:{layerUid:s,graphicUid:n}},a=s=>{s.set(o,null,i.results.ground.dist,i.results.ground.normal,i.results.ground.transformation,r,null,null,e,t),s.intersector=\"OverlayRenderer\"};if((null==i.results.min.drapedLayerOrder||r>=i.results.min.drapedLayerOrder)&&(null==i.results.min.dist||i.results.ground.dist<=i.results.min.dist)&&a(i.results.min),0!==i.options.store&&(null==i.results.max.drapedLayerOrder||r<i.results.max.drapedLayerOrder)&&(null==i.results.max.dist||i.results.ground.dist>i.results.max.dist)&&a(i.results.max),2===i.options.store){const e=new O(i.ray);a(e),i.results.all.push(e)}}stopAnimationsAtTime(e){this._sortedLayerRenderers.forAll((r=>r.renderer.stopAnimationsAtTime(e)))}ensureLayerRenderer(e){let r=this._layerRenderers.get(e);return r||(r=new H({rctx:this._rctx,materialRepository:this._materialRepository}),this._layerRenderers.set(e,r),this._sortedLayerRenderersDirty=!0,\"fullOpacity\"in e&&this._handles.add(e.watch(\"fullOpacity\",(()=>this.emitContentChanged())),e),this._handles.add(g(r,\"updating\",(()=>this.notifyChange(\"updating\"))),e)),r}updateSortedLayerRenderers(){if(!this._sortedLayerRenderersDirty)return;if(this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers.clear(),0===this._layerRenderers.size)return;const[{view:{allLayerViews:e}}]=this._layerRenderers.keys(),r=new Set(this._layerRenderers.values());e.forEach((e=>{const t=e,i=this._layerRenderers.get(t);i&&(this._sortedLayerRenderers.push(new I(t,i)),r.delete(i))})),r.forEach((e=>{this._sortedLayerRenderers.push(new I(null,e))}))}setViewParameters(e,r){r.viewport=e.viewport;const t=e.extent;m(r.projectionMatrix,0,t[2]-t[0],0,t[3]-t[1],r.near,r.far),y(r.viewMatrix),_(r.viewMatrix,r.viewMatrix,[-e.extent[0],-e.extent[1],0]),r.setGLViewport(this._rctx),this._renderContext.camera=r,this._bindParameters.camera=r,this._bindParameters.inverseViewport[0]=1/r.fullViewport[2],this._bindParameters.inverseViewport[1]=1/r.fullViewport[3]}hasNonZeroSizedView(e){for(let r=0;r<e.numViews;r++){const t=e.views[r];if(t.extent[0]!==t.extent[2]&&t.extent[1]!==t.extent[3])return!0}return!1}emitContentChanged(){this.onContentChanged&&this.onContentChanged()}updateHasWater(){const e=R(this._layerRenderers,(e=>e.hasWater));e!==this._hasWater&&(this._hasWater=e)}updateHasHighlights(){const e=R(this._layerRenderers,(e=>e.hasHighlights));e!==this._hasHighlights&&(this._hasHighlights=e,this.onHasHighlightsChanged&&this.onHasHighlightsChanged(this._hasHighlights))}updateRendersOccluded(){const e=R(this._layerRenderers,(e=>e.rendersOccluded));e!==this._rendersOccluded&&(this._rendersOccluded=e,this.onRendersOccludedChanged&&this.onRendersOccludedChanged(this.rendersOccluded))}drawDebugTexture(e,r,t){const i=this._rctx;this.ensureDebugPatternResources(e,r);const s=this._debugTextureTechnique.program;i.bindProgram(s),i.setPipelineState(this._debugTextureTechnique.pipeline),s.setUniform4f(\"color\",t[0],t[1],t[2],1),s.setUniform1i(\"tex\",0),i.bindTexture(this._debugPatternTexture,0),i.bindVAO(this._quadVAO),i.drawArrays(5,0,x(this._quadVAO,\"geometry\"))}ensureDebugPatternResources(e,r){if(this._debugPatternTexture)return;const t=new Uint8Array(e*r*4);let i=0;for(let n=0;n<r;n++)for(let s=0;s<e;s++){const o=Math.floor(s/10),a=Math.floor(n/10);o<2||a<2||10*o>e-20||10*a>r-20?(t[i++]=255,t[i++]=255,t[i++]=255,t[i++]=255):(t[i++]=255,t[i++]=255,t[i++]=255,t[i++]=1&o&&1&a?1&s^1&n?0:255:1&o^1&a?0:128)}this._debugPatternTexture=new b(this._rctx,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,width:e,height:r},t);const s=new W;s.hasAlpha=!0,this._debugTextureTechnique=this._shaderTechniqueRepository.acquireAndReleaseExisting(q,s,this._debugTextureTechnique),this._quadVAO=v(this._rctx)}get test(){return{layerRenderers:this._layerRenderers}}};e([G()],B.prototype,\"_shaderTechniqueRepository\",void 0),e([G()],B.prototype,\"_stippleTextureRepository\",void 0),e([o(),G()],B.prototype,\"waterTextureRepository\",void 0),e([o({constructOnly:!0})],B.prototype,\"renderView\",void 0),e([o({constructOnly:!0})],B.prototype,\"scheduler\",void 0),e([o()],B.prototype,\"globalUnitScale\",void 0),e([o({type:Boolean,readOnly:!0})],B.prototype,\"updating\",null),B=e([a(\"esri.views.3d.terrain.OverlayRenderer\")],B);class I{constructor(e,r){this.layerView=e,this.renderer=r}}const N=[[1,.5,.5],[.5,.5,1],[.5,1,.5]],X=new j;X.near=1,X.far=1e4,X.relativeElevation=null;const Y=p(),Z=p(),J=-2,K=4;export{J as DRAPED_Z,B as OverlayRenderer,K as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{Z as s,O as o}from\"../../../../chunks/vec4f64.js\";const c=1,r=1.2,t=s,a=o;export{r as SUSPEND_RESUME_EXTENT_OPTIMISM,t as TRANSPARENT_UNIT,a as WHITE_UNIT,c as defaultIconElevationOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{slice as t}from\"../../../../core/typedArrayUtil.js\";import{isNone as o,isSome as e,unwrapOr as n}from\"../../../../core/maybe.js\";import{acosClamped as r}from\"../../../../core/mathUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s,n as a,d as u,a as c}from\"../../../../chunks/vec3.js\";import{projectBuffer as p}from\"../../../../geometry/projection.js\";import{pathsToTriangulationInfo as l}from\"../../../../geometry/support/triangulationUtils.js\";import{Geometry as f}from\"../../webgl-engine/lib/Geometry.js\";import{applyPerVertexElevationAlignment as h}from\"./elevationAlignmentUtils.js\";import{DRAPED_Z as m}from\"../../terrain/OverlayRenderer.js\";import{WHITE_UNIT as y}from\"./constants.js\";function b(t){const o=[],e=[];j(t,e,o);const n=e[0][1].data,r=o[0][1].length,i=new Uint16Array(r);return A(t,e,o),F(t,e,o,i),w(t,e,o,i),v(t,e,o,i),D(t,e,o,i),P(t,e,o,i),U(t,e,o,n),new f(e,o,2)}function g(t,o,e,n){const r=\"polygon\"===t.type?1:0,i=\"polygon\"===t.type?t.rings:t.paths,{position:s,outlines:a}=l(i,t.hasZ,r),u=new Float64Array(s.length),c=h(s,t.spatialReference,0,u,0,s,0,s.length/3,o,e,n),p=null!=c;return{lines:p?d(a,s,u):[],projectionSuccess:p,sampledElevation:c}}function d(t,o,e){const n=new Array;for(const{index:r,count:i}of t){if(i<=1)continue;const t=3*r,s=t+3*i;n.push({position:o.subarray(t,s),mapPosition:e?e.subarray(t,s):void 0})}return n}function z(t,o){const e=\"polygon\"===t.type?1:0,n=\"polygon\"===t.type?t.rings:t.paths,{position:r,outlines:i}=l(n,!1,e),s=p(r,t.spatialReference,0,r,o,0,r.length/3);for(let a=2;a<r.length;a+=3)r[a]=m;return{lines:s?d(i,r):[],projectionSuccess:s}}function j(o,e,n){const{attributeData:{position:r},removeDuplicateStartEnd:i}=o,s=M(r)&&1===i,a=r.length/3-(s?1:0),u=new Uint32Array(2*(a-1)),c=s?t(r,0,r.length-3):r;let p=0;for(let t=0;t<a-1;t++)u[p++]=t,u[p++]=t+1;e.push([\"position\",{size:3,data:c,exclusive:s}]),n.push([\"position\",u])}function A(t,e,n){const r=t.attributeData.mapPosition;o(r)||(n.push([\"mapPos\",n[0][1]]),e.push([\"mapPos\",{size:3,data:r}]))}function F(t,o,r,i){if(e(t.attributeData.colorFeature))return;const s=t.attributeData.color;o.push([\"color\",{size:4,data:n(s,y)}]),r.push([\"color\",i])}function v(t,e,n,r){const i=t.attributeData.colorFeature;o(i)||(e.push([\"colorFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"color\",r]))}function w(t,o,r,i){if(e(t.attributeData.sizeFeature))return;const s=t.attributeData.size;o.push([\"size\",{size:1,data:[n(s,1)]}]),r.push([\"size\",i])}function D(t,e,n,r){const i=t.attributeData.sizeFeature;o(i)||(e.push([\"sizeFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"sizeFeatureAttribute\",r]))}function P(t,e,n,r){const i=t.attributeData.opacityFeature;o(i)||(e.push([\"opacityFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"opacityFeatureAttribute\",r]))}function U(t,o,e,i){if(\"round\"!==t.join)return;const p=i.length/3,l=new Float32Array(p),f=S,h=R;s(f,0,0,0);const m=n(t.uniformSize,1);for(let n=-1;n<p;++n){const t=n<0?p+n:n,o=(n+1)%p;if(s(h,i[3*o+0]-i[3*t+0],i[3*o+1]-i[3*t+1],i[3*o+2]-i[3*t+2]),a(h,h),n>=0){const t=1*((Math.PI-r(u(f,h)))*k)*x(m);l[n]=Math.max(Math.floor(t),0)}c(f,h,-1)}o.push([\"subdivisions\",{size:1,data:l}]),e.push([\"subdivisions\",e[0][1]])}function x(t){return 1.863798+-2.0062872/(1+t/18.2313)**.8856294}function M(t){const o=t.length;return t[0]===t[o-3]&&t[1]===t[o-2]&&t[2]===t[o-1]}const S=i(),R=i(),k=4/Math.PI;export{b as createGeometry,g as geometryToRenderInfo,z as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/Accessor.js\";import{IdentifiableMixin as c}from\"../../../../core/Identifiable.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return r(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?s(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?s(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new u({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(s(this._resources))return;this.ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()}ensureRenderGeometriesRemoved(){var e;if(s(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1}ensureRenderGeometriesAdded(){if(s(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0}}let u=class extends(c(i)){constructor(e){super(e),this.drapeSourceType=1}};e([t({constructOnly:!0})],u.prototype,\"view\",void 0),e([t({readOnly:!0})],u.prototype,\"drapeSourceType\",void 0),u=e([o(\"DrapedVisualElementLayerView\")],u);export{a as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrap as t,isNone as r}from\"../../../../core/maybe.js\";import s from\"../../../../core/Evented.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,b as o,a as n}from\"../../../../chunks/vec3.js\";import{projectBuffer as l}from\"../../../../geometry/projection.js\";import{g as h,c,s as d}from\"../../../../chunks/vec4.js\";import{empty as u,expandWithBuffer as p,create as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{f,a as g}from\"../../../../chunks/vec4f32.js\";import{makeDehydratedPoint as _}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{computeAttachmentOriginLines as y}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{ElevationContext as v}from\"../../layers/graphics/ElevationContext.js\";import{RibbonLineMaterial as O}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{RenderGeometry as w}from\"../../webgl-engine/lib/RenderGeometry.js\";import{geometryToRenderInfoDraped as C,createGeometry as R,geometryToRenderInfo as b}from\"../../layers/graphics/lineUtils.js\";import{LaserlineVisualElement as D}from\"./LaserlineVisualElement.js\";import{VisualElementResources as j}from\"./VisualElementResources.js\";import{DrapedVisualElementResources as P}from\"./DrapedVisualElementResources.js\";class E{constructor(e){this.view=null,this._attachmentOrigin=_(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new s,this._isDraped=!1,this._geometry=null,this._width=1,this._color=f(1,0,1,1),this._innerWidth=0,this._innerColor=f(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=8,this.resources=new j({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this.recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=e.view.spatialReference,this.drapedResources=new P({view:e.view,createResources:()=>this.createDrapedResources(),recreateGeometry:e=>{e.geometries=this.createRenderGeometriesDraped(e.material),this.attachmentOriginChanged()}});let t=!0;this._laserline=new D({view:e.view});for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&e(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this.updateAttached(e)}updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this.attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){h(e,this._color)||(c(this._color,e),this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){h(e,this._innerColor)||(c(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.resources.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&h(e,this._stippleOffColor)||(this._stippleOffColor=e?g(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(t){this._laserlineStyle=t,this._laserline.attached=this.laserlineAttached,e(t)&&(this._laserline.style=t)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const r=e(this.resources.resources)?this.resources.resources.geometries:null;if(!r||0===r.length)return null;a(M,0,0,0);let s=0;for(const e of r){const r=e.vertexAttributes.get(\"position\"),i=e.indices.get(\"position\"),a=t(this.resources.resources).material.isClosed(r.data,i);y(r,i,a,A)&&(o(M,M,A),s++)}return 0===s?null:(n(M,M,1/s),this.view.renderCoordsHelper.fromRenderCoords(M,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}updateMaterial(){e(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters),e(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)}get isClosed(){return e(this.geometry)&&\"polygon\"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",stippleIntegerRepeats:!0,polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}recreateGeometry(e,t,r){const s=this.createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this.attachmentOriginChanged()}attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}createResources(e){const t=new O(this.materialParameters),r=[];return this.recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}createDrapedResources(){const e=new O(this.materialParameters);return{material:e,geometries:this.createRenderGeometriesDraped(e)}}createRenderGeometriesDraped(e){const t=this.geometry;if(r(t))return[];const s=C(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:r}of s.lines){const t={attributeData:{position:r},removeDuplicateStartEnd:this.isClosed?1:0},s=new w(R(t),e),a=u(G);p(a,r),d(s.boundingSphere,.5*(a[0]+a[3]),.5*(a[1]+a[4]),0,.5*Math.sqrt((a[3]-a[0])*(a[3]-a[0])+(a[4]-a[1])*(a[4]-a[1]))),i.push(s)}return i}calculateMapBounds(e){if(r(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.vertexAttributes.get(\"position\"),i=new Float64Array(s.data.length);l(s.data,t.spatialReference,0,i,this.view.spatialReference,0,s.data.length/3),p(e,i)}return!0}createRenderGeometries(){const e=this.geometry;if(r(e))return[];const t=b(e,this.view.elevationProvider,this.view.renderCoordsHelper,v.fromElevationInfo(this.elevationInfo)),s=[],i=[];for(const{position:r,mapPosition:a}of t.lines){const e={attributeData:{position:r,mapPosition:a},removeDuplicateStartEnd:this.isClosed?1:0};s.push(R(e)),i.push(r)}return this._laserline.pathVerticalPlane=i,s}}const G=m(),A=i(),M=i();export{E as OutlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{getPointOnPath as t,getPathLength as r}from\"../../../../geometry/support/coordsUtils.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as o}from\"../../../../geometry/projection.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{containsPoint as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{Object3D as c}from\"../../webgl-engine/lib/Object3D.js\";import{computeCentroid as l}from\"./graphicUtils.js\";import{applyElevationAlignmentForHUD as p,applyPerVertexElevationAlignment as m}from\"./elevationAlignmentUtils.js\";const u=n();function f(t,r,n,a,l,m,f,g,d,h){const j=n?n.length:0,y=t.clippingExtent;if(o(r,u,t.elevationProvider.spatialReference),e(y)&&!s(y,u))return null;const v=t.renderCoordsHelper.spatialReference;o(r,u,v);const w=t.localOriginFactory.getOrigin(u),x=new c({castShadow:!1,metadata:{layerUid:g,graphicUid:d,usesVerticalDistanceToGround:!0}});for(let e=0;e<j;e++){const t=l?l[e]:i;x.addGeometry(n[e],a[e],t,m,w,h)}return{object:x,sampledElevation:p(x,r,t.elevationProvider,t.renderCoordsHelper,f)}}function g(e,t,r){const n=e.elevationContext,i=r.spatialReference;o(t,u,i),n.centerPointInElevationSR=a(u[0],u[1],t.hasZ?u[2]:0,i)}function d(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return l(e);case\"polyline\":{const n=e.paths[0];if(!n||0===n.length)return null;const o=t(n,r(n)/2);return a(o[0],o[1],o[2],e.spatialReference)}case\"mesh\":return e.extent.center}return null}function h(e,t,r,n,o){const i=new Float64Array(3*e.length),s=new Float64Array(i.length);e.forEach(((e,t)=>{i[3*t+0]=e[0],i[3*t+1]=e[1],i[3*t+2]=e.length>2?e[2]:0}));const a=m(i,t,0,s,0,i,0,i.length/3,r,n,o),c=null!=a;return{numVertices:e.length,position:i,mapPosition:s,projectionSuccess:c,sampledElevation:a}}export{f as createStageObjectForHUD,g as extendPointGraphicElevationContext,h as geometryToRenderInfo,d as placePointOnGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{a as r}from\"../../../../chunks/vec4f64.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as a}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as s,defaultDepthWriteParams as l,defaultColorWriteParams as p}from\"../../../webgl/renderState.js\";import{View as d}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as c}from\"../core/shaderLibrary/Slice.glsl.js\";import{blendingDefault as h,OITBlending as m,OITDepthWrite as u,OITPolygonOffset as g}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as b}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ScreenSizeScaling as f}from\"../core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{S as v}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";class y extends t{initializeProgram(e){const r=y.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new n(e.rctx,t.generateSource(\"vertex\"),t.generateSource(\"fragment\"),T)}bindPass(e,r,i){const{screenSizeEnabled:t,shadingEnabled:o}=this.configuration,{color:a,shadingTint:n,shadingDirection:s}=r;d.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"color\",a),i.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",i.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",i.inverseViewport),b(this.program,e,i)),o&&(this.program.setUniform4fv(\"shadedColor\",this.blendColor(S,n,a)),this.program.setUniform3fv(\"shadingDirection\",s),this.program.setUniformMatrix4fv(\"viewNormal\",i.camera.viewInverseTransposeMatrix)),t&&f.bindPassUniforms(this.program,r,i)}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}bindDraw(e){d.bindView(this.program,e),d.bindCamPosition(this.program,e.origin,e.camera.viewInverseTransposeMatrix),c.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e,o=e=>0!==e&&{face:1===e?1028:1029,mode:2305};return s({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?h:m(e),culling:o(r.cullFace),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&l:u(e),colorWrite:p,polygonOffset:i||t?null:g})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}y.shader=new i(v,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class E extends o{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}e([a({count:8})],E.prototype,\"output\",void 0),e([a({count:3})],E.prototype,\"cullFace\",void 0),e([a()],E.prototype,\"slicePlaneEnabled\",void 0),e([a()],E.prototype,\"transparent\",void 0),e([a()],E.prototype,\"writeDepth\",void 0),e([a()],E.prototype,\"screenSizeEnabled\",void 0),e([a()],E.prototype,\"shadingEnabled\",void 0),e([a({count:4})],E.prototype,\"transparencyPassType\",void 0),e([a()],E.prototype,\"multipassTerrainEnabled\",void 0),e([a()],E.prototype,\"cullAboveGround\",void 0);const T={position:0,normal:1,offset:2},S=r();export{y as ShadedColorMaterialTechnique,E as ShadedColorMaterialTechniqueConfiguration,T as ShadedColorMaterialVertexAttrLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/vec3f64.js\";import{n as t,s as r,a as i,b as s}from\"../../../../chunks/vec3.js\";import{BufferViewVec3f as a}from\"../../support/buffer/BufferView.js\";import{center as n,scale as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{newLayout as u}from\"../../support/buffer/InterleavedLayout.js\";import{assert as c}from\"../lib/Util.js\";import h from\"../lib/GLMaterial.js\";import{intersectTriangleGeometry as f}from\"./internal/MaterialUtil.js\";import{Material as l,materialParametersDefaults as p}from\"../lib/Material.js\";import{writeDefaultAttributes as m,writePosition as d}from\"./internal/bufferWriterUtils.js\";import{ShadedColorMaterialTechniqueConfiguration as g,ShadedColorMaterialVertexAttrLocations as b,ShadedColorMaterialTechnique as q}from\"../shaders/ShadedColorMaterialTechnique.js\";class v extends l{constructor(e){super(e,C),this.supportsEdges=!0,this.techniqueConfig=new g,this._vertexAttributeLocations=b}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.screenSizeEnabled=this.params.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.params.shadingEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!t||t.cullAboveGround,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,t,a,u,c,h,l){if(this.params.screenSizeEnabled){const a=e.vertexAttributes.get(\"offset\"),p={applyToVertex:(e,t,n,o)=>{const c=r(S,a.data[3*o+0],a.data[3*o+1],a.data[3*o+2]),h=r(x,e,t,n);return i(c,c,this.params.screenSize*u.camera.computeRenderPixelSizeAt(c)),s(h,h,c),[h[0],h[1],h[2]]},applyToAabb:e=>{const t=n(e,S);return o(e,this.params.screenSize*u.camera.computeRenderPixelSizeAt(t))}};f(e,t,u,c,h,p,l)}else f(e,t,u,c,h,void 0,l)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new E(e):void 0}createBufferWriter(){return new P(this.params.screenSizeEnabled)}}class E extends h{constructor(e){super(e),this.updateParameters()}updateParameters(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(q,this.material.getTechniqueConfig(this.output,e),this.technique)}beginSlot(e){if(4===this.output)return 3===e;let t=3;return this.technique.configuration.transparent&&(t=this.technique.configuration.writeDepth?5:8),e===t}ensureParameters(e){this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}}const C={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:t(e(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...p};class P{constructor(e){this.screenSizeEnabled=e;const t=u().vec3f(\"position\").vec3f(\"normal\");this.screenSizeEnabled&&t.vec3f(\"offset\"),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,r,i){if(m(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,i),this.screenSizeEnabled){if(!t.vertexAttributes.has(\"offset\"))throw new Error(\"offset vertex attribute required for screenSizeEnabled ShadedColorMaterial\");{const s=t.vertexAttributes.get(\"offset\"),n=t.indices.get(\"offset\");c(3===s.size);const o=r.getField(\"offset\",a);if(!o)throw new Error(\"unable to acquire view for offset\");d(n,s.data,e.invTranspTransformation,o,i)}}}}const S=e(),x=e();export{v as ShadedColorMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{s as r}from\"../../../../chunks/vec3.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import a from\"../../webgl-engine/lib/GeometryUtil.js\";import{ElevationContext as l}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfo as o}from\"../../layers/graphics/pointUtils.js\";import{Object3DVisualElement as n}from\"./Object3DVisualElement.js\";import{ShadedColorMaterial as c}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";import{settings as h}from\"../editingTools/settings.js\";class u extends n{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=h.colorToVec4(h.reshapeManipulators.vertex.color),this._size=h.reshapeManipulators.vertex.size,this._outlineColor=h.colorToVec4(h.reshapeManipulators.vertex.outlineColor),this._outlineSize=h.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial(),this.updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this.updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this.updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}updateMaterial(){this.attached&&this.vertexMaterial.setParameterValues(this.vertexMaterialParameters)}updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameterValues(this.vertexOutlineMaterialParameters)}createRenderGeometries(){const t=this.vertices;if(e(t)||0===t.length)return[];const i=.5,s=.5,a=o(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,l.fromElevationInfo(this.elevationInfo)),n=[],c=a.numVertices,h=a.position;for(let e=0;e<c;++e){const t=r(d,h[3*e+0],h[3*e+1],h[3*e+2]),a=p(i,t),l=p(s,t);n.push({vertexGeometry:a,vertexOutlineGeometry:l})}return n}createGeometries(e){const t=this.createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new c({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0}),this.vertexOutlineMaterial=new c({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const d=t();function p(e,t){return a.createSphereGeometry(e,16,16,{offset:t})}export{u as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import t from\"../../../../core/Evented.js\";let e=class extends t.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([o({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([o()],e.prototype,\"tracking\",void 0),r([o()],e.prototype,\"displaying\",void 0),r([o()],e.prototype,\"isDraped\",void 0),e=r([s(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrapOr as t,isSome as i,isNone as r,unwrap as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import l from\"../../../../../core/Evented.js\";import o from\"../../../../../Graphic.js\";import{init as c}from\"../../../../../core/watchUtils.js\";import{HandleOwnerMixin as h}from\"../../../../../core/HandleOwner.js\";import p from\"../../../../../layers/GraphicsLayer.js\";import{getEffectiveElevationMode as u}from\"../../../../../support/elevationInfoUtils.js\";import{DrawOperation as d}from\"./DrawOperation.js\";import{SceneDrawSurface as m,ElevationDrawSurface as y}from\"./drawSurfaces.js\";import{InteractiveToolBase as v}from\"../../../../interactive/InteractiveToolBase.js\";import{createViewAlignedCoordinateSystem as g}from\"../../../../draw/support/surfaceCoordinateSystems.js\";import{settings as _}from\"../settings.js\";import{OutlineVisualElement as f}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as V}from\"../../visualElements/VerticesVisualElement.js\";import{GraphicState as w}from\"../../../layers/graphics/GraphicState.js\";import{createSquare as G,createRectangle as E,createCircle as O,createEllipse as S,createPolygon as b,createPolyline as j}from\"../../../../draw/support/createUtils.js\";let C=class extends(h(l.EventedMixin(v))){constructor(e){super(e),this.drawOperation=null,this._createGraphic=null,this._createGraphicState=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._stagedVerticesVisualElement=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=!1,this.snappingManager=null,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const e=t(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this._internalGraphicsLayer=new p({elevationInfo:e,listMode:\"hide\",internal:!0}),this.view.map.layers.add(this._internalGraphicsLayer),this.drawOperation=new d({view:this.view,manipulators:this.manipulators,geometryType:x(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new m(this.view,e,[this._internalGraphicsLayer]),elevationDrawSurface:new y(e,this.defaultZ,this.view,this._internalGraphicsLayer),hasM:!1,elevationInfo:e,snappingManager:this.snappingManager}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._destroyAllVisualisations(),this.view.map.remove(this._internalGraphicsLayer),this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}_getCreateGeometry(e,t=!1){if(null==this.drawOperation)return null;const r=i(e)?e:this.drawOperation.hasStagedVertex?this.drawOperation.numVertices-1:null,s=this.drawOperation.vertices;if(0===s.length)return null;const a=this.drawOperation.spatialReference,n=s,l=n.slice(),o=[];i(r)&&(l.splice(r,1),o.push(n[r]));const c={regularVertices:null,stagedVertices:null,full:null,outline:null},h=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":c.regularVertices=l,c.stagedVertices=o,c.full=this.drawOperation.coordinateHelper.createPointFromArray(s[0]);break;case\"polyline\":c.regularVertices=l,c.stagedVertices=o,n.length>0&&(c.full=j([n],a,h));break;case\"polygon\":c.regularVertices=l,c.stagedVertices=o,n.length>0&&(c.full=b([n],a,h,!0));break;case\"circle\":if(n.length>0){const e=g(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+I*this.view.resolution,t[1]);c.full=O([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?O(s,e,this.centered):S(s,e,this.centered))}break;case\"rectangle\":if(n.length>0){const e=g(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+I*this.view.resolution,t[1]);c.full=G([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?G(s,e,this.centered):E(s,e,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":break;case\"polyline\":n.length>1&&(c.outline=j([n],a,h));break;case\"polygon\":n.length>1&&(c.outline=b([n],a,h));break;case\"circle\":case\"rectangle\":i(c.full)&&\"polygon\"===c.full.type&&(c.outline=b(c.full.rings,a,h))}return c}_destroyAllVisualisations(){this._destroyCreateGraphic(),this._destroyOutlineVisualElement(),this._destroyVerticesVisualElement(),this._destroyStagedVerticesVisualElement()}_destroyCreateGraphic(){i(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),this._createGraphic.destroy(),this._createGraphic=null),this._createGraphicState=null,this.handles.remove(T)}_destroyOutlineVisualElement(){i(this._outlineVisualElement)&&(this._outlineVisualElement.destroy(),this._outlineVisualElement=null)}_destroyVerticesVisualElement(){i(this._verticesVisualElement)&&(this._verticesVisualElement.destroy(),this._verticesVisualElement=null)}_destroyStagedVerticesVisualElement(){i(this._stagedVerticesVisualElement)&&(this._stagedVerticesVisualElement.destroy(),this._stagedVerticesVisualElement=null)}_updateCreateGraphic(e=null){const t=this._getCreateGeometry(e);if(r(t))return void this._destroyAllVisualisations();const a=this._internalGraphicsLayer.elevationInfo;i(t.outline)?r(this._outlineVisualElement)?(this._outlineVisualElement=new f({view:this.view,geometry:t.outline,elevationInfo:s(a),isDraped:i(this._createGraphicState)?this._createGraphicState.isDraped:\"on-the-ground\"===u(this.hasZ,a),attached:!1}),_.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),_.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=t.outline:this._destroyOutlineVisualElement(),i(t.regularVertices)?r(this._verticesVisualElement)?(this._verticesVisualElement=new V({view:this.view,spatialReference:this.view.spatialReference,vertices:t.regularVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:_.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=t.regularVertices:this._destroyVerticesVisualElement(),i(t.stagedVertices)?r(this._stagedVerticesVisualElement)?(this._stagedVerticesVisualElement=new V({view:this.view,spatialReference:this.view.spatialReference,vertices:t.stagedVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:_.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._stagedVerticesVisualElement.color=_.colorToVec4(_.reshapeManipulators.selected.color),this._stagedVerticesVisualElement.attached=!0):this._stagedVerticesVisualElement.vertices=t.stagedVertices:this._destroyStagedVerticesVisualElement(),i(t.full)?r(this._createGraphic)?(this._createGraphic=new o({geometry:t.full,symbol:this.createGraphicSymbol}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic),this._createGraphicState=new w({graphic:this._createGraphic}),this.handles.add([this.view.trackGraphicState(this._createGraphicState),c(this._createGraphicState,\"isDraped\",(e=>{i(this._outlineVisualElement)&&(this._outlineVisualElement.isDraped=e)}))],T),this.notifyChange(\"createGraphic\")):this._createGraphic.geometry=t.full:this._destroyCreateGraphic()}get createGraphic(){return this._createGraphic}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set centered(e){this._set(\"centered\",e),this._updateCreateGraphic()}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateCreateGraphic()}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this._updateCreateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateCreateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateCreateGraphic(),this.emit(\"vertex-update\",e)}onCursorUpdate(e){this._updateCreateGraphic(1===e.vertices.length?e.vertices[0].vertexIndex:null),this.emit(\"cursor-update\",e)}onComplete(e){this._updateCreateGraphic();let t=null;if(this.drawOperation.isCompleted){const e=this._getCreateGeometry(null,!0);i(e)&&(t=new o({geometry:e.full,symbol:this.createGraphicSymbol}))}this.emit(\"complete\",{graphic:t,...e})}};function x(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}e([a({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([a()],C.prototype,\"createGraphicSymbol\",void 0),e([a()],C.prototype,\"createGraphic\",null),e([a({value:!0})],C.prototype,\"enabled\",null),e([a({value:!0})],C.prototype,\"centered\",null),e([a({value:!0})],C.prototype,\"forceUniformSize\",null),e([a({constructOnly:!0})],C.prototype,\"hasZ\",void 0),e([a({nonNullable:!0})],C.prototype,\"defaultZ\",void 0),e([a({constructOnly:!0})],C.prototype,\"elevationInfo\",void 0),e([a()],C.prototype,\"snapToScene\",void 0),e([a()],C.prototype,\"snappingManager\",void 0),e([a({constructOnly:!0})],C.prototype,\"mode\",void 0),e([a({constructOnly:!0})],C.prototype,\"geometryType\",void 0),e([a({readOnly:!0})],C.prototype,\"type\",void 0),C=e([n(\"esri.views.3d.interactive.editingTools.draw3D.DrawTool\")],C);const I=48,T=\"create-graphic\";export{C as DrawGraphicTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";import{isSome as t,isNone as i,unwrapOr as s,unwrap as n}from\"../../../core/maybe.js\";import{once as o}from\"../../../core/accessorSupport/utils.js\";import r from\"../../../geometry/Point.js\";import\"../../../geometry.js\";import a from\"../../../core/Evented.js\";import{deg2rad as c}from\"../../../core/mathUtils.js\";import{createScreenPointArray as l,createRenderScreenPointArray3 as h,screenPointObjectToArray as d,castRenderScreenPointArray as _}from\"../../../core/screenUtils.js\";import{c as u,Z as g}from\"../../../chunks/vec3f64.js\";import{b as m,t as f,i as p,a as b,g as v,h as y,s as j,f as L}from\"../../../chunks/vec3.js\";import{getReferenceEllipsoid as S}from\"../../../geometry/projectionEllipsoid.js\";import{c as R,d as w,m as O,i as T}from\"../../../chunks/mat4.js\";import{containsPointObject as E}from\"../../../geometry/support/aaBoundingRect.js\";import{canProjectWithoutEngine as A,projectPoint as D,sphericalPCPFtoLonLatElevation as P,computeLatLonToENURotation as F}from\"../../../geometry/projection.js\";import{a as z}from\"../../../chunks/mat3f64.js\";import{a as k}from\"../../../chunks/mat4f64.js\";import{f as I}from\"../../../chunks/mat3.js\";import{j as M}from\"../../../chunks/vec2.js\";import{getElevationAtPoint as C}from\"../support/ElevationProvider.js\";import{sv3d as x}from\"../support/stack.js\";import{ray as B,plane as W,lineSegment as V}from\"../support/geometryUtils.js\";import{Object3D as H}from\"../webgl-engine/lib/Object3D.js\";import U from\"../webgl-engine/lib/Camera.js\";import{clonePoint as G}from\"../../../layers/graphics/hydratedFeatures.js\";import{WebGLLayer as N}from\"../webgl-engine/lib/WebGLLayer.js\";class Z{constructor(e){this.idHint=0,this.camera=new U,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=k(),this._worldFrame=null,this._renderLocation=u(),this._renderLocationDirty=!0,this._location=new r({x:0,y:0,z:0}),this._elevationAlignedLocation=new r,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=0,this._focused=!1,this.events=new a.EventEmitter,this._screenLocation={screenPointArray:l(),renderScreenPointArray:h(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:o((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){q(e)&&(this._screenLocationDirty=!0),R(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=k()),J(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){G(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){G(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=t(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this.ensureScreenLocation(),this._screenLocation}ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(q(this._modelTransform)){const t=this._calculateModelTransformOffset(ae);e=m(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,s){if(!this.available)return null;const n=d(t,K),o=this._getCollisionRadius(s),r=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(M(this.screenLocation.screenPointArray,n)<o*o)return this.screenLocation.renderScreenPointArray[2]+r;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),s=this._calculateObjectTransform(t,ee),a=o*this.screenLocation.pixelSize,c=B.fromScreen(this.camera,n,X);if(i(c))return null;for(const i of e){if(0===i.length)continue;const e=p(ie,i[0],s);for(let t=1;t<i.length;t++){const n=p(se,i[t],s),o=V.closestRayDistance2(V.fromPoints(e,n,Q),c);if(null!=o&&o<a*a){const t=m(x.get(),e,n);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,n)}}break}case\"disc\":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:g,s=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(s,ee),l=o*this.screenLocation.pixelSize,h=B.fromScreen(this.camera,n,X);if(i(h))return null;const d=I(Y,c),_=f(oe,e,d),u=p(re,t,c);W.fromPositionAndNormal(u,_,te);const m=ne;if(W.intersectRay(te,h,m)&&y(m,u)<l*l)return this.screenLocation.renderScreenPointArray[2]+r;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,s=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(s,ee),c=o*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=B.fromScreen(this.camera,n,X);if(i(l))return null;const h=I(Y,a),d=f(oe,t,h),u=this._calculateModelTransformPosition(re);W.fromPositionAndNormal(u,d,te);const g=ne;if(!W.intersectRay(te,l,g))break;for(const i of e){if(0===i.length)continue;const e=p(ie,i[0],a);for(let t=1;t<i.length;t++){const s=p(se,i[t],a),n=V.distance2(V.fromPoints(e,s,Q),g);if(null!=n&&n<c*c){const t=m(x.get(),e,s);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,s)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){var t;if(!this.view._stage)return;const s=e.manipulator3D;if(i(s.engineLayerId)){const e=new N({isPickable:!1});this.view._stage.add(e),s.engineLayerId=e.id,this._engineLayer=e}else null!=(t=this.view._stage)&&t.getObject&&(this._engineLayer=this.view._stage.getObject(s.engineLayerId));s.engineLayerReferences=(s.engineLayerReferences||0)+1,this._materialIdReferences=s.materialIdReferences,i(this._materialIdReferences)&&(this._materialIdReferences=new Map,s.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),A(this._location.spatialReference,this.view.spatialReference)||(this.location=new r({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){D(this.location,ce,e.spatialReference),E(e.extent,ce)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(i(this.elevationInfo))return!1;let t=null,n=0;const o=s(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=s(C(this.view.elevationProvider,e,\"ground\"),0);break;case\"relative-to-ground\":n=s(C(this.view.elevationProvider,e,\"ground\"),0)+o;break;case\"relative-to-scene\":n=s(C(this.view.elevationProvider,e,\"scene\"),0)+o;break;case\"absolute-height\":n=o}return(n!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=n,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),i=ee;if(!0===this.autoScaleRenderObjects){const t=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(t,i)}else this._calculateObjectTransform(e,i);const{objectsByState:s}=this._ensureEngineResources(),n=(this.focused?2:1)|(this.selected?8:4),o=this._noDisplayCount>0;for(const{stateMask:t,objects:r}of s){if(o){for(const e of r)e.setVisible(!1);continue}const e=!(0!=(15&t))||(n&t)==(15&t),s=!(0!=(65520&t))||(this.state&t)==(65520&t);if(e&&s)for(const t of r)t.setVisible(!0),t.transformation=i;else for(const t of r)t.setVisible(!1)}t(this._engineLayer)&&this._engineLayer.commit()}_ensureEngineResources(){if(i(this._engineResources)){const e=n(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:n}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,n))):e.addGeometry(i,s,n)},o=new Map;this._renderObjects.forEach((e=>{const t=new H({castShadow:!1});s(t,e);const i=e.stateMask||0,n=o.get(i)||[];n.push(t),o.set(i,n)}));const r=[];o.forEach(((e,t)=>r.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:e,layer:t,materials:s}=this._engineResources;s.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>e.forEach((e=>{t.add(e),this.view._stage.add(e)})))),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:t,layer:s,materials:o}=this._engineResources;t.forEach((({objects:e})=>{s.removeMany(e),this.view._stage.removeMany(e)})),o.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(s),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,$);return j(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return L(e,t,this.renderLocation)}_calculateObjectTransform(e,i){return w(i,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&O(i,i,this._worldFrame),O(i,i,this._modelTransform),i[12]+=this.renderLocation[0],i[13]+=this.renderLocation[1],i[14]+=this.renderLocation[2],i[15]=1,t(this._applyObjectTransform)&&this._applyObjectTransform(i),i}get test(){let e=!1;if(t(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function q(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function J(e,t,i){switch(e.viewingMode){case\"local\":return T(i),!0;case\"global\":{const s=S(e.renderCoordsHelper.spatialReference);return P(t,0,ie,0,s.radius),F(c(ie[1]),c(ie[0]),i),!0}}}const K=l(),Q=V.create(),X=B.create(),Y=z(),$=k(),ee=k(),te=W.create(),ie=u(),se=u(),ne=u(),oe=u(),re=u(),ae=u(),ce=new r({x:0,y:0,z:0,spatialReference:null});export{Z as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{f as r,c as n,i as o,n as i}from\"../../../chunks/vec3.js\";import{a}from\"../../../chunks/mat4.js\";import{b as c}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as m}from\"../support/stack.js\";import l from\"../webgl-engine/lib/GeometryUtil.js\";import{hydrateGeometry as u}from\"../../../layers/graphics/hydratedFeatures.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import{ColorMaterial as g}from\"../webgl-engine/materials/ColorMaterial.js\";import{Manipulator3D as f}from\"./Manipulator3D.js\";import{ShadedColorMaterial as h}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function d(e,t=4){const r=c(e[0],e[1],e[2],e.length>3?e[3]:1),n=e[3]<1;return new h({color:r,transparent:n,writeDepth:!0,cullFace:2,renderOccluded:t})}function j(e,t=4){const r=c(e[0],e[1],e[2],4===e.length?e[3]:1);return new g({color:r,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:t})}function w(e,t,r){return new f({view:e,renderObjects:[{geometry:l.createSphereGeometry(1,32,32),material:d(c(t[0],t[1],t[2],null!=r?r:1))}]})}function y(e,t,i,c){const l=r(s.get(),e,i),u=b(l,n(s.get(),c,l),i,m.get());a(u,u);const p=o(s.get(),t,u);return Math.atan2(p[1],p[0])}function b(e,t,r,o){const a=i(s.get(),e),c=i(s.get(),t),m=n(s.get(),a,c);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=0,o[4]=c[0],o[5]=c[1],o[6]=c[2],o[7]=0,o[8]=m[0],o[9]=m[1],o[10]=m[2],o[11]=0,o[12]=r[0],o[13]=r[1],o[14]=r[2],o[15]=1,o}function O(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function k(t,r,n){const o=O(t,n);e(o)?r.elevationAlignedLocation=o:v(r,n.geometry)}function v(e,r){if(t(r))return;const n=p(r);t(n)||(e.location=u(n))}export{y as calculateInputRotationTransform,b as calculateTranslateRotateFromBases,d as createManipulatorMaterial,j as createManipulatorOutlineMaterial,w as createSphereManipulator,O as getGraphicAttachmentOrigin,k as placeAtGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";class e{constructor(){this.grabbingState=0,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(e){this.grabbingState=0,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,e.forEachManipulator(((e,s)=>{if(0===s&&(this.zManipulator=e),e instanceof i&&(e.selected&&(0===this.numSelected&&(this.firstSelected=e),this.numSelected++),t(this.firstGrabbedXY)&&e.grabbing&&1===s&&(this.firstGrabbedXY=e)),e.grabbing)switch(this.grabbingState|=1,s){case 0:this.grabbingState|=2;break;case 1:this.grabbingState|=4}}))}}export{e as ManipulatorState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as a,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{s,b as o,a as r}from\"../../../../chunks/vec3.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{LaserlineVisualElement as p}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as m}from\"../visualElements/ExtendedLineVisualElement.js\";import{Manipulator3D as h}from\"../Manipulator3D.js\";import{settings as u}from\"./settings.js\";import{OutlineVisualElement as d}from\"../visualElements/OutlineVisualElement.js\";import{GraphicState as g}from\"../../layers/graphics/GraphicState.js\";import{ManipulatorState as f}from\"./ManipulatorState.js\";function v(e){const{view:a,graphic:n}=e,i=new g({graphic:n}),l=y(e,i),s=[l,E(e,l.visualElement,i),a.maskOccludee(n),a.trackGraphicState(i)];return{visualElement:l.visualElement,remove:()=>t(s).remove()}}function y(e,n){const{view:i,graphic:l}=e,s=new d({view:i,geometry:S(l)?l.geometry:null,elevationInfo:c(l),attached:!1});u.visualElements.lineGraphics.shadowStyle.apply(s);const o=()=>{s.attached=n.displaying};u.visualElements.lineGraphics.outline.apply(s);const r=[n.watch(\"displaying\",o),n.watch(\"isDraped\",(e=>s.isDraped=e)),n.on(\"changed\",(()=>s.geometry=S(l)?l.geometry:null)),a(s)];return o(),{visualElement:s,remove:()=>t(r).remove()}}function E(e,l,s){const{graphic:o,view:r}=e,h=[],d=c(o),g=\"on-the-ground\"===d.mode||!d.offset&&\"absolute-height\"!==d.mode,v=new f,y=new m({view:r,extensionType:u.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});u.visualElements.pointGraphics.shadowStyle.apply(y);const E=i(u.visualElements.heightPlaneAngleCutoff),j=new p({view:r,attached:!1,angleCutoff:E});u.visualElements.heightPlane.apply(j);let M=1,G=1;const L=()=>{if(v.update(e),!s.displaying||g&&(s.isDraped||!S(o)||!o.geometry.hasZ))return l.laserlineEnabled=!1,y.attached=!1,void(j.attached=!1);l.laserlineEnabled=!0;{const e=4&v.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==M&&(M=e,u.visualElements.lineGraphics.shadowStyle.apply(l,e),u.visualElements.pointGraphics.shadowStyle.apply(y,e))}{const e=2&v.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==G&&(G=e,u.visualElements.heightPlane.apply(j,e))}w(y,v),b(e,l,j,v)};u.visualElements.zVerticalLine.apply(y),h.push(s.on(\"changed\",L),s.watch(\"displaying\",L),l.events.on(\"attachment-origin-changed\",L),a(y),a(j));const D=[],C=()=>{t(D).remove(),D.length=0,e.forEachManipulator((e=>D.push(e.events.on(\"grab-changed\",L)))),e.forEachManipulator((e=>D.push(e.events.on(\"select-changed\",L)))),L()};return C(),h.push(e.onManipulatorsChanged(C),n((()=>t(D)))),t(h)}function w(t,a){const n=1===a.numSelected?a.firstSelected:a.numSelected>1&&e(a.firstGrabbedXY)?a.firstGrabbedXY:null;e(n)?(t.setStartEndFromWorldDownAtLocation(n.renderLocation),t.attached=!0):t.attached=!1}function b(t,a,n,i){if(i.numSelected>0){s(j,0,0,0);let e=0;t.forEachManipulator(((t,a)=>{1===a&&t.selected&&t instanceof h&&(o(j,j,t.renderLocation),e++)})),e>0?(n.heightManifoldTarget=r(j,j,1/e),n.attached=!0):n.attached=!1}else{const i=a.attachmentOrigin;e(i)&&t.view.renderCoordsHelper.toRenderCoords(i,j)?(n.heightManifoldTarget=j,n.attached=!0):n.attached=!1}}function S(t){return e(t.geometry)&&(\"polygon\"===t.geometry.type||\"polyline\"===t.geometry.type)}const j=l();export{y as createGeometryRepresentationVisualElement,v as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as n,refHandle as o}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../chunks/vec3.js\";import{init as s}from\"../../../../core/watchUtils.js\";import{containsXY as l}from\"../../../../geometry/support/aaBoundingRect.js\";import{projectVectorToVector as p,projectPointToVector as c}from\"../../../../geometry/projection.js\";import{create as m,empty as h,getMin as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{getGraphicEffectiveElevationInfo as g}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationAlignmentAtPoint as d}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as f}from\"../../layers/graphics/ElevationContext.js\";import{LaserlineVisualElement as v}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as y}from\"../visualElements/ExtendedLineVisualElement.js\";import{PointVisualElement as E}from\"../visualElements/PointVisualElement.js\";import{settings as w}from\"./settings.js\";import{GraphicState as j}from\"../../layers/graphics/GraphicState.js\";import{ManipulatorState as b}from\"./ManipulatorState.js\";function x(e){const{view:n,graphic:o}=e,i=new j({graphic:o}),r=[],a=L(e,i,r);return S(e,i,r,a),r.push(n.trackGraphicState(i)),{visualElement:a,remove(){t(r).remove()}}}function S(e,t,o,r){const{view:s,graphic:l}=e,c=new y({view:s,extensionType:w.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});w.visualElements.zVerticalLine.apply(c);const m=new v({view:s,intersectsLineInfinite:!0,attached:!1});w.visualElements.pointGraphics.shadowStyle.apply(m);const E=i(w.visualElements.heightPlaneAngleCutoff),j=new v({view:s,attached:!1,angleCutoff:E});w.visualElements.heightPlane.apply(j);const x=g(e.graphic),S=f.fromElevationInfo(x),L=\"on-the-ground\"===x.mode||!x.offset&&\"absolute-height\"!==x.mode,P=new b;let A=1,C=1;const D=()=>{P.update(e);const n=L&&(t.isDraped||!M(l)||!l.geometry.hasZ);let o=!0;if(!n&&M(l)){const e=l.geometry,t=d(l.geometry,s.elevationProvider,S,s.renderCoordsHelper);a(R,e.x,e.y,t),p(R,e.spatialReference,R,s.renderCoordsHelper.spatialReference),c.setStartEndFromWorldDownAtLocation(R),m.intersectsWorldUpAtLocation=R}else o=!1;const i=2&P.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;i!==A&&(A=i,w.visualElements.heightPlane.apply(j,i));const g=h(U);!n&&t.displaying&&r.calculateMapBounds(g)&&p(u(g,R),s.spatialReference,R,s.renderCoordsHelper.spatialReference)?(j.heightManifoldTarget=R,j.attached=!0):j.attached=!1;const f=4&P.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;f!==C&&(C=f,w.visualElements.pointGraphics.shadowStyle.apply(m,f));const v=o&&t.displaying&&!n;m.attached=v,c.attached=v};o.push(t.watch([\"displaying\",\"isDraped\"],D),t.on(\"changed\",D)),e.forEachManipulator((e=>{o.push(e.events.on(\"grab-changed\",D))})),o.push(n(m)),o.push(n(c)),o.push(n(j)),D()}function L(e,t,o){const{view:i,graphic:r}=e,a=new E({view:i,geometry:M(r)?r.geometry:null,elevationInfo:g(r),attached:!1});return P(e,a,t,o),o.push(n(a)),a}function P(e,t,n,o){const i=()=>t.attached=n.displaying;A(e,t,n,o),w.visualElements.pointGraphics.outline.apply(t),o.push(s(n,\"displaying\",i))}function A(t,n,i,r){const{view:a,graphic:s}=t;let l=null;const p=()=>{e(l)&&(l.remove(),l=null),i.isDraped&&M(s)&&(l=C(a,s.geometry,(()=>{n.geometry=s.geometry})))},c=()=>{p(),n.geometry=M(s)?s.geometry:null};r.push(i.on(\"changed\",c),o((()=>l))),c()}function C(e,t,n){const o=e.elevationProvider.spatialReference;c(t,R,o);const i=R[0],r=R[1];return e.elevationProvider.on(\"elevation-change\",(e=>{l(e.extent,i,r)&&n()}))}function M(t){return e(t.geometry)&&\"point\"===t.geometry.type}const R=r(),U=m();export{x as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as t}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as r}from\"./pointGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":return r(i);case\"polygon\":case\"polyline\":return t(i);default:return null}}export{i as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(e/3*2),P=160,i=.5,l=24,n=9,p=P+30,r=P+53,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{dragGraphic as e,resetGraphic as n}from\"../../../../interactive/dragEventPipeline.js\";function r(t,r,a){const c=t.graphic,i=(t,e)=>r({action:t,graphic:c,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return a(((t,r,a)=>{const o=r.next((t=>(\"start\"===t.action&&i(\"start\",t),t))).next(e(c)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&i(\"update\",t);break;case\"end\":i(\"end\",t)}return t}));return a.next(n(c)).next((()=>{i(\"end\",{screenDeltaX:0,screenDeltaY:0})})),o}))}function a(e){if(t(e)||\"polyline\"!==e.type&&\"polygon\"!==e.type)return 0;const n=(\"polyline\"===e.type?e.paths:e.rings)[0];if(!n||n.length<2)return 0;const r=n[0],a=n[1];return Math.atan2(a[1]-r[1],a[0]-r[0])}export{r as createGraphicMoveDragPipeline,a as shapeOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this.forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this.forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this.forEachManipulator3D((t=>t.elevationInfo=a))}get available(){return this._available}set available(a){this._available=a,this.forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{b as s,i}from\"../../../../chunks/vec3.js\";import{I as e}from\"../../../../chunks/mat4f64.js\";import{ray as a}from\"../../support/geometryUtils.js\";import{isInstanceHidden as n}from\"../materials/renderers/utils.js\";import{IntersectorOptions as o,IntersectorResults as h,IntersectorTransform as d,getVerticalOffsetObject3D as c,IntersectorResult as l}from\"./intersectorUtils.js\";const f=1e-5;class m{constructor(t){this.options=new o,this.results=new h,this.transform=new d,this.performanceInfo={queryDuration:0,numObjectsTested:0},this.tolerance=f,this.verticalOffset=null,this._ray={origin:r(),direction:r()},this._rayEndPoint=r(),this._rayStartPointTransformed=r(),this._rayEndPointTransformed=r(),this.viewingMode=null==t?1:t}get ray(){return this._ray}get rayBeginPoint(){return this._ray.origin}get rayEndPoint(){return this._rayEndPoint}reset(t,r){this.resetWithRay(a.fromPoints(t,r,this._ray))}resetWithRay(t){t!==this._ray&&a.copy(t,this._ray),0!==this.options.verticalOffset?2===this.viewingMode?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,s(this._rayEndPoint,this._ray.origin,this._ray.direction),this._numObjectsTested=0,this.results.init(this._ray)}intersect(r,s,i,e,a,n){this.point=s,this.camera=i,this.filterPredicate=a,this.tolerance=null==e?f:e;const o=c(this.verticalOffset),h=n?t=>{n(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};if(r&&r.length>0)for(const d of r){const r=d.getSpatialQueryAccelerator&&d.getSpatialQueryAccelerator();t(r)?(t(o)?r.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,h,o):r.forEachAlongRay(this._ray.origin,this._ray.direction,h),this.options.selectionMode&&this.options.hud&&r.forEachDegenerateObject(h)):d.getObjects().forAll((t=>h(t)))}this.sortResults()}intersectObject(r){this._numObjectsTested++;const s=r.geometryRecords;if(!s)return;const a=r.id,o=r.transformation;let h;const d=c(this.verticalOffset);for(const c of s){const{geometry:s,material:f,instanceParameters:m}=c;if(n(m))continue;h=s.id,this.transform.setAndInvalidateLazyTransforms(o,c.getShaderTransformation()),i(this._rayStartPointTransformed,this._ray.origin,this.transform.inverse),i(this._rayEndPointTransformed,this._rayEndPoint,this.transform.inverse);const u=this.transform.transform;t(d)&&(d.objectTransform=this.transform),f.intersect(s,m,this.transform.transform,this,this._rayStartPointTransformed,this._rayEndPointTransformed,((s,i,n,o,d,c)=>{if(s>=0){if(t(this.filterPredicate)&&!this.filterPredicate(this._ray.origin,this._rayEndPoint,s))return;const f=`Object3D ${a}`;if(d)return void((null==this.results.hud.dist||s<this.results.hud.dist)&&this.results.hud.set(r,f,s,i,e,o,c,h,n));const m=t=>t.set(r,f,s,i,u,o,null,h,n);if((null==this.results.min.drapedLayerOrder||o>=this.results.min.drapedLayerOrder)&&(null==this.results.min.dist||s<this.results.min.dist)&&m(this.results.min),0!==this.options.store&&(null==this.results.max.drapedLayerOrder||o<this.results.max.drapedLayerOrder)&&(null==this.results.max.dist||s>this.results.max.dist)&&m(this.results.max),2===this.options.store){const t=new l(this._ray);m(t),this.results.all.push(t)}}}),c.shaderTransformation)}}sortResults(){this.results.all.sort(((t,r)=>t.dist!==r.dist?t.dist-r.dist:t.drapedLayerOrder!==r.drapedLayerOrder?(void 0!==t.drapedLayerOrder?t.drapedLayerOrder:Number.MAX_VALUE)-(void 0!==r.drapedLayerOrder?r.drapedLayerOrder:Number.MAX_VALUE):(void 0!==r.drapedLayerGraphicOrder?r.drapedLayerGraphicOrder:Number.MIN_VALUE)-(void 0!==t.drapedLayerGraphicOrder?t.drapedLayerGraphicOrder:Number.MIN_VALUE)))}}m.DEFAULT_TOLERANCE=f;export{m as Intersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as n}from\"../../../../core/maybe.js\";import{sign as t}from\"../../../../core/mathUtils.js\";import{screenPointObjectToArray as o,castScreenPointArray as s,createScreenPointArray as c}from\"../../../../core/screenUtils.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{g as a,l as i,f as u,d,a as m,b as p,c as f}from\"../../../../chunks/vec3.js\";import{projectPoint as S}from\"../../../../geometry/projection.js\";import{getZForElevationMode as g,getGraphicEffectiveElevationInfo as y}from\"../../../../support/elevationInfoUtils.js\";import{sv2d as E}from\"../../support/stack.js\";import{ray as j,plane as x,vector as b}from\"../../support/geometryUtils.js\";import{TERRAIN_ID as v}from\"../../webgl-engine/lib/intersectorUtils.js\";import{Intersector as w}from\"../../webgl-engine/lib/Intersector.js\";import{EventPipeline as I}from\"../../../interactive/dragEventPipeline.js\";function C(n,t){const c=l(),a=l();let i=!1;return l=>{if(\"start\"===l.action){const r=o(l.screenStart,s(E.get())),a=j.fromScreen(n.state.camera,r,G);e(a)&&(i=x.intersectRay(t,a,c))}if(!i)return null;const u=o(l.screenEnd,s(E.get())),d=j.fromScreen(n.state.camera,u,G);return r(d)?null:x.intersectRay(t,d,a)?{...l,renderStart:c,renderEnd:a,plane:t,ray:d}:null}}function H(n,t,o,s=null,l=null){let a=null;return i=>{if(\"start\"===i.action&&(a=n.sceneIntersectionHelper.intersectElevationFromScreen(c(i.screenStart.x,i.screenStart.y),t,o,l),e(a)&&e(s)&&!S(a,a,s)))return null;if(r(a))return null;const u=n.sceneIntersectionHelper.intersectElevationFromScreen(c(i.screenEnd.x,i.screenEnd.y),t,o,l);return e(u)?e(s)&&!S(u,u,s)?null:{...i,mapStart:a,mapEnd:u}:null}}function P(e,r,n,t=null,o=null){return H(e,n,g(r,e,n),t,o)}function R(e,r,n,t=null,o=null){return P(e,n,y(r),t,o)}function U(r,n,t,o){const s=n.toMap(r.screenStart,{include:[t]});return e(s)?R(n,t,s,o):null}function k(e,r){const n=D,t=q,o=x.create();e.renderCoordsHelper.worldUpAtPosition(r,n);const s=f(o,n,u(t,r,e.state.camera.eye));return f(s,s,n),x.fromPositionAndNormal(r,s,o)}function h(e,r,n){let t=null;const o=new I;return o.next(C(e,k(e,r))).next(T(e,r)).next(A(e,n)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function T(e,r){const n=l(),o=i(r);e.renderCoordsHelper.worldUpAtPosition(r,n);const s=l(),c=l(),f=s=>{if(u(s,s,r),b.projectPoint(n,s,s),\"global\"===e.viewingMode){i(s)*t(d(n,s))<.001-o&&u(s,m(s,n,.001),r)}return p(s,s,r),s};return e=>(e.renderStart=f(a(s,e.renderStart)),e.renderEnd=f(a(c,e.renderEnd)),e)}function A(r,n){const t=r.renderCoordsHelper;return r=>{const o=t.fromRenderCoords(r.renderStart,n),s=t.fromRenderCoords(r.renderEnd,n);return e(o)&&e(s)?{...r,mapStart:o,mapEnd:s}:null}}function F(r){let n=null;return t=>{switch(t.action){case\"start\":n=r.disableDisplay();break;case\"end\":case\"cancel\":e(n)&&(n.remove(),n=null)}return t}}function M(t,s=null){const a=new w(t.state.mode);a.options.selectionMode=!0,a.options.store=0;const i=c(),u={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},d=l(),m=n(s,t.spatialReference),p=e=>{t.map.ground&&t.map.ground.opacity<1?u.exclude.add(v):u.exclude.delete(v),t.sceneIntersectionHelper.intersectIntersectorScreen(o(e,i),a,u);const r=a.results.min;let n;if(r.getIntersectionPoint(d))n=\"TerrainRenderer\"===r.intersector?0:1;else{if(!a.results.ground.getIntersectionPoint(d))return null;n=0}return{location:t.renderCoordsHelper.fromRenderCoords(d,m),surfaceType:n}};let f;return n=>{if(\"start\"===n.action){const r=p(n.screenStart);f=e(r)?r.location:null}if(r(f))return null;const t=p(n.screenEnd);return e(t)&&e(t.location)?{...n,mapStart:f,mapEnd:t.location,surfaceType:t.surfaceType}:null}}const D=l(),q=l(),G=j.create();export{A as convertToMapCoordinates,F as hideManipulatorWhileDragging,T as projectToWorldUp,M as screenToMap3D,P as screenToMapXYAtLocation,U as screenToMapXYForGraphic,R as screenToMapXYForGraphicAtLocation,C as screenToRenderPlane,h as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import r from\"../../../../../core/Evented.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as o}from\"../../../../../chunks/vec3.js\";import s from\"../../../../../core/Handles.js\";import{w as n,i as l,x as p,m as u,r as h,p as m}from\"../../../../../chunks/mat4.js\";import{a as c}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as d}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as f,sm4d as _}from\"../../../support/stack.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as M}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as w,dragAtLocation as v,constrainToMapAxis as j,addScreenDelta as y}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as A}from\"../dragEventPipeline3D.js\";import{Manipulator3D as I}from\"../../Manipulator3D.js\";import{colors as T}from\"../settings.js\";import{DISC_RADIUS as b,DISC_HEIGHT as x,DISC_TRANSLATE_ARROW_OFFSET as D,DISC_TRANSLATE_ARROW_SIZE as P}from\"./config.js\";import{Manipulation as k}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as E}from\"./moveUtils.js\";class S extends k{constructor(t){super(),this._handles=new s,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this.createMaterial(),this._transparentMaterial=this.createMaterial(.5),this._angle=0,this._scale=1,this._radius=b,this._updateAfterDrag=!1,this.events=new r,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles.removeAll(),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){this._arrowManipulatorInfos.map((({manipulator:a})=>t(a,1)))}createGraphicDragPipeline(a,r,e){const i=r.graphic,o=d(i),s=t(i.geometry).spatialReference;return E(r,e,(t=>this.createDragPipeline(((r,e,i,o,s)=>t(r,a(r,e,i,o,s),i)),o,s,i)))}createDragPipeline(t,r,e,i){return a(this._arrowManipulatorInfos.map((({manipulator:a},o)=>w(a,((a,s,n,l,p)=>{const u=s.next((t=>({...t,manipulatorType:1}))).next(v(this._view,a.elevationAlignedLocation)).next(A(this._view,a.elevationAlignedLocation,r,e,i)).next(j(a.location,this.angle+(o+1)*Math.PI*.5)).next(y());t(a,u,n,l,p)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/b,i=P*e,s=Math.sqrt(i*i*3/4),h=g.createExtrudedTriangle(s,i/2,i/2,x);g.transformInPlace(h,n(_.get(),o(f.get(),0,-s/3,0))),t.renderObjects=[{geometry:h,material:this._opaqueMaterial,stateMask:2},{geometry:h,material:this._transparentMaterial,stateMask:1}],t.radius=s/3*2*1.2;const m=l(_.get());p(m,r*Math.PI/2);const c=l(_.get());n(c,o(f.get(),0,D*e,0)),u(a,m,c)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=l(_.get());h(a,a,t,i(0,0,1));const r=m(_.get(),o(f.get(),this.displayScale,this.displayScale,this.displayScale)),e=l(_.get());u(e,r,a);for(const i of this._arrowManipulatorInfos){const t=u(_.get(),e,i.transform);i.manipulator.modelTransform=t}}_createArrowManipulator(t){const a=new I({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)}}),r={manipulator:a,transform:c()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}createMaterial(t=1){const a=e.toUnitRGBA(T.main);return a[3]*=t,new M({color:a,transparent:1!==t,cullFace:2,renderOccluded:2})}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{S as MoveXYAxisManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this.snap(this.lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}snap(n){const a=t(this.view)?this.view.toMap(n,{exclude:[]}):null;return t(a)&&t(this.view)&&(a.z=e(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this.snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../../chunks/vec3.js\";import r from\"../../../../../core/Handles.js\";import{p as s}from\"../../../../../chunks/mat4.js\";import{a as o}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as n}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as l,sm4d as p}from\"../../../support/stack.js\";import c from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as u}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as m,dragAtLocation as h,addScreenDelta as d}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as _}from\"../dragEventPipeline3D.js\";import{Manipulator3D as f}from\"../../Manipulator3D.js\";import{colors as g}from\"../settings.js\";import{DISC_RADIUS as M,DISC_HEIGHT as j,GEOMETRY_SEGMENTS as S,DISC_COLLISION_RADIUS as y}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as v}from\"./moveUtils.js\";import{SnapToScene as w}from\"../snapping/SnapToScene.js\";class b extends T{constructor(t){super(),this._handles=new r,this._snapToScene=new w,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=M,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,1)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(e,i,a){const r=i.graphic,s=n(r),o=t(r.geometry).spatialReference;return v(i,a,(t=>this.createDragPipeline(((i,a,r,s,o)=>t(i,e(i,a,r,s,o),r)),s,o,r)))}createDragPipeline(t,e,i,a){const r=this._view;return m(this._manipulator,((s,o,n,l,p)=>{const c=o.next(h(r,s.elevationAlignedLocation)).next(_(r,s.elevationAlignedLocation,e,i,a)).next(this._snapToScene.createDragEventPipelineStep(r,e),this._snapToScene.next).next((t=>({...t,manipulatorType:1}))).next(d());t(s,c,n,l,p)}))}_updateManipulatorTransform(){const t=s(p.get(),a(l.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new f({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=c.createCylinderGeometry(j,1,S,i(0,0,1),i(0,0,0)),e=s(o(),i(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:2},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:1}],this._manipulator.radius=y*(this._radius/M)}_createMaterial(t=1){const i=e.toUnitRGBA(g.main);return i[3]*=t,new u({color:i,transparent:1!==t,cullFace:2,renderOccluded:2})}get test(){return{discManipulator:this._manipulator}}}export{b as MoveXYDiscManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{c as a,f as i}from\"../../../../../chunks/vec3f64.js\";import{w as o,f as s,n,d as l,c as m,a as p}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{t as u,e as h,s as d}from\"../../../../../chunks/mat4.js\";import{darken as f}from\"../../../../../core/colorUtils.js\";import{a as M}from\"../../../../../chunks/mat4f64.js\";import _ from\"../../../webgl-engine/lib/GeometryUtil.js\";import{createManipulatorDragEventPipeline as g,addScreenDelta as y}from\"../../../../interactive/dragEventPipeline.js\";import{screenToZConstrained as j}from\"../dragEventPipeline3D.js\";import{Manipulator3D as v}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as w}from\"../../manipulatorUtils.js\";import{settings as k}from\"../settings.js\";import{DISC_RADIUS as z}from\"./config.js\";import{Manipulation as b}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as P}from\"./moveUtils.js\";class x extends b{constructor(t){super(),this._handles=new c,this._radius=z,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this.createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,0)}createGraphicDragPipeline(e,r,a){const i=t(r.graphic.geometry).spatialReference;return P(r,a,(t=>this.createDragPipeline(((r,a,i,o,s)=>t(r,e(r,a,i,o,s),i)),i)))}createDragPipeline(t,e){const r=this._view;return g(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:0}))).next(j(r,a.renderLocation,e)).next(y());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this.updateManipulator())}updateManipulator(){const t=this._radius/z,e=k.zManipulator.height*t,r=k.zManipulator.coneHeight*t,a=k.zManipulator.coneWidth*t,o=k.zManipulator.width*t,s=[i(0,0,0),i(0,0,e)],n=_.createTubeGeometry(s,o/2,16,!1),l=_.createConeGeometry(r,a/2,16,!1),m=[i(0,0,0),i(0,0,e+r)],p=(t=>{const r=M();if(u(r,r,[0,0,e]),h(r,r,Math.PI/2),t){const e=1+2*t/a;d(r,r,[e,e,e])}return r})(0),c=(t,e)=>{const r=f(k.zManipulator.color,e);return[r.r/255,r.g/255,r.b/255,k.zManipulator.color.a*t]},g=w(c(1,.25),1),y=w(c(1,0),1),j=w(c(.7,0),k.zManipulator.renderOccluded),v=w(c(.85,0),k.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:l,transform:p,material:g,stateMask:1},{geometry:n,material:g,stateMask:1},{geometry:l,transform:p,material:y,stateMask:2},{geometry:n,material:y,stateMask:2},{geometry:l,transform:p,material:j,stateMask:1},{geometry:n,material:j,stateMask:1},{geometry:l,transform:p,material:v,stateMask:2},{geometry:n,material:v,stateMask:2}],this._manipulator.radius=o/2+2,this._manipulator.collisionType={type:\"line\",paths:[m]}}createManipulator(){const t=new v({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,a=D;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,a);const i=o(e.eye,a),c=e.computeRenderPixelSizeAtDist(i),u=s(E,a,e.eye);n(u,u);const h=O;this._view.renderCoordsHelper.worldUpAtPosition(D,h);const d=Math.abs(l(u,h)),f=m(E,u,h),M=m(E,f,h),_=r(d,.01,1),g=1-Math.sqrt(1-_*_)/_/e.fullWidth,y=this._radius/z,j=k.zManipulator.width*y;p(M,n(M,M),(1/g-1)*i+c*j),t[12]-=E[0],t[13]-=E[1],t[14]-=E[2]},this._manipulator=t,this.updateManipulator()}}const D=a(),E=a(),O=a();export{x as MoveZManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/has.js\";import{isSome as a}from\"../../../../../core/maybe.js\";import{handlesGroup as t}from\"../../../../../core/handleUtils.js\";import e from\"../../../../../core/Handles.js\";import{DISC_RADIUS_SMALL as n,DISC_RADIUS as s}from\"./config.js\";import{Manipulation as o}from\"./Manipulation.js\";import{MoveXYAxisManipulation as r}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as l}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as p}from\"./MoveZManipulation.js\";class h extends o{constructor(i){super(),this._handles=new e,this._angleDeferred=null,this._interactive=!0;const{tool:a,view:t,snapToScene:n,radius:s}=i;this._view=t,this.xyManipulation=new l({tool:a,view:t,snapToScene:n,radius:s}),this.xyAxisManipulation=new r({tool:a,view:t,radius:s}),this.zManipulation=new p({tool:a,view:t,radius:s}),this.xyManipulation.available=i.xyAvailable,this.xyAxisManipulation.available=i.xyAxisAvailable,this.zManipulation.available=i.zAvailable,this.autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this.updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,a,e){return t([this.xyManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(0,a,t,e,n,s)),a,e),this.xyAxisManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(1,a,t,e,n,s)),a,e),this.zManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(2,a,t,e,n,s)),a,e)])}createDragPipeline(i,a,e,n){return t([this.xyManipulation.createDragPipeline(((a,t,e,n,s)=>i(0,a,t,e,n,s)),a,e,n),this.xyAxisManipulation.createDragPipeline(((a,t,e,n,s)=>i(1,a,t,e,n,s)),a,e,n),this.zManipulation.createDragPipeline(((a,t,e,n,s)=>i(2,a,t,e,n,s)),e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this.updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,1))),this.xyAxisManipulation.forEachManipulator((a=>i(a,1))),this.zManipulation.forEachManipulator((a=>i(a,0)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}autoHideXYAxis(){const t=this.xyAxisManipulation,e=this.xyManipulation;if(i(\"esri-mobile\"))return;const n=[];e.forEachManipulator((i=>n.push(i))),t.forEachManipulator((i=>n.push(i)));const s=()=>{const i=[];this.xyAxisVisible?a(this._angleDeferred)&&(this.angle=this._angleDeferred()):t.forEachManipulator((a=>i.push(a.disableDisplay()))),this._handles.remove(u),this._handles.add(i,u)};for(const i of n)this._handles.add(i.events.on(\"focus-changed\",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch(\"latestPointerType\",s)),s()}updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const t=a(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!t&&t.length>0&&t.some((i=>\"icon\"===i.type))?n:s}}const u=\"disable-xy-axis-display\";export{h as MoveManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import i from\"../../../../../core/Handles.js\";import{createManipulatorDragEventPipeline as e,addMapDelta as r,addScreenDelta as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{screenToMapXYForGraphic as s}from\"../dragEventPipeline3D.js\";import{Manipulation as n}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as l}from\"./moveUtils.js\";class h extends n{constructor(t){super(),this._handles=new i,this._view=t.view,this._tool=t.tool,this._graphicState=t.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,1)}createGraphicDragPipeline(t){return l(this._graphicState,t,(t=>this.createDragPipeline(t)))}createDragPipeline(i){const o=this._view,n=this._graphicState.graphic,l=t(n.geometry)?n.geometry.spatialReference:null;return e(this._manipulator,((t,e,h,p,c)=>{const m=e.next(s(c,o,n,l)).next(r()).next(a());i(t,m,h,p,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new o({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{h as MoveXYGraphicManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrap as e,isSome as i,isNone as a}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as n}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import r from\"../../../../../core/Evented.js\";import l from\"../../../../../core/Collection.js\";import p from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as h,getConvertedElevation as c}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as m}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{EditGeometry as u}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as d}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as g}from\"../../../../interactive/snapping/SnappingContext.js\";import{dragGraphicMany as v,resetGraphicMany as f}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingPipeline as y}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as M}from\"../../SnappingVisualizer3D.js\";import{InteractiveToolBase as w}from\"../../../../interactive/InteractiveToolBase.js\";import{getGraphicAttachmentOrigin as j}from\"../../manipulatorUtils.js\";import{isSupportedGraphic as _}from\"./isSupportedGraphic.js\";import{canMoveZ as b}from\"../manipulatorUtils.js\";import{OutlineVisualElement as x}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as E}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as S}from\"../visualElementUtils.js\";import{DISC_RADIUS as P}from\"../manipulations/config.js\";import{shapeOrientation as A}from\"../manipulations/moveUtils.js\";import{MoveManipulation as D}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as G}from\"../manipulations/MoveXYGraphicManipulation.js\";class z{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class X{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type=\"graphic-move\"}}class Y{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let O=class extends(r.EventedMixin(w)){constructor(t){super(t),this.graphics=new l,this.enableZ=!0,this.type=\"move-3d\",this._toolHandles=new p,this._handles=new p,this.snappingPipeline=new y}initialize(){this._toolHandles.add([this.graphics.on(\"change\",(()=>this._refreshManipulators()))]),this._refreshManipulators()}destroy(){this._handles.destroy(),this._handles=null,this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set(\"view\",null)}reset(){}_refreshManipulators(){this._handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>0===_(t))).map((t=>new R(t)));t.length&&(this.createManipulators(t),this.createVisualElements(t),this._handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this.updateMoveManipulation(t))}createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new G({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this._handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this._handles.add(e.manipulationXY.createDragPipeline(((e,i,a,n)=>this.buildDragEventPipeline(t,0,e,i,a,n))))}this.createMoveManipulation(t)}createMoveManipulation(t){const i=new D({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?D.radiusForSymbol(t[0].graphic.symbol):P});this._moveManipulation=i,i.elevationInfo={mode:\"absolute-height\",offset:0},i.forEachManipulator((t=>{this._handles.add(t.events.on(\"immediate-click\",(e=>{i.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...e,graphic:this.graphics.getItemAt(0)}),e.stopPropagation()})))}));const a=()=>this.updateMoveManipulation(t);for(const e of t)this._handles.add([e.state.on(\"changed\",a),e.state.watch(\"displaying\",a)]);const n=t[t.length-1];this._handles.add(n.state.on(\"changed\",(()=>this.updateMoveManipulationAngle(n)))),this._handles.add(i.createDragPipeline(((e,i,a,n,o)=>this.buildDragEventPipeline(t,e,i,a,n,o)),h(n.graphic),e(n.graphic.geometry).spatialReference,n.graphic)),this.updateMoveManipulationAngle(n)}createVisualElements(t){for(const e of t){const i=e.graphic,a=S({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>n()});e.geometryRepresentation=a.visualElement,e.geometryRepresentation instanceof x&&this._handles.add([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.state.isDraped||this.updateMoveManipulation(t)})),e.state.watch(\"isDraped\",(()=>this.updateMoveManipulation(t)))]),this._handles.add(a)}}updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>A(t.graphic.geometry)}updateMoveManipulation(t){const e=m(0,0,0,this.view.spatialReference);let a=0,n=!1;const o=this._moveManipulation;for(const s of t){if(!s.state.displaying)continue;const t=s.state.graphic;this.enableZ&&b(t)&&(n=!0);const o=s.geometryRepresentation instanceof x&&!s.state.isDraped?s.geometryRepresentation.attachmentOrigin:j(this.view,t);i(o)&&(e.x+=o.x,e.y+=o.y,e.z+=o.z,a++)}a>0?(e.x/=a,e.y/=a,e.z/=a,o.location=e,o.xyManipulation.available=!0,o.xyAxisManipulation.available=!0,o.zManipulation.available=n):o.available=!1}buildDragEventPipeline(t,e,i,a,n,o){const s=[],r=[];let l=null,p=null;const c=()=>{for(const t of s)t.dragging=!1;s.length=0,r.length=0,l=null,p=null,this._moveManipulation.interactive=!0};if(1===t.length&&0===e){const e=t[0].graphic;a=this.buildSnappingPipelineSteps(e,h(e),a,n,o)}const m=a.next((e=>{if(\"start\"===e.action){s.length=0,r.length=0;for(const e of t)e.dragging||!e.manipulationXY.hasManipulator(i)&&e.manipulationXY.grabbing||(s.push(e),r.push(e.graphic),e.dragging=!0);if(0!==r.length&&(this._moveManipulation.interactive=!1,l=v(r),p=f(r),this.emit(\"graphic-move-start\",new z(r)),this.destroyed))return null}return 0!==r.length?e:null})).next((t=>l(t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,n=i.y-e.y;if(this.emit(\"graphic-move\",new X(a,n,r)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new Y(r)),this.destroyed)return null;c()}}));return n.next((t=>p(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new Y(r)),this.destroyed)return null;c()})),m}buildSnappingPipelineSteps(t,e,i,n,o){const s=t.geometry;if(a(s)||\"point\"!==s.type)return i;const r=new g({elevationInfo:e,pointer:o,geometry:new d(u.fromGeometry(s,this.view.viewingMode),\"point\"),visualizer:new M,excludeFeature:t}),l=this.snappingManager;return i.next((e=>{const i=s.clone();i.z=c(this.view,i,h(t),{mode:\"absolute-height\",offset:0});return{...e,snapOrigin:r.coordinateHelper.fromPoint(i)}})).next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:r,snappingManager:l,cancel:n}),this.snappingPipeline.next)}};t([o({constructOnly:!0,nonNullable:!0})],O.prototype,\"view\",void 0),t([o({readOnly:!0})],O.prototype,\"graphics\",void 0),t([o({constructOnly:!0,nonNullable:!0})],O.prototype,\"enableZ\",void 0),t([o({constructOnly:!0})],O.prototype,\"snappingManager\",void 0),t([o({readOnly:!0})],O.prototype,\"type\",void 0),O=t([s(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],O);class R{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new E({graphic:t})}get graphic(){return this.state.graphic}}export{X as GraphicMoveEvent,z as GraphicMoveStartEvent,Y as GraphicMoveStopEvent,O as GraphicMoveTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,destroyMaybe as i,isNone as a,unwrap as r}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{handlesGroup as o}from\"../../../../../core/handleUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import l from\"../../../../../core/Evented.js\";import{c as p}from\"../../../../../chunks/vec3f64.js\";import{e as h,s as u,b as c,a as d}from\"../../../../../chunks/vec3.js\";import m from\"../../../../../core/Handles.js\";import{init as g}from\"../../../../../core/watchUtils.js\";import{getGraphicEffectiveElevationInfo as _}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as v}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{sv3d as M}from\"../../../support/stack.js\";import f from\"../../../webgl-engine/lib/GeometryUtil.js\";import{EditGeometry as y}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as x}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as b}from\"../../../../interactive/snapping/SnappingContext.js\";import{addMapDelta as G,createManipulatorDragEventPipeline as S,dragAtLocation as E}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingPipeline as H}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as I}from\"../../SnappingVisualizer3D.js\";import{screenToMapXYForGraphicAtLocation as O}from\"../dragEventPipeline3D.js\";import{Manipulator3D as P}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as w,createManipulatorOutlineMaterial as V,placeAtGraphic as D}from\"../../manipulatorUtils.js\";import{canMoveZ as j}from\"../manipulatorUtils.js\";import{settings as k}from\"../settings.js\";import{OutlineVisualElement as A}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as U}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as L}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as C}from\"../manipulations/config.js\";import{shapeOrientation as T}from\"../manipulations/moveUtils.js\";import{MoveManipulation as z}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as F}from\"../manipulations/MoveXYGraphicManipulation.js\";let Z=class extends l.EventedAccessor{constructor(e){super(e),this._vertexManipulatorMaterial=w(k.colorToVec4(k.reshapeManipulators.vertex.color),k.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.vertex.outlineColor),k.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.vertex.hoverOutlineColor),k.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=w(k.colorToVec4(k.reshapeManipulators.edge.color),k.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.edge.outlineColor),k.reshapeManipulators.edge.renderOccluded),this._selectedManipulatorMaterial=w(k.colorToVec4(k.reshapeManipulators.selected.color),k.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.selected.outlineColor),k.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.selected.hoverOutlineColor),k.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._handles=new m,this._manipulatorHandles=new m,this._manipulatorInfos=[],this._reshapeHelper=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=0,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._snappingPipeline=new H,this._snappingPipelineHandle=new H,this._vertexLaserLineVisualElement=null}initialize(){const e=new U({graphic:this.graphic});this._graphicState=e,this._handles.add([e.watch(\"displaying\",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._clear(),this._handles.destroy()}get inputGeometry(){return t(this._reshapeHelper)?this._reshapeHelper.geometry:null}set inputGeometry(e){this._recreateManipulators(e)}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZ(){return this.tool.enableZ}get enableMoveGraphic(){return this.tool.enableMoveGraphic}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_clear(){this._moveManipulation=i(this._moveManipulation),this._graphicMoveManipulation=i(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[],this._reshapeHelper=i(this._reshapeHelper),this._numGrabbing=0,this._numDragging=0}_recreateManipulators(e=this.inputGeometry){if(this._clear(),a(e))return;i(this._reshapeHelper),this._reshapeHelper=new q(y.fromGeometry(e,this.view.viewingMode),e.type);const t=_(this.graphic);for(const i of this._reshapeHelper.editGeometry.components){for(const e of i.vertices)this._createPerVertexManipulator(e,t);for(const e of i.edges)this._createPerVertexManipulator(e,t)}this._createGraphicMoveManipulators(t)}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return;const i=[],a=this._manipulatorInfos.some((e=>\"vertex\"===e.handle.type&&e.manipulator.selected)),o=1===e&&a,n=r(this._reshapeHelper);for(const l of this._manipulatorInfos)\"vertex\"===l.handle.type&&(l.manipulator.grabbing||o&&!l.manipulator.selected||(r(n).moveVertices([l.handle],t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ),i.push(l.handle.pos),this._updateManipulatorPosition(l)));if(0===i.length)return;let s=0;for(const r of this._manipulatorInfos)\"vertex\"===r.handle.type&&s++;this.outputGeometry=n.geometry;if(i.length===s){if(this._updateEventState(1),this.destroyed)return;if(this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic}),this.destroyed)return}else{if(this._updateEventState(2),this.destroyed)return;if(this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic}),this.destroyed)return}}isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)N(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(2),this.destroyed)return;const t=e.mapDeltaX,i=e.mapDeltaY,a=e.mapDeltaZ;if(!t&&!i&&!a)return;const o=[];for(const r of this._manipulatorInfos)N(r)&&(r.manipulator.selected&&!r.manipulator.grabbing||r===e.info)&&o.push(r);const n=r(this._reshapeHelper);for(const r of o)n.moveVertices([r.handle],t,i,a);this.outputGeometry=n.geometry;for(const r of o)this._updateManipulatorPosition(r);this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){this._graphicMoveManipulation=new F({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic?this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((e,t,i)=>{t.next((e=>this._trackNumDragging(e))).next((e=>{this._perGraphicManipulatorDragAction(0,e)})),i.next(this._cancelDragOperation())}))):this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null})),this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\",{...e,graphic:this.graphic}),e.stopPropagation()}))]))),this._moveManipulation=new z({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&j(this.graphic),snapToScene:!1,radius:z.radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this._handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\",{...t,graphic:this.graphic}),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const i=r(this.graphic.geometry).spatialReference;this._handles.add([this._moveManipulation.createDragPipeline(((t,i,a,o,n)=>{const s=a.next((e=>this._trackNumDragging(e))).next((e=>{const t=this._manipulatorInfos.filter((e=>N(e)&&e.manipulator.selected));return 1===e.manipulatorType&&1===t.length?{...e,info:t[0],snapOrigin:t[0].handle.pos}:{...e,info:null}})).next(this._snappingPipelineHandle.createSnapDragEventPipelineStep({predicate:e=>!!e.info,cancel:o,snappingManager:this.tool.snappingManager,snappingContext:new b({geometry:r(this._reshapeHelper),elevationInfo:e,pointer:n,excludeFeature:this.graphic,visualizer:new I})}),this._snappingPipelineHandle.next).next(G()).next((e=>(this._perGraphicManipulatorDragAction(1,e),e)));return o.next(this._cancelDragOperation()),s}),e,i,this.graphic),g(this._graphicState,\"displaying\",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on(\"changed\",(()=>this._updateMoveManipulationPosition())),g(this._graphicState,\"isDraped\",(()=>{const e=\"align-move-manipulation\";this._graphicState.isDraped?this._handles.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this._handles.remove(e)}))]),this._updateMoveManipulationPosition();const a=L({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){t(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,1);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});this._outlineVisualElement=a.visualElement instanceof A?a.visualElement:null,t(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch(\"isDraped\",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(a)}_createPerVertexManipulator(e,t=_(this.graphic)){if(a(this._vertexManipulatorGeometry)||a(this._vertexManipulatorOutlineGeometry)){const e=k.reshapeManipulators.vertex,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._vertexManipulatorGeometry=f.createSphereGeometry(a,16,16);const r=(t+e.outlineSize)/i;this._vertexManipulatorOutlineGeometry=f.createSphereGeometry(r,16,16)}if(a(this._edgeManipulatorGeometry)||a(this._edgeManipulatorOutlineGeometry)){const e=k.reshapeManipulators.edge,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._edgeManipulatorGeometry=f.createSphereGeometry(a,16,16);const r=(t+e.outlineSize)/i;this._edgeManipulatorOutlineGeometry=f.createSphereGeometry(r,16,16)}const i=new P({view:this.view,renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:4|W.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:5|W.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|W.Vertex},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:6|W.Edge},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|W.Edge},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:5|W.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:5|W.Edge},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(i,e,t);const n=\"edge\"===e.type?{manipulator:i,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:i,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(n),this.manipulators.add(i),this._updateManipulatorPosition(n),\"edge\"===n.type){const e=this._getManipulatorInfoFromHandle(n.handle.left).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(n))),t=this._getManipulatorInfoFromHandle(n.handle.right).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(n)));n.locationUpdateHandle=o([e,t]),this._manipulatorHandles.add(n.locationUpdateHandle,i)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(i,!0),i);const s=S(i,((e,i,a,o)=>{i.next((e=>this._trackNumDragging(e))).next((e=>{if(X(n)){const t=this._splitEdgeManipulator(n);return{...e,info:t,snapOrigin:t.handle.pos}}return{...e,info:n,snapOrigin:n.handle.pos}})).next(E(this.view,e.elevationAlignedLocation)).next(O(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference,this.graphic)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>!this.isMultiVertexSelection(),cancel:a,snappingManager:this.tool.snappingManager,snappingContext:new b({geometry:r(this._reshapeHelper),elevationInfo:t,pointer:o,excludeFeature:this.graphic,visualizer:new I})}),this._snappingPipeline.next).next(G()).next((e=>{this._perVertexManipulatorDragAction(e)})),a.next(this._cancelDragOperation())}));return this._manipulatorHandles.add(s,i),this._manipulatorHandles.add([i.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,n))),i.events.on(\"select-changed\",(()=>{n.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))]),this.emit(\"manipulators-changed\"),i}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_cancelDragOperation(){const e=t(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return()=>{switch(this._numDragging--,this.inputGeometry=e,this.outputGeometry=e,t(this.tool.snappingManager)&&this.tool.snappingManager.doneSnapping(),this._reshapeEventState){case 0:break;case 1:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}this.destroyed||this._updateEventState(0)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=W.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=k.reshapeManipulators.vertex.size/2+k.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i;break;case\"edge\":e.state=W.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=k.reshapeManipulators.edge.size/2+k.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"===i.mode?i:{mode:\"absolute-height\",offset:0}}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{if(\"start\"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const i=r(this._reshapeHelper);if(\"vertex\"===e.handle.type)e.manipulator.location=i.editGeometry.coordinateHelper.toPoint(e.handle.pos,Y),e.manipulator.grabbing&&t(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.handle.type){const a=this._getManipulatorInfoFromHandle(e.handle.left).manipulator,r=this._getManipulatorInfoFromHandle(e.handle.right).manipulator;if(t(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const t=a.location,o=r.location,n=.5,s=t.x+n*(o.x-t.x),l=t.y+n*(o.y-t.y),p=t.hasZ&&o.hasZ?0:void 0;e.manipulator.location=v(s,l,p,i.geometry.spatialReference)}else h(K,a.renderLocation,r.renderLocation,.5),e.manipulator.renderLocation=K}}_splitEdgeManipulator(e){const t=r(this._reshapeHelper),i=r(t.splitEdge(e.handle,.5).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const a=e;a.handle=i,a.type=\"vertex\";const o=_(this.graphic);this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,o),i.left&&this._createPerVertexManipulator(i.left),i.right&&this._createPerVertexManipulator(i.right),this.outputGeometry=t.geometry,this._updateManipulatorPosition(a),this._updateSelection(e.manipulator);const n=this._updateEventState(2),s=t.editGeometry.coordinateHelper.toArray(a.handle.pos),l=t.editGeometry.components.indexOf(i.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:r(i.index)}],added:s}),n&&this._updateEventState(0),a}_updateMoveManipulationPosition(){const e=M.get();u(e,0,0,0);let i=0,o=!1,n=null,s=null;for(const t of this._manipulatorInfos)N(t)&&(t.manipulator.selected?(i++,c(e,e,t.manipulator.renderLocation),a(n)||t.selectedIndex>n.selectedIndex?(s=n,n=t):(a(s)||t.selectedIndex>s.selectedIndex)&&(s=t)):o=!0);if(0!==i){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&j(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==i}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&j(this.graphic)}if(0!==i){let e=0;if(t(n)){const i=n.handle.pos,a=t(s)?s.handle.pos:n.handle.left&&n.handle.left.left?n.handle.left.left.pos:null,r=!t(s)&&n.handle.right&&n.handle.right.right?n.handle.right.right.pos:null;a&&r?this._moveManipulation.xyAxisManipulation.available=!1:a?e=R(a,i):r&&(e=R(i,r))}this._moveManipulation.angle=e,this._moveManipulation.radius=C}else this._moveManipulation.angleDeferred=()=>T(r(this.graphic.geometry)),this._moveManipulation.radius=z.radiusForSymbol(this.graphic.symbol);0!==i&&o?(d(e,e,1/i),Y.spatialReference=r(this._reshapeHelper).geometry.spatialReference,Y.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,Y),this._moveManipulation.elevationAlignedLocation=Y):t(this._outlineVisualElement)&&!this._graphicState.isDraped&&t(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:D(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=r(this._reshapeHelper);for(const a of e)if(\"vertex\"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.left)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.right));const e=r(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createPerVertexManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.editGeometry.components.indexOf(e.component);return{coordinates:i.editGeometry.coordinateHelper.toArray(e.pos),componentIndex:t,vertexIndex:r(e.index)}}));this.outputGeometry=i.geometry;const a=this._updateEventState(2);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),\"vertex\"===t.handle.type&&2===e.button&&this._removeVertices([t]),X(t)&&0===e.button&&this._splitEdgeManipulator(t),e.stopPropagation()}};function R(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function N(e){return\"vertex\"===e.handle.type}function X(e){return\"edge\"===e.handle.type}e([n({constructOnly:!0})],Z.prototype,\"tool\",void 0),e([n()],Z.prototype,\"inputGeometry\",null),e([n()],Z.prototype,\"outputGeometry\",void 0),Z=e([s(\"esri.views.3d.interactive.editingTools.reshapeGraphic.ReshapeOperation\")],Z);const Y=v(0,0,null,null),K=p();var W;!function(e){e.Vertex=16,e.Edge=32}(W||(W={}));class q extends x{constructor(e,t){super(e,t),this.type=t,this._geometry=null}get geometry(){if(this._dirty){switch(this.type){case\"polyline\":this._geometry=this.editGeometry.toPolyline();break;case\"polygon\":this._geometry=this.editGeometry.toPolygon()}this._dirty=!1}return this._geometry}}export{q as ReshapeGeometryHelper,Z as ReshapeOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{destroyMaybe as t,isSome as r,isNone as o}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import a from\"../../../../../core/Evented.js\";import p from\"../../../../../core/Handles.js\";import{init as n}from\"../../../../../core/watchUtils.js\";import{InteractiveToolBase as h}from\"../../../../interactive/InteractiveToolBase.js\";import{isSupportedGraphic as c}from\"./isSupportedGraphic.js\";import{ReshapeOperation as l}from\"./ReshapeOperation.js\";let m=class extends(a.EventedMixin(h)){constructor(e){super(e),this._handles=new p,this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZ=!0,this.enableMoveGraphic=!0,this.type=\"reshape-3d\",this.snappingManager=null}destroy(){this._handles.removeAll(),this._reshapeOperation=t(this._reshapeOperation),this._set(\"view\",null),this._set(\"graphic\",null)}get selectionManagementDisabled(){return!0}_updateGeometry(){const e=this.graphic.geometry;0!==c(this.graphic)||!r(e)||\"polygon\"!==e.type&&\"polyline\"!==e.type?this._reshapeOperation.inputGeometry=null:this._reshapeOperation.inputGeometry=e.clone()}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),0!==c(this.graphic))return;const e=this.watch(\"graphic.geometry\",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,\"onGraphicGeometryChange\")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_onReshapeGeometryChanged(){o(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)}initialize(){this._reshapeOperation=new l({tool:this}),this._handles.add([this._reshapeOperation.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),this._reshapeOperation.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),this._reshapeOperation.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),this._reshapeOperation.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),this._reshapeOperation.on(\"immediate-click\",(e=>this.emit(\"immediate-click\",e))),n(this,\"graphic\",(()=>{this._updateGraphic()}),!0)])}beforeUndo(){r(this.snappingManager)&&this.snappingManager.doneSnapping()}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}get test(){return{snappingManager:this.snappingManager}}};e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"view\",void 0),e([i({constructOnly:!0})],m.prototype,\"graphic\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableZ\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableMoveGraphic\",void 0),e([i({readOnly:!0})],m.prototype,\"type\",void 0),e([i({constructOnly:!0})],m.prototype,\"snappingManager\",void 0),m=e([s(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],m);export{m as GraphicReshapeTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../../core/maybe.js\";import{addFrameTask as a}from\"../../../../../core/scheduling.js\";import i from\"../../../../../core/Evented.js\";import{clamp as o,rad2deg as s}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray as r,createScreenPointArray as n}from\"../../../../../core/screenUtils.js\";import{b as l,f as c,c as h}from\"../../../../../chunks/vec3f64.js\";import{a as g}from\"../../../../../chunks/common.js\";import{s as d,f as u,l as m,h as p,c as f,b as D}from\"../../../../../chunks/vec3.js\";import{cyclicalPI as M}from\"../../../support/mathUtils.js\";import S from\"../../../../../core/Handles.js\";import{init as y}from\"../../../../../core/watchUtils.js\";import{i as b,r as R,p as v,m as k,s as w}from\"../../../../../chunks/mat4.js\";import{a as _}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as j}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as A,sm4d as F}from\"../../../support/stack.js\";import{plane as I,ray as E}from\"../../../support/geometryUtils.js\";import P from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as L}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as T,resetSymbol as U}from\"../../../../interactive/dragEventPipeline.js\";import{screenToRenderPlane as x}from\"../dragEventPipeline3D.js\";import{Manipulator3D as O}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as z,placeAtGraphic as C}from\"../../manipulatorUtils.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as N,SCALE_INDICATOR_DIRECTION_BUFFER as Z,RING_HEIGHT as G,ROTATE_INDICATOR_ARROW_TIP_LENGTH as H,ROTATE_INDICATOR_ARROW_TIP_RADIUS as V,RING_THICKNESS as q,DRAG_THRESHOLD_PX as B,RING_RESET_ANIMATION_SPEED_FACTOR as J,RING_INDICATOR_DELAY_MS as K,INDICATOR_THICKNESS as Q,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as W,HANDLE_COLOR as X,RING_RADIUS as Y,ROTATE_INDICATOR_ARC_LENGTH as $,INNER_INDICATOR_RADIUS as tt,OUTER_INDICATOR_RADIUS as et,SCALE_INDICATOR_OFFSET1 as at,SCALE_INDICATOR_OFFSET2 as it,GEOMETRY_SEGMENTS as ot,SCALE_INDICATOR_ARC_LENGTH as st}from\"../manipulations/config.js\";var rt;!function(t){t.ScaleIn=32,t.ScaleOut=64,t.RotateLeft=128,t.RotateRight=256,t.Unlocked=1024,t.DelayedFocused=2048,t.TouchInput=32768}(rt||(rt={}));class nt{constructor(e){this.mode=null,this._handles=new S,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new i,this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>t(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this._scaleRotateDragData.scale:1,this.tool=e.tool,this.mode=e.mode,this.createManipulator(),this.updateDragState(),this.updateManipulatorTransform()}destroy(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles.removeAll(),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=a({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)}forEachManipulator(t){t(this.ringManipulator,4)}createManipulator(){this.ringManipulator=this.createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const a=this.ringManipulator,i=this.tool.graphicState.graphic,r=T(a,((a,r,n)=>{this._scaleRotateDragData=null;const c=ct(this.tool.view,i);if(e(c))return this.updateDragState(),null;const h={mode:\"none\",origin:l(a.renderLocation),angle:0,startAngle:this.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,startSymbolData:c};this._scaleRotateDragData=h,this.updateDragState();const g=A.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(a.renderLocation,g),r.next(x(this.tool.view,I.fromPositionAndNormal(a.renderLocation,g))).next((e=>{const a=I.normal(e.plane),r=z(e.renderStart,e.renderEnd,h.origin,a),n=M.shortestSignedDiff(h.angle,r);h.angleDir=o(h.angleDir+n,-N,N),h.angle=r;const l=lt(h,e),c=l-h.scale;if(h.scaleDir=o(h.scaleDir+c,-Z,Z),h.scale=l,this.onScaleChanged(),\"none\"===h.mode){const a=this.mode||ht(e,e.plane,h.origin,this.tool.view.state.camera);if(t(a)){switch(a){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:i,angle:s(h.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:i,xScale:h.scale,yScale:h.scale})}h.mode=a}}if(this.updateDragState(),t(i.symbol)){const t=i.symbol.clone();let e=0,a=1;switch(h.mode){default:case\"none\":break;case\"scale\":a=h.scale;break;case\"rotate\":e=h.angle}this.applySymbolData(t,h.startSymbolData,e,a),i.symbol=t,this.updateManipulatorTransform()}switch(e.action){case\"start\":case\"update\":switch(h.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:i,angle:s(h.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:i,xScale:h.scale,yScale:h.scale})}break;case\"end\":switch(h.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:s(h.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,xScale:h.scale,yScale:h.scale});break;default:case\"none\":}}\"end\"===e.action&&(this.startAnimation(dt(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState())})),n.next(U(i)).next((()=>{if(t(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:s(this._scaleRotateDragData.startAngle)});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,xScale:1,yScale:1})}this.startAnimation(dt(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null}}))}));this._handles.add(r),this._handles.add([this.ringManipulator.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(ut(this,(()=>this.updateDelayedFocusedState()))):this.updateDelayedFocusedState()})),this.ringManipulator.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),y(this.tool.graphicState,\"displaying\",(t=>this.ringManipulator.available=t)),this.tool.graphicState.on(\"changed\",(()=>C(this.tool.view,this.ringManipulator,i)))]),C(this.tool.view,this.ringManipulator,i)}onScaleChanged(){this.events.emit(\"scale-changed\"),this.updateManipulatorTransform()}updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(rt.DelayedFocused,this.getFocused())}updateDragState(){if(this.ringManipulator.updateStateEnabled(rt.Unlocked,!(t(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),t(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut,!1),this.ringManipulator.updateStateEnabled(rt.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(rt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this.ringManipulator.updateStateEnabled(rt.RotateLeft|rt.RotateRight,!1),this.ringManipulator.updateStateEnabled(rt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(rt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut|rt.RotateLeft|rt.RotateRight,!1)}updateManipulatorTransform(){const t=b(F.get()),e=this.tool.symbolRotationAngle;R(t,t,e,c(0,0,1));const a=this.getScale(),i=v(F.get(),d(A.get(),a,a,a)),o=b(F.get());k(o,i,t),this.ringManipulator.modelTransform=o}createRingManipulator(){const t=(t,e,a)=>{const i=[],o=Math.ceil(ot*(e-t)/(2*Math.PI));for(let s=0;s<o+1;s++){const r=t+s*(e-t)/o;i.push(c(a*Math.cos(r),a*Math.sin(r),0))}return i},e=e=>t(0,2*Math.PI,e),a=t=>[[-t/2,0],[t/2,0],[t/2,G/2],[-t/2,G/2]],i=(t,e)=>P.createPathExtrusionGeometry(a(e),t,[],[],!1),o=e(Y),s=i(o,q),r={left:[],right:[]},n=[];for(let c=0;c<2;c++){const e=c*Math.PI-Math.PI/4,a=Math.PI/2-$,o=e+a,s=e+Math.PI/2-a,l=t(o,s,tt),h=i(l,Q);n.push(l),n.push(t(o,s,et-q/2)),r.left.push(h),r.right.push(h);for(let t=0;t<2;t++){const e=0===t,a=_();if(e){w(a,a,[1,-1,1]),R(a,a,-o,[0,0,1]);const t=Math.round(W*(l.length-1));a[12]=l[t][0],a[13]=l[t][1],a[14]=l[t][2]}else{R(a,a,s,[0,0,1]);const t=Math.round((1-W)*(l.length-1));a[12]=l[t][0],a[13]=l[t][1],a[14]=l[t][2]}const i=P.createExtrudedTriangle(H,0,V,G);P.transformInPlace(i,a),(e?r.left:r.right).push(i)}}const l=[];for(let c=0;c<2;c++){const e=c*Math.PI-Math.PI/4,a=Math.PI/2-st,o=e+a,s=e+Math.PI/2-a,r=t(o,s,et);l.push(i(r,Q))}const h=e(Y+at),g=e(Y+it),d=i(h,Q),u=i(g,Q),m=e(Y-at),p=e(Y-it),f=i(m,Q),D=i(p,Q),M=this.createMaterial(),S=this.createMaterial(.66),y=this.createMaterial(.5),b=this.createMaterial(.33);let v=[{geometry:s,material:M,stateMask:rt.DelayedFocused},{geometry:s,material:y,stateMask:0}];this.mode&&\"scale\"!==this.mode||(v=v.concat([{geometry:l,material:M,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:d,material:S,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:u,material:b,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:f,material:S,stateMask:rt.DelayedFocused|rt.ScaleOut},{geometry:D,material:b,stateMask:rt.DelayedFocused|rt.ScaleOut}])),this.mode&&\"rotate\"!==this.mode||(v=v.concat([{geometry:r.right,material:M,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:r.left,material:M,stateMask:rt.DelayedFocused|rt.RotateLeft},{geometry:r.right,material:M,stateMask:rt.DelayedFocused|rt.RotateRight}]));const k=[o,...n];return new O({view:this.tool.view,renderObjects:v,autoScaleRenderObjects:!1,worldOriented:!0,radius:q,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:j(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:k,direction:c(0,0,1)}})}createMaterial(t=1){const e=[...X,t];return new L({color:e,transparent:1!==t,cullFace:2,renderOccluded:2})}applySymbolData(e,a,i,o){e.symbolLayers.forEach(((e,s)=>{const{heading:r,size:n}=a.symbolLayers[s];\"object\"===e.type&&(e.heading=(t(r)?r:0)-g(i),t(n)&&\"width\"in n&&(n.width=this.enforceNonZeroSize(n.width),n.height=this.enforceNonZeroSize(n.height),n.depth=this.enforceNonZeroSize(n.depth),e.width=n.width*o,e.depth=n.depth*o,e.height=n.height*o))}))}enforceNonZeroSize(t){return t||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)}get test(){return{ringManipulator:this.ringManipulator}}}function lt(t,e){const a=u(A.get(),e.renderStart,t.origin),i=u(A.get(),e.renderEnd,t.origin),o=m(a),s=m(i);return 0===o?0:s/o}function ct(t,a){const i=t.allLayerViews.find((t=>t.layer===a.layer));if(e(a.symbol))return null;const o=a.symbol;return{symbolLayers:o.symbolLayers.map((t=>{let e=null,a=null;return\"object\"===t.type&&(e=t.heading),a=i.getSymbolLayerSize(o,t),{heading:e,size:a}})).toArray()}}function ht(t,e,a,i){const{renderStart:o,renderEnd:s}=t,r=gt(o,i,A.get()),n=gt(s,i,A.get());if(p(r,n)<B*B)return null;const l=u(A.get(),o,a),c=f(A.get(),l,e),h=o,g=D(A.get(),h,c),d=gt(a,i,A.get()),m=r,M=gt(g,i,A.get()),S=u(A.get(),M,m),y=u(A.get(),r,d),b=E.wrap(m,S),R=E.wrap(d,y);return E.distance2(b,n)<E.distance2(R,n)?\"rotate\":\"scale\"}function gt(t,e,a){const i=e.projectToRenderScreen(t,r(mt)),o=e.renderToScreen(i,pt);return d(a,o[0],o[1],0)}function dt(t,e){let a=null,i=1;const o=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=o,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*J,1),e(),Math.abs(i-1)<.01?1:0),destroy:()=>{t.getScale=a,e()}}}function ut(t,e){let a=0,i=null;const o=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=o,a=0,e()},update:t=>(a+=t,!i()||a>K?1:0),destroy:()=>{t.getFocused=i,e()}}}const mt=h(),pt=n();export{nt as GraphicScaleRotateTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as i,destroyMaybe as e,isNone as a}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as o}from\"../../../../../core/handleUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import r from\"../../../../../core/Evented.js\";import{t as l}from\"../../../../../chunks/common.js\";import p from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{EditGeometry as c}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as m}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as u}from\"../../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as g}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as d}from\"../../SnappingVisualizer3D.js\";import{InteractiveToolBase as v}from\"../../../../interactive/InteractiveToolBase.js\";import{placeAtGraphic as y}from\"../../manipulatorUtils.js\";import{canMoveZ as M}from\"../manipulatorUtils.js\";import{GraphicState as f}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as S}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as b}from\"../manipulations/config.js\";import{MoveManipulation as j}from\"../manipulations/MoveManipulation.js\";import{GraphicScaleRotateTransform as w}from\"./GraphicScaleRotateTransform.js\";let R=class extends(r.EventedMixin(v)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type=\"transform-3d\",this.handles=new p,this.scaleRotate=null,this.snappingPipeline=new g}initialize(){this.graphicState=new f({graphic:this.graphic}),this.moveManipulation=new j({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&M(this.graphic),radius:j.radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>t.stopPropagation()))))),this.moveManipulation.elevationInfo=h(this.graphic);const t=this.graphic.geometry;if(this.moveManipulation.createGraphicDragPipeline(((e,a,o,n,s)=>(i(t)&&\"point\"===t.type&&0===e&&(o=o.next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:new u({elevationInfo:h(this.graphic),pointer:s,geometry:new m(c.fromGeometry(t,this.view.viewingMode),\"point\"),visualizer:new d,excludeFeature:this.graphic}),snappingManager:this.snappingManager,cancel:n}),this.snappingPipeline.next)),o)),this.graphicState,(t=>{const{action:i,graphic:e,dxScreen:a,dyScreen:o}=t,n={graphic:e,dxScreen:a,dyScreen:o};switch(i){case\"start\":this.emit(\"graphic-translate-start\",n);break;case\"update\":this.emit(\"graphic-translate\",n);break;case\"end\":this.emit(\"graphic-translate-stop\",n)}})),this.moveManipulation.angle=this.symbolRotationAngle,this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this.scaleRotate=new w({tool:this,mode:t}),this.handles.add(this.scaleRotate.events.on(\"scale-changed\",(()=>this.onScaleChanged())))}this.handles.add([S({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>o()}),this.graphic.watch(\"symbol\",(()=>this.updateMoveAngle())),this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this.updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this.onGeometryChanged()}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),i(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this.forEachManipulator((i=>i.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&M(this.graphic)}))}destroy(){this.handles.destroy(),this.moveManipulation.destroy(),this.scaleRotate=e(this.scaleRotate),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get symbolRotationAngle(){const t=this.graphic.symbol;if(t){const i=t.symbolLayers.find((t=>\"object\"===t.type)),e=i&&i.heading||0;return l(-e)}return 0}reset(){}onDetach(){i(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onHide(){i(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onScaleChanged(){if(a(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}updateMoveAngle(){\"local\"===this.view.viewingMode||this.view.scale<b?this.moveManipulation.angle=this.symbolRotationAngle:this.moveManipulation.angle=0}onGeometryChanged(){y(this.view,this.moveManipulation,this.graphic)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,ringManipulator:i(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([n({constructOnly:!0,nonNullable:!0})],R.prototype,\"view\",void 0),t([n({constructOnly:!0,nonNullable:!0})],R.prototype,\"graphic\",void 0),t([n({constructOnly:!0,nonNullable:!0})],R.prototype,\"enableZ\",void 0),t([n()],R.prototype,\"enableRotation\",void 0),t([n()],R.prototype,\"enableScaling\",void 0),t([n({value:!1})],R.prototype,\"snapToScene\",null),t([n({constructOnly:!0})],R.prototype,\"snappingManager\",void 0),t([n({readOnly:!0})],R.prototype,\"type\",void 0),R=t([s(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],R);export{R as GraphicTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t,unwrap as i}from\"../../../../core/maybe.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as l}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as p}from\"../lib/DefaultVertexAttributeLocations.js\";import n from\"../../../webgl/Program.js\";import{separateBlendingParams as a,makePipelineState as u,defaultColorWriteParams as d,defaultDepthWriteParams as h}from\"../../../webgl/renderState.js\";import{View as c}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as m}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as f}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{depthCompareLess as g,stencilWriteMaskOn as b,stencilToolMaskBaseParams as x,stencilBaseAllZerosParams as P}from\"../lib/StencilUtils.js\";import{N as E}from\"../../../../chunks/NativeLine.glsl.js\";class T extends s{constructor(e,t){super(e,t),this.stipplePattern=null,this.stippleTextureBind=null,this.stippleTextureRepository=e.stippleTextureRepository}initializeProgram(e){const t=T.shader.get(),i=this.configuration,r=t.build({output:i.output,attributeColor:i.vertexColors,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,stippleEnabled:i.stippleEnabled,stippleOffColorEnabled:i.stippleOffColorEnabled,stippleUVMaxEnabled:!1,stippleIntegerRepeatsEnabled:i.stippleIntegerRepeatsEnabled});return new n(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),p)}dispose(){super.dispose(),this.stippleTextureRepository.release(this.stipplePattern),this.stipplePattern=null,this.stippleTextureBind=null}bindPass(e,r,s){if(c.bindProjectionMatrix(this.program,s.camera.projectionMatrix),this.stipplePattern!==r.stipplePattern){const e=r.stipplePattern;this.stippleTextureBind=this.stippleTextureRepository.swap(this.stipplePattern,e),this.stipplePattern=e}if(this.configuration.stippleEnabled){const i=t(this.stippleTextureBind)?this.stippleTextureBind(e,0)*s.camera.pixelRatio:1;this.program.setUniform1i(\"stipplePatternTexture\",0),this.program.setUniform1f(\"stipplePatternPixelSizeInv\",1/i),this.program.setUniform2f(\"ndcToPixel\",s.camera.fullViewport[2]/2,s.camera.fullViewport[3]/2)}if(this.program.setUniform4fv(\"constantColor\",r.color),this.program.setUniform1f(\"alphaCoverage\",Math.min(1,r.width*s.camera.pixelRatio)),this.configuration.stippleOffColorEnabled){const e=i(r.stippleOffColor);this.program.setUniform4f(\"stippleOffColor\",e[0],e[1],e[2],e.length>3?e[3]:1)}4===this.configuration.output&&f.bindOutputHighlight(e,this.program,s)}bindDraw(e){c.bindView(this.program,e),m.bindUniformsWithOrigin(this.program,this.configuration,e)}initializePipeline(){const e=this.configuration,t=a(770,1,771,771),i=(t,i=null,r=null)=>u({blending:i,depthTest:g,depthWrite:r,colorWrite:d,stencilWrite:e.sceneHasOcludees?b:null,stencilTest:e.sceneHasOcludees?t?x:P:null});return 0===e.output?(this._occludeePipelineState=i(!0,e.transparent||e.stippleEnabled?t:null,h),i(!1,e.transparent||e.stippleEnabled?t:null,h)):i(!1)}get primitiveType(){return 1}getPipelineState(e){return e?this._occludeePipelineState:this.pipeline}}T.shader=new r(E,(()=>import(\"./NativeLine.glsl.js\")));class v extends o{constructor(){super(...arguments),this.output=0,this.slicePlaneEnabled=!1,this.vertexColors=!1,this.transparent=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stippleIntegerRepeatsEnabled=!1,this.sceneHasOcludees=!1}}e([l({count:8})],v.prototype,\"output\",void 0),e([l()],v.prototype,\"slicePlaneEnabled\",void 0),e([l()],v.prototype,\"vertexColors\",void 0),e([l()],v.prototype,\"transparent\",void 0),e([l()],v.prototype,\"stippleEnabled\",void 0),e([l()],v.prototype,\"stippleOffColorEnabled\",void 0),e([l()],v.prototype,\"stippleIntegerRepeatsEnabled\",void 0),e([l()],v.prototype,\"sceneHasOcludees\",void 0);export{T as NativeLineTechnique,v as NativeLineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import s from\"../../../../core/Logger.js\";import{createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as n,f as o,d as a,a as c,b as u,g as l,l as p,k as m}from\"../../../../chunks/vec3.js\";import{c as f}from\"../../../../chunks/vec2.js\";import{BufferViewVec3f as h}from\"../../support/buffer/BufferView.js\";import{plane as d,lineSegment as g}from\"../../support/geometryUtils.js\";import{isTranslationMatrix as P}from\"../lib/Util.js\";import{computeAttachmentOriginLines as b}from\"../lib/geometryDataUtils.js\";import{isInstanceHidden as j}from\"./renderers/utils.js\";import q from\"../lib/GLMaterial.js\";import{intersectDrapedRenderLineGeometry as v}from\"./internal/MaterialUtil.js\";import{Material as C,materialParametersDefaults as x}from\"../lib/Material.js\";import{writeDefaultAttributes as y}from\"./internal/bufferWriterUtils.js\";import{PositionColorLayout as L,PositionLayout as O,DefaultBufferWriter as w}from\"./internal/DefaultBufferWriter.js\";import{NativeLineTechniqueConfiguration as D,NativeLineTechnique as S}from\"../shaders/NativeLineTechnique.js\";const A=s.getLogger(\"esri.views.3d.webgl-engine.materials.NativeLineMaterial\");class B extends C{constructor(e){super(e,T),this.techniqueConfig=new D}getTechniqueConfig(t){this.techniqueConfig.output=t,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.vertexColors=this.params.vertexColors,this.techniqueConfig.transparent=this.params.color[3]<1||this.params.width<1;const s=e(this.params.stipplePattern);return this.techniqueConfig.stippleEnabled=s,this.techniqueConfig.stippleOffColorEnabled=s&&e(this.params.stippleOffColor),this.techniqueConfig.stippleIntegerRepeatsEnabled=s&&this.params.stippleIntegerRepeats,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,t,s,r,i,n,o,a,c){c?v(e,r,n,1,o):this.intersectLineGeometry(e,t,s,r,o)}intersectLineGeometry(e,t,s,r,i){if(!r.options.selectionMode||j(t))return;if(!P(s))return void A.error(\"intersection assumes a translation-only matrix\");const h=e.vertexAttributes.get(\"position\").data,b=r.camera,q=F;f(q,r.point);const v=2;n(X[0],q[0]-v,q[1]+v,0),n(X[1],q[0]+v,q[1]+v,0),n(X[2],q[0]+v,q[1]-v,0),n(X[3],q[0]-v,q[1]-v,0);for(let n=0;n<4;n++)if(!b.unprojectFromRenderScreen(X[n],z[n]))return;d.fromPoints(b.eye,z[0],z[1],J),d.fromPoints(b.eye,z[1],z[2],K),d.fromPoints(b.eye,z[2],z[3],Q),d.fromPoints(b.eye,z[3],z[0],Y);let C=Number.MAX_VALUE;for(let n=0;n<h.length-5;n+=3){if(M[0]=h[n]+s[12],M[1]=h[n+1]+s[13],M[2]=h[n+2]+s[14],U[0]=h[n+3]+s[12],U[1]=h[n+4]+s[13],U[2]=h[n+5]+s[14],d.signedDistance(J,M)<0&&d.signedDistance(J,U)<0||d.signedDistance(K,M)<0&&d.signedDistance(K,U)<0||d.signedDistance(Q,M)<0&&d.signedDistance(Q,U)<0||d.signedDistance(Y,M)<0&&d.signedDistance(Y,U)<0)continue;if(b.projectToRenderScreen(M,G),b.projectToRenderScreen(U,N),G[2]<0&&N[2]>0){o(H,M,U);const e=b.frustum,t=-d.signedDistance(e[4],M)/a(H,d.normal(e[4]));c(H,H,t),u(M,M,H),b.projectToRenderScreen(M,G)}else if(G[2]>0&&N[2]<0){o(H,U,M);const e=b.frustum,t=-d.signedDistance(e[4],U)/a(H,d.normal(e[4]));c(H,H,t),u(U,U,H),b.projectToRenderScreen(U,N)}else if(G[2]<0&&N[2]<0)continue;G[2]=0,N[2]=0;const e=g.distance2(g.fromPoints(G,N,I),q);e<C&&(C=e,l(V,M),l(_,U))}const x=r.rayBeginPoint,y=r.rayEndPoint;if(C<v*v){let e=Number.MAX_VALUE;if(g.closestLineSegmentPoint(g.fromPoints(V,_,I),g.fromPoints(x,y,W),k)){o(k,k,x);const t=p(k);c(k,k,1/t),e=t/m(x,y)}i(e,k)}}computeAttachmentOrigin(e,t){const s=e.vertexAttributes;if(!s)return!1;const r=s.get(\"position\");return b(r,null,!1,t)}createBufferWriter(){const e=this.params.vertexColors?L:O;return t(this.params.stipplePattern)?new w(e):new R(e.clone().vec3f(\"auxpos1\"))}getGLMaterial(e){return 0===e.output||4===e.output?new E(e):void 0}}class E extends q{constructor(e){super(e),this.updateParameters()}updateParameters(){this.technique=this.techniqueRep.acquireAndReleaseExisting(S,this.material.getTechniqueConfig(this.output),this.technique)}beginSlot(e){return 3===e}_updateOccludeeState(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&(this.material.setParameterValues({sceneHasOcludees:e.hasOccludees}),this.updateParameters())}ensureParameters(e){0===this.output&&this._updateOccludeeState(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}getPipelineState(e,t){return this.technique.getPipelineState(t)}}class R{constructor(e){this.vertexBufferLayout=e}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,s,r){y(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,s,r),this.writeAuxpos1(e,t,s,r)}writeAuxpos1(e,t,s,r){const i=s.getField(\"auxpos1\",h),n=t.indices.get(\"position\"),o=t.vertexAttributes.get(\"position\").data,a=e.transformation,c=i.typedBufferStride,u=i.typedBuffer;r*=c;for(let l=0;l<n.length;l+=2){const e=3*n[l],t=o[e],s=o[e+1],i=o[e+2],p=a[0]*t+a[4]*s+a[8]*i+a[12],m=a[1]*t+a[5]*s+a[9]*i+a[13],f=a[2]*t+a[6]*s+a[10]*i+a[14];for(let n=0;n<2;++n)u[r]=p,u[r+1]=m,u[r+2]=f,r+=c}}}const T={color:[1,1,1,1],vertexColors:!1,slicePlaneEnabled:!1,width:1,stipplePattern:null,stippleIntegerRepeats:!1,stippleOffColor:null,sceneHasOcludees:!1,...x},M=i(),U=i(),H=i(),k=i(),G=r(),N=r(),V=i(),_=i(),I=g.create(),W=g.create(),F=i(),X=[r(),r(),r(),r()],z=[i(),i(),i(),i()],J=d.create(),K=d.create(),Q=d.create(),Y=d.create();export{B as NativeLineMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{Z as r,c as s}from\"../../../../chunks/vec3f64.js\";import{s as i}from\"../../../../chunks/vec3.js\";import{i as o,t as n}from\"../../../../chunks/mat4.js\";import{a as l}from\"../../../../chunks/mat4f64.js\";import{g as a,c as h}from\"../../../../chunks/vec4.js\";import{f as p,c as d,a as f}from\"../../../../chunks/vec4f32.js\";import{RibbonLineMaterial as _}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createGeometry as c}from\"../../layers/graphics/lineUtils.js\";import{Object3DVisualElement as m}from\"./Object3DVisualElement.js\";class u extends m{constructor(e){super(e),this._renderOccluded=4,this._width=1,this._color=p(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stippleIntegerRepeats=!1,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromExtent(e){const t=this.view.spatialReference,r=s(),o=s(),n=100,l=[];i(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[2],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[2],e[3],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[0],e[3],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),this.geometry=[l]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;o(g),n(g,g,t),this.transform=g;const{points:r}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[r]}setGeometryFromSegments(e,t=r){o(g),n(g,g,t),this.transform=g,this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){a(e,this._color)||(h(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(r){e(r)?!t(this._innerColor)&&a(r,this._innerColor)||(this._innerColor=h(d(),r),this._updateMaterial()):e(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(t(r)||t(this._stippleOffColor)||!a(r,this._stippleOffColor))&&(this._stippleOffColor=e(r)?f(r):null,this._updateMaterial())}get stippleIntegerRepeats(){return this._stippleIntegerRepeats}set stippleIntegerRepeats(e){this._stippleIntegerRepeats!==e&&(this._stippleIntegerRepeats=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new _(this.materialParameters)}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const s=c(t[r]);e.addGeometry(s,this._material)}}forEachExternalMaterial(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,stippleIntegerRepeats:this._stippleIntegerRepeats,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameterValues(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(t(e)||0===e.length)return[];const r=[];return e.forEach((e=>{const t=e.length,s=new Float64Array(3*t);e.forEach(((e,t)=>{s[3*t+0]=e[0],s[3*t+1]=e[1],s[3*t+2]=e[2]}));const i={attributeData:{position:s},removeDuplicateStartEnd:0};r.push(i)})),r}}const g=l();export{u as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport o from\"../../../../../core/has.js\";import{deg2rad as t}from\"../../../../../core/mathUtils.js\";const r=o(\"mac\")?\"Meta\":\"Control\",s=\"Shift\",a=2,c=1.15,m=1.15,h=1.1,e=2500,i=.02,f=Math.cos(t(45)),p=Math.cos(t(5)),M=.95,j=.3,l=.7,n=[1,.5,0],x=2,C=1,S=[...n,l],U=[0,0,0,.04],b=[...n,.5],d=[...n,1],g=[1,1,1,1],k=[1,.8,.6,1],q=[1,.93,.86,1],u=[...n,1],v=[...n,1],w=3,y=11,z=22.5,A=40,B=48,D=2.25,E=4,F=1,G=.3,H=6,I=4,J=12,K=40,L=27,N=1600,O=.4;export{a as DISPLAY_FOCUS_MULTIPLIER,b as GRID_COLOR,n as HANDLE_COLOR,l as HANDLE_OPACITY,i as INITIAL_DEPTH_OFFSET_FRAC,O as INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION,U as PLANE_BACKGROUND_COLOR,N as PLANE_MIN_BASIS_SCREEN_LEN2,S as PLANE_OUTLINE_COLOR,C as PLANE_OUTLINE_WIDTH,x as PLANE_PREVIEW_OUTLINE_WIDTH,e as POINTER_MOVE_TIMER_MS,M as PREVIEW_FADE_DOT_THRESHOLD,j as PREVIEW_FADE_DURATION_SECONDS,H as RESIZE_HANDLE_CORNER_INPUT_RADIUS,E as RESIZE_HANDLE_CORNER_WIDTH,I as RESIZE_HANDLE_EDGE_INPUT_RADIUS,G as RESIZE_HANDLE_EDGE_PADDING_FRAC,F as RESIZE_HANDLE_EDGE_WIDTH,d as ROTATE_HEADING_CALLOUT_COLOR,L as ROTATE_HEADING_DISC_RADIUS,h as ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER,K as ROTATE_HEADING_OFFSET_DISTANCE,J as ROTATE_HEADING_TIP_LENGTH,k as SHIFT_RESTART_ARROW_CAP_COLOR,B as SHIFT_RESTART_ARROW_LENGTH,D as SHIFT_RESTART_ARROW_OUTLINE_WIDTH,g as SHIFT_RESTART_ARROW_TIP_COLOR,u as SHIFT_RESTART_CALLOUT_COLOR,A as SHIFT_RESTART_OFFSET_DISTANCE,v as SHIFT_RESTART_OUTLINE_COLOR,m as SHIFT_RESTART_TIP_FOCUS_MULTIPLIER,z as SHIFT_RESTART_TIP_LENGTH,y as SHIFT_RESTART_TIP_RADIUS,q as SHIFT_RESTART_TUBE_COLOR,c as SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER,w as SHIFT_RESTART_TUBE_RADIUS,p as SMALL_ANGLE_DOT_THRESHOLD,f as VERTICAL_DOT_THRESHOLD,r as forceHorizontalModifier,s as forceVerticalModifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as e}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import o from\"../../../webgl/Program.js\";import{makePipelineState as t,separateBlendingParams as a,defaultColorWriteParams as n}from\"../../../webgl/renderState.js\";import{View as s}from\"../core/shaderLibrary/util/View.glsl.js\";import{S as l}from\"../../../../chunks/SlicePlaneMaterial.glsl.js\";class m extends e{initializeProgram(r){const e=m.shader.get().build();return new o(r.rctx,e.generateSource(\"vertex\"),e.generateSource(\"fragment\"),i)}bindPass(r,e,i){s.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"backgroundColor\",e.backgroundColor),this.program.setUniform4fv(\"gridColor\",e.gridColor),this.program.setUniform1f(\"gridWidth\",e.gridWidth)}bindDraw(r){s.bindView(this.program,r)}initializePipeline(){return t({blending:a(1,1,771,771),depthTest:{func:513},colorWrite:n})}}m.shader=new r(l,(()=>import(\"./SlicePlaneMaterial.glsl.js\")));export{m as SlicePlaneMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{autoDispose as t}from\"../lib/AutoDisposable.js\";import e from\"../lib/GLMaterial.js\";import{intersectTriangleGeometry as i}from\"./internal/MaterialUtil.js\";import{Material as o,materialParametersDefaults as s}from\"../lib/Material.js\";import{DefaultBufferWriter as a,PositionUVLayout as n}from\"./internal/DefaultBufferWriter.js\";import{SlicePlaneMaterialTechnique as u}from\"../shaders/SlicePlaneMaterialTechnique.js\";class l extends o{constructor(r){super(r,m)}intersect(r,t,e,o,s,a,n){return i(r,t,o,s,a,void 0,n)}createBufferWriter(){return new a(n)}getGLMaterial(r){return 0===r.output?new c(r):void 0}}class c extends e{constructor(r){super(r),this.technique=new u(this.techniqueRep.constructionContext,null),this.updateParameters()}updateParameters(){}beginSlot(r){return 8===r}bind(r,t){r.bindProgram(this.technique.program),this.technique.bindPass(r,this.material.params,t)}}r([t()],c.prototype,\"technique\",void 0);const m={backgroundColor:[1,0,0,.5],gridColor:[0,1,0,.5],gridWidth:4,...s};export{l as SlicePlaneMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../../../../core/maybe.js\";import{c as e}from\"../../../../chunks/vec4.js\";import{f as t}from\"../../../../chunks/vec4f32.js\";import i from\"../../webgl-engine/lib/GeometryUtil.js\";import{Object3DVisualElement as a}from\"./Object3DVisualElement.js\";import{SlicePlaneMaterial as s}from\"../../webgl-engine/materials/SlicePlaneMaterial.js\";class d extends a{constructor(r){super(r),this._material=null,this._renderOccluded=4,this._gridWidth=1,this._gridColor=t(1,0,0,1),this._backgroundColor=t(1,0,0,1),this.applyProps(r)}get renderOccluded(){return this._renderOccluded}set renderOccluded(r){r!==this._renderOccluded&&(this._renderOccluded=r,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(r){this._gridWidth!==r&&(this._gridWidth=r,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(r){e(this._gridColor,r),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(r){e(this._backgroundColor,r),this._updateMaterial()}createExternalResources(){this._material=new s(this.materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(e){r(this._material)&&e(this._material)}createGeometries(e){if(r(this._material)){const r=i.createSquareGeometry();e.addGeometry(r,this._material)}}get materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded}}_updateMaterial(){r(this._material)&&this._material.setParameterValues(this.materialParameters)}}export{d as SlicePlaneVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as i,parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../lib/DefaultVertexAttributeLocations.js\";import o from\"../../../webgl/Program.js\";import{makePipelineState as n,defaultDepthWriteParams as l,defaultColorWriteParams as p,simpleBlendingParams as c}from\"../../../webgl/renderState.js\";import{View as u}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as d}from\"../core/shaderLibrary/Slice.glsl.js\";import{OITBlending as h,OITDepthTest as m,OITDepthWrite as f,getOITPolygonOffset as b}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as g}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{stencilWriteMaskOn as y,stencilToolMaskBaseParams as P,stencilBaseAllZerosParams as T}from\"../lib/StencilUtils.js\";import{I as v}from\"../../../../chunks/ImageMaterial.glsl.js\";class j extends r{initializeProgram(e){const t=j.shader.get(),r=this.configuration,i=t.build({output:r.output,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,OITEnabled:0===r.transparencyPassType,multipassTerrainEnabled:r.multipassTerrainEnabled,cullAboveGround:r.cullAboveGround});return new o(e.rctx,i.generateSource(\"vertex\"),i.generateSource(\"fragment\"),a)}bindPass(e,t,r){u.bindProjectionMatrix(this.program,r.camera.projectionMatrix),this.program.setUniform1f(\"opacity\",t.opacity),r.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",r.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",r.inverseViewport),g(this.program,e,r))}bindDraw(e){u.bindView(this.program,e),d.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e,t){const r=this.configuration,i=3===e,s=2===e,a=e=>0!==e&&{face:1===e?1028:1029,mode:2305};return n({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?S:h(e),culling:a(r.cullFace),depthTest:{func:m(e)},depthWrite:i?r.writeDepth&&l:f(e),colorWrite:p,stencilWrite:r.sceneHasOcludees?y:null,stencilTest:r.sceneHasOcludees?t?P:T:null,polygonOffset:i||s?null:b(r.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this.setPipelineState(this.configuration.transparencyPassType,!0),this.setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e){return e?this._occludeePipelineState:this.pipeline}}j.shader=new t(v,(()=>import(\"./ImageMaterial.glsl.js\")));const S=c(1,771);class w extends i{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}e([s({count:8})],w.prototype,\"output\",void 0),e([s({count:3})],w.prototype,\"cullFace\",void 0),e([s()],w.prototype,\"slicePlaneEnabled\",void 0),e([s()],w.prototype,\"transparent\",void 0),e([s()],w.prototype,\"enableOffset\",void 0),e([s()],w.prototype,\"writeDepth\",void 0),e([s()],w.prototype,\"sceneHasOcludees\",void 0),e([s({count:4})],w.prototype,\"transparencyPassType\",void 0),e([s()],w.prototype,\"multipassTerrainEnabled\",void 0),e([s()],w.prototype,\"cullAboveGround\",void 0);export{j as ImageMaterialTechnique,w as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{clone as o}from\"../../core/lang.js\";import{isSome as e}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import{ensureNumber as i}from\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{persistable as h}from\"../../core/accessorSupport/decorators/persistable.js\";import{JSONSupport as a}from\"../../core/JSONSupport.js\";import n from\"../../geometry/Point.js\";import\"../../geometry.js\";import{cyclicalDeg as m}from\"../../views/3d/support/mathUtils.js\";var l;let c=l=class extends a{constructor(t){super(t),this.type=\"plane\",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}clone(){return new l({position:o(this.position),heading:this.heading,tilt:this.tilt,width:this.width,height:this.height})}equals(t){return this.heading===t.heading&&this.tilt===t.tilt&&e(this.position)&&e(t.position)&&this.position.equals(t.position)&&this.width===t.width&&this.height===t.height}};t([r({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,\"type\",void 0),t([r({type:n}),h()],c.prototype,\"position\",void 0),t([r({type:Number,nonNullable:!0,range:{min:0,max:360}}),h(),s((t=>m.normalize(i(t),0,!0)))],c.prototype,\"heading\",void 0),t([r({type:Number,nonNullable:!0,range:{min:0,max:360}}),h(),s((t=>m.normalize(i(t),0,!0)))],c.prototype,\"tilt\",void 0),t([r({type:Number,nonNullable:!0}),h()],c.prototype,\"width\",void 0),t([r({type:Number,nonNullable:!0}),h()],c.prototype,\"height\",void 0),c=l=t([p(\"esri.widgets.Slice.SlicePlane\")],c);var d=c;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../lib/GLMaterialTexture.js\";import{intersectTriangleGeometry as t}from\"./internal/MaterialUtil.js\";import{Material as i,materialParametersDefaults as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as s}from\"../lib/OrderIndependentTransparency.js\";import{DefaultBufferWriter as r,PositionUVLayout as n}from\"./internal/DefaultBufferWriter.js\";import{ImageMaterialTechniqueConfiguration as u,ImageMaterialTechnique as h}from\"../shaders/ImageMaterialTechnique.js\";class c extends i{constructor(e){super(e,o),this.supportsEdges=!0,this.techniqueConfig=new u}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.enableOffset=!t||t.camera.relativeElevation<s,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!t||t.cullAboveGround,this.techniqueConfig}intersect(e,i,a,s,r,n,u){t(e,i,s,r,n,void 0,u)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new l(e):void 0}createBufferWriter(){return new r(n)}}class l extends e{constructor(e){super({...e,...e.material.params}),this.updateParameters()}updateParameters(e){const t=this.material.params;this.updateTexture(t.textureId),this.technique=this.techniqueRep.acquireAndReleaseExisting(h,this.material.getTechniqueConfig(this.output,e),this.technique)}beginSlot(e){if(4===this.output)return 3===e;return e===(this.technique.configuration.transparent?this.technique.configuration.writeDepth?5:8:3)}_updateOccludeeState(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&(this.material.setParameterValues({sceneHasOcludees:e.hasOccludees}),this.updateParameters(e))}ensureParameters(e){0!==this.output&&7!==this.output||this._updateOccludeeState(e),this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.bindTexture(e,this.technique.program),this.bindTextureScale(e,this.technique.program),this.technique.bindPass(e,this.material.params,t)}getPipelineState(e,t){return this.technique.getPipelineState(t)}}const o={transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1,opacity:1,textureId:null,initTextureTransparent:!0,...a};export{c as ImageMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../../core/compilerUtils.js\";import{isSome as t,isNone as i}from\"../../../../../core/maybe.js\";import s from\"../../../../../core/Logger.js\";import o from\"../../../../../geometry/Point.js\";import\"../../../../../geometry.js\";import{rad2deg as r,deg2rad as n}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray3 as a}from\"../../../../../core/screenUtils.js\";import{b as c,c as l,f as m}from\"../../../../../chunks/vec3f64.js\";import{a as d,g,d as u,c as p,n as f,b,l as h,f as w,o as y,s as j}from\"../../../../../chunks/vec3.js\";import{g as M,i as k,s as P,m as v,e as O,t as R,q as U}from\"../../../../../chunks/mat4.js\";import{a as T}from\"../../../../../chunks/mat4f64.js\";import{r as A}from\"../../../../../chunks/quat.js\";import{sv3d as L,sm4d as S,sq4d as E}from\"../../../support/stack.js\";import{b as F}from\"../../../../../chunks/vector.js\";import{plane as G,boundedPlane as C,ray as I}from\"../../../support/geometryUtils.js\";import{Geometry as x}from\"../../../webgl-engine/lib/Geometry.js\";import z from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as V}from\"../../../webgl-engine/materials/RibbonLineMaterial.js\";import{NativeLineMaterial as D}from\"../../../webgl-engine/materials/NativeLineMaterial.js\";import{ColorMaterial as B}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{Manipulator3D as N}from\"../../Manipulator3D.js\";import{calculateTranslateRotateFromBases as q}from\"../../manipulatorUtils.js\";import{LineVisualElement as H}from\"../../visualElements/LineVisualElement.js\";import{SMALL_ANGLE_DOT_THRESHOLD as W,RESIZE_HANDLE_EDGE_PADDING_FRAC as $,PLANE_MIN_BASIS_SCREEN_LEN2 as J,INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION as K,SHIFT_RESTART_OFFSET_DISTANCE as Q,SHIFT_RESTART_ARROW_TIP_COLOR as X,SHIFT_RESTART_ARROW_CAP_COLOR as Y,SHIFT_RESTART_TUBE_COLOR as Z,SHIFT_RESTART_OUTLINE_COLOR as _,SHIFT_RESTART_CALLOUT_COLOR as ee,SHIFT_RESTART_TIP_RADIUS as te,ROTATE_HEADING_CALLOUT_COLOR as ie,PLANE_OUTLINE_COLOR as se,PLANE_OUTLINE_WIDTH as oe,PLANE_BACKGROUND_COLOR as re,GRID_COLOR as ne,RESIZE_HANDLE_CORNER_INPUT_RADIUS as ae,RESIZE_HANDLE_EDGE_INPUT_RADIUS as ce,ROTATE_HEADING_TIP_LENGTH as le,VERTICAL_DOT_THRESHOLD as me,SHIFT_RESTART_TUBE_RADIUS as de,SHIFT_RESTART_TIP_LENGTH as ge,SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER as ue,SHIFT_RESTART_TIP_FOCUS_MULTIPLIER as pe,SHIFT_RESTART_ARROW_OUTLINE_WIDTH as fe,ROTATE_HEADING_OFFSET_DISTANCE as be,ROTATE_HEADING_DISC_RADIUS as he,ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER as we,HANDLE_COLOR as ye,DISPLAY_FOCUS_MULTIPLIER as je,RESIZE_HANDLE_EDGE_WIDTH as Me,SHIFT_RESTART_ARROW_LENGTH as ke,RESIZE_HANDLE_CORNER_WIDTH as Pe}from\"./sliceToolConfig.js\";import{SlicePlaneVisualElement as ve}from\"../../visualElements/SlicePlaneVisualElement.js\";import{ImageMaterial as Oe}from\"../../../webgl-engine/materials/ImageMaterial.js\";import Re from\"../../../../../widgets/Slice/SlicePlane.js\";const Ue=s.getLogger(\"esri.views.3d.interactive.analysisTools.slice.sliceToolUtils\");function Te(e,t,i,s,o,r,n,a){return Ae(t,n.worldUpAtPosition(e,L.get()),o,r,a.basis1,a.basis2),d(a.basis1,a.basis1,i),d(a.basis2,a.basis2,s),g(a.origin,e),G.fromVectorsAndPoint(a.basis2,a.basis1,a.origin,a.plane),a}function Ae(e,t,i,s,o,r){const n=u(e,t),a=L.get(),c=L.get();switch(0===s?Math.abs(n)>me?1:2:s){case 2:{const s=Math.abs(n)<=W?e:i.viewUp;p(a,s,t),g(c,t);break}case 1:p(a,i.viewUp,t),p(c,t,a);break;case 3:{const s=Math.abs(n)<=W?t:i.viewUp;p(a,s,e),p(c,e,a);break}}const l=p(L.get(),a,c);u(l,i.viewForward)>0&&d(c,c,-1),f(o,a),f(r,c)}function Le(e,t,i){const s=t.worldUpAtPosition(e.origin,L.get()),o=e.basis1,r=tt(e,s),n=Math.round(r/ct)*ct;return C.rotate(e,n-r,o,i)}function Se(e,t,i,s,o,r){const n=g(L.get(),o.origin);b(n,n,d(L.get(),o.basis1,e.direction[0]<0?1:-1)),b(n,n,d(L.get(),o.basis2,e.direction[1]<0?1:-1));const a=h(o.basis1),c=h(o.basis2),l=w(L.get(),i,n),m=w(L.get(),t,n);let p=0,f=0;if(We(e)){const t=He(o),i=He(r);p=a-.5*e.direction[0]*u(o.basis1,m)/a,f=c-.5*e.direction[1]*u(o.basis2,m)/c;const s=i/t;p*=s,f*=s}const y=p+.5*e.direction[0]*u(o.basis1,l)/a,j=f+.5*e.direction[1]*u(o.basis2,l)/c,M=d(L.get(),o.basis1,y/a),k=d(L.get(),o.basis2,j/c);(y<=0||Ne(r.origin,M,s)<=J)&&g(M,r.basis1),(j<=0||Ne(r.origin,k,s)<=J)&&g(k,r.basis2);const P=g(L.get(),n);return b(P,P,d(L.get(),M,e.direction[0]<0?-1:1)),b(P,P,d(L.get(),k,e.direction[1]<0?-1:1)),C.fromValues(P,M,k,r)}function Ee(e,t){return K*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function Fe(e,t,i,s){const o=p(L.get(),t,i);return p(o,o,t),G.fromPositionAndNormal(e,o,s)}function Ge(e,t){return q(e.basis1,e.basis2,e.origin,t)}function Ce(e,t,i,s){const o=t.worldUpAtPosition(e.origin,L.get()),r=L.get();switch(i){case 1:g(r,o);break;case 2:g(r,e.basis1)}return G.fromPositionAndNormal(e.origin,r,s)}function Ie(e,t,i,s){const o=Be(i,2),r=S.get();M(r,t,o.edge*Math.PI/2);const n=f(L.get(),o.basis);let l=d(L.get(),n,o.direction*s.computeScreenPixelSizeAt(o.position)*Q);b(l,l,o.position);const m=s.projectToRenderScreen(l,a(L.get())),g=xe(s,m);I.fromRender(s,m,at),f(at.direction,at.direction);const u=L.get();!g&&C.intersectRay(i,at,u)&&(l=u),r[12]=0,r[13]=0,r[14]=0,e.modelTransform=r,e.renderLocation=c(l),g?e.state|=nt:e.state&=~nt}function xe(e,t){const[i,s,o,r]=e.viewport,n=Math.min(o,r)/16;let a=!0;return t[0]<i+n?(t[0]=i+n,a=!1):t[0]>i+o-n&&(t[0]=i+o-n,a=!1),t[1]<s+n?(t[1]=s+n,a=!1):t[1]>s+r-n&&(t[1]=s+r-n,a=!1),a}function ze(e,t,i,s){const o=h(s.basis1),r=h(s.basis2),n=qe(s),a=He(s),c=j(L.get(),0,0,0);b(c,d(L.get(),s.basis1,t.direction[0]),d(L.get(),s.basis2,t.direction[1])),b(c,s.origin,c);let l=0,m=1;if(We(t))1===t.direction[0]&&-1===t.direction[1]?l=ct:1===t.direction[0]&&1===t.direction[1]?l=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(l=3*Math.PI/2),m=a;else{const e=0!==t.direction[0]?1:2;l=1===e?ct:0,m=(1===e?r:o)-n}const g=k(S.get());M(g,g,l),P(g,g,j(L.get(),m,m,m)),v(g,i,g),g[12]=0,g[13]=0,g[14]=0,e.modelTransform=g,e.renderLocation=c}function Ve(e,t,i,s){const o=s.worldUpAtPosition(i.origin,L.get()),r=Be(i,0),n=k(S.get());M(n,n,r.edge*Math.PI/2),O(n,n,-tt(i,o)),v(n,t,n),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=r.position}function De(e,t,i){const s=Be(i,1),o=k(S.get());M(o,o,s.edge*Math.PI/2),O(o,o,ct),v(o,t,o),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=s.position}function Be(e,t){switch(t){case 0:return{basis:e.basis1,direction:1,position:b(L.get(),e.origin,e.basis1),edge:t};case 1:return{basis:e.basis2,direction:1,position:b(L.get(),e.origin,e.basis2),edge:t};case 2:return{basis:e.basis1,direction:-1,position:w(L.get(),e.origin,e.basis1),edge:t};case 3:return{basis:e.basis2,direction:-1,position:w(L.get(),e.origin,e.basis2),edge:t}}}function Ne(e,t,i){const s=i.projectToRenderScreen(b(L.get(),e,t),a(L.get())),o=i.projectToRenderScreen(w(L.get(),e,t),a(L.get()));return y(w(s,s,o))}function qe(e){const t=h(e.basis1),i=h(e.basis2);return $*Math.min(t,i)}function He(e){return qe(e)}function We(e){return 0!==e.direction[0]&&0!==e.direction[1]}function $e(e,t=1){const i=0===t?Q:0,s=[m(i,0,-ke/2),m(i,0,ke/2)],o=_e(s,!0),r=(e,t)=>Ye(s,s,{tubeRadius:de,tipRadius:te,tipLength:ge,tubeFocusMultiplier:ue,tipFocusMultiplier:pe,padding:e,bothEnds:!0,flat:null,focusTipLength:!0,addCap:t}),n=r(0,!1),a=r(fe,!0),c=new B({color:X,cullFace:2,renderOccluded:16}),l=new B({color:Y,cullFace:2,renderOccluded:16}),d=new B({color:Z,cullFace:2,renderOccluded:16}),g=new B({color:_,transparent:!0,writeDepth:!1,cullFace:1,renderOccluded:2}),u=z.createPolylineGeometry([[i,0,0],[i-Q,0,0]]),p=z.createPolylineGeometry([[i,0,0],[i-Q,0,0]]),f=new D({color:ee,renderOccluded:4});return new N({view:e,renderObjects:[...n.normal.map((({part:e,geometry:t,transform:i})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:d,transform:i,stateMask:1|rt}))),...a.normal.map((({geometry:e,transform:t})=>({geometry:e,material:g,transform:t,stateMask:1|rt}))),{geometry:u,material:f,stateMask:1|rt|nt},...n.focused.map((({part:e,geometry:t,transform:i})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:d,transform:i,stateMask:2|rt}))),...a.focused.map((({geometry:e,transform:t})=>({geometry:e,material:g,transform:t,stateMask:2|rt}))),{geometry:p,material:f,stateMask:2|rt|nt}],autoScaleRenderObjects:!1,collisionType:{type:\"line\",paths:[o]},collisionPriority:1,radius:te,state:rt})}function Je(e,t){const i=new Oe({transparent:!0,writeDepth:!1,textureId:t.id,renderOccluded:16}),s=be,o=he,r=o*we,n=e=>{const t=new Uint32Array([0,1,2,2,3,0]);return new x([[\"position\",{size:3,data:[s-e,-e,0,s+e,-e,0,s+e,e,0,s-e,e,0],exclusive:!0}],[\"uv0\",{size:2,data:[0,0,1,0,1,1,0,1]}]],[[\"position\",t],[\"uv0\",t]])},a=z.createPolylineGeometry([[0,0,0],[s-o,0,0]]),c=z.createPolylineGeometry([[0,0,0],[s-r,0,0]]),l=new D({color:ie,renderOccluded:4}),m=[{geometry:n(o),material:i,stateMask:1|rt},{geometry:a,material:l,stateMask:1|rt},{geometry:n(r),material:i,stateMask:2|rt},{geometry:c,material:l,stateMask:2|rt}];return new N({view:e,renderObjects:m,autoScaleRenderObjects:!1,collisionType:{type:\"disc\",direction:[0,0,1],offset:[s,0,0]},collisionPriority:1,radius:o/2,state:rt})}function Ke(e){return new H({view:e,attached:!0,color:se,width:oe,writeDepthEnabled:!1,renderOccluded:4,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]]})}function Qe(e){return new ve({view:e,attached:!0,backgroundColor:[...re],gridColor:ne,gridWidth:4,renderOccluded:4})}function Xe(e,t){const i=We(t),s=i?[m(1,0,0),m(0,0,0),m(0,1,0)]:[m(1,0,0),m(-1,0,0)],o=z.createPolylineGeometry(s),r=[...ye,1],n=e=>new V({color:r,width:e,renderOccluded:4}),a=()=>new D({color:r,renderOccluded:4}),c=i?Pe:Me,l=c*je,d=Me,g=e=>e>1?n(e):a(),u=[{geometry:o,material:g(c),stateMask:1|lt},{geometry:o,material:g(l),stateMask:2|lt},{geometry:o,material:g(d),stateMask:mt}],p=new N({view:e,renderObjects:u,collisionType:{type:\"line\",paths:[s]},autoScaleRenderObjects:!1,worldSized:!0,radius:i?ae:ce,idHint:i?1:2});return p.state=lt,p}function Ye(e,i,s){const o=o=>{const r=(o?i:e).slice(0),n=w(L.get(),r[0],r[1]);f(n,n);const a=w(L.get(),r[r.length-1],r[r.length-2]);if(f(a,a),s.padding>0){const e=d(l(),a,-s.padding);if(r[r.length-1]=b(e,e,r[r.length-1]),s.bothEnds){const e=d(l(),n,-s.padding);r[0]=b(e,e,r[0])}}const c=o?s.tipFocusMultiplier:1,g=s.tipLength*(s.focusTipLength?c:1),u=s.tipRadius*c,p=k(S.get());if(s.padding>0){const e=g/4,t=j(L.get(),0,e,0),i=1+s.padding/e;R(p,p,t),P(p,p,j(L.get(),i,i,i)),R(p,p,d(t,t,-1/i))}const h=k(T()),y=m(0,1,0),M=U(T(),A(E.get(),y,a));M[12]=r[r.length-1][0],M[13]=r[r.length-1][1],M[14]=r[r.length-1][2],v(M,M,p);const O=[{part:\"tube\",geometry:Ze(s.tubeRadius*(o?s.tubeFocusMultiplier:1)+s.padding,s.flat,r),transform:h}];let F,G;if(t(s.flat)?F=z.createExtrudedTriangle(g,u,u,s.flat.thickness):(F=z.createConeGeometry(g,u,24,!1,!1,!0),G=z.createConeGeometry(g,u,24,!1,!0,!1)),O.push({part:\"tip\",geometry:F,transform:M}),G&&O.push({part:\"cap\",geometry:G,transform:M}),s.bothEnds){const e=U(T(),A(E.get(),y,n));e[12]=r[0][0],e[13]=r[0][1],e[14]=r[0][2],v(e,e,p),O.push({part:\"tip\",geometry:F,transform:e}),G&&O.push({part:\"cap\",geometry:G,transform:e})}return O};return{normal:o(!1),focused:o(!0)}}function Ze(e,i,s){const o=[];if(t(i))o.push([e,i.thickness/2],[-e,i.thickness/2],[-e,-i.thickness/2],[e,-i.thickness/2]);else{const t=12;for(let i=0;i<t;i++){const s=i/t*2*Math.PI;o.push([Math.cos(s)*e,Math.sin(s)*e])}}return z.createPathExtrusionGeometry(o,s,[],[],!1)}function _e(e,t){const i=w(l(),e[e.length-1],e[e.length-2]);if(f(i,i),d(i,i,le),b(i,i,e[e.length-1]),t){const t=w(l(),e[0],e[1]);return f(t,t),d(t,t,le),b(t,t,e[0]),[t,...e,i]}return[...e,i]}function et(e,s,n,a=new Re){if(i(e))return null;const c=t(a.position)?a.position:new o;s.fromRenderCoords(e.origin,c,n),a.position=c;const l=s.worldUpAtPosition(e.origin,L.get()),m=s.worldBasisAtPosition(e.origin,1,L.get());return a.width=2*h(e.basis1),a.height=2*h(e.basis2),a.tilt=r(tt(e,l)),a.heading=r(it(e,l,m)),a}function tt(e,t){return F(t,e.basis2,e.basis1)+ct}function it(e,t,i){return F(e.basis1,i,t)-ct}function st(e,t,s=C.create()){return i(e)||i(e.position)?null:t.toRenderCoords(e.position,s.origin)?(t.worldBasisAtPosition(s.origin,0,s.basis1),t.worldBasisAtPosition(s.origin,1,s.basis2),G.fromVectorsAndPoint(s.basis2,s.basis1,s.origin,s.plane),C.rotate(s,-n(e.heading),C.normal(s),s),C.rotate(s,n(e.tilt),s.basis1,s),d(s.basis1,s.basis1,e.width/2),d(s.basis2,s.basis2,e.height/2),C.updateUnboundedPlane(s),s):(Ue.error(`Failed to project slice plane position, projection from ${e.position.spatialReference.wkid} is not supported`),null)}function ot(t){switch(t.type){case\"building-scene\":case\"csv\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"kml\":case\"map-notes\":case\"ogc-feature\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"unknown\":case\"unsupported\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(t.type),!1}}const rt=16,nt=32,at=I.create(),ct=Math.PI/2,lt=16,mt=32;export{rt as DidPointerMoveRecentlyFlag,nt as IsShiftEdgeOnScreenFlag,_e as addArrowTips,Ge as calculateBoundedPlaneTranslateRotate,He as calculateDiagonalResizeHandleScale,Ee as calculatePlaneHalfSize,qe as calculateResizeHandlePadding,Ne as calculateScreenSpaceBasisLength2,Ye as createArrowGeometry,Qe as createGridVisualElement,Ke as createOutlineVisualElement,Te as createPlane,Xe as createResizeManipulator,Je as createRotateManipulator,Ce as createRotatePlane,$e as createShiftManipulator,Fe as createShiftPlane,Le as forceHorizontalOrVertical,ot as isAlwaysDrapedLayer,We as isDiagonalResizeHandle,Ae as normalToBases,et as planeToShape,lt as resizeNormal,mt as resizeOutlineOnly,Se as resizePlane,st as shapeToPlane,ze as updateResizeHandle,Ve as updateRotateHeadingHandle,De as updateRotateTiltHandle,Ie as updateShiftRestartHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{EventPipeline as a}from\"../../../../interactive/dragEventPipeline.js\";import{isDiagonalResizeHandle as e}from\"../../analysisTools/slice/sliceToolUtils.js\";class s{constructor(){this.lastDragEvent=null,this.next=new a,this._enabled=!1}get enabled(){return this._enabled}set enabled(a){if(this._enabled!==a&&t(this.lastDragEvent)){const t={...this.lastDragEvent,action:\"update\"};a&&this.adjustScaleFactors(t),this.next.execute(t)}this._enabled=a}createDragEventPipelineStep(){return this.lastDragEvent=null,t=>(this.lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this.adjustScaleFactors(t),t)}adjustScaleFactors(t){const a=e(t.handle)?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.handle.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-a:a,t.factor2=t.factor2<0?-a:a}get test(){return{adjustScaleFactors:t=>this.adjustScaleFactors(t)}}}export{s as PreserveAspectRatio};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{f as s,Z as o}from\"../../../../chunks/vec3f64.js\";import{b as i,E as t,a as n,f as r,e as a,c as e,n as c,d as g,l as b}from\"../../../../chunks/vec3.js\";import{d as f,a as p,g as u,p as m,s as d,u as I,w as N,h as j}from\"../../../../chunks/vec2.js\";import{sv2d as E,sv3d as T}from\"../../../3d/support/stack.js\";import{boundedPlane as V}from\"../../../3d/support/geometryUtils.js\";import{UpdateVertices as x}from\"../operations/UpdateVertices.js\";import{MoveVertex as h}from\"../operations/MoveVertex.js\";import{RotateVertex as l}from\"../operations/RotateVertex.js\";import{ScaleVertex as R}from\"../operations/ScaleVertex.js\";function v(s,o){return k(s,o,!1)}function C(s,o){return k(s,o,!0)}function k(s,o,i){if(s instanceof x){if(s.operation instanceof h)return F(s.operation,o,i),!0;if(s.operation instanceof l)return Y(s.operation,o,i),!0;if(s.operation instanceof R)return _(s.operation,o,i),!0}return!1}function F(o,t,n=!1){const r=n?-1:1,a=s(r*o.dx,r*o.dy,r*o.dz);i(t.origin,t.origin,a)}function Y(s,i,n=!1){const r=n?-s.angle:s.angle;t(i.basis1,i.basis1,o,r),t(i.basis2,i.basis2,o,r)}function _(s,o,i=!1){const t=i?1/s.factor1:s.factor1,r=i?1/s.factor2:s.factor2;n(o.basis1,o.basis1,t),n(o.basis2,o.basis2,r),P(o.origin,s.origin,s.axis1,t),P(o.origin,s.origin,s.axis2,r)}function P(s,o,i,t){const n=E.get(),r=f(n,s,o),a=p(n,i,u(i,r));m(s,s,a,t-1)}function S(s,o,i,t){t||(t=V.create());const n=d(E.get(),s[1],-s[0]),r=d(E.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),a=d(E.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),e=E.get();o.components.forEach((o=>o.vertices.forEach((o=>{const i=o.pos;d(e,u(s,i),u(n,i)),I(r,r,e),N(a,a,e)}))));const c=1e-6,g=d(E.get(),a[0]-r[0]<c?i/2:0,a[1]-r[1]<c?i/2:0);return f(r,r,g),j(a,a,g),p(t.basis1,s,(a[0]-r[0])/2),p(t.basis2,n,(a[1]-r[1])/2),d(t.origin,r[0]*s[0]+r[1]*n[0],r[0]*s[1]+r[1]*n[1]),j(t.origin,t.origin,t.basis1),j(t.origin,t.origin,t.basis2),t}function U(s,o,t,f=0,p){p||(p=V.create()),o.toRenderCoords(s.origin,t,p.origin);const u=T.get();i(u,s.origin,s.basis1),i(u,u,s.basis2),o.toRenderCoords(u,t,u);const m=T.get();i(m,s.origin,s.basis1),r(m,m,s.basis2),o.toRenderCoords(m,t,m);const d=T.get();r(d,s.origin,s.basis1),r(d,d,s.basis2),o.toRenderCoords(d,t,d);const I=T.get();r(I,s.origin,s.basis1),i(I,I,s.basis2),o.toRenderCoords(I,t,I);const N=a(T.get(),u,m,.5);r(N,N,p.origin);const j=a(T.get(),d,I,.5);r(j,p.origin,j),a(p.basis1,N,j,.5);const E=a(T.get(),I,u,.5);r(E,E,p.origin);const x=a(T.get(),m,d,.5);r(x,p.origin,x),a(p.basis2,E,x,.5);const h=e(T.get(),p.basis1,p.basis2),l=e(h,h,p.basis1);return c(l,l),n(p.basis2,l,g(p.basis2,l)),n(p.basis1,p.basis1,1+f/b(p.basis1)),n(p.basis2,p.basis2,1+f/b(p.basis2)),V.updateUnboundedPlane(p),p}export{v as apply,S as calculateOrientedBounds,U as mapPlaneToRenderPlane,C as unapply};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as e,unwrapOr as i,isNone as a,unwrap as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as r}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import p from\"../../../../../core/Evented.js\";import{rad2deg as h}from\"../../../../../core/mathUtils.js\";import{screenPointObjectToArray as l}from\"../../../../../core/screenUtils.js\";import{b as c,c as d}from\"../../../../../chunks/vec3f64.js\";import{s as u,g as m,D as g,f as y,n as v,l as f,d as M}from\"../../../../../chunks/vec3.js\";import S from\"../../../../../core/Handles.js\";import{init as b}from\"../../../../../core/watchUtils.js\";import{getMetersPerUnitForSR as B}from\"../../../../../core/unitUtils.js\";import{g as w}from\"../../../../../chunks/mat4.js\";import{containsXY as x}from\"../../../../../geometry/support/aaBoundingRect.js\";import{a as D}from\"../../../../../chunks/vec2f64.js\";import{d as j,e as R,s as _}from\"../../../../../chunks/vec2.js\";import{getGraphicEffectiveElevationInfo as E}from\"../../../../../support/elevationInfoUtils.js\";import{sv2d as H,sv3d as G,sm4d as A}from\"../../../support/stack.js\";import{boundedPlane as P,plane as z,ray as U}from\"../../../support/geometryUtils.js\";import{evaluateElevationAlignmentAtPoint as T}from\"../../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as k}from\"../../../layers/graphics/ElevationContext.js\";import{Texture as Z}from\"../../../webgl-engine/lib/Texture.js\";import{EditGeometry as O}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{createManipulatorDragEventPipeline as C,addScreenDelta as V,addMapDelta as X}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as Y}from\"../../../../interactive/InteractiveToolBase.js\";import{screenToZConstrained as I,screenToRenderPlane as L}from\"../dragEventPipeline3D.js\";import{getGraphicAttachmentOrigin as N,calculateInputRotationTransform as F}from\"../../manipulatorUtils.js\";import{canMoveZ as q}from\"../manipulatorUtils.js\";import{createShiftManipulator as J,IsShiftEdgeOnScreenFlag as K,createResizeManipulator as Q,createRotateManipulator as W,resizeNormal as $,resizeOutlineOnly as tt,isDiagonalResizeHandle as et,calculateDiagonalResizeHandleScale as it,createRotatePlane as at,calculateBoundedPlaneTranslateRotate as st,updateRotateHeadingHandle as rt,updateResizeHandle as ot}from\"../../analysisTools/slice/sliceToolUtils.js\";import nt from\"../../analysisTools/slice/images/heading-rotate-png.js\";import{OutlineVisualElement as pt}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as ht}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as lt}from\"../visualElementUtils.js\";import{MoveXYGraphicManipulation as ct}from\"../manipulations/MoveXYGraphicManipulation.js\";import{ReshapeGeometryHelper as dt}from\"../reshapeGraphic/ReshapeOperation.js\";import{PreserveAspectRatio as ut}from\"./PreserveAspectRatio.js\";import{calculateOrientedBounds as mt,mapPlaneToRenderPlane as gt,apply as yt,unapply as vt}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";let ft=class extends(p.EventedMixin(Y)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this._preserveAspectRatio=new ut,this.grabbing=!1,this.inputState=null,this.type=\"transform-3d\",this.handles=new S,this.moveZManipulator=null,this.resizeManipulators=null,this.rotateManipulator=null,this.attachmentOrigin=null,this.outlineVisualElement=null,this.mapBounds=P.create(),this.mapBoundsStart=P.create(),this.displayBounds=P.create(),this.displayBoundsStart=P.create(),this.displayBoundsMarginStart=0,this.resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}]}initialize(){this.graphicState=new ht({graphic:this.graphic});const t=this.graphic.geometry;this.reshapeHelper=new dt(O.fromGeometry(t,this.view.viewingMode),t.type),this.graphicMoveManipulation=new ct({tool:this,view:this.view,graphicState:this.graphicState}),this.handles.add(this._createMoveXYGraphicDragPipeline()),this.moveZManipulator=J(this.view,0),this.moveZManipulator.state|=K,this.handles.add(this.watch(\"enableZ\",(()=>this.updateManipulatorAvailability(this.moveZManipulator,0)))),this.handles.add(this._createMoveZDragPipeline()),this.manipulators.add(this.moveZManipulator),this.resizeManipulators=this.resizeHandles.map((t=>{const e=Q(this.view,t);return this.handles.add(this.watch(\"enableScaling\",(()=>this.updateManipulatorAvailability(e,2)))),e.events.on(\"grab-changed\",(t=>this._onResizeGrab(t))),this.handles.add(this._createResizeDragPipeline(e,t)),e})),this.manipulators.addMany(this.resizeManipulators),this.rotateManipulatorTexture=new Z(nt,{width:64,height:64,mipmap:!0,preMultiplyAlpha:!0}),this.view._stage&&this.view._stage.add(this.rotateManipulatorTexture),this.rotateManipulator=W(this.view,this.rotateManipulatorTexture),this.handles.add(this.watch(\"enableRotation\",(()=>this.updateManipulatorAvailability(this.rotateManipulator,3)))),this.rotateManipulator.events.on(\"grab-changed\",(t=>{this._onRotateGrab(t)})),this.handles.add(this._createRotateDragPipeline(this.rotateManipulator)),this.manipulators.add(this.rotateManipulator),this.calculateMapBounds(),this.updateDisplayBounds(this.mapBounds);const i=lt({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>r()});this.outlineVisualElement=i.visualElement instanceof pt?i.visualElement:null,e(this.outlineVisualElement)&&this.handles.add(this.outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>this.updateDisplayBounds(this.mapBounds)))),this.handles.add(i),this.handles.add([this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.graphicState.watch(\"displaying\",(()=>this.updateAllManipulatorAvailability())),b(this.graphicState,\"isDraped\",(()=>this.graphicDrapedChanged())),this.view.trackGraphicState(this.graphicState)]);const a=this.view.pointsOfInterest;a&&this.handles.add(a.focus.watch(\"location\",(()=>this.updateDisplayBounds(this.mapBounds))));const s=t=>{this.handles.add(t.events.on(\"grab-changed\",(()=>{this.grabbing=t.grabbing,this.updateAllManipulatorAvailability()})))};this.forEachManipulator(s),this.graphicMoveManipulation.forEachManipulator(s);const o=(t,e)=>{this.handles.add(t.events.on(\"immediate-click\",(t=>{1===e&&this.emit(\"immediate-click\",{...t,graphic:this.graphic}),t.stopPropagation()})))};this.forEachManipulator(o),this.graphicMoveManipulation.forEachManipulator(o),this.onGeometryChanged(),this.updateAllManipulatorAvailability()}graphicDrapedChanged(){this.handles.remove(Mt),this.updateDisplayBounds(this.mapBounds),this.graphicState.isDraped&&this.handles.add(this.view.elevationProvider.on(\"elevation-change\",(t=>{e(this.attachmentOrigin)&&x(t.extent,this.attachmentOrigin.x,this.attachmentOrigin.y)&&this.updateDisplayBounds(this.mapBounds)})),Mt)}updateAllManipulatorAvailability(){this.forEachManipulator(((t,e)=>this.updateManipulatorAvailability(t,e)))}updateManipulatorAvailability(t,e){const i=this.graphicState.displaying,a=this.grabbing&&!t.grabbing;t.interactive=!a;const s=this.enableZ&&q(this.graphic);switch(e){case 3:t.available=i&&this.enableRotation;break;case 2:t.available=i&&(this.enableScaling||this.enableRotation||s),t.interactive=!a&&this.enableScaling,t.state=this.enableScaling?$:tt;break;case 0:t.available=i&&s;break;default:t.available=i}}forEachManipulator(t){this.resizeManipulators.forEach((e=>t(e,2))),t(this.rotateManipulator,3),t(this.moveZManipulator,0)}destroy(){this.view._stage&&this.view._stage.remove(this.rotateManipulatorTexture),this.handles.destroy(),this.graphicMoveManipulation.destroy(),this.reshapeHelper.destroy(),this._set(\"view\",null),this._set(\"graphic\",null)}get preserveAspectRatio(){return this._preserveAspectRatio.enabled}set preserveAspectRatio(t){this._preserveAspectRatio.enabled=t,this._set(\"preserveAspectRatio\",t)}reset(){}onDetach(){this.mapBounds=null,this.displayBounds=null}onGeometryChanged(){this.updateDisplayBounds(this.mapBounds)}calculateMapBounds(){const t=this.graphic.geometry,e=this.reshapeHelper.editGeometry,a=e.components[0].edges[0],s=j(H.get(),a.left.pos,a.right.pos);R(s,s);const r=i(N(this.view,this.graphic),t.extent.center);let o=bt*this.view.pixelSizeAt(r);const n=this.view.spatialReference;n!==t.spatialReference&&(o*=B(n)/B(t.spatialReference)),mt(s,e,o,this.mapBounds)}updateDisplayBounds(t){const a=this.graphic.geometry,s=e(this.outlineVisualElement)&&!this.graphicState.isDraped&&e(this.outlineVisualElement.attachmentOrigin)?this.outlineVisualElement.attachmentOrigin:N(this.view,this.graphic);this.attachmentOrigin=i(s,a.extent.center);const r=e(s)?s.z:T(t.origin,this.view.elevationProvider,k.fromElevationInfo(E(this.graphic)),this.view.renderCoordsHelper),o=P.copy(t);u(o.origin,t.origin[0],t.origin[1],r),gt(o,this.view.renderCoordsHelper,a.spatialReference,this.displayBoundsMargin(),this.displayBounds),this.updateManipulators()}displayBoundsMargin(){const t=this.view.pointsOfInterest,e=t?t.focus.location:this.reshapeHelper.geometry.extent.center;return St*this.view.pixelSizeAt(e)}_createMoveXYGraphicDragPipeline(){return this.graphicMoveManipulation.createDragPipeline(((t,e,i)=>this.applyGraphicMoveSteps(e,i)))}_createMoveZDragPipeline(){const t=this.view,e=this.reshapeHelper.geometry.spatialReference;return C(this.moveZManipulator,((i,a,s)=>{const r=c(i.renderLocation),o=a.next(I(t,r,e)).next(V());this.applyGraphicMoveSteps(o,s)}))}applyGraphicMoveSteps(t,i){const a=t.next((t=>(\"start\"===t.action&&(this.inputState={type:\"move\"},P.copy(this.mapBounds,this.mapBoundsStart),this.emit(\"graphic-translate-start\",{graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY})),t))).next(X()).next(this._moveDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY};switch(t.action){case\"start\":case\"update\":(t.mapEnd.x-t.mapStart.x||t.mapEnd.y-t.mapStart.y||t.mapEnd.z-t.mapStart.z)&&this.emit(\"graphic-translate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-translate-stop\",e)}return t}));return i.next((()=>{e(this.inputState)&&this.emit(\"graphic-translate-stop\",{graphic:this.graphic,dxScreen:0,dyScreen:0}),this.cancel()})),a}_moveDragUpdateGeometry(){return t=>{if(a(this.inputState)||\"move\"!==this.inputState.type)return t;const e=[];for(const a of this.reshapeHelper.editGeometry.components)e.push(...a.vertices);const i=\"start\"===t.action?0:1,s=this.reshapeHelper.moveVertices(e,t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i);return yt(s,this.mapBounds),this.graphic.geometry=this.reshapeHelper.geometry,t}}_onResizeGrab(t){if(\"start\"!==t.action)return;const e=this._calculatePickRay(t.screenPoint);z.intersectRay(this.displayBounds.plane,e,G.get())&&(P.copy(this.displayBounds,this.displayBoundsStart),P.copy(this.mapBounds,this.mapBoundsStart),this.displayBoundsMarginStart=this.displayBoundsMargin(),this.inputState={type:\"resize\"})}_createResizeDragPipeline(t,i){return C(t,((t,s,r)=>{a(this.inputState)||(s.next((t=>(\"start\"===t.action&&this.emit(\"graphic-scale-start\",{graphic:this.graphic,xScale:1,yScale:1}),t))).next(L(this.view,this.displayBoundsStart.plane)).next((t=>({...t,handle:i}))).next(this._resizeDragRenderPlaneToFactors()).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(this._resizeDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,xScale:t.factor1,yScale:t.factor2};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-scale\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-scale-stop\",e)}return t})),r.next((()=>{e(this.inputState)&&this.emit(\"graphic-scale-stop\",{graphic:this.graphic,xScale:1,yScale:1}),this.cancel()})))}))}_resizeDragRenderPlaneToFactors(){return t=>{const e=this.displayBoundsStart,i=t.handle.direction,a=this.displayBoundsMargin(),s=this.displayBoundsMarginStart,r=m(G.get(),e.origin);g(r,r,e.basis1,-i[0]),g(r,r,e.basis2,-i[1]);const o=y(G.get(),t.renderEnd,r),n=y(G.get(),t.renderStart,r),p=et(t.handle),h=it(e),l=it(this.displayBounds)/h,c=(t,e)=>{if(0===t)return 1;let i=f(e),r=.5*t*M(e,o)/i;const h=r<0?-1:1;if(p){r+=(i-.5*t*M(e,n)/i)*h*l}const c=i<1.5*s?1:Bt;return i=Math.max(i-s,Bt),h>0&&(r-=a),h*Math.max(h*(r/i),c)};return{...t,factor1:c(i[0],e.basis1),factor2:c(i[1],e.basis2)}}}_resizeDragUpdateGeometry(){return t=>{const e=m(d(),this.mapBoundsStart.origin);g(e,e,this.mapBoundsStart.basis1,-t.handle.direction[0]),g(e,e,this.mapBoundsStart.basis2,-t.handle.direction[1]);const i=_(D(),this.mapBoundsStart.basis1[0],this.mapBoundsStart.basis1[1]);R(i,i);const a=[];for(const o of this.reshapeHelper.editGeometry.components)a.push(...o.vertices);const s=\"start\"===t.action?0:1,r=this.reshapeHelper.scaleVertices(a,this.reshapeHelper.editGeometry.coordinateHelper.fromXYZ(e),i,t.factor1,t.factor2,s,1);return P.copy(this.mapBoundsStart,this.mapBounds),yt(r,this.mapBounds),this.graphic.geometry=this.reshapeHelper.geometry,t}}_onRotateGrab(t){if(\"start\"!==t.action)return;const e=at(this.displayBounds,this.view.renderCoordsHelper,1,z.create()),i=this._calculatePickRay(t.screenPoint);z.intersectRay(e,i,G.get())&&(P.copy(this.displayBounds,this.displayBoundsStart),P.copy(this.mapBounds,this.mapBoundsStart),this.inputState={type:\"rotate\",rotatePlane:e})}_createRotateDragPipeline(t){return C(t,((t,i,s)=>{const r=this.inputState;a(r)||(i.next((t=>(\"start\"===t.action&&this.emit(\"graphic-rotate-start\",{graphic:this.graphic,angle:0}),t))).next(L(this.view,r.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(r)).next(this._rotateDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,angle:h(t.rotateAngle)};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-rotate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-rotate-stop\",e)}return t})),s.next((()=>{e(this.inputState)&&this.emit(\"graphic-rotate-stop\",{graphic:this.graphic,angle:0}),this.cancel()})))}))}_rotateDragRenderPlaneToRotate(t){return e=>{const i=z.normal(t.rotatePlane),a=F(e.renderStart,e.renderEnd,this.displayBounds.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdateGeometry(){return t=>{const e=m(d(),this.mapBoundsStart.origin),i=[];for(const r of this.reshapeHelper.editGeometry.components)i.push(...r.vertices);const a=\"start\"===t.action?0:1,s=this.reshapeHelper.rotateVertices(i,this.reshapeHelper.editGeometry.coordinateHelper.fromXYZ(e),t.rotateAngle,a,1);return P.copy(this.mapBoundsStart,this.mapBounds),yt(s,this.mapBounds),this.graphic.geometry=this.reshapeHelper.geometry,t}}_calculatePickRay(t){const e=U.create(),i=l(t);return U.fromScreen(this.view.state.camera,i,e),v(e.direction,e.direction),e}updateManipulators(){if(!this.visible)return;const t=st(this.displayBounds,A.get());rt(this.rotateManipulator,t,this.displayBounds,this.view.renderCoordsHelper),this.updateZMoveHandle(this.moveZManipulator,t),this.resizeManipulators.forEach(((e,i)=>{ot(e,this.resizeHandles[i],t,this.displayBounds)}))}updateZMoveHandle(t,e){const i=this.displayBounds,a={basis:i.basis1,direction:-1,position:y(G.get(),i.origin,i.basis1),edge:2},s=A.get();w(s,e,a.edge*Math.PI/2),s[12]=0,s[13]=0,s[14]=0,t.modelTransform=s,t.renderLocation=a.position}cancel(){const t=this.reshapeHelper.editGeometry.lastOperation;a(t)||(this.reshapeHelper.undo(),this.graphic.geometry=this.reshapeHelper.geometry,vt(t,this.mapBounds),this.updateDisplayBounds(this.mapBounds),this.inputState=null)}canUndo(){return this.reshapeHelper.canUndo}undo(){if(e(this.inputState))this.view.activeTool=null;else if(this.canUndo()){const t=this.reshapeHelper.undo();this.graphic.geometry=this.reshapeHelper.geometry,vt(s(t),this.mapBounds),this.updateDisplayBounds(this.mapBounds)}}canRedo(){return this.reshapeHelper.canRedo}redo(){if(this.canRedo()){const t=this.reshapeHelper.redo();this.graphic.geometry=this.reshapeHelper.geometry,yt(s(t),this.mapBounds),this.updateDisplayBounds(this.mapBounds)}}};t([o({constructOnly:!0,nonNullable:!0})],ft.prototype,\"view\",void 0),t([o({constructOnly:!0,nonNullable:!0})],ft.prototype,\"graphic\",void 0),t([o({constructOnly:!0,nonNullable:!0})],ft.prototype,\"enableZ\",void 0),t([o()],ft.prototype,\"enableRotation\",void 0),t([o()],ft.prototype,\"enableScaling\",void 0),t([o()],ft.prototype,\"preserveAspectRatio\",null),t([o()],ft.prototype,\"grabbing\",void 0),t([o()],ft.prototype,\"inputState\",void 0),t([o({readOnly:!0})],ft.prototype,\"type\",void 0),ft=t([n(\"esri.views.3d.interactive.editingTools.graphicTransform3D.ExtentTransformTool\")],ft);const Mt=\"draped-elevation-changes\",St=10,bt=80,Bt=1e-6;export{Bt as EPSILON,ft as ExtentTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nvar A=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAK4UExURUdwTP9+AP9tAP9+AP99AP9VAP99AP99AP9+AP9+AP99AP99AP98AP8AAP99AP/9/P+ABf9/Af/Jlf////9/AP9/AP99AP9xAP9/AP94AP9+AP9+AP/16//38f9/AP97AP99AP99AP99AP9zAP9+AP9/AP/o0v/w4v+IE//PoP/59f+DCf99AP98AP+EC/+eQP/kyf/27//at/+VLf/59f+WL//8+/+LHP9+AP9/AP99AP/38P/nz//48/+dPv/7+P/NnP+HEf/8+v/9/f/8+//ewf+SKv/WsP+MHv98AP/27//17P/hxf++f//27v9+AP99AP+1bP98AP9+AP/o0/9+AP+BB/97AP/QpP98AP+uYP9/AP+AA/+QJP+rWP/q1v/Fjf+fQf/hx//Onv/fwP/9/P99AP/ev/+kTP+KGP+vYv/s2v9/AP+oU/+1b/98AP98AP96AP97AP9+AP9/AP9/AP96AP9/AP99AP/Ztf+rW/+mUP98AP+1b//48v/38f98AP+cO//38P99AP/nz//Pov99AP/HkP+fQ/+tX/99AP/69//v4P+6eP/DiP/z6P+TK/+JFv+EDf/s2//lzP+8ev96AP+8ff+YNP9/AP/Tqv+iSf96AP+tXv9/AP/Lm/98AP/lzP/Uq/+tXf/9/P/06f/Hk/+9fv/u3f/Klv/Spf+oVv+za/+jSv/Lmf/q1f/Gjv+1bf/69//Sp/+bOv/PoP+3c//z5/9/AP/Ikv/r1/+hRv/FjP/Mmv+ZN//06v/59P/69f/q1v/x5P9/AP+PI/+3cf/9+//8+v+gRP/16//o0//Ztf+nUv/17P/Hkf/ixv/s2v/59P/48//Di/+lT//ky//hxf/Wrv+oVf/u3f/w4//Wrf+5dv/gxP/7+f/z6P/dvP+6d//u3v+aOP/r2f/r2f///9a+uZsAAADndFJOUwB9B29qA1OAd38/RykBeP6BgLX+KhJ2CQgRdWHt8zpGOUVmC2sK2uaFu/aCQS+DktPwyIz3jfyHZz5o8tf1kvq4hPz+/c6LxIhi8e/RqvBjfKJaedtbgki8K54GgYqb3bGT0rnN/XDNloae30CZpFJUG0BlGhgZUjPHnJgto/PyUJHxUdi8dLKTnU/55aev64yGg+DWqDipjizAlTCdArgx1cCc/Ou0quG1vZqilrfcsaP4vpC6peoos96UsLeP7PX33OcyiaT8+5Tu2saY7rPR4Pb0sJfV0MKZ4ufBptD66sun4pDf3qyDniQAAAO+SURBVFjDpVf1WxRBGF7gYO64A+5OJKU7lFRaSlLARlBpsEVFwu7u7u7u7u7ubt1/w7vZPXZmd/bYffx+geed731vZme+oigR83NsGBNvpbSwUFrF29g6+lGybKxaoQKYqRTqRqlsS09/QDR/T0sJdOdwJRA15Ujntvgd3YBZU661M0dv3wO0aXntxfkaeyDB+mwQodv1BxJNTTyGtQ2QbDbWBH4/02qMBIXeQoVZrYt/h0vZA/8U3PmHtvs0SIKCF84v5Vbe0XQl/GfTgejAoKDFgY/nDSUpTMbun7u/zl1o+lUc6BrdneasQ06EQMDeFRFA3s97I2FIpAONm0OBQMKd49/m0OCXRvfd92iB1W3U8hQ2t8aPEwfq2T3TBFu1Hhdwc2EFwjlMt4d1vsH8meYR245TyO+KK9iy8Y/E70+TrwdN/wp5km6AVpSXBJnQpCo8NJn84IlAI1p/7UU5Au+6yaJP4zAFbyig4IBR3HZjyzDXwlgG3oHnKJj/EOA58sl+4OeNiGLgSgxtNgioAfaIuJt/gyucZhQ8gvkPGjlBVU30249R3ViFEbxrP8TIz0GxREP+V/FfmG75hy/6z18rvtfzFkKgQEoxmu0DKEfpaaQTEx53UUxDjZQuAPZCgQL8LY2RIZCbAT8jCrVQvjIEQF+4hWwEGUcNliOwEwpMQRArSilHoBAKXEYQJ8pCjsAJKKBHkJ7yBIZDgRpMQNYR1kCBC9gRZH3EK1DgLPYRZV1jNRQ4gl2jjIoIdFON/NSVCDSaasB9hr3+s0VUoBfcQCAKJWDBpK2v/kbTyaICFVDgKB5MaDj/rjM6ZA4wu4GMGDyc0YQCIqHLtXQif1gRXK1FsXg8pYFRTBFYrSXww5hIynyAgj4GgUYUqGWyWVaxMJswu6MnYGgTL62DuJmM28U7PH72frbmBQvSOlZYwGE2paYcR7sMrT6Uge8vIBQWSywclppq4cOQqyw042CRKdWvI5U2tLgaLI2rpvnJQ3KyZidxpeIZsbhSznh7uy+VJtuiJTh/rqm8U9vxhUnniPxbl3gftiPXouTxrjztpIAeqteKtzhok8VY2Rm8R1m2Lddsk0WoT7oBp44xd3f9UclEnfBlavBGUU0uZp3nx4SRI8uH3+pOB7JM0OoizbYUIzTb1NaF0vmjrYkTh5dEuspHbOQ5L6lI9CkVH5pc3dvmu7v+39g3vq3B0cXWzDmcbF0kzK4DvRVkusJ7oNTxudkrkT98J/o0yRvgAzQJNr7M+O/bkqAJEPP7B6FvZpCHDcaFAAAAAElFTkSuQmCC\";export default A;\n"],"sourceRoot":""}