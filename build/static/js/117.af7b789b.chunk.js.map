{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/RasterWorker.js"],"names":["r","a","o","data","options","t","toJSON","pixelBlock","e","fromJSON","extent","s","this","symbolizer","symbolize","n","symbolizerJSON","histograms","rendererJSON","type","simpleStretch","srcPixelBlock","stretchParams","i","tileSize","maximumPyramidLevel","forEach","set","srcPixelBlocks","map","m","srcMosaicSize","coefs","l","destDimension","sampleSpacing","interpolation"],"mappings":"2YAI8Z,WAAaA,GAAb,eAAAC,EAAA,sEAA8BC,YAAEF,EAAEG,KAAKH,EAAEI,SAAzC,cAAsBC,EAAtB,yBAAyDA,GAAGA,EAAEC,UAA9D,2C,8EAAuE,SAAUJ,GAAGA,EAAEK,WAAWC,IAAEC,SAASP,EAAEK,YAAYL,EAAEQ,OAAOR,EAAEQ,OAAOL,IAAEI,SAASP,EAAEQ,QAAQ,KAAK,IAAMC,EAAEC,KAAKC,WAAWC,UAAUZ,GAAG,OAAOF,YAAEW,GAAGA,EAAEL,Y,qEAAU,WAAuBN,GAAvB,eAAAC,EAAA,sDAAgCW,KAAKC,WAAWE,IAAEN,SAAST,EAAEgB,gBAAgBhB,EAAEiB,YAAY,mBAAmB,OAAOZ,EAAEO,KAAKC,iBAAY,EAAOR,EAAEa,aAAaC,QAAQP,KAAKC,WAAWK,aAAaD,WAAWjB,EAAEiB,YAAhN,gD,4EAA4N,SAAQZ,GAAG,IAAMH,EAAEU,KAAKC,WAAWO,cAAcZ,IAAEC,SAASJ,EAAEgB,eAAehB,EAAEiB,eAAe,OAAOtB,YAAEE,GAAGA,EAAEI,Y,0CAAU,SAA6BD,GAAG,IAAMH,EAAES,YAAEH,IAAEC,SAASJ,EAAEgB,gBAAgB,OAAOrB,YAAEE,K,mBAAG,SAAMG,GAAG,IAAMH,EAAEqB,YAAEf,IAAEC,SAASJ,EAAEgB,eAAehB,EAAEmB,SAASnB,EAAEoB,qBAAqB,OAAOvB,GAAGA,EAAEwB,SAAS,SAAC1B,EAAEK,GAAKH,EAAEyB,IAAItB,EAAE,MAAML,OAAE,EAAOA,EAAEM,aAAaN,YAAEE,K,uEAAG,WAAyBF,GAAzB,mBAAAC,EAAA,yDAAkCI,EAAEL,EAAE4B,eAAeC,KAAK,SAAA7B,GAAC,OAAEA,EAAE,IAAIQ,IAAER,GAAG,QAAOE,EAAE4B,YAAEzB,EAAEL,EAAE+B,eAAmB/B,EAAEgC,MAA5G,yCAAyH9B,GAAGA,EAAEI,UAA9H,cAA6IK,EAAEsB,YAAE/B,EAAEF,EAAEkC,cAAclC,EAAEgC,MAAMhC,EAAEmC,cAAcnC,EAAEoC,eAA7L,kBAAmNzB,GAAGA,EAAEL,UAAxN,2C","file":"static/js/117.af7b789b.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{resolve as r}from\"../../core/promiseUtils.js\";import t from\"../../geometry/Extent.js\";import\"../../geometry.js\";import e from\"./PixelBlock.js\";import{decode as o}from\"./rasterFormats/RasterCodec.js\";import{estimateStatisticsHistograms as s,split as i,mosaic as m,approximateTransform as l}from\"./rasterFunctions/pixelUtils.js\";import n from\"../../renderers/support/RasterSymbolizer.js\";export default class{async decode(r){const t=await o(r.data,r.options);return t&&t.toJSON()}symbolize(o){o.pixelBlock=e.fromJSON(o.pixelBlock),o.extent=o.extent?t.fromJSON(o.extent):null;const s=this.symbolizer.symbolize(o);return r(s&&s.toJSON())}async updateSymbolizer(r){var t;this.symbolizer=n.fromJSON(r.symbolizerJSON),r.histograms&&\"rasterStretch\"===(null==(t=this.symbolizer)?void 0:t.rendererJSON.type)&&(this.symbolizer.rendererJSON.histograms=r.histograms)}stretch(t){const o=this.symbolizer.simpleStretch(e.fromJSON(t.srcPixelBlock),t.stretchParams);return r(o&&o.toJSON())}estimateStatisticsHistograms(t){const o=s(e.fromJSON(t.srcPixelBlock));return r(o)}split(t){const o=i(e.fromJSON(t.srcPixelBlock),t.tileSize,t.maximumPyramidLevel);return o&&o.forEach(((r,t)=>{o.set(t,null==r?void 0:r.toJSON())})),r(o)}async mosaicAndTransform(r){const t=r.srcPixelBlocks.map((r=>r?new e(r):null)),o=m(t,r.srcMosaicSize);if(!r.coefs)return o&&o.toJSON();const s=l(o,r.destDimension,r.coefs,r.sampleSpacing,r.interpolation);return s&&s.toJSON()}}\n"],"sourceRoot":""}