(this["webpackJsonpqp-ampd-app"]=this["webpackJsonpqp-ampd-app"]||[]).push([[22],{624:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=624},762:function(e){e.exports=JSON.parse("{}")},883:function(e,t,n){},886:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return Xn}));var a={};n.r(a),n.d(a,"watchAreaQuery",(function(){return K}));var r={};n.r(r),n.d(r,"watchStartAPI",(function(){return we}));var o={};n.r(o),n.d(o,"watchFetchConfig",(function(){return Je})),n.d(o,"watchUpdateConfig",(function(){return Ne}));var c={};n.r(c);var i={};n.r(i),n.d(i,"areaQuery",(function(){return B})),n.d(i,"auth",(function(){return ne})),n.d(i,"config",(function(){return Ee})),n.d(i,"map",(function(){return $e})),n.d(i,"securityToken",(function(){return Ke}));var s=n(19),l=n.n(s),u=n(196),d=n.n(u),p=n(547),b=n(136),h=n(132),f=n(277),j=n(730),y=n(7),g=n.n(y),O=n(38),m=n(85),v="ADD_TO_STORE",x="ADDED_TO_STORE",S="SEND_AREA_QUERY",w="AREA_QUERY_SENT",A="AREA_QUERY_DONE",C="AREA_QUERY_FAIL",k="AREA_QUERY_STATUS",I="BUILD_FEATURE_LAYER",E=n(410),D=n.n(E);function T(e){var t={startDate:e.payload.startDate,endDate:e.payload.endDate,areas:[{longitude:e.payload.longitude,latitude:e.payload.latitude,radius:e.payload.radius}]};return console.log("REQ PAYLOAD (client-side): ",t),D.a.request({url:"/api/v1/location-data/area-query",method:"POST",data:t,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"995dba95-c33d-456b-a7ea-3fd512e60894",TempSecurityToken:e.payload.TempSecurityToken}})}n(604).config();var R=n(32),U=(n(717),n(65),n(891),n(885),n(893),n(383),n(80)),L=(n(889),n(888),n(10)),F=function(e){var t=new Date(e),n=t.toISOString().slice(0,-5)+"Z";return console.group("Formatted Date:>"),console.log("Date Prop: ",t),console.log("Format Date: ",n),console.groupEnd(),n},Q=new Date,W=Q.setDate(Q.getDate()-7),G=Q.setDate(Q.getDate()),X=(F(new Date(W)),F(new Date(G)),{startDate:"0",endDate:"0",latitude:0,longitude:0,radius:10,status:"idle",locationData:{}}),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:if(console.log("ADDED: ",t),"string"==typeof t.payload){t.payload;return Object(L.a)(Object(L.a)(Object(L.a)({},e),t.payload),{},{status:"loading"})}return Object(L.a)(Object(L.a)(Object(L.a)({},e),t.payload),{},{status:"loading"});case w:return console.log("SENT: ",t),Object(L.a)(Object(L.a)(Object(L.a)({},e),t.payload),{},{status:"success"});case A:return console.log("SUCCESS: ",t),Object(L.a)(Object(L.a)({},e),{},{status:"success"});case C:return console.log("FAIL: ",t),e;case k:return console.log("STATUS: ",t),{status:e.status};default:return e}};var J=g.a.mark(M),N=g.a.mark(P),Z=g.a.mark(V),q=g.a.mark(K);function M(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("WORKER: ",e),t.prev=1,t.next=4,Object(m.d)({type:x,payload:e.payload});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error("SAGA ERROR: data/addToStore, ",t.t0);case 9:case"end":return t.stop()}}),J,null,[[1,6]])}function P(e){var t,n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("WORKER: ",e),a.prev=1,a.next=4,Object(m.b)(T,e);case 4:return t=a.sent,n=t.data,console.log("RES DATASET (client-side): ",n),a.next=9,Object(m.d)({type:w,payload:n});case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),console.error("SAGA ERROR: data/sendAreaQuery, ",a.t0);case 14:case"end":return a.stop()}}),N,null,[[1,11]])}function V(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("WORKER: ",e),t=e.payload,t.areaQueryState,t.baseMap,t.mapView,n.prev=2,n.next=5,Object(m.b)((function(e,t,n){}));case 5:n.sent,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),console.error("SAGA ERROR: data/buildFeatureLayer, ",n.t0);case 11:case"end":return n.stop()}}),Z,null,[[2,8]])}function K(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(v,M);case 2:return e.next=4,Object(m.e)(S,P);case 4:return e.next=6,Object(m.e)(I,V);case 6:case"end":return e.stop()}}),q)}var z="AUTH_START",Y="AUTH_COMPLETE",H="AUTH_SUCCESS",_="AUTH_FAIL",$="AUTH_CHECK",ee="LOGOUT",te={user:null,portal:null,token:null,loggedIn:!1},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:var n=t.payload,a=n.user,r=n.portal,o=n.token;return{user:a,portal:r,token:o,loggedIn:!0};case _:return{user:null,portal:null,token:null,loggedIn:!1};default:return e}},ae=function(e){return{type:z,payload:e}},re=n(16),oe=n(715),ce=n(628),ie=n(514);function se(e){var t=e.portalUrl,n=void 0===t?"https://qptampa.maps.arcgis.com/":t,a=e.clientId,r=e.popup,o=void 0!==r&&r;oe.a.beginOAuth2({clientId:a,portalUrl:n,popup:o,redirectUri:"".concat(window.location.origin,"/auth")})}function le(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(re.a)(g.a.mark((function e(t){var n,a,r,o,c,i,s,l,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.portalUrl,a=void 0===n?"https://qptampa.maps.arcgis.com/":n,r=t.clientId,o=t.sessionId,c=void 0===o?"".concat(a,"_session"):o,i=oe.a.completeOAuth2({clientId:r,portalUrl:a}),s=i.token,he(i,c),e.next=6,i.getUser();case 6:return l=e.sent,e.next=9,Object(ce.a)(null,{portal:i.portal,authentication:i});case 9:return u=e.sent,e.abrupt("return",{user:l,portal:u,token:s});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){!function(e){ie.remove(e)}(e)}function pe(e){return be.apply(this,arguments)}function be(){return(be=Object(re.a)(g.a.mark((function e(t){var n,a,r,o,c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,a=ie.get(t),!(r=a&&oe.a.deserialize(a))){e.next=12;break}return e.next=6,r.getUser();case 6:return o=e.sent,e.next=9,Object(ce.a)(null,{portal:r.portal,authentication:r});case 9:c=e.sent,i=r.token,n={user:o,portal:c,token:i};case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,t){var n=e.tokenExpires;ie.set(t,e.serialize(),{expires:n,sameSite:"strict"})}var fe=g.a.mark(me),je=g.a.mark(ve),ye=g.a.mark(xe),ge=g.a.mark(Se),Oe=g.a.mark(we);function me(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.b)(pe,e.payload.sessionId);case 3:if(t=n.sent){n.next=8;break}return n.next=7,Object(m.b)(se,e.payload);case 7:t=n.sent;case 8:if(!t){n.next=13;break}return n.next=11,Object(m.d)({type:H,payload:t});case 11:n.next=15;break;case 13:return n.next=15,Object(m.d)({type:_});case 15:n.next=22;break;case 17:return n.prev=17,n.t0=n.catch(0),n.next=21,Object(m.d)({type:_});case 21:console.error("SAGA ERROR: auth/startAuth, ",n.t0);case 22:case"end":return n.stop()}}),fe,null,[[0,17]])}function ve(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.b)(le,e.payload);case 3:if(!(t=n.sent)){n.next=9;break}return n.next=7,Object(m.d)({type:H,payload:t});case 7:n.next=11;break;case 9:return n.next=11,Object(m.d)({type:_});case 11:n.next=18;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(m.d)({type:_});case 17:console.error("SAGA ERROR: auth/startAuth, ",n.t0);case 18:case"end":return n.stop()}}),je,null,[[0,13]])}function xe(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.b)(pe,e.payload.sessionId);case 3:if(!(t=n.sent)){n.next=9;break}return n.next=7,Object(m.d)({type:H,payload:t});case 7:n.next=11;break;case 9:return n.next=11,Object(m.d)({type:_});case 11:n.next=18;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(m.d)({type:_});case 17:console.error("SAGA ERROR: auth/checkAuth, ",n.t0);case 18:case"end":return n.stop()}}),ye,null,[[0,13]])}function Se(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m.b)(de,e.payload.sessionId);case 3:window.location.reload(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("SAGA ERROR: auth/logout, ",t.t0);case 9:case"end":return t.stop()}}),ge,null,[[0,6]])}function we(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)($,xe);case 2:return e.next=4,Object(m.e)(z,me);case 4:return e.next=6,Object(m.e)(Y,ve);case 6:return e.next=8,Object(m.e)(ee,Se);case 8:case"end":return e.stop()}}),Oe)}var Ae="SET_CONFIG",Ce="UPDATE_CONFIG",ke="CONFIG_FETCH",Ie={loaded:!1},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:case Ce:return Object(L.a)(Object(L.a)(Object(L.a)({},e),t.payload),{},{loaded:!0});default:return e}};function De(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}function Te(e,t){switch(e){case"text":return t.text();default:return t.json()}}function Re(e,t){return t?this.objectToFormData(e):function(e){var t=new URLSearchParams;for(var n in e)e.hasOwnProperty(n)&&t.append(n,e[n]);return t.has("f")||t.append("f","json"),t.toString()}(e)}function Ue(e){return new Promise((function(t,n){var a=e.url,r=e.data||{},o=function(e){var t={};return e||(t["content-type"]="application/x-www-form-urlencoded"),new Headers(t)}(e.isFormData),c={method:e.method||"get",headers:o};e.hideCredentials||(c.credentials="include");var i=Re(r,e.isFormData);"get"===c.method?a="".concat(a,"?").concat(i):c.body=i,fetch(a,c).then(De).then(Te.bind(null,e.handleAs)).then((function(e){e.error?n(e.error):t(e)})).catch((function(e){n(e)}))}))}function Le(){return new Promise((function(e,t){Ue({url:"/config.json",method:"get"}).then((function(t){console.log("Response: ",t),e(t)}))}))}var Fe=g.a.mark(Xe),Qe=g.a.mark(Be),We=g.a.mark(Je),Ge=g.a.mark(Ne);function Xe(e){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.b)(Le);case 3:return t=e.sent,e.next=6,Object(m.d)({type:Ae,payload:t});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("SAGA ERROR: config/fetchConfig, ",e.t0);case 11:case"end":return e.stop()}}),Fe,null,[[0,8]])}function Be(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m.b)(Le);case 3:if(!t.sent){t.next=7;break}return t.next=7,Object(m.d)({type:Ce,payload:e.payload});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("SAGA ERROR: config/updateConfig, ",t.t0);case 12:case"end":return t.stop()}}),Qe,null,[[0,9]])}function Je(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(ke,Xe);case 2:case"end":return e.stop()}}),We)}function Ne(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(Ce,Be);case 2:case"end":return e.stop()}}),Ge)}var Ze="SECURITY_TOKEN_CHECK",qe="SECURITY_TOKEN_SET",Me="SECURITY_TOKEN_DECRYPT",Pe="SECURITY_TOKEN_SUCCESS",Ve={isValid:!1},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return Object(L.a)(Object(L.a)({},e),{},{isValid:!0});case qe:return console.log("SECURITY_TOKEN_SET: ",t),Object(L.a)(Object(L.a)({},e),{},{isValid:!0});case Pe:return console.log("SECURITY_TOKEN_SUCCESS: ",t),Object(L.a)(Object(L.a)(Object(L.a)({},e),t.payload),{},{isValid:!0});case Me:return console.log("SECURITY_TOKEN_DECRYPT: ",t),Object(L.a)(Object(L.a)(Object(L.a)({},e),t.payload),{},{isValid:!0});default:return e}};var ze=g.a.mark(Ye);function Ye(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)([].concat(Object(O.a)(Object.values(a)),Object(O.a)(Object.values(r)),Object(O.a)(Object.values(o)),Object(O.a)(Object.values(c))).map(m.c));case 2:case"end":return e.stop()}}),ze)}var He="MAP_LOADED",_e={loaded:!1},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He:return Object(L.a)(Object(L.a)({},e),{},{loaded:!0});default:return e}},et=function(e){return{type:He,payload:e}};function tt(){return D.a.request({method:"get",url:"/api/v1/security-token"})}n(604).config();var nt=g.a.mark(at);function at(e){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.b)(tt);case 3:return t=e.sent,n=t.data,console.log("Handler Response: ",t),e.next=8,Object(m.d)({type:Pe,payload:n});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error: ",e.t0);case 13:case"end":return e.stop()}}),nt,null,[[0,10]])}var rt=g.a.mark(ct),ot=function(e){var t=new Response(JSON.stringify({code:e.code,message:e.statusText}));return console.warn(t),t};function ct(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(qe,at||ot);case 2:case"end":return e.stop()}}),rt)}n(762);var it,st,lt,ut,dt=n(30),pt=n(719),bt=n.n(pt),ht=n.p+"static/media/Topo-Abs-BG.b496ff06.svg",ft="data:image/png;base64,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",jt=n(150),yt=n(291),gt=n(729),Ot=n(52),mt=jt.b.div(it||(it=Object(dt.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  background: rgba(255, 255, 255, 0.1) url(",") no-repeat center/cover;\n  background-blend-mode: screen;\n"])),ht),vt=jt.b.div(st||(st=Object(dt.a)(["\n  position: absolute;\n  top: 70%;\n  left: 50%;\n  transform: translate(-50%);\n"]))),xt=jt.b.div(lt||(lt=Object(dt.a)(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  z-index: 20;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 2em;\n  text-align: center;\n  color: white;\n"]))),St=jt.b.img(ut||(ut=Object(dt.a)(["\n  width: 8em;\n  height: 100%;\n  margin-right: 1em;\n"]))),wt=function(){return Object(Ot.jsx)(gt.a.div,{initial:{opacity:1,zIndex:1e3},animate:{opacity:0,transitionEnd:{display:"none"}},transition:{delay:1,duration:1,ease:"easeInOut"},children:Object(Ot.jsx)(mt,{})})},At=function(e){return e.isLoading?Object(Ot.jsx)(wt,{}):Object(Ot.jsxs)(mt,{children:[Object(Ot.jsx)(vt,{children:Object(Ot.jsx)(bt.a,{})}),Object(Ot.jsxs)(xt,{children:[Object(Ot.jsx)(St,{src:ft}),Object(Ot.jsx)(yt.CalciteH5,{children:"Anonymized Mobile Phone Data"})]})]})},Ct=n(322),kt=n.n(Ct),It=n(723),Et=n.n(It),Dt=n(542),Tt=n.n(Dt),Rt=n(543),Ut=n.n(Rt),Lt=n(544),Ft=n.n(Lt),Qt=n(315),Wt=n.n(Qt),Gt=n(724),Xt=n.n(Gt),Bt=n(405),Jt=n.n(Bt),Nt=n(422),Zt=n.n(Nt),qt=n(504),Mt=n.n(qt),Pt=n(725),Vt=n.n(Pt),Kt=n(338),zt=n.n(Kt),Yt=function(e){var t=e.user?Object(Ot.jsx)(Mt.a,{style:{padding:0},children:Object(Ot.jsxs)(Vt.a,{user:e.user,portal:e.portal,token:e.token,onRequestSwitchAccount:function(){return console.log("switch account clicked")},onRequestSignOut:e.signOut,children:[Object(Ot.jsx)(zt.a,{onClick:function(){return console.log("Profile & Settings clicked")},children:"Profile & Settings"}),Object(Ot.jsx)(zt.a,{onClick:function(){return console.log("My Esri clicked")},children:"My Esri"}),Object(Ot.jsx)(zt.a,{onClick:function(){return console.log("Training clicked")},children:"Training"}),Object(Ot.jsx)(zt.a,{onClick:function(){return console.log("Community & Forums clicked")},children:"Community & Forums"}),Object(Ot.jsx)(zt.a,{onClick:function(){return console.log("ArcGIS Online clicked")},children:"ArcGIS Online"})]})}):null,n=Object(Ot.jsx)(Mt.a,{children:Object(Ot.jsx)(kt.a,{clear:!0,onClick:e.signIn,children:"Sign In"})}),a=e.loggedIn?t:n;return Object(Ot.jsx)("div",{children:a})},Ht=n(505),_t=(n(887),n(884),n(890),n(99)),$t=(n(453),n(260),n(300));var en,tn,nn,an,rn,on,cn,sn,ln,un,dn,pn=n(495),bn=n(79),hn=function(e){console.log("Locations: ",e);var t=e,n=t.locationA,a=t.locationB,r=new _t.a({paths:[[[n.x,n.y],[a.x,a.y]]]});console.log(JSON.stringify(r)),r=new _t.a(r),console.log(JSON.stringify(r)),r=Object(bn.e)(r),console.log(JSON.stringify(r));var o=Object(pn.b)([r],"meters");return console.log("Polyline Length: ",o[0]),o>=2500&&(o=2500),o[0]},fn=n(2),jn=n(3),yn=n(40),gn=n(5),On=n(6),mn=n(555),vn=n.n(mn),xn=(n(808),function(e){Object(gn.a)(n,e);var t=Object(On.a)(n);function n(e){var a;return Object(fn.a)(this,n),(a=t.call(this,e)).state={startDate:null,endDate:null},a.handleStartDateChange=a.handleStartDateChange.bind(Object(yn.a)(a)),a.handleEndDateChange=a.handleEndDateChange.bind(Object(yn.a)(a)),a.onFormSubmit=a.onFormSubmit.bind(Object(yn.a)(a)),a}return Object(jn.a)(n,[{key:"shouldComponentUpdate",value:function(){return console.log("DateRange <Child> Component - shouldComponentUpdate()<lifecycle>"),!0}},{key:"componentDidMount",value:function(){console.log("Component Did Load");var e=new Date(Date.now());this.setState({startDate:e.setDate(e.getDate()-7),endDate:e.setDate(e.getDate())}),console.log("props:",this.props),console.log("State",this.state)}},{key:"handleStartDateChange",value:function(e){var t=new Date(e),n=F(t);this.props.addToStoreCreator({startDate:n})}},{key:"handleEndDateChange",value:function(e){var t=new Date(e),n=F(t);this.props.addToStoreCreator({endDate:n})}},{key:"onFormSubmit",value:function(e){e.preventDefault(),console.group("Date Range:>"),console.log(this.props.startDate),console.log(this.props.endDate),console.groupEnd();var t=Object(L.a)(Object(L.a)({},this.props.areaQuery),this.props.securityToken);return console.log("Payload:",t),this.props.sendAreaQueryCreator(t)}},{key:"render",value:function(){var e=this;return Object(Ot.jsxs)("form",{onSubmit:this.onFormSubmit,children:[Object(Ot.jsxs)("div",{className:"form-group",children:[Object(Ot.jsx)("label",{children:"Start Date: "}),Object(Ot.jsx)(vn.a,{id:"startDatePicker",label:"Start Date",selected:this.props.startDate,onChange:this.handleStartDateChange,onSelect:function(t){return e.props.handleStartQuery(t)},name:"startDate",dateFormat:"MM/dd/yyyy",startDate:this.props.startDate,maxDate:Date.now(),minDate:new Date("16 Jun 2017 00:00:00 GMT")})]}),Object(Ot.jsxs)("div",{className:"form-group",children:[Object(Ot.jsx)("label",{children:"End Date: "}),Object(Ot.jsx)(vn.a,{id:"endDatePicker",label:"End Date",selected:this.props.endDate,onChange:this.handleEndDateChange,onSelect:function(t){return e.props.handleEndQuery(t)},name:"endDate",dateFormat:"MM/dd/yyyy",endDate:this.props.endDate,maxDate:Date.now(),minDate:new Date("16 Jun 2017 00:00:00 GMT")})]}),Object(Ot.jsx)(kt.a,{className:"btn btn-primary",type:"submit",children:"Submit"})]})}}]),n}(s.Component)),Sn={addToStoreCreator:function(e){return{type:"ADD_TO_STORE",payload:e}},sendAreaQueryCreator:function(e){return{type:"SEND_AREA_QUERY",payload:e}}},wn=Object(h.b)((function(e){return console.log("state: ",e.areaQuery),{areaQuery:e.areaQuery,securityToken:e.securityToken}}),Sn)(xn),An=jt.b.div(en||(en=Object(dt.a)(["\n  height: 100%;\n  width: 100%;\n"]))),Cn=jt.b.div(tn||(tn=Object(dt.a)(["\n  min-height: 10vh;\n  width: 12vw;\n  padding: 10px;\n"]))),kn=(jt.b.div(nn||(nn=Object(dt.a)(["\n  min-height: 10vh;\n  width: 12vw;\n"]))),jt.b.div(an||(an=Object(dt.a)(["\n  min-height: 10vh;\n  width: 12vw;\n"]))),function(e){var t,n,a,r,o="mapViewContainer",c="dateRangeContainer",i=Object(h.c)(),u=(Object(h.d)((function(e){return e.securityToken})).TempSecurityToken,Object(h.d)((function(e){return e.refIdQuery})),Object(h.d)((function(e){return e.areaQuery}))),d=Object(h.d)((function(e){return e.areaQuery.status})),p=Object(s.useState)(0),b=Object(R.a)(p,2),f=b[0],j=b[1],y=Object(s.useState)(0),g=Object(R.a)(y,2),O=g[0],m=g[1],x=Object(s.useState)({}),S=Object(R.a)(x,2),w=S[0],A=S[1],C=Object(s.useState)({}),k=Object(R.a)(C,2),I=k[0],E=k[1],D=w,T=I,Q=!0,W=[116,150,179,.2],G=[0,96,175],X={color:[0,96,175],width:2},B={color:[3,17,30],width:1};Object(s.useEffect)((function(){var e=new Date(Date.now());console.log("Default State: ",e);var t=e.setDate(e.getDate()-7),n=e.setDate(e.getDate()),a=F(new Date(t)),r=F(new Date(n));j(t),m(n),i({type:v,payload:{startDate:a}}),i({type:v,payload:{endDate:r}})}),[]),Object(s.useEffect)((function(){var r,s,l;(r=o,s=e.mapConfig,l=e.loaderConfig,Object(Ht.loadModules)(["esri/Map","esri/views/MapView","esri/layers/GraphicsLayer"],l).then((function(e){var t=Object(R.a)(e,3),n=t[0],a=t[1],o=new(0,t[2]);if(r){var c=new n(s),i=new a(Object(L.a)({map:c,container:r,layers:[o]},s));return i.when((function(){return i}))}}))).then((function(r){console.log("LoadMap: ",r),Object(Ht.loadModules)(["esri/geometry/geometryEngine","esri/Map","esri/widgets/Expand","esri/widgets/LayerList","esri/widgets/ScaleBar","esri/widgets/Search","esri/widgets/Sketch","esri/widgets/Sketch/SketchViewModel","esri/views/MapView"],e.loaderConfig).then((function(r){var o=Object(R.a)(r,9),s=o[0],l=o[1],u=(o[2],o[3]),d=o[4],p=o[5],b=o[6],h=o[7],f=o[8];n=new $t.a({title:"Basemap"}),D=new l({basemap:"gray-vector",layers:[n]}),T=new f(Object(L.a)({container:"mapViewContainer",map:D,extent:{spatialReference:{wkid:102100},xmin:-9177882,ymin:4246761,xmax:-9176720,ymax:4247967},popup:{dockEnabled:!0,dockOptions:{position:"bottom",breakpoint:!1}}},e.mapConfig)),A(D),E(T);new Date;var j=new u({view:T}),y=new p({view:T}),g=new d({view:T,unit:"dual"});T.ui.add(c,"top-right"),T.ui.add([{component:y,position:"top-right",index:0}]),T.ui.add([{component:j,position:"bottom-right"}]),T.ui.add([{component:g,position:"bottom-left",index:0}]),T.when((function(){t=new h({view:T,layer:a,updateOnGraphicClick:!1,defaultUpdateOptions:{toggleToolOnClick:!1}});var e=new b({id:"ampdSketchWidget",availableCreateTools:["point","circle"],layout:"horizontal",layer:a,view:T,creationMode:"update"}),n=e.viewModel.pointSymbol;n.color=G,n.outline=B,n.size=8;var r=e.viewModel.polylineSymbol;r.color=X.color,r.width=X.width;var o=e.viewModel.polygonSymbol;o.color=W,o.outline=X,T.ui.add([{component:e,position:"bottom-right"}]),t.on(["update","undo","redo"],m),e.on(["create","complete"],O)}));var O=function(e){var t=e.graphic;if("start"===e.state&&"circle"===e.tool&&console.log("Sketch Tool - Start / Circle: ",e),"complete"===e.state&&"circle"===e.tool){console.log("Sketch Tool - Complete / Circle: ",e);var n=t.geometry.centroid.x,a=t.geometry.centroid.y,r=t.geometry.rings[0][0][0],o=t.geometry.rings[0][0][1],c=hn({locationA:{x:n,y:a},locationB:{x:r,y:o}});console.log("Circle Radius: ",c);var s={latitude:t.geometry.centroid.latitude,longitude:t.geometry.centroid.longitude,radius:c};i({type:v,payload:s})}"update"===e.state&&"circle"===e.tool&&console.log("Sketch Tool - Update / Circle: ",e)},m=function(e){var n=e.graphics[0];console.log("Sketch Tool - Update: ",e),Q=s.contains(undefined,n.geometry),n.symbol=undefined,!e.toolEventInfo||"move-stop"!==e.toolEventInfo.type&&"reshape-stop"!==e.toolEventInfo.type?"complete"===e.state&&(console.log("On Complete: ",n),t.complete(),S(n.geometry),Q||(console.log("On Reshape: ",n),t.update([n],{tool:"reshape"}),S(n.geometry))):(console.log("On Stop / Reshape: ",n),Q&&(console.log("On Reshape / Complete: ",n),t.complete()))};a=new $t.a({title:"Geofences"}),D.layers.add(a);var x={type:"simple-marker",color:G,outline:{color:[3,17,30],width:1}};new U.a({geometry:{type:"point",longitude:-82.568518,latitude:27.964489},symbol:x});function S(e){"point"===e.type?console.log("point coords: ",e.x,e.y,e.z):console.log("The value is a geometry, but isn't a point.")}}))}))}),[]);"success"==d&&(console.log("Data Loaded: ",d),function(e,t){var n=e.locationData.areas;console.log("resDataArray: ",n),r=new $t.a({title:"Data Points"}),n.map((function(e,t){n[t].registrationIDs.map((function(e,a){n[t].registrationIDs[a].signals.map((function(e,t){var n=e.latitude,a=e.longitude,o=(e.registrationID,{type:"point",longitude:a,latitude:n}),c={type:"simple-marker",color:G,outline:{color:B,width:1}},i=new U.a({geometry:o,symbol:c});r.add(i)}))}))})),t.layers.add(r)}(u,w));return Object(Ot.jsx)(l.a.Fragment,{children:Object(Ot.jsx)(An,{id:o,children:Object(Ot.jsx)(Cn,{id:c,className:"esri-widget",children:Object(Ot.jsx)(wn,{startDate:f,endDate:O,handleStartQuery:function(e){console.log("queryStartHandler: ",e);var t=Date.parse(e);j(t)},handleEndQuery:function(e){console.log("queryEndHandler: ",e);var t=Date.parse(e);m(t)}})})})})}),In=(n(878),n(879),n(880),n(633),jt.b.div(rn||(rn=Object(dt.a)(["\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n"])))),En=jt.b.div(on||(on=Object(dt.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  position: relative;\n  z-index: 0;\n  overflow: hidden;\n"]))),Dn=Object(jt.b)(Tt.a)(cn||(cn=Object(dt.a)(["\n  justify-content: center;\n  & img {\n    height: 55px;\n  }\n"]))),Tn=Object(jt.b)(Et.a)(sn||(sn=Object(dt.a)(["\n  && {\n    z-index: 5;\n  }\n"]))),Rn=Object(jt.b)(Ft.a)(ln||(ln=Object(dt.a)(["\n  text-align: inherit;\n"]))),Un=Object(jt.b)(Xt.a)(un||(un=Object(dt.a)(["\n  height: 40px;\n  div { height: 40px; }\n"]))),Ln=function(e){var t=Object(h.d)((function(e){return e.auth})),n=Object(h.d)((function(e){return e.config})),a=Object(h.d)((function(e){return e.auth.user})),r=Object(h.d)((function(e){return e.map.loaded})),o=(Object(s.useRef)(),Object(h.c)());function c(e,t,n,a,r,o){console.dir("id: "+e,"phase:"+t,"actualTime:"+n,"baseTime: "+a,"startTime: "+r,"commitTime: "+o)}return Object(Ot.jsxs)(In,{children:[Object(Ot.jsx)(At,{isLoading:!r}),Object(Ot.jsx)(s.Profiler,{id:"Nav",onRender:c,children:Object(Ot.jsxs)(Tn,{children:[Object(Ot.jsx)(Dn,{href:"#",src:ft}),Object(Ot.jsx)(Ut.a,{href:"#",children:"Anonymized Mobile Phone Data"}),a?Object(Ot.jsxs)(Rn,{children:[Object(Ot.jsx)(Wt.a,{href:"https://github.com/Quiet-Professionals-LLC/qp-ampd-app",target:"_blank",children:"AMPD Repo"}),Object(Ot.jsx)(Wt.a,{href:"https://github.com/Esri/esri-react-boot/wiki",target:"_blank",children:"Docs"}),Object(Ot.jsx)(Wt.a,{href:"https://calcite-react.netlify.com/",target:"_blank",children:"Calcite-React"})]}):Object(Ot.jsxs)(Rn,{children:[Object(Ot.jsx)(Wt.a,{href:"/",children:"Get AMPD"}),Object(Ot.jsx)(Wt.a,{href:"/",children:"Features"}),Object(Ot.jsx)(Wt.a,{href:"/",children:"About QP"})]}),Object(Ot.jsx)(Yt,{user:t.user,portal:t.portal,token:t.token,loggedIn:t.loggedIn,signIn:function(){var e=n.clientId,t=n.sessionId,a=n.popup;o(ae({clientId:e,sessionId:t,popup:a,signInRequest:!0}))},signOut:function(){var e;o((e=n.sessionId,{type:ee,payload:{sessionId:e}}))}})]})}),Object(Ot.jsxs)(Un,{children:[Object(Ot.jsx)(Jt.a,{}),Object(Ot.jsxs)(Jt.a,{children:[Object(Ot.jsx)(Zt.a,{active:!0,children:"Queries"}),Object(Ot.jsx)(Zt.a,{href:"#",children:"History"}),Object(Ot.jsx)(Zt.a,{href:"#",children:"Config"})]})]}),Object(Ot.jsx)(En,{children:Object(Ot.jsx)(s.Profiler,{id:"MapProfile",onRender:c,children:Object(Ot.jsx)(s.Suspense,{fallback:Object(Ot.jsx)("div",{children:"Loading Maps..."}),children:Object(Ot.jsx)(s.Profiler,{id:"MapComponent",onRender:c,children:Object(Ot.jsx)(kn,{onMapLoaded:et,mapConfig:n.mapConfig,loaderConfig:n.loaderConfig,a:!0})})})})})]})},Fn=function(e){var t=e.location.pathname,n=Object(h.d)((function(e){return e.auth.user})),a=Object(h.d)((function(e){return e.config})),r=Object(h.d)((function(e){return e.securityToken})),o=Object(h.c)();Object(s.useEffect)((function(){o({type:ke})}),[]),Object(s.useEffect)((function(){if(a.loaded){var e=a.portalUrl,t=a.clientId,n=a.sessionId,r=a.dojoConfig;window.dojoConfig=r,o({type:$,payload:{portalUrl:e,clientId:t,sessionId:n}})}}),[a]),Object(s.useEffect)((function(){if(a.loaded){var e=a.portalUrl,r=a.clientId,c=a.sessionId;e&&!n&&"/auth"!==t?o(ae({portalUrl:e,clientId:r,sessionId:c})):"/auth"!==t||n||o({type:Y,payload:{portalUrl:e,clientId:r,sessionId:c}})}}),[n,t]),Object(s.useEffect)((function(){var e;r.isValid||o({type:qe,payload:e})}),[r]);var c=!1;return"/auth"===t&&(c=!0),!a.loaded||a.portalUrl&&!n||c&&!n?Object(Ot.jsx)(At,{isLoaded:!1}):Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(b.b,{path:"/main",component:Ln}),Object(Ot.jsx)(b.a,{to:"/main"})]})},Qn=(n(882),n(176)),Wn=n.n(Qn),Gn=(n(883),Object(jt.a)(dn||(dn=Object(dt.a)(["\n  html,\n  body {\n    height: 100%;\n    font-family: Montserrat, sans-serif;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-weight: 300;\n    letter-spacing: 1px;\n    font-size: 16px;\n  }\n\n  .esri-layer-list__item{\n    &::before {\n      width: 100%;\n      left: 0;\n    }\n  }\n\n  nav.ciBUMa {\n    padding: 0 1em;\n  }\n"])))),Xn=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d,t=Object(f.c)(i),n=Object(j.a)(),a=[n],r=Object(f.e)(t,e(f.a.apply(void 0,a)));return n.run(Ye),n.run(ct),r}();d.a.render(Object(Ot.jsx)(h.a,{store:Xn,children:Object(Ot.jsx)(p.a,{basename:undefined,children:Object(Ot.jsxs)(Wn.a,{children:[Object(Ot.jsx)(Gn,{}),Object(Ot.jsx)(b.b,{path:"/",component:Fn})]})})}),document.getElementById("root"))}},[[886,23,24]]]);
//# sourceMappingURL=main.1b15cc62.chunk.js.map