{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/AnalyticalSkyModel.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DecodeNormal.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateMainLighting.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLDriverTest.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DoublePrecision.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Material/shader/DecodeSymbolColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js","../node_modules/@arcgis/core/views/webgl/testSVGPremultipliedAlpha.js","../node_modules/@arcgis/core/chunks/DefaultMaterial.glsl.js","../node_modules/@arcgis/core/chunks/RealisticTree.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexPosition.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/HeaderComment.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/TextureAtlasLookup.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexTextureCoordinates.glsl.js","../node_modules/@arcgis/core/views/3d/support/buffer/math/common.js","../node_modules/@arcgis/core/chunks/vec32.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RealisticTreeTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js","../node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js","../node_modules/@arcgis/core/chunks/vec22.js","../node_modules/@arcgis/core/chunks/vec33.js","../node_modules/@arcgis/core/chunks/vec43.js","../node_modules/@arcgis/core/chunks/mat32.js","../node_modules/@arcgis/core/chunks/mat42.js","../node_modules/@arcgis/core/chunks/scalar.js","../node_modules/@arcgis/core/views/3d/support/buffer/utils.js","../node_modules/@arcgis/core/views/3d/glTF/DefaultErrorContext.js","../node_modules/@arcgis/core/views/3d/glTF/internal/BinaryStreamReader.js","../node_modules/@arcgis/core/views/3d/glTF/internal/fillDefaults.js","../node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js","../node_modules/@arcgis/core/views/3d/glTF/internal/pathUtils.js","../node_modules/@arcgis/core/views/3d/glTF/loader.js","../node_modules/@arcgis/core/views/3d/glTF/LoaderResult.js","../node_modules/@arcgis/core/views/3d/layers/graphics/wosrLoader.js","../node_modules/@arcgis/core/chunks/vec42.js","../node_modules/@arcgis/core/views/3d/layers/graphics/objectResourceUtils.js","../node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js"],"names":["e","t","fragment","include","a","uniforms","add","code","bindUniforms","shadowMappingEnabled","shadowMap","bind","bindView","origin","bindViewCustomOrigin","r","output","receiveShadows","varyings","vertex","n","o","pbrMode","useCustomDTRExponentForWater","d","attributeTextureCoordinates","attributes","normalType","extensions","V","this","verticalOffset","selectionMode","hud","selectOpaqueTerrainOnly","invisibleTerrain","backfacesTerrain","isFiltered","store","j","_transform","y","_transformInverse","w","value","u","_transformInverseTranspose","p","_transformTranspose","_transformInverseRotation","T","g","invalidate","b","invalidateLazyTransforms","s","setTransformMatrix","multiplyTransform","original","update","dirty","transform","k","min","G","max","ground","init","all","normal","transformation","_ray","M","create","dist","Y","ray","direction","h","hasIntersectionPoint","c","Z","z","l","target","name","drapedLayerOrder","drapedLayerGraphicOrder","center","geometryId","triangleNr","intersector","copy","f","q","type","obj","i","U","metadata","layerUid","map","findLayerByUid","P","R","createGraphic","N","graphicsView","graphics3d","layer","id","graphics","getGraphicFromGraphicUid","graphicUid","allLayerViews","find","suspended","getGraphicFromIntersectorMetadata","A","offset","tmpVertex","localOrigin","Math","sqrt","B","componentLocalOriginLength","mbs","S","obb","halfSize","_","quaternion","m","O","$","C","sphere","L","objectTransform","inverse","E","W","v","instanced","instancedDoublePrecision","vertexTangets","Uniforms","bindCustomOrigin","setUniform3fv","hasMetalnessAndRoughnessTexture","hasEmissionTexture","hasOcclusionTexture","supportsTextureAtlas","mrrFactors","emissiveFactor","receiveAmbientOcclusion","linearDepth","hasColorTexture","lightingSphericalHarmonicsOrder","useOldSceneLightInterface","viewingMode","context","svgAlwaysPremultipliesAlpha","_doublePrecisionRequiresObfuscation","then","colorTarget","depthStencilTarget","wrapMode","pixelFormat","dataType","samplingMode","width","height","createVertex","Uint16Array","a_pos","geometry","count","stride","normalized","Float32Array","bindProgram","setUniform3f","getBoundFramebufferObject","getViewport","x","bindFramebuffer","setViewport","bindVAO","drawArrays","Uint8Array","readPixels","dispose","F","abs","doublePrecisionRequiresObfuscation","symbolColor","Image","src","decode","gl","preMultiplyAlpha","bindTexture","setUniform1i","offsetBackfaces","instancedColor","multipassTerrainEnabled","textureAlphaPremultiplied","attributeColor","hasNormalTexture","OITEnabled","Object","freeze","__proto__","build","ModelTransform","worldFromModel_RS","worldFromModel_TH","worldFromModel_TL","ViewProjectionTransform","worldFromView_TH","worldFromView_TL","viewFromCameraRelative_RS","projFromView","bindModelTransform","setUniformMatrix3fv","bindViewProjTransform","setUniformMatrix4fv","doubleSidedMode","getLogger","typedBuffer","typedBufferStride","error","transformMat4","transformMat3","scale","shiftRight","shader","get","configuration","transparencyPassType","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","symbolColors","vvSize","vvColor","vvInstancingEnabled","usePBR","isSchematic","normalsTypeDerivate","vertexTangents","vertexColors","screenSizePerspectiveEnabled","screenSizePerspective","verticalOffsetEnabled","D","rctx","alphaDiscardMode","cullAboveGround","generateSource","bindProjectionMatrix","program","camera","projectionMatrix","setUniform2fv","nearFar","inverseViewport","setUniform1f","opacity","layerOpacity","setUniform4fv","externalColor","colorMixMode","lighting","setUniforms","ambient","diffuse","bindOutputHighlight","bindUniformsForSymbols","textureAlphaMode","textureAlphaCutoff","viewInverseTransposeMatrix","viewMatrix","bindCamPosition","slicePlane","blending","transparent","culling","depthTest","func","depthWrite","writeDepth","colorWrite","stencilWrite","sceneHasOcludees","stencilTest","polygonOffset","enableOffset","_occludeePipelineState","setPipeline","pipeline","cullFace","face","mode","arguments","prototype","supportsEdges","techniqueConfig","vertexBufferLayout","getVertexBufferLayout","params","instanceBufferLayout","getInstanceBufferLayout","castShadows","indexOf","vvColorEnabled","normalTextureId","textureId","vvSizeEnabled","normals","treeRendering","doubleSided","doubleSidedType","ssaoEnabled","receiveSSAO","metallicRoughnessTextureId","emissiveTextureId","occlusionTextureId","offsetTransparentBackfaces","relativeElevation","I","eye","inverseRotation","vec3f","vec4f","vec2f","vec4u8","mat3f","mat4f","material","updateParameters","updateTexture","technique","techniqueRep","acquireAndReleaseExisting","getTechniqueConfig","setParameterValues","hasOccludees","_updateShadowState","_updateOccludeeState","bindPass","getPipelineState","initTextureTransparent","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvSizeValue","vvColorValues","vvColorColors","vvSymbolAnchor","vvSymbolRotationMatrix","createBuffer","indices","length","invTranspTransformation","streamDataRequester","load","responseType","data","request","ok","image","binary","json","dstIndex","srcIndex","elementType","normalizeIntegerBuffer","fill","TypedArrayConstructor","makeDense","ArrayBuffer","ElementCount","ElementType","errorUnsupported","warn","warnUnsupported","offset4","dataUint32","Uint32Array","floor","byteLength","baseColorFactor","metallicFactor","roughnessFactor","pbrMetallicRoughness","alphaMode","alphaCutoff","ESRI_externalColorMixMode","extras","magFilter","minFilter","wrapS","wrapT","errorContext","uri","glbBuffer","bufferCache","Map","textureCache","materialCache","nodeParentMap","nodeTransformCache","baseUri","replace","dirPart","filePart","checkVersionSupported","checkRequiredExtensionsSupported","errorUnsupportedIf","scenes","meshes","nodes","computeNodeParents","buffers","assert","loadBinary","resolveUri","set","accessors","bufferView","bufferViews","getBuffer","buffer","componentType","byteStride","raw","byteOffset","entryCount","isDenselyPacked","componentCount","componentByteSize","getAccessor","wrapAccessor","POSITION","toFixed","NORMAL","TANGENT","TEXCOORD_0","COLOR_0","materials","hasVertexColors","baseColorTexture","texCoord","getTexture","index","normalTexture","occlusionTexture","emissiveTexture","metallicRoughnessTexture","color","colorTexture","textures","sampler","samplers","source","images","loadImage","mimeType","J","getNodeTransform","getNodeParent","matrix","translation","rotation","parse","asset","version","validate","extensionsRequired","join","forEach","children","mediaType","JSON","isBase64","atob","isGLBData","fromGLBData","endsWith","loadJSON","remainingBytes","readUint32","parseGLBData","binaryData","X","readUint8Array","PI","SCALAR","VEC2","VEC3","VEC4","5120","5121","5122","5123","5126","5125","Promise","Blob","FileReader","onload","result","onerror","readAsText","URL","createObjectURL","addEventListener","revokeObjectURL","lods","meta","ESRI_type","hasPositions","getMaterial","getPositionData","position","texCoord0","tangent","getIndexData","primitiveType","hasNormals","getNormalData","hasTangents","getTangentData","hasTextureCoordinates","getTextureCoordinates","getVertexColors","ESRI_lod","metric","thresholds","parts","lodThreshold","push","model","isEsriSymbolResource","customMeta","ESRI_proxyEllipsoid","warnUnsupportedIf","weights","mesh","primitives","scene","MSFT_lod","ids","Array","isArray","has","parameters","wrap","noUnpackFlip","mipmap","some","receiveAmbientOcclustion","textureColor","textureNormal","textureOcclusion","textureEmissive","textureMetallicRoughness","textureDefinitions","resource","details","url","topology","vertexAttributes","faces","values","valueType","valuesPerElement","geometries","materialDefinitions","size","exclusive","texture","substring","lastIndexOf","transparency","alphaChannelUsage","externalColorMixMode","materialParamsMixin","assign","stageResources","pivotOffset","boundingBox","numberOfVertices","boundingInfo","getBBMin","getBBMax","encoding","disableTextures","resolve","refId","channels","region","fileType","cache","loadWOSR","referenceBoundingBox","isWosr","remove","loadGLTF","esriTreeRendering","specifiedLodIndex","K","match","Number","Q","H","elementCount","getVec","radius","setVec"],"mappings":"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","file":"static/js/49.793817ee.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{RgbaFloatEncoding as a}from\"../util/RgbaFloatEncoding.glsl.js\";function t(t){t.fragment.include(a),t.fragment.uniforms.add(\"uShadowMapTex\",\"sampler2D\"),t.fragment.uniforms.add(\"uShadowMapNum\",\"int\"),t.fragment.uniforms.add(\"uShadowMapDistance\",\"vec4\"),t.fragment.uniforms.add(\"uShadowMapMatrix\",\"mat4\",4),t.fragment.uniforms.add(\"uDepthHalfPixelSz\",\"float\"),t.fragment.code.add(e`\n    int chooseCascade(float _linearDepth, out mat4 mat) {\n      vec4 distance = uShadowMapDistance;\n      float depth = _linearDepth;\n\n      //choose correct cascade\n      int i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;\n\n      mat = i == 0 ? uShadowMapMatrix[0] : i == 1 ? uShadowMapMatrix[1] : i == 2 ? uShadowMapMatrix[2] : uShadowMapMatrix[3];\n\n      return i;\n    }\n\n    vec3 lightSpacePosition(vec3 _vpos, mat4 mat) {\n      vec4 lv = mat * vec4(_vpos, 1.0);\n      lv.xy /= lv.w;\n      return 0.5 * lv.xyz + vec3(0.5);\n    }\n\n    vec2 cascadeCoordinates(int i, vec3 lvpos) {\n      return vec2(float(i - 2 * (i / 2)) * 0.5, float(i / 2) * 0.5) + 0.5 * lvpos.xy;\n    }\n\n    float readShadowMapDepth(vec2 uv, sampler2D _depthTex) {\n      return rgba2float(texture2D(_depthTex, uv));\n    }\n\n    float posIsInShadow(vec2 uv, vec3 lvpos, sampler2D _depthTex) {\n      return readShadowMapDepth(uv, _depthTex) < lvpos.z ? 1.0 : 0.0;\n    }\n\n    float filterShadow(vec2 uv, vec3 lvpos, float halfPixelSize, sampler2D _depthTex) {\n      float texSize = 0.5 / halfPixelSize;\n\n      // filter, offset by half pixels\n      vec2 st = fract((vec2(halfPixelSize) + uv) * texSize);\n\n      float s00 = posIsInShadow(uv + vec2(-halfPixelSize, -halfPixelSize), lvpos, _depthTex);\n      float s10 = posIsInShadow(uv + vec2(halfPixelSize, -halfPixelSize), lvpos, _depthTex);\n      float s11 = posIsInShadow(uv + vec2(halfPixelSize, halfPixelSize), lvpos, _depthTex);\n      float s01 = posIsInShadow(uv + vec2(-halfPixelSize, halfPixelSize), lvpos, _depthTex);\n\n      return mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n    }\n\n    float readShadowMap(const in vec3 _vpos, float _linearDepth) {\n      mat4 mat;\n      int i = chooseCascade(_linearDepth, mat);\n\n      if (i >= uShadowMapNum) { return 0.0; }\n\n      vec3 lvpos = lightSpacePosition(_vpos, mat);\n\n      // vertex completely outside? -> no shadow\n      if (lvpos.z >= 1.0) { return 0.0; }\n      if (lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }\n\n      // calc coord in cascade texture\n      vec2 uv = cascadeCoordinates(i, lvpos);\n\n      return filterShadow(uv, lvpos, uDepthHalfPixelSz, uShadowMapTex);\n    }\n  `)}!function(e){function a(e,a,t){a.shadowMappingEnabled&&(a.shadowMap.bind(e,t),a.shadowMap.bindView(e,a.origin))}function t(e,a,t){a.shadowMappingEnabled&&a.shadowMap.bindView(e,t)}function o(e,a){a.shadowMappingEnabled&&a.shadowMap.bindView(e,a.origin)}e.bindUniforms=a,e.bindViewCustomOrigin=t,e.bindView=o}(t||(t={}));export{t as ReadShadowMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function a(a,r){0===r.output&&r.receiveShadows?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.code.add(e`\n      void forwardLinearDepth() { linearDepth = gl_Position.w; }\n    `)):1===r.output||3===r.output?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),a.vertex.code.add(e`\n      void forwardLinearDepth() {\n        linearDepth = (-position_view().z - cameraNearFar[0]) / (cameraNearFar[1] - cameraNearFar[0]);\n      }\n    `)):a.vertex.code.add(e`\n      void forwardLinearDepth() {}\n    `)}export{a as ForwardLinearDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){const a=t.fragment.code;a.add(e`\n    vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG)\n    {\n      return ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;\n    }\n    `),a.add(e`\n    float integratedRadiance(float cosTheta2, float roughness)\n    {\n      return (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);\n    }\n    `),a.add(e`\n    vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness)\n    {\n      float cosTheta2 = 1.0 - RdotNG * RdotNG;\n      float intRadTheta = integratedRadiance(cosTheta2, roughness);\n\n      // Calculate the integrated directional radiance of the ground and the sky\n      float ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;\n      float sky = 2.0 - ground;\n      return (ground * ambientGround + sky * ambientSky) * 0.5;\n    }\n    `)}export{t as AnalyticalSkyModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{PiUtils as o}from\"./PiUtils.glsl.js\";import{AnalyticalSkyModel as t}from\"./AnalyticalSkyModel.glsl.js\";function n(n,a){const r=n.fragment.code;n.include(o),3===a.pbrMode||4===a.pbrMode?(r.add(e`\n    struct PBRShadingWater\n    {\n        float NdotL;   // cos angle between normal and light direction\n        float NdotV;   // cos angle between normal and view direction\n        float NdotH;   // cos angle between normal and half vector\n        float VdotH;   // cos angle between view direction and half vector\n        float LdotH;   // cos angle between light direction and half vector\n        float VdotN;   // cos angle between view direction and normal vector\n    };\n\n    float dtrExponent = ${a.useCustomDTRExponentForWater?\"2.2\":\"2.0\"};\n    `),r.add(e`\n    vec3 fresnelReflection(float angle, vec3 f0, float f90) {\n      return f0 + (f90 - f0) * pow(1.0 - angle, 5.0);\n    }\n    `),r.add(e`\n    float normalDistributionWater(float NdotH, float roughness)\n    {\n      float r2 = roughness * roughness;\n      float NdotH2 = NdotH * NdotH;\n      float denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;\n      return r2 / denom;\n    }\n    `),r.add(e`\n    float geometricOcclusionKelemen(float LoH)\n    {\n        return 0.25 / (LoH * LoH);\n    }\n    `),r.add(e`\n    vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max)\n    {\n      vec3  F = fresnelReflection(props.VdotH, F0, F0Max);\n      float dSun = normalDistributionWater(props.NdotH, roughness);\n      float V = geometricOcclusionKelemen(props.LdotH);\n\n      float diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);\n      float strengthSunHaze  = 1.2;\n      float dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze)*strengthSunHaze;\n\n      return ((dSun + dSunHaze) * V) * F;\n    }\n\n    vec3 tonemapACES(const vec3 x) {\n      return (x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14);\n    }\n    `)):1!==a.pbrMode&&2!==a.pbrMode||(n.include(t),r.add(e`\n    struct PBRShadingInfo\n    {\n        float NdotL;                  // cos angle between normal and light direction\n        float NdotV;                  // cos angle between normal and view direction\n        float NdotH;                  // cos angle between normal and half vector\n        float VdotH;                  // cos angle between view direction and half vector\n        float LdotH;                  // cos angle between view light direction and half vector\n        float NdotNG;                 // cos angle between normal and normal of the ground\n        float RdotNG;                 // cos angle between view direction reflected of the normal and normal of the ground\n        float NdotAmbDir;             // cos angle between view direction and the fill light in ambient illumination\n        float NdotH_Horizon;          // cos angle between normal and half vector defined with horizon illumination\n        vec3 skyRadianceToSurface;         // integrated radiance of the sky based on the surface roughness (used for specular reflection)\n        vec3 groundRadianceToSurface;      // integrated radiance of the ground based on the surface roughness (used for specular reflection)\n        vec3 skyIrradianceToSurface;       // irradiance of the sky (used for diffuse reflection)\n        vec3 groundIrradianceToSurface;    // irradiance of the ground (used for diffuse reflection)\n\n        float averageAmbientRadiance;      // average ambient radiance used to deduce black level in gamut mapping\n        float ssao;                   // ssao coefficient\n        vec3 albedoLinear;            // linear color of the albedo\n        vec3 f0;                      // fresnel value at normal incident light\n        vec3 f90;                     // fresnel value at 90o of incident light\n\n        vec3 diffuseColor;            // diffuse color of the material used in environment illumination\n        float metalness;              // metalness of the material\n        float roughness;              // roughness of the material\n    };\n    `),r.add(e`\n    float normalDistribution(float NdotH, float roughness)\n    {\n        float a = NdotH * roughness;\n        float b = roughness / (1.0 - NdotH * NdotH + a * a);\n        return b * b * INV_PI;\n    }\n    `),r.add(e`\n    const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);\n    const vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);\n    const vec2 c2 = vec2(-1.04, 1.04);\n\n    vec2 prefilteredDFGAnalytical(float roughness, float NdotV) {\n        vec4 r = roughness * c0 + c1;\n        float a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;\n        return c2 * a004 + r.zw;\n    }\n    `),r.add(e`\n    vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {\n      vec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);\n      vec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);\n\n      // From diffuse illumination calculate reflected color\n      vec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;\n\n      // From specular illumination calculate reflected color\n      vec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);\n      vec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;\n      vec3 specularComponent = specularColor * indirectSpecular;\n\n      return (diffuseComponent + specularComponent);\n    }\n    `),r.add(e`\n    float gamutMapChanel(float x, vec2 p){\n      return (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );\n    }`),r.add(e`\n    vec3 blackLevelSoftCompression(vec3 inColor, PBRShadingInfo inputs){\n      vec3 outColor;\n      vec2 p = vec2(0.02 * (inputs.averageAmbientRadiance), 0.0075 * (inputs.averageAmbientRadiance));\n      outColor.x = gamutMapChanel(inColor.x, p) ;\n      outColor.y = gamutMapChanel(inColor.y, p) ;\n      outColor.z = gamutMapChanel(inColor.z, p) ;\n      return outColor;\n    }\n    `))}export{n as PhysicallyBasedRendering};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t,d){1===d.attributeTextureCoordinates&&(t.attributes.add(\"uv0\",\"vec2\"),t.varyings.add(\"vuv0\",\"vec2\"),t.vertex.code.add(e`\n      void forwardTextureCoordinates() {\n        vuv0 = uv0;\n      }\n    `)),2===d.attributeTextureCoordinates&&(t.attributes.add(\"uv0\",\"vec2\"),t.varyings.add(\"vuv0\",\"vec2\"),t.attributes.add(\"uvRegion\",\"vec4\"),t.varyings.add(\"vuvRegion\",\"vec4\"),t.vertex.code.add(e`\n      void forwardTextureCoordinates() {\n        vuv0 = uv0;\n        vuvRegion = uvRegion;\n      }\n    `)),0===d.attributeTextureCoordinates&&t.vertex.code.add(e`\n      void forwardTextureCoordinates() {}\n    `)}export{t as TextureCoordinateAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o){const d=e`\n    vec3 decodeNormal(vec2 f) {\n      float z = 1.0 - abs(f.x) - abs(f.y);\n      return vec3(f + sign(f) * min(z, 0.0), z);\n    }\n  `;o.fragment.code.add(d),o.vertex.code.add(d)}export{o as DecodeNormal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{DecodeNormal as r}from\"../util/DecodeNormal.glsl.js\";function o(o,d){0===d.normalType&&(o.attributes.add(\"normal\",\"vec3\"),o.vertex.code.add(e`\n      vec3 normalModel() {\n        return normal;\n      }\n    `)),1===d.normalType&&(o.include(r),o.attributes.add(\"normalCompressed\",\"vec2\"),o.vertex.code.add(e`\n      vec3 normalModel() {\n        return decodeNormal(normalCompressed);\n      }\n    `)),3===d.normalType&&(o.extensions.add(\"GL_OES_standard_derivatives\"),o.fragment.code.add(e`\n      vec3 screenDerivativeNormal(vec3 positionView) {\n        return normalize(cross(dFdx(positionView), dFdy(positionView)));\n      }\n    `))}export{o as NormalAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as s,unwrap as r}from\"../../../../core/maybe.js\";import{c as e,b as i}from\"../../../../chunks/vec3f64.js\";import{e as a,a as n,l as h,b as o,g as c,n as l,q as f,f as m}from\"../../../../chunks/vec3.js\";import{a as u,b as p,c as d,m as b}from\"../../../../chunks/mat4.js\";import{a as g}from\"../../../../chunks/mat3f64.js\";import{a as y}from\"../../../../chunks/mat4f64.js\";import{a as v}from\"../../../../chunks/quatf64.js\";import{a as S}from\"../../../../chunks/vec4f64.js\";import{b as T}from\"../../../../chunks/mat3.js\";import{t as z}from\"../../../../chunks/vec4.js\";import{c as O}from\"../../../../chunks/quat.js\";import{c as _}from\"../../../../chunks/vec3f32.js\";import{c as L}from\"../../../../chunks/sphere.js\";import{e as x}from\"../../../../chunks/boundedPlane.js\";import{ray as M}from\"../../support/geometryUtils.js\";import{Object3D as q}from\"./Object3D.js\";function I(t){return(s,r,e)=>(a(X,s,r,e),!x(t,X))}class V{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.store=2}}class j{constructor(){this._transform=y(),this._transformInverse=new w({value:this._transform},u,y),this._transformInverseTranspose=new w(this._transformInverse,p,y),this._transformTranspose=new w({value:this._transform},p,y),this._transformInverseRotation=new w({value:this._transform},T,g)}invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){d(this._transform,t)}multiplyTransform(t){b(this._transform,this._transform,t)}set(t){d(this._transform,t),this.invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,s){this.setTransformMatrix(t),this.multiplyTransform(s),this.invalidateLazyTransforms()}}class w{constructor(t,s,r){this.original=t,this.update=s,this.dirty=!0,this.transform=r()}invalidate(){this.dirty=!0}get value(){return this.dirty&&(this.update(this.transform,this.original.value),this.dirty=!1),this.transform}}class k{constructor(){this.min=new G,this.max=new G,this.hud=new G,this.ground=new G}init(t){this.min.init(t),this.max.init(t),this.hud.init(t),this.ground.init(t),this.all=[]}}class G{constructor(t){this.normal=e(),this.transformation=y(),this._ray=M.create(),this.init(t)}get ray(){return this._ray}get hasIntersectionPoint(){return null!=this.dist}get distanceInRenderSpace(){if(null!=this.dist)return n(Y,this.ray.direction,this.dist),h(Y)}getIntersectionPoint(t){return!!this.hasIntersectionPoint&&(n(Y,this.ray.direction,this.dist),o(t,this.ray.origin,Y),!0)}getTransformedNormal(t){return c(Z,this.normal),Z[3]=0,z(Z,Z,this.transformation),c(t,Z),l(t,t),t}init(t){this.dist=void 0,this.target=void 0,this.name=void 0,this.drapedLayerOrder=void 0,this.drapedLayerGraphicOrder=void 0,this.center=null,this.geometryId=null,this.triangleNr=null,this.intersector=\"Stage\",t?M.copy(t,this._ray):this._ray=M.create()}set(t,s,r,e,a,n,h,o,l,f){t instanceof q&&(t={type:\"stage\",obj:t}),this.dist=r,c(this.normal,e),d(this.transformation,a),this.target=t,this.name=s,this.drapedLayerOrder=n,this.center=h?i(h):null,this.geometryId=o,this.triangleNr=l,this.drapedLayerGraphicOrder=f}copyFrom(t){M.copy(t._ray,this._ray),this.dist=t.dist,this.target=t.target,this.name=t.name,this.drapedLayerOrder=t.drapedLayerOrder,this.center=t.center?i(t.center):null,this.geometryId=t.geometryId,this.triangleNr=t.triangleNr,this.intersector=t.intersector,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,c(this.normal,t.normal),d(this.transformation,t.transformation)}toOwner(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return U(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return P(this.target,t);case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return U(this.target.metadata,t);case\"TerrainRenderer\":return t.map&&t.map.ground}}return null}toGraphic(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return R(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return N(this.target);case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return R(this.target.metadata,t)}}return null}}function U(r,e){return t(r)||null==r.layerUid?null:s(e.graphicsView)&&r.layerUid===e.graphicsView.graphics3d.layer.id?e.graphics:e.map.findLayerByUid(r.layerUid)}function R(e,i){if(t(e))return null;const a=U(e,i);if(t(a))return null;if(a===i.graphics)return s(i.graphicsView)?r(i.graphicsView.getGraphicFromGraphicUid(e.graphicUid)):null;const n=i.allLayerViews.find((t=>t.layer===a));return n?F(n,e):null}function F(t,s){return!t||t.suspended?null:\"getGraphicFromIntersectorMetadata\"in t&&s?t.getGraphicFromIntersectorMetadata(s):\"getGraphicFromGraphicUid\"in t&&null!=s.graphicUid?t.getGraphicFromGraphicUid(s.graphicUid):null}function P(t,s){const r=t.metadata.layerUid;return null!=r?s.map.findLayerByUid(r):null}function N(t){return t.metadata.createGraphic()}class A{constructor(t=0){this.offset=t,this.tmpVertex=e()}applyToVertex(t,s,r){const e=t+this.localOrigin[0],i=s+this.localOrigin[1],a=r+this.localOrigin[2],n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0]+this.localOrigin[0],r=t[1]+this.localOrigin[1],e=t[2]+this.localOrigin[2],i=t[3]+this.localOrigin[0],a=t[4]+this.localOrigin[1],n=t[5]+this.localOrigin[2],h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}}class B{constructor(t=0){this.offset=t,this.componentLocalOriginLength=0,this.tmpVertex=e(),this.mbs=S(),this.obb={center:e(),halfSize:_(),quaternion:null}}set localOrigin(t){this.componentLocalOriginLength=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}applyToVertex(t,s,r){const e=t,i=s,a=r+this.componentLocalOriginLength,n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0],r=t[1],e=t[2]+this.componentLocalOriginLength,i=t[3],a=t[4],n=t[5]+this.componentLocalOriginLength,h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}applyToMbs(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=this.offset/s;return this.mbs[0]=t[0]+t[0]*r,this.mbs[1]=t[1]+t[1]*r,this.mbs[2]=t[2]+t[2]*r,this.mbs[3]=t[3]+t[3]*this.offset/s,this.mbs}applyToObb(t){const s=t.center,r=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);this.obb.center[0]=s[0]+s[0]*r,this.obb.center[1]=s[1]+s[1]*r,this.obb.center[2]=s[2]+s[2]*r,f(this.obb.halfSize,t.halfSize,t.quaternion),o(this.obb.halfSize,this.obb.halfSize,t.center);const e=this.offset/Math.sqrt(this.obb.halfSize[0]*this.obb.halfSize[0]+this.obb.halfSize[1]*this.obb.halfSize[1]+this.obb.halfSize[2]*this.obb.halfSize[2]);return this.obb.halfSize[0]+=this.obb.halfSize[0]*e,this.obb.halfSize[1]+=this.obb.halfSize[1]*e,this.obb.halfSize[2]+=this.obb.halfSize[2]*e,m(this.obb.halfSize,this.obb.halfSize,t.center),O($,t.quaternion),f(this.obb.halfSize,this.obb.halfSize,$),this.obb.halfSize[0]*=this.obb.halfSize[0]<0?-1:1,this.obb.halfSize[1]*=this.obb.halfSize[1]<0?-1:1,this.obb.halfSize[2]*=this.obb.halfSize[2]<0?-1:1,this.obb.quaternion=t.quaternion,this.obb}}class D{constructor(t=0){this.offset=t,this.sphere=L(),this.tmpVertex=e()}applyToVertex(t,s,r){const e=this.objectTransform.transform;let i=e[0]*t+e[4]*s+e[8]*r+e[12],a=e[1]*t+e[5]*s+e[9]*r+e[13],n=e[2]*t+e[6]*s+e[10]*r+e[14];const h=this.offset/Math.sqrt(i*i+a*a+n*n);i+=i*h,a+=a*h,n+=n*h;const o=this.objectTransform.inverse;return this.tmpVertex[0]=o[0]*i+o[4]*a+o[8]*n+o[12],this.tmpVertex[1]=o[1]*i+o[5]*a+o[9]*n+o[13],this.tmpVertex[2]=o[2]*i+o[6]*a+o[10]*n+o[14],this.tmpVertex}applyToMinMax(t,s){const r=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*r,t[1]+=t[1]*r,t[2]+=t[2]*r;const e=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]+=s[0]*e,s[1]+=s[1]*e,s[2]+=s[2]*e}applyToAabb(t){const s=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*s,t[1]+=t[1]*s,t[2]+=t[2]*s;const r=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*r,t[4]+=t[4]*r,t[5]+=t[5]*r,t}applyToBoundingSphere(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=this.offset/s;return this.sphere[0]=t[0]+t[0]*r,this.sphere[1]=t[1]+t[1]*r,this.sphere[2]=t[2]+t[2]*r,this.sphere[3]=t[3]+t[3]*this.offset/s,this.sphere}}const C=new D;function E(t){return s(t)?(C.offset=t,C):null}const H=new B;function J(t){return s(t)?(H.offset=t,H):null}const K=new A;function Q(t){return s(t)?(K.offset=t,K):null}const W=\"terrain\",X=e(),Y=e(),Z=S(),$=v();export{B as I3SVerticalOffsetGlobalViewingMode,V as IntersectorOptions,G as IntersectorResult,k as IntersectorResults,j as IntersectorTransform,D as Object3DVerticalOffsetGlobalViewingMode,W as TERRAIN_ID,A as TerrainVerticalOffsetGlobalViewingMode,J as getVerticalOffsetI3S,E as getVerticalOffsetObject3D,Q as getVerticalOffsetTerrain,I as sliceFilterPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../../../chunks/vec3f64.js\";import{glsl as i}from\"../../shaderModules/interfaces.js\";import{encodeDoubleArraySplit as r}from\"../../../lib/doublePrecisionUtils.js\";import{DoublePrecision as o}from\"../util/DoublePrecision.glsl.js\";function n(e,r){r.instanced&&r.instancedDoublePrecision&&(e.attributes.add(\"modelOriginHi\",\"vec3\"),e.attributes.add(\"modelOriginLo\",\"vec3\"),e.attributes.add(\"model\",\"mat3\"),e.attributes.add(\"modelNormal\",\"mat3\")),r.instancedDoublePrecision&&(e.vertex.include(o,r),e.vertex.uniforms.add(\"viewOriginHi\",\"vec3\"),e.vertex.uniforms.add(\"viewOriginLo\",\"vec3\"));const n=[i`\n    vec3 calculateVPos() {\n      ${r.instancedDoublePrecision?\"return model * localPosition().xyz;\":\"return localPosition().xyz;\"}\n    }\n    `,i`\n    vec3 subtractOrigin(vec3 _pos) {\n      ${r.instancedDoublePrecision?i`\n          vec3 originDelta = dpAdd(viewOriginHi, viewOriginLo, -modelOriginHi, -modelOriginLo);\n          return _pos - originDelta;`:\"return vpos;\"}\n    }\n    `,i`\n    vec3 dpNormal(vec4 _normal) {\n      ${r.instancedDoublePrecision?\"return normalize(modelNormal * _normal.xyz);\":\"return normalize(_normal.xyz);\"}\n    }\n    `,i`\n    vec3 dpNormalView(vec4 _normal) {\n      ${r.instancedDoublePrecision?\"return normalize((viewNormal * vec4(modelNormal * _normal.xyz, 1.0)).xyz);\":\"return normalize((viewNormal * _normal).xyz);\"}\n    }\n    `,r.vertexTangets?i`\n    vec4 dpTransformVertexTangent(vec4 _tangent) {\n      ${r.instancedDoublePrecision?\"return vec4(modelNormal * _tangent.xyz, _tangent.w);\":\"return _tangent;\"}\n\n    }\n    `:i``];e.vertex.code.add(n[0]),e.vertex.code.add(n[1]),e.vertex.code.add(n[2]),2===r.output&&e.vertex.code.add(n[3]),e.vertex.code.add(n[4])}!function(e){class i{}function o(e,i){r(i,t,a,3),e.setUniform3fv(\"viewOriginHi\",t),e.setUniform3fv(\"viewOriginLo\",a)}e.Uniforms=i,e.bindCustomOrigin=o}(n||(n={}));const t=e(),a=e();export{n as InstancedDoublePrecision};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{f as s}from\"../../../../../../chunks/vec3f32.js\";import{VertexTextureCoordinates as o}from\"../attributes/VertexTextureCoordinates.glsl.js\";const t=s(0,.6,.2);function r(s,t){const r=s.fragment,a=t.hasMetalnessAndRoughnessTexture||t.hasEmissionTexture||t.hasOcclusionTexture;1===t.pbrMode&&a&&s.include(o,t),2!==t.pbrMode?(0===t.pbrMode&&r.code.add(e`\n      float getBakedOcclusion() { return 1.0; }\n  `),1===t.pbrMode&&(r.uniforms.add(\"emissionFactor\",\"vec3\"),r.uniforms.add(\"mrrFactors\",\"vec3\"),r.code.add(e`\n      vec3 mrr;\n      vec3 emission;\n      float occlusion;\n    `),t.hasMetalnessAndRoughnessTexture&&(r.uniforms.add(\"texMetallicRoughness\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texMetallicRoughnessSize\",\"vec2\"),r.code.add(e`\n      void applyMetallnessAndRoughness(TextureLookupParameter params) {\n        vec3 metallicRoughness = textureLookup(texMetallicRoughness, params).rgb;\n\n        mrr[0] *= metallicRoughness.b;\n        mrr[1] *= metallicRoughness.g;\n      }`)),t.hasEmissionTexture&&(r.uniforms.add(\"texEmission\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texEmissionSize\",\"vec2\"),r.code.add(e`\n      void applyEmission(TextureLookupParameter params) {\n        emission *= textureLookup(texEmission, params).rgb;\n      }`)),t.hasOcclusionTexture?(r.uniforms.add(\"texOcclusion\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texOcclusionSize\",\"vec2\"),r.code.add(e`\n      void applyOcclusion(TextureLookupParameter params) {\n        occlusion *= textureLookup(texOcclusion, params).r;\n      }\n\n      float getBakedOcclusion() {\n        return occlusion;\n      }\n      `)):r.code.add(e`\n      float getBakedOcclusion() { return 1.0; }\n      `),r.code.add(e`\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      emission = emissionFactor;\n      occlusion = 1.0;\n      ${a?\"vtc.uv = vuv0;\":\"\"}\n      ${t.hasMetalnessAndRoughnessTexture?t.supportsTextureAtlas?\"vtc.size = texMetallicRoughnessSize; applyMetallnessAndRoughness(vtc);\":\"applyMetallnessAndRoughness(vtc);\":\"\"}\n      ${t.hasEmissionTexture?t.supportsTextureAtlas?\"vtc.size = texEmissionSize; applyEmission(vtc);\":\"applyEmission(vtc);\":\"\"}\n      ${t.hasOcclusionTexture?t.supportsTextureAtlas?\"vtc.size = texOcclusionSize; applyOcclusion(vtc);\":\"applyOcclusion(vtc);\":\"\"}\n    }\n  `))):r.code.add(e`\n      const vec3 mrr = vec3(0.0, 0.6, 0.2);\n      const vec3 emission = vec3(0.0);\n      float occlusion = 1.0;\n\n      void applyPBRFactors() {}\n\n      float getBakedOcclusion() { return 1.0; }\n    `)}!function(e){function s(e,s,o=!1){o||(e.setUniform3fv(\"mrrFactors\",s.mrrFactors),e.setUniform3fv(\"emissionFactor\",s.emissiveFactor))}e.bindUniforms=s}(r||(r={}));export{t as PBRSchematicMRRValues,r as PhysicallyBasedRenderingParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o){o.attributes.add(\"position\",\"vec3\"),o.vertex.code.add(e`\n    vec3 positionModel() { return position; }\n  `)}export{o as PositionAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o,t){const r=o.fragment;t.receiveAmbientOcclusion?(r.uniforms.add(\"ssaoTex\",\"sampler2D\"),r.uniforms.add(\"viewportPixelSz\",\"vec4\"),r.code.add(e`\n      float evaluateAmbientOcclusion() {\n        return 1.0 - texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\n      }\n\n      float evaluateAmbientOcclusionInverse() {\n        float ssao = texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\n        return viewportPixelSz.z < 0.0 ? 1.0 : ssao;\n      }\n    `)):r.code.add(e`\n      float evaluateAmbientOcclusion() { return 0.0; } // no occlusion\n      float evaluateAmbientOcclusionInverse() { return 1.0; }\n    `)}export{o as EvaluateAmbientOcclusion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../shaderModules/interfaces.js\";function e(e){e.vertex.code.add(o`\n    vec4 offsetBackfacingClipPosition(vec4 posClip, vec3 posWorld, vec3 normalWorld, vec3 camPosWorld) {\n      vec3 camToVert = posWorld - camPosWorld;\n\n      bool isBackface = dot(camToVert, normalWorld) > 0.0;\n      if (isBackface) {\n        posClip.z += 0.0000003 * posClip.w;\n      }\n      return posClip;\n    }\n  `)}export{e as Offset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";import{Transform as r}from\"../Transform.glsl.js\";import{Slice as e}from\"../Slice.glsl.js\";import{OutputHighlight as t}from\"../output/OutputHighlight.glsl.js\";import{VisualVariables as i}from\"../shading/VisualVariables.glsl.js\";import{DiscardOrAdjustAlpha as a}from\"../util/AlphaDiscard.glsl.js\";import{OutputDepth as l}from\"../output/OutputDepth.glsl.js\";import{TextureCoordinateAttribute as s}from\"../attributes/TextureCoordinateAttribute.glsl.js\";import{NormalAttribute as d}from\"../attributes/NormalAttribute.glsl.js\";import{VertexNormal as n}from\"../attributes/VertexNormal.glsl.js\";function u(u,c){const p=u.vertex.code,v=u.fragment.code;1!==c.output&&3!==c.output||(u.include(r,{linearDepth:!0}),u.include(s,c),u.include(i,c),u.include(l,c),u.include(e,c),u.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),u.varyings.add(\"depth\",\"float\"),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),p.add(o`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPositionWithDepth(proj, view, vpos, cameraNearFar, depth);\n        forwardTextureCoordinates();\n      }\n    `),u.include(a,c),v.add(o`\n      void main(void) {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?o`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n        outputDepth(depth);\n      }\n    `)),2===c.output&&(u.include(r,{linearDepth:!1}),u.include(d,c),u.include(n,c),u.include(s,c),u.include(i,c),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),u.vertex.uniforms.add(\"viewNormal\",\"mat4\"),u.varyings.add(\"vPositionView\",\"vec3\"),p.add(o`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        ${0===c.normalType?o`\n        vNormalWorld = dpNormalView(vvLocalNormal(normalModel()));`:\"\"}\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, vpos);\n        forwardTextureCoordinates();\n      }\n    `),u.include(e,c),u.include(a,c),v.add(o`\n      void main() {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?o`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n\n        ${3===c.normalType?o`\n            vec3 normal = screenDerivativeNormal(vPositionView);`:o`\n            vec3 normal = normalize(vNormalWorld);\n            if (gl_FrontFacing == false) normal = -normal;`}\n        gl_FragColor = vec4(vec3(0.5) + 0.5 * normal, 1.0);\n      }\n    `)),4===c.output&&(u.include(r,{linearDepth:!1}),u.include(s,c),u.include(i,c),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),p.add(o`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, vpos);\n        forwardTextureCoordinates();\n      }\n    `),u.include(e,c),u.include(a,c),u.include(t),v.add(o`\n      void main() {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?o`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n        outputHighlight();\n      }\n    `))}export{u as DefaultMaterialAuxiliaryPasses};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ColorConversion as t}from\"./ColorConversion.glsl.js\";function i(i){i.include(t),i.code.add(e`\n    vec3 mixExternalColor(vec3 internalColor, vec3 textureColor, vec3 externalColor, int mode) {\n      // workaround for artifacts in OSX using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      vec3 internalMixed = internalColor * textureColor;\n      vec3 allMixed = internalMixed * externalColor;\n\n      if (mode == ${e.int(1)}) {\n        return allMixed;\n      }\n      else if (mode == ${e.int(2)}) {\n        return internalMixed;\n      }\n      else if (mode == ${e.int(3)}) {\n        return externalColor;\n      }\n      else {\n        // tint (or something invalid)\n        float vIn = rgb2v(internalMixed);\n        vec3 hsvTint = rgb2hsv(externalColor);\n        vec3 hsvOut = vec3(hsvTint.x, hsvTint.y, vIn * hsvTint.z);\n        return hsv2rgb(hsvOut);\n      }\n    }\n\n    float mixExternalOpacity(float internalOpacity, float textureOpacity, float externalOpacity, int mode) {\n      // workaround for artifacts in OSX using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      float internalMixed = internalOpacity * textureOpacity;\n      float allMixed = internalMixed * externalOpacity;\n\n      if (mode == ${e.int(2)}) {\n        return internalMixed;\n      }\n      else if (mode == ${e.int(3)}) {\n        return externalOpacity;\n      }\n      else {\n        // multiply or tint (or something invalid)\n        return allMixed;\n      }\n    }\n  `)}export{i as MixExternalColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as i}from\"../../shaderModules/interfaces.js\";function n(n,t){const e=n.fragment,a=void 0!==t.lightingSphericalHarmonicsOrder?t.lightingSphericalHarmonicsOrder:2;0===a?(e.uniforms.add(\"lightingAmbientSH0\",\"vec3\"),e.code.add(i`\n      vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\n        vec3 ambientLight = 0.282095 * lightingAmbientSH0;\n        return ambientLight * (1.0 - ambientOcclusion);\n      }\n    `)):1===a?(e.uniforms.add(\"lightingAmbientSH_R\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B\",\"vec4\"),e.code.add(i`\n      vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\n        vec4 sh0 = vec4(\n          0.282095,\n          0.488603 * normal.x,\n          0.488603 * normal.z,\n          0.488603 * normal.y\n        );\n        vec3 ambientLight = vec3(\n          dot(lightingAmbientSH_R, sh0),\n          dot(lightingAmbientSH_G, sh0),\n          dot(lightingAmbientSH_B, sh0)\n        );\n        return ambientLight * (1.0 - ambientOcclusion);\n      }\n    `)):2===a&&(e.uniforms.add(\"lightingAmbientSH0\",\"vec3\"),e.uniforms.add(\"lightingAmbientSH_R1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_R2\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G2\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B2\",\"vec4\"),e.code.add(i`\n      vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\n        vec3 ambientLight = 0.282095 * lightingAmbientSH0;\n\n        vec4 sh1 = vec4(\n          0.488603 * normal.x,\n          0.488603 * normal.z,\n          0.488603 * normal.y,\n          1.092548 * normal.x * normal.y\n        );\n        vec4 sh2 = vec4(\n          1.092548 * normal.y * normal.z,\n          0.315392 * (3.0 * normal.z * normal.z - 1.0),\n          1.092548 * normal.x * normal.z,\n          0.546274 * (normal.x * normal.x - normal.y * normal.y)\n        );\n        ambientLight += vec3(\n          dot(lightingAmbientSH_R1, sh1),\n          dot(lightingAmbientSH_G1, sh1),\n          dot(lightingAmbientSH_B1, sh1)\n        );\n        ambientLight += vec3(\n          dot(lightingAmbientSH_R2, sh2),\n          dot(lightingAmbientSH_G2, sh2),\n          dot(lightingAmbientSH_B2, sh2)\n        );\n        return ambientLight * (1.0 - ambientOcclusion);\n      }\n    `),1!==t.pbrMode&&2!==t.pbrMode||e.code.add(i`\n        const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\n\n        vec3 calculateAmbientRadiance(float ambientOcclusion)\n        {\n          vec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\n          return ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n        }\n      `))}export{n as EvaluateAmbientLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as i}from\"../../shaderModules/interfaces.js\";function t(t){const n=t.fragment;n.uniforms.add(\"lightingMainDirection\",\"vec3\"),n.uniforms.add(\"lightingMainIntensity\",\"vec3\"),n.uniforms.add(\"lightingFixedFactor\",\"float\"),n.code.add(i`\n    vec3 evaluateMainLighting(vec3 normal_global, float shadowing) {\n      float dotVal = clamp(-dot(normal_global, lightingMainDirection), 0.0, 1.0);\n\n      // move lighting towards (1.0, 1.0, 1.0) if requested\n      dotVal = mix(dotVal, 1.0, lightingFixedFactor);\n\n      return lightingMainIntensity * ((1.0 - shadowing) * dotVal);\n    }\n  `)}export{t as EvaluateMainLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{PiUtils as i}from\"./PiUtils.glsl.js\";import{ReadShadowMap as t}from\"./ReadShadowMap.glsl.js\";import{PhysicallyBasedRendering as o}from\"./PhysicallyBasedRendering.glsl.js\";import{EvaluateAmbientOcclusion as a}from\"./EvaluateAmbientOcclusion.glsl.js\";import{EvaluateAmbientLighting as n}from\"./EvaluateAmbientLighting.glsl.js\";import{EvaluateMainLighting as l}from\"./EvaluateMainLighting.glsl.js\";function r(r,c){const d=r.fragment;r.include(l),r.include(a,c),0!==c.pbrMode&&r.include(o,c),r.include(n,c),c.receiveShadows&&r.include(t,c),d.uniforms.add(\"lightingGlobalFactor\",\"float\"),d.uniforms.add(\"ambientBoostFactor\",\"float\"),r.include(i),d.code.add(e`\n    const float GAMMA_SRGB = 2.1;\n    const float INV_GAMMA_SRGB = 0.4761904;\n    ${0===c.pbrMode?\"\":\"const vec3 GROUND_REFLECTANCE = vec3(0.2);\"}\n  `),c.useOldSceneLightInterface?d.code.add(e`\n    vec3 evaluateSceneLightingExt(vec3 normal, vec3 albedo, float shadow, float ssao, vec3 additionalLight) {\n      // evaluate the main light\n      #if defined(TREE_RENDERING)\n        // Special case for tree rendering:\n        // We shift the Lambert lobe to the back, allowing it to reach part of the hemisphere\n        // facing away from the light. The idea is to get an effect where light is transmitted\n        // through the tree.\n        float minDot = -0.5;\n        float dotRange = 1.0 - minDot;\n        float dotNormalization = 0.66; // guessed & hand tweaked value, for an exact value we could precompute an integral over the sphere\n\n        float dotVal = dotNormalization * (clamp(-dot(normal, lightingMainDirection), 1.0 - dotRange, 1.0) - minDot) * (1.0 / dotRange);\n      #else\n        float dotVal = clamp(-dot(normal, lightingMainDirection), 0.0, 1.0);\n      #endif\n\n      // move lighting towards (1.0, 1.0, 1.0) if requested\n      dotVal = mix(dotVal, 1.0, lightingFixedFactor);\n\n      vec3 mainLight = (1.0 - shadow) * lightingMainIntensity * dotVal;\n      vec3 ambientLight = calculateAmbientIrradiance(normal, ssao);\n\n      // inverse gamma correction on the albedo color\n      vec3 albedoGammaC = pow(albedo, vec3(GAMMA_SRGB));\n\n      // physically correct BRDF normalizes by PI\n      vec3 totalLight = mainLight + ambientLight + additionalLight;\n      totalLight = min(totalLight, vec3(PI));\n      vec3 outColor = vec3((albedoGammaC / PI) * (totalLight));\n\n      // apply gamma correction to the computed color\n      outColor = pow(outColor, vec3(INV_GAMMA_SRGB));\n\n      return outColor;\n    }\n  `):(1===c.viewingMode?d.code.add(e`\n      float _oldHeuristicLighting(vec3 vPosWorld) {\n        vec3 shadingNormalWorld = normalize(vPosWorld);\n        float vndl = -dot(shadingNormalWorld, lightingMainDirection);\n\n        return smoothstep(0.0, 1.0, clamp(vndl * 2.5, 0.0, 1.0));\n      }\n    `):d.code.add(e`\n      float _oldHeuristicLighting(vec3 vPosWorld) {\n        float vndl = -dot(vec3(0.0, 0.0, 1.0), lightingMainDirection);\n        return smoothstep(0.0, 1.0, clamp(vndl * 2.5, 0.0, 1.0));\n      }\n    `),d.code.add(e`\n      vec3 evaluateAdditionalLighting(float ambientOcclusion, vec3 vPosWorld) {\n        float additionalAmbientScale = _oldHeuristicLighting(vPosWorld);\n        return (1.0 - ambientOcclusion) * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor * lightingMainIntensity;\n      }\n    `),0===c.pbrMode||4===c.pbrMode?d.code.add(e`\n      vec3 evaluateSceneLighting(vec3 normalWorld, vec3 baseColor, float mainLightShadow, float ambientOcclusion, vec3 additionalLight)\n      {\n        vec3 mainLighting = evaluateMainLighting(normalWorld, mainLightShadow);\n        vec3 ambientLighting = calculateAmbientIrradiance(normalWorld, ambientOcclusion);\n        // inverse gamma correction on the base color\n        vec3 baseColorLinear = pow(baseColor, vec3(GAMMA_SRGB));\n\n        // physically correct BRDF normalizes by PI\n        vec3 totalLight = mainLighting + ambientLighting + additionalLight;\n        totalLight = min(totalLight, vec3(PI));\n        vec3 outColor = vec3((baseColorLinear / PI) * totalLight);\n\n        // apply gamma correction to the computed color\n        outColor = pow(outColor, vec3(INV_GAMMA_SRGB));\n\n        return outColor;\n      }\n      `):1!==c.pbrMode&&2!==c.pbrMode||(d.code.add(e`\n      const float fillLightIntensity = 0.25;\n      const float horizonLightDiffusion = 0.4;\n      const float additionalAmbientIrradianceFactor = 0.02;\n\n      vec3 evaluateSceneLightingPBR(vec3 normal, vec3 albedo, float shadow, float ssao, vec3 additionalLight, vec3 viewDir, vec3 normalGround, vec3 mrr, vec3 _emission, float additionalAmbientIrradiance)\n      {\n        // Calculate half vector between view and light direction\n        vec3 viewDirection = -viewDir;\n        vec3 mainLightDirection = -lightingMainDirection;\n        vec3 h = normalize(viewDirection + mainLightDirection);\n\n        PBRShadingInfo inputs;\n        inputs.NdotL = clamp(dot(normal, mainLightDirection), 0.001, 1.0);\n        inputs.NdotV = clamp(abs(dot(normal, viewDirection)), 0.001, 1.0);\n        inputs.NdotH = clamp(dot(normal, h), 0.0, 1.0);\n        inputs.VdotH = clamp(dot(viewDirection, h), 0.0, 1.0);\n        inputs.NdotNG = clamp(dot(normal, normalGround), -1.0, 1.0);\n        vec3 reflectedView = normalize(reflect(viewDirection, normal));\n        inputs.RdotNG = clamp(dot(reflectedView, normalGround), -1.0, 1.0);\n\n        inputs.albedoLinear = pow(albedo, vec3(GAMMA_SRGB));\n        inputs.ssao = ssao;\n\n        inputs.metalness = mrr[0];\n        inputs.roughness = clamp(mrr[1] * mrr[1], 0.001, 0.99);\n      `),d.code.add(e`\n        inputs.f0 = (0.16 * mrr[2] * mrr[2]) * (1.0 - inputs.metalness) + inputs.albedoLinear * inputs.metalness;\n        inputs.f90 = vec3(clamp(dot(inputs.f0, vec3(50.0 * 0.33)), 0.0, 1.0)); // more accurate then using  f90 = 1.0\n        inputs.diffuseColor = inputs.albedoLinear * (vec3(1.0) - inputs.f0) * (1.0 - inputs.metalness);\n      `),d.code.add(e`\n        vec3 ambientDir = vec3(5.0 * normalGround[1] - normalGround[0] * normalGround[2], - 5.0 * normalGround[0] - normalGround[2] * normalGround[1], normalGround[1] * normalGround[1] + normalGround[0] * normalGround[0]);\n        ambientDir = ambientDir != vec3(0.0)? normalize(ambientDir) : normalize(vec3(5.0, -1.0, 0.0));\n\n        inputs.NdotAmbDir = abs(dot(normal, ambientDir));\n\n        // Calculate the irradiance components: sun, fill lights and the sky.\n        vec3 mainLightIrradianceComponent  = inputs.NdotL * (1.0 - shadow) * lightingMainIntensity;\n        vec3 fillLightsIrradianceComponent = inputs.NdotAmbDir * lightingMainIntensity * fillLightIntensity;\n        // calculateAmbientIrradiance for localView and additionalLight for gloabalView\n        vec3 ambientLightIrradianceComponent = calculateAmbientIrradiance(normal, ssao) + additionalLight;\n\n        // Assemble the overall irradiance of the sky that illuminates the surface\n        inputs.skyIrradianceToSurface    = ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;\n        // Assemble the overall irradiance of the ground that illuminates the surface. for this we use the simple model that changes only the sky irradiance by the groundReflectance\n        inputs.groundIrradianceToSurface = GROUND_REFLECTANCE * ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;\n      `),d.code.add(e`\n        vec3 horizonRingDir = inputs.RdotNG * normalGround - reflectedView;\n        vec3 horizonRingH = normalize(viewDirection + horizonRingDir);\n        inputs.NdotH_Horizon = dot(normal, horizonRingH);\n\n        vec3 mainLightRadianceComponent  = normalDistribution(inputs.NdotH, inputs.roughness) * lightingMainIntensity * (1.0 - shadow);\n        vec3 horizonLightRadianceComponent = normalDistribution(inputs.NdotH_Horizon, min(inputs.roughness + horizonLightDiffusion, 1.0)) * lightingMainIntensity * fillLightIntensity;\n        vec3 ambientLightRadianceComponent = calculateAmbientRadiance(ssao) + additionalLight; // calculateAmbientRadiance for localView and additionalLight for gloabalView\n\n        // Assemble the overall radiance of the sky that illuminates the surface\n        inputs.skyRadianceToSurface    =  ambientLightRadianceComponent + mainLightRadianceComponent + horizonLightRadianceComponent;\n        // Assemble the overall radiance of the ground that illuminates the surface. for this we use the simple model that changes only the sky radince by the groundReflectance\n        inputs.groundRadianceToSurface = GROUND_REFLECTANCE * (ambientLightRadianceComponent + horizonLightRadianceComponent) + mainLightRadianceComponent;\n\n        // Calculate average ambient radiance - this is used int the gamut mapping part to deduce the black level that is soft compressed\n        inputs.averageAmbientRadiance = ambientLightIrradianceComponent[1] * (1.0 + GROUND_REFLECTANCE[1]);\n        `),d.code.add(e`\n        vec3 reflectedColorComponent = evaluateEnvironmentIllumination(inputs);\n        vec3 additionalMaterialReflectanceComponent = inputs.albedoLinear * additionalAmbientIrradiance;\n        vec3 emissionComponent = pow(_emission, vec3(GAMMA_SRGB));\n        vec3 outColorLinear = reflectedColorComponent + additionalMaterialReflectanceComponent + emissionComponent;\n        ${2===c.pbrMode?e`vec3 outColor = pow(max(vec3(0.0), outColorLinear - 0.005 * inputs.averageAmbientRadiance), vec3(INV_GAMMA_SRGB));`:e`vec3 outColor = pow(blackLevelSoftCompression(outColorLinear, inputs), vec3(INV_GAMMA_SRGB));`}\n        return outColor;\n      }\n    `)))}export{r as EvaluateSceneLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isNone as e,isSome as n}from\"../../../../core/maybe.js\";import\"../../../../core/mathUtils.js\";import{f as t}from\"../../../../chunks/vec3f64.js\";import o from\"../../../webgl/Program.js\";import{unpackFloatRGBA as i}from\"./Util.js\";import r from\"../../../webgl/BufferObject.js\";import s from\"../../../webgl/VertexArrayObject.js\";import{encodeDoubleArray as a}from\"./doublePrecisionUtils.js\";import c from\"../../../webgl/FramebufferObject.js\";import{testSVGPremultipliedAlpha as l}from\"../../../webgl/testSVGPremultipliedAlpha.js\";class u{constructor(e){this.context=e,this.svgAlwaysPremultipliesAlpha=!1,this._doublePrecisionRequiresObfuscation=null,l(e).then((e=>{this.svgAlwaysPremultipliesAlpha=!e}))}get doublePrecisionRequiresObfuscation(){if(e(this._doublePrecisionRequiresObfuscation)){const e=v(this.context,!1),n=v(this.context,!0);this._doublePrecisionRequiresObfuscation=0!==e&&(0===n||e/n>5)}return this._doublePrecisionRequiresObfuscation}}let f=null;function p(n){return(e(f)||f.context!==n)&&(f=new u(n)),f}function h(e){n(f)&&f.context===e&&(f=null)}function v(e,n){const l=new c(e,{colorTarget:0,depthStencilTarget:0},{target:3553,wrapMode:33071,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1});function u(t,i){const r=new o(e,`\\n\\n  precision highp float;\\n\\n  attribute vec2 a_pos;\\n\\n  uniform vec3 u_highA;\\n  uniform vec3 u_lowA;\\n  uniform vec3 u_highB;\\n  uniform vec3 u_lowB;\\n\\n  varying vec4 v_color;\\n\\n  ${n?\"#define DOUBLE_PRECISION_REQUIRES_OBFUSCATION\":\"\"}\\n\\n  #ifdef DOUBLE_PRECISION_REQUIRES_OBFUSCATION\\n\\n  vec3 dpPlusFrc(vec3 a, vec3 b) {\\n    return mix(a, a + b, vec3(notEqual(b, vec3(0))));\\n  }\\n\\n  vec3 dpMinusFrc(vec3 a, vec3 b) {\\n    return mix(vec3(0), a - b, vec3(notEqual(a, b)));\\n  }\\n\\n  vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\\n    vec3 t1 = dpPlusFrc(hiA, hiB);\\n    vec3 e = dpMinusFrc(t1, hiA);\\n    vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;\\n    return t1 + t2;\\n  }\\n\\n  #else\\n\\n  vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\\n    vec3 t1 = hiA + hiB;\\n    vec3 e = t1 - hiA;\\n    vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;\\n    return t1 + t2;\\n  }\\n\\n  #endif\\n\\n  const float MAX_RGBA_FLOAT =\\n    255.0 / 256.0 +\\n    255.0 / 256.0 / 256.0 +\\n    255.0 / 256.0 / 256.0 / 256.0 +\\n    255.0 / 256.0 / 256.0 / 256.0 / 256.0;\\n\\n  const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);\\n\\n  vec4 float2rgba(const float value) {\\n    // Make sure value is in the domain we can represent\\n    float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);\\n\\n    // Decompose value in 32bit fixed point parts represented as\\n    // uint8 rgba components. Decomposition uses the fractional part after multiplying\\n    // by a power of 256 (this removes the bits that are represented in the previous\\n    // component) and then converts the fractional part to 8bits.\\n    vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);\\n\\n    // Convert uint8 values (from 0 to 255) to floating point representation for\\n    // the shader\\n    const float toU8AsFloat = 1.0 / 255.0;\\n\\n    return fixedPointU8 * toU8AsFloat;\\n  }\\n\\n  void main() {\\n    vec3 val = dpAdd(u_highA, u_lowA, -u_highB, -u_lowB);\\n\\n    v_color = float2rgba(val.z / 25.0);\\n\\n    gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n  }\\n  `,\"\\n  precision highp float;\\n\\n  varying vec4 v_color;\\n\\n  void main() {\\n    gl_FragColor = v_color;\\n  }\\n  \",{a_pos:0}),s=new Float32Array(6);a(t,s,3);const c=new Float32Array(6);return a(i,c,3),e.bindProgram(r),r.setUniform3f(\"u_highA\",s[0],s[2],s[4]),r.setUniform3f(\"u_lowA\",s[1],s[3],s[5]),r.setUniform3f(\"u_highB\",c[0],c[2],c[4]),r.setUniform3f(\"u_lowB\",c[1],c[3],c[5]),r}const f=r.createVertex(e,35044,new Uint16Array([0,0,1,0,0,1,1,1])),p=new s(e,{a_pos:0},{geometry:[{name:\"a_pos\",count:2,type:5123,offset:0,stride:4,normalized:!1}]},{geometry:f}),h=t(5633261.287538229,2626832.878767164,1434988.0495278358),v=t(5633271.46742708,2626873.6381334523,1434963.231608387),m=u(h,v),d=e.getBoundFramebufferObject(),{x:A,y:b,width:_,height:g}=e.getViewport();e.bindFramebuffer(l),e.setViewport(0,0,1,1),e.bindVAO(p),e.drawArrays(5,0,4);const w=new Uint8Array(4);l.readPixels(0,0,1,1,6408,5121,w),m.dispose(),p.dispose(!1),f.dispose(),l.dispose(),e.setViewport(A,b,_,g),e.bindFramebuffer(d);const F=(h[2]-v[2])/25,B=i(w);return Math.abs(F-B)}export{h as clearTestWebGLDriver,p as testWebGLDriver};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/has.js\";import{glsl as c}from\"../../shaderModules/interfaces.js\";import{testWebGLDriver as i}from\"../../../lib/WebGLDriverTest.js\";function o({code:e},i){i.doublePrecisionRequiresObfuscation?e.add(c`\n      vec3 dpPlusFrc(vec3 a, vec3 b) {\n        return mix(a, a + b, vec3(notEqual(b, vec3(0))));\n      }\n\n      vec3 dpMinusFrc(vec3 a, vec3 b) {\n        return mix(vec3(0), a - b, vec3(notEqual(a, b)));\n      }\n\n      // based on https://www.thasler.com/blog/blog/glsl-part2-emu\n      vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\n        vec3 t1 = dpPlusFrc(hiA, hiB);\n        vec3 e = dpMinusFrc(t1, hiA);\n        vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;\n        return t1 + t2;\n      }\n    `):e.add(c`\n      vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\n        vec3 t1 = hiA + hiB;\n        vec3 e = t1 - hiA;\n        vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;\n        return t1 + t2;\n      }\n    `)}function r(c){return!!e(\"force-double-precision-obfuscation\")||i(c).doublePrecisionRequiresObfuscation}export{o as DoublePrecision,r as doublePrecisionRequiresObfuscation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../../../core/shaderModules/interfaces.js\";function l(l){l.vertex.code.add(o`\n    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {\n      float symbolAlpha = 0.0;\n\n      const float maxTint = 85.0;\n      const float maxReplace = 170.0;\n      const float scaleAlpha = 3.0;\n\n      if (symbolColor.a > maxReplace) {\n        colorMixMode = ${o.int(1)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);\n      } else if (symbolColor.a > maxTint) {\n        colorMixMode = ${o.int(3)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);\n      } else if (symbolColor.a > 0.0) {\n        colorMixMode = ${o.int(4)};\n        symbolAlpha = scaleAlpha * symbolColor.a;\n      } else {\n        colorMixMode = ${o.int(1)};\n        symbolAlpha = 0.0;\n      }\n\n      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);\n    }\n  `)}export{l as DecodeSymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";import{DecodeSymbolColor as e}from\"../../../collections/Component/Material/shader/DecodeSymbolColor.glsl.js\";function r(r,l){l.symbolColor?(r.include(e),r.attributes.add(\"symbolColor\",\"vec4\"),r.varyings.add(\"colorMixMode\",\"mediump float\")):r.fragment.uniforms.add(\"colorMixMode\",\"int\"),l.symbolColor?r.vertex.code.add(o`\n    int symbolColorMixMode;\n\n    vec4 getSymbolColor() {\n      return decodeSymbolColor(symbolColor, symbolColorMixMode) * 0.003921568627451;\n    }\n\n    void forwardColorMixMode() {\n      colorMixMode = float(symbolColorMixMode) + 0.5;\n    }\n  `):r.vertex.code.add(o`\n    vec4 getSymbolColor() { return vec4(1.0); }\n    void forwardColorMixMode() {}\n    `)}export{r as SymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import e from\"./Program.js\";import r from\"./BufferObject.js\";import t from\"./Texture.js\";import i from\"./VertexArrayObject.js\";import o from\"./FramebufferObject.js\";async function n(n){const a=new Image;if(a.src=\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='5' height='5' version='1.1' viewBox='0 0 5 5' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='5' height='5' fill='%23f00' fill-opacity='.5'/%3E%3C/svg%3E%0A\",a.width=5,a.height=5,await a.decode(),!n.gl)return!0;const s=new o(n,{colorTarget:0,depthStencilTarget:0},{target:3553,wrapMode:33071,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1}),p=r.createVertex(n,35044,new Uint16Array([0,0,1,0,0,1,1,1])),m=new i(n,{a_pos:0},{geometry:[{name:\"a_pos\",count:2,type:5123,offset:0,stride:4,normalized:!1}]},{geometry:p}),d=new e(n,\"\\n  precision highp float;\\n\\n  attribute vec2 a_pos;\\n  varying vec2 v_uv;\\n\\n  void main() {\\n    v_uv = a_pos;\\n    gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n  }\\n  \",\"\\n  precision highp float;\\n\\n  varying vec2 v_uv;\\n  uniform sampler2D u_texture;\\n\\n  void main() {\\n    gl_FragColor = texture2D(u_texture, v_uv);\\n  }\\n  \",{a_pos:0});n.bindProgram(d);const g=new t(n,{dataType:5121,pixelFormat:6408,preMultiplyAlpha:!1,wrapMode:33071,samplingMode:9729},a);n.bindTexture(g,0),d.setUniform1i(\"u_texture\",0);const c=n.getBoundFramebufferObject(),{x:f,y:u,width:l,height:w}=n.getViewport();n.bindFramebuffer(s),n.setViewport(0,0,1,1),n.bindVAO(m),n.drawArrays(5,0,4);const h=new Uint8Array(4);return s.readPixels(0,0,1,1,6408,5121,h),d.dispose(),m.dispose(!1),p.dispose(),s.dispose(),g.dispose(),n.setViewport(f,u,l,w),n.bindFramebuffer(c),a.src=\"\",255===h[0]}export{n as testSVGPremultipliedAlpha};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Slice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{VisualVariables as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as t,DiscardOrAdjustAlpha as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{VerticalOffset as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{multipassTerrainTest as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ReadShadowMap as c}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ForwardLinearDepth as g}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{PhysicallyBasedRendering as m}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{InstancedDoublePrecision as v}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{TextureCoordinateAttribute as p}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{PhysicallyBasedRenderingParameters as u}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{Offset as b}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{NormalAttribute as h}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as f}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as x}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{VertexColor as w}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VertexNormal as y}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js\";import{DefaultMaterialAuxiliaryPasses as C}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{ComputeNormalTexture as L}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js\";import{EvaluateAmbientOcclusion as j}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as M}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{Normals as T}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js\";import{HeaderComment as E}from\"../views/3d/webgl-engine/core/shaderLibrary/util/HeaderComment.glsl.js\";import{MixExternalColor as O}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";function P(P){const _=new o,S=_.vertex.code,$=_.fragment.code;return _.include(E,{name:\"Default Material Shader\",output:P.output}),_.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\"),_.include(f),_.varyings.add(\"vpos\",\"vec3\"),_.include(l,P),_.include(v,P),_.include(n,P),0!==P.output&&7!==P.output||(_.include(h,P),_.include(r,{linearDepth:!1}),0===P.normalType&&P.offsetBackfaces&&_.include(b),_.include(L,P),_.include(y,P),P.instancedColor&&_.attributes.add(\"instanceColor\",\"vec4\"),_.varyings.add(\"localvpos\",\"vec3\"),_.include(p,P),_.include(g,P),_.include(x,P),_.include(w,P),_.vertex.uniforms.add(\"externalColor\",\"vec4\"),_.varyings.add(\"vcolorExt\",\"vec4\"),P.multipassTerrainEnabled&&_.varyings.add(\"depth\",\"float\"),S.add(e`\n      void main(void) {\n        forwardNormalizedVertexColor();\n        vcolorExt = externalColor;\n        ${P.instancedColor?\"vcolorExt *= instanceColor;\":\"\"}\n        vcolorExt *= vvColor();\n        vcolorExt *= getSymbolColor();\n        forwardColorMixMode();\n\n        if (vcolorExt.a < ${e.float(t)}) {\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n        }\n        else {\n          vpos = calculateVPos();\n          localvpos = vpos - view[3].xyz;\n          vpos = subtractOrigin(vpos);\n          ${0===P.normalType?e`\n          vNormalWorld = dpNormal(vvLocalNormal(normalModel()));`:\"\"}\n          vpos = addVerticalOffset(vpos, localOrigin);\n          ${P.vertexTangets?\"vTangent = dpTransformVertexTangent(tangent);\":\"\"}\n          gl_Position = transformPosition(proj, view, vpos);\n          ${0===P.normalType&&P.offsetBackfaces?\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, camPos);\":\"\"}\n        }\n\n        ${P.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n        forwardLinearDepth();\n        forwardTextureCoordinates();\n      }\n    `)),7===P.output&&(_.include(a,P),_.include(s,P),P.multipassTerrainEnabled&&(_.fragment.include(i),_.include(d,P)),_.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),P.hasColorTexture&&_.fragment.uniforms.add(\"tex\",\"sampler2D\"),_.fragment.include(O),$.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${P.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        ${P.hasColorTexture?e`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${P.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:e`vec4 texColor = vec4(1.0);`}\n        ${P.attributeColor?e`\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:e`\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        gl_FragColor = vec4(opacity_);\n      }\n    `)),0===P.output&&(_.include(a,P),_.include(M,P),_.include(j,P),_.include(s,P),P.receiveShadows&&_.include(c,P),P.multipassTerrainEnabled&&(_.fragment.include(i),_.include(d,P)),_.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"ambient\",\"vec3\").add(\"diffuse\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),P.hasColorTexture&&_.fragment.uniforms.add(\"tex\",\"sampler2D\"),_.include(u,P),_.include(m,P),_.fragment.include(O),_.include(T,P),$.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${P.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        ${P.hasColorTexture?e`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${P.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:e`vec4 texColor = vec4(1.0);`}\n        shadingParams.viewDirection = normalize(vpos - camPos);\n        ${3===P.normalType?e`\n        vec3 normal = screenDerivativeNormal(localvpos);`:e`\n        shadingParams.normalView = vNormalWorld;\n        vec3 normal = shadingNormal(shadingParams);`}\n        ${1===P.pbrMode?\"applyPBRFactors();\":\"\"}\n        float ssao = evaluateAmbientOcclusionInverse();\n        ssao *= getBakedOcclusion();\n\n        float additionalAmbientScale = _oldHeuristicLighting(vpos + localOrigin);\n        vec3 additionalLight = ssao * lightingMainIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n        ${P.receiveShadows?\"float shadow = readShadowMap(vpos, linearDepth);\":1===P.viewingMode?\"float shadow = lightingGlobalFactor * (1.0 - additionalAmbientScale);\":\"float shadow = 0.0;\"}\n        vec3 matColor = max(ambient, diffuse);\n        ${P.attributeColor?e`\n        vec3 albedo_ = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:e`\n        vec3 albedo_ = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        ${P.hasNormalTexture?e`\n              mat3 tangentSpace = ${P.vertexTangets?\"computeTangentSpace(normal);\":\"computeTangentSpace(normal, vpos, vuv0);\"}\n              vec3 shadedNormal = computeTextureNormal(tangentSpace, vuv0);`:\"vec3 shadedNormal = normal;\"}\n        ${1===P.pbrMode||2===P.pbrMode?1===P.viewingMode?e`vec3 normalGround = normalize(vpos + localOrigin);`:e`vec3 normalGround = vec3(0.0, 0.0, 1.0);`:e``}\n        ${1===P.pbrMode||2===P.pbrMode?e`\n            float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * lightingMainIntensity[2];\n            vec3 shadedColor = evaluateSceneLightingPBR(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight, shadingParams.viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:\"vec3 shadedColor = evaluateSceneLighting(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight);\"}\n        gl_FragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);\n        ${P.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),_.include(C,P),_}var _=Object.freeze({__proto__:null,build:P});export{_ as D,P as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Slice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{VisualVariables as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as t,DiscardOrAdjustAlpha as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{VerticalOffset as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{multipassTerrainTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ReadShadowMap as c}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ForwardLinearDepth as g}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{PhysicallyBasedRendering as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{InstancedDoublePrecision as m}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{TextureCoordinateAttribute as p}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{PhysicallyBasedRenderingParameters as u}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{Offset as b}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{NormalAttribute as f}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as h}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as w}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{VertexColor as x}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{DefaultMaterialAuxiliaryPasses as y}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{EvaluateAmbientOcclusion as C}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as L}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{MixExternalColor as M}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";function j(j){const E=new r,O=E.vertex.code,_=E.fragment.code;return E.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\"),E.include(h),E.varyings.add(\"vpos\",\"vec3\"),E.include(l,j),E.include(m,j),E.include(n,j),0!==j.output&&7!==j.output||(E.include(f,j),E.include(o,{linearDepth:!1}),j.offsetBackfaces&&E.include(b),j.instancedColor&&E.attributes.add(\"instanceColor\",\"vec4\"),E.varyings.add(\"vNormalWorld\",\"vec3\"),E.varyings.add(\"localvpos\",\"vec3\"),j.multipassTerrainEnabled&&E.varyings.add(\"depth\",\"float\"),E.include(p,j),E.include(g,j),E.include(w,j),E.include(x,j),E.vertex.uniforms.add(\"externalColor\",\"vec4\"),E.varyings.add(\"vcolorExt\",\"vec4\"),O.add(e`\n        void main(void) {\n          forwardNormalizedVertexColor();\n          vcolorExt = externalColor;\n          ${j.instancedColor?\"vcolorExt *= instanceColor;\":\"\"}\n          vcolorExt *= vvColor();\n          vcolorExt *= getSymbolColor();\n          forwardColorMixMode();\n\n          if (vcolorExt.a < ${e.float(t)}) {\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          }\n          else {\n            vpos = calculateVPos();\n            localvpos = vpos - view[3].xyz;\n            vpos = subtractOrigin(vpos);\n            vNormalWorld = dpNormal(vvLocalNormal(normalModel()));\n            vpos = addVerticalOffset(vpos, localOrigin);\n            gl_Position = transformPosition(proj, view, vpos);\n            ${j.offsetBackfaces?\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, camPos);\":\"\"}\n          }\n          ${j.multipassTerrainEnabled?e`depth = (view * vec4(vpos, 1.0)).z;`:\"\"}\n          forwardLinearDepth();\n          forwardTextureCoordinates();\n        }\n      `)),7===j.output&&(E.include(a,j),E.include(d,j),j.multipassTerrainEnabled&&(E.fragment.include(i),E.include(s,j)),E.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),E.fragment.uniforms.add(\"view\",\"mat4\"),j.hasColorTexture&&E.fragment.uniforms.add(\"tex\",\"sampler2D\"),E.fragment.include(M),_.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${j.multipassTerrainEnabled?e`terrainDepthTest(gl_FragCoord, depth);`:\"\"}\n        ${j.hasColorTexture?e`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${j.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:e`vec4 texColor = vec4(1.0);`}\n        ${j.attributeColor?e`\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:e`\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n\n        gl_FragColor = vec4(opacity_);\n      }\n    `)),0===j.output&&(E.include(a,j),E.include(L,j),E.include(C,j),E.include(d,j),j.receiveShadows&&E.include(c,j),j.multipassTerrainEnabled&&(E.fragment.include(i),E.include(s,j)),E.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"ambient\",\"vec3\").add(\"diffuse\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),E.fragment.uniforms.add(\"view\",\"mat4\"),j.hasColorTexture&&E.fragment.uniforms.add(\"tex\",\"sampler2D\"),E.include(u,j),E.include(v,j),E.fragment.include(M),_.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${j.multipassTerrainEnabled?e`terrainDepthTest(gl_FragCoord, depth);`:\"\"}\n        ${j.hasColorTexture?e`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${j.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:e`vec4 texColor = vec4(1.0);`}\n        vec3 viewDirection = normalize(vpos - camPos);\n        ${1===j.pbrMode?\"applyPBRFactors();\":\"\"}\n        float ssao = evaluateAmbientOcclusionInverse();\n        ssao *= getBakedOcclusion();\n\n        float additionalAmbientScale = _oldHeuristicLighting(vpos + localOrigin);\n        vec3 additionalLight = ssao * lightingMainIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n        ${j.receiveShadows?\"float shadow = readShadowMap(vpos, linearDepth);\":1===j.viewingMode?\"float shadow = lightingGlobalFactor * (1.0 - additionalAmbientScale);\":\"float shadow = 0.0;\"}\n        vec3 matColor = max(ambient, diffuse);\n        ${j.attributeColor?e`\n        vec3 albedo_ = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:e`\n        vec3 albedo_ = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        ${e`\n        vec3 shadedNormal = normalize(vNormalWorld);\n        albedo_ *= 1.2;\n        vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\n        float alignmentLightView = clamp(dot(-viewForward, lightingMainDirection), 0.0, 1.0);\n        float transmittance = 1.0 - clamp(dot(-viewForward, shadedNormal), 0.0, 1.0);\n        float treeRadialFalloff = vColor.r;\n        float backLightFactor = 0.5 * treeRadialFalloff * alignmentLightView * transmittance * (1.0 - shadow);\n        additionalLight += backLightFactor * lightingMainIntensity;`}\n        ${1===j.pbrMode||2===j.pbrMode?1===j.viewingMode?e`vec3 normalGround = normalize(vpos + localOrigin);`:e`vec3 normalGround = vec3(0.0, 0.0, 1.0);`:e``}\n        ${1===j.pbrMode||2===j.pbrMode?e`\n            float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * lightingMainIntensity[2];\n            vec3 shadedColor = evaluateSceneLightingPBR(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight, viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:\"vec3 shadedColor = evaluateSceneLighting(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight);\"}\n        gl_FragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);\n        ${j.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),E.include(y,j),E}var E=Object.freeze({__proto__:null,build:j});export{E as R,j as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as o}from\"../../../../../../chunks/vec3f64.js\";import{a as r}from\"../../../../../../chunks/mat3f64.js\";import{a as e}from\"../../../../../../chunks/mat4f64.js\";import{glsl as i}from\"../../shaderModules/interfaces.js\";import{DoublePrecision as a}from\"../util/DoublePrecision.glsl.js\";import{PositionAttribute as m}from\"./PositionAttribute.glsl.js\";function t(o,r){o.include(m),o.vertex.include(a,r),o.varyings.add(\"vPositionWorldCameraRelative\",\"vec3\"),o.varyings.add(\"vPosition_view\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_RS\",\"mat3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_TH\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_TL\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromView_TH\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromView_TL\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_ViewFromCameraRelative_RS\",\"mat3\"),o.vertex.uniforms.add(\"uTransform_ProjFromView\",\"mat4\"),o.vertex.code.add(i`\n    // compute position in world space orientation, but relative to the camera position\n    vec3 positionWorldCameraRelative() {\n      vec3 rotatedModelPosition = uTransform_WorldFromModel_RS * positionModel();\n\n      vec3 transform_CameraRelativeFromModel = dpAdd(\n        uTransform_WorldFromModel_TL,\n        uTransform_WorldFromModel_TH,\n        -uTransform_WorldFromView_TL,\n        -uTransform_WorldFromView_TH\n      );\n\n      return transform_CameraRelativeFromModel + rotatedModelPosition;\n    }\n\n    // position in view space, that is relative to the camera position and orientation\n    vec3 position_view() {\n      return uTransform_ViewFromCameraRelative_RS * positionWorldCameraRelative();\n    }\n\n    // compute gl_Position and forward related varyings to fragment shader\n    void forwardPosition() {\n      vPositionWorldCameraRelative = positionWorldCameraRelative();\n      vPosition_view = position_view();\n      gl_Position = uTransform_ProjFromView * vec4(vPosition_view, 1.0);\n    }\n\n    vec3 positionWorld() {\n      return uTransform_WorldFromView_TL + vPositionWorldCameraRelative;\n    }\n  `),o.fragment.uniforms.add(\"uTransform_WorldFromView_TL\",\"vec3\"),o.fragment.code.add(i`\n    vec3 positionWorld() {\n      return uTransform_WorldFromView_TL + vPositionWorldCameraRelative;\n    }\n  `)}!function(i){class a{constructor(){this.worldFromModel_RS=r(),this.worldFromModel_TH=o(),this.worldFromModel_TL=o()}}i.ModelTransform=a;class m{constructor(){this.worldFromView_TH=o(),this.worldFromView_TL=o(),this.viewFromCameraRelative_RS=r(),this.projFromView=e()}}function t(o,r){o.setUniformMatrix3fv(\"uTransform_WorldFromModel_RS\",r.worldFromModel_RS),o.setUniform3fv(\"uTransform_WorldFromModel_TH\",r.worldFromModel_TH),o.setUniform3fv(\"uTransform_WorldFromModel_TL\",r.worldFromModel_TL)}function n(o,r){o.setUniform3fv(\"uTransform_WorldFromView_TH\",r.worldFromView_TH),o.setUniform3fv(\"uTransform_WorldFromView_TL\",r.worldFromView_TL),o.setUniformMatrix4fv(\"uTransform_ProjFromView\",r.projFromView),o.setUniformMatrix3fv(\"uTransform_ViewFromCameraRelative_RS\",r.viewFromCameraRelative_RS)}i.ViewProjectionTransform=m,i.bindModelTransform=t,i.bindViewProjTransform=n}(t||(t={}));export{t as VertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";import{NormalAttribute as r}from\"./NormalAttribute.glsl.js\";import{VertexPosition as a}from\"./VertexPosition.glsl.js\";function l(l,e){0===e.normalType||1===e.normalType?(l.include(r,e),l.varyings.add(\"vNormalWorld\",\"vec3\"),l.varyings.add(\"vNormalView\",\"vec3\"),l.vertex.uniforms.add(\"uTransformNormal_GlobalFromModel\",\"mat3\"),l.vertex.uniforms.add(\"uTransformNormal_ViewFromGlobal\",\"mat3\"),l.vertex.code.add(o`\n      void forwardNormal() {\n        vNormalWorld = uTransformNormal_GlobalFromModel * normalModel();\n        vNormalView = uTransformNormal_ViewFromGlobal * vNormalWorld;\n      }\n    `)):2===e.normalType?(l.include(a,e),l.varyings.add(\"vNormalWorld\",\"vec3\"),l.vertex.code.add(o`\n    void forwardNormal() {\n      vNormalWorld = ${1===e.viewingMode?o`normalize(vPositionWorldCameraRelative);`:o`vec3(0.0, 0.0, 1.0);`}\n    }\n    `)):l.vertex.code.add(o`\n      void forwardNormal() {}\n    `)}!function(o){function r(o,r){o.setUniformMatrix4fv(\"viewNormal\",r)}o.bindUniforms=r}(l||(l={}));export{l as VertexNormal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{VertexTextureCoordinates as t}from\"../attributes/VertexTextureCoordinates.glsl.js\";function n(n,a){const o=n.fragment;o.uniforms.add(\"normalTexture\",\"sampler2D\"),o.uniforms.add(\"normalTextureSize\",\"vec2\"),a.vertexTangets?(n.attributes.add(\"tangent\",\"vec4\"),n.varyings.add(\"vTangent\",\"vec4\"),2===a.doubleSidedMode?o.code.add(e`\n      mat3 computeTangentSpace(vec3 normal) {\n        float tangentHeadedness = gl_FrontFacing ? vTangent.w : -vTangent.w;\n        vec3 tangent = normalize(gl_FrontFacing ? vTangent.xyz : -vTangent.xyz);\n        vec3 bitangent = cross(normal, tangent) * tangentHeadedness;\n        return mat3(tangent, bitangent, normal);\n      }\n    `):o.code.add(e`\n      mat3 computeTangentSpace(vec3 normal) {\n        float tangentHeadedness = vTangent.w;\n        vec3 tangent = normalize(vTangent.xyz);\n        vec3 bitangent = cross(normal, tangent) * tangentHeadedness;\n        return mat3(tangent, bitangent, normal);\n      }\n    `)):(n.extensions.add(\"GL_OES_standard_derivatives\"),o.code.add(e`\n    mat3 computeTangentSpace(vec3 normal, vec3 pos, vec2 st) {\n\n      vec3 Q1 = dFdx(pos);\n      vec3 Q2 = dFdy(pos);\n\n      vec2 stx = dFdx(st);\n      vec2 sty = dFdy(st);\n\n      float det = stx.t * sty.s - sty.t * stx.s;\n\n      vec3 T = stx.t * Q2 - sty.t * Q1; // compute tangent\n      T = T - normal * dot(normal, T); // orthogonalize tangent\n      T *= inversesqrt(max(dot(T,T), 1.e-10)); // \"soft\" normalize - goes to 0 when T goes to 0\n      vec3 B = sign(det) * cross(normal, T); // assume normal is normalized, B has the same lenght as B\n      return mat3(T, B, normal); // T and B go to 0 when the tangent space is not well defined by the uv coordinates\n    }\n  `)),0!==a.attributeTextureCoordinates&&(n.include(t,a),o.code.add(e`\n    vec3 computeTextureNormal(mat3 tangentSpace, vec2 uv) {\n      vtc.uv = uv;\n      ${a.supportsTextureAtlas?\"vtc.size = normalTextureSize;\":\"\"}\n      vec3 rawNormal = textureLookup(normalTexture, vtc).rgb * 2.0 - 1.0;\n      return tangentSpace * rawNormal;\n    }\n  `))}export{n as ComputeNormalTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as a}from\"../../shaderModules/interfaces.js\";function r(r,e){const m=r.fragment;m.code.add(a`\n    struct ShadingNormalParameters {\n      vec3 normalView;\n      vec3 viewDirection;\n    } shadingParams;\n    `),1===e.doubleSidedMode?m.code.add(a`\n      vec3 shadingNormal(ShadingNormalParameters params) {\n        return dot(params.normalView, params.viewDirection) > 0.0 ? normalize(-params.normalView) : normalize(params.normalView);\n      }\n    `):2===e.doubleSidedMode?m.code.add(a`\n      vec3 shadingNormal(ShadingNormalParameters params) {\n        return gl_FrontFacing ? normalize(params.normalView) : normalize(-params.normalView);\n      }\n    `):m.code.add(a`\n      vec3 shadingNormal(ShadingNormalParameters params) {\n        return normalize(params.normalView);\n      }\n    `)}export{r as Normals};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../../../core/has.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function u(u,e){t`\n  /*\n  *  ${e.name}\n  *  ${0===e.output?\"RenderOutput: Color\":1===e.output?\"RenderOutput: Depth\":3===e.output?\"RenderOutput: Shadow\":2===e.output?\"RenderOutput: Normal\":4===e.output?\"RenderOutput: Highlight\":\"\"}\n  */\n  `}export{u as HeaderComment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){t.extensions.add(\"GL_EXT_shader_texture_lod\"),t.extensions.add(\"GL_OES_standard_derivatives\"),t.fragment.code.add(e`\n    #ifndef GL_EXT_shader_texture_lod\n      float calcMipMapLevel(const vec2 ddx, const vec2 ddy) {\n        float deltaMaxSqr = max(dot(ddx, ddx), dot(ddy, ddy));\n        return max(0.0, 0.5 * log2(deltaMaxSqr));\n      }\n    #endif\n\n    vec4 textureAtlasLookup(sampler2D texture, vec2 textureSize, vec2 textureCoordinates, vec4 atlasRegion) {\n      //[umin, vmin, umax, vmax]\n      vec2 atlasScale = atlasRegion.zw - atlasRegion.xy;\n      vec2 uvAtlas = fract(textureCoordinates) * atlasScale + atlasRegion.xy;\n\n      // calculate derivative of continuous texture coordinate\n      // to avoid mipmapping artifacts caused by manual wrapping in shader\n      // clamp the derivatives to avoid discoloring when zooming out.\n      float maxdUV = 0.125; // Emprirically tuned compromise between discoloring and aliasing noise.\n      vec2 dUVdx = clamp(dFdx(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\n      vec2 dUVdy = clamp(dFdy(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\n\n      #ifdef GL_EXT_shader_texture_lod\n        return texture2DGradEXT(texture, uvAtlas, dUVdx, dUVdy);\n      #else\n        // use bias to compensate for difference in automatic vs desired mipmap level\n        vec2 dUVdxAuto = dFdx(uvAtlas);\n        vec2 dUVdyAuto = dFdy(uvAtlas);\n        float mipMapLevel = calcMipMapLevel(dUVdx * textureSize, dUVdy * textureSize);\n        float autoMipMapLevel = calcMipMapLevel(dUVdxAuto * textureSize, dUVdyAuto * textureSize);\n\n        return texture2D(texture, uvAtlas, mipMapLevel - autoMipMapLevel);\n      #endif\n    }\n  `)}export{t as TextureAtlasLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{TextureCoordinateAttribute as t}from\"./TextureCoordinateAttribute.glsl.js\";import{TextureAtlasLookup as r}from\"../util/TextureAtlasLookup.glsl.js\";function u(u,a){u.include(t,a),u.fragment.code.add(e`\n  struct TextureLookupParameter {\n    vec2 uv;\n    ${a.supportsTextureAtlas?\"vec2 size;\":\"\"}\n  } vtc;\n  `),1===a.attributeTextureCoordinates&&u.fragment.code.add(e`\n      vec4 textureLookup(sampler2D tex, TextureLookupParameter params) {\n        return texture2D(tex, params.uv);\n      }\n    `),2===a.attributeTextureCoordinates&&(u.include(r),u.fragment.code.add(e`\n    vec4 textureLookup(sampler2D tex, TextureLookupParameter params) {\n        return textureAtlasLookup(tex, params.size, params.uv, vuvRegion);\n      }\n    `))}export{u as VertexTextureCoordinates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport r from\"../../../../../core/Logger.js\";const e=r.getLogger(\"esri.views.3d.support.buffer.math\");export{e as logger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{logger as e}from\"../views/3d/support/buffer/math/common.js\";function t(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[4],c=f[5],i=f[6],a=f[8],p=f[9],y=f[10],B=f[12],m=f[13],h=f[14],l=t.typedBuffer,S=t.typedBufferStride,b=r.typedBuffer,v=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*S,r=e*v,f=b[r],o=b[r+1],M=b[r+2];l[t]=n*f+s*o+a*M+B,l[t+1]=u*f+c*o+p*M+m,l[t+2]=d*f+i*o+y*M+h}}function r(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],B=t.typedBuffer,m=t.typedBufferStride,h=r.typedBuffer,l=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*m,r=e*l,f=h[r],o=h[r+1],S=h[r+2];B[t]=n*f+s*o+a*S,B[t+1]=u*f+c*o+p*S,B[t+2]=d*f+i*o+y*S}}function f(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=r*u[t],o[e+1]=r*u[t+1],o[e+2]=r*u[t+2]}}function o(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=u[t]>>r,o[e+1]=u[t+1]>>r,o[e+2]=u[t+2]>>r}}var n=Object.freeze({__proto__:null,transformMat4:t,transformMat3:r,scale:f,shiftRight:o});export{r as a,o as b,f as s,t,n as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{f as t}from\"../../../../chunks/vec3f64.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../lib/DefaultVertexAttributeLocations.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as l,defaultDepthWriteParams as c,defaultColorWriteParams as p}from\"../../../webgl/renderState.js\";import{View as u}from\"../core/shaderLibrary/util/View.glsl.js\";import{colorMixModes as h,bindScreenSizePerspective as d}from\"../materials/internal/MaterialUtil.js\";import{Slice as m}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as f}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{VisualVariables as v}from\"../core/shaderLibrary/shading/VisualVariables.glsl.js\";import{VerticalOffset as g}from\"../core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{blendingDefault as b,OITBlending as y,OITDepthTest as x,getOITPolygonOffset as T}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as P}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{stencilWriteMaskOn as M,stencilToolMaskBaseParams as S,stencilBaseAllZerosParams as O}from\"../lib/StencilUtils.js\";import{ReadShadowMap as C}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{doublePrecisionRequiresObfuscation as D}from\"../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{InstancedDoublePrecision as w}from\"../core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{PhysicallyBasedRenderingParameters as j}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{D as A}from\"../../../../chunks/DefaultMaterial.glsl.js\";class E extends r{initializeProgram(e){const t=E.shader.get(),i=this.configuration,r=t.build({OITEnabled:0===i.transparencyPassType,output:i.output,viewingMode:e.viewingMode,receiveShadows:i.receiveShadows,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:i.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,symbolColor:i.symbolColors,vvSize:i.vvSize,vvColor:i.vvColor,vvInstancingEnabled:!0,instanced:i.instanced,instancedColor:i.instancedColor,instancedDoublePrecision:i.instancedDoublePrecision,useOldSceneLightInterface:!1,pbrMode:i.usePBR?i.isSchematic?2:1:0,hasMetalnessAndRoughnessTexture:i.hasMetalnessAndRoughnessTexture,hasEmissionTexture:i.hasEmissionTexture,hasOcclusionTexture:i.hasOcclusionTexture,hasNormalTexture:i.hasNormalTexture,hasColorTexture:i.hasColorTexture,receiveAmbientOcclusion:i.receiveAmbientOcclusion,useCustomDTRExponentForWater:!1,normalType:i.normalsTypeDerivate?3:0,doubleSidedMode:i.doubleSidedMode,vertexTangets:i.vertexTangents,attributeTextureCoordinates:i.hasMetalnessAndRoughnessTexture||i.hasEmissionTexture||i.hasOcclusionTexture||i.hasNormalTexture||i.hasColorTexture?1:0,textureAlphaPremultiplied:i.textureAlphaPremultiplied,attributeColor:i.vertexColors,screenSizePerspectiveEnabled:i.screenSizePerspective,verticalOffsetEnabled:i.verticalOffset,offsetBackfaces:i.offsetBackfaces,doublePrecisionRequiresObfuscation:D(e.rctx),alphaDiscardMode:i.alphaDiscardMode,supportsTextureAtlas:!1,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new n(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),a)}bindPass(e,t,i){u.bindProjectionMatrix(this.program,i.camera.projectionMatrix);const r=this.configuration.output;(1===this.configuration.output||i.multipassTerrainEnabled||3===r)&&this.program.setUniform2fv(\"cameraNearFar\",i.camera.nearFar),i.multipassTerrainEnabled&&(this.program.setUniform2fv(\"inverseViewport\",i.inverseViewport),P(this.program,e,i)),7===r&&(this.program.setUniform1f(\"opacity\",t.opacity),this.program.setUniform1f(\"layerOpacity\",t.layerOpacity),this.program.setUniform4fv(\"externalColor\",t.externalColor),this.program.setUniform1i(\"colorMixMode\",h[t.colorMixMode])),0===r?(i.lighting.setUniforms(this.program,!1),this.program.setUniform3fv(\"ambient\",t.ambient),this.program.setUniform3fv(\"diffuse\",t.diffuse),this.program.setUniform4fv(\"externalColor\",t.externalColor),this.program.setUniform1i(\"colorMixMode\",h[t.colorMixMode]),this.program.setUniform1f(\"opacity\",t.opacity),this.program.setUniform1f(\"layerOpacity\",t.layerOpacity),this.configuration.usePBR&&j.bindUniforms(this.program,t,this.configuration.isSchematic)):4===r&&f.bindOutputHighlight(e,this.program,i),v.bindUniformsForSymbols(this.program,t),g.bindUniforms(this.program,t,i),d(t.screenSizePerspective,this.program,\"screenSizePerspectiveAlignment\"),2!==t.textureAlphaMode&&3!==t.textureAlphaMode||this.program.setUniform1f(\"textureAlphaCutoff\",t.textureAlphaCutoff)}bindDraw(e){const i=this.configuration.instancedDoublePrecision?t(e.camera.viewInverseTransposeMatrix[3],e.camera.viewInverseTransposeMatrix[7],e.camera.viewInverseTransposeMatrix[11]):e.origin;u.bindViewCustomOrigin(this.program,i,e.camera.viewMatrix),(0===this.configuration.output||7===this.configuration.output||1===this.configuration.output&&this.configuration.screenSizePerspective||2===this.configuration.output&&this.configuration.screenSizePerspective||4===this.configuration.output&&this.configuration.screenSizePerspective)&&u.bindCamPosition(this.program,i,e.camera.viewInverseTransposeMatrix),2===this.configuration.output&&this.program.setUniformMatrix4fv(\"viewNormal\",e.camera.viewInverseTransposeMatrix),this.configuration.instancedDoublePrecision&&w.bindCustomOrigin(this.program,i),m.bindUniforms(this.program,this.configuration,e.slicePlane,i),0===this.configuration.output&&C.bindViewCustomOrigin(this.program,e,i)}setPipeline(e,t){const i=this.configuration,r=3===e,o=2===e;return l({blending:0!==i.output&&7!==i.output||!i.transparent?null:r?b:y(e),culling:z(i),depthTest:{func:x(e)},depthWrite:r||o?i.writeDepth&&c:null,colorWrite:p,stencilWrite:i.sceneHasOcludees?M:null,stencilTest:i.sceneHasOcludees?t?S:O:null,polygonOffset:r||o?null:T(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this.setPipeline(this.configuration.transparencyPassType,!0),this.setPipeline(this.configuration.transparencyPassType,!1)}getPipelineState(e){return e?this._occludeePipelineState:this.pipeline}}function U(e){return e.cullFace?0!==e.cullFace:!e.slicePlaneEnabled&&(!e.transparent&&!e.doubleSidedMode)}E.shader=new i(A,(()=>import(\"./DefaultMaterial.glsl.js\")));const z=e=>U(e)&&{face:1===e.cullFace?1028:1029,mode:2305};class R extends o{constructor(){super(...arguments),this.output=0,this.alphaDiscardMode=1,this.doubleSidedMode=0,this.isSchematic=!1,this.vertexColors=!1,this.offsetBackfaces=!1,this.symbolColors=!1,this.vvSize=!1,this.vvColor=!1,this.verticalOffset=!1,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.sliceHighlightDisabled=!1,this.receiveAmbientOcclusion=!1,this.screenSizePerspective=!1,this.textureAlphaPremultiplied=!1,this.hasColorTexture=!1,this.usePBR=!1,this.hasMetalnessAndRoughnessTexture=!1,this.hasEmissionTexture=!1,this.hasOcclusionTexture=!1,this.hasNormalTexture=!1,this.instanced=!1,this.instancedColor=!1,this.instancedDoublePrecision=!1,this.vertexTangents=!1,this.normalsTypeDerivate=!1,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparent=!1,this.enableOffset=!0,this.cullFace=0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}e([s({count:8})],R.prototype,\"output\",void 0),e([s({count:4})],R.prototype,\"alphaDiscardMode\",void 0),e([s({count:3})],R.prototype,\"doubleSidedMode\",void 0),e([s()],R.prototype,\"isSchematic\",void 0),e([s()],R.prototype,\"vertexColors\",void 0),e([s()],R.prototype,\"offsetBackfaces\",void 0),e([s()],R.prototype,\"symbolColors\",void 0),e([s()],R.prototype,\"vvSize\",void 0),e([s()],R.prototype,\"vvColor\",void 0),e([s()],R.prototype,\"verticalOffset\",void 0),e([s()],R.prototype,\"receiveShadows\",void 0),e([s()],R.prototype,\"slicePlaneEnabled\",void 0),e([s()],R.prototype,\"sliceHighlightDisabled\",void 0),e([s()],R.prototype,\"receiveAmbientOcclusion\",void 0),e([s()],R.prototype,\"screenSizePerspective\",void 0),e([s()],R.prototype,\"textureAlphaPremultiplied\",void 0),e([s()],R.prototype,\"hasColorTexture\",void 0),e([s()],R.prototype,\"usePBR\",void 0),e([s()],R.prototype,\"hasMetalnessAndRoughnessTexture\",void 0),e([s()],R.prototype,\"hasEmissionTexture\",void 0),e([s()],R.prototype,\"hasOcclusionTexture\",void 0),e([s()],R.prototype,\"hasNormalTexture\",void 0),e([s()],R.prototype,\"instanced\",void 0),e([s()],R.prototype,\"instancedColor\",void 0),e([s()],R.prototype,\"instancedDoublePrecision\",void 0),e([s()],R.prototype,\"vertexTangents\",void 0),e([s()],R.prototype,\"normalsTypeDerivate\",void 0),e([s()],R.prototype,\"writeDepth\",void 0),e([s()],R.prototype,\"sceneHasOcludees\",void 0),e([s()],R.prototype,\"transparent\",void 0),e([s()],R.prototype,\"enableOffset\",void 0),e([s({count:3})],R.prototype,\"cullFace\",void 0),e([s({count:4})],R.prototype,\"transparencyPassType\",void 0),e([s()],R.prototype,\"multipassTerrainEnabled\",void 0),e([s()],R.prototype,\"cullAboveGround\",void 0);export{E as DefaultMaterialTechnique,R as DefaultMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{Default3D as r}from\"../lib/DefaultVertexAttributeLocations.js\";import s from\"../../../webgl/Program.js\";import{doublePrecisionRequiresObfuscation as i}from\"../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{DefaultMaterialTechnique as t}from\"./DefaultMaterialTechnique.js\";import{R as o}from\"../../../../chunks/RealisticTree.glsl.js\";class a extends t{initializeProgram(e){const t=a.shader.get(),o=this.configuration,l=t.build({OITEnabled:0===o.transparencyPassType,output:o.output,viewingMode:e.viewingMode,receiveShadows:o.receiveShadows,slicePlaneEnabled:o.slicePlaneEnabled,sliceHighlightDisabled:o.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,symbolColor:o.symbolColors,vvSize:o.vvSize,vvColor:o.vvColor,vvInstancingEnabled:!0,instanced:o.instanced,instancedColor:o.instancedColor,instancedDoublePrecision:o.instancedDoublePrecision,useOldSceneLightInterface:!1,pbrMode:o.usePBR?1:0,hasMetalnessAndRoughnessTexture:!1,hasEmissionTexture:!1,hasOcclusionTexture:!1,hasNormalTexture:!1,hasColorTexture:o.hasColorTexture,receiveAmbientOcclusion:o.receiveAmbientOcclusion,useCustomDTRExponentForWater:!1,normalType:0,doubleSidedMode:2,vertexTangets:!1,attributeTextureCoordinates:o.hasColorTexture?1:0,textureAlphaPremultiplied:o.textureAlphaPremultiplied,attributeColor:o.vertexColors,screenSizePerspectiveEnabled:o.screenSizePerspective,verticalOffsetEnabled:o.verticalOffset,offsetBackfaces:o.offsetBackfaces,doublePrecisionRequiresObfuscation:i(e.rctx),alphaDiscardMode:o.alphaDiscardMode,supportsTextureAtlas:!1,multipassTerrainEnabled:o.multipassTerrainEnabled,cullAboveGround:o.cullAboveGround});return new s(e.rctx,l.generateSource(\"vertex\"),l.generateSource(\"fragment\"),r)}}a.shader=new e(o,(()=>import(\"../core/shaderLibrary/default/RealisticTree.glsl.js\")));export{a as RealisticTreeTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e,f as t}from\"../../../../chunks/vec3f64.js\";import{s as i,g as s,n as a,f as r,l as n,a as o,d as l,t as u}from\"../../../../chunks/vec3.js\";import{a as c}from\"../../../../chunks/mat3f64.js\";import{newLayout as h}from\"../../support/buffer/InterleavedLayout.js\";import{getVerticalOffsetObject3D as d}from\"../lib/intersectorUtils.js\";import p from\"../lib/GLMaterialTexture.js\";import{verticalOffsetAtDistance as m,intersectTriangleGeometry as f}from\"./internal/MaterialUtil.js\";import{Material as v,materialParametersDefaults as g}from\"../lib/Material.js\";import{writeDefaultAttributes as C}from\"./internal/bufferWriterUtils.js\";import{defaultMaskAlphaCutoff as b}from\"../core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{OITPolygonOffsetLimit as x}from\"../lib/OrderIndependentTransparency.js\";import{DefaultMaterialTechniqueConfiguration as q,DefaultMaterialTechnique as S}from\"../shaders/DefaultMaterialTechnique.js\";import{RealisticTreeTechnique as T}from\"../shaders/RealisticTreeTechnique.js\";class y extends v{constructor(e){super(e,M),this.supportsEdges=!0,this.techniqueConfig=new q,this.vertexBufferLayout=y.getVertexBufferLayout(this.params),this.instanceBufferLayout=e.instanced?y.getInstanceBufferLayout(this.params):null}isVisibleInPass(e){return 4!==e&&6!==e&&7!==e||this.params.castShadows}isVisible(){const e=this.params;if(!super.isVisible()||0===e.layerOpacity)return!1;const t=e.instanced,i=e.vertexColors,s=e.symbolColors,a=!!t&&t.indexOf(\"color\")>-1,r=e.vvColorEnabled,n=\"replace\"===e.colorMixMode,o=e.opacity>0,l=e.externalColor&&e.externalColor[3]>0;return i&&(a||r||s)?!!n||o:i?n?l:o:a||r||s?!!n||o:n?l:o}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.hasNormalTexture=!!this.params.normalTextureId,this.techniqueConfig.hasColorTexture=!!this.params.textureId,this.techniqueConfig.vertexTangents=this.params.vertexTangents,this.techniqueConfig.instanced=!!this.params.instanced,this.techniqueConfig.instancedDoublePrecision=this.params.instancedDoublePrecision,this.techniqueConfig.vvSize=this.params.vvSizeEnabled,this.techniqueConfig.verticalOffset=null!==this.params.verticalOffset,this.techniqueConfig.screenSizePerspective=null!==this.params.screenSizePerspective,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.sliceHighlightDisabled=this.params.sliceHighlightDisabled,this.techniqueConfig.alphaDiscardMode=this.params.textureAlphaMode,this.techniqueConfig.normalsTypeDerivate=\"screenDerivative\"===this.params.normals,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig.cullFace=null!=this.params.cullFace?this.params.cullFace:0,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!t||t.cullAboveGround,0!==e&&7!==e||(this.techniqueConfig.vertexColors=this.params.vertexColors,this.techniqueConfig.symbolColors=this.params.symbolColors,this.params.treeRendering?this.techniqueConfig.doubleSidedMode=2:this.techniqueConfig.doubleSidedMode=this.params.doubleSided&&\"normal\"===this.params.doubleSidedType?1:this.params.doubleSided&&\"winding-order\"===this.params.doubleSidedType?2:0,this.techniqueConfig.instancedColor=!!this.params.instanced&&this.params.instanced.indexOf(\"color\")>-1,this.techniqueConfig.receiveShadows=this.params.receiveShadows&&this.params.shadowMappingEnabled,this.techniqueConfig.receiveAmbientOcclusion=!(!t||!t.ssaoEnabled)&&this.params.receiveSSAO,this.techniqueConfig.vvColor=this.params.vvColorEnabled,this.techniqueConfig.textureAlphaPremultiplied=!!this.params.textureAlphaPremultiplied,this.techniqueConfig.usePBR=this.params.usePBR,this.techniqueConfig.hasMetalnessAndRoughnessTexture=!!this.params.metallicRoughnessTextureId,this.techniqueConfig.hasEmissionTexture=!!this.params.emissiveTextureId,this.techniqueConfig.hasOcclusionTexture=!!this.params.occlusionTextureId,this.techniqueConfig.offsetBackfaces=!(!this.params.transparent||!this.params.offsetTransparentBackfaces),this.techniqueConfig.isSchematic=this.params.usePBR&&this.params.isSchematic,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.enableOffset=!t||t.camera.relativeElevation<x),this.techniqueConfig}intersect(e,t,c,h,p,v,g){if(null!==this.params.verticalOffset){const e=h.camera;i(R,c[12],c[13],c[14]);let t=null;switch(h.viewingMode){case 1:t=a(A,R);break;case 2:t=s(A,I)}let d=0;if(null!==this.params.verticalOffset){const i=r(D,R,e.eye),s=n(i),a=o(i,i,1/s);let u=null;this.params.screenSizePerspective&&(u=l(t,a)),d+=m(e,s,this.params.verticalOffset,u,this.params.screenSizePerspective)}o(t,t,d),u(L,t,h.transform.inverseRotation),p=r(E,p,L),v=r(B,v,L)}f(e,t,h,p,v,d(h.verticalOffset),g)}getGLMaterial(e){if(0===e.output||7===e.output||1===e.output||2===e.output||3===e.output||4===e.output)return new P(e)}createBufferWriter(){return new w(this.vertexBufferLayout,this.instanceBufferLayout)}static getVertexBufferLayout(e){const t=e.textureId||e.normalTextureId||e.metallicRoughnessTextureId||e.emissiveTextureId||e.occlusionTextureId,i=h().vec3f(\"position\").vec3f(\"normal\");return e.vertexTangents&&i.vec4f(\"tangent\"),t&&i.vec2f(\"uv0\"),e.vertexColors&&i.vec4u8(\"color\"),e.symbolColors&&i.vec4u8(\"symbolColor\"),i}static getInstanceBufferLayout(e){let t=h();return t=e.instancedDoublePrecision?t.vec3f(\"modelOriginHi\").vec3f(\"modelOriginLo\").mat3f(\"model\").mat3f(\"modelNormal\"):t.mat4f(\"model\").mat4f(\"modelNormal\"),e.instanced&&e.instanced.indexOf(\"color\")>-1&&(t=t.vec4f(\"instanceColor\")),e.instanced&&e.instanced.indexOf(\"featureAttribute\")>-1&&(t=t.vec4f(\"instanceFeatureAttribute\")),t}}class P extends p{constructor(e){const t=e.material;super({...e,...t.params}),this.updateParameters()}updateParameters(e){const t=this.material.params;this.updateTexture(t.textureId),this.technique=t.treeRendering?this.techniqueRep.acquireAndReleaseExisting(T,this.material.getTechniqueConfig(this.output,e),this.technique):this.techniqueRep.acquireAndReleaseExisting(S,this.material.getTechniqueConfig(this.output,e),this.technique)}selectPipelines(){}_updateShadowState(e){e.shadowMappingEnabled!==this.material.params.shadowMappingEnabled&&this.material.setParameterValues({shadowMappingEnabled:e.shadowMappingEnabled})}_updateOccludeeState(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&this.material.setParameterValues({sceneHasOcludees:e.hasOccludees})}ensureParameters(e){0!==this.output&&7!==this.output||(this._updateShadowState(e),this._updateOccludeeState(e)),this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.params,t),this.bindTexture(e,this.technique.program)}beginSlot(e){return e===(this.material.params.transparent?this.material.params.writeDepth?5:8:3)}getPipelineState(e,t){return this.technique.getPipelineState(t)}}const O=2.1,M={textureId:void 0,initTextureTransparent:!1,isSchematic:!1,usePBR:!1,normalTextureId:void 0,vertexTangents:!1,occlusionTextureId:void 0,emissiveTextureId:void 0,metallicRoughnessTextureId:void 0,emissiveFactor:[0,0,0],mrrFactors:[0,1,.5],ambient:[.2,.2,.2],diffuse:[.8,.8,.8],externalColor:[1,1,1,1],colorMixMode:\"multiply\",opacity:1,layerOpacity:1,vertexColors:!1,symbolColors:!1,doubleSided:!1,doubleSidedType:\"normal\",cullFace:void 0,instanced:void 0,instancedDoublePrecision:!1,normals:\"default\",receiveSSAO:!0,receiveShadows:!0,castShadows:!0,shadowMappingEnabled:!1,verticalOffset:null,screenSizePerspective:null,slicePlaneEnabled:!1,sliceHighlightDisabled:!1,offsetTransparentBackfaces:!1,vvSizeEnabled:!1,vvSizeMinSize:[1,1,1],vvSizeMaxSize:[100,100,100],vvSizeOffset:[0,0,0],vvSizeFactor:[1,1,1],vvSizeValue:[1,1,1],vvColorEnabled:!1,vvColorValues:[0,0,0,0,0,0,0,0],vvColorColors:[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],vvSymbolAnchor:[0,0,0],vvSymbolRotationMatrix:c(),transparent:!1,writeDepth:!0,textureAlphaMode:0,textureAlphaCutoff:b,textureAlphaPremultiplied:!1,sceneHasOcludees:!1,...g};class w{constructor(e,t){this.vertexBufferLayout=e,this.instanceBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,i,s){C(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,i,s)}}const E=e(),B=e(),I=t(0,0,1),A=e(),L=e(),R=e(),D=e();export{O as COLOR_GAMMA,y as DefaultMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as r}from\"../../../core/maybe.js\";import e from\"../../../core/Error.js\";import{isDataProtocol as o,dataToArrayBuffer as s}from\"../../../core/urlUtils.js\";import{throwIfAborted as t,throwIfAbortError as a}from\"../../../core/promiseUtils.js\";import i from\"../../../request.js\";import{result as m}from\"../../../core/asyncUtils.js\";class n{constructor(r){this.streamDataRequester=r}async loadJSON(r,e){return this.load(\"json\",r,e)}async loadBinary(r,e){return o(r)?(t(e),s(r)):this.load(\"binary\",r,e)}async loadImage(r,e){return this.load(\"image\",r,e)}async load(o,s,t){if(r(this.streamDataRequester))return(await i(s,{responseType:c[o]})).data;const n=await m(this.streamDataRequester.request(s,o,t));if(!0===n.ok)return n.value;throw a(n.error),new e(\"\",`Request for resource failed: ${n.error}`)}}const c={image:\"image\",binary:\"array-buffer\",json:\"json\"};export{n as DefaultLoadingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isInteger as e,maximumValue as t,isSigned as r}from\"../views/3d/support/buffer/types.js\";function f(e,t,r){const f=e.typedBuffer,n=e.typedBufferStride,d=t.typedBuffer,o=t.typedBufferStride,s=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*n,p=(r&&r.srcIndex?r.srcIndex:0)*o;for(let c=0;c<s;++c)f[u]=d[p],f[u+1]=d[p+1],u+=n,p+=o}function n(n,d,o){const s=n.typedBuffer,u=n.typedBufferStride,p=d.typedBuffer,c=d.typedBufferStride,l=o?o.count:d.count;let y=(o&&o.dstIndex?o.dstIndex:0)*u,i=(o&&o.srcIndex?o.srcIndex:0)*c;if(e(d.elementType)){const e=t(d.elementType);if(r(d.elementType))for(let t=0;t<l;++t)s[y]=Math.max(p[i]/e,-1),s[y+1]=Math.max(p[i+1]/e,-1),y+=u,i+=c;else for(let t=0;t<l;++t)s[y]=p[i]/e,s[y+1]=p[i+1]/e,y+=u,i+=c}else f(n,d,o);return n}var d=Object.freeze({__proto__:null,copy:f,normalizeIntegerBuffer:n});export{f as c,n,d as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,c=t.typedBufferStride,o=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*f,p=(r&&r.srcIndex?r.srcIndex:0)*c;for(let s=0;s<o;++s)d[u]=n[p],d[u+1]=n[p+1],d[u+2]=n[p+2],u+=f,p+=c}var t=Object.freeze({__proto__:null,copy:e});export{e as c,t as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,d){const f=e.typedBuffer,n=e.typedBufferStride,r=t.typedBuffer,o=t.typedBufferStride,c=d?d.count:t.count;let u=(d&&d.dstIndex?d.dstIndex:0)*n,s=(d&&d.srcIndex?d.srcIndex:0)*o;for(let p=0;p<c;++p)f[u]=r[s],f[u+1]=r[s+1],f[u+2]=r[s+2],f[u+3]=r[s+3],u+=n,s+=o}function t(e,t,d,f,n,r){const o=e.typedBuffer,c=e.typedBufferStride,u=r?r.count:e.count;let s=(r&&r.dstIndex?r.dstIndex:0)*c;for(let p=0;p<u;++p)o[s]=t,o[s+1]=d,o[s+2]=f,o[s+3]=n,s+=c}var d=Object.freeze({__proto__:null,copy:e,fill:t});export{e as c,t as f,d as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,o=t.typedBufferStride,c=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*f,p=(r&&r.srcIndex?r.srcIndex:0)*o;for(let s=0;s<c;++s){for(let e=0;e<9;++e)d[u+e]=n[p+e];u+=f,p+=o}}var t=Object.freeze({__proto__:null,copy:e});export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,o=t.typedBufferStride,c=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*f,p=(r&&r.srcIndex?r.srcIndex:0)*o;for(let s=0;s<c;++s){for(let e=0;e<16;++e)d[u+e]=n[p+e];u+=f,p+=o}}var t=Object.freeze({__proto__:null,copy:e});export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const n=e.typedBuffer,o=e.typedBufferStride,c=t.typedBuffer,d=t.typedBufferStride,f=r?r.count:t.count;let s=(r&&r.dstIndex?r.dstIndex:0)*o,u=(r&&r.srcIndex?r.srcIndex:0)*d;for(let p=0;p<f;++p)n[s]=c[u],s+=o,u+=d}function t(e,t){const r=e.count;t||(t=new e.TypedArrayConstructor(r));for(let n=0;n<r;n++)t[n]=e.get(n);return t}var r=Object.freeze({__proto__:null,copy:e,makeDense:t});export{e as c,t as m,r as s};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{elementTypeSize as e}from\"./types.js\";export{m as mat3}from\"../../../../chunks/mat32.js\";export{m as mat4}from\"../../../../chunks/mat42.js\";export{s as scalar}from\"../../../../chunks/scalar.js\";export{v as vec2}from\"../../../../chunks/vec22.js\";export{v as vec3}from\"../../../../chunks/vec33.js\";export{v as vec4}from\"../../../../chunks/vec43.js\";function r(s,r){return new s(new ArrayBuffer(r*s.ElementCount*e(s.ElementType)))}export{r as createBuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport r from\"../../../core/Logger.js\";import e from\"../../../core/Error.js\";const o=r.getLogger(\"esri.views.3d.glTF\");class t{error(r){throw new e(\"gltf-loader-error\",r)}errorUnsupported(r){throw new e(\"gltf-loader-unsupported-feature\",r)}errorUnsupportedIf(r,e){r&&this.errorUnsupported(e)}assert(r,e){r||this.error(e)}warn(r){o.warn(r)}warnUnsupported(r){this.warn(\"[Unsupported Feature] \"+r)}warnUnsupportedIf(r,e){r&&this.warnUnsupported(e)}}export{t as DefaultErrorContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.data=t,this.offset4=0,this.dataUint32=new Uint32Array(this.data,0,Math.floor(this.data.byteLength/4))}readUint32(){const t=this.offset4;return this.offset4+=1,this.dataUint32[t]}readUint8Array(t){const s=4*this.offset4;return this.offset4+=t/4,new Uint8Array(this.data,s,t)}remainingBytes(){return this.data.byteLength-4*this.offset4}}export{t as BinaryStreamReader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";const o={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1},r={pbrMetallicRoughness:o,emissiveFactor:[0,0,0],alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1},t={ESRI_externalColorMixMode:\"tint\"},a=(e={})=>{const a={...o,...e.pbrMetallicRoughness},i=l({...t,...e.extras});return{...r,...e,pbrMetallicRoughness:a,extras:i}};function l(o){switch(o.ESRI_externalColorMixMode){case\"multiply\":case\"tint\":case\"ignore\":case\"replace\":break;default:e(o.ESRI_externalColorMixMode),o.ESRI_externalColorMixMode=\"tint\"}return o}const i={magFilter:9729,minFilter:9987,wrapS:10497,wrapT:10497},s=e=>({...i,...e});export{a as material,s as textureSampler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{isDataProtocol as t,dataComponents as r,dataToArrayBuffer as n,makeAbsolute as o}from\"../../../../core/urlUtils.js\";import{Version as s}from\"../../../../core/Version.js\";import{m as a,t as i,r as u,s as c,k as p}from\"../../../../chunks/mat4.js\";import{a as d,b as f}from\"../../../../chunks/mat4f64.js\";import{a as l}from\"../../../../chunks/quatf64.js\";import{BufferViewUint32 as m,BufferViewUint16 as h,BufferViewUint8 as y,BufferViewVec3f as b,BufferViewVec4f as T,BufferViewVec2f as x,BufferViewVec4u8 as w,BufferViewVec4u16 as O,BufferViewVec3u8 as C,BufferViewVec3u16 as g,BufferViewVec2u32 as N,BufferViewVec2u16 as U,BufferViewVec2i16 as S,BufferViewVec2u8 as A,BufferViewVec2i8 as I}from\"../../support/buffer/BufferView.js\";import{g as R}from\"../../../../chunks/quat.js\";import{BinaryStreamReader as L}from\"./BinaryStreamReader.js\";import{material as v,textureSampler as E}from\"./fillDefaults.js\";import{splitURI as B}from\"./pathUtils.js\";import{m as M}from\"../../../../chunks/scalar.js\";const D={MAGIC:1179937895,CHUNK_TYPE_JSON:1313821514,CHUNK_TYPE_BIN:5130562,MIN_HEADER_LENGTH:20};class j{constructor(e,t,r,n,o){this.context=e,this.errorContext=t,this.uri=r,this.json=n,this.glbBuffer=o,this.bufferCache=new Map,this.textureCache=new Map,this.materialCache=new Map,this.nodeParentMap=new Map,this.nodeTransformCache=new Map,this.baseUri=B(this.uri).dirPart,this.checkVersionSupported(),this.checkRequiredExtensionsSupported(),t.errorUnsupportedIf(null==n.scenes,\"Scenes must be defined.\"),t.errorUnsupportedIf(null==n.meshes,\"Meshes must be defined\"),t.errorUnsupportedIf(null==n.nodes,\"Nodes must be defined.\"),this.computeNodeParents()}static async load(e,o,s,a){if(t(s)){const t=r(s);if(\"model/gltf-binary\"!==t.mediaType)try{const r=JSON.parse(t.isBase64?atob(t.data):t.data);return new j(e,o,s,r)}catch{}const a=n(s);if(j.isGLBData(a))return this.fromGLBData(e,o,s,a)}if(s.endsWith(\".gltf\")){const t=await e.loadJSON(s,a);return new j(e,o,s,t)}const i=await e.loadBinary(s,a);if(j.isGLBData(i))return this.fromGLBData(e,o,s,i);const u=await e.loadJSON(s,a);return new j(e,o,s,u)}static isGLBData(e){const t=new L(e);return t.remainingBytes()>=4&&t.readUint32()===D.MAGIC}static async fromGLBData(e,t,r,n){const o=await j.parseGLBData(t,n);return new j(e,t,r,o.json,o.binaryData)}static async parseGLBData(e,t){const r=new L(t);e.assert(r.remainingBytes()>=12,\"GLB binary data is insufficiently large.\");const n=r.readUint32(),o=r.readUint32(),s=r.readUint32();e.assert(n===D.MAGIC,\"Magic first 4 bytes do not fit to expected GLB value.\"),e.assert(t.byteLength>=s,\"GLB binary data is smaller than header specifies.\"),e.errorUnsupportedIf(2!==o,\"An unsupported GLB container version was detected. Only version 2 is supported.\");let a,i,u=0;for(;r.remainingBytes()>=8;){const t=r.readUint32(),n=r.readUint32();0===u?(e.assert(n===D.CHUNK_TYPE_JSON,\"First GLB chunk must be JSON.\"),e.assert(t>=0,\"No JSON data found.\"),a=await X(r.readUint8Array(t))):1===u?(e.errorUnsupportedIf(n!==D.CHUNK_TYPE_BIN,\"Second GLB chunk expected to be BIN.\"),i=r.readUint8Array(t)):e.warnUnsupported(\"More than 2 GLB chunks detected. Skipping.\"),u+=1}return a||e.error(\"No GLB JSON chunk detected.\"),{json:a,binaryData:i}}async getBuffer(e,t){const r=this.json.buffers[e],n=this.errorContext;if(null==r.uri)return n.assert(null!=this.glbBuffer,\"GLB buffer not present\"),this.glbBuffer;let o=this.bufferCache.get(e);if(!o){const s=await this.context.loadBinary(this.resolveUri(r.uri),t);o=new Uint8Array(s),this.bufferCache.set(e,o),n.assert(o.byteLength===r.byteLength,\"Buffer byte lengths should match.\")}return o}async getAccessor(e,t){const r=this.json.accessors[e],n=this.errorContext;n.errorUnsupportedIf(null==r.bufferView,\"Some accessor does not specify a bufferView.\"),n.errorUnsupportedIf(r.type in[\"MAT2\",\"MAT3\",\"MAT4\"],`AttributeType ${r.type} is not supported`);const o=this.json.bufferViews[r.bufferView],s=await this.getBuffer(o.buffer,t),a=F[r.type],i=k[r.componentType],u=a*i,c=o.byteStride||u;return{raw:s.buffer,byteStride:c,byteOffset:s.byteOffset+(o.byteOffset||0)+(r.byteOffset||0),entryCount:r.count,isDenselyPacked:c===u,componentCount:a,componentByteSize:i,componentType:r.componentType,min:r.min,max:r.max,normalized:!!r.normalized}}async getIndexData(e,t){if(null==e.indices)return null;const r=await this.getAccessor(e.indices,t);if(r.isDenselyPacked)switch(r.componentType){case 5121:return new Uint8Array(r.raw,r.byteOffset,r.entryCount);case 5123:return new Uint16Array(r.raw,r.byteOffset,r.entryCount);case 5125:return new Uint32Array(r.raw,r.byteOffset,r.entryCount)}else switch(r.componentType){case 5121:return M(this.wrapAccessor(y,r));case 5123:return M(this.wrapAccessor(h,r));case 5125:return M(this.wrapAccessor(m,r))}}async getPositionData(e,t){const r=this.errorContext;r.errorUnsupportedIf(null==e.attributes.POSITION,\"No POSITION vertex data found.\");const n=await this.getAccessor(e.attributes.POSITION,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for POSITION vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(3!==n.componentCount,\"POSITION vertex attribute must have 3 components, but found \"+n.componentCount.toFixed()),this.wrapAccessor(b,n)}async getNormalData(e,t){const r=this.errorContext;r.assert(null!=e.attributes.NORMAL,\"No NORMAL vertex data found.\");const n=await this.getAccessor(e.attributes.NORMAL,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for NORMAL vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(3!==n.componentCount,\"NORMAL vertex attribute must have 3 components, but found \"+n.componentCount.toFixed()),this.wrapAccessor(b,n)}async getTangentData(e,t){const r=this.errorContext;r.assert(null!=e.attributes.TANGENT,\"No TANGENT vertex data found.\");const n=await this.getAccessor(e.attributes.TANGENT,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for TANGENT vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(4!==n.componentCount,\"TANGENT vertex attribute must have 4 components, but found \"+n.componentCount.toFixed()),new T(n.raw,n.byteOffset,n.byteStride,n.byteOffset+n.byteStride*n.entryCount)}async getTextureCoordinates(e,t){const r=this.errorContext;r.assert(null!=e.attributes.TEXCOORD_0,\"No TEXCOORD_0 vertex data found.\");const n=await this.getAccessor(e.attributes.TEXCOORD_0,t);return r.errorUnsupportedIf(2!==n.componentCount,\"TEXCOORD_0 vertex attribute must have 2 components, but found \"+n.componentCount.toFixed()),5126===n.componentType?this.wrapAccessor(x,n):(r.errorUnsupportedIf(!n.normalized,\"Integer component types are only supported for a normalized accessor for TEXCOORD_0.\"),V(n))}async getVertexColors(e,t){const r=this.errorContext;r.assert(null!=e.attributes.COLOR_0,\"No COLOR_0 vertex data found.\");const n=await this.getAccessor(e.attributes.COLOR_0,t);if(r.errorUnsupportedIf(4!==n.componentCount&&3!==n.componentCount,\"COLOR_0 attribute must have 3 or 4 components, but found \"+n.componentCount.toFixed()),4===n.componentCount){if(5126===n.componentType)return this.wrapAccessor(T,n);if(5121===n.componentType)return this.wrapAccessor(w,n);if(5123===n.componentType)return this.wrapAccessor(O,n)}else if(3===n.componentCount){if(5126===n.componentType)return this.wrapAccessor(b,n);if(5121===n.componentType)return this.wrapAccessor(C,n);if(5123===n.componentType)return this.wrapAccessor(g,n)}r.errorUnsupported(\"Unsupported component type for COLOR_0 attribute: \"+q[n.componentType])}hasPositions(e){return void 0!==e.attributes.POSITION}hasNormals(e){return void 0!==e.attributes.NORMAL}hasVertexColors(e){return void 0!==e.attributes.COLOR_0}hasTextureCoordinates(e){return void 0!==e.attributes.TEXCOORD_0}hasTangents(e){return void 0!==e.attributes.TANGENT}async getMaterial(e,t,r){const n=this.errorContext;let o=this.materialCache.get(e.material);if(!o){const s=null!=e.material?v(this.json.materials[e.material]):v(),a=s.pbrMetallicRoughness,i=this.hasVertexColors(e);let u,c,p,d,f;a.baseColorTexture&&(n.errorUnsupportedIf(0!==(a.baseColorTexture.texCoord||0),\"Only TEXCOORD with index 0 is supported.\"),u=await this.getTexture(a.baseColorTexture.index,t)),s.normalTexture&&(0!==(s.normalTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the normal map texture.\"):c=await this.getTexture(s.normalTexture.index,t)),s.occlusionTexture&&r&&(0!==(s.occlusionTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the occlusion texture.\"):p=await this.getTexture(s.occlusionTexture.index,t)),s.emissiveTexture&&r&&(0!==(s.emissiveTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the emissive texture.\"):d=await this.getTexture(s.emissiveTexture.index,t)),a.metallicRoughnessTexture&&r&&(0!==(a.metallicRoughnessTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the metallicRoughness texture.\"):f=await this.getTexture(a.metallicRoughnessTexture.index,t));const l=null!=e.material?e.material:-1;o={alphaMode:s.alphaMode,alphaCutoff:s.alphaCutoff,color:a.baseColorFactor,doubleSided:!!s.doubleSided,colorTexture:u,normalTexture:c,name:s.name,id:l,occlusionTexture:p,emissiveTexture:d,emissiveFactor:s.emissiveFactor,metallicFactor:a.metallicFactor,roughnessFactor:a.roughnessFactor,metallicRoughnessTexture:f,vertexColors:i,ESRI_externalColorMixMode:s.extras.ESRI_externalColorMixMode}}return o}async getTexture(e,t){const r=this.errorContext,n=this.json.textures[e],o=E(null!=n.sampler?this.json.samplers[n.sampler]:{});r.errorUnsupportedIf(null==n.source,\"Source is expected to be defined for a texture.\");const s=this.json.images[n.source];let a=this.textureCache.get(e);if(!a){let n;if(s.uri)n=await this.context.loadImage(this.resolveUri(s.uri),t);else{r.errorUnsupportedIf(null==s.bufferView,\"Image bufferView must be defined.\"),r.errorUnsupportedIf(null==s.mimeType,\"Image mimeType must be defined.\");const e=this.json.bufferViews[s.bufferView],o=await this.getBuffer(e.buffer,t);r.errorUnsupportedIf(null!=e.byteStride,\"byteStride not supported for image buffer\"),n=await J(new Uint8Array(o.buffer,o.byteOffset+(e.byteOffset||0),e.byteLength),s.mimeType)}a={data:n,wrapS:o.wrapS,wrapT:o.wrapT,minFilter:o.minFilter,name:s.name,id:e},this.textureCache.set(e,a)}return a}getNodeTransform(e){if(void 0===e)return _;let t=this.nodeTransformCache.get(e);if(!t){const r=this.getNodeTransform(this.getNodeParent(e)),n=this.json.nodes[e];n.matrix?t=a(d(),r,n.matrix):n.translation||n.rotation||n.scale?(t=f(r),n.translation&&i(t,t,n.translation),n.rotation&&(P[3]=R(P,n.rotation),u(t,t,P[3],P)),n.scale&&c(t,t,n.scale)):t=r,this.nodeTransformCache.set(e,t)}return t}wrapAccessor(e,t){return new e(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*(t.entryCount-1)+t.componentByteSize*t.componentCount)}resolveUri(e){return o(e,this.baseUri)}getNodeParent(e){return this.nodeParentMap.get(e)}checkVersionSupported(){const e=s.parse(this.json.asset.version,\"glTF\");G.validate(e)}checkRequiredExtensionsSupported(){const e=this.json,t=this.errorContext;e.extensionsRequired&&0!==e.extensionsRequired.length&&t.errorUnsupported(\"gltf loader was not able to load unsupported feature. Required extensions: \"+e.extensionsRequired.join(\", \"))}computeNodeParents(){this.json.nodes.forEach(((e,t)=>{e.children&&e.children.forEach((e=>{this.nodeParentMap.set(e,t)}))}))}}const G=new s(2,0,\"glTF\"),_=p(d(),Math.PI/2),P=l(),F={SCALAR:1,VEC2:2,VEC3:3,VEC4:4},k={5120:1,5121:1,5122:2,5123:2,5126:4,5125:4};function V(t){switch(t.componentType){case 5120:return new I(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5121:return new A(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5122:return new S(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5123:return new U(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5125:return new N(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5126:return new x(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);default:return void e(t.componentType)}}async function X(e){return new Promise(((t,r)=>{const n=new Blob([e]),o=new FileReader;o.onload=()=>{const e=o.result;t(JSON.parse(e))},o.onerror=e=>{r(e)},o.readAsText(n)}))}async function J(e,t){return new Promise(((r,n)=>{const o=new Blob([e],{type:t}),s=URL.createObjectURL(o),a=new Image;a.addEventListener(\"load\",(()=>{URL.revokeObjectURL(s),\"decode\"in a?a.decode().then((()=>r(a)),(()=>r(a))):r(a)})),a.addEventListener(\"error\",(e=>{URL.revokeObjectURL(s),n(e)})),a.src=s}))}const q={5120:\"BYTE\",5121:\"UNSIGNED_BYTE\",5122:\"SHORT\",5123:\"UNSIGNED_SHORT\",5125:\"UNSIGNED_INT\",5126:\"FLOAT\"};export{j as Resource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction r(r){let e,t;return r.replace(/^(.*\\/)?([^/]*)$/,((r,a,i)=>(e=a||\"\",t=i||\"\",\"\"))),{dirPart:e,filePart:t}}export{r as splitURI};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{b as o}from\"../../../chunks/mat4f64.js\";import{DefaultErrorContext as r}from\"./DefaultErrorContext.js\";import{makeMaterialParameters as s,makeTextureSource as a}from\"./LoaderResult.js\";import{Resource as i}from\"./internal/Resource.js\";let n=0;async function l(r,s,a={},l=!0){const d=await i.load(r,f,s,a),x=\"gltf_\"+n++,h={lods:[],materials:new Map,textures:new Map,meta:c(d)},w=!(!d.json.asset.extras||\"symbolResource\"!==d.json.asset.extras.ESRI_type);return await m(d,(async(r,s,i,n)=>{const c=void 0!==r.mode?r.mode:4,m=u(c);if(t(m))return void f.warnUnsupported(\"Unsupported primitive mode (\"+T[c]+\"). Skipping primitive.\");if(!d.hasPositions(r))return void f.warn(\"Skipping primitive without POSITION vertex attribute.\");const w=await d.getMaterial(r,a,l),S={transform:o(s),attributes:{position:await d.getPositionData(r,a),normal:null,texCoord0:null,color:null,tangent:null},indices:await d.getIndexData(r,a),primitiveType:m,material:p(h,w,x)};d.hasNormals(r)&&(S.attributes.normal=await d.getNormalData(r,a)),d.hasTangents(r)&&(S.attributes.tangent=await d.getTangentData(r,a)),d.hasTextureCoordinates(r)&&(S.attributes.texCoord0=await d.getTextureCoordinates(r,a)),d.hasVertexColors(r)&&(S.attributes.color=await d.getVertexColors(r,a));let g=null;e(h.meta)&&e(h.meta.ESRI_lod)&&\"screenSpaceRadius\"===h.meta.ESRI_lod.metric&&(g=h.meta.ESRI_lod.thresholds[i]),h.lods[i]=h.lods[i]||{parts:[],name:n,lodThreshold:g},h.lods[i].parts.push(S)})),{model:h,meta:{isEsriSymbolResource:w,uri:d.uri},customMeta:{}}}function u(e){switch(e){case 4:case 5:case 6:return e;default:return null}}function c(t){const o=t.json;let r=null;return o.nodes.forEach((t=>{const o=t.extras;e(o)&&(o.ESRI_proxyEllipsoid||o.ESRI_lod)&&(r=o)})),r}async function m(e,t){const o=e.json,r=o.scenes[o.scene||0].nodes,s=r.length>1;for(const i of r){const e=o.nodes[i],t=[a(i,0)];if(d(e)&&!s){const o=e.extensions.MSFT_lod.ids;t.push(...o.map(((e,t)=>a(e,t+1))))}await Promise.all(t)}async function a(r,s){const i=o.nodes[r],n=e.getNodeTransform(r);if(f.warnUnsupportedIf(null!=i.weights,\"Morph targets are not supported.\"),null!=i.mesh){const e=o.meshes[i.mesh];for(const o of e.primitives)await t(o,n,s,e.name)}for(const e of i.children||[])await a(e,s)}}function d(e){return e.extensions&&e.extensions.MSFT_lod&&Array.isArray(e.extensions.MSFT_lod.ids)}function p(e,t,o){const r=t=>{const r=`${o}_tex_${t&&t.id}${t&&t.name?\"_\"+t.name:\"\"}`;if(t&&!e.textures.has(r)){const o=a(t.data,{wrap:{s:x(t.wrapS),t:x(t.wrapT)},mipmap:h.some((e=>e===t.minFilter)),noUnpackFlip:!0});e.textures.set(r,o)}return r},i=`${o}_mat_${t.id}_${t.name}`;if(!e.materials.has(i)){const o=s({color:[t.color[0],t.color[1],t.color[2]],opacity:t.color[3],alphaMode:t.alphaMode,alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,colorMixMode:t.ESRI_externalColorMixMode,textureColor:t.colorTexture?r(t.colorTexture):void 0,textureNormal:t.normalTexture?r(t.normalTexture):void 0,textureOcclusion:t.occlusionTexture?r(t.occlusionTexture):void 0,textureEmissive:t.emissiveTexture?r(t.emissiveTexture):void 0,textureMetallicRoughness:t.metallicRoughnessTexture?r(t.metallicRoughnessTexture):void 0,emissiveFactor:[t.emissiveFactor[0],t.emissiveFactor[1],t.emissiveFactor[2]],metallicFactor:t.metallicFactor,roughnessFactor:t.roughnessFactor});e.materials.set(i,o)}return i}function x(e){if(33071===e||33648===e||10497===e)return e;f.error(`Unexpected TextureSampler WrapMode: ${e}`)}const f=new r,h=[9987,9985],T=[\"POINTS\",\"LINES\",\"LINE_LOOP\",\"LINE_STRIP\",\"TRIANGLES\",\"TRIANGLE_STRIP\",\"TRIANGLE_FAN\"];export{l as load};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e={}){return{color:[1,1,1],opacity:1,alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1,castShadows:!0,receiveShadows:!0,receiveAmbientOcclustion:!0,textureColor:null,textureNormal:null,textureOcclusion:null,textureEmissive:null,textureMetallicRoughness:null,emissiveFactor:[0,0,0],metallicFactor:1,roughnessFactor:1,colorMixMode:\"multiply\",...e}}function t(e,t={}){return{data:e,parameters:{wrap:{s:10497,t:10497,...t.wrap},noUnpackFlip:!0,mipmap:!1,...t}}}export{e as makeMaterialParameters,t as makeTextureSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrap as t}from\"../../../../core/maybe.js\";import r from\"../../../../core/Logger.js\";import n from\"../../../../core/Error.js\";import{throwIfAbortError as a}from\"../../../../core/promiseUtils.js\";import s from\"../../../../request.js\";import{result as o}from\"../../../../core/asyncUtils.js\";import{d as i}from\"../../../../chunks/vec3f64.js\";import{Version as u}from\"../../../../core/Version.js\";import{empty as l,expandWithVec3 as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{requestImage as p}from\"../../../../support/requestImageUtils.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{DefaultMaterial as f}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{Texture as d}from\"../../webgl-engine/lib/Texture.js\";const y=r.getLogger(\"esri.views.3d.layers.graphics.objectResourceUtils\");async function x(e,t){const r=await g(e,t);return{resource:r,textures:await A(r.textureDefinitions,t)}}async function g(r,n){const i=e(n)&&n.streamDataRequester;if(i)return h(r,i,n);const u=await o(s(r,t(n)));if(!0===u.ok)return u.value.data;a(u.error),w(u.error)}async function h(e,t,r){const n=await o(t.request(e,\"json\",r));if(!0===n.ok)return n.value;a(n.error),w(n.error.details.url)}function w(e){throw new n(\"\",`Request for object resource failed: ${e}`)}function v(e){const t=e.params,r=t.topology;let n=!0;switch(t.vertexAttributes||(y.warn(\"Geometry must specify vertex attributes\"),n=!1),t.topology){case\"PerAttributeArray\":break;case\"Indexed\":case null:case void 0:{const e=t.faces;if(e){if(t.vertexAttributes)for(const r in t.vertexAttributes){const t=e[r];t&&t.values?(null!=t.valueType&&\"UInt32\"!==t.valueType&&(y.warn(`Unsupported indexed geometry indices type '${t.valueType}', only UInt32 is currently supported`),n=!1),null!=t.valuesPerElement&&1!==t.valuesPerElement&&(y.warn(`Unsupported indexed geometry values per element '${t.valuesPerElement}', only 1 is currently supported`),n=!1)):(y.warn(`Indexed geometry does not specify face indices for '${r}' attribute`),n=!1)}}else y.warn(\"Indexed geometries must specify faces\"),n=!1;break}default:y.warn(`Unsupported topology '${r}'`),n=!1}e.params.material||(y.warn(\"Geometry requires material\"),n=!1);const a=e.params.vertexAttributes;for(const s in a){a[s].values||(y.warn(\"Geometries with externally defined attributes are not yet supported\"),n=!1)}return n}function b(t,r){const n=[],a=[],s=[],o=[],l=t.resource,c=u.parse(l.version||\"1.0\",\"wosr\");I.validate(c);const p=l.model.name,y=l.model.geometries,x=l.materialDefinitions,g=t.textures;let h=0;const w=new Map;for(let u=0;u<y.length;u++){const t=y[u];if(!v(t))continue;const l=M(t),c=t.params.vertexAttributes,p=[];for(const e in c){const t=c[e],r=t.values;p.push([e,{data:r,size:t.valuesPerElement,exclusive:!0}])}const b=[];if(\"PerAttributeArray\"!==t.params.topology){const e=t.params.faces;for(const t in e)b.push([t,new Uint32Array(e[t].values)])}const j=g&&g[l.texture];if(j&&!w.has(l.texture)){const{image:e,params:t}=j,r=new d(e,t);o.push(r),w.set(l.texture,r)}const A=w.get(l.texture),I=A?A.id:void 0;let P=s[l.material]?s[l.material][l.texture]:null;if(!P){const t=x[l.material.substring(l.material.lastIndexOf(\"/\")+1)].params;1===t.transparency&&(t.transparency=0);const n=j&&j.alphaChannelUsage,a=t.transparency>0||\"transparency\"===n||\"maskAndTransparency\"===n,o={ambient:i(t.diffuse),diffuse:i(t.diffuse),opacity:1-(t.transparency||0),transparent:a,textureAlphaMode:j?U(j.alphaChannelUsage):void 0,textureAlphaCutoff:.33,textureId:I,initTextureTransparent:!0,doubleSided:!0,cullFace:0,colorMixMode:t.externalColorMixMode||\"tint\",textureAlphaPremultiplied:!0};e(r)&&r.materialParamsMixin&&Object.assign(o,r.materialParamsMixin),P=new f(o),s[l.material]||(s[l.material]={}),s[l.material][l.texture]=P}a.push(P);const T=new m(p,b);h+=b.position?b.position.length:0,n.push(T)}return{name:p,stageResources:{textures:o,materials:a,geometries:n},pivotOffset:l.model.pivotOffset,boundingBox:j(n),numberOfVertices:h,lodThreshold:null}}function j(t){const r=l();return t.forEach((t=>{const n=t.boundingInfo;e(n)&&(c(r,n.getBBMin()),c(r,n.getBBMax()))})),r}async function A(t,r){const n=[];for(const o in t){const a=t[o],s=a.images[0].data;if(!s){y.warn(\"Externally referenced texture data is not yet supported\");continue}const i=a.encoding+\";base64,\"+s,u=\"/textureDefinitions/\"+o,l={noUnpackFlip:!0,wrap:{s:10497,t:10497},preMultiplyAlpha:!0},c=e(r)&&r.disableTextures?Promise.resolve(null):p(i,r);n.push(c.then((e=>({refId:u,image:e,params:l,alphaChannelUsage:\"rgba\"===a.channels?a.alphaChannelUsage||\"transparency\":\"none\"}))))}const a=await Promise.all(n),s={};for(const e of a)s[e.refId]=e;return s}function U(e){switch(e){case\"mask\":return 2;case\"maskAndTransparency\":return 3;case\"none\":return 1;case\"transparency\":default:return 0}}function M(e){const t=e.params;return{id:1,material:t.material,texture:t.texture,region:t.texture}}const I=new u(1,2,\"wosr\");export{A as createTextureResources,x as load,b as processLoadResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{logger as e}from\"../views/3d/support/buffer/math/common.js\";function t(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],B=f[9],m=f[10],h=f[11],l=f[12],S=f[13],b=f[14],v=f[15],M=t.typedBuffer,_=t.typedBufferStride,j=r.typedBuffer,g=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*_,r=e*g,f=j[r],o=j[r+1],w=j[r+2],x=j[r+3];M[t]=n*f+c*o+y*w+l*x,M[t+1]=u*f+i*o+B*w+S*x,M[t+2]=d*f+a*o+m*w+b*x,M[t+3]=s*f+p*o+h*w+v*x}}function r(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],B=t.typedBuffer,m=t.typedBufferStride,h=r.typedBuffer,l=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*m,r=e*l,f=h[r],o=h[r+1],S=h[r+2],b=h[r+3];B[t]=n*f+s*o+a*S,B[t+1]=u*f+c*o+p*S,B[t+2]=d*f+i*o+y*S,B[t+3]=b}}function f(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=r*u[t],o[e+1]=r*u[t+1],o[e+2]=r*u[t+2],o[e+3]=r*u[t+3]}}function o(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=u[t]>>r,o[e+1]=u[t+1]>>r,o[e+2]=u[t+2]>>r,o[e+3]=u[t+3]>>r}}var n=Object.freeze({__proto__:null,transformMat4:t,transformMat3:r,scale:f,shiftRight:o});export{o as a,t as b,f as s,r as t,n as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{get as e,isSome as t,isNone as r}from\"../../../../core/maybe.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{i as o,f as i,C as a,l as u,n,e as l}from\"../../../../chunks/vec3.js\";import{a as c}from\"../../../../chunks/mat4.js\";import{adjustStaticAGOUrl as m}from\"../../../../core/devEnvironmentUtils.js\";import{a as d}from\"../../../../chunks/mat3f64.js\";import{a as f}from\"../../../../chunks/mat4f64.js\";import{n as p}from\"../../../../chunks/mat3.js\";import{BufferViewVec3f as x,BufferViewVec4f as g,BufferViewVec2f as h,BufferViewVec4u8 as b,BufferViewVec4u16 as v,BufferViewVec3u8 as R,BufferViewVec3u16 as y}from\"../../support/buffer/BufferView.js\";import{t as B,a as M,s as w}from\"../../../../chunks/vec32.js\";import{empty as j,expandWithVec3 as C}from\"../../../../geometry/support/aaBoundingBox.js\";import{Geometry as E}from\"../../webgl-engine/lib/Geometry.js\";import{COLOR_GAMMA as T,DefaultMaterial as S}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{Texture as A}from\"../../webgl-engine/lib/Texture.js\";import{DefaultLoadingContext as F}from\"../../glTF/DefaultLoadingContext.js\";import{n as O}from\"../../../../chunks/vec22.js\";import{c as I}from\"../../../../chunks/vec33.js\";import{c as k,f as L}from\"../../../../chunks/vec43.js\";import{createBuffer as N}from\"../../support/buffer/utils.js\";import{load as P}from\"../../glTF/loader.js\";import{triangleFanToTriangles as z,triangleStripToTriangles as D,trianglesToTriangles as V}from\"../../glTF/internal/indexUtils.js\";import{load as _,processLoadResult as W}from\"./wosrLoader.js\";import{t as U,s as G}from\"../../../../chunks/vec42.js\";async function $(r,s){const o=q(m(r));if(\"wosr\"===o.fileType){const e=await(s.cache?s.cache.loadWOSR(o.url,s):_(o.url,s)),t=W(e,s);return{lods:[t],referenceBoundingBox:t.boundingBox,isEsriSymbolResource:!1,isWosr:!0,remove:e.remove}}const i=await(s.cache?s.cache.loadGLTF(o.url,s,s.usePBR):P(new F(s.streamDataRequester),o.url,s,s.usePBR)),a=e(i.model.meta,\"ESRI_proxyEllipsoid\");i.meta.isEsriSymbolResource&&t(a)&&-1!==i.meta.uri.indexOf(\"/RealisticTrees/\")&&J(i,a);const u=i.meta.isEsriSymbolResource?{usePBR:s.usePBR,isSchematic:!1,treeRendering:i.customMeta.esriTreeRendering,mrrFactors:[0,1,.2]}:{usePBR:s.usePBR,isSchematic:!1,mrrFactors:[0,1,.5]},n={...s.materialParamsMixin,treeRendering:i.customMeta.esriTreeRendering};if(null!=o.specifiedLodIndex){const e=K(i,u,n,o.specifiedLodIndex);let t=e[0].boundingBox;if(0!==o.specifiedLodIndex){t=K(i,u,n,0)[0].boundingBox}return{lods:e,referenceBoundingBox:t,isEsriSymbolResource:i.meta.isEsriSymbolResource,isWosr:!1,remove:i.remove}}const l=K(i,u,n);return{lods:l,referenceBoundingBox:l[0].boundingBox,isEsriSymbolResource:i.meta.isEsriSymbolResource,isWosr:!1,remove:i.remove}}function q(e){const t=e.match(/(.*\\.(gltf|glb))(\\?lod=([0-9]+))?$/);if(t)return{fileType:\"gltf\",url:t[1],specifiedLodIndex:null!=t[4]?Number(t[4]):null};return e.match(/(.*\\.(json|json\\.gz))$/)?{fileType:\"wosr\",url:e,specifiedLodIndex:null}:{fileType:\"unknown\",url:e,specifiedLodIndex:null}}function K(e,r,s,o){const i=e.model,a=d(),u=new Array,n=new Map,l=new Map;return i.lods.forEach(((e,c)=>{if(void 0!==o&&c!==o)return;const m={name:e.name,stageResources:{textures:new Array,materials:new Array,geometries:new Array},lodThreshold:t(e.lodThreshold)?e.lodThreshold:null,pivotOffset:[0,0,0],numberOfVertices:0,boundingBox:j()};u.push(m),e.parts.forEach((e=>{const o=e.material+(e.attributes.normal?\"_normal\":\"\")+(e.attributes.color?\"_color\":\"\")+(e.attributes.texCoord0?\"_texCoord0\":\"\")+(e.attributes.tangent?\"_tangent\":\"\"),u=i.materials.get(e.material),c=t(e.attributes.texCoord0),d=t(e.attributes.normal);if(!n.has(o)){if(c){if(t(u.textureColor)&&!l.has(u.textureColor)){const e=i.textures.get(u.textureColor),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureColor,new A(e.data,t))}if(t(u.textureNormal)&&!l.has(u.textureNormal)){const e=i.textures.get(u.textureNormal),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureNormal,new A(e.data,t))}if(t(u.textureOcclusion)&&!l.has(u.textureOcclusion)){const e=i.textures.get(u.textureOcclusion),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureOcclusion,new A(e.data,t))}if(t(u.textureEmissive)&&!l.has(u.textureEmissive)){const e=i.textures.get(u.textureEmissive),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureEmissive,new A(e.data,t))}if(t(u.textureMetallicRoughness)&&!l.has(u.textureMetallicRoughness)){const e=i.textures.get(u.textureMetallicRoughness),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureMetallicRoughness,new A(e.data,t))}}const a=u.color[0]**(1/T),m=u.color[1]**(1/T),f=u.color[2]**(1/T),p=u.emissiveFactor[0]**(1/T),x=u.emissiveFactor[1]**(1/T),g=u.emissiveFactor[2]**(1/T);n.set(o,new S({...r,transparent:\"BLEND\"===u.alphaMode,textureAlphaMode:Q(u.alphaMode),textureAlphaCutoff:u.alphaCutoff,diffuse:[a,m,f],ambient:[a,m,f],opacity:u.opacity,doubleSided:u.doubleSided,doubleSidedType:\"winding-order\",cullFace:u.doubleSided?0:2,vertexColors:!!e.attributes.color,vertexTangents:!!e.attributes.tangent,normals:d?\"default\":\"screenDerivative\",castShadows:!0,receiveSSAO:!0,textureId:t(u.textureColor)&&c?l.get(u.textureColor).id:void 0,colorMixMode:u.colorMixMode,normalTextureId:t(u.textureNormal)&&c?l.get(u.textureNormal).id:void 0,textureAlphaPremultiplied:!0,occlusionTextureId:t(u.textureOcclusion)&&c?l.get(u.textureOcclusion).id:void 0,emissiveTextureId:t(u.textureEmissive)&&c?l.get(u.textureEmissive).id:void 0,metallicRoughnessTextureId:t(u.textureMetallicRoughness)&&c?l.get(u.textureMetallicRoughness).id:void 0,emissiveFactor:[p,x,g],mrrFactors:[u.metallicFactor,u.roughnessFactor,r.mrrFactors[2]],isSchematic:!1,...s}))}const f=H(e.indices||e.attributes.position.count,e.primitiveType),j=e.attributes.position.count,F=N(x,j);B(F,e.attributes.position,e.transform);const P=[[\"position\",{data:F.typedBuffer,size:F.elementCount,exclusive:!0}]],z=[[\"position\",f]];if(t(e.attributes.normal)){const t=N(x,j);p(a,e.transform),M(t,e.attributes.normal,a),P.push([\"normal\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),z.push([\"normal\",f])}if(t(e.attributes.tangent)){const t=N(g,j);p(a,e.transform),U(t,e.attributes.tangent,a),P.push([\"tangent\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),z.push([\"tangent\",f])}if(t(e.attributes.texCoord0)){const t=N(h,j);O(t,e.attributes.texCoord0),P.push([\"uv0\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),z.push([\"uv0\",f])}if(t(e.attributes.color)){const t=N(b,j);if(4===e.attributes.color.elementCount)e.attributes.color instanceof g?G(t,e.attributes.color,255):e.attributes.color instanceof b?k(t,e.attributes.color):e.attributes.color instanceof v&&G(t,e.attributes.color,1/256);else{L(t,255,255,255,255);const r=new R(t.buffer,0,4);e.attributes.color instanceof x?w(r,e.attributes.color,255):e.attributes.color instanceof R?I(r,e.attributes.color):e.attributes.color instanceof y&&w(r,e.attributes.color,1/256)}P.push([\"color\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),z.push([\"color\",f])}const D=new E(P,z);m.stageResources.geometries.push(D),m.stageResources.materials.push(n.get(o)),c&&(t(u.textureColor)&&m.stageResources.textures.push(l.get(u.textureColor)),t(u.textureNormal)&&m.stageResources.textures.push(l.get(u.textureNormal)),t(u.textureOcclusion)&&m.stageResources.textures.push(l.get(u.textureOcclusion)),t(u.textureEmissive)&&m.stageResources.textures.push(l.get(u.textureEmissive)),t(u.textureMetallicRoughness)&&m.stageResources.textures.push(l.get(u.textureMetallicRoughness))),m.numberOfVertices+=j;const V=D.boundingInfo;t(V)&&(C(m.boundingBox,V.getBBMin()),C(m.boundingBox,V.getBBMax()))}))})),u}function Q(e){switch(e){case\"BLEND\":return 0;case\"MASK\":return 2;case\"OPAQUE\":return 1;default:return 0}}function H(e,t){switch(t){case 4:return V(e);case 5:return D(e);case 6:return z(e)}}function J(e,t){for(let m=0;m<e.model.lods.length;++m){const d=e.model.lods[m];e.customMeta.esriTreeRendering=!0;for(const p of d.parts){const d=p.attributes.normal;if(r(d))return;const g=p.attributes.position,h=g.count,v=s(),R=s(),y=s(),B=N(b,h),M=N(x,h),w=c(f(),p.transform);for(let r=0;r<h;r++){g.getVec(r,R),d.getVec(r,v),o(R,R,p.transform),i(y,R,t.center),a(y,y,t.radius);const s=y[2],c=u(y),f=Math.min(.45+.55*c*c,1);a(y,y,t.radius),o(y,y,w),n(y,y),m+1!==e.model.lods.length&&e.model.lods.length>1&&l(y,y,v,s>-1?.2:Math.min(-4*s-3.8,1)),M.setVec(r,y),B.set(r,0,255*f),B.set(r,1,255*f),B.set(r,2,255*f),B.set(r,3,255)}p.attributes.normal=M,p.attributes.color=B}}}export{$ as fetch,K as gltfToEngineResources,q as parseUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isUint16Array as t,isUint8Array as e}from\"../../../../core/typedArrayUtil.js\";import{generateDefaultIndexArray as r}from\"../../webgl-engine/lib/geometryDataUtils.js\";function n(n){return\"number\"==typeof n?r(n):t(n)||e(n)?new Uint32Array(n):n}function o(t){const e=\"number\"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const r=e-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if(\"number\"==typeof t){let t=0;for(let e=0;e<r;e+=1)e%2==0?(n[t++]=e,n[t++]=e+1,n[t++]=e+2):(n[t++]=e+1,n[t++]=e,n[t++]=e+2)}else{let e=0;for(let o=0;o<r;o+=1)if(o%2==0){const r=t[o],i=t[o+1],f=t[o+2];n[e++]=r,n[e++]=i,n[e++]=f}else{const r=t[o+1],i=t[o],f=t[o+2];n[e++]=r,n[e++]=i,n[e++]=f}}return n}function i(t){const e=\"number\"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const r=e-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if(\"number\"==typeof t){let t=0;for(let e=0;e<r;++e)n[t++]=0,n[t++]=e+1,n[t++]=e+2;return n}{const e=t[0];let o=t[1],i=0;for(let f=0;f<r;++f){const r=t[f+2];n[i++]=e,n[i++]=o,n[i++]=r,o=r}return n}}export{i as triangleFanToTriangles,o as triangleStripToTriangles,n as trianglesToTriangles};\n"],"sourceRoot":""}