{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/lazyLayerLoader.js","../node_modules/@arcgis/core/layers/support/arcgisLayers.js"],"names":["a","BingMapsLayer","BuildingSceneLayer","CSVLayer","ElevationLayer","FeatureLayer","GroupLayer","GeoRSSLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","MapImageLayer","MapNotesLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","SceneLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","WebTileLayer","WMSLayer","WMTSLayer","i","e","r","properties","customParameters","d","url","t","l","sublayerIds","layerOrTableId","layerId","sourceJSON","Constructor","title","parsedUrl","n","c","y","find","id","sublayerTitleMode","forEach","sublayerInfos","add","tableIds","tableInfos","tables","s","f","serverType","o","sublayer","FeatureServer","StreamServer","VectorTileServer","u","m","then","S","tileInfo","format","toUpperCase","cacheType","toLowerCase","path","Point","IntegratedMesh","PointCloud","Building","Array","isArray","layers","length","layerType","I","p","layerInfos","layerIds","v","w","b","type","hasOwnProperty","name","serviceUrl","layersJSON","serviceJSON","map","reverse","filter","currentVersion","responseType","query","data"],"mappings":"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","file":"static/js/130.bb3beb30.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import{getFilename as t,urlToObject as l}from\"../../core/urlUtils.js\";import n from\"../../request.js\";import{parse as s,parseNonStandardSublayerUrl as o}from\"./arcgisLayerUrl.js\";import{layerLookupMap as u}from\"./lazyLayerLoader.js\";async function i(e){var r;const a=null==(r=e.properties)?void 0:r.customParameters,t=await d(e.url,a),l={...e.properties,url:e.url};if(!t.sublayerIds)return null!=t.layerOrTableId&&(l.layerId=t.layerOrTableId,l.sourceJSON=t.sourceJSON),new t.Constructor(l);const n=new(0,(await import(\"../GroupLayer.js\")).default)({title:t.parsedUrl.title});return c(n,t,l),n}function y(e,r){return e?e.find((e=>e.id===r)):null}function c(e,a,t){function l(e,l){const n={...t,layerId:e,sublayerTitleMode:\"service-name\"};return r(l)&&(n.sourceJSON=l),new a.Constructor(n)}a.sublayerIds.forEach((r=>{const t=l(r,y(a.sublayerInfos,r));e.add(t)})),a.tableIds.forEach((r=>{const t=l(r,y(a.tableInfos,r));e.tables.add(t)}))}async function d(r,t){let l=s(r);if(e(l)&&(l=await f(r,t)),e(l))throw new a(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:r});const{serverType:n,sublayer:o}=l;let u;const i={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(n){case\"MapServer\":u=null!=o?\"FeatureLayer\":m(r,t).then((e=>e?\"TileLayer\":\"MapImageLayer\"));break;case\"ImageServer\":u=S(r,t).then((e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||\"LERC\"!==r.toUpperCase()||e.cacheType&&\"elevation\"!==e.cacheType.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\"}));break;case\"SceneServer\":u=S(l.url.path,t).then((e=>{const r={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){const a=e.layers[0].layerType;if(null!=r[a])return r[a]}return\"SceneLayer\"}));break;default:u=i[n]}const y={FeatureLayer:!0,SceneLayer:!0},c=\"FeatureServer\"===n,d={parsedUrl:l,Constructor:null,layerOrTableId:c?o:null,sublayerIds:null,tableIds:null},I=await u;if(y[I]&&null==o){const e=await p(r,n,t);c&&(d.sublayerInfos=e.layerInfos,d.tableInfos=e.tableInfos);if(1!==e.layerIds.length+e.tableIds.length)d.sublayerIds=e.layerIds,d.tableIds=e.tableIds;else if(c){var v,w;d.layerOrTableId=null!=(v=e.layerIds[0])?v:e.tableIds[0],d.sourceJSON=null!=(w=e.layerInfos[0])?w:e.tableInfos[0]}}return d.Constructor=await b(I),d}async function f(e,a){const n=await S(e,a);let s=null,u=null;const i=n.type;if(\"Feature Layer\"===i||\"Table\"===i?(s=\"FeatureServer\",u=n.id):\"indexedVector\"===i?s=\"VectorTileServer\":n.hasOwnProperty(\"mapName\")?s=\"MapServer\":n.hasOwnProperty(\"bandCount\")&&n.hasOwnProperty(\"pixelSizeX\")?s=\"ImageServer\":n.hasOwnProperty(\"maxRecordCount\")&&n.hasOwnProperty(\"allowGeometryUpdates\")?s=\"FeatureServer\":n.hasOwnProperty(\"streamUrls\")&&(s=\"StreamServer\"),!s)return null;const y=null!=u?o(e):null;return{title:r(y)&&n.name||t(e),serverType:s,sublayer:u,url:{path:r(y)?y.serviceUrl:l(e).path}}}async function p(e,r,a){var t,l;let n,s=!1;if(\"FeatureServer\"===r){const r=await v(e,a);s=!!r.layersJSON,n=r.layersJSON||r.serviceJSON}else n=await S(e,a);const o=null==(t=n)?void 0:t.layers,u=null==(l=n)?void 0:l.tables;return{layerIds:(null==o?void 0:o.map((e=>e.id)).reverse())||[],tableIds:(null==u?void 0:u.map((e=>e.id)).reverse())||[],layerInfos:s?o:[],tableInfos:s?u:[]}}function I(e){return!e.type||\"Feature Layer\"===e.type}async function v(e,r){var a,t;let l=await S(e,r);l=l||{},l.layers=(null==(a=l.layers)?void 0:a.filter(I))||[];const n={serviceJSON:l};if(l.currentVersion<10.5)return n;const s=await S(e+\"/layers\",r);return n.layersJSON={layers:(null==s||null==(t=s.layers)?void 0:t.filter(I))||[],tables:(null==s?void 0:s.tables)||[]},n}async function b(e){return(0,u[e])()}async function m(e,r){return(await S(e,r)).tileInfo}async function S(e,r){return(await n(e,{responseType:\"json\",query:{f:\"json\",...r}})).data}export{i as fromUrl};\n"],"sourceRoot":""}