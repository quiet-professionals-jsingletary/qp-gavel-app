{"version":3,"sources":["../node_modules/@arcgis/core/core/workers lazy groupOptions: {} namespace object","redux/types/area-types.js","redux/sagas/requests/area-query.js","utils/format.js","redux/reducers/area-query.js","components/esri/layers/FeatureLayerBuilder.js","redux/sagas/_area-query.js","redux/reducers/auth.js","utils/session.js","redux/sagas/_auth.js","redux/reducers/config.js","utils/request.js","redux/sagas/_config.js","redux/reducers/security-token.js","redux/sagas/index.js","redux/reducers/map.js","redux/sagas/requests/security-token.js","redux/sagas/handlers/security-token.js","redux/actions/area-query-actions.js","redux/sagas/root-saga.js","styles/images/Topo-Abs-BG.svg","styles/images/quiet-professionals-logo.png","components/LoadScreen.jsx","components/UserAccount.jsx","index.js","utils/calculate.js","components/esri/widgets/DateRange.jsx","components/esri/map/Map.jsx","utils/map.js","components/Main.jsx","components/App.jsx","styles/global.js","redux/store.js"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","ADD_TO_STORE","ADDED_TO_STORE","SEND_AREA_QUERY","AREA_QUERY_SENT","AREA_QUERY_DONE","AREA_QUERY_FAIL","AREA_QUERY_STATUS","BUILD_FEATURE_LAYER","areaQueryRequest","action","areaQueryPayload","startDate","payload","endDate","areas","longitude","latitude","radius","console","log","axios","request","url","process","method","data","headers","TempSecurityToken","require","config","dateToIsoString","date","dateObj","Date","dateObjIso","toISOString","slice","group","groupEnd","sDate","setDate","getDate","eDate","INITIAL_STATE","status","locationData","state","type","types","addToStore","sendAreaQuery","buildFeatureLayer","watchAreaQuery","put","error","call","requests","response","areaQueryState","baseMap","mapView","takeLatest","initialState","user","portal","token","loggedIn","startAuth","options","signIn","portalUrl","clientId","popup","UserSession","beginOAuth2","redirectUri","window","location","origin","completeSignIn","a","sessionId","session","completeOAuth2","saveSession","getUser","getPortal","authentication","signOut","Cookies","deleteSession","restoreSession","authInfos","serializedSession","deserialize","expires","tokenExpires","serialize","sameSite","completeAuth","checkAuth","authLogout","watchStartAPI","reload","loaded","reject","statusText","handleResponse","handleAs","text","json","getRequestBody","isFormData","this","objectToFormData","obj","body","URLSearchParams","prop","hasOwnProperty","append","has","toString","objectToUrlSearchParams","makeRequest","params","Headers","getHeaders","hideCredentials","credentials","fetch","bind","catch","getAppConfig","resp","fetchConfig","updateConfig","watchFetchConfig","watchUpdateConfig","configTypes","isValid","rootSaga","all","Object","values","areaSagas","authSagas","configSagas","securitySagas","map","fork","mapLoaded","setSecurityTokenRequest","handleSetSecurityToken","watcherSaga","handleErrors","err","Response","JSON","stringify","warn","securityTypes","Container","styled","div","background","Wrapper","Title","Logo","img","FadingContainer","initial","opacity","zIndex","animate","transitionEnd","display","transition","delay","duration","ease","LoadScreen","props","isLoading","src","logo","UserAccount","signedInActionsComponent","style","padding","onRequestSwitchAccount","onRequestSignOut","onClick","signedOutActionsComponent","clear","outputComponent","basename","calcDistance","locations","locationA","locationB","polyline","Polyline","x","y","webMercatorToGeographic","polylineLength","geodesicLengths","DateRangeComponent","handleStartDateChange","handleEndDateChange","onFormSubmit","today","now","setState","tempStartDateObj","startDateIsoString","addToStoreCreator","tempEndDateObj","endDateIsoString","event","preventDefault","tokenizedPayload","areaQuery","securityToken","sendAreaQueryCreator","onSubmit","className","label","selected","onChange","onSelect","handleStartQuery","name","dateFormat","maxDate","minDate","handleEndQuery","Component","actionCreators","connect","DateRangeContainer","Map","sketchViewModel","graphicsLayerBaseMap","graphicsLayerGeofence","graphicsLayerSignals","containerId","dateRangeId","dispatch","useDispatch","useSelector","refIdQuery","isAreaQueryDataLoaded","useState","setStartDate","setEndDate","baseMapState","setBaseMapState","mapViewState","setMapViewState","contains","polyFill","pointFill","polygonStroke","color","width","pointStroke","useEffect","sDateIso","eDateIso","element","mapConfig","loaderConfig","loadModules","MapView","layer","GraphicsLayer","view","container","layers","when","res","geometryEngine","LayerList","ScaleBar","Search","Sketch","SketchViewModel","title","basemap","extent","spatialReference","wkid","xmin","ymin","xmax","ymax","dockEnabled","dockOptions","position","breakpoint","layerList","search","scaleBar","unit","ui","add","component","index","updateOnGraphicClick","defaultUpdateOptions","toggleToolOnClick","sketch","availableCreateTools","layout","creationMode","pointSymbol","viewModel","outline","size","polylineSymbol","polygonSymbol","on","onGraphicUpdate","onGraphicCreate","graphic","tool","pointCoordinateX","geometry","centroid","pointCoordinateY","ringCoordinateX","rings","ringCoordinateY","circleRadius","payloadToPush","graphics","boundaryPolygon","symbol","validSymbol","toolEventInfo","complete","logGeometry","update","markerSymbol","Graphic","z","resDataArray","area","i","registrationIDs","regID","j","signals","signal","k","lon","lat","point","registrationID","simpleMarkerSymbol","pointGraphic","handleFeatureLayerBuild","Fragment","DateRange","startDateParsed","parse","endDateParsed","MapWrapper","TopNavBrand","Nav","TopNav","NavList","TopNavList","SubNavToolbar","SubNav","Main","auth","isMapLoaded","useRef","callback","phase","actualTime","baseTime","startTime","commitTime","dir","onRender","href","target","signInRequest","active","fallback","onMapLoaded","App","pathname","dojoConfig","signInRequested","isLoaded","path","to","GlobalStyle","createGlobalStyle","homepage","store","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","reducers","sagaMiddleware","createSagaMiddleware","middleware","createStore","applyMiddleware","run","initStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.15af11d1.chunk.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 623;","/*/\n  *  ┌─────────────────────────────────┐\n  *  │ |> Area Query - Action Types    │\n  *  └─────────────────────────────────┘\n/*/\nexport const ADD_TO_STORE = \"ADD_TO_STORE\";\nexport const ADDED_TO_STORE = \"ADDED_TO_STORE\";\n\nexport const SEND_AREA_QUERY = \"SEND_AREA_QUERY\";\nexport const AREA_QUERY_SENT = \"AREA_QUERY_SENT\";\n\nexport const AREA_QUERY_READY = \"AREA_QUERY_READY\"; // NOTE: Pending Deletion\nexport const AREA_QUERY_DONE = \"AREA_QUERY_DONE\";   // NOTE: Pending Deletion\n\nexport const AREA_QUERY_FAIL = \"AREA_QUERY_FAIL\"; \nexport const AREA_QUERY_STATUS = \"AREA_QUERY_STATUS\";\n\n// FEATURE LAYER //\nexport const BUILD_FEATURE_LAYER = \"BUILD_FEATURE_LAYER\";\nexport const FEATURE_LAYER_BUILT = \"AREA_QUERY_STATUS\";\nexport const FEATURE_LAYER_FAIL = \"FEATURE_LAYER_FAIL\";\n","/*/\n  *  ┌─────────────────────────────────────────────┐\n  *  │ |> API Request Configuration - Area Query   │\n  *  └─────────────────────────────────────────────┘\n/*/\n// Axios\nimport axios from \"axios\";\n\nrequire('dotenv').config();\n\nexport function areaQueryRequest(action) {\n  const searchUrl = process.env.REACT_APP_API_VERSION + \"/location-data/area-query\";\n  \n  // TODO: Apply payload prop values via destructuring\n  const areaQueryPayload = {\n    startDate: action.payload.startDate,\n    endDate: action.payload.endDate,\n    areas: [{\n      longitude: action.payload.longitude,\n      latitude: action.payload.latitude,\n      radius: action.payload.radius\n    }]\n  }\n\n  console.log('REQ PAYLOAD (client-side): ', areaQueryPayload);\n  \n  return axios.request({\n    url: searchUrl,\n    method: \"POST\",\n    data: areaQueryPayload,\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": process.env.REACT_APP_API_KEY,\n      \"TempSecurityToken\": action.payload.TempSecurityToken\n    }\n  });\n}\n\n// export function mockDataSearchRequest() {\n//   const mockUrl = process.env.REACT_APP_API_VERSION + \"/mock-data\";\n\n//   return axios.request({\n//     \"method\": \"GET\",\n//     \"headers\": {\n//       \"Accept\": \"application/json\",\n//       \"Content-Type\": \"application/json\"\n//     },\n//     \"url\": mockUrl\n//   });\n// }\n","/*/\n *  ┌───────────────────────┐\n *  │ |> Format Utility     │\n *  └───────────────────────┘\n/*/\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// Format.propTypes = {\n//   date: PropTypes.object\n// };\n\nconst Format = ({ date }) => {\n\n  return;\n}\n\nconst dateToIsoString = (date) => {\n  const dateObj = new Date(date);\n  const dateObjIso = dateObj.toISOString().slice(0, -5) + 'Z';\n\n  console.group('Formatted Date:>');\n  console.log('Date Prop: ', dateObj);\n  console.log('Format Date: ', dateObjIso);\n  console.groupEnd();\n\n  return dateObjIso;\n} \n\nexport default Format;\nexport { dateToIsoString }\n","/*/\n *  ┌────────────────────────────────────┐\n *  │ |> Redux Reducers - Area Query     │\n *  └────────────────────────────────────┘\n/*/\n\n// ACTION TYPES //\nimport * as types from \"../types/area-types\";\nimport Format, { dateToIsoString } from '../../utils/format';\n\n// REDUCERS //\nconst dateObj = new Date();\nconst sDate = dateObj.setDate(dateObj.getDate() - 7);\nconst eDate = dateObj.setDate(dateObj.getDate());\nconst sDateIso = dateToIsoString(new Date(sDate));\nconst eDateIso = dateToIsoString(new Date(eDate));\n\nexport const INITIAL_STATE = {\n  startDate: \"0\",  \n  endDate: \"0\",\n  latitude: 0,\n  longitude: 0,\n  radius: 10,\n  status: \"idle\", // [\"idle\", \"loading\", \"success\", \"error\" ]\n  locationData: {}\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case types.ADDED_TO_STORE:\n      console.log('ADDED: ', action);\n\n      // TODO: Finish validation code before prod deployment \n      // const { latitude, longitude, radius } = action.payload;\n\n      // const startDate = state.startDate;\n      // const endDate = state.endDate;\n      // let status = '';\n\n      // // Validate all properties are success\n      // if ((startDate && endDate) && (latitude && longitude)) {\n      //   status = 'success';\n      // } else {\n      //   status = 'loading';\n      // }\n\n      if (typeof action.payload == 'string') {\n        let incoming = action.payload;\n        return {\n          ...state,\n          ...action.payload,\n          status: \"loading\"\n        }\n      } else {\n        return {\n          ...state,\n          ...action.payload,\n          status: \"loading\"\n        }\n      }\n\n    case types.AREA_QUERY_SENT:\n      console.log('SENT: ', action);\n\n      return {\n        ...state,\n        ...action.payload,\n        status: \"success\"\n      }\n\n    case types.AREA_QUERY_DONE:\n      console.log('SUCCESS: ', action);\n\n      return {\n        ...state,\n        status: \"success\"\n      }\n\n    case types.AREA_QUERY_FAIL:\n      console.log('FAIL: ', action);\n      return state;\n\n    case types.AREA_QUERY_STATUS:\n      console.log('STATUS: ', action);\n\n      return {\n        status: state.status\n      }\n\n    default:\n      return state;\n  }\n};\n\n// ACTIONS //\nexport const addToStoreAction = options => ({\n  type: types.ADD_TO_STORE,\n  payload: options\n});\n\nexport const addedToStoreAction = options => ({\n  type: types.ADDED_TO_STORE,\n  payload: options\n});\n\nexport const sendAreaQueryAction = options => ({\n  type: types.SEND_AREA_QUERY,\n  payload: options\n});\n\nexport const areaQuerySentAction = options => ({\n  type: types.AREA_QUERY_SENT,\n  payload: options\n});\n\nexport const areaQueryReadyAction = options => ({\n  type: types.AREA_QUERY_READY, // readonly\n  payload: options\n});\n\nexport const areaQueryDoneAction = () => ({\n  type: types.AREA_QUERY_DONE,\n});\n\nexport const areaQueryFailAction = err => ({\n  type: types.AREA_QUERY_FAIL, // readonly\n  payload: err\n});\n\nexport const areaQueryStatusAction = options => ({\n  type: types.AREA_QUERY_STATUS, // readonly\n  payload: options\n});\n\n// TODO: Determine if 'FeatureLayerBuilder' actions merit a dedicated reducer\nexport const buildFeatureLayerAction = options => ({\n  type: types.BUILD_FEATURE_LAYER,\n  payload: options\n});\n\nexport const featureLayerBuiltAction = options => ({\n  type: types.FEATURE_LAYER_BUILT,\n  payload: options\n});\n\nexport const featureLayerFailAction = err => ({\n  type: types.FEATURE_LAYER_FAIL, // readonly\n  payload: err\n});\n"," /**--------------------------------------------------------------------------------- ->\n *  ┌────────────────────────────────────┐\n *  │ |> GAVEL - Feature Layer Builder   │\n *  └────────────────────────────────────┘\n * \n *  @description:   'Builder component to convert lat/long coordinates to Feature Layer'\n *  @implements:    'JSON data object returned from search API of '\n *  @returns:       'Esri Feature Layer containing Points to render on map'\n * \n*/\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from \"react-redux\";\nimport PropTypes from 'prop-types';\n\n// Esri\nimport esriRequest from '@arcgis/core/request';\n// import esriConfig from '@arcgis/core/config';\nimport { FeatureLayerView } from \"@arcgis/core/views/layers/FeatureLayerView\";\nimport Editor from \"@arcgis/core/widgets/Editor\";\nimport Expand from \"@arcgis/core/widgets/Expand\";\nimport FeatureLayer from \"@arcgis/core/layers/FeatureLayer\";\nimport Graphic from \"@arcgis/core/Graphic\";\nimport LayerList from \"@arcgis/core/widgets/LayerList\";\nimport Legend from \"@arcgis/core/widgets/Legend\";\nimport areaQuery from '../../../redux/reducers/area-query';\n// import promiseUtils from \"@arcgis/core/promiseUtils\";\n\n// QP\n// import areaQuery from \"../../../redux/reducers/area-query\";\n\n// Padding\nconst padding = { top: 55 };\nconst paddingExpanded = { top: 55, right: 250 };\n\n// Panel\n// let url = 'info';\nlet graphics = [];\nlet baseMap = undefined;\nlet view = undefined;\nlet theSignalCounts = undefined;\nlet ptLocationsLayer = undefined;\n\nconst theColors = [\"purple\", \"green\", \"orange\", \"blue\", \"red\"];\nconst patternsLayer = {};\n\nfunction createAreasLayer() {\n  return new FeatureLayer({\n    title: \"searchAreas\",\n    fields: [\n      {\n        name: \"ObjectID\",\n        type: \"oid\"\n      },\n      {\n        name: \"distance\",\n        type: \"integer\"\n      },\n      {\n        name: \"startTime\",\n        type: \"date\"\n      },\n      {\n        name: \"endTime\",\n        type: \"date\"\n      }\n    ],\n    objectIdField: \"ObjectID\",\n    geometryType: \"point\",\n    spatialReference: { wkid: 102100 },\n    source: [], // adding an empty feature collection\n    renderer: {\n      type: \"simple\",\n      symbol: {\n        type: \"web-style\", // autocasts as new WebStyleSymbol()\n        styleName: \"Esri2DPointSymbolsStyle\",\n        name: \"landmark\"\n      }\n    },\n    popupTemplate: {\n      title: \"{distance}, {startTime}, {endTime}\"\n    }\n  });\n}\n\n// #region [component] \nconst FeatureLayerBuilder = ({ baseMap, mapView }) => {\n  // Point Counter\n  theSignalCounts = 0;\n\n  /*/\n   *  ┌─────────────────────────────┐\n   *  │ |> Local & Global States    │\n   *  └─────────────────────────────┘\n  /*/\n  const [baseMapState, setBaseMapState] = useState({});\n  const [mapViewState, setMapViewState] = useState({});\n  // const [ jsonData, setJsonData ] = useState({});\n  const areaQueryState = useSelector(state => state.areaQuery);\n\n  // const resJson = areaQueryState;\n\n  // document.getElementById(\"topNavGavel\").addEventListener('click', queryDevices(baseMap, view));\n  useEffect(() => {\n    setBaseMapState(baseMap);\n    setMapViewState(mapView);\n    buildFeatureLayer(areaQueryState, baseMap, mapView);\n    ptLocationsLayer = createAreasLayer();\n  }, []);\n  \n  // TODO: Init `buildFeatueLayer` function from `useEffect()` hook\n  const buildFeatureLayer = (resJson, baseMap, mapView) => {\n  \n    // TODO: Clean up code when time permits (formatting & consistency)\n    console.log('inside request');\n    let json = resJson.locationArea.areas;\n    view = mapView;\n    console.log(JSON.stringify(json));\n\n    let counter = 0;\n    let countSignals = 0;\n\n    // json.locationData.areas[y].registrationIDs[i].signals\n    // _Areas\n    json.map((area, i) => {\n      // _RegIDs\n      json[i].registrationIDs.map((registrationID, j) => {\n        // _Signals\n        json[i].registrationIDs[j].signals.map((signal, k) => {\n\n          countSignals++\n\n          let theId = { \n            \"registrationID\": json[i].registrationIDs[j].registrationID, \n            \"signalcount\": countSignals \n          }\n\n          theSignalCounts.push(theId);\n\n          countSignals.map((signalCount, l) => {\n\n            const point = {\n              type: \"point\", // autocasts as new Point()\n              longitude: json[i].registrationIDs[j].signals[k].longitude,\n              latitude: json[i].registrationIDs[j].signals[k].latitude\n            };\n\n            const pointGraphic = new Graphic({\n              geometry: point,\n              attributes: {\n                \"OBJECTID\": i,\n                \"registrationID\": json[i].registrationIDs[j].signals[k].registrationID,\n                \"ipAddress\": json[i].registrationIDs[j].signals[k].ipAddress,\n                \"flags\": json[i].registrationIDs[j].signals[k].flags,\n                \"timestamp\": json[i].registrationIDs[j].signals[k].timestamp\n              }\n\n            });\n\n            graphics.push(pointGraphic);\n            counter++;\n\n          });\n\n        });\n\n      }); \n\n    });\n\n    // let countAreas = Object.keys(json.locationData.areas).length;\n    // let counter = 0;\n\n    // let countIDs = Object.keys(json.locationData.areas[y].registrationIDs).length;\n    //console.log(\"i is : \" + i)\n    // let countSignals = Object.keys(json.locationData.areas[y].registrationIDs[i].signals).length;\n    // let theID = { \"registrationID\": json.locationData.areas[y].registrationIDs[i].registrationID, \"signalcount\": countSignals };\n    // theSignalCounts.push(theID);\n    // for (let x = 0; x < countSignals; x++) {\n    //console.log(\"x is : \" + x)\n    //console.log(JSON.stringify(json.locationData.areas[y].registrationIDs[i].signals[x].longitude));\n    //console.log(JSON.stringify(json.locationData.areas[y].registrationIDs[i].signals[x].latitude));\n    // const point = {\n    //   type: \"point\", // autocasts as new Point()\n    //   longitude: json.locationData.areas[y].registrationIDs[i].signals[x].longitude,\n    //   latitude: json.locationData.areas[y].registrationIDs[i].signals[x].latitude\n    // };\n    // const pointGraphic = new Graphic({\n    //   geometry: point,\n    //   attributes: {\n    //     \"OBJECTID\": counter,\n    //     \"registrationID\": json.locationData.areas[y].registrationIDs[i].signals[x].registrationID,\n    //     \"ipAddress\": json.locationData.areas[y].registrationIDs[i].signals[x].ipAddress,\n    //     \"flags\": json.locationData.areas[y].registrationIDs[i].signals[x].flags,\n    //     \"timestamp\": json.locationData.areas[y].registrationIDs[i].signals[x].timestamp\n    //   }\n    // });\n\n    // graphics.push(pointGraphic)\n    // counter++;\n    // }\n    // }\n \n    function createGraphicsLayer(graphics) {\n      let setGraphics = [];\n      if (graphics.length > 0) {\n        let processCounter = 0;\n        for (let i = 0; i < graphics.length; i++) {\n          if (processCounter == 1000) {\n            patternsLayer = createLayer1(setGraphics, \"Patterns\", 10);\n            baseMap.add(patternsLayer);\n            setGraphics = [];\n            //console.log(\"created patternsLayer\");\n          }\n          else if (processCounter != 0 && (processCounter % 1000) === 0) {\n            console.log(setGraphics);\n            let edits = {\n              addFeatures: setGraphics\n            };\n            patternsLayer.applyEdits(edits)\n            setGraphics = [];\n          }\n          else {\n            setGraphics.push(graphics[i]);\n          }\n          processCounter++;\n        }\n      }\n      return \"success\";\n    }\n\n    // Creates a client-side FeatureLayer from an array of graphics\n    function createLayer(graphics) {\n      //console.log(graphics);\n      return new FeatureLayer({\n        source: graphics,\n        objectIdField: \"OBJECTID\",\n        fields: [\n          {\n            name: \"OBJECTID\",\n            type: \"oid\"\n          },\n          {\n            name: \"registrationID\",\n            type: \"string\"\n          },\n          {\n            name: \"ipAddress\",\n            type: \"string\"\n          },\n          {\n            name: \"flags\",\n            type: \"integer\"\n          },\n          {\n            name: \"timestamp\",\n            type: \"date\"\n          }\n        ],\n        popupTemplate: {\n          // autocast as esri/PopupTemplate\n          title: \"{RegistrationID} at {timestamp}\",\n          content: \"Flags are {flags} </br> ipAddress is {ipAddress}\",\n        },\n        renderer: phoneRenderer\n      });\n    }\n\n    // Creates a client-side FeatureLayer from an array of graphics\n    function createLayer1(graphics, theTitle, id) {\n      //console.log(graphics);\n\n      return new FeatureLayer({\n        source: graphics,\n        title: theTitle,\n        objectIdField: \"OBJECTID\",\n        fields: [\n          {\n            name: \"OBJECTID\",\n            type: \"oid\"\n          },\n          {\n            name: \"registrationID\",\n            type: \"string\"\n          },\n          {\n            name: \"ipAddress\",\n            type: \"string\"\n          },\n          {\n            name: \"flags\",\n            type: \"integer\"\n          },\n          {\n            name: \"timestamp\",\n            type: \"date\"\n          },\n          {\n            name: \"thecolor\",\n            type: \"string\"\n          }\n        ],\n        outFields: [\"*\"],\n        popupTemplate: {\n          // autocast as esri/PopupTemplate\n          title: \"{RegistrationID} at {timestamp}\",\n          content: \"Color is {thecolor}, Flags are {flags} </br> ipAddress is {ipAddress}\",\n        },\n        renderer: uniquePhonesRenderer\n      });\n    }\n\n    //console.log(theSignalCounts);\n    const resultsLayer = createLayer(graphics, \"Results\", 11);\n    const listOfIDs = theSignalCounts.sort((a, b) => Number(b.signalcount) - Number(a.signalcount));\n\n    console.log(listOfIDs);\n\n    // view.when(function () {\n    //   view.popup.autoOpenEnabled = true; //disable popups\n\n    //   // Create the Editor\n    //   let editor = new Editor({\n    //     view: view\n    //   });\n\n    //   view.ui.add(editor, \"bottom-right\");\n    //   view.ui.add(\"queryDiv\", \"bottom-right\");\n    //   let layerList = new LayerList({\n    //     view: view,\n    //     listItemCreatedFunction: function (event) {\n    //       const item = event.item;\n    //       /* if (item.layer.type != \"group\") {\n    //         // don't show legend twice\n    //         item.panel = {\n    //           content: \"legend\",\n    //           open: true\n    //         };\n    //       } */\n    //     }\n    //   });\n    //   let llExpand = new Expand({\n    //     view: view,\n    //     content: layerList\n    //   });\n    //   // Add widget to the top right corner of the view\n    //   view.ui.add(llExpand, \"bottom-left\");\n    //   let legend = new Legend({\n    //     view: view,\n    //     layerInfos: [{\n    //       layer: patternsLayer,\n    //       title: \"Legend\"\n    //     }]\n    //   });\n\n    //   view.ui.add(legend, \"bottom-right\");\n    // });\n\n    baseMap.layers.add(ptLocationsLayer);\n    baseMap.layers.add(resultsLayer);\n\n    // #region [qp] \n    // *Display \"Top 5\" Reference IDs (reoccuring) style properties \n    let uniquePhonesRenderer = {\n      type: \"unique-value\",\n      legendOptions: {\n        title: \"IDs\"\n      },\n      field: \"thecolor\",\n      uniqueValueInfos: [{\n        value: \"purple\",\n        symbol: {\n          type: \"simple-marker\",\n          color: [138, 43, 226],\n          size: 6,\n          outline: {\n            color: [138, 43, 226, .5],\n            size: \"0.25px\"\n          }\n        }\n      }, {\n        value: \"green\",\n        symbol: {\n          type: \"simple-marker\",\n          color: [0, 255, 0],\n          size: 6,\n          outline: {\n            color: [0, 255, 0, .5],\n            size: \"0.25px\"\n          }\n        }\n      }, {\n        value: \"orange\",\n        symbol: {\n          type: \"simple-marker\",\n          color: [255, 165, 0],\n          size: 6,\n          outline: {\n            color: [255, 165, 0, .5],\n            size: \"0.25px\"\n          }\n        }\n      }, {\n        value: \"blue\",\n        symbol: {\n          type: \"simple-marker\",\n          color: [0, 0, 255],\n          size: 6,\n          outline: {\n            color: [0, 0, 255, .5],\n            size: \"0.25px\"\n          }\n        }\n      }, {\n        value: \"red\",\n        symbol: {\n          type: \"simple-marker\",\n          color: [255, 0, 0],\n          size: 6,\n          outline: {\n            color: [255, 0, 0, .5],\n            size: \"0.25px\"\n          }\n        }\n      }]\n    };\n    // let panel = document.getElementById(\"panel\");\n    let phoneRenderer = {\n      type: \"simple\",  // autocasts as new SimpleRenderer()\n      symbol: {\n        type: \"simple-marker\",  // autocasts as new SimpleMarkerSymbol()\n        size: 6,\n        color: \"blue\",\n        outline: {  // autocasts as new SimpleLineSymbol()\n          width: 0.25,\n          color: \"white\"\n        }\n      }\n    };\n    let phoneRenderer1 = {\n      type: \"simple\",  // autocasts as new SimpleRenderer()\n      symbol: {\n        type: \"simple-marker\",  // autocasts as new SimpleMarkerSymbol()\n        size: 6,\n        color: \"green\",\n        outline: {  // autocasts as new SimpleLineSymbol()\n          width: 0.25,\n          color: \"white\"\n        }\n      }\n    };\n    // #endregion\n\n    // Error Handler\n    const handleNoSignalCounts = error => {\n      console.log('GAVEL 9000: ', error);\n      alert('I\\'m sorry... I\\'m afraid I could not locate any signals.');\n    }\n\n    return buildFeatureLayer;\n    // return resPayload;\n  }\n}\n// #endregion\n\n// FeatureLayerBuilder.propTypes = {\n//   resJsonProp: PropTypes.arrayOf(PropTypes.object),\n//   baseMapProp: PropTypes.string,\n//   mapViewProp: PropTypes.string,\n// }\n\nexport default FeatureLayerBuilder;\n// export { buildFeatureLayer };\n","/*/\n *  ┌────────────────────────────────────────────────────┐\n *  │ |> Redux Saga - Area Query Watcher & Worker Sagas  │\n *  └────────────────────────────────────────────────────┘\n/*/\nimport React from 'react';\nimport { call, cps, put, takeLatest } from \"redux-saga/effects\";\n\nimport * as types from \"../types/area-types\";\nimport * as requests from \"../sagas/requests/area-query\";\nimport FeatureLayerBuilder from \"../../components/esri/layers/FeatureLayerBuilder\";\n// import * as actions from \"../actions/area-query-actions\";\n\n// WORKER SAGAS//\nfunction* addToStore(action) {\n  console.log(\"WORKER: \", action);\n  try {\n    yield put({ \n      type: types.ADDED_TO_STORE,\n      payload: action.payload\n    });\n  } catch (error) {\n    console.error(\"SAGA ERROR: data/addToStore, \", error);\n  }\n}\n\nfunction* sendAreaQuery(action) {\n  console.log(\"WORKER: \", action);\n  try {\n    const response = yield call(requests.areaQueryRequest, action);\n    const { data } = response;\n    console.log('RES DATASET (client-side): ', data);\n    \n    // *Put `locationData` in Redux store for global access\n    yield put({ type: types.AREA_QUERY_SENT, payload: data });\n    // yield put({ type: types.AREA_QUERY_DONE });\n\n    // return data;\n\n  } catch (error) {\n    console.error(\"SAGA ERROR: data/sendAreaQuery, \", error);                     \n  }\n}\n\nfunction* buildFeatureLayer(action) {\n  console.log(\"WORKER: \", action);\n  const { areaQueryState, baseMap, mapView } = action.payload;\n  try {\n    const response = yield call((areaQueryState, baseMap, mapView) => {\n      // return (\n      //   <React.Fragment>\n      //     {\n      //       <FeatureLayerBuilder\n      //         resJsonProp={areaQueryState}\n      //         baseMapProp={baseMap}\n      //         mapViewProp={mapView}\n      //       />\n      //     }\n      //   </React.Fragment>\n      // )\n    })\n  } catch (error) {\n\n    console.error(\"SAGA ERROR: data/buildFeatureLayer, \", error);\n  }\n}\n\n// WATCHER SAGA //\nexport function* watchAreaQuery() {\n  yield takeLatest(types.ADD_TO_STORE, addToStore);\n  yield takeLatest(types.SEND_AREA_QUERY, sendAreaQuery);\n  yield takeLatest(types.BUILD_FEATURE_LAYER, buildFeatureLayer);\n}\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// ACTION TYPES //\nexport const types = {\n  AUTH_START: \"AUTH_START\",\n  AUTH_COMPLETE: \"AUTH_COMPLETE\",\n  AUTH_SUCCESS: \"AUTH_SUCCESS\",\n  AUTH_FAIL: \"AUTH_FAIL\",\n  AUTH_CHECK: \"AUTH_CHECK\",\n  LOGOUT: \"LOGOUT\"\n};\n\n// REDUCERS //\nexport const initialState = {\n  user: null,\n  portal: null,\n  token: null,\n  loggedIn: false\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case types.AUTH_SUCCESS:\n      const { user, portal, token } = action.payload;\n\n      return {\n        user,\n        portal,\n        token,\n        loggedIn: true\n      };\n\n    case types.AUTH_FAIL:\n      return {\n        user: null,\n        portal: null,\n        token: null,\n        loggedIn: false\n      };\n\n    default:\n      return state;\n  }\n};\n\n// ACTIONS //\nexport const checkAuth = options => ({\n  type: types.AUTH_CHECK,\n  payload: options\n});\n\nexport const startAuth = options => ({\n  type: types.AUTH_START,\n  payload: options\n});\n\nexport const completeAuth = options => ({\n  type: types.AUTH_COMPLETE,\n  payload: options\n});\n\nexport const logout = sessionId => ({\n  type: types.LOGOUT,\n  payload: {\n    sessionId: sessionId\n  }\n});\n","import { UserSession } from \"@esri/arcgis-rest-auth\";\nimport { getPortal } from \"@esri/arcgis-rest-portal\";\nimport * as Cookies from \"js-cookie\";\n\n/**\n * sign in using OAuth\n */\nexport function signIn(options) {\n  const {\n    portalUrl = \"https://qptampa.maps.arcgis.com/\",\n    clientId,\n    popup = false\n  } = options;\n\n  // only need to call the begin method, the rest is handled either in this method\n  // or in the completeSignIn update\n  UserSession.beginOAuth2({\n    clientId,\n    portalUrl,\n    popup,\n    redirectUri: `${window.location.origin}/auth`\n  }); // TODO can use .then to complete auth here and save an update cycle?\n}\n\n/**\n * sign in using OAuth pop up\n */\nexport async function completeSignIn(options) {\n  const {\n    portalUrl = \"https://qptampa.maps.arcgis.com/\",\n    clientId,\n    sessionId = `${portalUrl}_session`\n  } = options;\n\n  const session = UserSession.completeOAuth2({ clientId, portalUrl });\n  const token = session.token;\n\n  saveSession(session, sessionId);\n\n  const user = await session.getUser();\n  const portal = await getPortal(null, {\n    portal: session.portal,\n    authentication: session\n  });\n\n  return { user, portal, token };\n}\n\n/**\n * make sure the user is not logged in the next time they load the app\n */\nexport function signOut(sessionId) {\n  deleteSession(sessionId);\n}\n\n/**\n * restore a previously saved session\n */\nexport async function restoreSession(sessionId) {\n  let authInfos = null;\n\n  const serializedSession = Cookies.get(sessionId);\n  const session = serializedSession && UserSession.deserialize(serializedSession);\n\n  if (session) {\n    const user = await session.getUser();\n\n    const portal = await getPortal(null, {\n      portal: session.portal,\n      authentication: session\n    });\n\n    const token = session.token;\n\n    authInfos = {\n      user,\n      portal,\n      token\n    };\n  }\n\n  return authInfos;\n}\n\n// save session & user for next time the user loads the app\nfunction saveSession(session, sessionId) {\n  // get expiration from session\n  const expires = session.tokenExpires;\n\n  Cookies.set(sessionId, session.serialize(), {\n    expires,\n    sameSite: \"strict\"\n  });\n}\n\n// delete a previously saved session\nfunction deleteSession(sessionId) {\n  Cookies.remove(sessionId);\n}\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\nimport { call, put, takeLatest } from \"redux-saga/effects\";\nimport { types } from \"../reducers/auth\";\nimport {\n  signIn,\n  completeSignIn,\n  signOut,\n  restoreSession\n} from \"../../utils/session\";\n\n// WORKER //\nfunction* startAuth(action) {\n  try {\n    // first try to restore the session from a saved cookie if it exists\n    let authInfos = yield call(restoreSession, action.payload.sessionId);\n\n    // if there isn't a session cookie then we can start a new session\n    if (!authInfos) {\n      authInfos = yield call(signIn, action.payload);\n    }\n\n    // check for a response and finish by sending the authentication info to the Redux store\n    if (authInfos) {\n      yield put({\n        type: types.AUTH_SUCCESS,\n        payload: authInfos\n      });\n    } else {\n      // error catching if we need it\n      yield put({ type: types.AUTH_FAIL });\n    }\n  } catch (e) {\n    yield put({ type: types.AUTH_FAIL });\n    console.error(\"SAGA ERROR: auth/startAuth, \", e);\n  }\n}\n\nfunction* completeAuth(action) {\n  try {\n    const authInfos = yield call(completeSignIn, action.payload);\n\n    // check for a response and finish by sending the authentication info to the Redux store\n    if (authInfos) {\n      yield put({\n        type: types.AUTH_SUCCESS,\n        payload: authInfos\n      });\n    } else {\n      // error catching if we need it\n      yield put({ type: types.AUTH_FAIL });\n    }\n  } catch (e) {\n    yield put({ type: types.AUTH_FAIL });\n    console.error(\"SAGA ERROR: auth/startAuth, \", e);\n  }\n}\n\nfunction* checkAuth(action) {\n  try {\n    let authInfos = yield call(restoreSession, action.payload.sessionId);\n\n    // check for a response and finish by sending the authentication info to the Redux store\n    if (authInfos) {\n      yield put({\n        type: types.AUTH_SUCCESS,\n        payload: authInfos\n      });\n    } else {\n      // putting a fail call here just means that we didn't need to login\n      yield put({ type: types.AUTH_FAIL });\n    }\n  } catch (e) {\n    yield put({ type: types.AUTH_FAIL });\n    console.error(\"SAGA ERROR: auth/checkAuth, \", e);\n  }\n}\n\nfunction* authLogout(action) {\n  try {\n    yield call(signOut, action.payload.sessionId);\n\n    window.location.reload();\n  } catch (e) {\n    console.error(\"SAGA ERROR: auth/logout, \", e);\n  }\n}\n\n// WATCHER //\nexport function* watchStartAPI() {\n  yield takeLatest(types.AUTH_CHECK, checkAuth);\n  yield takeLatest(types.AUTH_START, startAuth);\n  yield takeLatest(types.AUTH_COMPLETE, completeAuth);\n  yield takeLatest(types.LOGOUT, authLogout);\n}\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// ACTION TYPES //\nexport const types = {\n  SET_CONFIG: \"SET_CONFIG\",\n  UPDATE_CONFIG: \"UPDATE_CONFIG\",\n  CONFIG_FETCH: \"CONFIG_FETCH\"\n};\n\n// REDUCERS //\nexport const initialState = {\n  loaded: false\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case types.SET_CONFIG:\n      return {\n        ...state,\n        ...action.payload,\n        loaded: true\n      };\n    case types.UPDATE_CONFIG:\n      return {\n        ...state,\n        ...action.payload,\n        loaded: true\n      };\n    default:\n      return state;\n  }\n};\n\n// ACTIONS //\nexport const fetchConfig = () => ({ type: types.CONFIG_FETCH });\n\nexport const updateConfig = options => ({\n  type: types.UPDATE_CONFIG,\n  payload: options\n});\n","//#region [copyright]\n// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n//#endregion\n\nfunction status(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response);\n  } else {\n    return Promise.reject(new Error(response.statusText));\n  }\n}\n\nfunction handleResponse(handleAs, response) {\n  switch (handleAs) {\n    case \"text\":\n      return response.text();\n    default:\n      return response.json();\n  }\n}\n\nfunction objectToUrlSearchParams(obj) {\n  const body = new URLSearchParams();\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      body.append(prop, obj[prop]);\n    }\n  }\n\n  // add f=json if not included\n  if (!body.has(\"f\")) {\n    body.append(\"f\", \"json\");\n  }\n\n  return body.toString();\n}\n\nfunction getHeaders(isFormData) {\n  const headers = {};\n\n  if (!isFormData) {\n    headers[\"content-type\"] = \"application/x-www-form-urlencoded\";\n  }\n\n  return new Headers(headers);\n}\n\nfunction getRequestBody(data, isFormData) {\n  // if formdata, make formdata\n  if (isFormData) {\n    return this.objectToFormData(data);\n  }\n\n  // Not formdata, make url param\n  return objectToUrlSearchParams(data);\n}\n\n/**\n * @summary { Reference a single method to create `http` requests using fetch() }\n * @typedef { Factory Pattern }\n * @param   { Object } params Object containing key/value parameters to pass to fetch()\n * @return  { Promise }       Promise returned by fetch()\n*/\nexport function makeRequest(params) {\n  return new Promise((resolve, reject) => {\n    let url = params.url;\n    const data = params.data || {};\n    const headers = getHeaders(params.isFormData);\n    const options = {\n      method: params.method || \"get\",\n      headers\n    };\n\n    if (!params.hideCredentials) {\n      options.credentials = \"include\";\n    }\n\n    let body = getRequestBody(data, params.isFormData);\n\n    if (options.method === \"get\") {\n      url = `${url}?${body}`;\n    } else {\n      options.body = body;\n    }\n\n    fetch(url, options)\n      .then(status)\n      .then(handleResponse.bind(null, params.handleAs))\n      .then(function(data) {\n        // Handle successful requests that are actually errors...\n        if (data.error) {\n          reject(data.error);\n          return;\n        }\n        resolve(data);\n      })\n      .catch(function(error) {\n        reject(error);\n      });\n  });\n}\n\n/**\n * Make a request for the App Config [public/config] with makeRequest()\n * @return { Promise }        Promise returned by makeRequest()\n */\nexport function getAppConfig() {\n  return new Promise((resolve, reject) => {\n    makeRequest({\n      url: `/config.json`,\n      method: \"get\"\n    }).then(resp => {\n      console.log('Response: ', resp);\n      resolve(resp);\n    });\n  });\n}\n\n// export function getSecurityToken() {\n//   return new Promise((resolve, reject) => {\n//     makeRequest({\n//       url: `http://localhost:5000/api/`,\n//       method: \"get\"\n//     }).then(resp => {\n//       console.log('Response: ', resp);\n//       resolve(resp);\n//     });\n//   });\n// }\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\nimport { call, put, take, takeLatest } from \"redux-saga/effects\";\nimport { types as configTypes } from \"../reducers/config\";\nimport { getAppConfig } from \"../../utils/request\";\n\n// WORKER //\nfunction* fetchConfig(action) {\n  try {\n    // fetch config\n    const config = yield call(getAppConfig);\n\n    // load config into Redux store\n    yield put({\n      type: configTypes.SET_CONFIG,\n      payload: config\n    });\n  } catch (e) {\n    console.error(\"SAGA ERROR: config/fetchConfig, \", e);\n  }\n}\n\nfunction* updateConfig(action) {\n  try {\n    // fetch config\n    const config = yield call(getAppConfig);\n\n    if (config) {\n      // load config into Redux store\n      yield put({\n        type: configTypes.UPDATE_CONFIG,\n        payload: action.payload\n      });\n    }\n  } catch (e) {\n    console.error(\"SAGA ERROR: config/updateConfig, \", e);\n  }\n\n  // try {\n  //   // first try to restore the session from a saved cookie if it exists\n  //   let geoJson = yield call(restoreSession, action.payload.geoJsonData);\n\n  //   // if there isn't a session cookie then we can start a new session\n  //   if (!authInfos) {\n  //     authInfos = yield call(signIn, action.payload);\n  //   }\n\n  //   // check for a response and finish by sending the authentication info to the Redux store\n  //   if (authInfos) {\n  //     yield put({\n  //       type: types.AUTH_SUCCESS,\n  //       payload: authInfos\n  //     });\n  //   } else {\n  //     // error catching if we need it\n  //     yield put({ type: types.AUTH_FAIL });\n  //   }\n  // } catch (e) {\n  //   yield put({ type: types.AUTH_FAIL });\n  //   console.error(\"SAGA ERROR: auth/startAuth, \", e);\n  // }\n}\n\n// WATCHER //\nexport function* watchFetchConfig() {\n  yield takeLatest(configTypes.CONFIG_FETCH, fetchConfig);\n}\n\nexport function* watchUpdateConfig() {\n  yield takeLatest(configTypes.UPDATE_CONFIG, updateConfig);\n}\n","export const types = {\n  SECURITY_TOKEN_CHECK: \"SECURITY_TOKEN_CHECK\",\n  SECURITY_TOKEN_SET: \"SECURITY_TOKEN_SET\",\n  SECURITY_TOKEN_DECRYPT: \"SECURITY_TOKEN_DECRYPT\",\n  SECURITY_TOKEN_FAIL: \"SECURITY_TOKEN_FAIL\",\n  SECURITY_TOKEN_SUCCESS: \"SECURITY_TOKEN_SUCCESS\",\n};\n\n// REDUCERS //\nexport const initialState = {\n  \"isValid\": false\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case types.SECURITY_TOKEN_CHECK:\n      // const { isValid, securityToken } = action.payload;\n\n      return {\n        ...state,\n        isValid: true\n      }\n\n    case types.SECURITY_TOKEN_SET:\n\n      console.log('SECURITY_TOKEN_SET: ', action);\n      // const { TempSecurityToken } = action;\n\n      return {\n        ...state,\n        isValid: true\n      }\n\n    case types.SECURITY_TOKEN_SUCCESS:\n\n      console.log('SECURITY_TOKEN_SUCCESS: ', action);\n      // const { tempSecurityToken } = action.payload;\n\n      return {\n        ...state,\n        ...action.payload,\n        isValid: true\n      }\n\n    case types.SECURITY_TOKEN_DECRYPT:\n\n      console.log('SECURITY_TOKEN_DECRYPT: ', action);\n      // const { securityTokenDecrypt } = action;\n\n      return {\n        ...state,\n        ...action.payload,\n        isValid: true\n      }\n      \n    default:\n      return state;\n  }\n};\n\n// ACTIONS //\nexport const checkSecurityToken = options => ({\n  type: types.SECURITY_TOKEN_CHECK,\n  payload: options\n});\n\nexport const setSecurityToken = options => ({\n  type: types.SECURITY_TOKEN_SET,\n  payload: options\n});\n\nexport const securityTokenSuccess = options => ({\n  type: types.SECURITY_TOKEN_SUCCESS,\n  payload: options\n});\n\nexport const decryptSecurityToken = options => ({\n  type: types.SECURITY_TOKEN_DECRYPT,\n  payload: options\n});\n","//#region [copyright]\n// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n//#endregion\n\n/*/\n*  ┌─────────────────────────────────────┐\n*  │ |> Combine Sagas into one output    │\n*  └─────────────────────────────────────┘\n/*/\nimport { all, fork } from 'redux-saga/effects';\n\nimport * as areaSagas from './_area-query';\nimport * as authSagas from './_auth';\nimport * as configSagas from './_config';\nimport * as securitySagas from './_security-token';\n// import * as refIdSagas from './_refid-query';\n\nexport default function* rootSaga() {\n  yield all([\n    ...Object.values(areaSagas),\n    ...Object.values(authSagas),\n    ...Object.values(configSagas),\n    ...Object.values(securitySagas),\n    // ...Object.values(refIdSagas)\n    // include all additional Sagas\n  ].map(fork));\n}\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// ACTION TYPES //\nexport const types = {\n  MAP_LOADED: \"MAP_LOADED\"\n};\n\n// REDUCERS //\nexport const INITIAL_STATE = {\n  loaded: false\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case types.MAP_LOADED:\n      return {\n        ...state,\n        loaded: true\n      };\n      \n    default:\n      return state;\n  }\n};\n\n// ACTIONS //\nexport const mapLoaded = options => ({ \n  type: types.MAP_LOADED, \n  payload: options \n});\n","//Axios imports\nimport axios from \"axios\";\n\nrequire('dotenv').config();\n/*/\n *  ┌─────────────────────────────┐\n *  │ |> Http Request             │\n *  └─────────────────────────────┘\n/*/\nexport function setSecurityTokenRequest() {\n  // let headers = {\n  //   \"Content-Type\": \"application/json\",\n  //   \"Accept\": \"application/json\",\n  //   \"Authorization\": process.env.REACT_APP_API_KEY\n  // };\n  \n  return axios.request({\n    method: \"get\",\n    url: process.env.REACT_APP_API_VERSION + \"/security-token\"\n  });\n}\n\n/*/\n *  ┌─────────────────────────────┐\n *  │ |> Http Request             │\n *  └─────────────────────────────┘\n/*/\nexport function mockSecurityTokenRequest() {\n  return axios.request({\n    method: \"get\",\n    url: process.env.REACT_APP_API_VERSION + \"/mock-token\"\n  });\n}\n","import { call, put } from \"redux-saga/effects\";\nimport { setSecurityToken, securityTokenSuccess,  } from \"../../reducers/security-token\";\nimport { setSecurityTokenRequest, mockSecurityTokenRequest } from \"../requests/security-token\";\n\nexport function* handleSetSecurityToken(action) {\n  try {\n    const response = yield call(setSecurityTokenRequest);\n    const { data } = response;\n    console.log(\"Handler Response: \", response);\n    yield put(securityTokenSuccess(data));\n\n  } catch (error) {\n    console.log('Error: ', error);\n  }\n}\n","import * as types from \"../types/area-types\";\n\n/*/\n  *  ┌──────────────────────────────────────┐\n  *  │ |> Redux Actions - Area Queries      │\n  *  └──────────────────────────────────────┘\n/*/\n\n// !! File is no longer used - Will be deleted once Redux-Saga refactoring is complete !!\n\n// ACTIONS //\nexport const addToStoreAction = options => ({\n  type: types.ADD_TO_STORE,\n  payload: options\n});\n\n// TODO: Look into why '_Saga' had to be removed from action type  \nexport const addedToStoreAction = options => ({\n  type: types.ADDED_TO_STORE,\n  payload: options\n});\n\n// NOTE: Is this action set needed? (PENDING DELETION)\nexport const areaQueryReadyAction = task => ({\n  type: types.AREA_QUERY_READY, // readonly\n  task\n});\n\nexport const sendAreaQueryAction = options => ({\n  type: types.SEND_AREA_QUERY,\n  payload: options\n});\n\nexport const areaQuerySentAction = options => ({\n  type: types.AREA_QUERY_SENT,\n  payload: options\n});\n\n// NOTE: Is this action set needed? (PENDING DELETION)\nexport const areaQueryDoneAction = task => ({\n  type: types.AREA_QUERY_DONE,\n  task\n});\n\n// NOTE: Consolidate into single action\nexport const areaQueryFailAction = task => ({\n  type: types.AREA_QUERY_FAIL, // readonly\n  task\n});\n\n// NOTE: Consolidate into single action\nexport const areaQueryStatusAction = task => ({\n  type: types.AREA_QUERY_STATUS, // readonly\n  task\n});\n","import { takeEvery, takeLatest } from \"redux-saga/effects\";\n\nimport { handleSetSecurityToken } from \"./handlers/security-token\";\n// import { handleRefIdQueryPush } from \"./handlers/refid-query\";\n\nimport { areaQueryPushSaga } from \"../actions/area-query-actions\";\n\nimport { handleAreaQueryPuts, handleAreaQueryPush, handlesendAreaQuery } from \"./handlers/area-query\";\n\nimport { types as securityTypes } from \"../reducers/security-token\";\nimport * as areaQueryTypes from \"../types/area-types\";\n// import { types as refIdQueryTypes } from \"../reducers/refid-query\";\n// import { types as polygonQueryTypes } from \"../reducers/polygon-query\";\n\n// Configure Error Handler\nconst handleErrors = err => {\n  const resp = new Response(JSON.stringify({\n    \"code\": err.code,\n    \"message\": err.statusText\n  }));\n  \n  console.warn(resp);\n  return resp;\n}\n\n// const getStatus = state => state.select;\n\n// TODO: This watcherSaga() to be merged into rootSaga() ./index.js\nexport function* watcherSaga() {\n  yield takeLatest(securityTypes.SECURITY_TOKEN_SET, (!handleSetSecurityToken) ? handleErrors : handleSetSecurityToken);\n  // yield takeLatest(securityTypes.SECURITY_TOKEN_SET, handleSetSecurityToken);\n  // yield takeLatest(areaQueryTypes.ADD_TO_STORE, (!areaQueryPushSaga) ? handleErrors : areaQueryPushSaga);\n  // yield takeLatest(areaQueryTypes.ADD_TO_STORE, areaQueryPushSaga);\n  // yield takeLatest(areaQueryTypes.ADD_TO_STORE, (!handleAreaQueryPush) ? handleErrors : handleAreaQueryPush);\n  // yield takeLatest(areaQueryTypes.SEND_AREA_QUERY, handlesendAreaQuery);\n\n}\n\n// TODO: Create a `seleector` function that will return current status of the redux store\n// For example, suppose we have this state shape in our application:\n// state = { cart: { ...} }\n// We can create a selector, i.e.a function which knows how to extract the cart data from the State:\n// ./ selectors\n// export const getCart = state => state.cart\n\n// Then we can use that selector from inside a Saga using the select Effect:\n// ./ sagas.js\n// import { take, fork, select } from 'redux-saga/effects' import { getCart } from './selectors'\n\n// function* checkout() { // query the state using the exported selector const cart = yield select(getCart)\n\n//   //-- ... call some API endpoint then dispatch a success/error action\n// }\n\n// export default function* rootSaga() { while (true) { yield take('CHECKOUT_REQUEST') yield fork(checkout) } }\n","export default __webpack_public_path__ + \"static/media/Topo-Abs-BG.b496ff06.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUsAAAC8CAYAAADxV4yLAAAACXBIWXMAAAsSAAALEgHS3X78AAAgAElEQVR4nO2df4xU13XHv44Mwgl4EXFrI4h2kArRWtS7IJJtieOddTAJGy0/POzs+EdhXForVmyzTpRWqSMzpI3SP1p746ZyQuowrPzjMcszGORdZFEzWARl4xUsFjWSnchrCYLdKluWJTGBSvSPuW983537Zt6beXPv+3E+0grunTf3nXkz77x7zz0/brh+/TqIeGIUzEEAE5l0Kq9bFoIIOjfqFoDQSgeAi7qFIIgw8CndAhAEQYQBUpYEQRAuIGVJEAThAlKWBEEQLqANHgUYBXM+SpspTkxk0qnYbbQYBbMDwHyHlycz6dSkD+dIAjha5ZBjmXQq2eh5wo5RMHMAdji8PA2gw4/vI8yQslTDAJx/iADQDaCoRpRAMQigy+G106j+gCHU0QIgByCrVwy90DK8yRgFM4HqipKQ024UzAHdQhBltrJZemyhmWXzGdQtQIjJGQUz76eJ4vmf/Du+3NWFZW3Lra75cVcCjATf+P6OJ3HTnJvwne9+j+8eRIxn+6Qsmwi7CTdY7VPjY3j62WexdEkCT+38AX9oVtMNmwCQZPYqHSSs/7w0tBujR44guXo1tn3jm1a3tfzzbYZ5/sJv8fvf/57vakd1m2Ysee/9SQDA6yOHsLan1+puNwpmNq4RX6Qsm4ttVpnfk3c6bmvTJXGmFc52Q+UUT5xAT+8GLFy02OrabhTMwbhvLuhi+BUTq7+cxNx586yuQaNgHojjhiTZLJsEs7e1W+39+/ZiavqSRonCw892PSd25TWIQQC4cvUa9r44xHe1wMeZfpigmWUTYK5COat9eWYGI4dHy69//PHHODU+pkEyO3+2rA0zl6bx0Ye/1S0Kpqamyv9/7/1JnBofw4pVnVZXl1Ewk5l0qujHuZ5+9lk/hokNktn+DmZLntQolnJIWTaHHEpPYADA3heHcOXqtfKL5z78KBA37Lcefxxn33kHo0eO6BalgvyePK8sgdLsMqFFGAI/2/WcaGfPA0hqEUYTtAz3GeYqtN1qXzh/DsUTJ/QJFFKmpi/hpaHdfFerxo2o2GPN9jm64uZFQMrSf/J8Q2J/I1xy9M1juDwzw3cNMBMHoQHJBmVFR5QhZekj7Elb3lk+Xnyj7IJBeOfK1WvIP7+L72oB+a1qw2G2H5vNHlKW/pLnG8PmsCYxosPYyZN49+wZvmsriyknNCCZ7efiMtsnZekTzJ7WarVfGtpNrkI+YRgvi100u9REnGf7pCx9gD1Zy8uRyzMzOPrmMY0SRYv33p/E6yOH+K4uo2Bu1CVP3InrbJ+UpT8MgnMVyj+/y+YqRDTOa6Mj4vJvMC7LvyASx9k+KcsGYU/UcrjiqfExjJ08qVGiaDI1fQkH9+/ju1oR00iSIBDH2T4py8axPVEPHTqoS47Ic/TNY7hw/hzfNcD8WgkNxG22T8qyAdiTtOwq9PrIIXIVaiJXrl6DObyX77KyEhEaiNtsn5RlnbAnaHlWeXlmBq+NjmiUKB6MnTwpRpLEPimtTuI02ydlWT8D4FyFDu7fR65CiigU9opdkd9cCCpXrl7DC0N5viuys31SlnXAnpzl5caF8+fIVUgh5z78SNxcaDcKZlaTOLHn7bNnYzHbJ2VZHzlwrkIvDOXJVUgxw6+YsdpcCDqS2X5OgxhNhZSlR9gT0+Yq9PbZs/oEiilXrl4TNxdim5Q2CEhm+11Rm+1TPkvv5PiG5IlKKGL0yBF0f+UebUlpO1euxJfuvFPFqerm5Pi4shSBUS9BQcrSA+xJaXMVOvfhR/oEIvDCUF5WgVCJc/SCBQvEBMWBY+nnb8fb/3VGyeajNdu/f8tDVpc12881/eQKoGW4S2SuQsOvmBolIgDp5sKGKG4u1MvcefPw9XU9ys43euSI6Eq0IyquRDSzdM8AuE2dg/v30aZOQAhICYppABOKz1mNBJhr29qeXvxy7JfKAiYkJSiUzfabCSlLF7An4w6rfeH8uUDWrYkrU9OXsH/fXmza3G91tRoFcyCTTqn0v5zIpFNJheerCstZcMpq9/auV1b3SVJwboOfBed0QcrSHbabTkepiDva2rBo0SJfx7xtob/jWXz8hz8orzs0cngU93y1h99cyBkFM69UiACRSacmjIK5B8xzY8WqTnSuXKksyUtAZvu+QsqyBsz+tcFqnxofUx7/PWf2LDzy6HZeEfjGwkWLm7JJ8fGVK0qzL1n1rbd945tWlxVJckCZEMFjAKXlbwsAZLc9jNNnHlNiPgrIbN9XaIOnNnlbo7JoU9PpuzfVFEXZTFJ9/Zgze5bScxZPnBCT0m5HyGczjcBcdsrKae68eei+q6vKO/xl5PBopEpQ0MyyCqwYUzn+e/++vcrjvxffdivW9vTyXR8AmPRp+HaUNib8Gm8+GxMLFy1G911dym27hvGybHMhtmTSqRxzeWsFgPu3PISxt36lzJUo//wuPDrwbavLmu2HMniAlKUD7AmYs9qXZ2YwcnhUuRzpdL/YlfXLUG4UzCKAYiadyvk03nyUdoRbAWD9ps3KbkyL996fxPHiG7gzebfV1VLt+JiQBXDUavSl+vDTnz+v5MRjJ09i7dkzWNa23OrazgIHguQ54ApahjuTA3ej7X1xSLmrUOfKlaI9cU+QdxTZsq88a5g7bx76Un3K5aCqmnbYb6ac6eXO5N1YuiSh7PxRKUFBylICcxXabrXfPXtG+e7unNmzkOqzzSqnEYLlSyadOgCNNyYgrW9NlGaXZTKZ+5Sd2Jrtc4SyBAUpSzl5viF5Mjad7ru6+JhnABgMUYytTamrvDEtJPWtYw2Ll/+R1V7WthzJ1auVnX/YHK7IEqXs5D5BylJALBVxvPiGclehBS03Y/2mzXzXB37ZFVXA7FF7rPaytuXoXLlSqQyS+tZEybQ0bTX6H9iizGNBVoLCKJg5JSf3CVKWldieeDrsX32pPtFVKPDLbwkD4G7M7LaHlbsSSUpQ4KY5NymVIUiwlUnOas+dNw89X1un7PxhL0FBypKDPenKrkIvDe1W7iq0dEmC38kFgGPMDhgqdPv4WYjVNtfcc49yGYIEcwo/bbU3be7HgpablZw77AXnSFkymNuL9lIREvteGGeVAEo+fij5hQIo+fipujEtxPrWK1Z14o62NqUyBBDbbyq7NavsxGEuOEfK8hMGwbkKmcN7tbgKcf5oAPCjMPqjCWRtDYU3poVY3/rBLVnlJoEgwVyJyg+xFas6lT7EfnH8uNiVVXbyBiBliXKGFlupCJVxzUDJVSi77WG+axohWqI4Ifr4rVjVqcWViN9csKKL4gqbyZXNTafGx5SamyTZ5fPKTt4ApCxL2DZ1RDuXCrrv6hI3dXIhchWqRZZv/O3DjygXQNxcWL9ps3KTQICw/d5V5jsIW6AFT+yVpaxUhA5XIS4VP1ByFQqdH5oToo/fwkWLlfr4AZX1rVVnEA8K7PfebrVV5jtwCLTIKTm5D8RaWcriv18bHVEuh8SOV9ERAXLQ5ONnIZagWNvTq9wkoBNZaRSV+Q4cAi0mlQnQILFWlijtCpZtNwf379PiKiQsS46FZVniBWnc+L0p5XKI1Th1RBdpJAdN+Q7CHmgBxFhZMmdYm6uQjlIREvtdVrkQisikU3lwPn5re3qx+LZblcog1rfWEV2kAzHfwYXz55TmO4hCoEVslSWEpyxvz1JFcvVqcVmyM0zLkjqx3SSSFHRNZ/gV0+ZKpCO6SAN5vqGyNEpUAi1iqSyZ64TNVejts2eVyjBn9iz0P7CF75pGCJMLeIWZGF612jqcxK0SFBa6ootUwX7v2vIdRCXQIpbKEoJSEu1YKuj52rqKZUmEXIVqYbtZHtySVS5A8cQJmyuRjugiheT5hsp8B5JAiz1hDbSInbIUXSdeHzmEcx9+pFSGxbfdyhdyAoDTzJ4XC5ipYafVXrhoMdatWaNcDnEpqiNRcbMRS6OozHfgEGgRylklEDNlKXOdGH7FVC6HxE4X2h9QAwyCC7nT4SRu1be20JGouJnIXONU5juIWqBFrJQlSkpJa6mIO9raRFehV6PoKlQLWbowHU7iYvSKjuiiJmLLd5B/fpdSV6GoBVrERlky14kdVlu164SFYJ8L9bKkUZjpoTzV0eEkbtW3ttARXdQMxHwH7549ozTfQRQDLeJU3THPN1S6TlisW7Mm1BEMTSIHrvJgb+96PP3ss0oFGDk8inu+2lNeMvY/sAW/HH/L6yysg1XLDAoJvqGyNEpUAy1ioSxF14lT42PK47/nzJ5VEcGAGLgK1SKTThWNgrkHbBa0YlUnOleuVDoLEutbWxnEXznoKaFKC7jfWJBQne8gqoEWcVmG520NhVlWLPruTUXK2O0zthIUqb5+LSUo3j17ptxWmUG8majOdxDlQIvIzyxF1wmVWVYsli5JYG1PL991LE6uQrXIpFMXjYI5CGZTtvJNqg4/NYyX8dTOH5Tb2a3ZqiaBqampiho/QePk+LhSV6EoB1pEWlnKXCdUZlmx6O1dL3bllAsRcDLpVI75wLYCJSfxsbd+pfTBZtW3tkLzrOgip+iusZMnlSeJDjKS1VOkAi2ivgzPQZPrhEWYk51qwOYZoMNJXIxu0RFdFEYW33aruHqKXKBFZJUlc50oZ1lR7ToBOCY7ja2rUC1YcoWyK5EOJ/Gp6Ut4aWh3ua0ruihsxCHQIrLKEoKtRKXrhIVDstMgLUvms78gYbvJdOSblJWgiEFWorqRBFpEcvUUSWVpFMyN0JhlBQh2slOjYOaMgnkRpRj57UbBnGAzce2wJAvlEhTL2pZrKUHB17fWlag4DMyZPUsWaJHTIkyTieoGjz3+W2GWFYugJjtlu87bhe52AEWjYHZYbh5sc0yXAi2Ck7FOJ/GGGDt5El8aHyvPmNb29OJo8ajypCtBJ+ylIrwQOWVpFMwcAlAqIojJTpkCFBWlRQtKM4IsYHPnaXc4Xhl1Ook3zKFDB23Ly3S6X3l0UZCRrZ4QIVchkRuuX7+uW4aqsJjuhMvD5wIwAHwGAH73P/+N/9j1E/zx6h+bI5wDD/313+BzrUv4rvsAfKhUCDkdAJ6p8vpp2GfAtY5XyvbHHlH+4PurTMa2y/vjwX8ldyGGeG0AbArCpKBZhGFmmQWXAMMLn/2TP8XfP/mUv9LUh/rdpfpoBxenHSQuz8zgDx9/rPy8f96+wtZ+7ze/Vi5DEHEItIisogRCoCzZpkjO7fEsDrx8w58aH1O+dJozexaeeebfeJvlNIBEEHbC2cZOi8PLO8VNKLZ0n7Tec3lmBk888VjT7YfirOW5H/9IuY+sGLqnMnFu0IlKqQgvRG43nLks7LHaVmIGlYg1XvCJPTAIOP2oT0Nib9JRwlactQShRpLqxLlBJkqlIrwQOWXJyEFzYobiiRO2xAwouegklAohgUVVdKNUNOz/ULpOOwEknWa+uvNOBqFGko7oryAStVIRXoiksmSuC+VZkpWYQTUSR/i8ciEkZNKpYiad2gjgFyi5erjJgKTMWZwv9xCEGkk6or+CStRKRXghksoSKNs6tdd4OV58g+/qYjbV0KHaWTy/Jx+YGkk6or+CSBRLRXghssqSYbO16ajxInGIzysXwj9y4Mwb/Q9saZp5Y2r6Ep78h7/TXiNJR/RXUIliqQgvRFpZiokZdNV44RMzAGhljvOhQ/Vmj46dZz50T1f0VxCJaqkIL0RaWTICl5gBwABzyQkdujd7molYI0lH9FdQiWqpCC9EXlkyW1vZlWhZ23ItrkR8YgaUXInCbOvR/gDyG7FG0oXz58hViBHlUhFeiLyyZNhqvGS3PaylxotQgmBrUDL9eCUImYH8RszybQ7vJVchRL9UhBdioSyZrS1ntefOm6fFlejQoYpEEGH+0eWgaLOn2cic4MlVqETUS0V4IfDhjn6RSacG+eJlumq8vD5yiL8xu4yCuTGMMbUsK9EAgN1A6QG09cEt+OnPn9csmXfEGkmSh5qUBS0347MLFjRDpEBw05ybIl8qwguxUZaMLLi48VrV+5rBa6MjWP3lJP+0HjQKZjGMT+tMOpVnRca6gFIZiDeO/meoXG3EGkleamx3fuGLot9h1IlFpI4TsViGWzBXh7LVfsWqTi2uRAf37+O7WhHuH6FNdsmuaWARayTpcoIPCZEsFeGFWClLRpZv6Li5R48ckbkSJZQL4gPiZk+YCnyJWb4P7t9HmzpyIlsqwgtxW4Yjk05NGgXzR2AZwxcuWozk6tUonjihVI4XhvL4zne/ZzVtWcpDSA4l2VuAUmipanuwV8Qs3xfOn8PokSONDCkmTo4SF+PoKiQSO2XJyIG7uXXUeHn77Fmc4mq8oORKlA/jUke22dOX6gv0Zo9YI+mFoXyjQ14M43dHuCeOy3Bp2F7P19Ypl0OSeiynXAifECN7dNT8dotYI0lHvkwifMRSWQLlm/u01d60uR+Lb7tVqQznPvwIr48c4ru62O5yWAnFZo8YcaQjXyYRPmKrLBm2m1tMzaWC4VdMXJ6Z4bsGQxw3XnWzR3WYqQwxy/f+fXupvC3hilgrS2ZjetVqr1jViTva2pTK4FCCIswbBTlwkT1WHtGlSxJ4dODbWsMixSzfl2dmMHJ4VJs8RLiItbJk2BQTn6JLFcUTJ0RXoh0hdiWqTOOW6itHyegMixSzfO99cYhchQjXxF5ZMpeInVZbl5/gz3Y9J3aFNm5cttlj7frrissXs3xfOH9OubsYEW5irywZgxBKUKie/fB1ZxgbwlqCgiE1Jeiqkihm+ZY8nAiiKqQsIc9K1OxyrzLye/IVXcqF8Am22bNT7NcRJSNm+T41Phaq+HUiGJCyZAQhA/jU9CXs32dzY2llzt5hxZZNyYcomboQXZgkDyWCqAkpSzs5viGm7lLByOFR0ZUoF1ZXIgjX04coGc+IWb5PjY8FOgyTCC6kLDmYK1G5BMWKVZ1aSlDkn9/Fd1lx46GC2Vs3WG0dUTKSLN9aMk0R0YCUZSW2EhSpvn4tJSjePXuG79oeQleiPN/QESUjyfINILiRRUSwIWUpwDZ7ym47Cxct1uLqYhgvi1155ULUCZ+RHtATJbOg5WZblm/etBGmNHJEcCBlKSGTTuUguBItaLlZqQzvvT+J48U3+K4uo2BuVCpEHTD7as5q64qSmZq+ZJudP/0v/2xzzbp/y0PKv1Mi3JCydKYiCkU1w+aw2BUGR/UcWOo7QG+UjDU7t0pFiKYA0feSIKoR13yWNcmkUweMgnkMGuvLTE1fwktDu/nIk1ajYA5CcMlpgPkAEj46v88HS6oM6I+SsWbnr42OAChledq/by82bS4lTLE28KiSI+EGUpbVGQBwympkMvfhH3/4Q6UCHH3zGLq/cg/v/rIdnELygXYAW30cr0wQomTEBMQjh0fxF3/5pfL1zG57GKfPPEYx4kRNaBleBTHl2LK25Vpciczh8OVbPF58I5BRMleuXrP5e+pK/EyED1KWtcmBcyXKbntYiyuREDceeCT21sBglfSw2LS5n3wviZrQMrwGrL5MDsAzwCczkVcOHlQqRzPqm3/r8cdx9p13tIQg6ia/J4+ln7+97Iepw8RChAuaWbogk07ZshJt2txPbichR6zfvqxtOfleElUhZemerK1BbiehR6zfrsOflggPpCxdwuLGy1mJKMY4GvA79rr8aYlwQMrSG1m+QTHG4UeMlLozebfyOkxEOCBl6QFZCQqdBbgIf9jzwpAtdvzBLVltdYKI4ELK0juD4FyJdBbgIvxBrLC5cNFi8r0kKiBl6RFp9UINJSgIfymeOGFLvLFpcz8W33arRomIoEHKsg5YCYrTVnttTy/dWBFg9+6f29rpdL8mSYggQsqyfmy1cejGCj9Wog2LFas6ySZNlCFlWSeyEhS0ixp+xBpIZJMmLEhZNkYO3GbPg1uy2gQh/OHK1Wt47sfl3CmYO28etj64pco7iLhAyrIBmCuRrQQFhcw1jwUtNyuxDYuJNu5M3k0BCAQpSx+wxY1TyFzzyG7NKrMNi7XFKQCBIGXZIMyVKGe1586bh6+v69EnUES5o60NK1Z1KitPbGWpt6BVA0HK0geYK1E5bnxtTy8t23yGtwdntz2s5Jxiog0qchZvSFn6h82VqLd3vS45Ise6NWv4shq21GrNRiyNQdmm4gspS59gJShsrkSqS1BEkTmzZ2H9ps22vrG3fqXs/GKiDXIRiy+kLP1lAJwrUaqvn3z0GqTv3lQ5m7lF5xe+qFQGMdHGI49up+81hpCy9BG22WNzJeq+q0ujROFm6ZIE1vb0VvSrth2KiTaoyFk8IWXpM5l0KgfOlYg2Beqnmt1Xte1Qlmij7fbblcpA6IUKljWHAQD7rUZfqs9Wv3rO7Fn43KJFOuSy8ZnPzMUtt9wSiJ37301NYWr6UrnduXIlVqzq5A/ZA2A+gA1AyXa4bs0a/Po3v1Ym4/hbb2FZ2/JyW5CPiDg3XL9+XbcMkcQomEUA5TX493c8Wa6jvXRJAk/t/IEWuYLKS0O7y1Um58yehe/v/Cd+B3waQAf7/wSAFvUS1uRYJp1K6haCaB60DG8eWb6RydynSYzw0X1Xl81VCMBgJp2aFMNLCUIlpCybBLuxyxkZlrUtp3RfLljQcrPoKvQBswMDqLQJE4QqyGbZXHIozTBbgFK6r5s+/Wnccsst4nHdLOWbUpipoMgrI8XnL9uArM2StttvF12FBoS3IZNOJZotmwzRtELEC1KWTSSTTl00CmYOwDNAyeXk/i0P6RUqoFhx3wLHMunUAR3yEIQILcObTCadsmUlIjxRMaskCF3QzFINWXCZiSRcVCNGqNjDQkgJIhCQ61CM0W2zJIgwQctwgiAIF5CyJAiCcAEpS4IgCBeQsiQIgnABKUuCIAgXkLIkCIJwASnLeDMBYFK3EAQRBsjPkiAIwgU0syQIgnABKUuCIAgXkLIkCIJwASlLgiAIF5CyJAiCcAEpS4IgCBeQsiQIgnABKUuCIAgXkLIkCIJwASlLgiAIF5Rr8BgFswPA/CrHXnRTE8UomMlax/PnqlYCtp7jqlAhj1Ew5wPoqPE+nklWD7xhjIKZAJDw69zcdXeFm9K7Hq9PLfkSaPDzuvyeeSYy6ZS0vpGHz+b2d5+Au89XdTwHuRw/B3tP0sV56zl3tXtYPKere8Ph87m6xo2cVzJOAu6+r/L4N7I3HQDQ7uIEHwBI1hDuKPv3GICkwzGD+KT+8g1VxqrnOCdk8nTgE3ndsBPVC495IQtgh5c3GAXzWCadSjq87OVzwCiYAPBQJp3KO7yeBbDb45inUfp9yG7sLLx9Xtm1dvM983QDKIqdrDyxa1mMgjmN0udyUhx5AFs9jFftOsl+k06fo4P1t3g4d7XPIp572iiYCQc5RRnd3huyz1dNV/h1XgBlZV2EC33HvedYJp1KfgqlH7HbN7ay4wk9dHmdQdZgsM7XnGhHwH8f7Gbx9JBCSRnlHMbrgAdFyWiHP2V+c/CgKBmOn8Xh2I0ex6+FbDbvZXXXKFl4UJSMLqNgbrwRdo3+BEppu0Q6ADzD/p+UvB4kuh36ZU/HCcnxg/jkYoqvTdYvlm8kIZll1Em1G83rTWjhZZmsg3pvTKfPpfPz1ntuL+8bAJCv8zwyZNe/hc1gJ308jxP1XrMOsW74hMyWxZZsocCNLY479iIExWMUzIvc667H8oljQns+vD8FLT5ApXJPoLQ68Gs8wNuyWET8vDyyc3kdw2099tOSYztQ/wNDNl4j18kt03Ce7NT7Wdp9VmROD6sO6JuMyH5DFd+XqCwJjYj2SLbk9mSL5MiL9cC92upqjcfGrDshahX7q9IxAAyID0ZWU71eBScbT0Xi2AnZ9WjwswCl2aUfZgPA+eHfgdLeiXIcrlnF90WuQwRB1CLrxyA17O3VXgsEpCwJgqhFC/OOaJRq9mKVmzx1QcqSIAg3+LErXk0htjBPhcBCypIg/J/VBPqmr5MNzCe7EcT37xHaWmaXbpU0bfAQcWMCpV1jfnf4GaNgXuQd9D1sHE1K+vJGwbQ5fmfSqWpBFWEhi8aCMvhNJpl3RRL+ucU5IZ4TAIrs++I9YSq+L5pZErGC3RCyXdfd9djlmEuN6HrSgtINGHg7nEey9b5Rci0mUakYm3692ANxWuhuBzBR6/siZUnEkRwqbxigToWJkluNOJ6lMOsZL6i0NhBBJiqiIipneaoeLjI3qFbUeMBFbhle5cusmowgirBrkeS6ktIDNVHF97DbbUBAPWNk0qlJdm3yqPT7282csHNuzs/Gm2DjFWFf3rew8ZBxiMEPAadhv0ZZ1LdUrphZsu+B76s3YMITmXQqz84r5j6wHnDS2PkoziyPOvxFbUnkhiRKTujWn4ooklDAboYkSspAZAdLjlHPeH7OWINAUWhvrXPXWrYMBwQThs+5DxxhD6+HJC85mlCiqCxDi1Ewi/wf6ktm4YVqoYKRh600kpArzK2kMAGU7LsfCH3ZOsaxPai5Wb8szFQJTGFugksTShSVZbfDn6t8eZrpEv7qjQuvxmmUXDZ2wv+MMjo45vDnyuTSRIUpG2+3UTCb/QBsBuKGWNbLmyWzNF75ivel0hVgJp06APkDzjKhZK2OyNksNSS/UE3Rw7EHUBkLfsCLPa6Z+OFO41N8+UXO5ig+oLYaBXN+Jp1y/WARbJjieNuZDdOvWGsVDALYzrW9PsSdluCAZmUJVLU5AyWFeTGTTh2I4swyypz2mFVpApUznKyfAkWFTDp1MZNOdaDSURooOWQnvY4H5xnm9qBHq/A4uEd5ISG0eQU5KbzWjNVUTWqYUAaBaC7Dw4yTCaEbwAp2M3slL7RbI+j/5xuZdCoLucLM1jFWNYXpeTzN5Bt4b1JoT1r/ke066/p9VlGYrUbBTEZuGR5mmmRCOIBPEjdbDCB8N6svOKS9s7kZZdKpLLth+VlOop7xuCX+/2PFkFcAAAKMSURBVArHhGZmyTiA0gyrnryYovLLGgWzmlmjA03aY5ClKeTNQWxJnkDl95V0nFkaBTNpFEzrjURIcVhCRWFjp9n45pMbBf/eKpFPVWH6Q1Sw7bBvZIpoXfk4fV+1luHtKGn4pN8CEUrJC+2WGk92gpCRr+M99Si+QJqJqilLS7u2oP7s2kQwkM0IsqqFIMINMy2IPpe1qEfxBTJ4wlFZMmNnN+S7Q0SIYMuKV4XuDWHakSUCg1c/0aTQfhWVm5dPiG8K4iZk1Q2eTDpVlMTQJpjfWejtMDHjAIANQt9GuF9aJVSFonmBGeydKLrcNOuQFOVr5EEiG08F8x2+Iz8firINw2qISk9WFLFoFExxzATcbfIkq/wGXH3/bn/XNXfD2e7QAD7Z8WsFMOkUbE4EE5Y8QNzN9FLmdCu818dWQS0TUdHFGF5ufjf4PZ5b2lF/gTtXsOQXr6LywVuBw+ZO0eHwD2BPpOG2gJnTJlGt8/G4umY3ouTzZJ3sqMsnolV8vZqy7HJR0c73JX61c0YkAWsjHIBd4fld5jQM0IqocWSrFBkJSZ/T9Z+EXVkmPUnUfC5+Ct7dAfagupITbWPV0FL6MsZ42eipN2KjWOf7lOAQ1eSGokO/lXndr/FUjNHQfeeQQFdGUvJepwlWUWg3y2ZZz2efBnDgxkw6dcAomN1wp8kn2XKuA852kCxKs86Em7FqHJOHux+E2+Pc4OdY1fD7HDtrjc++a/G4SYfxNqL0XXqxd1WzETn1eyHvcRynY5Pw9tkcf6vM6bwD3rwLql2nSVR+l5MO584ZBXMSte8121hV7jvX50bp8/IKrSg5ZkIYr9qsXvZ+GaJ81agYk5kV3eo7i3wmnZr8f4aIbbLsPx3vAAAAAElFTkSuQmCC\"","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// React\nimport React from \"react\";\n\n// Components\nimport Loader from \"calcite-react/Loader\";\nimport background from \"../styles/images/Topo-Abs-BG.svg\";\nimport logo from \"../styles/images/quiet-professionals-logo.png\";\n\n// Styled & Motion Components\nimport styled from \"styled-components\";\nimport { CalciteH5 } from \"calcite-react/Elements\";\nimport { motion } from \"framer-motion\";\n\n\nconst Container = styled.div`\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  background: rgba(255, 255, 255, 0.1) url(${background}) no-repeat center/cover;\n  background-blend-mode: screen;\n`;\n\nconst Wrapper = styled.div`\n  position: absolute;\n  top: 70%;\n  left: 50%;\n  transform: translate(-50%);\n`;\n\nconst Title = styled.div`\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  z-index: 20;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 2em;\n  text-align: center;\n  color: white;\n`;\n\n// const Label = styled.h1`\n//   font-size: 2em;\n//   text-shadow: -2px 2px 8px rgba(0, 0, 0, 0.25);\n// `;\n\nconst Logo = styled.img`\n  width: 8em;\n  height: 100%;\n  margin-right: 1em;\n`;\n\nconst FadingContainer = () => (\n  <motion.div\n    initial={{ opacity: 1, zIndex: 1000 }}\n    animate={{\n      opacity: 0,\n      transitionEnd: {\n        display: \"none\"\n      }\n    }}\n    transition={{ delay: 1, duration: 1, ease: \"easeInOut\" }}\n  >\n    <Container></Container>\n  </motion.div>\n);\n\nconst LoadScreen = props => {\n  if (!props.isLoading) {\n    return (\n      <Container>\n        <Wrapper>\n          <Loader />\n        </Wrapper>\n        <Title>\n          <Logo src={logo}></Logo>\n          {/* <Label>AMPD</Label> */}\n          <CalciteH5>Anonymized Mobile Phone Data</CalciteH5>\n        </Title>\n      </Container>\n    );\n  }\n\n  return <FadingContainer />;\n};\n\nexport default LoadScreen;\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n/**\n * This is an example component used to showcase authentication\n * @type {Class}\n */\n\n// React\nimport React from \"react\";\n\n// Components\nimport TopNavActionsList from \"calcite-react/TopNav/TopNavActionsList\";\nimport ArcgisAccount from \"calcite-react/ArcgisAccount\";\nimport ArcgisAccountMenuItem from \"calcite-react/ArcgisAccount/ArcgisAccountMenuItem\";\nimport Button from \"calcite-react/Button\";\n\n// Class\nconst UserAccount = props => {\n  const signedInActionsComponent = props.user ? (\n    <TopNavActionsList style={{ padding: 0 }}>\n      <ArcgisAccount\n        user={props.user}\n        portal={props.portal}\n        token={props.token}\n        onRequestSwitchAccount={() => console.log(\"switch account clicked\")}\n        onRequestSignOut={props.signOut}>\n        <ArcgisAccountMenuItem onClick={() => console.log(\"Profile & Settings clicked\")}>\n          Profile &amp; Settings\n        </ArcgisAccountMenuItem>\n        <ArcgisAccountMenuItem onClick={() => console.log(\"My Esri clicked\")}>\n          My Esri\n        </ArcgisAccountMenuItem>\n        <ArcgisAccountMenuItem onClick={() => console.log(\"Training clicked\")}>\n          Training\n        </ArcgisAccountMenuItem>\n        <ArcgisAccountMenuItem onClick={() => console.log(\"Community & Forums clicked\")}>\n          Community &amp; Forums\n        </ArcgisAccountMenuItem>\n        <ArcgisAccountMenuItem onClick={() => console.log(\"ArcGIS Online clicked\")}>\n          ArcGIS Online\n        </ArcgisAccountMenuItem>\n      </ArcgisAccount>\n    </TopNavActionsList>\n  ) : null;\n\n  const signedOutActionsComponent = (\n    <TopNavActionsList>\n      <Button clear onClick={props.signIn}>\n        Sign In\n      </Button>\n    </TopNavActionsList>\n  );\n\n  let outputComponent = props.loggedIn\n    ? signedInActionsComponent\n    : signedOutActionsComponent;\n\n  return <div>{outputComponent}</div>;\n};\n\nexport default UserAccount;\n","//#region [copyright]\n// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n//#endregion\n\n//#region [imports]\n// Polyfills\n// import \"@babel/polyfill\";\n\n// React\nimport React, { useContext } from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// React Router\nimport { BrowserRouter, Route } from \"react-router-dom\";\n\n// Redux\nimport { Provider } from \"react-redux\";\nimport { initStore } from \"./redux/store\";\n\n// Components\nimport { homepage } from \"../package.json\";\nimport App from \"./components/App\";\n\n// Styles\nimport \"@arcgis/core/assets/esri/themes/light-blue/main.css\";\nimport CalciteThemeProvider from \"calcite-react/CalciteThemeProvider\";\nimport \"./styles/fonts.css\";\nimport { GlobalStyle } from \"./styles/global\";\n//#endregion\n\n// reportWebVitals(console.log);\n\n/*/ -------------------------------------------------------------- ->\n *  ┌──────────────────────────────────────┐\n *  │ |> Homepage / Entry Point Settings   │\n *  └──────────────────────────────────────┘\n *  !! App runs at the root locally, but under /{homepage} in prod\n *  !! /{homepage} can be adjusted in `../package.json`\n * \n/*/\nlet basename;\nprocess.env.NODE_ENV !== \"production\" ? (basename = \"/\") : (basename = homepage);\n\n// Create Redux Store\nexport const store = initStore();\n\n// App Entry Point\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter basename={basename}>\n      <CalciteThemeProvider>\n        <GlobalStyle />\n        <Route path=\"/\" component={App} />\n      </CalciteThemeProvider>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","/*/\n *  ┌───────────────────────────────────┐\n *  │ |> Scalable Calculate Utility     │\n *  └───────────────────────────────────┘\n/*/\n// React\nimport React, { Component } from 'react';\n\n// Esri\nimport { geodesicUtils, geodesicLengths } from \"@arcgis/core/geometry/support/geodesicUtils\";\nimport { Point, Polyline } from '@arcgis/core/geometry';\nimport { webMercatorToGeographic } from '@arcgis/core/geometry/support/webMercatorUtils';\n// import { json } from 'body-parser';\n\n\nconst Calculate = props => {\n\n  /**-------------------------------------------------------------\n   *  distance()\n   *  ~~Compute geodetic distance and direction between two points\n   *  @param locations :Object{}\n   *  @return distance :Number\n  */\n  // TODO: Component cleanup\n  // NOTE: Leverage the `geodesicAreas()` method when / if the time comes\n\n}\n\nexport const calcDistance = props => {\n\n  console.log('Locations: ', props);\n\n  const locations = props;\n  const { locationA, locationB } = locations;\n\n  // const pointFrom = new Point({ \"x\": locationA.x, \"y\": locationA.y });\n  // const pointTo = new Point({ \"x\": locationB.x, \"y\": locationB.y })\n  \n  let polyline = new Polyline({\n    \"paths\": [[\n      [locationA.x, locationA.y],\n      [locationB.x, locationB.y]\n    ]]\n  });\n  console.log(JSON.stringify(polyline));\n  polyline = new Polyline(polyline);\n  console.log(JSON.stringify(polyline));\n  polyline = webMercatorToGeographic(polyline);\n  console.log(JSON.stringify(polyline));\n  \n  let polylineLength = geodesicLengths([polyline], \"meters\");\n\n  // const polylineLength = geodesicLengths([polyline], \"meters\")\n  //   .then((res) => {\n  //     // response is a polygon geometry of a 1000ft buffer around the input point\n  //     console.log('Polyline Length: ', res);\n  //     return res;    \n  //   });\n\n  console.log('Polyline Length: ', polylineLength[0]);\n\n  if (polylineLength >= 2500) polylineLength = 2500;\n  //output 99.93917832865446\n  //process.env.REACT_APP_DEFAULT_UNITS_OF_LENGTH\n\n  // Geodetic `distance` computation\n  // const join = geodesicLengths(latLongFrom, latLongTo, \"meters\");\n  // console.log(\"Points: \", join);\n\n  // Destructure `join` object to access distance \n  // const { distance, azimuth } = join;\n  // console.log('Distance: ', distance, ', Direction: ', azimuth);\n\n  return polylineLength[0];\n}\n\n/**-------------------------------------------------------------\n *  radius()\n *  ~~Compute geodetic radius from two points\n *  @param   locations :Array[{}]\n *  @extends Calculate.distance()\n *  @return  distance :Number\n*/\nexport const calcRadius = props => {\n\n  const distance = calcDistance(props);\n  const radius = distance * 2;\n\n  console.log('Radius: ', radius);\n\n  return radius;\n}\n\n// export default Calculate;\n// export { calcDistance, calcRadius }","/*/\n  *  ┌────────────────────────────────────────┐\n  *  │ |> Date Range Component - Area Query   │\n  *  └────────────────────────────────────────┘\n/*/\n// React\nimport React, { Component } from 'react';\n\n// React / Redux\nimport { connect } from 'react-redux';\n\n// Calcite\nimport DatePicker from 'react-datepicker';\n// import DatePicker, { DateRangePicker } from 'calcite-react/DatePicker';\nimport Button, { ButtonGroup } from 'calcite-react/Button';\n// import Form, { Field, FormControl, FormControlLabel, FormHelperText } from 'calcite-react/Form';\n\nimport \"react-datepicker/dist/react-datepicker.css\";\n// import * as actions from '../../../redux/actions/area-query-actions';\n// import 'bootstrap/dist/css/bootstrap.min.css';\nimport areaQuery, {\n  addToStoreAction,\n  sendAreaQueryAction\n} from \"../../../redux/reducers/area-query\";\nimport { dateToIsoString } from '../../../utils/format';\n\n// TODO: Install `date-fns` package and leverage features for date-range\n// import addDays from 'date-fns/addDays'\n\nclass DateRangeComponent extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      startDate: null,\n      endDate: null\n    };\n    \n    this.handleStartDateChange = this.handleStartDateChange.bind(this);\n    this.handleEndDateChange = this.handleEndDateChange.bind(this);\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n  }\n  \n  shouldComponentUpdate() {\n    console.log('DateRange <Child> Component - shouldComponentUpdate()<lifecycle>');\n    return true;\n  }\n\n  componentDidMount() {\n    console.log('Component Did Load');\n    const today = new Date(Date.now());\n    // Start date defaults to seven (7) days\n    this.setState({ \n      startDate: today.setDate(today.getDate() - 7),\n      endDate: today.setDate(today.getDate())\n    })\n\n    console.log('props:', this.props);\n    console.log('State', this.state);\n  }\n\n  // TODO: Pending Deletion?\n  handleStartDateChange(date) {\n    const tempStartDateObj = new Date(date);\n    const startDateIsoString = dateToIsoString(tempStartDateObj);\n\n    // console.group('Start Date:>');\n    // console.log('Date Param: ', tempStartDateObj);\n    // console.log('Temp Date: ', startDateIsoString);\n    // console.groupEnd();\n\n    this.props.addToStoreCreator({ startDate: startDateIsoString });\n    // this.props.dispatch({ type: 'ADD_TO_STORE', payload: { startDate: startDateIsoString } });\n\n    // return tempStartDateObj;\n  }\n  // TODO: Pending Deletion?\n  handleEndDateChange(date) {\n    const tempEndDateObj = new Date(date);\n    const endDateIsoString = dateToIsoString(tempEndDateObj);\n\n    // console.group('End Date:>');\n    // console.log('Date Param: ', tempEndDateObj);\n    // console.log('Temp Date: ', endDateIsoString);\n    // console.groupEnd();\n    \n    this.props.addToStoreCreator({ endDate: endDateIsoString });\n    // this.props.dispatch({ type: 'ADD_TO_STORE', payload: { endDate: endDateIsoString } });\n  }\n  //#region [qp]\n  //_On submit will open a stargate to a dimension that contains 'dots on map'!\n  onFormSubmit(event) {\n    event.preventDefault();\n\n    console.group('Date Range:>');\n    console.log(this.props.startDate);\n    console.log(this.props.endDate);\n    console.groupEnd();\n\n    const tokenizedPayload = { ...this.props.areaQuery, ...this.props.securityToken }\n\n    console.log('Payload:', tokenizedPayload);\n\n    const areaQueryData = this.props.sendAreaQueryCreator(tokenizedPayload);\n\n    return areaQueryData;\n  }\n  //#endregion\n\n  render() {\n    return (\n      <form onSubmit={this.onFormSubmit}>\n        <div className=\"form-group\">\n          <label>Start Date: </label>\n          <DatePicker\n            id=\"startDatePicker\"\n            label=\"Start Date\"\n            // dropdownMode={\"scroll\"}\n            selected={this.props.startDate}\n            onChange={this.handleStartDateChange}\n            onSelect={(date) => this.props.handleStartQuery(date)}\n            name=\"startDate\"\n            dateFormat=\"MM/dd/yyyy\"\n            startDate={this.props.startDate}\n            maxDate={Date.now()}\n            minDate={new Date('16 Jun 2017 00:00:00 GMT')}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>End Date: </label>\n          <DatePicker\n            id=\"endDatePicker\"\n            label=\"End Date\"\n            // dropdownMode={\"scroll\"}\n            selected={this.props.endDate}\n            onChange={this.handleEndDateChange}\n            onSelect={(date) => this.props.handleEndQuery(date)}\n            name=\"endDate\"\n            dateFormat=\"MM/dd/yyyy\"\n            endDate={this.props.endDate}\n            maxDate={Date.now()}\n            minDate={new Date('16 Jun 2017 00:00:00 GMT')}\n          />\n        </div>\n        <Button className=\"btn btn-primary\" type=\"submit\">Submit</Button>\n      </form>\n    );\n  }\n}\n\nconst mapStateToProps = state => {  // store.getState();\n  console.log('state: ', state.areaQuery);\n  return {\n    // startDate: state.areaQuery.startDate,\n    // endDate: state.areaQuery.endDate,\n    // latitude: state.areaQuery.latitude,\n    // longitude: state.areaQuery.longitude,\n    // radius: state.areaQuery.radius,\n    // status: state.areaQuery.status,\n    // locationData: state.areaQuery.locationData\n    areaQuery: state.areaQuery,\n    securityToken: state.securityToken\n  }\n};\n\n// ACTION CREATORS\nconst addToStoreCreator = (options) => ({ type: 'ADD_TO_STORE', payload: options });\nconst sendAreaQueryCreator = (options) => ({ type: 'SEND_AREA_QUERY', payload: options });\n\nconst actionCreators = {\n  addToStoreCreator,\n  sendAreaQueryCreator\n}\n\nexport default connect(\n  mapStateToProps, \n  actionCreators\n)(DateRangeComponent);\n","// #region [copyright]\n// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n//#endregion\n\n// #region [notes]\n// NOTE:\n// -- This is a \"special\" react component that does not strictly play by\n// -- React's rules.\n// --\n// -- Conceptually, this component creates a \"portal\" in React by\n// -- closing its render method off from updates (by simply rendering a div and\n// -- never accepting re-renders) then reconnecting itself to the React lifecycle\n// -- by listening for any new props (using componentWillReceiveProps)\n// --\n// --------------------------------------------------------------------------------\n//#endregion\n\n// #region [imports]\n// React\nimport React, { useEffect, useState } from \"react\";\nimport ReactDOM, { render } from \"react-dom\";\n\n// Redux\nimport { connect, useSelector, useDispatch } from \"react-redux\";\nimport { refIdQuery } from \"../../../redux/reducers/refid-query\";\nimport areaQuery, { \n  addToStoreAction, \n  sendAreaQuery, \n  areaQueryDone, \n  areaQueryPuts \n} from \"../../../redux/reducers/area-query\";\nimport * as types from \"../../../redux/types/area-types\";\n// import { createSelector } from 'reselect';\n// import { updateConfig } from \"../../../redux/reducers/config\";\n\n// Esri\nimport { loadModules } from \"esri-loader\";\nimport BasemapGallery from \"@arcgis/core/widgets/BasemapGallery\";\nimport DatePicker from \"@arcgis/core/widgets/support/DatePicker\"; \nimport CoordinateConversion from \"@arcgis/core/widgets/CoordinateConversion\";\nimport { Geometry } from \"@arcgis/core/geometry\";\nimport { distance, geometryEngine } from \"@arcgis/core/geometry/geometryEngine\";\nimport { coordinateFormatter, toLatitudeLongitude } from \"@arcgis/core/geometry/coordinateFormatter\";\nimport Graphic from \"@arcgis/core/Graphic\";\nimport GraphicsLayer from \"@arcgis/core/layers/GraphicsLayer\";\n// import DateTimePickerInput from \"@arcgis/core/form/elements/inputs/DateTimePickerInput\";\n\n// Calcite / Styles\nimport Button, { ButtonGroup } from 'calcite-react/Button';\n\n// QP\nimport { loadMap } from \"../../../utils/map\";\nimport { calcDistance } from \"../../../utils/calculate\";\nimport { dateToIsoString } from '../../../utils/format';\nimport DateRangeComponent from \"../widgets/DateRange\";\nimport FeatureLayerBuilder from \"../layers/FeatureLayerBuilder\";\n// import DateRangeExpandClass from \"../../esri/widgets/DateRangeExpandClass\";\n// import DateRangeExpandWidget from \"../../esri/widgets/DateRangeExpandWidget\";\n// import PointGraphicBuilder from \"../layers/PointGraphicBuilder\";\n// #endregion\n\n// #region [styles]\nimport styled from \"styled-components\";\n// import { areaQueryPushSaga } from \"../../../redux/actions/area-query-actions\";\n// import { areaQueryRequest } from \"../../../redux/sagas/requests/area-query\";\n// import { json } from \"body-parser\";\n// import { query } from \"express\";\n\nconst Container = styled.div`\n  height: 100%;\n  width: 100%;\n`;\n\nconst DateRangeContainer = styled.div`\n  min-height: 10vh;\n  width: 12vw;\n  padding: 10px;\n`;\n\nconst StartDateRangeContainer = styled.div`\n  min-height: 10vh;\n  width: 12vw;\n`;\n\nconst EndDateRangeContainer = styled.div`\n  min-height: 10vh;\n  width: 12vw;\n`;\n// #endregion\n\n/*/\n  *  ┌─────────────────────┐\n  *  │ |> Map Component    │\n  *  └─────────────────────┘\n/*/\n//#region [component]\nconst Map = props => {\n\n  // Set `id` for the map to attach to\n  // const geoData = useSelector(state => state.geojsonLayer);\n\n  // const [areaQuery, setAreaQuery] = useState({\n  //   startDate: '',\n  //   endDate: '',\n  //   latitude: 0,\n  //   longitude: 0,\n  //   radius: 10,\n  //   status: \"idle\" // [\"idle\", \"loading\", \"success\", \"error\" ]\n  // });\n\n  // Aliases\n  const containerId = \"mapViewContainer\";\n  const dateRangeId = \"dateRangeContainer\";\n  const startDateRangeId = \"startDateRangeContainer\";\n  const endDateRangeId = \"endDateRangeContainer\";\n\n  // Redux store state\n  const dispatch = useDispatch();\n  const securityToken = useSelector(state => state.securityToken);\n  const { TempSecurityToken: tempSecurityToken } = securityToken;\n  const refIdQuery = useSelector(state => state.refIdQuery);\n  const areaQueryState = useSelector(state => state.areaQuery);\n  const isAreaQueryDataLoaded = useSelector(state => state.areaQuery.status);\n\n  /*/\n    *  ┌─────────────────────────────┐\n    *  │ |> Local & Global States    │\n    *  └─────────────────────────────┘\n  /*/\n  // DatePicker\n  const [startDate, setStartDate] = useState(0);\n  const [endDate, setEndDate] = useState(0);\n  const [baseMapState, setBaseMapState] = useState({});\n  const [mapViewState, setMapViewState] = useState({});\n\n  // const { latitude, longitude, radius } = areaQueryState;\n\n  let baseMap = baseMapState;\n  let mapView = mapViewState;\n\n  let sketchViewModel,\n    instructionsExpand,\n    boundaryPolygon,\n    validSymbol,\n    invalidSymbol,\n    buffers,\n    newDevelopmentGraphic\n\n  let intersects = false;\n  let contains = true;\n\n  let graphicsLayerBaseMap,\n    graphicsLayerGeofence,\n    graphicsLayerSignals\n\n  //--GraphicsLayer Color Overrides\n  // Fills\n  const polyFill = [116, 150, 179, 0.20];\n  const pointFill = [0, 96, 175];\n\n  // Strokes\n  const polygonStroke = {\n    color: [0, 96, 175],\n    width: 2\n  };\n\n  const pointStroke = {\n    color: [3, 17, 30],\n    width: 1\n  };\n\n  /*/\n    *  ┌───────────────────────────────┐\n    *  │ |> Default Area Query Dates   │\n    *  └───────────────────────────────┘\n  /*/\n  useEffect(() => {\n    const today = new Date(Date.now());\n    console.log('Default State: ', today);\n    const sDate = today.setDate(today.getDate() - 7);\n    const eDate = today.setDate(today.getDate());\n    const sDateIso = dateToIsoString(new Date(sDate));\n    const eDateIso = dateToIsoString(new Date(eDate));\n\n    // Add local state\n    setStartDate(sDate); \n    setEndDate(eDate);\n\n    // Add to Redux store\n    dispatch({ type: types.ADD_TO_STORE, payload: { startDate: sDateIso } });\n    dispatch({ type: types.ADD_TO_STORE, payload: { endDate: eDateIso } });\n\n  },[]);\n\n  /*/\n    *  ┌─────────────────────────────────┐\n    *  │ |> Esri-Loader - Load Modules   │\n    *  └─────────────────────────────────┘\n  /*/\n  useEffect(() => {\n    loadMap(containerId, props.mapConfig, props.loaderConfig)\n      .then(res => {\n        // Call the map loaded event when we get the map view back\n        // props.onMapLoaded();\n        console.log('LoadMap: ', res);\n        // console.log('Props: ', props);\n        // console.log('window.dojo: ', window.dojoConfig);\n\n        // TODO: Leverage the ES Module `import` feature in ArcGIS API v4.18\n        loadModules([\n          // \"esri/form/elements/inputs/DateTimePickerInput\",\n          \"esri/geometry/geometryEngine\",\n          \"esri/Map\",\n          \"esri/widgets/Expand\",\n          \"esri/widgets/LayerList\",\n          \"esri/widgets/ScaleBar\",\n          \"esri/widgets/Search\",\n          \"esri/widgets/Sketch\",\n          \"esri/widgets/Sketch/SketchViewModel\",\n          \"esri/views/MapView\"], props.loaderConfig)\n          .then(([\n            geometryEngine,\n            Map,\n            Expand,\n            LayerList,\n            ScaleBar,\n            Search,\n            Sketch,\n            SketchViewModel,\n            MapView]) => {\n\n            graphicsLayerBaseMap = new GraphicsLayer({\n              title: \"Basemap\"\n            });\n            // Basemap\n            baseMap = new Map({\n              basemap: \"gray-vector\",\n              layers: [graphicsLayerBaseMap]\n            });\n            // Mapview\n            mapView = new MapView({\n              // let mapView = res;  \n              // res = {\n              container: \"mapViewContainer\",\n              map: baseMap,\n              extent: {\n                spatialReference: {\n                  wkid: 102100\n                },\n                xmin: -9177882,\n                ymin: 4246761,\n                xmax: -9176720,\n                ymax: 4247967\n              },\n              popup: {\n                dockEnabled: true,\n                dockOptions: {\n                  position: \"bottom\",\n                  breakpoint: false\n                }\n              },\n              ...props.mapConfig\n            });\n\n            // mapView.extent = new Extent({\n            //   xmin: -9177882,\n            //   ymin: 4246761,\n            //   xmax: -9176720,\n            //   ymax: 4247967,\n            //   spatialReference: {\n            //     wkid: 102100\n            //   }\n            // });\n\n            // setMapState(baseMap);\n            // setViewState(mapView);\n            // Add baseMap & mapView to Loal State\n            setBaseMapState(baseMap);\n            setMapViewState(mapView);\n\n            /*/\n             *  ┌─────────────────────────────┐\n             *  │ |> Widgets / Query Tools    │\n             *  └─────────────────────────────┘\n            /*/\n            // TODO: Determine LoE to move all widgets into\n            let dateObj = new Date();\n            // --Basemaps\n            // const basemapGallery = new BasemapGallery({\n            //   view: mapView,\n            //   container: document.createElement(\"div\")\n            // });\n            // --Date Range\n            // const dateRangeWidget = new DateTimePickerInput({\n            //   includeTime: true,\n            //   min: Date.parse('01 Jan 2018 00:01:00 GMT'),\n            //   max: dateObj.setDate(-1)\n            // });\n            // --Date Range Expand\n            // const dateRangeExpand = new ExpandWidget({\n            //   view: mapView,\n            //   content: \"Testing\"\n            // });\n            // const coordsConverter = new CoordinateConversion({\n            //   view: mapView\n            // });\n            // --DatePicker\n            // const startDatePicker = new DatePicker({\n            //   container: dateRangeId,\n            //   view: mapView\n            // });\n            // const endDatePicker = new DatePicker({\n            //   container: dateRangeId,\n            //   view: mapView\n            // });\n            // --LayerList\n            const layerList = new LayerList({\n              view: mapView\n            });\n            // --Search Tool\n            const search = new Search({\n              view: mapView\n            });\n            // --Scale Bar\n            const scaleBar = new ScaleBar({\n              view: mapView,\n              unit: \"dual\"\n            });\n\n            // const getJsonData = buildFeatureLayer(baseMap, mapView);\n\n            // Add Sketch widget to mapView\n            // mapView.ui.add([{\n            //   component: basemapGallery,\n            //   position: \"bottom-left\",\n            //   index: 0\n            // }]);\n            // mapView.ui.add([{\n            //   component: coordsConverter,\n            //   position: \"top-left\",\n            //   index: 0\n            // }]);\n            mapView.ui.add(dateRangeId, \"top-right\");\n            mapView.ui.add([{\n              component: search,\n              position: \"top-right\",\n              index: 0\n            }]);\n            // mapView.ui.add([{\n            //   component: startDatePicker,\n            //   position: \"top-right\",\n            //   index: 1\n            // }]);\n            // mapView.ui.add([{\n            //   component: endDatePicker,\n            //   position: \"top-right\",\n            //   index: 2\n            // }]);\n            mapView.ui.add([{\n              component: layerList,\n              position: \"bottom-right\"\n            }]);\n\n            // mapView.ui.add([{\n            //   component: dateRangeWidget,\n            //   position: \"top-right\",\n            //   index: 0\n            // }]);\n            mapView.ui.add([{\n              component: scaleBar,\n              position: \"bottom-left\",\n              index: 0\n            }]);\n\n            //--- Mount view \"when\" loaded ---|>\n            mapView.when(() => {\n              // Query all buffer features from the school buffers featurelayer\n              // bufferLayer.queryFeatures().then(function (results) {\n              //   buffers = results.features[0].geometry;\n              // });\n\n              // Add the boundary polygon and new lot polygon graphics\n              //// addGraphics();\n\n              // Create a new instance of sketchViewModel\n              sketchViewModel = new SketchViewModel({\n                view: mapView,\n                layer: graphicsLayerGeofence,\n                updateOnGraphicClick: false,\n                defaultUpdateOptions: {\n                  // set the default options for the update operations\n                  toggleToolOnClick: false // only reshape operation will be enabled\n                }\n              });\n\n              // TODO: Move back to its Component when possible `useRef()`\n              const sketch = new Sketch({\n                id: \"ampdSketchWidget\",\n                availableCreateTools: [\"point\", \"circle\"],\n                // layout: \"vertical\",\n                layout: \"horizontal\",\n                layer: graphicsLayerGeofence,\n                view: mapView,\n                // Graphic will be selected as soon as it is created\n                creationMode: \"update\"\n              });\n              // ##Geofences\n              // Override all default symbol colors and sizes\n              const pointSymbol = sketch.viewModel.pointSymbol;\n              pointSymbol.color = pointFill;\n              pointSymbol.outline = pointStroke;\n              pointSymbol.size = 8;\n\n              const polylineSymbol = sketch.viewModel.polylineSymbol;\n              polylineSymbol.color = polygonStroke.color;\n              polylineSymbol.width = polygonStroke.width;\n\n              const polygonSymbol = sketch.viewModel.polygonSymbol;\n              polygonSymbol.color = polyFill;\n              polygonSymbol.outline = polygonStroke;\n\n              mapView.ui.add([{\n                component: sketch,\n                position: \"bottom-right\"\n              }]);\n\n              // Listen to sketchViewModel's update event to do\n              // graphic reshape or move validation\n              sketchViewModel.on([\"update\", \"undo\", \"redo\"], onGraphicUpdate);\n              sketch.on([\"create\", \"complete\"], onGraphicCreate);\n\n            });\n\n            const onGraphicCreate = event => {\n              // get graphic as it is being created\n              const graphic = event.graphic;\n\n              if (event.state === \"start\" && event.tool === \"circle\") {\n                console.log(\"Sketch Tool - Start / Circle: \", event);\n              }\n\n              if (event.state === \"complete\" && event.tool === \"circle\") {\n                console.log(\"Sketch Tool - Complete / Circle: \", event);\n                // TODO: Simplify code by using object destructuring\n                // Use X : Y Coordinates to find the graphical center and ring points\n                const pointCoordinateX = graphic.geometry.centroid.x;\n                const pointCoordinateY = graphic.geometry.centroid.y;\n                const ringCoordinateX = graphic.geometry.rings[0][0][0];\n                const ringCoordinateY = graphic.geometry.rings[0][0][1];\n\n                const locationA = {\n                  \"x\": pointCoordinateX,\n                  \"y\": pointCoordinateY\n                }\n                const locationB = {\n                  \"x\": ringCoordinateX,\n                  \"y\": ringCoordinateY\n                }\n                const locations = { locationA, locationB }\n\n                // Compute above coordinates to get geo-fense radius \n                const circleRadius = calcDistance(locations);\n                console.log('Circle Radius: ', circleRadius);\n\n                const payloadToPush = {\n                  latitude: graphic.geometry.centroid.latitude,\n                  longitude: graphic.geometry.centroid.longitude,\n                  radius: circleRadius\n                }\n\n                // Update Redux State\n                dispatch(addToStoreAction(payloadToPush));\n                // dispatch({ type: 'ADD_TO_STORE', payload: payloadToPush });\n              }\n\n              if (event.state === \"update\" && event.tool === \"circle\") {\n                console.log(\"Sketch Tool - Update / Circle: \", event);\n                // TODO: Determine if '_PUSH' needs to be dispatched on update\n              }\n\n            }\n\n            const onGraphicUpdate = event => {\n              // get graphic as it is being updated\n              const graphic = event.graphics[0];\n              console.log(\"Sketch Tool - Update: \", event);\n\n              // check if the graphic is intersecting with any other item(s)\n              // still contained by the boundary polygon as the graphic is being updated\n              // intersects = geometryEngine.intersects(buffers, graphic.geometry);\n              contains = geometryEngine.contains(boundaryPolygon, graphic.geometry);\n\n              // change the graphic symbol to valid or invalid symbol\n              // depending the graphic location\n              graphic.symbol = (intersects) ? invalidSymbol : validSymbol\n\n              // check if the update event's the toolEventInfo.type is move-stop or reshape-stop\n              // then it means user finished moving or reshaping the graphic, call complete method.\n              // this will change update event state to complete and we will check the validity of the graphic location.\n              if (\n                event.toolEventInfo &&\n                (event.toolEventInfo.type === \"move-stop\" ||\n                  event.toolEventInfo.type === \"reshape-stop\")\n              ) {\n                console.log(\"On Stop / Reshape: \", graphic);\n                if (contains && !intersects) {\n                  console.log(\"On Reshape / Complete: \", graphic);\n                  sketchViewModel.complete();\n                }\n              } else if (event.state === \"complete\") {\n                console.log(\"On Complete: \", graphic);\n                sketchViewModel.complete();\n                logGeometry(graphic.geometry);\n\n                // graphic moving or reshaping has been completed or cancelled (distinguish with aborted property)\n                // if the graphic is in an illegal spot, call sketchviewmodel's update method again\n                // giving user a chance to correct the location of the graphic\n                if (!contains || intersects) {\n                  console.log(\"On Reshape: \", graphic);\n                  sketchViewModel.update([graphic], { tool: \"reshape\" });\n                  logGeometry(graphic.geometry);\n                }\n              }\n            }\n\n            // This function is called when a user clicks on the view.\n            const setUpGraphicClickHandler = () => {\n              mapView.on(\"click\", function (event) {\n                // check if the sketch's state active if it is then that means\n                // the graphic is already being updated, no action required.\n                if (sketchViewModel.state === \"active\") {\n                  return;\n                }\n                mapView.hitTest(event).then((response) => {\n                  var results = response.results;\n                  console.log(\"HitTest Results: \", results);\n                  // Check if the new development graphic was clicked and pass\n                  // the graphic to sketchViewModel.update() with reshape tool.\n                  results.forEach(result => {\n                    if (\n                      result.graphic.layer === sketchViewModel.layer &&\n                      result.graphic.attributes &&\n                      result.graphic.attributes.newDevelopment\n                    ) {\n                      console.log('sketchViewModel graphic updated', result);\n                      sketchViewModel.update([result.graphic], { tool: \"reshape\" });\n                    }\n                    else {\n                      console.log('sketchViewModel: No graphic clicked and passed in', result);\n                    }\n\n                  });\n\n                });\n\n              });\n\n            }\n\n            graphicsLayerGeofence = new GraphicsLayer({ title: \"Geofences\" });\n            baseMap.layers.add(graphicsLayerGeofence);\n\n            //#region [qp] \n            // Ad-Hoc GraphicsLayer Point - QP\n            const qpPoint = {\n              type: \"point\",\n              longitude: -82.568518,\n              latitude: 27.964489\n            };\n            \n            // Create a symbol for drawing the point\n            const markerSymbol = {\n              type: \"simple-marker\", // new SimpleMarkerSymbol()\n              color: pointFill,\n              outline: {\n                // new SimpleLineSymbol()\n                color: [3, 17, 30],\n                width: 1\n              }\n            };\n            \n            //--- Static Graphics ---|>                    \n            // Create a graphic and add the geometry and symbol to it\n            const pointGraphic = new Graphic({\n              geometry: qpPoint,\n              symbol: markerSymbol\n            });\n            // TODO: Continue from here...\n            // Add graphics to mapView\n            // mapView.baseMap.add(pointGraphic);\n            \n            // GeoJSON data\n            const template = {\n              title: \"Device Info\",\n              content: \"Latitude: {latitude} Longitude: {longitude}\",\n              fieldInfos: [\n                {\n                  fieldName: \"timestamp\",\n                  format: {\n                    dateFormat: \"short-date-short-time\"\n                  }\n                }\n              ]\n            };\n            \n            // Render data\n            const renderer = {\n              type: \"simple\",\n              field: \"mag\",\n              symbol: {\n                type: \"simple-marker\",\n                color: \"lime\",\n                outline: {\n                  color: \"white\"\n                }\n              }\n            };\n            //#endregion\n            \n            /*/\n             *  ┌────────────────────────────────────────┐\n             *  │ |> Event Listeners for Sketch Tools    │\n             *  └────────────────────────────────────────┘\n            /*/\n            \n            // Logging geoFence data via `SketchViewModel` + `eventListener` working in tandem\n            function logGeometry(geometry) {\n              if (geometry.type === \"point\") {\n                // new at 4.6, the compiler knows the geometry is a Point instance\n                console.log(\"point coords: \", geometry.x, geometry.y, geometry.z);\n              }\n              else {\n                // the compiler knows the geometry must be a `Extent | Polygon | Multipoint | Polyline`\n                console.log(\"The value is a geometry, but isn't a point.\");\n              }\n            }\n\n            // setUpExpandWidget();\n\n            // TODO: Move function into a button click event\n            // queryDevices(resJsonData, baseMap, mapView);\n\n            // const geoDataBlob = new Blob([JSON.stringify(props.geoJsonData)], { type: \"application/json\" });\n            // const geoDataUrl = URL.createObjectURL(geoDataBlob);\n            // const layer = new GeoJSONLayer({ url });\n\n            // const geoDataUrl = config.geoJsonData;\n\n            // const geojsonLayer = new GeoJSONLayer({\n            //   url: geoDataUrl,\n            //   copyright: \"Anonymized Mobile Phone Data\",\n            //   popupTemplate: template,\n            //   renderer: renderer //optional\n            // });\n\n\n            // const geojsonLayer = new GeoJSONLayer({ data: config.geoJsonData });\n\n            // baseMap.layers.add(getJsonData);\n\n            // mapView.ui.add(geojsonLayer);\n\n          });\n\n        // return res;\n     });\n\n  },[]);\n\n  // const minDate = dateObj.getUTCMilliseconds();\n  // dateObj.setDate(-1);\n\n  // useEffect(() => {\n    // dispatch(locationDataSearch({ tempSecurityToken }));\n    // ReactDOM.render(<DateRangeWidget></DateRangeWidget>, document.getElementById(dateRangeId));\n    // ReactDOM.render(<StartDateRangeContainer></StartDateRangeContainer>, document.getElementById(dateRangeId));\n    // ReactDOM.render(<EndDateRangeContainer></EndDateRangeContainer>, document.getElementById(dateRangeId));\n    // Submit Query\n    // document.getElementById('dateRangeSubmitBtn')\n    //   .on('click', () => {\n    //     dispatch(areaQueryRequest({ tempSecurityToken, areaQuery })\n    //       .then(res => json(res))\n    //       .then(resJson => { pointGraphicBuilder(resJson) })\n    //     );\n    //   });\n  // }, []);\n\n  // const featureLayerBuilder = (resJson, baseMap, mapView) => {\n    \n  // }\n  const handleFeatureLayerBuild = (areaQueryState, baseMapState) => {\n    // TODO: Determine if this is a good location to init FLB\n    // const featureLayer = this.props.buildFeatureLayerCreator({ areaQueryState, baseMap, mapView });\n\n    const resDataArray = areaQueryState.locationData.areas;\n\n    console.log('resDataArray: ', resDataArray);\n\n    graphicsLayerSignals = new GraphicsLayer({ title: \"Data Points\" });\n    // console.log('Signals Layer Added', graphicsLayerSignals);\n\n    resDataArray.map((area, i) => {\n\n      resDataArray[i].registrationIDs.map((regID, j) => {\n\n        resDataArray[i].registrationIDs[j].signals.map((signal, k) => {\n\n          const lon = signal.latitude;\n          const lat = signal.longitude;\n          const regId = signal.registrationID;\n\n          // Create a Point\n          const point = {\n            type: \"point\",\n            longitude: lat,\n            latitude: lon\n          };\n\n          // #e8ff00|#97a41c|#3b434f|#3f69a2|#4a99ff\n          const colors = [\"#e8ff00\", \"#97a41c\", \"#3b434f\", \"#3f69a2\", \"#4a99ff\"];\n          const simpleMarkerSymbol = {\n            type: \"simple-marker\",\n            color: pointFill,\n            outline: {\n              color: pointStroke,\n              width: 1\n            }\n          };\n\n          const pointGraphic = new Graphic({\n            geometry: point,\n            symbol: simpleMarkerSymbol\n          });\n\n          // console.log('Ready to Add Point...');\n          graphicsLayerSignals.add(pointGraphic);\n \n        });\n\n      });\n      \n    });\n    baseMapState.layers.add(graphicsLayerSignals);\n    // return featureLayer;\n  }\n\n  const FeatureLayerBuilderComponent = (baseMapState) => {\n    return (<FeatureLayerBuilder baseMap={baseMapState, mapView} />)\n  }\n\n  // NOTE: Listen for set to go off\n  if (isAreaQueryDataLoaded == \"success\") {\n    console.log('Data Loaded: ', isAreaQueryDataLoaded);\n    handleFeatureLayerBuild(areaQueryState, baseMapState);\n    // FeatureLayerBuilderComponent(areaQueryState, baseMapState);\n  }\n\n  const queryStartHandler = (date) => {\n    // Update State\n    console.log('queryStartHandler: ', date);\n\n    const startDateParsed = Date.parse(date);\n    // const startIsoString = date.toISOString().slice(0, -5) + 'Z'\n    setStartDate(startDateParsed);\n  }\n\n  const queryEndHandler = (date) => {\n    // Update State\n    console.log('queryEndHandler: ', date);\n\n    const endDateParsed = Date.parse(date);\n    // const endIsoString = date.toISOString().slice(0, -5) + 'Z'\n    setEndDate(endDateParsed);\n  }\n\n  // Component template\n  return (\n    <React.Fragment>\n      <Container id={containerId}>\n        <DateRangeContainer id={dateRangeId} className={'esri-widget'}>\n          <DateRangeComponent \n            startDate={startDate} \n            endDate={endDate} \n            handleStartQuery={queryStartHandler} \n            handleEndQuery={queryEndHandler} \n          />\n        </DateRangeContainer>\n      </Container>\n    </React.Fragment> \n  )\n}\n//#endregion\n\n// const mapStateToProps = state => {  // store.getState();\n//   console.log('state: ', state.areaQuery);\n//   return {\n//     areaQuery: state.areaQuery,\n//     securityToken: state.securityToken\n//   };\n// };\n\n// ACTION CREATORS\n// const buildFeatureLayerCreator = (options) => ({ type: 'BUILD_FEATURE_LAYER', payload: options });\n\n// const actionCreators = { buildFeatureLayerCreator }\n\nexport default Map;\n// export default connect(null, mapDispatchToProps)(Map);\n// export default connect(\n//   null,\n//   actionCreators\n// )(Map);\n ","import { loadModules } from \"esri-loader\";\n\nexport function loadMap(element, mapConfig, loaderConfig) {\n  // TODO: Refactor by importing as ES Modules per ArcGIS JS API v4.18\n  // TODO: Refactor all Esri 'widget' constructors / instances to live here  \n  return loadModules([\"esri/Map\", \"esri/views/MapView\", \"esri/layers/GraphicsLayer\"], loaderConfig)\n    .then(([Map, MapView, GraphicsLayer]) => {\n            \n      const layer = new GraphicsLayer();\n\n      // Component or app was likely destroyed // TODO: Error handling needed\n      if (!element) return;\n\n      // Create the Map\n      const map = new Map(mapConfig);\n\n      // Show the map at the element\n      let view = new MapView({\n        map,\n        container: element,\n        layers: [layer],\n        ...mapConfig\n      });\n      \n      // Wait for the view to load // NOTE: may not need this?\n      return view.when(() => {\n        // Return a reference to the view\n        return view;\n      });\n  });\n}\n","//#region [copyright]\n// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n//#endregion\n\n//#region [imports]\n// React\nimport React, { Profiler, Suspense, useRef } from \"react\";\n// import { NavLink } from \"react-router-dom\";\n\n// Redux\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { mapLoaded } from \"../redux/reducers/map\";\nimport { startAuth, logout } from \"../redux/reducers/auth\";\n\n// Components\nimport Button from \"calcite-react/Button\";\nimport TopNav from \"calcite-react/TopNav\";\nimport TopNavBrand from \"calcite-react/TopNav/TopNavBrand\";\nimport TopNavTitle from \"calcite-react/TopNav/TopNavTitle\";\nimport TopNavList from \"calcite-react/TopNav/TopNavList\";\nimport TopNavLink from \"calcite-react/TopNav/TopNavLink\";\nimport SubNav from \"calcite-react/SubNav\";\nimport SubNavTitle from \"calcite-react/SubNav/SubNavList\";\nimport SubNavList from \"calcite-react/SubNav/SubNavList\";\nimport SubNavLink from \"calcite-react/SubNav/SubNavLink\";\n\nimport LoadScreen from \"./LoadScreen\";\nimport UserAccount from \"./UserAccount\";\nimport MapComponent from \"./esri/map/Map\";\n\n// import DateRangeWidget from \"./esri/widgets/DateRangeWidget\";\n// import DateRangeExpandWidget from \"./esri/widgets/DateRangeExpandWidget\";\nimport {\n  CalciteP,\n  CalciteA,\n  CalciteH1,\n  CalciteH2,\n  CalciteH3,\n  CalciteH4,\n  CalciteH5,\n  CalciteH6,\n  CalciteOl,\n  CalciteUl,\n  CalciteLi\n} from 'calcite-react/Elements'\n\n// TODO: Replace QP logo with SVG format\nimport logo from \"../styles/images/quiet-professionals-logo.png\";\n\n// Icons\nimport { DataIcon } from \"calcite-ui-icons-react/DataIcon\";\nimport { GraphScatterPlotIcon as AmpdIcon } from \"calcite-ui-icons-react/GraphScatterPlotIcon\";\nimport { GearIcon } from \"calcite-ui-icons-react/GearIcon\";\n\n// Styled Components\nimport styled from \"styled-components\";\nimport SubNavActions from \"calcite-react/SubNav/SubNavActions\";\n// import Devices from \"../utils/devices\";\n//#endregion\n\n//#region [styles]\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n`;\n\nconst MapWrapper = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  position: relative;\n  z-index: 0;\n  overflow: hidden;\n`;\n\nconst Logo = styled(TopNavBrand)`\n  justify-content: center;\n  & img {\n    height: 55px;\n  }\n`;\n\nconst Nav = styled(TopNav)`\n  && {\n    z-index: 5;\n  }\n`;\n\nconst NavList = styled(TopNavList)`\n  text-align: inherit;\n`;\n\nconst SubNavToolbar = styled(SubNav)`\n  height: 40px;\n  div { height: 40px; }\n`;\n//#endregion\n\n//#region [component]\nconst Main = props => {\n  const auth = useSelector(state => state.auth);\n  const config = useSelector(state => state.config);\n  const user = useSelector(state => state.auth.user);\n  const isMapLoaded = useSelector(state => state.map.loaded);\n  const elementRef = useRef();\n  const dispatch = useDispatch();\n\n  // Sign in button click event\n  const signIn = () => {\n    const { clientId, sessionId, popup } = config;\n    dispatch(\n      startAuth({\n        clientId,\n        sessionId,\n        popup,\n        signInRequest: true\n      })\n    );\n  }\n\n  // Sign out button click event\n  const signOut = () => {\n    dispatch(logout(config.sessionId));\n  }\n  // #region [utils] \n  // Performance Benchmarks\n  function callback(\n    id, \n    phase, \n    actualTime, \n    baseTime, \n    startTime, \n    commitTime) \n  {\n    console.dir(\n      \"id: \" + id,\n      \"phase:\" + phase,\n      \"actualTime:\" + actualTime,\n      \"baseTime: \" + baseTime,\n      \"startTime: \" + startTime,\n      \"commitTime: \" + commitTime\n    )\n  }\n  // #endregion\n  return (\n    <Container>\n      {/* // IDEA: Consider using `React.Suspense` in place of current `LoadScreen` component */}\n      <LoadScreen isLoading={!isMapLoaded} />\n\n      {/* // TODO: Udate Current Nav or possibly extend Calcite TopNav */}\n      <Profiler id=\"Nav\" onRender={callback}>\n      <Nav>\n        <Logo href=\"#\" src={logo} />\n        <TopNavTitle href=\"#\">Anonymized Mobile Phone Data</TopNavTitle>\n        { (!user)\n          ? <NavList>\n              <TopNavLink href=\"/\">\n                Get AMPD\n              </TopNavLink>\n              <TopNavLink href=\"/\">\n                Features\n              </TopNavLink>\n              <TopNavLink href=\"/\">\n                About QP\n              </TopNavLink> \n            </NavList>\n          : <NavList>\n              <TopNavLink href=\"https://github.com/Quiet-Professionals-LLC/qp-ampd-app\" target=\"_blank\">\n                AMPD Repo\n              </TopNavLink>\n              <TopNavLink href=\"https://github.com/Esri/esri-react-boot/wiki\" target=\"_blank\">\n                Docs\n              </TopNavLink>\n              <TopNavLink href=\"https://calcite-react.netlify.com/\" target=\"_blank\">\n                Calcite-React\n              </TopNavLink>\n            </NavList> \n        }\n\n        <UserAccount\n          user={auth.user}\n          portal={auth.portal}\n          token={auth.token}\n          loggedIn={auth.loggedIn}\n          signIn={signIn}\n          signOut={signOut}\n        />\n      </Nav>\n      </Profiler>\n\n      <SubNavToolbar>\n        <SubNavTitle></SubNavTitle>\n        <SubNavList>\n          <SubNavLink active >Queries</SubNavLink>\n          <SubNavLink href=\"#\">History</SubNavLink>\n          <SubNavLink href=\"#\">Config</SubNavLink>\n        </SubNavList>\n        \n      </SubNavToolbar>\n\n      <MapWrapper>\n        {/* //! WARN: Determine if Suspense should be left out (experimental feature) */}\n        <Profiler id=\"MapProfile\" onRender={callback}>\n        <Suspense fallback={<div>Loading Maps...</div>}>\n          <Profiler id=\"MapComponent\" onRender={callback}>\n          <MapComponent\n            onMapLoaded={mapLoaded}\n            mapConfig={config.mapConfig}\n            loaderConfig={config.loaderConfig}a\n          />\n          </Profiler>\n\n        </Suspense>\n\n        </Profiler>\n\n      </MapWrapper>\n\n    </Container>\n  );\n  \n}\n\nexport default Main;\n//#endregion","\n//#region [copyright]\n// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n//#endregion\n\n/** -------------------------------------------------------------- ->\n *  ┌────────────────────────────────────┐\n *  │ |> GAVEL - GAVEL Web Application   │\n *  └────────────────────────────────────┘\n *\n *  @name: 'Gavel - Anonymized marshalling of mobile device data'\n *  @description: 'Express API / Server in support of GAVEL'\n *  @implements: 'Custom RESTful API'\n *  @author: '@quiet-professionals-jsingletary'\n *  @copyright: 'Quiet Professionals LLC'\n *\n*/\n\n//#region [imports]\n// React\nimport React, { useEffect, useState, Profiler } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\n\n// Redux\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchConfig, updateConfig } from \"../redux/reducers/config\";\nimport { checkAuth, startAuth, completeAuth } from \"../redux/reducers/auth\";\nimport { setSecurityToken } from \"../redux/reducers/security-token\";\n\n// Axios\n// import axios from \"axios\";\n\n// Components\nimport LoadScreen from \"./LoadScreen\";\n// import Devices from \"../utils/devices\";\nimport Main from \"./Main\";\n\n//#endregion\n\n//#region [component]\n// Component definition\nconst App = props => {\n\n  // we'll use the url to determin sign-in state\n  const { pathname } = props.location;\n\n  // redux store state\n  const user = useSelector(state => state.auth.user);\n  const config = useSelector(state => state.config);\n  const securityToken = useSelector(state => state.securityToken);\n  const dispatch = useDispatch();\n  ////const [jsonData, setJsonData] = useState({});\n  \n  // Venntel API\n  // const securityTokenUrl = \"https://staging-bs-api.venntel.com/v1.5/securityToken\";\n  // const securityTokenUrl = \"http://localhost:5000/api/location-data\";\n  // const searchURL = \"https://staging-bs-api.venntel.com/v1.5/locationData/search\";\n  // const headers = {\n  //   'Content-Type': 'application/json',\n  //   'Accept': 'application/json',\n  //   'Authorization': '995dba95-c33d-456b-a7ea-3fd512e60894'\n  // };\n\n  // when the component mounts request the config and load it into the Redux state\n  useEffect(() => {\n    dispatch(fetchConfig());\n  }, []);\n\n  // once the component mounts and the config loads, check if we have a saved session\n  useEffect(() => {\n    // if the config isn't yet loaded then skip this effect\n    if (!config.loaded) return;\n\n    const { portalUrl, clientId, sessionId, dojoConfig } = config;\n    window.dojoConfig = dojoConfig;\n\n    dispatch(checkAuth({ portalUrl, clientId, sessionId }));\n  }, [config]);\n\n  // if there's no stored session, we'll watch the url path to see if we need to kick off an authentication\n  // this can happen automatically with a portalUrl property in the config\n  // or if the user requests a login through an event\n  useEffect(() => {\n    // if the config isn't yet loaded then skip this effect\n    if (!config.loaded) return;\n    const { portalUrl, clientId, sessionId } = config;\n\n    // we'll start the authentication here and it will return here to complete\n    if (portalUrl && !user && pathname !== \"/auth\") {\n      dispatch(startAuth({ portalUrl, clientId, sessionId }));\n    } else if (pathname === \"/auth\" && !user) {\n      dispatch(completeAuth({ portalUrl, clientId, sessionId }));\n    }\n  }, [user, pathname]);\n\n  // TODO: Move this dispatch and init before `queryDevices()` is called.\n  useEffect(() => {\n    if (securityToken.isValid) return;\n    dispatch(setSecurityToken());\n  }, [securityToken]);\n\n  // set a halt state to allow the authentication process to complete before\n  // we redirect to the main component\n  let signInRequested = false;\n  if (pathname === \"/auth\") {\n    signInRequested = true;\n  }\n\n  // RENDER RETURN\n  // app is initializing for the following reasons, show the load screen\n  // 1. config is not yet loaded\n  // 2. authentication is required but there is no user information\n  // 3. authentication is not required but user has requested to sign-in\n  // IDEA: Discuss using `React.Suspense` in favor of `isLoaded` attribute\n  if (!config.loaded || (config.portalUrl && !user) || (signInRequested && !user)) {\n    return <LoadScreen isLoaded={false} />;\n  }\n  \n  // App is initialized and user is authenticated if needed, route to main component\n  return (\n    <>\n      <Route path=\"/main\" component={Main} />\n      <Redirect to=\"/main\" />\n    </>\n  );\n};\n//#endregion\n\nexport default App;\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\nimport { createGlobalStyle } from \"styled-components\";\n\n// Global page styling\n// override AGIS JS API Widgets here\nexport const GlobalStyle = createGlobalStyle`\n  html,\n  body {\n    height: 100%;\n    font-family: Montserrat, sans-serif;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-weight: 300;\n    letter-spacing: 1px;\n    font-size: 16px;\n  }\n\n  .esri-layer-list__item{\n    &::before {\n      width: 100%;\n      left: 0;\n    }\n  }\n\n  nav.ciBUMa {\n    padding: 0 1em;\n  }\n`;\n","//#region [copyright]\n// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n//#endregion\n\n/**-------------------------------------------------------------\n *  #Configure and create the Redux here\n *  ~~Includes Saga\n *  @type {Object} This is the store object that Redux\n * \n*/\n\n/**-------------------------------------------------------------- ->\n *  ┌─────────────────────────────────────┐\n *  │ |> Redux - Single-Source of Truth   │\n *  └─────────────────────────────────────┘\n *\n *  @name: 'Gavel - Anonymized marshalling of mobile device data'\n *  @description: 'Centralizing your application's logics and state persistence.'\n *  @author: '@quiet-professionals-jsingletary'\n *  @copyright: 'Quiet Professionals LLC'\n *\n*/\n\n// REDUX IMPORTS //\nimport { applyMiddleware, combineReducers, compose, createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport rootSaga from './sagas/index';\n\nimport * as reducers from './';\nimport { watcherSaga } from './sagas/root-saga';\n\nexport function initStore() {\n  // Setup Redux dev tools\n  // NOTE: Redux Devtool issue - see https://github.com/zalmoxisus/redux-devtools-extension/issues/619\n  // TODO: Look into this 'Enhancer' to see if this workaround is still needed.\n  const composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  // Setup Redux store\n  const rootReducer = combineReducers(reducers);\n  const sagaMiddleware = createSagaMiddleware();\n\n  // Add additional middleware to the `middleware` array\n  const middleware = [sagaMiddleware];\n\n  const store = createStore(\n    rootReducer,\n    composeEnhancer(applyMiddleware(...middleware))\n  );\n\n  // Run sagas\n  sagaMiddleware.run(rootSaga);\n  sagaMiddleware.run(watcherSaga); // TODO: This watcherSaga() to be merged into rootSaga() ./index.js\n\n  return store;\n}\n"],"sourceRoot":""}