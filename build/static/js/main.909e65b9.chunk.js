/*! For license information please see main.909e65b9.chunk.js.LICENSE.txt */
(this["webpackJsonpqp-ampd-app"]=this["webpackJsonpqp-ampd-app"]||[]).push([[38],{772:function(e){e.exports=JSON.parse('{"a":"./build"}')},898:function(e,t,n){},901:function(e,t,n){var a={"./calcite-accordion_2.entry.js":[980,78],"./calcite-action_5.entry.js":[981,77],"./calcite-alert.entry.js":[982,79],"./calcite-avatar.entry.js":[983,80],"./calcite-block_2.entry.js":[984,74],"./calcite-button.entry.js":[985,104],"./calcite-card.entry.js":[986,81],"./calcite-checkbox.entry.js":[987,82],"./calcite-chip.entry.js":[988,105],"./calcite-color-picker_3.entry.js":[989,59],"./calcite-combobox_3.entry.js":[990,9,66],"./calcite-date-picker_4.entry.js":[991,53],"./calcite-dropdown_3.entry.js":[992,9,138],"./calcite-fab.entry.js":[993,106],"./calcite-filter.entry.js":[994,60],"./calcite-flow.entry.js":[995,236],"./calcite-graph_2.entry.js":[996,83],"./calcite-handle.entry.js":[997,237],"./calcite-icon.entry.js":[998,107],"./calcite-inline-editable.entry.js":[999,108],"./calcite-input-date-picker.entry.js":[1e3,9,67],"./calcite-input-message.entry.js":[1001,109],"./calcite-input-time-picker_2.entry.js":[1002,84],"./calcite-input.entry.js":[1003,56],"./calcite-label.entry.js":[1004,110],"./calcite-link.entry.js":[1005,111],"./calcite-loader.entry.js":[1006,139],"./calcite-modal.entry.js":[1007,85],"./calcite-notice.entry.js":[1008,86],"./calcite-option_3.entry.js":[1009,112],"./calcite-pagination.entry.js":[1010,113],"./calcite-panel.entry.js":[1011,75],"./calcite-pick-list_3.entry.js":[1012,55],"./calcite-popover_2.entry.js":[1013,9,137],"./calcite-progress.entry.js":[1014,238],"./calcite-radio-button-group.entry.js":[1015,239],"./calcite-radio-group_2.entry.js":[1016,87],"./calcite-radio_2.entry.js":[1017,88],"./calcite-rating.entry.js":[1018,114],"./calcite-scrim.entry.js":[1019,240],"./calcite-shell_3.entry.js":[1020,115],"./calcite-sortable-list.entry.js":[1021,37,241],"./calcite-split-button.entry.js":[1022,116],"./calcite-stepper_2.entry.js":[1023,89],"./calcite-switch.entry.js":[1024,68],"./calcite-tab_4.entry.js":[1025,90],"./calcite-tile-select_2.entry.js":[1026,117],"./calcite-tile.entry.js":[1027,242],"./calcite-tip_3.entry.js":[1028,76],"./calcite-tooltip_2.entry.js":[1029,9,140],"./calcite-tree_2.entry.js":[1030,91],"./calcite-value-list_2.entry.js":[1031,37,58]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=901,e.exports=r},902:function(e,t,n){},904:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return Ea}));var a={};n.r(a),n.d(a,"watchStartAPI",(function(){return _}));var r={};n.r(r),n.d(r,"watchFetchConfig",(function(){return fe})),n.d(r,"watchUpdateConfig",(function(){return me}));var o={};n.r(o);var i={};n.r(i),n.d(i,"watchAreaQuery",(function(){return qe}));var s={};n.r(s),n.d(s,"watchPatternQuery",(function(){return nt}));var l={};n.r(l),n.d(l,"areaQuery",(function(){return ut})),n.d(l,"auth",(function(){return E})),n.d(l,"config",(function(){return re})),n.d(l,"map",(function(){return gt})),n.d(l,"patternQuery",(function(){return jt})),n.d(l,"securityToken",(function(){return De}));var c=n(21),u=n.n(c),d=n(275),p=n.n(d),g=n(589),y=n(144),b=n(135),f=n(375),m=n(785),h=n(7),j=n.n(h),v=n(35),O=n(82),x="AUTH_START",D="AUTH_COMPLETE",S="AUTH_SUCCESS",w="AUTH_FAIL",T="AUTH_CHECK",A="LOGOUT",I={user:null,portal:null,token:null,loggedIn:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:var n=t.payload,a=n.user,r=n.portal,o=n.token;return{user:a,portal:r,token:o,loggedIn:!0};case w:return{user:null,portal:null,token:null,loggedIn:!1};default:return e}},k=function(e){return{type:x,payload:e}},C=n(15),R=n(1045),L=n(1043),F=n(424);function U(e){var t=e.portalUrl,n=void 0===t?"https://qptampa.maps.arcgis.com/":t,a=e.clientId,r=e.popup,o=void 0!==r&&r;R.a.beginOAuth2({clientId:a,portalUrl:n,popup:o,redirectUri:"".concat(window.location.origin,"/auth")})}function P(e){return N.apply(this,arguments)}function N(){return(N=Object(C.a)(j.a.mark((function e(t){var n,a,r,o,i,s,l,c,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.portalUrl,a=void 0===n?"https://qptampa.maps.arcgis.com/":n,r=t.clientId,o=t.sessionId,i=void 0===o?"".concat(a,"_session"):o,s=R.a.completeOAuth2({clientId:r,portalUrl:a}),l=s.token,G(s,i),e.next=6,s.getUser();case 6:return c=e.sent,e.next=9,Object(L.a)(null,{portal:s.portal,authentication:s});case 9:return u=e.sent,e.abrupt("return",{user:c,portal:u,token:l});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){!function(e){F.remove(e)}(e)}function B(e){return W.apply(this,arguments)}function W(){return(W=Object(C.a)(j.a.mark((function e(t){var n,a,r,o,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,a=F.get(t),!(r=a&&R.a.deserialize(a))){e.next=13;break}return e.next=6,r.getUser();case 6:return o=e.sent,e.next=9,Object(L.a)(null,{portal:r.portal,authentication:r});case 9:i=e.sent,s=r.token,n={user:o,portal:i,token:s},console.log("portal",i);case 13:return console.log("authInfos",n),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t){var n=e.tokenExpires;F.set(t,e.serialize(),{expires:n,sameSite:"strict"})}function q(e){var t=F.get(e);return t&&R.a.deserialize(t)}console.log("in session.js");var J=j.a.mark(Z),V=j.a.mark(K),X=j.a.mark(M),z=j.a.mark(H),Y=j.a.mark(_);function Z(e){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(O.b)(B,e.payload.sessionId);case 3:if(t=n.sent){n.next=8;break}return n.next=7,Object(O.b)(U,e.payload);case 7:t=n.sent;case 8:if(!t){n.next=14;break}return console.log("If AuthInfos :: ",t),n.next=12,Object(O.d)({type:S,payload:t});case 12:n.next=17;break;case 14:return console.log("Else AuthInfos :: ",t),n.next=17,Object(O.d)({type:w});case 17:n.next=24;break;case 19:return n.prev=19,n.t0=n.catch(0),n.next=23,Object(O.d)({type:w});case 23:console.error("SAGA ERROR: auth/startAuth, ",n.t0);case 24:case"end":return n.stop()}}),J,null,[[0,19]])}function K(e){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(O.b)(P,e.payload);case 3:if(!(t=n.sent)){n.next=9;break}return n.next=7,Object(O.d)({type:S,payload:t});case 7:n.next=11;break;case 9:return n.next=11,Object(O.d)({type:w});case 11:n.next=18;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(O.d)({type:w});case 17:console.error("SAGA ERROR: auth/startAuth, ",n.t0);case 18:case"end":return n.stop()}}),V,null,[[0,13]])}function M(e){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("`checkAuth()`",e),n.prev=1,n.next=4,Object(O.b)(B,e.payload.sessionId);case 4:if(t=n.sent,console.log("Returned authInfos value from `checkAuth()`",t),!t){n.next=11;break}return n.next=9,Object(O.d)({type:S,payload:t});case 9:n.next=13;break;case 11:return n.next=13,Object(O.d)({type:w});case 13:n.next=20;break;case 15:return n.prev=15,n.t0=n.catch(1),n.next=19,Object(O.d)({type:w});case 19:console.error("SAGA ERROR: auth/checkAuth, ",n.t0);case 20:case"end":return n.stop()}}),X,null,[[1,15]])}function H(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(O.b)(Q,e.payload.sessionId);case 3:window.location.reload(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("SAGA ERROR: auth/logout, ",t.t0);case 9:case"end":return t.stop()}}),z,null,[[0,6]])}function _(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)(T,M);case 2:return e.next=4,Object(O.e)(x,Z);case 4:return e.next=6,Object(O.e)(D,K);case 6:return e.next=8,Object(O.e)(A,H);case 8:case"end":return e.stop()}}),Y)}var $=n(10),ee="SET_CONFIG",te="UPDATE_CONFIG",ne="CONFIG_FETCH",ae={loaded:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:case te:return Object($.a)(Object($.a)(Object($.a)({},e),t.payload),{},{loaded:!0});default:return e}};function oe(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}function ie(e,t){switch(e){case"text":return t.text();default:return t.json()}}function se(e,t){return t?this.objectToFormData(e):function(e){var t=new URLSearchParams;for(var n in e)e.hasOwnProperty(n)&&t.append(n,e[n]);return t.has("f")||t.append("f","json"),t.toString()}(e)}function le(e){return new Promise((function(t,n){var a=e.url,r=e.data||{},o=function(e){var t={};return e||(t["content-type"]="application/x-www-form-urlencoded"),new Headers(t)}(e.isFormData),i={method:e.method||"get",headers:o};e.hideCredentials||(i.credentials="include");var s=se(r,e.isFormData);"get"===i.method?a="".concat(a,"?").concat(s):i.body=s,fetch(a,i).then(oe).then(ie.bind(null,e.handleAs)).then((function(e){e.error?n(e.error):t(e)})).catch((function(e){n(e)}))}))}function ce(){return new Promise((function(e,t){le({url:"/config.json",method:"get"}).then((function(t){console.log("Response: ",t),e(t)}))}))}var ue=j.a.mark(ye),de=j.a.mark(be),pe=j.a.mark(fe),ge=j.a.mark(me);function ye(e){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O.b)(ce);case 3:return t=e.sent,e.next=6,Object(O.d)({type:ee,payload:t});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("SAGA ERROR: config/fetchConfig, ",e.t0);case 11:case"end":return e.stop()}}),ue,null,[[0,8]])}function be(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(O.b)(ce);case 3:if(!t.sent){t.next=7;break}return t.next=7,Object(O.d)({type:te,payload:e.payload});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("SAGA ERROR: config/updateConfig, ",t.t0);case 12:case"end":return t.stop()}}),de,null,[[0,9]])}function fe(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)(ne,ye);case 2:case"end":return e.stop()}}),pe)}function me(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)(te,be);case 2:case"end":return e.stop()}}),ge)}var he="SECURITY_TOKEN_CHECK",je="SECURITY_TOKEN_SET",ve="SECURITY_TOKEN_DECRYPT",Oe="SECURITY_TOKEN_SUCCESS",xe={isValid:!1,TempSecurityToken:null},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object($.a)(Object($.a)({},e),{},{isValid:!0});case je:return console.log("SECURITY_TOKEN_SET: ",t),Object($.a)(Object($.a)(Object($.a)({},e),t.payload),{},{isValid:!0});case Oe:return console.log("SECURITY_TOKEN_SUCCESS: ",t),Object($.a)(Object($.a)(Object($.a)({},e),t.payload),{},{isValid:!0});case ve:return console.log("SECURITY_TOKEN_DECRYPT: ",t),Object($.a)(Object($.a)(Object($.a)({},e),t.payload),{},{isValid:!0});default:return e}};var Se="ADD_TO_STORE",we="ADDED_TO_STORE",Te="SEND_AREA_QUERY",Ae="AREA_QUERY_SENT",Ie="AREA_QUERY_DONE",Ee="AREA_QUERY_FAIL",ke="AREA_QUERY_STATUS",Ce="BUILD_FEATURE_LAYER",Re=n(408),Le=n.n(Re);function Fe(e){var t={startDate:e.payload.startDate,endDate:e.payload.endDate,areas:[{longitude:e.payload.longitude,latitude:e.payload.latitude,radius:e.payload.radius}]};return console.log("REQ PAYLOAD (client-side): ",t),Le.a.request({url:"https://qp-gavel-svr-mvp.azurewebsites.net/api/v1/locations/area",method:"POST",data:t,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"995dba95-c33d-456b-a7ea-3fd512e60894",TempSecurityToken:e.payload.TempSecurityToken}})}n(436).config();n(670);var Ue=j.a.mark(Be),Pe=j.a.mark(We),Ne=j.a.mark(Ge),Qe=j.a.mark(qe);function Be(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("WORKER: ",e),t.prev=1,t.next=4,Object(O.d)({type:we,payload:e.payload});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error("SAGA ERROR: data/addToStore, ",t.t0);case 9:case"end":return t.stop()}}),Ue,null,[[1,6]])}function We(e){var t,n;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("WORKER: ",e),a.prev=1,a.next=4,Object(O.b)(Fe,e);case 4:return t=a.sent,n=t.data,console.log("RES DATASET (client-side): ",n),a.next=9,Object(O.d)({type:Ae,payload:n});case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),console.error("SAGA ERROR: data/sendAreaQuery, ",a.t0);case 14:case"end":return a.stop()}}),Pe,null,[[1,11]])}function Ge(e){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("WORKER: ",e),t=e.payload,t.areaQueryState,t.baseMap,t.mapView,n.prev=2,n.next=5,Object(O.b)((function(e,t,n){}));case 5:n.sent,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),console.error("SAGA ERROR: data/buildFeatureLayer, ",n.t0);case 11:case"end":return n.stop()}}),Ne,null,[[2,8]])}function qe(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)(Se,Be);case 2:return e.next=4,Object(O.e)(Te,We);case 4:return e.next=6,Object(O.e)(Ce,Ge);case 6:case"end":return e.stop()}}),Qe)}var Je="ADD_PATTERN_TO_STORE",Ve="PATTERN_ADDED_TO_STORE",Xe="SEND_PATTERN_QUERY",ze="PATTERN_QUERY_SENT",Ye="PATTERN_QUERY_DONE",Ze="PATTERN_QUERY_FAIL",Ke="PATTERN_QUERY_STATUS";function Me(e){console.log("REQ Payload: ",e);var t=e.payload,n=t.startDate,a=t.endDate,r=t.registrationID,o=t.TempSecurityToken,i={startDate:n,endDate:a,registrationIDs:[{registrationID:r}]};return console.log("REQ PAYLOAD (client-side): ",i),Le.a.request({url:"https://qp-gavel-svr-mvp.azurewebsites.net/api/v1/locations/area",method:"POST",data:i,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"995dba95-c33d-456b-a7ea-3fd512e60894",TempSecurityToken:o.securityToken}})}n(436).config();var He=j.a.mark(et),_e=j.a.mark(tt),$e=j.a.mark(nt);function et(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("ADD PATTERN WORKER: ",e),t.prev=1,t.next=4,Object(O.d)({type:Ve,payload:e.payload});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error("SAGA ERROR: data/addPatternToStore, ",t.t0);case 9:case"end":return t.stop()}}),He,null,[[1,6]])}function tt(e){var t,n;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("SEND PATTERN WORKER: ",e),a.prev=1,a.next=4,Object(O.b)(Me,e);case 4:return t=a.sent,n=t.data,console.log("RES DATASET (client-side): ",n),a.next=9,Object(O.d)({type:ze,payload:n});case 9:return a.next=11,Object(O.d)({type:Ye,payload:n});case 11:return a.abrupt("return",n);case 14:a.prev=14,a.t0=a.catch(1),console.error("SAGA ERROR: data/sendPatternQuery, ",a.t0);case 17:case"end":return a.stop()}}),_e,null,[[1,14]])}function nt(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)(Je,et);case 2:return e.next=4,Object(O.e)(Xe,tt);case 4:case"end":return e.stop()}}),$e)}var at=j.a.mark(rt);function rt(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)([].concat(Object(v.a)(Object.values(a)),Object(v.a)(Object.values(r)),Object(v.a)(Object.values(o)),Object(v.a)(Object.values(i)),Object(v.a)(Object.values(s))).map(O.c));case 2:case"end":return e.stop()}}),at)}var ot=function(e){var t=new Date(e),n=t.toISOString().slice(0,-5)+"Z";return console.group("Formatted Date:>"),console.log("Date Prop: ",t),console.log("Format Date: ",n),console.groupEnd(),n},it=new Date,st=it.setDate(it.getDate()-7),lt=it.setDate(it.getDate()),ct=(ot(new Date(st)),ot(new Date(lt)),{startDate:st,endDate:lt,latitude:0,longitude:0,radius:10,status:"idle",locationData:{}}),ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:if(console.log("ADDED: ",t),"string"==typeof t.payload){t.payload;return Object($.a)(Object($.a)(Object($.a)({},e),t.payload),{},{status:"loading"})}return Object($.a)(Object($.a)(Object($.a)({},e),t.payload),{},{status:"loading"});case Ae:return console.log("SENT: ",t),Object($.a)(Object($.a)(Object($.a)({},e),t.payload),{},{status:"success"});case Ie:return console.log("SUCCESS: ",t),Object($.a)(Object($.a)({},e),{},{status:"success"});case Ee:return console.log("FAIL: ",t),e;case ke:return console.log("STATUS: ",t),{status:e.status};case Ce:return console.log("BUILD_FEATURE_LAYER: ",t),e;default:return e}},dt="MAP_LOADED",pt={loaded:!1},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt:return Object($.a)(Object($.a)({},e),{},{loaded:!0});default:return e}},yt=function(e){return{type:dt,payload:e}},bt=new Date,ft=bt.setDate(bt.getDate()-7),mt=bt.setDate(bt.getDate()),ht={startDate:ot(new Date(ft)),endDate:ot(new Date(mt)),registrationIDs:null,status:"idle",locationData:{}},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return console.log("PATTERN_ADDED_TO_STORE: ",t),console.log("DataType: String: ",t.payload),Object($.a)(Object($.a)(Object($.a)({},e),t.payload),{},{status:"loading"});case ze:return console.log("PATTERN_QUERY_SENT: ",t),Object($.a)(Object($.a)(Object($.a)({},e),t.payload),{},{status:"success"});case Ye:return console.log("SUCCESS: ",t),Object($.a)(Object($.a)(Object($.a)({},e),t.payload),{},{status:"idle"});case Ze:return console.log("FAIL: ",t),e;case Ke:return console.log("STATUS: ",t),{status:e.status};default:return e}};function vt(){return Le.a.request({method:"get",url:"https://qp-gavel-svr-mvp.azurewebsites.net/api/v1/securities/token"})}n(436).config();var Ot=j.a.mark(xt);function xt(e){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O.b)(vt);case 3:return t=e.sent,n=t.data,console.log("Handler Response: ",t),e.next=8,Object(O.d)({type:Oe,payload:n});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error: ",e.t0);case 13:case"end":return e.stop()}}),Ot,null,[[0,10]])}var Dt=j.a.mark(St);function St(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)(je,xt);case 2:case"end":return e.stop()}}),Dt)}var wt,Tt,At,It,Et=n(772),kt=n(29),Ct=n(576),Rt=n.n(Ct),Lt=n.p+"static/media/Topo-Abs-BG.b496ff06.svg",Ft=n(137),Ut=n(783),Pt=n(30),Nt=Ft.b.div(wt||(wt=Object(kt.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  background: rgba(255, 255, 255, 0.1) url(",") no-repeat center/cover;\n  background-blend-mode: screen;\n"])),Lt),Qt=Ft.b.div(Tt||(Tt=Object(kt.a)(["\n  position: absolute;\n  top: 48vh;\n  margin: 0 auto;\n  color: #cacaca;\n  font-weight: 400;\n"]))),Bt=Ft.b.div(At||(At=Object(kt.a)(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  z-index: 20;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100vw;\n  padding: 2em;\n  text-align: center;\n  color: white;\n"]))),Wt=(Ft.b.img(It||(It=Object(kt.a)(["\n  width: 8em;\n  height: 100%;\n  margin-right: 1em;\n  margin-bottom: 1em;\n"]))),function(){return Object(Pt.jsx)(Ut.a.div,{initial:{opacity:1,zIndex:1e3},animate:{opacity:0,transitionEnd:{display:"none"}},transition:{delay:1,duration:1,ease:"easeInOut"},children:Object(Pt.jsx)(Nt,{})})}),Gt=function(e){return e.isLoading?Object(Pt.jsx)(Wt,{}):Object(Pt.jsxs)(Nt,{children:[Object(Pt.jsx)(Bt,{}),Object(Pt.jsx)(Qt,{children:Object(Pt.jsx)(Rt.a,{text:"Loading Gavel..."})})]})},qt=n(396),Jt=n.n(qt),Vt=n(774),Xt=n.n(Vt),zt=n(577),Yt=n.n(zt),Zt=n(578),Kt=n.n(Zt),Mt=n(579),Ht=n.n(Mt),_t=(n(675),n(851),n(519)),$t=n.n(_t),en=n(775),tn=n.n(en),nn=n(368),an=n.n(nn),rn=function(e){var t=e.user?Object(Pt.jsx)($t.a,{style:{padding:0},children:Object(Pt.jsxs)(tn.a,{user:e.user,portal:e.portal,token:e.token,onRequestSwitchAccount:function(){return console.log("switch account clicked")},onRequestSignOut:e.signOut,children:[Object(Pt.jsx)(an.a,{onClick:function(){return console.log("Profile & Settings clicked")},children:"Profile & Settings"}),Object(Pt.jsx)(an.a,{onClick:function(){return console.log("My Esri clicked")},children:"My Esri"}),Object(Pt.jsx)(an.a,{onClick:function(){return console.log("Training clicked")},children:"Training"}),Object(Pt.jsx)(an.a,{onClick:function(){return console.log("Community & Forums clicked")},children:"Community & Forums"}),Object(Pt.jsx)(an.a,{onClick:function(){return console.log("ArcGIS Online clicked")},children:"ArcGIS Online"})]})}):null,n=Object(Pt.jsx)($t.a,{children:Object(Pt.jsx)(Jt.a,{clear:!0,onClick:e.signIn,children:"Sign In"})}),a=e.loggedIn?t:n;return Object(Pt.jsx)("div",{children:a})},on=n(31),sn=n(520),ln=(n(109),n(553)),cn=n(780),un=n(782),dn=n(344),pn=n(514),gn=n(513),yn=n(787),bn=n(781),fn=n(784),mn=(n(360),n(903),n(905),n(1048)),hn=n(1047),jn=n(1044),vn=(n(892),function(){var e=Object(C.a)(j.a.mark((function e(t,n,a){var r,o,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=q("qp_gavel_app_session"),o=a.serviceUrl,a.serviceName,n.layer.id,console.log("DEFINITION_ADDED_TO_SERVICE: ",t),console.log("LAYER_URL: ",o),i=n.layer.source,s=[],console.log("TARGET_LAYER: ",n),console.log("FEATURE_LAYER_SRC: ",i),e.next=12,i.items.map((function(e,t){var n=e.attributes,a=e.geometry,r=e.symbol,o={geometry:{x:a.x,y:a.y,spatialReference:{wkid:a.spatialReference.wkid}},attributes:n,symbol:r};s.push(o)}));case 12:return console.log("Geo Payload:",s),e.next=15,Object(mn.a)({authentication:r,url:o+"/0",features:s,rollbackOnFailure:!1,f:"json"}).then((function(e){console.info("Feature Layer Updated: ",e)})).catch((function(e){console.error("ERROR: Save Feature Layer: ",e)}));case 15:return e.abrupt("return",mn.a);case 16:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),On=(n(293),n(805),n(74)),xn=n(221),Dn=n(71),Sn=n(558),wn=n.n(Sn);var Tn=n(419),An=n(61),In=function(e){console.log("Locations: ",e);var t=e,n=t.locationA,a=t.locationB,r=new Dn.a({paths:[[[n.x,n.y],[a.x,a.y]]]});console.log(JSON.stringify(r)),r=new Dn.a(r),console.log(JSON.stringify(r)),r=Object(An.e)(r),console.log(JSON.stringify(r));var o=Object(Tn.b)([r],"meters");return console.log("Polyline Length: ",o[0]),o>=2500&&(o=2500),o[0]},En=(n(62),n(764),n(43),n(265));n(610),new Dn.b({wkid:102100,latestWkid:3857});function kn(){return(kn=Object(C.a)(j.a.mark((function e(t,n,a){var r,o,i,s,l,c,u,d,p;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(e){var t=e.item;console.log("Define Actions Event: ",e),t.panel={content:document.getElementById("myDiv"),className:"esri-icon-handle-horizontal",title:"Layer Actions",open:t.hidden},"Area Query"===t.title&&(t.open="true",actions.title="Layer Actions",t.actionsSections=[[{title:"Save Layer",className:"esri-icon-save",id:"layerSave"},{title:"Delete Layer",className:"esri-icon-trash",id:"layerDelete"}]])},console.log("inside FeatureLayerBuilder"),r=n,o=t,i=a.locationData.areas,s=new xn.a({title:"Results"}),{top:55},{top:55,right:250},l=[],0,c=0,[],["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],r.when((function(){return console.log("view.when(1)"),u(i,o,r)})).then((function(e){return console.log("view.when(2)"),e})).catch((function(e){Fn(e)})),u=function(e,t,n){console.log("inside buildFeatureLayer()");var a=e,r=n,o=t;return console.log("Signals Added",l),a.map((function(e,t){a[t].registrationIDs.map((function(e,n){a[t].registrationIDs[n].signals.map((function(e,r){var o=e.latitude,i=e.longitude,c=(e.registrationID,{type:"point",longitude:i,latitude:o}),u=["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],d={type:"simple-marker",color:u[0],outline:{color:u[1],width:1},size:"15px"},p=new On.a({geometry:c,symbol:d,attributes:{OBJECTID:r,registrationID:a[t].registrationIDs[n].signals[r].registrationID,ipAddress:a[t].registrationIDs[n].signals[r].ipAddress,flags:a[t].registrationIDs[n].signals[r].flags,latitude:o,longitude:i,timestamp:a[t].registrationIDs[n].signals[r].timestamp}});l.push(p),s.add(p)}))}))})),console.log("graphics: ",l),p(l,r,o),l},null,d=null,p=function(e,t,n){c++;var a=[];if(e.length>0){var r=0;d=Ln(a,"Pattern Layer "+c);for(var o=0;o<e.length;o++){if(1e3===r)a=[];else if(0!=r&&r%1e3==0){console.log(a);var i={addFeatures:a};d.applyEdits(i),a=[]}else a.push(e[o]);r++}return console.log("New FeatureLayer: ",d),n.add(d),d}return d},e.abrupt("return",null);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cn={type:"simple",symbol:{type:"simple-marker",color:"#d7191c",outline:{color:[255,255,255,.7],width:.5},size:7.5}},Rn={className:"esri-icon-line-chart",id:"patternOfLife",indicator:!0,title:"Pattern of Life"};function Ln(e,t){console.log("Data Points",e);return new En.default({source:e,title:t,objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:"oid"},{name:"registrationID",type:"string"},{name:"ipAddress",type:"string"},{name:"flags",type:"integer"},{name:"latitude",type:"geometry",valueType:"coordinate"},{name:"longitude",type:"geometry",valueType:"coordinate"},{name:"timestamp",type:"date"}],geometryType:"point",spatialReference:{wkid:102100,latestWkid:3857},outFields:["*"],popupTemplate:{actions:[Rn],title:"Location Point: {OBJECTID} of "+e.length,content:[{type:"text",text:"<div style='display: flex; margin-left: 9px;'>ID: {registrationID}</div>"},{type:"fields",fieldInfos:[{fieldName:"registrationID",label:"Registration ID",format:{digitSeparator:!1},visible:!1},{fieldName:"ipAddress",label:"IP Address",format:{digitSeparator:!0}},{fieldName:"flags",label:"Flags",format:{digitSeparator:!1}},{fieldName:"latitude",label:"Latitude",format:{digitSeparator:!0}},{fieldName:"longitude",label:"Longitude",format:{digitSeparator:!0}},{fieldName:"timestamp",label:"Timestamp",format:{digitSeparator:!1}}]}],spinnerEnabled:!0,active:!0},renderer:Cn})}var Fn=function(e){console.log("GAVEL 9000: ",e),document.getElementById("alertNoResultsWarning").active="true"};new Dn.b({wkid:102100,latestWkid:3857});function Un(){return(Un=Object(C.a)(j.a.mark((function e(t,n,a){var r,o,i,s,l,c,u,d,p;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("inside FeatureLayerBuilder"),r=n,o=t,i=a.locationData.registrationIDs,s=new xn.a({title:"Pattern"}),{top:55},{top:55,right:250},l=[],0,c=0,[],["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],r.when((function(){return console.log("view.when(1)"),u(i,o,r)})).then((function(e){return console.log("view.when(2)"),e})).catch((function(e){Xn(e)})),u=function(e,t,n){console.log("inside buildPatternOfLife()");var a=e,r=n,o=t;return console.log("Signals Added",l),a.map((function(e,t){a[0].signals.map((function(e,t){var n=e.latitude,r=e.longitude,o=(e.registrationID,{type:"point",longitude:r,latitude:n}),i=["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],c={type:"simple-marker",color:i[0],outline:{color:i[1],width:1},size:"15px"},u=new On.a({geometry:o,symbol:c,attributes:{OBJECTID:t,registrationID:a[0].signals[t].registrationID,ipAddress:a[0].signals[t].ipAddress,flags:a[0].signals[t].flags,latitude:n,longitude:r,timestamp:a[0].signals[t].timestamp}});l.push(u),s.add(u)}))})),console.log("graphics: ",l),p(l,r,o),l},null,d=null,p=function(e,t,n){c++;var a=[];if(e.length>0){var r=0;d=Nn(a,"Pattern Layer "+c);for(var o=0;o<e.length;o++){if(1e3===r)a=[];else if(0!=r&&r%1e3==0){console.log(a);var i={addFeatures:a};d.applyEdits(i),a=[]}else a.push(e[o]);r++}return console.log("New FeatureLayer: ",d),n.add(d),d}return d},e.abrupt("return",null);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pn={type:"simple",symbol:{type:"simple-marker",size:7.5,color:"blue",outline:{color:"white",width:.5}}};function Nn(e,t){console.log("Data Points",e);return new En.default({source:e,title:t,objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:"oid"},{name:"registrationID",type:"string"},{name:"ipAddress",type:"string"},{name:"flags",type:"integer"},{name:"latitude",type:"geometry"},{name:"longitude",type:"geometry"},{name:"timestamp",type:"date"}],geometryType:"point",spatialReference:{wkid:102100,latestWkid:3857},outFields:["*"],popupTemplate:{title:"Location Point: {OBJECTID} of "+e.length,content:[{type:"text",text:"<div style='display: flex; margin-left: 9px;'>ID: {registrationID}</div>"},{type:"fields",fieldInfos:[{fieldName:"registrationID",label:"Registration ID",format:{digitSeparator:!1},visible:!1},{fieldName:"ipAddress",label:"IP Address",format:{digitSeparator:!0}},{fieldName:"flags",label:"Flags",format:{digitSeparator:!1}},{fieldName:"latitude",label:"Latitude",format:{digitSeparator:!0}},{fieldName:"longitude",label:"Longitude",format:{digitSeparator:!0}},{fieldName:"timestamp",label:"Timestamp",format:{digitSeparator:!1}}]}],spinnerEnabled:!0,active:!0},renderer:Pn})}var Qn,Bn,Wn,Gn,qn,Jn,Vn,Xn=function(e){console.log("GAVEL 9000: ",e),document.getElementById("alertNoResultsWarning").active="true"},zn=n(1046),Yn=Ft.b.div(Qn||(Qn=Object(kt.a)(["\n  display: flex;\n  align-items: left;\n  justify-content: space-between;\n"]))),Zn=Object(c.memo)((function(e){return Object(Pt.jsx)(Yn,{children:Object(Pt.jsxs)(zn.d,{id:"alertInfo",class:"calcite-theme-auto",icon:"information","auto-dismiss":"true","auto-dismiss-duration":"medium",scale:"s",color:"blue",label:"Info Alert","aria-hidden":"true",role:"alertdialog",children:[Object(Pt.jsx)("div",{slot:"title",children:Object(Pt.jsx)("strong",{children:"From Gavel:"})}),Object(Pt.jsx)("div",{slot:"message",children:Object(Pt.jsxs)("span",{children:[Object(Pt.jsx)("strong",{children:"TODO:"})," This alert will have Gavel related messages / general info"]})})]})})})),Kn=Object(c.memo)((function(e){return Object(Pt.jsx)(Yn,{children:Object(Pt.jsxs)(zn.d,{id:"alertProcessStart",class:"calcite-theme-auto",icon:"app-gear","auto-dismiss":"true","auto-dismiss-duration":"medium",scale:"s",color:"blue",label:"Process Alert","aria-hidden":"true",role:"alertdialog",children:[Object(Pt.jsx)("div",{slot:"title",children:Object(Pt.jsx)("strong",{children:"Processing..."})}),Object(Pt.jsx)("div",{slot:"message",children:Object(Pt.jsx)("span",{children:"Just a moment please - Gavel is working on your request."})})]})})})),Mn=Object(c.memo)((function(e){return Object(Pt.jsx)(Yn,{children:Object(Pt.jsxs)(zn.d,{id:"alertSuccess",class:"calcite-theme-auto",icon:"","auto-dismiss-duration":"medium",scale:"s",color:"green",label:"Process Success Alert","aria-hidden":"true",role:"alertdialog",children:[Object(Pt.jsx)("div",{slot:"title",children:Object(Pt.jsx)("strong",{children:"Success:"})}),Object(Pt.jsx)("div",{slot:"message",children:Object(Pt.jsx)("span",{children:"Your data has been saved."})})]})})})),Hn=Object(c.memo)((function(e){return Object(Pt.jsx)(Yn,{children:Object(Pt.jsxs)(zn.d,{id:"alertWarning",class:"calcite-theme-auto",icon:"","auto-dismiss":"true","auto-dismiss-duration":"medium",scale:"s",color:"yellow",label:"Warning Alert","aria-hidden":"true",role:"alertdialog",children:[Object(Pt.jsx)("div",{slot:"title",children:Object(Pt.jsx)("strong",{children:"Attention:"})}),Object(Pt.jsx)("div",{slot:"message",children:Object(Pt.jsx)("span",{children:"Gavel cannot authenticate your user credentials - Please logout then log back in."})})]})})})),_n=Object(c.memo)((function(e){return Object(Pt.jsx)(Yn,{children:Object(Pt.jsxs)(zn.d,{id:"alertNoResultsWarning",class:"calcite-theme-auto",icon:"","auto-dismiss":"true","auto-dismiss-duration":"medium",scale:"s",color:"yellow",label:"Warning No Results Alert","aria-hidden":"true",role:"alertdialog",children:[Object(Pt.jsx)("div",{slot:"title",children:Object(Pt.jsx)("strong",{children:"From Gavel:"})}),Object(Pt.jsx)("div",{slot:"message",children:Object(Pt.jsx)("span",{children:"I'm sorry... I'm afraid I did not find any results. Adjust parameters and try again."})})]})})})),$n=Object(c.memo)((function(e){return Object(Pt.jsx)(Yn,{children:Object(Pt.jsxs)(zn.d,{id:"alertDanger",class:"calcite-theme-auto",icon:"","auto-dismiss-duration":"slow",scale:"s",color:"red",label:"Danger Alert","aria-hidden":"true",role:"alertdialog",children:[Object(Pt.jsx)("div",{slot:"title",children:Object(Pt.jsx)("strong",{children:"Error:"})}),Object(Pt.jsx)("div",{slot:"message",children:Object(Pt.jsx)("span",{children:"An unexpected error has occurred - Please try again."})})]})})})),ea=n(2),ta=n(3),na=n(37),aa=n(5),ra=n(6),oa=(n(896),Ft.b.div(Bn||(Bn=Object(kt.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),function(e){Object(aa.a)(n,e);var t=Object(ra.a)(n);function n(e){var a;return Object(ea.a)(this,n),(a=t.call(this,e)).defaultDate=new Date,a.startDate=a.defaultDate.getDate()-7,a.endDate=a.defaultDate.getDate()-1,a.state={currentDate:Date.now(),startDate:Date.now(),endDate:Date.now()},a.handleDatePickerRangeChange=a.handleDatePickerRangeChange.bind(Object(na.a)(a)),a.handleStartDateChange=a.handleStartDateChange.bind(Object(na.a)(a)),a.handleEndDateChange=a.handleEndDateChange.bind(Object(na.a)(a)),a.handleFormSubmit=a.handleFormSubmit.bind(Object(na.a)(a)),a.alertProcessStart=null,a.submitBtn=null,a}return Object(ta.a)(n,[{key:"shouldComponentUpdate",value:function(){return console.log("DateRange Component Update"),!0}},{key:"componentDidUpdate",value:function(){console.log("DateRange Component Did Update")}},{key:"componentDidMount",value:function(){console.log("DateRange Component Did Load");var e=new Date(Date.now());this.setState({currentDate:e,endDate:new Date(e).setDate(e.getDate()-1),startDate:new Date(e).setDate(e.getDate()-7)}),this.formDateRange=document.getElementById("formDateRange"),this.alertProcessStart=document.getElementById("alertProcessStart"),this.submitDatesBtn=document.getElementById("submitDatesBtn"),console.log("DateRange Props:",this.props),console.log("DateRange State",this.state)}},{key:"handleDatePickerRangeChange",value:function(e){console.log("DateRange `onChange` Handler: ",e);var t=e.detail.startDate,n=e.detail.endDate;this.handleStartDateChange(t),this.handleEndDateChange(n)}},{key:"handleStartDateChange",value:function(e){var t=new Date(e),n=ot(t);this.state.startDate=n,this.props.addToStoreCreator({startDate:n}),this.props.addPatternToStoreCreator({startDate:n})}},{key:"handleEndDateChange",value:function(e){var t=new Date(e),n=ot(t);this.state.endDate=n,this.props.addToStoreCreator({endDate:n}),this.props.addPatternToStoreCreator({endDate:n})}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),console.log("keyword `this` is: ",this),this.submitDatesBtn.setAttribute("loading",""),this.submitDatesBtn.setAttribute("disabled",""),this.alertProcessStart.active="true",console.group("Date Range:>"),console.log(this.state.startDate),console.log(this.props.endDate),console.groupEnd();var t=Object($.a)(Object($.a)({},this.props.areaQuery),this.props.securityToken),n=this.props.sendAreaQueryCreator(t);return console.log("Tokenized_Payload:",t),n}},{key:"render",value:function(){var e=this;return Object(Pt.jsxs)("form",{id:"formDateRange",children:[Object(Pt.jsx)("div",{className:"form-group",children:Object(Pt.jsx)(zn.h,{id:"dateRangePicker",label:"Date range picker",range:"true",scale:"m",activeRange:"start",startAsDate:new Date(this.state.startDate),endAsDate:new Date(this.state.endDate),min:"2017-06-16",maxAsDate:new Date(this.state.currentDate),valueAsDate:new Date(this.state.currentDate),locale:"en","next-month-label":"Next month","prev-month-label":"Previous month",layout:"vertical",role:"application","proximity-selection-disabled":"false",onCalciteDatePickerRangeChange:function(t){return e.handleDatePickerRangeChange(t)}})}),Object(Pt.jsx)("div",{className:"form-group",children:Object(Pt.jsx)(zn.g,{id:"submitDatesBtn",appearance:"solid",color:"blue","icon-start":"submit",scale:"m",type:"button",width:"full",onClick:this.handleFormSubmit,children:"Submit"})})]})}}]),n}(c.Component)),ia={addToStoreCreator:function(e){return{type:"ADD_TO_STORE",payload:e}},addPatternToStoreCreator:function(e){return{type:"ADD_PATTERN_TO_STORE",payload:e}},sendAreaQueryCreator:function(e){return{type:"SEND_AREA_QUERY",payload:e}}},sa=Object(b.b)((function(e){return console.log("state: ",e.areaQuery),{areaQuery:e.areaQuery,patternQuery:e.patternQuery,securityToken:e.securityToken}}),ia)(oa),la=n(44);n(436).config();var ca,ua,da,pa,ga,ya=Ft.b.div(Wn||(Wn=Object(kt.a)(["\n  height: 100%;\n  width: 100%;\n"]))),ba=(Ft.b.div(Gn||(Gn=Object(kt.a)(["\n  min-height: 10vh;\n  width: 100%;\n  padding: 10px;\n"]))),Ft.b.div(qn||(qn=Object(kt.a)(["\n  min-height: 10vh;\n  width: 12vw;\n"]))),Ft.b.div(Jn||(Jn=Object(kt.a)(["\n  min-height: 10vh;\n  width: 12vw;\n"]))),Ft.b.div(Vn||(Vn=Object(kt.a)(["\n  min-height: 10vh;\n  width: 100%;\n  padding: 10px;\n"]))),function(e){var t,n,a="mapViewContainer",r=Object(b.e)(),o=Object(b.c)(),i=Object(b.d)((function(e){return e.areaQuery})),s=Object(b.d)((function(e){return e.areaQuery.status})),l=Object(b.d)((function(e){return e.patternQuery})),d=Object(b.d)((function(e){return e.patternQuery.status})),p=Object(c.useState)(null),g=Object(on.a)(p,2),y=g[0],f=g[1],m=Object(c.useState)(null),h=Object(on.a)(m,2),v=h[0],O=h[1],x=Object(c.useState)(null),D=Object(on.a)(x,2),S=D[0],w=D[1],T=Object(c.useState)(null),A=Object(on.a)(T,2),I=A[0],E=A[1],k=Object(c.useState)(""),R=Object(on.a)(k,2),L=(R[0],R[1]),F=null,U=null,P=0,N=[116,150,179,.2],Q=[0,96,175],B={color:[0,96,175],width:2},W={color:[3,17,30],width:1};Object(c.useEffect)((function(){var e=new Date(Date.now()),t=new Date(Date.now()),n=e.setDate(e.getDate()-8),a=t.setDate(t.getDate()-1),r=ot(new Date(n)),i=ot(new Date(a));console.log("Start Date: ",e),f(n),O(a),o({type:Se,payload:{startDate:r}}),o({type:Se,payload:{endDate:i}}),o({type:Je,payload:{startDate:r}}),o({type:Je,payload:{endDate:i}})}),[]),Object(c.useEffect)((function(){var i,s,l;(i=a,s=e.mapConfig,l=e.loaderConfig,Object(sn.loadModules)(["esri/Map","esri/views/MapView","esri/layers/GraphicsLayer"],l).then((function(e){var t=Object(on.a)(e,3),n=t[0],a=t[1];if(t[2],i){var r=new n(s),o=new a(Object($.a)({map:r,container:i},s));return o.when((function(){return o}))}}))).then((function(a){console.log("LoadMap(): ",a),Object(sn.loadModules)(["esri/config","esri/geometry/geometryEngine"],e.loaderConfig).then((function(a){var i=Object(on.a)(a,2);i[0],i[1];n=new xn.a({title:"Geofences"});var s=new la.a({wkid:102100,latestWkid:3857});F=new ln.a({basemap:"dark-gray-vector",layers:[n]}),U=new cn.a(Object($.a)({container:"mapViewContainer",map:F,extent:{spatialReference:s,xmin:-9177882,ymin:4246761,xmax:-9176720,ymax:4247967},popup:{dockEnabled:!1,dockOptions:{position:"top-right",breakpoint:!1}}},e.mapConfig)),w(F),E(U);new Date;var l=new bn.a({view:U}),c=new yn.a({view:U,unit:"dual"});U.when((function(){t=new fn.a({id:"ampdSketchWidget",availableCreateTools:["point","circle"],defaultCreateOptions:"click",layout:"horizontal",layer:n,view:U,creationMode:"single"});var e=new gn.default({view:U,layerInfos:[{layer:null,title:"Legend"}]}),a=new pn.a({view:U,label:"Active Layers",style:"card",visibleElements:{statusIndicators:!0},listItemCreatedFunction:function(t){P++;var n=t.item;e.layerInfos.layer=n,"Geofences"!==n.title&&(n.open=open,n.title="Layer "+P,n.actionsSections=[[{title:"Save Layer",className:"esri-icon-save gavel-save-layer-status",id:"layerSave"},{title:"Delete Layer",className:"esri-icon-trash gavel-delete-layer-status",id:"layerDelete"}]])}}),i=new dn.a({view:U,content:e,expandTooltip:"Toggle Legend"}),s=new dn.a({view:U,content:t,expandTooltip:"Sketch Tools",group:"bottom-right"}),p=new dn.a({view:U,content:a,expandTooltip:"Toggle Layers",group:"bottom-right"}),g=new dn.a({view:U,content:dateRangeCard,expandIconClass:"esri-icon-calendar",expandTooltip:"Query Date Range",group:"bottom-right"}),y=new dn.a({content:new un.a({view:U}),view:U,expandIconClass:"esri-icon-basemap",group:"top-left"});document.getElementById("dateRangeCard").removeAttribute("qp-hidden");var b=t.viewModel.pointSymbol;b.color=Q,b.outline=W,b.size=8;var f=t.viewModel.polylineSymbol;f.color=B.color,f.width=B.width;var m=t.viewModel.polygonSymbol;function h(){return(h=Object(C.a)(j.a.mark((function e(){var t,n,a,i,s,l,c,u,d,p,g,y,b,f;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=function(){return console.log("POL COMPLETE"),"success"},u=function(e){return console.log("POL STEP 4"),o({type:Xe,payload:e}),e},c=function(e){console.log("POL STEP 3",e);var t=i.registrationIDs,n={startDate:i.startDate,endDate:i.endDate,registrationID:t,TempSecurityToken:e};return console.log("tokenizedPayload: ",n),n},l=function(){return console.log("POL STEP 2"),i.registrationIDs},s=function(){console.log("POL STEP 1");var e=a;return console.log("securityToken: ",e),e},t=r.getState(),console.log("Gavel State: ",t),n=U.popup.selectedFeature,n.attributes.registrationID,a=t.securityToken.TempSecurityToken,i=t.patternQuery,i.startDate,i.endDate,e.prev=13,e.next=16,s();case 16:return p=e.sent,e.next=19,l();case 19:return g=e.sent,y=c({securityToken:p,registrationID:g}),e.next=23,u(y);case 23:b=e.sent,f=d(b),console.log("Patern Of Life Complete: ".concat(f)),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(13),console.error("ERROR: Pattern Of Life : ",e.t0);case 31:case"end":return e.stop()}}),e,null,[[13,28]])})))).apply(this,arguments)}m.color=N,m.outline=B,t.on(["create","complete"],u),d(),a.on("trigger-action",(function(t){console.log("LayerList Event Listener: ",t);var n=t.action.id,a=t.item,r="",o="",i={};(e.layerInfos.layer=a,"layerSave"===n)?(document.getElementById("alertProcessStart").active="true",console.log("Save feature layer method called."),function(){var e=q("qp_gavel_app_session"),t=Date.now();return Object(hn.a)({authentication:e,item:{name:"GavelFeatureService_"+t,isView:!0,sourceSchemaChangesAllowed:!0,isUpdatableView:!0,spatialReference:{wkid:102100,latestWkid:3857},initialExtent:{xmin:-20037507.0671618,ymin:-30240971.9583862,xmax:20037507.0671618,ymax:18398924.324645,spatialReference:{wkid:102100,latestWkid:3857}},allowGeometryUpdates:!0,hasStaticData:!0,maxRecordCount:1e3,supportedQueryFormats:"JSON",copyrightText:"&copy;2021 Quiet Professionals, LLC",description:"A <strong>Feature Service</strong> designed to hold data from a single <strong>Feature Layer</strong>",editorTrackingInfo:{allowAnonymousToDelete:!1,allowAnonymousToUpdate:!1,allowOthersToDelete:!1,allowOthersToQuery:!0,allowOthersToUpdate:!1,enableEditorTracking:!0,enableOwnershipAccessControl:!0},capabilities:"Create,Delete,Update",preserveLayerIds:!1,serviceDescription:"A <strong>Feature Service</strong> designed to hold data from a single <strong>Feature Layer</strong>",units:"esriSRUnit_Meter",xssPreventionInfo:{xssPreventionEnabled:!0,xssPreventionRule:"input",xssInputRule:"rejectInvalid"}}})}().then((function(e){return r=e.serviceurl,o=e.name,i={serviceUrl:r,serviceName:o},L(r),function(e,t){var n=e.serviceurl,a=t.layer.source.items,r=q("qp_gavel_app_session");return Date.now(),console.log("FEATURE_SERVICE_CREATED: ",e),console.log("Session: ",r),console.log("Layer JSON: ",a),Object(jn.a)(n,{adminServiceInfo:{name:"Gavel Feature Service / Layer",type:"FeatureServer",maxRecordCount:5e3},authentication:r,layers:[{adminLayerInfo:{geometryField:{name:"Shape",srid:102100},tableExtent:{xmin:-178.215026855,ymin:18.9247817990001,xmax:-66.969848633,ymax:71.406646729,spatialReference:{wkid:102100,latestWkid:3857}}},id:0,name:"Gavel",layerType:"Feature Layer",displayField:"New Feature Layer",description:"Feature Layer that contains relative statistcal / analytical data",copyrightText:"&copy;2021 Quiet Professionals, LLC",defaultVisibility:!0,visibilityField:"visible",editingInfo:{lastEditDate:null},relationships:[],isDataVersioned:!1,supportsAppend:!0,supportsCalculate:!0,supportsTruncate:!0,supportsAttachmentsResizing:!0,supportsRollbackOnFailureParameter:!0,supportsStatistics:!0,supportsAdvancedQueries:!0,supportsValidateSql:!0,supportsCoordinatesQuantization:!0,supportsApplyEditsWithGlobalIds:!1,supportsAttachmentsByUploadId:!0,advancedQueryCapabilities:{supportsPagination:!0,supportsPaginationOnAggregatedQueries:!0,supportsQueryRelatedPagination:!0,supportsQueryWithDistance:!0,supportsReturningQueryExtent:!0,supportsStatistics:!0,supportsOrderBy:!0,supportsDistinct:!0,supportsQueryWithResultType:!0,supportsSqlExpression:!0,supportsAdvancedQueryRelated:!0,supportsCountDistinct:!0,supportsLod:!0,supportsReturningGeometryCentroid:!1,supportsQueryWithDatumTransformation:!0,supportsHavingClause:!0,supportsOutFieldSQLExpression:!0},useStandardizedQueries:!0,geometryType:"esriGeometryPoint",minScale:0,maxScale:0,extent:{xmin:-20037508.342788905,ymin:-8175201.3721496435,xmax:-10018754.171394452,ymax:12175461.54272524,spatialReference:{wkid:102100,latestWkid:3857}},drawingInfo:{renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[215,25,28,1],outline:{color:[255,255,255,.7],width:.5,type:"esriSLS",style:"esriSLSSolid"},size:7.5},label:"",description:""},transparency:0},allowGeometryUpdates:!0,hasAttachments:!1,htmlPopupType:"esriServerHTMLPopupTypeAsHTMLText",hasM:!1,hasZ:!1,objectIdField:"FID",uniqueIdField:{name:"FID",isSystemMaintained:!0},globalIdField:"GlobalID",typeIdField:"",fields:[{name:"OBJECTID",type:"esriFieldTypeInteger",actualType:"int",alias:"OBJECTID",sqlType:"sqlTypeInteger",nullable:!0,editable:!0,domain:null,defaultValue:null},{name:"registrationID",type:"esriFieldTypeString",actualType:"nvarchar",alias:"registrationID",sqlType:"sqlTypeNVarchar",length:256,nullable:!0,editable:!0,domain:null,defaultValue:null},{name:"ipAddress",type:"esriFieldTypeString",actualType:"nvarchar",alias:"ipAddress",sqlType:"sqlTypeNVarchar",length:256,nullable:!0,editable:!0,domain:null,defaultValue:null},{name:"flags",type:"esriFieldTypeInteger",actualType:"int",alias:"flags",sqlType:"sqlTypeInteger",nullable:!0,editable:!0,domain:null,defaultValue:null},{name:"timestamp",type:"esriFieldTypeDate",actualType:"date",alias:"date",sqlType:"sqlTypeOther",nullable:!0,editable:!0,domain:null,defaultValue:null},{name:"latitude",type:"esriFieldTypeDouble",actualType:"float",alias:"latitude",sqlType:"sqlTypeFloat",nullable:!0,editable:!0,domain:null,defaultValue:null},{name:"longitude",type:"esriFieldTypeDouble",actualType:"float",alias:"longitude",sqlType:"sqlTypeFloat",nullable:!0,editable:!0,domain:null,defaultValue:null},{name:"FID",type:"esriFieldTypeOID",actualType:"int",alias:"FID",sqlType:"sqlTypeInteger",nullable:!1,editable:!1,domain:null,defaultValue:null},{name:"GlobalID",type:"esriFieldTypeGlobalID",alias:"GlobalID",sqlType:"sqlTypeOther",length:38,nullable:!1,editable:!1,domain:null,defaultValue:"NEWID() WITH VALUES"}],indexes:[],types:[],templates:[{name:"New Feature",description:"New Feature Layer",drawingTool:"esriFeatureEditToolPoint",prototype:{attributes:{registrationID:null,ipAddress:null,flags:null,timestamp:null,latitude:null,longitude:null,X:null,Y:null}}}],supportedQueryFormats:"JSON, geoJSON",hasStaticData:!1,ownershipBasedAccessControlForFeatures:!0,allowTrueCurvesUpdates:!0,onlyAllowTrueCurveUpdatesByTrueCurveClients:!0,maxRecordCount:5e3,standardMaxRecordCount:1e5,tileMaxRecordCount:8e3,maxRecordCountFactor:1,capabilities:"Query,Editing,Create,Update,Delete",exceedsLimitFactor:1}],tables:[]})}(e,a)})).then((function(e){return vn(e,a,i)})).then((function(e){document.getElementById("alertSuccess").active="true",console.log("EDITS_APPLIED_FEATURE_LAYER: ",e)})).catch((function(e){document.getElementById("alertDanger").active="true",console.error("ERROR: Save Feature Layer: ",e)}))):"layerDelete"===n&&console.log("Delete feature layer method called.")})),U.popup.on("trigger-action",(function(e){"patternOfLife"===e.action.id&&(document.getElementById("alertProcessStart").active="true",function(){h.apply(this,arguments)}())})),U.popup.watch("selectedFeature",(function(e){if(e)e.getEffectivePopupTemplate();console.log("Listening for ",e)})),U.ui.add(l,"top-right",0),U.ui.add(c,"bottom-left",1),U.ui.add(p,"bottom-right",0),U.ui.add(s,"bottom-right",0),U.ui.add(g,"bottom-right",0),U.ui.add(y,"top-left",0),U.ui.add(i,"bottom-left",1)}));var u=function(e){var t=e.graphic;if("start"===e.state&&"circle"===e.tool&&console.log("Sketch Tool - Start / Circle: ",e),"complete"===e.state&&"circle"===e.tool){console.log("Sketch Tool - Complete / Circle: ",e);var n=t.geometry.centroid.x,a=t.geometry.centroid.y,r=t.geometry.rings[0][0][0],i=t.geometry.rings[0][0][1],s=In({locationA:{x:n,y:a},locationB:{x:r,y:i}});console.log("Circle Radius: ",s);var l={latitude:t.geometry.centroid.latitude,longitude:t.geometry.centroid.longitude,radius:s};o({type:Se,payload:l})}"update"===e.state&&"circle"===e.tool&&console.log("Sketch Tool - Update / Circle: ",e)},d=function(){U.on("click",(function(e){"active"!==t.state&&U.hitTest(e).then((function(e){var n=e.results;console.log("HitTest Results: ",n),n.forEach((function(e){e.graphic.layer===t.layer&&e.graphic.attributes&&e.graphic.attributes.newDevelopment?(console.log("sketch graphic updated",e),t.update([e.graphic],{tool:"reshape"})):console.log("sketch: No graphic clicked and passed in",e)}))}))}))}})),e.onMapLoaded()}))}),[]),"success"==s&&(console.log("Data Status: ",s),function(e,t,n){return kn.apply(this,arguments)}(S,I,i).then((function(e){var t=document.getElementById("submitDatesBtn");document.getElementById("alertSuccess");t.removeAttribute("loading"),t.removeAttribute("disabled")}))),"success"==d&&(console.log("Data Status: ",d),function(e,t,n){Un.apply(this,arguments)}(S,I,l));return Object(Pt.jsxs)(u.a.Fragment,{children:[Object(Pt.jsx)(Zn,{}),Object(Pt.jsx)(Kn,{}),Object(Pt.jsx)(Mn,{}),Object(Pt.jsx)(Hn,{}),Object(Pt.jsx)(_n,{}),Object(Pt.jsx)($n,{}),Object(Pt.jsx)(ya,{id:a,"qp-hidden":"true",children:Object(Pt.jsx)(wn.a,{id:"dateRangeCard",bar:"blue",className:"esri-widget",style:{mar1gin:"0 5px",flex:"1 0 25%"},children:Object(Pt.jsxs)(Sn.CardContent,{children:[Object(Pt.jsx)(Sn.CardTitle,{children:"Date Range:"}),Object(Pt.jsx)(sa,{className:"esri-widget",startDate:y,endDate:v,handleStartQuery:function(e){console.log("queryStartHandler: ",e);var t=Date.parse(e);f(t)},handleEndQuery:function(e){console.log("queryEndHandler: ",e);var t=Date.parse(e);O(t)}})]})})})]})}),fa=Ft.b.div(ca||(ca=Object(kt.a)(["\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n"]))),ma=Ft.b.div(ua||(ua=Object(kt.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  position: relative;\n  z-index: 0;\n  overflow: hidden;\n"]))),ha=Object(Ft.b)(Yt.a)(da||(da=Object(kt.a)(["\n  justify-content: center;\n  & img {\n    height: 55px;\n  }\n"]))),ja=Object(Ft.b)(Xt.a)(pa||(pa=Object(kt.a)(["\n  && {\n    z-index: 5;\n  }\n"]))),va=Object(Ft.b)(Ht.a)(ga||(ga=Object(kt.a)(["\n  text-align: inherit;\n"]))),Oa=function(e){var t=Object(b.d)((function(e){return e.auth})),n=Object(b.d)((function(e){return e.config})),a=(Object(b.d)((function(e){return e.auth.user})),Object(b.d)((function(e){return e.map.loaded}))),r=Object(b.c)();return Object(Pt.jsxs)(fa,{children:[Object(Pt.jsx)(Gt,{isLoading:!a}),Object(Pt.jsxs)(ja,{children:[Object(Pt.jsx)(ha,{href:"#",src:"data:image/png;base64,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"}),Object(Pt.jsx)(Kt.a,{href:"#",children:"Welcome to Gavel"}),Object(Pt.jsx)(va,{}),Object(Pt.jsx)(rn,{user:t.user,portal:t.portal,token:t.token,loggedIn:t.loggedIn,signIn:function(){var e=n.clientId,t=n.sessionId,a=n.popup;console.log("Init user authentication"),r(k({clientId:e,sessionId:t,popup:a,signInRequest:!0}))},signOut:function(){var e;console.log("Logout current user"),r((e=n.sessionId,{type:A,payload:{sessionId:e}}))}})]}),Object(Pt.jsx)(ma,{children:Object(Pt.jsx)(c.Suspense,{fallback:Object(Pt.jsx)("div",{children:"Loading Gavel..."}),children:Object(Pt.jsx)(ba,{onMapLoaded:yt,mapConfig:n.mapConfig,loaderConfig:n.loaderConfig})})})]})},xa=(n(897),n(898),function(e){var t=e.location.pathname;console.log("Pathname",e);var n=Object(b.d)((function(e){return e.auth.user})),a=Object(b.d)((function(e){return e.config})),r=Object(b.d)((function(e){return e.securityToken})),o=Object(b.c)();Object(c.useEffect)((function(){o({type:ne})}),[]),Object(c.useEffect)((function(){if(a.loaded){var e=a.portalUrl,t=a.clientId,n=a.sessionId,r=a.dojoConfig;window.dojoConfig=r,o({type:T,payload:{portalUrl:e,clientId:t,sessionId:n}})}}),[a]),Object(c.useEffect)((function(){if(a.loaded){var e=a.portalUrl,r=a.clientId,i=a.sessionId;"/auth"!==t?e&&!n&&o(k({portalUrl:e,clientId:r,sessionId:i})):"/auth"!==t||n||o({type:D,payload:{portalUrl:e,clientId:r,sessionId:i}})}}),[n,t,a]),Object(c.useEffect)((function(){var e;r.isValid||o({type:je,payload:e})}),[r]);var i=!0;return"/auth"===t&&(i=!0),!a.loaded||a.portalUrl&&!n||i&&!n?Object(Pt.jsx)(Gt,{isLoaded:!1}):Object(Pt.jsxs)(u.a.Fragment,{children:[Object(Pt.jsx)(y.b,{path:"/main",component:Oa}),Object(Pt.jsx)(y.a,{to:"/main"})]})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Da,Sa=n(164),wa=n.n(Sa),Ta=(n(900),n(598)),Aa=(n(902),Object(Ft.a)(Da||(Da=Object(kt.a)(["\n  html,\n  body {\n    height: 100%;\n    font-family: Montserrat, sans-serif;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-weight: 300;\n    letter-spacing: 1px;\n    font-size: 16px;\n  }\n\n  .esri-layer-list__item{\n    &::before {\n      width: 100%;\n      left: 0;\n    }\n  }\n\n  nav.ciBUMa {\n    padding: 0 1em;\n  }\n"]))));n(436).config();var Ia=null;Ia=Et.a,console.log("NODE_ENV: ","production"),console.log("basename: ",Ia);var Ea=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.c,t=Object(f.b)(l),n=Object(m.a)(),a=[n],r=Object(f.d)(t,e(f.a.apply(void 0,a)));return n.run(rt),n.run(St),r}();Object(Ta.a)().then((function(){Object(Ta.b)(window),p.a.render(Object(Pt.jsx)(b.a,{store:Ea,children:Object(Pt.jsx)(g.a,{basename:Ia,children:Object(Pt.jsxs)(wa.a,{children:[Object(Pt.jsx)(Aa,{}),Object(Pt.jsx)(y.b,{path:"/",component:xa})]})})}),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[904,40,41]]]);
//# sourceMappingURL=main.909e65b9.chunk.js.map