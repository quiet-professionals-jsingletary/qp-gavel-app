{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/AnalyticalSkyModel.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js","../node_modules/@arcgis/core/core/libs/earcut/earcut.js","../node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js","../node_modules/@arcgis/core/chunks/WaterSurface.glsl.js","../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Reprojection.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","../node_modules/@arcgis/core/geometry/support/triangulationUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js","../node_modules/@arcgis/core/views/3d/support/debugFlags.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTarget.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/localOrigin.js","../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/CommonUniformStore.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRep.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ResizableFloat32Array.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js","../node_modules/@arcgis/core/views/3d/webgl-engine/statistics/RendererPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LongVectorMath.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../node_modules/@arcgis/core/views/3d/layers/graphics/constants.js","../node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pointUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/pointGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js","../node_modules/@arcgis/core/chunks/mat2.js","../node_modules/@arcgis/core/chunks/mat2f64.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js"],"names":["a","r","output","receiveShadows","varyings","add","vertex","code","e","uniforms","j","s","getLogger","C","layer","interactive","selectable","grabbable","dragging","cursor","events","n","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","t","geometry","this","symbol","_set","attachSymbolChanged","error","graphic","elevationInfo","v","i","offset","b","mode","_get","_updateGraphicSymbol","emit","action","detachSymbolChanged","_resetGraphicSymbol","visible","l","o","view","type","_intersectDistance2D","_intersectDistance3D","remove","watch","focusedSymbol","_focused","f","S","originalPoint","equals","spatialReference","g","y","clone","mapPoint","radiusPx","c","size","h","G","toScreen","x","xoffset","yoffset","_","toMap","include","d","w","renderSpatialReference","u","state","camera","eye","constructOnly","nonNullable","prototype","readOnly","dependsOn","value","m","p","fragment","pbrMode","useCustomDTRExponentForWater","V","verticalOffset","selectionMode","hud","selectOpaqueTerrainOnly","invisibleTerrain","backfacesTerrain","isFiltered","store","_transform","_transformInverse","_transformInverseTranspose","_transformTranspose","_transformInverseRotation","T","invalidate","invalidateLazyTransforms","setTransformMatrix","multiplyTransform","original","update","dirty","transform","k","min","max","ground","init","all","normal","transformation","_ray","I","create","dist","Q","ray","direction","hasIntersectionPoint","origin","W","z","target","name","drapedLayerOrder","drapedLayerGraphicOrder","center","geometryId","triangleNr","intersector","copy","M","obj","U","metadata","layerUid","map","findLayerByUid","R","createGraphic","graphicsView","mockLayerId","graphics","getGraphicFromGraphicUid","graphicUid","allLayerViews","find","suspended","getGraphicFromIntersectorMetadata","F","tmpVertex","localOrigin","Math","sqrt","P","componentLocalOriginLength","mbs","obb","halfSize","L","quaternion","O","X","A","sphere","objectTransform","inverse","radius","B","J","length","Array","next","prev","steiner","push","sort","index","Z","prevZ","nextZ","abs","byteLength","Uint32Array","minReduction","originalIndices","componentOffsets","floor","ceil","q","buffer","indices","uniqueCount","bindUniforms","setUniform1i","setUniform4f","waveStrength","waveTextureRepeat","flowStrength","flowOffset","setUniform2f","waveDirection","waveVelocity","linearDepth","attributes","float","OITEnabled","Object","freeze","__proto__","build","builder","bindPassUniforms","setUniform1f","perScreenPixelRatio","screenSize","screenSizeEnabled","shadingEnabled","viewingMode","highStepCount","lastFrameColorTextureID","bindTexture","lastFrameColorTexture","setUniformMatrix4fv","reprojectionMat","projectionMatrix","ssrEnabled","linearDepthTextureID","linearDepthTexture","setUniform2fv","nearFar","viewMatrix","height","cache","Map","forEach","texture","dispose","clear","patternId","get","refCount","bind","patternToTextureData","width","internalFormat","pixelFormat","dataType","wrapMode","set","delete","acquire","release","join","reduce","Uint8Array","slice","main","selected","staged","outline","selectedOutline","color","coneHeight","coneWidth","renderOccluded","outlineSize","collisionPadding","outlineColor","hoverOutlineColor","setParameterValues","transparent","edge","stipplePattern","stippleOffColor","falloff","innerWidth","innerColor","shape","primitive","glowColor","glowWidth","glowFalloff","globalAlpha","globalAlphaContrastBoost","heightFillColor","toUnitRGB","intersectsLineRadius","style","laserlineStyle","shadowStyle","extensionType","lineGraphics","pointGraphics","heightPlane","heightBox","zVerticalLine","laserlineAlphaMultiplier","heightPlaneAngleCutoff","toUnitRGBA","visualElements","reshapeManipulators","zManipulator","uniqueName","shaderTransformationDirty","data","toRenderData","boundingInfo","material","bsRadius","calculateShaderTransformation","updateTransformation","castShadow","instanceParameters","highlights","occludees","getBoundingSphere","getCenter","getBSRadius","shaderTransformation","computeAttachmentOrigin","getIndices","POSITION","getAttribute","vertexAttr","Float64Array","pathLengths","count","holeIndices","position","polygons","outlines","intensity","castShadows","sh","_viewUp","_viewForward","_viewRight","createWrapper","_viewport","_padding","_fov","PI","_nearFar","_viewDirty","_viewMatrix","_projectionDirty","_projectionMatrix","_viewProjectionDirty","_viewProjectionMatrix","_viewInverseTransposeMatrixDirty","_viewInverseTransposeMatrix","_frustumDirty","_frustum","H","_fullViewport","_contextNavigation","pixelRatio","relativeElevation","_eye","_center","_up","_compareAndSetView","_ensureViewClean","fullWidth","fullHeight","D","near","tan","fovY","aspect","far","Y","_recomputeFrustum","fovX","perRenderPixelRatio","up","copyFrom","computeRenderPixelSizeAtDist","viewDirectionDistance","computeScreenPixelSizeAtDist","E","viewForward","padding","viewport","setViewport","fullViewport","projectToRenderScreen","K","renderToScreen","viewProjectionMatrix","unprojectFromRenderScreen","screenToRender","N","computeUpGlobal","computeUpLocal","markViewDirty","fromMatrix","arguments","SCENEVIEW_HITTEST_RETURN_INTERSECTOR","SCENEVIEW_LOCKING_LOG","HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED","HIGHLIGHTS_PROFILE_TO_CONSOLE","DECONFLICTOR_SHOW_VISIBLE","DECONFLICTOR_SHOW_INVISIBLE","DECONFLICTOR_SHOW_GRID","LABELS_SHOW_BORDER","OVERLAY_DRAW_DEBUG_TEXTURE","OVERLAY_SHOW_CENTER","SHOW_POI","TERRAIN_DEBUG_POPUP","TESTS_DISABLE_UPDATE_THRESHOLDS","DISABLE_DECONFLICTOR_VISIBILITY_OFFSET","DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES","DRAW_MESH_GEOMETRY_NORMALS","FEATURE_TILE_FETCH_SHOW_TILES","FEATURE_TILE_TREE_SHOW_TILES","I3S_TREE_SHOW_TILES","I3S_SHOW_MODIFICATIONS","ENABLE_PROFILE_DEPTH_RANGE","DISABLE_FAST_UPDATES","LOD_INSTANCE_RENDERER_DISABLE_UPDATES","LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL","EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES","_renderTarget","id","colorTarget","depthStencilTarget","samplingMode","hasMipmap","maxAnisotropy","colorTexture","resize","bindFramebuffer","descriptor","generateMipmap","vec3","extent","resolution","renderLocalOrigin","renderTargets","fbo","valid","lastUsed","colorWithoutRasterImage","highlight","water","occluded","drawPass","disposeRenderTargetMemory","validateUsage","getGpuMemoryUsage","_uniforms","proj","shadowMapDistance","viewportPixelSz","lightingMainDirection","hasUniform","technique","refZeroFrame","_context","_perConstructorInstances","_frameCounter","_keepAliveFrameCount","key","constructor","commonUniformStore","getPrograms","shader","reload","refCnt","glMaterial","_textureRep","_techniqueRep","onMaterialChanged","_id2glMaterialRef","ownMaterial","getGLMaterial","techniqueRep","textureRep","incRefCnt","decRefCnt","getRefCnt","updateParameters","materialRepository","ROOT_ORIGIN_ID","_origins","_gridSize","testOrigin","getOrigin","random","round","window","_stage","_object","_material","isPickable","idHint","addObject","addToViewContent","Float32Array","WebMercator","addGeometry","console","log","lastFrameCamera","pass","slot","highlightDepthTexture","renderOccludedMask","hasOccludees","rctx","offscreenRenderingHelper","scenelightingData","shadowMap","ssaoHelper","sliceHelper","_array","_size","subarray","waterTextureRepository","configuration","transparencyPassType","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","useSSR","generateSource","ready","updating","loadTextures","bindProjectionMatrix","program","lighting","setUniforms","bindRepo","setUniform4fv","bindOutputHighlight","bindView","bindCamPosition","viewInverseTransposeMatrix","SHADOW_MAP","bindUniformsWithOrigin","blending","depthTest","func","depthWrite","writeDepth","colorWrite","polygonOffset","enableOffset","setPipelineState","isDraped","acquireAndReleaseExisting","getTechniqueConfig","params","animation","time","animationSpeed","shadowMappingEnabled","ensureResource","_updateShadowState","_updateSSRState","bindProgram","bindPass","setElapsedTimeUniform","from","to","isVisible","hasHighlights","transformationNormal","first","drawCalls","triangles","begin","end","_dataByOrigin","_hasHighlights","_hasOccludees","_rctx","_materialRep","_glMaterials","_bufferWriter","createBufferWriter","vao","isEmpty","updateGeometries","toUpdate","addAndRemoveGeometries","toAdd","toRemove","updateRenderCommands","vertexBufferLayout","stride","optimalCount","sparseCount","elementCount","createData","array","removeAndRebuild","removeByErasing","append","vertexBuffers","byteSize","setData","setSubData","drawCommandsDirty","updateType","renderGeometry","instances","write","invTranspTransformation","createView","hasHiddenInstances","drawCommandsDefault","drawCommandsHighlight","drawCommandsOccludees","stats","default","layout","values","ensureResources","beginSlot","ensureParameters","getTechnique","getPipelineState","bindDraw","ensureAttributeLocations","bindVAO","primitiveType","renderCommands","drawArrays","vertexAttributeLocations","createVertex","erase","glMaterials","_pendingAddsRemoves","_adds","_removes","_updates","allocator","deallocator","_materialRenderers","_sortedMaterialRenderers","_hasWater","prune","rendersOccluded","forAll","stopAtTime","updateAddsRemoves","numToAdd","numToRemove","numToUpdate","hasWater","modify","updateSortedMaterialRenderers","notifyChange","pushNew","materialRenderer","updateLogic","render","insertOrder","renderPriority","has","removeUnorderedIndex","sortedMaterialRenderers","hasAlpha","sphericalHarmonics","_renderLighting","_shOrder","_oldSunlight","ambient","diffuse","setUniform3fv","_info","groundLightingFactor","globalFactor","setLightDirectionUniform","setUniform3f","lights","_overlays","_rendersOccluded","_lighting","_localOrigins","_handles","_layerRenderers","_sortedLayerRenderersDirty","_sortedLayerRenderers","_geometries","_uniqueIdx","globalUnitScale","longitudeCyclical","renderView","renderingContext","_renderContext","_stippleTextureRepository","_shaderTechniqueRepository","stippleTextureRepository","emitContentChanged","_materialRepository","textureRepository","updateRendersOccluded","_compositingHelper","compositingHelper","_bindParameters","inverseViewport","screenToWorldRatio","screenToWorldRatioGlobalWM","slicePlane","ssaoEnabled","destroy","commitChanges","updateSortedLayerRenderers","updateHasHighlights","updateHasWater","ensureLayerRenderer","notifyGraphicUpdate","notifyUpdateGeometries","warn","numViews","_screenToWorldRatio","views","hasNonZeroSizedView","isValid","setClearColor","clearSafe","setViewParameters","drawDebugTexture","layerView","renderer","drapeSourceType","fullOpacity","bindTemporaryFramebuffer","draw","_temporaryRenderTarget","composite","getTexture","generateMipMap","resetRenderOccludedMask","hotReload","intersectRenderGeometry","range","intersect","getShaderTransformation","addIntersectionResult","results","options","stopAnimationsAtTime","keys","Set","setGLViewport","onContentChanged","onHasHighlightsChanged","onRendersOccludedChanged","ensureDebugPatternResources","_debugTextureTechnique","pipeline","_debugPatternTexture","_quadVAO","layerRenderers","Boolean","attributeData","removeDuplicateStartEnd","offsetIdx","strideIdx","mapPosition","mapPos","colorFeature","COLOR","sizeFeature","SIZE","COLORFEATUREATTRIBUTE","SIZEFEATUREATTRIBUTE","opacityFeature","OPACITYFEATUREATTRIBUTE","uniformSize","SUBDIVISIONS","pow","resourceFactory","_resources","_visible","_attached","_destroyResources","external","_syncGeometriesToRenderer","_createOrDestroyResources","attached","_createResources","recreateGeometry","ensureRenderGeometriesRemoved","recreate","createResources","geometriesAdded","basemapTerrain","overlayManager","registerDrapeSource","unregisterDrapeSource","ensureRenderGeometriesAdded","removeGeometries","geometries","addGeometries","_attachmentOrigin","_attachmentOriginDirty","_isDraped","_geometry","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_falloff","_elevationInfo","_laserlineStyle","_laserlineEnabled","_renderOccluded","resources","drapedResources","createDrapedResources","createRenderGeometriesDraped","attachmentOriginChanged","_laserline","updateAttached","laserlineAttached","laserlineEnabled","updateMaterial","isClosed","renderCoordsHelper","fromRenderCoords","materialParameters","stippleIntegerRepeats","normalizedRenderOccluded","createRenderGeometries","rings","paths","lines","projectionSuccess","hasZ","sampledElevation","elevationProvider","fromElevationInfo","pathVerticalPlane","shadingTint","shadingDirection","blendColor","culling","cullFace","face","supportsEdges","techniqueConfig","_vertexAttributeLocations","applyToVertex","computeRenderPixelSizeAt","applyToAabb","getPassParameters","vec3f","createBuffer","Error","getField","_vertices","_spatialReference","colorToVec4","_outlineColor","_outlineSize","applyProps","updateOutlineMaterial","vertexMaterial","vertexMaterialParameters","vertexOutlineMaterial","vertexOutlineMaterialParameters","vertices","numVertices","vertexGeometry","vertexOutlineGeometry","createSphereGeometry","uv","indexCount","vertexAttributes","drawOperation","_createGraphic","_outlineVisualElement","_verticesVisualElement","_stagedVerticesVisualElement","defaultZ","snapToScene","snappingOptions","geometryType","_internalGraphicsLayer","layers","manipulators","drawingMode","snapToSceneEnabled","snappingDrawSurface","hasM","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","_destroyAllVisualisations","onInputEvent","hasStagedVertex","splice","regularVertices","stagedVertices","full","coordinateHelper","createPointFromArray","makeMapPoint","forceUniformSize","centered","_destroyCreateGraphic","_destroyOutlineVisualElement","_destroyVerticesVisualElement","_destroyStagedVerticesVisualElement","_getCreateGeometry","apply","createGraphicSymbol","maskOccludee","_updateCreateGraphic","canRedo","redo","canUndo","undo","complete","isCompleted","cancel","vertexIndex","EventedMixin","_elevation","override","collisionType","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","_renderLocationDirty","_location","_elevationAlignedLocation","_elevationAlignedLocationDirty","_grabbing","_hovering","_selected","_state","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_engineLayerId","_materialIdReferences","_removeResourcesFromStage","_updateEngineObject","toRenderCoords","elevationAlignedLocation","te","location","_evaluateElevationAlignment","_updateElevationAlignedLocation","_setFocused","ensureScreenLocation","computeScreenPixelSizeAt","renderLocation","_calculateModelTransformOffset","re","available","_getCollisionRadius","screenLocation","_getWorldToScreenObjectScale","_calculateObjectTransform","$","fromScreen","ie","closestRayDistance2","fromPoints","oe","ne","fromPositionAndNormal","ee","se","intersectRay","_calculateModelTransformPosition","distance2","manipulator3D","engineLayerId","engineLayerReferences","materialIdReferences","ae","_getFocusedSize","focused","_ensureEngineResources","objectsByState","stateMask","objects","setVisible","objectTransformation","getContent","renderObjects","isArray","materials","_addResourcesToStage","removeObject","areAnyResourcesVisible","atan2","getViewForGraphic","tracking","displaying","EventedAccessor","grabbingState","firstSelected","numSelected","firstGrabbedXY","forEachManipulator","grabbing","visualElement","writeDepthEnabled","angleCutoff","setStartEndFromWorldDownAtLocation","heightManifoldTarget","attachmentOrigin","onManipulatorsChanged","trackGraphicState","intersectsLineInfinite","intersectsWorldUpAtLocation","calculateMapBounds","sin","cos","identity","transpose","invert","adjoint","determinant","multiply","rotate","scale","fromRotation","fromScaling","str","frob","LDU","subtract","exactEquals","multiplyScalar","multiplyScalarAndAdd","mul","sub","fromValues","dxScreen","screenDeltaX","dyScreen","screenDeltaY","translationX","translationY","translationZ","normalize","Number","POSITIVE_INFINITY","forEachManipulator3D","someManipulator","performanceInfo","queryDuration","numObjectsTested","tolerance","_rayEndPoint","_rayStartPointTransformed","_rayEndPointTransformed","resetWithRay","_numObjectsTested","point","filterPredicate","intersectObject","getSpatialQueryAccelerator","forEachAlongRayWithVerticalOffset","forEachAlongRay","forEachDegenerateObject","getObjects","sortResults","geometryRecords","setAndInvalidateLazyTransforms","MAX_VALUE","MIN_VALUE","screenStart","screenEnd","renderStart","renderEnd","plane","sceneIntersectionHelper","intersectElevationFromScreen","mapStart","mapEnd","worldUpAtPosition","projectPoint","execute","DEFAULT_TOLERANCE","_arrowManipulatorInfos","_opaqueMaterial","createMaterial","_transparentMaterial","_angle","_scale","_updateAfterDrag","_tool","tool","_view","_createManipulators","manipulator","removeAll","createDragPipeline","manipulatorType","angle","_updateManipulatorTransform","_updateManipulators","_updateArrowManipulator","createExtrudedTriangle","transformInPlace","_createArrowManipulator","displayScale","modelTransform","arrowManipulators","lastDragEvent","_enabled","snap","exclude","_snapToScene","_discMaterial","_createMaterial","_discMaterialTransparent","_createManipulator","_manipulator","enabled","_updateManipulator","createDragEventPipelineStep","worldSized","createCylinderGeometry","discManipulator","createManipulator","updateManipulator","createTubeGeometry","createConeGeometry","applyObjectTransform","_angleDeferred","_interactive","xyManipulation","xyAxisManipulation","zManipulation","xyAvailable","xyAxisAvailable","zAvailable","autoHideXYAxis","updateManipulatorInteractivity","createGraphicDragPipeline","xyAxisVisible","inputManager","latestPointerType","disableDisplay","symbolLayers","some","_graphicState","graphicState","allGraphics","dx","dy","enableZ","_toolHandles","_refreshManipulators","_moveManipulation","toArray","filter","createManipulators","createVisualElements","updateMoveManipulation","manipulationXY","stopPropagation","buildDragEventPipeline","createMoveManipulation","radiusForSymbol","hasManipulator","getItemAt","updateMoveManipulationAngle","geometryRepresentation","angleDeferred","destroyed","_vertexManipulatorMaterial","_vertexManipulatorOutlineMaterial","_vertexManipulatorHoverOutlineMaterial","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","_selectedIndex","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","_manipulatorHandles","_manipulatorInfos","_reshapeHelper","_graphicMoveManipulation","_numGrabbing","_numDragging","_reshapeEventState","outputGeometry","_vertexLaserLineVisualElement","snappingEngine","_clear","_recreateManipulators","enableMoveGraphic","handle","_removeVertices","inputGeometry","fromGeometry","components","_createPerVertexManipulator","edges","_createGraphicMoveManipulators","moveVertices","mapDeltaX","mapDeltaY","mapDeltaZ","pos","_updateManipulatorPosition","_updateEventState","mover","info","_trackNumDragging","_perGraphicManipulatorDragAction","_cancelDragOperation","_watchAndUpdateGrabState","_clearSelection","doneSnapping","_updateMoveManipulationPosition","Vertex","Edge","_setTypeSpecificManipulatorSettings","locationUpdateHandle","selectedIndex","_getManipulatorInfoFromHandle","left","right","_splitEdgeManipulator","_snapDrag","_perVertexManipulatorDragAction","_manipulatorClickCallback","isMultiVertexSelection","context","originalPos","createDehydratedPoint","_updateSelection","indexOf","toPoint","splitEdge","createdVertex","component","coordinates","componentIndex","added","orthogonalAvailable","canRemoveVertex","_removeManipulator","removeVertices","removedVertices","createdEdge","removed","shiftKey","button","_dirty","toPolyline","toPolygon","_reshapeOperation","_internalGeometryUpdate","_updateGeometry","manipulatorSelectionChanged","_onReshapeGeometryChanged","_updateGraphic","removeSelectedVertices","rt","ScaleIn","ScaleOut","RotateLeft","RotateRight","Unlocked","DelayedFocused","TouchInput","nt","_scaleRotateDragData","_activeAnimation","getFocused","ringManipulator","getScale","updateDragState","updateManipulatorTransform","frameTask","cancelActiveAnimation","start","deltaTime","createRingManipulator","heading","getSymbolLayerSize","startAngle","symbolRotationAngle","angleDir","scaleDir","startSymbolData","shortestSignedDiff","onScaleChanged","lt","wrap","applySymbolData","startAnimation","ct","updateDelayedFocusedState","updateStateEnabled","createPathExtrusionGeometry","et","st","concat","enforceNonZeroSize","depth","ht","gt","enableRotation","enableScaling","handles","scaleRotate","moveManipulation","updateMoveAngle","onGeometryChanged","hideManipulatorsForGraphicState","test","bindViewCustomOrigin"],"mappings":"+KAIsD,SAASA,EAAEA,EAAEC,GAAG,IAAIA,EAAEC,QAAQD,EAAEE,gBAAgBH,EAAEI,SAASC,IAAI,cAAc,SAASL,EAAEM,OAAOC,KAAKF,IAAIG,YAAlB,oGAEpI,IAAIP,EAAEC,QAAQ,IAAID,EAAEC,QAAQF,EAAEI,SAASC,IAAI,cAAc,SAASL,EAAEM,OAAOG,SAASJ,IAAI,iBAAiB,QAAQL,EAAEM,OAAOC,KAAKF,IAAIG,YAAlB,yLAIjHR,EAAEM,OAAOC,KAAKF,IAAIG,YAAlB,uE,wQCN+pCE,EAAEC,IAAEC,UAAU,6CAAiDC,EAAC,kDAAiB,WAAYL,GAAE,kCAAC,cAAMA,IAAQM,MAAM,KAAK,EAAKC,aAAY,EAAG,EAAKC,YAAW,EAAG,EAAKC,WAAU,EAAG,EAAKC,UAAS,EAAG,EAAKC,OAAO,KAAK,EAAKC,OAAO,IAAIC,IAAEC,aAAa,EAAKC,sBAAsB,KAAK,EAAKC,4BAA4B,KAAK,EAAKC,gBAAgB,KAA/O,EAA/B,yCAAmR,SAAYjB,GAAG,SAASkB,YAAElB,EAAEmB,SAAS,SAASC,KAAKL,sBAAsB,KAAKK,KAAKH,gBAAgBjB,EAAEqB,OAAOD,KAAKE,KAAK,UAAUtB,GAAGoB,KAAKG,uBAAuBrB,EAAEsB,MAAM,uCAA1b,yBAA+d,WAAoB,IAAMxB,EAAE,kBAAkBoB,KAAKK,QAAQnB,OAAOc,KAAKK,QAAQnB,MAAMoB,cAAcR,EAAES,YAAEP,KAAKK,SAASG,EAAE5B,EAAEA,EAAE6B,OAAO,EAAE,OAAO,IAAIC,IAAE,CAACC,KAAKb,EAAEW,OAAOD,MAA/nB,yBAAmoB,SAAkB5B,GAAGA,IAAIoB,KAAKY,KAAK,mBAAmBZ,KAAKE,KAAK,gBAAgBtB,GAAGoB,KAAKa,uBAAuBb,KAAKL,sBAAsB,QAA7wB,+BAAmxB,WAAoB,OAAM,IAA7yB,oBAAgzB,SAAaf,GAAGA,IAAIoB,KAAKY,KAAK,cAAcZ,KAAKE,KAAK,WAAWtB,GAAGoB,KAAKa,0BAAz3B,oBAAi5B,SAAajC,GAAGA,IAAIoB,KAAKY,KAAK,cAAcZ,KAAKE,KAAK,WAAWtB,GAAGoB,KAAKa,0BAA19B,oBAAk/B,SAAajC,GAAGA,IAAIoB,KAAKY,KAAK,cAAcZ,KAAKE,KAAK,WAAWtB,GAAGoB,KAAKa,uBAAuBb,KAAKR,OAAOsB,KAAK,iBAAiB,CAACC,OAAOnC,EAAE,SAAS,gBAAvoC,oBAAqpC,WAAe,OAAOoB,KAAKY,KAAK,aAAaZ,KAAKY,KAAK,cAA5sC,qBAAwtC,WAAUZ,KAAKgB,sBAAsBhB,KAAKiB,sBAAsBjB,KAAKE,KAAK,OAAO,QAAzyC,kCAA+yC,SAAqBtB,GAAG,IAAMkB,EAAEE,KAAKY,KAAK,WAAW,IAAG,IAAKd,EAAEoB,QAAQ,OAAO,KAAK,IAAMnC,EAAEiB,KAAKY,KAAK,iBAAiBvC,EAAEmC,YAAEzB,GAAGA,EAAEe,EAAEG,OAAOkB,EAAErB,EAAEC,SAAS,OAAOqB,YAAED,GAAG,KAAK,OAAOnB,KAAKqB,KAAKC,KAAKtB,KAAKuB,qBAAqBvB,KAAKqB,KAAKzC,EAAEuC,EAAE9C,GAAG2B,KAAKwB,qBAAqBxB,KAAKqB,KAAKzC,EAAEkB,KAA5jD,oBAA+jD,WAASE,KAAKG,sBAAsBK,YAAER,KAAKd,QAAQc,KAAKd,MAAMT,IAAIuB,KAAKK,WAAtoD,oBAA+oD,WAASL,KAAKgB,sBAAsBhB,KAAKiB,sBAAsBT,YAAER,KAAKd,QAAQc,KAAKd,MAAMuC,OAAOzB,KAAKK,WAApvD,iCAA6vD,WAAqB,WAACL,KAAKgB,sBAAsBhB,KAAKJ,4BAA4BI,KAAKK,QAAQqB,MAAM,UAAU,SAAA9C,GAAI4B,YAAE5B,IAAIA,IAAI,EAAK+C,eAAe/C,IAAI,EAAKiB,kBAAkB,EAAKA,gBAAgBjB,EAAE,EAAKgD,UAAUpB,YAAE,EAAKmB,iBAAiB,EAAKtB,QAAQJ,OAAO,EAAK0B,mBAAkB,KAAlhE,iCAAshE,WAAsBnB,YAAER,KAAKJ,+BAA+BI,KAAKJ,4BAA4B6B,SAASzB,KAAKJ,4BAA4B,QAA7pE,kCAAmqE,WAAuBI,KAAKK,QAAQJ,OAAOD,KAAK4B,UAAUpB,YAAER,KAAK2B,eAAe3B,KAAK2B,cAAc3B,KAAKH,kBAA3wE,iCAA2xE,WAAsBG,KAAKK,QAAQJ,OAAOD,KAAKH,kBAA10E,kCAA01E,SAAqBjB,EAAEkB,EAAEf,EAAEV,GAAG,GAAGA,EAAEA,GAAGwD,YAAE9C,GAAGqC,YAAE/C,GAAG,OAAO,KAAK,IAAI8C,EAAEnB,KAAKL,sBAAsB,GAAG,UAAUZ,EAAEuC,MAAM,kBAAkBjD,EAAEiD,KAAK,OAAOQ,YAAEhC,EAAEf,EAAEH,GAAG,EAAE,KAAK,GAAGwC,YAAED,KAAKA,EAAEY,cAAcC,OAAOjD,GAAG,CAAC,IAAMe,EAAEf,EAAEyB,EAAE5B,EAAEqD,iBAAiB,GAAGC,YAAEpC,EAAEmC,iBAAiBzB,GAAG,CAAC,IAAM5B,EAAEuD,YAAErC,EAAEU,GAAGW,EAAE,CAACY,cAAcjC,EAAEsC,QAAQC,SAASzD,EAAE0D,SAASC,YAAElE,EAAEmE,OAAOxC,KAAKL,sBAAsBwB,GAAG,GAAGX,YAAEW,GAAG,CAAC,IAAMX,EAAEiC,YAAE3C,EAAE4C,GAAGtB,EAAExC,EAAE+D,SAASxB,EAAEkB,UAAUtD,EAAEoC,EAAEmB,SAASlE,EAAEgD,EAAEwB,EAAEL,YAAElE,EAAEwE,SAASpD,EAAE2B,EAAEe,EAAEI,YAAElE,EAAEyE,SAAS,OAAOC,YAAEvC,EAAE,CAACpC,EAAEqB,IAAIV,EAAEA,EAAE,EAAE,KAAK,OAAO,OAA30F,kCAAg1F,SAAqBH,EAAEkB,EAAEU,GAAG,IAAMY,EAAExC,EAAEoE,MAAMlD,EAAE,CAACmD,QAAQ,CAACzC,KAAK,OAAOY,GAAG8B,YAAE9B,EAAE+B,EAAEvE,EAAEwE,wBAAwBC,YAAEF,EAAEvE,EAAE0E,MAAMC,OAAOC,KAAK,SAA/8F,GAAepF,KAAu8FQ,YAAE,CAACP,YAAE,CAACoF,eAAc,EAAGC,aAAY,KAAMzE,EAAE0E,UAAU,UAAU,MAAM/E,YAAE,CAACP,YAAE,CAACuF,UAAS,EAAGC,UAAU,CAAC,cAAc5E,EAAE0E,UAAU,gBAAgB,MAAM/E,YAAE,CAACP,YAAE,CAACoF,eAAc,EAAGC,aAAY,KAAMzE,EAAE0E,UAAU,YAAO,GAAQ/E,YAAE,CAACP,YAAE,CAACyF,MAAM,QAAQ7E,EAAE0E,UAAU,gBAAgB,MAAM/E,YAAE,CAACP,YAAE,CAACoF,eAAc,KAAMxE,EAAE0E,UAAU,aAAQ,GAAQ/E,YAAE,CAACP,eAAKY,EAAE0E,UAAU,mBAAc,GAAQ/E,YAAE,CAACP,eAAKY,EAAE0E,UAAU,kBAAa,GAAQ/E,YAAE,CAACP,eAAKY,EAAE0E,UAAU,iBAAY,GAAQ/E,YAAE,CAACP,YAAE,CAACyF,OAAM,KAAM7E,EAAE0E,UAAU,WAAW,MAAM/E,YAAE,CAACP,eAAKY,EAAE0E,UAAU,gBAAW,GAAQ/E,YAAE,CAACP,eAAKY,EAAE0E,UAAU,WAAW,MAAM/E,YAAE,CAACP,YAAE,CAACyF,OAAM,KAAM7E,EAAE0E,UAAU,WAAW,MAAM/E,YAAE,CAACP,eAAKY,EAAE0E,UAAU,cAAS,GAAQ1E,EAAEL,YAAE,CAACuC,YAAE,8CAA8ClC,GAAG,IAAMkE,EAAEY,cAAIrB,EAAEsB,e,6HCAt1J,SAASlE,EAAEA,GAAG,IAAM1B,EAAE0B,EAAEmE,SAAStF,KAAKP,EAAEK,IAAIG,YAAN,sOAKxFR,EAAEK,IAAIG,YAAN,oMAKAR,EAAEK,IAAIG,YAAN,2hBCVgK,SAASa,EAAEA,EAAErB,GAAG,IAAMC,EAAEoB,EAAEwE,SAAStF,KAAKc,EAAEwD,QAAQ7B,KAAG,IAAIhD,EAAE8F,SAAS,IAAI9F,EAAE8F,SAAS7F,EAAEI,IAAIG,YAAN,oiBAWhOR,EAAE+F,6BAA6B,MAAM,QACxD9F,EAAEI,IAAIG,YAAN,8JAIAP,EAAEI,IAAIG,YAAN,iSAQAP,EAAEI,IAAIG,YAAN,mIAKAP,EAAEI,IAAIG,YAAN,gtBAiBC,IAAIR,EAAE8F,SAAS,IAAI9F,EAAE8F,UAAUzE,EAAEwD,QAAQnD,GAAGzB,EAAEI,IAAIG,YAAN,yjEA2B7CP,EAAEI,IAAIG,YAAN,+OAOAP,EAAEI,IAAIG,YAAN,yZAUAP,EAAEI,IAAIG,YAAN,+3BAeAP,EAAEI,IAAIG,YAAN,wKAGCP,EAAEI,IAAIG,YAAN,oa,2YC5Gy5BwF,EAAE,aAAa,oBAACpE,KAAKqE,eAAe,EAAErE,KAAKsE,eAAc,EAAGtE,KAAKuE,KAAI,EAAGvE,KAAKwE,yBAAwB,EAAGxE,KAAKyE,kBAAiB,EAAGzE,KAAK0E,kBAAiB,EAAG1E,KAAK2E,YAAW,EAAG3E,KAAK4E,MAAM,GAAS9F,E,WAAE,aAAa,oBAACkB,KAAK6E,WAAW1C,cAAInC,KAAK8E,kBAAkB,IAAI3B,EAAE,CAACW,MAAM9D,KAAK6E,YAAYxB,IAAElB,KAAGnC,KAAK+E,2BAA2B,IAAI5B,EAAEnD,KAAK8E,kBAAkBd,IAAE7B,KAAGnC,KAAKgF,oBAAoB,IAAI7B,EAAE,CAACW,MAAM9D,KAAK6E,YAAYb,IAAE7B,KAAGnC,KAAKiF,0BAA0B,IAAI9B,EAAE,CAACW,MAAM9D,KAAK6E,YAAYK,IAAEhD,K,4DAAG,WAA2BlC,KAAK8E,kBAAkBK,aAAanF,KAAK+E,2BAA2BI,aAAanF,KAAKgF,oBAAoBG,aAAanF,KAAKiF,0BAA0BE,e,qBAAa,WAAgB,OAAOnF,KAAK6E,a,mBAAW,WAAc,OAAO7E,KAAK8E,kBAAkBhB,Q,4BAAM,WAAuB,OAAO9D,KAAK+E,2BAA2BjB,Q,2BAAM,WAAsB,OAAO9D,KAAKiF,0BAA0BnB,Q,qBAAM,WAAgB,OAAO9D,KAAKgF,oBAAoBlB,Q,gCAAM,SAAmBhE,GAAGoD,YAAElD,KAAK6E,WAAW/E,K,+BAAG,SAAkBA,GAAGY,YAAEV,KAAK6E,WAAW7E,KAAK6E,WAAW/E,K,iBAAG,SAAIA,GAAGoD,YAAElD,KAAK6E,WAAW/E,GAAGE,KAAKoF,6B,4CAA2B,SAA+BtF,EAAEf,GAAGiB,KAAKqF,mBAAmBvF,GAAGE,KAAKsF,kBAAkBvG,GAAGiB,KAAKoF,+B,KAAkCjC,E,WAAE,WAAYrD,EAAEf,EAAEV,GAAE,oBAAC2B,KAAKuF,SAASzF,EAAEE,KAAKwF,OAAOzG,EAAEiB,KAAKyF,OAAM,EAAGzF,KAAK0F,UAAUrH,I,8CAAI,WAAa2B,KAAKyF,OAAM,I,iBAAG,WAAY,OAAOzF,KAAKyF,QAAQzF,KAAKwF,OAAOxF,KAAK0F,UAAU1F,KAAKuF,SAASzB,OAAO9D,KAAKyF,OAAM,GAAIzF,KAAK0F,c,KAAiBC,E,WAAE,aAAa,oBAAC3F,KAAK4F,IAAI,IAAIlD,EAAE1C,KAAK6F,IAAI,IAAInD,EAAE1C,KAAKuE,IAAI,IAAI7B,EAAE1C,KAAK8F,OAAO,IAAIpD,E,wCAAE,SAAK5C,GAAGE,KAAK4F,IAAIG,KAAKjG,GAAGE,KAAK6F,IAAIE,KAAKjG,GAAGE,KAAKuE,IAAIwB,KAAKjG,GAAGE,KAAK8F,OAAOC,KAAKjG,GAAGE,KAAKgG,IAAI,O,KAAUtD,E,WAAE,WAAY5C,GAAE,oBAACE,KAAKiG,OAAOrH,cAAIoB,KAAKkG,eAAe/D,cAAInC,KAAKmG,KAAKC,IAAEC,SAASrG,KAAK+F,KAAKjG,G,qCAAG,WAAU,OAAOE,KAAKmG,O,gCAAK,WAA2B,OAAO,MAAMnG,KAAKsG,O,iCAAK,WAA4B,GAAG,MAAMtG,KAAKsG,KAAK,OAAO7G,YAAE8G,EAAEvG,KAAKwG,IAAIC,UAAUzG,KAAKsG,MAAM7D,YAAE8D,K,kCAAG,SAAqBzG,GAAG,QAAQE,KAAK0G,uBAAuBjH,YAAE8G,EAAEvG,KAAKwG,IAAIC,UAAUzG,KAAKsG,MAAMlF,YAAEtB,EAAEE,KAAKwG,IAAIG,OAAOJ,IAAG,K,kCAAI,SAAqBzG,GAAG,OAAOyC,YAAEqE,EAAE5G,KAAKiG,QAAQW,EAAE,GAAG,EAAEC,YAAED,EAAEA,EAAE5G,KAAKkG,gBAAgB3D,YAAEzC,EAAE8G,GAAGzF,YAAErB,EAAEA,GAAGA,I,kBAAE,SAAKA,GAAGE,KAAKsG,UAAK,EAAOtG,KAAK8G,YAAO,EAAO9G,KAAK+G,UAAK,EAAO/G,KAAKgH,sBAAiB,EAAOhH,KAAKiH,6BAAwB,EAAOjH,KAAKkH,OAAO,KAAKlH,KAAKmH,WAAW,KAAKnH,KAAKoH,WAAW,KAAKpH,KAAKqH,YAAY,QAAQvH,EAAEsG,IAAEkB,KAAKxH,EAAEE,KAAKmG,MAAMnG,KAAKmG,KAAKC,IAAEC,W,iBAAS,SAAIvG,EAAEf,EAAEV,EAAEO,EAAER,EAAEqB,EAAEgD,EAAErB,EAAED,EAAEU,GAAG/B,aAAayH,MAAIzH,EAAE,CAACwB,KAAK,QAAQkG,IAAI1H,IAAIE,KAAKsG,KAAKjI,EAAEkE,YAAEvC,KAAKiG,OAAOrH,GAAGsE,YAAElD,KAAKkG,eAAe9H,GAAG4B,KAAK8G,OAAOhH,EAAEE,KAAK+G,KAAKhI,EAAEiB,KAAKgH,iBAAiBvH,EAAEO,KAAKkH,OAAOzE,EAAEjC,YAAEiC,GAAG,KAAKzC,KAAKmH,WAAW/F,EAAEpB,KAAKoH,WAAWjG,EAAEnB,KAAKiH,wBAAwBpF,I,sBAAE,SAAS/B,GAAGsG,IAAEkB,KAAKxH,EAAEqG,KAAKnG,KAAKmG,MAAMnG,KAAKsG,KAAKxG,EAAEwG,KAAKtG,KAAK8G,OAAOhH,EAAEgH,OAAO9G,KAAK+G,KAAKjH,EAAEiH,KAAK/G,KAAKgH,iBAAiBlH,EAAEkH,iBAAiBhH,KAAKkH,OAAOpH,EAAEoH,OAAO1G,YAAEV,EAAEoH,QAAQ,KAAKlH,KAAKmH,WAAWrH,EAAEqH,WAAWnH,KAAKoH,WAAWtH,EAAEsH,WAAWpH,KAAKqH,YAAYvH,EAAEuH,YAAYrH,KAAKiH,wBAAwBnH,EAAEmH,wBAAwB1E,YAAEvC,KAAKiG,OAAOnG,EAAEmG,QAAQ/C,YAAElD,KAAKkG,eAAepG,EAAEoG,kB,qBAAgB,SAAQpG,GAAG,IAAIE,KAAK8G,OAAO,OAAO,KAAK,OAAO9G,KAAK8G,OAAOxF,MAAM,IAAI,QAAQ,OAAOmG,EAAEzH,KAAK8G,OAAOU,IAAIE,SAAS5H,GAAG,IAAI,WAAW,OAAOE,KAAKqH,aAAa,IAAI,gBAAgB,OAAO,SAASvH,EAAEf,GAAG,IAAMV,EAAEyB,EAAE4H,SAASC,SAAS,OAAO,MAAMtJ,EAAEU,EAAE6I,IAAIC,eAAexJ,GAAG,KAAjF,CAAuF2B,KAAK8G,OAAOhH,GAAG,IAAI,MAAM,IAAI,KAAK,IAAI,cAAc,IAAI,kBAAkB,OAAO2H,EAAEzH,KAAK8G,OAAOY,SAAS5H,GAAG,IAAI,kBAAkB,OAAOA,EAAE8H,KAAK9H,EAAE8H,IAAI9B,QAAQ,OAAO,O,uBAAK,SAAUhG,GAAG,IAAIE,KAAK8G,OAAO,OAAO,KAAK,OAAO9G,KAAK8G,OAAOxF,MAAM,IAAI,QAAQ,OAAOwG,EAAE9H,KAAK8G,OAAOU,IAAIE,SAAS5H,GAAG,IAAI,WAAW,OAAOE,KAAKqH,aAAa,IAAI,gBAAgB,OAAOrH,KAAK8G,OAAOY,SAASK,gBAAgB,IAAI,MAAM,IAAI,KAAK,IAAI,cAAc,IAAI,kBAAkB,OAAOD,EAAE9H,KAAK8G,OAAOY,SAAS5H,IAAI,OAAO,S,KAAM,SAAS2H,EAAEpJ,EAAEO,GAAG,OAAOkB,YAAEzB,IAAI,MAAMA,EAAEsJ,SAAS,KAAK5I,YAAEH,EAAEoJ,eAAe3J,EAAEsJ,WAAW/I,EAAEoJ,aAAaC,YAAYrJ,EAAEsJ,SAAStJ,EAAEgJ,IAAIC,eAAexJ,EAAEsJ,UAAU,SAASG,EAAElJ,EAAE4B,GAAG,GAAGV,YAAElB,GAAG,OAAO,KAAK,IAAMR,EAAEqJ,EAAE7I,EAAE4B,GAAG,GAAGV,YAAE1B,GAAG,OAAO,KAAK,GAAGA,IAAIoC,EAAE0H,SAAS,OAAOnJ,YAAEyB,EAAEwH,cAAc3J,YAAEmC,EAAEwH,aAAaG,yBAAyBvJ,EAAEwJ,aAAa,KAAK,IAAiEtI,EAAEf,EAA7DU,EAAEe,EAAE6H,cAAcC,MAAM,SAAAxI,GAAC,OAAEA,EAAEZ,QAAQd,KAAI,OAAOqB,GAAaV,EAAmPH,IAArPkB,EAAmPL,IAAvOK,EAAEyI,UAAiB,KAAQ,sCAAsCzI,GAAGf,EAASe,EAAE0I,kCAAkCzJ,GAAM,6BAA6Be,GAAG,MAAMf,EAAEqJ,WAAkBtI,EAAEqI,yBAAyBpJ,EAAEqJ,YAAmB,MAAW,K,IAAWK,E,WAAE,aAAgB,IAAJ3I,EAAI,uDAAF,EAAE,oBAACE,KAAKS,OAAOX,EAAEE,KAAK0I,UAAU9J,c,iDAAI,SAAckB,EAAEf,EAAEV,GAAG,IAAMO,EAAEkB,EAAEE,KAAK2I,YAAY,GAAGnI,EAAEzB,EAAEiB,KAAK2I,YAAY,GAAGvK,EAAEC,EAAE2B,KAAK2I,YAAY,GAAGlJ,EAAEO,KAAKS,OAAOmI,KAAKC,KAAKjK,EAAEA,EAAE4B,EAAEA,EAAEpC,EAAEA,GAAG,OAAO4B,KAAK0I,UAAU,GAAG5I,EAAElB,EAAEa,EAAEO,KAAK0I,UAAU,GAAG3J,EAAEyB,EAAEf,EAAEO,KAAK0I,UAAU,GAAGrK,EAAED,EAAEqB,EAAEO,KAAK0I,Y,yBAAU,SAAY5I,GAAG,IAAMf,EAAEe,EAAE,GAAGE,KAAK2I,YAAY,GAAGtK,EAAEyB,EAAE,GAAGE,KAAK2I,YAAY,GAAG/J,EAAEkB,EAAE,GAAGE,KAAK2I,YAAY,GAAGnI,EAAEV,EAAE,GAAGE,KAAK2I,YAAY,GAAGvK,EAAE0B,EAAE,GAAGE,KAAK2I,YAAY,GAAGlJ,EAAEK,EAAE,GAAGE,KAAK2I,YAAY,GAAGlG,EAAEzC,KAAKS,OAAOmI,KAAKC,KAAK9J,EAAEA,EAAEV,EAAEA,EAAEO,EAAEA,GAAGkB,EAAE,IAAIf,EAAE0D,EAAE3C,EAAE,IAAIzB,EAAEoE,EAAE3C,EAAE,IAAIlB,EAAE6D,EAAE,IAAMrB,EAAEpB,KAAKS,OAAOmI,KAAKC,KAAKrI,EAAEA,EAAEpC,EAAEA,EAAEqB,EAAEA,GAAG,OAAOK,EAAE,IAAIU,EAAEY,EAAEtB,EAAE,IAAI1B,EAAEgD,EAAEtB,EAAE,IAAIL,EAAE2B,EAAEtB,M,KAASgJ,E,WAAE,aAAgB,IAAJhJ,EAAI,uDAAF,EAAE,oBAACE,KAAKS,OAAOX,EAAEE,KAAK+I,2BAA2B,EAAE/I,KAAK0I,UAAU9J,cAAIoB,KAAKgJ,IAAIlH,cAAI9B,KAAKiJ,IAAI,CAAC/B,OAAOtI,cAAIsK,SAASC,cAAIC,WAAW,M,6CAAM,SAAgBtJ,GAAGE,KAAK+I,2BAA2BH,KAAKC,KAAK/I,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,M,2BAAI,SAAcA,EAAEf,EAAEV,GAAG,IAAMO,EAAEkB,EAAEU,EAAEzB,EAAEX,EAAEC,EAAE2B,KAAK+I,2BAA2BtJ,EAAEO,KAAKS,OAAOmI,KAAKC,KAAKjK,EAAEA,EAAE4B,EAAEA,EAAEpC,EAAEA,GAAG,OAAO4B,KAAK0I,UAAU,GAAG5I,EAAElB,EAAEa,EAAEO,KAAK0I,UAAU,GAAG3J,EAAEyB,EAAEf,EAAEO,KAAK0I,UAAU,GAAGrK,EAAED,EAAEqB,EAAEO,KAAK0I,Y,yBAAU,SAAY5I,GAAG,IAAMf,EAAEe,EAAE,GAAGzB,EAAEyB,EAAE,GAAGlB,EAAEkB,EAAE,GAAGE,KAAK+I,2BAA2BvI,EAAEV,EAAE,GAAG1B,EAAE0B,EAAE,GAAGL,EAAEK,EAAE,GAAGE,KAAK+I,2BAA2BtG,EAAEzC,KAAKS,OAAOmI,KAAKC,KAAK9J,EAAEA,EAAEV,EAAEA,EAAEO,EAAEA,GAAGkB,EAAE,IAAIf,EAAE0D,EAAE3C,EAAE,IAAIzB,EAAEoE,EAAE3C,EAAE,IAAIlB,EAAE6D,EAAE,IAAMrB,EAAEpB,KAAKS,OAAOmI,KAAKC,KAAKrI,EAAEA,EAAEpC,EAAEA,EAAEqB,EAAEA,GAAG,OAAOK,EAAE,IAAIU,EAAEY,EAAEtB,EAAE,IAAI1B,EAAEgD,EAAEtB,EAAE,IAAIL,EAAE2B,EAAEtB,I,wBAAE,SAAWA,GAAG,IAAMf,EAAE6J,KAAKC,KAAK/I,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIzB,EAAE2B,KAAKS,OAAO1B,EAAE,OAAOiB,KAAKgJ,IAAI,GAAGlJ,EAAE,GAAGA,EAAE,GAAGzB,EAAE2B,KAAKgJ,IAAI,GAAGlJ,EAAE,GAAGA,EAAE,GAAGzB,EAAE2B,KAAKgJ,IAAI,GAAGlJ,EAAE,GAAGA,EAAE,GAAGzB,EAAE2B,KAAKgJ,IAAI,GAAGlJ,EAAE,GAAGA,EAAE,GAAGE,KAAKS,OAAO1B,EAAEiB,KAAKgJ,M,wBAAI,SAAWlJ,GAAG,IAAMf,EAAEe,EAAEoH,OAAO7I,EAAE2B,KAAKS,OAAOmI,KAAKC,KAAK9J,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIiB,KAAKiJ,IAAI/B,OAAO,GAAGnI,EAAE,GAAGA,EAAE,GAAGV,EAAE2B,KAAKiJ,IAAI/B,OAAO,GAAGnI,EAAE,GAAGA,EAAE,GAAGV,EAAE2B,KAAKiJ,IAAI/B,OAAO,GAAGnI,EAAE,GAAGA,EAAE,GAAGV,EAAEwD,YAAE7B,KAAKiJ,IAAIC,SAASpJ,EAAEoJ,SAASpJ,EAAEsJ,YAAYhI,YAAEpB,KAAKiJ,IAAIC,SAASlJ,KAAKiJ,IAAIC,SAASpJ,EAAEoH,QAAQ,IAAMtI,EAAEoB,KAAKS,OAAOmI,KAAKC,KAAK7I,KAAKiJ,IAAIC,SAAS,GAAGlJ,KAAKiJ,IAAIC,SAAS,GAAGlJ,KAAKiJ,IAAIC,SAAS,GAAGlJ,KAAKiJ,IAAIC,SAAS,GAAGlJ,KAAKiJ,IAAIC,SAAS,GAAGlJ,KAAKiJ,IAAIC,SAAS,IAAI,OAAOlJ,KAAKiJ,IAAIC,SAAS,IAAIlJ,KAAKiJ,IAAIC,SAAS,GAAGtK,EAAEoB,KAAKiJ,IAAIC,SAAS,IAAIlJ,KAAKiJ,IAAIC,SAAS,GAAGtK,EAAEoB,KAAKiJ,IAAIC,SAAS,IAAIlJ,KAAKiJ,IAAIC,SAAS,GAAGtK,EAAEmF,YAAE/D,KAAKiJ,IAAIC,SAASlJ,KAAKiJ,IAAIC,SAASpJ,EAAEoH,QAAQmC,YAAEC,EAAExJ,EAAEsJ,YAAYvH,YAAE7B,KAAKiJ,IAAIC,SAASlJ,KAAKiJ,IAAIC,SAASI,GAAGtJ,KAAKiJ,IAAIC,SAAS,IAAIlJ,KAAKiJ,IAAIC,SAAS,GAAG,GAAG,EAAE,EAAElJ,KAAKiJ,IAAIC,SAAS,IAAIlJ,KAAKiJ,IAAIC,SAAS,GAAG,GAAG,EAAE,EAAElJ,KAAKiJ,IAAIC,SAAS,IAAIlJ,KAAKiJ,IAAIC,SAAS,GAAG,GAAG,EAAE,EAAElJ,KAAKiJ,IAAIG,WAAWtJ,EAAEsJ,WAAWpJ,KAAKiJ,Q,KAAsqCM,EAAE,I,WAA3pC,aAAgB,IAAJzJ,EAAI,uDAAF,EAAE,oBAACE,KAAKS,OAAOX,EAAEE,KAAKwJ,OAAO5G,cAAI5C,KAAK0I,UAAU9J,c,iDAAI,SAAckB,EAAEf,EAAEV,GAAG,IAAMO,EAAEoB,KAAKyJ,gBAAgB/D,UAAclF,EAAE5B,EAAE,GAAGkB,EAAElB,EAAE,GAAGG,EAAEH,EAAE,GAAGP,EAAEO,EAAE,IAAIR,EAAEQ,EAAE,GAAGkB,EAAElB,EAAE,GAAGG,EAAEH,EAAE,GAAGP,EAAEO,EAAE,IAAIa,EAAEb,EAAE,GAAGkB,EAAElB,EAAE,GAAGG,EAAEH,EAAE,IAAIP,EAAEO,EAAE,IAAU6D,EAAEzC,KAAKS,OAAOmI,KAAKC,KAAKrI,EAAEA,EAAEpC,EAAEA,EAAEqB,EAAEA,GAAGe,GAAGA,EAAEiC,EAAErE,GAAGA,EAAEqE,EAAEhD,GAAGA,EAAEgD,EAAE,IAAMrB,EAAEpB,KAAKyJ,gBAAgBC,QAAQ,OAAO1J,KAAK0I,UAAU,GAAGtH,EAAE,GAAGZ,EAAEY,EAAE,GAAGhD,EAAEgD,EAAE,GAAG3B,EAAE2B,EAAE,IAAIpB,KAAK0I,UAAU,GAAGtH,EAAE,GAAGZ,EAAEY,EAAE,GAAGhD,EAAEgD,EAAE,GAAG3B,EAAE2B,EAAE,IAAIpB,KAAK0I,UAAU,GAAGtH,EAAE,GAAGZ,EAAEY,EAAE,GAAGhD,EAAEgD,EAAE,IAAI3B,EAAE2B,EAAE,IAAIpB,KAAK0I,Y,2BAAU,SAAc5I,EAAEf,GAAG,IAAMV,EAAE2B,KAAKS,OAAOmI,KAAKC,KAAK/I,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIA,EAAE,IAAIA,EAAE,GAAGzB,EAAEyB,EAAE,IAAIA,EAAE,GAAGzB,EAAEyB,EAAE,IAAIA,EAAE,GAAGzB,EAAE,IAAMO,EAAEoB,KAAKS,OAAOmI,KAAKC,KAAK9J,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIA,EAAE,IAAIA,EAAE,GAAGH,EAAEG,EAAE,IAAIA,EAAE,GAAGH,EAAEG,EAAE,IAAIA,EAAE,GAAGH,I,yBAAE,SAAYkB,GAAG,IAAMf,EAAEiB,KAAKS,OAAOmI,KAAKC,KAAK/I,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIA,EAAE,IAAIA,EAAE,GAAGf,EAAEe,EAAE,IAAIA,EAAE,GAAGf,EAAEe,EAAE,IAAIA,EAAE,GAAGf,EAAE,IAAMV,EAAE2B,KAAKS,OAAOmI,KAAKC,KAAK/I,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,OAAOA,EAAE,IAAIA,EAAE,GAAGzB,EAAEyB,EAAE,IAAIA,EAAE,GAAGzB,EAAEyB,EAAE,IAAIA,EAAE,GAAGzB,EAAEyB,I,mCAAE,SAAsBA,EAAEf,GAAG,IAAMV,EAAEuK,KAAKC,KAAK9J,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIH,EAAEoB,KAAKS,OAAOpC,EAAE,OAAO2B,KAAKwJ,OAAOtC,OAAO,GAAGnI,EAAE,GAAGA,EAAE,GAAGH,EAAEoB,KAAKwJ,OAAOtC,OAAO,GAAGnI,EAAE,GAAGA,EAAE,GAAGH,EAAEoB,KAAKwJ,OAAOtC,OAAO,GAAGnI,EAAE,GAAGA,EAAE,GAAGH,EAAEoB,KAAKwJ,OAAOG,OAAO7J,EAAEA,EAAEE,KAAKS,OAAOpC,EAAE2B,KAAKwJ,W,MAAsB,SAASI,EAAE9J,GAAG,OAAOf,YAAEe,IAAIyJ,EAAE9I,OAAOX,EAAEyJ,GAAG,KAAa,IAAIT,EAAwD,IAAIL,EAAgD,IAAMoB,EAAE,UAAgBtD,GAAJ3H,cAAMA,eAAIgI,EAAE9E,cAAIwH,EAAE/I,e,iHCAj9R,SAAS3B,EAAEA,EAAEP,EAAEmC,GAAG,IAAkH+B,EAAEhC,EAAExB,EAAE0D,EAAES,EAApHG,EAAEhF,GAAGA,EAAEyL,OAAO1I,EAAEiC,EAAEhF,EAAE,GAAGmC,EAAE5B,EAAEkL,OAAW3H,EAAE1C,EAAEb,EAAE,EAAEwC,EAAEZ,GAAE,GAAUwD,EAAE,IAAI+F,MAAM,IAAI5H,GAAGA,EAAE6H,OAAO7H,EAAE8H,KAAK,OAAOjG,EAAgB,GAAGX,IAAIlB,EAAE,SAASvD,EAAEgE,EAAEvE,EAAEmC,GAAqB,IAAlB,IAAM6C,EAAE,IAAI0G,MAAcjK,EAAE,EAAEzB,EAAEuE,EAAEkH,OAAOhK,EAAEzB,EAAEyB,IAAI,CAAC,IAAMsB,EAAE3B,EAAEb,EAAEgE,EAAE9C,GAAGU,EAAEV,EAAEzB,EAAE,EAAEuE,EAAE9C,EAAE,GAAGU,EAAE5B,EAAEkL,OAAOtJ,GAAE,GAAIY,IAAIA,EAAE4I,OAAO5I,EAAE8I,SAAQ,GAAI7G,EAAE8G,KAAKhJ,EAAEC,IAAIiC,EAAE+G,KAAKjH,GAAG,cAAeE,EAAf,gBAAiBxB,EAAN,KAAUxD,GAAGA,EAAEyB,EAAEzB,EAAEA,EAAE2L,MAAM,OAAO3L,EAApN,CAAuNO,EAAEP,EAAE8D,EAAE3B,IAAI5B,EAAEkL,OAAO,GAAGtJ,EAAE,CAAC+B,EAAExD,EAAEH,EAAE,GAAG2B,EAAEkC,EAAE7D,EAAE,GAAG,IAAI,IAAIa,EAAEe,EAAEf,EAAE2B,EAAE3B,GAAGe,EAAE,CAAC,IAAMV,EAAElB,EAAEa,GAAGmD,EAAEhE,EAAEa,EAAE,GAAG8C,EAAEqG,KAAKhD,IAAIrD,EAAEzC,GAAGS,EAAEqI,KAAKhD,IAAIrF,EAAEqC,GAAG7D,EAAE6J,KAAK/C,IAAI9G,EAAEe,GAAG2C,EAAEmG,KAAK/C,IAAIpD,EAAEG,GAAuBM,EAAE,KAAtBA,EAAE0F,KAAK/C,IAAI9G,EAAEwD,EAAEE,EAAElC,IAAW,EAAE2C,EAAE,EAAE,OAAON,EAAET,EAAE6B,EAAExD,EAAE+B,EAAEhC,EAAE2C,GAAGc,EAAE,SAASvE,EAAEb,EAAEa,EAAEK,EAAE8C,EAAEvE,GAAG,IAAImC,EAAE,GAAGnC,IAAIU,EAAEH,EAAEa,EAAEK,EAAE8C,GAAG,EAAE,IAAI,IAAIvE,EAAEoB,EAAEpB,EAAEyB,EAAEzB,GAAGuE,EAAEpC,EAAE6C,EAAEhF,EAAEO,EAAEP,GAAGO,EAAEP,EAAE,GAAGmC,QAAQ,IAAI,IAAInC,EAAEyB,EAAE8C,EAAEvE,GAAGoB,EAAEpB,GAAGuE,EAAEpC,EAAE6C,EAAEhF,EAAEO,EAAEP,GAAGO,EAAEP,EAAE,GAAGmC,GAAG,OAAOA,GAAGpC,EAAEoC,EAAEA,EAAEwJ,QAAQ5I,EAAEZ,GAAGA,EAAEA,EAAEwJ,MAAMxJ,EAAE,SAASV,EAAElB,GAAM,IAAJa,EAAI,uDAAFb,EAAG,IAAIA,EAAE,OAAOA,EAAE,IAAIkB,EAAE8C,EAAEhE,EAAE,GAAG,GAAGkB,GAAE,EAAG8C,EAAEsH,UAAU9L,EAAEwE,EAAEA,EAAEoH,OAAO,IAAIzH,EAAEK,EAAEqH,KAAKrH,EAAEA,EAAEoH,MAAMpH,EAAEA,EAAEoH,SAAS,CAAC,GAAG5I,EAAEwB,IAAGA,EAAEnD,EAAEmD,EAAEqH,QAASrH,EAAEoH,KAAK,MAAMlK,GAAE,SAAUA,GAAG8C,IAAInD,GAAG,OAAOA,EAAE,SAASmD,EAAEhE,EAAEa,EAAE4D,EAAElC,EAAEU,EAAEmC,GAAM,IAAJzB,EAAI,uDAAF,EAAG,GAAI3D,EAAJ,EAAc2D,GAAGyB,IAAIpF,EAAEuD,EAAEvD,EAAEuC,EAAEU,EAAEmC,IAAY,IAAR,IAAIzD,EAAE3B,EAAOA,EAAEqL,OAAOrL,EAAEoL,MAAM,CAAC,IAAM7H,EAAEvD,EAAEqL,KAAKlL,EAAEH,EAAEoL,KAAK,GAAGhG,EAAExD,EAAE5B,EAAEuC,EAAEU,EAAEmC,GAAG3F,EAAEO,GAAGa,EAAE0K,KAAKhI,EAAEkI,MAAMhH,GAAG5D,EAAE0K,KAAKvL,EAAEyL,MAAMhH,GAAG5D,EAAE0K,KAAKpL,EAAEsL,MAAMhH,GAAGjC,EAAExC,GAAGA,EAAEG,EAAEiL,KAAKzJ,EAAExB,EAAEiL,UAAU,IAAIpL,EAAEG,KAAKwB,EAAE,CAACgC,EAAE,IAAIA,EAAEK,EAAEhE,EAAEsD,EAAEtD,EAAEa,EAAE4D,GAAG5D,EAAE4D,EAAElC,EAAEU,EAAEmC,EAAE,GAAG,IAAIzB,GAAGgF,EAAE3I,EAAEa,EAAE4D,EAAElC,EAAEU,EAAEmC,GAAGpB,EAAE9C,EAAElB,GAAGa,EAAE4D,EAAElC,EAAEU,EAAEmC,EAAE,GAAG,SAAQ,SAAS3F,EAAEO,GAAG,IAAMa,EAAEb,EAAEqL,KAAKnK,EAAElB,EAAEgE,EAAEhE,EAAEoL,KAAK,GAAGzH,EAAE9C,EAAEK,EAAE8C,IAAI,EAAE,OAAM,EAAuC,IAApC,IAAIvE,EAAEO,EAAEoL,KAAKA,KAAWxJ,EAAEnC,EAAMgF,EAAE,EAAOhF,IAAIO,EAAEqL,OAAO,IAAI5G,GAAGhF,IAAImC,IAAI,CAAC,GAAG6C,IAAIZ,EAAEhD,EAAEmD,EAAEnD,EAAE0C,EAAErC,EAAE8C,EAAE9C,EAAEqC,EAAES,EAAEA,EAAEA,EAAET,EAAE9D,EAAEuE,EAAEvE,EAAE8D,IAAII,EAAElE,EAAE4L,KAAK5L,EAAEA,EAAE2L,OAAO,EAAE,OAAM,EAAG3L,EAAEA,EAAE2L,KAAK,OAAM,EAAG,SAASxJ,EAAE5B,EAAEa,EAAEK,EAAE8C,GAAG,IAAMvE,EAAEO,EAAEqL,KAAKzJ,EAAE5B,EAAEyE,EAAEzE,EAAEoL,KAAK,GAAGzH,EAAElE,EAAEmC,EAAE6C,IAAI,EAAE,OAAM,EAAuO,IAApO,IAAMjC,EAAE/C,EAAEuE,EAAEpC,EAAEoC,EAAEvE,EAAEuE,EAAES,EAAET,EAAEvE,EAAEuE,EAAES,EAAET,EAAEpC,EAAEoC,EAAES,EAAET,EAAEpC,EAAEoC,EAAES,EAAET,EAAEzB,EAAE9C,EAAE8D,EAAE3B,EAAE2B,EAAE9D,EAAE8D,EAAEkB,EAAElB,EAAE9D,EAAE8D,EAAEkB,EAAElB,EAAE3B,EAAE2B,EAAEkB,EAAElB,EAAE3B,EAAE2B,EAAEkB,EAAElB,EAAEN,EAAExD,EAAEuE,EAAEpC,EAAEoC,EAAEvE,EAAEuE,EAAES,EAAET,EAAEvE,EAAEuE,EAAES,EAAET,EAAEpC,EAAEoC,EAAES,EAAET,EAAEpC,EAAEoC,EAAES,EAAET,EAAET,EAAE9D,EAAE8D,EAAE3B,EAAE2B,EAAE9D,EAAE8D,EAAEkB,EAAElB,EAAE9D,EAAE8D,EAAEkB,EAAElB,EAAE3B,EAAE2B,EAAEkB,EAAElB,EAAE3B,EAAE2B,EAAEkB,EAAElB,EAAE6B,EAAEsG,EAAElJ,EAAED,EAAE1B,EAAEK,EAAE8C,GAAGrC,EAAE+J,EAAEzI,EAAEM,EAAE1C,EAAEK,EAAE8C,GAAO7D,EAAEH,EAAE2L,MAAMrH,EAAEtE,EAAE4L,MAAWzL,GAAGA,EAAE8H,GAAG7C,GAAGd,GAAGA,EAAE2D,GAAGtG,GAAG,CAAC,GAAGxB,IAAIH,EAAEqL,MAAMlL,IAAIH,EAAEoL,MAAMvH,EAAEpE,EAAEuE,EAAEvE,EAAE8D,EAAE3B,EAAEoC,EAAEpC,EAAE2B,EAAEkB,EAAET,EAAES,EAAElB,EAAEpD,EAAE6D,EAAE7D,EAAEoD,IAAII,EAAExD,EAAEkL,KAAKlL,EAAEA,EAAEiL,OAAO,EAAE,OAAM,EAAG,GAAGjL,EAAEA,EAAEwL,MAAMrH,IAAItE,EAAEqL,MAAM/G,IAAItE,EAAEoL,MAAMvH,EAAEpE,EAAEuE,EAAEvE,EAAE8D,EAAE3B,EAAEoC,EAAEpC,EAAE2B,EAAEkB,EAAET,EAAES,EAAElB,EAAEe,EAAEN,EAAEM,EAAEf,IAAII,EAAEW,EAAE+G,KAAK/G,EAAEA,EAAE8G,OAAO,EAAE,OAAM,EAAG9G,EAAEA,EAAEsH,MAAM,KAAKzL,GAAGA,EAAE8H,GAAG7C,GAAG,CAAC,GAAGjF,IAAIH,EAAEqL,MAAMlL,IAAIH,EAAEoL,MAAMvH,EAAEpE,EAAEuE,EAAEvE,EAAE8D,EAAE3B,EAAEoC,EAAEpC,EAAE2B,EAAEkB,EAAET,EAAES,EAAElB,EAAEpD,EAAE6D,EAAE7D,EAAEoD,IAAII,EAAExD,EAAEkL,KAAKlL,EAAEA,EAAEiL,OAAO,EAAE,OAAM,EAAGjL,EAAEA,EAAEwL,MAAM,KAAKrH,GAAGA,EAAE2D,GAAGtG,GAAG,CAAC,GAAG2C,IAAItE,EAAEqL,MAAM/G,IAAItE,EAAEoL,MAAMvH,EAAEpE,EAAEuE,EAAEvE,EAAE8D,EAAE3B,EAAEoC,EAAEpC,EAAE2B,EAAEkB,EAAET,EAAES,EAAElB,EAAEe,EAAEN,EAAEM,EAAEf,IAAII,EAAEW,EAAE+G,KAAK/G,EAAEA,EAAE8G,OAAO,EAAE,OAAM,EAAG9G,EAAEA,EAAEsH,MAAM,OAAM,EAAG,SAASnH,EAAEzE,EAAEa,EAAEK,EAAE8C,GAAG,IAAMvE,EAAE,IAAI0F,EAAEnF,EAAEa,EAAEK,GAAG,OAAO8C,GAAGvE,EAAE2L,KAAKpH,EAAEoH,KAAK3L,EAAE4L,KAAKrH,EAAEA,EAAEoH,KAAKC,KAAK5L,EAAEuE,EAAEoH,KAAK3L,IAAIA,EAAE4L,KAAK5L,EAAEA,EAAE2L,KAAK3L,GAAGA,EAAE,SAAS+C,EAAExC,GAAGA,EAAEoL,KAAKC,KAAKrL,EAAEqL,KAAKrL,EAAEqL,KAAKD,KAAKpL,EAAEoL,KAAKpL,EAAE2L,QAAQ3L,EAAE2L,MAAMC,MAAM5L,EAAE4L,OAAO5L,EAAE4L,QAAQ5L,EAAE4L,MAAMD,MAAM3L,EAAE2L,OAAO,SAASpJ,EAAEvC,GAAG,IAAIa,EAAEb,EAAEkB,EAAElB,EAAE,IAAIa,EAAEmD,EAAE9C,EAAE8C,GAAGnD,EAAEmD,IAAI9C,EAAE8C,GAAGnD,EAAE0C,EAAErC,EAAEqC,KAAKrC,EAAEL,GAAGA,EAAEA,EAAEuK,WAAWvK,IAAIb,GAAG,OAAOkB,EAAE,SAAS+B,EAAEjD,EAAEa,GAAG,GAAGA,EAAE,SAASb,EAAEa,GAAG,IAA8Be,EAA1BV,EAAEL,EAAQmD,EAAEhE,EAAEgE,EAAEvE,EAAEO,EAAEuD,EAAQkB,GAAE,IAAK,EAAE,CAAC,GAAGhF,GAAGyB,EAAEqC,GAAG9D,GAAGyB,EAAEkK,KAAK7H,GAAGrC,EAAEkK,KAAK7H,IAAIrC,EAAEqC,EAAE,CAAC,IAAMvD,EAAEkB,EAAE8C,GAAGvE,EAAEyB,EAAEqC,IAAIrC,EAAEkK,KAAKpH,EAAE9C,EAAE8C,IAAI9C,EAAEkK,KAAK7H,EAAErC,EAAEqC,GAAG,GAAGvD,GAAGgE,GAAGhE,EAAEyE,EAAE,CAAC,GAAGA,EAAEzE,EAAEA,IAAIgE,EAAE,CAAC,GAAGvE,IAAIyB,EAAEqC,EAAE,OAAOrC,EAAE,GAAGzB,IAAIyB,EAAEkK,KAAK7H,EAAE,OAAOrC,EAAEkK,KAAKxJ,EAAEV,EAAE8C,EAAE9C,EAAEkK,KAAKpH,EAAE9C,EAAEA,EAAEkK,MAAMlK,EAAEA,EAAEkK,WAAWlK,IAAIL,GAAG,IAAIe,EAAE,OAAO,KAAK,GAAGoC,IAAIS,EAAE,OAAO7C,EAAEyJ,KAAK,IAA0B9H,EAApBf,EAAEZ,EAAEW,EAAEX,EAAEoC,EAAEf,EAAErB,EAAE2B,EAAQ6B,EAAE,IAAa,IAATlE,EAAEU,EAAEwJ,KAAUlK,IAAIsB,GAAGwB,GAAG9C,EAAE8C,GAAG9C,EAAE8C,GAAGzB,GAAGyB,IAAI9C,EAAE8C,GAAGH,EAAEpE,EAAEwD,EAAEe,EAAES,EAAEhF,EAAE8C,EAAEU,EAAExD,EAAEwD,EAAEwB,EAAET,EAAEvE,EAAEyB,EAAE8C,EAAE9C,EAAEqC,OAAKA,EAAEyG,KAAK6B,IAAIpM,EAAEyB,EAAEqC,IAAIS,EAAE9C,EAAE8C,IAAMoB,GAAG7B,IAAI6B,GAAGlE,EAAE8C,EAAEpC,EAAEoC,IAAIM,EAAEpD,EAAElB,KAAK4B,EAAEV,EAAEkE,EAAE7B,IAAIrC,EAAEA,EAAEkK,KAAK,OAAOxJ,EAAjgB,CAAogB5B,EAAEa,GAAG,CAAC,IAAMmD,EAAElC,EAAEjB,EAAEb,GAAGkB,EAAE8C,EAAEA,EAAEoH,OAAO,SAAS7H,EAAEvD,EAAEa,EAAEK,EAAE8C,GAAG,IAAI,IAAIvE,EAAEA,IAAIO,EAAEP,EAAEA,EAAE2L,KAAK,CAAC,GAAU,QAAP3L,EAAEA,GAAGO,GAAWiI,IAAIxI,EAAEwI,EAAEyD,EAAEjM,EAAEuE,EAAEvE,EAAE8D,EAAE1C,EAAEK,EAAE8C,IAAIvE,EAAE4L,KAAKD,OAAO3L,GAAGA,EAAE2L,KAAKC,OAAO5L,EAAE,OAAOA,EAAE4L,KAAKD,KAAK3L,EAAEA,EAAE2L,KAAKC,KAAK5L,EAAE8D,EAAEvD,EAAEa,EAAEK,EAAE8C,GAAGvE,EAAEkM,MAAMlM,EAAE4L,KAAK5L,EAAEmM,MAAMnM,EAAE2L,KAAK,OAAOpL,EAAE2L,MAAMC,MAAM,KAAK5L,EAAE2L,MAAM,KAAK,SAAS3L,GAAa,IAAV,IAAIa,EAAEK,EAAE,IAAS,CAAC,IAAI8C,OAAC,EAACvE,EAAEO,EAAEA,EAAE,KAAKa,EAAE,KAAa,IAAR,IAAIe,EAAE,EAAOnC,GAAG,CAACmC,IAAIoC,EAAEvE,EAAU,IAAR,IAAIgF,EAAE,EAAOA,EAAEvD,GAAG8C,EAAES,IAAIT,EAAEA,EAAE4H,MAAc,IAAR,IAAIpJ,EAAEtB,EAAOuD,EAAE,GAAGjC,EAAE,GAAGwB,GAAG,CAAC,IAAI9C,OAAC,EAAC,IAAIuD,GAAGvD,EAAE8C,EAAEA,EAAEA,EAAE4H,MAAMpJ,KAAK,IAAIA,GAAGwB,EAAEvE,EAAEwI,GAAGjE,EAAEiE,GAAG/G,EAAEzB,EAAEA,EAAEA,EAAEmM,MAAMnH,MAAMvD,EAAE8C,EAAEA,EAAEA,EAAE4H,MAAMpJ,MAAMtB,EAAEzB,EAAEA,EAAEA,EAAEmM,MAAMnH,KAAK5D,EAAEA,EAAE+K,MAAM1K,EAAElB,EAAEkB,EAAEA,EAAEyK,MAAM9K,EAAEA,EAAEK,EAAEzB,EAAEuE,EAAE,GAAGnD,EAAE+K,MAAM,KAAK1K,GAAG,EAAEU,EAAE,EAAE,OAAO5B,GAA5T,CAAgUA,GAAG,SAASoF,EAAEpF,EAAEa,EAAEK,EAAE8C,GAAG,IAAMvE,EAAEoB,GAAGA,EAAEqK,OAAOtJ,EAAEnC,EAAEoB,EAAE,GAAGK,EAAElB,EAAEkL,OAAWzG,EAAEuF,KAAK6B,IAAI1L,EAAEH,EAAE,EAAE4B,EAAEV,IAAI,GAAGzB,EAAE,IAAI,IAAIuE,EAAE,EAAEvE,EAAEoB,EAAEqK,OAAOlH,EAAEvE,EAAEuE,IAAI,CAAC,IAAMpC,EAAEf,EAAEmD,GAAG9C,EAAEsB,EAAEwB,EAAEvE,EAAE,EAAEoB,EAAEmD,EAAE,GAAG9C,EAAElB,EAAEkL,OAAOzG,GAAGuF,KAAK6B,IAAI1L,EAAEH,EAAE4B,EAAEY,EAAEtB,IAAY,IAAR,IAAIsB,EAAE,EAAU3B,EAAE,EAAEA,EAAEmD,EAAEkH,OAAOrK,GAAG,EAAE,CAAC,IAAMpB,EAAEuE,EAAEnD,GAAGK,EAAEU,EAAEoC,EAAEnD,EAAE,GAAGK,EAAEuD,EAAET,EAAEnD,EAAE,GAAGK,EAAEsB,GAAGwH,KAAK6B,KAAK7L,EAAEP,GAAGO,EAAEyE,KAAKzE,EAAE4B,EAAE,GAAG5B,EAAEP,EAAE,KAAKO,EAAEP,GAAGO,EAAE4B,KAAK5B,EAAEyE,EAAE,GAAGzE,EAAEP,EAAE,KAAK,OAAO,IAAIgF,GAAG,IAAIjC,EAAE,EAAEwH,KAAK6B,KAAKrJ,EAAEiC,GAAGA,GAAG,SAASd,EAAE3D,EAAEa,EAAEK,GAAG,OAAOL,EAAE0C,EAAEvD,EAAEuD,IAAIrC,EAAE8C,EAAEnD,EAAEmD,IAAInD,EAAEmD,EAAEhE,EAAEgE,IAAI9C,EAAEqC,EAAE1C,EAAE0C,GAAG,SAAS5B,EAAE3B,EAAEa,EAAEK,EAAE8C,GAAG,SAASxE,EAAEQ,EAAEa,IAAIrB,EAAE0B,EAAE8C,IAAIxE,EAAEQ,EAAEgE,IAAIxE,EAAE0B,EAAEL,KAAK8C,EAAE3D,EAAEa,EAAEK,GAAG,GAAGyC,EAAE3D,EAAEa,EAAEmD,GAAG,GAAGL,EAAEzC,EAAE8C,EAAEhE,GAAG,GAAG2D,EAAEzC,EAAE8C,EAAEnD,GAAG,EAAE,SAASV,EAAEH,EAAEa,EAAEK,EAAE8C,GAAW,IAAR,IAAIvE,EAAE,EAAUmC,EAAEf,EAAE4D,EAAEvD,EAAE8C,EAAEpC,EAAEV,EAAEU,GAAGoC,EAAEvE,IAAIO,EAAEyE,GAAGzE,EAAE4B,KAAK5B,EAAE4B,EAAE,GAAG5B,EAAEyE,EAAE,IAAIA,EAAE7C,EAAE,OAAOnC,EAAE,SAASoE,EAAE7D,EAAEa,EAAEK,EAAE8C,EAAEvE,EAAEmC,EAAE6C,EAAEjC,GAAG,OAAO/C,EAAEgF,IAAI5D,EAAE2B,IAAIxC,EAAEyE,IAAI7C,EAAEY,IAAI,IAAIxC,EAAEyE,IAAIT,EAAExB,IAAItB,EAAEuD,IAAI5D,EAAE2B,IAAI,IAAItB,EAAEuD,IAAI7C,EAAEY,IAAI/C,EAAEgF,IAAIT,EAAExB,IAAI,EAAE,SAAS8B,EAAEtE,EAAEa,GAAG,OAAO8C,EAAE3D,EAAEqL,KAAKrL,EAAEA,EAAEoL,MAAM,EAAEzH,EAAE3D,EAAEa,EAAEb,EAAEoL,OAAO,GAAGzH,EAAE3D,EAAEA,EAAEqL,KAAKxK,IAAI,EAAE8C,EAAE3D,EAAEa,EAAEb,EAAEqL,MAAM,GAAG1H,EAAE3D,EAAEA,EAAEoL,KAAKvK,GAAG,EAAE,SAAS6K,EAAE1L,EAAEa,EAAEK,EAAE8C,EAAEvE,GAAG,OAAOO,EAAE,aAAaA,EAAE,YAAYA,EAAE,YAAYA,EAAE,WAAWA,EAAE,OAAOA,EAAEkB,GAAGzB,GAAGO,GAAG,IAAIA,GAAG,IAAIA,GAAG,IAAIA,GAAG,KAAKa,EAAE,aAAaA,EAAE,YAAYA,EAAE,YAAYA,EAAE,WAAWA,EAAE,OAAOA,EAAEmD,GAAGvE,GAAGoB,GAAG,IAAIA,GAAG,IAAIA,GAAG,IAAIA,GAAG,KAAK,EAAE,SAASrB,EAAEQ,EAAEa,GAAG,OAAOb,EAAEgE,IAAInD,EAAEmD,GAAGhE,EAAEuD,IAAI1C,EAAE0C,EAAE,SAASgB,EAAEvE,EAAEa,GAAG,OAAOb,EAAEgE,EAAEnD,EAAEmD,EAAE,SAASV,EAAEtD,EAAEa,EAAEK,GAAG,IAAI8C,EAAEhE,EAAE,EAAE,CAAC,IAAMP,EAAEuE,EAAEqH,KAAKzJ,EAAEoC,EAAEoH,KAAKA,MAAM5L,EAAEC,EAAEmC,IAAID,EAAElC,EAAEuE,EAAEA,EAAEoH,KAAKxJ,IAAI0C,EAAE7E,EAAEmC,IAAI0C,EAAE1C,EAAEnC,KAAKoB,EAAE0K,KAAK9L,EAAEgM,MAAMvK,GAAGL,EAAE0K,KAAKvH,EAAEyH,MAAMvK,GAAGL,EAAE0K,KAAK3J,EAAE6J,MAAMvK,GAAGsB,EAAEwB,GAAGxB,EAAEwB,EAAEoH,MAAMpH,EAAEhE,EAAE4B,GAAGoC,EAAEA,EAAEoH,WAAWpH,IAAIhE,GAAG,OAAOgE,EAAE,SAAS2E,EAAE3I,EAAEa,EAAEpB,EAAEmC,EAAE6C,EAAEjC,GAAG,IAAID,EAAEvC,EAAE,EAAE,CAAmB,IAAlB,IAAIA,EAAEuC,EAAE6I,KAAKA,KAAUpL,IAAIuC,EAAE8I,MAAM,CAAC,GAAG9I,EAAEkJ,QAAQzL,EAAEyL,OAAOxD,EAAE1F,EAAEvC,GAAG,CAAC,IAAIiD,EAAEnB,EAAES,EAAEvC,GAAG,OAAOuC,EAAErB,EAAEqB,EAAEA,EAAE6I,MAAMnI,EAAE/B,EAAE+B,EAAEA,EAAEmI,MAAMpH,EAAEzB,EAAE1B,EAAEpB,EAAEmC,EAAE6C,EAAEjC,QAAQwB,EAAEf,EAAEpC,EAAEpB,EAAEmC,EAAE6C,EAAEjC,GAAGxC,EAAEA,EAAEoL,KAAK7I,EAAEA,EAAE6I,WAAW7I,IAAIvC,GAAG,SAASiI,EAAEjI,EAAEa,GAAG,OAAOb,EAAEoL,KAAKK,QAAQ5K,EAAE4K,OAAOzL,EAAEqL,KAAKI,QAAQ5K,EAAE4K,QAAQ,SAASzL,EAAEa,GAAG,IAAIK,EAAElB,EAAE,EAAE,CAAC,GAAGkB,EAAEuK,QAAQzL,EAAEyL,OAAOvK,EAAEkK,KAAKK,QAAQzL,EAAEyL,OAAOvK,EAAEuK,QAAQ5K,EAAE4K,OAAOvK,EAAEkK,KAAKK,QAAQ5K,EAAE4K,OAAO9J,EAAET,EAAEA,EAAEkK,KAAKpL,EAAEa,GAAG,OAAM,EAAGK,EAAEA,EAAEkK,WAAWlK,IAAIlB,GAAG,OAAM,EAAvK,CAA2KA,EAAEa,IAAIyD,EAAEtE,EAAEa,IAAIyD,EAAEzD,EAAEb,IAAI,SAASA,EAAEa,GAAG,IAAIK,EAAElB,EAAEgE,GAAE,EAASvE,GAAGO,EAAEgE,EAAEnD,EAAEmD,GAAG,EAAEpC,GAAG5B,EAAEuD,EAAE1C,EAAE0C,GAAG,EAAE,GAAGrC,EAAEqC,EAAE3B,GAAGV,EAAEkK,KAAK7H,EAAE3B,GAAGV,EAAEkK,KAAK7H,IAAIrC,EAAEqC,GAAG9D,GAAGyB,EAAEkK,KAAKpH,EAAE9C,EAAE8C,IAAIpC,EAAEV,EAAEqC,IAAIrC,EAAEkK,KAAK7H,EAAErC,EAAEqC,GAAGrC,EAAE8C,IAAIA,GAAGA,GAAG9C,EAAEA,EAAEkK,WAAWlK,IAAIlB,GAAG,OAAOgE,EAApL,CAAuLhE,EAAEa,GAAG,SAASiB,EAAE9B,EAAEa,GAAG,IAAMK,EAAE,IAAIiE,EAAEnF,EAAEyL,MAAMzL,EAAEgE,EAAEhE,EAAEuD,GAAGS,EAAE,IAAImB,EAAEtE,EAAE4K,MAAM5K,EAAEmD,EAAEnD,EAAE0C,GAAG9D,EAAEO,EAAEoL,KAAKxJ,EAAEf,EAAEwK,KAAK,OAAOrL,EAAEoL,KAAKvK,EAAEA,EAAEwK,KAAKrL,EAAEkB,EAAEkK,KAAK3L,EAAEA,EAAE4L,KAAKnK,EAAE8C,EAAEoH,KAAKlK,EAAEA,EAAEmK,KAAKrH,EAAEpC,EAAEwJ,KAAKpH,EAAEA,EAAEqH,KAAKzJ,EAAEoC,E,IAAQmB,EAAE,WAAYnF,EAAEa,EAAEK,GAAE,oBAACE,KAAKqK,MAAMzL,EAAEoB,KAAK4C,EAAEnD,EAAEO,KAAKmC,EAAErC,EAAEE,KAAKiK,KAAK,KAAKjK,KAAKgK,KAAK,KAAKhK,KAAK6G,EAAE,KAAK7G,KAAKuK,MAAM,KAAKvK,KAAKwK,MAAM,KAAKxK,KAAKkK,SAAQ,I,kCCJp+L,8CAImE,SAASzK,EAAEA,EAAEoC,EAAErB,GAAG,IAAM6C,EAAE5D,EAAEiL,YAAY,EAAE7I,GAAGU,EAAE,IAAIoI,YAAYlL,EAAE,EAAE4D,EAAExB,GAAO9C,EAAE,IAAI4L,YAAYtH,GAASjF,EAAEoC,GAAGA,EAAEoK,cAAc,EAAEnI,EAAEjC,GAAGA,EAAEqK,iBAAiB,KAAK3I,EAAE1B,GAAGA,EAAEsK,kBAAkB,KAAS3I,EAAE,EAAE,GAAGD,EAAE,IAAI,IAAIpC,EAAE,EAAEA,EAAEoC,EAAE4H,OAAO,EAAEhK,IAAI,CAAC,IAAML,EAAEyC,EAAEpC,EAAE,GAAGoC,EAAEpC,GAAGL,EAAE0C,IAAIA,EAAE1C,QAAQ0C,EAAEkB,EAAE,IAAMoE,EAAEmB,KAAKmC,MAAM,IAAI5I,GAAG,GAAG,MAAMf,GAAGA,EAAE0I,OAAO,EAAErC,KAAKrG,EAAE,IAAIuJ,YAAY7K,YAAE,EAAE2H,KAAK,IAAI,IAAI3H,EAAE,EAAEA,EAAE,EAAE2H,EAAE3H,IAAIsB,EAAEtB,GAAG,EAAgJ,IAA9I,IAAIqD,EAAE,EAAQoG,IAAIrH,KAAKO,EAAEsB,EAAEwF,EAAE9G,EAAEqH,OAAOzG,EAAE3C,EAAE6I,EAAE,IAAIoB,YAAYlI,EAAEqH,QAAQ,KAAK5G,EAAE,KAASc,EAAE,IAAI5F,EAAEwK,KAAKoC,KAAK,EAAE9H,EAAEA,GAAG9E,EAAEA,GAAGA,GAAG,EAAEA,IAAI2F,EAAEwD,EAAE,EAAE0D,EAAE/I,EAAEA,EAAE,GAAG6B,EAAUjE,EAAE,EAAEA,EAAEiE,EAAEjE,IAAI,CAAC,GAAGA,IAAIkE,EAAE,CAAC,IAAMvE,EAAE,EAAE0D,EAAErD,EAAE,GAAGL,EAAEyD,EAAE0F,KAAKC,KAAKpJ,GAAG,EAAEA,GAAGK,GAAG1B,EAAE,OAAO,KAAK4F,GAAG,EAAE,GAAGlE,IAAImL,EAAE,CAAC,IAAI,IAAInL,EAAE,EAAEA,EAAE,EAAE2H,EAAE3H,IAAIsB,EAAEtB,GAAG,EAAE,GAAG2C,EAAE,IAAI,IAAI3C,EAAEoC,EAAEqF,EAAE,GAAGzH,EAAEoC,EAAEqF,GAAGzH,IAAIY,EAAEZ,GAAGf,EAAE0D,EAAE3C,IAAImL,EAAE/I,IAAIqF,GAAmD,IAAhD,IAAM9H,EAAE8J,EAAE9G,EAAE3C,GAAGA,EAAEzB,EAAEoB,EAAEoC,EAAErB,EAAEW,EAAEoB,EAAElE,EAAEwD,GAAOwB,EAAE7C,EAAEiH,EAAEtF,EAAEgB,EAAO,IAAI/B,EAAE,EAAEiC,EAAE,IAAI,CAAC,GAAGjC,EAAE,EAAEiC,KAAK7C,EAAE,CAAC,IAAMV,EAAEsB,EAAE,EAAEiC,EAAE,GAAG,EAAE,GAAGzE,EAAE2D,EAAElE,EAAEyB,EAAE+B,EAAEA,GAAG,CAACM,EAAEpD,EAAEe,GAAG,SAAOuD,GAAOoE,IAAIpE,GAAGoE,GAAGtF,IAAIgB,IAAI/B,EAAE,EAAEiC,GAAG7C,EAAEY,EAAE,EAAEiC,EAAE,GAAG5D,EAAE,EAAE0D,KAAKpE,EAAEU,GAAG0C,EAAE,GAAG,IAAI/D,GAAG,EAAE+E,EAAEE,EAAEjF,EAAE,OAAO,KAAK,GAAGmL,EAAE,CAAC,IAAI,IAAIzJ,EAAEoC,EAAEqF,EAAE,GAAGzH,EAAEY,EAAEoJ,OAAOhK,IAAIY,EAAEZ,GAAGf,EAAE0D,EAAE3C,IAAIf,EAAE2B,EAAE,IAAMkC,EAAE,IAAI+H,YAAY9I,EAAEsB,GAAGA,EAAE,EAAE,IAAI,IAAIrD,EAAE,EAAEA,EAAEiE,EAAEjE,IAAOf,EAAEe,KAAKqD,IAAG9E,EAAEkE,GAAGgH,EAAE9G,EAAE3C,GAAGA,GAAG+B,EAAEe,EAAEO,EAAEtB,EAAEA,GAAGsB,KAAI,GAAGV,IAAI8G,EAAE,CAAmC,IAAlC,IAAMzJ,EAAE,IAAI6K,YAAYlI,EAAEqH,QAAgBrK,EAAE,EAAEA,EAAEK,EAAEgK,OAAOrK,IAAIK,EAAEL,GAAGV,EAAE0D,EAAEhD,IAAIV,EAAEe,EAAE,MAAM,CAACoL,OAAOtI,EAAEsI,OAAOC,QAAQpM,EAAEqM,YAAYjI,GAAG,SAASvE,EAAEkB,EAAEL,EAAEb,EAAEP,GAAG,IAAI,IAAI8C,EAAE,EAAEA,EAAE9C,EAAE8C,IAAI,GAAGrB,EAAEL,EAAE0B,KAAKrB,EAAElB,EAAEuC,GAAG,OAAM,EAAG,OAAM,EAAG,SAAS9C,EAAEyB,EAAEL,EAAEb,EAAEP,EAAE8C,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAED,EAAEC,IAAIxC,EAAEP,EAAE+C,GAAGtB,EAAEL,EAAE2B,GAAG,SAASD,EAAErB,EAAEL,EAAEb,GAAW,IAAR,IAAIP,EAAE,EAAU8C,EAAE,EAAEA,EAAEvC,EAAEuC,IAAiB9C,GAAbA,EAAEyB,EAAEL,EAAE0B,GAAG9C,EAAE,IAAOA,GAAG,KAAKA,IAAI,GAAG,EAAE,OAAOA,IAAI,EAAE,IAAI+C,EAAE,M,oGCA13C,SAAS/C,EAAEA,GAAGA,EAAE4F,SAASpF,SAASJ,IAAI,gBAAgB,aAAaJ,EAAE4F,SAASpF,SAASJ,IAAI,sBAAsB,aAAaJ,EAAE4F,SAASpF,SAASJ,IAAI,aAAa,QAAQJ,EAAE4F,SAASpF,SAASJ,IAAI,gBAAgB,QAAQJ,EAAE4E,QAAQnD,KAAGzB,EAAE4F,SAAStF,KAAKF,IAAIG,YAApB,ghGA6E5BP,IAAIA,EAAE,KAA7SgN,aAAa,SAASzM,EAAEkB,GAAGlB,EAAE0M,aAAa,gBAAgB,GAAG1M,EAAE0M,aAAa,sBAAsB,GAAG1M,EAAE2M,aAAa,aAAazL,EAAE0L,aAAa1L,EAAE2L,kBAAkB3L,EAAE4L,aAAa5L,EAAE6L,YAAY/M,EAAEgN,aAAa,gBAAgB9L,EAAE+L,cAAc,GAAG/L,EAAEgM,aAAahM,EAAE+L,cAAc,GAAG/L,EAAEgM,gB,qPC7Em3B,SAASvJ,EAAEA,GAAG,IAAMwB,EAAE,IAAI3F,IAAE,OAAO2F,EAAEd,QAAQ7B,IAAE,CAAC2K,aAAY,IAAKhI,EAAEiI,WAAWvN,IAAI,WAAW,QAAQsF,EAAEiI,WAAWvN,IAAI,MAAM,QAAQsF,EAAErF,OAAOG,SAASJ,IAAI,OAAO,QAAQA,IAAI,OAAO,QAAQA,IAAI,cAAc,QAAQsF,EAAErF,OAAOG,SAASJ,IAAI,aAAa,QAAQ,IAAI8D,EAAEjE,QAAQ,IAAIiE,EAAEjE,SAASyF,EAAEd,QAAQ1C,IAAEgC,GAAGwB,EAAEd,QAAQlE,IAAEwD,GAAGwB,EAAEvF,SAASC,IAAI,MAAM,QAAQsF,EAAEvF,SAASC,IAAI,OAAO,QAAQsF,EAAEvF,SAASC,IAAI,UAAU,QAAQsF,EAAEvF,SAASC,IAAI,aAAa,QAAQsF,EAAErF,OAAOC,KAAKF,IAAIG,YAAlB,sbAE/jDA,IAAEqN,MAAMxM,KAa3B,IAAI8C,EAAEjE,OAAO,wBAAwB,MAEvC,IAAIiE,EAAEjE,SAASyF,EAAEd,QAAQzC,IAAE+B,GAAGwB,EAAEE,SAASpF,SAASJ,IAAI,aAAa,QAAQsF,EAAEE,SAAStF,KAAKF,IAAIG,YAApB,uJAMzE,IAAI2D,EAAEjE,SAASyF,EAAEd,QAAQ9B,IAAEoB,GAAGwB,EAAEd,QAAQzC,IAAE+B,GAAGA,EAAEhE,gBAAgBwF,EAAEd,QAAQC,IAAEX,GAAGwB,EAAEd,QAAQf,IAAEK,GAAGwB,EAAEE,SAASpF,SAASJ,IAAI,aAAa,QAAQA,IAAI,wBAAwB,QAAQA,IAAI,wBAAwB,QAAQA,IAAI,SAAS,QAAQA,IAAI,cAAc,SAASA,IAAI,OAAO,QAAQsF,EAAEE,SAAShB,QAAQ5E,KAAG0F,EAAEE,SAAStF,KAAKF,IAAIG,YAApB,o3BAW5R2D,EAAEhE,eAAeK,YAAjB,gEAA2D,MAO1E2D,EAAE2J,WAAW,iDAAiD,MAEhE,IAAI3J,EAAEjE,SAASyF,EAAEd,QAAQ1C,IAAEgC,GAAGwB,EAAEd,QAAQ9B,IAAEoB,GAAGwB,EAAEd,QAAQzC,IAAE+B,GAAGwB,EAAEvF,SAASC,IAAI,OAAO,QAAQsF,EAAEvF,SAASC,IAAI,MAAM,QAAQsF,EAAErF,OAAOC,KAAKF,IAAIG,YAAlB,4VAEhGA,IAAEqN,MAAMxM,OAWhCsE,EAAEE,SAASpF,SAASJ,IAAI,cAAc,SAASsF,EAAEE,SAAStF,KAAKF,IAAIG,YAApB,2ZAU9C,IAAI2D,EAAEjE,SAASyF,EAAEvF,SAASC,IAAI,OAAO,QAAQsF,EAAErF,OAAOC,KAAKF,IAAIG,YAAlB,oUAEtBA,IAAEqN,MAAMxM,OAShCsE,EAAEE,SAASpF,SAASJ,IAAI,aAAa,QAAQsF,EAAEE,SAAStF,KAAKF,IAAIG,YAApB,0GAI5C,IAAI2D,EAAEjE,SAASyF,EAAEd,QAAQnD,KAAGiE,EAAEvF,SAASC,IAAI,OAAO,QAAQsF,EAAErF,OAAOC,KAAKF,IAAIG,YAAlB,kTAErCA,IAAEqN,MAAMxM,OAS9BsE,EAAEd,QAAQzC,IAAE+B,GAAGwB,EAAEE,SAAStF,KAAKF,IAAIG,YAApB,2HAKdmF,EAAE,IAAIA,EAAEoI,OAAOC,OAAO,CAACC,UAAU,KAAKC,MAAM/J,K,8ICjG2N,SAAS9C,IAAI,IAAMA,EAAE,IAAIpB,IAAE,OAAOoB,EAAEwD,QAAQ7B,KAAG3B,EAAEwE,SAASpF,SAASJ,IAAI,MAAM,aAAagB,EAAEwE,SAASpF,SAASJ,IAAI,QAAQ,QAAQgB,EAAEwE,SAAStF,KAAKF,IAAIG,YAApB,4IAK5Ya,EAAE,IAAIrB,EAAE+N,OAAOC,OAAO,CAACC,UAAU,KAAKC,MAAM7M,K,0ECLSe,E,iBAAG,SAASA,GAAGA,EAAE+L,QAAQ,SAAS/L,EAAEnC,GAAGmC,EAAE9B,OAAOG,SAASJ,IAAI,SAAS,QAAQA,IAAI,sBAAsB,SAASA,IAAI,aAAa,SAAS+B,EAAE9B,OAAOC,KAAKF,IAAIG,YAAlB,0bAU/L4B,EAAEgM,iBAAiB,SAAS5N,EAAE4B,EAAEnC,GAAGO,EAAE6N,aAAa,sBAAsBpO,EAAEkF,OAAOmJ,qBAAqB9N,EAAE6N,aAAa,aAAajM,EAAEmM,aAV7E,CAU2FnM,IAAIA,EAAE,M,mMCV2f,SAASf,EAAEA,GAAG,IAAMV,EAAE,IAAIV,IAAE,OAAOU,EAAEkE,QAAQ7B,IAAE,CAAC2K,aAAY,IAAKhN,EAAEkE,QAAQ9B,IAAEoL,QAAQ,IAAIxN,EAAEkE,QAAQ7E,IAAEqB,GAAGV,EAAEkF,SAAShB,QAAQzC,KAAGzB,EAAEL,OAAOG,SAASJ,IAAI,OAAO,QAAQA,IAAI,OAAO,QAAQM,EAAEkF,SAASpF,SAASJ,IAAI,QAAQ,QAAQM,EAAEiN,WAAWvN,IAAI,WAAW,QAAQM,EAAEP,SAASC,IAAI,iBAAiB,QAAQgB,EAAEmN,mBAAmB7N,EAAEiN,WAAWvN,IAAI,SAAS,QAAQgB,EAAEoN,iBAAiB9N,EAAEL,OAAOG,SAASJ,IAAI,aAAa,QAAQM,EAAEkF,SAASpF,SAASJ,IAAI,cAAc,QAAQA,IAAI,mBAAmB,QAAQM,EAAEiN,WAAWvN,IAAI,SAAS,QAAQM,EAAEP,SAASC,IAAI,cAAc,SAASM,EAAEL,OAAOC,KAAKF,IAAIG,YAAlB,iFAEprCa,EAAEmN,kBAAkB,sCAAsC,aAC9EnN,EAAEoN,gBAAgB9N,EAAEL,OAAOC,KAAKF,IAAIG,YAAlB,iIAGhBG,EAAEL,OAAOC,KAAKF,IAAIG,YAAlB,sGAGFG,EAAEkF,SAAStF,KAAKF,IAAIG,YAApB,2FAGEa,EAAEoN,eAAe9N,EAAEkF,SAAStF,KAAKF,IAAIG,YAApB,mPAIjBG,EAAEkF,SAAStF,KAAKF,IAAIG,YAApB,iEAEAG,EAAEkF,SAAStF,KAAKF,IAAIG,YAApB,0HACoBA,IAAEqN,MAAM/I,KAG3B,IAAIzD,EAAEnB,OAAOM,YAAb,4DAAmD,GAEnD,IAAIa,EAAEnB,OAAOM,YAAb,uFAA4Ea,EAAEyM,WAAW,iDAAiD,IAAK,KAEhJnN,EAAE,IAAIA,EAAEoN,OAAOC,OAAO,CAACC,UAAU,KAAKC,MAAM7M,K,8HC1BM,SAAS2B,EAAEA,GAAGA,EAAE6C,SAAStF,KAAKF,IAAIqB,YAApB,iPAKlE,SAASL,EAAE2B,GAAGA,EAAE6C,SAAStF,KAAKF,IAAIqB,YAApB,gT,gGCLsC,SAASL,EAAEA,EAAEpB,GAAG,IAAIA,EAAEyO,YAAYrN,EAAEf,OAAOC,KAAKF,IAAIG,YAAlB,2IAIpFa,EAAEf,OAAOC,KAAKF,IAAIG,YAAlB,0KAIA,IAAIP,EAAEyO,YAAYrN,EAAEf,OAAOC,KAAKF,IAAIG,YAAlB,qOAMlBa,EAAEf,OAAOC,KAAKF,IAAIG,YAAlB,kN,qGCdkD,SAASwC,EAAEA,GAAGA,EAAE6C,SAASpF,SAASJ,IAAI,oBAAoB,aAAa2C,EAAE6C,SAASpF,SAASJ,IAAI,kBAAkB,QAAQ2C,EAAE6C,SAASpF,SAASJ,IAAI,kBAAkB,QAAQ2C,EAAE6C,SAAStF,KAAKF,IAAIJ,YAApB,4XCAjD,SAASA,EAAEA,EAAED,GAAGC,EAAE4F,SAASpF,SAASJ,IAAI,UAAU,QAAQJ,EAAE4F,SAASpF,SAASJ,IAAI,eAAe,aAAaJ,EAAE4F,SAASpF,SAASJ,IAAI,aAAa,QAAQJ,EAAE4F,SAASpF,SAASJ,IAAI,sBAAsB,SAASJ,EAAE4E,QAAQnD,KAAGzB,EAAE4E,QAAQ7B,GAAG/C,EAAE4F,SAAStF,KAAKF,IAAIG,YAApB,muHACtYR,EAAE2O,cAAc,OAAO,SDOgQ3L,IAAIA,EAAE,KAAlSiK,aAAa,SAAShN,EAAE+C,EAAExC,GAAGP,EAAEiN,aAAa,oBAAoB1M,EAAEoO,yBAAyB5L,EAAE6L,YAAYrO,EAAEsO,sBAAsBtO,EAAEoO,yBAAyB3O,EAAE8O,oBAAoB,kBAAkBvO,EAAEwO,iBAAiB/O,EAAE8O,oBAAoB,kBAAkBvO,EAAE2E,OAAO8J,oBC2F0EhP,IAAIA,EAAE,KAAxVgN,aAAa,SAASzM,EAAEkB,EAAEzB,GAAGA,EAAEiP,aAAa1O,EAAE0M,aAAa,eAAejN,EAAEkP,sBAAsBzN,EAAEmN,YAAY5O,EAAEmP,mBAAmBnP,EAAEkP,sBAAsB3O,EAAE6O,cAAc,UAAUpP,EAAEkF,OAAOmK,SAAS9O,EAAEuO,oBAAoB,aAAa9O,EAAEkF,OAAOoK,YAAY/O,EAAE6N,aAAa,sBAAsB,EAAEpO,EAAEkF,OAAOqK,QAAQxM,EAAEiK,aAAazM,EAAEkB,EAAEzB,M,8GCnGvS,SAASO,EAAEA,GAAGA,EAAEqF,SAAStF,KAAKF,IAAI2C,YAApB,+S,oBCAsO,SAAShD,EAAEA,EAAEqB,GAAGrB,EAAE6E,QAAQzC,IAAEf,GAAGrB,EAAE6E,QAAQ5E,GAAGD,EAAE6E,QAAQnD,KAAGL,EAAE6N,YAAYlP,EAAE6E,QAAQ7B,IAAE3B,GAAGrB,EAAE6F,SAAStF,KAAKF,IAAIG,YAApB,iqKAqG1Xa,EAAE6N,WAAWlP,EAAE6F,SAAStF,KAAKF,IAAIG,YAApB,w/DAmCjBR,EAAE6F,SAAStF,KAAKF,IAAIG,YAApB,qN,yiBCxIuQa,G,kBAAE,aAAa,oBAACO,KAAK6N,MAAM,IAAIC,I,2CAAI,WAAU9N,KAAK6N,MAAME,SAAS,SAAAjO,GAAIlB,YAAEkB,EAAEkO,WAAWlO,EAAEkO,QAAQC,UAAUnO,EAAEkO,QAAQ,SAAShO,KAAK6N,MAAMK,U,qBAAQ,SAAQtP,GAAG,GAAGkB,YAAElB,GAAG,OAAO,KAAK,IAAMa,EAAEO,KAAKmO,UAAUvP,GAAG4B,EAAER,KAAK6N,MAAMO,IAAI3O,GAAG,GAAGe,EAAE,OAAOA,EAAE6N,WAAW7N,EAAE8N,KAAK,IAAMvP,EAAEiB,KAAKuO,qBAAqB3P,EAAE,GAAGwC,EAAErC,EAAE+K,OAAO,EAAEzG,EAAE,CAACgL,SAAS,EAAEL,QAAQ,KAAKM,KAAK,SAAC1P,EAAEa,GAAH,OAAQK,YAAEuD,EAAE2K,WAAW3K,EAAE2K,QAAQ,IAAI3P,IAAEO,EAAE,CAAC4P,MAAMzP,EAAE+K,OAAO8D,OAAO,EAAEa,eAAe,KAAKC,YAAY,KAAKC,SAAS,KAAKC,SAAS,OAAO7P,IAAIH,EAAEqO,YAAY5J,EAAE2K,QAAQvO,GAAG2B,IAAI,OAAOpB,KAAK6N,MAAMgB,IAAIpP,EAAE4D,GAAGA,EAAEiL,O,qBAAK,SAAQjQ,GAAG,IAAGyB,YAAEzB,GAAL,CAAe,IAAMoB,EAAEO,KAAKmO,UAAU9P,GAAGmC,EAAER,KAAK6N,MAAMO,IAAI3O,GAAGe,IAAIA,EAAE6N,WAAW,IAAI7N,EAAE6N,WAAWzP,YAAE4B,EAAEwN,UAAUxN,EAAEwN,QAAQC,UAAUjO,KAAK6N,MAAMiB,OAAOrP,Q,kBAAK,SAAKb,EAAEkB,GAAG,IAAMzB,EAAE2B,KAAK+O,QAAQjP,GAAG,OAAOE,KAAKgP,QAAQpQ,GAAGP,I,uBAAE,SAAUO,GAAG,OAAOA,EAAEqQ,KAAK,O,kCAAK,SAAqBrQ,EAAEkB,GAAG,IAAD,EAAOzB,EAAEO,EAAEsQ,QAAQ,SAACtQ,EAAEkB,GAAH,OAAOlB,EAAEkB,KAAIA,EAAEL,EAAE,IAAI0P,WAAW9Q,GAAOmC,GAAE,EAAGzB,EAAE,EAAjE,cAAkFH,GAAlF,IAAmE,2BAAiB,CAAC,IAAD,IAAPP,EAAO,QAASO,EAAE,EAAEA,EAAEP,EAAEyB,EAAElB,IAAIa,EAAEV,KAAKyB,EAAE,IAAI,EAAEA,GAAGA,GAA7H,8BAA+H,OAAOf,M,MAAG,SAASe,EAAE5B,GAAG,OAAOkB,YAAElB,GAAGA,EAAEA,EAAEwQ,QCAn/B,IAAMrQ,EAAE,CAACsQ,KAAK,IAAIvP,IAAE,CAAC,IAAI,IAAI,IAAIwP,SAAS,IAAIxP,IAAE,CAAC,IAAI,IAAI,MAAMyP,OAAO,IAAIzP,IAAE,CAAC,GAAG,IAAI,MAAM0P,QAAQ,IAAI1P,IAAE,CAAC,EAAE,EAAE,EAAE,KAAK2P,gBAAgB,IAAI3P,IAAE,CAAC,IAAI,IAAI,OAAO,SAASL,EAAEK,EAAEU,GAAG,IAAM5B,EAAEkB,EAAEsC,QAAQ,OAAOxD,EAAER,GAAGoC,EAAE5B,EAAE,SAASP,EAAEyB,EAAEsB,GAAG,IAAMD,EAAErB,EAAEsC,QAAQrD,EAAEyB,YAAEW,GAAGpC,EAAEA,GAAGqC,EAAE,IAAM3B,EAAEb,YAAEG,GAAG,OAAOoC,EAAE9C,EAAEoB,EAAEpB,EAAE8C,EAAEe,EAAEzC,EAAEyC,EAAEf,EAAET,EAAEjB,EAAEiB,EAAES,EAAE,SAASsB,EAAE3C,EAAEU,GAAG,GAAGA,EAAE,IAAI,IAAM5B,KAAK4B,EAAEV,EAAElB,GAAG4B,EAAE5B,G,IAAS2D,EAAE,SAAAA,EAAYzC,GAAE,oBAACE,KAAK0P,MAAM3Q,EAAEsQ,KAAKrP,KAAK4N,OAAO,GAAG5N,KAAK2P,WAAW,GAAG3P,KAAK4P,UAAU,GAAG5P,KAAKwO,MAAM,EAAExO,KAAK6P,eAAe,GAAGpN,EAAEzC,KAAKF,IAAU1B,E,WAAE,WAAY0B,GAAE,oBAACE,KAAKwC,KAAK,GAAGxC,KAAK8P,YAAY,EAAE9P,KAAK+P,iBAAiB,EAAE/P,KAAK0P,MAAM3Q,EAAEsQ,KAAKrP,KAAKgQ,aAAajR,EAAEyQ,QAAQxP,KAAK6P,eAAe,GAAG7P,KAAKiQ,kBAAkBlR,EAAE0Q,gBAAgBhN,EAAEzC,KAAKF,G,yCAAG,SAAMA,EAAEU,GAAG,IAAM5B,EAAEoB,KAAKF,GAAGU,EAAE0P,mBAAmB,CAACR,MAAM9I,EAAEhI,GAAGuR,YAAY,UAAUrQ,GAAGlB,EAAER,EAAE,EAAEyR,eAAe7P,KAAK6P,qB,KAAwB3M,EAAE,WAAYpD,GAAE,oBAACE,KAAKtB,OAAO,IAAIN,EAAE,CAACsR,MAAM3Q,EAAEsQ,KAAKW,aAAajR,EAAEyQ,UAAUxP,KAAKoQ,KAAK,IAAIhS,EAAE,CAACsR,MAAMrR,EAAEoB,EAAEV,EAAEsQ,KAAK,EAAE,GAAG,IAAIW,aAAavQ,EAAEV,EAAEyQ,QAAQ,IAAIhN,KAAK,EAAEuN,iBAAiB,IAAI/P,KAAKsP,SAAS,IAAIlR,EAAE,CAACsR,MAAM3Q,EAAEuQ,SAASU,aAAajR,EAAEyQ,UAAU/M,EAAEzC,KAAKF,IAAUuD,E,WAAE,WAAYvD,GAAE,oBAACE,KAAK0P,MAAM3Q,EAAEuQ,SAAStP,KAAKwO,MAAM,IAAIxO,KAAKqQ,eAAelP,EAAE,CAAC,EAAE,IAAInB,KAAKsQ,gBAAgBvR,EAAEyQ,QAAQxP,KAAKuQ,QAAQ,EAAEvQ,KAAKwQ,WAAW,IAAIxQ,KAAKyQ,WAAW1R,EAAEuQ,SAAStP,KAAK6P,eAAe,EAAEpN,EAAEzC,KAAKF,G,yCAAG,SAAMA,GAAGA,EAAE4P,MAAM9I,EAAE5G,KAAK0P,OAAO5P,EAAE0O,MAAMxO,KAAKwO,MAAM1O,EAAEuQ,eAAerQ,KAAKqQ,eAAevQ,EAAEwQ,gBAAgB1J,EAAE5G,KAAKsQ,iBAAiBxQ,EAAEyQ,QAAQvQ,KAAKuQ,QAAQzQ,EAAE0Q,WAAWxQ,KAAKwQ,WAAW1Q,EAAE2Q,WAAW7J,EAAE5G,KAAKyQ,YAAY3Q,EAAE+P,eAAe7P,KAAK6P,mB,KAAsB7L,E,WAAE,WAAYlE,GAAE,oBAACE,KAAK0P,MAAM3Q,EAAEuQ,SAAStP,KAAKwC,KAAK,EAAExC,KAAK8P,YAAY,EAAE9P,KAAKgQ,aAAajR,EAAEyQ,QAAQxP,KAAK0Q,MAAM,SAASjO,EAAEzC,KAAKF,G,yCAAG,SAAMA,GAAGA,EAAE4P,MAAM9I,EAAE5G,KAAK0P,OAAO5P,EAAE0C,KAAKxC,KAAKwC,KAAK1C,EAAEgQ,YAAY9P,KAAK8P,YAAYhQ,EAAEkQ,aAAapJ,EAAE5G,KAAKgQ,cAAclQ,EAAE6Q,UAAU3Q,KAAK0Q,U,KAAavN,E,WAAE,WAAYrD,GAAE,oBAACE,KAAKyQ,WAAW1R,EAAEuQ,SAAStP,KAAKwQ,WAAW,EAAExQ,KAAK4Q,UAAU7R,EAAEsQ,KAAKrP,KAAK6Q,UAAU,EAAE7Q,KAAK8Q,YAAY,EAAE9Q,KAAK+Q,YAAY,GAAG/Q,KAAKgR,yBAAyB,IAAIhR,KAAK2J,OAAO,EAAE3J,KAAKiR,gBAAgBlS,EAAEsQ,KAAK5M,EAAEzC,KAAKF,G,yCAAG,SAAMU,GAAM,IAAJ5B,EAAI,uDAAF,EAASwC,EAAE,CAACwP,UAAU9Q,IAAEoR,UAAUlR,KAAK4Q,WAAWE,YAAY9Q,KAAK8Q,YAAYD,UAAU7Q,KAAK6Q,UAAUJ,WAAW3Q,IAAEoR,UAAUlR,KAAKyQ,YAAYD,WAAWxQ,KAAKwQ,WAAWO,YAAY/Q,KAAK+Q,YAAYnS,EAAEoS,yBAAyBhR,KAAKgR,yBAAyBG,qBAAqBnR,KAAK2J,QAAQ,UAAUnJ,EAAEA,EAAE4Q,MAAMhQ,EAAEZ,EAAE6Q,eAAejQ,M,KAASS,EAAE,WAAY/B,GAAE,oBAACE,KAAKwP,QAAQ,IAAInM,EAAE,CAACqM,MAAM3Q,EAAEyQ,QAAQK,eAAe,EAAES,gBAAgBvR,EAAEuQ,SAASe,eAAelP,EAAE,CAAC,EAAE,IAAIqN,MAAM,IAAIgC,WAAW,IAAIxQ,KAAKuP,OAAO,IAAIlM,EAAE,CAACqM,MAAM3Q,EAAEuQ,SAASO,eAAe,EAAEY,WAAW1R,EAAEwQ,OAAOe,gBAAgBvR,EAAEyQ,QAAQa,eAAelP,EAAE,CAAC,EAAE,IAAIqN,MAAM,MAAMxO,KAAKsR,YAAY,IAAInO,EAAE,CAAC4N,YAAY,GAAGH,UAAU7R,EAAEsQ,KAAKyB,YAAY,EAAED,UAAU,EAAEJ,WAAW1R,EAAEuQ,SAASkB,WAAW,IAAI/N,EAAEzC,KAAKF,IAAUoC,EAAE,WAAYpC,GAAE,oBAACE,KAAKwP,QAAQ,IAAIxL,EAAE,CAAC0L,MAAM3Q,EAAEuQ,SAASU,aAAajR,EAAEyQ,QAAQM,YAAY,EAAEY,MAAM,SAASlO,KAAK,IAAIxC,KAAKsR,YAAY,IAAInO,EAAE,CAAC4N,YAAY,GAAGH,UAAU7R,EAAEsQ,KAAKyB,YAAY,IAAID,UAAU,EAAEJ,WAAW1R,EAAEuQ,SAASkB,WAAW,EAAE7G,OAAO,IAAIlH,EAAEzC,KAAKF,IAAUb,E,kDAAY,WAAYa,GAAE,kCAAC,gBAAayR,cAAc,EAAE9O,EAAE,eAAK3C,GAArC,E,UAAhBuD,GAA+DU,EAAE,WAAYjE,GAAE,oBAACE,KAAKwR,aAAa,IAAI3P,EAAE7B,KAAKyR,cAAc,IAAIvP,EAAElC,KAAK0R,YAAY,IAAIvO,EAAE,CAAC4N,YAAY,GAAGH,UAAU7R,EAAEsQ,KAAKyB,YAAY,EAAED,UAAU,EAAEJ,WAAW1R,EAAEuQ,SAASkB,WAAW,IAAIxQ,KAAK2R,UAAU,IAAIxO,EAAE,CAAC4N,YAAY,GAAGH,UAAU7R,EAAEsQ,KAAKyB,YAAY,EAAED,UAAU,EAAEJ,WAAW1R,EAAEuQ,SAASkB,WAAW,EAAES,gBAAgBlS,EAAEsQ,OAAOrP,KAAK4R,cAAc,IAAI3S,EAAE,CAACyQ,MAAMjQ,EAAEV,EAAEsQ,KAAK,IAAIkB,QAAQ,EAAEE,WAAWhR,EAAEV,EAAEuQ,SAAS,GAAGO,eAAe,EAAEQ,eAAe,KAAK7B,MAAM,EAAE+C,cAAc,IAAIvR,KAAK6R,yBAAyB,IAAI7R,KAAK8R,uBAAuB,GAAGrP,EAAEzC,KAAKF,IAAI,SAAS8G,EAAEpG,GAAG,OAAOY,YAAEtB,IAAEiS,WAAWvR,IAAI,IAAM6I,EAAE,eAAU,WAAYvJ,GAAE,oBAACE,KAAKgS,eAAe,IAAIjO,EAAE/D,KAAKiS,oBAAoB,IAAI/O,EAAElD,KAAKkS,aAAa,IAAI3P,EAAEE,EAAEzC,KAAKF,GAAjH,+CAAoH,SAAYA,GAAG,OAAO8G,EAAE9G,OAA5I,EAAI,I,2KCA1xG,WAAYA,EAAEzB,EAAEU,EAAEX,EAAEqB,EAAEb,EAAEwC,GAAE,oBAACpB,KAAKmS,WAAW,KAAKnS,KAAKoS,2BAA0B,EAAGpS,KAAKqS,KAAKvS,EAAEwS,eAAetS,KAAKuS,aAAalU,EAAE2B,KAAKwS,SAASzT,EAAEiB,KAAK2G,OAAO,KAAK3G,KAAKkH,OAAO1G,cAAIR,KAAKyS,SAAS,EAAEzS,KAAKkG,eAAe,KAAKlG,KAAK0S,8BAA8BjT,EAAErB,GAAG4B,KAAK2S,qBAAqBvU,EAAEQ,GAAGoB,KAAK4S,WAAWxR,EAAEpB,KAAK6S,mBAAmB,CAACC,WAAW,KAAKC,UAAU,KAAK7R,SAAQ,G,wDAAI,SAAqBpB,EAAEzB,GAAG2B,KAAKkG,eAAepG,EAAEE,KAAKoS,2BAA0B,EAAGpS,KAAKyS,SAASzS,KAAKgT,kBAAkBlT,EAAEzB,EAAE2B,KAAKkH,U,yCAAQ,WAA8BlH,KAAKoS,2BAA0B,I,+BAAG,SAAkBtS,EAAEzB,EAAEmC,GAAG,OAAOnC,EAAEA,GAAGD,aAAE0B,GAAGf,YAAEyB,EAAER,KAAKuS,aAAaU,YAAYnT,GAAGE,KAAKuS,aAAaW,cAAc7U,I,mCAAE,WAA8B,QAAQ2B,KAAK0S,gC,qCAA8B,WAA0B,OAAO1S,KAAK0S,+BAA+B1S,KAAKoS,4BAA4BpS,KAAKmT,uBAAuBnT,KAAKmT,qBAAqB/R,gBAAK3B,aAAEO,KAAKmT,qBAAqBnT,KAAK0S,8BAA8B5S,YAAEE,KAAKkG,eAAetH,QAAKoB,KAAKoS,2BAA0B,GAAIpS,KAAKmT,sBAAsBrT,YAAEE,KAAKkG,eAAetH,Q,qCAAG,SAAwBkB,GAAG,GAAGE,KAAKwS,SAASY,wBAAwB,QAAQpT,KAAKwS,SAASY,wBAAwBpT,KAAKF,KAAKzB,YAAE2B,KAAKkG,iBAAiBnH,YAAEe,EAAEA,EAAEE,KAAKkG,iBAAgB,GAAI,IAAM1F,EAAER,KAAKqT,WAAWtP,KAAEuP,UAAUlV,EAAE4B,KAAKuT,aAAaxP,KAAEuP,UAAU,QAAQ7Q,aAAErE,EAAEoC,EAAEV,KAAKzB,YAAE2B,KAAKkG,iBAAiBnH,YAAEe,EAAEA,EAAEE,KAAKkG,iBAAgB,K,wBAAI,SAAWpG,GAAG,MAAM,YAAYE,KAAKqS,KAAKrS,KAAKqS,KAAKlH,QAAQrL,GAAG,O,0BAAK,SAAaA,GAAG,MAAM,eAAeE,KAAKqS,KAAKrS,KAAKqS,KAAKmB,WAAW1T,GAAG,O,0BAAK,WAAe,IAAMA,EAAEuD,aAAE,GAAGhF,EAAE2B,KAAK6S,mBAAmB,OAAOxU,EAAEyU,WAAW5P,aAAE7E,EAAEyU,WAAWhT,GAAGA,I,6BAAE,SAAgBA,GAAG,IAAMzB,EAAE2B,KAAK6S,mBAAmBxU,EAAEyU,WAAWjR,aAAExD,EAAEyU,WAAWhT,O,kDCA39C,SAASzB,GAAEyB,EAAElB,EAAEwC,GAAqF,IAAlF,IAAM/C,EAAEyB,EAAEgK,OAAO/K,EAAE,IAAIgL,MAAM1L,GAAGmC,EAAE,IAAIuJ,MAAM1L,GAAGkE,EAAE,IAAIwH,MAAM1L,GAAOoE,EAAE,EAAEZ,EAAE,EAAEK,EAAE,EAAE9D,EAAE,EAAUqB,EAAE,EAAEA,EAAEpB,IAAIoB,EAAErB,GAAG0B,EAAEL,GAAGqK,OAA6C,IAAtC,IAAMzG,EAAE,IAAIoQ,aAAa,EAAErV,GAAO4F,EAAE,EAAU5F,EAAEC,EAAE,EAAED,GAAG,EAAEA,IAAI,CAAC,IAAM8E,EAAEpD,EAAE1B,GAAG+D,EAAE,IAAIf,IAAI3B,aAAEyD,GAAE,GAAG,GAAI,GAAGf,GAAG,IAAI9D,EAAEU,EAAE0D,KAAKS,MAAM,CAAgB,IAAf,IAAIzD,EAAEyD,EAAE4G,OAAehK,EAAE,EAAEA,EAAE2C,IAAI3C,EAAEL,GAAGV,EAAEe,GAAGgK,OAAO,IAAMhK,EAAE,CAACuK,MAAMrG,EAAE0P,YAAY,IAAI3J,MAAMtH,EAAE,GAAGkR,MAAMlU,EAAEmU,YAAY,IAAI7J,MAAMtH,IAAI3C,EAAE4T,YAAY,GAAGxQ,EAAE4G,OAAO5G,EAAE4G,OAAO,IAAIvH,EAAEL,KAAK,CAACmI,MAAMrG,EAAE2P,MAAMzQ,EAAE4G,SAAS9F,EAAE7B,EAAEhB,GAAE+B,EAAEA,EAAE4G,OAAO,GAAG,EAAEzG,EAAEW,EAAEd,EAAE4G,OAAOlL,GAAGuC,GAAE+B,EAAE,EAAE,EAAEG,EAAEW,EAAEd,EAAE4G,OAAOlL,GAAG,IAAI,IAAIa,EAAE,EAAEA,EAAEgD,IAAIhD,EAAE,CAAC,IAAM2B,EAAErC,EAAEU,GAAGK,EAAE8T,YAAYnU,GAAGuE,EAAElE,EAAE4T,YAAYjU,EAAE,GAAG2B,EAAE0I,OAAO1I,EAAE0I,OAAO,IAAIvH,EAAEL,KAAK,CAACmI,MAAMrG,EAAE2P,MAAMvS,EAAE0I,SAAS9F,EAAE7C,GAAEC,EAAE,EAAE,EAAEiC,EAAEW,EAAE5C,EAAE0I,OAAOlL,GAAG6D,EAAE,EAAE3C,EAAE6T,MAAM,IAAInT,EAAEqB,KAAK/B,IAAI,IAAI,IAAIL,EAAE,EAAEA,EAAEgD,IAAIhD,EAAE,CAAC,IAAMK,EAAEf,EAAEU,GAAGK,EAAEgK,OAAO,IAAIvH,EAAEL,KAAK,CAACmI,MAAMrG,EAAE2P,MAAM7T,EAAEgK,SAAS9F,EAAE7C,GAAErB,EAAE,EAAE,EAAEuD,EAAEW,EAAElE,EAAEgK,OAAOlL,GAAG,OAAOiD,EAAExD,IAAImC,EAAEsJ,OAAOjI,GAAGK,EAAE7D,IAAIkE,EAAEuH,OAAO5H,GAAG,CAAC2R,SAASxQ,EAAEyQ,SAAStT,EAAEuT,SAASxR,GAAG,SAASpB,GAAE1B,EAAEK,EAAElB,EAAEwC,EAAE/C,EAAE8C,EAAEpC,GAAGV,GAAG,EAAE,IAAI,IAAImC,EAAE,EAAEA,EAAEW,IAAIX,EAAE,CAAC,IAAMW,EAAE1B,EAAEK,GAAGsB,EAAE/C,KAAK8C,EAAE,GAAGC,EAAE/C,KAAK8C,EAAE,GAAGC,EAAE/C,KAAKU,EAAEoC,EAAE,GAAG,EAAErB,GAAGlB,EAAE,OAAOP,EAAE,E,yICAzwDmC,GAAE,aAAiD,IAArCA,EAAqC,uDAAnCzB,cAAIwD,EAA+B,uDAA7BzC,YAAE,OAAO,OAAO,QAAQL,IAAK,6EAACO,KAAKgU,UAAUxT,EAAER,KAAKyG,UAAUlE,EAAEvC,KAAKiU,YAAYxU,GAAS8C,GAAE,SAAAA,IAA4C,IAAhC/B,EAAgC,uDAA9BzB,cAAIwD,EAA0B,uDAAxBzC,YAAE,OAAO,OAAO,QAAQ,oBAACE,KAAKgU,UAAUjV,cAAIiB,KAAKyG,UAAU1H,cAAIiB,KAAKgU,UAAUxT,EAAER,KAAKyG,UAAUlE,GAAS9C,GAAE,aAAkB,IAANK,EAAM,uDAAJf,cAAI,oBAACiB,KAAKgU,UAAUlU,GAASsB,GAAE,aAAa,oBAACpB,KAAKkU,GAAG,CAAC7V,EAAE,CAAC,GAAG6D,EAAE,CAAC,GAAGxB,EAAE,CAAC,K,gDCAkoByI,G,WAAE,aAAiC,IAArB3I,EAAqB,uDAAnB,KAAK5B,EAAc,uDAAZ,KAAKP,EAAO,uDAAL,KAAK,oBAAC2B,KAAKmU,QAAQpV,cAAIiB,KAAKoU,aAAarV,cAAIiB,KAAKqU,WAAWtV,cAAIiB,KAAKmG,KAAKU,KAAEyN,gBAAgBtU,KAAKuU,UAAUzS,YAAE,EAAE,EAAE,EAAE,GAAG9B,KAAKwU,SAAS1S,YAAE,EAAE,EAAE,EAAE,GAAG9B,KAAKyU,KAAK,GAAG,IAAI7L,KAAK8L,GAAG1U,KAAK2U,SAASvQ,aAAE,EAAE,KAAKpE,KAAK4U,YAAW,EAAG5U,KAAK6U,YAAYpM,eAAIzI,KAAK8U,kBAAiB,EAAG9U,KAAK+U,kBAAkBtM,eAAIzI,KAAKgV,sBAAqB,EAAGhV,KAAKiV,sBAAsBxM,eAAIzI,KAAKkV,kCAAiC,EAAGlV,KAAKmV,4BAA4B1M,eAAIzI,KAAKoV,eAAc,EAAGpV,KAAKqV,SAASC,KAAEjP,SAASrG,KAAKuV,cAAcrQ,cAAIlF,KAAKwV,oBAAmB,EAAGxV,KAAKyV,WAAW,EAAEzV,KAAK0V,kBAAkB,EAAE1V,KAAK2V,KAAK7V,YAAEU,GAAGiC,YAAEjC,GAAGzB,cAAIiB,KAAK4V,QAAQ9V,YAAElB,GAAG6D,YAAE7D,GAAGG,cAAIiB,KAAK6V,IAAI/V,YAAEzB,GAAGoE,YAAEpE,GAAGoB,YAAE,EAAE,EAAE,G,qCAAG,WAAU,OAAOO,KAAK2V,M,IAAK,SAAQ7V,GAAGE,KAAK8V,mBAAmBhW,EAAEE,KAAK2V,Q,kBAAM,WAAa,OAAO3V,KAAK4V,S,IAAQ,SAAW9V,GAAGE,KAAK8V,mBAAmBhW,EAAEE,KAAK4V,W,eAAS,WAAU,OAAO5V,KAAKmG,KAAKQ,OAAO3G,KAAKwD,IAAIxD,KAAKmG,KAAKM,YAAYzG,KAAKmG,KAAKM,UAAU1H,eAAKqC,YAAEpB,KAAKmG,KAAKM,UAAUzG,KAAKkH,OAAOlH,KAAKwD,KAAKxD,KAAKmG,O,cAAK,WAAS,OAAOnG,KAAK6V,K,IAAI,SAAO/V,GAAGE,KAAK8V,mBAAmBhW,EAAEE,KAAK6V,O,sBAAK,WAAiB,OAAO7V,KAAK+V,mBAAmB/V,KAAK6U,a,IAAY,SAAe/U,GAAG8C,aAAE5C,KAAK6U,YAAY/U,GAAGE,KAAK4U,YAAW,EAAG5U,KAAKkV,kCAAiC,EAAGlV,KAAKgV,sBAAqB,EAAGhV,KAAKoV,eAAc,I,uBAAG,WAAkB,OAAOpV,KAAK+V,mBAAmB/V,KAAKoU,e,kBAAa,WAAa,OAAOpU,KAAK+V,mBAAmB/V,KAAKmU,U,qBAAQ,WAAgB,OAAOnU,KAAK+V,mBAAmB/V,KAAKqU,a,mBAAW,WAAc,OAAOrU,KAAK2U,W,gBAAS,WAAW,OAAO3U,KAAK2U,SAAS,I,IAAG,SAAS7U,GAAGE,KAAK2U,SAAS,KAAK7U,IAAIE,KAAK2U,SAAS,GAAG7U,EAAEE,KAAK8U,kBAAiB,EAAG9U,KAAKgV,sBAAqB,EAAGhV,KAAKoV,eAAc,K,eAAI,WAAU,OAAOpV,KAAK2U,SAAS,I,IAAG,SAAQ7U,GAAGE,KAAK2U,SAAS,KAAK7U,IAAIE,KAAK2U,SAAS,GAAG7U,EAAEE,KAAK8U,kBAAiB,EAAG9U,KAAKgV,sBAAqB,EAAGhV,KAAKoV,eAAc,K,oBAAI,WAAe,OAAOpV,KAAKuU,W,IAAU,SAAazU,GAAGE,KAAK4C,EAAE9C,EAAE,GAAGE,KAAKmC,EAAErC,EAAE,GAAGE,KAAKwO,MAAM1O,EAAE,GAAGE,KAAK4N,OAAO9N,EAAE,K,aAAG,WAAQ,OAAOE,KAAKuU,UAAU,I,IAAG,SAAMzU,GAAGA,GAAGE,KAAKwU,SAAS,GAAGxU,KAAKuU,UAAU,KAAKzU,IAAIE,KAAKuU,UAAU,GAAGzU,EAAEE,KAAK8U,kBAAiB,EAAG9U,KAAKgV,sBAAqB,EAAGhV,KAAKoV,eAAc,K,aAAI,WAAQ,OAAOpV,KAAKuU,UAAU,I,IAAG,SAAMzU,GAAGA,GAAGE,KAAKwU,SAAS,GAAGxU,KAAKuU,UAAU,KAAKzU,IAAIE,KAAKuU,UAAU,GAAGzU,EAAEE,KAAK8U,kBAAiB,EAAG9U,KAAKgV,sBAAqB,EAAGhV,KAAKoV,eAAc,K,iBAAI,WAAY,OAAOpV,KAAKuU,UAAU,I,IAAG,SAAUzU,GAAGE,KAAKuU,UAAU,KAAKzU,IAAIE,KAAKuU,UAAU,GAAGzU,EAAEE,KAAK8U,kBAAiB,EAAG9U,KAAKgV,sBAAqB,EAAGhV,KAAKoV,eAAc,K,kBAAI,WAAa,OAAOpV,KAAKuU,UAAU,I,IAAG,SAAWzU,GAAGE,KAAKuU,UAAU,KAAKzU,IAAIE,KAAKuU,UAAU,GAAGzU,EAAEE,KAAK8U,kBAAiB,EAAG9U,KAAKgV,sBAAqB,EAAGhV,KAAKoV,eAAc,K,qBAAI,WAAgB,OAAOpV,KAAKuU,UAAU,GAAGvU,KAAKwU,SAAS,GAAGxU,KAAKwU,SAAS,I,IAAG,SAAc1U,GAAGE,KAAKwO,MAAM1O,GAAGE,KAAKwU,SAAS,GAAGxU,KAAKwU,SAAS,M,sBAAI,WAAiB,OAAOxU,KAAKuU,UAAU,GAAGvU,KAAKwU,SAAS,GAAGxU,KAAKwU,SAAS,I,IAAG,SAAe1U,GAAGE,KAAK4N,OAAO9N,GAAGE,KAAKwU,SAAS,GAAGxU,KAAKwU,SAAS,M,wBAAI,WAAmB,OAAOxU,KAAKuV,cAAc,GAAGvV,KAAKuU,UAAU,GAAGvU,KAAKwU,SAAS,GAAGxU,KAAKuV,cAAc,GAAGvV,KAAKuU,UAAU,GAAGvU,KAAKwU,SAAS,GAAGxU,KAAKuV,cAAc,GAAGvV,KAAKgW,UAAUhW,KAAKuV,cAAc,GAAGvV,KAAKiW,WAAWjW,KAAKuV,gB,kBAAc,WAAa,OAAOvV,KAAKwO,MAAMxO,KAAK4N,S,mBAAO,WAAc,OAAO5N,KAAKwU,U,IAAS,SAAY1U,GAAGE,KAAKwU,SAAS,KAAK1U,EAAE,IAAIE,KAAKwU,SAAS,KAAK1U,EAAE,IAAIE,KAAKwU,SAAS,KAAK1U,EAAE,IAAIE,KAAKwU,SAAS,KAAK1U,EAAE,KAAKE,KAAKuU,UAAU,IAAIzU,EAAE,GAAGE,KAAKwU,SAAS,GAAGxU,KAAKuU,UAAU,IAAIzU,EAAE,GAAGE,KAAKwU,SAAS,GAAGxU,KAAKuU,UAAU,IAAIzU,EAAE,GAAGA,EAAE,IAAIE,KAAKwU,SAAS,GAAGxU,KAAKwU,SAAS,IAAIxU,KAAKuU,UAAU,IAAIzU,EAAE,GAAGA,EAAE,IAAIE,KAAKwU,SAAS,GAAGxU,KAAKwU,SAAS,IAAI7O,YAAE3F,KAAKwU,SAAS1U,GAAGE,KAAK8U,kBAAiB,EAAG9U,KAAKgV,sBAAqB,EAAGhV,KAAKoV,eAAc,K,gCAAI,WAA2B,OAAOpV,KAAKgV,uBAAuBkB,aAAElW,KAAKiV,sBAAsBjV,KAAKqN,iBAAiBrN,KAAK2N,YAAY3N,KAAKgV,sBAAqB,GAAIhV,KAAKiV,wB,4BAAsB,WAAuB,GAAGjV,KAAK8U,iBAAiB,CAAC,IAAMhV,EAAEE,KAAKwO,MAAMhO,EAAER,KAAK4N,OAAOhP,EAAEoB,KAAKmW,KAAKvN,KAAKwN,IAAIpW,KAAKqW,KAAK,GAAGhY,EAAEO,EAAEoB,KAAKsW,OAAOxX,aAAEkB,KAAK+U,mBAAmB1W,GAAG,EAAE,EAAE2B,KAAKwU,SAAS,GAAG1U,GAAGzB,GAAG,EAAE,EAAE2B,KAAKwU,SAAS,GAAG1U,IAAIlB,GAAG,EAAE,EAAEoB,KAAKwU,SAAS,GAAGhU,GAAG5B,GAAG,EAAE,EAAEoB,KAAKwU,SAAS,GAAGhU,GAAGR,KAAKmW,KAAKnW,KAAKuW,KAAKvW,KAAK8U,kBAAiB,EAAG,OAAO9U,KAAK+U,mB,IAAkB,SAAqBjV,GAAG8C,aAAE5C,KAAK+U,kBAAkBjV,GAAGE,KAAK8U,kBAAiB,EAAG9U,KAAKgV,sBAAqB,EAAGhV,KAAKoV,eAAc,I,eAAG,WAAU,OAAOpV,KAAKyU,M,IAAK,SAAQ3U,GAAGE,KAAKyU,KAAK3U,EAAEE,KAAK8U,kBAAiB,EAAG9U,KAAKgV,sBAAqB,EAAGhV,KAAKoV,eAAc,I,gBAAG,WAAW,OAAOxO,aAAE5G,KAAKyU,KAAKzU,KAAKwO,MAAMxO,KAAK4N,S,IAAQ,SAAS9N,GAAGE,KAAKyU,KAAK/R,aAAE5C,EAAEE,KAAKwO,MAAMxO,KAAK4N,QAAQ5N,KAAK8U,kBAAiB,EAAG9U,KAAKgV,sBAAqB,EAAGhV,KAAKoV,eAAc,I,gBAAG,WAAW,OAAO9L,aAAEtJ,KAAKyU,KAAKzU,KAAKwO,MAAMxO,KAAK4N,S,IAAQ,SAAS9N,GAAGE,KAAKyU,KAAK+B,aAAE1W,EAAEE,KAAKwO,MAAMxO,KAAK4N,QAAQ5N,KAAK8U,kBAAiB,EAAG9U,KAAKgV,sBAAqB,EAAGhV,KAAKoV,eAAc,I,oBAAG,WAAe,OAAOhX,YAAE4B,KAAK4V,QAAQ5V,KAAK2V,Q,mBAAM,WAAc,OAAO3V,KAAKyW,oBAAoBzW,KAAKqV,W,sCAAS,WAAiC,OAAOrV,KAAKkV,kCAAkClV,KAAK4U,cAAcrN,aAAEvH,KAAKmV,4BAA4BnV,KAAK2N,YAAY7F,aAAE9H,KAAKmV,4BAA4BnV,KAAKmV,6BAA6BnV,KAAKkV,kCAAiC,GAAIlV,KAAKmV,8B,6BAA4B,SAAgBrV,GAAG,IAAMU,EAAE,EAAEV,EAAE,EAAE,OAAO,EAAEE,KAAKmW,KAAKnW,KAAKuW,KAAKvW,KAAKuW,IAAIvW,KAAKmW,KAAK3V,GAAGR,KAAKuW,IAAIvW,KAAKmW,S,+BAAO,WAA0B,OAAOvN,KAAKwN,IAAIpW,KAAK0W,KAAK,IAAI1W,KAAKwO,MAAM,K,+BAAG,WAA0B,OAAOxO,KAAK2W,oBAAoB3W,KAAKyV,a,uBAAW,WAAkB,OAAOzV,KAAK0V,mBAAmB1V,KAAK0V,mBAAmB,I,sBAAE,SAAS5V,GAAG,IAAMU,EAAEV,EAAE,OAAOiD,YAAE/C,KAAK2V,KAAKnV,EAAEmV,MAAM5S,YAAE/C,KAAK4V,QAAQpV,EAAEoV,SAAS7S,YAAE/C,KAAK6V,IAAIrV,EAAEqV,KAAKlQ,YAAE3F,KAAKuU,UAAU/T,EAAE+T,WAAW5O,YAAE3F,KAAKwU,SAAShU,EAAEgU,UAAUpO,aAAEpG,KAAK2U,SAASnU,EAAEmU,UAAU3U,KAAKyU,KAAKjU,EAAEiU,KAAKzU,KAAK0V,kBAAkB5V,EAAE4V,kBAAkB1V,KAAK4U,WAAWpU,EAAEoU,WAAW5U,KAAK4U,aAAahS,aAAE5C,KAAK6U,YAAYrU,EAAEqU,aAAa9R,YAAE/C,KAAKqU,WAAW7T,EAAE6T,YAAYtR,YAAE/C,KAAKmU,QAAQ3T,EAAE2T,SAASpR,YAAE/C,KAAKoU,aAAa5T,EAAE4T,eAAe5T,EAAEsU,iBAAiB9U,KAAK8U,kBAAiB,GAAIlS,aAAE5C,KAAK+U,kBAAkBvU,EAAEuU,mBAAmB/U,KAAK8U,kBAAiB,GAAI9U,KAAKgV,sBAAqB,EAAGhV,KAAKoV,cAAc5U,EAAE4U,cAAcpV,KAAKoV,gBAAgBE,KAAEhO,KAAK9G,EAAE6U,SAASrV,KAAKqV,UAAUrV,KAAKoV,eAAc,GAAI5U,EAAE0U,iCAAiClV,KAAKkV,kCAAiC,GAAItS,aAAE5C,KAAKmV,4BAA4B3U,EAAE2U,6BAA6BnV,KAAKkV,kCAAiC,GAAIvP,YAAE3F,KAAKuV,cAAc/U,EAAE+U,eAAevV,KAAKyV,WAAW3V,EAAE2V,WAAWzV,O,0BAAK,SAAaF,GAAGE,KAAKwD,IAAI1D,EAAE0D,IAAIxD,KAAKkH,OAAOpH,EAAEoH,OAAOlH,KAAK4W,GAAG9W,EAAE8W,K,mBAAG,WAAQ,OAAO,IAAIzN,GAAG0N,SAAS7W,Q,oBAAM,SAAOF,GAAG,OAAOkE,YAAEhE,KAAK2V,KAAK7V,EAAE6V,OAAO3R,YAAEhE,KAAK4V,QAAQ9V,EAAE8V,UAAU5R,YAAEhE,KAAK6V,IAAI/V,EAAE+V,MAAMnV,YAAEV,KAAKuU,UAAUzU,EAAEyU,YAAY7T,YAAEV,KAAKwU,SAAS1U,EAAE0U,WAAW/M,aAAEzH,KAAK2U,SAAS7U,EAAE6U,WAAW3U,KAAKyU,OAAO3U,EAAE2U,MAAMzU,KAAKyV,aAAa3V,EAAE2V,YAAYzV,KAAK0V,oBAAoB5V,EAAE4V,oB,0BAAkB,SAAa5V,GAAG,GAAGE,KAAKyV,aAAa3V,EAAE2V,YAAY7M,KAAK6B,IAAI3K,EAAE2U,KAAKzU,KAAKyU,OAAO,KAAK,OAAM,EAAG,IAAMjU,EAAE,KAAK6C,YAAEuG,GAAE9J,EAAE6V,KAAK7V,EAAE8V,SAASvS,YAAEwG,GAAE7J,KAAK2V,KAAK3V,KAAK4V,SAAS,IAAMhX,EAAE2B,YAAEqJ,GAAEC,IAAGxL,EAAEkE,YAAEqH,IAAG7K,EAAEwD,YAAEsH,IAAG,OAAOjL,EAAEA,IAAI,EAAE,OAAOP,EAAEU,GAAGoE,YAAErD,EAAE6V,KAAK3V,KAAK2V,MAAM/M,KAAK/C,IAAIxH,EAAEU,GAAGyB,EAAEA,GAAG+I,YAAEzJ,EAAE0U,SAASxU,KAAKwU,UAAU,IAAIjL,YAAEzJ,EAAEyU,UAAUvU,KAAKuU,WAAW,K,2BAAG,WAAgBvU,KAAK4U,YAAW,EAAG5U,KAAKoV,eAAc,EAAGpV,KAAKgV,sBAAqB,I,sCAAG,SAAyBlV,GAAG,OAAOE,KAAK8W,6BAA6B9W,KAAK+W,sBAAsBjX,M,0CAAI,SAA6BA,GAAG,OAAOA,EAAEE,KAAK2W,sB,sCAAoB,SAAyB7W,GAAG,OAAOE,KAAKgX,6BAA6BhX,KAAK+W,sBAAsBjX,M,mCAAI,SAAsBA,GAAG,OAAO8I,KAAK6B,IAAIwM,aAAEjX,KAAKkX,YAAY9V,YAAEwI,GAAE9J,EAAEE,KAAK2V,U,0CAAQ,SAA6B7V,GAAG,OAAOA,EAAEE,KAAK0M,sB,uCAAoB,SAA0B5M,EAAEU,GAAG,OAAOV,EAAE8I,KAAKwN,IAAIxN,KAAKhD,IAAI5F,KAAK0W,KAAK1W,KAAKqW,OAAO,GAAG7V,GAAG,O,6BAAK,WAAsB,IAANV,EAAM,uDAAJlB,eAAK,OAAOkB,EAAE,IAAIE,KAAKmX,QAAQ,GAAGnX,KAAKwO,MAAM,GAAGxO,KAAKyV,WAAW3V,EAAE,IAAIE,KAAKmX,QAAQ,GAAGnX,KAAK4N,OAAO,GAAG5N,KAAKyV,WAAW3V,I,6BAAE,SAAgBA,GAAY,IAAVU,EAAU,uDAAR,GAAG5B,EAAK,uDAAH,GAAI,OAAOkB,IAAIA,EAAEzB,gBAAKyB,EAAE,GAAGE,KAAKmX,QAAQ,GAAGnX,KAAKwO,MAAMhO,EAAEV,EAAE,GAAGE,KAAKmX,QAAQ,GAAGnX,KAAK4N,OAAOhP,EAAEkB,EAAEgK,OAAO,IAAIhK,EAAE,GAAG,IAAIA,I,2BAAE,SAAcA,GAAG,IAAMU,EAAER,KAAKoX,SAASxY,EAAEoB,KAAKmX,QAAQrX,EAAEuX,YAAY7W,EAAE,GAAG5B,EAAE,GAAG4B,EAAE,GAAG5B,EAAE,GAAG4B,EAAE,GAAG5B,EAAE,GAAGA,EAAE,GAAG4B,EAAE,GAAG5B,EAAE,GAAGA,EAAE,M,6BAAI,SAAgBkB,EAAElB,GAAO,IAALP,EAAK,wDAACyB,IAAImL,IAAGlI,YAAEkI,GAAEnL,GAAGmL,GAAE,GAAG,EAAE5M,IAAIO,EAAE,IAAIqM,GAAE,IAAIhM,YAAEgM,GAAEA,GAAEjL,KAAKqN,kBAAkBnK,YAAE+H,GAAEA,GAAE,EAAErC,KAAK6B,IAAIQ,GAAE,KAAK,IAAMlM,EAAEiB,KAAKsX,aAAa,OAAO1Y,EAAE,GAAG4B,aAAE,EAAEzB,EAAE,GAAGA,EAAE,GAAG,GAAG,GAAGkM,GAAE,IAAIrM,EAAE,GAAG4B,aAAE,EAAEzB,EAAE,GAAGA,EAAE,GAAG,GAAG,GAAGkM,GAAE,IAAI5M,IAAIO,EAAE,GAAG,IAAIqM,GAAE,GAAG,IAAIrM,I,6BAAE,SAAgBkB,EAAEU,GAAG,OAAOR,KAAKuX,sBAAsBzX,EAAE0X,IAAGxX,KAAKyX,eAAeD,GAAEhX,K,mCAAG,SAAsBV,EAAElB,GAAG,GAAGqM,GAAE,GAAGnL,EAAE,GAAGmL,GAAE,GAAGnL,EAAE,GAAGmL,GAAE,GAAGnL,EAAE,GAAGmL,GAAE,GAAG,EAAEhM,YAAEgM,GAAEA,GAAEjL,KAAK0X,sBAAsB,IAAIzM,GAAE,GAAG,OAAO,KAAK/H,YAAE+H,GAAEA,GAAE,EAAErC,KAAK6B,IAAIQ,GAAE,KAAK,IAAM5M,EAAE2B,KAAKsX,aAAa,MAAM,MAAM1Y,GAAGA,EAAEgE,EAAEpC,aAAE,EAAEnC,EAAE,GAAGA,EAAE,GAAG,GAAG,GAAG4M,GAAE,IAAIrM,EAAEuD,EAAE3B,aAAE,EAAEnC,EAAE,GAAGA,EAAE,GAAG,GAAG,GAAG4M,GAAE,MAAMrM,EAAE,GAAG4B,aAAE,EAAEnC,EAAE,GAAGA,EAAE,GAAG,GAAG,GAAG4M,GAAE,IAAIrM,EAAE,GAAG4B,aAAE,EAAEnC,EAAE,GAAGA,EAAE,GAAG,GAAG,GAAG4M,GAAE,IAAIrM,EAAEkL,OAAO,IAAIlL,EAAE,GAAG,IAAIqM,GAAE,GAAG,KAAKrM,I,iCAAE,SAAoBkB,EAAEU,GAAG,OAAOR,KAAK2X,0BAA0B3X,KAAK4X,eAAe9X,EAAE0X,IAAGhX,K,uCAAG,SAA0BV,EAAEU,GAAG,GAAG0V,aAAE2B,GAAE7X,KAAKqN,iBAAiBrN,KAAK2N,aAAapG,aAAEsQ,GAAEA,IAAG,OAAO,KAAK,IAAMjZ,EAAEoB,KAAKsX,aAAa,OAAOrM,GAAE,GAAG,GAAGnL,EAAE,GAAGlB,EAAE,IAAIA,EAAE,GAAG,EAAEqM,GAAE,GAAG,GAAGnL,EAAE,GAAGlB,EAAE,IAAIA,EAAE,GAAG,EAAEqM,GAAE,GAAG,EAAEnL,EAAE,GAAG,EAAEmL,GAAE,GAAG,EAAEhM,YAAEgM,GAAEA,GAAE4M,IAAG,IAAI5M,GAAE,GAAG,MAAMzK,EAAE,GAAGyK,GAAE,GAAGA,GAAE,GAAGzK,EAAE,GAAGyK,GAAE,GAAGA,GAAE,GAAGzK,EAAE,GAAGyK,GAAE,GAAGA,GAAE,GAAGzK,K,iCAAG,SAAoBV,EAAEU,EAAE5B,GAAM,IAAJP,EAAI,uDAAF,EAASU,EAAEe,EAAEE,KAAKyV,WAAWhT,EAAEjC,EAAER,KAAKyV,WAAWhW,EAAEmJ,KAAK/C,IAAI9G,EAAEH,EAAEP,EAAE,EAAE,GAAG+C,EAAEwH,KAAK/C,IAAI7F,KAAKiW,WAAWxT,EAAE7D,EAAE,EAAE,GAAGR,GAAGwK,KAAKhD,IAAI7G,EAAEH,EAAEP,EAAE,EAAE,GAAG0E,GAAG6F,KAAKhD,IAAI5F,KAAKiW,WAAWxT,EAAE7D,EAAE,EAAE,GAAG,MAAM,CAACa,EAAE2B,EAAExC,EAAEP,EAAED,IAAIwK,KAAKhD,IAAI5F,KAAKgW,UAAUjX,EAAEH,EAAEP,EAAE,EAAE,GAAGO,EAAEmE,IAAI6F,KAAKhD,IAAInD,EAAE7D,EAAE,EAAE,M,uBAAI,SAAUkB,GAAG,IAAIA,EAAEE,KAAK8X,kBAAkB9X,KAAK+X,mB,4BAAiB,SAAejY,EAAEU,GAAG,IAAM5B,EAAEkB,EAAE,GAAGE,KAAKyV,WAAWpX,EAAE2B,KAAKiW,WAAWnW,EAAE,GAAGE,KAAKyV,WAAW,OAAOjV,EAAE,GAAG5B,EAAE4B,EAAE,GAAGnC,EAAEmC,I,4BAAE,SAAeV,EAAEU,GAAG,IAAM5B,EAAEkB,EAAE,GAAGE,KAAKyV,WAAWpX,GAAG2B,KAAKiW,WAAWnW,EAAE,IAAIE,KAAKyV,WAAW,OAAOjV,EAAE,GAAG5B,EAAE4B,EAAE,GAAGnC,EAAEmC,I,6BAAE,WAAkBY,YAAEwI,GAAE5J,KAAKkH,OAAOlH,KAAKwD,KAAK,IAAM1D,EAAEqB,YAAEnB,KAAKkH,QAAQpH,EAAE,GAAGqC,YAAEnC,KAAK4W,GAAG,EAAE,EAAE,GAAG5W,KAAKgY,iBAAiBpP,KAAK6B,IAAIlK,YAAEqJ,GAAE5J,KAAKkH,SAAS,MAAM/F,YAAEyI,IAAG9J,IAAIoC,YAAElC,KAAK4W,GAAGhN,GAAE5J,KAAKkH,QAAQhF,YAAElC,KAAK4W,GAAG5W,KAAK4W,GAAGhN,IAAG/H,YAAE7B,KAAK4W,GAAG5W,KAAK4W,IAAI5W,KAAKgY,mB,4BAAiB,WAAiBjU,aAAE6F,GAAE5J,KAAKwD,IAAIxD,KAAKkH,QAAQ0B,KAAK6B,IAAIb,GAAE,KAAK,QAAQ1G,YAAE0G,GAAEA,GAAEA,GAAE,IAAIzH,YAAEnC,KAAK4W,IAAIhN,GAAE,IAAIA,GAAE,GAAG,EAAEA,GAAE,IAAI/H,YAAE7B,KAAK4W,GAAG5W,KAAK4W,IAAI5W,KAAKgY,mB,gCAAiB,SAAmBlY,EAAEU,GAAGwD,YAAElE,EAAEU,KAAKuC,YAAEvC,EAAEV,GAAGE,KAAK4U,YAAW,EAAG5U,KAAKoV,eAAc,EAAGpV,KAAKgV,sBAAqB,K,+BAAI,WAAoBhV,KAAKoV,gBAAgBE,KAAE2C,WAAWjY,KAAK2N,WAAW3N,KAAKqN,iBAAiBrN,KAAKqV,UAAUrV,KAAKoV,eAAc,K,8BAAI,WAAmBpV,KAAK4U,aAAa9L,aAAE9I,KAAK6U,YAAY7U,KAAK2V,KAAK3V,KAAK4V,QAAQ5V,KAAK6V,KAAK1T,YAAEnC,KAAKoU,cAAcpU,KAAK6U,YAAY,IAAI7U,KAAK6U,YAAY,IAAI7U,KAAK6U,YAAY,KAAK1S,YAAEnC,KAAKmU,QAAQnU,KAAK6U,YAAY,GAAG7U,KAAK6U,YAAY,GAAG7U,KAAK6U,YAAY,IAAI1S,YAAEnC,KAAKqU,WAAWrU,KAAK6U,YAAY,GAAG7U,KAAK6U,YAAY,GAAG7U,KAAK6U,YAAY,IAAI7U,KAAK4U,YAAW,EAAG5U,KAAKkV,kCAAiC,O,KAAWjK,GAAE/F,cAAI2S,GAAEpP,eAAImB,GAAE7K,cAAI8K,GAAE9K,cAAIyY,GAAEnZ,eAAmB8K,MCAzkWrH,GAAC,kDAAiB,aAAa,kCAAC,eAASoW,YAAgBC,sCAAqC,EAAG,EAAKC,uBAAsB,EAAG,EAAKC,uCAAsC,EAAG,EAAKC,+BAA8B,EAAG,EAAKC,2BAA0B,EAAG,EAAKC,6BAA4B,EAAG,EAAKC,wBAAuB,EAAG,EAAKC,oBAAmB,EAAG,EAAKC,4BAA2B,EAAG,EAAKC,qBAAoB,EAAG,EAAKC,UAAS,EAAG,EAAKC,qBAAoB,EAAG,EAAKC,iCAAgC,EAAG,EAAKC,wCAAuC,EAAG,EAAKC,8CAA6C,EAAG,EAAKC,4BAA2B,EAAG,EAAKC,+BAA8B,EAAG,EAAKC,8BAA6B,EAAG,EAAKC,qBAAoB,EAAG,EAAKC,wBAAuB,EAAG,EAAKC,4BAA2B,EAAG,EAAKC,sBAAqB,EAAG,EAAKC,uCAAsC,EAAG,EAAKC,yCAAwC,EAAG,EAAKC,qCAAoC,EAA55B,EAA9B,UAAevT,MAAg7B6Q,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,4CAAuC,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,6BAAwB,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,6CAAwC,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,qCAAgC,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,iCAA4B,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,mCAA8B,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,8BAAyB,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,0BAAqB,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,kCAA6B,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,2BAAsB,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,gBAAW,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,2BAAsB,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,uCAAkC,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,8CAAyC,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,oDAA+C,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,kCAA6B,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,qCAAgC,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,oCAA+B,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,2BAAsB,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,8BAAyB,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,kCAA6B,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,4BAAuB,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,6CAAwC,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,+CAA0C,GAAQsT,YAAE,CAAClU,eAAKjB,GAAE6B,UAAU,2CAAsC,GAAuD,IAA6B7D,GAArB,IAAvDgC,GAAEmV,YAAE,CAAC7V,YAAE,qCAAqCU,K,UCAtoFhC,G,WAAE,WAAYlB,EAAEkB,EAAEU,EAAEzB,GAAE,oBAACiB,KAAK4Z,cAAc,KAAK5Z,KAAK6Z,GAAL,UAAW/Z,EAAX,cAAkBU,GAAIR,KAAK4Z,cAAc,IAAIvb,IAAEO,EAAE,CAACkb,YAAY,EAAEC,mBAAmB,GAAG,CAACjT,OAAO,KAAK4H,YAAY,KAAKC,SAAS,KAAKC,SAAS,MAAMoL,aAAa,KAAKC,UAAUlb,EAAEmb,cAAc,EAAE1L,MAAM,EAAEZ,OAAO,I,2CAAI,WAAU5N,KAAK4Z,cAAc3L,UAAUjO,KAAK4Z,cAAc,O,wBAAK,WAAa,OAAO5Z,KAAK4Z,cAAc5Z,KAAK4Z,cAAcO,aAAa,O,qBAAK,WAAU,OAAO,OAAOna,KAAK4Z,gB,oBAAc,SAAOhb,EAAEP,GAAG2B,KAAK4Z,cAAcQ,OAAOxb,EAAEP,K,kBAAG,SAAKO,GAAGA,EAAEyb,gBAAgBra,KAAK4Z,iB,4BAAe,WAAiB5Z,KAAK4Z,cAAcO,aAAaG,WAAWL,WAAWja,KAAK4Z,cAAcO,aAAaI,mB,uCAAiB,WAA4Bva,KAAK4Z,eAAe5Z,KAAK4Z,cAAcQ,OAAO,EAAE,K,+BAAG,WAAoB,IAAI/b,EAAE,EAAE,OAAO2B,KAAK4Z,gBAAgBvb,GAAGO,aAAEoB,KAAK4Z,gBAAgBvb,M,eCAp+BA,GAAE,WAAYoB,EAAEK,GAAE,oBAACE,KAAKwa,KAAK/a,EAAEO,KAAK6Z,GAAG/Z,GAAwC,SAASyC,GAAE9C,EAAEV,EAAEwD,EAAE3D,GAAG,OAAO,IAAIP,GAAEyB,YAAEL,EAAEV,EAAEwD,GAAG3D,G,ICAkBG,G,WAAE,WAAYA,EAAEX,GAAE,oBAAC4B,KAAKya,OAAO7b,eAAIoB,KAAK0a,WAAW,EAAE1a,KAAK2a,kBAAkB7a,GAAE,EAAE,EAAE,EAAE,KAAKE,KAAKyV,WAAW,EAAEzV,KAAK4a,cAAc,CAAClL,MAAM,CAACmL,IAAI,IAAIxc,GAAEU,EAAE,UAAUX,GAAE,GAAI0c,OAAM,EAAGC,SAAS,KAAKC,wBAAwB,CAACH,IAAI,IAAIxc,GAAEU,EAAE,4BAA4BX,GAAE,GAAI0c,OAAM,EAAGC,SAAS,KAAKE,UAAU,CAACJ,IAAI,IAAIxc,GAAEU,EAAE,mBAAmBX,GAAE,GAAI0c,OAAM,EAAGC,SAAS,KAAKG,MAAM,CAACL,IAAI,IAAIxc,GAAEU,EAAE,mBAAmBX,GAAE,GAAI0c,OAAM,EAAGC,SAAS,KAAKI,SAAS,CAACN,IAAI,IAAIxc,GAAEU,EAAE,kBAAkBX,GAAE,GAAI0c,OAAM,EAAGC,SAAS,M,2CAAM,WAAU/a,KAAK4a,cAAclL,MAAMmL,IAAI5M,UAAUjO,KAAK4a,cAAcI,wBAAwBH,IAAI5M,UAAUjO,KAAK4a,cAAcK,UAAUJ,IAAI5M,UAAUjO,KAAK4a,cAAcM,MAAML,IAAI5M,UAAUjO,KAAK4a,cAAcO,SAASN,IAAI5M,Y,+BAAU,SAAkBrP,EAAEP,EAAEyB,GAAG,IAAMf,EAAEiB,KAAK4a,cAAc7b,EAAE2Q,MAAMoL,MAAMlc,EAAEwc,SAAS,EAAErc,EAAE2Q,MAAMmL,IAAIxc,GAAGU,EAAEkc,UAAUH,MAAMlc,EAAEwc,SAAS,EAAErc,EAAEkc,UAAUJ,IAAIxc,GAAGU,EAAEmc,MAAMJ,MAAMlc,EAAEwc,SAAS,EAAErc,EAAEmc,MAAML,IAAIxc,GAAGU,EAAEoc,SAASL,MAAMlc,EAAEwc,SAAS,EAAErc,EAAEoc,SAASN,IAAIxc,EAAE,GAAGU,EAAEic,wBAAwBF,MAAMhb,GAAGlB,EAAEwc,SAAS,EAAErc,EAAEic,wBAAwBH,IAAIxc,EAAE,K,iDAAG,WAAsC,IAAMO,EAAEoB,KAAK4a,cAAc,OAAOhc,EAAE8Q,MAAMoL,OAAOlc,EAAEoc,wBAAwBF,OAAO,GAAGlc,EAAEqc,UAAUH,OAAO,GAAGlc,EAAEsc,MAAMJ,OAAO,GAAGlc,EAAEuc,SAASL,OAAO,I,2BAAE,SAAclc,EAAEP,GAAG,GAAGO,EAAEkc,MAAMlc,EAAEmc,SAAS1c,OAAO,GAAGA,EAAEO,EAAEmc,SAAS3c,GAAEQ,EAAEic,IAAIQ,4BAA4Bzc,EAAEmc,SAAS,SAAS,GAAGnc,EAAEmc,SAAS,IAAI,OAAM,EAAG,OAAM,I,iCAAG,SAAoBnc,GAAG,IAAIP,GAAE,EAAG,OAAOA,EAAE2B,KAAKsb,cAActb,KAAK4a,cAAclL,MAAM9Q,IAAIP,EAAEA,EAAE2B,KAAKsb,cAActb,KAAK4a,cAAcI,wBAAwBpc,IAAIP,EAAEA,EAAE2B,KAAKsb,cAActb,KAAK4a,cAAcK,UAAUrc,IAAIP,EAAEA,EAAE2B,KAAKsb,cAActb,KAAK4a,cAAcO,SAASvc,IAAIP,EAAEA,EAAE2B,KAAKsb,cAActb,KAAK4a,cAAcM,MAAMtc,IAAIP,I,+BAAI,WAAoB,OAAO2B,KAAK4a,cAAclL,MAAMmL,IAAIU,oBAAoBvb,KAAK4a,cAAcI,wBAAwBH,IAAIU,oBAAoBvb,KAAK4a,cAAcK,UAAUJ,IAAIU,oBAAoBvb,KAAK4a,cAAcM,MAAML,IAAIU,oBAAoBvb,KAAK4a,cAAcO,SAASN,IAAIU,wB,KAA2Bnd,GAAE,I,UCAvlEC,G,WAAE,aAAa,oBAAC2B,KAAKwb,UAAU,CAACC,KAAK,GAAGC,kBAAkB,GAAGC,gBAAgB,GAAGC,sBAAsB,I,2CAAI,WAAU5b,KAAKwb,UAAU,O,yBAAK,SAAYzc,GAAG,OAAOiB,KAAKwb,UAAUzc,IAAI,K,8BAAG,SAAiBA,GAAG,IAAI,IAAMV,KAAK2B,KAAKwb,UAAUzc,EAAE8c,WAAWxd,IAAI2B,KAAKwb,UAAUnd,GAAG8L,KAAKpL,K,gCAAG,SAAmBV,GAAG,IAAI,IAAMmC,KAAKR,KAAKwb,UAAUzc,aAAEiB,KAAKwb,UAAUhb,GAAGnC,O,cCA7SA,GAAE,WAAYO,GAAE,oBAACoB,KAAK8b,UAAUld,EAAEoB,KAAKqO,SAAS,EAAErO,KAAK+b,aAAa,GAAShd,G,WAAE,WAAYH,GAAE,oBAACoB,KAAKgc,SAASpd,EAAEoB,KAAKic,yBAAyB,IAAInO,IAAI9N,KAAKkc,cAAc,EAAElc,KAAKmc,qBAAqB,K,6CAAK,WAAkB,OAAOnc,KAAKgc,SAASlP,c,+BAAY,WAA0B,OAAO9M,KAAKgc,W,qBAAS,WAAUhc,KAAKic,yBAAyBlO,SAAS,SAAAnP,GAAC,OAAEA,EAAEmP,SAAS,SAAAnP,GAAC,OAAEA,EAAEkd,UAAU7N,gBAAcjO,KAAKic,yBAAyB/N,U,qBAAQ,SAAQtP,EAAEkB,GAAG,IAAMf,EAAEe,EAAEsc,IAAQhb,EAAEpB,KAAKic,yBAAyB7N,IAAIxP,GAAGwC,IAAIA,EAAE,IAAI0M,IAAI9N,KAAKic,yBAAyBpN,IAAIjQ,EAAEwC,IAAI,IAAI3B,EAAE2B,EAAEgN,IAAIrP,GAAG,YAAO,IAASU,IAAIA,EAAE,IAAIpB,GAAE,IAAIO,EAAEoB,KAAKgc,SAASlc,IAAIsB,EAAEyN,IAAI9P,EAAEU,MAAMA,EAAE4O,SAAS5O,EAAEqc,Y,uCAAU,SAA0Bhc,EAAEzB,EAAEU,GAAG,OAAOH,YAAEG,GAAGiB,KAAK+O,QAAQjP,EAAEzB,GAAGA,EAAE+d,MAAMrd,EAAEqd,KAAKrd,aAAae,EAAEf,GAAGiB,KAAKgP,QAAQjQ,GAAGiB,KAAK+O,QAAQjP,EAAEzB,M,qBAAI,SAAQO,GAAG,IAAMkB,EAAEE,KAAKic,yBAAyB7N,IAAIxP,EAAEyd,aAAajO,IAAIxP,EAAEwd,KAAKtc,EAAEuO,UAAU,EAAE,IAAIvO,EAAEuO,WAAWvO,EAAEic,aAAa/b,KAAKkc,iB,yBAAe,WAAa,WAAClc,KAAKkc,gBAAgBlc,KAAKic,yBAAyBlO,SAAS,SAACnP,EAAEkB,GAAKlB,EAAEmP,SAAS,SAACjO,EAAEzB,GAAK,IAAIyB,EAAEuO,UAAUvO,EAAEic,aAAa,EAAKI,qBAAqB,EAAKD,gBAAgBpc,EAAEgc,UAAU7N,UAAUrP,EAAEkQ,OAAOzQ,OAAO,IAAIO,EAAE4D,MAAM,EAAKyZ,yBAAyBnN,OAAOhP,Q,qCAAM,SAAwBlB,GAAG,OAAOoB,KAAKgc,SAASM,mBAAmBC,YAAY3d,K,gEAAG,oCAAAR,EAAA,6DAAwBQ,EAAE,IAAImL,MAAM/J,KAAKic,yBAAyBlO,SAAS,SAACjO,EAAEzB,GAAKO,EAAEuL,KAAK,yCAAC,WAAMvL,EAAEkB,GAAR,gBAAA1B,EAAA,yDAAmBC,EAAEyB,EAAE0c,OAAvB,KAA8Bne,GAA9B,qCAAwCA,EAAEoe,SAA1C,OAAmD7d,EAAEmP,SAAS,SAAAnP,GAAIA,EAAEkd,UAAUW,OAAO,EAAKT,aAA1F,2CAAD,wDAA2Glc,EAAEzB,OAAvM,SAAoNyB,aAAElB,GAAtN,gD,6DCAt3CkB,GAAE,CAAC,CAACxB,OAAO,EAAEyI,KAAK,SAAS,CAACzI,OAAO,EAAEyI,KAAK,SAAS,CAACzI,OAAO,EAAEyI,KAAK,UAAU,CAACzI,OAAO,EAAEyI,KAAK,kBAAkB,CAACzI,OAAO,EAAEyI,KAAK,aAAa,CAACzI,OAAO,EAAEyI,KAAK,UAAU,CAACzI,OAAO,EAAEyI,KAAK,aAAa,CAACzI,OAAO,EAAEyI,KAAK,UAAU,SAAS1D,GAAEA,EAAEjC,GAAG,OAAOiC,EAAE,IAAIvD,GAAEwI,MAAM,SAAAxI,GAAC,OAAEA,EAAExB,SAAS8C,KAAI2F,KCA5C,IAAMhI,GAAEe,IAAEd,UAAU,gDAAsDoC,G,WAAE,WAAYxC,GAAE,oBAACoB,KAAK0c,OAAO,EAAE1c,KAAK2c,WAAW/d,E,6CAAE,aAAcoB,KAAK0c,S,uBAAO,aAAc1c,KAAK0c,OAAOlc,aAAER,KAAK0c,QAAQ,K,uBAAG,WAAY,OAAO1c,KAAK0c,S,2BAAO,WAAgB,OAAO1c,KAAK2c,e,mBAAiC,WAAY/d,EAAEkB,EAAEU,GAAE,oBAACR,KAAK4c,YAAYhe,EAAEoB,KAAK6c,cAAc/c,EAAEE,KAAK8c,kBAAkBtc,EAAER,KAAK+c,kBAAkB,IAAIjP,I,2CAAI,WAAU9N,KAAK4c,YAAY3O,Y,qBAAU,SAAQrP,EAAEkB,GAAGE,KAAKgd,YAAYpe,GAAG,IAAM4B,EAAEnC,GAAEO,EAAEib,GAAG/Z,GAAO1B,EAAE4B,KAAK+c,kBAAkB3O,IAAI5N,GAAG,GAAG,MAAMpC,EAAE,CAAC,IAAMC,EAAEO,EAAEqe,cAAc,CAACzK,SAAS5T,EAAEse,aAAald,KAAK6c,cAAcM,WAAWnd,KAAK4c,YAAYte,OAAOwB,IAAI,OAAO1B,EAAE,IAAIgD,GAAE/C,IAAK+e,YAAYpd,KAAK+c,kBAAkBlO,IAAIrO,EAAEpC,GAAGC,EAAE,OAAOD,EAAEgf,YAAYhf,EAAE6e,kB,qBAAgB,SAAQre,EAAEkB,GAAG,IAAMU,EAAEnC,GAAEO,EAAEib,GAAG/Z,GAAG1B,EAAE4B,KAAK+c,kBAAkB3O,IAAI5N,GAAG,GAAGpC,EAAEif,YAAY,IAAIjf,EAAEkf,YAAY,CAAC,IAAM1e,EAAER,EAAE6e,gBAAgBre,GAAGA,EAAEqP,UAAUjO,KAAK+c,kBAAkBjO,OAAOtO,M,6BAAI,SAAgB5B,GAAE,oBAAgBR,IAAhB,IAAC,gCAAU0B,EAAV,QAAiB,GAAG,IAAIA,EAAExB,QAAQ,IAAIwB,EAAExB,OAAO,CAAC,IAAMkC,EAAER,KAAK+c,kBAAkB3O,IAAI/P,GAAEO,EAAEib,GAAG/Z,EAAExB,SAAS,GAAGkC,GAAGA,EAAEyc,gBAAgB,CAAC,IAAMre,EAAE4B,EAAEyc,gBAAgBre,EAAE2e,kBAAkB3e,EAAE2e,sBAA/K,8BAAmMvd,KAAK8c,mBAAmB9c,KAAK8c,kBAAkBle,K,yBAAG,SAAYkB,GAAGlB,YAAEkB,EAAE0d,qBAAqB1d,EAAE0d,qBAAqBxd,MAAMjB,GAAEqB,MAAM,gEAAgEN,EAAE0d,mBAAmBxd,S,kCCA37B+C,GAAE,EAAQ5B,G,WAAE,aAAa,oBAACnB,KAAKyd,eAAe,WAAW1a,KAAI/C,KAAK0d,SAAS,IAAI5P,IAAI9N,KAAK2d,UAAU,K,6CAAK,SAAUnd,GAAG,IAAMnC,EAAE2B,KAAK0d,SAAStP,IAAIpO,KAAKyd,gBAAgB,GAAG,MAAMpf,EAAE,CAAC,GAAGyB,YAAEqB,EAAEyc,YAAY,CAAC,IAAM9d,EAAEqB,EAAEyc,WAAW,OAAO5d,KAAK0d,SAAS7O,IAAI7O,KAAKyd,eAAe1Z,GAAEjE,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGE,KAAKyd,iBAAiBzd,KAAK6d,UAAUrd,GAAG,IAAMnC,EAAE0F,GAAEvD,EAAE,GAAGoI,KAAKkV,SAAS,GAAGtd,EAAE,GAAGoI,KAAKkV,SAAS,GAAGtd,EAAE,GAAGoI,KAAKkV,SAAS,GAAG9d,KAAKyd,gBAAgB,OAAOzd,KAAK0d,SAAS7O,IAAI7O,KAAKyd,eAAepf,GAAGA,EAAE+C,YAAEc,GAAE1B,EAAEnC,EAAEmc,MAAMtY,GAAE,GAAG0G,KAAK6B,IAAIvI,GAAE,IAAIA,GAAE,GAAG0G,KAAK6B,IAAIvI,GAAE,IAAIA,GAAE,GAAG0G,KAAK6B,IAAIvI,GAAE,IAAI,IAAMnD,EAAEiB,KAAK2d,UAAU,GAAGzb,GAAE,GAAGnD,GAAGmD,GAAE,GAAGnD,GAAGmD,GAAE,GAAGnD,EAAE,OAAOV,EAAE,IAAMO,EAAEgK,KAAKmV,MAAMvd,EAAE,GAAGzB,GAAGU,EAAEmJ,KAAKmV,MAAMvd,EAAE,GAAGzB,GAAGX,EAAEwK,KAAKmV,MAAMvd,EAAE,GAAGzB,GAAGwD,EAAC,aAAO3D,EAAP,YAAYa,EAAZ,YAAiBrB,GAAQqE,EAAEzC,KAAK0d,SAAStP,IAAI7L,GAAG,OAAOE,IAAIA,EAAEsB,GAAEnF,EAAEG,EAAEU,EAAEV,EAAEX,EAAEW,EAAEwD,GAAGvC,KAAK0d,SAAS7O,IAAItM,EAAEE,IAAIA,I,4BAAE,SAAe3C,GAAG,IAAMzB,EAAE2f,OAAO3c,KAAKD,EAAE/C,EAAE4f,OAAO,GAAG,MAAMje,KAAKke,QAAQ,CAACle,KAAKme,UAAU,IAAI9U,KAAE,CAACmF,MAAM,EAAEkB,MAAM,CAAC,EAAE,EAAE,EAAE,IAAI,2BAA2BtO,EAAE3C,IAAI,EAAEuB,KAAKme,WAAW,IAAMre,EAAE,IAAIoD,KAAE,kBAAkB,CAACkb,YAAW,IAAKhd,EAAE3C,IAAI,EAAEqB,GAAGE,KAAKke,QAAQ,IAAI3b,KAAE,CAAC8b,OAAO,kBAAkBzL,YAAW,IAAKxR,EAAE3C,IAAI,EAAEuB,KAAKke,SAASpe,EAAEwe,UAAUte,KAAKke,SAAS9c,EAAEmd,iBAAiB,CAACze,EAAE+Z,KAAuI,IAAlI,IAAM9V,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGhB,EAAEgB,EAAE+F,OAAO3I,EAAE,IAAIqd,aAAa,EAAEzb,GAAGb,EAAE,IAAIyI,YAAY,GAAG5H,EAAE,IAAIlB,EAAE,GAAG7B,KAAK2d,UAAkBnd,EAAE,EAAEA,EAAEuC,EAAEvC,IAAIW,EAAE,EAAEX,EAAE,GAAGV,EAAE,IAAI,EAAEiE,EAAEvD,GAAGqB,GAAGA,GAAGV,EAAE,EAAEX,EAAE,GAAGV,EAAE,IAAI,EAAEiE,EAAEvD,GAAGqB,GAAGA,GAAGV,EAAE,EAAEX,EAAE,GAAGV,EAAE,IAAI,EAAEiE,EAAEvD,GAAGqB,GAAGA,GAAGrB,EAAE,IAAI0B,EAAE,EAAE1B,EAAE,GAAGA,EAAE,EAAE0B,EAAE,EAAE1B,EAAE,GAAGA,GAAGzB,YAAEoC,EAAEX,KAAEie,YAAY,EAAEtd,EAAE9C,EAAE4D,iBAAiB,EAAEc,GAAG,IAAMqD,EAAE,GAAGA,EAAE3G,KAAE6T,UAAU,CAAC9Q,KAAK,EAAE6P,KAAKlR,GAAG,IAAMrC,EAAE,GAAGA,EAAEW,KAAE6T,UAAUpR,EAAE,IAAM8B,EAAE,IAAI5F,KAAEgI,EAAEtH,EAAE,QAAQuE,EAAE,IAAIZ,KAAEuB,EAAE,sBAAsB5C,EAAE3C,IAAI,EAAE4E,GAAGrD,KAAKke,QAAQQ,YAAYrb,EAAErD,KAAKme,UAAUvf,MAAG+f,QAAQC,IAAI5e,KAAK0d,SAASlb,KAAK1C,O,KAAUoC,GAAE7D,eAAoC8C,KAAIA,GAAE,KAAvByc,WAAW,KAAiB,IAAuB/b,GAAjBV,G,cCAnvE,WAAYrB,EAAEU,EAAEiC,EAAEpE,EAAED,EAAE+C,GAAE,oBAACnB,KAAKuD,OAAO,KAAKvD,KAAK6e,gBAAgB,IAAI9f,GAAEiB,KAAK8e,KAAK,EAAE9e,KAAK+e,KAAK,EAAE/e,KAAKgf,sBAAsB,KAAKhf,KAAKif,mBAA1J,GAA+Kjf,KAAKkf,cAAa,EAAGlf,KAAKmf,KAAKrf,EAAEE,KAAKof,yBAAyB5e,EAAER,KAAKqf,kBAAkB5c,EAAEzC,KAAKsf,UAAUjhB,EAAE2B,KAAKuf,WAAWnhB,EAAE4B,KAAKwf,YAAYre,E,2DAAE,WAA0BnB,KAAKif,mBAA9V,K,2BAAmX,WAAsB,OAAO,IAAIjf,KAAK8e,S,eCAgI,SAAS1d,GAAExC,GAAG,OAAOwC,EAAExC,EAAEyT,KAAKvS,aAAEsB,EAAE+J,SAASrB,QAAQ,EAAE,IAAI1I,E,2CCAziBtB,G,WAAE,WAAYA,GAAE,oBAAC,MAAMA,EAAEA,EAAE,GAAGA,EAAE,QAAQA,EAAEzB,aAAEyB,IAAIE,KAAKyf,OAAO,IAAIjB,aAAa1e,GAAGE,KAAK0f,MAAM,E,0CAAE,SAAOrhB,EAAEyB,GAAG,GAAGE,KAAK0f,MAAMrhB,EAAE2B,KAAK0f,MAAM1f,KAAKyf,OAAO3V,OAAO,CAA6B,IAA5B,IAAIzL,EAAE2B,KAAKyf,OAAO3V,QAAQ,EAAOzL,EAAE2B,KAAK0f,OAAOrhB,GAAG,EAAE,IAAMU,EAAE,IAAIyf,aAAangB,GAAG,OAAOyB,GAAGf,EAAE8P,IAAI7O,KAAKyf,QAAQzf,KAAKyf,OAAO1gB,GAAE,EAAG,IAAMA,EAAE,EAAEiB,KAAK0f,MAAM,GAAG3gB,GAAGiB,KAAKyf,OAAO3V,OAAO,CAA0B,IAAzB,IAAIzL,EAAE2B,KAAKyf,OAAO3V,OAAYzL,GAAGU,GAAGV,EAAEuK,KAAKmC,MAAM1M,EAAE,GAAG,IAAMD,EAAE,IAAIogB,aAAangB,GAAG,OAAOyB,GAAG1B,EAAEyQ,IAAI7O,KAAKyf,OAAOE,SAAS,EAAEthB,IAAI2B,KAAKyf,OAAOrhB,GAAE,EAAG,OAAM,I,oBAAG,SAAOC,GAAG,IAAMyB,EAAEE,KAAK0f,MAAM1f,KAAKoa,OAAOpa,KAAK0f,MAAMrhB,EAAEyL,QAAO,GAAI9J,KAAKyf,OAAO5Q,IAAIxQ,EAAEyB,K,mBAAG,SAAMzB,EAAEyB,GAAG,IAAI,IAAIf,EAAEV,EAAEU,EAAEe,IAAIf,EAAEiB,KAAKyf,OAAO1gB,GAAG,I,iBAAE,WAAY,OAAOiB,KAAKyf,S,gBAAO,WAAW,OAAOzf,KAAK0f,U,uKCA2lB5gB,G,kDAAY,WAAYgB,EAAElB,GAAE,kCAAC,cAAMkB,EAAElB,IAAQghB,uBAAuB9f,EAAE8f,uBAA1C,E,qDAAiE,SAAkB9f,GAAG,IAAMlB,EAAEE,EAAE0d,OAAOpO,MAAM/P,EAAE2B,KAAK6f,cAAcrf,EAAE5B,EAAE0N,MAAM,CAACJ,WAAW,IAAI7N,EAAEyhB,qBAAqBxhB,OAAOD,EAAEC,OAAOwO,YAAYhN,EAAEgN,YAAYiT,kBAAkB1hB,EAAE0hB,kBAAkBC,wBAAuB,EAAGC,+BAA8B,EAAG1hB,eAAeF,EAAEE,eAAe2F,QAAQ,EAAEC,8BAA6B,EAAGmJ,WAAWjP,EAAE6hB,OAAOnT,eAAc,IAAK,OAAO,IAAI3O,KAAE0B,EAAEqf,KAAK3e,EAAE2f,eAAe,UAAU3f,EAAE2f,eAAe,YAAYphB,Q,4BAAG,SAAee,GAAG,OAAOE,KAAK4f,uBAAuBQ,OAAOpgB,KAAK4f,uBAAuBS,UAAUrgB,KAAK4f,uBAAuBU,aAAaxgB,GAAGE,KAAK4f,uBAAuBQ,MAAM,EAAE,I,sBAAE,SAAStgB,EAAElB,EAAEP,GAAGoE,KAAE8d,qBAAqBvgB,KAAKwgB,QAAQniB,EAAEkF,OAAO8J,kBAAkB,IAAIrN,KAAK6f,cAAcvhB,SAASD,EAAEoiB,SAASC,YAAY1gB,KAAKwgB,SAAQ,GAAI1e,KAAEuJ,aAAarL,KAAKwgB,QAAQ1gB,EAAEzB,IAAI,IAAI2B,KAAK6f,cAAcvhB,QAAQ,IAAI0B,KAAK6f,cAAcvhB,SAAS4G,KAAEmG,aAAarL,KAAKwgB,QAAQ5hB,GAAGoB,KAAK4f,uBAAuBe,SAAS7gB,IAAIE,KAAKwgB,QAAQI,cAAc,aAAahiB,EAAE8Q,OAAO,IAAI1P,KAAK6f,cAAcvhB,QAAQ6C,KAAE0f,oBAAoB/gB,EAAEE,KAAKwgB,QAAQniB,K,sBAAG,SAASyB,GAAG2C,KAAEqe,SAAS9gB,KAAKwgB,QAAQ1gB,GAAG,IAAIE,KAAK6f,cAAcvhB,QAAQ,IAAI0B,KAAK6f,cAAcvhB,QAAQmE,KAAEse,gBAAgB/gB,KAAKwgB,QAAQ1gB,EAAE6G,OAAO7G,EAAEyD,OAAOyd,4BAA4B,IAAIhhB,KAAK6f,cAAcvhB,QAAQ6E,KAAEkI,aAAarL,KAAKwgB,QAAQ1gB,EAAEyC,KAAE0e,YAAY,IAAIjhB,KAAK6f,cAAcvhB,QAAQ,IAAI0B,KAAK6f,cAAcvhB,QAAQ,IAAI0B,KAAK6f,cAAcvhB,QAAQ4E,KAAEge,uBAAuBlhB,KAAKwgB,QAAQxgB,KAAK6f,cAAc/f,K,8BAAG,SAAiBA,GAAG,IAAMlB,EAAEoB,KAAK6f,cAAcxhB,EAAE,IAAIyB,EAAEU,EAAE,IAAIV,EAAE,OAAOL,aAAE,CAAC0hB,SAAS,IAAIviB,EAAEN,QAAQ,IAAIM,EAAEN,QAAQM,EAAEuR,YAAY9R,EAAE6D,KAAE6B,aAAEjE,GAAG,KAAKshB,UAAU,CAACC,KAAKxf,aAAE/B,IAAIwhB,WAAWjjB,EAAEO,EAAE2iB,YAAYvd,KAAEtD,aAAEZ,GAAG0hB,WAAWne,KAAEoe,cAAcpjB,GAAGmC,EAAE,KAAK2B,aAAEvD,EAAE8iB,kB,gCAAgB,WAAqB,OAAO1hB,KAAK2hB,iBAAiB3hB,KAAK6f,cAAcC,0B,GAAl1DzhB,MAAy2DS,GAAE0d,OAAO,IAAI5d,KAAEgE,MAAG,kBAAI,oC,IAAkDrC,G,kDAAY,aAAa,kCAAC,eAAS2X,YAAgB5Z,OAAO,EAAE,EAAKC,gBAAe,EAAG,EAAKwhB,mBAAkB,EAAG,EAAK5P,aAAY,EAAG,EAAKuR,cAAa,EAAG,EAAKH,YAAW,EAAG,EAAKrB,QAAO,EAAG,EAAK0B,UAAS,EAAG,EAAK9B,qBAAqB,EAA1M,E,UAAftf,MAA4NV,YAAE,CAACsB,aAAE,CAACuS,MAAM,KAAKpT,GAAEoD,UAAU,cAAS,GAAQ7D,YAAE,CAACsB,gBAAKb,GAAEoD,UAAU,sBAAiB,GAAQ7D,YAAE,CAACsB,gBAAKb,GAAEoD,UAAU,yBAAoB,GAAQ7D,YAAE,CAACsB,gBAAKb,GAAEoD,UAAU,mBAAc,GAAQ7D,YAAE,CAACsB,gBAAKb,GAAEoD,UAAU,oBAAe,GAAQ7D,YAAE,CAACsB,gBAAKb,GAAEoD,UAAU,kBAAa,GAAQ7D,YAAE,CAACsB,gBAAKb,GAAEoD,UAAU,cAAS,GAAQ7D,YAAE,CAACsB,gBAAKb,GAAEoD,UAAU,gBAAW,GAAQ7D,YAAE,CAACsB,aAAE,CAACuS,MAAM,KAAKpT,GAAEoD,UAAU,4BAAuB,G,ICA1wHvF,G,kDAAY,WAAY0B,GAAE,kCAAC,cAAMA,IAAQyd,mBAAf,E,oDAAkC,SAAiBzd,GAAGE,KAAK8b,UAAU9b,KAAKkd,aAAa2E,0BAA0BjjB,GAAEoB,KAAKwS,SAASsP,mBAAmB9hB,KAAK1B,OAAOwB,GAAGE,KAAK8b,a,uBAAW,SAAUhc,GAAG,GAAG,IAAIE,KAAK1B,OAAO,OAAO,KAAKwB,EAAE,GAAG,IAAIE,KAAK1B,OAAO,OAAO,MAAMwB,EAAE,GAAG,IAAIE,KAAK1B,OAAO,OAAO,IAAIwB,EAAE,IAAIlB,EAAE,EAAE,OAAOoB,KAAKwS,SAASuP,OAAO5R,cAAcvR,EAAEoB,KAAKwS,SAASuP,OAAOR,WAAW,EAAE,GAAGzhB,IAAIlB,I,mCAAE,SAAsBkB,GAAG,IAAMlB,EAAE,KAAKoB,KAAKwS,SAASwP,UAAUC,KAAKniB,EAAE2M,aAAa,cAAc7N,EAAEoB,KAAKwS,SAASuP,OAAOG,kB,gCAAgB,SAAmBpiB,GAAGA,EAAEqiB,uBAAuBniB,KAAKwS,SAASuP,OAAOxjB,gBAAgByB,KAAKwS,SAAStC,mBAAmB,CAAC3R,eAAeuB,EAAEqiB,yB,6BAAuB,SAAgBriB,GAAGA,EAAEwN,aAAatN,KAAKwS,SAASuP,OAAOzU,YAAYtN,KAAKwS,SAAStC,mBAAmB,CAAC5C,WAAWxN,EAAEwN,e,6BAAa,SAAgBxN,GAAG,OAAOE,KAAK8b,UAAUsG,eAAetiB,K,8BAAG,SAAiBA,GAAG,IAAIE,KAAK1B,SAAS0B,KAAKqiB,mBAAmBviB,GAAGE,KAAKsiB,gBAAgBxiB,IAAIE,KAAKud,iBAAiBzd,K,kBAAG,SAAKA,EAAElB,GAAGkB,EAAEyiB,YAAYviB,KAAK8b,UAAU0E,SAASxgB,KAAK8b,UAAU0G,SAAS1iB,EAAEE,KAAKwS,SAASuP,OAAOnjB,GAAG,IAAIoB,KAAK1B,QAAQ,IAAI0B,KAAK1B,QAAQ0B,KAAKyiB,sBAAsBziB,KAAK8b,UAAU0E,a,GAAlpC1gB,MCAWf,GAAE,WAAYA,EAAEyB,EAAEf,EAAEsE,EAAElC,EAAEzD,GAAE,oBAAC4B,KAAK0iB,KAAK3jB,EAAEiB,KAAK2iB,GAAGniB,EAAER,KAAK4iB,UAAUnjB,EAAEO,KAAK6iB,cAAc9e,EAAE/D,KAAKkf,aAAard,EAAE7B,KAAKkG,eAAe9H,EAAE,MAAMA,IAAI4B,KAAK8iB,qBAAqBzkB,aAAED,GAAG0B,aAAEE,KAAK8iB,qBAAqB9iB,KAAK8iB,sBAAsB1hB,aAAEpB,KAAK8iB,qBAAqB9iB,KAAK8iB,wBAA4I,SAASrjB,GAAEK,EAAEsB,GAAG,IAAM/C,EAAE,SAAAyB,GAAC,MAAG,CAACijB,MAAMjjB,EAAE4iB,KAAK/O,MAAM7T,EAAE6iB,GAAG7iB,EAAE4iB,OAAO,GAAG,IAAI5iB,EAAEgK,OAAT,CAAyC,IAA6HtJ,EAAEf,EAAzHV,EAAEe,EAAEA,EAAEgK,OAAO,GAAG,GAAGrK,EAAE2B,GAAGZ,EAAEzB,GAAGgkB,MAAMviB,EAAEmT,OAAOlU,EAAEijB,KAAK,CAAC,IAAM5iB,EAAEsB,EAAEshB,KAAK3jB,EAAEgkB,MAAM3hB,EAAEuhB,GAAGvhB,EAAEshB,KAAK3jB,EAAE4U,MAAM7T,OAAOA,EAAEqK,KAAK9L,EAAE+C,SAAlItB,EAAEqK,KAAK9L,EAAE+C,I,uBCAzB,SAASA,GAAEtB,EAAEf,EAAEV,GAAGO,YAAEP,KAAKA,EAAE2kB,WAAWljB,EAAEzB,EAAE4kB,WAAWlkB,GAAmBA,K,ICAmRwB,GAAE,CAAC2iB,MAAM,EAAEC,IAAI,GAAG9Z,GAAE5J,eAAI6V,GAAE7V,eAAImK,GAAEnK,e,cAAyB,WAAYb,EAAEkB,EAAEf,GAAE,oBAACiB,KAAKsB,KAAK,iBAAiBtB,KAAKojB,cAAc,IAAItV,IAAI9N,KAAKqjB,gBAAe,EAAGrjB,KAAKsjB,eAAc,EAAGtjB,KAAKujB,MAAM3kB,EAAEoB,KAAKme,UAAUpf,EAAEiB,KAAKwjB,aAAa1jB,EAAEE,KAAKyjB,aAAalhB,aAAEvC,KAAKme,UAAUne,KAAKwjB,cAAcxjB,KAAK0jB,cAAc3kB,EAAE4kB,qB,2CAAqB,WAAU9hB,aAAE7B,KAAKme,UAAUne,KAAKwjB,cAAcxjB,KAAKojB,gBAAgBpjB,KAAKojB,cAAcrV,SAAS,SAAAnP,GAAIA,EAAEglB,IAAI3V,SAAQ,GAAIrP,EAAEglB,IAAI,QAAQ5jB,KAAKojB,cAAclV,QAAQlO,KAAKojB,cAAc,MAAMpjB,KAAKyjB,eAAezjB,KAAKyjB,aAAa1V,SAAS,SAAAnP,GAAIA,GAAGA,EAAEqP,aAAajO,KAAKyjB,aAAavV,QAAQlO,KAAKyjB,aAAa,Q,mBAAM,WAAc,OAAO,IAAIzjB,KAAKojB,cAAc5gB,O,yBAAK,WAAoB,OAAOxC,KAAKqjB,iB,wBAAe,WAAmB,OAAOrjB,KAAKsjB,gB,oBAAc,WAAe,OAAOtjB,KAAK6jB,SAASxlB,aAAE2B,KAAKyjB,cAAc,SAAA7kB,GAAC,OAAEA,aAAa8B,Q,2BAAI,WAAsB,OAAOV,KAAK6jB,SAAS,IAAI7jB,KAAKme,UAAUtO,iB,oBAAe,SAAOjR,GAAGoB,KAAK8jB,iBAAiBllB,EAAEmlB,UAAU/jB,KAAKgkB,uBAAuBplB,EAAEqlB,MAAMrlB,EAAEslB,UAAUlkB,KAAKmkB,yB,oCAAuB,SAAuBvlB,EAAEkB,GAAE,WAAOf,EAAEiB,KAAK0jB,cAActlB,EAAEW,EAAEqlB,mBAAmB5jB,EAAEpC,EAAEimB,OAAO,EAAEhmB,EAAE2B,KAAKojB,cAAc3jB,EAAE,SAASb,EAAEkB,EAAEf,EAAEX,GAAG,IAAD,EAAOoC,EAAE,IAAIsN,IAAIzP,EAAEyB,EAAEskB,mBAAmBC,OAAO,EAAE5kB,EAAE,SAACV,EAAEX,GAAK,IAAMqB,EAAEV,EAAE4H,OAAOvF,EAAExC,EAAEwP,IAAI3O,EAAEoa,IAAQ1Y,EAAEX,EAAE4N,IAAI3O,EAAEoa,IAAI,MAAM1Y,IAAIA,EAAE,CAACmjB,aAAa,MAAMljB,EAAE,EAAEA,EAAEkjB,aAAaC,YAAY,MAAMnjB,EAAE,EAAEA,EAAE8J,OAAO1I,KAAKyhB,MAAM,GAAGC,SAAS,GAAGvd,OAAOlH,EAAE+a,MAAMha,EAAEqO,IAAIpP,EAAEoa,GAAG1Y,IAAI,IAAM+B,EAAEpD,EAAE0kB,aAAazlB,EAAEsT,MAAMhU,EAAED,GAAG+C,EAAEmjB,cAAcphB,EAAE/B,EAAEojB,aAAarhB,EAAE/B,EAAE8iB,MAAM9Z,KAAKpL,KAAKoC,EAAEmjB,cAAcphB,EAAE/B,EAAE+iB,SAAS/Z,KAAKpL,KAAjX,cAAqYA,GAArY,IAAsX,4BAAiBU,EAAjB,SAAqB,IAA3Y,kDAA8ZrB,GAA9Z,IAA+Y,4BAAiBqB,EAAjB,SAAqB,IAApa,8BAAwa,OAAOe,EAAhc,CAAmcnC,EAAEU,EAAEH,EAAEkB,GAAGL,EAAEsO,SAAS,SAACnP,EAAEkB,GAAKL,EAAEqP,OAAOhP,GAAG,IAAMf,EAAEH,EAAE0lB,aAAaljB,EAAExC,EAAE2lB,YAAgB9hB,EAAEpE,EAAE+P,IAAItO,GAAG,GAAG,MAAM2C,EAAEtB,aAAEpC,EAAE,GAAG0D,EAAE,EAAKgiB,WAAWrmB,EAAEW,EAAEH,EAAE+H,QAAQtI,EAAEwQ,IAAI/O,EAAE2C,QAAQ,GAAG,IAAI1D,EAAE,OAAO0D,EAAEmhB,IAAI3V,SAAQ,GAAIxL,EAAEmhB,IAAI,UAAUvlB,EAAEyQ,OAAOhP,GAAG,IAAMiE,EAAEhF,EAAEH,EAAE2lB,YAAY,EAAElhB,EAAEU,EAAEhF,EAAEqC,EAAEmB,EAAEhC,GAAEsB,EAAEY,EAAEyI,OAAO1I,KAAKN,EAAEO,EAAEyI,OAAOwZ,MAAM1gB,EAAEvB,EAAEyI,OAAOkP,OAAO/W,GAAE,GAAIU,GAAGC,EAAE,EAAK2gB,iBAAiBliB,EAAE7D,EAAEslB,SAAS1jB,EAAE0B,EAAEK,GAAG3D,EAAEslB,SAASpa,OAAO,GAAG,EAAK8a,gBAAgBniB,EAAE7D,EAAEslB,SAAS1jB,EAAE+B,GAAG3D,EAAEqlB,MAAMna,OAAO,IAAIvH,EAAE4gB,IAAIthB,KAAKU,EAAE2gB,MAAMrhB,EAAEU,EAAE4gB,IAAIthB,GAAG,IAAMnB,EAAE2I,GAAEnG,aAAExC,GAAG9B,EAAE+H,OAAO,IAAI/H,EAAE+H,OAAO,IAAI/H,EAAE+H,OAAO,IAAI,EAAKke,OAAOpiB,EAAE7D,EAAEqlB,MAAMzjB,EAAEE,EAAE6B,GAAG,IAAMJ,EAAEM,EAAEmhB,IAAIkB,cAAc/kB,SAAS,GAAGoC,EAAE4iB,WAAWtiB,EAAEyI,OAAOwZ,MAAMxZ,OAAOR,WAAWvI,EAAE6iB,QAAQviB,EAAEyI,OAAOwZ,WAAW,KAAa9lB,EAAS2D,EAAf2gB,MAAYpjB,EAAGyC,EAAP4gB,IAAS,GAAGvkB,EAAEkB,EAAE,CAAC,IAAMf,EAAE0D,EAAEyI,OAAOwZ,MAAUlkB,EAAF,EAAI5B,EAAIP,EAAR,EAAUyB,EAAIqC,EAAE8iB,WAAWlmB,EAAEyB,EAAEA,EAAEnC,IAAIoE,EAAEyiB,mBAAkB,O,8BAAM,SAAiBtmB,GAAG,IAAD,EAAOkB,EAAEE,KAAK0jB,cAAc3kB,EAAEe,EAAEskB,mBAAmBC,OAAO,EAA1D,cAA2EzlB,GAA3E,IAA4D,2BAAiB,KAAPR,EAAO,QAAOQ,EAAER,EAAE+mB,WAAW3kB,EAAEpC,EAAEgnB,eAAe/mB,EAAE2B,KAAKojB,cAAchV,IAAI5N,EAAEmG,OAAOkT,IAAIpa,EAAEpB,GAAGA,EAAEgnB,UAAUjX,IAAI5N,EAAE2R,YAAY,IAAI1S,EAAE,OAAO,GAAG,EAAEb,IAAIa,EAAEmjB,UAAUpiB,EAAEqS,mBAAmB3R,SAAS,EAAEtC,EAAE,CAAC,IAAMA,EAAE4B,EAAEqS,mBAAmB3R,QAAQzB,EAAEojB,gBAAgBriB,EAAEqS,mBAAmBC,YAAYlU,EAAE,GAAG,GAAGA,IAAIa,EAAEyf,eAAe1e,EAAEqS,mBAAmBE,WAAW,EAAEnU,EAAE,CAAC,IAAMA,EAAEP,EAAE6M,OAAOwZ,MAAMtmB,EAAEC,EAAEulB,IAAI1hB,aAAE1B,EAAE8U,GAAE1L,IAAG9J,EAAEwlB,MAAM,CAACpf,eAAeoP,GAAEiQ,wBAAwB3b,IAAGpJ,EAAE6R,KAAKvS,EAAEskB,mBAAmBoB,WAAW5mB,EAAEsM,QAAQzL,EAAEijB,MAAMvhB,aAAE1B,EAAEijB,KAAK5iB,EAAE0kB,aAAahkB,EAAE6R,QAAQ5S,EAAEkjB,GAAG,mCAAmCvkB,EAAE0mB,cAAc/kB,SAASklB,WAAWrmB,EAAEa,EAAEijB,KAAK3jB,EAAE,EAAEU,EAAEijB,KAAK3jB,EAAE,EAAEU,EAAEkjB,GAAG5jB,EAAE,GAAGV,EAAE6mB,mBAAkB,GAAxtB,iC,kCAA4tB,WAAsB,WAACllB,KAAKqjB,gBAAe,EAAGrjB,KAAKsjB,eAAc,EAAGtjB,KAAKojB,cAAcrV,SAAS,SAAAnP,GAAIA,EAAE6mB,oBAAmB,EAAG7mB,EAAEikB,eAAc,EAAGjkB,EAAEsgB,cAAa,EAAG7gB,aAAEO,EAAEymB,WAAW,SAAAvlB,GAAC,OAAGA,EAAE8iB,WAAW9iB,EAAE+iB,gBAAgB,EAAKQ,gBAAe,EAAGzkB,EAAEikB,eAAc,GAAI/iB,EAAEof,eAAe,EAAKoE,eAAc,EAAG1kB,EAAEsgB,cAAa,IAAKtgB,EAAE6mB,oBAAmB,EAAG7mB,EAAE6mB,oBAAoB7mB,EAAEikB,eAAejkB,EAAEsgB,mBAAmBlf,KAAKojB,cAAcrV,SAAS,SAAAnP,GAAIA,EAAEsmB,oBAAqB,SAAAtmB,GAAI,GAAGA,EAAE8mB,oBAAoB,KAAK9mB,EAAE+mB,sBAAsB,KAAK/mB,EAAEgnB,sBAAsB,KAAKhnB,EAAEinB,MAAM,CAACC,QAAQ,EAAE7K,UAAU,EAAElI,UAAU,GAAG,IAAInU,EAAEymB,UAAU7iB,KAApJ,CAAgK,KAAK5D,EAAEsgB,cAActgB,EAAEikB,eAAejkB,EAAE6mB,oBAAoB,CAAC,IAAM3lB,EAAE,EAAElB,EAAEsM,OAAO1I,KAAKuB,aAAEnF,EAAEglB,IAAImC,OAAOhmB,UAAU,OAAOnB,EAAE8mB,oBAAoB,CAAC,CAAC3C,MAAM,EAAEpP,MAAM7T,SAASlB,EAAEinB,MAAM,CAACC,QAAQhmB,EAAEmb,UAAU,EAAElI,UAAU,IAAI,IAAMjT,EFAl6I,SAAWA,GAAG,OAAOA,EAAEsK,MAAM,SAACtK,EAAEsB,GAAH,OAAOtB,EAAE4iB,OAAOthB,EAAEshB,KAAK5iB,EAAE6iB,GAAGvhB,EAAEuhB,GAAG,EAAE7iB,EAAE6iB,GAAGvhB,EAAEuhB,IAAI,EAAE,EAAE7iB,EAAE4iB,KAAKthB,EAAEshB,KAAK,EAAE5iB,EAAE4iB,KAAKthB,EAAEshB,MAAM,EAAE,KEAozIzjB,CAAE,aAAIL,EAAEymB,UAAUW,WAAWpnB,EAAE8mB,oBAAoB,GAAG9mB,EAAE+mB,sBAAsB,GAAG/mB,EAAEgnB,sBAAsB,GAAne,oBAAqf9lB,GAArf,IAAse,gCAAUf,EAAV,QAAiBA,EAAE6jB,YAAY7jB,EAAEmgB,aAAanc,GAAEnE,EAAEgnB,sBAAsB7mB,GAAGgE,GAAEnE,EAAE8mB,oBAAoB3mB,GAAGA,EAAE8jB,eAAe9f,GAAEnE,EAAE+mB,sBAAsB5mB,KAAvnB,8BAA2nB,IAAMA,EAAE,SAAAH,GAAI,IAAD,EAAKkB,EAAE,EAAP,cAAwBlB,GAAxB,IAAS,4BAAiBkB,GAAjB,QAAsB6T,OAA/B,8BAAqC,OAAO7T,EAAE,GAAGlB,EAAEinB,MAAM,CAACC,QAAQ/mB,EAAEH,EAAE8mB,qBAAqBzK,UAAUlc,EAAEH,EAAE+mB,uBAAuB5S,UAAUhU,EAAEH,EAAEgnB,yBAAvxB,CAAizBhnB,GAAGA,EAAEsmB,mBAAkB,Q,yBAAO,SAAYtmB,GAAG,OAAOoB,KAAKme,UAAU3Y,OAAO5G,K,oBAAG,SAAOG,EAAEX,EAAEoC,EAAEnC,GAAE,WAAOoB,EAAEO,KAAKujB,MAAMniB,EAAEpB,KAAKyjB,aAAarV,IAAIhQ,EAAE0gB,MAAM3d,EAAE,IAAI/C,EAAE0gB,KAAS5b,EAAEnE,EAAE,GAAG,IAAIX,EAAE0gB,MAAM,OAAO5b,IAAIA,EAAE,KAAK9B,GAAG,IAAIA,EAAE6kB,gBAAgBxmB,IAAI,MAAMyD,IAAI9B,EAAE8kB,UAAUhjB,IAAI/B,IAAInB,KAAKqjB,eAAe,OAAM,EAAGjiB,EAAE+kB,iBAAiB3lB,GAAG,IAAMiC,EAAErB,EAAEglB,eAAeriB,EAAE3C,EAAEilB,iBAAiBnjB,GAAE,GAAIzD,EAAEkiB,iBAAiB5d,GAAG3C,EAAEkN,KAAK7O,EAAEe,GAAG,IAAI6C,GAAE,EAAG,OAAOrD,KAAKojB,cAAcrV,SAAS,SAAAhP,GAAI,KAAGH,YAAEG,EAAE2mB,sBAAsB9mB,YAAEG,EAAE4mB,wBAAwB/mB,YAAEG,EAAE6mB,2BAAiCzkB,GAAIpC,EAAE8jB,eAAT,CAA8BriB,EAAEmG,OAAO5H,EAAE4H,OAAOlE,EAAE6jB,SAAS9lB,GAAGiC,EAAE8jB,yBAAyBxnB,EAAE6kB,KAAKnkB,EAAE+mB,QAAQznB,EAAE6kB,KAAK,IAAMxlB,EAAEqE,EAAEgkB,cAAkBlkB,EAAEpB,EAAEpC,EAAE4mB,sBAAsB5mB,EAAE2mB,oBAA0B7jB,EAAEV,EAAEpC,EAAE8mB,MAAM5K,UAAUlc,EAAE8mB,MAAMC,QAAQ,GAAGhmB,YAAEyC,KAAK,EAAKmkB,eAAejnB,EAAErB,EAAEmE,GAAGY,GAAEZ,EAAEuH,OAAOjI,EAAExD,GAAGgF,GAAE,IAAKlC,IAAIoB,EAAExD,EAAE6mB,sBAAsB9lB,YAAEyC,IAAI,CAAC,IAAM3D,EAAEwC,EAAEilB,iBAAiBnjB,GAAE,GAAIzD,EAAEkiB,iBAAiB/iB,GAAG,EAAK8nB,eAAejnB,EAAErB,EAAEmE,GAAG9C,EAAEkiB,iBAAiB5d,GAAGZ,GAAEZ,EAAEuH,OAAO/K,EAAE8mB,MAAM9S,UAAU1U,GAAGgF,GAAE,OAAOA,I,4BAAE,SAAezE,EAAEkB,EAAEf,GAAG,IAAI,IAAIX,EAAE,EAAEA,EAAEW,EAAE+K,OAAO1L,IAAIQ,EAAE+nB,WAAW7mB,EAAEf,EAAEX,GAAG2kB,MAAMhkB,EAAEX,GAAGuV,S,wBAAO,SAAW/U,EAAEkB,EAAEf,GAAG,MAAM,CAACsmB,UAAU,IAAIvX,IAAI8V,IAAI,IAAIvgB,KAAErD,KAAKujB,MAAMvjB,KAAKme,UAAUyI,yBAAyB,CAAC7mB,SAASqB,aAAExC,IAAI,CAACmB,SAAS0C,KAAEokB,aAAa7mB,KAAKujB,MAAM,SAASrY,OAAO,IAAIlH,GAAElE,GAAGwkB,aAAa,EAAE3d,OAAO5H,EAAE0mB,oBAAmB,EAAG5C,eAAc,EAAG3D,cAAa,EAAGgG,mBAAkB,EAAGQ,oBAAoB,KAAKE,sBAAsB,KAAKD,sBAAsB,KAAKE,MAAM,CAACC,QAAQ,EAAE7K,UAAU,EAAElI,UAAU,M,8BAAI,SAAiBnU,EAAEkB,EAAEf,EAAEX,EAAEoC,GAAE,oBAAgBV,GAAhB,IAAC,2BAAiB,KAAOA,EAAP,QAAWqS,WAAW3R,EAAE5B,EAAEymB,UAAUjX,IAAItO,GAAGlB,EAAE0lB,eAAe9jB,EAAEmiB,GAAGniB,EAAEkiB,MAAM3jB,EAAEH,EAAEymB,UAAUvW,OAAOhP,IAAhH,8BAAmH,IAAIzB,EAAE,EAAQoB,EAAEb,EAAEsM,OAAOwZ,MAAMlkB,EAAE0iB,MAAM,EAAE1iB,EAAE2iB,IAAI,EAAE,IAAI/hB,GAAG,EAAED,GAAG,EAAE+B,EAAE,EAAEtE,EAAEymB,UAAUtX,SAAS,SAAAnP,GAAI,IAAMkB,EAAElB,EAAE8jB,KAAK3jB,EAAEyB,EAAE5B,EAAE+jB,GAAG5jB,EAAE0D,EAAEjC,EAAEV,EAAEsB,IAAID,GAAGA,IAAIrB,GAAGL,EAAEoP,IAAIzQ,EAAEuhB,SAASve,EAAED,GAAG+B,GAAGA,GAAG/B,EAAEC,EAAEA,EAAEtB,IAAI,IAAIsB,IAAIA,EAAEtB,GAAGqB,EAAEX,EAAE5B,EAAE8jB,KAAKrkB,EAAEU,EAAEV,GAAGoE,EAAE7D,EAAE+jB,GAAGtkB,EAAEU,KAAKqC,IAAID,GAAG1B,EAAEoP,IAAIzQ,EAAEuhB,SAASve,EAAED,GAAG+B,GAAG1C,EAAE2iB,IAAI9kB,I,6BAAE,SAAgBO,EAAEkB,EAAEf,EAAEX,GAAGA,EAAE8kB,MAAM,IAAI9kB,EAAE+kB,KAAI,IAAK,IAAxB,EAA4B3iB,GAAG,EAAEnC,GAAG,EAApC,cAAqDyB,GAArD,IAAsC,2BAAiB,KAAOA,EAAP,QAAWqS,WAAW/Q,EAAExC,EAAEymB,UAAUjX,IAAItO,GAAGqB,EAAEC,EAAEshB,KAAK3jB,EAAEmE,EAAE9B,EAAEuhB,GAAG5jB,EAAEyB,IAAInC,GAAGA,IAAI8C,GAAGvC,EAAEsM,OAAO4b,MAAMtmB,EAAEnC,GAAGmC,EAAEW,IAAI,IAAIX,IAAIA,EAAEW,GAAG9C,EAAE6E,EAAEtE,EAAEymB,UAAUvW,OAAOhP,GAAGlB,EAAE0lB,cAAcphB,EAAE/B,EAAEA,EAAE/C,EAAE8kB,QAAQ9kB,EAAE8kB,MAAM/hB,GAAG+B,EAAE9E,EAAE+kB,MAAM/kB,EAAE+kB,IAAIjgB,IAAhQ,8BAAmQ1C,IAAInC,GAAGO,EAAEsM,OAAO4b,MAAMtmB,EAAEnC,K,oBAAG,SAAOO,EAAEP,EAAEoB,EAAE2B,EAAE8B,GAAG,IAAD,EAAOT,EAAEzC,KAAK0jB,cAAd,cAA2CrlB,GAA3C,IAA4B,2BAAiB,KAAP0F,EAAO,QAAO1F,EAAEyB,YAAEiE,EAAEmC,gBAAgBnH,aAAEuW,GAAElU,EAAE2C,EAAEmC,gBAAgB9E,EAAEhD,aAAEwL,GAAEvL,GAAGmC,aAAEoJ,GAAEA,IAAG,IAAMvG,EAAEH,EAAEigB,IAAI1gB,EAAE6iB,MAAM,CAACpf,eAAe7H,EAAEknB,wBAAwB3b,IAAG7F,EAAEsO,KAAK5P,EAAE2hB,mBAAmBoB,WAAW5mB,EAAEsM,OAAOwZ,MAAMxZ,QAAQhI,EAAEigB,IAAI1jB,GAAG,IAAM8C,EAAEE,EAAE+hB,aAAazgB,EAAEsO,MAAM5S,EAAEoC,EAAEwB,EAAEd,EAAEpB,aAAE,MAAMvC,EAAEymB,UAAUjX,IAAIrK,EAAEoO,aAAa,IAAMjQ,EAAE6B,EAAE8O,mBAAmB3R,QAAQ8C,IAAID,EAAE8O,mBAAmBC,YAAY5Q,EAAExB,IAAIqD,EAAE8O,mBAAmBE,UAAU9T,EAAE,IAAIkD,GAAEkB,EAAE5D,EAAEoC,EAAEpC,EAAEyC,EAAE8B,EAAEtD,GAAG9B,EAAEymB,UAAUxW,IAAI9K,EAAEoO,WAAWlT,GAAGL,EAAE0lB,cAAc/hB,EAAEW,EAAEigB,KAAK5gB,GAAzgB,iC,gBAA4gB,WAAW,MAAM,CAACiQ,SAASxS,KAAKme,UAAU4I,YAAY/mB,KAAKyjB,kB,KCA/oOtiB,G,kCAAO6C,GAAC,kDAAiB,aAAa,kCAAC,eAASkU,YAAgB8O,oBAAoB,IAAIlZ,IAAI,EAAKmZ,MAAM,IAAIzmB,KAAE,EAAK0mB,SAAS,IAAI1mB,KAAE,EAAK2mB,SAAS,IAAI3mB,KAAE,CAAC4mB,UAAU,SAAAxoB,GAAC,OAAEA,GAAG,IAAIuC,IAAEkmB,YAAY,SAAAzoB,GAAC,OAAGA,EAAEwmB,eAAe,KAAKxmB,KAAK,EAAK0oB,mBAAmB,IAAIxZ,IAAI,EAAKyZ,yBAAyB,IAAI/mB,KAAE,EAAK6iB,gBAAe,EAAG,EAAKmE,WAAU,EAA3R,EAA9B,2CAA4T,WAAUxnB,KAAKinB,MAAMQ,QAAQznB,KAAKknB,SAASO,QAAQznB,KAAKmnB,SAASM,QAAQznB,KAAKsnB,qBAAqBtnB,KAAKsnB,mBAAmBvZ,SAAS,SAAAnP,GAAC,OAAEA,EAAEqP,aAAYjO,KAAKsnB,mBAAmBpZ,QAAQlO,KAAKunB,yBAAyBrZ,WAA/gB,oBAAwhB,WAAe,OAAOlO,KAAKgnB,oBAAoBxkB,KAAK,GAAGxC,KAAKmnB,SAASrd,OAAO,IAApmB,yBAAsmB,WAAoB,OAAO9J,KAAKqjB,iBAAtoB,oBAAqpB,WAAe,OAAOrjB,KAAKwnB,YAAhrB,2BAA0rB,WAAsB,OAAOtkB,aAAElD,KAAKsnB,oBAAoB,SAAA1oB,GAAC,OAAEA,EAAE8oB,qBAAvvB,kCAAywB,SAAqB9oB,GAAGoB,KAAKunB,yBAAyBI,QAAQ,SAAAtpB,GAAC,OAAEyB,YAAEzB,EAAEmU,SAASwP,WAAW,SAAAliB,GAAC,OAAEA,EAAE8nB,WAAWhpB,WAAl3B,mBAAy3B,WAAc,OAAOoB,KAAKqgB,UAAU,IAAIrgB,KAAKsnB,mBAAmB9kB,OAAz7B,2BAA87B,WAAe,WAAK5D,GAAE,EAAG,IAAIoB,KAAKqgB,SAAS,OAAM,EAAGrgB,KAAK6nB,oBAAoB,IAAqLxpB,EPA9+D,SAAWyB,GAAmM,IAAhM,IAAMlB,EAAE,IAAIkP,IAAQrO,EAAE,KAAKpB,EAAE,KAAW6E,EAAE,SAAApD,GAAI,GAAGA,IAAIL,EAAE,OAAOpB,EAAE,IAAI+C,EAAExC,EAAEwP,IAAItO,GAAG,OAAOsB,IAAIA,EAAE,CAAC6iB,MAAM,GAAG6D,UAAU,EAAE5D,SAAS,GAAG6D,aAAa,EAAEhE,SAAS,GAAGiE,aAAa,GAAGppB,EAAEiQ,IAAI/O,EAAEsB,IAAI3B,EAAEK,EAAEzB,EAAE+C,EAAEA,GAAWxC,EAAE,EAAEA,EAAEkB,EAAEgoB,SAASlpB,IAAI,CAAC,IAAMa,EAAEK,EAAEmkB,MAAMrlB,GAAMwC,GAAE3B,IAAIyD,EAAEzD,EAAE+S,UAAUyR,MAAM9Z,KAAK1K,GAAI,IAAI,IAAIb,EAAE,EAAEA,EAAEkB,EAAEioB,YAAYnpB,IAAI,CAAC,IAAMa,EAAEK,EAAEokB,SAAStlB,GAAMwC,GAAE3B,IAAIyD,EAAEzD,EAAE+S,UAAU0R,SAAS/Z,KAAK1K,GAAI,IAAI,IAAIb,EAAE,EAAEA,EAAEkB,EAAEkoB,YAAYppB,IAAI,CAAC,IAAMa,EAAEK,EAAEikB,SAASnlB,GAAMwC,GAAE3B,EAAE2lB,iBAAiBliB,EAAEzD,EAAE2lB,eAAe5S,UAAUuR,SAAS5Z,KAAK1K,GAAI,OAAOb,EOAs+Ca,CAA/K,CAACqoB,SAAS9nB,KAAKinB,MAAMnd,OAAOma,MAAMjkB,KAAKinB,MAAM5U,KAAK0V,YAAY/nB,KAAKknB,SAASpd,OAAOoa,SAASlkB,KAAKknB,SAAS7U,KAAK2V,YAAYhoB,KAAKmnB,SAASrd,OAAOia,SAAS/jB,KAAKmnB,SAAS9U,OAAiBtT,GAAE,EAAGyB,GAAE,EAAG,OAAOnC,EAAE0P,SAAS,SAACjO,EAAEzB,GAAK,IAAID,EAAE,EAAKkpB,mBAAmBlZ,IAAI/P,GAAG,IAAID,GAAG0B,EAAEmkB,MAAMna,OAAO,IAAI1L,EAAE,IAAIqE,GAAE,EAAK0c,KAAK,EAAK3B,mBAAmBnf,GAAG,EAAKipB,mBAAmBzY,IAAIxQ,EAAED,GAAGQ,GAAE,EAAGG,GAAE,EAAGyB,GAAE,GAAKpC,EAAzH,CAAkI,IAAM8E,EAAEnE,GAAGX,EAAEykB,cAAczhB,EAAEZ,GAAGpC,EAAE6pB,SAAS7pB,EAAE8pB,OAAOpoB,GAAGf,EAAEA,GAAGmE,IAAI9E,EAAEykB,cAAcriB,EAAEA,GAAGY,IAAIhD,EAAE6pB,SAAS7pB,EAAEylB,UAAU,EAAKyD,mBAAmBxY,OAAOzQ,GAAGD,EAAE6P,UAAUrP,GAAE,OAAOoB,KAAKinB,MAAM/Y,QAAQlO,KAAKknB,SAAShZ,QAAQlO,KAAKmnB,SAASjZ,QAAQlO,KAAKgnB,oBAAoB9Y,QAAQtP,GAAGoB,KAAKmoB,gCAAgCppB,IAAIiB,KAAKqjB,eAAengB,aAAElD,KAAKsnB,oBAAoB,SAAA1oB,GAAC,OAAEA,EAAEikB,kBAAiBriB,IAAIR,KAAKwnB,UAAUtkB,aAAElD,KAAKsnB,oBAAoB,SAAA1oB,GAAC,OAAEA,EAAEqpB,aAAYjoB,KAAKooB,aAAa,aAAY,IAA32D,iBAA82D,SAAIxpB,GAAG,GAAG,IAAIA,EAAEkL,OAAT,CAAuB,IAAxB,EAA8BhK,EAAE,IAAIE,KAAKgnB,oBAAoBxkB,KAA7D,cAAiF5D,GAAjF,IAAkE,gCAAUkB,EAAV,QAAiBE,KAAKgnB,oBAAoBnY,IAAI/O,EAAE,IAAlH,8BAAqHA,GAAGE,KAAKooB,aAAa,eAA9/D,oBAA0gE,SAAOxpB,GAAG,IAAD,EAAOkB,EAAE,IAAIE,KAAKgnB,oBAAoBxkB,KAAtC,cAA0D5D,GAA1D,IAA2C,2BAAiB,KAAPkB,EAAO,QAAOlB,EAAEoB,KAAKgnB,oBAAoB5Y,IAAItO,GAAG,IAAIlB,EAAEoB,KAAKgnB,oBAAoBnY,IAAI/O,EAAE,GAAG,IAAIlB,GAAGoB,KAAKgnB,oBAAoBnY,IAAI/O,EAAE,IAAnL,8BAAsLA,GAAGE,KAAKgnB,oBAAoBxkB,KAAK,GAAGxC,KAAKooB,aAAa,cAA/vE,oBAA2wE,SAAOxpB,EAAEkB,GAAG,IAAD,EAAOzB,EAAE,IAAI2B,KAAKmnB,SAASrd,OAA3B,cAAiDlL,GAAjD,IAAkC,2BAAiB,KAAPP,EAAO,QAAOO,EAAEoB,KAAKmnB,SAASkB,UAAUzpB,EAAEwmB,eAAe/mB,EAAEO,EAAEumB,WAAWrlB,GAApH,8BAAsHzB,GAAG2B,KAAKmnB,SAASrd,OAAO,GAAG9J,KAAKooB,aAAa,cAAz7E,yBAAq8E,SAAYxpB,GAAG,IAAIkB,GAAE,EAAG,OAAOE,KAAKunB,yBAAyBI,QAAQ,YAAwB,IAALtpB,EAAK,EAAtBiqB,iBAAuBjqB,EAAEkqB,aAAalqB,EAAEkqB,YAAY3pB,KAAKkB,GAAE,MAAOA,IAA9kF,kBAAglF,SAAKlB,EAAEkB,GAAG,IAAI,IAAIzB,EAAE,EAAEA,EAAE2B,KAAKunB,yBAAyBzd,OAAOzL,IAAI,CAAC,IAAMU,EAAEiB,KAAKunB,yBAAyBlV,KAAKhU,GAAG+C,aAAErC,EAAEyT,SAAS5T,IAAIG,EAAEupB,iBAAiBE,OAAO,KAAK5pB,EAAEkB,EAAE,SAApvF,2CAA2vF,WAA+B,WAACE,KAAKunB,yBAAyBrZ,QAAQ,IAAItP,EAAE,EAAEoB,KAAKsnB,mBAAmBvZ,SAAS,SAACjO,EAAEzB,GAAKA,EAAEoqB,YAAY7pB,IAAI,EAAK2oB,yBAAyBpd,KAAK,CAACqI,SAASnU,EAAEiqB,iBAAiBxoB,OAAOE,KAAKunB,yBAAyBnd,MAAM,SAACxL,EAAEkB,GAAK,IAAMzB,EAAEyB,EAAE0S,SAASkW,eAAe9pB,EAAE4T,SAASkW,eAAe,OAAO,IAAIrqB,EAAEA,EAAEO,EAAE4T,SAASiW,YAAY3oB,EAAE0S,SAASiW,iBAApmG,+BAAmnG,WAAmB,WAACzoB,KAAKinB,MAAM/Y,QAAQlO,KAAKknB,SAAShZ,QAAQlO,KAAKgnB,oBAAoBjZ,SAAS,SAACnP,EAAEkB,GAAK,OAAOlB,GAAG,KAAK,EAAE,EAAKqoB,MAAM9c,KAAKrK,GAAG,MAAM,KAAK,EAAE,EAAKonB,SAAS/c,KAAKrK,OAAe,IAAR,IAAIlB,EAAE,EAAOA,EAAEoB,KAAKmnB,SAASrd,QAAQ,CAAC,IAAMhK,EAAEE,KAAKmnB,SAAS9U,KAAKzT,GAAGwmB,eAAeplB,KAAKgnB,oBAAoB2B,IAAI7oB,GAAGE,KAAKmnB,SAASyB,qBAAqBhqB,GAAGA,OAA97G,gBAAm8G,WAAW,MAAM,CAACiqB,wBAAwB7oB,KAAKunB,8BAAl/G,GAAenpB,MAA+/GQ,YAAE,CAACP,eAAK2F,GAAEL,UAAU,YAAO,GAAQ/E,YAAE,CAACP,eAAK2F,GAAEL,UAAU,0BAAqB,GAAQ/E,YAAE,CAACP,eAAK2F,GAAEL,UAAU,WAAW,MAAMK,GAAEpF,YAAE,CAACG,YAAE,gEAAgEiF,I,eCAp7HX,G,uKAAY,SAAkBzE,GAAG,IAAMP,EAAEgF,EAAEmZ,OAAOpO,MAAM9B,QAAQ,OAAO,IAAIlO,KAAEQ,EAAEugB,KAAK9gB,EAAE8hB,eAAe,UAAU9hB,EAAE8hB,eAAe,YAAYphB,Q,gCAAG,WAAqB,OAAOiB,KAAK6f,cAAciJ,SAASrpB,aAAE,CAAC0hB,SAAShgB,aAAE,IAAI,EAAE,IAAI,KAAKqgB,WAAW/e,OAAIhD,aAAE,CAAC+hB,WAAW/e,W,GAAvP3C,MAA4PuD,GAAEmZ,OAAO,IAAIne,KAAEkE,MAAG,kBAAI,oC,IAAiEwB,G,kDAAY,aAAa,kCAAC,eAASmU,YAAgB4Q,UAAS,EAAnC,E,UAAf1nB,MCAt5B,SAAS3B,GAAEK,EAAEL,EAAEb,IAAIA,EAAEA,GAAGkB,GAAGgK,OAAOhK,EAAEgK,OAAO,IAAI,IAAI3I,EAAE,EAAEA,EAAErB,EAAEgK,OAAO3I,IAAIvC,EAAEuC,GAAGrB,EAAEqB,GAAG1B,EAAE0B,GAAG,OAAOvC,EAAE,SAASA,GAAEkB,EAAEL,EAAEb,IAAIA,EAAEA,GAAGkB,GAAGgK,OAAOhK,EAAEgK,OAAO,IAAI,IAAI3I,EAAE,EAAEA,EAAErB,EAAEgK,OAAO3I,IAAIvC,EAAEuC,GAAGrB,EAAEqB,GAAG1B,EAAE,OAAOb,EAAE,SAASuC,GAAErB,EAAEL,EAAEb,IAAIA,EAAEA,GAAGkB,GAAGgK,OAAOhK,EAAEgK,OAAO,IAAI,IAAI3I,EAAE,EAAEA,EAAErB,EAAEgK,OAAO3I,IAAIvC,EAAEuC,GAAGrB,EAAEqB,GAAG1B,EAAE0B,GAAG,OAAOvC,ECAQ,SAASyE,GAAE5D,GAAG,OAAOA,EAAE,IAAIA,EAAE,GAAqF,SAASuE,GAAEvE,EAAEK,EAAEU,GAAG,IAAMzB,EAAEU,EAAE,GAAG2B,EAAE3B,EAAE,GAAGpB,EAAEoB,EAAE,GAAGb,EAAE4B,GAAG,GAAG,OAAO5B,EAAEkL,OAAOzG,GAAEvD,GAAGA,GAAG,IAAIlB,EAAE,GAAG,cAAckB,GAAG,IAAIlB,EAAE,GAAG,YAAYG,EAAEH,EAAE,GAAG,YAAYP,EAAEO,EAAE,GAAG,YAAYwC,GAAGtB,GAAG,IAAIlB,EAAE,GAAG,cAAcG,EAAEqC,EAAExC,EAAE,GAAG,cAAcwC,EAAE/C,EAAEO,EAAE,GAAG,cAAc,EAAEP,EAAEA,EAAE,GAAGO,EAAE,GAAG,cAAcG,EAAEV,EAAEO,EAAE,GAAG,cAAcG,EAAEA,EAAEqC,EAAEA,IAAIxC,EAA4I,SAAS8B,GAAEjB,EAAEK,GAAG,IAAD,EAAOf,EAAngB,SAAWe,GAAG,OAAOL,aAAEmJ,KAAKmC,MAAMnC,KAAKC,KAAK/I,GAAG,GAAG,EAAE,GAAidoC,CAAEpC,EAAEzB,EAAEyL,QAAf,cAAsCrK,GAAtC,IAAuB,gCAAU2B,EAAV,QAAiBZ,YAAED,GAAEa,EAAEqF,WAAWzC,GAAEzD,GAAExB,EAAE+J,IAAGrG,GAAEqG,GAAE3F,IAAGtB,GAAEiH,GAAE1H,EAAE4S,UAAU,GAAGrO,IAAG5B,GAAEjE,EAAEzB,EAAEsH,IAAG9D,GAAEiH,GAAE1H,EAAE4S,UAAU,GAAGrO,IAAG5B,GAAEjE,EAAEoC,EAAEyD,IAAG9D,GAAEiH,GAAE1H,EAAE4S,UAAU,GAAGrO,IAAG5B,GAAEjE,EAAEY,EAAEiF,KAAnK,8BAAsK,OAAO7F,EAAsL,SAASyH,GAAE9H,EAAEK,EAAEU,IAA3gB,SAAWf,EAAEK,GAAG,IAAMU,EAAE6C,GAAE5D,GAAGV,EAAEe,GAAG,CAACzB,EAAE,GAAG6D,EAAE,GAAGxB,EAAE,IAAI3B,EAAEV,EAAEyL,OAAO/K,EAAEmD,EAAE4H,OAAO/K,EAAE2B,EAAEoJ,OAAOtJ,EAAE,IAAI,IAAIf,EAAE,EAAEA,EAAEe,EAAEf,IAAIV,EAAEV,EAAEoB,GAAGV,EAAEmD,EAAEzC,GAAGV,EAAE2B,EAAEjB,GAAG,GAA+Y0C,CAAErC,EAAEU,EAAEuoB,mBAAmB7U,IAAInV,YAAEyB,EAAE6O,KAAK2E,UAAU,EAAE,EAAE,GAAG,IAAIvR,GAAE,EAASZ,EAAEqB,GAAEG,EAAEvE,GAAEqC,EAAEiF,GAAEvE,EAAEiI,OAAO,EAAEzG,EAAEyG,OAAO,EAAE3I,EAAE2I,OAAO,EAAlH,oBAAmIrK,GAAnI,IAAoH,gCAAUK,EAAV,QAAiBA,aAAazB,KAAIoE,GAAGrB,YAAEZ,EAAE6O,KAAK5I,UAAU3G,EAAE2G,WAAWjG,EAAE6O,KAAK2E,UAAU,GAAGlU,EAAEkU,UAAU,GAAGxT,EAAE6O,KAAK2E,UAAU,GAAGlU,EAAEkU,UAAU,GAAGxT,EAAE6O,KAAK2E,UAAU,GAAGlU,EAAEkU,UAAU,GAAGxT,EAAE6O,KAAK4E,YAAYnU,EAAEmU,YAAYxR,GAAE,GAAI3C,aAAazB,IAAGyB,aAAalB,GAAEiD,EAAEsI,KAAKrK,GAAGA,aAAayC,GAAEc,EAAE8G,KAAKrK,GAAGA,aAAa1B,IAAG+C,EAAEgJ,KAAKrK,IAAla,8BAAqaY,GAAEmB,EAAErB,EAAEuoB,mBAAmB7U,IAAnoB,SAAWzU,EAAEK,GAAGkE,GAAEzD,GAAE,EAAEuI,IAAP,oBAAyBrJ,GAAzB,IAAU,gCAAUe,EAAV,QAAiBV,EAAEzB,EAAE,IAAIyK,GAAE,GAAG3F,GAAE,GAAG3C,EAAEwT,UAAU,GAAG,EAAEpL,KAAK8L,GAAG5U,EAAEoC,EAAE,IAAI4G,GAAE,GAAG3F,GAAE,GAAG3C,EAAEwT,UAAU,GAAG,EAAEpL,KAAK8L,GAAG5U,EAAEY,EAAE,IAAIoI,GAAE,GAAG3F,GAAE,GAAG3C,EAAEwT,UAAU,GAAG,EAAEpL,KAAK8L,IAAzJ,+BAAwnBY,CAAEjS,EAAE7C,EAAEuoB,mBAAmB7U,IAA3d,oBAA8e/S,GAA9e,IAA+d,gCAAU1B,EAAV,QAAiBsE,GAAEvD,EAAEuoB,mBAAmB7U,GAAG7V,EAAEoB,EAAEyU,GAAG7V,GAAG0F,GAAEvD,EAAEuoB,mBAAmB7U,GAAGhS,EAAEzC,EAAEyU,GAAGhS,GAAG6B,GAAEvD,EAAEuoB,mBAAmB7U,GAAGxT,EAAEjB,EAAEyU,GAAGxT,IAAzlB,+BFA5P9B,YAAE,CAAC4B,gBAAKuD,GAAEJ,UAAU,gBAAW,GEAyzB,IAAMT,GAAE,GAAGpE,GAAE,GAAGsH,GAAE,GAAG0C,GAAE,CAAC,GAAGnD,GAAE,CAAC,GAAGpF,GAAET,cAAIqD,GAAE,CAAC,SAAS,SAAS,SAAS,SAAS,QAAQ,QAAQ,QAAQ,QAAQ,SCAhyDV,GAAEjC,cAAU0B,G,WAAE,aAAa,oBAAClC,KAAKgpB,gBAAgB,CAAC3Z,KAAK,CAAC2E,UAAUxT,cAAIiG,UAAU3G,YAAE,EAAE,EAAE,GAAGmU,aAAY,GAAI8U,mBAAmB,CAAC7U,GAAG,CAAC7V,EAAE,CAAC,GAAG6D,EAAE,CAAC,GAAGxB,EAAE,CAAC,MAAMV,KAAKipB,SAAS,EAAEjpB,KAAKkpB,aAAa,CAACziB,UAAUjG,cAAI2oB,QAAQ,CAACzZ,MAAMlP,cAAIwT,UAAU,GAAGoV,QAAQ,CAAC1Z,MAAMlP,cAAIwT,UAAU,I,4DAAI,SAAyBxT,GAAGA,EAAE6oB,cAAc,wBAAwBrpB,KAAKgpB,gBAAgB3Z,KAAK5I,a,yBAAW,SAAYjG,GAAO,IAALV,EAAK,wDAAC,GAAGA,EAAE,CAAC,IAAMA,GAAG,EAAEE,KAAKspB,MAAMC,uBAAuB,EAAEvpB,KAAKspB,MAAME,cAAchpB,EAAEiM,aAAa,sBAAsB3M,QAAQU,EAAEiM,aAAa,sBAAsB,GAAGjM,EAAEiM,aAAa,uBAAuBzM,KAAKspB,MAAME,cAAcxpB,KAAKypB,yBAAyBjpB,GAAGA,EAAE6oB,cAAc,wBAAwBrpB,KAAKgpB,gBAAgB3Z,KAAK2E,WAAWxT,EAAEiM,aAAa,qBAAqB,IAAI,IAAMhN,EAAEO,KAAKgpB,gBAAgBD,mBAAmB7U,GAAG,IAAIlU,KAAKipB,SAASzoB,EAAEkpB,aAAa,qBAAqBjqB,EAAEpB,EAAE,GAAGoB,EAAEyC,EAAE,GAAGzC,EAAEiB,EAAE,IAAI,IAAIV,KAAKipB,UAAUzoB,EAAE+K,aAAa,sBAAsB9L,EAAEpB,EAAE,GAAGoB,EAAEpB,EAAE,GAAGoB,EAAEpB,EAAE,GAAGoB,EAAEpB,EAAE,IAAImC,EAAE+K,aAAa,sBAAsB9L,EAAEyC,EAAE,GAAGzC,EAAEyC,EAAE,GAAGzC,EAAEyC,EAAE,GAAGzC,EAAEyC,EAAE,IAAI1B,EAAE+K,aAAa,sBAAsB9L,EAAEiB,EAAE,GAAGjB,EAAEiB,EAAE,GAAGjB,EAAEiB,EAAE,GAAGjB,EAAEiB,EAAE,KAAK,IAAIV,KAAKipB,WAAWzoB,EAAEkpB,aAAa,qBAAqBjqB,EAAEpB,EAAE,GAAGoB,EAAEyC,EAAE,GAAGzC,EAAEiB,EAAE,IAAIF,EAAE+K,aAAa,uBAAuB9L,EAAEpB,EAAE,GAAGoB,EAAEpB,EAAE,GAAGoB,EAAEpB,EAAE,GAAGoB,EAAEpB,EAAE,IAAImC,EAAE+K,aAAa,uBAAuB9L,EAAEyC,EAAE,GAAGzC,EAAEyC,EAAE,GAAGzC,EAAEyC,EAAE,GAAGzC,EAAEyC,EAAE,IAAI1B,EAAE+K,aAAa,uBAAuB9L,EAAEiB,EAAE,GAAGjB,EAAEiB,EAAE,GAAGjB,EAAEiB,EAAE,GAAGjB,EAAEiB,EAAE,IAAIF,EAAE+K,aAAa,uBAAuB9L,EAAEpB,EAAE,GAAGoB,EAAEpB,EAAE,GAAGoB,EAAEpB,EAAE,GAAGoB,EAAEpB,EAAE,IAAImC,EAAE+K,aAAa,uBAAuB9L,EAAEyC,EAAE,GAAGzC,EAAEyC,EAAE,GAAGzC,EAAEyC,EAAE,GAAGzC,EAAEyC,EAAE,IAAI1B,EAAE+K,aAAa,uBAAuB9L,EAAEiB,EAAE,GAAGjB,EAAEiB,EAAE,GAAGjB,EAAEiB,EAAE,GAAGjB,EAAEiB,EAAE,O,iBAAK,SAAIF,GAAGR,KAAKspB,MAAM9oB,EAAE5B,GAAE4B,EAAEmpB,OAAO3pB,KAAKipB,SAASjpB,KAAKgpB,iBAAiBvpB,YAAEO,KAAKkpB,aAAaziB,UAAUzG,KAAKgpB,gBAAgB3Z,KAAK5I,WAAW,IAAM3G,EAAE,EAAE8I,KAAK8L,GAAG1U,KAAKkpB,aAAaC,QAAQzZ,MAAM,GAAG,QAAQ1P,KAAKgpB,gBAAgBD,mBAAmB7U,GAAG7V,EAAE,GAAGyB,EAAEE,KAAKkpB,aAAaC,QAAQzZ,MAAM,GAAG,QAAQ1P,KAAKgpB,gBAAgBD,mBAAmB7U,GAAGhS,EAAE,GAAGpC,EAAEE,KAAKkpB,aAAaC,QAAQzZ,MAAM,GAAG,QAAQ1P,KAAKgpB,gBAAgBD,mBAAmB7U,GAAGxT,EAAE,GAAGZ,EAAEE,KAAKkpB,aAAaC,QAAQnV,UAAU,EAAEhU,KAAKkpB,aAAaE,QAAQ1Z,MAAM,GAAG1P,KAAKgpB,gBAAgB3Z,KAAK2E,UAAU,GAAGlU,EAAEE,KAAKkpB,aAAaE,QAAQ1Z,MAAM,GAAG1P,KAAKgpB,gBAAgB3Z,KAAK2E,UAAU,GAAGlU,EAAEE,KAAKkpB,aAAaE,QAAQ1Z,MAAM,GAAG1P,KAAKgpB,gBAAgB3Z,KAAK2E,UAAU,GAAGlU,EAAEE,KAAKkpB,aAAaE,QAAQpV,UAAU,EAAE,IAAM9R,EAAE7D,YAAEoE,GAAEzC,KAAKkpB,aAAaE,QAAQ1Z,OAAO3Q,YAAEmD,EAAEA,EAAE,GAAGlC,KAAKspB,MAAME,cAAcpoB,YAAEpB,KAAKkpB,aAAaC,QAAQzZ,MAAM1P,KAAKkpB,aAAaC,QAAQzZ,MAAMxN,K,wBAAG,WAAmB,OAAOlC,KAAKspB,MAAME,e,eAAa,WAAU,OAAOxpB,KAAKkpB,iB,KCAtdtiB,GAAEpG,IAAExB,UAAU,kDAAsDyJ,GAAC,kDAAqB,WAAY7J,GAAE,kCAAC,cAAMA,IAAQgrB,UAAU,KAAK,EAAKvG,gBAAe,EAAG,EAAKwG,kBAAiB,EAAG,EAAKrC,WAAU,EAAG,EAAKsC,UAAU,IAAIvgB,GAAE,EAAKwgB,cAAc,IAAI7T,GAAE,EAAK8T,SAAS,IAAI3mB,KAAE,EAAK4mB,gBAAgB,IAAInc,IAAI,EAAKoc,4BAA2B,EAAG,EAAKC,sBAAsB,IAAI/rB,KAAE,EAAKgsB,YAAY,IAAItc,IAAI,EAAKuc,WAAW,EAAE,EAAKC,gBAAgB,EAAE,EAAKC,kBAAkB,KAA5V,EAAnC,8CAAoY,WAAY,WAACvqB,KAAKujB,MAAMvjB,KAAKwqB,WAAWC,iBAAiBzqB,KAAK0qB,eAAe,IAAIzT,GAAEjX,KAAKujB,MAAM,KAAK,KAAK,KAAK,KAAK,MAAMvjB,KAAK2qB,0BAA0B,IAAIrV,EAAEtV,KAAK4f,uBAAuB5f,KAAKwqB,WAAW5K,uBAAuB5f,KAAK4qB,2BAA2B,IAAIrjB,GAAE,CAAC4X,KAAKnf,KAAKujB,MAAMzW,YAAY,EAAEwP,mBAAmB,IAAIlY,GAAEymB,yBAAyB7qB,KAAK2qB,0BAA0B/K,uBAAuB5f,KAAK4f,yBAAyB5b,aAAEhE,KAAK4f,uBAAuB,gBAAgB,kBAAI,EAAKkL,wBAAuB9qB,KAAK+qB,oBAAoB,IAAI9f,GAAEjL,KAAKwqB,WAAWQ,kBAAkBhrB,KAAK4qB,4BAA4B5qB,KAAK+qB,oBAAoBjO,kBAAkB,SAAAle,IAAKA,EAAEiR,eAAe2G,IAAG,IAAI,EAAKqT,kBAAkB,EAAKoB,wBAAwB,EAAKH,qBAAqB,EAAK1C,aAAa,aAAapoB,KAAKkrB,mBAAmBlrB,KAAKwqB,WAAWW,kBAAkBnrB,KAAK8pB,UAAUjb,IAAI,CAAC8a,OAAO,CAAC,IAAIjpB,GAAE+B,YAAE,EAAE,EAAE,KAAK8mB,qBAAqB,EAAEC,aAAa,IAAIxpB,KAAKorB,gBAAgB,CAACrM,KAAK,KAAKC,sBAAsB7b,aAAEnD,KAAKujB,OAAOhgB,OAAO6C,GAAEilB,gBAAgBtoB,eAAI4D,OAAO,KAAK2kB,mBAAmB,KAAKC,2BAA2B,KAAKpJ,sBAAqB,EAAGqJ,WAAW,KAAKC,aAAY,EAAGvM,cAAa,EAAG1R,mBAAmB,KAAKD,qBAAqB,EAAEL,sBAAsB,KAAKF,wBAAwB,EAAEI,gBAAgB,KAAKE,YAAW,EAAGmT,SAASzgB,KAAK8pB,UAAUhK,qBAAqB,KAAnsD,qBAAssD,WAAU9f,KAAKgqB,SAAS0B,UAAU1rB,KAAKiqB,gBAAgBlc,SAAS,SAAAnP,GAAC,OAAEA,EAAEqP,aAAYjO,KAAKiqB,gBAAgB/b,QAAQlO,KAAKorB,gBAAgBpM,sBAAsB/Q,UAAUjO,KAAKorB,gBAAgBpM,sBAAsB,KAAKhf,KAAK4qB,2BAA2B3c,UAAUjO,KAAK4qB,2BAA2B,OAAn+D,oBAAw+D,WAAe,OAAO5qB,KAAKkqB,4BAA4B/nB,aAAEnC,KAAKiqB,iBAAiB,SAAArrB,GAAC,OAAEA,EAAEyhB,aAAYrgB,KAAK4f,uBAAuBS,WAApmE,uBAA6mE,WAAkB,OAAOvgB,YAAEE,KAAK4pB,aAA7oE,0BAAwpE,WAAqB,OAAO9pB,YAAEE,KAAK4pB,WAAW5pB,KAAK4pB,UAAU,GAAGrO,oBAAoBvb,KAAK4pB,UAAU,GAAGrO,oBAAoB,IAAlxE,oBAAoxE,WAAe,OAAOvb,KAAK4pB,YAA/yE,4BAAyzE,SAAehrB,GAAGkB,YAAEE,KAAK4pB,aAAahrB,EAAEoB,KAAK4pB,UAAU,GAAG,GAAGhrB,EAAEoB,KAAK4pB,UAAU,GAAG,MAA14E,4BAA84E,WAAiB,GAAGvrB,YAAE2B,KAAK4pB,WAAW,CAAC,IAAMhrB,EAAEoB,KAAKwqB,WAAWC,iBAAiBzqB,KAAK4pB,UAAU,CAAC,IAAIniB,GAAE7I,EAAE,GAAG,IAAI6I,GAAE7I,EAAE,OAAjgF,6BAAsgF,WAAkBkB,YAAEE,KAAK4pB,aAAa5pB,KAAK4pB,UAAU7b,SAAS,SAAAnP,GAAC,OAAEA,EAAEqP,aAAYjO,KAAK4pB,UAAU,QAApmF,2BAA0mF,WAAe,WAAKhrB,GAAE,EAAGoB,KAAKiqB,gBAAgBlc,SAAS,SAACjO,EAAEzB,GAAKyB,EAAE6rB,kBAAkB/sB,GAAE,GAAIkB,EAAE+jB,UAAU,EAAKoG,gBAAgBnb,OAAOzQ,GAAG,EAAK6rB,4BAA2B,EAAG,EAAKF,SAASvoB,OAAOpD,OAAO2B,KAAKkqB,6BAA6BlqB,KAAK4rB,6BAA6BhtB,GAAE,GAAIA,IAAIoB,KAAKooB,aAAa,YAAYpoB,KAAK8qB,qBAAqB9qB,KAAK6rB,sBAAsB7rB,KAAKirB,wBAAwBjrB,KAAK8rB,oBAAh/F,2BAAkgG,SAAcltB,EAAEkB,EAAEzB,GAAE,oBAAgBO,GAAhB,IAAC,gCAAUkB,EAAV,QAAiB,MAAMA,EAAE6G,SAAS7G,EAAE6G,OAAO3G,KAAK+pB,cAAclM,UAAU/d,EAAEoH,SAASpH,EAAEqS,aAAarS,EAAEqS,WAAW,MAAMnS,KAAKqqB,cAAcrqB,KAAKoqB,YAAYvb,IAAI/O,EAAEqS,WAAWrS,IAA3K,8BAA8KE,KAAK+rB,oBAAoBjsB,GAAGrB,IAAIG,GAAG,IAAIP,GAAG2B,KAAKgsB,oBAAoBptB,EAAEkB,EAAE,KAA3wG,8BAA8wG,SAAiBlB,EAAEkB,EAAEzB,GAAE,oBAAgBO,GAAhB,IAAC,gCAAUkB,EAAV,QAAiBE,KAAKoqB,YAAYtb,OAAOhP,EAAEqS,aAA5C,8BAAwD,IAAMpT,EAAEiB,KAAKiqB,gBAAgB7b,IAAItO,GAAGf,IAAIA,EAAE0C,OAAO7C,GAAG,IAAIP,GAAG2B,KAAKgsB,oBAAoBptB,EAAEkB,EAAE,MAAr7G,8BAAy7G,SAAiBlB,EAAEkB,EAAEzB,GAAG,IAAMU,EAAEiB,KAAKiqB,gBAAgB7b,IAAItO,GAAGf,GAAGA,EAAEmpB,OAAOtpB,EAAEP,GAAG2B,KAAKisB,uBAAuBrtB,EAAEkB,EAAEzB,IAAIuI,GAAEslB,KAAK,wDAAjjH,oCAAumH,SAAuBttB,EAAEkB,EAAEzB,GAAG,IAAMU,EAAE,IAAIV,GAAG,IAAIA,EAAE,EAAE,IAAIA,EAAE,EAAE,EAAE2B,KAAKgsB,oBAAoBptB,EAAEkB,EAAEf,KAAnsH,iCAAssH,SAAoBH,EAAEkB,EAAEf,GAAG,GAAG,IAAIA,IAAGV,YAAEyB,EAAEksB,qBAAd,CAA0C,IAA3C,EAA+CxrB,GAAG,EAAlD,cAAmE5B,GAAnE,IAAoD,2BAAiB,KAAOA,EAAP,QAAWyT,KAAKjK,WAAWxJ,IAAI4B,IAAIV,EAAEksB,oBAAoBptB,EAAEG,GAAGyB,EAAE5B,IAArI,kCAAhuH,8BAAy2H,SAAiBA,EAAEkB,GAAG,IAAMzB,EAAE2B,KAAKiqB,gBAAgB7b,IAAItO,GAAGzB,EAAEA,EAAE6pB,OAAOtpB,EAAE,GAAGgI,GAAEslB,KAAK,0DAA17H,qBAAk/H,WAAU,OAAO,IAAIlsB,KAAKoqB,YAAY5nB,OAAO6G,GAAEsP,6BAAjiI,yBAA4jI,WAAoB,OAAO3Y,KAAKqjB,iBAA5lI,oBAA2mI,WAAe,OAAOrjB,KAAKwnB,YAAtoI,2BAAgpI,WAAsB,OAAOxnB,KAAK6pB,mBAAlrI,yBAAmsI,SAAYjrB,GAAG,IAAIkB,GAAE,EAAG,OAAOE,KAAKiqB,gBAAgBlc,SAAS,SAAA1P,GAAIA,EAAEkqB,YAAY3pB,KAAKkB,GAAE,MAAOA,IAAhyI,8BAAkyI,WAAmBE,KAAKkqB,4BAA2B,IAAr1I,sBAAw1I,SAAStrB,EAAEP,EAAEmC,GAAM,WAAJf,EAAI,uDAAF,EAAG,GAAG,IAAIe,EAAE2rB,SAAS,OAAM,EAAG,GAAGnsB,KAAKosB,oBAAoB5rB,EAAEiV,WAAW7M,KAAK6B,IAAIjK,EAAE6rB,MAAM,GAAG5R,OAAO,GAAGja,EAAE6rB,MAAM,GAAG5R,OAAO,IAAI7R,KAAK6B,IAAIjK,EAAE6rB,MAAM,GAAGjV,SAAS,GAAG5W,EAAE6rB,MAAM,GAAGjV,SAAS,IAAIpX,KAAK6jB,WAAW,IAAIjlB,IAAIoB,KAAK6iB,eAAe,IAAIjkB,IAAIoB,KAAKioB,SAAS,OAAM,EAAG,IAAIjoB,KAAKssB,oBAAoB9rB,GAAG,OAAM,EAAG,IAAMY,EAAEZ,EAAEgO,MAAMpQ,EAAEoC,EAAEoN,OAAO,IAAIvP,EAAEkuB,UAAU,OAAM,EAAGluB,EAAE+b,OAAOhZ,EAAEhD,GAAG,IAAM+C,EAAEnB,KAAKujB,MAAM,GAAGnd,GAAEqP,WAAWjV,EAAEiV,YAAY,EAAEzV,KAAK0qB,eAAe5L,KAAKlgB,EAAEoB,KAAKorB,gBAAgBE,mBAAmBtrB,KAAKosB,oBAAoBpsB,KAAKorB,gBAAgBG,2BAA2BvrB,KAAKosB,oBAAoBpsB,KAAKsqB,gBAAgBjsB,EAAEiQ,KAAKnN,GAAGA,EAAEqrB,cAAc,EAAE,EAAE,EAAE,GAAGrrB,EAAEsrB,UAAU,OAAO,IAAIhtB,IAAIO,KAAK0qB,eAAezL,mBAAmBzI,IAAGnN,GAAEsP,4BAA4B,IAAIlZ,EAAE,IAAI,IAAIb,EAAE,EAAEA,EAAE4B,EAAE2rB,SAASvtB,IAAIoB,KAAK0sB,kBAAkBlsB,EAAE6rB,MAAMztB,GAAGwH,IAAGpG,KAAK2sB,iBAAiBvrB,EAAEhD,EAAEuH,GAAEnF,EAAE6J,MAAM1E,GAAEmE,SAAS,OAAO9J,KAAKiqB,gBAAgBznB,KAAK,GAAGxC,KAAKmqB,sBAAsBxC,QAAQ,YAA4B,IAAhBllB,EAAgB,EAA1BmqB,UAAqB1pB,EAAK,EAAd2pB,SAAe,GAAG,IAAIptB,IAAGK,YAAE2C,IAAI,IAAIA,EAAEqqB,gBAAtB,CAA6C,IAAMzpB,EAAEvD,YAAE2C,IAAI3C,YAAE2C,EAAEsqB,cAActqB,EAAEsqB,YAAY,GAAG,IAAInuB,EAAEyE,IAAI,EAAK2pB,yBAAyB,EAAKzJ,MAAMniB,EAAEhD,GAAG+C,EAAEsrB,UAAU,QAAQ,IAAI,IAAI7tB,EAAE,EAAEA,EAAE4B,EAAE2rB,SAASvtB,IAAI,EAAK8tB,kBAAkBlsB,EAAE6rB,MAAMztB,GAAGwH,IAAGlD,EAAE+pB,KAAK,EAAKvC,eAAe,EAAKU,iBAAiB/nB,GAAGvD,YAAE,EAAKotB,0BAA0B7uB,EAAEiQ,KAAKnN,GAAG,EAAK+pB,mBAAmBiC,UAAU,EAAKD,uBAAuBE,aAAa,EAAEruB,YAAEA,YAAE0D,GAAGsqB,mBAAkB5rB,EAAEkZ,gBAAgB,MAAMhc,EAAEgvB,iBAAiBrtB,KAAK0qB,eAAe4C,2BAA0B,IAA1yL,sCAA6yL,SAAyB1uB,EAAEkB,EAAEf,GAAGV,YAAE2B,KAAKktB,0BAA0BltB,KAAKktB,uBAAuB,IAAI/jB,GAAEvK,EAAE,OAAO,GAAE,IAAKoB,KAAKktB,uBAAuB9S,OAAOta,EAAEf,GAAGiB,KAAKktB,uBAAuB5e,KAAK1P,KAAz+L,oEAA4+L,uBAAAR,EAAA,sEAA4B4B,KAAK4qB,2BAA2B2C,YAA5D,gDAA5+L,6EAAojM,SAAU3uB,EAAEkB,EAAEzB,GAAE,WAAKU,EAAE,EAAEiB,KAAKoqB,YAAYrc,SAAS,SAAAvN,GAAI,IAAGnC,GAAIA,EAAEmC,GAAT,CAAmB,EAAKgtB,wBAAwBhtB,EAAEV,EAAE,EAAElB,EAAEG,GAAG,IAAMU,EAAE,EAAK8qB,kBAAkB9qB,IAAIe,EAAE0G,OAAO,GAAG1G,EAAEiS,SAAShT,EAAEmG,KAAK,EAAK4nB,wBAAwBhtB,EAAEV,EAAEL,EAAEguB,MAAM7uB,EAAEG,GAAGyB,EAAE0G,OAAO,GAAG1G,EAAEiS,SAAShT,EAAEoG,KAAK,EAAK2nB,wBAAwBhtB,EAAEV,GAAGL,EAAEguB,MAAM7uB,EAAEG,IAAIA,UAAn2M,qCAA02M,SAAwBH,EAAEP,EAAEU,EAAEyB,EAAEf,GAAE,WAAK2B,EAAE,EAAEtB,YAAElB,EAAEsH,kBAAkBnH,GAAGH,EAAEsH,eAAe,IAAI9E,EAAExC,EAAEsH,eAAe,KAAK2R,GAAE,GAAGxZ,EAAE,GAAGU,EAAE8Y,GAAE,GAAGxZ,EAAE,GAAG+C,EAAEyW,GAAE,GAAG,EAAEjO,GAAE,GAAGvL,EAAE,GAAGU,EAAE6K,GAAE,GAAGvL,EAAE,GAAG+C,EAAEwI,GAAE,GAAG,EAAEhL,EAAE0sB,mBAAmBtrB,KAAKosB,oBAAoBxtB,EAAE4T,SAASkb,UAAU9uB,EAAE,KAAKA,EAAE+uB,0BAA0BntB,EAAEqX,GAAEjO,IAAG,SAAC9J,EAAEzB,EAAEU,GAAK,EAAK6uB,sBAAsB7uB,EAAEH,EAAE4T,SAASkW,eAAejpB,EAAEe,EAAE5B,EAAEyT,KAAK1K,SAAS/I,EAAEyT,KAAKjK,cAAcxJ,EAAE8T,+BAA8B,KAAhxN,mCAAoxN,SAAsB9T,EAAEkB,EAAEzB,EAAEU,EAAEyB,EAAEf,GAAG,IAAM2B,EAAE,CAACE,KAAK,WAAWoG,SAAS,CAACC,SAASnH,EAAE4H,WAAW3I,IAAIrB,EAAE,SAAAoC,GAAIA,EAAEqO,IAAIzN,EAAE,KAAKrC,EAAE8uB,QAAQ/nB,OAAOQ,KAAKvH,EAAE8uB,QAAQ/nB,OAAOG,OAAOlH,EAAE8uB,QAAQ/nB,OAAOI,eAAepG,EAAE,KAAK,KAAKlB,EAAEP,GAAGmC,EAAE6G,YAAY,mBAAmB,IAAI,MAAMtI,EAAE8uB,QAAQjoB,IAAIoB,kBAAkBlH,GAAGf,EAAE8uB,QAAQjoB,IAAIoB,oBAAoB,MAAMjI,EAAE8uB,QAAQjoB,IAAIU,MAAMvH,EAAE8uB,QAAQ/nB,OAAOQ,MAAMvH,EAAE8uB,QAAQjoB,IAAIU,OAAOlI,EAAEW,EAAE8uB,QAAQjoB,KAAK,IAAI7G,EAAE+uB,QAAQlpB,QAAQ,MAAM7F,EAAE8uB,QAAQhoB,IAAImB,kBAAkBlH,EAAEf,EAAE8uB,QAAQhoB,IAAImB,oBAAoB,MAAMjI,EAAE8uB,QAAQhoB,IAAIS,MAAMvH,EAAE8uB,QAAQ/nB,OAAOQ,KAAKvH,EAAE8uB,QAAQhoB,IAAIS,OAAOlI,EAAEW,EAAE8uB,QAAQhoB,KAAK,IAAI9G,EAAE+uB,QAAQlpB,MAAM,CAAC,IAAMhG,EAAE,IAAIsG,KAAEnG,EAAEyH,KAAKpI,EAAEQ,GAAGG,EAAE8uB,QAAQ7nB,IAAImE,KAAKvL,MAAr6O,kCAAy6O,SAAqBA,GAAGoB,KAAKmqB,sBAAsBxC,QAAQ,SAAA7nB,GAAC,OAAEA,EAAE+sB,SAASkB,qBAAqBnvB,QAAvgP,iCAA4gP,SAAoBA,GAAE,WAAKkB,EAAEE,KAAKiqB,gBAAgB7b,IAAIxP,GAAG,OAAOkB,IAAIA,EAAE,IAAI4C,GAAE,CAACyc,KAAKnf,KAAKujB,MAAM/F,mBAAmBxd,KAAK+qB,sBAAsB/qB,KAAKiqB,gBAAgBpb,IAAIjQ,EAAEkB,GAAGE,KAAKkqB,4BAA2B,EAAG,gBAAgBtrB,GAAGoB,KAAKgqB,SAASvrB,IAAIG,EAAE8C,MAAM,eAAe,kBAAI,EAAKopB,wBAAuBlsB,GAAGoB,KAAKgqB,SAASvrB,IAAIuF,aAAElE,EAAE,YAAY,kBAAI,EAAKsoB,aAAa,eAAcxpB,IAAIkB,IAAj4P,wCAAm4P,WAA4B,WAAC,GAAIE,KAAKkqB,6BAAqClqB,KAAKkqB,4BAA2B,EAAGlqB,KAAKmqB,sBAAsBjc,QAAQ,IAAIlO,KAAKiqB,gBAAgBznB,MAAlG,CAA5C,MAA0LxC,KAAKiqB,gBAAgB+D,OAA1BpvB,EAArL,qBAAiKyC,KAAMgH,cAA+CvI,EAAE,IAAImuB,IAAIjuB,KAAKiqB,gBAAgBjE,UAAUpnB,EAAEmP,SAAS,SAAAnP,GAAI,IAAMP,EAAEO,EAAEG,EAAE,EAAKkrB,gBAAgB7b,IAAI/P,GAAGU,IAAI,EAAKorB,sBAAsBhgB,KAAK,IAAItD,GAAExI,EAAEU,IAAIe,EAAEgP,OAAO/P,OAAOe,EAAEiO,SAAS,SAAAnP,GAAI,EAAKurB,sBAAsBhgB,KAAK,IAAItD,GAAE,KAAKjI,UAA/0Q,+BAAs1Q,SAAkBA,EAAEkB,GAAGA,EAAEsX,SAASxY,EAAEwY,SAAS,IAAM/Y,EAAEO,EAAE6b,OAAOlY,aAAEzC,EAAEuN,iBAAiB,EAAEhP,EAAE,GAAGA,EAAE,GAAG,EAAEA,EAAE,GAAGA,EAAE,GAAGyB,EAAEqW,KAAKrW,EAAEyW,KAAKrU,aAAEpC,EAAE6N,YAAY5J,aAAEjE,EAAE6N,WAAW7N,EAAE6N,WAAW,EAAE/O,EAAE6b,OAAO,IAAI7b,EAAE6b,OAAO,GAAG,IAAI3a,EAAEouB,cAAcluB,KAAKujB,OAAOvjB,KAAK0qB,eAAennB,OAAOzD,EAAEE,KAAKorB,gBAAgB7nB,OAAOzD,EAAEE,KAAKorB,gBAAgBC,gBAAgB,GAAG,EAAEvrB,EAAEwX,aAAa,GAAGtX,KAAKorB,gBAAgBC,gBAAgB,GAAG,EAAEvrB,EAAEwX,aAAa,KAAtuR,iCAAyuR,SAAoB1Y,GAAG,IAAI,IAAIkB,EAAE,EAAEA,EAAElB,EAAEutB,SAASrsB,IAAI,CAAC,IAAMzB,EAAEO,EAAEytB,MAAMvsB,GAAG,GAAGzB,EAAEoc,OAAO,KAAKpc,EAAEoc,OAAO,IAAIpc,EAAEoc,OAAO,KAAKpc,EAAEoc,OAAO,GAAG,OAAM,EAAG,OAAM,IAAx3R,gCAA23R,WAAqBza,KAAKmuB,kBAAkBnuB,KAAKmuB,qBAA56R,4BAA+7R,WAAiB,IAAMvvB,EAAEuD,aAAEnC,KAAKiqB,iBAAiB,SAAArrB,GAAC,OAAEA,EAAEqpB,YAAWrpB,IAAIoB,KAAKwnB,YAAYxnB,KAAKwnB,UAAU5oB,KAApiS,iCAAuiS,WAAsB,IAAMA,EAAEuD,aAAEnC,KAAKiqB,iBAAiB,SAAArrB,GAAC,OAAEA,EAAEikB,iBAAgBjkB,IAAIoB,KAAKqjB,iBAAiBrjB,KAAKqjB,eAAezkB,EAAEoB,KAAKouB,wBAAwBpuB,KAAKouB,uBAAuBpuB,KAAKqjB,mBAAhuS,mCAAivS,WAAwB,IAAMzkB,EAAEuD,aAAEnC,KAAKiqB,iBAAiB,SAAArrB,GAAC,OAAEA,EAAE8oB,mBAAkB9oB,IAAIoB,KAAK6pB,mBAAmB7pB,KAAK6pB,iBAAiBjrB,EAAEoB,KAAKquB,0BAA0BruB,KAAKquB,yBAAyBruB,KAAK0nB,oBAAt7S,8BAAw8S,SAAiB9oB,EAAEkB,EAAEzB,GAAG,IAAMU,EAAEiB,KAAKujB,MAAMvjB,KAAKsuB,4BAA4B1vB,EAAEkB,GAAG,IAAMU,EAAER,KAAKuuB,uBAAuB/N,QAAQzhB,EAAEwjB,YAAY/hB,GAAGzB,EAAE4iB,iBAAiB3hB,KAAKuuB,uBAAuBC,UAAUhuB,EAAE+K,aAAa,QAAQlN,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAG,GAAGmC,EAAE8K,aAAa,MAAM,GAAGvM,EAAEkO,YAAYjN,KAAKyuB,qBAAqB,GAAG1vB,EAAEynB,QAAQxmB,KAAK0uB,UAAU3vB,EAAE4nB,WAAW,EAAE,EAAE7e,aAAE9H,KAAK0uB,SAAS,eAArzT,yCAAk0T,SAA4B9vB,EAAEkB,GAAG,IAAGE,KAAKyuB,qBAAR,CAA0E,IAAtC,IAAMpwB,EAAE,IAAI8Q,WAAWvQ,EAAEkB,EAAE,GAAOf,EAAE,EAAUyB,EAAE,EAAEA,EAAEV,EAAEU,IAAI,IAAI,IAAIf,EAAE,EAAEA,EAAEb,EAAEa,IAAI,CAAC,IAAM2B,EAAEwH,KAAKmC,MAAMtL,EAAE,IAAIrB,EAAEwK,KAAKmC,MAAMvK,EAAE,IAAIY,EAAE,GAAGhD,EAAE,GAAG,GAAGgD,EAAExC,EAAE,IAAI,GAAGR,EAAE0B,EAAE,IAAIzB,EAAEU,KAAK,IAAIV,EAAEU,KAAK,IAAIV,EAAEU,KAAK,IAAIV,EAAEU,KAAK,MAAMV,EAAEU,KAAK,IAAIV,EAAEU,KAAK,IAAIV,EAAEU,KAAK,IAAIV,EAAEU,KAAK,EAAEqC,GAAG,EAAEhD,EAAE,EAAEqB,EAAE,EAAEe,EAAE,EAAE,IAAI,EAAEY,EAAE,EAAEhD,EAAE,EAAE,KAAK4B,KAAKyuB,qBAAqB,IAAI5sB,IAAE7B,KAAKujB,MAAM,CAACzc,OAAO,KAAK4H,YAAY,KAAKC,SAAS,KAAKqL,aAAa,KAAKxL,MAAM5P,EAAEgP,OAAO9N,GAAGzB,GAAG,IAAMmC,EAAE,IAAIsB,GAAEtB,EAAEsoB,UAAS,EAAG9oB,KAAKuuB,uBAAuBvuB,KAAK4qB,2BAA2B/I,0BAA0B/Y,GAAEtI,EAAER,KAAKuuB,wBAAwBvuB,KAAK0uB,SAAS9rB,aAAE5C,KAAKujB,UAAp8U,gBAA28U,WAAW,MAAM,CAACoL,eAAe3uB,KAAKiqB,qBAAj/U,GAAehrB,aAAEkC,OAAm/UvC,YAAE,CAACE,gBAAK2J,GAAE9E,UAAU,kCAA6B,GAAQ/E,YAAE,CAACE,gBAAK2J,GAAE9E,UAAU,iCAA4B,GAAQ/E,YAAE,CAACa,cAAIX,gBAAK2J,GAAE9E,UAAU,8BAAyB,GAAQ/E,YAAE,CAACa,YAAE,CAACgE,eAAc,KAAMgF,GAAE9E,UAAU,kBAAa,GAAQ/E,YAAE,CAACa,eAAKgJ,GAAE9E,UAAU,uBAAkB,GAAQ/E,YAAE,CAACa,YAAE,CAAC6B,KAAKstB,QAAQhrB,UAAS,EAAGC,UAAU,CAAC,sCAAsC4E,GAAE9E,UAAU,WAAW,MAAM8E,GAAE7J,YAAE,CAACwC,YAAE,0CAA0CqH,I,IAAS5B,GAAE,WAAYjI,EAAEkB,GAAE,oBAACE,KAAK4sB,UAAUhuB,EAAEoB,KAAK6sB,SAAS/sB,GAAS6F,GAAE,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,EAAE,KAAKS,GAAE,IAAI7F,GAAE6F,GAAE+P,KAAK,EAAE/P,GAAEmQ,IAAI,IAAInQ,GAAEsP,kBAAkB,KAAK,IAAMmC,GAAE3U,cAAI0G,GAAE1G,cAASsT,GAAE,ECAvzapY,IAAFW,IAAIqC,KCA6uB,SAASe,GAAE3B,GAAG,IAAM6C,EAAE,GAAGlC,EAAE,IAAI,SAASvC,EAAEwC,EAAE3B,GAA8O,IAA5O,IAA+BpB,EAA8BO,EAAtDiwB,cAAehb,SAAoCrT,EAAG5B,EAA3BkwB,wBAA6B1wB,EAAE,SAAS0B,GAAG,IAAMlB,EAAEkB,EAAEgK,OAAO,OAAOhK,EAAE,KAAKA,EAAElB,EAAE,IAAIkB,EAAE,KAAKA,EAAElB,EAAE,IAAIkB,EAAE,KAAKA,EAAElB,EAAE,GAA7E,CAAiFP,IAAI,IAAImC,EAAEzB,EAAEV,EAAEyL,OAAO,GAAG1L,EAAE,EAAE,GAAGyD,EAAE,IAAI8I,YAAY,GAAG5L,EAAE,IAAIwD,EAAEnE,EAAE0B,aAAEzB,EAAE,EAAEA,EAAEyL,OAAO,GAAGzL,EAAMgF,EAAE,EAAUvD,EAAE,EAAEA,EAAEf,EAAE,EAAEe,IAAI+B,EAAEwB,KAAKvD,EAAE+B,EAAEwB,KAAKvD,EAAE,EAAEsB,EAAE8B,KAAEoQ,UAAU,CAAC9Q,KAAK,EAAE6P,KAAK9P,EAAEwsB,UAAU,EAAEC,UAAU,GAAGvvB,EAAEyD,KAAEoQ,UAAUzR,EAAzW,CAA4WrB,EAAEW,EAAEkC,GAAG,IAAMW,EAAE,IAAI2G,YAAYtH,EAAEH,KAAEoQ,UAAUxJ,QAAQ,OAAO,SAAShK,EAAEsB,EAAE3B,GAAG,IAAMpB,EAAEyB,EAAE+uB,cAAcI,YAAerwB,YAAEP,KAAUoB,EAAEyvB,OAAOzvB,EAAEyD,KAAEoQ,UAAUlS,EAAE8tB,OAAO,CAAC1sB,KAAK,EAAE6P,KAAKhU,EAAE0wB,UAAU,EAAEC,UAAU,IAAxI,CAA4IxuB,EAAEW,EAAEkC,GAAG,SAASvD,EAAElB,EAAEP,EAAEmC,GAAG,IAAGY,YAAEtB,EAAE+uB,cAAcM,cAArB,CAA0C,IAAM/wB,EAAE0B,EAAE+uB,cAAcnf,MAAM9Q,EAAEsE,KAAEksB,OAAO,CAAC5sB,KAAK,EAAE6P,KAAK5S,YAAErB,EAAE8G,IAAG6pB,UAAU,EAAEC,UAAU,GAAG3wB,EAAE6E,KAAEksB,OAAO5uB,GAA7J,CAAgKA,EAAEW,EAAEkC,EAAEW,GAAG,SAASlE,EAAElB,EAAEP,EAAEmC,GAAG,IAAGY,YAAEtB,EAAE+uB,cAAcQ,aAArB,CAAyC,IAAMjxB,EAAE0B,EAAE+uB,cAAcrsB,KAAK5D,EAAEsE,KAAEosB,MAAM,CAAC9sB,KAAK,EAAE6P,KAAK,IAAImM,aAAa,CAAC/e,YAAErB,EAAE,KAAK2wB,UAAU,EAAEC,UAAU,GAAG3wB,EAAE6E,KAAEosB,MAAM9uB,GAA7K,CAAgLA,EAAEW,EAAEkC,EAAEW,GAAG,SAASlE,EAAEsB,EAAE3B,EAAEpB,GAAG,IAAMmC,EAAEV,EAAE+uB,cAAcM,aAAgBvwB,YAAE4B,KAAUY,EAAE8B,KAAEqsB,uBAAuB,CAAC/sB,KAAK,EAAE6P,KAAK,IAAImM,aAAa,CAAChe,IAAIuuB,UAAU,EAAEC,UAAU,GAAGvvB,EAAEyD,KAAEksB,OAAO/wB,GAAxK,CAA2KmC,EAAEW,EAAEkC,EAAEW,GAAG,SAASlE,EAAEsB,EAAE3B,EAAEpB,GAAG,IAAMmC,EAAEV,EAAE+uB,cAAcQ,YAAezwB,YAAE4B,KAAUY,EAAE8B,KAAEssB,sBAAsB,CAAChtB,KAAK,EAAE6P,KAAK,IAAImM,aAAa,CAAChe,IAAIuuB,UAAU,EAAEC,UAAU,GAAGvvB,EAAEyD,KAAEssB,sBAAsBnxB,GAArL,CAAwLmC,EAAEW,EAAEkC,EAAEW,GAAG,SAASlE,EAAEsB,EAAE3B,EAAEpB,GAAG,IAAMmC,EAAEV,EAAE+uB,cAAcY,eAAkB7wB,YAAE4B,KAAUY,EAAE8B,KAAEwsB,yBAAyB,CAACltB,KAAK,EAAE6P,KAAK,IAAImM,aAAa,CAAChe,IAAIuuB,UAAU,EAAEC,UAAU,GAAGvvB,EAAEyD,KAAEwsB,yBAAyBrxB,GAA9L,CAAiMmC,EAAEW,EAAEkC,EAAEW,GAAG,SAASlE,EAAElB,EAAEwC,GAAG,GAAG,UAAUtB,EAAEmP,KAAf,CAA2B,IAAMzO,EAAE5B,EAAEsE,KAAEoQ,UAAUjB,KAAKhP,EAAE7C,EAAEsJ,OAAO,EAAE3I,EAAE,IAAIqd,aAAanb,GAAG+C,EAAE6Q,GAAEjT,EAAElC,GAAE1D,YAAEgI,EAAE,EAAE,EAAE,GAA8B,IAA3B,IAAMrC,EAAEtE,YAAEK,EAAE6vB,YAAY,GAAW7vB,GAAG,EAAEA,EAAEuD,IAAIvD,EAAE,CAAC,IAAMlB,EAAEkB,EAAE,EAAEuD,EAAEvD,EAAEA,EAAEsB,GAAGtB,EAAE,GAAGuD,EAAE,GAAGjF,YAAE4F,EAAExD,EAAE,EAAEY,EAAE,GAAGZ,EAAE,EAAE5B,EAAE,GAAG4B,EAAE,EAAEY,EAAE,GAAGZ,EAAE,EAAE5B,EAAE,GAAG4B,EAAE,EAAEY,EAAE,GAAGZ,EAAE,EAAE5B,EAAE,IAAIG,YAAEiF,EAAEA,GAAGlE,GAAG,EAAE,CAAC,IAAMlB,GAAMgK,KAAK8L,GAAGrW,aAAEwD,YAAEuE,EAAEpC,KAAKpB,GAAvB,EAA0B2G,GAAExF,GAAG5C,EAAErB,GAAG8I,KAAK/C,IAAI+C,KAAKmC,MAAMnM,GAAG,GAAG2D,YAAE6D,EAAEpC,GAAG,GAAGpF,EAAEsE,KAAE0sB,cAAc,CAACptB,KAAK,EAAE6P,KAAKlR,EAAE4tB,UAAU,EAAEC,UAAU,GAAG5tB,EAAE8B,KAAE0sB,cAAcxuB,EAAE8B,KAAEoQ,WAApb,CAA+b9S,EAAEW,EAAEkC,GAAG,IAAI+C,KAAEjF,EAAEkC,EAAE,QAAqS,SAASnB,GAAEpC,EAAElB,EAAEwC,GAAG,IAAD,EAAO3B,EAAE,IAAIsK,MAAb,cAAgDjK,GAAhD,IAAmB,2BAA+B,eAAfzB,EAAe,EAArBgM,MAAc7J,EAAO,EAAbmT,MAAc,KAAGnT,GAAG,GAAN,CAAiB,IAAMV,EAAE,EAAEzB,EAAED,EAAE0B,EAAE,EAAEU,EAAEf,EAAE0K,KAAK,CAAC0J,SAASjV,EAAE+gB,SAAS7f,EAAE1B,GAAG6wB,YAAY7tB,EAAEA,EAAEue,SAAS7f,EAAE1B,QAAG,MAAvJ,8BAAgK,OAAOqB,EAAsP,SAAS8J,GAAEzJ,GAAG,OAAO,UAAU,UAAU8I,KAAKinB,IAAI,EAAE/vB,EAAE,QAAQ,UAAU,IAAMmX,GAAEzW,cAAIsB,GAAEtB,cAAIoC,GAAE,EAAEgG,KAAK8L,G,wCCAr7FtW,G,WAAE,WAAYQ,GAAE,oBAACoB,KAAK8vB,gBAAgBlxB,EAAEoB,KAAK+vB,WAAW,KAAK/vB,KAAKgwB,UAAS,EAAGhwB,KAAKiwB,WAAU,E,2CAAG,WAAUjwB,KAAKkwB,sB,qBAAoB,WAAgB,OAAO7xB,YAAE2B,KAAK+vB,YAAY/vB,KAAK+vB,WAAWI,SAAS,O,mBAAK,WAAc,OAAOnwB,KAAKgwB,U,IAAS,SAAYpxB,GAAGA,IAAIoB,KAAKgwB,WAAWhwB,KAAKgwB,SAASpxB,EAAEoB,KAAKowB,+B,oBAA6B,WAAe,OAAOpwB,KAAKiwB,W,IAAU,SAAarxB,GAAGA,IAAIoB,KAAKiwB,YAAYjwB,KAAKiwB,UAAUrxB,EAAEoB,KAAKqwB,+B,sBAA6B,WAAWrwB,KAAKswB,UAAUtwB,KAAKuwB,qB,8BAAmB,WAAmBvwB,KAAK8vB,gBAAgBU,iBAAiBzxB,YAAEiB,KAAK+vB,cAAc/vB,KAAKywB,gCAAgCzwB,KAAK8vB,gBAAgBU,iBAAiBxwB,KAAK+vB,WAAWI,UAAUnwB,KAAKowB,6BAA6BpwB,KAAK0wB,a,uCAAW,WAA4B1wB,KAAKiwB,UAAUlxB,YAAEiB,KAAK+vB,aAAa/vB,KAAKuwB,mBAAmBvwB,KAAKkwB,sB,8BAAoB,WAAmB,IAAItxB,EAAEoB,KAAKkwB,oBAAoB,IAAM7xB,EAAE2B,KAAK8vB,gBAAgBa,kBAAkB3wB,KAAK+vB,WAAW,CAACnD,UAAU,IAAIvpB,GAAE,CAAChC,KAAKrB,KAAK8vB,gBAAgBzuB,OAAO8uB,SAAS9xB,EAAEuyB,iBAAgB,GAAI5wB,KAAKowB,4BAA4B,IAAMrxB,EAAE,OAAOH,EAAEoB,KAAK8vB,gBAAgBzuB,KAAKwvB,qBAAgB,EAAOjyB,EAAEkyB,eAAe/xB,GAAGA,EAAEgyB,oBAAoB/wB,KAAK+vB,WAAWnD,a,+BAAW,WAAoB,IAAIhuB,EAAE,IAAGG,YAAEiB,KAAK+vB,YAAV,CAA6B/vB,KAAKywB,gCAAgC,IAAMpyB,EAAE,OAAOO,EAAEoB,KAAK8vB,gBAAgBzuB,KAAKwvB,qBAAgB,EAAOjyB,EAAEkyB,eAAezyB,GAAGA,EAAE2yB,sBAAsBhxB,KAAK+vB,WAAWnD,WAAW5sB,KAAK+vB,WAAW,Q,uCAAK,WAA4B/vB,KAAKgwB,SAAShwB,KAAKixB,8BAA8BjxB,KAAKywB,kC,2CAAgC,WAAgC,IAAI7xB,GAAKG,YAAEiB,KAAK+vB,aAAa,OAAOnxB,EAAEoB,KAAK8vB,gBAAgBzuB,OAAQzC,EAAEiyB,gBAA0B7wB,KAAK+vB,WAAWa,kBAAuB5wB,KAAK8vB,gBAAgBzuB,KAAKwvB,eAAeC,eAAejE,SAASqE,iBAAiBlxB,KAAK+vB,WAAWI,SAASgB,WAAWnxB,KAAK+vB,WAAWnD,UAAU,GAAG5sB,KAAK+vB,WAAWa,iBAAgB,K,yCAAG,WAAiC7xB,YAAEiB,KAAK+vB,aAAsB/vB,KAAK+vB,WAAWa,kBAAuB5wB,KAAK8vB,gBAAgBzuB,KAAKwvB,eAAeC,eAAejE,SAASuE,cAAcpxB,KAAK+vB,WAAWI,SAASgB,WAAWnxB,KAAK+vB,WAAWnD,UAAU,GAAG5sB,KAAK+vB,WAAWa,iBAAgB,O,KAAQvtB,GAAC,kDAAqB,WAAYzE,GAAE,kCAAC,cAAMA,IAAQkuB,gBAAgB,EAA/B,EAAnC,UAAevqB,aAAE/B,OAAqD5B,YAAE,CAACkB,YAAE,CAAC2D,eAAc,KAAMJ,GAAEM,UAAU,YAAO,GAAQ/E,YAAE,CAACkB,YAAE,CAAC8D,UAAS,KAAMP,GAAEM,UAAU,uBAAkB,GAAQN,GAAEzE,YAAE,CAACwC,YAAE,iCAAiCiC,I,ICA5nDX,G,WAAE,WAAY9D,GAAE,+BAACoB,KAAKqB,KAAK,KAAKrB,KAAKqxB,kBAAkBrtB,YAAE,EAAE,EAAE,EAAE,MAAMhE,KAAKsxB,wBAAuB,EAAGtxB,KAAKR,OAAO,IAAIT,IAAEiB,KAAKuxB,WAAU,EAAGvxB,KAAKwxB,UAAU,KAAKxxB,KAAKyxB,OAAO,EAAEzxB,KAAK0xB,OAAOzyB,aAAE,EAAE,EAAE,EAAE,GAAGe,KAAK2xB,YAAY,EAAE3xB,KAAK4xB,YAAY3yB,aAAE,EAAE,EAAE,EAAE,GAAGe,KAAK6xB,gBAAgB,KAAK7xB,KAAK8xB,iBAAiB,KAAK9xB,KAAK+xB,SAAS,EAAE/xB,KAAKgyB,eAAe,KAAKhyB,KAAKiyB,gBAAgB,KAAKjyB,KAAKkyB,mBAAkB,EAAGlyB,KAAKmyB,gBAAgB,EAAEnyB,KAAKoyB,UAAU,IAAInb,KAAE,CAAC5V,KAAKzC,EAAEyC,KAAKsvB,gBAAgB,SAAA/xB,GAAC,OAAE,EAAK+xB,gBAAgB/xB,IAAG4xB,iBAAiB,SAAC5xB,EAAEkB,GAAH,OAAQlB,EAAEuyB,WAAWrnB,OAAO,EAAE,EAAK0mB,iBAAiB1wB,EAAElB,EAAE4T,SAAS5T,EAAEuyB,YAAYvyB,EAAEuyB,cAAcnxB,KAAKqxB,kBAAkBpvB,iBAAiBrD,EAAEyC,KAAKY,iBAAiBjC,KAAKqyB,gBAAgB,IAAIvpB,GAAE,CAACzH,KAAKzC,EAAEyC,KAAKsvB,gBAAgB,kBAAI,EAAK2B,yBAAwB9B,iBAAiB,SAAA5xB,GAAIA,EAAEuyB,WAAW,EAAKoB,6BAA6B3zB,EAAE4T,UAAU,EAAKggB,6BAA6B,IAAI1yB,GAAE,EAAwC,IAAI,IAAMzB,KAA/C2B,KAAKyyB,WAAW,IAAI3zB,KAAE,CAACuC,KAAKzC,EAAEyC,OAAsBzC,EAAEP,KAAK2B,KAAK,aAAa3B,EAAEyB,EAAElB,EAAEP,GAAG2B,KAAK3B,GAAGO,EAAEP,GAAGsgB,QAAQve,MAAM,8BAA8B/B,GAAG2B,KAAKswB,SAASxwB,E,2CAAE,WAAUE,KAAKoyB,UAAU1G,UAAU1rB,KAAKqyB,gBAAgB3G,UAAU1rB,KAAKyyB,WAAW/G,Y,oBAAU,WAAe,OAAO1rB,KAAKuxB,W,IAAU,SAAa3yB,GAAGA,IAAIoB,KAAKuxB,YAAYvxB,KAAKuxB,UAAU3yB,EAAEoB,KAAK0yB,eAAe1yB,KAAKswB,UAAUtwB,KAAKyyB,WAAWnC,SAAStwB,KAAK2yB,qB,6BAAmB,WAAwB,OAAO3yB,KAAKswB,UAAUtwB,KAAKkB,SAAStC,YAAEoB,KAAKiyB,mBAAmBjyB,KAAK4hB,UAAU5hB,KAAK4yB,mB,mBAAiB,WAAc,OAAO5yB,KAAKoyB,UAAUlxB,S,IAAQ,SAAYtC,GAAGoB,KAAKoyB,UAAUlxB,QAAQtC,EAAEoB,KAAKqyB,gBAAgBnxB,QAAQtC,EAAEoB,KAAKyyB,WAAWnC,SAAStwB,KAAK2yB,oB,oBAAkB,WAAe,OAAO3yB,KAAKoyB,UAAU9B,UAAUtwB,KAAKqyB,gBAAgB/B,U,IAAS,SAAa1xB,GAAGoB,KAAK0yB,eAAe9zB,K,4BAAG,SAAeA,GAAGoB,KAAKoyB,UAAU9B,UAAUtwB,KAAK4hB,UAAUhjB,EAAEoB,KAAKqyB,gBAAgB/B,SAAStwB,KAAK4hB,UAAUhjB,EAAEoB,KAAKyyB,WAAWnC,SAAStwB,KAAK2yB,kBAAkB3yB,KAAKswB,UAAUtwB,KAAKwyB,4B,oBAA0B,WAAe,OAAOxyB,KAAKwxB,W,IAAU,SAAa5yB,GAAGoB,KAAKwxB,UAAU5yB,EAAEoB,KAAKoyB,UAAU5B,mBAAmBxwB,KAAKqyB,gBAAgB7B,qB,iBAAmB,WAAY,OAAOxwB,KAAKyxB,Q,IAAO,SAAU7yB,GAAGA,IAAIoB,KAAKyxB,SAASzxB,KAAKyxB,OAAO7yB,EAAEoB,KAAK6yB,oB,iBAAkB,WAAY,OAAO7yB,KAAK0xB,Q,IAAO,SAAU9yB,GAAG6D,YAAE7D,EAAEoB,KAAK0xB,UAAUnvB,YAAEvC,KAAK0xB,OAAO9yB,GAAGoB,KAAK6yB,oB,sBAAkB,WAAiB,OAAO7yB,KAAK2xB,a,IAAY,SAAe/yB,GAAGA,IAAIoB,KAAK2xB,cAAc3xB,KAAK2xB,YAAY/yB,EAAEoB,KAAK6yB,oB,sBAAkB,WAAiB,OAAO7yB,KAAK4xB,a,IAAY,SAAehzB,GAAG6D,YAAE7D,EAAEoB,KAAK4xB,eAAervB,YAAEvC,KAAK4xB,YAAYhzB,GAAGoB,KAAK6yB,oB,0BAAkB,WAAqB,OAAO7yB,KAAK6xB,iB,IAAgB,SAAmB/xB,GAAG,IAAMzB,EAAEO,YAAEkB,KAAKlB,YAAEoB,KAAK6xB,iBAAiB7xB,KAAK6xB,gBAAgB/xB,EAAEzB,EAAE2B,KAAKoyB,UAAU1B,WAAW1wB,KAAK6yB,mB,2BAAiB,WAAsB,OAAO7yB,KAAK8xB,kB,IAAiB,SAAoBlzB,GAAGA,GAAGoB,KAAK8xB,kBAAkBrvB,YAAE7D,EAAEoB,KAAK8xB,oBAAoB9xB,KAAK8xB,iBAAiBlzB,EAAEsX,aAAEtX,GAAG,KAAKoB,KAAK6yB,oB,mBAAkB,WAAc,OAAO7yB,KAAK+xB,U,IAAS,SAAYnzB,GAAGA,IAAIoB,KAAK+xB,WAAW/xB,KAAK+xB,SAASnzB,EAAEoB,KAAK6yB,oB,yBAAkB,WAAoB,OAAO7yB,KAAKgyB,gB,IAAe,SAAkBpzB,GAAGoB,KAAKgyB,eAAepzB,EAAEoB,KAAKoyB,UAAU5B,qB,0BAAmB,WAAqB,OAAOxwB,KAAKiyB,iB,IAAgB,SAAmBnyB,GAAGE,KAAKiyB,gBAAgBnyB,EAAEE,KAAKyyB,WAAWnC,SAAStwB,KAAK2yB,kBAAkB/zB,YAAEkB,KAAKE,KAAKyyB,WAAWrhB,MAAMtR,K,4BAAG,WAAuB,OAAOE,KAAKkyB,mB,IAAkB,SAAqBtzB,GAAGoB,KAAKkyB,oBAAoBtzB,IAAIoB,KAAKkyB,kBAAkBtzB,EAAEoB,KAAKyyB,WAAWnC,SAAStwB,KAAK2yB,qB,0BAAmB,WAAqB,OAAO3yB,KAAKmyB,iB,IAAgB,SAAmBvzB,GAAGA,IAAIoB,KAAKmyB,kBAAkBnyB,KAAKmyB,gBAAgBvzB,EAAEoB,KAAK6yB,oB,4BAAkB,WAAuB,IAAI7yB,KAAKsxB,uBAAuB,OAAOtxB,KAAKqxB,kBAAkB,IAAMhzB,EAAEO,YAAEoB,KAAKoyB,UAAUA,WAAWpyB,KAAKoyB,UAAUA,UAAUjB,WAAW,KAAK,IAAI9yB,GAAG,IAAIA,EAAEyL,OAAO,OAAO,KAAK1L,YAAEgI,GAAE,EAAE,EAAE,GAAG,IAAvL,EAA6LrH,EAAEoD,KAAEmR,SAAa9S,EAAE,EAAhN,cAAiOnC,GAAjO,IAAkN,2BAAiB,KAAPO,EAAO,QAAOP,EAAEO,EAAE2U,aAAaxU,GAAGX,EAAEQ,EAAEyU,WAAWtU,GAAGqC,EAAEtB,YAAEE,KAAKoyB,UAAUA,WAAW5f,SAASsgB,SAASz0B,EAAEgU,KAAKjU,GAAGyD,aAAExD,EAAED,EAAEgD,EAAEmG,MAAK9H,YAAE2G,GAAEA,GAAEmB,IAAG/G,MAAhW,8BAAqW,OAAO,IAAIA,EAAE,MAAMY,YAAEgF,GAAEA,GAAE,EAAE5F,GAAGR,KAAKqB,KAAK0xB,mBAAmBC,iBAAiB5sB,GAAEpG,KAAKqxB,mBAAmBrxB,KAAKsxB,wBAAuB,EAAGtxB,KAAKqxB,qB,4BAAmB,WAAiBzyB,YAAEoB,KAAKoyB,UAAUA,YAAYpyB,KAAKoyB,UAAUA,UAAU5f,SAAStC,mBAAmBlQ,KAAKizB,oBAAoBr0B,YAAEoB,KAAKqyB,gBAAgBD,YAAYpyB,KAAKqyB,gBAAgBD,UAAU5f,SAAStC,mBAAmBlQ,KAAKizB,sB,oBAAoB,WAAe,OAAOr0B,YAAEoB,KAAKD,WAAW,YAAYC,KAAKD,SAASuB,O,8BAAK,WAAyB,MAAM,CAACkN,MAAMxO,KAAKyxB,OAAO/hB,MAAM1P,KAAK0xB,OAAOphB,gBAAgBtQ,KAAK8xB,iBAAiBzhB,eAAerQ,KAAK6xB,gBAAgBiB,SAAS9yB,KAAK8yB,SAASviB,QAAQvQ,KAAK+xB,SAASthB,WAAWzQ,KAAK4xB,YAAYphB,WAAWxQ,KAAK2xB,YAAY1iB,KAAK,QAAQikB,uBAAsB,EAAGzR,eAAc,EAAG5R,eAAe7P,KAAKmzB,4B,oCAA0B,WAA+B,OAAOnzB,KAAK4hB,UAAU,IAAI5hB,KAAKmyB,gBAAgB,EAAEnyB,KAAKmyB,kB,8BAAgB,SAAiBvzB,EAAEkB,EAAEzB,GAAG,IAAD,EAAOU,EAAEiB,KAAKozB,yBAAd,cAAsDr0B,GAAtD,IAAuC,gCAAUyB,EAAV,QAAiB5B,EAAE8f,YAAYle,EAAEV,GAAGzB,EAAE8L,KAAK3J,IAAlF,8BAAqFR,KAAKwyB,4B,qCAA0B,WAA0BxyB,KAAKsxB,wBAAuB,EAAGtxB,KAAKR,OAAOsB,KAAK,+B,6BAA6B,SAAgBlC,GAAG,IAAMkB,EAAE,IAAIS,KAAEP,KAAKizB,mBAAmB,qBAAqB50B,EAAE,GAAG,OAAO2B,KAAKwwB,iBAAiB5xB,EAAEkB,EAAEzB,GAAG,CAACmU,SAAS1S,EAAEqxB,WAAW9yB,EAAE0P,QAAQ,SAAAnP,GAAIA,EAAEkB,GAAGzB,EAAE0P,QAAQnP,O,mCAAK,WAAwB,IAAMA,EAAE,IAAI2B,KAAEP,KAAKizB,mBAAmB,qBAAqB,MAAM,CAACzgB,SAAS5T,EAAEuyB,WAAWnxB,KAAKuyB,6BAA6B3zB,M,0CAAI,SAA6BA,GAAG,IAAMkB,EAAEE,KAAKD,SAAS,GAAG1B,YAAEyB,GAAG,MAAM,GAAG,IAAxC,EAA8Cf,EFApkH,SAAWe,EAAElB,GAAsJ,IAA7I,IAAAwC,EAAE,YAAYtB,EAAEwB,KAAK,EAAE,EAAvB,EAAsFH,GAA3D,YAAYrB,EAAEwB,KAAKxB,EAAEuzB,MAAMvzB,EAAEwzB,OAAkC,EAAGlyB,GAArB/C,EAAxE,EAA+DwV,SAAoBrT,EAAnF,EAA0EuT,SAAsB3V,EAAEiF,YAAEhF,EAAEyB,EAAEmC,iBAAiB,EAAE5D,EAAEO,EAAE,EAAEP,EAAEyL,OAAO,GAAWhK,EAAE,EAAEA,EAAEzB,EAAEyL,OAAOhK,GAAG,EAAEzB,EAAEyB,IFAw9T,EEAn9T,MAAM,CAACyzB,MAAMn1B,EAAE8D,GAAE1B,EAAEnC,GAAG,GAAGm1B,kBAAkBp1B,GEAq1G+E,CAAErD,EAAEE,KAAKqB,KAAKwvB,eAAe5uB,kBAAkBzB,EAAE,GAAjG,cAA4HzB,EAAEw0B,OAA9H,IAAoG,2BAAgC,KAAbzzB,EAAa,QAAtB+T,SAA6BxV,EAAE,CAACwwB,cAAc,CAAChb,SAAS/T,GAAGgvB,wBAAwB9uB,KAAK8yB,SAAS,EAAE,GAAG/zB,EAAE,IAAIsK,GAAEvB,GAAEzJ,IAAIU,EAAEyT,SAAS5T,EAAE,IAAMa,EAAEyD,YAAEqG,IAAGlG,YAAE5D,EAAEK,GAAG1B,YAAEW,EAAEmI,OAAO,IAAIzH,EAAE,GAAGA,EAAE,IAAI,IAAIA,EAAE,GAAGA,EAAE,IAAI,GAAGV,EAAE0T,SAAS,GAAG7J,KAAKC,MAAMpJ,EAAE,GAAGA,EAAE,KAAKA,EAAE,GAAGA,EAAE,KAAKA,EAAE,GAAGA,EAAE,KAAKA,EAAE,GAAGA,EAAE,KAAKe,EAAE2J,KAAKpL,IAA/X,8BAAkY,OAAOyB,I,gCAAE,SAAmB5B,GAAG,GAAGP,YAAE2B,KAAKoyB,UAAUA,WAAW,OAAM,EAAG,IAAzC,EAA+CtyB,EAAEE,KAAKqB,KAAK0xB,mBAA3D,cAA6F/yB,KAAKoyB,UAAUA,UAAUjB,YAAtH,IAA8E,2BAAmD,KAAOpyB,EAAP,QAAWsT,KAAKkB,aAAa,YAAY/S,EAAEzB,EAAEsT,KAAKjU,EAAE,IAAIqV,aAAajT,EAAEsJ,QAAQ3I,YAAEpC,EAAEsT,KAAKvS,EAAEmC,iBAAiB,EAAE7D,EAAE4B,KAAKqB,KAAKY,iBAAiB,EAAEzB,EAAEsJ,OAAO,GAAGzG,YAAEzE,EAAER,IAA7R,8BAAgS,OAAM,I,oCAAG,WAAyB,IAAMQ,EAAEoB,KAAKD,SAAS,GAAG1B,YAAEO,GAAG,MAAM,GAAG,IAAxC,EAA8CkB,EFA5vJ,SAAWA,EAAElB,EAAEwC,EAAE3B,GAAS,IAAApB,EAAE,YAAYyB,EAAEwB,KAAK,EAAE,EAAvB,EAAsFH,GAA3D,YAAYrB,EAAEwB,KAAKxB,EAAEuzB,MAAMvzB,EAAEwzB,MAAkCxzB,EAAE2zB,KAAKp1B,GAAzBD,EAAxE,EAA+DyV,SAAoB9U,EAAnF,EAA0EgV,SAA0BlS,EAAE,IAAI4R,aAAarV,EAAE0L,QAAQvH,EAAEyB,aAAE5F,EAAE0B,EAAEmC,iBAAiB,EAAEJ,EAAE,EAAEzD,EAAE,EAAEA,EAAE0L,OAAO,EAAElL,EAAEwC,EAAE3B,GAAG4D,EAAE,MAAMd,EAAE,MAAM,CAACgxB,MAAMlwB,EAAEnB,GAAEnD,EAAEX,EAAEyD,GAAG,GAAG2xB,kBAAkBnwB,EAAEqwB,iBAAiBnxB,GEAo+I7B,CAAE9B,EAAEoB,KAAKqB,KAAKsyB,kBAAkB3zB,KAAKqB,KAAK0xB,mBAAmB7wB,KAAE0xB,kBAAkB5zB,KAAKM,gBAAgBvB,EAAE,GAAGyB,EAAE,GAA7J,cAAsMV,EAAEyzB,OAAxM,IAAgK,2BAA8C,eAA3B30B,EAA2B,EAApCiV,SAAkIzV,EAAE0J,GAAvF,CAAC+mB,cAAc,CAAChb,SAASjV,EAAEqwB,YAApC,EAAzBA,aAA4EH,wBAAwB9uB,KAAK8yB,SAAS,EAAE,IAAU/zB,EAAEoL,KAAK,IAAIpH,KAAE3E,EAAE,iCAAiCoC,EAAE2J,KAAKvL,IAA1W,8BAA6W,OAAOoB,KAAKyyB,WAAWoB,kBAAkBrzB,EAAEzB,M,KAASwK,GAAExF,cAAIwD,GAAE/G,cAAI4F,GAAE5F,c,oBCApsOf,c,oCCA4P0C,G,uKAAY,SAAkBvD,GAAG,IAAMP,EAAE8D,EAAEqa,OAAOpO,MAAM5N,EAAER,KAAK6f,cAAc/f,EAAEzB,EAAEiO,MAAM,CAAChO,OAAOkC,EAAElC,OAAOyhB,kBAAkBvf,EAAEuf,kBAAkBC,uBAAuBxf,EAAEwf,uBAAuBC,+BAA8B,EAAGrT,kBAAkBpM,EAAEoM,kBAAkBC,eAAerM,EAAEqM,eAAeX,WAAW,IAAI1L,EAAEsf,uBAAuB,OAAO,IAAIrgB,KAAEb,EAAEugB,KAAKrf,EAAEqgB,eAAe,UAAUrgB,EAAEqgB,eAAe,YAAYrX,M,sBAAG,SAASlK,EAAEP,EAAEmC,GAAE,MAA6CR,KAAK6f,cAAzB/f,EAAzB,EAAO8M,kBAAmCxL,EAA1C,EAA2ByL,eAA4C9N,EAAoCV,EAA1CqR,MAAoBjQ,EAAsBpB,EAAlCy1B,YAA+B11B,EAAGC,EAApB01B,iBAAsBxxB,KAAEge,qBAAqBvgB,KAAKwgB,QAAQhgB,EAAE+C,OAAO8J,kBAAkBrN,KAAKwgB,QAAQI,cAAc,QAAQ7hB,GAAGqC,IAAIpB,KAAKwgB,QAAQI,cAAc,cAAc5gB,KAAKg0B,WAAW/c,GAAExX,EAAEV,IAAIiB,KAAKwgB,QAAQ6I,cAAc,mBAAmBjrB,GAAG4B,KAAKwgB,QAAQrT,oBAAoB,aAAa3M,EAAE+C,OAAOyd,6BAA6BlhB,GAAGY,KAAE8L,iBAAiBxM,KAAKwgB,QAAQniB,EAAEmC,K,wBAAG,SAAW5B,EAAEP,EAAEmC,GAAG,IAAMV,EAAE,EAAEzB,EAAE,GAAG+C,EAAE/C,EAAE,GAAGmC,EAAE,GAAGV,EAAE,OAAO,IAAIsB,GAAGxC,EAAE,GAAGwC,EAAExC,IAAIA,EAAE,IAAIP,EAAE,GAAGA,EAAE,GAAGmC,EAAE,GAAGA,EAAE,GAAGV,GAAGsB,EAAExC,EAAE,IAAIP,EAAE,GAAGA,EAAE,GAAGmC,EAAE,GAAGA,EAAE,GAAGV,GAAGsB,EAAExC,EAAE,IAAIP,EAAE,GAAGA,EAAE,GAAGmC,EAAE,GAAGA,EAAE,GAAGV,GAAGsB,EAAExC,EAAE,GAAG4B,EAAE,GAAG5B,K,sBAAG,SAASA,GAAG2D,KAAEue,SAAS9gB,KAAKwgB,QAAQ5hB,GAAG2D,KAAEwe,gBAAgB/gB,KAAKwgB,QAAQ5hB,EAAE+H,OAAO/H,EAAE2E,OAAOyd,4BAA4Bhd,KAAEkd,uBAAuBlhB,KAAKwgB,QAAQxgB,KAAK6f,cAAcjhB,K,8BAAG,SAAiBA,GAAG,IAAqTwC,EAA/S/C,EAAE2B,KAAK6f,cAAcrf,EAAE,IAAI5B,EAAEkB,EAAE,IAAIlB,EAAE,OAAOR,aAAE,CAAC+iB,SAAS,IAAI9iB,EAAEC,QAAQ,IAAID,EAAEC,SAASD,EAAE8R,YAAY,KAAK3P,EAAEiC,KAAEP,aAAEtD,GAAGq1B,SAAS7yB,EAAE/C,EAAE61B,SAAS,IAAI9yB,GAAG,CAAC+yB,KAAK,IAAI/yB,EAAE,KAAK,KAAKT,KAAK,OAAOygB,UAAU,CAACC,KAAKvhB,EAAE,IAAIzB,EAAEwO,eAAe,IAAI,KAAKyU,WAAW9gB,EAAEnC,EAAEkjB,YAAYpgB,KAAE4C,aAAEnF,GAAG4iB,WAAWte,KAAEue,cAAcjhB,GAAGV,EAAE,KAAKuD,S,gCAAU,WAAqB,OAAOrD,KAAK2hB,iBAAiB3hB,KAAK6f,cAAcC,0B,GAAvlDhgB,MAA8mDqC,GAAEqa,OAAO,IAAIhc,KAAEqB,MAAG,kBAAI,oC,IAAgDC,G,kDAAY,aAAa,kCAAC,eAASoW,YAAgB5Z,OAAO,EAAE,EAAK41B,SAAS,EAAE,EAAKnU,mBAAkB,EAAG,EAAKC,wBAAuB,EAAG,EAAK7P,aAAY,EAAG,EAAKoR,YAAW,EAAG,EAAK3U,mBAAkB,EAAG,EAAKC,gBAAe,EAAG,EAAKiT,qBAAqB,EAA9N,E,UAAf1e,MAAgPxC,YAAE,CAACG,aAAE,CAAC4U,MAAM,KAAK7R,GAAE6B,UAAU,cAAS,GAAQ/E,YAAE,CAACG,aAAE,CAAC4U,MAAM,KAAK7R,GAAE6B,UAAU,gBAAW,GAAQ/E,YAAE,CAACG,gBAAK+C,GAAE6B,UAAU,yBAAoB,GAAQ/E,YAAE,CAACG,gBAAK+C,GAAE6B,UAAU,8BAAyB,GAAQ/E,YAAE,CAACG,gBAAK+C,GAAE6B,UAAU,mBAAc,GAAQ/E,YAAE,CAACG,gBAAK+C,GAAE6B,UAAU,kBAAa,GAAQ/E,YAAE,CAACG,gBAAK+C,GAAE6B,UAAU,yBAAoB,GAAQ/E,YAAE,CAACG,gBAAK+C,GAAE6B,UAAU,sBAAiB,GAAQ/E,YAAE,CAACG,aAAE,CAAC4U,MAAM,KAAK7R,GAAE6B,UAAU,4BAAuB,GAAQ,IAAMpD,GAAY,WAAZA,GAA8B,SAA9BA,GAA8C,SAAUuI,GAAE,CAAC+K,SAAS,EAAE5N,OAAO,EAAExF,OAAO,GAAGwW,GAAE5Y,c,wCCAt7E4M,G,kDAAY,WAAYrM,EAAEkB,GAAE,kCAAC,cAAMA,EAAElB,EAAE6J,KAAQ2rB,eAAc,EAAG,EAAKC,gBAAgB,IAAInyB,GAAE,EAAKoyB,0BAA0B5zB,GAA9F,E,sDAAgG,SAAmB9B,EAAEkB,GAAG,OAAOE,KAAKq0B,gBAAgB/1B,OAAOM,EAAEoB,KAAKq0B,gBAAgBH,SAASl0B,KAAK+hB,OAAOmS,SAASl0B,KAAKq0B,gBAAgBtU,kBAAkB/f,KAAK+hB,OAAOhC,kBAAkB/f,KAAKq0B,gBAAgBlkB,YAAYnQ,KAAK+hB,OAAO5R,YAAYnQ,KAAKq0B,gBAAgB9S,WAAWvhB,KAAK+hB,OAAOR,WAAWvhB,KAAKq0B,gBAAgBznB,kBAAkB5M,KAAK+hB,OAAOnV,kBAAkB5M,KAAKq0B,gBAAgBxnB,eAAe7M,KAAK+hB,OAAOlV,eAAe7M,KAAKq0B,gBAAgBvU,qBAAqBhgB,EAAEA,EAAEggB,qBAAqB,EAAE9f,KAAKq0B,kB,+BAAgB,WAAoB,OAAOr0B,KAAK+hB,S,uBAAO,SAAUnjB,EAAEkB,EAAE1B,EAAEmE,EAAEc,EAAEZ,EAAEuB,GAAE,WAAC,GAAGhE,KAAK+hB,OAAOnV,kBAAkB,CAAC,IAAMxO,EAAEQ,EAAE2U,aAAazR,IAAUD,EAAE,CAAC0yB,cAAc,SAAC31B,EAAEkB,EAAEL,EAAE2B,GAAK,IAAMiC,EAAEhF,YAAEkC,GAAEnC,EAAEiU,KAAK,EAAEjR,EAAE,GAAGhD,EAAEiU,KAAK,EAAEjR,EAAE,GAAGhD,EAAEiU,KAAK,EAAEjR,EAAE,IAAIqB,EAAEpE,YAAEY,GAAEL,EAAEkB,EAAEL,GAAG,OAAOe,YAAE6C,EAAEA,EAAE,EAAK0e,OAAOpV,WAAWpK,EAAEgB,OAAOixB,yBAAyBnxB,IAAItE,YAAE0D,EAAEA,EAAEY,GAAG,CAACZ,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAKgyB,YAAY,SAAA71B,GAAI,IAAMkB,EAAEL,YAAEb,EAAE2B,IAAG,OAAOa,YAAExC,EAAE,EAAKmjB,OAAOpV,WAAWpK,EAAEgB,OAAOixB,yBAAyB10B,MAAMqB,aAAEvC,EAAEkB,EAAEyC,EAAEc,EAAEZ,EAAEZ,EAAEmC,QAAQ7C,aAAEvC,EAAEkB,EAAEyC,EAAEc,EAAEZ,OAAE,EAAOuB,K,2BAAG,SAAcpF,GAAG,OAAO,IAAIA,EAAEN,QAAQ,IAAIM,EAAEN,QAAQ,IAAIM,EAAEN,OAAO,IAAI4G,GAAEtG,QAAG,I,gCAAO,WAAqB,OAAO,IAAIkK,GAAE9I,KAAK+hB,OAAOnV,uB,GAAltC5I,MAA4uCkB,G,kDAAY,WAAYtG,GAAE,kCAAC,cAAMA,IAAQ2e,mBAAf,E,oDAAkC,SAAiB3e,GAAGoB,KAAK8b,UAAU9b,KAAKkd,aAAa2E,0BAA0B5K,GAAEjX,KAAKwS,SAASsP,mBAAmB9hB,KAAK1B,OAAOM,GAAGoB,KAAK8b,a,uBAAW,SAAUld,GAAG,GAAG,IAAIoB,KAAK1B,OAAO,OAAO,IAAIM,EAAE,IAAIkB,EAAE,EAAE,OAAOE,KAAK8b,UAAU+D,cAAc1P,cAAcrQ,EAAEE,KAAK8b,UAAU+D,cAAc0B,WAAW,EAAE,GAAG3iB,IAAIkB,I,8BAAE,SAAiBlB,GAAGoB,KAAKud,iBAAiB3e,K,kBAAG,SAAKA,EAAEkB,GAAGlB,EAAE2jB,YAAYviB,KAAK8b,UAAU0E,SAASxgB,KAAK8b,UAAU0G,SAAS5jB,EAAEoB,KAAKwS,SAASkiB,oBAAoB50B,O,GAAxf2C,MAAkgBgG,GAAC,aAAEiH,MAAM,CAAC,EAAE,EAAE,EAAE,GAAGokB,YAAY,CAAC,EAAE,EAAE,EAAE,KAAKC,iBAAiBj0B,YAAElB,cAAI,CAAC,IAAI,IAAI,KAAKuR,aAAY,EAAGoR,YAAW,EAAGxB,mBAAkB,EAAGmU,SAAS,EAAEtnB,mBAAkB,EAAGD,WAAW,GAAGE,gBAAe,GAAMhL,MAASiH,G,WAAE,WAAYlK,GAAE,oBAACoB,KAAK4M,kBAAkBhO,EAAE,IAAMkB,EAAEyC,eAAIoyB,MAAM7yB,IAAY6yB,MAAM7yB,IAAU9B,KAAK4M,mBAAmB9M,EAAE60B,MAAM7yB,IAAU9B,KAAKokB,mBAAmBtkB,E,4CAAE,SAASlB,GAAG,OAAOoB,KAAKokB,mBAAmBwQ,aAAah2B,K,0BAAG,SAAaA,GAAG,OAAOA,EAAEuM,QAAQrJ,IAAYgI,S,mBAAO,SAAMlL,EAAEkB,EAAEzB,EAAEmC,GAAG,GAAG0C,aAAEpD,EAAEE,KAAKokB,mBAAmBxlB,EAAEsH,eAAetH,EAAE2mB,wBAAwBlnB,EAAEmC,GAAGR,KAAK4M,kBAAkB,CAAC,KAAK9K,MAAYhC,EAAE0T,YAAY,MAAM,IAAIqhB,MAAJ,UAAa/yB,GAAb,yEAA8F,IAAM/C,EAAEe,EAAE0T,WAAW1R,IAAUrC,EAAEK,EAAEqL,QAAQrJ,IAAUuB,aAAE,IAAItE,EAAEyD,MAAM,IAAMpB,EAAE/C,EAAEy2B,SAAShzB,GAAS1D,MAAG,IAAIgD,EAAE,MAAM,IAAIyzB,MAAM,8BAA8B/yB,IAAUiC,aAAEtE,EAAEV,EAAEsT,KAAKzT,EAAE2mB,wBAAwBnkB,EAAEZ,Q,KAAYD,GAAE3B,cAAIK,GAAEL,cCA72FmF,G,kDAAY,WAAYnF,GAAE,kCAAC,cAAMA,IAAQyC,KAAK,KAAK,EAAK8wB,gBAAgB,EAAE,EAAK4C,UAAU,KAAK,EAAKC,kBAAkB,KAAK,EAAKtD,OAAOxuB,EAAE+xB,YAAY/xB,EAAE+O,oBAAoBvT,OAAOgR,OAAO,EAAKgQ,MAAMxc,EAAE+O,oBAAoBvT,OAAO8D,KAAK,EAAK0yB,cAAchyB,EAAE+xB,YAAY/xB,EAAE+O,oBAAoBvT,OAAOsR,cAAc,EAAKmlB,aAAajyB,EAAE+O,oBAAoBvT,OAAOoR,YAAY,EAAKkiB,eAAe,KAAK,EAAKoD,WAAWx2B,GAA3X,E,gDAA8X,WAAqB,OAAOoB,KAAKmyB,iB,IAAgB,SAAmBvzB,GAAGA,IAAIoB,KAAKmyB,kBAAkBnyB,KAAKmyB,gBAAgBvzB,EAAEoB,KAAK6yB,iBAAiB7yB,KAAKq1B,2B,oBAAyB,WAAe,OAAOr1B,KAAK+0B,W,IAAU,SAAan2B,GAAGoB,KAAK+0B,UAAUn2B,EAAEoB,KAAKwwB,qB,4BAAmB,WAAuB,OAAOxwB,KAAKg1B,mB,IAAkB,SAAqBp2B,GAAGoB,KAAKg1B,kBAAkBp2B,EAAEoB,KAAKwwB,qB,iBAAmB,WAAY,OAAOxwB,KAAK0xB,Q,IAAO,SAAU9yB,GAAG4B,YAAE5B,EAAEoB,KAAK0xB,UAAU3yB,YAAEiB,KAAK0xB,OAAO9yB,GAAGoB,KAAK6yB,oB,gBAAkB,WAAW,OAAO7yB,KAAK0f,O,IAAM,SAAS9gB,GAAGA,IAAIoB,KAAK0f,QAAQ1f,KAAK0f,MAAM9gB,EAAEoB,KAAK6yB,oB,wBAAkB,WAAmB,OAAO7yB,KAAKk1B,e,IAAc,SAAiBt2B,GAAG4B,YAAE5B,EAAEoB,KAAKk1B,iBAAiBn2B,YAAEiB,KAAKk1B,cAAct2B,GAAGoB,KAAKq1B,2B,uBAAyB,WAAkB,OAAOr1B,KAAKm1B,c,IAAa,SAAgBv2B,GAAGA,IAAIoB,KAAKm1B,eAAen1B,KAAKm1B,aAAav2B,EAAEoB,KAAKq1B,2B,yBAAyB,WAAoB,OAAOr1B,KAAKgyB,gB,IAAe,SAAkBpzB,GAAGoB,KAAKgyB,eAAepzB,EAAEoB,KAAKwwB,qB,oCAAmB,WAA+B,MAAM,CAAC9gB,MAAM1P,KAAK0xB,OAAOvhB,YAAYnQ,KAAK0xB,OAAO,GAAG,EAAE/kB,WAAW3M,KAAKwC,KAAKqN,eAAe7P,KAAKmyB,mB,2CAAiB,WAAsC,MAAM,CAACziB,MAAM1P,KAAKk1B,cAAc/kB,YAAYnQ,KAAKk1B,cAAc,GAAG,EAAEvoB,WAAW3M,KAAKwC,KAAK,EAAExC,KAAK8P,YAAYD,eAAe7P,KAAKmyB,mB,4BAAiB,WAAiBnyB,KAAKswB,UAAUtwB,KAAKs1B,eAAeplB,mBAAmBlQ,KAAKu1B,4B,mCAA0B,WAAwBv1B,KAAKswB,UAAUtwB,KAAKw1B,sBAAsBtlB,mBAAmBlQ,KAAKy1B,mC,oCAAiC,WAAyB,IAAM31B,EAAEE,KAAK01B,SAAS,GAAG92B,YAAEkB,IAAI,IAAIA,EAAEgK,OAAO,MAAM,GAAyK,IAAtK,IAAMtJ,EHAvrC,SAAW5B,EAAEkB,EAAEzB,EAAEoB,EAAE2B,GAAG,IAAMZ,EAAE,IAAIiT,aAAa,EAAE7U,EAAEkL,QAAQ/K,EAAE,IAAI0U,aAAajT,EAAEsJ,QAAQlL,EAAEmP,SAAS,SAACnP,EAAEkB,GAAKU,EAAE,EAAEV,EAAE,GAAGlB,EAAE,GAAG4B,EAAE,EAAEV,EAAE,GAAGlB,EAAE,GAAG4B,EAAE,EAAEV,EAAE,GAAGlB,EAAEkL,OAAO,EAAElL,EAAE,GAAG,KAAK,IAAMR,EAAE2F,aAAEvD,EAAEV,EAAE,EAAEf,EAAE,EAAEyB,EAAE,EAAEA,EAAEsJ,OAAO,EAAEzL,EAAEoB,EAAE2B,GAAGmB,EAAE,MAAMnE,EAAE,MAAM,CAACu3B,YAAY/2B,EAAEkL,OAAO+J,SAASrT,EAAEyuB,YAAYlwB,EAAEy0B,kBAAkBjxB,EAAEmxB,iBAAiBt1B,GGAs4BqB,CAAEK,EAAEE,KAAKiC,iBAAiBjC,KAAKqB,KAAKsyB,kBAAkB3zB,KAAKqB,KAAK0xB,mBAAmB3xB,KAAEwyB,kBAAkB5zB,KAAKM,gBAAgBvB,EAAE,GAAGX,EAAEoC,EAAEm1B,YAAYtyB,EAAE7C,EAAEqT,SAAiBjV,EAAE,EAAEA,EAAER,IAAIQ,EAAE,CAAC,IAAMkB,EAAEzB,YAAE2F,GAAEX,EAAE,EAAEzE,EAAE,GAAGyE,EAAE,EAAEzE,EAAE,GAAGyE,EAAE,EAAEzE,EAAE,IAAI4B,EAAE,IAAIW,KAAEZ,GAAE,GAAG,GAAG,GAAGT,GAAG,gCAAgC1B,EAAE,IAAI+C,KAAEZ,GAAE,GAAG,GAAG,GAAGT,GAAG,uCAAuCf,EAAEoL,KAAK,CAACyrB,eAAep1B,EAAEq1B,sBAAsBz3B,IAAI,OAAOW,I,8BAAE,SAAiBH,GAAG,IAAD,EAAOkB,EAAEE,KAAKozB,yBAAd,cAA6FtzB,GAA7F,IAAuC,0CAAyBzB,EAAzB,EAAUu3B,eAAuCp1B,EAAjD,EAA2Bq1B,sBAA6Bj3B,EAAE8f,YAAYrgB,EAAE2B,KAAKs1B,gBAAgB12B,EAAE8f,YAAYle,EAAER,KAAKw1B,wBAAzJ,iC,qCAAgL,WAA0Bx1B,KAAKs1B,eAAe,IAAI7yB,GAAJ,2BAAUzC,KAAKu1B,0BAAf,IAAwChU,YAAW,EAAG2S,SAAS,EAAEtnB,mBAAkB,IAAI,eAAe5M,KAAKw1B,sBAAsB,IAAI/yB,GAAJ,2BAAUzC,KAAKy1B,iCAAf,IAA+CtlB,aAAY,EAAGoR,YAAW,EAAG2S,SAAS,EAAEtnB,mBAAkB,EAAGC,gBAAe,IAAI,yB,sCAAuB,WAA2B7M,KAAKs1B,eAAe,KAAKt1B,KAAKw1B,sBAAsB,O,qCAAK,SAAwB52B,GAAGA,EAAEoB,KAAKs1B,gBAAgB12B,EAAEoB,KAAKw1B,2B,GAAngGnyB,MAAiiGW,GAAElE,cAAI,SAASS,GAAE3B,EAAEkB,EAAEzB,EAAEmC,GAAG,IAAMzB,EAAEX,KAAE03B,qBAAqBl3B,EAAEkB,EAAEzB,EAAE,CAAC2N,WAAW,CAAC6H,SAAStR,GAASwzB,GAAG,QAAQ,OAAOh3B,EAAEoM,QAAQ5I,IAAY,IAAIoI,YAAY5L,EAAEi3B,YAAYj3B,EAAEk3B,iBAAiB1zB,IAAY,CAACC,KAAK,EAAE6P,KAAKoB,aAAaiP,KAAKliB,GAAGuuB,UAAU,EAAEC,UAAU,GAAGjwB,ECA5lF,IAAI2B,GAAC,kDAAkC,WAAY9B,GAAE,kCAAC,cAAMA,IAAQs3B,cAAc,KAAK,EAAKC,eAAe,KAAK,EAAKC,sBAAsB,KAAK,EAAKC,uBAAuB,KAAK,EAAKC,6BAA6B,KAAK,EAAK7C,MAAK,EAAG,EAAK8C,SAAS,EAAE,EAAKj2B,cAAc,KAAK,EAAKk2B,aAAY,EAAG,EAAKC,gBAAgB,IAAI1yB,IAAE,EAAKpD,KAAK,KAAK,EAAK+1B,aAAa,KAAK,EAAKp1B,KAAK,UAAvT,EAAhD,8CAAiX,WAAY,WAAO1C,EAAEkB,YAAEE,KAAKM,cAAc,CAACK,KAAKX,KAAKyzB,KAAK,kBAAkB,gBAAgBhzB,OAAO,IAAIT,KAAK22B,uBAAuB,IAAIp0B,IAAE,CAACjC,cAAc1B,IAAIoB,KAAKqB,KAAKuG,IAAIgvB,OAAOn4B,IAAIuB,KAAK22B,wBAAwB32B,KAAKk2B,cAAc,IAAI7yB,IAAE,CAAChC,KAAKrB,KAAKqB,KAAKw1B,aAAa72B,KAAK62B,aAAaH,aAAaz3B,GAAEe,KAAK02B,cAAcI,YAAY92B,KAAKW,KAAK8yB,KAAKzzB,KAAKyzB,KAAK8C,SAASv2B,KAAKu2B,SAASQ,mBAAmB/2B,KAAKw2B,YAAYQ,oBAAoB,IAAIhzB,IAAEhE,KAAKqB,KAAKzC,EAAE,CAACoB,KAAK22B,yBAAyBM,MAAK,EAAG32B,cAAc1B,EAAE63B,gBAAgBz2B,KAAKy2B,kBAAkBz2B,KAAKk2B,cAAcgB,GAAG,cAAc,SAAAt4B,GAAC,OAAE,EAAKu4B,YAAYv4B,MAAKoB,KAAKk2B,cAAcgB,GAAG,iBAAiB,SAAAt4B,GAAC,OAAE,EAAKw4B,eAAex4B,MAAKoB,KAAKk2B,cAAcgB,GAAG,iBAAiB,SAAAt4B,GAAC,OAAE,EAAKy4B,eAAez4B,MAAKoB,KAAKk2B,cAAcgB,GAAG,iBAAiB,SAAAt4B,GAAC,OAAE,EAAK04B,eAAe14B,MAAKoB,KAAKk2B,cAAcgB,GAAG,YAAY,SAAAt4B,GAAC,OAAE,EAAK24B,WAAW34B,QAA5sC,qBAAitC,WAAUoB,KAAKk2B,cAAcxK,UAAU1rB,KAAKk2B,cAAc,KAAKl2B,KAAKw3B,4BAA4Bx3B,KAAKqB,KAAKuG,IAAInG,OAAOzB,KAAK22B,wBAAwB32B,KAAKE,KAAK,OAAO,QAAp3C,0BAA03C,SAAatB,GAAGoB,KAAKk2B,cAAcuB,aAAa74B,KAA16C,gCAA66C,SAAmBA,GAAO,IAALkB,EAAK,wDAAC,GAAG,MAAME,KAAKk2B,cAAc,OAAO,KAAK,IAAM73B,EAAEmC,YAAE5B,GAAGA,EAAEoB,KAAKk2B,cAAcwB,gBAAgB13B,KAAKk2B,cAAcP,YAAY,EAAE,KAAK52B,EAAEiB,KAAKk2B,cAAcR,SAAS,GAAG,IAAI32B,EAAE+K,OAAO,OAAO,KAAK,IAAM1L,EAAE4B,KAAKk2B,cAAcj0B,iBAAiBxC,EAAEV,EAAEqC,EAAE3B,EAAE2P,QAAQjO,EAAE,GAAGX,YAAEnC,KAAK+C,EAAEu2B,OAAOt5B,EAAE,GAAG8C,EAAEgJ,KAAK1K,EAAEpB,KAAK,IAAMkE,EAAE,CAACq1B,gBAAgB,KAAKC,eAAe,KAAKC,KAAK,KAAKtoB,QAAQ,MAAM/M,EAAE,OAAOzC,KAAKqB,KAAKC,MAAM,WAAWtB,KAAKqB,KAAKyL,YAAY,OAAO9M,KAAK02B,cAAc,IAAI,QAAQn0B,EAAEq1B,gBAAgBx2B,EAAEmB,EAAEs1B,eAAe12B,EAAEoB,EAAEu1B,KAAK93B,KAAKk2B,cAAc6B,iBAAiBC,qBAAqBj5B,EAAE,IAAI,MAAM,IAAI,WAAWwD,EAAEq1B,gBAAgBx2B,EAAEmB,EAAEs1B,eAAe12B,EAAE1B,EAAEqK,OAAO,IAAIvH,EAAEu1B,KAAK30B,YAAE,CAAC1D,GAAGrB,EAAEqE,IAAI,MAAM,IAAI,UAAUF,EAAEq1B,gBAAgBx2B,EAAEmB,EAAEs1B,eAAe12B,EAAE1B,EAAEqK,OAAO,IAAIvH,EAAEu1B,KAAKj2B,YAAE,CAACpC,GAAGrB,EAAEqE,GAAE,IAAK,MAAM,IAAI,SAAS,GAAGhD,EAAEqK,OAAO,EAAE,CAAC,IAAMlL,EAAEuD,YAAEnC,KAAKqB,KAAKtC,EAAE,IAAI,GAAG,IAAIU,EAAEqK,QAAQhK,EAAE,CAAC,IAAMA,EAAEL,EAAE,GAAGe,EAAE5B,EAAEq5B,aAAan4B,EAAE,GAAGgC,GAAE9B,KAAKqB,KAAKqZ,WAAW5a,EAAE,IAAIyC,EAAEu1B,KAAK1zB,YAAE,CAACtE,EAAEU,GAAG5B,GAAE,QAAS,IAAIa,EAAEqK,SAASvH,EAAEu1B,KAAK93B,KAAKk4B,iBAAiB9zB,YAAErF,EAAEH,EAAEoB,KAAKm4B,UAAUp1B,YAAEhE,EAAEH,EAAEoB,KAAKm4B,WAAW,MAAM,IAAI,YAAY,GAAG14B,EAAEqK,OAAO,EAAE,CAAC,IAAMlL,EAAEuD,YAAEnC,KAAKqB,KAAKtC,EAAE,IAAI,GAAG,IAAIU,EAAEqK,QAAQhK,EAAE,CAAC,IAAMA,EAAEL,EAAE,GAAGe,EAAE5B,EAAEq5B,aAAan4B,EAAE,GAAGgC,GAAE9B,KAAKqB,KAAKqZ,WAAW5a,EAAE,IAAIyC,EAAEu1B,KAAKv3B,YAAE,CAACT,EAAEU,GAAG5B,GAAE,QAAS,IAAIa,EAAEqK,SAASvH,EAAEu1B,KAAK93B,KAAKk4B,iBAAiB33B,YAAExB,EAAEH,EAAEoB,KAAKm4B,UAAUj2B,YAAEnD,EAAEH,EAAEoB,KAAKm4B,WAAW,MAAM,QAAQ,OAAO,KAAK,OAAOn4B,KAAK02B,cAAc,IAAI,QAAQ,MAAM,IAAI,WAAWj3B,EAAEqK,OAAO,IAAIvH,EAAEiN,QAAQrM,YAAE,CAAC1D,GAAGrB,EAAEqE,IAAI,MAAM,IAAI,UAAUhD,EAAEqK,OAAO,IAAIvH,EAAEiN,QAAQ3N,YAAE,CAACpC,GAAGrB,EAAEqE,IAAI,MAAM,IAAI,SAAS,IAAI,YAAYjC,YAAE+B,EAAEu1B,OAAO,YAAYv1B,EAAEu1B,KAAKx2B,OAAOiB,EAAEiN,QAAQ3N,YAAEU,EAAEu1B,KAAKzE,MAAMj1B,EAAEqE,IAAI,OAAOF,IAAz9F,uCAA29F,WAA4BvC,KAAKo4B,wBAAwBp4B,KAAKq4B,+BAA+Br4B,KAAKs4B,gCAAgCt4B,KAAKu4B,wCAAlmG,mCAAwoG,WAAwB/3B,YAAER,KAAKm2B,kBAAkBn2B,KAAK22B,uBAAuBl1B,OAAOzB,KAAKm2B,gBAAgBn2B,KAAKm2B,eAAezK,UAAU1rB,KAAKm2B,eAAe,QAAnyG,0CAAyyG,WAA+B31B,YAAER,KAAKo2B,yBAAyBp2B,KAAKo2B,sBAAsB1K,UAAU1rB,KAAKo2B,sBAAsB,QAAx6G,2CAA86G,WAAgC51B,YAAER,KAAKq2B,0BAA0Br2B,KAAKq2B,uBAAuB3K,UAAU1rB,KAAKq2B,uBAAuB,QAAjjH,iDAAujH,WAAsC71B,YAAER,KAAKs2B,gCAAgCt2B,KAAKs2B,6BAA6B5K,UAAU1rB,KAAKs2B,6BAA6B,QAAltH,kCAAwtH,WAA4B,IAAP13B,EAAO,uDAAL,KAAYkB,EAAEE,KAAKw4B,mBAAmB55B,GAAG,GAAGP,YAAEyB,GAAeE,KAAKw3B,gCAAzB,CAAqD,IAAMp5B,EAAE4B,KAAK22B,uBAAuBr2B,cAAcb,EAAE,kBAAkBgD,YAAEzC,KAAKyzB,KAAKr1B,GAAGoC,YAAEV,EAAE0P,SAASnR,YAAE2B,KAAKo2B,wBAAwBp2B,KAAKo2B,sBAAsB,IAAI/sB,GAAE,CAAChI,KAAKrB,KAAKqB,KAAKtB,SAASD,EAAE0P,QAAQlP,cAAcvB,YAAEX,GAAGwjB,SAASniB,EAAE6wB,UAAS,IAAKrZ,EAAEjF,eAAeR,aAAahC,QAAQipB,MAAMz4B,KAAKo2B,uBAAuBnf,EAAEjF,eAAeR,aAAaF,YAAYmnB,MAAMz4B,KAAKo2B,uBAAuBp2B,KAAKo2B,sBAAsB9F,UAAS,EAAGtwB,KAAKo2B,sBAAsBxD,kBAAiB,GAAI5yB,KAAKo2B,sBAAsBr2B,SAASD,EAAE0P,QAAQxP,KAAKq4B,+BAA+B73B,YAAEV,EAAE83B,iBAAiBv5B,YAAE2B,KAAKq2B,yBAAyBr2B,KAAKq2B,uBAAuB,IAAI3zB,GAAE,CAACrB,KAAKrB,KAAKqB,KAAKY,iBAAiBjC,KAAKqB,KAAKY,iBAAiByzB,SAAS51B,EAAE83B,gBAAgBt3B,cAAcvB,YAAEiB,KAAK22B,uBAAuBr2B,eAAeuP,eAAeoH,EAAEhF,oBAAoBvT,OAAOmR,eAAeygB,UAAS,IAAKtwB,KAAKq2B,uBAAuB/F,UAAS,GAAItwB,KAAKq2B,uBAAuBX,SAAS51B,EAAE83B,gBAAgB53B,KAAKs4B,gCAAgC93B,YAAEV,EAAE+3B,gBAAgBx5B,YAAE2B,KAAKs2B,+BAA+Bt2B,KAAKs2B,6BAA6B,IAAI5zB,GAAE,CAACrB,KAAKrB,KAAKqB,KAAKY,iBAAiBjC,KAAKqB,KAAKY,iBAAiByzB,SAAS51B,EAAE+3B,eAAev3B,cAAcvB,YAAEiB,KAAK22B,uBAAuBr2B,eAAeuP,eAAeoH,EAAEhF,oBAAoBvT,OAAOmR,eAAeygB,UAAS,IAAKtwB,KAAKs2B,6BAA6B5mB,MAAMuH,EAAEge,YAAYhe,EAAEhF,oBAAoB3C,SAASI,OAAO1P,KAAKs2B,6BAA6BhG,UAAS,GAAItwB,KAAKs2B,6BAA6BZ,SAAS51B,EAAE+3B,eAAe73B,KAAKu4B,sCAAsC/3B,YAAEV,EAAEg4B,MAAMz5B,YAAE2B,KAAKm2B,iBAAiBn2B,KAAKm2B,eAAe,IAAIh1B,IAAE,CAACpB,SAASD,EAAEg4B,KAAK73B,OAAOD,KAAK04B,sBAAsB14B,KAAK22B,uBAAuBl4B,IAAIuB,KAAKm2B,gBAAgBn2B,KAAKqB,KAAKs3B,aAAa34B,KAAKm2B,gBAAgBn2B,KAAKooB,aAAa,kBAAkBpoB,KAAKm2B,eAAep2B,SAASD,EAAEg4B,KAAK93B,KAAKo4B,2BAA7nL,yBAAqpL,WAAoB,OAAOp4B,KAAKm2B,iBAArrL,mBAAosL,SAAYv3B,GAAGoB,KAAKk2B,cAAc/2B,YAAYP,EAAEoB,KAAKE,KAAK,UAAUtB,KAAxwL,oBAA2wL,SAAaA,GAAGoB,KAAKE,KAAK,WAAWtB,GAAGoB,KAAK44B,yBAAxzL,4BAA+0L,SAAqBh6B,GAAGoB,KAAKE,KAAK,mBAAmBtB,GAAGoB,KAAK44B,yBAA54L,mBAAm6L,cAAn6L,mBAA46L,WAAc,OAAO54B,KAAKk2B,cAAc2C,UAAp9L,kBAA49L,WAAO74B,KAAKk2B,cAAc4C,SAAt/L,mBAA6/L,WAAc,OAAO94B,KAAKk2B,cAAc6C,UAAriM,kBAA6iM,WAAO/4B,KAAKk2B,cAAc8C,SAAvkM,qCAA8kM,WAA0Bh5B,KAAKk2B,cAAc+C,aAA3nM,sBAAsoM,cAAtoM,wBAAkpM,WAAaj5B,KAAKk2B,cAAcgD,aAAal5B,KAAKk2B,cAAciD,WAAltM,6BAA2tM,WAAkB,OAAOn5B,KAAKk2B,cAAcR,WAAvwM,yBAAgxM,SAAY92B,GAAGoB,KAAK44B,uBAAuB54B,KAAKc,KAAK,aAAalC,KAAl1M,4BAAq1M,SAAeA,GAAGoB,KAAK44B,uBAAuB54B,KAAKc,KAAK,gBAAgBlC,KAA75M,4BAAg6M,SAAeA,GAAGoB,KAAK44B,uBAAuB54B,KAAKc,KAAK,gBAAgBlC,KAAx+M,4BAA2+M,SAAeA,GAAGoB,KAAK44B,qBAAqB,IAAIh6B,EAAE82B,SAAS5rB,OAAOlL,EAAE82B,SAAS,GAAG0D,YAAY,MAAMp5B,KAAKc,KAAK,gBAAgBlC,KAAvmN,wBAA0mN,SAAWA,GAAGoB,KAAK44B,uBAAuB,IAAI94B,EAAE,KAAK,GAAGE,KAAKk2B,cAAcgD,YAAY,CAAC,IAAMt6B,EAAEoB,KAAKw4B,mBAAmB,MAAK,GAAIh4B,YAAE5B,KAAKkB,EAAE,IAAIqB,IAAE,CAACpB,SAASnB,EAAEk5B,KAAK73B,OAAOD,KAAK04B,uBAAuB14B,KAAKc,KAAK,WAAV,aAAsBT,QAAQP,GAAKlB,QAAj1N,GAAewC,IAAEi4B,aAAan2B,MAAyzN,SAASjE,GAAEL,GAAG,OAAOA,GAAG,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,OAAOA,EAAE,IAAI,SAAS,IAAI,YAAY,MAAM,UAAU,QAAQ,OAAO,MAAMA,YAAE,CAACR,YAAE,CAACqF,eAAc,EAAGC,aAAY,KAAMhD,GAAEiD,UAAU,YAAO,GAAQ/E,YAAE,CAACR,eAAKsC,GAAEiD,UAAU,2BAAsB,GAAQ/E,YAAE,CAACR,eAAKsC,GAAEiD,UAAU,gBAAgB,MAAM/E,YAAE,CAACR,YAAE,CAAC0F,OAAM,KAAMpD,GAAEiD,UAAU,UAAU,MAAM/E,YAAE,CAACR,YAAE,CAAC0F,OAAM,KAAMpD,GAAEiD,UAAU,WAAW,MAAM/E,YAAE,CAACR,YAAE,CAAC0F,OAAM,KAAMpD,GAAEiD,UAAU,mBAAmB,MAAM/E,YAAE,CAACR,YAAE,CAACqF,eAAc,KAAM/C,GAAEiD,UAAU,YAAO,GAAQ/E,YAAE,CAACR,YAAE,CAACsF,aAAY,KAAMhD,GAAEiD,UAAU,gBAAW,GAAQ/E,YAAE,CAACR,YAAE,CAACqF,eAAc,KAAM/C,GAAEiD,UAAU,qBAAgB,GAAQ/E,YAAE,CAACR,eAAKsC,GAAEiD,UAAU,mBAAc,GAAQ/E,YAAE,CAACR,eAAKsC,GAAEiD,UAAU,uBAAkB,GAAQ/E,YAAE,CAACR,YAAE,CAACqF,eAAc,KAAM/C,GAAEiD,UAAU,YAAO,GAAQ/E,YAAE,CAACR,YAAE,CAACqF,eAAc,KAAM/C,GAAEiD,UAAU,oBAAe,GAAQ/E,YAAE,CAACR,YAAE,CAACwF,UAAS,KAAMlD,GAAEiD,UAAU,YAAO,GAAQjD,GAAE9B,YAAE,CAACa,YAAE,2DAA2DiB,IAAG,IAAMoB,GAAE,G,4HCAnnPwI,G,WAAE,WAAY1L,GAA0jC,IAAI,IAAMkB,KAAlkC,oBAACE,KAAKuD,OAAO,IAAIkE,GAAEzH,KAAKs5B,WAAW,CAAC74B,OAAO,EAAE84B,SAAS,MAAMv5B,KAAKw5B,cAAc,CAACl4B,KAAK,SAAStB,KAAKy5B,kBAAkB,EAAEz5B,KAAK05B,eAAe,GAAG15B,KAAK25B,wBAAuB,EAAG35B,KAAK45B,YAAW,EAAG55B,KAAK65B,gBAAgB,EAAE75B,KAAK85B,QAAQ,GAAG95B,KAAK+5B,aAAY,EAAG/5B,KAAKg6B,gBAAgB,EAAEh6B,KAAKi6B,gBAAgB,IAAIj6B,KAAKk6B,eAAc,EAAGl6B,KAAKm6B,gBAAgBtzB,eAAI7G,KAAKo6B,YAAY,KAAKp6B,KAAKq6B,gBAAgBh3B,cAAIrD,KAAKs6B,sBAAqB,EAAGt6B,KAAKu6B,UAAU,IAAIl8B,KAAE,CAACuE,EAAE,EAAET,EAAE,EAAE0E,EAAE,IAAI7G,KAAKw6B,0BAA0B,IAAIn8B,KAAE2B,KAAKy6B,gCAA+B,EAAGz6B,KAAKb,aAAY,EAAGa,KAAKZ,YAAW,EAAGY,KAAKX,WAAU,EAAGW,KAAKT,OAAO,KAAKS,KAAK06B,WAAU,EAAG16B,KAAKV,UAAS,EAAGU,KAAK26B,WAAU,EAAG36B,KAAK46B,WAAU,EAAG56B,KAAK66B,OAAO,EAAE76B,KAAK4B,UAAS,EAAG5B,KAAKR,OAAO,IAAIpB,IAAEsB,aAAaM,KAAK86B,gBAAgB,CAACC,iBAAiB55B,eAAI65B,uBAAuBv4B,eAAIw4B,UAAU,GAAGj7B,KAAKk7B,sBAAqB,EAAGl7B,KAAKm7B,sBAAsB,KAAKn7B,KAAKo7B,8BAA6B,EAAGp7B,KAAKq7B,iBAAiB,KAAKr7B,KAAKiwB,WAAU,EAAGjwB,KAAKs7B,eAAe,KAAKt7B,KAAKu7B,sBAAsB,KAAKv7B,KAAKu6B,UAAUt4B,iBAAiBrD,EAAEyC,KAAKY,iBAAgCrD,EAAEoB,KAAKF,GAAGlB,EAAEkB,GAAGE,KAAKqB,KAAKiC,OAAOtD,KAAKqB,KAAKiC,MAAMC,QAAQvD,KAAKuD,OAAOsT,SAAS7W,KAAKqB,KAAKiC,MAAMC,Q,2CAAQ,WAAUvD,KAAKw7B,4BAA4Bx7B,KAAKq7B,iBAAiB,KAAKr7B,KAAKqB,KAAK,KAAKrB,KAAKuD,OAAO,O,yBAAK,WAAoB,OAAOvD,KAAKgyB,gB,IAAe,SAAkBpzB,GAAGoB,KAAKgyB,eAAepzB,EAAEoB,KAAKy6B,gCAA+B,EAAGz6B,KAAKs6B,sBAAqB,EAAGt6B,KAAKy7B,wB,yBAAsB,WAAoB,OAAOz7B,KAAK05B,gB,IAAe,SAAkB96B,GAAGoB,KAAKw7B,4BAA4Bx7B,KAAKq7B,iBAAiB,KAAKr7B,KAAK05B,eAAe96B,EAAEwQ,QAAQpP,KAAKy7B,wB,qBAA2G,WAAgB,OAAOz7B,KAAK45B,Y,IAAjH,SAAch7B,GAAGA,IAAIoB,KAAK45B,aAAa55B,KAAK45B,WAAWh7B,EAAEoB,KAAKy7B,yB,4BAA8D,WAAgB,WAAC,OAAOz7B,KAAK65B,kBAAkB,IAAI75B,KAAK65B,iBAAiB75B,KAAKy7B,sBAAsB,CAACh6B,OAAOhC,cAAG,WAAK,EAAKo6B,kBAAkB,IAAI,EAAKA,iBAAiB,EAAK4B,4B,kBAAsG,WAAa,OAAOz7B,KAAK85B,S,IAArG,SAAWl7B,GAAGA,IAAIoB,KAAK85B,UAAU95B,KAAK85B,QAAQl7B,EAAEoB,KAAKy7B,yB,sBAAgJ,WAAiB,OAAOz7B,KAAK+5B,a,IAArH,SAAen7B,GAAGA,IAAIoB,KAAK+5B,cAAc/5B,KAAK+5B,YAAYn7B,EAAEoB,KAAKy7B,yB,0BAAgE,WAAqB,OAAOz7B,KAAKm6B,iB,IAAgB,SAAmBv7B,GAAGqM,GAAErM,KAAKoB,KAAKk7B,sBAAqB,GAAIpzB,aAAE9H,KAAKm6B,gBAAgBv7B,GAAGoB,KAAKy7B,wB,0BAAsB,WAAqB,OAAOz7B,KAAKs6B,uBAAuBt6B,KAAKs6B,sBAAqB,EAAGt6B,KAAKqB,KAAK0xB,mBAAmB2I,eAAe17B,KAAK27B,yBAAyB37B,KAAKq6B,iBAAiBr6B,KAAKk6B,eAAel6B,KAAKo6B,cAAcp6B,KAAKo6B,YAAYvzB,gBAAK,SAASjI,EAAEkB,EAAEU,GAAG,OAAO5B,EAAEkO,aAAa,IAAI,QAAQ,OAAO5H,aAAE1E,IAAG,EAAG,IAAI,SAAU,IAAMzB,EAAE+C,aAAElD,EAAEm0B,mBAAmB9wB,kBAAkBmE,YAAEtG,EAAE,EAAE87B,GAAG,EAAE78B,EAAE4K,QAAQb,YAAEvG,aAAEq5B,GAAG,IAAIr5B,aAAEq5B,GAAG,IAAIp7B,IAAzK,CAA+KR,KAAKqB,KAAKrB,KAAKq6B,gBAAgBr6B,KAAKo6B,cAAcp6B,KAAKo6B,cAAcp6B,KAAKo6B,YAAY,OAAOp6B,KAAKq6B,iB,IAAgB,SAAmBz7B,GAAGoB,KAAKqB,KAAK0xB,mBAAmBC,iBAAiBp0B,EAAEoB,KAAKu6B,WAAWv6B,KAAK27B,yBAAyB37B,KAAKu6B,Y,oBAAU,WAAe,OAAOv6B,KAAKu6B,W,IAAU,SAAa37B,GAAG8D,aAAE9D,EAAEoB,KAAKu6B,WAAWv6B,KAAKs6B,sBAAqB,EAAGt6B,KAAKk7B,sBAAqB,EAAGl7B,KAAKy6B,gCAA+B,EAAGz6B,KAAKy7B,sBAAsBz7B,KAAKR,OAAOsB,KAAK,kBAAkB,CAAC+6B,SAAS77B,KAAKu6B,c,oCAAY,WAA+B,OAAOv6B,KAAKy6B,gCAAgCz6B,KAAK87B,8BAA8B97B,KAAK+7B,kCAAkC/7B,KAAKw6B,2BAA2Bx6B,KAAKw6B,2B,IAA0B,SAA6B57B,GAAG8D,aAAE9D,EAAEoB,KAAKu6B,WAAWv6B,KAAK87B,8BAA8B97B,KAAKu6B,UAAU1zB,GAAG7G,KAAKs5B,WAAW74B,OAAOT,KAAK+7B,kCAAkC/7B,KAAKy7B,sBAAsBz7B,KAAKR,OAAOsB,KAAK,kBAAkB,CAAC+6B,SAAS77B,KAAKu6B,c,6CAAY,WAAkCv6B,KAAKw6B,0BAA0B53B,EAAE5C,KAAK67B,SAASj5B,EAAE5C,KAAKw6B,0BAA0Br4B,EAAEnC,KAAK67B,SAAS15B,EAAE,IAAMvD,EAAEkB,YAAEE,KAAKs5B,WAAWC,UAAUv5B,KAAKs5B,WAAWC,SAASv5B,KAAK67B,SAASh1B,GAAG,EAAE7G,KAAKw6B,0BAA0B3zB,EAAEjI,EAAEoB,KAAKs5B,WAAW74B,OAAOT,KAAKw6B,0BAA0Bv4B,iBAAiBjC,KAAK67B,SAAS55B,iBAAiBjC,KAAKs6B,sBAAqB,EAAGt6B,KAAKk7B,sBAAqB,EAAGl7B,KAAKy6B,gCAA+B,I,+BAAG,WAAoB,OAAM,I,oBAAG,WAAe,OAAOz6B,KAAK06B,W,IAAU,SAAa97B,GAAGA,IAAIoB,KAAK06B,YAAY16B,KAAK06B,UAAU97B,EAAEoB,KAAKg8B,YAAYh8B,KAAK26B,WAAW36B,KAAK06B,WAAW16B,KAAKy7B,yB,oBAAuB,WAAe,OAAOz7B,KAAK26B,W,IAAU,SAAa/7B,GAAGA,IAAIoB,KAAK26B,YAAY36B,KAAK26B,UAAU/7B,EAAEoB,KAAKg8B,YAAYh8B,KAAK26B,WAAW36B,KAAK06B,WAAW16B,KAAKy7B,yB,oBAAuB,WAAe,OAAOz7B,KAAK46B,W,IAAU,SAAah8B,GAAGA,IAAIoB,KAAK46B,YAAY56B,KAAK46B,UAAUh8B,EAAEoB,KAAKy7B,sBAAsBz7B,KAAKR,OAAOsB,KAAK,iBAAiB,CAACC,OAAOnC,EAAE,SAAS,gB,iBAAc,WAAY,OAAOoB,KAAK66B,Q,IAAO,SAAUj8B,GAAGA,IAAIoB,KAAK66B,SAAS76B,KAAK66B,OAAOj8B,EAAEoB,KAAKy7B,yB,gCAAuB,SAAmB78B,EAAEkB,GAAGA,EAAEE,KAAKsD,OAAO1E,EAAEoB,KAAKsD,QAAQ1E,I,yBAAE,SAAYA,GAAGA,IAAIoB,KAAK4B,WAAW5B,KAAK4B,SAAShD,EAAEoB,KAAKR,OAAOsB,KAAK,gBAAgB,CAACC,QAAO,IAAKnC,EAAE,QAAQ,e,mBAAa,WAAc,OAAOoB,KAAK4B,W,0BAAS,WAAqB,OAAO5B,KAAKi8B,uBAAuBj8B,KAAK86B,kB,kCAAgB,WAAuB,GAAI96B,KAAKk7B,qBAAT,CAA2J,IAAIt8B,EAAE,GAA5HoB,KAAK86B,gBAAgBG,UAAUj7B,KAAKuD,OAAO24B,yBAAyBl8B,KAAKm8B,gBAAgBn8B,KAAKk7B,sBAAqB,EAAYjwB,GAAEjL,KAAKm6B,iBAAiB,CAAC,IAAMr6B,EAAEE,KAAKo8B,+BAA+BC,IAAIz9B,EAAEmF,YAAEjE,EAAEA,EAAEE,KAAKm8B,qBAAqBv9B,EAAEoB,KAAKm8B,eAAen8B,KAAKuD,OAAOgU,sBAAsB3Y,EAAEoB,KAAK86B,gBAAgBE,wBAAwBh7B,KAAKuD,OAAOkU,eAAezX,KAAK86B,gBAAgBE,uBAAuBh7B,KAAK86B,gBAAgBC,qB,gCAAkB,WAA2B,OAAO/6B,KAAKm7B,uB,IAAsB,SAAyBv8B,GAAGoB,KAAKm7B,sBAAsBv8B,EAAEoB,KAAKk7B,sBAAqB,EAAGl7B,KAAKy7B,wB,kCAAsB,SAAqB37B,EAAEf,GAAG,IAAIiB,KAAKs8B,UAAU,OAAO,KAAK,IAAMl7B,EAAE8B,aAAEpD,EAAE+J,IAAGpK,EAAEO,KAAKu8B,oBAAoBx9B,GAAGV,GAAG,EAAE2B,KAAKy5B,kBAAkB,OAAOz5B,KAAKw5B,cAAcl4B,MAAM,IAAI,QAAQ,GAAGrC,aAAEe,KAAKw8B,eAAezB,iBAAiB35B,GAAG3B,EAAEA,EAAE,OAAOO,KAAKw8B,eAAexB,uBAAuB,GAAG38B,EAAE,MAAM,IAAI,OAAQ,IAAMO,EAAEoB,KAAKw5B,cAAclG,MAAMxzB,EAAEE,KAAKy8B,+BAA+B19B,EAAEiB,KAAK08B,0BAA0B58B,EAAE68B,IAAGv+B,EAAEqB,EAAEO,KAAKw8B,eAAevB,UAAU14B,EAAEqH,KAAEgzB,WAAW58B,KAAKuD,OAAOnC,EAAEmF,IAAG,GAAG/F,YAAE+B,GAAG,OAAO,KAA/L,oBAAmN3D,GAAnN,IAAoM,2BAAiB,KAAPkB,EAAO,QAAC,GAAG,IAAIA,EAAEgK,OAAqC,IAArB,IAAMlL,EAAEoF,YAAE43B,GAAG97B,EAAE,GAAGf,GAAWyB,EAAE,EAAEA,EAAEV,EAAEgK,OAAOtJ,IAAI,CAAC,IAAMY,EAAE4C,YAAE64B,GAAG/8B,EAAEU,GAAGzB,GAAGU,EAAEmH,KAAEk2B,oBAAoBl2B,KAAEm2B,WAAWn+B,EAAEwC,EAAEoW,IAAGjV,GAAG,GAAG,MAAM9C,GAAGA,EAAErB,EAAEA,EAAE,CAAC,IAAM0B,EAAEiE,YAAEnB,KAAEwL,MAAMxP,EAAEwC,GAAGV,YAAEZ,EAAEA,EAAE,IAAI,IAAMU,EAAEuC,aAAEH,KAAEwL,OAAO,OAAOpO,KAAKuD,OAAOgU,sBAAsBzX,EAAEU,GAAGA,EAAE,GAAGnC,EAAEkC,YAAE3B,EAAEwC,KAApe,gCAAwe,MAAM,IAAI,OAAQ,IAAIhD,EAAQQ,EAAEoB,KAAKw5B,cAAc/yB,UAAU3G,EAAE,OAAO1B,EAAE4B,KAAKw5B,cAAc/4B,QAAQrC,EAAE8D,IAAEnD,EAAEiB,KAAKy8B,+BAA+Bl6B,EAAEvC,KAAK08B,0BAA0B39B,EAAE49B,IAAGx7B,EAAE1B,EAAEO,KAAKw8B,eAAevB,UAAUx4B,EAAEmH,KAAEgzB,WAAW58B,KAAKuD,OAAOnC,EAAEmF,IAAG,GAAG/F,YAAEiC,GAAG,OAAO,KAAK,IAAMS,EAAEyC,aAAE2D,GAAE/G,GAAGQ,EAAElB,YAAEm7B,GAAGp+B,EAAEsE,GAAGG,EAAEW,YAAEi5B,GAAGn9B,EAAEyC,GAAG6B,KAAE84B,sBAAsB75B,EAAEN,EAAEo6B,IAAI,IAAMp5B,EAAEq5B,GAAG,GAAGh5B,KAAEi5B,aAAaF,GAAG16B,EAAEsB,IAAI5B,YAAE4B,EAAEV,GAAGlC,EAAEA,EAAE,OAAOnB,KAAKw8B,eAAexB,uBAAuB,GAAG38B,EAAE,MAAM,IAAI,SAAS,MAA4B2B,KAAKw5B,cAApB56B,EAAb,EAAO00B,MAAkBxzB,EAAzB,EAAe2G,UAAgC1H,EAAEiB,KAAKy8B,+BAA+Br+B,EAAE4B,KAAK08B,0BAA0B39B,EAAE49B,IAAGp6B,EAAE9C,EAAEO,KAAKuD,OAAO24B,yBAAyBl8B,KAAKm8B,gBAAgBh7B,EAAEyI,KAAEgzB,WAAW58B,KAAKuD,OAAOnC,EAAEmF,IAAG,GAAG/F,YAAEW,GAAG,OAAO,KAAK,IAAMsB,EAAEkD,aAAE2D,GAAElL,GAAG8E,EAAErB,YAAEm7B,GAAGl9B,EAAE2C,GAAGY,EAAErD,KAAKs9B,iCAAiCL,IAAI74B,KAAE84B,sBAAsB75B,EAAEH,EAAEi6B,IAAI,IAAMj7B,EAAEk7B,GAAG,IAAIh5B,KAAEi5B,aAAaF,GAAGh8B,EAAEe,GAAG,MAA1X,oBAA+YtD,GAA/Y,IAAgY,2BAAiB,KAAPkB,EAAO,QAAC,GAAG,IAAIA,EAAEgK,OAAqC,IAArB,IAAMlL,EAAEoF,YAAE43B,GAAG97B,EAAE,GAAG1B,GAAWoC,EAAE,EAAEA,EAAEV,EAAEgK,OAAOtJ,IAAI,CAAC,IAAMzB,EAAEiF,YAAE64B,GAAG/8B,EAAEU,GAAGpC,GAAGgD,EAAEwF,KAAE22B,UAAU32B,KAAEm2B,WAAWn+B,EAAEG,EAAEyY,IAAGtV,GAAG,GAAG,MAAMd,GAAGA,EAAEmB,EAAEA,EAAE,CAAC,IAAMzC,EAAEiE,YAAEnB,KAAEwL,MAAMxP,EAAEG,GAAG2B,YAAEZ,EAAEA,EAAE,IAAI,IAAMU,EAAEuC,aAAEH,KAAEwL,OAAO,OAAOpO,KAAKuD,OAAOgU,sBAAsBzX,EAAEU,GAAGA,EAAE,GAAGnC,EAAEkC,YAAE3B,EAAEG,KAAtpB,gCAA0pB,MAAM,QAAQH,aAAEoB,KAAKw5B,eAAe,OAAO,O,oBAAK,WAA4B,IAArB56B,EAAqB,uDAAnB,CAAC4+B,cAAc,IAAK,GAAIx9B,KAAKqB,KAAK4c,OAAd,CAA4B,IAAMne,EAAElB,EAAE4+B,cAAc,GAAGx9B,KAAKs7B,eAAex7B,EAAE29B,cAAcj9B,YAAER,KAAKs7B,gBAAgB,CAAC,IAAM18B,EAAE,IAAIiZ,KAAE,iBAAiB,CAACuG,YAAW,IAAKpe,KAAKqB,KAAK4c,OAAOxf,IAAI,EAAEG,GAAGoB,KAAKqB,KAAK4c,OAAOM,iBAAiB,CAAC3f,EAAEib,KAAK7Z,KAAKs7B,eAAe18B,EAAEib,GAAG/Z,EAAE29B,cAAc7+B,EAAEib,GAAG/Z,EAAE49B,uBAAuB59B,EAAE49B,uBAAuB,GAAG,EAAE19B,KAAKu7B,sBAAsBz7B,EAAE69B,qBAAqBn9B,YAAER,KAAKu7B,yBAAyBv7B,KAAKu7B,sBAAsB,IAAIztB,IAAIhO,EAAE69B,qBAAqB39B,KAAKu7B,uBAAuBv7B,KAAKuD,OAAOsT,SAAS7W,KAAKqB,KAAKiC,MAAMC,QAAQvD,KAAKiwB,WAAU,EAAGjwB,KAAKy7B,sBAAsBlyB,YAAEvJ,KAAKu6B,UAAUt4B,iBAAiBjC,KAAKqB,KAAKY,oBAAoBjC,KAAK67B,SAAS,IAAIx9B,KAAE,CAACuE,EAAE,EAAET,EAAE,EAAE0E,EAAE,EAAE5E,iBAAiBjC,KAAKqB,KAAKY,uB,oBAAoB,WAA4B,IAArBrD,EAAqB,uDAAnB,CAAC4+B,cAAc,IAAW19B,EAAElB,EAAE4+B,cAAc19B,EAAE49B,wBAAwB,IAAMl9B,EAAE,IAAIV,EAAE49B,sBAAsBl9B,IAAIV,EAAE29B,cAAc,MAAMz9B,KAAKw7B,0BAA0Bh7B,GAAGR,KAAKq7B,iBAAiB,KAAKr7B,KAAKs7B,eAAe,KAAKt7B,KAAKu7B,sBAAsB,KAAKv7B,KAAKiwB,WAAU,I,0BAAG,WAAejwB,KAAKuD,OAAOsT,SAAS7W,KAAKqB,KAAKiC,MAAMC,QAAQvD,KAAKk7B,sBAAqB,EAAGl7B,KAAKy7B,wB,+BAAsB,SAAkB78B,GAAGsX,YAAElW,KAAK67B,SAAS+B,GAAGh/B,EAAEqD,kBAAkBgV,aAAErY,EAAE6b,OAAOmjB,MAAM59B,KAAK67B,SAAS77B,KAAKu6B,a,yCAAW,WAA4C,IAAhB37B,EAAgB,uDAAdoB,KAAK67B,SAAU,GAAGr7B,YAAER,KAAKM,eAAe,OAAM,EAAG,IAAIR,EAAE,KAAKsB,EAAE,EAAQ3B,EAAEV,YAAEiB,KAAKM,cAAcG,OAAO,GAAG,OAAOT,KAAKM,cAAcK,MAAM,IAAI,gBAAgBb,EAAEyH,aAAEvH,KAAKqB,KAAKsyB,kBAAkB/0B,EAAE,WAAW,EAAE,MAAM,IAAI,qBAAqBwC,GAAGmG,aAAEvH,KAAKqB,KAAKsyB,kBAAkB/0B,EAAE,WAAW,GAAGa,EAAE,MAAM,IAAI,oBAAoB2B,GAAGmG,aAAEvH,KAAKqB,KAAKsyB,kBAAkB/0B,EAAE,UAAU,GAAGa,EAAE,MAAM,IAAI,kBAAkB2B,EAAE3B,EAAE,OAAO2B,IAAIpB,KAAKs5B,WAAW74B,QAAQX,IAAIE,KAAKs5B,WAAWC,YAAYv5B,KAAKs5B,WAAW74B,OAAOW,EAAEpB,KAAKs5B,WAAWC,SAASz5B,GAAE,K,iCAAI,WAAsB,GAAIE,KAAKiwB,UAAiB,GAAIjwB,KAAKs8B,UAAT,CAAgE,IAAM19B,EAAEoB,KAAKy8B,+BAA+B38B,EAAE68B,GAAE,IAAG,IAAK38B,KAAK25B,uBAAuB,CAAC,IAAMn5B,EAAER,KAAK69B,gBAAgB79B,KAAK85B,QAAQ95B,KAAK89B,SAASl/B,EAAEoB,KAAK08B,0BAA0Bl8B,EAAEV,QAAQE,KAAK08B,0BAA0B99B,EAAEkB,GAApT,MAA4UU,EAAGR,KAAK+9B,yBAAvBC,eAAgDj/B,GAAGiB,KAAK89B,QAAQ,EAAE,IAAI99B,KAAKsP,SAAS,EAAE,GAAGlO,EAAEpB,KAAK65B,gBAAgB,EAA7a,cAAkdr5B,GAAld,IAA+a,2BAAqC,eAAjB5B,EAAiB,EAA3Bq/B,UAAoBx+B,EAAO,EAAfy+B,QAAgB,GAAG98B,EAAH,CAAK,oBAAgB3B,GAAhB,IAAC,oCAAmB0+B,YAAW,IAA/B,mCAAL,CAAiD,IAAM39B,IAAI,IAAI,GAAG5B,MAAMG,EAAEH,KAAK,GAAGA,GAAGP,IAAI,IAAI,MAAMO,MAAMoB,KAAKsD,MAAM1E,KAAK,MAAMA,GAAG,GAAG4B,GAAGnC,EAAN,qBAAuBoB,GAAvB,IAAQ,gCAAUb,EAAV,QAAiBA,EAAEu/B,YAAW,GAAIv/B,EAAEw/B,qBAAqBt+B,GAAjE,wDAAuFL,GAAvF,IAAwE,oCAAmB0+B,YAAW,IAAtG,kCAAvlB,oCAA0Dn+B,KAAKw7B,8B,oCAAmoB,WAAyB,GAAGh7B,YAAER,KAAKq7B,kBAAkB,CAAC,IAAMz8B,EAAEoB,KAAKqB,KAAK4c,OAAOogB,WAAW,EAAEj9B,YAAEpB,KAAKs7B,iBAAiBx7B,EAAE,GAAGU,EAAE,IAAIytB,IAAIjuB,KAAKs+B,cAAcvwB,SAAS,YAAgB,IAALnP,EAAK,EAAd4T,SAAehS,EAAEmoB,IAAI/pB,KAAKkB,EAAEqK,KAAKvL,GAAG4B,EAAE/B,IAAIG,OAAO,IAAuIa,EAAE,IAAIqO,IAAI9N,KAAKs+B,cAAcvwB,SAAS,SAAAnP,GAAI,IAAMkB,EAAE,IAAIwV,KAAE,CAAC+I,OAAO,cAAczL,YAAW,KAAxN,SAAChU,EAAEkB,GAAI,IAAgBU,EAA0BV,EAAnCC,SAAoBhB,EAAee,EAAxB0S,SAAqBpR,EAAGtB,EAAb4F,UAAeqE,MAAMw0B,QAAQ/9B,GAAGA,EAAEuN,SAAS,SAAAjO,GAAC,OAAElB,EAAE8f,YAAY5e,EAAEf,EAAEqC,MAAKxC,EAAE8f,YAAYle,EAAEzB,EAAEqC,GAAkGrC,CAAEe,EAAElB,GAAG,IAAM4B,EAAE5B,EAAEq/B,WAAW,EAAE78B,EAAE3B,EAAE2O,IAAI5N,IAAI,GAAGY,EAAE+I,KAAKrK,GAAGL,EAAEoP,IAAIrO,EAAEY,MAAM,IAAM/C,EAAE,GAAGoB,EAAEsO,SAAS,SAACnP,EAAEkB,GAAKzB,EAAE8L,KAAK,CAAC8zB,UAAUn+B,EAAEo+B,QAAQt/B,OAAOoB,KAAKq7B,iBAAiB,CAAC2C,eAAe3/B,EAAEa,MAAMN,EAAE4/B,UAAU1+B,GAAG,OAAOE,KAAKy+B,uBAAuBz+B,KAAKq7B,mB,kCAAiB,WAAsB,WAAC,IAAGr7B,KAAKo7B,+BAA8B56B,YAAER,KAAKq7B,kBAA7C,CAAD,MAAmHr7B,KAAKq7B,iBAA5Bz8B,EAA5F,EAA6Eo/B,eAAuBl+B,EAApG,EAA8FZ,MAA9F,EAAsGs/B,UAAqCzwB,SAAS,SAAAnP,GAAI,IAAMkB,EAAEsB,YAAE,EAAKm6B,uBAAuB/6B,EAAEV,EAAEsO,IAAIxP,EAAEib,KAAK,EAAE,IAAIrZ,GAAG,EAAKa,KAAK4c,OAAOxf,IAAI,EAAEG,GAAGkB,EAAE+O,IAAIjQ,EAAEib,GAAGrZ,EAAE,MAAM5B,EAAEmP,SAAS,YAAe,EAAbmwB,QAAgBnwB,SAAS,SAAAnP,GAAIkB,EAAEwe,UAAU1f,GAAG,EAAKyC,KAAK4c,OAAOxf,IAAI,EAAEG,SAASoB,KAAKo7B,8BAA6B,K,uCAAG,WAA+B,WAALx8B,EAAK,wDAAC,GAAIoB,KAAKo7B,+BAA8B56B,YAAER,KAAKq7B,kBAA9C,CAAD,MAAoHr7B,KAAKq7B,iBAA5Bv7B,EAA7F,EAA8Ek+B,eAAuBj/B,EAArG,EAA+FG,MAAkBO,EAAjH,EAAuG++B,UAAmC1+B,EAAEiO,SAAS,YAAe,EAAbmwB,QAAgBnwB,SAAS,SAAAnP,GAAIG,EAAE2/B,aAAa9/B,GAAG,EAAKyC,KAAK4c,OAAOxc,OAAO,EAAE7C,EAAEib,UAAUpa,EAAEsO,SAAS,SAAAnP,GAAI,IAAMkB,EAAEsB,YAAE,EAAKm6B,uBAAuB/6B,EAAEV,EAAEsO,IAAIxP,EAAEib,IAAI,IAAIrZ,GAAG,EAAKa,KAAK4c,OAAOxc,OAAO,EAAE7C,EAAEib,IAAI/Z,EAAEgP,OAAOlQ,EAAEib,KAAK/Z,EAAE+O,IAAIjQ,EAAEib,GAAGrZ,EAAE,MAAM5B,GAAGoB,KAAKqB,KAAK4c,OAAOxc,OAAO,EAAE1C,EAAE8a,IAAI7Z,KAAKo7B,8BAA6B,K,iCAAG,SAAoBx8B,GAAG,OAAOoB,KAAK69B,gBAAgB79B,KAAK2J,QAAO,IAAK,UAAU/K,EAAEoB,KAAKi6B,gBAAgB,K,6BAAG,SAAgBr7B,EAAEkB,GAAG,OAAOlB,GAAGkB,EAAEE,KAAKg6B,gBAAgB,K,0CAAG,WAA+B,OAAOh6B,KAAK+5B,YAAY,EAAE/5B,KAAKw8B,eAAevB,Y,8CAAU,SAAiCr8B,GAAG,IAAMkB,EAAEE,KAAKy8B,+BAA+Bj8B,EAAER,KAAK08B,0BAA0B58B,EAAE0W,IAAG,OAAO1X,YAAEF,EAAE4B,EAAE,IAAIA,EAAE,IAAIA,EAAE,O,4CAAK,SAA+B5B,GAAG,IAAMkB,EAAEE,KAAKs9B,iCAAiC1+B,GAAG,OAAOuK,YAAEvK,EAAEkB,EAAEE,KAAKm8B,kB,uCAAgB,SAA0Bv9B,EAAE4B,GAAG,OAAO2C,aAAE3C,EAAE5B,EAAE,EAAE,EAAE,EAAE,EAAEA,EAAE,EAAE,EAAE,EAAE,EAAEA,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGoB,KAAKo6B,aAAa/wB,aAAE7I,EAAEA,EAAER,KAAKo6B,aAAa/wB,aAAE7I,EAAEA,EAAER,KAAKm6B,iBAAiB35B,EAAE,KAAKR,KAAKm8B,eAAe,GAAG37B,EAAE,KAAKR,KAAKm8B,eAAe,GAAG37B,EAAE,KAAKR,KAAKm8B,eAAe,GAAG37B,EAAE,IAAI,EAAEV,YAAEE,KAAKm7B,wBAAwBn7B,KAAKm7B,sBAAsB36B,GAAGA,I,gBAAE,WAAW,IAAI5B,GAAE,EAAG,GAAGkB,YAAEE,KAAKq7B,kBAAkB,IAAI,IAAMv7B,KAAKE,KAAKq7B,iBAAiB2C,eAAe,CAAC,IAAD,EAAOx9B,EAAER,KAAKq7B,iBAAiB2C,eAAel+B,GAA9C,cAAgEU,EAAE09B,SAAlE,IAAiD,4BAAyB,GAAzB,QAA8Btb,UAAU,CAAChkB,GAAE,EAAG,QAA/F,8BAAqG,GAAGA,EAAE,MAAM,MAAM,CAAC+/B,uBAAuB//B,O,KAAI,SAASqM,GAAErM,GAAG,OAAO,IAAIA,EAAE,KAAK,IAAIA,EAAE,KAAK,IAAIA,EAAE,IAAI,IAAMiL,GAAE1I,eAAIqW,GAAE5Q,KAAEP,SAASE,GAAEqD,KAAEvD,SAASiD,GAAEb,eAAI+N,GAAE3P,eAAI81B,GAAE91B,eAAIs2B,GAAG/4B,KAAEiC,SAASu1B,GAAGv4B,cAAIw5B,GAAGx5B,cAAI+5B,GAAG/5B,cAAI25B,GAAG35B,cAAI45B,GAAG55B,cAAIg5B,GAAGh5B,cAAIu6B,GAAG,IAAIv/B,KAAE,CAACuE,EAAE,EAAET,EAAE,EAAE0E,EAAE,EAAE5E,iBAAiB,OCA9zb,SAASiB,GAAEtE,GAAM,IAAJkB,EAAI,uDAAF,EAASzB,EAAEkE,YAAE3D,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAEkL,OAAO,EAAElL,EAAE,GAAG,GAAGa,EAAEb,EAAE,GAAG,EAAE,OAAO,IAAIE,GAAE,CAAC4Q,MAAMrR,EAAE8R,YAAY1Q,EAAE8hB,YAAW,EAAG2S,SAAS,EAAErkB,eAAe/P,GAAG,eAAe,SAASqD,GAAEvE,GAAM,IAAJkB,EAAI,uDAAF,EAASzB,EAAEkE,YAAE3D,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAG,IAAIA,EAAEkL,OAAOlL,EAAE,GAAG,GAAG,OAAO,IAAIiD,KAAE,CAAC6N,MAAMrR,EAAE8R,aAAY,EAAGoR,YAAW,EAAG2S,SAAS,EAAErkB,eAAe/P,GAAG,uBAA0L,SAASqC,GAAEvD,EAAEkB,EAAEU,EAAE+B,GAAG,IAAMpB,EAAE9C,YAAEU,KAAEqP,MAAMxP,EAAE4B,GAAG6C,EAA2F,SAAWzE,EAAEkB,EAAEzB,EAAE+C,GAAG,IAAMhD,EAAEoC,YAAEzB,KAAEqP,MAAMxP,GAAG2D,EAAE/B,YAAEzB,KAAEqP,MAAMtO,GAAGiE,EAAEtE,YAAEV,KAAEqP,MAAMhQ,EAAEmE,GAAG,OAAOnB,EAAE,GAAGhD,EAAE,GAAGgD,EAAE,GAAGhD,EAAE,GAAGgD,EAAE,GAAGhD,EAAE,GAAGgD,EAAE,GAAG,EAAEA,EAAE,GAAGmB,EAAE,GAAGnB,EAAE,GAAGmB,EAAE,GAAGnB,EAAE,GAAGmB,EAAE,GAAGnB,EAAE,GAAG,EAAEA,EAAE,GAAG2C,EAAE,GAAG3C,EAAE,GAAG2C,EAAE,GAAG3C,EAAE,IAAI2C,EAAE,GAAG3C,EAAE,IAAI,EAAEA,EAAE,IAAI/C,EAAE,GAAG+C,EAAE,IAAI/C,EAAE,GAAG+C,EAAE,IAAI/C,EAAE,GAAG+C,EAAE,IAAI,EAAEA,EAAnUiI,CAAElI,EAAE1B,YAAEV,KAAEqP,MAAM7L,EAAEpB,GAAGX,EAAEuD,KAAEqK,OAAOhQ,aAAEiF,EAAEA,GAAG,IAAMW,EAAE5C,YAAErC,KAAEqP,MAAMtO,EAAEuD,GAAG,OAAOuF,KAAKg2B,MAAM56B,EAAE,GAAGA,EAAE,IAAgP,SAAS2B,GAAE7F,EAAEzB,GAAG,IAAMoB,EAAEK,EAAE++B,kBAAkBxgC,GAAG,OAAOO,YAAEa,IAAI,4BAA4BA,EAAEA,EAAE2T,wBAAwB/U,EAAEyB,EAAEmC,kBAAkB,KAAK,SAAS1B,GAAElC,EAAEoB,EAAE2B,GAAG,IAAMZ,EAAEmF,GAAEtH,EAAE+C,GAAGxC,YAAE4B,GAAGf,EAAEk8B,yBAAyBn7B,EAAE,SAAS5B,EAAEP,GAAG,IAAGyB,YAAEzB,GAAL,CAAe,IAAMoB,EAAEuE,aAAE3F,GAAMyB,YAAEL,KAAUb,EAAEi9B,SAASx4B,aAAE5D,KAAtE,CAA0EA,EAAE2B,EAAErB,U,cCAxrD,SAASD,GAAEsB,GAAS,IAAPtB,EAAO,uDAALzB,YAAE+C,GAAI,MAAM,kBAAkBtB,EAAEa,QAAQ/B,YAAEwC,EAAErB,YAAYqB,EAAErB,SAAS0zB,MCA+Q,IAAI70B,GAAC,kDAAiC,WAAYP,GAAE,kCAAC,cAAMA,IAAQygC,UAAS,EAAG,EAAKC,YAAW,EAAG,EAAKnd,UAAS,EAA5D,EAA/C,UAAe9hB,IAAEk/B,iBAA+F3gC,YAAE,CAAC+C,YAAE,CAACqC,eAAc,KAAM7E,GAAE+E,UAAU,eAAU,GAAQtF,YAAE,CAAC+C,eAAKxC,GAAE+E,UAAU,gBAAW,GAAQtF,YAAE,CAAC+C,eAAKxC,GAAE+E,UAAU,kBAAa,GAAQtF,YAAE,CAAC+C,eAAKxC,GAAE+E,UAAU,gBAAW,GAAQ/E,GAAEP,YAAE,CAACU,YAAE,+CAA+CH,I,cCA1uBA,G,WAAE,aAAa,oBAACoB,KAAKi/B,cAAc,EAAEj/B,KAAKkS,aAAa,KAAKlS,KAAKk/B,cAAc,KAAKl/B,KAAKm/B,YAAY,EAAEn/B,KAAKo/B,eAAe,K,0CAAK,SAAOxgC,GAAE,WAACoB,KAAKi/B,cAAc,EAAEj/B,KAAKkS,aAAa,KAAKlS,KAAKm/B,YAAY,EAAEn/B,KAAKk/B,cAAc,KAAKl/B,KAAKo/B,eAAe,KAAKxgC,EAAEygC,oBAAoB,SAACzgC,EAAEG,GAAK,GAAG,IAAIA,IAAI,EAAKmT,aAAatT,GAAGA,aAAa4B,KAAI5B,EAAE0Q,WAAW,IAAI,EAAK6vB,cAAc,EAAKD,cAActgC,GAAG,EAAKugC,eAAer/B,YAAE,EAAKs/B,iBAAiBxgC,EAAE0gC,UAAU,IAAIvgC,IAAI,EAAKqgC,eAAexgC,IAAIA,EAAE0gC,SAAS,OAAO,EAAKL,eAAe,EAAElgC,GAAG,KAAK,EAAE,EAAKkgC,eAAe,EAAE,MAAM,KAAK,EAAE,EAAKA,eAAe,U,KCA8L,SAAS1+B,GAAEY,GAAE,IAAY+B,EAAa/B,EAAlBE,KAAed,EAAGY,EAAXd,QAAaK,EAAE,IAAImB,GAAE,CAACxB,QAAQE,IAAIuB,EAAghE,SAAWlD,EAAEa,GAAE,IAAYe,EAAa5B,EAAlByC,KAAeF,EAAGvC,EAAXyB,QAAatB,EAAE,IAAImE,GAAE,CAAC7B,KAAKb,EAAET,SAASkX,GAAE9V,GAAGA,EAAEpB,SAAS,KAAKO,cAAciC,YAAEpB,GAAGmvB,UAAS,IAAKjtB,EAAE2O,eAAeR,aAAaF,YAAYmnB,MAAM15B,GAAG,IAAMqC,EAAE,WAAKrC,EAAEuxB,SAAS7wB,EAAEs/B,YAAY17B,EAAE2O,eAAeR,aAAahC,QAAQipB,MAAM15B,GAAG,IAAMV,EAAE,CAACoB,EAAEiC,MAAM,aAAaN,GAAG3B,EAAEiC,MAAM,YAAY,SAAA9C,GAAC,OAAEG,EAAE6iB,SAAShjB,KAAIa,EAAEy3B,GAAG,WAAW,kBAAIn4B,EAAEgB,SAASkX,GAAE9V,GAAGA,EAAEpB,SAAS,QAAO3B,aAAEW,IAAI,OAAOqC,IAAI,CAACm+B,cAAcxgC,EAAE0C,OAAO,kBAAI3B,aAAEzB,GAAGoD,WAA97EU,CAAEhB,EAAET,GAAG5B,EAAE,CAACgD,EAAE,SAASX,EAAE+B,EAAErB,GAAE,IAAetB,EAAUY,EAAlBd,QAAe8B,EAAGhB,EAARE,KAAUX,EAAE,GAAGoB,EAAES,YAAEhC,GAAGzB,EAAE,kBAAkBgD,EAAEnB,OAAOmB,EAAErB,QAAQ,oBAAoBqB,EAAEnB,KAAK4G,EAAE,IAAIrF,GAAEQ,EAAE,IAAIqB,KAAE,CAAC1C,KAAKc,EAAEoP,cAAclO,EAAE2O,eAAeJ,cAAcL,cAAcf,WAAW,EAAE8f,UAAS,EAAGkP,mBAAkB,EAAG3vB,eAAe,IAAIxM,EAAE2O,eAAeP,cAAcH,YAAYmnB,MAAM/1B,GAAG,IAAMyG,EAAE3I,aAAE6C,EAAE2O,eAAeF,wBAAwBoE,EAAE,IAAIlS,KAAE,CAAC3C,KAAKc,EAAEmuB,UAAS,EAAGmP,YAAYt2B,IAAI9F,EAAE2O,eAAeN,YAAY+mB,MAAMviB,GAAG,IAAIjX,EAAE,EAAEmF,EAAE,EAAQuB,EAAE,WAAK,GAAG4B,EAAE/B,OAAOrE,IAAIU,EAAEk9B,YAAYjgC,IAAI+C,EAAE+f,WAAW3K,GAAE1W,KAAKA,EAAER,SAAS0zB,MAAM,OAAOvwB,EAAE0vB,kBAAiB,EAAGlwB,EAAE4tB,UAAS,OAAQpa,EAAEoa,UAAS,GAAIptB,EAAE0vB,kBAAiB,EAAI,IAAMh0B,EAAE,EAAE2I,EAAE03B,cAAc57B,EAAE2O,eAAeH,yBAAyB,EAAEjT,IAAIK,IAAIA,EAAEL,EAAEyE,EAAE2O,eAAeR,aAAaF,YAAYmnB,MAAMv1B,EAAEtE,GAAGyE,EAAE2O,eAAeP,cAAcH,YAAYmnB,MAAM/1B,EAAE9D,IAAK,IAAMA,EAAE,EAAE2I,EAAE03B,cAAc57B,EAAE2O,eAAeH,yBAAyB,EAAEjT,IAAIwF,IAAIA,EAAExF,EAAEyE,EAAE2O,eAAeN,YAAY+mB,MAAMviB,EAAEtX,IAAK,SAASkB,EAAE1B,GAAG,IAAMqB,EAAE,IAAIrB,EAAE+gC,YAAY/gC,EAAE8gC,cAAc9gC,EAAE+gC,YAAY,GAAGvgC,YAAER,EAAEghC,gBAAgBhhC,EAAEghC,eAAe,KAAKxgC,YAAEa,IAAIK,EAAE4/B,mCAAmCjgC,EAAE08B,gBAAgBr8B,EAAEwwB,UAAS,GAAIxwB,EAAEwwB,UAAS,EAA1M,CAA8M5tB,EAAE6E,GAAG,SAASzH,EAAE1B,EAAEqB,EAAEe,GAAG,GAAGA,EAAE2+B,YAAY,EAAE,CAACpgC,YAAEoE,GAAE,EAAE,EAAE,GAAG,IAAIvE,EAAE,EAAEkB,EAAEu/B,oBAAoB,SAACv/B,EAAE1B,GAAK,IAAIA,GAAG0B,EAAEwP,UAAUxP,aAAa2C,KAAIrB,YAAE+B,GAAEA,GAAErD,EAAEq8B,gBAAgBv9B,QAAQA,EAAE,GAAGa,EAAEkgC,qBAAqBthC,YAAE8E,GAAEA,GAAE,EAAEvE,GAAGa,EAAE6wB,UAAS,GAAI7wB,EAAE6wB,UAAS,MAAO,CAAC,IAAM9vB,EAAEpC,EAAEwhC,iBAAiBhhC,YAAE4B,IAAIV,EAAEuB,KAAK0xB,mBAAmB2I,eAAel7B,EAAE2C,KAAI1D,EAAEkgC,qBAAqBx8B,GAAE1D,EAAE6wB,UAAS,GAAI7wB,EAAE6wB,UAAS,GAAvW,CAA4WnvB,EAAE+B,EAAEgT,EAAE3O,IAAIlE,EAAE2O,eAAeJ,cAAc6mB,MAAM/1B,GAAGhC,EAAEyJ,KAAKtI,EAAEq1B,GAAG,UAAUvxB,GAAG9D,EAAEH,MAAM,aAAaiE,GAAGzC,EAAE1D,OAAO03B,GAAG,4BAA4BvxB,GAAGvH,aAAEsE,GAAGtE,aAAE8X,IAAI,IAAMtT,EAAE,GAAG2G,EAAE,WAAKzJ,aAAE8C,GAAGnB,SAASmB,EAAEkH,OAAO,EAAE3I,EAAEk+B,oBAAoB,SAAAzgC,GAAC,OAAEgE,EAAEuH,KAAKvL,EAAEY,OAAO03B,GAAG,eAAevxB,OAAMxE,EAAEk+B,oBAAoB,SAAAzgC,GAAC,OAAEgE,EAAEuH,KAAKvL,EAAEY,OAAO03B,GAAG,iBAAiBvxB,OAAMA,KAAK,OAAO4D,IAAI7I,EAAEyJ,KAAKhJ,EAAE0+B,sBAAsBt2B,GAAG9J,cAAG,kBAAIK,aAAE8C,OAAM9C,aAAEY,GAAh4D,CAAo4DS,EAAEW,EAAEy9B,cAAc7+B,GAAGwC,EAAEy1B,aAAap4B,GAAG2C,EAAE48B,kBAAkBp/B,IAAI,MAAM,CAAC6+B,cAAcz9B,EAAEy9B,cAAc99B,OAAO,kBAAI3B,aAAEhB,GAAG2C,WAAoc,SAASwV,GAAEnX,GAAG,OAAOlB,YAAEkB,EAAEC,YAAY,YAAYD,EAAEC,SAASuB,MAAM,aAAaxB,EAAEC,SAASuB,MAAM,IAAM6B,GAAEhC,c,UCAzrE,SAASyB,GAAEvE,GAAE,IAAY0F,EAAa1F,EAAlBgD,KAAeuB,EAAGvE,EAAXgC,QAAakJ,EAAE,IAAI7I,GAAE,CAACL,QAAQuC,IAAI3D,EAAE,GAAGsI,EAAE,SAASzH,EAAEU,EAAEnC,GAAE,IAAYD,EAAa0B,EAAlBuB,KAAe2C,EAAGlE,EAAXO,QAAa0D,EAAE,IAAIkT,KAAE,CAAC5V,KAAKjD,EAAE2B,SAAS+B,GAAEkC,GAAGA,EAAEjE,SAAS,KAAKO,cAAc4B,YAAE8B,GAAGssB,UAAS,IAAK,OAAO,SAASxwB,EAAEL,EAAEe,EAAEnC,IAAuC,SAAUyB,EAAEL,EAAEe,EAAEnC,GAAE,IAAYD,EAAa0B,EAAlBuB,KAAetC,EAAGe,EAAXO,QAAiB2D,EAAE,KAAwRvB,EAAE,WAAxQ7D,YAAEoF,KAAKA,EAAEvC,SAASuC,EAAE,MAAMxD,EAAEohB,UAAU9f,GAAE/C,KAAKiF,EAAE,SAASpF,EAAEkB,EAAEL,GAAG,IAAM2B,EAAExC,EAAE+0B,kBAAkB1xB,iBAAiBM,YAAEzC,EAAEqJ,GAAE/H,GAAG,IAAMZ,EAAE2I,GAAE,GAAG9K,EAAE8K,GAAE,GAAG,OAAOvK,EAAE+0B,kBAAkBuD,GAAG,oBAAoB,SAAAt4B,GAAIuC,aAAEvC,EAAE6b,OAAOja,EAAEnC,IAAIoB,OAAjK,CAAyKrB,EAAEW,EAAEgB,UAAU,WAAKN,EAAEM,SAAShB,EAAEgB,aAAyBN,EAAEM,SAAS+B,GAAE/C,GAAGA,EAAEgB,SAAS,MAAM1B,EAAE8L,KAAK3J,EAAE02B,GAAG,UAAUz0B,GAAGrB,cAAG,kBAAI4C,MAAKvB,KAA5Z,CAAka3C,EAAEL,EAAEe,EAAEnC,GAAG8E,EAAE6O,eAAeP,cAAcjC,QAAQipB,MAAMh5B,GAAGpB,EAAE8L,KAAKpL,aAAEyB,EAAE,cAAlgB,kBAAIf,EAAE6wB,SAAS9vB,EAAEu+B,eAA3C,CAA8iBj/B,EAAEiE,EAAEvD,EAAEnC,GAAGA,EAAE8L,KAAK1K,aAAEsE,IAAIA,EAApsB,CAAusB1F,EAAEkL,EAAEtK,GAAG,OAAO,SAASL,EAAEkB,EAAEsB,EAAE/C,GAAE,IAAYU,EAAaH,EAAlByC,KAAeF,EAAGvC,EAAXyB,QAAakC,EAAE,IAAIJ,KAAE,CAACd,KAAKtC,EAAEwS,cAAcpO,EAAE6O,eAAeJ,cAAcL,cAAcf,WAAW,EAAE8f,UAAS,EAAGkP,mBAAkB,EAAG3vB,eAAe,IAAI1M,EAAE6O,eAAeJ,cAAc6mB,MAAMl2B,GAAG,IAAMwB,EAAE,IAAIxD,KAAE,CAACc,KAAKtC,EAAEghC,wBAAuB,EAAGzP,UAAS,IAAKntB,EAAE6O,eAAeP,cAAcH,YAAYmnB,MAAM10B,GAAG,IAAMkT,EAAEzW,aAAE2C,EAAE6O,eAAeF,wBAAwBpR,EAAE,IAAIH,KAAE,CAACc,KAAKtC,EAAEuxB,UAAS,EAAGmP,YAAYxoB,IAAI9T,EAAE6O,eAAeN,YAAY+mB,MAAM/3B,GAAG,IAAMkC,EAAEV,YAAEtD,EAAEyB,SAASkJ,EAAE1H,KAAE+xB,kBAAkBhxB,GAAG3D,EAAE,kBAAkB2D,EAAEjC,OAAOiC,EAAEnC,QAAQ,oBAAoBmC,EAAEjC,KAAK4G,EAAE,IAAIzI,GAAMgJ,EAAE,EAAEL,EAAE,EAAQyO,EAAE,WAAK3O,EAAE/B,OAAO5G,GAAG,IAAMa,EAAER,IAAIa,EAAE8hB,WAAW9f,GAAEX,KAAKA,EAAEpB,SAAS0zB,MAAUryB,GAAE,EAAG,IAAI3B,GAAGqC,GAAEX,GAAG,CAAC,IAAMvC,EAAEuC,EAAEpB,SAASD,EAAEoD,aAAE/B,EAAEpB,SAAShB,EAAE40B,kBAAkBpqB,EAAExK,EAAEg0B,oBAAoB30B,YAAE+K,GAAEvK,EAAEgE,EAAEhE,EAAEuD,EAAErC,GAAGkE,YAAEmF,GAAEvK,EAAEqD,iBAAiBkH,GAAEpK,EAAEg0B,mBAAmB9wB,kBAAkBM,EAAEm9B,mCAAmCv2B,IAAGpF,EAAEi8B,4BAA4B72B,QAAO/H,GAAE,EAAI,IAAMxC,EAAE,EAAE2I,EAAE03B,cAAc97B,EAAE6O,eAAeH,yBAAyB,EAAEjT,IAAIkJ,IAAIA,EAAElJ,EAAEuE,EAAE6O,eAAeN,YAAY+mB,MAAM/3B,EAAE9B,IAAK,IAAMA,EAAE6D,YAAEqG,KAAIrJ,GAAGK,EAAEi/B,YAAY1gC,EAAE4hC,mBAAmBrhC,IAAIoF,YAAEX,YAAEzE,EAAEuK,IAAGpK,EAAEkD,iBAAiBkH,GAAEpK,EAAEg0B,mBAAmB9wB,mBAAmBvB,EAAEi/B,qBAAqBx2B,GAAEzI,EAAE4vB,UAAS,GAAI5vB,EAAE4vB,UAAS,EAAI,IAAM1xB,EAAE,EAAE2I,EAAE03B,cAAc97B,EAAE6O,eAAeH,yBAAyB,EAAEjT,IAAI6I,IAAIA,EAAE7I,EAAEuE,EAAE6O,eAAeP,cAAcH,YAAYmnB,MAAM10B,EAAEnF,IAAI,IAAM4B,EAAEY,GAAGtB,EAAEi/B,aAAat/B,EAAEsE,EAAEusB,SAAS9vB,EAAE+B,EAAE+tB,SAAS9vB,GAAGY,EAAE+I,KAAKrK,EAAE4B,MAAM,CAAC,aAAa,YAAYwU,GAAGpW,EAAEo3B,GAAG,UAAUhhB,IAAItX,EAAEygC,oBAAoB,SAAAzgC,GAAIwC,EAAE+I,KAAKvL,EAAEY,OAAO03B,GAAG,eAAehhB,OAAO9U,EAAE+I,KAAK1K,aAAEsE,IAAI3C,EAAE+I,KAAK1K,aAAE8C,IAAInB,EAAE+I,KAAK1K,aAAEiB,IAAIwV,IAArkD,CAA0kD7X,EAAEkL,EAAEtK,EAAEsI,GAAGtI,EAAEkL,KAAKpG,EAAE+7B,kBAAkBv2B,IAAI,CAACg2B,cAAch4B,EAAE9F,OAAjB,WAA0B3B,aAAEb,GAAGwC,WAAW,SAASK,GAAEhC,GAAG,OAAOlB,YAAEkB,EAAEC,WAAW,UAAUD,EAAEC,SAASuB,KAAK,IAAM6H,GAAE9K,cAAIyK,GAAE/E,cCA9lH,SAASvD,GAAEA,GAAG,OAAO5B,YAAE4B,EAAEH,QAAQN,UAAUuB,MAAM,IAAI,QAAQ,OAAOjD,GAAEmC,GAAG,IAAI,UAAU,IAAI,WAAW,OAAOV,GAAEU,GAAG,QAAQ,OAAO,MCAzU,IAAMV,GAAE,CAAC,EAAE,GAAG,GAASlB,GAAE,GAAyBwH,GAAEwC,KAAKoC,KAAK,GAAG,EAAE,GAAGlC,GAAE,IAAwCpI,GAAE,EAAEkI,KAAK8L,GAAG,GAAGxR,GAAE,EAAE0F,KAAK8L,GAAG,E,mBCAsa,SAAS9V,GAAEkB,EAAEL,EAAErB,GAAG,IAAMW,EAAEU,EAAE,GAAGpB,EAAEoB,EAAE,GAAG4D,EAAE5D,EAAE,GAAG2B,EAAE3B,EAAE,GAAG8C,EAAEnE,EAAE,GAAGQ,EAAER,EAAE,GAAGoC,EAAEpC,EAAE,GAAGyD,EAAEzD,EAAE,GAAG,OAAO0B,EAAE,GAAGf,EAAEwD,EAAEc,EAAEzE,EAAEkB,EAAE,GAAGzB,EAAEkE,EAAEnB,EAAExC,EAAEkB,EAAE,GAAGf,EAAEyB,EAAE6C,EAAExB,EAAE/B,EAAE,GAAGzB,EAAEmC,EAAEY,EAAES,EAAE/B,EAAgQ,SAAS2C,GAAE3C,EAAEL,GAAG,IAAMrB,EAAEwK,KAAKs3B,IAAIzgC,GAAGV,EAAE6J,KAAKu3B,IAAI1gC,GAAG,OAAOK,EAAE,GAAGf,EAAEe,EAAE,GAAG1B,EAAE0B,EAAE,IAAI1B,EAAE0B,EAAE,GAAGf,EAAEe,EAAqZ,SAASoD,GAAEpD,EAAEL,EAAErB,GAAG,OAAO0B,EAAE,GAAGL,EAAE,GAAGrB,EAAE,GAAG0B,EAAE,GAAGL,EAAE,GAAGrB,EAAE,GAAG0B,EAAE,GAAGL,EAAE,GAAGrB,EAAE,GAAG0B,EAAE,GAAGL,EAAE,GAAGrB,EAAE,GAAG0B,EAAoiB,IAAImL,GAAErM,GAAEmE,GAAEG,GAAQiJ,OAAOC,OAAO,CAACC,UAAU,KAAK/E,KAAhjE,SAAWxH,EAAEL,GAAG,OAAOK,EAAE,GAAGL,EAAE,GAAGK,EAAE,GAAGL,EAAE,GAAGK,EAAE,GAAGL,EAAE,GAAGK,EAAE,GAAGL,EAAE,GAAGK,GAAw/DsgC,SAAt/D,SAAWtgC,GAAG,OAAOA,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAEA,GAAg9D+O,IAA98D,SAAW/O,EAAEL,EAAErB,EAAEW,EAAEV,GAAG,OAAOyB,EAAE,GAAGL,EAAEK,EAAE,GAAG1B,EAAE0B,EAAE,GAAGf,EAAEe,EAAE,GAAGzB,EAAEyB,GAA25DugC,UAAz5D,SAAWvgC,EAAEL,GAAG,GAAGK,IAAIL,EAAE,CAAC,IAAMrB,EAAEqB,EAAE,GAAGK,EAAE,GAAGL,EAAE,GAAGK,EAAE,GAAG1B,OAAO0B,EAAE,GAAGL,EAAE,GAAGK,EAAE,GAAGL,EAAE,GAAGK,EAAE,GAAGL,EAAE,GAAGK,EAAE,GAAGL,EAAE,GAAG,OAAOK,GAAyzDwgC,OAAvzD,SAAWxgC,EAAEL,GAAG,IAAMrB,EAAEqB,EAAE,GAAGV,EAAEU,EAAE,GAAGpB,EAAEoB,EAAE,GAAG4D,EAAE5D,EAAE,GAAO2B,EAAEhD,EAAEiF,EAAEhF,EAAEU,EAAE,OAAOqC,GAAGA,EAAE,EAAEA,EAAEtB,EAAE,GAAGuD,EAAEjC,EAAEtB,EAAE,IAAIf,EAAEqC,EAAEtB,EAAE,IAAIzB,EAAE+C,EAAEtB,EAAE,GAAG1B,EAAEgD,EAAEtB,GAAG,MAAusDygC,QAAlsD,SAAWzgC,EAAEL,GAAG,IAAMrB,EAAEqB,EAAE,GAAG,OAAOK,EAAE,GAAGL,EAAE,GAAGK,EAAE,IAAIL,EAAE,GAAGK,EAAE,IAAIL,EAAE,GAAGK,EAAE,GAAG1B,EAAE0B,GAAioD0gC,YAA/nD,SAAW1gC,GAAG,OAAOA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAumD2gC,SAAS7hC,GAAE8hC,OAAl+C,SAAW5gC,EAAEL,EAAErB,GAAG,IAAMW,EAAEU,EAAE,GAAGpB,EAAEoB,EAAE,GAAG4D,EAAE5D,EAAE,GAAG2B,EAAE3B,EAAE,GAAG8C,EAAEqG,KAAKs3B,IAAI9hC,GAAGQ,EAAEgK,KAAKu3B,IAAI/hC,GAAG,OAAO0B,EAAE,GAAGf,EAAEH,EAAEyE,EAAEd,EAAEzC,EAAE,GAAGzB,EAAEO,EAAEwC,EAAEmB,EAAEzC,EAAE,GAAGf,GAAGwD,EAAEc,EAAEzE,EAAEkB,EAAE,GAAGzB,GAAGkE,EAAEnB,EAAExC,EAAEkB,GAA81C6gC,MAA51C,SAAW7gC,EAAEL,EAAErB,GAAG,IAAMW,EAAEU,EAAE,GAAGpB,EAAEoB,EAAE,GAAG4D,EAAE5D,EAAE,GAAG2B,EAAE3B,EAAE,GAAG8C,EAAEnE,EAAE,GAAGQ,EAAER,EAAE,GAAG,OAAO0B,EAAE,GAAGf,EAAEwD,EAAEzC,EAAE,GAAGzB,EAAEkE,EAAEzC,EAAE,GAAGuD,EAAEzE,EAAEkB,EAAE,GAAGsB,EAAExC,EAAEkB,GAAuvC8gC,aAAan+B,GAAEo+B,YAA5qC,SAAW/gC,EAAEL,GAAG,OAAOK,EAAE,GAAGL,EAAE,GAAGK,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAEA,EAAE,GAAGL,EAAE,GAAGK,GAAioCghC,IAA/nC,SAAWhhC,GAAG,MAAM,QAAQA,EAAE,GAAG,KAAKA,EAAE,GAAG,KAAKA,EAAE,GAAG,KAAKA,EAAE,GAAG,KAAskCihC,KAAlkC,SAAWjhC,GAAG,OAAO8I,KAAKC,KAAKD,KAAKinB,IAAI/vB,EAAE,GAAG,GAAG8I,KAAKinB,IAAI/vB,EAAE,GAAG,GAAG8I,KAAKinB,IAAI/vB,EAAE,GAAG,GAAG8I,KAAKinB,IAAI/vB,EAAE,GAAG,KAAy+BkhC,IAAr+B,SAAWlhC,EAAEL,EAAErB,EAAEW,GAAG,OAAOe,EAAE,GAAGf,EAAE,GAAGA,EAAE,GAAGX,EAAE,GAAGW,EAAE,GAAGX,EAAE,GAAGW,EAAE,GAAGX,EAAE,GAAGW,EAAE,GAAGe,EAAE,GAAG1B,EAAE,GAAG,CAAC0B,EAAEL,EAAErB,IAAo5BK,IAAj5B,SAAWqB,EAAEL,EAAErB,GAAG,OAAO0B,EAAE,GAAGL,EAAE,GAAGrB,EAAE,GAAG0B,EAAE,GAAGL,EAAE,GAAGrB,EAAE,GAAG0B,EAAE,GAAGL,EAAE,GAAGrB,EAAE,GAAG0B,EAAE,GAAGL,EAAE,GAAGrB,EAAE,GAAG0B,GAAk0BmhC,SAAS/9B,GAAEg+B,YAApvB,SAAWphC,EAAEL,GAAG,OAAOK,EAAE,KAAKL,EAAE,IAAIK,EAAE,KAAKL,EAAE,IAAIK,EAAE,KAAKL,EAAE,IAAIK,EAAE,KAAKL,EAAE,IAA2rBuC,OAAxrB,SAAWvC,EAAErB,GAAG,IAAMW,EAAEU,EAAE,GAAGpB,EAAEoB,EAAE,GAAG4D,EAAE5D,EAAE,GAAG2B,EAAE3B,EAAE,GAAG8C,EAAEnE,EAAE,GAAGQ,EAAER,EAAE,GAAGoC,EAAEpC,EAAE,GAAGyD,EAAEzD,EAAE,GAAG,OAAOwK,KAAK6B,IAAI1L,EAAEwD,IAAIzC,KAAE8I,KAAK/C,IAAI,EAAE+C,KAAK6B,IAAI1L,GAAG6J,KAAK6B,IAAIlI,KAAKqG,KAAK6B,IAAIpM,EAAEO,IAAIkB,KAAE8I,KAAK/C,IAAI,EAAE+C,KAAK6B,IAAIpM,GAAGuK,KAAK6B,IAAI7L,KAAKgK,KAAK6B,IAAIpH,EAAE7C,IAAIV,KAAE8I,KAAK/C,IAAI,EAAE+C,KAAK6B,IAAIpH,GAAGuF,KAAK6B,IAAIjK,KAAKoI,KAAK6B,IAAIrJ,EAAES,IAAI/B,KAAE8I,KAAK/C,IAAI,EAAE+C,KAAK6B,IAAIrJ,GAAGwH,KAAK6B,IAAI5I,KAAyZs/B,eAArZ,SAAWrhC,EAAEL,EAAErB,GAAG,OAAO0B,EAAE,GAAGL,EAAE,GAAGrB,EAAE0B,EAAE,GAAGL,EAAE,GAAGrB,EAAE0B,EAAE,GAAGL,EAAE,GAAGrB,EAAE0B,EAAE,GAAGL,EAAE,GAAGrB,EAAE0B,GAA6VshC,qBAA3V,SAAWthC,EAAEL,EAAErB,EAAEW,GAAG,OAAOe,EAAE,GAAGL,EAAE,GAAGrB,EAAE,GAAGW,EAAEe,EAAE,GAAGL,EAAE,GAAGrB,EAAE,GAAGW,EAAEe,EAAE,GAAGL,EAAE,GAAGrB,EAAE,GAAGW,EAAEe,EAAE,GAAGL,EAAE,GAAGrB,EAAE,GAAGW,EAAEe,GAAmRuhC,IAAIp2B,GAAEq2B,IAAIv+B,KCA3zE,SAASnE,KAAI,MAAM,CAAC,EAAE,EAAE,EAAE,GAAsIuN,OAAOC,OAAO,CAACC,UAAU,KAAKhG,OAAOzH,GAAEwD,MAA1K,SAAWxD,GAAG,MAAM,CAACA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAA4I2iC,WAAxI,SAAW3iC,EAAEP,EAAEoB,EAAEK,GAAG,MAAM,CAAClB,EAAEP,EAAEoB,EAAEK,IAAoH0lB,WAAjH,SAAW5mB,EAAEP,GAAG,OAAO,IAAIoV,aAAa7U,EAAEP,EAAE,MCAgc,SAASgF,GAAEvD,EAAEL,EAAEb,GAAG,IAAMP,EAAEyB,EAAEO,QAAQe,EAAE,SAACtB,EAAElB,GAAH,OAAOa,EAAE,CAACsB,OAAOjB,EAAEO,QAAQhC,EAAEmjC,SAAS5iC,EAAE6iC,aAAaC,SAAS9iC,EAAE+iC,gBAAe,OAAO/iC,GAAG,SAACkB,EAAEL,EAAEb,GAAKa,EAAEuK,MAAM,SAAAlK,GAAC,MAAG,UAAUA,EAAEiB,QAAQK,EAAE,QAAQtB,GAAGA,KAAKkK,KAAKhG,aAAE3F,IAAI2L,MAAM,SAAAlK,GAAI,OAAOA,EAAEiB,QAAQ,IAAI,QAAQ,IAAI,UAAUjB,EAAE8hC,cAAc9hC,EAAE+hC,cAAc/hC,EAAEgiC,eAAe1gC,EAAE,SAAStB,GAAG,MAAM,IAAI,MAAMsB,EAAE,MAAMtB,GAAG,OAAOA,KAAKlB,EAAEoL,KAAK7I,aAAE9C,IAAI2L,MAAM,WAAK5I,EAAE,MAAM,CAACqgC,aAAa,EAAEE,aAAa,UAAU,SAASl/B,GAAE1D,GAAG,GAAGe,YAAEf,IAAI,aAAaA,EAAEuC,MAAM,YAAYvC,EAAEuC,KAAK,OAAO,EAAE,IAAMlD,EAAEoC,sBAAEzB,GAAG8C,EAAEzD,GAAGA,EAAEi1B,OAAOj1B,EAAEi1B,MAAM,GAAG,IAAIxxB,EAAE,OAAO,GAAG,SAAS/B,GAAG,IAAD,EAAKL,EAAE,EAAEb,EAAE,EAAX,cAA4BkB,GAA5B,IAAa,gCAAUzB,EAAV,QAAiBoB,GAAGpB,EAAE,GAAGO,GAAGP,EAAE,IAA3C,8BAA8CoB,GAAGK,EAAEgK,OAAOlL,GAAGkB,EAAEgK,OAA/D,oBAAqFhK,GAArF,IAAsE,gCAAUzB,EAAV,QAAiBA,EAAE,IAAIoB,EAAEpB,EAAE,IAAIO,GAArG,+BAAX,CAAmHiD,GAAc,IAAX,IAAMmC,EAAE,GAAWlE,EAAE,EAAEA,EAAE+B,EAAEiI,OAAO,EAAEhK,IAAI,CAAC,IAAMlB,EAAEgK,KAAKg2B,MAAM/8B,EAAE/B,EAAE,GAAG,GAAG+B,EAAE/B,GAAG,GAAG+B,EAAE/B,EAAE,GAAG,GAAG+B,EAAE/B,GAAG,IAAIzB,EAAEoB,KAAEsiC,UAAUnjC,IAAIgK,KAAK8L,GAAG,GAAG1Q,EAAEmG,KAAK9L,GAAG,IAA/W,EAAqX8C,EAAE6C,EAAEoG,MAAM,SAACtK,EAAEL,GAAH,OAAOK,EAAEL,KAAQ4D,EAAE,KAAKZ,EAAE,EAAEN,EAAE6/B,OAAOC,kBAAkBr/B,EAAE,EAAxb,cAAyczB,GAAzc,IAA0b,2BAAiB,KAAPrB,EAAO,QAAC,GAAGA,IAAIuD,EAAP,CAAkBA,EAAEvD,EAAEiE,GAAE7B,GAAEpC,GAAGlB,aAAEsE,IAAhC,oBAAkDrB,GAAlD,IAAmC,gCAAU/B,EAAV,QAAiByC,aAAEzD,GAAEgB,EAAEoC,IAAG7D,aAAE6E,GAAEpE,KAAjE,8BAAoE,IAAMW,EAAE2B,aAAE8B,MAAKzD,EAAE0C,EAAEA,EAAE1C,EAAEA,EAAE0C,IAAI,KAAKrC,EAAE2C,GAAGhD,EAAE0C,KAAKM,EAAE3C,EAAEqC,EAAE1C,GAAGmD,EAAEgG,KAAK/C,IAAIjD,EAAEnD,KAAnlB,8BAAslB,OAAO0C,EAAES,GAAG,IAAI,EAAEH,EAAE,IAAMP,GDAzmD,CAAC,EAAE,EAAE,EAAE,GCAwmDgB,GAAEnE,eAAID,GAAEV,eCA7kD0B,G,WAAE,aAAa,oBAACE,KAAK45B,YAAW,E,0CAAG,SAAax7B,GAAG4B,KAAKkiC,sBAAsB,SAAApiC,GAAC,OAAEA,EAAE+7B,SAASz9B,O,oCAAI,SAA6BA,GAAG4B,KAAKkiC,sBAAsB,SAAApiC,GAAC,OAAEA,EAAE67B,yBAAyBv9B,O,yBAAI,SAAkBA,GAAG4B,KAAKkiC,sBAAsB,SAAApiC,GAAC,OAAEA,EAAEQ,cAAclC,O,qBAAI,WAAgB,OAAO4B,KAAK45B,Y,IAAW,SAAcx7B,GAAG4B,KAAK45B,WAAWx7B,EAAE4B,KAAKkiC,sBAAsB,SAAApiC,GAAC,OAAEA,EAAEw8B,UAAUl+B,O,oBAAI,WAAe,OAAO4B,KAAKmiC,iBAAiB,SAAA/jC,GAAC,OAAEA,EAAEkhC,c,oBAAW,WAAe,OAAOt/B,KAAKmiC,iBAAiB,SAAA/jC,GAAC,OAAEA,EAAEkB,c,4BAAW,SAAelB,GAAG,OAAO4B,KAAKmiC,iBAAiB,SAAAriC,GAAC,OAAEA,IAAI1B,O,6BAAI,SAAgBA,GAAG,IAAI0B,GAAE,EAAG,OAAOE,KAAKq/B,oBAAoB,SAAA7+B,IAAKV,GAAG1B,EAAEoC,KAAKV,GAAE,MAAOA,I,kCAAE,SAAqBA,GAAGE,KAAKq/B,oBAAoB,SAAC7+B,EAAEY,GAAKZ,aAAapC,IAAG0B,EAAEU,EAAEY,U,KCAhQS,G,WAAE,WAAY/B,GAAE,oBAACE,KAAK8tB,QAAQ,IAAIruB,KAAEO,KAAK6tB,QAAQ,IAAIprB,KAAEzC,KAAK0F,UAAU,IAAIxC,KAAElD,KAAKoiC,gBAAgB,CAACC,cAAc,EAAEC,iBAAiB,GAAGtiC,KAAKuiC,UAAU,KAAKviC,KAAKqE,eAAe,KAAKrE,KAAKmG,KAAK,CAACQ,OAAOtI,cAAIoI,UAAUpI,eAAK2B,KAAKwiC,aAAankC,cAAI2B,KAAKyiC,0BAA0BpkC,cAAI2B,KAAK0iC,wBAAwBrkC,cAAI2B,KAAK8M,YAAY,MAAMhN,EAAE,EAAEA,E,qCAAE,WAAU,OAAOE,KAAKmG,O,yBAAK,WAAoB,OAAOnG,KAAKmG,KAAKQ,S,uBAAO,WAAkB,OAAO3G,KAAKwiC,e,mBAAa,SAAM1iC,EAAEzB,GAAG2B,KAAK2iC,aAAavkC,KAAE2+B,WAAWj9B,EAAEzB,EAAE2B,KAAKmG,S,0BAAO,SAAarG,GAAGA,IAAIE,KAAKmG,MAAM/H,KAAEkJ,KAAKxH,EAAEE,KAAKmG,MAAM,IAAInG,KAAK8tB,QAAQzpB,eAAe,IAAIrE,KAAK8M,YAAY9M,KAAKmG,KAAKQ,OAAO,IAAI3G,KAAK8tB,QAAQzpB,eAAerE,KAAKqE,eAAerE,KAAK8tB,QAAQzpB,eAAerE,KAAKqE,eAAe,KAAKtF,YAAEiB,KAAKwiC,aAAaxiC,KAAKmG,KAAKQ,OAAO3G,KAAKmG,KAAKM,WAAWzG,KAAK4iC,kBAAkB,EAAE5iC,KAAK6tB,QAAQ9nB,KAAK/F,KAAKmG,Q,uBAAM,SAAU9H,EAAEU,EAAEH,EAAE4B,EAAEpC,EAAEgD,GAAE,WAACpB,KAAK6iC,MAAM9jC,EAAEiB,KAAKuD,OAAO3E,EAAEoB,KAAK8iC,gBAAgB1kC,EAAE4B,KAAKuiC,UAAU,MAAM/hC,EAAE,KAAKA,EAAE,IAAMf,EAAE8C,aAAEvC,KAAKqE,gBAAgB5B,EAAErB,EAAE,SAAAtB,GAAIsB,EAAEtB,IAAI,EAAKijC,gBAAgBjjC,IAAI,SAAAA,GAAI,EAAKijC,gBAAgBjjC,IAAI,GAAGzB,GAAGA,EAAEyL,OAAO,EAAf,qBAAgCzL,GAAhC,IAAiB,2BAAiB,KAAPU,EAAO,QAAOV,EAAEU,EAAEikC,4BAA4BjkC,EAAEikC,6BAA6B,GAAG3kC,EAAEyB,YAAEL,GAAGpB,EAAE4kC,kCAAkCjjC,KAAKmG,KAAKQ,OAAO3G,KAAKmG,KAAKM,UAAUhE,EAAEhD,GAAGpB,EAAE6kC,gBAAgBljC,KAAKmG,KAAKQ,OAAO3G,KAAKmG,KAAKM,UAAUhE,GAAGzC,KAAK8tB,QAAQxpB,eAAetE,KAAK8tB,QAAQvpB,KAAKlG,EAAE8kC,wBAAwB1gC,OAAO,CAAC,IAAD,EAAO3C,EAAEf,EAAEqkC,aAAX,cAAuCtjC,GAAvC,IAAwB,4BAAiB2C,EAAjB,UAAxB,iCAAzU,+BAAwXzC,KAAKqjC,gB,6BAAc,SAAgBhlC,GAAE,WAAC2B,KAAK4iC,oBAAoB,IAAM7jC,EAAEV,EAAEilC,gBAAgB,GAAIvkC,EAAJ,CAAa,IAA0C0D,EAA3G,EAAuErE,EAAEC,EAAEwb,GAAGpa,EAAEpB,EAAE+/B,qBAAiCl7B,EAAEX,aAAEvC,KAAKqE,gBAA5H,cAA2JtF,GAA3J,yBAAsJwD,EAAtJ,QAA6KxD,EAAmCwD,EAA5CxC,SAAoB8B,EAAwBU,EAAjCiQ,SAA8BzO,EAAGxB,EAAtBsQ,mBAAwB,GAAGzR,aAAE2C,GAAG,iBAAStB,EAAE1D,EAAE8a,GAAG,EAAKnU,UAAU69B,+BAA+B9jC,EAAE8C,EAAEorB,2BAA2B/uB,YAAE,EAAK6jC,0BAA0B,EAAKt8B,KAAKQ,OAAO,EAAKjB,UAAUgE,SAAS9K,YAAE,EAAK8jC,wBAAwB,EAAKF,aAAa,EAAK98B,UAAUgE,SAAS,IAAMrG,EAAE,EAAKqC,UAAUA,UAAU5F,YAAEoD,KAAKA,EAAEuG,gBAAgB,EAAK/D,WAAW7D,EAAE6rB,UAAU3uB,EAAEgF,EAAE,EAAK2B,UAAUA,UAAU,EAAK,EAAK+8B,0BAA0B,EAAKC,yBAAyB,SAAC3jC,EAAEH,EAAEwC,EAAE3B,EAAEyD,EAAEX,GAAK,GAAGxD,GAAG,EAAE,CAAC,GAAGe,YAAE,EAAKgjC,mBAAmB,EAAKA,gBAAgB,EAAK38B,KAAKQ,OAAO,EAAK67B,aAAazjC,GAAG,OAAO,GAAGmE,EAAE,aAAa,MAAM,EAAK2qB,QAAQtpB,IAAI+B,MAAMvH,EAAE,EAAK8uB,QAAQtpB,IAAI+B,OAAO,EAAKunB,QAAQtpB,IAAIsK,IAAIxQ,EAAED,EAAEW,EAAEH,EAAE4B,KAAEf,EAAE8C,EAAEE,EAAErB,IAAI,IAAMS,EAAE,SAAA/B,GAAC,OAAEA,EAAE+O,IAAIxQ,EAAED,EAAEW,EAAEH,EAAEyE,EAAE5D,EAAE,KAAKgD,EAAErB,IAAG,IAAI,MAAM,EAAKysB,QAAQjoB,IAAIoB,kBAAkBvH,GAAG,EAAKouB,QAAQjoB,IAAIoB,oBAAoB,MAAM,EAAK6mB,QAAQjoB,IAAIU,MAAMvH,EAAE,EAAK8uB,QAAQjoB,IAAIU,OAAOzE,EAAE,EAAKgsB,QAAQjoB,KAAK,IAAI,EAAKkoB,QAAQlpB,QAAQ,MAAM,EAAKipB,QAAQhoB,IAAImB,kBAAkBvH,EAAE,EAAKouB,QAAQhoB,IAAImB,oBAAoB,MAAM,EAAK6mB,QAAQhoB,IAAIS,MAAMvH,EAAE,EAAK8uB,QAAQhoB,IAAIS,OAAOzE,EAAE,EAAKgsB,QAAQhoB,KAAK,IAAI,EAAKioB,QAAQlpB,MAAM,CAAC,IAAM9E,EAAE,IAAIqB,KAAE,EAAKgF,MAAMtE,EAAE/B,GAAG,EAAK+tB,QAAQ7nB,IAAImE,KAAKrK,OAAOyC,EAAE4Q,uBAA7qC,2BAAiB,IAA7J,kC,yBAAg1C,WAAcnT,KAAK6tB,QAAQ7nB,IAAIoE,MAAM,SAACtK,EAAEzB,GAAH,OAAOyB,EAAEwG,OAAOjI,EAAEiI,KAAKxG,EAAEwG,KAAKjI,EAAEiI,KAAKxG,EAAEkH,mBAAmB3I,EAAE2I,uBAAkB,IAASlH,EAAEkH,iBAAiBlH,EAAEkH,iBAAiBg7B,OAAOwB,iBAAY,IAASnlC,EAAE2I,iBAAiB3I,EAAE2I,iBAAiBg7B,OAAOwB,iBAAY,IAASnlC,EAAE4I,wBAAwB5I,EAAE4I,wBAAwB+6B,OAAOyB,iBAAY,IAAS3jC,EAAEmH,wBAAwBnH,EAAEmH,wBAAwB+6B,OAAOyB,kB,KCA9rF,SAAS37B,GAAErI,EAAEK,GAAG,IAAMsB,EAAEZ,cAAIW,EAAEX,cAAQpC,GAAE,EAAG,OAAO,SAAAoC,GAAI,GAAG,UAAUA,EAAEO,OAAO,CAAC,IAAM1C,EAAEU,aAAEyB,EAAEkjC,YAAYnhC,aAAE0U,KAAE7I,QAAQjN,EAAEyB,KAAEg6B,WAAWn9B,EAAE6D,MAAMC,OAAOlF,EAAEqE,IAAG9D,YAAEuC,KAAK/C,EAAE+E,KAAEk6B,aAAav9B,EAAEqB,EAAEC,IAAI,IAAIhD,EAAE,OAAO,KAAK,IAAMiF,EAAEtE,aAAEyB,EAAEmjC,UAAUphC,aAAE0U,KAAE7I,QAAQrK,EAAEnB,KAAEg6B,WAAWn9B,EAAE6D,MAAMC,OAAOF,EAAEX,IAAG,OAAOrE,YAAE0F,GAAG,KAAKZ,KAAEk6B,aAAav9B,EAAEiE,EAAE5C,GAAnB,2BAA0BX,GAA1B,IAA4BojC,YAAYxiC,EAAEyiC,UAAU1iC,EAAE2iC,MAAMhkC,EAAE0G,IAAIzC,IAAG,MAAM,SAAS9E,GAAEQ,EAAEK,EAAEsB,GAAS,IAAPrC,EAAO,uDAAL,KAAUwD,EAAE,KAAK,OAAO,SAAA/B,GAAI,GAAG,UAAUA,EAAEO,SAASwB,EAAE9C,EAAEskC,wBAAwBC,6BAA6B7iC,aAAEX,EAAEkjC,YAAY9gC,EAAEpC,EAAEkjC,YAAYvhC,GAAGrC,EAAEsB,GAAGxC,YAAE2D,IAAI3D,YAAEG,KAAKmD,YAAEK,EAAEA,EAAExD,IAAI,OAAO,KAAK,GAAGV,YAAEkE,GAAG,OAAO,KAAK,IAAMnE,EAAEqB,EAAEskC,wBAAwBC,6BAA6B7iC,aAAEX,EAAEmjC,UAAU/gC,EAAEpC,EAAEmjC,UAAUxhC,GAAGrC,EAAEsB,GAAG,OAAOxC,YAAER,GAAGQ,YAAEG,KAAKmD,YAAE9D,EAAEA,EAAEW,GAAG,KAAhB,2BAAyByB,GAAzB,IAA2ByjC,SAAS1hC,EAAE2hC,OAAO9lC,IAAG,MAAM,SAASkX,GAAE1W,EAAEP,EAAEoB,GAAS,IAAPK,EAAO,uDAAL,KAAM,OAAOb,GAAEL,EAAEa,EAAE0C,YAAE9D,EAAEO,EAAEa,GAAGK,GAAG,SAAS2H,GAAE7I,EAAEP,EAAEoB,GAAS,IAAPK,EAAO,uDAAL,KAAM,OAAOwV,GAAE1W,EAAEa,EAAEX,YAAET,GAAGyB,GAAgG,SAAS2C,GAAE7D,EAAEP,EAAEoB,GAAG,IAAIK,EAAE,KAAWsB,EAAE,IAAI0H,KAAE,OAAO1H,EAAE4I,KAAKlC,GAAElJ,EAAE,SAASA,EAAEP,GAAG,IAAMoB,EAAEyW,GAAEpW,EAAEmL,GAAE7J,EAAE+B,KAAEkD,SAASzH,EAAEm0B,mBAAmBoR,kBAAkB9lC,EAAEoB,GAAG,IAAMV,EAAE+C,YAAEV,EAAE3B,EAAEsE,YAAEjE,EAAEzB,EAAEO,EAAE0E,MAAMC,OAAOC,MAAM,OAAO1B,YAAE/C,EAAEA,EAAEU,GAAG0D,KAAE+5B,sBAAsB7+B,EAAEU,EAAEqC,GAA1K,CAA8KxC,EAAEP,KAAK2L,KAAsH,SAAWpL,EAAEP,GAAG,IAAMoB,EAAEe,cAAIV,EAAEuD,YAAEhF,GAAGO,EAAEm0B,mBAAmBoR,kBAAkB9lC,EAAEoB,GAAG,IAAMV,EAAEyB,cAAI+B,EAAE/B,cAAIW,EAAE,SAAApC,GAA0G,OAAnGgF,YAAEhF,EAAEA,EAAEV,GAAGqC,KAAE0jC,aAAa3kC,EAAEV,EAAEA,GAAG,WAAWH,EAAEkO,aAAazJ,YAAEtE,GAAGqC,aAAE8B,YAAEzD,EAAEV,IAAI,KAAKe,GAAGiE,YAAEhF,EAAEiF,YAAEjF,EAAEU,EAAE,MAAMpB,GAAUwD,YAAE9C,EAAEA,EAAEV,GAAGU,GAAG,OAAO,SAAAH,GAAC,OAAGA,EAAEglC,YAAYziC,EAAE/C,YAAEW,EAAEH,EAAEglC,cAAchlC,EAAEilC,UAAU1iC,EAAE/C,YAAEmE,EAAE3D,EAAEilC,YAAYjlC,GAAhasG,CAAEtG,EAAEP,IAAI2L,KAA2Z,SAAW3L,EAAEoB,GAAG,IAAM2B,EAAE/C,EAAE00B,mBAAmB,OAAO,SAAA10B,GAAI,IAAMU,EAAEqC,EAAE4xB,iBAAiB30B,EAAEulC,YAAY,IAAI9jC,KAAEL,GAAG8C,EAAEnB,EAAE4xB,iBAAiB30B,EAAEwlC,UAAU,IAAI/jC,KAAEL,GAAG,OAAOb,YAAEG,IAAIH,YAAE2D,GAAR,2BAAelE,GAAf,IAAiB4lC,SAASllC,EAAEmlC,OAAO3hC,IAAG,MAAvlBgH,CAAE3K,EAAEa,IAAIuK,MAAM,SAAApL,GAAIA,EAAEslC,OAAOthC,EAAEhE,EAAEqlC,SAASrhC,EAAEhE,EAAEslC,OAAO/hC,EAAEvD,EAAEqlC,SAAS9hC,EAAErC,EAAElB,KAAK,SAAAA,GAAC,OAAGkB,EAAE,KAAKsB,EAAEijC,QAAQzlC,GAAGkB,GDA+7C+B,GAAEyiC,kBAAkB,KCAM,IAAMpuB,GAAE1V,cAAIyK,GAAEzK,cAAIkC,GAAEE,KAAEyD,SCA/1EoB,G,kDAAY,WAAY3H,GAAE,kCAAC,gBAAakqB,SAAS,IAAIjrB,KAAE,EAAKwlC,uBAAuB,IAAIx6B,MAAM,EAAKy6B,gBAAgB,EAAKC,iBAAiB,EAAKC,qBAAqB,EAAKD,eAAe,IAAI,EAAKE,OAAO,EAAE,EAAKC,OAAO,EAAE,EAAK9K,QAAQ50B,GAAE,EAAK2/B,kBAAiB,EAAG,EAAKrlC,OAAO,IAAInB,IAAE,EAAKymC,MAAMhlC,EAAEilC,KAAK,EAAKC,MAAMllC,EAAEuB,KAAK,MAAMvB,EAAE6J,SAAS,EAAKmwB,QAAQh6B,EAAE6J,QAAQ,EAAKs7B,sBAAsB,EAAK5F,oBAAoB,SAAAv/B,GAAC,OAAE,EAAKglC,MAAMjO,aAAap4B,IAAIqB,MAArZ,E,qDAA0Z,SAAwBA,GAAGE,KAAKukC,uBAAuB,GAAGW,YAAY5I,UAAUx8B,EAAEE,KAAKukC,uBAAuB,GAAGW,YAAY5I,UAAUx8B,I,qBAAE,WAAS,WAACE,KAAKq/B,oBAAoB,SAAAv/B,GAAI,EAAKglC,MAAMjO,aAAap1B,OAAO3B,GAAGA,EAAE4rB,aAAa1rB,KAAKgqB,SAASmb,YAAYnlC,KAAK8kC,MAAM,KAAK9kC,KAAKglC,MAAM,KAAKhlC,KAAKukC,uBAAuBz6B,OAAO,I,gCAAE,SAAmBhK,GAAGE,KAAKukC,uBAAuB38B,KAAK,gBAAcxJ,EAAd,EAAE8mC,YAAF,OAAmBplC,EAAE1B,EAAE,Q,uCAAK,SAA0BA,EAAEC,GAAE,WAAOO,EAAER,EAAEiC,QAAQG,EAAE0C,YAAEtE,GAAGwC,EAAEtB,YAAElB,EAAEmB,UAAUkC,iBAAiB,OAAOH,GAAE1D,EAAEC,GAAG,SAAAyB,GAAC,OAAE,EAAKslC,mBAAmBtlC,EAAEU,EAAEY,Q,gCAAK,SAAmBtB,EAAEzB,EAAEO,GAAE,WAAC,OAAOR,aAAE4B,KAAKukC,uBAAuB38B,KAAK,WAAiBpH,GAAjB,IAAcpC,EAAd,EAAE8mC,YAAF,OAAqB3kC,aAAEnC,GAAG,SAACA,EAAEgD,EAAErC,EAAEU,EAAE0B,GAAK,IAAM6C,EAAE5C,EAAE4I,MAAM,SAAAlK,GAAC,kCAAOA,GAAP,IAASulC,gBAAgB,OAAMr7B,KAAKlL,aAAE,EAAKkmC,MAAM5mC,EAAEu9B,2BAA2B3xB,KAAK5D,GAAE,EAAK4+B,MAAM5mC,EAAEu9B,yBAAyBt9B,EAAEO,IAAIoL,KAAK7H,aAAE/D,EAAEy9B,SAAS,EAAKyJ,OAAO9kC,EAAE,GAAGoI,KAAK8L,GAAG,KAAK1K,KAAKT,gBAAKzJ,EAAE1B,EAAE4F,EAAEjF,EAAEU,EAAE0B,Y,iBAAS,WAAY,OAAOnB,KAAK2kC,Q,IAAO,SAAU7kC,GAAGE,KAAK2kC,OAAO7kC,EAAEE,KAAKV,SAASU,KAAK6kC,kBAAiB,EAAG7kC,KAAKulC,gC,wBAA8B,WAAmB,OAAOvlC,KAAK4kC,Q,IAAO,SAAiB9kC,GAAGE,KAAK4kC,OAAO9kC,EAAEE,KAAKulC,gC,kBAA8B,WAAa,OAAOvlC,KAAK85B,S,IAAQ,SAAWh6B,GAAGE,KAAK85B,UAAUh6B,IAAIE,KAAK85B,QAAQh6B,EAAEE,KAAKwlC,yB,iCAAuB,WAAsB,IAAI,IAAI1lC,EAAE,EAAEA,EAAEE,KAAKukC,uBAAuBz6B,OAAOhK,IAAIE,KAAKylC,wBAAwBzlC,KAAKukC,uBAAuBzkC,GAAGA,GAAGE,KAAKulC,gC,qCAA8B,WAAoDlnC,GAAE,IAAjByB,EAAiB,EAA7BolC,YAAwB9mC,EAAK,EAAfsH,UAAsB9G,EAAEoB,KAAK85B,QAAQ50B,GAAE1E,EPAvsG,GOA2sG5B,EAAEG,EAAE6J,KAAKC,KAAKrI,EAAEA,EAAE,EAAE,GAAGiC,EAAEP,KAAEwjC,uBAAuB3mC,EAAEyB,EAAE,EAAEA,EAAE,EPA3wG,KOAgxG0B,KAAEyjC,iBAAiBljC,EAAEhD,aAAEsD,KAAEqL,MAAMhN,YAAES,KAAEuM,MAAM,GAAGrP,EAAE,EAAE,KAAK,IAAMgF,EAAE,IAAIwD,KAAE9E,EAAE,sBAAsB3C,EAAEw+B,cAAc,CAAC,CAACv+B,SAASgE,EAAEyO,SAASxS,KAAKwkC,gBAAgBvG,UAAU,GAAG,CAACl+B,SAASgE,EAAEyO,SAASxS,KAAK0kC,qBAAqBzG,UAAU,IAAIn+B,EAAE6J,OAAO5K,EAAE,EAAE,EAAE,IAAI,IAAMwD,EAAEpB,aAAE4B,KAAEqL,OAAOpK,aAAEzB,EAAElE,EAAEuK,KAAK8L,GAAG,GAAG,IAAMxR,EAAE/B,aAAE4B,KAAEqL,OAAO3O,aAAEyD,EAAE9B,YAAES,KAAEuM,MAAM,EPA7jH,IOAikHxP,EAAE,IAAIyE,aAAEjF,EAAEmE,EAAEW,K,iCAAG,WAAsB,IAAI,IAAIpD,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,IAAM1B,EAAE4B,KAAK4lC,wBAAwB9lC,GAAGE,KAAKukC,uBAAuBp6B,KAAK/L,GAAG4B,KAAKulC,gC,yCAA8B,WAA8B,IAAMzlC,EAAEE,KAAKslC,MAAMlnC,EAAE+C,aAAE4B,KAAEqL,OAAO3L,aAAErE,EAAEA,EAAE0B,EAAEU,YAAE,EAAE,EAAE,IAAI,IAAMnC,EAAE0F,aAAEhB,KAAEqL,MAAMhN,YAAES,KAAEuM,MAAMpO,KAAK6lC,aAAa7lC,KAAK6lC,aAAa7lC,KAAK6lC,eAAejnC,EAAEuC,aAAE4B,KAAEqL,OAAO/K,aAAEzE,EAAEP,EAAED,GAA1J,oBAA4K4B,KAAKukC,wBAAjL,IAA6J,2BAA2C,KAAjCzkC,EAAiC,QAAO1B,EAAEiF,aAAEN,KAAEqL,MAAMxP,EAAEkB,EAAE4F,WAAW5F,EAAEolC,YAAYY,eAAe1nC,GAAvQ,iC,qCAA0Q,SAAwB0B,GAAE,WAAO1B,EAAE,IAAIsC,GAAE,CAACW,KAAKrB,KAAKglC,MAAMrL,wBAAuB,EAAGO,eAAc,EAAGF,gBAAgB,EAAEC,gBAAgB,EAAET,cAAc,CAACl4B,KAAK,OAAOmF,UAAUjG,YAAE,EAAE,EAAE,MAAMnC,EAAE,CAAC6mC,YAAY9mC,EAAEsH,UAAUnD,gBAAK,OAAOvC,KAAKylC,wBAAwBpnC,EAAEyB,GAAGE,KAAKgqB,SAASvrB,IAAIL,EAAEoB,OAAO03B,GAAG,QAAQ,SAAAp3B,GAAI,EAAK+kC,kBAAkB,QAAQ/kC,EAAEiB,SAAS,EAAKzB,WAAW,EAAKimC,8BAA8B,EAAKV,kBAAiB,OAAQxmC,I,4BAAE,WAAmB,IAAJyB,EAAI,uDAAF,EAAS1B,EAAEQ,IAAEmT,WAAWnP,EAAEyM,MAAM,OAAOjR,EAAE,IAAI0B,EAAE,IAAIqD,KAAE,CAACuM,MAAMtR,EAAE+R,YAAY,IAAIrQ,EAAEo0B,SAAS,EAAErkB,eAAe,GAAG,uB,gBAAqB,WAAW,MAAM,CAACk2B,kBAAkB/lC,KAAKukC,uBAAuB38B,KAAK,qBAAEs9B,oB,GAA7zGjuB,ICAzqC7Y,G,WAAE,aAAa,oBAAC4B,KAAKqB,KAAK,KAAKrB,KAAKM,cAAc,KAAKN,KAAKgmC,cAAc,KAAKhmC,KAAKgK,KAAK,IAAIvK,KAAEO,KAAKimC,UAAS,E,yCAAG,WAAc,OAAOjmC,KAAKimC,U,IAAS,SAAYrnC,GAAG,GAAGoB,KAAKimC,WAAWrnC,GAAGkB,YAAEE,KAAKgmC,eAAe,CAAC,IAAMvmC,EAAEO,KAAKgmC,cAAc9B,OAAO9lC,EAAE4B,KAAKkmC,KAAKlmC,KAAKgmC,cAAcrC,WAAW,GAAG7jC,YAAE1B,GAAG,CAAC,IAAM0B,EAAE,CAACiB,OAAO,SAASkjC,SAASjkC,KAAKgmC,cAAc/B,SAASC,QAAO,IAAKtlC,EAAER,EAAEqB,EAAEikC,YAAY1jC,KAAKgmC,cAAcrC,UAAUA,UAAU3jC,KAAKgmC,cAAcrC,WAAW3jC,KAAKgK,KAAKq6B,QAAQvkC,IAAIE,KAAKimC,SAASrnC,I,kBAAE,SAAKa,GAAG,IAAMrB,EAAE0B,YAAEE,KAAKqB,MAAMrB,KAAKqB,KAAK2B,MAAMvD,EAAE,CAAC0mC,QAAQ,KAAK,KAAK,OAAOrmC,YAAE1B,IAAI0B,YAAEE,KAAKqB,QAAQjD,EAAEyI,EAAEjI,YAAER,EAAE4B,KAAKqB,KAAKrB,KAAKM,gBAAgBlC,I,yCAAE,SAA4BQ,EAAEa,GAAE,WAAC,OAAOO,KAAKqB,KAAKzC,EAAEoB,KAAKM,cAAcb,EAAEO,KAAKgmC,cAAc,KAAK,SAAApnC,GAAI,GAAG,EAAKonC,cAAc,QAAQpnC,EAAEmC,OAAV,eAAqBnC,GAAG,KAAK,EAAKqnC,SAAS,CAAC,IAAMxmC,EAAE,EAAKymC,KAAKtnC,EAAE+kC,WAAW,OAAO7jC,YAAEL,GAAG,CAACsB,OAAOnC,EAAEmC,OAAOkjC,SAASrlC,EAAEqlC,SAASC,OAAOzkC,EAAEikC,YAAY9kC,EAAE8kC,YAAYC,UAAU/kC,EAAE+kC,WAAW,KAAK,MAAM,CAAC5iC,OAAOnC,EAAEmC,OAAOkjC,SAASrlC,EAAEqlC,SAASC,OAAOtlC,EAAEslC,OAAOR,YAAY9kC,EAAE8kC,YAAYC,UAAU/kC,EAAE+kC,gB,KCAsB/gC,G,kDAAY,WAAY9C,GAAE,kCAAC,gBAAakqB,SAAS,IAAI3rB,KAAE,EAAK+nC,aAAa,IAAI1lC,GAAE,EAAK2lC,cAAc,EAAKC,kBAAkB,EAAKC,yBAAyB,EAAKD,gBAAgB,IAAI,EAAK1B,OAAO,EAAE,EAAK9K,QAAQh7B,GAAE,EAAKkmC,MAAMllC,EAAEuB,KAAK,EAAKyjC,MAAMhlC,EAAEilC,KAAK,MAAMjlC,EAAE02B,cAAc,EAAKA,YAAY12B,EAAE02B,aAAa,MAAM12B,EAAE6J,SAAS,EAAKmwB,QAAQh6B,EAAE6J,QAAQ,EAAK68B,qBAAqB,EAAKnH,oBAAoB,SAAAv/B,GAAC,OAAE,EAAKglC,MAAMjO,aAAap4B,IAAIqB,MAAvY,E,2CAA4Y,WAAS,WAACE,KAAKgqB,SAAS0B,UAAU1rB,KAAKq/B,oBAAoB,SAAAv/B,GAAI,EAAKglC,MAAMjO,aAAap1B,OAAO3B,GAAGA,EAAE4rB,aAAa1rB,KAAK8kC,MAAM,KAAK9kC,KAAKglC,MAAM,KAAKhlC,KAAKymC,aAAa,O,gCAAK,SAAmB3mC,GAAGA,EAAEE,KAAKymC,aAAa,K,wBAAG,WAAmB,OAAOzmC,KAAK4kC,Q,IAAO,SAAiB9kC,GAAGE,KAAK4kC,OAAO9kC,EAAEE,KAAKulC,gC,uBAA8B,WAAkB,OAAOvlC,KAAKomC,aAAaM,S,IAAQ,SAAgB5mC,GAAGE,KAAKomC,aAAaM,QAAQ5mC,I,kBAAE,WAAa,OAAOE,KAAK85B,S,IAAQ,SAAWh6B,GAAGA,IAAIE,KAAK85B,UAAU95B,KAAK85B,QAAQh6B,EAAEE,KAAK2mC,wB,uCAAsB,SAA0B/nC,EAAE4B,GAAE,WAAOpC,EAAEQ,EAAEyB,QAAQhC,EAAEoB,YAAErB,GAAGW,EAAEe,YAAE1B,EAAE2B,UAAUkC,iBAAiB,OAAOkB,GAAEvE,EAAE4B,GAAG,SAAAV,GAAC,OAAE,EAAKslC,mBAAmBtlC,EAAEzB,EAAEU,Q,gCAAK,SAAmBe,EAAElB,EAAE4B,GAAE,WAAOpC,EAAE4B,KAAKglC,MAAM,OAAOviC,aAAEzC,KAAKymC,cAAc,SAACpoC,EAAEU,EAAEqC,EAAE3B,EAAE0B,GAAK,IAAM6C,EAAEjF,EAAEiL,KAAK9G,aAAE9E,EAAEC,EAAEs9B,2BAA2B3xB,KAAKnI,GAAEzD,EAAEC,EAAEs9B,yBAAyB/8B,EAAE4B,IAAIwJ,KAAK,EAAKo8B,aAAaQ,4BAA4BxoC,EAAEQ,GAAG,EAAKwnC,aAAap8B,MAAMA,MAAM,SAAAlK,GAAC,kCAAOA,GAAP,IAASulC,gBAAgB,OAAMr7B,KAAKjH,gBAAKjD,EAAEzB,EAAE2F,EAAE5C,EAAE3B,EAAE0B,Q,yCAAM,WAA8B,IAAMrB,EAAEf,aAAEiF,KAAEoK,MAAMhQ,YAAE+C,KAAEiN,MAAMpO,KAAK6lC,aAAa7lC,KAAK6lC,aAAa7lC,KAAK6lC,eAAe7lC,KAAKymC,aAAaX,eAAehmC,I,gCAAE,WAAqB,IAAMA,EAAEE,KAAKglC,MAAMhlC,KAAKymC,aAAa,IAAIvkC,GAAE,CAACb,KAAKvB,EAAE+mC,YAAW,EAAGlN,wBAAuB,EAAGK,gBAAgB,EAAEC,gBAAgB,EAAET,cAAc,CAACl4B,KAAK,OAAOmF,UAAUjG,YAAE,EAAE,EAAE,IAAI05B,eAAc,IAAKl6B,KAAK2mC,uB,gCAAqB,WAAqB,IAAM7mC,EAAE,IAAIiE,KAAExB,KAAEukC,uBTAlgG,ISA2hG,ETA3iG,ISA+iGtmC,YAAE,EAAE,EAAE,GAAGA,YAAE,EAAE,EAAE,IAAI,0BAA0B5B,EAAEG,aAAEqC,eAAIZ,YAAER,KAAK85B,QAAQ95B,KAAK85B,QAAQ95B,KAAK85B,UAAU95B,KAAKymC,aAAanI,cAAc,CAAC,CAACv+B,SAASD,EAAE0S,SAASxS,KAAKqmC,cAAc3gC,UAAU9G,EAAEq/B,UAAU,GAAG,CAACl+B,SAASD,EAAE0S,SAASxS,KAAKumC,yBAAyB7gC,UAAU9G,EAAEq/B,UAAU,IAAIj+B,KAAKymC,aAAa98B,OAAU3J,KAAK85B,QAAQh7B,GTA51G,K,6BSA+1G,WAAoB,IAAJgB,EAAI,uDAAF,EAASU,EAAE5B,IAAEmT,WAAWxK,EAAE8H,MAAM,OAAO7O,EAAE,IAAIV,EAAE,IAAIuD,KAAE,CAACqM,MAAMlP,EAAE2P,YAAY,IAAIrQ,EAAEo0B,SAAS,EAAErkB,eAAe,GAAG,kB,gBAAgB,WAAW,MAAM,CAACk3B,gBAAgB/mC,KAAKymC,kB,GAA7yEvhC,ICAnJgR,G,kDAAY,WAAYpW,GAAE,kCAAC,gBAAakqB,SAAS,IAAIznB,KAAE,EAAKu3B,QAAQn0B,GAAE,EAAKnG,OAAO,IAAIZ,IAAE,EAAKkmC,MAAMhlC,EAAEilC,KAAK,EAAKC,MAAMllC,EAAEuB,KAAK,MAAMvB,EAAE6J,SAAS,EAAKmwB,QAAQh6B,EAAE6J,QAAQ,EAAKq9B,oBAAoB,EAAK3H,oBAAoB,SAAAv/B,GAAC,OAAE,EAAKglC,MAAMjO,aAAap4B,IAAIqB,MAA3N,E,2CAAgO,WAAS,WAACE,KAAKgqB,SAAS0B,UAAU1rB,KAAKq/B,oBAAoB,SAAAv/B,GAAI,EAAKglC,MAAMjO,aAAap1B,OAAO3B,GAAGA,EAAE4rB,e,gCAAa,SAAmB5rB,GAAGA,EAAEE,KAAKymC,aAAa,K,uCAAG,SAA0B7nC,EAAEP,GAAE,WAAOD,EAAE0B,YAAElB,EAAEyB,QAAQN,UAAUkC,iBAAiB,OAAOW,GAAEhE,EAAEP,GAAG,SAAAyB,GAAC,OAAE,EAAKslC,mBAAmBtlC,EAAE1B,Q,gCAAK,SAAmB0B,EAAElB,GAAG,IAAMP,EAAE2B,KAAKglC,MAAM,OAAO7iC,aAAEnC,KAAKymC,cAAc,SAACroC,EAAEoC,EAAEY,EAAErC,EAAEU,GAAK,IAAM0B,EAAEX,EAAEwJ,MAAM,SAAAlK,GAAC,kCAAOA,GAAP,IAASulC,gBAAgB,OAAMr7B,KAAKzJ,GAAElC,EAAED,EAAE+9B,eAAev9B,IAAIoL,KAAKlL,gBAAKgB,EAAE1B,EAAE+C,EAAEC,EAAErC,EAAEU,Q,kBAAM,WAAa,OAAOO,KAAK85B,S,IAAQ,SAAWh6B,GAAGA,IAAIE,KAAK85B,UAAU95B,KAAK85B,QAAQh6B,EAAEE,KAAKinC,uB,+BAAqB,WAAoB,IAAMnnC,EAAEE,KAAK85B,QAAQn0B,GAAE/G,EAAE8B,EAAEwR,aAAatE,OAAO9N,EAAEzB,EAAEqC,EAAEwR,aAAavC,WAAW7P,EAAE1B,EAAEsC,EAAEwR,aAAatC,UAAU9P,EAAEsB,EAAEV,EAAEwR,aAAa1D,MAAM1O,EAAEf,EAAE,CAACyB,YAAE,EAAE,EAAE,GAAGA,YAAE,EAAE,EAAE5B,IAAIa,EAAE,IAAIsD,KAAEb,KAAEglC,mBAAmBnoC,EAAEqC,EAAE,EAAE,IAAG,GAAI,UAAUD,EAAEe,KAAEilC,mBAAmB9oC,EAAED,EAAE,EAAE,IAAG,GAAI2F,EAAE,IAAIhB,KAAE5B,GAAG6C,EAAE,CAACxD,YAAE,EAAE,EAAE,GAAGA,YAAE,EAAE,EAAE5B,EAAEP,IAAIkE,EAAG,SAAAzC,GAAI,IAAMzB,EAAEkJ,eAAyE,OAAlElE,aAAEhF,EAAEA,EAAE,CAAC,EAAE,EAAEO,IAAI6D,aAAEpE,EAAEA,EAAEuK,KAAK8L,GAAG,GAA4CrW,EAA5F,GAAmG8D,EAAE,SAACrC,EAAElB,GAAK,IAAMP,EAAEwD,YAAEnB,EAAEwR,aAAaxC,MAAM9Q,GAAG,MAAM,CAACP,EAAEA,EAAE,IAAIA,EAAE6D,EAAE,IAAI7D,EAAEqC,EAAE,IAAIA,EAAEwR,aAAaxC,MAAMtR,EAAE0B,IAAIhB,EAAE+H,GAAE1E,EAAE,EAAE,KAAK,GAAG5B,EAAEsG,GAAE1E,EAAE,EAAE,GAAG,GAAGgB,EAAE0D,GAAE1E,EAAE,GAAG,GAAGzB,EAAEwR,aAAarC,gBAAgB/G,EAAEjC,GAAE1E,EAAE,IAAI,GAAGzB,EAAEwR,aAAarC,gBAAgB7P,KAAKymC,aAAanI,cAAc,CAAC,CAACv+B,SAASgE,EAAE2B,UAAUnD,EAAEiQ,SAAS1T,EAAEm/B,UAAU,GAAG,CAACl+B,SAASN,EAAE+S,SAAS1T,EAAEm/B,UAAU,GAAG,CAACl+B,SAASgE,EAAE2B,UAAUnD,EAAEiQ,SAASjS,EAAE09B,UAAU,GAAG,CAACl+B,SAASN,EAAE+S,SAASjS,EAAE09B,UAAU,GAAG,CAACl+B,SAASgE,EAAE2B,UAAUnD,EAAEiQ,SAASrP,EAAE86B,UAAU,GAAG,CAACl+B,SAASN,EAAE+S,SAASrP,EAAE86B,UAAU,GAAG,CAACl+B,SAASgE,EAAE2B,UAAUnD,EAAEiQ,SAAS1J,EAAEm1B,UAAU,GAAG,CAACl+B,SAASN,EAAE+S,SAAS1J,EAAEm1B,UAAU,IAAIj+B,KAAKymC,aAAa98B,OAAOvI,EAAE,EAAE,EAAEpB,KAAKymC,aAAajN,cAAc,CAACl4B,KAAK,OAAOgyB,MAAM,CAACtvB,M,+BAAI,WAAmB,WAAOlE,EAAE,IAAIqD,GAAE,CAAC9B,KAAKrB,KAAKglC,MAAMrL,wBAAuB,EAAGkN,YAAW,EAAGznC,YAAW,EAAGG,OAAO,YAAYe,cAAcN,KAAKM,cAAc45B,eAAc,EAAGT,kBAAkB,MAAM35B,EAAEsnC,qBAAqB,SAAAtnC,GAAI,IAAMlB,EAAE,EAAKomC,MAAM1hC,MAAMC,OAAOnF,EAAE6Y,GAAE,EAAK+tB,MAAMjS,mBAAmB2I,eAAe,EAAK+K,aAAa9K,yBAAyBv9B,GAAG,IAAMoC,EAAEY,YAAExC,EAAE4E,IAAIpF,GAAGmE,EAAE3D,EAAEkY,6BAA6BtW,GAAG6C,EAAEtE,YAAEsK,GAAEjL,EAAEQ,EAAE4E,KAAK/D,YAAE4D,EAAEA,GAAG,IAAMZ,EAAEgF,GAAE,EAAKu9B,MAAMjS,mBAAmBoR,kBAAkBltB,GAAExU,GAAG,IAAMS,EAAE0F,KAAK6B,IAAItJ,YAAEkC,EAAEZ,IAAIZ,EAAEkC,YAAEsF,GAAEhG,EAAEZ,GAAG8E,EAAExD,YAAEsF,GAAExH,EAAEY,GAAGP,EAAE7D,aAAE6E,EAAE,IAAI,GAAGH,EAAE,EAAE6F,KAAKC,KAAK,EAAE3G,EAAEA,GAAGA,EAAEtD,EAAEoX,UAAU7T,EAAE,EAAK23B,QAAQn0B,GAAE7G,EAAE4B,EAAEwR,aAAa1D,MAAMrM,EAAE6B,YAAEuD,EAAE9H,YAAE8H,EAAEA,IAAI,EAAExE,EAAE,GAAGvC,EAAE+B,EAAEzD,GAAGgB,EAAE,KAAKuJ,GAAE,GAAGvJ,EAAE,KAAKuJ,GAAE,GAAGvJ,EAAE,KAAKuJ,GAAE,IAAIrJ,KAAKymC,aAAa3mC,EAAEE,KAAKinC,wB,GAApjFn+B,IAA+kFmO,GAAE7Y,cAAIiL,GAAEjL,cAAIqJ,GAAErJ,cCA7sGqE,G,kDAAY,WAAYjC,GAAE,2BAAC,gBAAawpB,SAAS,IAAIprB,KAAE,EAAKyoC,eAAe,KAAK,EAAKC,cAAa,EAAxE,IAAsFlpC,EAAiCoC,EAAtCukC,KAAYjlC,EAA0BU,EAA/Ba,KAAmB5B,EAAYe,EAAxBg2B,YAAqBz3B,EAAGyB,EAAVmJ,OAA7G,OAAyH,EAAKq7B,MAAMllC,EAAE,EAAKynC,eAAe,IAAIpmC,GAAE,CAAC4jC,KAAK3mC,EAAEiD,KAAKvB,EAAE02B,YAAY/2B,EAAEkK,OAAO5K,IAAI,EAAKyoC,mBAAmB,IAAInpC,GAAE,CAAC0mC,KAAK3mC,EAAEiD,KAAKvB,EAAE6J,OAAO5K,IAAI,EAAK0oC,cAAc,IAAIzjC,GAAE,CAAC+gC,KAAK3mC,EAAEiD,KAAKvB,EAAE6J,OAAO5K,IAAI,EAAKwoC,eAAejL,UAAU97B,EAAEknC,YAAY,EAAKF,mBAAmBlL,UAAU97B,EAAEmnC,gBAAgB,EAAKF,cAAcnL,UAAU97B,EAAEonC,WAAW,EAAKC,iBAAiB,EAAKxI,oBAAoB,SAAA7+B,GAAI,EAAKwpB,SAASvrB,IAAI+B,EAAEhB,OAAO03B,GAAG,gBAAgB,kBAAI,EAAK4Q,wCAAviB,E,2CAA8kB,WAAU9nC,KAAKgqB,SAAS0B,UAAU1rB,KAAKunC,eAAe7b,UAAU1rB,KAAKwnC,mBAAmB9b,UAAU1rB,KAAKynC,cAAc/b,Y,uCAAU,SAA0BlrB,EAAEpC,GAAG,OAAO0B,aAAE,CAACE,KAAKunC,eAAeQ,0BAA0BvnC,EAAEpC,GAAG4B,KAAKwnC,mBAAmBO,0BAA0BvnC,EAAEpC,GAAG4B,KAAKynC,cAAcM,0BAA0BvnC,EAAEpC,O,gCAAK,SAAmBoC,EAAEpC,EAAEQ,GAAG,OAAOkB,aAAE,CAACE,KAAKunC,eAAenC,mBAAmB5kC,EAAEpC,EAAEQ,GAAGoB,KAAKwnC,mBAAmBpC,mBAAmB5kC,EAAEpC,EAAEQ,GAAGoB,KAAKynC,cAAcrC,mBAAmB5kC,EAAE5B,O,uBAAK,SAAgB4B,GAAGR,KAAKunC,eAAe/Q,YAAYh2B,I,iBAAE,SAAUA,GAAGR,KAAKqnC,eAAe,KAAKrnC,KAAKwnC,mBAAmBlC,MAAM9kC,I,yBAAE,SAAkBA,GAAGR,KAAKgoC,cAAchoC,KAAKslC,MAAM9kC,IAAIR,KAAKqnC,eAAe7mC,I,uBAAE,SAAgBA,GAAGR,KAAKsnC,eAAe9mC,IAAIR,KAAKsnC,aAAa9mC,EAAER,KAAK8nC,oC,kBAAkC,SAAWtnC,GAAGR,KAAKwnC,mBAAmB79B,OAAOnJ,EAAER,KAAKunC,eAAe59B,OAAOnJ,EAAER,KAAKynC,cAAc99B,OAAOnJ,I,wBAAE,SAAiBA,GAAGR,KAAKunC,eAAe1B,aAAarlC,EAAER,KAAKwnC,mBAAmB3B,aAAarlC,I,gCAAE,SAAmBA,GAAGR,KAAKunC,eAAelI,oBAAoB,SAAAjhC,GAAC,OAAEoC,EAAEpC,EAAE,MAAK4B,KAAKwnC,mBAAmBnI,oBAAoB,SAAAjhC,GAAC,OAAEoC,EAAEpC,EAAE,MAAK4B,KAAKynC,cAAcpI,oBAAoB,SAAAjhC,GAAC,OAAEoC,EAAEpC,EAAE,Q,yBAAK,WAAoB,IAAMoC,EAAER,KAAKunC,eAAepF,iBAAiB,SAAA3hC,GAAC,OAAEA,EAAEs9B,YAAW99B,KAAKwnC,mBAAmBrF,iBAAiB,SAAA3hC,GAAC,OAAEA,EAAEs9B,WAAU,OAAO99B,KAAKglC,MAAMiD,cAAc,UAAUjoC,KAAKglC,MAAMiD,aAAaC,mBAAmB1nC,I,4BAAE,WAAgB,WAAOV,EAAEE,KAAKwnC,mBAAmB5oC,EAAEoB,KAAKunC,eAAe,IAAG/mC,YAAE,eAAL,CAA2B,IAAMf,EAAE,GAAGb,EAAEygC,oBAAoB,SAAA7+B,GAAC,OAAEf,EAAE0K,KAAK3J,MAAKV,EAAEu/B,oBAAoB,SAAA7+B,GAAC,OAAEf,EAAE0K,KAAK3J,MAAiN,IAA5M,IAAMzB,EAAE,WAAK,IAAMyB,EAAE,GAAG,EAAKwnC,cAAc5pC,YAAE,EAAKipC,kBAAkB,EAAK/B,MAAM,EAAK+B,kBAAkBvnC,EAAEu/B,oBAAoB,SAAAjhC,GAAC,OAAEoC,EAAE2J,KAAK/L,EAAE+pC,qBAAoB,EAAKne,SAASvoB,OAAO4B,IAAG,EAAK2mB,SAASvrB,IAAI+B,EAAE6C,KAAI,MAAe5D,EAAf,gBAAI,IAAMe,EAAC,KAAMR,KAAKgqB,SAASvrB,IAAI+B,EAAEhB,OAAO03B,GAAG,gBAAgBn4B,IAAIiB,KAAKglC,MAAMiD,cAAcjoC,KAAKgqB,SAASvrB,IAAIuB,KAAKglC,MAAMiD,aAAavmC,MAAM,oBAAoB3C,IAAIA,O,4CAAI,WAAgC,WAAOyB,EAAER,KAAKs/B,SAASt/B,KAAKq/B,oBAAoB,SAAAjhC,GAAIA,EAAEe,aAAaqB,GAAG,EAAK8mC,cAAclpC,EAAEkhC,e,8BAAY,SAAuB9+B,GAAG,IAAMV,EAAE1B,YAAEoC,IAAI,aAAaA,EAAEc,MAAMd,EAAE4nC,aAAa,OAAQtoC,GAAGA,EAAEgK,OAAO,GAAGhK,EAAEuoC,MAAM,SAAA7nC,GAAC,MAAE,SAASA,EAAEc,QAAO7B,GAAEV,O,GAAlxFqC,IAA2xFiC,GAAE,0B,WCA5zFZ,G,kDAAY,WAAY3C,GAAE,kCAAC,gBAAakqB,SAAS,IAAIxpB,KAAE,EAAKwkC,MAAMllC,EAAEuB,KAAK,EAAKyjC,MAAMhlC,EAAEilC,KAAK,EAAKuD,cAAcxoC,EAAEyoC,aAAa,EAAK/B,qBAAqB,EAAKnH,oBAAoB,SAAAv/B,GAAC,OAAE,EAAKglC,MAAMjO,aAAap4B,IAAIqB,MAArL,E,2CAA0L,WAAS,WAACE,KAAKgqB,SAAS0B,UAAU1rB,KAAKq/B,oBAAoB,SAAAv/B,GAAI,EAAKglC,MAAMjO,aAAap1B,OAAO3B,GAAGA,EAAE4rB,aAAa1rB,KAAK8kC,MAAM,KAAK9kC,KAAKglC,MAAM,KAAKhlC,KAAKymC,aAAa,KAAKzmC,KAAKsoC,cAAc,O,gCAAK,SAAmBxoC,GAAGA,EAAEE,KAAKymC,aAAa,K,uCAAG,SAA0B3mC,GAAE,WAAC,OAAOqB,GAAEnB,KAAKsoC,cAAcxoC,GAAG,SAAAA,GAAC,OAAE,EAAKslC,mBAAmBtlC,Q,gCAAK,SAAmBU,GAAG,IAAMY,EAAEpB,KAAKglC,MAAMvlC,EAAEO,KAAKsoC,cAAcjoC,QAAQc,EAAErB,YAAEL,EAAEM,UAAUN,EAAEM,SAASkC,iBAAiB,KAAK,OAAOrD,aAAEoB,KAAKymC,cAAc,SAAC3mC,EAAElB,EAAE6D,EAAEuB,EAAEzB,GAAK,IAAMwB,EAAEnF,EAAEoL,KNA2mB,SAAW3L,EAAEoB,EAAEK,EAAEsB,GAAG,IAAMrC,EAAEU,EAAEuD,MAAM3E,EAAEqlC,YAAY,CAACzgC,QAAQ,CAACnD,KAAK,OAAOlB,YAAEG,GAAG0I,GAAEhI,EAAEK,EAAEf,EAAEqC,GAAG,KMA9rBrC,CAAEwD,EAAEnB,EAAE3B,EAAE0B,IAAI6I,KAAK3L,gBAAK2L,KAAK5L,gBAAKoC,EAAEV,EAAEiE,EAAEtB,EAAEuB,EAAEzB,Q,gCAAM,WAAqB,IAAMzC,EAAEE,KAAKglC,MAAMxkC,EAAER,KAAKsoC,cAAcjoC,QAAQL,KAAKymC,aAAa,IAAIrlC,KAAE,CAACf,QAAQG,EAAEa,KAAKvB,EAAEV,YAAW,EAAGG,OAAO,a,GAAt3BE,ICA0yCmD,GAAE,WAAY9C,GAAE,oBAACE,KAAKwoC,YAAY1oC,EAAEE,KAAKsB,KAAK,sBAA4B2V,GAAE,WAAYnX,EAAElB,EAAE4B,GAAE,oBAACR,KAAKyoC,GAAG3oC,EAAEE,KAAK0oC,GAAG9pC,EAAEoB,KAAKwoC,YAAYhoC,EAAER,KAAKsB,KAAK,gBAAsBiI,GAAE,WAAYzJ,GAAE,oBAACE,KAAKwoC,YAAY1oC,EAAEE,KAAKsB,KAAK,qBAAyBQ,GAAC,kDAAkC,WAAYhC,GAAE,kCAAC,cAAMA,IAAQoI,SAAS,IAAI7J,KAAE,EAAKsqC,SAAQ,EAAG,EAAKrnC,KAAK,UAAU,EAAKsnC,aAAa,IAAIznC,KAAE,EAAK6oB,SAAS,IAAI7oB,KAA5G,EAAhD,8CAA8J,WAAY,WAACnB,KAAK4oC,aAAanqC,IAAI,CAACuB,KAAKkI,SAASgvB,GAAG,UAAU,kBAAI,EAAK2R,4BAA2B7oC,KAAK6oC,yBAAtQ,qBAA6R,WAAU7oC,KAAKgqB,SAAS0B,UAAU1rB,KAAKgqB,SAAS,KAAKhqB,KAAK4oC,aAAald,UAAU1rB,KAAK4oC,aAAa,KAAK5oC,KAAKkI,SAASi9B,YAAYnlC,KAAKE,KAAK,OAAO,QAAhb,mBAAsb,cAAtb,kCAA+b,WAAsB,WAACF,KAAKgqB,SAASmb,YAAYnlC,KAAK8oC,mBAAmB9oC,KAAK8oC,kBAAkBpd,UAAU1rB,KAAK62B,aAAasO,YAAY,IAAMrlC,EAAEE,KAAKkI,SAAS6gC,UAAUC,QAAQ,SAAAlpC,GAAC,OAAE,IAAIoC,aAAEpC,MAAK8H,KAAK,SAAA9H,GAAC,OAAE,IAAIoW,GAAEpW,MAAKA,EAAEgK,SAAS9J,KAAKipC,mBAAmBnpC,GAAGE,KAAKkpC,qBAAqBppC,GAAGE,KAAKgqB,SAASvrB,IAAIqB,EAAE8H,KAAK,SAAA9H,GAAC,OAAE,EAAKuB,KAAKy+B,kBAAkBhgC,EAAEwD,WAAUtD,KAAKmpC,uBAAuBrpC,MAAnzB,gCAAuzB,SAAmBA,GAAE,2BAAgBA,GAAhB,yBAAWlB,EAAX,QAAyB4B,EAAE5B,EAAE0E,MAAM1E,EAAEwqC,eAAe,IAAI1oC,GAAE,CAACqkC,KAAK,EAAK1jC,KAAK,EAAKA,KAAKknC,aAAa/nC,IAAI5B,EAAEwqC,eAAe/J,oBAAoB,SAAAv/B,GAAC,OAAE,EAAKkqB,SAASvrB,IAAIqB,EAAEN,OAAO03B,GAAG,mBAAmB,SAAAp3B,GAAI,EAAKgB,KAAK,kBAAV,2BAAgChB,GAAhC,IAAkCO,QAAQG,EAAEH,WAAUP,EAAEupC,yBAAwB,EAAKrf,SAASvrB,IAAIG,EAAEwqC,eAAehE,oBAAoB,SAACxmC,EAAE4B,EAAEpC,GAAL,OAAS,EAAKkrC,uBAAuB1qC,EAAE4B,EAAEpC,EAAE0B,QAAnX,2BAAiB,IAAlB,8BAA0XE,KAAKupC,uBAAuBzpC,KAAluC,oCAAquC,SAAuBA,GAAE,WAAOU,EAAE,IAAI2C,GAAE,CAAC4hC,KAAK/kC,KAAKqB,KAAKrB,KAAKqB,KAAKm1B,aAAY,EAAGkR,aAAY,EAAGC,iBAAgB,EAAGC,YAAW,EAAGj+B,OAAO,IAAI7J,EAAEgK,OAAO3G,GAAEqmC,gBAAgB1pC,EAAE,GAAGO,QAAQJ,QAAQ8C,KAAI/C,KAAK8oC,kBAAkBtoC,EAAEA,EAAEF,cAAc,CAACK,KAAK,kBAAkBF,OAAO,GAAGD,EAAE6+B,oBAAoB,SAAAv/B,GAAI,EAAKkqB,SAASvrB,IAAIqB,EAAEN,OAAO03B,GAAG,mBAAmB,SAAAt4B,GAAI4B,EAAEinC,cAAcgC,eAAe3pC,IAAI,IAAI,EAAKoI,SAAS4B,QAAQ,EAAKhJ,KAAK,kBAAV,2BAAgClC,GAAhC,IAAkCyB,QAAQ,EAAK6H,SAASwhC,UAAU,MAAK9qC,EAAEyqC,yBAAyB,IAAhe,EAAsejrC,EAAE,kBAAI,EAAK+qC,uBAAuBrpC,IAAxgB,cAA0hBA,GAA1hB,IAA2gB,gCAAUlB,EAAV,QAAiBoB,KAAKgqB,SAASvrB,IAAI,CAACG,EAAE0E,MAAM4zB,GAAG,UAAU94B,GAAGQ,EAAE0E,MAAM5B,MAAM,aAAatD,MAAlmB,8BAAumB,IAAMgD,EAAEtB,EAAEA,EAAEgK,OAAO,GAAG9J,KAAKgqB,SAASvrB,IAAI2C,EAAEkC,MAAM4zB,GAAG,WAAW,kBAAI,EAAKyS,4BAA4BvoC,OAAMpB,KAAKgqB,SAASvrB,IAAI+B,EAAE4kC,oBAAoB,SAACxmC,EAAE4B,EAAEpC,GAAK,EAAKkrC,uBAAuB1qC,EAAE4B,EAAEpC,EAAE0B,KAAKkE,YAAE5C,EAAEf,SAASzB,YAAEwC,EAAEf,QAAQN,UAAUkC,mBAAmBjC,KAAK2pC,4BAA4BvoC,KAA9nE,kCAAioE,SAAqBtB,GAAE,2BAAgBA,GAAhB,yBAAWlB,EAAX,QAAyB4B,EAAE5B,EAAEyB,QAAQe,EAAEe,GAAE,CAACd,KAAK,EAAKA,KAAKhB,QAAQG,EAAE6+B,mBAAmB,SAAAv/B,GAAIlB,EAAEwqC,eAAe/J,mBAAmBv/B,GAAG,EAAKgpC,kBAAkBzJ,mBAAmBv/B,IAAI+/B,sBAAsB,kBAAIzhC,kBAAMQ,EAAEgrC,uBAAuBxoC,EAAEm+B,cAAc3gC,EAAEgrC,kCAAkC/nC,IAAG,EAAKmoB,SAASvrB,IAAI,CAACG,EAAEgrC,uBAAuBpqC,OAAO03B,GAAG,6BAA6B,WAAKt4B,EAAE0E,MAAMse,UAAU,EAAKunB,uBAAuBrpC,MAAMlB,EAAE0E,MAAM5B,MAAM,YAAY,kBAAI,EAAKynC,uBAAuBrpC,QAAO,EAAKkqB,SAASvrB,IAAI2C,IAA7f,2BAAiB,IAAlB,iCAAxpE,yCAA0pF,SAA4BtB,GAAGE,KAAK8oC,kBAAkBe,cAAc,kBAAI/qC,GAAEgB,EAAEO,QAAQN,aAA9uF,oCAAwvF,SAAuBD,GAAG,IAAD,EAAOlB,EAAE6D,YAAE,EAAE,EAAE,EAAEzC,KAAKqB,KAAKY,kBAAsB7D,EAAE,EAAEgD,GAAE,EAASrC,EAAEiB,KAAK8oC,kBAAvE,cAAwGhpC,GAAxG,IAAyF,2BAAiB,KAAPf,EAAO,QAAC,GAAIA,EAAEuE,MAAMy7B,WAAZ,CAAgC,IAAMj/B,EAAEf,EAAEuE,MAAMjD,QAAQL,KAAK2oC,SAASpoC,GAAET,KAAKsB,GAAE,GAAI,IAAM3B,EAAEV,EAAE6qC,kCAAkC/nC,KAAI9C,EAAEuE,MAAMse,SAAS7iB,EAAE6qC,uBAAuBhK,iBAAiB18B,GAAElD,KAAKqB,KAAKvB,GAAGU,YAAEf,KAAKb,EAAEgE,GAAGnD,EAAEmD,EAAEhE,EAAEuD,GAAG1C,EAAE0C,EAAEvD,EAAEiI,GAAGpH,EAAEoH,EAAEzI,OAA1V,8BAA+VA,EAAE,GAAGQ,EAAEgE,GAAGxE,EAAEQ,EAAEuD,GAAG/D,EAAEQ,EAAEiI,GAAGzI,EAAEW,EAAE88B,SAASj9B,EAAEG,EAAEwoC,eAAejL,WAAU,EAAGv9B,EAAEyoC,mBAAmBlL,WAAU,EAAGv9B,EAAE0oC,cAAcnL,UAAUl7B,GAAGrC,EAAEu9B,WAAU,IAAhwG,oCAAmwG,SAAuBx8B,EAAElB,EAAE4B,EAAEpC,GAAE,WAAOgD,EAAE,GAAGrC,EAAE,GAAOU,EAAE,KAAKpB,EAAE,KAAW8C,EAAE,WAAI,oBAAgBC,GAAhB,IAAC,oCAAmB9B,UAAS,GAA7B,8BAAgC8B,EAAE0I,OAAO,EAAE/K,EAAE+K,OAAO,EAAErK,EAAE,KAAKpB,EAAE,KAAK,EAAKyqC,kBAAkB3pC,aAAY,GAAIP,EAAEoL,MAAM,SAAApL,GAAI,GAAG,UAAUA,EAAEmC,OAAO,CAACK,EAAE0I,OAAO,EAAE/K,EAAE+K,OAAO,EAArB,oBAAsC1L,GAAtC,IAAuB,gCAAUQ,EAAV,QAAiBA,EAAEU,WAAWV,EAAEwqC,eAAeK,eAAe3pC,IAAIlB,EAAEwqC,eAAe9J,WAAWl+B,EAAE+I,KAAKvL,GAAGG,EAAEoL,KAAKvL,EAAEyB,SAASzB,EAAEU,UAAS,IAA5J,8BAAgK,GAAG,IAAIP,EAAE+K,SAAS,EAAKg/B,kBAAkB3pC,aAAY,EAAGM,EAAE8C,aAAExD,GAAGV,EAAE0F,aAAEhF,GAAG,EAAK+B,KAAK,qBAAqB,IAAI8B,GAAE7D,IAAI,EAAK+qC,WAAW,OAAO,KAAK,OAAO,IAAI/qC,EAAE+K,OAAOlL,EAAE,QAAQoL,MAAM,SAAAlK,GAAC,OAAEL,EAAEK,MAAKkK,MAAM,SAAAlK,GAAI,OAAOA,EAAEiB,QAAQ,IAAI,QAAQ,IAAI,SAAS,GAAGjB,EAAE8hC,cAAc9hC,EAAE+hC,cAAc/hC,EAAEgiC,aAAa,CAAC,IAAMljC,EAAE,EAAKyC,KAAKsB,SAAS7C,EAAEmkC,UAAUzjC,EAAE,EAAKa,KAAKsB,SAAS7C,EAAEokC,QAAQ9lC,EAAEoC,EAAEoC,EAAEhE,EAAEgE,EAAExB,EAAEZ,EAAE2B,EAAEvD,EAAEuD,EAAE,GAAG,EAAKrB,KAAK,eAAe,IAAImW,GAAE7Y,EAAEgD,EAAErC,IAAI,EAAK+qC,UAAU,OAAO,KAAK,MAAM,IAAI,MAAM,GAAG,EAAKhpC,KAAK,oBAAoB,IAAIyI,GAAExK,IAAI,EAAK+qC,UAAU,OAAO,KAAK3oC,QAAQX,EAAEwJ,MAAM,SAAAlK,GAAC,OAAEzB,EAAEyB,MAAKkK,MAAM,WAAK,GAAG,EAAKlJ,KAAK,oBAAoB,IAAIyI,GAAExK,IAAI,EAAK+qC,UAAU,OAAO,KAAK3oC,WAA9vI,GAAe1B,IAAE45B,aAAah2B,MAAyuIvD,YAAE,CAACsB,YAAE,CAACqC,eAAc,EAAGC,aAAY,KAAM5B,GAAE6B,UAAU,YAAO,GAAQ7D,YAAE,CAACsB,YAAE,CAACwC,UAAS,KAAM9B,GAAE6B,UAAU,gBAAW,GAAQ7D,YAAE,CAACsB,YAAE,CAACqC,eAAc,EAAGC,aAAY,KAAM5B,GAAE6B,UAAU,eAAU,GAAQ7D,YAAE,CAACsB,YAAE,CAACwC,UAAS,KAAM9B,GAAE6B,UAAU,YAAO,GAAQ7B,GAAEhC,YAAE,CAACf,YAAE,yEAAyE+C,I,IAASoU,G,WAAE,WAAYpW,GAAE,oBAACE,KAAKsD,MAAM,KAAKtD,KAAK4pC,uBAAuB,KAAK5pC,KAAKopC,eAAe,KAAKppC,KAAKV,UAAS,EAAGU,KAAKsD,MAAM,IAAIiE,GAAE,CAAClH,QAAQP,I,yCAAI,WAAc,OAAOE,KAAKsD,MAAMjD,Y,uDCA9yIpB,GAAC,kDAAiC,WAAYL,GAAE,kCAAC,cAAMA,IAAQmrC,2BAA2B3jC,GAAE8P,EAAE+e,YAAY/e,EAAEjE,oBAAoBvT,OAAOgR,OAAOwG,EAAEjE,oBAAoBvT,OAAOmR,gBAAgB,EAAKm6B,kCAAkC3gC,GAAE6M,EAAE+e,YAAY/e,EAAEjE,oBAAoBvT,OAAOsR,cAAckG,EAAEjE,oBAAoBvT,OAAOmR,gBAAgB,EAAKo6B,uCAAuC5gC,GAAE6M,EAAE+e,YAAY/e,EAAEjE,oBAAoBvT,OAAOuR,mBAAmBiG,EAAEjE,oBAAoBvT,OAAOmR,gBAAgB,EAAKq6B,yBAAyB9jC,GAAE8P,EAAE+e,YAAY/e,EAAEjE,oBAAoB7B,KAAKV,OAAOwG,EAAEjE,oBAAoB7B,KAAKP,gBAAgB,EAAKs6B,gCAAgC9gC,GAAE6M,EAAE+e,YAAY/e,EAAEjE,oBAAoB7B,KAAKJ,cAAckG,EAAEjE,oBAAoB7B,KAAKP,gBAAgB,EAAKu6B,6BAA6BhkC,GAAE8P,EAAE+e,YAAY/e,EAAEjE,oBAAoB3C,SAASI,OAAOwG,EAAEjE,oBAAoB3C,SAASO,gBAAgB,EAAKw6B,oCAAoChhC,GAAE6M,EAAE+e,YAAY/e,EAAEjE,oBAAoB3C,SAASU,cAAckG,EAAEjE,oBAAoB3C,SAASO,gBAAgB,EAAKy6B,yCAAyCjhC,GAAE6M,EAAE+e,YAAY/e,EAAEjE,oBAAoB3C,SAASW,mBAAmBiG,EAAEjE,oBAAoB3C,SAASO,gBAAgB,EAAK06B,eAAe,EAAE,EAAKC,2BAA2B,KAAK,EAAKC,kCAAkC,KAAK,EAAKC,yBAAyB,KAAK,EAAKC,gCAAgC,KAAK,EAAK3gB,SAAS,IAAIznB,KAAE,EAAKqoC,oBAAoB,IAAIroC,KAAE,EAAKsoC,kBAAkB,GAAG,EAAKC,eAAe,KAAK,EAAKC,yBAAyB,KAAK,EAAKjC,kBAAkB,KAAK,EAAKkC,aAAa,EAAE,EAAKC,aAAa,EAAE,EAAKC,mBAAmB,EAAE,EAAK9U,sBAAsB,KAAK,EAAK2O,KAAK,KAAK,EAAKoG,eAAe,KAAK,EAAKC,8BAA8B,KAAK,EAAKC,eAAe,IAAI3oC,KAAE9D,EAAEmmC,KAAKtO,iBAA9pD,EAA/C,8CAA8tD,WAAY,WAAO73B,EAAE,IAAI+G,GAAE,CAACtF,QAAQL,KAAKK,UAAUL,KAAKsoC,cAAc1pC,EAAEoB,KAAKgqB,SAASvrB,IAAI,CAACG,EAAE8C,MAAM,cAAc,SAAA9C,GAAG,oBAAgB,EAAKisC,mBAArB,IAAC,oCAAwC3F,YAAY5I,UAAU19B,GAA/D,kCAAoEoB,KAAKqB,KAAKy+B,kBAAkBlhC,OAAl7D,qBAAu7D,WAAUoB,KAAKsrC,SAAStrC,KAAKgqB,SAAS0B,UAAU1rB,KAAKqrC,eAAe3f,YAA3/D,yBAAqgE,WAAoB,OAAO5rB,YAAEE,KAAK8qC,gBAAgB9qC,KAAK8qC,eAAe/qC,SAAS,MAAplE,IAAylE,SAAkBnB,GAAGoB,KAAKurC,sBAAsB3sC,KAAzoE,wBAA4oE,WAAmB,OAAOoB,KAAK+kC,KAAKlO,eAAhrE,gBAA6rE,WAAW,OAAO72B,KAAK+kC,KAAK1jC,OAAztE,mBAA8tE,WAAc,OAAOrB,KAAK+kC,KAAK1kC,UAA7vE,mBAAqwE,WAAc,OAAOL,KAAK+kC,KAAK4D,UAApyE,6BAA4yE,WAAwB,OAAO3oC,KAAK+kC,KAAKyG,oBAAr1E,oCAAu2E,WAAyB,IAAM5sC,EAAEoB,KAAK6qC,kBAAkB7B,QAAQ,SAAApqC,GAAC,OAAEA,EAAEsmC,YAAY51B,UAAU,WAAW1Q,EAAE6sC,OAAOnqC,QAAOtB,KAAK0rC,gBAAgB9sC,KAAl/E,yCAAq/E,WAA8BoB,KAAKc,KAAK,0BAA7hF,oBAAqjF,WAASd,KAAK8oC,kBAAkBtoC,YAAER,KAAK8oC,mBAAmB9oC,KAAK+qC,yBAAyBvqC,YAAER,KAAK+qC,0BAA0B/qC,KAAK4qC,oBAAoBzF,YAAYnlC,KAAK62B,aAAasO,YAAYnlC,KAAK6qC,kBAAkB,GAAG7qC,KAAK8qC,eAAe,KAAK9qC,KAAKgrC,aAAa,EAAEhrC,KAAKirC,aAAa,IAA10F,mCAA40F,WAA2C,IAArBrsC,EAAqB,uDAAnBoB,KAAK2rC,cAAe,GAAG3rC,KAAKsrC,UAASltC,YAAEQ,GAAnB,CAA6BoB,KAAK8qC,eAAe,IAAIt0B,GAAErU,KAAEypC,aAAahtC,EAAEoB,KAAKqB,KAAKyL,aAAalO,EAAE0C,MAAM,IAAxG,EAA8GxB,EAAEiE,YAAE/D,KAAKK,SAAvH,cAA+IL,KAAK8qC,eAAez4B,KAAKw5B,YAAxK,IAAgI,2BAAmD,OAAzCjtC,EAAyC,sBAAgBA,EAAE82B,UAAlB,IAAC,gCAAUl1B,EAAV,QAA0BR,KAAK8rC,4BAA4BtrC,EAAEV,IAA9D,kDAAgFlB,EAAEmtC,OAAlF,IAAiE,gCAAUvrC,EAAV,QAAuBR,KAAK8rC,4BAA4BtrC,EAAEV,IAA3H,gCAAnL,8BAAiTE,KAAKgsC,+BAA+BlsC,MAA5sG,8CAA+sG,SAAiClB,EAAEkB,GAAG,GAAG,QAAQA,EAAEiB,OAAb,CAA2B,IAA5B,EAAkCP,EAAE,GAAGpC,EAAE4B,KAAK6qC,kBAAkBxC,MAAM,SAAAzpC,GAAC,MAAE,WAAWA,EAAE6sC,OAAOnqC,MAAM1C,EAAEsmC,YAAY51B,YAAW7P,EAAE,IAAIb,GAAGR,EAAEC,EAAE+C,YAAEpB,KAAK8qC,gBAAhJ,cAA+K9qC,KAAK6qC,mBAApL,IAAgK,gCAAUjsC,EAAV,QAAsC,WAAWA,EAAE6sC,OAAOnqC,OAAO1C,EAAEsmC,YAAY5F,UAAU7/B,IAAIb,EAAEsmC,YAAY51B,WAAWlO,YAAE/C,GAAG4tC,aAAa,CAACrtC,EAAE6sC,QAAQ3rC,EAAEosC,UAAUpsC,EAAEqsC,UAAUrsC,EAAEssC,WAAW5rC,EAAE2J,KAAKvL,EAAE6sC,OAAOY,KAAKrsC,KAAKssC,2BAA2B1tC,MAA7Y,8BAAkZ,GAAG,IAAI4B,EAAEsJ,OAAT,CAAuB,IAAza,EAA6a/K,EAAE,EAA/a,cAAgciB,KAAK6qC,mBAArc,IAAib,4BAAsC,WAAtC,QAAmDY,OAAOnqC,MAAMvC,KAAjf,8BAAohB,GAA/BiB,KAAKmrC,eAAe9sC,EAAE0B,SAAYS,EAAEsJ,SAAS/K,EAAE,CAAC,GAAGiB,KAAKusC,kBAAkB,GAAGvsC,KAAK8pC,UAAU,OAAO,GAAG9pC,KAAKc,KAAK,OAAO,CAACQ,KAAK,OAAOmnC,GAAG3oC,EAAE2hC,aAAaiH,GAAG5oC,EAAE6hC,aAAa6K,MAAMxsC,KAAKK,UAAUL,KAAK8pC,UAAU,WAAW,CAAC,GAAG9pC,KAAKusC,kBAAkB,GAAGvsC,KAAK8pC,UAAU,OAAO,GAAG9pC,KAAKc,KAAK,UAAU,CAACQ,KAAK,UAAUkrC,MAAMxsC,KAAKK,UAAUL,KAAK8pC,UAAU,YAA/jI,oCAAukI,WAAyB,IAAD,EAAKlrC,EAAE,EAAP,cAAwBoB,KAAK6qC,mBAA7B,IAAS,gCAAU/qC,EAAV,QAAsC2I,GAAE3I,IAAIA,EAAEolC,YAAY51B,UAAU1Q,KAA7E,8BAAiF,OAAOA,EAAE,IAAzrI,6CAA2rI,SAAgCA,GAAG,GAAGoB,KAAKusC,kBAAkB,IAAGvsC,KAAK8pC,UAAlC,CAAmD,IAAMhqC,EAAElB,EAAEstC,UAAU1rC,EAAE5B,EAAEutC,UAAU/tC,EAAEQ,EAAEwtC,UAAU,GAAItsC,GAAIU,GAAIpC,EAAZ,CAAqB,IAAzH,EAA+HqB,EAAE,GAAjI,cAAmJO,KAAK6qC,mBAAxJ,IAAoI,gCAAU/qC,EAAV,QAAsC2I,GAAE3I,KAAKA,EAAEolC,YAAY51B,WAAWxP,EAAEolC,YAAY5F,UAAUx/B,IAAIlB,EAAE6tC,OAAOhtC,EAAE0K,KAAKrK,IAAtP,8BAAwR,IAA/B,IAAMzB,EAAE+C,YAAEpB,KAAK8qC,gBAAgB,MAAerrC,EAAf,gBAAI,IAAMb,EAAC,KAAMP,EAAE4tC,aAAa,CAACrtC,EAAE6sC,QAAQ3rC,EAAEU,EAAEpC,GAAG4B,KAAKmrC,eAAe9sC,EAAE0B,SAAS,cAAeN,EAAf,gBAAI,IAAMb,EAAC,KAAMoB,KAAKssC,2BAA2B1tC,GAAGoB,KAAKc,KAAK,UAAU,CAACQ,KAAK,UAAUkrC,MAAMxsC,KAAKK,cAAzqJ,+BAAmrJ,SAAkBzB,GAAG,GAAGA,IAAIoB,KAAKkrC,mBAAmB,OAAM,EAAG,OAAOtsC,GAAG,KAAK,EAAE,GAAG,IAAIoB,KAAKgrC,cAAc,IAAIhrC,KAAKirC,aAAa,OAAM,EAAG,OAAOjrC,KAAKkrC,oBAAoB,KAAK,EAAElrC,KAAKc,KAAK,OAAO,CAACQ,KAAK,YAAYmnC,GAAG,EAAEC,GAAG,EAAE8D,MAAMxsC,KAAKK,UAAU,MAAM,KAAK,EAAEL,KAAKc,KAAK,UAAU,CAACQ,KAAK,eAAekrC,MAAMxsC,KAAKK,UAAU,MAAM,KAAK,EAAE,OAAOL,KAAKkrC,oBAAoB,KAAK,EAAElrC,KAAKc,KAAK,OAAO,CAACQ,KAAK,aAAamnC,GAAG,EAAEC,GAAG,EAAE8D,MAAMxsC,KAAKK,UAAU,MAAM,KAAK,EAAEL,KAAKc,KAAK,UAAU,CAACQ,KAAK,eAAekrC,MAAMxsC,KAAKK,UAAUL,KAAK8pC,WAAW9pC,KAAKc,KAAK,OAAO,CAACQ,KAAK,aAAamnC,GAAG,EAAEC,GAAG,EAAE8D,MAAMxsC,KAAKK,UAAU,MAAM,KAAK,EAAE,OAAOL,KAAKkrC,oBAAoB,KAAK,EAAElrC,KAAKc,KAAK,UAAU,CAACQ,KAAK,gBAAgBkrC,MAAMxsC,KAAKK,UAAU,MAAM,KAAK,EAAEL,KAAKc,KAAK,OAAO,CAACQ,KAAK,YAAYmnC,GAAG,EAAEC,GAAG,EAAE8D,MAAMxsC,KAAKK,UAAUL,KAAK8pC,WAAW9pC,KAAKc,KAAK,UAAU,CAACQ,KAAK,gBAAgBkrC,MAAMxsC,KAAKK,WAAW,GAAGL,KAAK8pC,UAAU,OAAM,EAAG,IAAMhqC,EAAEE,KAAKkrC,qBAAqBtsC,EAAE,OAAOoB,KAAKkrC,mBAAmBtsC,EAAEkB,IAArnL,4CAAunL,SAA+BlB,GAAE,WAACoB,KAAK+qC,yBAAyB,IAAIlkC,GAAE,CAACk+B,KAAK/kC,KAAK+kC,KAAK1jC,KAAKrB,KAAKqB,KAAKknC,aAAavoC,KAAKsoC,gBAAgBtoC,KAAKwrC,kBAAkBxrC,KAAK4qC,oBAAoBnsC,IAAIuB,KAAK+qC,yBAAyB3F,oBAAoB,SAACxmC,EAAEkB,EAAEU,GAAKV,EAAEkK,MAAM,SAAApL,GAAC,OAAE,EAAK8tC,kBAAkB9tC,MAAKoL,MAAM,SAAApL,GAAI,EAAK+tC,iCAAiC,EAAE/tC,MAAM4B,EAAEwJ,KAAK,EAAK4iC,4BAA4B5sC,KAAK+qC,yBAAyB1L,oBAAoB,SAAAzgC,GAAIA,EAAES,WAAU,EAAGT,EAAEW,OAAO,QAAQS,KAAK+qC,yBAAyB1L,oBAAoB,SAAAzgC,GAAC,OAAE,EAAKgsC,oBAAoBnsC,IAAI,CAAC,EAAKouC,yBAAyBjuC,GAAE,GAAIA,EAAEY,OAAO03B,GAAG,mBAAmB,SAAAt4B,GAAI,EAAKisC,kBAAkBxC,MAAM,SAAAzpC,GAAC,OAAEA,EAAEsmC,YAAY51B,YAAW,EAAKw9B,kBAAkB,EAAKhsC,KAAK,mBAAmBlC,EAAEyqC,0BAAyBrpC,KAAK8oC,kBAAkB,IAAI5jC,GAAE,CAAC6/B,KAAK/kC,KAAK+kC,KAAK1jC,KAAKrB,KAAKqB,KAAKqmC,aAAY,EAAGC,iBAAgB,EAAGC,WAAW5nC,KAAK2oC,SAASvkC,GAAEpE,KAAKK,SAASm2B,aAAY,EAAG7sB,OAAOzE,GAAEskC,gBAAgBxpC,KAAKK,QAAQJ,UAAUD,KAAK8oC,kBAAkBzJ,oBAAoB,SAAAzgC,GAAI,EAAKorB,SAASvrB,IAAI,CAAC,EAAKouC,yBAAyBjuC,GAAE,GAAIA,EAAEY,OAAO03B,GAAG,mBAAmB,SAAAp3B,GAAI,EAAKgpC,kBAAkBrB,cAAcgC,eAAe7qC,IAAI,EAAKisC,kBAAkBxC,MAAM,SAAAzpC,GAAC,OAAEA,EAAEsmC,YAAY51B,aAAY,EAAKxO,KAAK,mBAAmBhB,EAAEupC,0BAA0BrpC,KAAK8oC,kBAAkBxoC,cAAc,CAACK,KAAK,kBAAkBF,OAAO,GAAG,IAAMD,EAAEY,YAAEpB,KAAKK,QAAQN,UAAUkC,iBAAqB7D,EAAE,KAAK4B,KAAKgqB,SAASvrB,IAAI,CAACuB,KAAK8oC,kBAAkB1D,oBAAoB,SAAC5kC,EAAEf,EAAEpB,EAAEU,GAAKU,EAAEuK,MAAM,SAAApL,GAAC,OAAE,EAAK8tC,kBAAkB9tC,MAAKoL,MAAM,SAAAxJ,GAAI,GAAG,UAAUA,EAAEO,OAAO,CAAC,IAAMjB,EAAE,EAAK+qC,kBAAkB7B,QAAQ,SAAApqC,GAAC,OAAE6J,GAAE7J,IAAIA,EAAEsmC,YAAY51B,YAAW,GAAG,IAAI9O,EAAE6kC,iBAAiB,IAAIvlC,EAAEgK,OAAO,CAAC,IAAMtJ,EAAEV,EAAE,GAAG2rC,OAAOrtC,EAAE,IAAI6Y,KAAE7V,YAAE,EAAK0pC,gBAAgB,EAAKzpC,KAAKzC,EAAEG,EAAEyB,IAAI,OAAOV,YAAE1B,KAAKoC,EAAE0jC,OAAO,EAAKmH,eAAenF,KAAK1lC,EAAE0jC,OAAO9lC,IAAI,QAAQoC,EAAEO,SAAS,EAAKsqC,eAAe0B,eAAe3uC,EAAE,MAAMoC,KAAKwJ,KAAKpH,gBAAKoH,MAAM,SAAApL,GAAI,EAAK+tC,iCAAiC,EAAE/tC,MAAMP,EAAE2L,KAAK,EAAK4iC,0BAA0BhuC,EAAE4B,GAAG0C,aAAElD,KAAKsoC,cAAc,cAAc,WAAK,EAAK0E,qCAAqChtC,KAAKsoC,cAAcpR,GAAG,WAAW,kBAAI,EAAK8V,qCAAoC9pC,aAAElD,KAAKsoC,cAAc,YAAY,WAAK,IAAM1pC,EAAE,0BAA0B,EAAK0pC,cAAc1mB,SAAS,EAAKoI,SAASvrB,IAAI,EAAK4C,KAAKsyB,kBAAkBuD,GAAG,oBAAoB,kBAAI,EAAK8V,qCAAoCpuC,GAAG,EAAKorB,SAASvoB,OAAO7C,QAAQoB,KAAKgtC,kCAAkC,IAAMvtC,EAAE8J,GAAE,CAAClI,KAAKrB,KAAKqB,KAAKhB,QAAQL,KAAKK,QAAQg/B,mBAAmB,SAAAzgC,GAAI,IAAI,EAAKkrC,UAAU,CAAChqC,YAAE,EAAKirC,2BAA2B,EAAKA,yBAAyB1L,mBAAmBzgC,GAApF,oBAAsG,EAAKisC,mBAA3G,IAAuF,4BAAsCjsC,EAAtC,QAA0CsmC,YAAY,IAA7I,8BAAgJ,EAAK4D,kBAAkBzJ,mBAAmBzgC,KAAKihC,sBAAsB,SAAAjhC,GAAC,OAAE,EAAKs4B,GAAG,uBAAuBt4B,MAAKoB,KAAKo2B,sBAAsB32B,EAAE8/B,yBAAyBzgC,GAAEW,EAAE8/B,cAAc,KAAKz/B,YAAEE,KAAKo2B,wBAAwBp2B,KAAK4qC,oBAAoBnsC,IAAI,CAACuB,KAAKo2B,sBAAsB52B,OAAO03B,GAAG,6BAA6B,WAAK,EAAKoR,cAAc1mB,UAAU,EAAKorB,qCAAqChtC,KAAKsoC,cAAc5mC,MAAM,YAAY,kBAAI,EAAKsrC,uCAAsChtC,KAAK4qC,oBAAoBnsC,IAAIgB,KAA3rR,yCAA8rR,SAA4Bb,GAAoB,WAAlBkB,EAAkB,uDAAhBiE,YAAE/D,KAAKK,SAAU,GAAGjC,YAAE4B,KAAKwqC,6BAA6BpsC,YAAE4B,KAAKyqC,mCAAmC,CAAC,IAAM7rC,EAAEsX,EAAEjE,oBAAoBvT,OAAOoB,EAAElB,EAAE4D,KAAK,EAAEhC,EAAEV,EAAElB,EAAEmR,iBAAiB3R,EAAE0B,EAAEU,EAAER,KAAKwqC,2BAA2B,IAAIjjC,KAAEhH,KAAEu1B,qBAAqB13B,EAAE,GAAG,IAAI,uBAAuB,IAAMgD,GAAGtB,EAAElB,EAAEkR,aAAatP,EAAER,KAAKyqC,kCAAkC,IAAIljC,KAAEhH,KAAEu1B,qBAAqB10B,EAAE,GAAG,IAAI,+BAA+B,GAAGhD,YAAE4B,KAAK0qC,2BAA2BtsC,YAAE4B,KAAK2qC,iCAAiC,CAAC,IAAM/rC,EAAEsX,EAAEjE,oBAAoB7B,KAAKtQ,EAAElB,EAAE4D,KAAK,EAAEhC,EAAEV,EAAElB,EAAEmR,iBAAiB3R,EAAE0B,EAAEU,EAAER,KAAK0qC,yBAAyB,IAAInjC,KAAEhH,KAAEu1B,qBAAqB13B,EAAE,GAAG,IAAI,uBAAuB,IAAMgD,GAAGtB,EAAElB,EAAEkR,aAAatP,EAAER,KAAK2qC,gCAAgC,IAAIpjC,KAAEhH,KAAEu1B,qBAAqB10B,EAAE,GAAG,IAAI,+BAA+B,IAAMZ,EAAE,IAAI8U,GAAE,CAACjU,KAAKrB,KAAKqB,KAAKi9B,cAAc,CAAC,CAACv+B,SAASC,KAAKwqC,2BAA2Bh4B,SAASxS,KAAK+pC,2BAA2B9L,UAAU,EAAE30B,GAAE2jC,QAAQ,CAACltC,SAASC,KAAKyqC,kCAAkCj4B,SAASxS,KAAKgqC,kCAAkC/L,UAAU,EAAE30B,GAAE2jC,QAAQ,CAACltC,SAASC,KAAKyqC,kCAAkCj4B,SAASxS,KAAKiqC,uCAAuChM,UAAU,EAAE30B,GAAE2jC,QAAQ,CAACltC,SAASC,KAAK0qC,yBAAyBl4B,SAASxS,KAAK+pC,2BAA2B9L,UAAU,EAAE30B,GAAE4jC,MAAM,CAACntC,SAASC,KAAKyqC,kCAAkCj4B,SAASxS,KAAKiqC,uCAAuChM,UAAU,EAAE30B,GAAE4jC,MAAM,CAACntC,SAASC,KAAK0qC,yBAAyBl4B,SAASxS,KAAKkqC,yBAAyBjM,UAAU,EAAE30B,GAAE4jC,MAAM,CAACntC,SAASC,KAAK2qC,gCAAgCn4B,SAASxS,KAAKmqC,gCAAgClM,UAAU,EAAE30B,GAAE4jC,MAAM,CAACntC,SAASC,KAAKwqC,2BAA2Bh4B,SAASxS,KAAKoqC,6BAA6BnM,UAAU,GAAG,CAACl+B,SAASC,KAAKyqC,kCAAkCj4B,SAASxS,KAAKqqC,oCAAoCpM,UAAU,GAAG,CAACl+B,SAASC,KAAKyqC,kCAAkCj4B,SAASxS,KAAKsqC,yCAAyCrM,UAAU,KAAK39B,cAAcR,EAAEk6B,gBAAgB,EAAEC,gBAAgB,EAAEqC,aAAat8B,KAAKK,QAAQa,UAAUlB,KAAKK,QAAQnB,MAAMgC,WAAWlB,KAAKmtC,oCAAoC3sC,EAAE5B,EAAEkB,GAAG,IAAMsB,EAAE,SAASxC,EAAE0C,KAAK,CAAC4jC,YAAY1kC,EAAEirC,OAAO7sC,EAAEwuC,qBAAqB,KAAK9rC,KAAK,OAAO+rC,cAAc,GAAG,CAACnI,YAAY1kC,EAAEirC,OAAO7sC,EAAE0C,KAAK,SAAS+rC,cAAc,GAAG,GAAGrtC,KAAK6qC,kBAAkB1gC,KAAK/I,GAAGpB,KAAK62B,aAAap4B,IAAI+B,GAAGR,KAAKssC,2BAA2BlrC,GAAG,SAASA,EAAEE,KAAK,CAAC,IAAM1C,EAAEoB,KAAKstC,8BAA8BlsC,EAAEqqC,OAAO8B,MAAMrI,YAAY1lC,OAAO03B,GAAG,mBAAmB,kBAAI,EAAKoV,2BAA2BlrC,MAAKtB,EAAEE,KAAKstC,8BAA8BlsC,EAAEqqC,OAAO+B,OAAOtI,YAAY1lC,OAAO03B,GAAG,mBAAmB,kBAAI,EAAKoV,2BAA2BlrC,MAAKA,EAAEgsC,qBAAqB3tC,aAAE,CAACb,EAAEkB,IAAIE,KAAK4qC,oBAAoBnsC,IAAI2C,EAAEgsC,qBAAqB5sC,GAAGR,KAAK4qC,oBAAoBnsC,IAAIuB,KAAK6sC,yBAAyBrsC,GAAE,GAAIA,GAAG,IAAMnC,EAAEqC,aAAEF,GAAG,SAAC5B,EAAE4B,EAAEpC,EAAEqB,GAAKe,EAAEwJ,MAAM,SAAApL,GAAC,OAAE,EAAK8tC,kBAAkB9tC,MAAKoL,MAAM,SAAApL,GAAC,OAAEkJ,GAAE1G,GAAF,2BAASxC,GAAT,IAAW6tC,KAAK,EAAKgB,sBAAsBrsC,KAA3C,2BAAmDxC,GAAnD,IAAqD6tC,KAAKrrC,OAAK4I,KAAKlI,aAAE,EAAKT,KAAKzC,EAAE+8B,2BAA2B3xB,KAAK7G,GAAE,EAAK9B,KAAK,EAAKhB,QAAQzB,EAAE+8B,yBAAyB/8B,EAAEi9B,SAAS55B,mBAAmB+H,KAAK,EAAK0jC,UAAU5tC,EAAEL,IAAIuK,KAAKpH,gBAAKoH,MAAM,SAAApL,GAAI,EAAK+uC,gCAAgC/uC,MAAMR,EAAE4L,KAAK,EAAK4iC,2BAA2B,OAAO5sC,KAAK4qC,oBAAoBnsC,IAAIJ,EAAEmC,GAAGR,KAAK4qC,oBAAoBnsC,IAAI,CAAC+B,EAAEhB,OAAO03B,GAAG,mBAAmB,SAAAt4B,GAAC,OAAE,EAAKgvC,0BAA0BhvC,EAAEwC,MAAKZ,EAAEhB,OAAO03B,GAAG,kBAAkB,WAAK91B,EAAEisC,gBAAgB,EAAK9C,eAAe,EAAKyC,uCAAuChtC,KAAKc,KAAK,wBAAwBN,IAAtoY,uBAAwoY,SAAU5B,EAAE4B,GAAE,WAAKpC,EAAE,KAAWqB,EAAE2B,YAAEpB,KAAK8qC,gBAAgB,OAAO,SAAA1pC,GAAI,GAAG,UAAUA,EAAEL,SAAS,EAAK8sC,2BAA2BzvC,EAAE,CAAC0vC,QAAQ,IAAI72B,KAAExX,EAAE,EAAK4B,KAAKzC,EAAE4B,EAAEY,EAAEqrC,KAAKhB,QAAQsC,YAAYtuC,EAAE4S,KAAK0lB,iBAAiBiW,sBAAsB5sC,EAAEqrC,KAAKhB,OAAOY,QAAQvsC,YAAE1B,GAAG,CAAC,IAAMQ,EAAC,eAAKR,EAAE2vC,aAAanvC,EAAEgE,GAAGxB,EAAE8iC,OAAOthC,EAAExB,EAAE6iC,SAASrhC,EAAEhE,EAAEuD,GAAGf,EAAE8iC,OAAO/hC,EAAEf,EAAE6iC,SAAS9hC,EAAE,IAAMrC,EAAE,EAAKurC,eAAenF,KAAKtnC,EAAER,EAAE0vC,SAAS1sC,EAAE8iC,OAAOthC,EAAE9C,EAAE8C,GAAGxB,EAAE6iC,SAASrhC,EAAExE,EAAE2vC,YAAYnrC,GAAGxB,EAAE8iC,OAAO/hC,EAAErC,EAAEqC,GAAGf,EAAE6iC,SAAS9hC,EAAE/D,EAAE2vC,YAAY5rC,GAAG,MAAM,QAAQf,EAAEL,SAAS,EAAKsqC,eAAe0B,eAAe3uC,EAAE,MAAMgD,KAA7qZ,+BAAgrZ,SAAkBxC,GAAG,OAAOA,EAAEmC,QAAQ,IAAI,QAAQf,KAAKirC,eAAe,MAAM,IAAI,MAAMjrC,KAAKirC,eAAe,OAAOrsC,IAAjyZ,kCAAmyZ,WAAsB,WAAOA,EAAEkB,YAAEE,KAAK8qC,gBAAgB9qC,KAAK8qC,eAAe/qC,SAASqC,QAAQ,KAAK,OAAM,WAAK,OAAO,EAAK6oC,eAAe,EAAKU,cAAc/sC,EAAE,EAAKusC,eAAevsC,EAAE,EAAKysC,eAAe0B,eAAe,EAAK7B,oBAAoB,KAAK,EAAE,MAAM,KAAK,EAAE,EAAKpqC,KAAK,OAAO,CAACQ,KAAK,OAAOmnC,GAAG,EAAEC,GAAG,EAAE8D,MAAM,EAAKnsC,UAAU,MAAM,KAAK,EAAE,EAAKS,KAAK,UAAU,CAACQ,KAAK,UAAUkrC,MAAM,EAAKnsC,UAAU,EAAKypC,WAAW,EAAKyC,kBAAkB,MAA9sa,iDAAkta,SAAoC3tC,EAAEkB,EAAEU,GAAG,OAAOV,EAAEwB,MAAM,IAAI,SAAS1C,EAAE0E,MAAMgG,GAAE2jC,OAAOruC,EAAEQ,YAAW,EAAGR,EAAEW,OAAO,OAAOX,EAAE66B,kBAAkB,EAAE76B,EAAE+K,OAAOuM,EAAEjE,oBAAoBvT,OAAO8D,KAAK,EAAE0T,EAAEjE,oBAAoBvT,OAAOqR,iBAAiBnR,EAAE0B,cAAcE,EAAE,MAAM,IAAI,OAAO5B,EAAE0E,MAAMgG,GAAE4jC,KAAKtuC,EAAEQ,YAAW,EAAGR,EAAEW,OAAO,OAAOX,EAAE66B,mBAAmB,EAAE76B,EAAE+K,OAAOuM,EAAEjE,oBAAoB7B,KAAK5N,KAAK,EAAE0T,EAAEjE,oBAAoB7B,KAAKL,iBAAiBnR,EAAE0B,cAAc,kBAAkBE,EAAEG,KAAKH,EAAE,CAACG,KAAK,kBAAkBF,OAAO,MAArsb,sCAAysb,SAAyB7B,EAAEkB,GAAE,WAAC,OAAOlB,EAAEY,OAAO03B,GAAG,gBAAgB,SAAA12B,GAAI,GAAG,UAAUA,EAAEO,OAAOjB,GAAG,EAAKmuC,iBAAiBrvC,GAAG,EAAKosC,oBAAoB,GAAG,EAAKA,eAAe,EAAKuB,kBAAkB,GAAG,EAAKzC,UAAU,OAAO,EAAKhB,kBAAkB3pC,aAAa,EAAK6rC,kBAAz8b,6BAAy9b,WAAiB,oBAAgBhrC,KAAK6qC,mBAArB,IAAC,gCAAUjsC,EAAV,QAAsCA,EAAEsmC,YAAY5F,WAAW1gC,EAAEsmC,YAAY51B,UAAS,IAAvF,iCAA1+b,8BAAqkc,SAAiB1Q,GAAGA,EAAE0gC,WAAW1gC,EAAE0Q,UAAU1Q,EAAEQ,aAAaY,KAAK8sC,kBAAkBluC,EAAE0Q,UAAS,EAAGtP,KAAKc,KAAK,2BAAhrc,gCAAysc,SAAmBlC,GAAGA,IAAIoB,KAAK4qC,oBAAoBnpC,OAAO7C,EAAEsmC,aAAallC,KAAK6qC,kBAAkBlT,OAAO33B,KAAK6qC,kBAAkBqD,QAAQtvC,GAAG,GAAGoB,KAAK62B,aAAap1B,OAAO7C,EAAEsmC,aAAallC,KAAKc,KAAK,2BAAv4c,2CAAg6c,SAA8BlC,GAAG,GAAGA,EAAH,qBAAoBoB,KAAK6qC,mBAAzB,IAAK,gCAAU/qC,EAAV,QAAsC,GAAGlB,IAAIkB,EAAE2rC,OAAO,OAAO3rC,GAAlE,+BAAoE,OAAO,OAA5gd,wCAAihd,SAA2BlB,GAAG,GAAIA,EAAJ,CAAa,IAAM4B,EAAEY,YAAEpB,KAAK8qC,gBAAgB,GAAG,WAAWlsC,EAAE6sC,OAAOnqC,KAAK1C,EAAEsmC,YAAYrJ,SAASr7B,EAAE6R,KAAK0lB,iBAAiBoW,QAAQvvC,EAAE6sC,OAAOY,IAAIx0B,IAAGjZ,EAAEsmC,YAAY5F,UAAUx/B,YAAEE,KAAKorC,iCAAiCprC,KAAKorC,8BAA8B7L,cAAcS,4BAA4BphC,EAAEsmC,YAAY/I,qBAAqB,GAAG,SAASv9B,EAAE6sC,OAAOnqC,KAAK,CAAC,IAAMlD,EAAE4B,KAAKstC,8BAA8B1uC,EAAE6sC,OAAO8B,MAAMrI,YAAY9jC,EAAEpB,KAAKstC,8BAA8B1uC,EAAE6sC,OAAO+B,OAAOtI,YAAY,GAAGplC,YAAElB,EAAEsmC,YAAY5kC,gBAAgB,kBAAkB1B,EAAEsmC,YAAY5kC,cAAcK,KAAK,CAAC,IAAMb,EAAE1B,EAAEy9B,SAASp8B,EAAE2B,EAAEy6B,SAAc98B,EAAEe,EAAE8C,EAAP,IAAYnD,EAAEmD,EAAE9C,EAAE8C,GAAGzB,EAAErB,EAAEqC,EAAzB,IAA8B1C,EAAE0C,EAAErC,EAAEqC,GAAG6B,EAAElE,EAAE2zB,MAAMh0B,EAAEg0B,KAAK,OAAE,EAAO70B,EAAEsmC,YAAYrJ,SAAS35B,YAAEnD,EAAEoC,EAAE6C,EAAExD,EAAET,SAASkC,sBAAsB,CAAC,IAAMnC,EAAE1B,EAAEu9B,yBAAyBl8B,EAAE2B,EAAEu6B,yBAA8B58B,EAAEe,EAAE8C,EAAP,IAAYnD,EAAEmD,EAAE9C,EAAE8C,GAAGzB,EAAErB,EAAEqC,EAAzB,IAA8B1C,EAAE0C,EAAErC,EAAEqC,GAAG6B,EAAElE,EAAE2zB,MAAMh0B,EAAEg0B,KAAK3zB,EAAE+G,EAA1D,IAA+DpH,EAAEoH,EAAE/G,EAAE+G,QAAG,EAAOjI,EAAEsmC,YAAYvJ,yBAAyBz5B,YAAEnD,EAAEoC,EAAE6C,EAAExD,EAAET,SAASkC,uBAAt9e,mCAA0+e,SAAsBrD,GAAG,IAAMkB,EAAEsB,YAAEpB,KAAK8qC,gBAAgBtqC,EAAEY,YAAEtB,EAAEsuC,UAAUxvC,EAAE6sC,OAAO,IAAI4C,eAAezvC,EAAEwuC,qBAAqB3rC,SAAS7C,EAAEwuC,0BAAqB,EAAO,IAAMhvC,EAAEQ,EAAER,EAAEqtC,OAAOjrC,EAAEpC,EAAEkD,KAAK,SAAS,IAAM7B,EAAEsE,YAAE/D,KAAKK,SAASL,KAAKmtC,oCAAoCvuC,EAAEsmC,YAAYtmC,EAAE6sC,OAAOhsC,GAAGe,EAAE+sC,MAAMvtC,KAAK8rC,4BAA4BtrC,EAAE+sC,MAAM/sC,EAAEgtC,OAAOxtC,KAAK8rC,4BAA4BtrC,EAAEgtC,OAAOxtC,KAAKmrC,eAAerrC,EAAEC,SAASC,KAAKssC,2BAA2BluC,GAAG4B,KAAKiuC,iBAAiBrvC,EAAEsmC,aAAa,IAAM7mC,EAAE2B,KAAKusC,kBAAkB,GAAGxtC,EAAEe,EAAEuS,KAAK0lB,iBAAiBgR,QAAQ3qC,EAAEqtC,OAAOY,KAAKlrC,EAAErB,EAAEuS,KAAKw5B,WAAWqC,QAAQ1tC,EAAE8tC,WAAW,OAAOtuC,KAAKc,KAAK,aAAa,CAACQ,KAAK,aAAao0B,SAAS,CAAC,CAAC6Y,YAAYxvC,EAAEyvC,eAAertC,EAAEi4B,YAAYh4B,YAAEZ,EAAE6J,SAASokC,MAAM1vC,IAAIV,GAAG2B,KAAKusC,kBAAkB,GAAGnuC,IAA7ugB,6CAA+ugB,WAAiC,WAAOQ,EAAEmE,KAAEqL,MAAMpK,YAAEpF,EAAE,EAAE,EAAE,GAAG,IAA5B,EAAgC4B,EAAE,EAAEf,GAAE,EAAGpB,EAAE,KAAKU,EAAE,KAAlD,cAAsEiB,KAAK6qC,mBAA3E,IAAuD,gCAAU/qC,EAAV,QAAsC2I,GAAE3I,KAAKA,EAAEolC,YAAY51B,UAAU9O,IAAIiC,YAAE7D,EAAEA,EAAEkB,EAAEolC,YAAY/I,gBAAgB/9B,YAAEC,IAAIyB,EAAEutC,cAAchvC,EAAEgvC,eAAetuC,EAAEV,EAAEA,EAAEyB,IAAI1B,YAAEW,IAAIe,EAAEutC,cAActuC,EAAEsuC,iBAAiBtuC,EAAEe,IAAIL,GAAE,IAAtQ,8BAA0Q,GAAG,IAAIe,EAAE,CAAC,IAAM5B,EAAEoB,KAAKsoC,cAAcvJ,WAAW/+B,KAAK8oC,kBAAkBvB,eAAejL,UAAU19B,EAAEoB,KAAK8oC,kBAAkBtB,mBAAmBlL,UAAU19B,EAAEoB,KAAK8oC,kBAAkBrB,cAAcnL,UAAU19B,GAAGoB,KAAK2oC,SAASvkC,GAAEpE,KAAKK,SAASL,KAAK8oC,kBAAkBtB,mBAAmBkH,oBAAoB9vC,GAAG,IAAI4B,MAAM,CAAC,IAAM5B,EAAEoB,KAAKsoC,cAAcvJ,YAAY/+B,KAAKwrC,kBAAkBxrC,KAAK8oC,kBAAkBvB,eAAejL,UAAU19B,EAAEoB,KAAK8oC,kBAAkBtB,mBAAmBlL,UAAU19B,EAAEoB,KAAK8oC,kBAAkBtB,mBAAmBkH,oBAAoB9vC,EAAEoB,KAAK8oC,kBAAkBrB,cAAcnL,UAAU19B,GAAGoB,KAAK2oC,SAASvkC,GAAEpE,KAAKK,SAAS,GAAG,IAAIG,EAAE,CAAC,IAAI5B,EAAE,EAAE,GAAGkB,YAAEzB,GAAG,CAAC,IAAMmC,EAAEnC,EAAEotC,OAAOY,IAAIjuC,EAAE0B,YAAEf,GAAGA,EAAE0sC,OAAOY,IAAIhuC,EAAEotC,OAAO8B,MAAMlvC,EAAEotC,OAAO8B,KAAKA,KAAKlvC,EAAEotC,OAAO8B,KAAKA,KAAKlB,IAAI,KAAKjrC,GAAGtB,YAAEf,IAAIV,EAAEotC,OAAO+B,OAAOnvC,EAAEotC,OAAO+B,MAAMA,MAAMnvC,EAAEotC,OAAO+B,MAAMA,MAAMnB,IAAI,KAAKjuC,GAAGgD,EAAEpB,KAAK8oC,kBAAkBtB,mBAAmBlL,WAAU,EAAGl+B,EAAEQ,EAAE0L,GAAElM,EAAEoC,GAAGY,IAAIxC,EAAE0L,GAAE9J,EAAEY,IAAIpB,KAAK8oC,kBAAkBxD,MAAM1mC,EAAEoB,KAAK8oC,kBAAkBn/B,OAAOlC,QAAOzH,KAAK8oC,kBAAkBe,cAAc,kBAAI1gC,GAAE/H,YAAE,EAAKf,QAAQN,YAAWC,KAAK8oC,kBAAkBn/B,OAAOzE,GAAEskC,gBAAgBxpC,KAAKK,QAAQJ,QAAQ,IAAIO,GAAGf,GAAG4D,YAAEzE,EAAEA,EAAE,EAAE4B,GAAGqX,GAAE5V,iBAAiBb,YAAEpB,KAAK8qC,gBAAgB/qC,SAASkC,iBAAiB4V,GAAE4b,MAAK,EAAGzzB,KAAKqB,KAAK0xB,mBAAmBC,iBAAiBp0B,EAAEiZ,IAAG7X,KAAK8oC,kBAAkBnN,yBAAyB9jB,IAAG/X,YAAEE,KAAKo2B,yBAAyBp2B,KAAKsoC,cAAc1mB,UAAU9hB,YAAEE,KAAKo2B,sBAAsBwJ,kBAAkB5/B,KAAK8oC,kBAAkBnN,yBAAyB37B,KAAKo2B,sBAAsBwJ,iBAAiB92B,GAAE9I,KAAKqB,KAAKrB,KAAK8oC,kBAAkB9oC,KAAKK,WAA9ikB,6BAAujkB,SAAgBzB,GAAG,IAAD,EAAOkB,EAAE,GAAGU,EAAEY,YAAEpB,KAAK8qC,gBAArB,cAAoDlsC,GAApD,IAAqC,gCAAUR,EAAV,QAAiB,GAAG,WAAWA,EAAEqtC,OAAOnqC,MAAMd,EAAEmuC,kBAAkB,CAAC7uC,EAAEqK,KAAK/L,EAAEqtC,QAAQzrC,KAAK4uC,mBAAmBxwC,GAAG4B,KAAK4uC,mBAAmB5uC,KAAKstC,8BAA8BlvC,EAAEqtC,OAAO8B,OAAOvtC,KAAK4uC,mBAAmB5uC,KAAKstC,8BAA8BlvC,EAAEqtC,OAAO+B,QAAQ,IAAM5uC,EAAEwC,YAAEZ,EAAEquC,eAAe,CAACzwC,EAAEqtC,SAASqD,gBAAgB,GAAGC,aAAanwC,GAAGoB,KAAK8rC,4BAA4BltC,KAAtZ,8BAAyZ,GAAGkB,EAAEgK,OAAO,EAAE,CAAC,IAAMlL,EAAEkB,EAAE8H,KAAK,SAAAhJ,GAAI,IAAMkB,EAAEU,EAAE6R,KAAKw5B,WAAWqC,QAAQtvC,EAAE0vC,WAAW,MAAM,CAACC,YAAY/tC,EAAE6R,KAAK0lB,iBAAiBgR,QAAQnqC,EAAEytC,KAAKmC,eAAe1uC,EAAEs5B,YAAYh4B,YAAExC,EAAEyL,WAAWrK,KAAKmrC,eAAe3qC,EAAET,SAAS,IAAM3B,EAAE4B,KAAKusC,kBAAkB,GAAG,GAAGvsC,KAAK8pC,UAAU,OAAO,GAAG9pC,KAAKc,KAAK,gBAAgB,CAACQ,KAAK,gBAAgB0tC,QAAQpwC,EAAEgJ,KAAK,SAAAhJ,GAAC,OAAEA,EAAE2vC,eAAc7Y,SAAS92B,IAAIoB,KAAK8pC,UAAU,OAAO,GAAG1rC,IAAI4B,KAAKusC,kBAAkB,GAAGvsC,KAAK8pC,WAAW,OAAO9pC,KAAKgtC,qCAAx6lB,uCAA28lB,SAA0BpuC,EAAEkB,GAAGlB,EAAEqwC,UAAUjvC,KAAK8sC,kBAAkB,WAAWhtC,EAAE2rC,OAAOnqC,OAAOxB,EAAEolC,YAAY51B,UAAUxP,EAAEolC,YAAY51B,UAAU,WAAWxP,EAAE2rC,OAAOnqC,MAAM,IAAI1C,EAAEswC,QAAQlvC,KAAK0rC,gBAAgB,CAAC5rC,IAAIgI,GAAEhI,IAAI,IAAIlB,EAAEswC,QAAQlvC,KAAKytC,sBAAsB3tC,GAAGlB,EAAEyqC,sBAA9smB,GAAeloC,IAAE69B,iBAAitmB,SAAS10B,GAAE1L,EAAEkB,GAAG,OAAO8I,KAAKg2B,MAAM9+B,EAAE,GAAGlB,EAAE,GAAGkB,EAAE,GAAGlB,EAAE,IAAIgK,KAAK8L,GAAG,EAAE,SAASjM,GAAE7J,GAAG,MAAM,WAAWA,EAAE6sC,OAAOnqC,KAAK,SAASwG,GAAElJ,GAAG,MAAM,SAASA,EAAE6sC,OAAOnqC,KAAK1C,YAAE,CAACP,YAAE,CAACoF,eAAc,KAAMxE,GAAE0E,UAAU,YAAO,GAAQ/E,YAAE,CAACP,eAAKY,GAAE0E,UAAU,gBAAgB,MAAM/E,YAAE,CAACP,eAAKY,GAAE0E,UAAU,sBAAiB,GAAQ1E,GAAEL,YAAE,CAACG,YAAE,6EAA6EE,IAAG,IAA6BqK,GAAY1K,GAAnCiZ,GAAE3V,YAAE,EAAE,EAAE,KAAK,OAAsBtD,GAA0B0K,KAAIA,GAAE,KAA3B2jC,OAAO,GAAGruC,GAAEsuC,KAAK,G,IAAqB12B,G,kDAAY,WAAY5X,EAAEkB,GAAE,kCAAC,cAAMlB,EAAEkB,IAAQwB,KAAKxB,EAAE,EAAK0xB,UAAU,KAAvC,E,0CAA4C,WAAe,GAAGxxB,KAAKmvC,OAAO,CAAC,OAAOnvC,KAAKsB,MAAM,IAAI,WAAWtB,KAAKwxB,UAAUxxB,KAAKqS,KAAK+8B,aAAa,MAAM,IAAI,UAAUpvC,KAAKwxB,UAAUxxB,KAAKqS,KAAKg9B,YAAYrvC,KAAKmvC,QAAO,EAAG,OAAOnvC,KAAKwxB,c,GAAxP3vB,MCAzrqBV,GAAC,kDAAkC,WAAYvC,GAAE,kCAAC,cAAMA,IAAQorB,SAAS,IAAIhmB,KAAE,EAAKsrC,kBAAkB,KAAK,EAAKC,yBAAwB,EAAG,EAAK5G,SAAQ,EAAG,EAAK6C,mBAAkB,EAAG,EAAKlqC,KAAK,aAAa,EAAKm1B,gBAAgB,IAAIh0B,IAApL,EAAhD,2CAAsO,WAAUzC,KAAKgqB,SAASmb,YAAYnlC,KAAKsvC,oBAAoBtvC,KAAKsvC,kBAAkB5jB,UAAU1rB,KAAKsvC,kBAAkB,MAAMtvC,KAAKE,KAAK,OAAO,MAAMF,KAAKE,KAAK,UAAU,QAA5Y,uCAAkZ,WAAkC,OAAM,IAA1b,6BAA6b,WAAkB,IAAMtB,EAAEoB,KAAKK,QAAQN,SAAS,IAAIwC,aAAEvC,KAAKK,WAAWP,YAAElB,IAAI,YAAYA,EAAE0C,MAAM,aAAa1C,EAAE0C,KAAKtB,KAAKsvC,kBAAkB3D,cAAc,KAAK3rC,KAAKsvC,kBAAkB3D,cAAc/sC,EAAEwD,UAAloB,4BAA0oB,WAAgB,WAAC,GAAGpC,KAAKgqB,SAASvoB,OAAO,2BAA2BzB,KAAKwvC,kBAAkB,IAAIjtC,aAAEvC,KAAKK,SAArF,CAAqG,IAAMzB,EAAEoB,KAAK0B,MAAM,oBAAoB,YAAK,IAAK,EAAK6tC,yBAAyB,EAAKC,qBAAoB,GAAIxvC,KAAKgqB,SAASvrB,IAAIG,EAAE,8BAAh4B,yCAA25B,WAA8BoB,KAAKsvC,mBAAmBtvC,KAAKsvC,kBAAkBG,gCAAx+B,uCAAsgC,WAA4BpxC,YAAE2B,KAAKK,WAAWL,KAAKuvC,yBAAwB,EAAGvvC,KAAKK,QAAQN,SAASC,KAAKsvC,kBAAkBnE,eAAe/oC,QAAQpC,KAAKuvC,yBAAwB,KAArrC,wBAAyrC,WAAY,WAACvvC,KAAKsvC,kBAAkB,IAAIvrC,GAAE,CAACghC,KAAK/kC,OAAOA,KAAKgqB,SAASvrB,IAAI,CAACuB,KAAKsvC,kBAAkBpY,GAAG,WAAW,SAAAt4B,GAAI,YAAYA,EAAE0C,MAAM,EAAKouC,4BAA4B,EAAK5uC,KAAK,UAAUlC,MAAMoB,KAAKsvC,kBAAkBpY,GAAG,QAAQ,SAAAt4B,GAAI,SAASA,EAAE0C,MAAM,EAAKouC,4BAA4B,EAAK5uC,KAAK,OAAOlC,MAAMoB,KAAKsvC,kBAAkBpY,GAAG,cAAc,SAAAt4B,GAAI,EAAK8wC,4BAA4B,EAAK5uC,KAAK,aAAalC,MAAMoB,KAAKsvC,kBAAkBpY,GAAG,iBAAiB,SAAAt4B,GAAI,EAAK8wC,4BAA4B,EAAK5uC,KAAK,gBAAgBlC,MAAMoB,KAAKsvC,kBAAkBpY,GAAG,mBAAmB,kBAAI,EAAKp2B,KAAK,sBAAqB1C,aAAE4B,KAAK,WAAW,WAAK,EAAK2vC,oBAAmB,OAAn0D,wBAAy0D,WAAa3vC,KAAKsvC,kBAAkBjE,eAAe0B,iBAA53D,0BAA24D,SAAanuC,GAAG,aAAaA,EAAE0C,MAAM,WAAW1C,EAAEwd,KAAK,cAAcxd,EAAEwd,KAAKpc,KAAKsvC,kBAAkBM,2BAA9+D,mBAAugE,gBAAvgE,GAAe7wC,IAAEs6B,aAAa55B,MAAo/Db,YAAE,CAACwC,YAAE,CAACqC,eAAc,EAAGC,aAAY,KAAMvC,GAAEwC,UAAU,YAAO,GAAQ/E,YAAE,CAACwC,YAAE,CAACqC,eAAc,KAAMtC,GAAEwC,UAAU,eAAU,GAAQ/E,YAAE,CAACwC,YAAE,CAACqC,eAAc,EAAGC,aAAY,KAAMvC,GAAEwC,UAAU,eAAU,GAAQ/E,YAAE,CAACwC,YAAE,CAACqC,eAAc,EAAGC,aAAY,KAAMvC,GAAEwC,UAAU,yBAAoB,GAAQ/E,YAAE,CAACwC,YAAE,CAACwC,UAAS,KAAMzC,GAAEwC,UAAU,YAAO,GAAQ/E,YAAE,CAACwC,eAAKD,GAAEwC,UAAU,uBAAkB,GAAQxC,GAAEvC,YAAE,CAAC4B,YAAE,+EAA+EW,I,ICAvxC0uC,G,WAAI,SAAS/vC,GAAGA,EAAEgwC,QAAQ,GAAGhwC,EAAEiwC,SAAS,GAAGjwC,EAAEkwC,WAAW,IAAIlwC,EAAEmwC,YAAY,IAAInwC,EAAEowC,SAAS,KAAKpwC,EAAEqwC,eAAe,KAAKrwC,EAAEswC,WAAW,MAA7H,CAAoIP,KAAKA,GAAG,K,IAAWQ,G,WAAG,WAAYzxC,GAAE,+BAACoB,KAAKW,KAAK,KAAKX,KAAKgqB,SAAS,IAAIziB,KAAEvH,KAAKswC,qBAAqB,KAAKtwC,KAAKuwC,iBAAiB,KAAKvwC,KAAKR,OAAO,IAAIgB,IAAER,KAAKwwC,WAAW,kBAAI,EAAKC,gBAAgB3S,SAAQ99B,KAAK0wC,SAAS,kBAAI5wC,YAAE,EAAKwwC,uBAAuB,UAAU,EAAKA,qBAAqB3vC,KAAK,EAAK2vC,qBAAqB3P,MAAM,GAAE3gC,KAAK+kC,KAAKnmC,EAAEmmC,KAAK/kC,KAAKW,KAAK/B,EAAE+B,KAAKX,KAAKgnC,oBAAoBhnC,KAAK2wC,kBAAkB3wC,KAAK4wC,6B,2CAA6B,WAAU9wC,YAAEE,KAAKuwC,oBAAoBvwC,KAAKuwC,iBAAiBM,UAAUpvC,SAASzB,KAAKuwC,iBAAiB,MAAMvwC,KAAKgqB,SAASmb,YAAYnlC,KAAK+kC,KAAKlO,aAAap1B,OAAOzB,KAAKywC,iBAAiBzwC,KAAKywC,gBAAgB,O,4BAAK,SAAe3wC,GAAE,WAACE,KAAK8wC,wBAAwBhxC,EAAEixC,QAAQ,IAAMnyC,EAAER,aAAE,CAACoH,OAAO,YAAiB,IAAL5G,EAAK,EAAfoyC,UAAgBlxC,EAAE0F,OAAO5G,IAAI,EAAKkyC,2BAA2B9wC,KAAKuwC,iBAAL,2BAA0BzwC,GAA1B,IAA4B+wC,UAAUjyC,M,mCAAG,WAAwBkB,YAAEE,KAAKuwC,oBAAoBvwC,KAAKuwC,iBAAiBM,UAAUpvC,SAASzB,KAAKuwC,iBAAiB7kB,UAAU1rB,KAAKuwC,iBAAiB,Q,gCAAM,SAAmBzwC,GAAGA,EAAEE,KAAKywC,gBAAgB,K,+BAAG,WAAmB,WAACzwC,KAAKywC,gBAAgBzwC,KAAKixC,wBAAwBjxC,KAAK+kC,KAAKlO,aAAap4B,IAAIuB,KAAKywC,iBAAiB,IAAMryC,EAAE4B,KAAKywC,gBAAgBjwC,EAAER,KAAK+kC,KAAKwD,aAAaloC,QAAQtB,EAAEmG,aAAE9G,GAAG,SAACA,EAAEW,EAAEV,GAAK,EAAKiyC,qBAAqB,KAAK,IAAMnvC,EAAE,SAASrB,EAAE1B,GAAG,IAAMoC,EAAEV,EAAEuI,cAAcC,MAAM,SAAAxI,GAAC,OAAEA,EAAEZ,QAAQd,EAAEc,SAAQ,GAAGN,YAAER,EAAE6B,QAAQ,OAAO,KAAK,IAAMmB,EAAEhD,EAAE6B,OAAO,MAAM,CAACmoC,aAAahnC,EAAEgnC,aAAaxgC,KAAK,SAAA9H,GAAI,IAAIlB,EAAE,KAAY,MAAM,WAAWkB,EAAEwB,OAAO1C,EAAEkB,EAAEoxC,SAAqC,CAACA,QAAQtyC,EAAE4D,KAArChC,EAAE2wC,mBAAmB/vC,EAAEtB,OAAyBipC,WAAtQ,CAAkR,EAAKhE,KAAK1jC,KAAKb,GAAG,GAAG5B,YAAEuC,GAAG,OAAO,EAAKwvC,kBAAkB,KAAK,IAAMpuC,EAAE,CAAC5B,KAAK,OAAOgG,OAAOlH,YAAErB,EAAE+9B,gBAAgBmJ,MAAM,EAAE8L,WAAW,EAAKrM,KAAKsM,oBAAoBC,SAAS,EAAE3Q,MAAM,EAAE4Q,SAAS,EAAEC,gBAAgBrwC,GAAG,EAAKmvC,qBAAqB/tC,EAAE,EAAKouC,kBAAkB,IAAMluC,EAAE3D,KAAEsP,MAAM,EAAK22B,KAAK1jC,KAAK0xB,mBAAmBoR,kBAAkB/lC,EAAE+9B,eAAe15B,GAAG1D,EAAEiL,KAAKX,GAAE,EAAK07B,KAAK1jC,KAAKoH,KAAEy0B,sBAAsB9+B,EAAE+9B,eAAe15B,KAAKuH,MAAM,SAAApL,GAAI,IAAMR,EAAEqK,KAAExC,OAAOrH,EAAEklC,OAAO/kC,EAAE8H,GAAEjI,EAAEglC,YAAYhlC,EAAEilC,UAAUthC,EAAEoE,OAAOvI,GAAGC,EAAE6X,KAAEu7B,mBAAmBlvC,EAAE+iC,MAAMvmC,GAAGwD,EAAE+uC,SAASlwC,aAAEmB,EAAE+uC,SAASjzC,GhBArrI,OgBA6rIkE,EAAE+iC,MAAMvmC,EAAE,IAAMU,EAAE,SAASK,EAAElB,GAAG,IAAMR,EAAE8E,YAAEpE,KAAEsP,MAAMxP,EAAEglC,YAAY9jC,EAAE6G,QAAQnG,EAAE0C,YAAEpE,KAAEsP,MAAMxP,EAAEilC,UAAU/jC,EAAE6G,QAAQvF,EAAE2C,YAAE3F,GAAGW,EAAEgF,YAAEvD,GAAG,OAAG,IAAIY,EAAS,EAASrC,EAAEqC,EAAnI,CAAsImB,EAAE3D,GAAGuC,EAAE1B,EAAE8C,EAAEo+B,MAAM,GAAGp+B,EAAEgvC,SAASnwC,aAAEmB,EAAEgvC,SAASpwC,GhBAt4I,OgBA84IoB,EAAEo+B,MAAMlhC,EAAE,EAAKiyC,iBAAiB,SAASnvC,EAAE5B,KAAK,CAAC,IAAMvC,EAAE,EAAKuC,MAAM,SAASb,EAAElB,EAAER,EAAEoC,GAAE,IAAmBY,EAAetB,EAA3B8jC,YAAwB7kC,EAAGe,EAAb+jC,UAAexlC,EAAEszC,GAAGvwC,EAAEZ,EAAE1B,KAAEsP,OAAO3O,EAAEkyC,GAAG5yC,EAAEyB,EAAE1B,KAAEsP,OAAO,GAAG/K,YAAEhF,EAAEoB,GAAGmK,IAAI,OAAO,KAAK,IAAMzI,EAAE+B,YAAEpE,KAAEsP,MAAMhN,EAAEhD,GAAGmE,EAAEyB,YAAElF,KAAEsP,MAAMjN,EAAEvC,GAAG6D,EAAErB,EAAEc,EAAEL,YAAE/C,KAAEsP,MAAM3L,EAAEF,GAAGwB,EAAE4tC,GAAGvzC,EAAEoC,EAAE1B,KAAEsP,OAAO8H,EAAE7X,EAAEkJ,EAAEoqC,GAAGzvC,EAAE1B,EAAE1B,KAAEsP,OAAOjM,EAAEe,YAAEpE,KAAEsP,MAAM7G,EAAE2O,GAAGpU,EAAEoB,YAAEpE,KAAEsP,MAAM/P,EAAE0F,GAAGrD,EAAE0F,KAAEwrC,KAAK17B,EAAE/T,GAAG2F,EAAE1B,KAAEwrC,KAAK7tC,EAAEjC,GAAG,OAAGsE,KAAEm3B,UAAU78B,EAAEjB,GAAG2G,KAAEm3B,UAAUz1B,EAAErI,GAAS,SAAe,QAAhV,CAAyVb,EAAEA,EAAEklC,MAAMvhC,EAAEoE,OAAO,EAAKo+B,KAAK1jC,KAAKiC,MAAMC,QAAQ,GAAGzD,YAAE1B,GAAG,CAAC,OAAOA,GAAG,IAAI,SAAS,EAAK2mC,KAAKjkC,KAAK,uBAAuB,CAACT,QAAQG,EAAE8kC,MAAM/iC,EAAE+iC,QAAQ,MAAM,IAAI,QAAQ,EAAKP,KAAKjkC,KAAK,sBAAsB,CAACT,QAAQG,EAAEmgC,MAAMp+B,EAAEo+B,QAAQp+B,EAAE5B,KAAKvC,GAAG,GAAG,EAAKuyC,kBAAkB7wC,YAAEU,EAAEP,QAAQ,CAAC,IAAMH,EAAEU,EAAEP,OAAOmC,QAAYxD,EAAE,EAAER,EAAE,EAAE,OAAOmE,EAAE5B,MAAM,QAAQ,IAAI,OAAO,MAAM,IAAI,QAAQvC,EAAEmE,EAAEo+B,MAAM,MAAM,IAAI,SAAS/hC,EAAE2D,EAAE+iC,MAAM,EAAKuM,gBAAgB/xC,EAAEyC,EAAEivC,gBAAgB5yC,EAAER,GAAGoC,EAAEP,OAAOH,EAAE,EAAK8wC,6BAA6B,OAAOhyC,EAAEmC,QAAQ,IAAI,QAAQ,IAAI,SAAS,OAAOwB,EAAE5B,MAAM,IAAI,SAAS,EAAKokC,KAAKjkC,KAAK,iBAAiB,CAACT,QAAQG,EAAE8kC,MAAM/iC,EAAE+iC,QAAQ,MAAM,IAAI,QAAQ,EAAKP,KAAKjkC,KAAK,gBAAgB,CAACT,QAAQG,EAAEmgC,MAAMp+B,EAAEo+B,QAAQ,MAAM,IAAI,MAAM,OAAOp+B,EAAE5B,MAAM,IAAI,SAAS,EAAKokC,KAAKjkC,KAAK,sBAAsB,CAACT,QAAQG,EAAE8kC,MAAM/iC,EAAE+iC,QAAQ,MAAM,IAAI,QAAQ,EAAKP,KAAKjkC,KAAK,qBAAqB,CAACT,QAAQG,EAAEmgC,MAAMp+B,EAAEo+B,QAAQ,MAAM,QAAQ,IAAI,SAAS,QAAQ/hC,EAAEmC,SAAS,EAAK+wC,eAAeC,GAAG,GAAM,kBAAI,EAAKL,qBAAoB,EAAKpB,qBAAqB,KAAK,EAAKK,sBAAsBtyC,EAAE2L,KAAKvC,aAAEjH,IAAIwJ,MAAM,WAAK,GAAGlK,YAAE,EAAKwwC,sBAAsB,CAAC,OAAO,EAAKA,qBAAqB3vC,MAAM,IAAI,OAAO,MAAM,IAAI,SAAS,EAAKokC,KAAKjkC,KAAK,sBAAsB,CAACT,QAAQG,EAAE8kC,MAAM,EAAKgL,qBAAqBc,aAAa,MAAM,IAAI,QAAQ,EAAKrM,KAAKjkC,KAAK,qBAAqB,CAACT,QAAQG,EAAEmgC,MAAM,IAAI,EAAKmR,eAAeC,GAAG,GAAM,kBAAI,EAAKL,qBAAoB,EAAKpB,qBAAqB,YAAYtwC,KAAKgqB,SAASvrB,IAAIM,GAAGiB,KAAKgqB,SAASvrB,IAAI,CAACuB,KAAKywC,gBAAgBjxC,OAAO03B,GAAG,iBAAiB,SAAAp3B,GAAI,UAAUA,EAAEiB,OAAO,EAAK+wC,eAAe,SAAShyC,EAAElB,GAAG,IAAIR,EAAE,EAAEoC,EAAE,KAAWY,EAAE,kBAAI,GAAG,MAAM,CAAC2vC,MAAM,WAAKvwC,EAAEV,EAAE0wC,WAAW1wC,EAAE0wC,WAAWpvC,EAAEhD,EAAE,EAAEQ,KAAK4G,OAAO,SAAA1F,GAAC,OAAG1B,GAAG0B,GAAGU,KAAKpC,EhBAh8M,IgBAo8M,EAAE,GAAGstB,QAAQ,WAAK5rB,EAAE0wC,WAAWhwC,EAAE5B,MAAhK,CAAuK,GAAM,kBAAI,EAAKozC,gCAA+B,EAAKA,+BAA+BhyC,KAAKywC,gBAAgBjxC,OAAO03B,GAAG,mBAAmB,SAAAp3B,GAAIA,EAAEupC,qBAAqBlnC,aAAEnC,KAAK+kC,KAAKwD,aAAa,cAAc,SAAAzoC,GAAC,OAAE,EAAK2wC,gBAAgBnU,UAAUx8B,KAAIE,KAAK+kC,KAAKwD,aAAarR,GAAG,WAAW,kBAAIj4B,GAAE,EAAK8lC,KAAK1jC,KAAK,EAAKovC,gBAAgBjwC,QAAOvB,GAAEe,KAAK+kC,KAAK1jC,KAAKrB,KAAKywC,gBAAgBjwC,K,4BAAG,WAAiBR,KAAKR,OAAOsB,KAAK,iBAAiBd,KAAK4wC,+B,uCAA6B,WAA4B5wC,KAAKywC,gBAAgBwB,mBAAmBpC,GAAGM,eAAenwC,KAAKwwC,gB,6BAAc,WAAkB,GAAGxwC,KAAKywC,gBAAgBwB,mBAAmBpC,GAAGK,WAAWpwC,YAAEE,KAAKswC,uBAAuB,SAAStwC,KAAKswC,qBAAqB3vC,OAAOb,YAAEE,KAAKswC,sBAAsB,OAAOtwC,KAAKswC,qBAAqB3vC,MAAM,IAAI,SAASX,KAAKywC,gBAAgBwB,mBAAmBpC,GAAGC,QAAQD,GAAGE,UAAS,GAAI/vC,KAAKywC,gBAAgBwB,mBAAmBpC,GAAGG,WAAWhwC,KAAKswC,qBAAqBgB,SAAS,GAAGtxC,KAAKywC,gBAAgBwB,mBAAmBpC,GAAGI,YAAYjwC,KAAKswC,qBAAqBgB,UAAU,GAAG,MAAM,IAAI,QAAQtxC,KAAKywC,gBAAgBwB,mBAAmBpC,GAAGG,WAAWH,GAAGI,aAAY,GAAIjwC,KAAKywC,gBAAgBwB,mBAAmBpC,GAAGC,QAAQ9vC,KAAKswC,qBAAqBiB,SAAS,GAAGvxC,KAAKywC,gBAAgBwB,mBAAmBpC,GAAGE,SAAS/vC,KAAKswC,qBAAqBiB,UAAU,QAAQvxC,KAAKywC,gBAAgBwB,mBAAmBpC,GAAGC,QAAQD,GAAGE,SAASF,GAAGG,WAAWH,GAAGI,aAAY,K,wCAAI,WAA6B,IAAMnwC,EAAEgC,aAAEyH,KAAE6E,OAAOxP,EAAEoB,KAAK+kC,KAAKsM,oBAAoB3wC,aAAEZ,EAAEA,EAAElB,EAAEuC,YAAE,EAAE,EAAE,IAAI,IAAM/C,EAAE4B,KAAK0wC,WAAWlwC,EAAEsH,aAAEyB,KAAE6E,MAAMlM,YAAEpD,KAAEsP,MAAMhQ,EAAEA,EAAEA,IAAIgD,EAAEU,aAAEyH,KAAE6E,OAAO7N,aAAEa,EAAEZ,EAAEV,GAAGE,KAAKywC,gBAAgB3K,eAAe1kC,I,mCAAE,WAAwX,IAAhW,IAAMtB,EAAE,SAACA,EAAElB,EAAER,GAAkD,IAA7C,IAAMoC,EAAE,GAAGY,EAAEwH,KAAKoC,KhBApxQ,KgBA6xQpM,EAAEkB,IAAI,EAAE8I,KAAK8L,KAAa3V,EAAE,EAAEA,EAAEqC,EAAE,EAAErC,IAAI,CAAC,IAAMV,EAAEyB,EAAEf,GAAGH,EAAEkB,GAAGsB,EAAEZ,EAAE2J,KAAKhJ,YAAE/C,EAAEwK,KAAKu3B,IAAI9hC,GAAGD,EAAEwK,KAAKs3B,IAAI7hC,GAAG,IAAI,OAAOmC,GAAG5B,EAAE,SAAAA,GAAC,OAAEkB,EAAE,EAAE,EAAE8I,KAAK8L,GAAG9V,IAAGR,EAAE,SAAC0B,EAAElB,GAAH,OAAO,IAAIkK,KAAEmO,KAAEi7B,4BAA6B,SAAApyC,GAAC,MAAE,CAAC,EAAEA,EAAE,EAAE,GAAG,CAACA,EAAE,EAAE,GAAG,CAACA,EAAE,EAAE4C,KAAK,EAAE5C,EAAE,EAAE4C,MAArC,CAA4C9D,GAAGkB,EAAE,GAAG,IAAG,GAAI,2BAA0BU,EAAE5B,EAAE4X,IAAGpV,EAAEhD,EAAEoC,EhBAj/Q,IgBAs/QzB,EAAE,CAACwuC,KAAK,GAAGC,MAAM,IAAInvC,EAAE,GAAWO,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,IAAM4B,EAAE5B,EAAEgK,KAAK8L,GAAG9L,KAAK8L,GAAG,EAAEtT,EAAEwH,KAAK8L,GAAG,EAAEioB,GAAEl9B,EAAEe,EAAEY,EAAED,EAAEX,EAAEoI,KAAK8L,GAAG,EAAEtT,EAAEmB,EAAEzC,EAAEL,EAAE0B,EhBAlmR,KgBAwmRsB,EAAErE,EAAEmE,EhBAhnR,GgBAqnRlE,EAAE8L,KAAK5H,GAAGlE,EAAE8L,KAAKrK,EAAEL,EAAE0B,EAAEgxC,MAASpzC,EAAEwuC,KAAKpjC,KAAK1H,GAAG1D,EAAEyuC,MAAMrjC,KAAK1H,GAAG,IAAI,IAAI3C,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,IAAMlB,EAAE,IAAIkB,EAAE1B,EAAEuH,eAAI,GAAG/G,EAAE,CAACuE,aAAE/E,EAAEA,EAAE,CAAC,GAAG,EAAE,IAAIsC,aAAEtC,EAAEA,GAAGqB,EAAE,CAAC,EAAE,EAAE,IAAI,IAAMK,EAAE8I,KAAKmV,MhBAttR,IgBA+tRxb,EAAEuH,OAAO,IAAI1L,EAAE,IAAImE,EAAEzC,GAAG,GAAG1B,EAAE,IAAImE,EAAEzC,GAAG,GAAG1B,EAAE,IAAImE,EAAEzC,GAAG,OAAO,CAACY,aAAEtC,EAAEA,EAAE+C,EAAE,CAAC,EAAE,EAAE,IAAI,IAAMrB,EAAE8I,KAAKmV,MAAM,IAAOxb,EAAEuH,OAAO,IAAI1L,EAAE,IAAImE,EAAEzC,GAAG,GAAG1B,EAAE,IAAImE,EAAEzC,GAAG,GAAG1B,EAAE,IAAImE,EAAEzC,GAAG,GAAG,IAAMU,EAAEyW,KAAEyuB,uBhBAn7R,GgBA48R,EhBAv8R,GAA/B,IgBA6+RzuB,KAAE0uB,iBAAiBnlC,EAAEpC,GAAG,IAAMgD,EAAE,IAAI0H,KAAEtI,EAAE,kCAAkC5B,EAAEG,EAAEwuC,KAAKxuC,EAAEyuC,OAAOrjC,KAAK/I,IAAe,IAAX,IAAM3B,EAAE,GAAWb,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,IAAM4B,EAAE5B,EAAEgK,KAAK8L,GAAG9L,KAAK8L,GAAG,EAAEtT,EAAEwH,KAAK8L,GAAG,EAAE09B,GAAGrzC,EAAEyB,EAAEY,EAAE/C,EAAEmC,EAAEoI,KAAK8L,GAAG,EAAEtT,EAAED,EAAErB,EAAEf,EAAEV,EhBArqS,KgBA2qSoB,EAAE0K,KAAK/L,EAAE+C,EhBA9rS,IgBAosS,IAAMoB,EAAE3D,EAAE4X,KAAM/T,EAAE7D,EAAE4X,KAAMtU,EAAE9D,EAAEmE,EhBAluS,GgBAuuSW,EAAE9E,EAAEqE,EhBA3uS,GgBAgvSsB,EAAEnF,EAAE4X,KAAMnT,EAAEzE,EAAE4X,KAAMxS,EAAE5F,EAAE2F,EhBAxwS,GgBA6wSlC,EAAEzD,EAAEiF,EhBAjxS,GgBAsxS6S,EAAElW,KAAKykC,iBAAiBl9B,EAAEvH,KAAKykC,eAAe,KAAKtiC,EAAEnC,KAAKykC,eAAe,IAAI3iC,EAAE9B,KAAKykC,eAAe,KAAS38B,EAAE,CAAC,CAAC/H,SAASqB,EAAEoR,SAAS0D,EAAE+nB,UAAU4R,GAAGM,gBAAgB,CAACpwC,SAASqB,EAAEoR,SAASrQ,EAAE87B,UAAU,IAAIj+B,KAAKW,MAAM,UAAUX,KAAKW,OAAOmH,EAAEA,EAAEuqC,OAAO,CAAC,CAACtyC,SAASN,EAAE+S,SAAS0D,EAAE+nB,UAAU4R,GAAGM,eAAeN,GAAGK,UAAU,CAACnwC,SAASmC,EAAEsQ,SAASjL,EAAE02B,UAAU4R,GAAGM,eAAeN,GAAGC,SAAS,CAAC/vC,SAASmD,EAAEsP,SAAS1Q,EAAEm8B,UAAU4R,GAAGM,eAAeN,GAAGC,SAAS,CAAC/vC,SAASiE,EAAEwO,SAASjL,EAAE02B,UAAU4R,GAAGM,eAAeN,GAAGE,UAAU,CAAChwC,SAAS8B,EAAE2Q,SAAS1Q,EAAEm8B,UAAU4R,GAAGM,eAAeN,GAAGE,aAAa/vC,KAAKW,MAAM,WAAWX,KAAKW,OAAOmH,EAAEA,EAAEuqC,OAAO,CAAC,CAACtyC,SAAShB,EAAEyuC,MAAMh7B,SAAS0D,EAAE+nB,UAAU4R,GAAGM,eAAeN,GAAGK,UAAU,CAACnwC,SAAShB,EAAEwuC,KAAK/6B,SAAS0D,EAAE+nB,UAAU4R,GAAGM,eAAeN,GAAGG,YAAY,CAACjwC,SAAShB,EAAEyuC,MAAMh7B,SAAS0D,EAAE+nB,UAAU4R,GAAGM,eAAeN,GAAGI,gBAAgB,IAAM1vC,EAAC,CAAEC,GAAF,OAAOnC,GAAG,OAAO,IAAIuE,GAAE,CAACvB,KAAKrB,KAAK+kC,KAAK1jC,KAAKi9B,cAAcx2B,EAAE6xB,wBAAuB,EAAGO,eAAc,EAAGvwB,OhBAtsU,GgBA+sUqwB,gBAAgB,EAAEC,gBAAgB,IAAI35B,cAAcyC,YAAE/C,KAAK+kC,KAAKwD,aAAaloC,SAASm5B,cAAc,CAACl4B,KAAK,SAASgyB,MAAM/yB,EAAEkG,UAAUtF,YAAE,EAAE,EAAE,Q,4BAAM,WAAmB,IAAJrB,EAAI,uDAAF,EAASlB,EAAC,uBAAK0K,IAAL,CAAOxJ,IAAG,OAAO,IAAIqJ,KAAE,CAACuG,MAAM9Q,EAAEuR,YAAY,IAAIrQ,EAAEo0B,SAAS,EAAErkB,eAAe,GAAG,uB,6BAAqB,SAAgBjR,EAAER,EAAEoC,EAAEY,GAAE,WAACxC,EAAEwpC,aAAar6B,SAAS,SAACnP,EAAEG,GAAI,MAAyBX,EAAEgqC,aAAarpC,GAAzBV,EAAf,EAAO6yC,QAAezxC,EAAtB,EAAiB+C,KAA0B,WAAW5D,EAAE0C,OAAO1C,EAAEsyC,SAASpxC,YAAEzB,GAAGA,EAAE,GAAGoE,aAAEjC,GAAGV,YAAEL,IAAI,UAAUA,IAAIA,EAAE+O,MAAM,EAAK8jC,mBAAmB7yC,EAAE+O,OAAO/O,EAAEmO,OAAO,EAAK0kC,mBAAmB7yC,EAAEmO,QAAQnO,EAAE8yC,MAAM,EAAKD,mBAAmB7yC,EAAE8yC,OAAO3zC,EAAE4P,MAAM/O,EAAE+O,MAAMpN,EAAExC,EAAE2zC,MAAM9yC,EAAE8yC,MAAMnxC,EAAExC,EAAEgP,OAAOnO,EAAEmO,OAAOxM,S,gCAAO,SAAmBtB,GAAG,OAAOA,GAAGE,KAAK+kC,KAAK1jC,KAAKiC,MAAMC,OAAOixB,yBAAyBx0B,KAAKywC,gBAAgBtU,kB,gBAAgB,WAAW,MAAM,CAACsU,gBAAgBzwC,KAAKywC,qB,KAAkB,SAASkB,GAAG7xC,EAAElB,EAAER,GAAG,IAAMoC,EAAE5B,EAAE2Y,sBAAsBzX,EAAEf,aAAEyzC,KAAKpxC,EAAExC,EAAE6Y,eAAejX,EAAEiyC,IAAI,OAAOvwC,YAAE9D,EAAEgD,EAAE,GAAGA,EAAE,GAAG,GAAG,SAAS2wC,GAAGjyC,EAAElB,GAAG,IAAIR,EAAE,KAAKoC,EAAE,EAAQY,EAAE,kBAAIZ,GAAE,MAAM,CAACuwC,MAAM,WAAKvwC,EAAEV,EAAE4wC,WAAWtyC,EAAE0B,EAAE4wC,SAAS5wC,EAAE4wC,SAAStvC,EAAExC,KAAK4G,OAAO,SAAA1F,GAAC,OAAGU,KAAKA,EAAE,GAAG,EAAEA,GAAGoI,KAAKhD,IhBA3oW,EgBA+oW9F,EAAI,GAAGlB,IAAIgK,KAAK6B,IAAIjK,EAAE,GAAG,IAAI,EAAE,GAAGkrB,QAAQ,WAAK5rB,EAAE4wC,SAAStyC,EAAEQ,MAAM,IAAM4zC,GAAGjwC,cAAIkwC,GAAGp0C,eCAtgUkJ,GAAC,kDAAkC,WAAYzH,GAAE,kCAAC,cAAMA,IAAQ6oC,SAAQ,EAAG,EAAK+J,gBAAe,EAAG,EAAKC,eAAc,EAAG,EAAKrxC,KAAK,eAAe,EAAKsxC,QAAQ,IAAIzxC,KAAE,EAAK0xC,YAAY,KAApI,EAAhD,8CAAyL,WAAY,WAAC,GAAG7yC,KAAKuoC,aAAa,IAAIllC,GAAE,CAAChD,QAAQL,KAAKK,UAAUL,KAAK8yC,iBAAiB,IAAIvyC,GAAE,CAACwkC,KAAK/kC,KAAKqB,KAAKrB,KAAKqB,KAAKm1B,YAAYx2B,KAAKw2B,YAAYkR,aAAY,EAAGC,iBAAgB,EAAGC,WAAW5nC,KAAK2oC,SAAS5kC,GAAE/D,KAAKK,SAASsJ,OAAOpJ,GAAEipC,gBAAgBxpC,KAAKK,QAAQJ,UAAUD,KAAK8yC,iBAAiBzT,oBAAoB,SAAAv/B,GAAC,OAAE,EAAK8yC,QAAQn0C,IAAIqB,EAAEN,OAAO03B,GAAG,mBAAmB,SAAAp3B,GAAC,OAAEA,EAAEupC,yBAAuBrpC,KAAK8yC,iBAAiBxyC,cAAcmC,YAAEzC,KAAKK,SAASL,KAAK8yC,iBAAiB/K,0BAA0B/nC,KAAKuoC,cAAc,SAAAzoC,GAAG,IAAc1B,EAAmC0B,EAA1CiB,OAA4ChC,EAAE,CAACsB,QAALP,EAAjCO,QAAgDmhC,SAAf1hC,EAAvB0hC,SAAiDE,SAA1B5hC,EAAZ4hC,UAAkD,OAAOtjC,GAAG,IAAI,QAAQ,EAAK0C,KAAK,0BAA0B/B,GAAG,MAAM,IAAI,SAAS,EAAK+B,KAAK,oBAAoB/B,GAAG,MAAM,IAAI,MAAM,EAAK+B,KAAK,yBAAyB/B,OAAOiB,KAAK8yC,iBAAiBxN,MAAMtlC,KAAKqxC,oBAAoBrxC,KAAK2yC,eAAe3yC,KAAK0yC,eAAe,CAAC,IAAM5yC,EAAEE,KAAK2yC,eAAe3yC,KAAK0yC,eAAe,KAAK1yC,KAAK2yC,cAAc,QAAQ,SAAS3yC,KAAK6yC,YAAY,IAAI1wC,GAAE,CAAC4iC,KAAK/kC,KAAKW,KAAKb,IAAIE,KAAK4yC,QAAQn0C,IAAIuB,KAAK6yC,YAAYrzC,OAAO03B,GAAG,iBAAiB,kBAAI,EAAKwa,qBAAoB1xC,KAAK4yC,QAAQn0C,IAAI,CAACyE,GAAE,CAAC7B,KAAKrB,KAAKqB,KAAKhB,QAAQL,KAAKK,QAAQg/B,mBAAmB,SAAAv/B,GAAC,OAAE,EAAKu/B,mBAAmBv/B,IAAG+/B,sBAAsB,kBAAIjhC,kBAAMoB,KAAKK,QAAQqB,MAAM,UAAU,kBAAI,EAAKqxC,qBAAoB/yC,KAAKuoC,aAAarR,GAAG,WAAW,kBAAI,EAAK8b,uBAAsBhzC,KAAKizC,kCAAkCjzC,KAAKqB,KAAKK,MAAM,SAAS,kBAAI,EAAKqxC,uBAAsB/yC,KAAK4yC,QAAQn0C,IAAIuB,KAAKqB,KAAKy+B,kBAAkB9/B,KAAKuoC,eAAevoC,KAAKgzC,sBAAhqD,gCAAorD,SAAmBlzC,GAAGE,KAAK8yC,iBAAiBzT,mBAAmBv/B,GAAG1B,YAAE4B,KAAK6yC,cAAc7yC,KAAK6yC,YAAYxT,mBAAmBv/B,KAA/yD,6CAAkzD,WAAiC,WAAC,OAAOE,KAAKuoC,aAAa7mC,MAAM,cAAc,SAAA5B,GAAI,EAAKu/B,oBAAoB,SAAAjhC,GAAC,OAAEA,EAAEk+B,UAAUx8B,KAAI,EAAKgzC,iBAAiBrL,cAAcnL,UAAUx8B,GAAG,EAAK6oC,SAAS5kC,GAAE,EAAK1D,cAAv/D,qBAAmgE,WAAUL,KAAK4yC,QAAQlnB,UAAU1rB,KAAK8yC,iBAAiBpnB,UAAUttB,YAAE4B,KAAK6yC,eAAe7yC,KAAK6yC,YAAYnnB,UAAU1rB,KAAK6yC,YAAY,MAAM7yC,KAAKE,KAAK,OAAO,MAAMF,KAAKE,KAAK,UAAU,QAAvrE,uBAA6rE,SAAgBJ,GAAGE,KAAK8yC,mBAAmB9yC,KAAK8yC,iBAAiBtc,YAAY12B,GAAGE,KAAKE,KAAK,cAAcJ,KAAryE,+BAAwyE,WAA0B,IAAMA,EAAEE,KAAKK,QAAQJ,OAAO,GAAGH,EAAE,CAAC,IAAM1B,EAAE0B,EAAEsoC,aAAa9/B,MAAM,SAAAxI,GAAC,MAAE,WAAWA,EAAEwB,QAAOd,EAAEpC,GAAGA,EAAE8yC,SAAS,EAAE,OAAO7yC,cAAGmC,GAAG,OAAO,IAA97E,mBAAg8E,cAAh8E,sBAAy8E,WAAWpC,YAAE4B,KAAK6yC,cAAc7yC,KAAK6yC,YAAY/B,0BAA1/E,oBAAkhF,WAAS1yC,YAAE4B,KAAK6yC,cAAc7yC,KAAK6yC,YAAY/B,0BAAjkF,4BAAylF,WAAiB,IAAGtwC,YAAER,KAAK6yC,aAAV,CAA8B,IAAM/yC,EAAEE,KAAK6yC,YAAYnC,WAAW1wC,KAAK8yC,iBAAiBjN,aAAa/lC,KAA/sF,6BAAitF,WAAkB,UAAUE,KAAKqB,KAAKyL,aAAa9M,KAAKqB,KAAKs/B,MjBAt+H,IiBA8+H3gC,KAAK8yC,iBAAiBxN,MAAMtlC,KAAKqxC,oBAAoBrxC,KAAK8yC,iBAAiBxN,MAAM,IAAv2F,+BAAy2F,WAAoBthC,GAAEhE,KAAKqB,KAAKrB,KAAK8yC,iBAAiB9yC,KAAKK,WAAp6F,gBAA66F,WAAW,MAAM,CAAC0mC,gBAAgB/mC,KAAK8yC,iBAAiBvL,eAAe2L,KAAKnM,gBAAgB0J,gBAAgBryC,YAAE4B,KAAK6yC,aAAa7yC,KAAK6yC,YAAYK,KAAKzC,gBAAgB,KAAK1K,kBAAkB/lC,KAAK8yC,iBAAiBtL,mBAAmB0L,KAAKnN,uBAAxpG,GAAetmC,IAAE45B,aAAa92B,MAA+oGzC,YAAE,CAACsB,YAAE,CAACqC,eAAc,EAAGC,aAAY,KAAM6D,GAAE5D,UAAU,YAAO,GAAQ7D,YAAE,CAACsB,YAAE,CAACqC,eAAc,EAAGC,aAAY,KAAM6D,GAAE5D,UAAU,eAAU,GAAQ7D,YAAE,CAACsB,YAAE,CAACqC,eAAc,EAAGC,aAAY,KAAM6D,GAAE5D,UAAU,eAAU,GAAQ7D,YAAE,CAACsB,eAAKmG,GAAE5D,UAAU,sBAAiB,GAAQ7D,YAAE,CAACsB,eAAKmG,GAAE5D,UAAU,qBAAgB,GAAQ7D,YAAE,CAACsB,YAAE,CAAC0C,OAAM,KAAMyD,GAAE5D,UAAU,cAAc,MAAM7D,YAAE,CAACsB,YAAE,CAACwC,UAAS,KAAM2D,GAAE5D,UAAU,YAAO,GAAQ4D,GAAEzH,YAAE,CAACf,YAAE,mFAAmFwI,K,yECoCphK3I,E,yBApCgH,SAAS4B,EAAEA,GAAGA,EAAEyD,SAAShB,QAAQ7E,KAAGoC,EAAEyD,SAASpF,SAASJ,IAAI,WAAW,aAAa+B,EAAEyD,SAASpF,SAASJ,IAAI,eAAe,OAAO+B,EAAEyD,SAASpF,SAASJ,IAAI,oBAAoB,QAAQ+B,EAAEyD,SAASpF,SAASJ,IAAI,kBAAkB,OAAO,GAAG+B,EAAEyD,SAASpF,SAASJ,IAAI,mBAAmB,SAAS+B,EAAEyD,SAAStF,KAAKF,IAAIG,YAApB,unDAoC9YA,EAAkS4B,IAAIA,EAAE,KAAnS6K,aAAa,SAASzM,EAAER,EAAEoC,GAAGpC,EAAE+jB,uBAAuB/jB,EAAEkhB,UAAUhR,KAAK1P,EAAE4B,GAAGpC,EAAEkhB,UAAUwB,SAASliB,EAAER,EAAEuI,UAAU/H,EAAEu0C,qBAAqB,SAASv0C,EAAER,EAAEoC,GAAGpC,EAAE+jB,sBAAsB/jB,EAAEkhB,UAAUwB,SAASliB,EAAE4B,IAAI5B,EAAEkiB,SAAS,SAASliB,EAAER,GAAGA,EAAE+jB,sBAAsB/jB,EAAEkhB,UAAUwB,SAASliB,EAAER,EAAEuI","file":"static/js/3.b50571ce.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function a(a,r){0===r.output&&r.receiveShadows?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.code.add(e`\n      void forwardLinearDepth() { linearDepth = gl_Position.w; }\n    `)):1===r.output||3===r.output?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.uniforms.add(\"uCameraNearFar\",\"vec2\"),a.vertex.code.add(e`\n      void forwardLinearDepth() {\n        linearDepth = (-position_view().z - uCameraNearFar[0]) / (uCameraNearFar[1] - uCameraNearFar[0]);\n      }\n    `)):a.vertex.code.add(e`\n      void forwardLinearDepth() {}\n    `)}export{a as ForwardLinearDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isSome as i,isNone as o}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as g,project as y,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),i=e?e.offset:0;return new b({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this._get(\"graphic\");if(!1===t.visible)return null;const s=this._get(\"focusedSymbol\"),r=i(s)?s:t.symbol,l=t.geometry;return o(l)?null:\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,l,r):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;let l=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?1:null;if(o(l)||!l.originalPoint.equals(s)){const t=s,i=e.spatialReference;if(g(t.spatialReference,i)){const e=y(t,i);l={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=l}}if(i(l)){const i=h(t,G),o=e.toScreen(l.mapPoint),s=l.radiusPx,a=o.x+c(r.xoffset),n=o.y-c(r.yoffset);return _(i,[a,n])<s*s?1:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&d(o,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0,dependsOn:[\"graphic\"]})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){const a=t.fragment.code;a.add(e`\n    vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG)\n    {\n      return ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;\n    }\n    `),a.add(e`\n    float integratedRadiance(float cosTheta2, float roughness)\n    {\n      return (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);\n    }\n    `),a.add(e`\n    vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness)\n    {\n      float cosTheta2 = 1.0 - RdotNG * RdotNG;\n      float intRadTheta = integratedRadiance(cosTheta2, roughness);\n\n      // Calculate the integrated directional radiance of the ground and the sky\n      float ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;\n      float sky = 2.0 - ground;\n      return (ground * ambientGround + sky * ambientSky) * 0.5;\n    }\n    `)}export{t as AnalyticalSkyModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{PiUtils as o}from\"./PiUtils.glsl.js\";import{AnalyticalSkyModel as t}from\"./AnalyticalSkyModel.glsl.js\";function n(n,a){const r=n.fragment.code;n.include(o),3===a.pbrMode||4===a.pbrMode?(r.add(e`\n    struct PBRShadingWater\n    {\n        float NdotL;   // cos angle between normal and light direction\n        float NdotV;   // cos angle between normal and view direction\n        float NdotH;   // cos angle between normal and half vector\n        float VdotH;   // cos angle between view direction and half vector\n        float LdotH;   // cos angle between light direction and half vector\n        float VdotN;   // cos angle between view direction and normal vector\n    };\n\n    float dtrExponent = ${a.useCustomDTRExponentForWater?\"2.2\":\"2.0\"};\n    `),r.add(e`\n    vec3 fresnelReflection(float angle, vec3 f0, float f90) {\n      return f0 + (f90 - f0) * pow(1.0 - angle, 5.0);\n    }\n    `),r.add(e`\n    float normalDistributionWater(float NdotH, float roughness)\n    {\n      float r2 = roughness * roughness;\n      float NdotH2 = NdotH * NdotH;\n      float denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;\n      return r2 / denom;\n    }\n    `),r.add(e`\n    float geometricOcclusionKelemen(float LoH)\n    {\n        return 0.25 / (LoH * LoH);\n    }\n    `),r.add(e`\n    vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max)\n    {\n      vec3  F = fresnelReflection(props.VdotH, F0, F0Max);\n      float dSun = normalDistributionWater(props.NdotH, roughness);\n      float V = geometricOcclusionKelemen(props.LdotH);\n\n      float diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);\n      float strengthSunHaze  = 1.2;\n      float dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze)*strengthSunHaze;\n\n      return ((dSun + dSunHaze) * V) * F;\n    }\n\n    vec3 tonemapACES(const vec3 x) {\n      return (x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14);\n    }\n    `)):1!==a.pbrMode&&2!==a.pbrMode||(n.include(t),r.add(e`\n    struct PBRShadingInfo\n    {\n        float NdotL;                  // cos angle between normal and light direction\n        float NdotV;                  // cos angle between normal and view direction\n        float NdotH;                  // cos angle between normal and half vector\n        float VdotH;                  // cos angle between view direction and half vector\n        float LdotH;                  // cos angle between view light direction and half vector\n        float NdotNG;                 // cos angle between normal and normal of the ground\n        float RdotNG;                 // cos angle between view direction reflected of the normal and normal of the ground\n        float NdotAmbDir;             // cos angle between view direction and the fill light in ambient illumination\n        float NdotH_Horizon;          // cos angle between normal and half vector defined with horizon illumination\n        vec3 skyRadianceToSurface;         // integrated radiance of the sky based on the surface roughness (used for specular reflection)\n        vec3 groundRadianceToSurface;      // integrated radiance of the ground based on the surface roughness (used for specular reflection)\n        vec3 skyIrradianceToSurface;       // irradiance of the sky (used for diffuse reflection)\n        vec3 groundIrradianceToSurface;    // irradiance of the ground (used for diffuse reflection)\n\n        float averageAmbientRadiance;      // average ambient radiance used to deduce black level in gamut mapping\n        float ssao;                   // ssao coefficient\n        vec3 albedoLinear;            // linear color of the albedo\n        vec3 f0;                      // fresnel value at normal incident light\n        vec3 f90;                     // fresnel value at 90o of incident light\n\n        vec3 diffuseColor;            // diffuse color of the material used in environment illumination\n        float metalness;              // metalness of the material\n        float roughness;              // roughness of the material\n    };\n    `),r.add(e`\n    float normalDistribution(float NdotH, float roughness)\n    {\n        float a = NdotH * roughness;\n        float b = roughness / (1.0 - NdotH * NdotH + a * a);\n        return b * b * INV_PI;\n    }\n    `),r.add(e`\n    const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);\n    const vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);\n    const vec2 c2 = vec2(-1.04, 1.04);\n\n    vec2 prefilteredDFGAnalytical(float roughness, float NdotV) {\n        vec4 r = roughness * c0 + c1;\n        float a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;\n        return c2 * a004 + r.zw;\n    }\n    `),r.add(e`\n    vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {\n      vec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);\n      vec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);\n\n      // From diffuse illumination calculate reflected color\n      vec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;\n\n      // From specular illumination calculate reflected color\n      vec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);\n      vec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;\n      vec3 specularComponent = specularColor * indirectSpecular;\n\n      return (diffuseComponent + specularComponent);\n    }\n    `),r.add(e`\n    float gamutMapChanel(float x, vec2 p){\n      return (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );\n    }`),r.add(e`\n    vec3 blackLevelSoftCompression(vec3 inColor, PBRShadingInfo inputs){\n      vec3 outColor;\n      vec2 p = vec2(0.02 * (inputs.averageAmbientRadiance), 0.0075 * (inputs.averageAmbientRadiance));\n      outColor.x = gamutMapChanel(inColor.x, p) ;\n      outColor.y = gamutMapChanel(inColor.y, p) ;\n      outColor.z = gamutMapChanel(inColor.z, p) ;\n      return outColor;\n    }\n    `))}export{n as PhysicallyBasedRendering};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as s,unwrap as r}from\"../../../../core/maybe.js\";import{c as e,b as i}from\"../../../../chunks/vec3f64.js\";import{e as a,a as n,l as h,b as o,g as c,n as l,q as f,f as m}from\"../../../../chunks/vec3.js\";import{a as u,b as p,c as d,m as b}from\"../../../../chunks/mat4.js\";import{a as g}from\"../../../../chunks/mat3f64.js\";import{a as y}from\"../../../../chunks/mat4f64.js\";import{a as v}from\"../../../../chunks/quatf64.js\";import{a as S}from\"../../../../chunks/vec4f64.js\";import{b as T}from\"../../../../chunks/mat3.js\";import{t as z}from\"../../../../chunks/vec4.js\";import{c as O}from\"../../../../chunks/quat.js\";import{c as L}from\"../../../../chunks/vec3f32.js\";import{e as _}from\"../../../../chunks/boundedPlane.js\";import{c as x}from\"../../../../chunks/sphere.js\";import{ray as I}from\"../../support/geometryUtils.js\";import M from\"./Object3D.js\";function q(t){return(s,r,e)=>(a(K,s,r,e),!_(t,K))}class V{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.store=2}}class j{constructor(){this._transform=y(),this._transformInverse=new w({value:this._transform},u,y),this._transformInverseTranspose=new w(this._transformInverse,p,y),this._transformTranspose=new w({value:this._transform},p,y),this._transformInverseRotation=new w({value:this._transform},T,g)}invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){d(this._transform,t)}multiplyTransform(t){b(this._transform,this._transform,t)}set(t){d(this._transform,t),this.invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,s){this.setTransformMatrix(t),this.multiplyTransform(s),this.invalidateLazyTransforms()}}class w{constructor(t,s,r){this.original=t,this.update=s,this.dirty=!0,this.transform=r()}invalidate(){this.dirty=!0}get value(){return this.dirty&&(this.update(this.transform,this.original.value),this.dirty=!1),this.transform}}class k{constructor(){this.min=new G,this.max=new G,this.hud=new G,this.ground=new G}init(t){this.min.init(t),this.max.init(t),this.hud.init(t),this.ground.init(t),this.all=[]}}class G{constructor(t){this.normal=e(),this.transformation=y(),this._ray=I.create(),this.init(t)}get ray(){return this._ray}get hasIntersectionPoint(){return null!=this.dist}get distanceInRenderSpace(){if(null!=this.dist)return n(Q,this.ray.direction,this.dist),h(Q)}getIntersectionPoint(t){return!!this.hasIntersectionPoint&&(n(Q,this.ray.direction,this.dist),o(t,this.ray.origin,Q),!0)}getTransformedNormal(t){return c(W,this.normal),W[3]=0,z(W,W,this.transformation),c(t,W),l(t,t),t}init(t){this.dist=void 0,this.target=void 0,this.name=void 0,this.drapedLayerOrder=void 0,this.drapedLayerGraphicOrder=void 0,this.center=null,this.geometryId=null,this.triangleNr=null,this.intersector=\"Stage\",t?I.copy(t,this._ray):this._ray=I.create()}set(t,s,r,e,a,n,h,o,l,f){t instanceof M&&(t={type:\"stage\",obj:t}),this.dist=r,c(this.normal,e),d(this.transformation,a),this.target=t,this.name=s,this.drapedLayerOrder=n,this.center=h?i(h):null,this.geometryId=o,this.triangleNr=l,this.drapedLayerGraphicOrder=f}copyFrom(t){I.copy(t._ray,this._ray),this.dist=t.dist,this.target=t.target,this.name=t.name,this.drapedLayerOrder=t.drapedLayerOrder,this.center=t.center?i(t.center):null,this.geometryId=t.geometryId,this.triangleNr=t.triangleNr,this.intersector=t.intersector,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,c(this.normal,t.normal),d(this.transformation,t.transformation)}toOwner(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return U(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return function(t,s){const r=t.metadata.layerUid;return null!=r?s.map.findLayerByUid(r):null}(this.target,t);case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return U(this.target.metadata,t);case\"TerrainRenderer\":return t.map&&t.map.ground}}return null}toGraphic(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return R(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return this.target.metadata.createGraphic();case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return R(this.target.metadata,t)}}return null}}function U(r,e){return t(r)||null==r.layerUid?null:s(e.graphicsView)&&r.layerUid===e.graphicsView.mockLayerId?e.graphics:e.map.findLayerByUid(r.layerUid)}function R(e,i){if(t(e))return null;const a=U(e,i);if(t(a))return null;if(a===i.graphics)return s(i.graphicsView)?r(i.graphicsView.getGraphicFromGraphicUid(e.graphicUid)):null;const n=i.allLayerViews.find((t=>t.layer===a));return n?function(t,s){if(!t||t.suspended)return null;if(\"getGraphicFromIntersectorMetadata\"in t&&s)return t.getGraphicFromIntersectorMetadata(s);if(\"getGraphicFromGraphicUid\"in t&&null!=s.graphicUid)return t.getGraphicFromGraphicUid(s.graphicUid);return null}(n,e):null}class F{constructor(t=0){this.offset=t,this.tmpVertex=e()}applyToVertex(t,s,r){const e=t+this.localOrigin[0],i=s+this.localOrigin[1],a=r+this.localOrigin[2],n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0]+this.localOrigin[0],r=t[1]+this.localOrigin[1],e=t[2]+this.localOrigin[2],i=t[3]+this.localOrigin[0],a=t[4]+this.localOrigin[1],n=t[5]+this.localOrigin[2],h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}}class P{constructor(t=0){this.offset=t,this.componentLocalOriginLength=0,this.tmpVertex=e(),this.mbs=S(),this.obb={center:e(),halfSize:L(),quaternion:null}}set localOrigin(t){this.componentLocalOriginLength=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}applyToVertex(t,s,r){const e=t,i=s,a=r+this.componentLocalOriginLength,n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0],r=t[1],e=t[2]+this.componentLocalOriginLength,i=t[3],a=t[4],n=t[5]+this.componentLocalOriginLength,h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}applyToMbs(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=this.offset/s;return this.mbs[0]=t[0]+t[0]*r,this.mbs[1]=t[1]+t[1]*r,this.mbs[2]=t[2]+t[2]*r,this.mbs[3]=t[3]+t[3]*this.offset/s,this.mbs}applyToObb(t){const s=t.center,r=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);this.obb.center[0]=s[0]+s[0]*r,this.obb.center[1]=s[1]+s[1]*r,this.obb.center[2]=s[2]+s[2]*r,f(this.obb.halfSize,t.halfSize,t.quaternion),o(this.obb.halfSize,this.obb.halfSize,t.center);const e=this.offset/Math.sqrt(this.obb.halfSize[0]*this.obb.halfSize[0]+this.obb.halfSize[1]*this.obb.halfSize[1]+this.obb.halfSize[2]*this.obb.halfSize[2]);return this.obb.halfSize[0]+=this.obb.halfSize[0]*e,this.obb.halfSize[1]+=this.obb.halfSize[1]*e,this.obb.halfSize[2]+=this.obb.halfSize[2]*e,m(this.obb.halfSize,this.obb.halfSize,t.center),O(X,t.quaternion),f(this.obb.halfSize,this.obb.halfSize,X),this.obb.halfSize[0]*=this.obb.halfSize[0]<0?-1:1,this.obb.halfSize[1]*=this.obb.halfSize[1]<0?-1:1,this.obb.halfSize[2]*=this.obb.halfSize[2]<0?-1:1,this.obb.quaternion=t.quaternion,this.obb}}class N{constructor(t=0){this.offset=t,this.sphere=x(),this.tmpVertex=e()}applyToVertex(t,s,r){const e=this.objectTransform.transform;let i=e[0]*t+e[4]*s+e[8]*r+e[12],a=e[1]*t+e[5]*s+e[9]*r+e[13],n=e[2]*t+e[6]*s+e[10]*r+e[14];const h=this.offset/Math.sqrt(i*i+a*a+n*n);i+=i*h,a+=a*h,n+=n*h;const o=this.objectTransform.inverse;return this.tmpVertex[0]=o[0]*i+o[4]*a+o[8]*n+o[12],this.tmpVertex[1]=o[1]*i+o[5]*a+o[9]*n+o[13],this.tmpVertex[2]=o[2]*i+o[6]*a+o[10]*n+o[14],this.tmpVertex}applyToMinMax(t,s){const r=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*r,t[1]+=t[1]*r,t[2]+=t[2]*r;const e=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]+=s[0]*e,s[1]+=s[1]*e,s[2]+=s[2]*e}applyToAabb(t){const s=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*s,t[1]+=t[1]*s,t[2]+=t[2]*s;const r=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*r,t[4]+=t[4]*r,t[5]+=t[5]*r,t}applyToBoundingSphere(t,s){const r=Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]),e=this.offset/r;return this.sphere.center[0]=s[0]+s[0]*e,this.sphere.center[1]=s[1]+s[1]*e,this.sphere.center[2]=s[2]+s[2]*e,this.sphere.radius=t+t*this.offset/r,this.sphere}}const A=new N;function B(t){return s(t)?(A.offset=t,A):null}const D=new P;function C(t){return s(t)?(D.offset=t,D):null}const E=new F;function H(t){return s(t)?(E.offset=t,E):null}const J=\"terrain\",K=e(),Q=e(),W=S(),X=v();export{P as I3SVerticalOffsetGlobalViewingMode,V as IntersectorOptions,G as IntersectorResult,k as IntersectorResults,j as IntersectorTransform,N as Object3DVerticalOffsetGlobalViewingMode,J as TERRAIN_ID,F as TerrainVerticalOffsetGlobalViewingMode,C as getVerticalOffsetI3S,B as getVerticalOffsetObject3D,H as getVerticalOffsetTerrain,q as sliceFilterPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(e,r,i){const u=r&&r.length,o=u?r[0]*i:e.length;let y=n(e,0,o,i,!0);const p=new Array;if(!y||y.next===y.prev)return p;let c,v,s,h,d;if(u&&(y=function(e,x,r,i){const u=new Array;for(let t=0,r=x.length;t<r;t++){const o=n(e,x[t]*i,t<r-1?x[t+1]*i:e.length,i,!1);o===o.next&&(o.steiner=!0),u.push(l(o))}u.sort(w);for(const e of u)f(e,r),r=t(r,r.next);return r}(e,r,y,i)),e.length>80*i){c=s=e[0],v=h=e[1];for(let n=i;n<o;n+=i){const t=e[n],x=e[n+1];c=Math.min(c,t),v=Math.min(v,x),s=Math.max(s,t),h=Math.max(h,x)}d=Math.max(s-c,h-v),d=0!==d?1/d:0}return x(y,p,i,c,v,d),p}function n(e,n,t,x,r){let i;if(r===s(e,n,t,x)>0)for(let r=n;r<t;r+=x)i=u(r,e[r],e[r+1],i);else for(let r=t-x;r>=n;r-=x)i=u(r,e[r],e[r+1],i);return i&&a(i,i.next)&&(o(i),i=i.next),i}function t(e,n=e){if(!e)return e;let t,x=e;do{if(t=!1,x.steiner||!a(x,x.next)&&0!==c(x.prev,x,x.next))x=x.next;else{if(o(x),x=n=x.prev,x===x.next)break;t=!0}}while(t||x!==n);return n}function x(e,n,u,l,f,p,c=0){if(!e)return;!c&&p&&(e=y(e,l,f,p));let v=e;for(;e.prev!==e.next;){const y=e.prev,s=e.next;if(p?i(e,l,f,p):r(e))n.push(y.index/u),n.push(e.index/u),n.push(s.index/u),o(e),e=s.next,v=s.next;else if((e=s)===v){c?1===c?x(e=g(e,n,u),n,u,l,f,p,2):2===c&&M(e,n,u,l,f,p):x(t(e),n,u,l,f,p,1);break}}}function r(e){const n=e.prev,t=e,x=e.next;if(c(n,t,x)>=0)return!1;let r=e.next.next;const i=r;let u=0;for(;r!==e.prev&&(0===u||r!==i);){if(u++,h(n.x,n.y,t.x,t.y,x.x,x.y,r.x,r.y)&&c(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function i(e,n,t,x){const r=e.prev,i=e,u=e.next;if(c(r,i,u)>=0)return!1;const o=r.x<i.x?r.x<u.x?r.x:u.x:i.x<u.x?i.x:u.x,l=r.y<i.y?r.y<u.y?r.y:u.y:i.y<u.y?i.y:u.y,f=r.x>i.x?r.x>u.x?r.x:u.x:i.x>u.x?i.x:u.x,y=r.y>i.y?r.y>u.y?r.y:u.y:i.y>u.y?i.y:u.y,p=Z(o,l,n,t,x),v=Z(f,y,n,t,x);let s=e.prevZ,d=e.nextZ;for(;s&&s.z>=p&&d&&d.z<=v;){if(s!==e.prev&&s!==e.next&&h(r.x,r.y,i.x,i.y,u.x,u.y,s.x,s.y)&&c(s.prev,s,s.next)>=0)return!1;if(s=s.prevZ,d!==e.prev&&d!==e.next&&h(r.x,r.y,i.x,i.y,u.x,u.y,d.x,d.y)&&c(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;s&&s.z>=p;){if(s!==e.prev&&s!==e.next&&h(r.x,r.y,i.x,i.y,u.x,u.y,s.x,s.y)&&c(s.prev,s,s.next)>=0)return!1;s=s.prevZ}for(;d&&d.z<=v;){if(d!==e.prev&&d!==e.next&&h(r.x,r.y,i.x,i.y,u.x,u.y,d.x,d.y)&&c(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function u(e,n,t,x){const r=new m(e,n,t);return x?(r.next=x.next,r.prev=x,x.next.prev=r,x.next=r):(r.prev=r,r.next=r),r}function o(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function l(e){let n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function f(e,n){if(n=function(e,n){let t=n;const x=e.x,r=e.y;let i,u=-1/0;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const e=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(e<=x&&e>u){if(u=e,e===x){if(r===t.y)return t;if(r===t.next.y)return t.next}i=t.x<t.next.x?t:t.next}}t=t.next}while(t!==n);if(!i)return null;if(x===u)return i.prev;const o=i,l=i.x,f=i.y;let y,p=1/0;t=i.next;for(;t!==o;)x>=t.x&&t.x>=l&&x!==t.x&&h(r<f?x:u,r,l,f,r<f?u:x,r,t.x,t.y)&&(y=Math.abs(r-t.y)/(x-t.x),(y<p||y===p&&t.x>i.x)&&d(t,e)&&(i=t,p=y)),t=t.next;return i}(e,n)){const x=b(n,e);t(x,x.next)}}function y(e,n,t,x){for(let r;r!==e;r=r.next){if(r=r||e,null===r.z&&(r.z=Z(r.x,r.y,n,t,x)),r.prev.next!==r||r.next.prev!==r)return r.prev.next=r,r.next.prev=r,y(e,n,t,x);r.prevZ=r.prev,r.nextZ=r.next}return e.prevZ.nextZ=null,e.prevZ=null,function(e){let n,t=1;for(;;){let x,r=e;e=null,n=null;let i=0;for(;r;){i++,x=r;let u=0;for(;u<t&&x;u++)x=x.nextZ;let o=t;for(;u>0||o>0&&x;){let t;0===u?(t=x,x=x.nextZ,o--):0!==o&&x?r.z<=x.z?(t=r,r=r.nextZ,u--):(t=x,x=x.nextZ,o--):(t=r,r=r.nextZ,u--),n?n.nextZ=t:e=t,t.prevZ=n,n=t}r=x}if(n.nextZ=null,t*=2,i<2)return e}}(e)}function p(e,n,t,x){const r=n&&n.length,i=r?n[0]*t:e.length;let u=Math.abs(s(e,0,i,t));if(r)for(let x=0,r=n.length;x<r;x++){const i=n[x]*t,o=x<r-1?n[x+1]*t:e.length;u-=Math.abs(s(e,i,o,t))}let o=0;for(let n=0;n<x.length;n+=3){const r=x[n]*t,i=x[n+1]*t,u=x[n+2]*t;o+=Math.abs((e[r]-e[u])*(e[i+1]-e[r+1])-(e[r]-e[i])*(e[u+1]-e[r+1]))}return 0===u&&0===o?0:Math.abs((o-u)/u)}function c(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function v(e,n,t,x){return!!(a(e,n)&&a(t,x)||a(e,x)&&a(t,n))||c(e,n,t)>0!=c(e,n,x)>0&&c(t,x,e)>0!=c(t,x,n)>0}function s(e,n,t,x){let r=0;for(let i=n,u=t-x;i<t;i+=x)r+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return r}function h(e,n,t,x,r,i,u,o){return(r-u)*(n-o)-(e-u)*(i-o)>=0&&(e-u)*(x-o)-(t-u)*(n-o)>=0&&(t-u)*(i-o)-(r-u)*(x-o)>=0}function d(e,n){return c(e.prev,e,e.next)<0?c(e,n,e.next)>=0&&c(e,e.prev,n)>=0:c(e,n,e.prev)<0||c(e,e.next,n)<0}function Z(e,n,t,x,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-x)*r)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function a(e,n){return e.x===n.x&&e.y===n.y}function w(e,n){return e.x-n.x}function g(e,n,t){let x=e;do{const r=x.prev,i=x.next.next;!a(r,i)&&v(r,x,x.next,i)&&d(r,i)&&d(i,r)&&(n.push(r.index/t),n.push(x.index/t),n.push(i.index/t),o(x),o(x.next),x=e=i),x=x.next}while(x!==e);return x}function M(e,n,r,i,u,o){let l=e;do{let e=l.next.next;for(;e!==l.prev;){if(l.index!==e.index&&z(l,e)){let f=b(l,e);return l=t(l,l.next),f=t(f,f.next),x(l,n,r,i,u,o),void x(f,n,r,i,u,o)}e=e.next}l=l.next}while(l!==e)}function z(e,n){return e.next.index!==n.index&&e.prev.index!==n.index&&!function(e,n){let t=e;do{if(t.index!==e.index&&t.next.index!==e.index&&t.index!==n.index&&t.next.index!==n.index&&v(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}(e,n)&&d(e,n)&&d(n,e)&&function(e,n){let t=e,x=!1;const r=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&r<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(x=!x),t=t.next}while(t!==e);return x}(e,n)}function b(e,n){const t=new m(e.index,e.x,e.y),x=new m(n.index,n.x,n.y),r=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=r,r.prev=t,x.next=t,t.prev=x,i.next=x,x.prev=i,x}class m{constructor(e,n,t){this.index=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}}export{p as deviation,e as earcut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as t}from\"../../../core/mathUtils.js\";function n(n,f,i){const u=n.byteLength/(4*f),c=new Uint32Array(n,0,u*f);let s=new Uint32Array(u);const a=i&&i.minReduction||0,h=i&&i.originalIndices||null,g=i&&i.componentOffsets||null;let y=0;if(g)for(let t=0;t<g.length-1;t++){const n=g[t+1]-g[t];n>y&&(y=n)}else y=u;const U=Math.floor(1.1*y)+1;(null==o||o.length<2*U)&&(o=new Uint32Array(t(2*U)));for(let t=0;t<2*U;t++)o[t]=0;let w=0;const A=!!g&&!!h,m=A?h.length:u,b=A?new Uint32Array(h.length):null,d=1.96;let p=0!==a?Math.ceil(4*d*d/(a*a)*a*(1-a)):m,M=1,q=g?g[1]:m;for(let t=0;t<m;t++){if(t===p){const n=1-w/t;if(n+d*Math.sqrt(n*(1-n)/t)<a)return null;p*=2}if(t===q){for(let t=0;t<2*U;t++)o[t]=0;if(h)for(let t=g[M-1];t<g[M];t++)b[t]=s[h[t]];q=g[++M]}const n=A?h[t]:t,r=n*f,i=l(c,r,f);let u=i%U,y=w;for(;0!==o[2*u+1];){if(o[2*u]===i){const t=o[2*u+1]-1;if(e(c,r,t*f,f)){y=s[t];break}}u++,u>=U&&(u-=U)}y===w&&(o[2*u]=i,o[2*u+1]=n+1,w++),s[n]=y}if(0!==a&&1-w/u<a)return null;if(A){for(let t=g[M-1];t<b.length;t++)b[t]=s[h[t]];s=b}const x=new Uint32Array(f*w);w=0;for(let t=0;t<m;t++)if(s[t]===w){r(c,(A?h[t]:t)*f,x,w*f,f),w++}if(h&&!A){const t=new Uint32Array(h.length);for(let n=0;n<t.length;n++)t[n]=s[h[n]];s=t}return{buffer:x.buffer,indices:s,uniqueCount:w}}function e(t,n,e,r){for(let l=0;l<r;l++)if(t[n+l]!==t[e+l])return!1;return!0}function r(t,n,e,r,l){for(let o=0;o<l;o++)e[r+o]=t[n+o]}function l(t,n,e){let r=0;for(let l=0;l<e;l++)r=t[n+l]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let o=null;export default n;export{n as deduplicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{FoamIntensity as t}from\"./FoamRendering.glsl.js\";function r(r){r.fragment.uniforms.add(\"texWaveNormal\",\"sampler2D\"),r.fragment.uniforms.add(\"texWavePerturbation\",\"sampler2D\"),r.fragment.uniforms.add(\"waveParams\",\"vec4\"),r.fragment.uniforms.add(\"waveDirection\",\"vec2\"),r.include(t),r.fragment.code.add(e`\n      const vec2  FLOW_JUMP = vec2(6.0/25.0, 5.0/24.0);\n\n      vec2 textureDenormalized2D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rg - 1.0;\n      }\n\n      float sampleNoiseTexture(vec2 _uv) {\n        return texture2D(texWavePerturbation, _uv).b;\n      }\n\n      vec3 textureDenormalized3D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rgb - 1.0;\n      }\n\n      float computeProgress(vec2 uv, float time) {\n        return fract(time);\n      }\n\n      float computeWeight(vec2 uv, float time) {\n        float progress = computeProgress(uv, time);\n        return 1.0 - abs(1.0 - 2.0 * progress);\n      }\n\n      vec3 computeUVPerturbedWeigth(sampler2D texFlow, vec2 uv, float time, float phaseOffset) {\n        float flowStrength = waveParams[2];\n        float flowOffset = waveParams[3];\n\n        vec2 flowVector = textureDenormalized2D(texFlow, uv) * flowStrength;\n\n        float progress = computeProgress(uv, time + phaseOffset);\n        float weight = computeWeight(uv, time + phaseOffset);\n\n        vec2 result = uv;\n        result -= flowVector * (progress + flowOffset);\n        result += phaseOffset;\n        result += (time - progress) * FLOW_JUMP;\n\n        return vec3(result, weight);\n      }\n\n      const float TIME_NOISE_TEXTURE_REPEAT = 0.3737;\n      const float TIME_NOISE_STRENGTH = 7.77;\n\n      vec3 getWaveLayer(sampler2D _texNormal, sampler2D _dudv, vec2 _uv, vec2 _waveDir, float time) {\n        float waveStrength = waveParams[0];\n\n        // overall directional shift in uv's for directional wave movement for\n        // now we do a hard coded scale for wave speed such that a unit length\n        // direction is not too fast.\n        vec2 waveMovement = time * -_waveDir;\n\n        float timeNoise = sampleNoiseTexture(_uv * TIME_NOISE_TEXTURE_REPEAT) * TIME_NOISE_STRENGTH;\n\n        // compute two perturbed uvs and blend weights\n        // then sample the wave normals at the two positions and blend\n        vec3 uv_A = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.0);\n        vec3 uv_B = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.5);\n\n        vec3 normal_A = textureDenormalized3D(_texNormal, uv_A.xy) * uv_A.z;\n        vec3 normal_B = textureDenormalized3D(_texNormal, uv_B.xy) * uv_B.z;\n\n        // logic to flatten the wave pattern\n        // scale xy components of the normal, then adjust z (up) component\n        vec3 mixNormal = normalize(normal_A + normal_B);\n        mixNormal.xy *= waveStrength;\n        mixNormal.z = sqrt(1.0 - dot(mixNormal.xy, mixNormal.xy));\n\n        return mixNormal;\n      }\n\n      vec4 getSurfaceNormalAndFoam(vec2 _uv, float _time) {\n        float waveTextureRepeat = waveParams[1];\n        vec3 normal = getWaveLayer(texWaveNormal, texWavePerturbation, _uv * waveTextureRepeat, waveDirection, _time);\n        float foam  = normals2FoamIntensity(normal, waveParams[0]);\n        return vec4(normal, foam);\n      }\n    `)}!function(e){e.bindUniforms=function(e,t){e.setUniform1i(\"texWaveNormal\",0),e.setUniform1i(\"texWavePerturbation\",1),e.setUniform4f(\"waveParams\",t.waveStrength,t.waveTextureRepeat,t.flowStrength,t.flowOffset),e.setUniform2f(\"waveDirection\",t.waveDirection[0]*t.waveVelocity,t.waveDirection[1]*t.waveVelocity)}}(r||(r={}));export{r as WaterDistortion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as r}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as t}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{symbolAlphaCutoff as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ReadShadowMap as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{WaterDistortion as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{ForwardLinearDepth as s}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{NormalUtils as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js\";import{Water as g}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js\";function c(c){const m=new a;return m.include(o,{linearDepth:!1}),m.attributes.add(\"position\",\"vec3\"),m.attributes.add(\"uv0\",\"vec2\"),m.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"localOrigin\",\"vec3\"),m.vertex.uniforms.add(\"waterColor\",\"vec4\"),0!==c.output&&7!==c.output||(m.include(v,c),m.include(s,c),m.varyings.add(\"vuv\",\"vec2\"),m.varyings.add(\"vpos\",\"vec3\"),m.varyings.add(\"vnormal\",\"vec3\"),m.varyings.add(\"vtbnMatrix\",\"mat3\"),m.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(n)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vuv = uv0;\n        vpos = position;\n\n        vnormal = getLocalUp(vpos, localOrigin);\n        vtbnMatrix = getTBNMatrix(vnormal);\n\n        gl_Position = transformPosition(proj, view, vpos);\n        ${0===c.output?\"forwardLinearDepth();\":\"\"}\n      }\n    `)),7===c.output&&(m.include(i,c),m.fragment.uniforms.add(\"waterColor\",\"vec4\"),m.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n\n          gl_FragColor = vec4(waterColor.a);\n        }\n      `)),0===c.output&&(m.include(l,c),m.include(i,c),c.receiveShadows&&m.include(d,c),m.include(g,c),m.fragment.uniforms.add(\"waterColor\",\"vec4\").add(\"lightingMainDirection\",\"vec3\").add(\"lightingMainIntensity\",\"vec3\").add(\"camPos\",\"vec3\").add(\"timeElapsed\",\"float\").add(\"view\",\"mat4\"),m.fragment.include(r),m.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        vec3 localUp = vnormal;\n        // the created normal is in tangent space\n        vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n\n        // we rotate the normal according to the tangent-bitangent-normal-Matrix\n        vec3 n = normalize(vtbnMatrix * tangentNormalFoam.xyz);\n        vec3 v = -normalize(vpos - camPos);\n        vec3 l = normalize(-lightingMainDirection);\n        float shadow = ${c.receiveShadows?e`1.0 - readShadowMap(vpos, linearDepth)`:\"1.0\"};\n        vec4 vPosView = view*vec4(vpos, 1.0);\n        vec4 final = vec4(getSeaColor(n, v, l, waterColor.rgb, lightingMainIntensity, localUp, shadow, tangentNormalFoam.w, vPosView.xyz), waterColor.w);\n\n        // gamma correction\n        gl_FragColor = delinearizeGamma(final);\n        gl_FragColor = highlightSlice(gl_FragColor, vpos);\n        ${c.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),2===c.output&&(m.include(v,c),m.include(l,c),m.include(i,c),m.varyings.add(\"vpos\",\"vec3\"),m.varyings.add(\"vuv\",\"vec2\"),m.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(n)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vuv = uv0;\n          vpos = position;\n\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),m.fragment.uniforms.add(\"timeElapsed\",\"float\"),m.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n\n          // the created normal is in tangent space and foam\n          vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n          tangentNormalFoam.xyz = normalize(tangentNormalFoam.xyz);\n\n          gl_FragColor = vec4((tangentNormalFoam.xyz + vec3(1.0)) * 0.5, tangentNormalFoam.w);\n        }\n    `)),5===c.output&&(m.varyings.add(\"vpos\",\"vec3\"),m.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(n)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vpos = position;\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),m.fragment.uniforms.add(\"waterColor\",\"vec4\"),m.fragment.code.add(e`\n        void main() {\n          gl_FragColor = waterColor;\n        }\n    `)),4===c.output&&(m.include(t),m.varyings.add(\"vpos\",\"vec3\"),m.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(n)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vpos = position;\n        gl_Position = transformPosition(proj, view, vpos);\n      }\n    `),m.include(i,c),m.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        outputHighlight();\n      }\n    `)),m}var m=Object.freeze({__proto__:null,build:c});export{m as W,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ScreenSpacePass as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";function n(){const n=new r;return n.include(o),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"color\",\"vec4\"),n.fragment.code.add(e`\n    void main() {\n      vec4 texColor = texture2D(tex, uv);\n      gl_FragColor = texColor * color;\n    }\n  `),n}var a=Object.freeze({__proto__:null,build:n});export{a as T,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";var i;!function(i){i.builder=function(i,r){i.vertex.uniforms.add(\"camPos\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`\n    float computeRenderPixelSizeAt( vec3 pWorld ){\n      vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\n      float viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\n      return viewDirectionDistance*perScreenPixelRatio;\n    }\n\n    vec3 screenSizeScaling(vec3 position, vec3 anchor){\n      return position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n    }\n  `)},i.bindPassUniforms=function(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}}(i||(i={}));export{i as ScreenSizeScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as i}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ScreenSizeScaling as l}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";function n(n){const s=new r;return s.include(o,{linearDepth:!1}),s.include(l.builder,{}),s.include(a,n),s.fragment.include(i),s.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),s.fragment.uniforms.add(\"color\",\"vec4\"),s.attributes.add(\"position\",\"vec3\"),s.varyings.add(\"vWorldPosition\",\"vec3\"),n.screenSizeEnabled&&s.attributes.add(\"offset\",\"vec3\"),n.shadingEnabled&&(s.vertex.uniforms.add(\"viewNormal\",\"mat4\"),s.fragment.uniforms.add(\"shadedColor\",\"vec4\").add(\"shadingDirection\",\"vec3\"),s.attributes.add(\"normal\",\"vec3\"),s.varyings.add(\"vViewNormal\",\"vec3\")),s.vertex.code.add(e`\n    void main(void) {\n      vWorldPosition = ${n.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),n.shadingEnabled&&s.vertex.code.add(e`\n      vec3 worldNormal = normal;\n      vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;\n    `),s.vertex.code.add(e`\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),s.fragment.code.add(e`\n    void main() {\n      discardBySlice(vWorldPosition);\n    `),n.shadingEnabled?s.fragment.code.add(e`\n      vec3 viewNormalNorm = normalize(vViewNormal);\n      float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\n      vec4 finalColor = mix(color, shadedColor, shadingFactor);\n    `):s.fragment.code.add(e`\n      vec4 finalColor = color;\n    `),s.fragment.code.add(e`\n      if (finalColor.a < ${e.float(d)}) {\n        discard;\n      }\n      ${7===n.output?e`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${0===n.output?e`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${n.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),s}var s=Object.freeze({__proto__:null,build:n});export{s as S,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.code.add(t`\n    float normals2FoamIntensity(vec3 n, float waveStrength){\n      float normalizationFactor =  max(0.015, waveStrength);\n      return max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n    }\n  `)}function n(o){o.fragment.code.add(t`\n    vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\n      return foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n    }\n  `)}export{n as FoamColor,o as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function n(n,r){1===r.viewingMode?n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return normalize(pos + origin);\n      }\n    `):n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return vec3(0.0, 0.0, 1.0); // WARNING: up-axis dependent code\n      }\n    `),1===r.viewingMode?n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = normalize(cross(vec3(0.0, 0.0, 1.0), n));\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `):n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = vec3(1.0, 0.0, 0.0);\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `)}export{n as NormalUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as r}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.uniforms.add(\"lastFrameColorMap\",\"sampler2D\"),o.fragment.uniforms.add(\"reprojectionMat\",\"mat4\"),o.fragment.uniforms.add(\"rpProjectionMat\",\"mat4\"),o.fragment.code.add(r`\n  vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n  {\n    vec4 zw = rpProjectionMat * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\n    vec4 reprojectedCoord = reprojectionMat * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\n    reprojectedCoord.xy /= reprojectedCoord.w;\n    return reprojectedCoord.xy*0.5 + 0.5;\n  }\n  `)}!function(r){r.bindUniforms=function(r,o,e){r.setUniform1i(\"lastFrameColorMap\",e.lastFrameColorTextureID),o.bindTexture(e.lastFrameColorTexture,e.lastFrameColorTextureID),r.setUniformMatrix4fv(\"reprojectionMat\",e.reprojectionMat),r.setUniformMatrix4fv(\"rpProjectionMat\",e.camera.projectionMatrix)}}(o||(o={}));export{o as Reprojection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ReadLinearDepth as t}from\"../output/ReadLinearDepth.glsl.js\";import{Reprojection as o}from\"./Reprojection.glsl.js\";function r(r,a){r.fragment.uniforms.add(\"nearFar\",\"vec2\"),r.fragment.uniforms.add(\"depthMapView\",\"sampler2D\"),r.fragment.uniforms.add(\"ssrViewMat\",\"mat4\"),r.fragment.uniforms.add(\"invResolutionHeight\",\"float\"),r.include(t),r.include(o),r.fragment.code.add(e`\n  const int maxSteps = ${a.highStepCount?\"150;\":\"75;\"}\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(rpProjectionMat, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMapView, P, nearFar); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n          return vec3(P, depth);\n      }\n\n      // continue with ray marching\n      P += dP;\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}!function(e){e.bindUniforms=function(e,t,r){r.ssrEnabled&&(e.setUniform1i(\"depthMapView\",r.linearDepthTextureID),t.bindTexture(r.linearDepthTexture,r.linearDepthTextureID),e.setUniform2fv(\"nearFar\",r.camera.nearFar),e.setUniformMatrix4fv(\"ssrViewMat\",r.camera.viewMatrix),e.setUniform1f(\"invResolutionHeight\",1/r.camera.height),o.bindUniforms(e,t,r))}}(r||(r={}));export{r as ScreenSpaceReflections};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function e(e){e.fragment.code.add(o`\n    const float GAMMA = 2.2;\n    const float INV_GAMMA = 0.4545454545;\n\n    vec4 delinearizeGamma(vec4 color) {\n      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);\n    }\n\n    vec3 linearizeGamma(vec3 color) {\n      return pow(color, vec3(GAMMA));\n    }\n  `)}export{e as Gamma};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ScreenSpaceReflections as o}from\"./ScreenSpaceReflections.glsl.js\";import{FoamColor as t}from\"./FoamRendering.glsl.js\";import{Gamma as r}from\"./Gamma.glsl.js\";import{PhysicallyBasedRendering as i}from\"./PhysicallyBasedRendering.glsl.js\";function a(a,n){a.include(i,n),a.include(r),a.include(t),n.ssrEnabled&&a.include(o,n),a.fragment.code.add(e`\n    const vec3 fresnelSky =  vec3(0.02, 1.0, 15.0); // f0, f0max, exp\n    const vec2 fresnelMaterial =  vec2(0.02, 0.1); // f0, f0max for specular term\n    const float roughness = 0.015;\n    const float foamIntensityExternal = 1.7;\n    const float ssrIntensity = 0.65;\n    const float ssrHeightFadeStart = 300000.0;\n    const float ssrHeightFadeEnd = 500000.0;\n    const float waterDiffusion = 0.775;\n    const float waterSeeColorMod = 0.8;\n    const float correctionViewingPowerFactor = 0.4;\n\n    const vec3 skyZenitColor = vec3(0.52, 0.68, 0.90);\n    const vec3 skyColor = vec3(0.67, 0.79, 0.9);\n\n    PBRShadingWater shadingInfo;\n\n    /*\n    *   This function is an approximation for the sky gradient reflected\n    *   the water surface and describes a combination of two fresnel terms.\n    *   @parameter: cosTheta = is the result of max(dot(n,v), 0.0)\n    *   @parameter: horizon = the dominant color of the sky horizon\n    *   @parameter: cosTheta = the dominant color of the sky zenit\n    */\n    vec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\n      float exponent = pow((1.0 - cosTheta), fresnelSky[2]);\n      return mix(zenit, horizon, exponent);\n    }\n\n    /*\n    *   This function determines the water color per pixel.\n    *   @parameter: n = normal facing away from the surface\n    *   @parameter: v = view direction facing away from the surface.\n    *   @parameter: l = light direction facing away from the surface\n    *   @parameter: lightIntensity = light intensity, currently between 0...PI\n    *   @parameter: localUp = a normal for the general direction of the surface\n    *   @parameter: shadow = the amount of shadow at this pixel (0 = no shadow)\n    */\n    vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 positionView) {\n\n      float reflectionHit = 0.;\n      vec3 seaWaterColor = linearizeGamma(color);\n      // using half vector to determine the specular light\n      vec3 h = normalize(l + v);\n      shadingInfo.NdotL = clamp(dot(n, l), 0.0, 1.0);\n      shadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\n      shadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\n      shadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\n      shadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\n      shadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\n\n      // angle between vertex normal and view direction\n      float upDotV = max(dot(localUp,v), 0.0);\n      // reflected sky color: the reflected sky color consists of two main colors, the\n      // reflected color at the horizon and the reflected color of the zenit.\n      // the reflected sky color is then an approximation based on the fresnel term.\n      vec3 skyHorizon = linearizeGamma(skyColor);\n      vec3 skyZenit = linearizeGamma(skyZenitColor);\n      vec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\n\n      // we use the upDotL to smoothen out the\n      // reflected color of the water\n      float upDotL = max(dot(localUp,l),0.0);\n\n      // The approximated sky color is adjusted according to the sun position.\n      // This is done as approximation for e.g. night views.\n      float daytimeMod = 0.1 + upDotL * 0.9;\n      skyColor *= daytimeMod;\n\n      // If a water surface is in shadow we just use a slight darkening of the\n      // water surface expressed with this shadowModifier.\n      float shadowModifier = clamp(shadow, 0.8, 1.0);\n\n      // The reflected sky color consists of the fresnel reflection multiplied with the approximated sky color.\n      // The shadow is influencing the frensel term to keep the shadow impression for really near views. As long\n      // as reflection are absent there is a need to have a slight shadow for depth perception.\n      vec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\n      vec3 reflSky = fresnelModifier * skyColor * shadowModifier;\n\n      // The reflected sea color is the input water color combined with the reflected sky color.\n      // The reflected sky color is modified by the incoming light.\n      vec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\n\n      vec3 specular = vec3(0.0);\n      // This prevents the specular light to be rendered when:\n      // - sun is behind a polygon (e.g. sundown for elevated polygons where nDotL might be still ok)\n      // - viewer is under water (for this localUp is better than n)\n      if(upDotV > 0.0 && upDotL > 0.0) {\n        // calculate the cook torrance BRDF but with simplified occlusion\n        vec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\n\n        // Normalize light intensity to be between 0...1. Shadow cancels out specular light here\n        vec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\n\n        specular = shadingInfo.NdotL * incidentLight * specularSun;\n      }\n\n      vec3 foam = vec3(0.0);\n      if(upDotV > 0.0) {\n        foam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n      }\n      `),n.ssrEnabled?a.fragment.code.add(e`\n      // Convert the world position to view position\n      vec4 viewPosition = vec4(positionView.xyz, 1.0);\n      vec3 viewDir = normalize(viewPosition.xyz);\n      vec4 viewNormalVectorCoordinate = ssrViewMat *vec4(n, 0.0);\n      vec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\n      vec4 viewUp = ssrViewMat *vec4(localUp, 0.0);\n\n      // at steeper viewing angles we use more of a vertex normal (in this case up) then the wave normal\n      // this removes some artifacts of normal mapping\n      float correctionViewingFactor = pow(max(dot(-viewDir, viewUp.xyz), 0.0), correctionViewingPowerFactor);\n      vec3 viewNormalCorrected = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\n\n      vec3 reflected = normalize(reflect(viewDir, viewNormalCorrected));\n\n      // perform screen space reflection to detect hit\n      vec3 hitCoordinate = screenSpaceIntersection( normalize(reflected), viewPosition.xyz, viewDir, viewUp.xyz);\n      vec3 reflectedColor = vec3(0.0);\n\n      // if there is a hit with ssr find reflected color from the reprojeted frame\n      if (hitCoordinate.z > 0.0)\n      {\n        vec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\n\n        // fade out if there if the hit is near end of Y axis\n        vec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\n        float heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -positionView.z);\n        reflectionHit = waterDiffusion * clamp(1.0 - (1.3*dCoords.y), 0.0, 1.0) * heightMod;\n\n        reflectedColor = linearizeGamma(texture2D(lastFrameColorMap, reprojectedCoordinate).xyz)* reflectionHit * fresnelModifier.y * ssrIntensity;\n      }\n      float seeColorMod =  mix(waterSeeColorMod, waterSeeColorMod*0.5, reflectionHit);\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES((1. - reflectionHit) * reflSky + reflectedColor + reflSea * seeColorMod + specular + foam);\n    }\n  `):a.fragment.code.add(e`\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES(reflSky + reflSea * waterSeeColorMod + specular + foam);\n    }\n  `)}export{a as Water};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import\"../../../../chunks/builtins.js\";import r from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";class n{constructor(){this.cache=new Map}dispose(){this.cache.forEach((t=>{e(t.texture)&&(t.texture.dispose(),t.texture=null)})),this.cache.clear()}acquire(e){if(t(e))return null;const n=this.patternId(e),i=this.cache.get(n);if(i)return i.refCount++,i.bind;const s=this.patternToTextureData(e,2),o=s.length/2,u={refCount:1,texture:null,bind:(e,n)=>(t(u.texture)&&(u.texture=new r(e,{width:s.length,height:1,internalFormat:6406,pixelFormat:6406,dataType:5121,wrapMode:33071},s)),e.bindTexture(u.texture,n),o)};return this.cache.set(n,u),u.bind}release(r){if(t(r))return;const n=this.patternId(r),i=this.cache.get(n);i&&(i.refCount--,0===i.refCount&&(e(i.texture)&&i.texture.dispose(),this.cache.delete(n)))}swap(e,t){const r=this.acquire(t);return this.release(e),r}patternId(e){return e.join(\",\")}patternToTextureData(e,t){const r=e.reduce(((e,t)=>e+t))*t,n=new Uint8Array(r);let i=!0,s=0;for(const r of e){for(let e=0;e<r*t;e++)n[s++]=i?255:0;i=!i}return n}}function i(e){return t(e)?e:e.slice()}function s(e){return[e,e]}export{n as StippleTextureRepository,i as createStipplePattern,s as createStipplePatternSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as i,toRGB as e}from\"../../../../core/colorUtils.js\";import{f as o}from\"../../../../chunks/vec4f64.js\";import{createStipplePattern as l}from\"../../webgl-engine/materials/lineStippleUtils.js\";const s={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])};function n(t,i){const e=t.clone();return e.a*=i,e}function r(t,o){const l=t.clone(),s=i(l);s.s*=o;const n=e(s);return l.r=n.r,l.g=n.g,l.b=n.b,l}function h(t,i){if(i)for(const e in i)t[e]=i[e]}class c{constructor(t){this.color=s.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,h(this,t)}}class a{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=s.main,this.outlineColor=s.outline,this.renderOccluded=16,this.hoverOutlineColor=s.selectedOutline,h(this,t)}apply(t,i){const e=this[t];i.setParameterValues({color:W(e),transparent:\"color\"!==t||e.a<1,renderOccluded:this.renderOccluded})}}class d{constructor(t){this.vertex=new a({color:s.main,outlineColor:s.outline}),this.edge=new a({color:r(n(s.main,2/3),.5),outlineColor:n(s.outline,.5),size:8,collisionPadding:8}),this.selected=new a({color:s.selected,outlineColor:s.outline}),h(this,t)}}class u{constructor(t){this.color=s.selected,this.width=1.5,this.stipplePattern=l([5,5]),this.stippleOffColor=s.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=s.selected,this.renderOccluded=4,h(this,t)}apply(t){t.color=W(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=W(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=W(this.innerColor),t.renderOccluded=this.renderOccluded}}class p{constructor(t){this.color=s.selected,this.size=4,this.outlineSize=1,this.outlineColor=s.outline,this.shape=\"square\",h(this,t)}apply(t){t.color=W(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=W(this.outlineColor),t.primitive=this.shape}}class w{constructor(t){this.innerColor=s.selected,this.innerWidth=1,this.glowColor=s.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.3,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=s.main,h(this,t)}apply(i,e=1){const o={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*e,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in i?i.style=o:i.laserlineStyle=o}}class f{constructor(t){this.outline=new u({color:s.outline,renderOccluded:8,stippleOffColor:s.selected,stipplePattern:l([5,5]),width:1.5,innerWidth:0}),this.staged=new u({color:s.selected,renderOccluded:8,innerColor:s.staged,stippleOffColor:s.outline,stipplePattern:l([5,5]),width:1.5}),this.shadowStyle=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),h(this,t)}}class g{constructor(t){this.outline=new p({color:s.selected,outlineColor:s.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:1.5,glowWidth:6,innerColor:s.selected,innerWidth:1,radius:2}),h(this,t)}}class C extends u{constructor(t){super(),this.extensionType=2,h(this,t)}}class m{constructor(t){this.lineGraphics=new f,this.pointGraphics=new g,this.heightPlane=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),this.heightBox=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:0,heightFillColor:s.main}),this.zVerticalLine=new C({color:n(s.main,.5),falloff:2,innerColor:n(s.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,h(this,t)}}function W(i){return o(t.toUnitRGBA(i))}const O=new class{constructor(t){this.visualElements=new m,this.reshapeManipulators=new d,this.zManipulator=new c,h(this,t)}colorToVec4(t){return W(t)}};export{s as colors,O as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t,isSome as r}from\"../../../../core/maybe.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{i as s}from\"../../../../chunks/vec3.js\";import{maxScale as a}from\"../../support/mathUtils.js\";import{c as n}from\"../../../../chunks/mat4.js\";import{I as e,a as o}from\"../../../../chunks/mat4f64.js\";import{computeAttachmentOriginTriangles as h}from\"./geometryDataUtils.js\";import{VertexAttrConstants as m}from\"./Util.js\";import{generateObject3DStateId as u}from\"./Object3DStateSet.js\";import{addObject3DStateID as d,removeObject3DStateID as f}from\"../materials/renderers/utils.js\";export default class{constructor(t,r,s,a,n,e,o){this.uniqueName=null,this.shaderTransformationDirty=!0,this.data=t.toRenderData(),this.boundingInfo=r,this.material=s,this.origin=null,this.center=i(),this.bsRadius=0,this.transformation=null,this.calculateShaderTransformation=n,a&&this.updateTransformation(a,e),this.castShadow=o,this.instanceParameters={highlights:null,occludees:null,visible:!0}}updateTransformation(t,r){this.transformation=t,this.shaderTransformationDirty=!0,this.bsRadius=this.getBoundingSphere(t,r,this.center)}shaderTransformationChanged(){this.shaderTransformationDirty=!0}getBoundingSphere(t,r,i){return r=r||a(t),s(i,this.boundingInfo.getCenter(),t),this.boundingInfo.getBSRadius()*r}get hasShaderTransformation(){return!!this.calculateShaderTransformation}getShaderTransformation(){return this.calculateShaderTransformation?(this.shaderTransformationDirty&&(this.shaderTransformation||(this.shaderTransformation=o()),n(this.shaderTransformation,this.calculateShaderTransformation(t(this.transformation,e))),this.shaderTransformationDirty=!1),this.shaderTransformation):t(this.transformation,e)}computeAttachmentOrigin(t){if(this.material.computeAttachmentOrigin)return!!this.material.computeAttachmentOrigin(this,t)&&(r(this.transformation)&&s(t,t,this.transformation),!0);const i=this.getIndices(m.POSITION),a=this.getAttribute(m.POSITION);return!!h(a,i,t)&&(r(this.transformation)&&s(t,t,this.transformation),!0)}getIndices(t){return\"indices\"in this.data?this.data.indices[t]:null}getAttribute(t){return\"vertexAttr\"in this.data?this.data.vertexAttr[t]:null}addHighlight(){const t=u(0),r=this.instanceParameters;return r.highlights=d(r.highlights,t),t}removeHighlight(t){const r=this.instanceParameters;r.highlights=f(r.highlights,t)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isClockwise as n}from\"./coordsUtils.js\";import{earcut as t}from\"../../core/libs/earcut/earcut.js\";import{deduplicate as e}from\"./meshUtils/deduplicate.js\";function o(n){const o=r(n.rings,n.hasZ,1),l=[];let s=0,i=0;for(const n of o.polygons){const e=n.count,r=n.index,c=new Float64Array(o.position.buffer,3*r*o.position.BYTES_PER_ELEMENT,3*e),h=n.holeIndices.map((n=>n-r)),f=new Uint32Array(t(c,h,3));l.push({position:c,faces:f}),s+=c.length,i+=f.length}const c=function(n,t,e){if(1===n.length)return n[0];const o=new Float64Array(t),r=new Uint32Array(e);let l=0,s=0,i=0;for(const t of n){for(let n=0;n<t.position.length;n++)o[l++]=t.position[n];for(let n=0;n<t.faces.length;n++)r[s++]=t.faces[n]+i;i=l/3}return{position:o,faces:r}}(l,s,i),h=e(c.position.buffer,6,{originalIndices:c.faces});return c.position=new Float64Array(h.buffer),c.faces=h.indices,c}function r(t,e,o){const r=t.length,s=new Array(r),i=new Array(r),c=new Array(r);let h=0,f=0,g=0,a=0;for(let n=0;n<r;++n)a+=t[n].length;const u=new Float64Array(3*a);let p=0;for(let a=r-1;a>=0;a--){const d=t[a],y=1===o&&!n(d,!1,!1);if(y&&1!==r)s[h++]=d;else{let n=d.length;for(let t=0;t<h;++t)n+=s[t].length;const t={index:p,pathLengths:new Array(h+1),count:n,holeIndices:new Array(h)};t.pathLengths[0]=d.length,d.length>0&&(c[g++]={index:p,count:d.length}),p=y?l(d,d.length-1,-1,u,p,d.length,e):l(d,0,1,u,p,d.length,e);for(let n=0;n<h;++n){const o=s[n];t.holeIndices[n]=p,t.pathLengths[n+1]=o.length,o.length>0&&(c[g++]={index:p,count:o.length}),p=l(o,0,1,u,p,o.length,e)}h=0,t.count>0&&(i[f++]=t)}}for(let n=0;n<h;++n){const t=s[n];t.length>0&&(c[g++]={index:p,count:t.length}),p=l(t,0,1,u,p,t.length,e)}return f<r&&(i.length=f),g<r&&(c.length=g),{position:u,polygons:i,outlines:c}}function l(n,t,e,o,r,l,s){r*=3;for(let i=0;i<l;++i){const l=n[t];o[r++]=l[0],o[r++]=l[1],o[r++]=s?l[2]:0,t+=e}return r/3}export{r as pathsToTriangulationInfo,o as triangulate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as s,f as t}from\"../../../../chunks/vec3f64.js\";class i{constructor(i=s(),c=t(.57735,.57735,.57735),n=!0){this.intensity=i,this.direction=c,this.castShadows=n}}class c{constructor(i=s(),c=t(.57735,.57735,.57735)){this.intensity=s(),this.direction=s(),this.intensity=i,this.direction=c}}class n{constructor(t=s()){this.intensity=t}}class o{constructor(){this.sh={r:[0],g:[0],b:[0]}}}export{n as AmbientLight,c as FillLight,i as MainLight,o as SphericalHarmonicsLight};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{lerp as i}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as e,createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as s,b as h,f as n}from\"../../../../chunks/vec3f64.js\";import{f as o,k as a,g as _,m as p,r as u,d as v,u as c,v as w,a as d,l,s as y,c as g,n as f}from\"../../../../chunks/vec3.js\";import{directionFromTo as m}from\"../../support/mathUtils.js\";import{c as x,m as D,h as j,a as M,b as R,l as P}from\"../../../../chunks/mat4.js\";import{a as F}from\"../../../../chunks/mat4f64.js\";import{f as V}from\"../../../../chunks/vec2f64.js\";import{b as S,a as T}from\"../../../../chunks/vec4f64.js\";import{c as I,k as U}from\"../../../../chunks/vec2.js\";import{c as k,g as b,i as A,t as C}from\"../../../../chunks/vec4.js\";import{p as E}from\"../../../../chunks/vector.js\";import{ray as z,frustum as H}from\"../../support/geometryUtils.js\";import{fovd2fovx as W,fovx2fovd as G,fovd2fovy as X,fovy2fovd as Y}from\"./Util.js\";class L{constructor(i=null,e=null,r=null){this._viewUp=s(),this._viewForward=s(),this._viewRight=s(),this._ray=z.createWrapper(),this._viewport=S(0,0,1,1),this._padding=S(0,0,0,0),this._fov=55/180*Math.PI,this._nearFar=V(1,1e3),this._viewDirty=!0,this._viewMatrix=F(),this._projectionDirty=!0,this._projectionMatrix=F(),this._viewProjectionDirty=!0,this._viewProjectionMatrix=F(),this._viewInverseTransposeMatrixDirty=!0,this._viewInverseTransposeMatrix=F(),this._frustumDirty=!0,this._frustum=H.create(),this._fullViewport=T(),this._contextNavigation=!0,this.pixelRatio=1,this.relativeElevation=0,this._eye=t(i)?h(i):s(),this._center=t(e)?h(e):s(),this._up=t(r)?h(r):n(0,0,1)}get eye(){return this._eye}set eye(t){this._compareAndSetView(t,this._eye)}get center(){return this._center}set center(t){this._compareAndSetView(t,this._center)}get ray(){return this._ray.origin=this.eye,this._ray.direction||(this._ray.direction=s()),o(this._ray.direction,this.center,this.eye),this._ray}get up(){return this._up}set up(t){this._compareAndSetView(t,this._up)}get viewMatrix(){return this._ensureViewClean(),this._viewMatrix}set viewMatrix(t){x(this._viewMatrix,t),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get viewForward(){return this._ensureViewClean(),this._viewForward}get viewUp(){return this._ensureViewClean(),this._viewUp}get viewRight(){return this._ensureViewClean(),this._viewRight}get nearFar(){return this._nearFar}get near(){return this._nearFar[0]}set near(t){this._nearFar[0]!==t&&(this._nearFar[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get far(){return this._nearFar[1]}set far(t){this._nearFar[1]!==t&&(this._nearFar[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewport(){return this._viewport}set viewport(t){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]}get x(){return this._viewport[0]}set x(t){t+=this._padding[3],this._viewport[0]!==t&&(this._viewport[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get y(){return this._viewport[1]}set y(t){t+=this._padding[2],this._viewport[1]!==t&&(this._viewport[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get width(){return this._viewport[2]}set width(t){this._viewport[2]!==t&&(this._viewport[2]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get height(){return this._viewport[3]}set height(t){this._viewport[3]!==t&&(this._viewport[3]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get fullWidth(){return this._viewport[2]+this._padding[1]+this._padding[3]}set fullWidth(t){this.width=t-(this._padding[1]+this._padding[3])}get fullHeight(){return this._viewport[3]+this._padding[0]+this._padding[2]}set fullHeight(t){this.height=t-(this._padding[0]+this._padding[2])}get fullViewport(){return this._fullViewport[0]=this._viewport[0]-this._padding[3],this._fullViewport[1]=this._viewport[1]-this._padding[2],this._fullViewport[2]=this.fullWidth,this._fullViewport[3]=this.fullHeight,this._fullViewport}get aspect(){return this.width/this.height}get padding(){return this._padding}set padding(t){this._padding[0]===t[0]&&this._padding[1]===t[1]&&this._padding[2]===t[2]&&this._padding[3]===t[3]||(this._viewport[0]+=t[3]-this._padding[3],this._viewport[1]+=t[2]-this._padding[2],this._viewport[2]-=t[1]+t[3]-(this._padding[1]+this._padding[3]),this._viewport[3]-=t[0]+t[2]-(this._padding[0]+this._padding[2]),k(this._padding,t),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewProjectionMatrix(){return this._viewProjectionDirty&&(D(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1),this._viewProjectionMatrix}get projectionMatrix(){if(this._projectionDirty){const t=this.width,i=this.height,e=this.near*Math.tan(this.fovY/2),r=e*this.aspect;j(this._projectionMatrix,-r*(1+2*this._padding[3]/t),r*(1+2*this._padding[1]/t),-e*(1+2*this._padding[2]/i),e*(1+2*this._padding[0]/i),this.near,this.far),this._projectionDirty=!1}return this._projectionMatrix}set projectionMatrix(t){x(this._projectionMatrix,t),this._projectionDirty=!1,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fov(){return this._fov}set fov(t){this._fov=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovX(){return W(this._fov,this.width,this.height)}set fovX(t){this._fov=G(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovY(){return X(this._fov,this.width,this.height)}set fovY(t){this._fov=Y(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get distance(){return a(this._center,this._eye)}get frustum(){return this._recomputeFrustum(),this._frustum}get viewInverseTransposeMatrix(){return(this._viewInverseTransposeMatrixDirty||this._viewDirty)&&(M(this._viewInverseTransposeMatrix,this.viewMatrix),R(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),this._viewInverseTransposeMatrix}depthNDCToWorld(t){const i=2*t-1;return 2*this.near*this.far/(this.far+this.near-i*(this.far-this.near))}get perRenderPixelRatio(){return Math.tan(this.fovX/2)/(this.width/2)}get perScreenPixelRatio(){return this.perRenderPixelRatio*this.pixelRatio}get aboveGround(){return this.relativeElevation&&this.relativeElevation>=0}copyFrom(t){const i=t;return _(this._eye,i._eye),_(this._center,i._center),_(this._up,i._up),k(this._viewport,i._viewport),k(this._padding,i._padding),I(this._nearFar,i._nearFar),this._fov=i._fov,this.relativeElevation=t.relativeElevation,this._viewDirty=i._viewDirty,this._viewDirty||(x(this._viewMatrix,i._viewMatrix),_(this._viewRight,i._viewRight),_(this._viewUp,i._viewUp),_(this._viewForward,i._viewForward)),i._projectionDirty?this._projectionDirty=!0:(x(this._projectionMatrix,i._projectionMatrix),this._projectionDirty=!1),this._viewProjectionDirty=!0,this._frustumDirty=i._frustumDirty,this._frustumDirty||(H.copy(i._frustum,this._frustum),this._frustumDirty=!1),i._viewInverseTransposeMatrixDirty?this._viewInverseTransposeMatrixDirty=!0:(x(this._viewInverseTransposeMatrix,i._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),k(this._fullViewport,i._fullViewport),this.pixelRatio=t.pixelRatio,this}copyViewFrom(t){this.eye=t.eye,this.center=t.center,this.up=t.up}clone(){return(new L).copyFrom(this)}equals(t){return p(this._eye,t._eye)&&p(this._center,t._center)&&p(this._up,t._up)&&b(this._viewport,t._viewport)&&b(this._padding,t._padding)&&U(this._nearFar,t._nearFar)&&this._fov===t._fov&&this.pixelRatio===t.pixelRatio&&this.relativeElevation===t.relativeElevation}almostEquals(t){if(this.pixelRatio!==t.pixelRatio||Math.abs(t._fov-this._fov)>=.001)return!1;const i=5e-4;u(B,t._eye,t._center),u(J,this._eye,this._center);const e=v(B,J),r=c(B),s=c(J);return e*e>=(1-1e-10)*r*s&&w(t._eye,this._eye)<Math.max(r,s)*i*i&&A(t._padding,this._padding)<.5&&A(t._viewport,this._viewport)<.5}markViewDirty(){this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0}computeRenderPixelSizeAt(t){return this.computeRenderPixelSizeAtDist(this.viewDirectionDistance(t))}computeRenderPixelSizeAtDist(t){return t*this.perRenderPixelRatio}computeScreenPixelSizeAt(t){return this.computeScreenPixelSizeAtDist(this.viewDirectionDistance(t))}viewDirectionDistance(t){return Math.abs(E(this.viewForward,o(B,t,this._eye)))}computeScreenPixelSizeAtDist(t){return t*this.perScreenPixelRatio}computeDistanceFromRadius(t,i){return t/Math.tan(Math.min(this.fovX,this.fovY)/(2*(i||1)))}getScreenCenter(t=e()){return t[0]=(this.padding[3]+this.width/2)/this.pixelRatio,t[1]=(this.padding[0]+this.height/2)/this.pixelRatio,t}getRenderCenter(t,i=.5,e=.5){return t||(t=r()),t[0]=this.padding[3]+this.width*i,t[1]=this.padding[2]+this.height*e,t.length>2&&(t[2]=.5),t}setGLViewport(t){const i=this.viewport,e=this.padding;t.setViewport(i[0]-e[3],i[1]-e[2],i[2]+e[1]+e[3],i[3]+e[0]+e[2])}applyProjection(t,e,r=!1){t!==q&&_(q,t),q[3]=1,r&&(e[2]=-q[2]),C(q,q,this.projectionMatrix),d(q,q,1/Math.abs(q[3]));const s=this.fullViewport;return e[0]=i(0,s[0]+s[2],.5+.5*q[0]),e[1]=i(0,s[1]+s[3],.5+.5*q[1]),r||(e[2]=.5*(q[2]+1)),e}projectToScreen(t,i){return this.projectToRenderScreen(t,K),this.renderToScreen(K,i)}projectToRenderScreen(t,e){if(q[0]=t[0],q[1]=t[1],q[2]=t[2],q[3]=1,C(q,q,this.viewProjectionMatrix),0===q[3])return null;d(q,q,1/Math.abs(q[3]));const r=this.fullViewport;return\"x\"in e?(e.x=i(0,r[0]+r[2],.5+.5*q[0]),e.y=i(0,r[1]+r[3],.5+.5*q[1])):(e[0]=i(0,r[0]+r[2],.5+.5*q[0]),e[1]=i(0,r[1]+r[3],.5+.5*q[1]),e.length>2&&(e[2]=.5*(q[2]+1))),e}unprojectFromScreen(t,i){return this.unprojectFromRenderScreen(this.screenToRender(t,K),i)}unprojectFromRenderScreen(t,i){if(D(N,this.projectionMatrix,this.viewMatrix),!M(N,N))return null;const e=this.fullViewport;return q[0]=2*(t[0]-e[0])/e[2]-1,q[1]=2*(t[1]-e[1])/e[3]-1,q[2]=2*t[2]-1,q[3]=1,C(q,q,N),0===q[3]?null:(i[0]=q[0]/q[3],i[1]=q[1]/q[3],i[2]=q[2]/q[3],i)}constrainWindowSize(t,i,e,r=1){const s=t*this.pixelRatio,h=i*this.pixelRatio,n=Math.max(s-e*r/2,0),o=Math.max(this.fullHeight-h-e/2,0),a=-Math.min(s-e*r/2,0),_=-Math.min(this.fullHeight-h-e/2,0);return[n,o,e*r-a- -Math.min(this.fullWidth-s-e*r/2,0),e-_- -Math.min(h-e/2,0)]}computeUp(t){1===t?this.computeUpGlobal():this.computeUpLocal()}screenToRender(t,i){const e=t[0]*this.pixelRatio,r=this.fullHeight-t[1]*this.pixelRatio;return i[0]=e,i[1]=r,i}renderToScreen(t,i){const e=t[0]/this.pixelRatio,r=(this.fullHeight-t[1])/this.pixelRatio;return i[0]=e,i[1]=r,i}computeUpGlobal(){o(B,this.center,this.eye);const t=l(this.center);t<1?(y(this.up,0,0,1),this.markViewDirty()):Math.abs(v(B,this.center))>.9999*l(B)*t||(g(this.up,B,this.center),g(this.up,this.up,B),f(this.up,this.up),this.markViewDirty())}computeUpLocal(){m(B,this.eye,this.center),Math.abs(B[2])<=.9999&&(d(B,B,B[2]),y(this.up,-B[0],-B[1],1-B[2]),f(this.up,this.up),this.markViewDirty())}_compareAndSetView(t,i){p(t,i)||(_(i,t),this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0)}_recomputeFrustum(){this._frustumDirty&&(H.fromMatrix(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)}_ensureViewClean(){this._viewDirty&&(P(this._viewMatrix,this._eye,this._center,this._up),y(this._viewForward,-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10]),y(this._viewUp,this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9]),y(this._viewRight,this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8]),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)}}const q=T(),N=F(),B=s(),J=s(),K=r();export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as E}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import I from\"../../../core/Accessor.js\";let S=class extends I{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.SCENEVIEW_LOCKING_LOG=!1,this.HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED=!1,this.HIGHLIGHTS_PROFILE_TO_CONSOLE=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TERRAIN_DEBUG_POPUP=!1,this.TESTS_DISABLE_UPDATE_THRESHOLDS=!1,this.DISABLE_DECONFLICTOR_VISIBILITY_OFFSET=!1,this.DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.ENABLE_PROFILE_DEPTH_RANGE=!1,this.DISABLE_FAST_UPDATES=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1}};E([_()],S.prototype,\"SCENEVIEW_HITTEST_RETURN_INTERSECTOR\",void 0),E([_()],S.prototype,\"SCENEVIEW_LOCKING_LOG\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_PROFILE_TO_CONSOLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_VISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_INVISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_GRID\",void 0),E([_()],S.prototype,\"LABELS_SHOW_BORDER\",void 0),E([_()],S.prototype,\"OVERLAY_DRAW_DEBUG_TEXTURE\",void 0),E([_()],S.prototype,\"OVERLAY_SHOW_CENTER\",void 0),E([_()],S.prototype,\"SHOW_POI\",void 0),E([_()],S.prototype,\"TERRAIN_DEBUG_POPUP\",void 0),E([_()],S.prototype,\"TESTS_DISABLE_UPDATE_THRESHOLDS\",void 0),E([_()],S.prototype,\"DISABLE_DECONFLICTOR_VISIBILITY_OFFSET\",void 0),E([_()],S.prototype,\"DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES\",void 0),E([_()],S.prototype,\"DRAW_MESH_GEOMETRY_NORMALS\",void 0),E([_()],S.prototype,\"FEATURE_TILE_FETCH_SHOW_TILES\",void 0),E([_()],S.prototype,\"FEATURE_TILE_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_SHOW_MODIFICATIONS\",void 0),E([_()],S.prototype,\"ENABLE_PROFILE_DEPTH_RANGE\",void 0),E([_()],S.prototype,\"DISABLE_FAST_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_DISABLE_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL\",void 0),E([_()],S.prototype,\"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES\",void 0),S=E([o(\"esri.views.3d.support.DebugFlags\")],S);const t=new S;export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import\"../../../core/mathUtils.js\";import\"../../../chunks/builtins.js\";import{getGpuMemoryUsage as e}from\"../../webgl/Util.js\";import r from\"../../webgl/FramebufferObject.js\";import\"../../webgl/RenderingContext.js\";class t{constructor(e,t,i,s){this._renderTarget=null,this.id=`${t}_${++i}`,this._renderTarget=new r(e,{colorTarget:0,depthStencilTarget:0},{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9987,hasMipmap:s,maxAnisotropy:8,width:0,height:0})}dispose(){this._renderTarget.dispose(),this._renderTarget=null}getTexture(){return this._renderTarget?this._renderTarget.colorTexture:null}isValid(){return null!==this._renderTarget}resize(e,r){this._renderTarget.resize(e,r)}bind(e){e.bindFramebuffer(this._renderTarget)}generateMipMap(){this._renderTarget.colorTexture.descriptor.hasMipmap&&this._renderTarget.colorTexture.generateMipmap()}disposeRenderTargetMemory(){this._renderTarget&&this._renderTarget.resize(0,0)}getGpuMemoryUsage(){let r=0;return this._renderTarget&&(r+=e(this._renderTarget)),r}}export{t as OverlayRenderTarget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{b as n,f as t}from\"../../../../chunks/vec3f64.js\";class r{constructor(n,t){this.vec3=n,this.id=t}}function s(t,s){return new r(n(t),s)}function c(n,s,c,e){return new r(t(n,s,c),e)}export{r as LocalOrigin,c as fromValues,s as fromVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{OverlayRenderTarget as r}from\"./OverlayRenderTarget.js\";import{fromValues as t}from\"../webgl-engine/lib/localOrigin.js\";class s{constructor(s,a){this.extent=e(),this.resolution=0,this.renderLocalOrigin=t(0,0,0,\"O\"),this.pixelRatio=1,this.renderTargets={color:{fbo:new r(s,\"overlay\",a,!0),valid:!1,lastUsed:1/0},colorWithoutRasterImage:{fbo:new r(s,\"overlayWithoutRasterImage\",a,!0),valid:!1,lastUsed:1/0},highlight:{fbo:new r(s,\"overlayHighlight\",a,!1),valid:!1,lastUsed:1/0},water:{fbo:new r(s,\"overlayWaterMask\",a,!0),valid:!1,lastUsed:1/0},occluded:{fbo:new r(s,\"overlayOccluded\",a,!0),valid:!1,lastUsed:1/0}}}dispose(){this.renderTargets.color.fbo.dispose(),this.renderTargets.colorWithoutRasterImage.fbo.dispose(),this.renderTargets.highlight.fbo.dispose(),this.renderTargets.water.fbo.dispose(),this.renderTargets.occluded.fbo.dispose()}drawRenderTargets(e,r,t){const s=this.renderTargets;s.color.valid=e.drawPass(0,s.color.fbo,r),s.highlight.valid=e.drawPass(5,s.highlight.fbo,r),s.water.valid=e.drawPass(3,s.water.fbo,r),s.occluded.valid=e.drawPass(0,s.occluded.fbo,r,1),s.colorWithoutRasterImage.valid=t&&e.drawPass(0,s.colorWithoutRasterImage.fbo,r,2)}computeRenderTargetValidityBitfield(){const e=this.renderTargets;return+e.color.valid|+e.colorWithoutRasterImage.valid<<1|+e.highlight.valid<<2|+e.water.valid<<3|+e.occluded.valid<<4}validateUsage(e,r){if(e.valid)e.lastUsed=r;else if(r-e.lastUsed>a)e.fbo.disposeRenderTargetMemory(),e.lastUsed=1/0;else if(e.lastUsed<1/0)return!0;return!1}collectUnusedMemory(e){let r=!1;return r=this.validateUsage(this.renderTargets.color,e)||r,r=this.validateUsage(this.renderTargets.colorWithoutRasterImage,e)||r,r=this.validateUsage(this.renderTargets.highlight,e)||r,r=this.validateUsage(this.renderTargets.occluded,e)||r,r=this.validateUsage(this.renderTargets.water,e)||r,r}getGpuMemoryUsage(){return this.renderTargets.color.fbo.getGpuMemoryUsage()+this.renderTargets.colorWithoutRasterImage.fbo.getGpuMemoryUsage()+this.renderTargets.highlight.fbo.getGpuMemoryUsage()+this.renderTargets.water.fbo.getGpuMemoryUsage()+this.renderTargets.occluded.fbo.getGpuMemoryUsage()}}const a=1e3;export{s as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{removeUnordered as s}from\"../../../../../core/arrayUtils.js\";class r{constructor(){this._uniforms={proj:[],shadowMapDistance:[],viewportPixelSz:[],lightingMainDirection:[]}}dispose(){this._uniforms=null}getPrograms(s){return this._uniforms[s]||[]}subscribeProgram(s){for(const r in this._uniforms)s.hasUniform(r)&&this._uniforms[r].push(s)}unsubscribeProgram(r){for(const i in this._uniforms)s(this._uniforms[i],r)}}export{r as CommonUniformStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../core/maybe.js\";import{all as t}from\"../../../../../core/promiseUtils.js\";class r{constructor(e){this.technique=e,this.refCount=0,this.refZeroFrame=0}}class s{constructor(e){this._context=e,this._perConstructorInstances=new Map,this._frameCounter=0,this._keepAliveFrameCount=1200}get viewingMode(){return this._context.viewingMode}get constructionContext(){return this._context}dispose(){this._perConstructorInstances.forEach((e=>e.forEach((e=>e.technique.dispose())))),this._perConstructorInstances.clear()}acquire(e,t){const s=t.key;let o=this._perConstructorInstances.get(e);o||(o=new Map,this._perConstructorInstances.set(e,o));let n=o.get(s);return void 0===n&&(n=new r(new e(this._context,t)),o.set(s,n)),++n.refCount,n.technique}acquireAndReleaseExisting(t,r,s){return e(s)?this.acquire(t,r):r.key===s.key&&s instanceof t?s:(this.release(s),this.acquire(t,r))}release(e){const t=this._perConstructorInstances.get(e.constructor).get(e.key);t.refCount-=1,0===t.refCount&&(t.refZeroFrame=this._frameCounter)}frameUpdate(){this._frameCounter++,this._perConstructorInstances.forEach(((e,t)=>{e.forEach(((t,r)=>{0===t.refCount&&t.refZeroFrame+this._keepAliveFrameCount<this._frameCounter&&(t.technique.dispose(),e.delete(r))})),0===e.size&&this._perConstructorInstances.delete(t)}))}getProgramsUsingUniform(e){return this._context.commonUniformStore.getPrograms(e)}async hotReload(){const e=new Array;this._perConstructorInstances.forEach(((t,r)=>{e.push((async(e,t)=>{const r=t.shader;r&&(await r.reload(),e.forEach((e=>{e.technique.reload(this._context)})))})(t,r))})),await t(e)}}export{s as ShaderTechniqueRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=[{output:0,name:\"color\"},{output:1,name:\"depth\"},{output:2,name:\"normal\"},{output:3,name:\"depthShadowMap\"},{output:4,name:\"highlight\"},{output:5,name:\"draped\"},{output:6,name:\"occlusion\"},{output:7,name:\"alpha\"}];function u(u,o){return u+\"_\"+t.find((t=>t.output===o)).name}export{t as ShaderOutputTypes,u as getShaderOutputID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/Logger.js\";import{assert as i}from\"./Util.js\";import{getShaderOutputID as r,ShaderOutputTypes as a}from\"../core/shaderLibrary/ShaderOutputOptions.js\";const s=t.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRep\");class o{constructor(e){this.refCnt=0,this.glMaterial=e}incRefCnt(){++this.refCnt}decRefCnt(){--this.refCnt,i(this.refCnt>=0)}getRefCnt(){return this.refCnt}getGLMaterial(){return this.glMaterial}}export default class{constructor(e,t,i){this._textureRep=e,this._techniqueRep=t,this.onMaterialChanged=i,this._id2glMaterialRef=new Map}dispose(){this._textureRep.dispose()}acquire(e,t){this.ownMaterial(e);const i=r(e.id,t);let a=this._id2glMaterialRef.get(i);if(null==a){const r=e.getGLMaterial({material:e,techniqueRep:this._techniqueRep,textureRep:this._textureRep,output:t});return a=new o(r),a.incRefCnt(),this._id2glMaterialRef.set(i,a),r}return a.incRefCnt(),a.getGLMaterial()}release(e,t){const i=r(e.id,t),a=this._id2glMaterialRef.get(i);if(a.decRefCnt(),0===a.getRefCnt()){const e=a.getGLMaterial();e&&e.dispose(),this._id2glMaterialRef.delete(i)}}materialChanged(e){for(const t of a)if(5!==t.output&&6!==t.output){const i=this._id2glMaterialRef.get(r(e.id,t.output));if(i&&i.getGLMaterial()){const e=i.getGLMaterial();e.updateParameters&&e.updateParameters()}}this.onMaterialChanged&&this.onMaterialChanged(e)}ownMaterial(t){e(t.materialRepository)&&t.materialRepository!==this&&s.error(\"Material is already owned by a different material repository\"),t.materialRepository=this}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import i from\"../../../../geometry/SpatialReference.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{f as o}from\"../../../../chunks/vec3.js\";import{projectBuffer as s}from\"../../../../geometry/projection.js\";import{I as e}from\"../../../../chunks/mat4f64.js\";import{VertexAttrConstants as n}from\"./Util.js\";import{GeometryData as a}from\"./GeometryData.js\";import c from\"./Object3D.js\";import h from\"./Geometry.js\";import{fromValues as m}from\"./localOrigin.js\";import d from\"./Layer.js\";import{RibbonLineMaterial as O}from\"../materials/RibbonLineMaterial.js\";let _=0;class l{constructor(){this.ROOT_ORIGIN_ID=\"rg_root_\"+_++,this._origins=new Map,this._gridSize=42e5}getOrigin(i){const r=this._origins.get(this.ROOT_ORIGIN_ID);if(null==r){if(t(l.testOrigin)){const t=l.testOrigin;return this._origins.set(this.ROOT_ORIGIN_ID,m(t[0],t[1],t[2],this.ROOT_ORIGIN_ID)),this.getOrigin(i)}const r=m(i[0]+Math.random()-.5,i[1]+Math.random()-.5,i[2]+Math.random()-.5,this.ROOT_ORIGIN_ID);return this._origins.set(this.ROOT_ORIGIN_ID,r),r}o(g,i,r.vec3),g[0]=Math.abs(g[0]),g[1]=Math.abs(g[1]),g[2]=Math.abs(g[2]);const s=this._gridSize;if(g[0]<s&&g[1]<s&&g[2]<s)return r;const e=Math.round(i[0]/s),n=Math.round(i[1]/s),a=Math.round(i[2]/s),c=`rg_${e}/${n}/${a}`;let h=this._origins.get(c);return h||(h=m(e*s,n*s,a*s,c),this._origins.set(c,h)),h}_drawOriginBox(t){const r=window.view,o=r._stage;if(null==this._object){this._material=new O({width:2,color:[0,1,0,1]},\"GridLocalOriginMaterial\"),o.add(3,this._material);const t=new d(\"GridLocalOrigin\",{isPickable:!1});o.add(0,t),this._object=new c({idHint:\"GridLocalOrigin\",castShadow:!1}),o.add(1,this._object),t.addObject(this._object),o.addToViewContent([t.id])}const m=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],_=m.length,l=new Float32Array(3*_),g=new Uint32Array(2*(_-1)),f=.5*this._gridSize;for(let i=0;i<_;i++)l[3*i+0]=t[0]+(1&m[i]?f:-f),l[3*i+1]=t[1]+(2&m[i]?f:-f),l[3*i+2]=t[2]+(4&m[i]?f:-f),i>0&&(g[2*i+0]=i-1,g[2*i+1]=i);s(l,i.WebMercator,0,l,r.spatialReference,0,_);const I={};I[n.POSITION]={size:3,data:l};const j={};j[n.POSITION]=g;const p=new a(I,j,\"line\"),u=new h(p,\"GridLocalOriginBox\");o.add(2,u),this._object.addGeometry(u,this._material,e),console.log(this._origins.size,t)}}const g=r();!function(t){t.testOrigin=null}(l||(l={}));var f=l;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport s from\"./Camera.js\";const e=13;export default class{constructor(t,i,h,r,a,l){this.camera=null,this.lastFrameCamera=new s,this.pass=0,this.slot=0,this.highlightDepthTexture=null,this.renderOccludedMask=e,this.hasOccludees=!1,this.rctx=t,this.offscreenRenderingHelper=i,this.scenelightingData=h,this.shadowMap=r,this.ssaoHelper=a,this.sliceHelper=l}resetRenderOccludedMask(){this.renderOccludedMask=e}get isHighlightPass(){return 5===this.pass}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getFirstObjectValue as t}from\"./Util.js\";function e(t){const e=new Map;let n=null,r=null;const d=t=>{if(t===n)return r;let o=e.get(t);return o||(o={toAdd:[],numToAdd:-1,toRemove:[],numToRemove:-1,toUpdate:[],numToUpdate:-1},e.set(t,o)),n=t,r=o,o};for(let e=0;e<t.numToAdd;e++){const n=t.toAdd[e];if(o(n)){d(n.material).toAdd.push(n)}}for(let e=0;e<t.numToRemove;e++){const n=t.toRemove[e];if(o(n)){d(n.material).toRemove.push(n)}}for(let e=0;e<t.numToUpdate;e++){const n=t.toUpdate[e];if(o(n.renderGeometry)){d(n.renderGeometry.material).toUpdate.push(n)}}return e}function o(e){return o=e.data,t(o.indices).length>=1;var o}export{e as splitRenderGeometryChangeSetByMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as r}from\"../../../../core/mathUtils.js\";class t{constructor(t){null==t?t=16:t<65536&&(t=r(t)),this._array=new Float32Array(t),this._size=0}resize(r,t){if(this._size=r,this._size>this._array.length){let r=this._array.length||1;for(;r<this._size;)r*=2;const s=new Float32Array(r);return t&&s.set(this._array),this._array=s,!0}const s=2*this._size;if(s<=this._array.length){let r=this._array.length;for(;r>=s;)r=Math.floor(r/2);const a=new Float32Array(r);return t&&a.set(this._array.subarray(0,r)),this._array=a,!0}return!1}append(r){const t=this._size;this.resize(this._size+r.length,!0),this._array.set(r,t)}erase(r,t){for(let s=r;s<t;++s)this._array[s]=0}get array(){return this._array}get size(){return this._size}}export{t as ResizableFloat32Array};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as i,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,defaultDepthWriteParams as p,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";import{View as h}from\"../core/shaderLibrary/util/View.glsl.js\";import{DefaultTextureUnits as c}from\"../lib/DefaultTextureUnits.js\";import{Slice as d}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as l}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{blendingDefault as g,OITBlending as m,OITDepthTest as f,OITDepthWrite as b,getOITPolygonOffset as y}from\"../lib/OrderIndependentTransparency.js\";import{ReadShadowMap as w}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ScreenSpaceReflections as S}from\"../core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js\";import{WaterDistortion as T}from\"../core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{W as x}from\"../../../../chunks/WaterSurface.glsl.js\";class j extends r{constructor(t,e){super(t,e),this.waterTextureRepository=t.waterTextureRepository}initializeProgram(t){const e=j.shader.get(),r=this.configuration,i=e.build({OITEnabled:0===r.transparencyPassType,output:r.output,viewingMode:t.viewingMode,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,receiveShadows:r.receiveShadows,pbrMode:3,useCustomDTRExponentForWater:!0,ssrEnabled:r.useSSR,highStepCount:!0});return new a(t.rctx,i.generateSource(\"vertex\"),i.generateSource(\"fragment\"),s)}ensureResource(t){return this.waterTextureRepository.ready||this.waterTextureRepository.updating||this.waterTextureRepository.loadTextures(t),this.waterTextureRepository.ready?2:1}bindPass(t,e,r){h.bindProjectionMatrix(this.program,r.camera.projectionMatrix),0===this.configuration.output&&(r.lighting.setUniforms(this.program,!1),S.bindUniforms(this.program,t,r)),0!==this.configuration.output&&2!==this.configuration.output||(T.bindUniforms(this.program,e),this.waterTextureRepository.bindRepo(t)),this.program.setUniform4fv(\"waterColor\",e.color),4===this.configuration.output&&l.bindOutputHighlight(t,this.program,r)}bindDraw(t){h.bindView(this.program,t),0!==this.configuration.output&&7!==this.configuration.output||h.bindCamPosition(this.program,t.origin,t.camera.viewInverseTransposeMatrix),0===this.configuration.output&&w.bindUniforms(this.program,t,c.SHADOW_MAP),0!==this.configuration.output&&7!==this.configuration.output&&4!==this.configuration.output||d.bindUniformsWithOrigin(this.program,this.configuration,t)}setPipelineState(t){const e=this.configuration,r=3===t,i=2===t;return n({blending:2!==e.output&&4!==e.output&&e.transparent?r?g:m(t):null,depthTest:{func:f(t)},depthWrite:r?e.writeDepth&&p:b(t),colorWrite:u,polygonOffset:r||i?null:y(e.enableOffset)})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}j.shader=new e(x,(()=>import(\"../shaders/WaterSurface.glsl.js\")));class v extends i{constructor(){super(...arguments),this.output=0,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.useSSR=!1,this.isDraped=!1,this.transparencyPassType=3}}t([o({count:8})],v.prototype,\"output\",void 0),t([o()],v.prototype,\"receiveShadows\",void 0),t([o()],v.prototype,\"slicePlaneEnabled\",void 0),t([o()],v.prototype,\"transparent\",void 0),t([o()],v.prototype,\"enableOffset\",void 0),t([o()],v.prototype,\"writeDepth\",void 0),t([o()],v.prototype,\"useSSR\",void 0),t([o()],v.prototype,\"isDraped\",void 0),t([o({count:4})],v.prototype,\"transparencyPassType\",void 0);export{j as WaterTechnique,v as WaterTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../lib/GLMaterial.js\";import{WaterTechnique as e}from\"./WaterTechnique.js\";class a extends t{constructor(t){super(t),this.updateParameters()}updateParameters(t){this.technique=this.techniqueRep.acquireAndReleaseExisting(e,this.material.getTechniqueConfig(this.output,t),this.technique)}beginSlot(t){if(2===this.output)return 22===t;if(5===this.output)return null==t;if(4===this.output)return 3===t;let e=3;return this.material.params.transparent&&(e=this.material.params.writeDepth?5:8),t===e}setElapsedTimeUniform(t){const e=.001*this.material.animation.time;t.setUniform1f(\"timeElapsed\",e*this.material.params.animationSpeed)}_updateShadowState(t){t.shadowMappingEnabled!==this.material.params.receiveShadows&&this.material.setParameterValues({receiveShadows:t.shadowMappingEnabled})}_updateSSRState(t){t.ssrEnabled!==this.material.params.ssrEnabled&&this.material.setParameterValues({ssrEnabled:t.ssrEnabled})}ensureResources(t){return this.technique.ensureResource(t)}ensureParameters(t){0===this.output&&(this._updateShadowState(t),this._updateSSRState(t)),this.updateParameters(t)}bind(t,e){t.bindProgram(this.technique.program),this.technique.bindPass(t,this.material.params,e),2!==this.output&&0!==this.output||this.setElapsedTimeUniform(this.technique.program)}}export{a as WaterGLMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{a as t,b as o}from\"../../../../../chunks/mat4.js\";import{b as r}from\"../../../../../chunks/mat4f64.js\";class s{constructor(s,i,n,m,f,a){this.from=s,this.to=i,this.isVisible=n,this.hasHighlights=m,this.hasOccludees=f,this.transformation=a,null!=a&&(this.transformationNormal=r(a),t(this.transformationNormal,this.transformationNormal),o(this.transformationNormal,this.transformationNormal))}}function i(t){return t.sort(((t,o)=>t.from===o.from?t.to>o.to?1:t.to<o.to?-1:0:t.from>o.from?1:t.from<o.from?-1:0))}function n(t,o){const r=t=>({first:t.from,count:t.to-t.from});if(0===t.length)return void t.push(r(o));const s=t[t.length-1];if(n=o,(i=s).first+i.count>=n.from){const t=o.from-s.first+o.to-o.from;s.count=t}else t.push(r(o));var i,n}export{s as Instance,n as addOrMerge,i as sortInstancesAccordingToRange};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{once as t}from\"../../../../core/accessorSupport/utils.js\";import s from\"../../../../core/PerformanceSampler.js\";import{startMeasurement as r}from\"../../../webgl/Measurement.js\";const i=[\"prepare\",\"shadowmap\",\"lineardepth\",\"normals\",\"ssao\",\"opaque\",\"opaque edges\",\"transparent\",\"transparent edges\",\"hudvisibility\",\"transparent terrain\",\"atmosphere\",\"laserline\",\"occluded\",\"antialiasing\",\"highlights\",\"hudOccluded\",\"hudNotoccluded\"];class a{constructor(){this.triangles=0,this.drawCalls=0}reset(){this.triangles=0,this.drawCalls=0}}function o(t,s,r){e(r)&&(r.drawCalls+=t,r.triangles+=s)}class n extends s{constructor(){super(\"total\"),this.total=0,this.frameCount=0}}class l{constructor(){this._startTime=0,this._lastSample=0,this._enableGPUTimer=0,this.totalTime=new n,this.gpuTime=new s(\"gpu\",9),this.renderPassTimings=i.map((e=>new s(e))),this.stats=new a}enableGPUTimer(){return++this._enableGPUTimer,{remove:t((()=>--this._enableGPUTimer))}}prerender(e){this._startTime=this._lastSample=performance.now(),this._enableGPUTimer&&(this._gpuTimer=r(e))}advance(e){const t=performance.now();this.renderPassTimings[e].record(t-this._lastSample),this._lastSample=t}postrender(){e(this._gpuTimer)&&(this._gpuTimer.stop((t=>e(t)&&this.gpuTime.record(t)),16),this._gpuTimer=null);const t=performance.now()-this._startTime;this.totalTime.record(t),this.totalTime.total+=t,this.totalTime.frameCount++}}export{a as RenderStats,n as RenderTime,l as RendererPerformanceInfo,o as addToRenderStats,i as performanceStatsCategories};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../../core/maybe.js\";import{m as s,a,b as i}from\"../../../../../chunks/mat4.js\";import{someMap as r}from\"../../../../../core/MapUtils.js\";import{a as n}from\"../../../../../chunks/mat4f64.js\";import{glLayout as o}from\"../../../support/buffer/glUtil.js\";import{assert as l,setMatrixTranslation3 as d}from\"../../lib/Util.js\";import h from\"../../../../webgl/BufferObject.js\";import{getStride as m}from\"../../../../webgl/Util.js\";import u from\"../../../../webgl/VertexArrayObject.js\";import{acquireMaterials as c,releaseMaterials as f,calculateTransformRelToOrigin as g}from\"./utils.js\";import{ResizableFloat32Array as p}from\"../../lib/ResizableFloat32Array.js\";import{WaterGLMaterial as b}from\"../WaterGLMaterial.js\";import{Instance as y,sortInstancesAccordingToRange as C,addOrMerge as _}from\"./Instance.js\";import{addToRenderStats as w}from\"../../statistics/RendererPerformanceInfo.js\";const v={begin:0,end:0},O=n(),H=n(),B=n();export default class{constructor(e,t,s){this.type=\"MergedRenderer\",this._dataByOrigin=new Map,this._hasHighlights=!1,this._hasOccludees=!1,this._rctx=e,this._material=s,this._materialRep=t,this._glMaterials=c(this._material,this._materialRep),this._bufferWriter=s.createBufferWriter()}dispose(){f(this._material,this._materialRep),this._dataByOrigin&&(this._dataByOrigin.forEach((e=>{e.vao.dispose(!0),e.vao=null})),this._dataByOrigin.clear(),this._dataByOrigin=null),this._glMaterials&&(this._glMaterials.forEach((e=>{e&&e.dispose()})),this._glMaterials.clear(),this._glMaterials=null)}get isEmpty(){return 0===this._dataByOrigin.size}get hasHighlights(){return this._hasHighlights}get hasOccludees(){return this._hasOccludees}get hasWater(){return!this.isEmpty&&r(this._glMaterials,(e=>e instanceof b))}get rendersOccluded(){return!this.isEmpty&&1!==this._material.renderOccluded}modify(e){this.updateGeometries(e.toUpdate),this.addAndRemoveGeometries(e.toAdd,e.toRemove),this.updateRenderCommands()}addAndRemoveGeometries(e,t){const s=this._bufferWriter,a=s.vertexBufferLayout,i=a.stride/4,r=this._dataByOrigin,n=function(e,t,s,a){const i=new Map,r=t.vertexBufferLayout.stride/4,n=(s,a)=>{const n=s.origin,o=e.get(n.id);let l=i.get(n.id);null==l&&(l={optimalCount:null==o?0:o.optimalCount,sparseCount:null==o?0:o.buffer.size,toAdd:[],toRemove:[],origin:n.vec3},i.set(n.id,l));const d=t.elementCount(s.data)*r;a?(l.optimalCount+=d,l.sparseCount+=d,l.toAdd.push(s)):(l.optimalCount-=d,l.toRemove.push(s))};for(const e of s)n(e,!0);for(const e of a)n(e,!1);return i}(r,s,e,t);n.forEach(((e,t)=>{n.delete(t);const s=e.optimalCount,o=e.sparseCount;let h=r.get(t);if(null==h)l(s>0),h=this.createData(a,s,e.origin),r.set(t,h);else if(0===s)return h.vao.dispose(!0),h.vao=null,void r.delete(t);const m=s<e.sparseCount/2,u=m?s:o,c=v,f=h.buffer.size,g=h.buffer.array,p=h.buffer.resize(u,!1);m||p?this.removeAndRebuild(h,e.toRemove,i,g,c):e.toRemove.length>0?(this.removeByErasing(h,e.toRemove,i,c),e.toAdd.length>0&&(c.end=f)):(c.begin=f,c.end=f);const b=O;d(b,-e.origin[0],-e.origin[1],-e.origin[2]),this.append(h,e.toAdd,i,b,c);const y=h.vao.vertexBuffers.geometry;if(y.byteSize!==h.buffer.array.buffer.byteLength)y.setData(h.buffer.array);else{const{begin:e,end:t}=c;if(e<t){const s=h.buffer.array,a=4,i=e*a,r=t*a;y.setSubData(s,i,i,r)}}h.drawCommandsDirty=!0}))}updateGeometries(e){const t=this._bufferWriter,s=t.vertexBufferLayout.stride/4;for(const a of e){const e=a.updateType,i=a.renderGeometry,r=this._dataByOrigin.get(i.origin.id),n=r&&r.instances.get(i.uniqueName);if(!n)return;if(1&e&&(n.isVisible=i.instanceParameters.visible),9&e){const e=i.instanceParameters.visible;n.hasHighlights=!!i.instanceParameters.highlights&&e}if(16&e&&(n.hasOccludees=!!i.instanceParameters.occludees),6&e){const e=r.buffer.array,a=r.vao;g(i,H,B),t.write({transformation:H,invTranspTransformation:B},i.data,t.vertexBufferLayout.createView(e.buffer),n.from),l(n.from+t.elementCount(i.data)===n.to,\"material VBO layout has changed\"),a.vertexBuffers.geometry.setSubData(e,n.from*s*4,n.from*s*4,n.to*s*4)}r.drawCommandsDirty=!0}}updateRenderCommands(){this._hasHighlights=!1,this._hasOccludees=!1,this._dataByOrigin.forEach((e=>{e.hasHiddenInstances=!1,e.hasHighlights=!1,e.hasOccludees=!1,r(e.instances,(t=>(t.isVisible?(t.hasHighlights&&(this._hasHighlights=!0,e.hasHighlights=!0),t.hasOccludees&&(this._hasOccludees=!0,e.hasOccludees=!0)):e.hasHiddenInstances=!0,e.hasHiddenInstances&&e.hasHighlights&&e.hasOccludees)))}));this._dataByOrigin.forEach((e=>{e.drawCommandsDirty&&((e=>{if(e.drawCommandsDefault=null,e.drawCommandsHighlight=null,e.drawCommandsOccludees=null,e.stats={default:0,highlight:0,occludees:0},0===e.instances.size)return;if(!(e.hasOccludees||e.hasHighlights||e.hasHiddenInstances)){const t=4*e.buffer.size/m(e.vao.layout.geometry);return e.drawCommandsDefault=[{first:0,count:t}],void(e.stats={default:t,highlight:0,occludees:0})}const t=C([...e.instances.values()]);e.drawCommandsDefault=[],e.drawCommandsHighlight=[],e.drawCommandsOccludees=[];for(const s of t)s.isVisible&&(s.hasOccludees?_(e.drawCommandsOccludees,s):_(e.drawCommandsDefault,s),s.hasHighlights&&_(e.drawCommandsHighlight,s));const s=e=>{let t=0;for(const s of e)t+=s.count;return t/3};e.stats={default:s(e.drawCommandsDefault),highlight:s(e.drawCommandsHighlight),occludees:s(e.drawCommandsOccludees)}})(e),e.drawCommandsDirty=!1)}))}updateLogic(e){return this._material.update(e)}render(s,a,i,r){const n=this._rctx,o=this._glMaterials.get(a.pass),l=5===a.pass;let d=s;if(3===a.pass&&null===d&&(d=22),!o||2!==o.ensureResources(n)||null!=d&&!o.beginSlot(d)||l&&!this._hasHighlights)return!1;o.ensureParameters(i);const h=o.getTechnique(),m=o.getPipelineState(d,!1);n.setPipelineState(m),o.bind(n,i);let u=!1;return this._dataByOrigin.forEach((s=>{if(e(s.drawCommandsDefault)&&e(s.drawCommandsHighlight)&&e(s.drawCommandsOccludees))return;if(l&&!s.hasHighlights)return;i.origin=s.origin,h.bindDraw(i),h.ensureAttributeLocations(s.vao),n.bindVAO(s.vao);const a=h.primitiveType;let c=l?s.drawCommandsHighlight:s.drawCommandsDefault;const f=l?s.stats.highlight:s.stats.default;if(t(c)&&(this.renderCommands(n,a,c),w(c.length,f,r),u=!0),!l&&(c=s.drawCommandsOccludees,t(c))){const e=o.getPipelineState(d,!0);n.setPipelineState(e),this.renderCommands(n,a,c),n.setPipelineState(m),w(c.length,s.stats.occludees,r),u=!0}})),u}renderCommands(e,t,s){for(let a=0;a<s.length;a++)e.drawArrays(t,s[a].first,s[a].count)}createData(e,t,s){return{instances:new Map,vao:new u(this._rctx,this._material.vertexAttributeLocations,{geometry:o(e)},{geometry:h.createVertex(this._rctx,35044)}),buffer:new p(t),optimalCount:0,origin:s,hasHiddenInstances:!1,hasHighlights:!1,hasOccludees:!1,drawCommandsDirty:!1,drawCommandsDefault:null,drawCommandsOccludees:null,drawCommandsHighlight:null,stats:{default:0,highlight:0,occludees:0}}}removeAndRebuild(e,t,s,a,i){for(const a of t){const t=a.uniqueName,i=e.instances.get(t);e.optimalCount-=(i.to-i.from)*s,e.instances.delete(t)}let r=0;const n=e.buffer.array;i.begin=0,i.end=0;let o=-1,l=-1,d=0;e.instances.forEach((e=>{const t=e.from*s,i=e.to*s,h=i-t;o!==l&&l!==t?(n.set(a.subarray(o,l),d),d+=l-o,o=t):-1===o&&(o=t),l=i,e.from=r/s,r+=h,e.to=r/s})),o!==l&&n.set(a.subarray(o,l),d),i.end=r}removeByErasing(e,t,s,a){a.begin=1/0,a.end=-1/0;let i=-1,r=-1;for(const n of t){const t=n.uniqueName,o=e.instances.get(t),l=o.from*s,d=o.to*s;i!==r&&r!==l?(e.buffer.erase(i,r),i=l):-1===i&&(i=l),r=d,e.instances.delete(t),e.optimalCount-=d-l,l<a.begin&&(a.begin=l),d>a.end&&(a.end=d)}i!==r&&e.buffer.erase(i,r)}append(e,r,n,o,d){const h=this._bufferWriter;for(const m of r){const r=t(m.transformation)?s(H,o,m.transformation):o;a(B,r),i(B,B);const u=d.end;h.write({transformation:r,invTranspTransformation:B},m.data,h.vertexBufferLayout.createView(e.buffer.array.buffer),d.end/n);const c=h.elementCount(m.data)*n,f=u+c;l(null==e.instances.get(m.uniqueName));const g=m.instanceParameters.visible,p=!!m.instanceParameters.highlights&&g,b=!!m.instanceParameters.occludees,C=new y(u/n,f/n,g,p,b);e.instances.set(m.uniqueName,C),e.optimalCount+=c,d.end+=c}}get test(){return{material:this._material,glMaterials:this._glMaterials}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{applySome as t}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/PooledArray.js\";import a from\"../../../../core/Accessor.js\";import{someMap as d}from\"../../../../core/MapUtils.js\";import{materialPredicate as o}from\"./Material.js\";import{splitRenderGeometryChangeSetByMaterial as n}from\"./rendererUtils.js\";import h from\"../materials/renderers/MergedRenderer.js\";class l{}let p=class extends a{constructor(){super(...arguments),this._pendingAddsRemoves=new Map,this._adds=new i,this._removes=new i,this._updates=new i({allocator:e=>e||new l,deallocator:e=>(e.renderGeometry=null,e)}),this._materialRenderers=new Map,this._sortedMaterialRenderers=new i,this._hasHighlights=!1,this._hasWater=!1}dispose(){this._adds.prune(),this._removes.prune(),this._updates.prune(),this._materialRenderers&&(this._materialRenderers.forEach((e=>e.dispose())),this._materialRenderers.clear(),this._sortedMaterialRenderers.clear())}get updating(){return this._pendingAddsRemoves.size>0||this._updates.length>0}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return d(this._materialRenderers,(e=>e.rendersOccluded))}stopAnimationsAtTime(e){this._sortedMaterialRenderers.forAll((r=>t(r.material.animation,(t=>t.stopAtTime(e)))))}get isEmpty(){return!this.updating&&0===this._materialRenderers.size}commitChanges(){let e=!1;if(!this.updating)return!1;this.updateAddsRemoves();const t={numToAdd:this._adds.length,toAdd:this._adds.data,numToRemove:this._removes.length,toRemove:this._removes.data,numToUpdate:this._updates.length,toUpdate:this._updates.data},r=n(t);let s=!1,i=!1;return r.forEach(((t,r)=>{let a=this._materialRenderers.get(r);if(!a&&t.toAdd.length>0&&(a=new h(this.rctx,this.materialRepository,r),this._materialRenderers.set(r,a),e=!0,s=!0,i=!0),!a)return;const d=s||a.hasHighlights,o=i||a.hasWater;a.modify(t),s=s||d!==a.hasHighlights,i=i||o!==a.hasWater,a.isEmpty&&(this._materialRenderers.delete(r),a.dispose(),e=!0)})),this._adds.clear(),this._removes.clear(),this._updates.clear(),this._pendingAddsRemoves.clear(),e&&this.updateSortedMaterialRenderers(),s&&(this._hasHighlights=d(this._materialRenderers,(e=>e.hasHighlights))),i&&(this._hasWater=d(this._materialRenderers,(e=>e.hasWater))),this.notifyChange(\"updating\"),!0}add(e){if(0===e.length)return;const t=0===this._pendingAddsRemoves.size;for(const t of e)this._pendingAddsRemoves.set(t,0);t&&this.notifyChange(\"updating\")}remove(e){const t=0===this._pendingAddsRemoves.size;for(const t of e){const e=this._pendingAddsRemoves.get(t);0===e?this._pendingAddsRemoves.set(t,2):2!==e&&this._pendingAddsRemoves.set(t,1)}t&&this._pendingAddsRemoves.size>0&&this.notifyChange(\"updating\")}modify(e,t){const r=0===this._updates.length;for(const r of e){const e=this._updates.pushNew();e.renderGeometry=r,e.updateType=t}r&&this._updates.length>0&&this.notifyChange(\"updating\")}updateLogic(e){let t=!1;return this._sortedMaterialRenderers.forAll((({materialRenderer:r})=>{r.updateLogic&&r.updateLogic(e)&&(t=!0)})),t}draw(e,t){for(let r=0;r<this._sortedMaterialRenderers.length;r++){const s=this._sortedMaterialRenderers.data[r];o(s.material,e)&&s.materialRenderer.render(null,e,t,null)}}updateSortedMaterialRenderers(){this._sortedMaterialRenderers.clear();let e=0;this._materialRenderers.forEach(((t,r)=>{r.insertOrder=e++,this._sortedMaterialRenderers.push({material:r,materialRenderer:t})})),this._sortedMaterialRenderers.sort(((e,t)=>{const r=t.material.renderPriority-e.material.renderPriority;return 0!==r?r:e.material.insertOrder-t.material.insertOrder}))}updateAddsRemoves(){this._adds.clear(),this._removes.clear(),this._pendingAddsRemoves.forEach(((e,t)=>{switch(e){case 0:this._adds.push(t);break;case 1:this._removes.push(t)}}));let e=0;for(;e<this._updates.length;){const t=this._updates.data[e].renderGeometry;this._pendingAddsRemoves.has(t)?this._updates.removeUnorderedIndex(e):e++}}get test(){return{sortedMaterialRenderers:this._sortedMaterialRenderers}}};e([r()],p.prototype,\"rctx\",void 0),e([r()],p.prototype,\"materialRepository\",void 0),e([r()],p.prototype,\"updating\",null),p=e([s(\"esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer\")],p);export{p as SortedRenderGeometryRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"./DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,separateBlendingParams as l,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";import{T as c}from\"../../../../chunks/TextureOnly.glsl.js\";class u extends t{initializeProgram(e){const r=u.shader.get().build();return new a(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),s)}initializePipeline(){return this.configuration.hasAlpha?n({blending:l(770,1,771,771),colorWrite:h}):n({colorWrite:h})}}u.shader=new r(c,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\")));class m extends o{constructor(){super(...arguments),this.hasAlpha=!1}}e([i()],m.prototype,\"hasAlpha\",void 0);export{u as TextureTechnique,m as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,n){let e=0;for(let l=0;l<t.length;l++)e+=t[l]*n[l];return e}function n(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n[l];return e}function e(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n;return e}function l(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]+n[l];return e}export{l as add,t as dotProduct,n as elementwiseProduct,e as scalarProduct};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clamp as n}from\"../../../../core/mathUtils.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{p as i,s,g as o}from\"../../../../chunks/vec3.js\";import{MainLight as r,FillLight as e,AmbientLight as c,SphericalHarmonicsLight as a}from\"./Lightsources.js\";import{elementwiseProduct as h,scalarProduct as f,add as m}from\"../lib/LongVectorMath.js\";function u(n){return(n+1)*(n+1)}function l(n){return 2*n+1}function g(t){return n(Math.floor(Math.sqrt(t)-1),0,2)}function p(n,t,i){const s=n[0],o=n[1],r=n[2],e=i||[];return e.length=u(t),t>=0&&(e[0]=.28209479177),t>=1&&(e[1]=.4886025119*s,e[2]=.4886025119*r,e[3]=.4886025119*o),t>=2&&(e[4]=1.09254843059*s*o,e[5]=1.09254843059*o*r,e[6]=.31539156525*(3*r*r-1),e[7]=1.09254843059*s*r,e[8]=.54627421529*(s*s-o*o)),e}function y(n,t){const i=u(n),s=t||{r:[],g:[],b:[]};s.r.length=s.g.length=s.b.length=i;for(let n=0;n<i;n++)s.r[n]=s.g[n]=s.b[n]=0;return s}function b(n,t){const s=g(t.r.length);for(const o of n)i(v,o.direction),p(v,s,P),h(P,w),f(P,o.intensity[0],k),m(t.r,k),f(P,o.intensity[1],k),m(t.g,k),f(P,o.intensity[2],k),m(t.b,k);return t}function H(n,t){p(v,0,P);for(const i of n)t.r[0]+=P[0]*w[0]*i.intensity[0]*4*Math.PI,t.g[0]+=P[0]*w[0]*i.intensity[1]*4*Math.PI,t.b[0]+=P[0]*w[0]*i.intensity[2]*4*Math.PI;return t}function M(n,t,i){y(t,i.sphericalHarmonics.sh),s(i.main.intensity,0,0,0);let h=!1;const f=d,u=j,l=I;f.length=0,u.length=0,l.length=0;for(const t of n)t instanceof r&&!h?(o(i.main.direction,t.direction),i.main.intensity[0]=t.intensity[0],i.main.intensity[1]=t.intensity[1],i.main.intensity[2]=t.intensity[2],i.main.castShadows=t.castShadows,h=!0):t instanceof r||t instanceof e?f.push(t):t instanceof c?u.push(t):t instanceof a&&l.push(t);b(f,i.sphericalHarmonics.sh),H(u,i.sphericalHarmonics.sh);for(const n of l)m(i.sphericalHarmonics.sh.r,n.sh.r),m(i.sphericalHarmonics.sh.g,n.sh.g),m(i.sphericalHarmonics.sh.b,n.sh.b)}const d=[],j=[],I=[],P=[0],k=[0],v=t(),w=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,p as computeCoefficients,y as initSHCoefficients,u as numberOfCoefficients,l as numberOfCoefficientsInBand,g as orderFromNumberOfCoefficients,H as projectAmbientLights,b as projectFillLights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as i,f as t}from\"../../../../chunks/vec3f64.js\";import{p as n,g as r,a as s,b as o}from\"../../../../chunks/vec3.js\";import{combineLights as e}from\"./SphericalHarmonics.js\";const h=i();class g{constructor(){this._renderLighting={main:{intensity:i(),direction:t(1,0,0),castShadows:!1},sphericalHarmonics:{sh:{r:[0],g:[0],b:[0]}}},this._shOrder=2,this._oldSunlight={direction:i(),ambient:{color:i(),intensity:0},diffuse:{color:i(),intensity:0}}}setLightDirectionUniform(i){i.setUniform3fv(\"lightingMainDirection\",this._renderLighting.main.direction)}setUniforms(i,t=!1){if(t){const t=(1-this._info.groundLightingFactor)*(1-this._info.globalFactor);i.setUniform1f(\"lightingFixedFactor\",t)}else i.setUniform1f(\"lightingFixedFactor\",0);i.setUniform1f(\"lightingGlobalFactor\",this._info.globalFactor),this.setLightDirectionUniform(i),i.setUniform3fv(\"lightingMainIntensity\",this._renderLighting.main.intensity),i.setUniform1f(\"ambientBoostFactor\",.4);const n=this._renderLighting.sphericalHarmonics.sh;0===this._shOrder?i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]):1===this._shOrder?(i.setUniform4f(\"lightingAmbientSH_R\",n.r[0],n.r[1],n.r[2],n.r[3]),i.setUniform4f(\"lightingAmbientSH_G\",n.g[0],n.g[1],n.g[2],n.g[3]),i.setUniform4f(\"lightingAmbientSH_B\",n.b[0],n.b[1],n.b[2],n.b[3])):2===this._shOrder&&(i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]),i.setUniform4f(\"lightingAmbientSH_R1\",n.r[1],n.r[2],n.r[3],n.r[4]),i.setUniform4f(\"lightingAmbientSH_G1\",n.g[1],n.g[2],n.g[3],n.g[4]),i.setUniform4f(\"lightingAmbientSH_B1\",n.b[1],n.b[2],n.b[3],n.b[4]),i.setUniform4f(\"lightingAmbientSH_R2\",n.r[5],n.r[6],n.r[7],n.r[8]),i.setUniform4f(\"lightingAmbientSH_G2\",n.g[5],n.g[6],n.g[7],n.g[8]),i.setUniform4f(\"lightingAmbientSH_B2\",n.b[5],n.b[6],n.b[7],n.b[8]))}set(i){this._info=i,e(i.lights,this._shOrder,this._renderLighting),n(this._oldSunlight.direction,this._renderLighting.main.direction);const t=1/Math.PI;this._oldSunlight.ambient.color[0]=.282095*this._renderLighting.sphericalHarmonics.sh.r[0]*t,this._oldSunlight.ambient.color[1]=.282095*this._renderLighting.sphericalHarmonics.sh.g[0]*t,this._oldSunlight.ambient.color[2]=.282095*this._renderLighting.sphericalHarmonics.sh.b[0]*t,this._oldSunlight.ambient.intensity=1,this._oldSunlight.diffuse.color[0]=this._renderLighting.main.intensity[0]*t,this._oldSunlight.diffuse.color[1]=this._renderLighting.main.intensity[1]*t,this._oldSunlight.diffuse.color[2]=this._renderLighting.main.intensity[2]*t,this._oldSunlight.diffuse.intensity=1;const g=r(h,this._oldSunlight.diffuse.color);s(g,g,.4*this._info.globalFactor),o(this._oldSunlight.ambient.color,this._oldSunlight.ambient.color,g)}get globalFactor(){return this._info.globalFactor}get old(){return this._oldSunlight}}export{g as SceneLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as t,isNone as r,unwrap as s}from\"../../../core/maybe.js\";import i from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/PooledArray.js\";import l from\"../../../core/Accessor.js\";import{f as h,c as d}from\"../../../chunks/vec3f64.js\";import u from\"../../../core/Handles.js\";import{init as p}from\"../../../core/watchUtils.js\";import{o as c,i as g,t as m}from\"../../../chunks/mat4.js\";import{someMap as y}from\"../../../core/MapUtils.js\";import{a as _}from\"../../../chunks/vec2f64.js\";import f from\"../../webgl/Texture.js\";import{vertexCount as R}from\"../../webgl/Util.js\";import{createEmptyDepthTexture as w,createQuadVAO as x}from\"../webgl-engine/lib/glUtil3D.js\";import{AmbientLight as b}from\"../webgl-engine/lighting/Lightsources.js\";import{IntersectorResult as T}from\"../webgl-engine/lib/intersectorUtils.js\";import v from\"../webgl-engine/lib/Camera.js\";import O from\"../support/debugFlags.js\";import{AutoDisposableMixin as C,autoDispose as j}from\"../webgl-engine/lib/AutoDisposable.js\";import{OverlayRenderTarget as L}from\"./OverlayRenderTarget.js\";import{Overlay as U}from\"./Overlay.js\";import{CommonUniformStore as V}from\"../webgl-engine/core/shaderTechnique/CommonUniformStore.js\";import{ShaderTechniqueRepository as M}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js\";import q from\"../webgl-engine/lib/GLMaterialRep.js\";import D from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import E from\"../webgl-engine/lib/RenderContext.js\";import{SortedRenderGeometryRenderer as G}from\"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";import{TextureTechniqueConfiguration as S,TextureTechnique as P}from\"../webgl-engine/lib/TextureTechnique.js\";import{SceneLighting as A}from\"../webgl-engine/lighting/SceneLighting.js\";import{StippleTextureRepository as H}from\"../webgl-engine/materials/lineStippleUtils.js\";const W=i.getLogger(\"esri.views.3d.webgl-engine.lib.OverlayRenderer\");let F=class extends(C(l)){constructor(e){super(e),this._overlays=null,this._hasHighlights=!1,this._rendersOccluded=!1,this._hasWater=!1,this._lighting=new A,this._localOrigins=new D,this._handles=new u,this._layerRenderers=new Map,this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers=new a,this._geometries=new Map,this._uniqueIdx=0,this.globalUnitScale=1,this.longitudeCyclical=null}initialize(){this._rctx=this.renderView.renderingContext,this._renderContext=new E(this._rctx,null,null,null,null,null),this._stippleTextureRepository=new H,this.waterTextureRepository=this.renderView.waterTextureRepository,this._shaderTechniqueRepository=new M({rctx:this._rctx,viewingMode:2,commonUniformStore:new V,stippleTextureRepository:this._stippleTextureRepository,waterTextureRepository:this.waterTextureRepository}),p(this.waterTextureRepository,\"loadingState\",(()=>this.emitContentChanged())),this._materialRepository=new q(this.renderView.textureRepository,this._shaderTechniqueRepository),this._materialRepository.onMaterialChanged=e=>{(e.renderOccluded&Y)>0!==this._rendersOccluded&&this.updateRendersOccluded(),this.emitContentChanged(),this.notifyChange(\"updating\")},this._compositingHelper=this.renderView.compositingHelper,this._lighting.set({lights:[new b(h(1,1,1))],groundLightingFactor:1,globalFactor:0}),this._bindParameters={slot:null,highlightDepthTexture:w(this._rctx),camera:I,inverseViewport:_(),origin:null,screenToWorldRatio:null,screenToWorldRatioGlobalWM:null,shadowMappingEnabled:!1,slicePlane:null,ssaoEnabled:!1,hasOccludees:!1,linearDepthTexture:null,linearDepthTextureID:0,lastFrameColorTexture:null,lastFrameColorTextureID:0,reprojectionMat:null,ssrEnabled:!1,lighting:this._lighting,transparencyPassType:3}}dispose(){this._handles.destroy(),this._layerRenderers.forEach((e=>e.dispose())),this._layerRenderers.clear(),this._bindParameters.highlightDepthTexture.dispose(),this._bindParameters.highlightDepthTexture=null,this._shaderTechniqueRepository.dispose(),this._shaderTechniqueRepository=null}get updating(){return this._sortedLayerRenderersDirty||y(this._layerRenderers,(e=>e.updating))||this.waterTextureRepository.updating}get hasOverlays(){return t(this._overlays)}get gpuMemoryUsage(){return t(this._overlays)?this._overlays[0].getGpuMemoryUsage()+this._overlays[1].getGpuMemoryUsage():0}get overlays(){return this._overlays}forEachOverlay(e){t(this._overlays)&&(e(this._overlays[0],0),e(this._overlays[1],1))}ensureOverlays(){if(r(this._overlays)){const e=this.renderView.renderingContext;this._overlays=[new U(e,0),new U(e,1)]}}disposeOverlays(){t(this._overlays)&&(this._overlays.forEach((e=>e.dispose())),this._overlays=null)}commitChanges(){let e=!1;this._layerRenderers.forEach(((t,r)=>{t.commitChanges()&&(e=!0),t.isEmpty&&(this._layerRenderers.delete(r),this._sortedLayerRenderersDirty=!0,this._handles.remove(r))})),this._sortedLayerRenderersDirty&&(this.updateSortedLayerRenderers(),e=!0),e&&(this.notifyChange(\"updating\"),this.emitContentChanged(),this.updateHasHighlights(),this.updateRendersOccluded(),this.updateHasWater())}addGeometries(e,t,r){for(const t of e)null==t.origin&&(t.origin=this._localOrigins.getOrigin(t.center)),t.uniqueName||(t.uniqueName=\"ov:\"+this._uniqueIdx++),this._geometries.set(t.uniqueName,t);this.ensureLayerRenderer(t).add(e),2===r&&this.notifyGraphicUpdate(e,t,2)}removeGeometries(e,t,r){for(const t of e)this._geometries.delete(t.uniqueName);const s=this._layerRenderers.get(t);s&&(s.remove(e),2===r&&this.notifyGraphicUpdate(e,t,2))}updateGeometries(e,t,r){const s=this._layerRenderers.get(t);s?(s.modify(e,r),this.notifyUpdateGeometries(e,t,r)):W.warn(\"Attempted to update geometry for nonexistent layer\")}notifyUpdateGeometries(e,t,r){const s=4===r||2===r?2:1===r?1:0;this.notifyGraphicUpdate(e,t,s)}notifyGraphicUpdate(e,t,s){if(0===s||r(t.notifyGraphicUpdate))return;let i=-1;for(const r of e){const e=r.data.graphicUid;e!==i&&(t.notifyGraphicUpdate(e,s),i=e)}}updateHighlights(e,t){const r=this._layerRenderers.get(t);r?r.modify(e,8):W.warn(\"Attempted to update highlights for nonexistent layer\")}isEmpty(){return 0===this._geometries.size&&!O.OVERLAY_DRAW_DEBUG_TEXTURE}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return this._rendersOccluded}updateLogic(e){let t=!1;return this._layerRenderers.forEach((r=>{r.updateLogic(e)&&(t=!0)})),t}updateLayerOrder(){this._sortedLayerRenderersDirty=!0}drawPass(e,r,i,n=0){if(0===i.numViews)return!1;if(this._screenToWorldRatio=i.pixelRatio*Math.abs(i.views[0].extent[2]-i.views[0].extent[0])/Math.abs(i.views[0].viewport[2]-i.views[0].viewport[0]),this.isEmpty()||5===e&&!this.hasHighlights||3===e&&!this.hasWater)return!1;if(!this.hasNonZeroSizedView(i))return!1;const o=i.width,a=i.height;if(!r.isValid())return!1;r.resize(o,a);const l=this._rctx;if(I.pixelRatio=i.pixelRatio||1,this._renderContext.pass=e,this._bindParameters.screenToWorldRatio=this._screenToWorldRatio,this._bindParameters.screenToWorldRatioGlobalWM=this._screenToWorldRatio*this.globalUnitScale,r.bind(l),l.setClearColor(0,0,0,0),l.clearSafe(16384),1===n&&(this._renderContext.renderOccludedMask=Y),O.OVERLAY_DRAW_DEBUG_TEXTURE&&1!==n)for(let e=0;e<i.numViews;e++)this.setViewParameters(i.views[e],I),this.drawDebugTexture(o,a,k[i.index%k.length]);return this._layerRenderers.size>0&&this._sortedLayerRenderers.forAll((({layerView:h,renderer:d})=>{if(2===n&&t(h)&&0===h.drapeSourceType)return;const u=t(h)&&t(h.fullOpacity)&&h.fullOpacity<1&&0===e;u&&(this.bindTemporaryFramebuffer(this._rctx,o,a),l.clearSafe(16384));for(let e=0;e<i.numViews;e++)this.setViewParameters(i.views[e],I),d.draw(this._renderContext,this._bindParameters);u&&t(this._temporaryRenderTarget)&&(r.bind(l),this._compositingHelper.composite(this._temporaryRenderTarget.getTexture(),2,s(s(h).fullOpacity)))})),l.bindFramebuffer(null),r.generateMipMap(),this._renderContext.resetRenderOccludedMask(),!0}bindTemporaryFramebuffer(e,t,s){r(this._temporaryRenderTarget)&&(this._temporaryRenderTarget=new L(e,\"temp\",0,!1)),this._temporaryRenderTarget.resize(t,s),this._temporaryRenderTarget.bind(e)}async reloadShaders(){await this._shaderTechniqueRepository.hotReload()}intersect(e,t,r){let s=0;this._geometries.forEach((i=>{if(r&&!r(i))return;this.intersectRenderGeometry(i,t,0,e,s);const n=this.longitudeCyclical;n&&(i.center[0]-i.bsRadius<n.min&&this.intersectRenderGeometry(i,t,n.range,e,s),i.center[0]+i.bsRadius>n.max&&this.intersectRenderGeometry(i,t,-n.range,e,s)),s++}))}intersectRenderGeometry(e,r,s,i,n){let o=0;t(e.transformation)&&(s+=e.transformation[12],o=e.transformation[13]),N[0]=r[0]-s,N[1]=r[1]-o,N[2]=1,B[0]=r[0]-s,B[1]=r[1]-o,B[2]=0,e.screenToWorldRatio=this._screenToWorldRatio,e.material.intersect(e,null,e.getShaderTransformation(),i,N,B,((t,r,s)=>{this.addIntersectionResult(s,e.material.renderPriority,n,i,e.data.layerUid,e.data.graphicUid)}),e.calculateShaderTransformation,!0)}addIntersectionResult(e,t,r,s,i,n){const o={type:\"external\",metadata:{layerUid:i,graphicUid:n}},a=i=>{i.set(o,null,s.results.ground.dist,s.results.ground.normal,s.results.ground.transformation,t,null,null,e,r),i.intersector=\"OverlayRenderer\"};if((null==s.results.min.drapedLayerOrder||t>=s.results.min.drapedLayerOrder)&&(null==s.results.min.dist||s.results.ground.dist<=s.results.min.dist)&&a(s.results.min),0!==s.options.store&&(null==s.results.max.drapedLayerOrder||t<s.results.max.drapedLayerOrder)&&(null==s.results.max.dist||s.results.ground.dist>s.results.max.dist)&&a(s.results.max),2===s.options.store){const e=new T(s.ray);a(e),s.results.all.push(e)}}stopAnimationsAtTime(e){this._sortedLayerRenderers.forAll((t=>t.renderer.stopAnimationsAtTime(e)))}ensureLayerRenderer(e){let t=this._layerRenderers.get(e);return t||(t=new G({rctx:this._rctx,materialRepository:this._materialRepository}),this._layerRenderers.set(e,t),this._sortedLayerRenderersDirty=!0,\"fullOpacity\"in e&&this._handles.add(e.watch(\"fullOpacity\",(()=>this.emitContentChanged())),e),this._handles.add(p(t,\"updating\",(()=>this.notifyChange(\"updating\"))),e)),t}updateSortedLayerRenderers(){if(!this._sortedLayerRenderersDirty)return;if(this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers.clear(),0===this._layerRenderers.size)return;const[{view:{allLayerViews:e}}]=this._layerRenderers.keys(),t=new Set(this._layerRenderers.values());e.forEach((e=>{const r=e,s=this._layerRenderers.get(r);s&&(this._sortedLayerRenderers.push(new z(r,s)),t.delete(s))})),t.forEach((e=>{this._sortedLayerRenderers.push(new z(null,e))}))}setViewParameters(e,t){t.viewport=e.viewport;const r=e.extent;c(t.projectionMatrix,0,r[2]-r[0],0,r[3]-r[1],t.near,t.far),g(t.viewMatrix),m(t.viewMatrix,t.viewMatrix,[-e.extent[0],-e.extent[1],0]),t.setGLViewport(this._rctx),this._renderContext.camera=t,this._bindParameters.camera=t,this._bindParameters.inverseViewport[0]=1/t.fullViewport[2],this._bindParameters.inverseViewport[1]=1/t.fullViewport[3]}hasNonZeroSizedView(e){for(let t=0;t<e.numViews;t++){const r=e.views[t];if(r.extent[0]!==r.extent[2]&&r.extent[1]!==r.extent[3])return!0}return!1}emitContentChanged(){this.onContentChanged&&this.onContentChanged()}updateHasWater(){const e=y(this._layerRenderers,(e=>e.hasWater));e!==this._hasWater&&(this._hasWater=e)}updateHasHighlights(){const e=y(this._layerRenderers,(e=>e.hasHighlights));e!==this._hasHighlights&&(this._hasHighlights=e,this.onHasHighlightsChanged&&this.onHasHighlightsChanged(this._hasHighlights))}updateRendersOccluded(){const e=y(this._layerRenderers,(e=>e.rendersOccluded));e!==this._rendersOccluded&&(this._rendersOccluded=e,this.onRendersOccludedChanged&&this.onRendersOccludedChanged(this.rendersOccluded))}drawDebugTexture(e,t,r){const s=this._rctx;this.ensureDebugPatternResources(e,t);const i=this._debugTextureTechnique.program;s.bindProgram(i),s.setPipelineState(this._debugTextureTechnique.pipeline),i.setUniform4f(\"color\",r[0],r[1],r[2],1),i.setUniform1i(\"tex\",0),s.bindTexture(this._debugPatternTexture,0),s.bindVAO(this._quadVAO),s.drawArrays(5,0,R(this._quadVAO,\"geometry\"))}ensureDebugPatternResources(e,t){if(this._debugPatternTexture)return;const r=new Uint8Array(e*t*4);let s=0;for(let i=0;i<t;i++)for(let n=0;n<e;n++){const o=Math.floor(n/10),a=Math.floor(i/10);o<2||a<2||10*o>e-20||10*a>t-20?(r[s++]=255,r[s++]=255,r[s++]=255,r[s++]=255):(r[s++]=255,r[s++]=255,r[s++]=255,r[s++]=1&o&&1&a?1&n^1&i?0:255:1&o^1&a?0:128)}this._debugPatternTexture=new f(this._rctx,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,width:e,height:t},r);const i=new S;i.hasAlpha=!0,this._debugTextureTechnique=this._shaderTechniqueRepository.acquireAndReleaseExisting(P,i,this._debugTextureTechnique),this._quadVAO=x(this._rctx)}get test(){return{layerRenderers:this._layerRenderers}}};e([j()],F.prototype,\"_shaderTechniqueRepository\",void 0),e([j()],F.prototype,\"_stippleTextureRepository\",void 0),e([n(),j()],F.prototype,\"waterTextureRepository\",void 0),e([n({constructOnly:!0})],F.prototype,\"renderView\",void 0),e([n()],F.prototype,\"globalUnitScale\",void 0),e([n({type:Boolean,readOnly:!0,dependsOn:[\"waterTextureRepository.updating\"]})],F.prototype,\"updating\",null),F=e([o(\"esri.views.3d.terrain.OverlayRenderer\")],F);class z{constructor(e,t){this.layerView=e,this.renderer=t}}const k=[[1,.5,.5],[.5,.5,1],[.5,1,.5]],I=new v;I.near=1,I.far=1e4,I.relativeElevation=null;const N=d(),B=d(),X=-2,Y=4;export{X as DRAPED_Z,F as OverlayRenderer,Y as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{Z as s,O as o}from\"../../../../chunks/vec4f64.js\";const c=1,r=1.2,t=s,a=o;export{r as SUSPEND_RESUME_EXTENT_OPTIMISM,t as TRANSPARENT_UNIT,a as WHITE_UNIT,c as defaultIconElevationOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{slice as t}from\"../../../../core/typedArrayUtil.js\";import{isNone as e,isSome as o,unwrapOr as n}from\"../../../../core/maybe.js\";import{acosClamped as r}from\"../../../../core/mathUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,n as s,d as f,a as c}from\"../../../../chunks/vec3.js\";import{projectBuffer as u}from\"../../../../geometry/projection.js\";import{pathsToTriangulationInfo as l}from\"../../../../geometry/support/triangulationUtils.js\";import{GeometryData as I}from\"../../webgl-engine/lib/GeometryData.js\";import{applyPerVertexElevationAlignment as p}from\"./elevationAlignmentUtils.js\";import{RibbonVertexAttributeConstants as d}from\"../../webgl-engine/shaders/RibbonLineTechnique.js\";import{DRAPED_Z as m}from\"../../terrain/OverlayRenderer.js\";import{WHITE_UNIT as T}from\"./constants.js\";function y(i){const u={},l={};!function(e,o,n){const{attributeData:{position:r},removeDuplicateStartEnd:i}=e,a=function(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}(r)&&1===i,s=r.length/3-(a?1:0),f=new Uint32Array(2*(s-1)),c=a?t(r,0,r.length-3):r;let u=0;for(let t=0;t<s-1;t++)f[u++]=t,f[u++]=t+1;o[d.POSITION]={size:3,data:c,offsetIdx:0,strideIdx:3},n[d.POSITION]=f}(i,l,u);const p=new Uint32Array(u[d.POSITION].length);return function(t,o,n){const r=t.attributeData.mapPosition;if(e(r))return;n.mapPos=n[d.POSITION],o.mapPos={size:3,data:r,offsetIdx:0,strideIdx:3}}(i,l,u),function(t,e,r,i){if(o(t.attributeData.colorFeature))return;const a=t.attributeData.color;e[d.COLOR]={size:4,data:n(a,T),offsetIdx:0,strideIdx:4},r[d.COLOR]=i}(i,l,u,p),function(t,e,r,i){if(o(t.attributeData.sizeFeature))return;const a=t.attributeData.size;e[d.SIZE]={size:1,data:new Float32Array([n(a,1)]),offsetIdx:0,strideIdx:1},r[d.SIZE]=i}(i,l,u,p),function(t,o,n,r){const i=t.attributeData.colorFeature;if(e(i))return;o[d.COLORFEATUREATTRIBUTE]={size:1,data:new Float32Array([i]),offsetIdx:0,strideIdx:1},n[d.COLOR]=r}(i,l,u,p),function(t,o,n,r){const i=t.attributeData.sizeFeature;if(e(i))return;o[d.SIZEFEATUREATTRIBUTE]={size:1,data:new Float32Array([i]),offsetIdx:0,strideIdx:1},n[d.SIZEFEATUREATTRIBUTE]=r}(i,l,u,p),function(t,o,n,r){const i=t.attributeData.opacityFeature;if(e(i))return;o[d.OPACITYFEATUREATTRIBUTE]={size:1,data:new Float32Array([i]),offsetIdx:0,strideIdx:1},n[d.OPACITYFEATUREATTRIBUTE]=r}(i,l,u,p),function(t,e,o){if(\"round\"!==t.join)return;const i=e[d.POSITION].data,u=i.length/3,l=new Float32Array(u),I=E,p=S;a(I,0,0,0);const m=n(t.uniformSize,1);for(let t=-1;t<u;++t){const e=t<0?u+t:t,o=(t+1)%u;if(a(p,i[3*o+0]-i[3*e+0],i[3*o+1]-i[3*e+1],i[3*o+2]-i[3*e+2]),s(p,p),t>=0){const e=1*((Math.PI-r(f(I,p)))*x)*A(m);l[t]=Math.max(Math.floor(e),0)}c(I,p,-1)}e[d.SUBDIVISIONS]={size:1,data:l,offsetIdx:0,strideIdx:1},o[d.SUBDIVISIONS]=o[d.POSITION]}(i,l,u),new I(l,u,\"line\")}function O(t,e,o,n){const r=\"polygon\"===t.type?1:0,i=\"polygon\"===t.type?t.rings:t.paths,{position:a,outlines:s}=l(i,t.hasZ,r),f=new Float64Array(a.length),c=p(a,t.spatialReference,0,f,0,a,0,a.length/3,e,o,n),u=null!=c;return{lines:u?g(s,a,f):[],projectionSuccess:u,sampledElevation:c}}function g(t,e,o){const n=new Array;for(const{index:r,count:i}of t){if(i<=1)continue;const t=3*r,a=t+3*i;n.push({position:e.subarray(t,a),mapPosition:o?o.subarray(t,a):void 0})}return n}function h(t,e){const o=\"polygon\"===t.type?1:0,n=\"polygon\"===t.type?t.rings:t.paths,{position:r,outlines:i}=l(n,!1,o),a=u(r,t.spatialReference,0,r,e,0,r.length/3);for(let t=2;t<r.length;t+=3)r[t]=m;return{lines:a?g(i,r):[],projectionSuccess:a}}function A(t){return 1.863798+-2.0062872/Math.pow(1+t/18.2313,.8856294)}const E=i(),S=i(),x=4/Math.PI;export{y as createGeometryData,O as geometryToRenderInfo,h as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/Accessor.js\";import{IdentifiableMixin as c}from\"../../../../core/Identifiable.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return r(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?s(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?s(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new u({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(s(this._resources))return;this.ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()}ensureRenderGeometriesRemoved(){var e;if(s(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1}ensureRenderGeometriesAdded(){if(s(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0}}let u=class extends(c(i)){constructor(e){super(e),this.drapeSourceType=1}};e([t({constructOnly:!0})],u.prototype,\"view\",void 0),e([t({readOnly:!0})],u.prototype,\"drapeSourceType\",void 0),u=e([o(\"DrapedVisualElementLayerView\")],u);export{a as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrap as t,isNone as r}from\"../../../../core/maybe.js\";import s from\"../../../../core/Evented.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,b as n,a as o}from\"../../../../chunks/vec3.js\";import{projectBuffer as l}from\"../../../../geometry/projection.js\";import{g as h,c}from\"../../../../chunks/vec4.js\";import{empty as d,expandWithBuffer as u,create as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{computeAttachmentOriginLines as f}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{ElevationContext as g}from\"../../layers/graphics/ElevationContext.js\";import _ from\"../../webgl-engine/lib/Geometry.js\";import{RibbonVertexAttributeConstants as y}from\"../../webgl-engine/shaders/RibbonLineTechnique.js\";import{RibbonLineMaterial as v}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import O from\"../../webgl-engine/lib/RenderGeometry.js\";import{geometryToRenderInfoDraped as w,createGeometryData as R,geometryToRenderInfo as b}from\"../../layers/graphics/lineUtils.js\";import{f as C,a as D}from\"../../../../chunks/vec4f32.js\";import{LaserlineVisualElement as j}from\"./LaserlineVisualElement.js\";import{VisualElementResources as E}from\"./VisualElementResources.js\";import{DrapedVisualElementResources as P}from\"./DrapedVisualElementResources.js\";class G{constructor(e){this.view=null,this._attachmentOrigin=p(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new s,this._isDraped=!1,this._geometry=null,this._width=1,this._color=C(1,0,1,1),this._innerWidth=0,this._innerColor=C(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=8,this.resources=new E({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this.recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=e.view.spatialReference,this.drapedResources=new P({view:e.view,createResources:()=>this.createDrapedResources(),recreateGeometry:e=>{e.geometries=this.createRenderGeometriesDraped(e.material),this.attachmentOriginChanged()}});let t=!0;this._laserline=new j({view:e.view});for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&e(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this.updateAttached(e)}updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this.attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){h(e,this._color)||(c(this._color,e),this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){h(e,this._innerColor)||(c(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.resources.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&h(e,this._stippleOffColor)||(this._stippleOffColor=e?D(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(t){this._laserlineStyle=t,this._laserline.attached=this.laserlineAttached,e(t)&&(this._laserline.style=t)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const r=e(this.resources.resources)?this.resources.resources.geometries:null;if(!r||0===r.length)return null;a(I,0,0,0);const s=y.POSITION;let i=0;for(const e of r){const r=e.getAttribute(s),a=e.getIndices(s),o=t(this.resources.resources).material.isClosed(r.data,a);f(r,a,o,M)&&(n(I,I,M),i++)}return 0===i?null:(o(I,I,1/i),this.view.renderCoordsHelper.fromRenderCoords(I,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}updateMaterial(){e(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters),e(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)}get isClosed(){return e(this.geometry)&&\"polygon\"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",stippleIntegerRepeats:!0,polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}recreateGeometry(e,t,r){const s=this.createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this.attachmentOriginChanged()}attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}createResources(e){const t=new v(this.materialParameters,\"lineVisualElement\"),r=[];return this.recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}createDrapedResources(){const e=new v(this.materialParameters,\"lineVisualElement\");return{material:e,geometries:this.createRenderGeometriesDraped(e)}}createRenderGeometriesDraped(e){const t=this.geometry;if(r(t))return[];const s=w(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:t}of s.lines){const r={attributeData:{position:t},removeDuplicateStartEnd:this.isClosed?1:0},s=new O(R(r));s.material=e;const n=d(A);u(n,t),a(s.center,.5*(n[0]+n[3]),.5*(n[1]+n[4]),0),s.bsRadius=.5*Math.sqrt((n[3]-n[0])*(n[3]-n[0])+(n[4]-n[1])*(n[4]-n[1])),i.push(s)}return i}calculateMapBounds(e){if(r(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.data.getAttribute(\"position\"),i=s.data,a=new Float64Array(i.length);l(s.data,t.spatialReference,0,a,this.view.spatialReference,0,i.length/3),u(e,a)}return!0}createRenderGeometries(){const e=this.geometry;if(r(e))return[];const t=b(e,this.view.elevationProvider,this.view.renderCoordsHelper,g.fromElevationInfo(this.elevationInfo)),s=[],i=[];for(const{position:e,mapPosition:r}of t.lines){const t={attributeData:{position:e,mapPosition:r},removeDuplicateStartEnd:this.isClosed?1:0},a=R(t);s.push(new _(a,\"geometryOutlineVisualElement\")),i.push(e)}return this._laserline.pathVerticalPlane=i,s}}const A=m(),M=i(),I=i();export{G as OutlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{getPointOnPath as t,getPathLength as r}from\"../../../../geometry/support/coordsUtils.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as o}from\"../../../../geometry/projection.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{containsPoint as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";import c from\"../../webgl-engine/lib/Object3D.js\";import{computeCentroid as l}from\"./graphicUtils.js\";import{applyElevationAlignmentForHUD as p,applyPerVertexElevationAlignment as m}from\"./elevationAlignmentUtils.js\";const u=n();function f(t,r,n,a,l,m,f,g,d,h,j){const y=n?n.length:0,v=t.clippingExtent;if(o(r,u,t.elevationProvider.spatialReference),e(v)&&!s(v,u))return null;const w=t.renderCoordsHelper.spatialReference;o(r,u,w);const x=t.localOriginFactory.getOrigin(u),b=new c({castShadow:!1,metadata:{layerUid:d,graphicUid:h,usesVerticalDistanceToGround:!0},idHint:g});for(let e=0;e<y;e++){const t=l?l[e]:i;b.addGeometry(n[e],a[e],t,m,x,j)}return{object:b,sampledElevation:p(b,r,t.elevationProvider,t.renderCoordsHelper,f)}}function g(e,t,r){const n=e.elevationContext,i=r.spatialReference;o(t,u,i),n.centerPointInElevationSR=a(u[0],u[1],t.hasZ?u[2]:0,i)}function d(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return l(e);case\"polyline\":{const n=e.paths[0];if(!n||0===n.length)return null;const o=t(n,r(n)/2);return a(o[0],o[1],o[2],e.spatialReference)}case\"mesh\":return e.extent.center}return null}function h(e,t,r,n,o){const i=new Float64Array(3*e.length),s=new Float64Array(i.length);e.forEach(((e,t)=>{i[3*t+0]=e[0],i[3*t+1]=e[1],i[3*t+2]=e.length>2?e[2]:0}));const a=m(i,t,0,s,0,i,0,i.length/3,r,n,o),c=null!=a;return{numVertices:e.length,position:i,mapPosition:s,projectionSuccess:c,sampledElevation:a}}export{f as createStageObjectForHUD,g as extendPointGraphicElevationContext,h as geometryToRenderInfo,d as placePointOnGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{a as r}from\"../../../../chunks/vec4f64.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as a,defaultDepthWriteParams as l,defaultColorWriteParams as d}from\"../../../webgl/renderState.js\";import{View as c}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as p}from\"../core/shaderLibrary/Slice.glsl.js\";import{blendingDefault as h,OITBlending as g,OITDepthWrite as m,OITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{ScreenSizeScaling as b}from\"../core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{S as f}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";class y extends t{initializeProgram(e){const r=y.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:i.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType});return new n(e.rctx,t.generateSource(\"vertex\"),t.generateSource(\"fragment\"),P)}bindPass(e,r,i){const{screenSizeEnabled:t,shadingEnabled:o}=this.configuration,{color:s,shadingTint:n,shadingDirection:a}=r;c.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"color\",s),o&&(this.program.setUniform4fv(\"shadedColor\",this.blendColor(E,n,s)),this.program.setUniform3fv(\"shadingDirection\",a),this.program.setUniformMatrix4fv(\"viewNormal\",i.camera.viewInverseTransposeMatrix)),t&&b.bindPassUniforms(this.program,r,i)}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}bindDraw(e){c.bindView(this.program,e),c.bindCamPosition(this.program,e.origin,e.camera.viewInverseTransposeMatrix),p.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e;return a({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?h:g(e),culling:(o=r.cullFace,0!==o&&{face:1===o?1028:1029,mode:2305}),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&l:m(e),colorWrite:d,polygonOffset:i||t?null:u});var o}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}y.shader=new i(f,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class S extends o{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.sliceHighlightDisabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3}}e([s({count:8})],S.prototype,\"output\",void 0),e([s({count:3})],S.prototype,\"cullFace\",void 0),e([s()],S.prototype,\"slicePlaneEnabled\",void 0),e([s()],S.prototype,\"sliceHighlightDisabled\",void 0),e([s()],S.prototype,\"transparent\",void 0),e([s()],S.prototype,\"writeDepth\",void 0),e([s()],S.prototype,\"screenSizeEnabled\",void 0),e([s()],S.prototype,\"shadingEnabled\",void 0),e([s({count:4})],S.prototype,\"transparencyPassType\",void 0);const v={POSITION:\"position\",NORMAL:\"normal\",OFFSET:\"offset\"},P={position:0,normal:1,offset:2},E=r();export{y as ShadedColorMaterialTechnique,S as ShadedColorMaterialTechniqueConfiguration,v as ShadedColorMaterialVertexAttrConstants,P as ShadedColorMaterialVertexAttrLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/vec3f64.js\";import{n as t,s as r,a as i,b as s}from\"../../../../chunks/vec3.js\";import{BufferViewVec3f as a}from\"../../support/buffer/BufferView.js\";import{center as n,scale as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{newLayout as c}from\"../../support/buffer/InterleavedLayout.js\";import{assert as u}from\"../lib/Util.js\";import h from\"../lib/GLMaterial.js\";import{intersectTriangleGeometry as l}from\"./internal/MaterialUtil.js\";import{Material as p,materialParametersDefaults as f}from\"../lib/Material.js\";import{writeDefaultAttributes as d,writePosition as m}from\"./internal/bufferWriterUtils.js\";import{ShadedColorMaterialTechniqueConfiguration as g,ShadedColorMaterialVertexAttrLocations as b,ShadedColorMaterialVertexAttrConstants as S,ShadedColorMaterialTechnique as E}from\"../shaders/ShadedColorMaterialTechnique.js\";export{ShadedColorMaterialVertexAttrConstants}from\"../shaders/ShadedColorMaterialTechnique.js\";class q extends p{constructor(e,t){super(t,e,F),this.supportsEdges=!0,this.techniqueConfig=new g,this._vertexAttributeLocations=b}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.screenSizeEnabled=this.params.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.params.shadingEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,t,a,c,u,h,p){if(this.params.screenSizeEnabled){const a=e.getAttribute(S.OFFSET),f={applyToVertex:(e,t,n,o)=>{const u=r(v,a.data[3*o+0],a.data[3*o+1],a.data[3*o+2]),h=r(C,e,t,n);return i(u,u,this.params.screenSize*c.camera.computeRenderPixelSizeAt(u)),s(h,h,u),[h[0],h[1],h[2]]},applyToAabb:e=>{const t=n(e,v);return o(e,this.params.screenSize*c.camera.computeRenderPixelSizeAt(t))}};l(e,t,c,u,h,f,p)}else l(e,t,c,u,h,void 0,p)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new T(e):void 0}createBufferWriter(){return new P(this.params.screenSizeEnabled)}}class T extends h{constructor(e){super(e),this.updateParameters()}updateParameters(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(E,this.material.getTechniqueConfig(this.output,e),this.technique)}beginSlot(e){if(4===this.output)return 3===e;let t=3;return this.technique.configuration.transparent&&(t=this.technique.configuration.writeDepth?5:8),e===t}ensureParameters(e){this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}}const F={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:t(e(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...f};class P{constructor(e){this.screenSizeEnabled=e;const t=c().vec3f(S.POSITION).vec3f(S.NORMAL);this.screenSizeEnabled&&t.vec3f(S.OFFSET),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices[S.POSITION].length}write(e,t,r,i){if(d(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,i),this.screenSizeEnabled){if(!(S.OFFSET in t.vertexAttr))throw new Error(`${S.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const s=t.vertexAttr[S.OFFSET],n=t.indices[S.OFFSET];u(3===s.size);const o=r.getField(S.OFFSET,a);if(!o)throw new Error(\"unable to acquire view for \"+S.OFFSET);m(n,s.data,e.invTranspTransformation,o,i)}}}}const v=e(),C=e();export{q as ShadedColorMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{s as r}from\"../../../../chunks/vec3.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import a from\"../../webgl-engine/lib/GeometryUtil.js\";import{ElevationContext as o}from\"../../layers/graphics/ElevationContext.js\";import l from\"../../webgl-engine/lib/Geometry.js\";import{geometryToRenderInfo as n}from\"../../layers/graphics/pointUtils.js\";import{Object3DVisualElement as u}from\"./Object3DVisualElement.js\";import{ShadedColorMaterialVertexAttrConstants as c}from\"../../webgl-engine/shaders/ShadedColorMaterialTechnique.js\";import{ShadedColorMaterial as h}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";import{settings as d}from\"../editingTools/settings.js\";class m extends u{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=d.colorToVec4(d.reshapeManipulators.vertex.color),this._size=d.reshapeManipulators.vertex.size,this._outlineColor=d.colorToVec4(d.reshapeManipulators.vertex.outlineColor),this._outlineSize=d.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial(),this.updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this.updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this.updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}updateMaterial(){this.attached&&this.vertexMaterial.setParameterValues(this.vertexMaterialParameters)}updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameterValues(this.vertexOutlineMaterialParameters)}createRenderGeometries(){const t=this.vertices;if(e(t)||0===t.length)return[];const i=n(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,o.fromElevationInfo(this.elevationInfo)),s=[],a=i.numVertices,u=i.position;for(let e=0;e<a;++e){const t=r(p,u[3*e+0],u[3*e+1],u[3*e+2]),i=new l(v(.5,16,16,t),\"VerticesVisualElement-vertex\"),a=new l(v(.5,16,16,t),\"VerticesVisualElement-vertexOutline\");s.push({vertexGeometry:i,vertexOutlineGeometry:a})}return s}createGeometries(e){const t=this.createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new h({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0},\"manipulator\"),this.vertexOutlineMaterial=new h({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1},\"manipulator-outline\")}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalResource(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const p=t();function v(e,t,r,i){const s=a.createSphereGeometry(e,t,r,{attributes:{position:c.OFFSET,uv:null}});return s.indices[c.POSITION]=new Uint32Array(s.indexCount),s.vertexAttributes[c.POSITION]={size:3,data:Float64Array.from(i),offsetIdx:0,strideIdx:3},s}export{m as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrapOr as t,isSome as i,isNone as r,unwrap as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import o from\"../../../../../core/Evented.js\";import l from\"../../../../../Graphic.js\";import c from\"../../../../../layers/GraphicsLayer.js\";import{getEffectiveElevationMode as h}from\"../../../../../support/elevationInfoUtils.js\";import{SceneDrawSurface as p}from\"./drawSurfaces.js\";import{DrawOperation as u}from\"./DrawOperation.js\";import{InteractiveToolBase as d}from\"../../../../interactive/InteractiveToolBase.js\";import{SnappingOptions as m}from\"../../../../interactive/snapping/SnappingOptions.js\";import{createViewAlignedCoordinateSystem as y,createSquare as v,createRectangle as g,createCircle as V,createEllipse as _,createPolygon as f,createPolyline as w}from\"../../../../draw/support/createUtils.js\";import{settings as E}from\"../settings.js\";import{OutlineVisualElement as O}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as G}from\"../../visualElements/VerticesVisualElement.js\";let b=class extends(o.EventedMixin(d)){constructor(e){super(e),this.drawOperation=null,this._createGraphic=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._stagedVerticesVisualElement=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=!1,this.snappingOptions=new m,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const e=t(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this._internalGraphicsLayer=new c({elevationInfo:e}),this.view.map.layers.add(this._internalGraphicsLayer),this.drawOperation=new u({view:this.view,manipulators:this.manipulators,geometryType:C(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new p(this.view,e,[this._internalGraphicsLayer]),hasM:!1,elevationInfo:e,snappingOptions:this.snappingOptions}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._destroyAllVisualisations(),this.view.map.remove(this._internalGraphicsLayer),this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}_getCreateGeometry(e,t=!1){if(null==this.drawOperation)return null;const r=i(e)?e:this.drawOperation.hasStagedVertex?this.drawOperation.numVertices-1:null,s=this.drawOperation.vertices;if(0===s.length)return null;const a=this.drawOperation.spatialReference,n=s,o=n.slice(),l=[];i(r)&&(o.splice(r,1),l.push(n[r]));const c={regularVertices:null,stagedVertices:null,full:null,outline:null},h=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":c.regularVertices=o,c.stagedVertices=l,c.full=this.drawOperation.coordinateHelper.createPointFromArray(s[0]);break;case\"polyline\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=w([n],a,h));break;case\"polygon\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=f([n],a,h,!0));break;case\"circle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+S*this.view.resolution,t[1]);c.full=V([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?V(s,e,this.centered):_(s,e,this.centered))}break;case\"rectangle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+S*this.view.resolution,t[1]);c.full=v([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?v(s,e,this.centered):g(s,e,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":break;case\"polyline\":n.length>1&&(c.outline=w([n],a,h));break;case\"polygon\":n.length>1&&(c.outline=f([n],a,h));break;case\"circle\":case\"rectangle\":i(c.full)&&\"polygon\"===c.full.type&&(c.outline=f(c.full.rings,a,h))}return c}_destroyAllVisualisations(){this._destroyCreateGraphic(),this._destroyOutlineVisualElement(),this._destroyVerticesVisualElement(),this._destroyStagedVerticesVisualElement()}_destroyCreateGraphic(){i(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),this._createGraphic.destroy(),this._createGraphic=null)}_destroyOutlineVisualElement(){i(this._outlineVisualElement)&&(this._outlineVisualElement.destroy(),this._outlineVisualElement=null)}_destroyVerticesVisualElement(){i(this._verticesVisualElement)&&(this._verticesVisualElement.destroy(),this._verticesVisualElement=null)}_destroyStagedVerticesVisualElement(){i(this._stagedVerticesVisualElement)&&(this._stagedVerticesVisualElement.destroy(),this._stagedVerticesVisualElement=null)}_updateCreateGraphic(e=null){const t=this._getCreateGeometry(e);if(r(t))return void this._destroyAllVisualisations();const a=this._internalGraphicsLayer.elevationInfo,n=\"on-the-ground\"===h(this.hasZ,a);i(t.outline)?r(this._outlineVisualElement)?(this._outlineVisualElement=new O({view:this.view,geometry:t.outline,elevationInfo:s(a),isDraped:n,attached:!1}),E.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),E.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=t.outline:this._destroyOutlineVisualElement(),i(t.regularVertices)?r(this._verticesVisualElement)?(this._verticesVisualElement=new G({view:this.view,spatialReference:this.view.spatialReference,vertices:t.regularVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=t.regularVertices:this._destroyVerticesVisualElement(),i(t.stagedVertices)?r(this._stagedVerticesVisualElement)?(this._stagedVerticesVisualElement=new G({view:this.view,spatialReference:this.view.spatialReference,vertices:t.stagedVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._stagedVerticesVisualElement.color=E.colorToVec4(E.reshapeManipulators.selected.color),this._stagedVerticesVisualElement.attached=!0):this._stagedVerticesVisualElement.vertices=t.stagedVertices:this._destroyStagedVerticesVisualElement(),i(t.full)?r(this._createGraphic)?(this._createGraphic=new l({geometry:t.full,symbol:this.createGraphicSymbol}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic),this.notifyChange(\"createGraphic\")):this._createGraphic.geometry=t.full:this._destroyCreateGraphic()}get createGraphic(){return this._createGraphic}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set centered(e){this._set(\"centered\",e),this._updateCreateGraphic()}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateCreateGraphic()}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this._updateCreateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateCreateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateCreateGraphic(),this.emit(\"vertex-update\",e)}onCursorUpdate(e){this._updateCreateGraphic(1===e.vertices.length?e.vertices[0].vertexIndex:null),this.emit(\"cursor-update\",e)}onComplete(e){this._updateCreateGraphic();let t=null;if(this.drawOperation.isCompleted){const e=this._getCreateGeometry(null,!0);i(e)&&(t=new l({geometry:e.full,symbol:this.createGraphicSymbol}))}this.emit(\"complete\",{graphic:t,...e})}};function C(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}e([a({constructOnly:!0,nonNullable:!0})],b.prototype,\"view\",void 0),e([a()],b.prototype,\"createGraphicSymbol\",void 0),e([a()],b.prototype,\"createGraphic\",null),e([a({value:!0})],b.prototype,\"enabled\",null),e([a({value:!0})],b.prototype,\"centered\",null),e([a({value:!0})],b.prototype,\"forceUniformSize\",null),e([a({constructOnly:!0})],b.prototype,\"hasZ\",void 0),e([a({nonNullable:!0})],b.prototype,\"defaultZ\",void 0),e([a({constructOnly:!0})],b.prototype,\"elevationInfo\",void 0),e([a()],b.prototype,\"snapToScene\",void 0),e([a()],b.prototype,\"snappingOptions\",void 0),e([a({constructOnly:!0})],b.prototype,\"mode\",void 0),e([a({constructOnly:!0})],b.prototype,\"geometryType\",void 0),e([a({readOnly:!0})],b.prototype,\"type\",void 0),b=e([n(\"esri.views.3d.interactive.editingTools.draw3D.DrawTool\")],b);const S=48;export{b as DrawGraphicTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";import{isSome as t,isNone as i,unwrapOr as s,unwrap as o}from\"../../../core/maybe.js\";import{once as n}from\"../../../core/accessorSupport/utils.js\";import r from\"../../../geometry/Point.js\";import\"../../../geometry.js\";import a from\"../../../core/Evented.js\";import{deg2rad as c}from\"../../../core/mathUtils.js\";import{createScreenPointArray as l,createRenderScreenPointArray3 as h,screenPointObjectToArray as d,castRenderScreenPointArray as _}from\"../../../core/screenUtils.js\";import{c as u,Z as g}from\"../../../chunks/vec3f64.js\";import{b as m,t as f,i as p,a as b,g as v,h as y,s as j,f as L}from\"../../../chunks/vec3.js\";import{getReferenceEllipsoid as S}from\"../../../geometry/projectionEllipsoid.js\";import{c as R,d as w,m as O,i as T}from\"../../../chunks/mat4.js\";import{containsPointObject as E}from\"../../../geometry/support/aaBoundingRect.js\";import{canProjectWithoutEngine as A,projectPoint as D,sphericalECEFToSphericalPCPF as I,computeLatLonToENURotation as P}from\"../../../geometry/projection.js\";import{a as F}from\"../../../chunks/mat3f64.js\";import{a as z}from\"../../../chunks/mat4f64.js\";import{f as k}from\"../../../chunks/mat3.js\";import{j as C}from\"../../../chunks/vec2.js\";import{getElevationAtPoint as M}from\"../support/ElevationProvider.js\";import{sv3d as x}from\"../support/stack.js\";import{ray as B,plane as V,lineSegment as W}from\"../support/geometryUtils.js\";import H from\"../webgl-engine/lib/Object3D.js\";import U from\"../webgl-engine/lib/Camera.js\";import{clonePoint as G}from\"../../../layers/graphics/hydratedFeatures.js\";import N from\"../webgl-engine/lib/Layer.js\";class Z{constructor(e){this.camera=new U,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=z(),this._worldFrame=null,this._renderLocation=u(),this._renderLocationDirty=!0,this._location=new r({x:0,y:0,z:0}),this._elevationAlignedLocation=new r,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=0,this._focused=!1,this.events=new a.EventEmitter,this._screenLocation={screenPointArray:l(),renderScreenPointArray:h(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayerId=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:n((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){q(e)&&(this._screenLocationDirty=!0),R(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=z()),function(e,t,i){switch(e.viewingMode){case\"local\":return T(i),!0;case\"global\":{const s=S(e.renderCoordsHelper.spatialReference);I(t,0,te,0,s.radius),P(c(te[1]),c(te[0]),i)}}}(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){G(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){G(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=t(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this.ensureScreenLocation(),this._screenLocation}ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(q(this._modelTransform)){const t=this._calculateModelTransformOffset(re);e=m(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,s){if(!this.available)return null;const o=d(t,J),n=this._getCollisionRadius(s),r=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(C(this.screenLocation.screenPointArray,o)<n*n)return this.screenLocation.renderScreenPointArray[2]+r;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),s=this._calculateObjectTransform(t,$),a=n*this.screenLocation.pixelSize,c=B.fromScreen(this.camera,o,Q);if(i(c))return null;for(const t of e){if(0===t.length)continue;const e=p(te,t[0],s);for(let i=1;i<t.length;i++){const o=p(ie,t[i],s),n=W.closestRayDistance2(W.fromPoints(e,o,K),c);if(null!=n&&n<a*a){const t=m(x.get(),e,o);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,o)}}break}case\"disc\":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:g,s=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(s,$),l=n*this.screenLocation.pixelSize,h=B.fromScreen(this.camera,o,Q);if(i(h))return null;const d=k(X,c),_=f(oe,e,d),u=p(ne,t,c);V.fromPositionAndNormal(u,_,ee);const m=se;if(V.intersectRay(ee,h,m)&&y(m,u)<l*l)return this.screenLocation.renderScreenPointArray[2]+r;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,s=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(s,$),c=n*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=B.fromScreen(this.camera,o,Q);if(i(l))return null;const h=k(X,a),d=f(oe,t,h),u=this._calculateModelTransformPosition(ne);V.fromPositionAndNormal(u,d,ee);const g=se;if(!V.intersectRay(ee,l,g))break;for(const t of e){if(0===t.length)continue;const e=p(te,t[0],a);for(let i=1;i<t.length;i++){const s=p(ie,t[i],a),o=W.distance2(W.fromPoints(e,s,K),g);if(null!=o&&o<c*c){const t=m(x.get(),e,s);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,s)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){if(!this.view._stage)return;const t=e.manipulator3D;if(this._engineLayerId=t.engineLayerId,i(this._engineLayerId)){const e=new N(\"manipulator-3d\",{isPickable:!1});this.view._stage.add(0,e),this.view._stage.addToViewContent([e.id]),this._engineLayerId=e.id,t.engineLayerId=e.id}t.engineLayerReferences=(t.engineLayerReferences||0)+1,this._materialIdReferences=t.materialIdReferences,i(this._materialIdReferences)&&(this._materialIdReferences=new Map,t.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),A(this._location.spatialReference,this.view.spatialReference)||(this.location=new r({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayerId=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){D(this.location,ae,e.spatialReference),E(e.extent,ae)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(i(this.elevationInfo))return!1;let t=null,o=0;const n=s(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=M(this.view.elevationProvider,e,\"ground\")||0;break;case\"relative-to-ground\":o=(M(this.view.elevationProvider,e,\"ground\")||0)+n;break;case\"relative-to-scene\":o=(M(this.view.elevationProvider,e,\"scene\")||0)+n;break;case\"absolute-height\":o=n}return(o!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=o,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=$;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?2:1)|(this.selected?8:4),o=this._noDisplayCount>0;for(const{stateMask:e,objects:n}of i){if(o){for(const e of n)e.setVisible(!1);continue}const i=!(0!=(15&e))||(s&e)==(15&e),r=!(0!=(65520&e))||(this.state&e)==(65520&e);if(i&&r)for(const e of n)e.setVisible(!0),e.objectTransformation=t;else for(const e of n)e.setVisible(!1)}}_ensureEngineResources(){if(i(this._engineResources)){const e=this.view._stage.getContent(0,o(this._engineLayerId)),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},n=new Map;this.renderObjects.forEach((e=>{const t=new H({idHint:\"manipulator\",castShadow:!1});s(t,e);const i=e.stateMask||0,o=n.get(i)||[];o.push(t),n.set(i,o)}));const r=[];n.forEach(((e,t)=>{r.push({stateMask:t,objects:e})})),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:e,layer:t,materials:s}=this._engineResources;s.forEach((e=>{const t=o(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(3,e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{e.forEach((e=>{t.addObject(e),this.view._stage.add(1,e)}))})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:t,layer:s,materials:n}=this._engineResources;t.forEach((({objects:e})=>{e.forEach((e=>{s.removeObject(e),this.view._stage.remove(1,e.id)}))})),n.forEach((e=>{const t=o(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(3,e.id),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(0,s.id),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,Y);return j(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return L(e,t,this.renderLocation)}_calculateObjectTransform(e,i){return w(i,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&O(i,i,this._worldFrame),O(i,i,this._modelTransform),i[12]+=this.renderLocation[0],i[13]+=this.renderLocation[1],i[14]+=this.renderLocation[2],i[15]=1,t(this._applyObjectTransform)&&this._applyObjectTransform(i),i}get test(){let e=!1;if(t(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function q(e){return 0!==e[12]||0!==e[13]||0!==e[14]}const J=l(),K=W.create(),Q=B.create(),X=F(),Y=z(),$=z(),ee=V.create(),te=u(),ie=u(),se=u(),oe=u(),ne=u(),re=u(),ae=new r({x:0,y:0,z:0,spatialReference:null});export{Z as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{f as r,c as n,i as o,n as i}from\"../../../chunks/vec3.js\";import{a}from\"../../../chunks/mat4.js\";import{b as c}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as m}from\"../support/stack.js\";import l from\"../webgl-engine/lib/GeometryUtil.js\";import{hydrateGeometry as u}from\"../../../layers/graphics/hydratedFeatures.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import g from\"../webgl-engine/lib/Geometry.js\";import{ColorMaterial as f}from\"../webgl-engine/materials/ColorMaterial.js\";import{Manipulator3D as h}from\"./Manipulator3D.js\";import{ShadedColorMaterial as j}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function d(e,t=4){const r=c(e[0],e[1],e[2],e.length>3?e[3]:1),n=e[3]<1;return new j({color:r,transparent:n,writeDepth:!0,cullFace:2,renderOccluded:t},\"manipulator\")}function w(e,t=4){const r=c(e[0],e[1],e[2],4===e.length?e[3]:1);return new f({color:r,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:t},\"manipulator-outline\")}function b(e,t,r){return new h({view:e,renderObjects:[{geometry:new g(l.createSphereGeometry(1,32,32),\"manipulator\"),material:d(c(t[0],t[1],t[2],null!=r?r:1))}]})}function y(e,t,i,c){const l=r(s.get(),e,i),u=O(l,n(s.get(),c,l),i,m.get());a(u,u);const p=o(s.get(),t,u);return Math.atan2(p[1],p[0])}function O(e,t,r,o){const a=i(s.get(),e),c=i(s.get(),t),m=n(s.get(),a,c);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=0,o[4]=c[0],o[5]=c[1],o[6]=c[2],o[7]=0,o[8]=m[0],o[9]=m[1],o[10]=m[2],o[11]=0,o[12]=r[0],o[13]=r[1],o[14]=r[2],o[15]=1,o}function k(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function v(r,n,o){const i=k(r,o);e(i)?n.elevationAlignedLocation=i:function(e,r){if(t(r))return;const n=p(r);if(t(n))return;e.location=u(n)}(n,o.geometry)}export{y as calculateInputRotationTransform,O as calculateTranslateRotateFromBases,d as createManipulatorMaterial,w as createManipulatorOutlineMaterial,b as createSphereManipulator,k as getGraphicAttachmentOrigin,v as placeAtGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import t from\"../../../../core/Evented.js\";let e=class extends t.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([o({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([o()],e.prototype,\"tracking\",void 0),r([o()],e.prototype,\"displaying\",void 0),r([o()],e.prototype,\"isDraped\",void 0),e=r([s(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";class e{constructor(){this.grabbingState=0,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(e){this.grabbingState=0,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,e.forEachManipulator(((e,s)=>{if(0===s&&(this.zManipulator=e),e instanceof i&&(e.selected&&(0===this.numSelected&&(this.firstSelected=e),this.numSelected++),t(this.firstGrabbedXY)&&e.grabbing&&1===s&&(this.firstGrabbedXY=e)),e.grabbing)switch(this.grabbingState|=1,s){case 0:this.grabbingState|=2;break;case 1:this.grabbingState|=4}}))}}export{e as ManipulatorState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as a,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{s,b as o,a as r}from\"../../../../chunks/vec3.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{LaserlineVisualElement as p}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as m}from\"../visualElements/ExtendedLineVisualElement.js\";import{Manipulator3D as h}from\"../Manipulator3D.js\";import{settings as u}from\"./settings.js\";import{OutlineVisualElement as d}from\"../visualElements/OutlineVisualElement.js\";import{ManipulatorState as g}from\"./ManipulatorState.js\";import{GraphicState as f}from\"../../layers/graphics/GraphicState.js\";function v(l){const{view:d,graphic:v}=l,b=new f({graphic:v}),S=y(l,b),j=[S,function(l,d,f){const{graphic:v,view:y}=l,b=[],S=c(v),j=\"on-the-ground\"===S.mode||!S.offset&&\"absolute-height\"!==S.mode,M=new g,G=new m({view:y,extensionType:u.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});u.visualElements.pointGraphics.shadowStyle.apply(G);const L=i(u.visualElements.heightPlaneAngleCutoff),D=new p({view:y,attached:!1,angleCutoff:L});u.visualElements.heightPlane.apply(D);let C=1,V=1;const k=()=>{if(M.update(l),!f.displaying||j&&(f.isDraped||!E(v)||!v.geometry.hasZ))return d.laserlineEnabled=!1,G.attached=!1,void(D.attached=!1);d.laserlineEnabled=!0;{const e=4&M.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==C&&(C=e,u.visualElements.lineGraphics.shadowStyle.apply(d,e),u.visualElements.pointGraphics.shadowStyle.apply(G,e))}{const e=2&M.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==V&&(V=e,u.visualElements.heightPlane.apply(D,e))}!function(t,a){const n=1===a.numSelected?a.firstSelected:a.numSelected>1&&e(a.firstGrabbedXY)?a.firstGrabbedXY:null;e(n)?(t.setStartEndFromWorldDownAtLocation(n.renderLocation),t.attached=!0):t.attached=!1}(G,M),function(t,a,n,i){if(i.numSelected>0){s(w,0,0,0);let e=0;t.forEachManipulator(((t,a)=>{1===a&&t.selected&&t instanceof h&&(o(w,w,t.renderLocation),e++)})),e>0?(n.heightManifoldTarget=r(w,w,1/e),n.attached=!0):n.attached=!1}else{const i=a.attachmentOrigin;e(i)&&t.view.renderCoordsHelper.toRenderCoords(i,w)?(n.heightManifoldTarget=w,n.attached=!0):n.attached=!1}}(l,d,D,M)};u.visualElements.zVerticalLine.apply(G),b.push(f.on(\"changed\",k),f.watch(\"displaying\",k),d.events.on(\"attachment-origin-changed\",k),a(G),a(D));const x=[],A=()=>{t(x).remove(),x.length=0,l.forEachManipulator((e=>x.push(e.events.on(\"grab-changed\",k)))),l.forEachManipulator((e=>x.push(e.events.on(\"select-changed\",k)))),k()};return A(),b.push(l.onManipulatorsChanged(A),n((()=>t(x)))),t(b)}(l,S.visualElement,b),d.maskOccludee(v),d.trackGraphicState(b)];return{visualElement:S.visualElement,remove:()=>t(j).remove()}}function y(e,n){const{view:i,graphic:l}=e,s=new d({view:i,geometry:E(l)?l.geometry:null,elevationInfo:c(l),attached:!1});u.visualElements.lineGraphics.shadowStyle.apply(s);const o=()=>{s.attached=n.displaying};u.visualElements.lineGraphics.outline.apply(s);const r=[n.watch(\"displaying\",o),n.watch(\"isDraped\",(e=>s.isDraped=e)),n.on(\"changed\",(()=>s.geometry=E(l)?l.geometry:null)),a(s)];return o(),{visualElement:s,remove:()=>t(r).remove()}}function E(t){return e(t.geometry)&&(\"polygon\"===t.geometry.type||\"polyline\"===t.geometry.type)}const w=l();export{y as createGeometryRepresentationVisualElement,v as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as n,refHandle as o}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../chunks/vec3.js\";import{init as s}from\"../../../../core/watchUtils.js\";import{containsXY as l}from\"../../../../geometry/support/aaBoundingRect.js\";import{projectVectorToVector as p,projectPointToVector as c}from\"../../../../geometry/projection.js\";import{create as m,empty as h,getMin as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{getGraphicEffectiveElevationInfo as g}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationAlignmentAtPoint as d}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as f}from\"../../layers/graphics/ElevationContext.js\";import{LaserlineVisualElement as v}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as y}from\"../visualElements/ExtendedLineVisualElement.js\";import{PointVisualElement as E}from\"../visualElements/PointVisualElement.js\";import{settings as w}from\"./settings.js\";import{ManipulatorState as j}from\"./ManipulatorState.js\";import{GraphicState as b}from\"../../layers/graphics/GraphicState.js\";function x(r){const{view:m,graphic:x}=r,A=new b({graphic:x}),C=[],M=function(t,i,r){const{view:a,graphic:p}=t,m=new E({view:a,geometry:S(p)?p.geometry:null,elevationInfo:g(p),attached:!1});return function(t,n,i,r){const a=()=>n.attached=i.displaying;(function(t,n,i,r){const{view:a,graphic:s}=t;let p=null;const m=()=>{e(p)&&(p.remove(),p=null),i.isDraped&&S(s)&&(p=function(e,t,n){const o=e.elevationProvider.spatialReference;c(t,L,o);const i=L[0],r=L[1];return e.elevationProvider.on(\"elevation-change\",(e=>{l(e.extent,i,r)&&n()}))}(a,s.geometry,(()=>{n.geometry=s.geometry})))},h=()=>{m(),n.geometry=S(s)?s.geometry:null};r.push(i.on(\"changed\",h),o((()=>p))),h()})(t,n,i,r),w.visualElements.pointGraphics.outline.apply(n),r.push(s(i,\"displaying\",a))}(t,m,i,r),r.push(n(m)),m}(r,A,C);return function(e,t,o,r){const{view:s,graphic:l}=e,c=new y({view:s,extensionType:w.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});w.visualElements.zVerticalLine.apply(c);const m=new v({view:s,intersectsLineInfinite:!0,attached:!1});w.visualElements.pointGraphics.shadowStyle.apply(m);const E=i(w.visualElements.heightPlaneAngleCutoff),b=new v({view:s,attached:!1,angleCutoff:E});w.visualElements.heightPlane.apply(b);const x=g(e.graphic),A=f.fromElevationInfo(x),C=\"on-the-ground\"===x.mode||!x.offset&&\"absolute-height\"!==x.mode,M=new j;let R=1,U=1;const D=()=>{M.update(e);const n=C&&(t.isDraped||!S(l)||!l.geometry.hasZ);let o=!0;if(!n&&S(l)){const e=l.geometry,t=d(l.geometry,s.elevationProvider,A,s.renderCoordsHelper);a(L,e.x,e.y,t),p(L,e.spatialReference,L,s.renderCoordsHelper.spatialReference),c.setStartEndFromWorldDownAtLocation(L),m.intersectsWorldUpAtLocation=L}else o=!1;{const e=2&M.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;e!==R&&(R=e,w.visualElements.heightPlane.apply(b,e))}{const e=h(P);!n&&t.displaying&&r.calculateMapBounds(e)&&p(u(e,L),s.spatialReference,L,s.renderCoordsHelper.spatialReference)?(b.heightManifoldTarget=L,b.attached=!0):b.attached=!1}{const e=4&M.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;e!==U&&(U=e,w.visualElements.pointGraphics.shadowStyle.apply(m,e))}const i=o&&t.displaying&&!n;m.attached=i,c.attached=i};o.push(t.watch([\"displaying\",\"isDraped\"],D),t.on(\"changed\",D)),e.forEachManipulator((e=>{o.push(e.events.on(\"grab-changed\",D))})),o.push(n(m)),o.push(n(c)),o.push(n(b)),D()}(r,A,C,M),C.push(m.trackGraphicState(A)),{visualElement:M,remove(){t(C).remove()}}}function S(t){return e(t.geometry)&&\"point\"===t.geometry.type}const L=r(),P=m();export{x as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as t}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as r}from\"./pointGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":return r(i);case\"polygon\":case\"polyline\":return t(i);default:return null}}export{i as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(70/3*2),P=160,i=.5,l=24,n=9,p=190,r=213,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{E as t}from\"./common.js\";function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(t,n,a,s,r){return t[0]=n,t[1]=a,t[2]=s,t[3]=r,t}function r(t,n){if(t===n){const a=n[1];t[1]=n[2],t[2]=a}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function u(t,n){const a=n[0],s=n[1],r=n[2],u=n[3];let o=a*u-r*s;return o?(o=1/o,t[0]=u*o,t[1]=-s*o,t[2]=-r*o,t[3]=a*o,t):null}function o(t,n){const a=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=a,t}function c(t){return t[0]*t[3]-t[2]*t[1]}function e(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return t[0]=s*c+u*e,t[1]=r*c+o*e,t[2]=s*i+u*f,t[3]=r*i+o*f,t}function i(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=Math.sin(a),e=Math.cos(a);return t[0]=s*e+u*c,t[1]=r*e+o*c,t[2]=s*-c+u*e,t[3]=r*-c+o*e,t}function f(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1];return t[0]=s*c,t[1]=r*c,t[2]=u*e,t[3]=o*e,t}function h(t,n){const a=Math.sin(n),s=Math.cos(n);return t[0]=s,t[1]=a,t[2]=-a,t[3]=s,t}function M(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function l(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function b(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function m(t,n,a,s){return t[2]=s[2]/s[0],a[0]=s[0],a[1]=s[1],a[3]=s[3]-t[2]*a[1],[t,n,a]}function p(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function d(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function x(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function w(n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return Math.abs(s-c)<=t*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(u-i)<=t*Math.max(1,Math.abs(u),Math.abs(i))&&Math.abs(o-f)<=t*Math.max(1,Math.abs(o),Math.abs(f))}function y(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function j(t,n,a,s){return t[0]=n[0]+a[0]*s,t[1]=n[1]+a[1]*s,t[2]=n[2]+a[2]*s,t[3]=n[3]+a[3]*s,t}let q=e,_=d;var v=Object.freeze({__proto__:null,copy:n,identity:a,set:s,transpose:r,invert:u,adjoint:o,determinant:c,multiply:e,rotate:i,scale:f,fromRotation:h,fromScaling:M,str:l,frob:b,LDU:m,add:p,subtract:d,exactEquals:x,equals:w,multiplyScalar:y,multiplyScalarAndAdd:j,mul:q,sub:_});export{m as L,u as a,o as b,n as c,c as d,e,h as f,f as g,M as h,a as i,l as j,b as k,p as l,v as m,d as n,x as o,w as p,y as q,i as r,s,r as t,j as u,q as v,_ as w};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function n(e,r,n,t){return[e,r,n,t]}function t(e,r){return new Float64Array(e,r,4)}var a=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t});export{r as a,t as b,e as c,n as f,a as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{cyclical2PI as n}from\"../../../support/mathUtils.js\";import{empty as e,expandPointInPlace as r,area as o,create as s}from\"../../../../../geometry/support/aaBoundingRect.js\";import{a}from\"../../../../../chunks/vec2f64.js\";import{o as c}from\"../../../../../chunks/vec2.js\";import{convexHull as i}from\"../../../../../geometry/geometryEngine.js\";import{f as m}from\"../../../../../chunks/mat2.js\";import{c as f}from\"../../../../../chunks/mat2f64.js\";import{dragGraphic as p,resetGraphic as l}from\"../../../../interactive/dragEventPipeline.js\";function u(t,n,e){const r=t.graphic,o=(t,e)=>n({action:t,graphic:r,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return e(((t,n,e)=>{n.next((t=>(\"start\"===t.action&&o(\"start\",t),t))).next(p(r)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&o(\"update\",t);break;case\"end\":o(\"end\",t)}return t})),e.next(l(r)).next((()=>{o(\"end\",{screenDeltaX:0,screenDeltaY:0})}))}))}function h(s){if(t(s)||\"polyline\"!==s.type&&\"polygon\"!==s.type)return 0;const a=i(s),f=a&&a.rings&&a.rings[0];if(!f)return 0;!function(t){let n=0,e=0;for(const r of t)n+=r[0],e+=r[1];n/=t.length,e/=t.length;for(const r of t)r[0]-=n,r[1]-=e}(f);const p=[];for(let t=0;t<f.length-1;t++){const e=Math.atan2(f[t+1][1]-f[t][1],f[t+1][0]-f[t][0]),r=n.normalize(e)%(Math.PI/2);p.push(r)}const l=p.sort(((t,n)=>t-n));let u=null,h=0,y=Number.POSITIVE_INFINITY,x=0;for(const t of l){if(t===u)continue;u=t,m(g,t),e(d);for(const t of f)c(j,t,g),r(d,j);const n=o(d);((n>y?y/n:n/y)>=.99&&t<h||n<y)&&(h=t,y=n),x=Math.max(x,n)}return y/x>=.95?0:h}const g=f(),d=s(),j=a();export{u as createGraphicMoveDragPipeline,h as primaryShapeOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this.forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this.forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this.forEachManipulator3D((t=>t.elevationInfo=a))}get available(){return this._available}set available(a){this._available=a,this.forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{b as s,i as e}from\"../../../../chunks/vec3.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{ray as a}from\"../../support/geometryUtils.js\";import{isInstanceHidden as o}from\"../materials/renderers/utils.js\";import{IntersectorOptions as n,IntersectorResults as h,IntersectorTransform as d,getVerticalOffsetObject3D as c,IntersectorResult as l}from\"./intersectorUtils.js\";class f{constructor(t){this.options=new n,this.results=new h,this.transform=new d,this.performanceInfo={queryDuration:0,numObjectsTested:0},this.tolerance=1e-5,this.verticalOffset=null,this._ray={origin:r(),direction:r()},this._rayEndPoint=r(),this._rayStartPointTransformed=r(),this._rayEndPointTransformed=r(),this.viewingMode=null==t?1:t}get ray(){return this._ray}get rayBeginPoint(){return this._ray.origin}get rayEndPoint(){return this._rayEndPoint}reset(t,r){this.resetWithRay(a.fromPoints(t,r,this._ray))}resetWithRay(t){t!==this._ray&&a.copy(t,this._ray),0!==this.options.verticalOffset?2===this.viewingMode?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,s(this._rayEndPoint,this._ray.origin,this._ray.direction),this._numObjectsTested=0,this.results.init(this._ray)}intersect(r,s,e,i,a,o){this.point=s,this.camera=e,this.filterPredicate=a,this.tolerance=null==i?1e-5:i;const n=c(this.verticalOffset),h=o?t=>{o(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};if(r&&r.length>0)for(const s of r){const r=s.getSpatialQueryAccelerator&&s.getSpatialQueryAccelerator();if(r)t(n)?r.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,h,n):r.forEachAlongRay(this._ray.origin,this._ray.direction,h),this.options.selectionMode&&this.options.hud&&r.forEachDegenerateObject(h);else{const t=s.getObjects();for(const r of t)h(r)}}this.sortResults()}intersectObject(r){this._numObjectsTested++;const s=r.geometryRecords;if(!s)return;const a=r.id,n=r.objectTransformation;let h;const d=c(this.verticalOffset);for(const c of s){const{geometry:s,material:f,instanceParameters:m}=c;if(o(m))continue;h=s.id,this.transform.setAndInvalidateLazyTransforms(n,c.getShaderTransformation()),e(this._rayStartPointTransformed,this._ray.origin,this.transform.inverse),e(this._rayEndPointTransformed,this._rayEndPoint,this.transform.inverse);const u=this.transform.transform;t(d)&&(d.objectTransform=this.transform),f.intersect(s,m,this.transform.transform,this,this._rayStartPointTransformed,this._rayEndPointTransformed,((s,e,o,n,d,c)=>{if(s>=0){if(t(this.filterPredicate)&&!this.filterPredicate(this._ray.origin,this._rayEndPoint,s))return;if(d)return void((null==this.results.hud.dist||s<this.results.hud.dist)&&this.results.hud.set(r,a,s,e,i,n,c,h,o));const f=t=>t.set(r,a,s,e,u,n,null,h,o);if((null==this.results.min.drapedLayerOrder||n>=this.results.min.drapedLayerOrder)&&(null==this.results.min.dist||s<this.results.min.dist)&&f(this.results.min),0!==this.options.store&&(null==this.results.max.drapedLayerOrder||n<this.results.max.drapedLayerOrder)&&(null==this.results.max.dist||s>this.results.max.dist)&&f(this.results.max),2===this.options.store){const t=new l(this._ray);f(t),this.results.all.push(t)}}}),c.shaderTransformation)}}sortResults(){this.results.all.sort(((t,r)=>t.dist!==r.dist?t.dist-r.dist:t.drapedLayerOrder!==r.drapedLayerOrder?(void 0!==t.drapedLayerOrder?t.drapedLayerOrder:Number.MAX_VALUE)-(void 0!==r.drapedLayerOrder?r.drapedLayerOrder:Number.MAX_VALUE):(void 0!==r.drapedLayerGraphicOrder?r.drapedLayerGraphicOrder:Number.MIN_VALUE)-(void 0!==t.drapedLayerGraphicOrder?t.drapedLayerGraphicOrder:Number.MIN_VALUE)))}}f.DEFAULT_TOLERANCE=1e-5;export{f as Intersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as n}from\"../../../../core/maybe.js\";import t from\"../../../../geometry/Point.js\";import\"../../../../geometry.js\";import{sign as o}from\"../../../../core/mathUtils.js\";import{screenPointObjectToArray as s,castScreenPointArray as c,createScreenPointArray as l}from\"../../../../core/screenUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{g as a,l as u,f as m,d,a as p,b as f,c as S}from\"../../../../chunks/vec3.js\";import{projectPoint as g}from\"../../../../geometry/projection.js\";import{getZForElevationMode as y,getGraphicEffectiveElevationInfo as j}from\"../../../../support/elevationInfoUtils.js\";import{sv2d as E}from\"../../support/stack.js\";import{ray as x,plane as w,vector as b}from\"../../support/geometryUtils.js\";import{TERRAIN_ID as v}from\"../../webgl-engine/lib/intersectorUtils.js\";import{Intersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{EventPipeline as P}from\"../../../interactive/dragEventPipeline.js\";function R(n,t){const o=i(),l=i();let a=!1;return i=>{if(\"start\"===i.action){const r=s(i.screenStart,c(E.get())),l=x.fromScreen(n.state.camera,r,G);e(l)&&(a=w.intersectRay(t,l,o))}if(!a)return null;const u=s(i.screenEnd,c(E.get())),m=x.fromScreen(n.state.camera,u,G);return r(m)?null:w.intersectRay(t,m,l)?{...i,renderStart:o,renderEnd:l,plane:t,ray:m}:null}}function C(n,t,o,s=null){let c=null;return i=>{if(\"start\"===i.action&&(c=n.sceneIntersectionHelper.intersectElevationFromScreen(l(i.screenStart.x,i.screenStart.y),t,o),e(c)&&e(s)&&!g(c,c,s)))return null;if(r(c))return null;const a=n.sceneIntersectionHelper.intersectElevationFromScreen(l(i.screenEnd.x,i.screenEnd.y),t,o);return e(a)?e(s)&&!g(a,a,s)?null:{...i,mapStart:c,mapEnd:a}:null}}function H(e,r,n,t=null){return C(e,n,y(r,e,n),t)}function U(e,r,n,t=null){return H(e,n,j(r),t)}function k(r,n,t,o){const s=n.toMap(r.screenStart,{include:[t]});return e(s)?U(n,t,s,o):null}function h(e,r,n){let t=null;const o=new P;return o.next(R(e,function(e,r){const n=D,t=q,o=w.create();e.renderCoordsHelper.worldUpAtPosition(r,n);const s=S(o,n,m(t,r,e.state.camera.eye));return S(s,s,n),w.fromPositionAndNormal(r,s,o)}(e,r))).next(T(e,r)).next(A(e,n)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function T(e,r){const n=i(),t=u(r);e.renderCoordsHelper.worldUpAtPosition(r,n);const s=i(),c=i(),l=s=>{if(m(s,s,r),b.projectPoint(n,s,s),\"global\"===e.viewingMode){u(s)*o(d(n,s))<.001-t&&m(s,p(s,n,.001),r)}return f(s,s,r),s};return e=>(e.renderStart=l(a(s,e.renderStart)),e.renderEnd=l(a(c,e.renderEnd)),e)}function A(r,n){const o=r.renderCoordsHelper;return r=>{const s=o.fromRenderCoords(r.renderStart,new t,n),c=o.fromRenderCoords(r.renderEnd,new t,n);return e(s)&&e(c)?{...r,mapStart:s,mapEnd:c}:null}}function F(r){let n=null;return t=>{switch(t.action){case\"start\":n=r.disableDisplay();break;case\"end\":case\"cancel\":e(n)&&(n.remove(),n=null)}return t}}function M(o,c=null){let a=null;const u=new I(o.state.mode);u.options.selectionMode=!0,u.options.store=0;const m=l(),d={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},p=i(),f=n(c,o.spatialReference),S=e=>{o.map.ground&&o.map.ground.opacity<1?d.exclude.add(v):d.exclude.delete(v),o.sceneIntersectionHelper.intersectIntersectorScreen(s(e,m),u,d);const r=u.results.min;let n;if(r.getIntersectionPoint(p))n=\"TerrainRenderer\"===r.intersector?0:1;else{if(!u.results.ground.getIntersectionPoint(p))return null;n=0}const c=new t({spatialReference:f});return o.renderCoordsHelper.fromRenderCoords(p,c),{location:c,surfaceType:n}};return n=>{if(\"start\"===n.action){const r=S(n.screenStart);a=e(r)?r.location:null}if(r(a))return null;const t=S(n.screenEnd);return e(t)?{...n,mapStart:a,mapEnd:t.location,surfaceType:t.surfaceType}:null}}const D=i(),q=i(),G=x.create();export{A as convertToMapCoordinates,F as hideManipulatorWhileDragging,T as projectToWorldUp,M as screenToMap3D,C as screenToMapXY,H as screenToMapXYAtLocation,k as screenToMapXYForGraphic,U as screenToMapXYForGraphicAtLocation,R as screenToRenderPlane,h as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import r from\"../../../../../core/Evented.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as o}from\"../../../../../chunks/vec3.js\";import s from\"../../../../../core/Handles.js\";import{w as n,i as l,x as p,m as u,r as h,p as m}from\"../../../../../chunks/mat4.js\";import{a as c}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as d}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as f,sm4d as _}from\"../../../support/stack.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import M from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as w}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as v,dragAtLocation as j,constrainToMapAxis as y,addScreenDelta as A}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as I}from\"../dragEventPipeline3D.js\";import{Manipulator3D as b}from\"../../Manipulator3D.js\";import{colors as x}from\"../settings.js\";import{DISC_RADIUS as T,DISC_HEIGHT as D,DISC_TRANSLATE_ARROW_OFFSET as P,DISC_TRANSLATE_ARROW_SIZE as k}from\"./config.js\";import{Manipulation as E}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as S}from\"./moveUtils.js\";class U extends E{constructor(t){super(),this._handles=new s,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this.createMaterial(),this._transparentMaterial=this.createMaterial(.5),this._angle=0,this._scale=1,this._radius=T,this._updateAfterDrag=!1,this.events=new r,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles.removeAll(),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){this._arrowManipulatorInfos.map((({manipulator:a})=>t(a,1)))}createGraphicDragPipeline(a,r){const e=a.graphic,i=d(e),o=t(e.geometry).spatialReference;return S(a,r,(t=>this.createDragPipeline(t,i,o)))}createDragPipeline(t,r,e){return a(this._arrowManipulatorInfos.map((({manipulator:a},i)=>v(a,((a,o,s,n,l)=>{const p=o.next((t=>({...t,manipulatorType:1}))).next(j(this._view,a.elevationAlignedLocation)).next(I(this._view,a.elevationAlignedLocation,r,e)).next(y(a.location,this.angle+(i+1)*Math.PI*.5)).next(A());t(a,p,s,n,l)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/T,i=k*e,s=Math.sqrt(i*i*3/4),h=g.createExtrudedTriangle(s,i/2,i/2,D);g.transformInPlace(h,n(_.get(),o(f.get(),0,-s/3,0)));const m=new M(h,\"move-xy-axis-arrow\");t.renderObjects=[{geometry:m,material:this._opaqueMaterial,stateMask:2},{geometry:m,material:this._transparentMaterial,stateMask:1}],t.radius=s/3*2*1.2;const c=l(_.get());p(c,r*Math.PI/2);const d=l(_.get());n(d,o(f.get(),0,P*e,0)),u(a,c,d)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=l(_.get());h(a,a,t,i(0,0,1));const r=m(_.get(),o(f.get(),this.displayScale,this.displayScale,this.displayScale)),e=l(_.get());u(e,r,a);for(const t of this._arrowManipulatorInfos){const a=u(_.get(),e,t.transform);t.manipulator.modelTransform=a}}_createArrowManipulator(t){const a=new b({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)}}),r={manipulator:a,transform:c()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}createMaterial(t=1){const a=e.toUnitRGBA(x.main);return a[3]*=t,new w({color:a,transparent:1!==t,cullFace:2,renderOccluded:2},\"graphic-transform\")}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{U as MoveXYAxisManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this.snap(this.lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}snap(n){const a=t(this.view)?this.view.toMap(n,{exclude:[]}):null;return t(a)&&t(this.view)&&(a.z=e(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this.snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../../chunks/vec3.js\";import r from\"../../../../../core/Handles.js\";import{p as s}from\"../../../../../chunks/mat4.js\";import{a as o}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as n}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as l,sm4d as p}from\"../../../support/stack.js\";import c from\"../../../webgl-engine/lib/GeometryUtil.js\";import m from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as u}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as h,dragAtLocation as d,addScreenDelta as _}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as f}from\"../dragEventPipeline3D.js\";import{Manipulator3D as g}from\"../../Manipulator3D.js\";import{colors as M}from\"../settings.js\";import{DISC_RADIUS as j,DISC_HEIGHT as y,GEOMETRY_SEGMENTS as S,DISC_COLLISION_RADIUS as v}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as w}from\"./moveUtils.js\";import{SnapToScene as b}from\"../snapping/SnapToScene.js\";class x extends T{constructor(t){super(),this._handles=new r,this._snapToScene=new b,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=j,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,1)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(e,i){const a=e.graphic,r=n(a),s=t(a.geometry).spatialReference;return w(e,i,(t=>this.createDragPipeline(t,r,s)))}createDragPipeline(t,e,i){const a=this._view;return h(this._manipulator,((r,s,o,n,l)=>{const p=s.next(d(a,r.elevationAlignedLocation)).next(f(a,r.elevationAlignedLocation,e,i)).next(this._snapToScene.createDragEventPipelineStep(a,e),this._snapToScene.next).next((t=>({...t,manipulatorType:1}))).next(_());t(r,p,o,n,l)}))}_updateManipulatorTransform(){const t=s(p.get(),a(l.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new g({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=new m(c.createCylinderGeometry(y,1,S,i(0,0,1),i(0,0,0)),\"graphic-transform-disc\"),e=s(o(),i(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:2},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:1}],this._manipulator.radius=v*(this._radius/j)}_createMaterial(t=1){const i=e.toUnitRGBA(M.main);return i[3]*=t,new u({color:i,transparent:1!==t,cullFace:2,renderOccluded:2},\"move-xy-disc\")}get test(){return{discManipulator:this._manipulator}}}export{x as MoveXYDiscManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{c as a,f as i}from\"../../../../../chunks/vec3f64.js\";import{w as o,f as s,n,d as l,c as m,a as p}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{t as u,e as h,s as d}from\"../../../../../chunks/mat4.js\";import{darken as f}from\"../../../../../core/colorUtils.js\";import{a as M}from\"../../../../../chunks/mat4f64.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import _ from\"../../../webgl-engine/lib/Geometry.js\";import{createManipulatorDragEventPipeline as y,addScreenDelta as j}from\"../../../../interactive/dragEventPipeline.js\";import{screenToZConstrained as v}from\"../dragEventPipeline3D.js\";import{Manipulator3D as w}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as z}from\"../../manipulatorUtils.js\";import{settings as b}from\"../settings.js\";import{DISC_RADIUS as k}from\"./config.js\";import{Manipulation as P}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as x}from\"./moveUtils.js\";class D extends P{constructor(t){super(),this._handles=new c,this._radius=k,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this.createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,0)}createGraphicDragPipeline(e,r){const a=t(e.graphic.geometry).spatialReference;return x(e,r,(t=>this.createDragPipeline(t,a)))}createDragPipeline(t,e){const r=this._view;return y(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:0}))).next(v(r,a.renderLocation,e)).next(j());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this.updateManipulator())}updateManipulator(){const t=this._radius/k,e=b.zManipulator.height*t,r=b.zManipulator.coneHeight*t,a=b.zManipulator.coneWidth*t,o=b.zManipulator.width*t,s=[i(0,0,0),i(0,0,e)],n=new _(g.createTubeGeometry(s,o/2,16,!1),\"move-z\"),l=g.createConeGeometry(r,a/2,16,!1),m=new _(l),p=[i(0,0,0),i(0,0,e+r)],c=(t=>{const r=M();if(u(r,r,[0,0,e]),h(r,r,Math.PI/2),t){const e=1+2*t/a;d(r,r,[e,e,e])}return r})(0),y=(t,e)=>{const r=f(b.zManipulator.color,e);return[r.r/255,r.g/255,r.b/255,b.zManipulator.color.a*t]},j=z(y(1,.25),1),v=z(y(1,0),1),w=z(y(.7,0),b.zManipulator.renderOccluded),P=z(y(.85,0),b.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:m,transform:c,material:j,stateMask:1},{geometry:n,material:j,stateMask:1},{geometry:m,transform:c,material:v,stateMask:2},{geometry:n,material:v,stateMask:2},{geometry:m,transform:c,material:w,stateMask:1},{geometry:n,material:w,stateMask:1},{geometry:m,transform:c,material:P,stateMask:2},{geometry:n,material:P,stateMask:2}],this._manipulator.radius=o/2+2,this._manipulator.collisionType={type:\"line\",paths:[p]}}createManipulator(){const t=new w({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,a=E;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,a);const i=o(e.eye,a),c=e.computeRenderPixelSizeAtDist(i),u=s(O,a,e.eye);n(u,u);const h=U;this._view.renderCoordsHelper.worldUpAtPosition(E,h);const d=Math.abs(l(u,h)),f=m(O,u,h),M=m(O,f,h),g=r(d,.01,1),_=1-Math.sqrt(1-g*g)/g/e.fullWidth,y=this._radius/k,j=b.zManipulator.width*y;p(M,n(M,M),(1/_-1)*i+c*j),t[12]-=O[0],t[13]-=O[1],t[14]-=O[2]},this._manipulator=t,this.updateManipulator()}}const E=a(),O=a(),U=a();export{D as MoveZManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/has.js\";import{isSome as a}from\"../../../../../core/maybe.js\";import{handlesGroup as t}from\"../../../../../core/handleUtils.js\";import e from\"../../../../../core/Handles.js\";import{DISC_RADIUS_SMALL as n,DISC_RADIUS as s}from\"./config.js\";import{Manipulation as o}from\"./Manipulation.js\";import{MoveXYAxisManipulation as r}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as l}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as p}from\"./MoveZManipulation.js\";class h extends o{constructor(i){super(),this._handles=new e,this._angleDeferred=null,this._interactive=!0;const{tool:a,view:t,snapToScene:n,radius:s}=i;this._view=t,this.xyManipulation=new l({tool:a,view:t,snapToScene:n,radius:s}),this.xyAxisManipulation=new r({tool:a,view:t,radius:s}),this.zManipulation=new p({tool:a,view:t,radius:s}),this.xyManipulation.available=i.xyAvailable,this.xyAxisManipulation.available=i.xyAxisAvailable,this.zManipulation.available=i.zAvailable,this.autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this.updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,a){return t([this.xyManipulation.createGraphicDragPipeline(i,a),this.xyAxisManipulation.createGraphicDragPipeline(i,a),this.zManipulation.createGraphicDragPipeline(i,a)])}createDragPipeline(i,a,e){return t([this.xyManipulation.createDragPipeline(i,a,e),this.xyAxisManipulation.createDragPipeline(i,a,e),this.zManipulation.createDragPipeline(i,e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this.updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,1))),this.xyAxisManipulation.forEachManipulator((a=>i(a,1))),this.zManipulation.forEachManipulator((a=>i(a,0)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}autoHideXYAxis(){const t=this.xyAxisManipulation,e=this.xyManipulation;if(i(\"esri-mobile\"))return;const n=[];e.forEachManipulator((i=>n.push(i))),t.forEachManipulator((i=>n.push(i)));const s=()=>{const i=[];this.xyAxisVisible?a(this._angleDeferred)&&(this.angle=this._angleDeferred()):t.forEachManipulator((a=>i.push(a.disableDisplay()))),this._handles.remove(u),this._handles.add(i,u)};for(const i of n)this._handles.add(i.events.on(\"focus-changed\",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch(\"latestPointerType\",s)),s()}updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const t=a(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!t&&t.length>0&&t.some((i=>\"icon\"===i.type))?n:s}}const u=\"disable-xy-axis-display\";export{h as MoveManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import i from\"../../../../../core/Handles.js\";import{createManipulatorDragEventPipeline as e,addMapDelta as r,addScreenDelta as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{screenToMapXYForGraphic as s}from\"../dragEventPipeline3D.js\";import{Manipulation as n}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as l}from\"./moveUtils.js\";class h extends n{constructor(t){super(),this._handles=new i,this._view=t.view,this._tool=t.tool,this._graphicState=t.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,1)}createGraphicDragPipeline(t){return l(this._graphicState,t,(t=>this.createDragPipeline(t)))}createDragPipeline(i){const o=this._view,n=this._graphicState.graphic,l=t(n.geometry)?n.geometry.spatialReference:null;return e(this._manipulator,((t,e,h,p,c)=>{const m=e.next(s(c,o,n,l)).next(r()).next(a());i(t,m,h,p,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new o({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{h as MoveXYGraphicManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrap as e,isSome as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Collection.js\";import l from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as p}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as h}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{dragGraphicMany as c,resetGraphicMany as m}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as u}from\"../../../../interactive/InteractiveToolBase.js\";import{getGraphicAttachmentOrigin as d}from\"../../manipulatorUtils.js\";import{isSupportedGraphic as g}from\"./isSupportedGraphic.js\";import{canMoveZ as v}from\"../manipulatorUtils.js\";import{OutlineVisualElement as f}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as M}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as y}from\"../visualElementUtils.js\";import{DISC_RADIUS as _}from\"../manipulations/config.js\";import{primaryShapeOrientation as j}from\"../manipulations/moveUtils.js\";import{MoveManipulation as w}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as b}from\"../manipulations/MoveXYGraphicManipulation.js\";class x{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class E{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type=\"graphic-move\"}}class A{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let S=class extends(n.EventedMixin(u)){constructor(t){super(t),this.graphics=new r,this.enableZ=!0,this.type=\"move-3d\",this._toolHandles=new l,this._handles=new l}initialize(){this._toolHandles.add([this.graphics.on(\"change\",(()=>this._refreshManipulators()))]),this._refreshManipulators()}destroy(){this._handles.destroy(),this._handles=null,this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set(\"view\",null)}reset(){}_refreshManipulators(){this._handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>0===g(t))).map((t=>new D(t)));t.length&&(this.createManipulators(t),this.createVisualElements(t),this._handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this.updateMoveManipulation(t))}createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new b({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this._handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this._handles.add(e.manipulationXY.createDragPipeline(((e,i,a)=>this.buildDragEventPipeline(e,i,a,t))))}this.createMoveManipulation(t)}createMoveManipulation(t){const i=new w({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?w.radiusForSymbol(t[0].graphic.symbol):_});this._moveManipulation=i,i.elevationInfo={mode:\"absolute-height\",offset:0},i.forEachManipulator((t=>{this._handles.add(t.events.on(\"immediate-click\",(e=>{i.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...e,graphic:this.graphics.getItemAt(0)}),e.stopPropagation()})))}));const a=()=>this.updateMoveManipulation(t);for(const e of t)this._handles.add([e.state.on(\"changed\",a),e.state.watch(\"displaying\",a)]);const o=t[t.length-1];this._handles.add(o.state.on(\"changed\",(()=>this.updateMoveManipulationAngle(o)))),this._handles.add(i.createDragPipeline(((e,i,a)=>{this.buildDragEventPipeline(e,i,a,t)}),p(o.graphic),e(o.graphic.geometry).spatialReference)),this.updateMoveManipulationAngle(o)}createVisualElements(t){for(const e of t){const i=e.graphic,o=y({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>a()});e.geometryRepresentation=o.visualElement,e.geometryRepresentation instanceof f&&this._handles.add([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.state.isDraped||this.updateMoveManipulation(t)})),e.state.watch(\"isDraped\",(()=>this.updateMoveManipulation(t)))]),this._handles.add(o)}}updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>j(t.graphic.geometry)}updateMoveManipulation(t){const e=h(0,0,0,this.view.spatialReference);let a=0,o=!1;const s=this._moveManipulation;for(const s of t){if(!s.state.displaying)continue;const t=s.state.graphic;this.enableZ&&v(t)&&(o=!0);const n=s.geometryRepresentation instanceof f&&!s.state.isDraped?s.geometryRepresentation.attachmentOrigin:d(this.view,t);i(n)&&(e.x+=n.x,e.y+=n.y,e.z+=n.z,a++)}a>0?(e.x/=a,e.y/=a,e.z/=a,s.location=e,s.xyManipulation.available=!0,s.xyAxisManipulation.available=!0,s.zManipulation.available=o):s.available=!1}buildDragEventPipeline(t,e,i,a){const o=[],s=[];let n=null,r=null;const l=()=>{for(const t of o)t.dragging=!1;o.length=0,s.length=0,n=null,r=null,this._moveManipulation.interactive=!0};e.next((e=>{if(\"start\"===e.action){o.length=0,s.length=0;for(const e of a)e.dragging||!e.manipulationXY.hasManipulator(t)&&e.manipulationXY.grabbing||(o.push(e),s.push(e.graphic),e.dragging=!0);if(0!==s.length&&(this._moveManipulation.interactive=!1,n=c(s),r=m(s),this.emit(\"graphic-move-start\",new x(s)),this.destroyed))return null}return 0!==s.length?e:null})).next((t=>n(t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,o=i.y-e.y;if(this.emit(\"graphic-move\",new E(a,o,s)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}})),i.next((t=>r(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}))}};t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"view\",void 0),t([o({readOnly:!0})],S.prototype,\"graphics\",void 0),t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"enableZ\",void 0),t([o({readOnly:!0})],S.prototype,\"type\",void 0),S=t([s(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],S);class D{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new M({graphic:t})}get graphic(){return this.state.graphic}}export{E as GraphicMoveEvent,x as GraphicMoveStartEvent,A as GraphicMoveStopEvent,S as GraphicMoveTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,destroyMaybe as i,isNone as a,unwrap as o}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{handlesGroup as n}from\"../../../../../core/handleUtils.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import l from\"../../../../../core/Evented.js\";import{s as p,b as h,a as u}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{init as d}from\"../../../../../core/watchUtils.js\";import{getGraphicEffectiveElevationInfo as m}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as g}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{sv3d as _}from\"../../../support/stack.js\";import v from\"../../../webgl-engine/lib/GeometryUtil.js\";import M from\"../../../webgl-engine/lib/Geometry.js\";import{EditGeometry as y}from\"../editGeometry/EditGeometry.js\";import{EditGeometryHelper as f}from\"../editGeometry/EditGeometryHelper.js\";import{addMapDelta as x,createManipulatorDragEventPipeline as b,dragAtLocation as S}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingContext as E}from\"../../../../interactive/snapping/SnappingAlgorithm.js\";import{SnappingEngine as G}from\"../../../../interactive/snapping/SnappingEngine.js\";import{screenToMapXYForGraphicAtLocation as w}from\"../dragEventPipeline3D.js\";import{Manipulator3D as H}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as I,createManipulatorOutlineMaterial as O,placeAtGraphic as P}from\"../../manipulatorUtils.js\";import{canMoveZ as V}from\"../manipulatorUtils.js\";import{settings as D}from\"../settings.js\";import{OutlineVisualElement as j}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as k}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as A}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as U}from\"../manipulations/config.js\";import{primaryShapeOrientation as L}from\"../manipulations/moveUtils.js\";import{MoveManipulation as T}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as z}from\"../manipulations/MoveXYGraphicManipulation.js\";let C=class extends l.EventedAccessor{constructor(e){super(e),this._vertexManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.vertex.color),D.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.vertex.outlineColor),D.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.vertex.hoverOutlineColor),D.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.edge.color),D.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.edge.outlineColor),D.reshapeManipulators.edge.renderOccluded),this._selectedManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.selected.color),D.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.selected.outlineColor),D.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.selected.hoverOutlineColor),D.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._handles=new c,this._manipulatorHandles=new c,this._manipulatorInfos=[],this._reshapeHelper=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=0,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._vertexLaserLineVisualElement=null,this.snappingEngine=new G(e.tool.snappingOptions)}initialize(){const e=new k({graphic:this.graphic});this._graphicState=e,this._handles.add([e.watch(\"displaying\",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._clear(),this._handles.destroy(),this.snappingEngine.destroy()}get inputGeometry(){return t(this._reshapeHelper)?this._reshapeHelper.geometry:null}set inputGeometry(e){this._recreateManipulators(e)}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZ(){return this.tool.enableZ}get enableMoveGraphic(){return this.tool.enableMoveGraphic}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_clear(){this._moveManipulation=i(this._moveManipulation),this._graphicMoveManipulation=i(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[],this._reshapeHelper=null,this._numGrabbing=0,this._numDragging=0}_recreateManipulators(e=this.inputGeometry){if(this._clear(),a(e))return;this._reshapeHelper=new Y(y.fromGeometry(e,this.view.viewingMode),e.type);const t=m(this.graphic);for(const e of this._reshapeHelper.data.components){for(const i of e.vertices)this._createPerVertexManipulator(i,t);for(const i of e.edges)this._createPerVertexManipulator(i,t)}this._createGraphicMoveManipulators(t)}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return;const i=[],a=this._manipulatorInfos.some((e=>\"vertex\"===e.handle.type&&e.manipulator.selected)),n=1===e&&a,r=o(this._reshapeHelper);for(const e of this._manipulatorInfos)\"vertex\"===e.handle.type&&(e.manipulator.grabbing||n&&!e.manipulator.selected||(o(r).moveVertices([e.handle],t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ),i.push(e.handle.pos),this._updateManipulatorPosition(e)));if(0===i.length)return;let s=0;for(const e of this._manipulatorInfos)\"vertex\"===e.handle.type&&s++;this.outputGeometry=r.geometry;if(i.length===s){if(this._updateEventState(1),this.destroyed)return;if(this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic}),this.destroyed)return}else{if(this._updateEventState(2),this.destroyed)return;if(this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic}),this.destroyed)return}}isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)F(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(2),this.destroyed)return;const t=e.mapDeltaX,i=e.mapDeltaY,a=e.mapDeltaZ;if(!t&&!i&&!a)return;const n=[];for(const t of this._manipulatorInfos)F(t)&&(t.manipulator.selected&&!t.manipulator.grabbing||t===e.info)&&n.push(t);const r=o(this._reshapeHelper);for(const e of n)r.moveVertices([e.handle],t,i,a);this.outputGeometry=r.geometry;for(const e of n)this._updateManipulatorPosition(e);this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){this._graphicMoveManipulation=new z({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic?this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((e,t,i)=>{t.next((e=>this._trackNumDragging(e))).next((e=>{this._perGraphicManipulatorDragAction(0,e)})),i.next(this._cancelDragOperation())}))):this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null})),this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\"),e.stopPropagation()}))]))),this._moveManipulation=new T({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&V(this.graphic),snapToScene:!1,radius:T.radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this._handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\"),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const i=o(this.graphic.geometry).spatialReference;let a=null;this._handles.add([this._moveManipulation.createDragPipeline(((i,n,r,s)=>{n.next((e=>this._trackNumDragging(e))).next((i=>{if(\"start\"===i.action){const t=this._manipulatorInfos.filter((e=>F(e)&&e.manipulator.selected));if(1===i.manipulatorType&&1===t.length){const i=t[0].handle;a=new E(o(this._reshapeHelper),this.view,e,s,i)}}return t(a)&&(i.mapEnd=this.snappingEngine.snap(i.mapEnd,a)),\"end\"===i.action&&(this.snappingEngine.doneSnapping(),a=null),i})).next(x()).next((e=>{this._perGraphicManipulatorDragAction(1,e)})),r.next(this._cancelDragOperation())}),e,i),d(this._graphicState,\"displaying\",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on(\"changed\",(()=>this._updateMoveManipulationPosition())),d(this._graphicState,\"isDraped\",(()=>{const e=\"align-move-manipulation\";this._graphicState.isDraped?this._handles.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this._handles.remove(e)}))]),this._updateMoveManipulationPosition();const n=A({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){t(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,1);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});this._outlineVisualElement=n.visualElement instanceof j?n.visualElement:null,t(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch(\"isDraped\",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(n)}_createPerVertexManipulator(e,t=m(this.graphic)){if(a(this._vertexManipulatorGeometry)||a(this._vertexManipulatorOutlineGeometry)){const e=D.reshapeManipulators.vertex,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._vertexManipulatorGeometry=new M(v.createSphereGeometry(a,16,16),\"reshape-manipulator\");const o=(t+e.outlineSize)/i;this._vertexManipulatorOutlineGeometry=new M(v.createSphereGeometry(o,16,16),\"reshape-manipulator-outline\")}if(a(this._edgeManipulatorGeometry)||a(this._edgeManipulatorOutlineGeometry)){const e=D.reshapeManipulators.edge,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._edgeManipulatorGeometry=new M(v.createSphereGeometry(a,16,16),\"reshape-manipulator\");const o=(t+e.outlineSize)/i;this._edgeManipulatorOutlineGeometry=new M(v.createSphereGeometry(o,16,16),\"reshape-manipulator-outline\")}const i=new H({view:this.view,renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:4|X.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:5|X.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|X.Vertex},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:6|X.Edge},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|X.Edge},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:5|X.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:5|X.Edge},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(i,e,t);const o=\"edge\"===e.type?{manipulator:i,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:i,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(o),this.manipulators.add(i),this._updateManipulatorPosition(o),\"edge\"===o.type){const e=this._getManipulatorInfoFromHandle(o.handle.left).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(o))),t=this._getManipulatorInfoFromHandle(o.handle.right).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(o)));o.locationUpdateHandle=n([e,t]),this._manipulatorHandles.add(o.locationUpdateHandle,i)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(i,!0),i);const r=b(i,((e,i,a,n)=>{i.next((e=>this._trackNumDragging(e))).next((e=>R(o)?{...e,info:this._splitEdgeManipulator(o)}:{...e,info:o})).next(S(this.view,e.elevationAlignedLocation)).next(w(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference)).next(this._snapDrag(t,n)).next(x()).next((e=>{this._perVertexManipulatorDragAction(e)})),a.next(this._cancelDragOperation())}));return this._manipulatorHandles.add(r,i),this._manipulatorHandles.add([i.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,o))),i.events.on(\"select-changed\",(()=>{o.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))]),this.emit(\"manipulators-changed\"),i}_snapDrag(e,i){let a=null;const n=o(this._reshapeHelper);return o=>{if(\"start\"===o.action&&(this.isMultiVertexSelection()||(a={context:new E(n,this.view,e,i,o.info.handle),originalPos:n.data.coordinateHelper.createDehydratedPoint(o.info.handle.pos)})),t(a)){const e={...a.originalPos};e.x+=o.mapEnd.x-o.mapStart.x,e.y+=o.mapEnd.y-o.mapStart.y;const t=this.snappingEngine.snap(e,a.context);o.mapEnd.x=t.x+(o.mapStart.x-a.originalPos.x),o.mapEnd.y=t.y+(o.mapStart.y-a.originalPos.y)}return\"end\"===o.action&&(this.snappingEngine.doneSnapping(),a=null),o}}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_cancelDragOperation(){const e=t(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return()=>{switch(this._numDragging--,this.inputGeometry=e,this.outputGeometry=e,this.snappingEngine.doneSnapping(),this._reshapeEventState){case 0:break;case 1:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}this.destroyed||this._updateEventState(0)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=X.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=D.reshapeManipulators.vertex.size/2+D.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i;break;case\"edge\":e.state=X.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=D.reshapeManipulators.edge.size/2+D.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"===i.mode?i:{mode:\"absolute-height\",offset:0}}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{if(\"start\"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const i=o(this._reshapeHelper);if(\"vertex\"===e.handle.type)e.manipulator.location=i.data.coordinateHelper.toPoint(e.handle.pos,N),e.manipulator.grabbing&&t(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.handle.type){const a=this._getManipulatorInfoFromHandle(e.handle.left).manipulator,o=this._getManipulatorInfoFromHandle(e.handle.right).manipulator;if(t(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const t=a.location,n=o.location,r=.5,s=t.x+r*(n.x-t.x),l=t.y+r*(n.y-t.y),p=t.hasZ&&n.hasZ?0:void 0;e.manipulator.location=g(s,l,p,i.geometry.spatialReference)}else{const t=a.elevationAlignedLocation,n=o.elevationAlignedLocation,r=.5,s=t.x+r*(n.x-t.x),l=t.y+r*(n.y-t.y),p=t.hasZ&&n.hasZ?t.z+r*(n.z-t.z):void 0;e.manipulator.elevationAlignedLocation=g(s,l,p,i.geometry.spatialReference)}}}_splitEdgeManipulator(e){const t=o(this._reshapeHelper),i=o(t.splitEdge(e.handle,.5).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const a=e;a.handle=i,a.type=\"vertex\";const n=m(this.graphic);this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,n),i.left&&this._createPerVertexManipulator(i.left),i.right&&this._createPerVertexManipulator(i.right),this.outputGeometry=t.geometry,this._updateManipulatorPosition(a),this._updateSelection(e.manipulator);const r=this._updateEventState(2),s=t.data.coordinateHelper.toArray(a.handle.pos),l=t.data.components.indexOf(i.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:o(i.index)}],added:s}),r&&this._updateEventState(0),a}_updateMoveManipulationPosition(){const e=_.get();p(e,0,0,0);let i=0,n=!1,r=null,s=null;for(const t of this._manipulatorInfos)F(t)&&(t.manipulator.selected?(i++,h(e,e,t.manipulator.renderLocation),a(r)||t.selectedIndex>r.selectedIndex?(s=r,r=t):(a(s)||t.selectedIndex>s.selectedIndex)&&(s=t)):n=!0);if(0!==i){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==i}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic)}if(0!==i){let e=0;if(t(r)){const i=r.handle.pos,a=t(s)?s.handle.pos:r.handle.left&&r.handle.left.left?r.handle.left.left.pos:null,o=!t(s)&&r.handle.right&&r.handle.right.right?r.handle.right.right.pos:null;a&&o?this._moveManipulation.xyAxisManipulation.available=!1:a?e=Z(a,i):o&&(e=Z(i,o))}this._moveManipulation.angle=e,this._moveManipulation.radius=U}else this._moveManipulation.angleDeferred=()=>L(o(this.graphic.geometry)),this._moveManipulation.radius=T.radiusForSymbol(this.graphic.symbol);0!==i&&n?(u(e,e,1/i),N.spatialReference=o(this._reshapeHelper).geometry.spatialReference,N.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,N),this._moveManipulation.elevationAlignedLocation=N):t(this._outlineVisualElement)&&!this._graphicState.isDraped&&t(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:P(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=o(this._reshapeHelper);for(const a of e)if(\"vertex\"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.left)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.right));const e=o(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createPerVertexManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.data.components.indexOf(e.component);return{coordinates:i.data.coordinateHelper.toArray(e.pos),componentIndex:t,vertexIndex:o(e.index)}}));this.outputGeometry=i.geometry;const a=this._updateEventState(2);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),\"vertex\"===t.handle.type&&2===e.button&&this._removeVertices([t]),R(t)&&0===e.button&&this._splitEdgeManipulator(t),e.stopPropagation()}};function Z(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function F(e){return\"vertex\"===e.handle.type}function R(e){return\"edge\"===e.handle.type}e([r({constructOnly:!0})],C.prototype,\"tool\",void 0),e([r()],C.prototype,\"inputGeometry\",null),e([r()],C.prototype,\"outputGeometry\",void 0),C=e([s(\"esri.views.3d.interactive.editingTools.graphicReshape3D.ReshapeOperation\")],C);const N=g(0,0,null,null);var X;!function(e){e.Vertex=16,e.Edge=32}(X||(X={}));class Y extends f{constructor(e,t){super(e,t),this.type=t,this._geometry=null}get geometry(){if(this._dirty){switch(this.type){case\"polyline\":this._geometry=this.data.toPolyline();break;case\"polygon\":this._geometry=this.data.toPolygon()}this._dirty=!1}return this._geometry}}export{Y as ReshapeGeometryHelper,C as ReshapeOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,isNone as r}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import s from\"../../../../../core/Evented.js\";import p from\"../../../../../core/Handles.js\";import{init as a}from\"../../../../../core/watchUtils.js\";import{InteractiveToolBase as n}from\"../../../../interactive/InteractiveToolBase.js\";import{SnappingOptions as h}from\"../../../../interactive/snapping/SnappingOptions.js\";import{isSupportedGraphic as c}from\"./isSupportedGraphic.js\";import{ReshapeOperation as m}from\"./ReshapeOperation.js\";let l=class extends(s.EventedMixin(n)){constructor(e){super(e),this._handles=new p,this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZ=!0,this.enableMoveGraphic=!0,this.type=\"reshape-3d\",this.snappingOptions=new h}destroy(){this._handles.removeAll(),this._reshapeOperation&&(this._reshapeOperation.destroy(),this._reshapeOperation=null),this._set(\"view\",null),this._set(\"graphic\",null)}get selectionManagementDisabled(){return!0}_updateGeometry(){const e=this.graphic.geometry;0!==c(this.graphic)||!t(e)||\"polygon\"!==e.type&&\"polyline\"!==e.type?this._reshapeOperation.inputGeometry=null:this._reshapeOperation.inputGeometry=e.clone()}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),0!==c(this.graphic))return;const e=this.watch(\"graphic.geometry\",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,\"onGraphicGeometryChange\")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_onReshapeGeometryChanged(){r(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)}initialize(){this._reshapeOperation=new m({tool:this}),this._handles.add([this._reshapeOperation.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),this._reshapeOperation.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),this._reshapeOperation.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),this._reshapeOperation.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),this._reshapeOperation.on(\"immediate-click\",(()=>this.emit(\"immediate-click\"))),a(this,\"graphic\",(()=>{this._updateGraphic()}),!0)])}beforeUndo(){this._reshapeOperation.snappingEngine.doneSnapping()}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}};e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"view\",void 0),e([o({constructOnly:!0})],l.prototype,\"graphic\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableZ\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableMoveGraphic\",void 0),e([o({readOnly:!0})],l.prototype,\"type\",void 0),e([o()],l.prototype,\"snappingOptions\",void 0),l=e([i(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],l);export{l as GraphicReshapeTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../../core/maybe.js\";import{addFrameTask as a}from\"../../../../../core/scheduling.js\";import i from\"../../../../../core/Evented.js\";import{clamp as o}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray as s,createScreenPointArray as r}from\"../../../../../core/screenUtils.js\";import{b as n,f as l,c}from\"../../../../../chunks/vec3f64.js\";import{a as h}from\"../../../../../chunks/common.js\";import{s as g,f as d,l as m,h as u,c as p,b as f}from\"../../../../../chunks/vec3.js\";import{cyclicalPI as D}from\"../../../support/mathUtils.js\";import M from\"../../../../../core/Handles.js\";import{init as y}from\"../../../../../core/watchUtils.js\";import{i as S,r as b,p as R,m as v,s as w}from\"../../../../../chunks/mat4.js\";import{a as k}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as _}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as j,sm4d as A}from\"../../../support/stack.js\";import{plane as F,ray as I}from\"../../../support/geometryUtils.js\";import E from\"../../../webgl-engine/lib/GeometryUtil.js\";import P from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as L}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as T,resetSymbol as U}from\"../../../../interactive/dragEventPipeline.js\";import{screenToRenderPlane as O}from\"../dragEventPipeline3D.js\";import{Manipulator3D as x}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as z,placeAtGraphic as C}from\"../../manipulatorUtils.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as N,SCALE_INDICATOR_DIRECTION_BUFFER as Z,RING_HEIGHT as G,ROTATE_INDICATOR_ARROW_TIP_LENGTH as H,ROTATE_INDICATOR_ARROW_TIP_RADIUS as V,RING_THICKNESS as q,DRAG_THRESHOLD_PX as B,RING_RESET_ANIMATION_SPEED_FACTOR as J,RING_INDICATOR_DELAY_MS as K,INDICATOR_THICKNESS as Q,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as W,HANDLE_COLOR as X,RING_RADIUS as Y,ROTATE_INDICATOR_ARC_LENGTH as $,INNER_INDICATOR_RADIUS as tt,OUTER_INDICATOR_RADIUS as et,SCALE_INDICATOR_OFFSET1 as at,SCALE_INDICATOR_OFFSET2 as it,GEOMETRY_SEGMENTS as ot,SCALE_INDICATOR_ARC_LENGTH as st}from\"../manipulations/config.js\";var rt;!function(t){t.ScaleIn=32,t.ScaleOut=64,t.RotateLeft=128,t.RotateRight=256,t.Unlocked=1024,t.DelayedFocused=2048,t.TouchInput=32768}(rt||(rt={}));class nt{constructor(e){this.mode=null,this._handles=new M,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new i,this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>t(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this._scaleRotateDragData.scale:1,this.tool=e.tool,this.mode=e.mode,this.createManipulator(),this.updateDragState(),this.updateManipulatorTransform()}destroy(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles.removeAll(),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=a({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)}forEachManipulator(t){t(this.ringManipulator,2)}createManipulator(){this.ringManipulator=this.createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const a=this.ringManipulator,i=this.tool.graphicState.graphic,s=T(a,((a,s,r)=>{this._scaleRotateDragData=null;const l=function(t,a){const i=t.allLayerViews.find((t=>t.layer===a.layer));if(e(a.symbol))return null;const o=a.symbol;return{symbolLayers:o.symbolLayers.map((t=>{let e=null,a=null;return\"object\"===t.type&&(e=t.heading),a=i.getSymbolLayerSize(o,t),{heading:e,size:a}})).toArray()}}(this.tool.view,i);if(e(l))return this.updateDragState(),null;const c={mode:\"none\",origin:n(a.renderLocation),angle:0,startAngle:this.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,startSymbolData:l};this._scaleRotateDragData=c,this.updateDragState();const h=j.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(a.renderLocation,h),s.next(O(this.tool.view,F.fromPositionAndNormal(a.renderLocation,h))).next((e=>{const a=F.normal(e.plane),s=z(e.renderStart,e.renderEnd,c.origin,a),r=D.shortestSignedDiff(c.angle,s);c.angleDir=o(c.angleDir+r,-N,N),c.angle=s;const n=function(t,e){const a=d(j.get(),e.renderStart,t.origin),i=d(j.get(),e.renderEnd,t.origin),o=m(a),s=m(i);if(0===o)return 0;return s/o}(c,e),l=n-c.scale;if(c.scaleDir=o(c.scaleDir+l,-Z,Z),c.scale=n,this.onScaleChanged(),\"none\"===c.mode){const a=this.mode||function(t,e,a,i){const{renderStart:o,renderEnd:s}=t,r=lt(o,i,j.get()),n=lt(s,i,j.get());if(u(r,n)<B*B)return null;const l=d(j.get(),o,a),c=p(j.get(),l,e),h=o,g=f(j.get(),h,c),m=lt(a,i,j.get()),D=r,M=lt(g,i,j.get()),y=d(j.get(),M,D),S=d(j.get(),r,m),b=I.wrap(D,y),R=I.wrap(m,S);if(I.distance2(b,n)<I.distance2(R,n))return\"rotate\";return\"scale\"}(e,e.plane,c.origin,this.tool.view.state.camera);if(t(a)){switch(a){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:i,scale:c.scale})}c.mode=a}}if(this.updateDragState(),t(i.symbol)){const t=i.symbol.clone();let e=0,a=1;switch(c.mode){default:case\"none\":break;case\"scale\":a=c.scale;break;case\"rotate\":e=c.angle}this.applySymbolData(t,c.startSymbolData,e,a),i.symbol=t,this.updateManipulatorTransform()}switch(e.action){case\"start\":case\"update\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:i,scale:c.scale})}break;case\"end\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:c.scale});break;default:case\"none\":}}\"end\"===e.action&&(this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState())})),r.next(U(i)).next((()=>{if(t(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:this._scaleRotateDragData.startAngle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:1})}this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null}}))}));this._handles.add(s),this._handles.add([this.ringManipulator.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(function(t,e){let a=0,i=null;const o=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=o,a=0,e()},update:t=>(a+=t,!i()||a>K?1:0),destroy:()=>{t.getFocused=i,e()}}}(this,(()=>this.updateDelayedFocusedState()))):this.updateDelayedFocusedState()})),this.ringManipulator.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),y(this.tool.graphicState,\"displaying\",(t=>this.ringManipulator.available=t)),this.tool.graphicState.on(\"changed\",(()=>C(this.tool.view,this.ringManipulator,i)))]),C(this.tool.view,this.ringManipulator,i)}onScaleChanged(){this.events.emit(\"scale-changed\"),this.updateManipulatorTransform()}updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(rt.DelayedFocused,this.getFocused())}updateDragState(){if(this.ringManipulator.updateStateEnabled(rt.Unlocked,!(t(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),t(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut,!1),this.ringManipulator.updateStateEnabled(rt.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(rt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this.ringManipulator.updateStateEnabled(rt.RotateLeft|rt.RotateRight,!1),this.ringManipulator.updateStateEnabled(rt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(rt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut|rt.RotateLeft|rt.RotateRight,!1)}updateManipulatorTransform(){const t=S(A.get()),e=this.tool.symbolRotationAngle;b(t,t,e,l(0,0,1));const a=this.getScale(),i=R(A.get(),g(j.get(),a,a,a)),o=S(A.get());v(o,i,t),this.ringManipulator.modelTransform=o}createRingManipulator(){const t=(t,e,a)=>{const i=[],o=Math.ceil(ot*(e-t)/(2*Math.PI));for(let s=0;s<o+1;s++){const r=t+s*(e-t)/o;i.push(l(a*Math.cos(r),a*Math.sin(r),0))}return i},e=e=>t(0,2*Math.PI,e),a=(t,e)=>new P(E.createPathExtrusionGeometry((t=>[[-t/2,0],[t/2,0],[t/2,G/2],[-t/2,G/2]])(e),t,[],[],!1),\"graphic-transform-ring\"),i=e(Y),o=a(i,q),s={left:[],right:[]},r=[];for(let e=0;e<2;e++){const i=e*Math.PI-Math.PI/4,o=Math.PI/2-$,n=i+o,l=i+Math.PI/2-o,c=t(n,l,tt),h=a(c,Q);r.push(c),r.push(t(n,l,et-q/2)),s.left.push(h),s.right.push(h);for(let t=0;t<2;t++){const e=0===t,a=k();if(e){w(a,a,[1,-1,1]),b(a,a,-n,[0,0,1]);const t=Math.round(W*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}else{b(a,a,l,[0,0,1]);const t=Math.round((1-W)*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}const i=E.createExtrudedTriangle(H,0,V,G);E.transformInPlace(i,a);const o=new P(i,\"graphic-transform-ring-rotate\");(e?s.left:s.right).push(o)}}const n=[];for(let e=0;e<2;e++){const i=e*Math.PI-Math.PI/4,o=Math.PI/2-st,s=i+o,r=i+Math.PI/2-o,l=t(s,r,et);n.push(a(l,Q))}const c=e(Y+at),h=e(Y+it),g=a(c,Q),d=a(h,Q),m=e(Y-at),u=e(Y-it),p=a(m,Q),f=a(u,Q),D=this.createMaterial(),M=this.createMaterial(.66),y=this.createMaterial(.5),S=this.createMaterial(.33);let R=[{geometry:o,material:D,stateMask:rt.DelayedFocused},{geometry:o,material:y,stateMask:0}];this.mode&&\"scale\"!==this.mode||(R=R.concat([{geometry:n,material:D,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:g,material:M,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:d,material:S,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:p,material:M,stateMask:rt.DelayedFocused|rt.ScaleOut},{geometry:f,material:S,stateMask:rt.DelayedFocused|rt.ScaleOut}])),this.mode&&\"rotate\"!==this.mode||(R=R.concat([{geometry:s.right,material:D,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:s.left,material:D,stateMask:rt.DelayedFocused|rt.RotateLeft},{geometry:s.right,material:D,stateMask:rt.DelayedFocused|rt.RotateRight}]));const v=[i,...r];return new x({view:this.tool.view,renderObjects:R,autoScaleRenderObjects:!1,worldOriented:!0,radius:q,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:_(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:v,direction:l(0,0,1)}})}createMaterial(t=1){const e=[...X,t];return new L({color:e,transparent:1!==t,cullFace:2,renderOccluded:2},\"graphic-transform\")}applySymbolData(e,a,i,o){e.symbolLayers.forEach(((e,s)=>{const{heading:r,size:n}=a.symbolLayers[s];\"object\"===e.type&&(e.heading=(t(r)?r:0)-h(i),t(n)&&\"width\"in n&&(n.width=this.enforceNonZeroSize(n.width),n.height=this.enforceNonZeroSize(n.height),n.depth=this.enforceNonZeroSize(n.depth),e.width=n.width*o,e.depth=n.depth*o,e.height=n.height*o))}))}enforceNonZeroSize(t){return t||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)}get test(){return{ringManipulator:this.ringManipulator}}}function lt(t,e,a){const i=e.projectToRenderScreen(t,s(ht)),o=e.renderToScreen(i,gt);return g(a,o[0],o[1],0)}function ct(t,e){let a=null,i=1;const o=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=o,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*J,1),e(),Math.abs(i-1)<.01?1:0),destroy:()=>{t.getScale=a,e()}}}const ht=c(),gt=r();export{nt as GraphicScaleRotateTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as a,isNone as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as e}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import{t as r}from\"../../../../../chunks/common.js\";import l from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{InteractiveToolBase as c}from\"../../../../interactive/InteractiveToolBase.js\";import{placeAtGraphic as p}from\"../../manipulatorUtils.js\";import{canMoveZ as m}from\"../manipulatorUtils.js\";import{GraphicState as u}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as d}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as g}from\"../manipulations/config.js\";import{MoveManipulation as v}from\"../manipulations/MoveManipulation.js\";import{GraphicScaleRotateTransform as y}from\"./GraphicScaleRotateTransform.js\";let M=class extends(n.EventedMixin(c)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type=\"transform-3d\",this.handles=new l,this.scaleRotate=null}initialize(){if(this.graphicState=new u({graphic:this.graphic}),this.moveManipulation=new v({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&m(this.graphic),radius:v.radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>t.stopPropagation()))))),this.moveManipulation.elevationInfo=h(this.graphic),this.moveManipulation.createGraphicDragPipeline(this.graphicState,(t=>{const{action:a,graphic:i,dxScreen:e,dyScreen:o}=t,s={graphic:i,dxScreen:e,dyScreen:o};switch(a){case\"start\":this.emit(\"graphic-translate-start\",s);break;case\"update\":this.emit(\"graphic-translate\",s);break;case\"end\":this.emit(\"graphic-translate-stop\",s)}})),this.moveManipulation.angle=this.symbolRotationAngle,this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this.scaleRotate=new y({tool:this,mode:t}),this.handles.add(this.scaleRotate.events.on(\"scale-changed\",(()=>this.onScaleChanged())))}this.handles.add([d({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>e()}),this.graphic.watch(\"symbol\",(()=>this.updateMoveAngle())),this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this.updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this.onGeometryChanged()}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),a(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this.forEachManipulator((a=>a.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&m(this.graphic)}))}destroy(){this.handles.destroy(),this.moveManipulation.destroy(),a(this.scaleRotate)&&(this.scaleRotate.destroy(),this.scaleRotate=null),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get symbolRotationAngle(){const t=this.graphic.symbol;if(t){const a=t.symbolLayers.find((t=>\"object\"===t.type)),i=a&&a.heading||0;return r(-i)}return 0}reset(){}onDetach(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onHide(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onScaleChanged(){if(i(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}updateMoveAngle(){\"local\"===this.view.viewingMode||this.view.scale<g?this.moveManipulation.angle=this.symbolRotationAngle:this.moveManipulation.angle=0}onGeometryChanged(){p(this.view,this.moveManipulation,this.graphic)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,ringManipulator:a(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"view\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"graphic\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"enableZ\",void 0),t([o()],M.prototype,\"enableRotation\",void 0),t([o()],M.prototype,\"enableScaling\",void 0),t([o({value:!1})],M.prototype,\"snapToScene\",null),t([o({readOnly:!0})],M.prototype,\"type\",void 0),M=t([s(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],M);export{M as GraphicTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{RgbaFloatEncoding as a}from\"../util/RgbaFloatEncoding.glsl.js\";function i(i){i.fragment.include(a),i.fragment.uniforms.add(\"depthTex\",\"sampler2D\"),i.fragment.uniforms.add(\"shadowMapNum\",\"int\"),i.fragment.uniforms.add(\"shadowMapDistance\",\"vec4\"),i.fragment.uniforms.add(\"shadowMapMatrix\",\"mat4\",4),i.fragment.uniforms.add(\"depthHalfPixelSz\",\"float\"),i.fragment.code.add(e`\n    float readShadowMap(const in vec3 _vpos, float _linearDepth) {\n      float halfPixelSize = depthHalfPixelSz;\n      vec4 distance = shadowMapDistance;\n      float depth = _linearDepth;\n\n      //choose correct cascade\n      int i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;\n\n      if (i >= shadowMapNum) { return 0.0; }\n\n      mat4 mat = i == 0 ? shadowMapMatrix[0] : i == 1 ? shadowMapMatrix[1] : i == 2 ? shadowMapMatrix[2] : shadowMapMatrix[3];\n\n      vec4 lv = mat * vec4(_vpos, 1.0);\n      lv.xy /= lv.w;\n\n      // vertex completely outside? -> no shadow\n      vec3 lvpos = 0.5 * lv.xyz + vec3(0.5);\n      if (lvpos.z >= 1.0) { return 0.0; }\n      if (lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }\n\n      // calc coord in cascade texture\n      vec2 uv = vec2(float(i - 2 * (i / 2)) * 0.5, float(i / 2) * 0.5) + 0.5 * lvpos.xy;\n\n      float texSize = 0.5 / halfPixelSize;\n\n      // filter, offset by half pixels\n      vec2 st = fract((vec2(halfPixelSize) + uv) * texSize);\n\n      float s00 = rgba2float(texture2D(depthTex, uv + vec2(-halfPixelSize, -halfPixelSize))) < lvpos.z ? 1.0 : 0.0;\n      float s10 = rgba2float(texture2D(depthTex, uv + vec2(halfPixelSize, -halfPixelSize))) < lvpos.z ? 1.0 : 0.0;\n      float s11 = rgba2float(texture2D(depthTex, uv + vec2(halfPixelSize, halfPixelSize))) < lvpos.z ? 1.0 : 0.0;\n      float s01 = rgba2float(texture2D(depthTex, uv + vec2(-halfPixelSize, halfPixelSize))) < lvpos.z ? 1.0 : 0.0;\n\n      return mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n    }\n  `)}!function(e){e.bindUniforms=function(e,a,i){a.shadowMappingEnabled&&(a.shadowMap.bind(e,i),a.shadowMap.bindView(e,a.origin))},e.bindViewCustomOrigin=function(e,a,i){a.shadowMappingEnabled&&a.shadowMap.bindView(e,i)},e.bindView=function(e,a){a.shadowMappingEnabled&&a.shadowMap.bindView(e,a.origin)}}(i||(i={}));export{i as ReadShadowMap};\n"],"sourceRoot":""}