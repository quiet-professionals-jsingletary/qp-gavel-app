{"version":3,"sources":["../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/support/ClipRect.js","../node_modules/@arcgis/core/views/layers/support/ClipArea.js","../node_modules/@arcgis/core/views/layers/support/Geometry.js","../node_modules/@arcgis/core/views/layers/support/Path.js","../node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/debugging.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobs.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolDeclutterer.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolRepository.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js","../node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js","../node_modules/@arcgis/core/views/2d/layers/VectorTileLayerView2D.js"],"names":["p","e","layer","parent","this","when","name","r","id","s","title","t","getLogger","declaredClass","error","get","canResume","getSuspendInfo","suspended","legendEnabled","updatingHandles","updating","isUpdating","_override","_clearOverride","visible","suspendInfo","view","ready","viewNotReady","loaded","layerNotLoaded","layerInvisible","a","l","n","o","EventedMixin","i","prototype","readOnly","type","Boolean","d","arguments","left","right","top","bottom","_get","Number","String","json","write","y","c","base","key","typeMap","extent","polygon","geometry","clone","types","read","m","path","ofType","rect","clips","moving","attached","lastUpdateId","updateRequested","container","h","fadeTransitionEnabled","opacity","handles","add","requestUpdate","blendMode","effect","on","notifyChange","whenLayerView","then","destroyed","attach","detach","remove","minScale","maxScale","isFulfilled","isResolved","_set","update","isVisibleAtScale","scale","set","level","row","col","_tileInfoView","sortChildren","setStencilReference","state","requiredLevel","getClosestInfoForScale","displayLevel","tileInfo","scaleToZoom","registerRenderPass","brushes","drawPhase","DEBUG","MAP","HIGHLIGHT","target","getStencilTarget","children","has","getTileResolution","setTransform","stencilRef","x","width","height","Math","min","max","_width","_height","_free","push","length","w","splice","release","_dirties","_glyphData","_currentPage","_glyphIndex","_textures","_rangePromises","Map","_glyphSource","_binPack","Uint8Array","Set","floor","forEach","getRange","Promise","all","sdf","metrics","page","code","getGlyph","allocate","isEmpty","bitmap","g","_","tileIDs","size","pixelFormat","dataType","setSamplingMode","setData","bindTexture","dispose","_metrics","_bitmaps","next","tag","getMessage","getUInt32","getBytes","getSInt32","skip","advance","_ranges","_glyphInfo","_baseURL","_getFontStack","resolve","replace","responseType","addRange","data","DataView","getMetrics","getBitmap","_size","_mosaicsData","_maxItemSize","_pageWidth","_pageHeight","_mosaicRects","pixelRatio","console","devicePixelRatio","Uint32Array","_sprites","loadStatus","getSpriteInfo","_allocateImage","_copy","simplePattern","getSpriteItem","tl","br","wrapMode","buffer","image","_copyBits","fillStyle","fillRect","strokeStyle","strokeRect","cellSize","rows","columns","cells","fillText","window","COLLISION_XRAY","unique","show","colliders","enabled","parts","partIndex","xScreen","yScreen","dxScreen","dyScreen","globalAlpha","f","_vectorTileLayer","_styleRepository","_spriteMosaic","_glyphMosaic","_connection","close","_spriteSourcePromise","sourceNameToSource","_fetchTileMap","loadSpriteSource","setSpriteSource","glyphs","_broadcastPromise","client","scheduler","signal","broadcast","style","currentStyleInfo","vectorTileLayerMaxBuffers","_getRefKeys","_getSourcesData","sourceName2DataAndRefKey","transferList","Object","keys","getAvailableClient","invoke","styleLayerUIDs","tileData","getSpriteItems","getGlyphItems","font","codePoints","PERFORMANCE_RECORDING_STORAGE","perf","start","time","samples","unit","u","milliseconds","pool","acquire","getSourceTileUrl","request","protobuff","sourceName","capabilities","operations","supportsTileMap","tileIndex","tileMapURL","put","Array","getRefKey","value","_getTilePayload","byteLength","refKey","_tiles","_tileCache","_viewSize","_visibleTiles","acquireTile","releaseTile","tileInfoView","_container","clear","_updateCacheSize","getTileCoverage","spans","lodInfo","colFrom","colTo","getId","normalizeCol","getWorldForColumn","_getOrAcquireTile","processed","_addToContainer","isCoverage","_findPlaceholdersForMissingTiles","neededForCoverage","isHoldingForFade","intersects","isFading","_releaseTile","_addPlaceholderChild","reduce","abs","_addPlaceholderParent","hasData","world","_getTile","pop","_removeFromContainer","contains","_canConnectDirectly","childrenTiles","parentTile","addChild","removeChild","ceil","maxSize","split","parseInt","iconRotationAlignment","textRotationAlignment","iconTranslate","iconTranslateAnchor","textTranslate","textTranslateAnchor","minLod","maxLod","xTile","yTile","dxPixels","dyPixels","_symbols","_zoom","_currentLayerCursor","_currentSymbolCursor","_styleProps","_allNeededMatrices","_gridIndex","_si","sin","PI","_co","cos","symbols","tile","transforms","tileUnitsToPixels","getCellSpan","performance","now","_getProperties","styleLayerUID","iconAllowOverlap","iconIgnorePlacement","textAllowOverlap","textIgnorePlacement","hard","getStyleLayerByUID","getLayoutValue","getPaintValue","priority","_symbolRepository","_createCollisionJob","_assignTileSymbolsOpacity","_symbolLayerSorter","_isLayerVisible","_selectionJob","_selectionJobCompleted","_collisionJob","_collisionJobCompleted","_opacityJob","_opacityJobCompleted","_running","_screenWidth","_screenHeight","restart","_createSelectionJob","work","sortedSymbols","_createOpacityJob","uniqueSymbols","tileSymbols","selectedForRendering","sort","targetOpacity","startOpacity","startTime","tileCoordRange","_createUnique","_uniqueSymbolsReferences","_uniqueSymbolLayerArray","_createUniqueSymbolLayerArray","layerData","_removeSymbols","flat","index","getCell","_addSymbols","equals","_matchSymbols","symbol","xTransformed","yTransformed","hash","styleRepository","_tileToHandle","_viewState","rotation","center","_declutterViewState","_completed","_symbolDeclutterer","allSymbolsFadingOut","lastOpacityUpdate","decluttered","requestRender","z","getLayoutProperty","getValue","restartDeclutter","removeTile","_continueDeclutter","_notifyUnstable","_declutterZoom","deleteStyleLayers","stale","running","setScreenSize","_scheduleNotifyStable","_stableNotificationHandle","clearTimeout","setTimeout","emit","minzoom","maxzoom","_backgroundTiles","_pointToCallbacks","_fading","removeAllChildren","_symbolFader","promise","invalidating","renderPass","styleLayer","glyphMosaic","spriteMosaic","hasClipping","_clippingInfos","addTile","_doRender","context","getBoundFramebufferObject","HITTEST","painter","effects","hittest","bind","draw","bindFramebuffer","filter","layers","backgroundBucketIds","_renderBackgroundLayers","_fade","triangleCount","setStencilWriteMask","setColorMask","setStencilOp","setStencilTestEnabled","setBlendingEnabled","setDepthTestEnabled","setDepthWriteEnabled","setDepthFunction","setClearDepth","gl","DEPTH_BUFFER_BIT","_renderStyleLayer","setBlendFunctionSeparate","bindVAO","COLLISION_DEBUG_CTX","clearRect","canvas","COLLISION_SHOW_GRID","uid","renderObjects","getLayerById","b","T","_renderPasses","prepareState","drawMany","C","v","F","getTileBounds","bounds","coords","setStencilFunction","_fullCacheLodInfos","_levelByScale","_initializeFullCacheLODs","_lodInfos","map","resolution","spatialReference","create","lods","Q","_styleChanges","_handles","_fetchQueue","_parseQueue","_isTileHandlerReady","fading","spriteUrl","glyphsUrl","fullExtent","_vectorTileContainer","_tileHandler","addResolvingPromise","reject","_stop","destroy","_tileHandlerPromise","hitTest","getStyleLayerIndex","attributes","layerId","layerName","layerUID","sourceLayer","_start","_applyStyleChanges","pause","_tileManager","resume","isDataDriven","setPaintProperties","paint","layout","diff","oldValue","newValue","added","changed","removed","H","setLayoutProperties","setStyleLayerVisibility","visibility","_loadStyle","removeAll","layerDefinition","_createVectorTile","once","abort","AbortController","process","_getTileData","concurrency","_parseTileData","setStyleResources","_tileHandlerAbortController","fetchTileData","parseTileData","clearCache","updateStyle","message","deleteStyleLayer","setStyleLayer","deleteLayerData","setStyle","aborted","R"],"mappings":"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","file":"static/js/65.f492eb05.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import o from\"../../core/Evented.js\";import{IdentifiableMixin as l}from\"../../core/Identifiable.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{HandleOwnerMixin as a}from\"../../core/HandleOwner.js\";let p=class extends(a(l(n(o.EventedMixin(i))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const r=this.layer&&this.layer.id||\"no id\",s=this.layer&&this.layer.title||\"no title\";throw t.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${s}', id: '${r}')`,e),e}}))}get fullOpacity(){const e=e=>null==e?1:e;return e(this.get(\"layer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([r()],p.prototype,\"fullOpacity\",null),e([r()],p.prototype,\"layer\",void 0),e([r()],p.prototype,\"parent\",void 0),e([r({readOnly:!0})],p.prototype,\"suspended\",null),e([r({readOnly:!0})],p.prototype,\"suspendInfo\",null),e([r({readOnly:!0})],p.prototype,\"legendEnabled\",null),e([r({type:Boolean,readOnly:!0})],p.prototype,\"updating\",null),e([r()],p.prototype,\"visible\",null),p=e([s(\"esri.views.layers.LayerView\")],p);var d=p;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),t([r({readOnly:!0})],i.prototype,\"version\",null),i=s=t([o(\"esri.views.layers.support.ClipRect\")],i);var p=i;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"../../../geometry/Geometry.js\";import s from\"../../../geometry/Extent.js\";import p from\"../../../geometry/Polygon.js\";import{fromJSON as m}from\"../../../geometry/support/jsonUtils.js\";import\"../../../geometry.js\";import i from\"./ClipArea.js\";var y;const c={base:t,key:\"type\",typeMap:{extent:s,polygon:p}};let n=y=class extends i{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new y({geometry:this.geometry.clone()})}};r([o({types:c,json:{read:m,write:!0}})],n.prototype,\"geometry\",void 0),r([o({readOnly:!0})],n.prototype,\"version\",null),n=y=r([e(\"esri.views.layers.support.Geometry\")],n);var l=n;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"./ClipArea.js\";let e=class extends t{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([o({type:[[[Number]]],json:{write:!0}})],e.prototype,\"path\",void 0),r([o({readOnly:!0})],e.prototype,\"version\",null),e=r([s(\"esri.views.layers.support.Path\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import i from\"../../../core/Collection.js\";import{referenceSetter as r}from\"../../../core/collectionUtils.js\";import{init as o}from\"../../../core/watchUtils.js\";import a from\"../../layers/support/ClipArea.js\";import p from\"../../layers/support/ClipRect.js\";import{Container as h}from\"../engine/Container.js\";import n from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=i.ofType({key:\"type\",base:a,typeMap:{rect:p,path:d,geometry:n}}),l=i=>{let a=class extends i{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var t;this.container||(this.container=new h),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([o(this,\"suspended\",(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),!0),o(this,[\"layer.opacity\",\"container\"],(()=>{var t,e;this.container&&(this.container.opacity=null!=(t=null==(e=this.layer)?void 0:e.opacity)?t:1)}),!0),o(this,[\"layer.blendMode\"],(t=>{this.container&&(this.container.blendMode=t)}),!0),o(this,[\"layer.effect\"],(t=>{this.container&&(this.container.effect=t)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(t=this.view)&&t.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(t){let e=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,o=!r;!s&&t<=i&&(s=!0),!o&&t>=r&&(o=!0),e=s&&o}return e}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return t([e({type:c,set(t){const e=r(t,this._get(\"clips\"),c);this._set(\"clips\",e)}})],a.prototype,\"clips\",void 0),t([e()],a.prototype,\"moving\",void 0),t([e()],a.prototype,\"attached\",void 0),t([e()],a.prototype,\"container\",void 0),t([e()],a.prototype,\"suspended\",void 0),t([e({readOnly:!0})],a.prototype,\"updateParameters\",void 0),t([e()],a.prototype,\"updateRequested\",void 0),t([e()],a.prototype,\"updating\",null),t([e()],a.prototype,\"view\",void 0),a=t([s(\"esri.views.2d.layers.LayerView2D\")],a),a};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./enums.js\";import r from\"./brushes/WGLBrushInfo.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./WGLContainer.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends t{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(n),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e;return{...super.createRenderParams(e),requiredLevel:this._tileInfoView.getClosestInfoForScale(r.scale).level,displayLevel:this._tileInfoView.tileInfo.scaleToZoom(r.scale)}}prepareRenderPasses(t){const n=t.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()}),i=t.registerRenderPass({name:\"tileInfo\",brushes:[r],drawPhase:e.DEBUG,target:()=>this.children,has:\"esri-tiles-debug\"});return[...super.prepareRenderPasses(t),n,i]}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export default i;export{n as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.width=i,this.height=s}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport h from\"../webgl/Rect.js\";class e{constructor(e,t){this._width=0,this._height=0,this._free=[],this._width=e,this._height=t,this._free.push(new h(0,0,e,t))}get width(){return this._width}get height(){return this._height}allocate(e,t){if(e>this._width||t>this._height)return new h;let i=null,s=-1;for(let h=0;h<this._free.length;++h){const w=this._free[h];e<=w.width&&t<=w.height&&(null===i||w.y<=i.y&&w.x<=i.x)&&(i=w,s=h)}return null===i?new h:(this._free.splice(s,1),i.width<i.height?(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,t)),i.height>t&&this._free.push(new h(i.x,i.y+t,i.width,i.height-t))):(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,i.height)),i.height>t&&this._free.push(new h(i.x,i.y+t,e,i.height-t))),new h(i.x,i.y,e,t))}release(h){for(let e=0;e<this._free.length;++e){const t=this._free[e];if(t.y===h.y&&t.height===h.height&&t.x+t.width===h.x)t.width+=h.width;else if(t.x===h.x&&t.width===h.width&&t.y+t.height===h.y)t.height+=h.height;else if(h.y===t.y&&h.height===t.height&&h.x+h.width===t.x)t.x=h.x,t.width+=h.width;else{if(h.x!==t.x||h.width!==t.width||h.y+h.height!==t.y)continue;t.y=h.y,t.height+=h.height}this._free.splice(e,1),this.release(h)}this._free.push(h)}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../chunks/builtins.js\";import\"../../../webgl/checkWebGLError.js\";import t from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";import e from\"../webgl/Rect.js\";import i from\"./RectangleBinPack.js\";class s{constructor(t,e,s){this.width=0,this.height=0,this._dirties=[],this._glyphData=[],this._currentPage=0,this._glyphIndex={},this._textures=[],this._rangePromises=new Map,this.width=t,this.height=e,this._glyphSource=s,this._binPack=new i(t-4,e-4),this._glyphData.push(new Uint8Array(t*e)),this._dirties.push(!0),this._textures.push(void 0)}getGlyphItems(t,s){const h=[],r=this._glyphSource,n=new Set,o=1/256;for(const e of s){const t=Math.floor(e*o);n.add(t)}const a=[];return n.forEach((e=>{if(e<=256){const i=t+e;if(this._rangePromises.has(i))a.push(this._rangePromises.get(i));else{const s=r.getRange(t,e).then((()=>{this._rangePromises.delete(i)}),(()=>{this._rangePromises.delete(i)}));this._rangePromises.set(i,s),a.push(s)}}})),Promise.all(a).then((()=>{let n=this._glyphIndex[t];n||(n={},this._glyphIndex[t]=n);for(const o of s){const s=n[o];if(s){h[o]={sdf:!0,rect:s.rect,metrics:s.metrics,page:s.page,code:o};continue}const a=r.getGlyph(t,o);if(!a||!a.metrics)continue;const c=a.metrics;let l;if(0===c.width)l=new e(0,0,0,0);else{const t=3,e=c.width+2*t,s=c.height+2*t;let h=e%4?4-e%4:4,r=s%4?4-s%4:4;1===h&&(h=5),1===r&&(r=5),l=this._binPack.allocate(e+h,s+r),l.isEmpty&&(this._dirties[this._currentPage]||(this._glyphData[this._currentPage]=null),this._currentPage=this._glyphData.length,this._glyphData.push(new Uint8Array(this.width*this.height)),this._dirties.push(!0),this._textures.push(void 0),this._binPack=new i(this.width-4,this.height-4),l=this._binPack.allocate(e+h,s+r));const n=this._glyphData[this._currentPage],o=a.bitmap;let g,_;if(o)for(let i=0;i<s;i++){g=e*i,_=this.width*(l.y+i+1)+l.x;for(let t=0;t<e;t++)n[_+t+1]=o[g+t]}}n[o]={rect:l,metrics:c,tileIDs:null,page:this._currentPage},h[o]={sdf:!0,rect:l,metrics:c,page:this._currentPage,code:o},this._dirties[this._currentPage]=!0}return h}))}removeGlyphs(t){for(const e in this._glyphIndex){const i=this._glyphIndex[e];if(!i)continue;let s;for(const e in i)if(s=i[e],s.tileIDs.delete(t),0===s.tileIDs.size){const t=this._glyphData[s.page],h=s.rect;let r,n;for(let e=0;e<h.height;e++)for(r=this.width*(h.y+e)+h.x,n=0;n<h.width;n++)t[r+n]=0;delete i[e],this._dirties[s.page]=!0}}}bind(e,i,s,h=0){this._textures[s]||(this._textures[s]=new t(e,{pixelFormat:6406,dataType:5121,width:this.width,height:this.height},new Uint8Array(this.width*this.height)));const r=this._textures[s];r.setSamplingMode(i),this._dirties[s]&&r.setData(this._glyphData[s]),e.bindTexture(r,h),this._dirties[s]=!1}dispose(){this._binPack=null;for(const t of this._textures)t&&t.dispose();this._textures.length=0}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../../request.js\";import e from\"../../../../core/pbf.js\";class s{constructor(t){if(this._metrics=[],this._bitmaps=[],t)for(;t.next();)switch(t.tag()){case 1:{const e=t.getMessage();for(;e.next();)switch(e.tag()){case 3:{const t=e.getMessage();let s,a,r,n,i,c,g;for(;t.next();)switch(t.tag()){case 1:s=t.getUInt32();break;case 2:a=t.getBytes();break;case 3:r=t.getUInt32();break;case 4:n=t.getUInt32();break;case 5:i=t.getSInt32();break;case 6:c=t.getSInt32();break;case 7:g=t.getUInt32();break;default:t.skip()}t.release(),s&&(this._metrics[s]={width:r,height:n,left:i,top:c,advance:g},this._bitmaps[s]=a);break}default:e.skip()}e.release();break}default:t.skip()}}getMetrics(t){return this._metrics[t]}getBitmap(t){return this._bitmaps[t]}}class a{constructor(){this._ranges=[]}getRange(t){return this._ranges[t]}addRange(t,e){this._ranges[t]=e}}class r{constructor(t){this._glyphInfo={},this._baseURL=t}getRange(a,r){const n=this._getFontStack(a);if(n.getRange(r))return Promise.resolve();const i=256*r,c=i+255,g=this._baseURL.replace(\"{fontstack}\",a).replace(\"{range}\",i+\"-\"+c);return t(g,{responseType:\"array-buffer\"}).then((t=>{n.addRange(r,new s(new e(new Uint8Array(t.data),new DataView(t.data))))})).catch((()=>{n.addRange(r,new s)}))}getGlyph(t,e){const s=this._getFontStack(t);if(!s)return;const a=Math.floor(e/256);if(a>256)return;const r=s.getRange(a);return r?{metrics:r.getMetrics(e),bitmap:r.getBitmap(e)}:void 0}_getFontStack(t){let e=this._glyphInfo[t];return e||(e=this._glyphInfo[t]=new a),e}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../chunks/builtins.js\";import\"../../../webgl/checkWebGLError.js\";import t from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";import i from\"../webgl/Rect.js\";import e from\"./RectangleBinPack.js\";class s{constructor(t,i,s=0){this._size=[],this._mosaicsData=[],this._textures=[],this._dirties=[],this._maxItemSize=0,this._currentPage=0,this._pageWidth=0,this._pageHeight=0,this._mosaicRects={},this.pixelRatio=1,(t<=0||i<=0)&&console.error(\"Sprites mosaic defaultWidth and defaultHeight must be greater than zero!\"),this._pageWidth=t,this._pageHeight=i,s>0&&(this._maxItemSize=s),this._binPack=new e(t-4,i-4)}getWidth(t){return t>=this._size.length?-1:this._size[t][0]}getHeight(t){return t>=this._size.length?-1:this._size[t][1]}setSpriteSource(t){if(this.dispose(),this.pixelRatio=t.devicePixelRatio,0===this._mosaicsData.length){this._binPack=new e(this._pageWidth-4,this._pageHeight-4);const t=Math.floor(this._pageWidth),i=Math.floor(this._pageHeight),s=new Uint32Array(t*i);this._mosaicsData[0]=s,this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0)}this._sprites=t}getSpriteItem(t,i=!1){let e=this._mosaicRects[t];if(e)return e;if(!this._sprites||\"loaded\"!==this._sprites.loadStatus)return null;const s=this._sprites.getSpriteInfo(t);if(!s||!s.width||!s.height||s.width<0||s.height<0)return null;const h=s.width,a=s.height,[r,o,_]=this._allocateImage(h,a);return r.width<=0?null:(this._copy(r,s,o,_,i),e={rect:r,width:h,height:a,sdf:s.sdf,simplePattern:!1,pixelRatio:s.pixelRatio,page:o},this._mosaicRects[t]=e,e)}getSpriteItems(t){const i={};for(const e of t)i[e]=this.getSpriteItem(e);return i}getMosaicItemPosition(t,i){const e=this.getSpriteItem(t,i),s=e&&e.rect;if(!s)return null;s.width=e.width,s.height=e.height;const h=e.width,a=e.height,r=2,o=this._size[e.page];return{size:[e.width,e.height],tl:[(s.x+r)/o[0],(s.y+r)/o[1]],br:[(s.x+r+h)/o[0],(s.y+r+a)/o[1]],page:e.page}}bind(i,e,s=0,h=0){this._textures[s]||(this._textures[s]=new t(i,{pixelFormat:6408,dataType:5121,wrapMode:33071,width:this._size[s][0],height:this._size[s][1]},new Uint8Array(this._mosaicsData[s].buffer)));const a=this._textures[s];a.setSamplingMode(e),this._dirties[s]&&a.setData(new Uint8Array(this._mosaicsData[s].buffer)),i.bindTexture(a,h),this._dirties[s]=!1}static _copyBits(t,i,e,s,h,a,r,o,_,n,g){let c=s*i+e,p=o*a+r;if(g){p-=a;for(let r=-1;r<=n;r++,c=((r+n)%n+s)*i+e,p+=a)for(let i=-1;i<=_;i++)h[p+i]=t[c+(i+_)%_]}else for(let l=0;l<n;l++){for(let i=0;i<_;i++)h[p+i]=t[c+i];c+=i,p+=a}}_copy(t,i,e,h,a,r){if(!this._sprites||\"loaded\"!==this._sprites.loadStatus||e>=this._mosaicsData.length)return;const o=new Uint32Array(r?r.buffer:this._sprites.image.buffer),_=this._mosaicsData[e];_&&o||console.error(\"Source or target images are uninitialized!\");const n=2,g=r?i.width:this._sprites.width;s._copyBits(o,g,i.x,i.y,_,h[0],t.x+n,t.y+n,i.width,i.height,a),this._dirties[e]=!0}_allocateImage(t,s){t+=2,s+=2;const h=Math.max(t,s);if(this._maxItemSize&&this._maxItemSize<h){const e=new i(0,0,t,s);return this._mosaicsData.push(new Uint32Array(t*s)),this._dirties.push(!0),this._size.push([t,s]),this._textures.push(void 0),[e,this._mosaicsData.length-1,[t,s]]}let a=t%4?4-t%4:4,r=s%4?4-s%4:4;1===a&&(a=5),1===r&&(r=5);const o=this._binPack.allocate(t+a,s+r);return o.width<=0?(this._dirties[this._currentPage]||(this._mosaicsData[this._currentPage]=null),this._currentPage=this._mosaicsData.length,this._mosaicsData.push(new Uint32Array(this._pageWidth*this._pageHeight)),this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0),this._binPack=new e(this._pageWidth-4,this._pageHeight-4),this._allocateImage(t,s)):[o,this._currentPage,[this._pageWidth,this._pageHeight]]}dispose(){this._binPack=null,this._mosaicRects={};for(const t of this._textures)t&&t.dispose();this._textures.length=0}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t,e,n,o,l,i){t.fillStyle=e,t.fillRect(n,o,l,i)}function e(t,e,n,o,l,i){t.strokeStyle=e,t.strokeRect(n,o,l,i)}function n(t,e){t.strokeStyle=\"black\";const n=e.cellSize,o=e.rows,l=e.columns;for(let i=0;i<o;i++){const o=e.cells[i],r=i*n,s=(i+1)*n;for(let e=0;e<l;e++){const l=o[e],i=e*n,d=(e+1)*n;t.strokeRect(i,r,d-i,s-r),t.fillText(`cells:${l.length}`,i+4,r+12)}}}function o(n,o){const l=window.COLLISION_XRAY;for(let i=0;i<o.length;++i){const r=!o[i].unique.show;if(l||!r)for(const s of o[i].colliders){if(!s.enabled)continue;const d=!o[i].unique.parts[s.partIndex].show;if(!l&&d)continue;const a=s.xScreen,c=s.yScreen,m=s.dxScreen,h=s.dyScreen;n.globalAlpha=r||d?.2:1,t(n,\"green\",a-1,c-1,3,3),e(n,\"red\",a+m,c+h,s.width,s.height),t(n,\"blue\",a+m-1,c+h-1,3,3),n.globalAlpha=1}}}function l(t,e,n){if(!window.PERFORMANCE_RECORDING_STORAGE)return;const o=window.PERFORMANCE_RECORDING_STORAGE;o.perf=o.perf||{};const l=o.perf;l[t]=l[t]||{start:null,time:0,min:void 0,max:void 0,samples:[],unit:n},l[t].time+=e,l[t].samples.push(e),(null==l[t].min||e<l[t].min)&&(l[t].min=e),(null==l[t].max||e>l[t].max)&&(l[t].max=e)}function i(){if(!window.PERFORMANCE_RECORDING_STORAGE)return;window.PERFORMANCE_RECORDING_STORAGE.perf={}}function r(t,e){return`${Math.round(10*t)/10}${e}`}function s(t){if(!window.PERFORMANCE_RECORDING_STORAGE){const t=document.createElement(\"div\");return t.innerHTML=\"No recorded data is present because performance recording is disabled.\",t}const e=document.createElement(\"div\");let n=\"\";const o=window.PERFORMANCE_RECORDING_STORAGE.perf,l=50;n+='<table style=\"border-collapse: collapse;\">',n+=`<tr style=\"text-weight: bold; border-bottom: 1px solid \"${t}\";\"><td>Name</td><td>Total</td><td>Runs</td><td>Average</td><td>Min</td><td>Distribution</td><td>Max</td><td>Histogram (${l} bins)</td></tr>`;const i=[];for(const r in o)i.push({name:r,value:o[r].time/o[r].samples.length,sortkey:o[r].max});i.sort(((t,e)=>-(t.sortkey-e.sortkey)));const s=i.map((t=>t.name));for(const m of s)n+=\"<tr>\",n+=`<td>${m}</td>`,n+=`<td>${r(o[m].time,o[m].unit)}</td>`,n+=`<td>${o[m].samples.length}</td>`,n+=`<td>${r(o[m].time/o[m].samples.length,o[m].unit)}</td>`,n+=`<td style=\"text-align: right;\">${r(o[m].min,o[m].unit)}</td>`,n+=\"<td data-distribution='1'></td>\",n+=`<td>${r(o[m].max,o[m].unit)}</td>`,n+=\"<td data-histogram='1'></td>\",n+=\"</tr>\";n+=\"<table>\",e.innerHTML=n;const d=e.querySelectorAll(\"td[data-distribution='1']\"),a=e.querySelectorAll(\"td[data-histogram='1']\");for(let r=0;r<d.length;r++){let e=d[r];{const n=document.createElement(\"canvas\");n.height=10,n.width=100;const l=n.getContext(\"2d\");if(l.strokeStyle=t,l.beginPath(),l.moveTo(0,5),l.lineTo(100,5),o[s[r]].max>o[s[r]].min+.001)for(const t of o[s[r]].samples){const e=(t-o[s[r]].min)/(o[s[r]].max-o[s[r]].min);l.moveTo(100*e,3),l.lineTo(100*e,7)}l.stroke(),l.strokeRect((i[r].value-o[s[r]].min)/(o[s[r]].max-o[s[r]].min)*100-2,0,4,9),e.appendChild(n)}e=a[r];{const n=new Array(l);for(let t=0;t<n.length;t++)n[t]=0;for(const t of o[s[r]].samples){const e=(t-o[s[r]].min)/(o[s[r]].max-o[s[r]].min);n[1===e?n.length-1:Math.floor(e*n.length)]++}const i=document.createElement(\"canvas\");i.height=30,i.width=120;const d=i.getContext(\"2d\");d.strokeStyle=t,d.fillStyle=t;let a=0;for(let t=0;t<n.length;t++){const e=n[t];a=Math.max(a,e)}for(let t=0;t<n.length;t++){const e=n[t];d.fillRect(t*i.width/n.length,i.height*(1-e/a),i.width/n.length,i.height*(e/a))}d.beginPath(),d.moveTo(0,i.height),d.lineTo(i.width,i.height),d.stroke(),e.appendChild(i)}}const c=e.querySelectorAll(\"td\");for(let r=0;r<c.length;r++)c[r].style.padding=\"5px\";return e}export{o as drawColliders,n as drawGridIndex,l as perfAdd,i as perfClear,s as perfElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{isAbortError as t,eachAlways as s}from\"../../../../core/promiseUtils.js\";import r from\"../../../../request.js\";import i from\"../../../../core/ItemCache.js\";import{open as o}from\"../../../../core/workers/workers.js\";import a from\"../../tiling/TileKey.js\";import l from\"./TileIndex.js\";import n from\"./GlyphMosaic.js\";import c from\"./GlyphSource.js\";import h from\"./SpriteMosaic.js\";import{perfAdd as u}from\"./decluttering/debugging.js\";const p=new i(10),y=new Map;class f{constructor(e,t,s){this._vectorTileLayer=e,this._styleRepository=t,this.devicePixelRatio=s,this._spriteMosaic=null,this._glyphMosaic=null,this._connection=null}destroy(){this._connection&&(this._connection.close(),this._connection=null),this._styleRepository=null,this._vectorTileLayer=null,this._spriteMosaic&&(this._spriteMosaic=null),this._glyphMosaic&&(this._glyphMosaic=null)}get spriteMosaic(){return this._spriteSourcePromise.then((()=>this._spriteMosaic))}get glyphMosaic(){return this._glyphMosaic}async start(t){const s=this._vectorTileLayer,r=s.sourceNameToSource,i=[];for(const e in r)i.push(this._fetchTileMap(r[e],t));this._spriteSourcePromise=this._vectorTileLayer.loadSpriteSource(this.devicePixelRatio,t),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new h(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const a=this._styleRepository,l=new c(a.glyphs);return this._glyphMosaic=new n(1024,1024,l),this._broadcastPromise=o(\"WorkerTileHandler\",{client:this,scheduler:t.scheduler,signal:t.signal}).then((r=>(this._connection=r,Promise.all(this._connection.broadcast(\"setStyle\",{style:s.currentStyleInfo.style,vectorTileLayerMaxBuffers:e(\"vectortilelayer-max-buffers\")},t))))),Promise.all(i)}async updateStyle(e){return await this._broadcastPromise,this._broadcastPromise=new Promise(((t,s)=>{Promise.all(this._connection.broadcast(\"updateStyle\",e)).then(t,s)})),this._broadcastPromise}async setStyle(t,s){await this._broadcastPromise,this._styleRepository=t;const r=this._vectorTileLayer.sourceNameToSource,i=[];for(const e in r)i.push(this._fetchTileMap(r[e],null));this._spriteSourcePromise=this._vectorTileLayer.loadSpriteSource(this.devicePixelRatio,null),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new h(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const o=new c(t.glyphs);return this._glyphMosaic=new n(1024,1024,o),this._broadcastPromise=new Promise(((t,r)=>{Promise.all(this._connection.broadcast(\"setStyle\",{style:s,vectorTileLayerMaxBuffers:e(\"vectortilelayer-max-buffers\")})).then(t,r)})),i.push(this._broadcastPromise),Promise.all(i)}fetchTileData(e,t){return this._getRefKeys(e,t).then((e=>{const s=this._vectorTileLayer.sourceNameToSource,r=[];for(const t in s)r.push(t);return this._getSourcesData(r,e,t)}))}parseTileData(e,t){const s=e&&e.data;if(!s)return Promise.resolve(null);const{sourceName2DataAndRefKey:r,transferList:i}=s;return 0===Object.keys(r).length?Promise.resolve(null):this._broadcastPromise.then((()=>this._connection.getAvailableClient().then((s=>s.invoke(\"createTileAndParse\",{key:e.key.id,sourceName2DataAndRefKey:r,styleLayerUIDs:e.styleLayerUIDs},{...t,transferList:i}).then((e=>({tileData:e})))))))}async getSprites(e){return await this._spriteSourcePromise,this._spriteMosaic.getSpriteItems(e)}getGlyphs(e){return this._glyphMosaic.getGlyphItems(e.font,e.codePoints)}perfReport({key:e,milliseconds:t}){u(e,t,\"ms\")}async _getTilePayload(e,s,r){const i=a.pool.acquire(e.id),o=this._vectorTileLayer.sourceNameToSource[s].getSourceTileUrl(i.level,i.row,i.col);a.pool.release(i);try{return{protobuff:await this.request(o,r),sourceName:s}}catch(l){if(t(l))throw l;return{protobuff:null,sourceName:s}}}request(e,t){return r(e,{responseType:\"array-buffer\",...t}).then((({data:e})=>e))}async _fetchTileMap(e,s){if(e.capabilities.operations.supportsTileMap&&e.tileIndex)return Promise.resolve();if(!e.tileMapURL)return;const i=p.get(e.tileMapURL);if(i)return void(e.tileIndex=i);let o;if(y.has(e.tileMapURL)){try{o=await y.get(e.tileMapURL),e.tileIndex=new l(o.data)}catch(n){if(t(n))throw n}return}const a=r(e.tileMapURL,s);y.set(e.tileMapURL,a);try{o=await a,y.delete(e.tileMapURL),p.put(e.tileMapURL,e.tileIndex),e.tileIndex=new l(o.data)}catch(n){if(y.delete(e.tileMapURL),t(n))throw n}}_getRefKeys(e,t){const r=this._vectorTileLayer.sourceNameToSource,i=new Array;for(const s in r){const o=r[s].getRefKey(e,t);i.push(o)}return s(i)}_getSourcesData(e,t,r){const i=[];for(let s=0;s<t.length;s++)if(null==t[s].value||null==e[s])i.push(null);else{const o=this._getTilePayload(t[s].value,e[s],r);i.push(o)}return s(i).then((e=>{const s={},r=[];for(let i=0;i<e.length;i++)if(e[i].value&&e[i].value&&e[i].value.protobuff&&e[i].value.protobuff.byteLength>0){const o=t[i].value.id;s[e[i].value.sourceName]={refKey:o,protobuff:e[i].value.protobuff},r.push(e[i].value.protobuff)}return{sourceName2DataAndRefKey:s,transferList:r}}))}}export{f as TileHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import t from\"../../../../core/LRUCache.js\";import s from\"../../tiling/TileKey.js\";import l from\"../../tiling/TileCoverage.js\";const r=512,o=1e-6,n=(e,i)=>e+1/(1<<2*i);class a{constructor(e,i){this._tiles=new Map,this._tileCache=new t(40,(e=>e.dispose())),this._viewSize=[0,0],this._visibleTiles=new Map,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,this._container=i}destroy(){for(const[e,i]of this._tiles)i.dispose();this._tiles=null,this._tileCache.clear(),this._tileCache=null}update(e){this._updateCacheSize(e);const i=this.tileInfoView,t=i.getTileCoverage(e.state,0,\"smallest\"),{spans:r,lodInfo:o}=t,{level:n}=o,a=new Set,h=new Set;for(const{row:l,colFrom:d,colTo:_}of r)for(let e=d;e<=_;e++){const i=s.getId(n,l,o.normalizeCol(e),o.getWorldForColumn(e)),t=this._getOrAcquireTile(i);a.add(i),t.processed()?this._addToContainer(t):h.add(new s(i))}for(const[s,l]of this._tiles)l.isCoverage=a.has(s);for(const s of h)this._findPlaceholdersForMissingTiles(s,a);let c=!1;for(const[s,l]of this._tiles)l.neededForCoverage=a.has(s),l.neededForCoverage||l.isHoldingForFade&&i.intersects(t,l.key)&&a.add(s),l.isFading&&(c=!0);for(const[s,l]of this._tiles)a.has(s)||this._releaseTile(s);return l.pool.release(t),!c}clear(){this._tiles.clear(),this._tileCache.clear(),this._visibleTiles.clear()}clearCache(){this._tileCache.clear()}_findPlaceholdersForMissingTiles(e,i){const t=[];for(const[l,r]of this._tiles)this._addPlaceholderChild(t,r,e,i);const s=t.reduce(n,0);Math.abs(1-s)<o||this._addPlaceholderParent(e.id,i)}_addPlaceholderChild(e,i,t,s){i.key.level<=t.level||!i.hasData()||c(t,i.key)&&(this._addToContainer(i),s.add(i.id),e.push(i.key.level-t.level))}_addPlaceholderParent(e,i){let t=e;for(;;){if(t=h(t),!t||i.has(t))return;const e=this._getTile(t);if(e&&e.hasData())return this._addToContainer(e),void i.add(e.id)}}_getOrAcquireTile(e){let i=this._tiles.get(e);return i||(i=this._tileCache.pop(e),i||(i=this.acquireTile(new s(e))),this._tiles.set(e,i),i)}_getTile(e){let i=this._tiles.get(e);return i||(i=this._tileCache.pop(e),i&&this._tiles.set(e,i),i)}_releaseTile(e){const i=this._tiles.get(e);this.releaseTile(i),this._removeFromContainer(i),this._tiles.delete(e),i.hasData()?this._tileCache.put(e,i,1):i.dispose()}_addToContainer(t){let s;const l=[],r=this._container;if(r.contains(t))return;const o=this._visibleTiles;for(const[i,n]of o)this._canConnectDirectly(t,n)&&l.push(n),e(s)&&this._canConnectDirectly(n,t)&&(s=n);if(i(s)){for(const e of l)s.childrenTiles.delete(e),t.childrenTiles.add(e),e.parentTile=t;s.childrenTiles.add(t),t.parentTile=s}else for(const e of l)t.childrenTiles.add(e),e.parentTile=t;o.set(t.id,t),r.addChild(t)}_removeFromContainer(e){if(this._visibleTiles.delete(e.id),this._container.removeChild(e),i(e.parentTile)){e.parentTile.childrenTiles.delete(e);for(const t of e.childrenTiles)i(e.parentTile)&&e.parentTile.childrenTiles.add(t)}for(const i of e.childrenTiles)i.parentTile=e.parentTile;e.parentTile=null,e.childrenTiles.clear()}_canConnectDirectly(e,i){const t=e.key;let{level:s,row:l,col:r,world:o}=i.key;const n=this._visibleTiles;for(;s>0;){if(s--,l>>=1,r>>=1,t.level===s&&t.row===l&&t.col===r&&t.world===o)return!0;if(n.has(`${s}/${l}/${r}/${o}`))return!1}return!1}_updateCacheSize(e){const i=e.state.size;if(i[0]===this._viewSize[0]&&i[1]===this._viewSize[1])return;const t=Math.ceil(i[0]/r)+1,s=Math.ceil(i[1]/r)+1;this._viewSize[0]=i[0],this._viewSize[1]=i[1],this._tileCache.maxSize=5*t*s}}function h(e){const[i,t,s,l]=e.split(\"/\"),r=parseInt(i,10);return 0===r?null:`${r-1}/${parseInt(t,10)>>1}/${parseInt(s,10)>>1}/${parseInt(l,10)}`}function c(e,i){const t=i.level-e.level;return e.row===i.row>>t&&e.col===i.col>>t&&e.world===i.world}export{a as TileManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../../chunks/mat3f32.js\";import{COLLISION_GRID_CELL_SIZE as t}from\"./config.js\";import{GridIndex as n}from\"./util.js\";function o(e,t,n,o,r,s){const{iconRotationAlignment:i,textRotationAlignment:l,iconTranslate:a,iconTranslateAnchor:c,textTranslate:h,textTranslateAnchor:u}=o;let d=0;for(const y of e.colliders){const[e,o]=0===y.partIndex?a:h,x=0===y.partIndex?c:u,g=y.minLod<=s&&s<=y.maxLod;d+=g?0:1,y.enabled=g,y.xScreen=y.xTile*r[0]+y.yTile*r[3]+r[6],y.yScreen=y.xTile*r[1]+y.yTile*r[4]+r[7],0===x?(y.xScreen+=n*e-t*o,y.yScreen+=t*e+n*o):(y.xScreen+=e,y.yScreen+=o),1===(0===y.partIndex?i:l)?(y.dxScreen=y.dxPixels,y.dyScreen=y.dyPixels):(y.dxScreen=n*(y.dxPixels+y.width/2)-t*(y.dyPixels+y.height/2)-y.width/2,y.dyScreen=t*(y.dxPixels+y.width/2)+n*(y.dyPixels+y.height/2)-y.height/2)}e.colliders.length>0&&d===e.colliders.length&&(e.unique.show=!1)}class r{constructor(o,r,s,i,l,a){this._symbols=o,this._styleRepository=i,this._zoom=l,this._currentLayerCursor=0,this._currentSymbolCursor=0,this._styleProps=new Map,this._allNeededMatrices=new Map,this._gridIndex=new n(r,s,t),this._si=Math.sin(Math.PI*a/180),this._co=Math.cos(Math.PI*a/180);for(const t of o)for(const n of t.symbols)this._allNeededMatrices.has(n.tile)||this._allNeededMatrices.set(n.tile,e(n.tile.transforms.tileUnitsToPixels))}work(e){const t=this._gridIndex;function n(e){const n=e.xScreen+e.dxScreen,o=e.yScreen+e.dyScreen,r=n+e.width,s=o+e.height,[i,l,a,c]=t.getCellSpan(n,o,r,s);for(let h=l;h<=c;h++)for(let e=i;e<=a;e++){const i=t.cells[h][e];for(const e of i){const t=e.xScreen+e.dxScreen,i=e.yScreen+e.dyScreen,l=t+e.width,a=i+e.height;if(!(r<t||n>l||s<i||o>a))return!0}}return!1}const r=performance.now();for(;this._currentLayerCursor<this._symbols.length;this._currentLayerCursor++,this._currentSymbolCursor=0){const t=this._symbols[this._currentLayerCursor],s=this._getProperties(t.styleLayerUID);for(;this._currentSymbolCursor<t.symbols.length;this._currentSymbolCursor++){if(this._currentSymbolCursor%100==99&&performance.now()-r>e)return!1;const i=t.symbols[this._currentSymbolCursor];if(!i.unique.show)continue;o(i,this._si,this._co,s,this._allNeededMatrices.get(i.tile),this._zoom);const l=i.unique;if(!l.show)continue;const{iconAllowOverlap:a,iconIgnorePlacement:c,textAllowOverlap:h,textIgnorePlacement:u}=s;for(const e of i.colliders){if(!e.enabled)continue;const t=l.parts[e.partIndex];if(!t.show)continue;!(e.partIndex?h:a)&&n(e)&&(e.hard?l.show=!1:t.show=!1)}if(l.show)for(const e of i.colliders){if(!e.enabled)continue;if(e.partIndex?u:c)continue;if(!l.parts[e.partIndex].show)continue;const t=e.xScreen+e.dxScreen,n=e.yScreen+e.dyScreen,o=t+e.width,r=n+e.height,[s,i,a,h]=this._gridIndex.getCellSpan(t,n,o,r);for(let l=i;l<=h;l++)for(let t=s;t<=a;t++){this._gridIndex.cells[l][t].push(e)}}}}return!0}_getProperties(e){const t=this._styleProps.get(e);if(t)return t;const n=this._zoom,o=this._styleRepository.getStyleLayerByUID(e),r=0!==o.getLayoutValue(\"symbol-placement\",n);let s=o.getLayoutValue(\"icon-rotation-alignment\",n);2===s&&(s=r?0:1);let i=o.getLayoutValue(\"text-rotation-alignment\",n);2===i&&(i=r?0:1);const l=o.getPaintValue(\"icon-translate\",n),a=o.getPaintValue(\"icon-translate-anchor\",n),c=o.getPaintValue(\"text-translate\",n),h=o.getPaintValue(\"text-translate-anchor\",n),u={iconAllowOverlap:o.getLayoutValue(\"icon-allow-overlap\",n),iconIgnorePlacement:o.getLayoutValue(\"icon-ignore-placement\",n),textAllowOverlap:o.getLayoutValue(\"text-allow-overlap\",n),textIgnorePlacement:o.getLayoutValue(\"text-ignore-placement\",n),iconRotationAlignment:s,textRotationAlignment:i,iconTranslateAnchor:a,iconTranslate:l,textTranslateAnchor:h,textTranslate:c};return this._styleProps.set(e,u),u}}export{r as CollisionJob};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../../core/maybe.js\";import{FADE_DURATION as e}from\"./config.js\";function t(o,e){if(o.priority-e.priority)return o.priority-e.priority;const t=o.tile.key,i=e.tile.key;return t.world-i.world?t.world-i.world:t.level-i.level?t.level-i.level:t.row-i.row?t.row-i.row:t.col-i.col?t.col-i.col:o.xTile-e.xTile?o.xTile-e.xTile:o.yTile-e.yTile}class i{constructor(o,e,t,i,s,r){this._visibleTiles=o,this._symbolRepository=e,this._createCollisionJob=t,this._assignTileSymbolsOpacity=i,this._symbolLayerSorter=s,this._isLayerVisible=r,this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}get running(){return this._running}setScreenSize(o,e){this._screenWidth===o&&this._screenHeight===e||this.restart(),this._screenWidth=o,this._screenHeight=e}restart(){this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}continue(o){if(this._selectionJob||(this._selectionJob=this._createSelectionJob()),!this._selectionJobCompleted){const e=performance.now();if(!this._selectionJob.work(o))return!1;if(this._selectionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._collisionJob||(this._collisionJob=this._createCollisionJob(this._selectionJob.sortedSymbols,this._screenWidth,this._screenHeight)),!this._collisionJobCompleted){const e=performance.now();if(!this._collisionJob.work(o))return!1;if(this._collisionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._opacityJob||(this._opacityJob=this._createOpacityJob()),!this._opacityJobCompleted){const e=performance.now();if(!this._opacityJob.work(o))return!1;if(this._opacityJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}return this._running=!1,!0}_createSelectionJob(){const o=this._symbolRepository.uniqueSymbols,e=[];let i=0,s=0;const r=this._isLayerVisible;function n(n){let l;const c=performance.now();for(;s<o.length;s++,i=0){const t=o[s],h=t.styleLayerUID;if(!r(h)){e[s]||(e[s]={styleLayerUID:h,symbols:[]});continue}e[s]=e[s]||{styleLayerUID:h,symbols:[]};const a=e[s];for(;i<t.uniqueSymbols.length;i++){if(l=t.uniqueSymbols[i],i%100==99&&performance.now()-c>n)return!1;let o=null,e=!1,s=!1;for(const t of l.tileSymbols)if(t.selectedForRendering=!1,!s||!e){const i=t.tile;(!o||i.isCoverage||i.neededForCoverage&&!e)&&(o=t,(i.neededForCoverage||i.isCoverage)&&(s=!0),i.isCoverage&&(e=!0))}if(o.selectedForRendering=!0,s){a.symbols.push(o),l.show=!0;for(const o of l.parts)o.show=!0}else l.show=!1}}for(const o of e)o.symbols.sort(t);return!0}const l=this._symbolLayerSorter;return{work:n,get sortedSymbols(){return e.sort(l)}}}_createOpacityJob(){const e=this._assignTileSymbolsOpacity,t=this._visibleTiles;let i=0;function r(o,t){const i=o.symbols;for(const[e,r]of i)s(r,t);e(o,t);for(const e of o.childrenTiles)r(e,t)}return{work(e){const s=performance.now();for(;i<t.length;i++){if(performance.now()-s>e)return!1;const n=t[i];if(o(n.parentTile))continue;r(n,performance.now())}return!0}}}}function s(o,t){for(const i of o){const o=i.unique;for(const i of o.parts){const s=i.targetOpacity>.5?1:-1;i.startOpacity+=s*((t-i.startTime)/e),i.startOpacity=Math.min(Math.max(i.startOpacity,0),1),i.startTime=t,i.targetOpacity=o.show&&i.show?1:0}}}export{i as SymbolDeclutterer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as s}from\"../../../../../core/maybe.js\";import{GridIndex as o,tileCoordChange as t}from\"./util.js\";const l=32,i=8,n=64;class r{constructor(e,s,o){this.tileCoordRange=e,this._visibleTiles=s,this._createUnique=o,this._tiles=new Map,this._uniqueSymbolsReferences=new Map}get uniqueSymbols(){return e(this._uniqueSymbolLayerArray)&&(this._uniqueSymbolLayerArray=this._createUniqueSymbolLayerArray()),this._uniqueSymbolLayerArray}add(e,s){this._uniqueSymbolLayerArray=null;let t=this._tiles.get(e.id);t||(t={symbols:new Map},this._tiles.set(e.id,t));const r=new Map;if(s)for(const o of s)t.symbols.has(o)&&(r.set(o,t.symbols.get(o)),t.symbols.delete(o));else for(const[o,l]of e.layerData)t.symbols.has(o)&&(r.set(o,t.symbols.get(o)),t.symbols.delete(o));this._removeSymbols(r);const y=e.symbols,a=new Map;for(const[f,c]of y){let e=c.length;if(e>=l){let s=this.tileCoordRange;do{s/=2,e/=4}while(e>i&&s>n);const l=new o(this.tileCoordRange,this.tileCoordRange,s);a.set(f,{flat:c,index:l}),t.symbols.set(f,{flat:c,index:l});for(const e of c)l.getCell(e.xTile,e.yTile).push(e)}else a.set(f,{flat:c}),t.symbols.set(f,{flat:c})}this._addSymbols(e.key,y)}deleteStyleLayers(e){this._uniqueSymbolLayerArray=null;for(const[s,o]of this._tiles){const t=new Map;for(const s of e)o.symbols.has(s)&&(t.set(s,o.symbols.get(s)),o.symbols.delete(s));this._removeSymbols(t),0===o.symbols.size&&this._tiles.delete(s)}}removeTile(e){this._uniqueSymbolLayerArray=null;const s=this._tiles.get(e.id);if(!s)return;const o=new Map;for(const[t,l]of e.symbols)s.symbols.has(t)&&(o.set(t,s.symbols.get(t)),s.symbols.delete(t));this._removeSymbols(o),0===s.symbols.size&&this._tiles.delete(e.id)}_removeSymbols(e){for(const[s,{flat:o}]of e)for(const e of o){const o=e.unique,t=o.tileSymbols,l=t.length-1;for(let s=0;s<l;s++)if(t[s]===e){t[s]=t[l];break}if(t.length=l,0===l){const e=this._uniqueSymbolsReferences.get(s);e.delete(o),0===e.size&&this._uniqueSymbolsReferences.delete(s)}e.unique=null}}_addSymbols(s,o){if(0===o.size)return;const t=this._visibleTiles;for(const e of t)e.parentTile||e.key.world!==s.world||e.key.level===s.level&&!e.key.equals(s)||this._matchSymbols(e,s,o);for(const[l,i]of o)for(const s of i)if(e(s.unique)){const e=this._createUnique();s.unique=e,e.tileSymbols.push(s);let o=this._uniqueSymbolsReferences.get(l);o||(o=new Set,this._uniqueSymbolsReferences.set(l,o)),o.add(e)}}_matchSymbols(e,o,l){if(e.key.level>o.level){const s=e.key.level-o.level;if(e.key.row>>s!==o.row||e.key.col>>s!==o.col)return}if(o.level>e.key.level){const s=o.level-e.key.level;if(o.row>>s!==e.key.row||o.col>>s!==e.key.col)return}if(o.equals(e.key)){for(const s of e.childrenTiles)this._matchSymbols(s,o,l);return}const i=new Map;for(const[n,r]of l){const l=[];for(const s of r){const i=t(this.tileCoordRange,s.xTile,o.level,o.col,e.key.level,e.key.col),n=t(this.tileCoordRange,s.yTile,o.level,o.row,e.key.level,e.key.row);i>=0&&i<this.tileCoordRange&&n>=0&&n<this.tileCoordRange&&l.push({symbol:s,xTransformed:i,yTransformed:n})}const y=[],a=e.key.level<o.level?1:1<<e.key.level-o.level,f=this._tiles.get(e.id).symbols.get(n);if(f){const e=f.flat;for(const o of l){let t,l=!1;const i=o.xTransformed,n=o.yTransformed;t=s(f.index)?f.index.getCell(i,n):e;const r=o.symbol,c=r.hash;for(const e of t)if(c===e.hash&&Math.abs(i-e.xTile)<=a&&Math.abs(n-e.yTile)<=a){const s=e.unique;r.unique=s,s.tileSymbols.push(r),l=!0;break}l||y.push(r)}}y.length>0&&i.set(n,y)}for(const s of e.childrenTiles)this._matchSymbols(s,o,i)}_createUniqueSymbolLayerArray(){const e=this._uniqueSymbolsReferences,s=new Array(e.size);let o,t=0;for(const[l,i]of e){const e=new Array(i.size);o=0;for(const s of i)e[o++]=s;s[t]={styleLayerUID:l,uniqueSymbols:e},t++}return s}}export{r as SymbolRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{DECLUTTER_BUDGET as i,FADE_DURATION as s}from\"./config.js\";import{VTLUniqueSymbol as o}from\"./core.js\";import{writeOpacityToBuffers as r}from\"./util.js\";import{CollisionJob as l}from\"./jobs.js\";import{SymbolDeclutterer as a}from\"./SymbolDeclutterer.js\";import{SymbolRepository as c}from\"./SymbolRepository.js\";const h=.5;class n extends e{constructor(t,e){super(),this.styleRepository=t,this._tileToHandle=new Map,this._viewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._declutterViewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._completed=!1,this._symbolRepository=new c(4096,e,(()=>new o)),this._symbolDeclutterer=new a(e,this._symbolRepository,((t,e,i)=>new l(t,e,i,this.styleRepository,this._zoom,this._viewState.rotation)),((t,e)=>{t.allSymbolsFadingOut=!0,t.lastOpacityUpdate=e,r(t,e,!0),t.decluttered=!0,t.requestRender()}),((t,e)=>this.styleRepository.getStyleLayerByUID(t.styleLayerUID).z-this.styleRepository.getStyleLayerByUID(e.styleLayerUID).z),(t=>{const e=this.styleRepository.getStyleLayerByUID(t).getLayoutProperty(\"visibility\");return!e||1!==e.getValue()}))}addTile(t){t.decluttered=!1,this._tileToHandle.set(t,t.on(\"symbols-changed\",(()=>{this._symbolRepository.add(t),this.restartDeclutter()}))),this._symbolRepository.add(t),this.restartDeclutter()}removeTile(t){const e=this._tileToHandle.get(t);e&&(this._symbolRepository.removeTile(t),this.restartDeclutter(),e.remove(),this._tileToHandle.delete(t))}update(t,e){return this._zoom=t,this._viewState={scale:e.scale,rotation:e.rotation,center:[e.center[0],e.center[1]],size:[e.size[0],e.size[1]]},this._continueDeclutter(),this._completed}restartDeclutter(){this._completed=!1,this._symbolDeclutterer.restart(),this._notifyUnstable()}clear(){this._completed=!1,this._symbolRepository=null,this._symbolDeclutterer.restart(),this._tileToHandle.forEach((t=>t.remove())),this._tileToHandle.clear()}get stale(){return this._zoom!==this._declutterZoom||this._viewState.size[0]!==this._declutterViewState.size[0]||this._viewState.size[1]!==this._declutterViewState.size[1]||this._viewState.scale!==this._declutterViewState.scale||this._viewState.rotation!==this._declutterViewState.rotation}deleteStyleLayers(t){this._symbolRepository.deleteStyleLayers(t)}_continueDeclutter(){this._completed&&!this.stale||(this._symbolDeclutterer.running||(this._declutterZoom=this._zoom,this._declutterViewState.center[0]=this._viewState.center[0],this._declutterViewState.center[1]=this._viewState.center[1],this._declutterViewState.rotation=this._viewState.rotation,this._declutterViewState.scale=this._viewState.scale,this._declutterViewState.size[0]=this._viewState.size[0],this._declutterViewState.size[1]=this._viewState.size[1],this._symbolDeclutterer.restart()),this._symbolDeclutterer.setScreenSize(this._viewState.size[0],this._viewState.size[1]),this._completed=this._symbolDeclutterer.continue(i),this._completed&&this._scheduleNotifyStable())}_scheduleNotifyStable(){t(this._stableNotificationHandle)&&clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=setTimeout((()=>{this._stableNotificationHandle=null,this.emit(\"fade-complete\")}),(1+h)*s)}_notifyUnstable(){t(this._stableNotificationHandle)&&(clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=null),this.emit(\"fade-start\")}}export{n as SymbolFader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as s}from\"../../../../core/maybe.js\";import{createResolver as r}from\"../../../../core/promiseUtils.js\";import{create as i}from\"../../../../geometry/support/aaBoundingRect.js\";import o from\"../../tiling/TileKey.js\";import l from\"../../tiling/TileCoverage.js\";import{TiledDisplayObject as n}from\"../webgl/TiledDisplayObject.js\";import{WGLDrawPhase as a}from\"../webgl/enums.js\";import d from\"../webgl/TileContainer.js\";import{drawGridIndex as h,drawColliders as c}from\"./decluttering/debugging.js\";import{SymbolFader as y}from\"./decluttering/SymbolFader.js\";const u=1e-6;function p(e,t){if(e){const s=e.getLayoutProperty(\"visibility\");if(!s||1!==s.getValue()&&(void 0===e.minzoom||e.minzoom<t+u)&&(void 0===e.maxzoom||e.maxzoom>=t-u))return!0}return!1}class m extends d{constructor(e){super(e),this._backgroundTiles=[],this._pointToCallbacks=new Map,this._fading=!1}destroy(){this.removeAllChildren(),this._spriteMosaic&&(this._spriteMosaic.dispose(),this._spriteMosaic=null),this._glyphMosaic&&(this._glyphMosaic.dispose(),this._glyphMosaic=null),e(this._symbolFader)&&(this._symbolFader.clear(),this._symbolFader=null),this._styleRepository=null,this._backgroundTiles=[],this._pointToCallbacks.clear()}setStyleResources(e,r,i){if(this._spriteMosaic=e,this._glyphMosaic=r,this._styleRepository=i,t(this._symbolFader)){const e=new y(this._styleRepository,this.children);e.on(\"fade-start\",(()=>{this.emit(\"fade-start\"),this._fading=!0,this.requestRender()})),e.on(\"fade-complete\",(()=>{this.emit(\"fade-complete\"),this._fading=!1,this.requestRender()})),this._symbolFader=e}s(this._symbolFader).styleRepository=i}deleteStyleLayers(t){e(this._symbolFader)&&this._symbolFader.deleteStyleLayers(t)}async hitTest(e,t){const s=[e,t],i=r();return this._pointToCallbacks.set(s,i),this.requestRender(),i.promise}enterTileInvalidation(){for(const e of this.children)e.invalidating=!0}createRenderParams(e){return{...super.createRenderParams(e),renderPass:null,styleLayer:null,styleLayerUID:-1,glyphMosaic:this._glyphMosaic,spriteMosaic:this._spriteMosaic,hasClipping:!!this._clippingInfos}}doRender(e){!this.visible||e.drawPhase!==a.MAP&&e.drawPhase!==a.DEBUG||void 0===this._spriteMosaic||super.doRender(e)}addChild(t){return super.addChild(t),e(this._symbolFader)?this._symbolFader.addTile(t):t.decluttered=!0,this.requestRender(),t}removeChild(t){return e(this._symbolFader)&&this._symbolFader.removeTile(t),this.requestRender(),super.removeChild(t)}renderChildren(e){if(e.drawPhase!==a.DEBUG){if(this._doRender(e),this._pointToCallbacks.size>0){const{context:t}=e,s=t.getBoundFramebufferObject();e.drawPhase=a.HITTEST;const r=e.painter.effects.hittest;r.bind(e),this._doRender(e),r.draw(e,this._pointToCallbacks),t.bindFramebuffer(s)}}else super.renderChildren(e)}removeAllChildren(){for(let t=0;t<this.children.length;t++){const s=this.children[t];e(this._symbolFader)&&this._symbolFader.removeTile(s),s.dispose()}super.removeAllChildren()}getStencilTarget(){return this.children.filter((e=>e.neededForCoverage&&e.hasData()))}restartDeclutter(){e(this._symbolFader)&&this._symbolFader.restartDeclutter()}_doRender(t){const{context:s}=t,r=this._styleRepository;if(!r)return;const i=r.layers;let o=!0;t.drawPhase===a.HITTEST&&(o=!1),r.backgroundBucketIds.length>0&&(t.renderPass=\"background\",this._renderBackgroundLayers(t,r.backgroundBucketIds)),super.renderChildren(t),t.drawPhase===a.MAP&&this._fade(t.displayLevel,t.state);const l=this.children.filter((e=>e.visible&&e.hasData()));if(l&&0!==l.length){for(const e of l)e.triangleCount=0;s.setStencilWriteMask(0),s.setColorMask(!0,!0,!0,!0),s.setStencilOp(7680,7680,7681),s.setStencilTestEnabled(!0),s.setBlendingEnabled(!1),s.setDepthTestEnabled(!0),s.setDepthWriteEnabled(!0),s.setDepthFunction(515),s.setClearDepth(1),s.clear(s.gl.DEPTH_BUFFER_BIT),t.renderPass=\"opaque\";for(let e=i.length-1;e>=0;e--)this._renderStyleLayer(i[e],t,l);s.setDepthWriteEnabled(!1),s.setBlendingEnabled(o),s.setBlendFunctionSeparate(1,771,1,771),t.renderPass=\"translucent\";for(let e=0;e<i.length;e++)this._renderStyleLayer(i[e],t,l);s.setDepthTestEnabled(!1),t.renderPass=\"symbol\";for(let e=0;e<i.length;e++)this._renderStyleLayer(i[e],t,l);if(s.bindVAO(),s.setStencilTestEnabled(!0),s.setBlendingEnabled(!0),t.drawPhase===a.MAP){const t=window.COLLISION_DEBUG_CTX;if(t&&e(this._symbolFader)&&(t.clearRect(0,0,t.canvas.width,t.canvas.height),!this._fading||window.COLLISION_XRAY))for(const e of this.children)if(e.symbols){const s=[];if(e.symbols.forEach((e=>{s.push(...e)})),window.COLLISION_SHOW_GRID){var n,d,y;const e=null==(n=this._symbolFader)||null==(d=n._symbolDeclutterer)||null==(y=d._collisionJob)?void 0:y._gridIndex;e&&h(t,e)}c(t,s)}}}}_fade(t,s){e(this._symbolFader)&&(this._symbolFader.update(t,s)||this.requestRender())}_renderStyleLayer(e,t,s){const{painter:r,renderPass:i}=t;if(void 0===e)return;const o=e.getLayoutProperty(\"visibility\");if(o&&1===o.getValue())return;let l;switch(e.type){case 0:return;case 1:if(\"opaque\"!==i&&\"translucent\"!==t.renderPass)return;l=\"vtlFill\";break;case 2:if(\"translucent\"!==i)return;l=\"vtlLine\";break;case 4:if(\"symbol\"!==i)return;l=\"vtlCircle\";break;case 3:if(\"symbol\"!==i)return;l=\"vtlSymbol\"}if(s=3===e.type?s.filter((e=>e.decluttered)):s.filter((e=>e.neededForCoverage)),\"vtlSymbol\"!==l){const r=t.displayLevel;if(0===s.length||void 0!==e.minzoom&&e.minzoom>=r+u||void 0!==e.maxzoom&&e.maxzoom<r-u)return}const n=e.uid;t.styleLayerUID=n,t.styleLayer=e;for(const a of s)if(a.layerData.has(n)){r.renderObjects(t,s,l);break}}_renderBackgroundLayers(t,s){const{context:r,displayLevel:d,painter:h,state:c}=t,y=this._styleRepository;let u=!1;for(const e of s)if(p(y.getLayerById(e),d)){u=!0;break}if(!u)return;const m=this._tileInfoView.getTileCoverage(t.state,0,\"smallest\"),{spans:f,lodInfo:_}=m,{level:b}=_,g=i(),T=[];if(this._renderPasses){const s=this._renderPasses[0];e(this._clippingInfos)&&(s.brushes[0].prepareState(t,this._clippingInfos[0]),s.brushes[0].drawMany(t,this._clippingInfos))}const v=this._backgroundTiles;let C,F=0;for(const{row:e,colFrom:l,colTo:a}of f)for(let t=l;t<=a;t++){if(F<v.length)C=v[F],C.key.set(b,e,_.normalizeCol(t),_.getWorldForColumn(t)),this._tileInfoView.getTileBounds(g,C.key,!1),C.bounds=g,C.coords[0]=g[0],C.coords[1]=g[3];else{const s=new o(b,e,_.normalizeCol(t),_.getWorldForColumn(t));C=new n(s,this._tileInfoView.getTileBounds(i(),s),[512,512],[4096,4096]),v.push(C)}C.setTransform(c,this._tileInfoView.getTileResolution(C.key)),T.push(C),F++}r.setStencilWriteMask(0),r.setColorMask(!0,!0,!0,!0),r.setStencilOp(7680,7680,7681),r.setStencilFunction(514,0,255);let w=!0;t.drawPhase===a.HITTEST&&(w=!1),r.setStencilTestEnabled(w);for(const e of s){const s=y.getLayerById(e);p(s,d)&&(t.styleLayerUID=s.uid,t.styleLayer=s,h.renderObjects(t,T,\"vtlBackground\"))}l.pool.release(m)}}export{m as VectorTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../layers/support/TileInfo.js\";import l from\"./TileKey.js\";import s from\"./TileInfoView.js\";class t extends s{constructor(){super(...arguments),this._fullCacheLodInfos=null,this._levelByScale={}}getTileParentId(e){const s=l.pool.acquire(e),t=0===s.level?null:l.getId(s.level-1,s.row>>1,s.col>>1,s.world);return l.pool.release(s),t}getTileCoverage(e,l,s){const t=super.getTileCoverage(e,l,s);if(!t)return t;const o=1<<t.lodInfo.level;return t.spans=t.spans.filter((e=>e.row>=0&&e.row<o)),t}scaleToLevel(e){if(this._fullCacheLodInfos||this._initializeFullCacheLODs(this._lodInfos),this._levelByScale[e])return this._levelByScale[e];{const l=this._fullCacheLodInfos;if(e>l[0].scale)return l[0].level;let s,t;for(let o=0;o<l.length-1;o++)if(t=l[o+1],e>t.scale)return s=l[o],s.level+(s.scale-e)/(s.scale-t.scale);return l[l.length-1].level}}_initializeFullCacheLODs(l){let s;if(0===l[0].level)s=l.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})));else{const l=this.tileInfo.size[0],t=this.tileInfo.spatialReference;s=e.create({size:l,spatialReference:t}).lods.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})))}for(let e=0;e<s.length;e++)this._levelByScale[s[e].scale]=s[e].level;this._fullCacheLodInfos=s}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isNone as t}from\"../../../core/maybe.js\";import i from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{isAbortError as l,createAbortController as n}from\"../../../core/promiseUtils.js\";import o from\"../../../Graphic.js\";import h from\"../../../core/Handles.js\";import{create as u}from\"../../../geometry/support/aaBoundingRect.js\";import{diff as y,hasDiff as c}from\"../../../core/accessorSupport/diffUtils.js\";import p from\"../engine/vectorTiles/style/StyleRepository.js\";import d from\"../tiling/TileQueue.js\";import{VectorTile as _}from\"../engine/vectorTiles/VectorTile.js\";import f from\"../../layers/LayerView.js\";import{LayerView2DMixin as g}from\"./LayerView2D.js\";import{TileHandler as m}from\"../engine/vectorTiles/TileHandler.js\";import{TileManager as T}from\"../engine/vectorTiles/TileManager.js\";import{VectorTileContainer as v}from\"../engine/vectorTiles/VectorTileContainer.js\";import C from\"../tiling/TileInfoViewPOT.js\";const w=i.getLogger(\"esri.views.2d.layers.VectorTileLayerView2D\");let Q=class extends(g(f)){constructor(){super(...arguments),this._styleChanges=[],this._handles=new h,this._fetchQueue=null,this._parseQueue=null,this._isTileHandlerReady=!1,this.fading=!1}initialize(){const e=this.layer.tileInfo;if(!(e&&e.spatialReference).equals(this.view.spatialReference))return void this.addResolvingPromise(Promise.reject(new a(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this layer does not meet the requirements of the view\",{layer:this.layer})));const{style:t,spriteUrl:i,glyphsUrl:s}=this.layer.currentStyleInfo;this._styleRepository=new p(t,{spriteUrl:i,glyphsUrl:s}),this._tileInfoView=new C(this.layer.tileInfo,this.layer.fullExtent),this._vectorTileContainer=new v(this._tileInfoView),this._tileHandler=new m(this.layer,this._styleRepository,window.devicePixelRatio||1),this.container.addChild(this._vectorTileContainer),this.handles.add([this._vectorTileContainer.on(\"fade-start\",(()=>{this.fading=!0,this.notifyChange(\"updating\"),this.requestUpdate()})),this._vectorTileContainer.on(\"fade-complete\",(()=>{this.fading=!1,this.notifyChange(\"updating\"),this.requestUpdate()}))])}destroy(){var e;this._stop(),this.container.removeAllChildren(),this._vectorTileContainer&&(this._vectorTileContainer.destroy(),this._vectorTileContainer=null),null==(e=this._tileHandler)||e.destroy(),this._tileHandler=null}async hitTest(e,t){if(this.suspended||!this._tileHandlerPromise)return null;await this._tileHandlerPromise;const i=await this._vectorTileContainer.hitTest(e,t);if(!i||0===i.length)return null;const s=i[0]-1,r=this._styleRepository,a=r.getStyleLayerByUID(s);if(!a)return null;const l=r.getStyleLayerIndex(a.id),n=new o({attributes:{layerId:l,layerName:a.id,layerUID:s}});return n.layer=this.layer,n.sourceLayer=this.layer,n}update(e){if(this._tileHandlerPromise&&this._isTileHandlerReady)return e.pixelRatio!==this._tileHandler.devicePixelRatio?(this._start(),void(this._tileHandler.devicePixelRatio=e.pixelRatio)):void(this._styleChanges.length>0?this._tileHandlerPromise=this._applyStyleChanges():(this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.state=e.state,this._parseQueue.state=e.state,this._tileManager.update(e)||this.requestUpdate(),this._parseQueue.resume(),this._fetchQueue.resume()))}attach(){this._start(),this._handles.add([this.layer.on(\"paint-change\",(e=>{if(e.isDataDriven)this._styleChanges.push({type:0,data:e}),this.notifyChange(\"updating\"),this.requestUpdate();else{const t=this._styleRepository,i=t.getLayerById(e.layerName);if(!i)return;const s=3===i.type;t.setPaintProperties(e.layerName,e.paint),s&&this._vectorTileContainer.restartDeclutter(),this._vectorTileContainer.requestRender()}})),this.layer.on(\"layout-change\",(e=>{const i=this._styleRepository,s=i.getLayerById(e.layer);if(!s)return;const r=y(s.layout,e.layout);if(!t(r)){if(c(r,\"visibility\")&&1===H(r))return i.setLayoutProperties(e.layer,e.layout),3===s.type&&this._vectorTileContainer.restartDeclutter(),void this._vectorTileContainer.requestRender();this._styleChanges.push({type:1,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()}})),this.layer.on(\"style-layer-visibility-change\",(e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);i&&(t.setStyleLayerVisibility(e.layer,e.visibility),3===i.type&&this._vectorTileContainer.restartDeclutter(),this._vectorTileContainer.requestRender())})),this.layer.on(\"style-layer-change\",(e=>{this._styleChanges.push({type:2,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()})),this.layer.on(\"delete-style-layer\",(e=>{this._styleChanges.push({type:3,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()})),this.layer.on(\"load-style\",(()=>this._loadStyle()))])}detach(){this._stop(),this._handles.removeAll()}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}canResume(){let e=super.canResume();const t=this.layer;if(e&&t.currentStyleInfo){const i=this.view.scale,s=t.currentStyleInfo;if(s&&s.layerDefinition){const t=s.layerDefinition;t.minScale&&t.minScale<i&&(e=!1),t.maxScale&&t.maxScale>i&&(e=!1)}}return e}isUpdating(){const e=this._vectorTileContainer.children;return!this._isTileHandlerReady||!this._fetchQueue||!this._parseQueue||this._fetchQueue.updating||this._parseQueue.updating||e.length>0&&e.filter((e=>e.invalidating)).length>0||this.fading}acquireTile(e){const t=this._createVectorTile(e);return this._tileHandlerPromise.then((()=>{this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e}))).then((e=>{t.once(\"attach\",(()=>this.requestUpdate())),e&&(t.setData(e.tileData),this.requestUpdate(),this.notifyChange(\"updating\"))})).catch((e=>{this.notifyChange(\"updating\"),l(e)||w.error(e)}))})),t}releaseTile(e){const t=e.key.id;this._fetchQueue.abort(t),this._parseQueue.abort(t),this.requestUpdate()}_start(){if(this._stop(),this._tileManager=new T({acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView},this._vectorTileContainer),!this.layer.currentStyleInfo)return;const e=new AbortController,t=this._tileHandler.start({signal:e.signal}).then((()=>{this._fetchQueue=new d({tileInfoView:this._tileInfoView,process:(e,t)=>this._getTileData(e,t),concurrency:15}),this._parseQueue=new d({tileInfoView:this._tileInfoView,process:(e,t)=>this._parseTileData(e,t),concurrency:8}),this.requestUpdate(),this._isTileHandlerReady=!0}));this._tileHandler.spriteMosaic.then((e=>{this._vectorTileContainer.setStyleResources(e,this._tileHandler.glyphMosaic,this._styleRepository),this.requestUpdate()})),this._tileHandlerAbortController=e,this._tileHandlerPromise=t}_stop(){if(!this._tileHandlerAbortController||!this._vectorTileContainer)return;const e=this._tileHandlerAbortController;e&&e.abort(),this._tileHandlerPromise=null,this._isTileHandlerReady=!1,this._fetchQueue&&(this._fetchQueue.destroy(),this._fetchQueue=null),this._parseQueue&&(this._parseQueue.destroy(),this._parseQueue=null),this._tileManager&&(this._tileManager.destroy(),this._tileManager=null),this._vectorTileContainer.removeAllChildren()}async _getTileData(e,t){const i=await this._tileHandler.fetchTileData(e,t);return this.notifyChange(\"updating\"),i}async _parseTileData(e,t){return this._tileHandler.parseTileData(e,t)}async _applyStyleChanges(){this._isTileHandlerReady=!1,this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.clear(),this._parseQueue.clear(),this._tileManager.clearCache();const e=this._styleChanges;try{await this._tileHandler.updateStyle(e)}catch(l){w.error(\"error applying vector-tiles style update\",l.message),this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0}const t=this._styleRepository,i=[];e.forEach((e=>{if(3!==e.type)return;const s=e.data,r=t.getLayerById(s.layerName);r&&i.push(r.uid)}));const s=[];let r;e.forEach((e=>{const i=e.type,a=e.data;switch(i){case 0:t.setPaintProperties(a.layerName,a.paint),r=a.layerName;break;case 1:t.setLayoutProperties(a.layerName,a.layout),r=a.layerName;break;case 3:return void t.deleteStyleLayer(a.layerName);case 2:t.setStyleLayer(a.layer,a.index),r=a.layer.id}const l=t.getLayerById(r);l&&s.push(l.uid)}));const a=this._vectorTileContainer.children;if(i.length>0){this._vectorTileContainer.deleteStyleLayers(i);for(const e of a)e.deleteLayerData(i)}if(this._fetchQueue.resume(),this._parseQueue.resume(),s.length>0){const e=[];for(const t of a){const i=this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e,styleLayerUIDs:s}))).then((e=>t.setData(e.tileData)));e.push(i)}await Promise.all(e)}this._styleChanges=[],this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),this.requestUpdate()}async _loadStyle(){const{style:e,spriteUrl:t,glyphsUrl:i}=this.layer.currentStyleInfo;this._isTileHandlerReady=!1,this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.clear(),this._parseQueue.clear(),this.notifyChange(\"updating\"),this._styleRepository=new p(e,{spriteUrl:t,glyphsUrl:i}),this._vectorTileContainer.destroy(),this._tileManager.clear(),this._tileHandlerAbortController.abort(),this._tileHandlerAbortController=n();const{signal:s}=this._tileHandlerAbortController;try{this._tileHandlerPromise=this._tileHandler.setStyle(this._styleRepository,e),await this._tileHandlerPromise}catch(a){if(!l(a))throw a}if(s.aborted)return this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),void this.requestUpdate();const r=await this._tileHandler.spriteMosaic;this._vectorTileContainer.setStyleResources(r,this._tileHandler.glyphMosaic,this._styleRepository),this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),this.requestUpdate()}_createVectorTile(e){const t=this._tileInfoView.getTileBounds(u(),e);return new _(e,this._styleRepository,t,[512,512])}};function H(e){if(t(e))return 0;switch(e.type){case\"partial\":return Object.keys(e.diff).length;case\"complete\":return Math.max(Object.keys(e.oldValue).length,Object.keys(e.newValue).length);case\"collection\":return Object.keys(e.added).length+Object.keys(e.changed).length+Object.keys(e.removed).length}}e([s()],Q.prototype,\"_fetchQueue\",void 0),e([s()],Q.prototype,\"_parseQueue\",void 0),e([s()],Q.prototype,\"_isTileHandlerReady\",void 0),e([s()],Q.prototype,\"suspended\",void 0),e([s()],Q.prototype,\"fading\",void 0),e([s()],Q.prototype,\"updating\",void 0),Q=e([r(\"esri.views.2d.layers.VectorTileLayerView2D\")],Q);var R=Q;export default R;\n"],"sourceRoot":""}